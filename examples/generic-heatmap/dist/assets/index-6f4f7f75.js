function _mergeNamespaces(i,o){for(var s=0;s<o.length;s++){const _=o[s];if(typeof _!="string"&&!Array.isArray(_)){for(const $ in _)if($!=="default"&&!($ in i)){const _e=Object.getOwnPropertyDescriptor(_,$);_e&&Object.defineProperty(i,$,_e.get?_e:{enumerable:!0,get:()=>_[$]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))_($);new MutationObserver($=>{for(const _e of $)if(_e.type==="childList")for(const tt of _e.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&_(tt)}).observe(document,{childList:!0,subtree:!0});function s($){const _e={};return $.integrity&&(_e.integrity=$.integrity),$.referrerpolicy&&(_e.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?_e.credentials="include":$.crossorigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function _($){if($.ep)return;$.ep=!0;const _e=s($);fetch($.href,_e)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntimeExports={},jsxRuntime$1={get exports(){return jsxRuntimeExports},set exports(i){jsxRuntimeExports=i}},reactJsxRuntime_production_min$1={},reactExports={},react={get exports(){return reactExports},set exports(i){reactExports=i}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,o,s){this.props=i,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,o,s){var _,$={},_e=null,tt=null;if(o!=null)for(_ in o.ref!==void 0&&(tt=o.ref),o.key!==void 0&&(_e=""+o.key),o)J.call(o,_)&&!L$1.hasOwnProperty(_)&&($[_]=o[_]);var j=arguments.length-2;if(j===1)$.children=s;else if(1<j){for(var nt=Array(j),st=0;st<j;st++)nt[st]=arguments[st+2];$.children=nt}if(i&&i.defaultProps)for(_ in j=i.defaultProps,j)$[_]===void 0&&($[_]=j[_]);return{$$typeof:l$3,type:i,key:_e,ref:tt,props:$,_owner:K$1.current}}function N$1(i,o){return{$$typeof:l$3,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$3}function escape$1(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return o[s]})}var P$1=/\/+/g;function Q$1(i,o){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):o.toString(36)}function R$1(i,o,s,_,$){var _e=typeof i;(_e==="undefined"||_e==="boolean")&&(i=null);var tt=!1;if(i===null)tt=!0;else switch(_e){case"string":case"number":tt=!0;break;case"object":switch(i.$$typeof){case l$3:case n$3:tt=!0}}if(tt)return tt=i,$=$(tt),i=_===""?"."+Q$1(tt,0):_,I$1($)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1($,o,s,"",function(st){return st})):$!=null&&(O$1($)&&($=N$1($,s+(!$.key||tt&&tt.key===$.key?"":(""+$.key).replace(P$1,"$&/")+"/")+i)),o.push($)),1;if(tt=0,_=_===""?".":_+":",I$1(i))for(var j=0;j<i.length;j++){_e=i[j];var nt=_+Q$1(_e,j);tt+=R$1(_e,o,s,nt,$)}else if(nt=A$2(i),typeof nt=="function")for(i=nt.call(i),j=0;!(_e=i.next()).done;)_e=_e.value,nt=_+Q$1(_e,j++),tt+=R$1(_e,o,s,nt,$);else if(_e==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(i,o,s){if(i==null)return i;var _=[],$=0;return R$1(i,_,"","",function(_e){return o.call(s,_e,$++)}),_}function T$1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(i,o,s){S$1(i,function(){o.apply(this,arguments)},s)},count:function(i){var o=0;return S$1(i,function(){o++}),o},toArray:function(i){return S$1(i,function(o){return o})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(i,o,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var _=C$1({},i.props),$=i.key,_e=i.ref,tt=i._owner;if(o!=null){if(o.ref!==void 0&&(_e=o.ref,tt=K$1.current),o.key!==void 0&&($=""+o.key),i.type&&i.type.defaultProps)var j=i.type.defaultProps;for(nt in o)J.call(o,nt)&&!L$1.hasOwnProperty(nt)&&(_[nt]=o[nt]===void 0&&j!==void 0?j[nt]:o[nt])}var nt=arguments.length-2;if(nt===1)_.children=s;else if(1<nt){j=Array(nt);for(var st=0;st<nt;st++)j[st]=arguments[st+2];_.children=j}return{$$typeof:l$3,type:i.type,key:$,ref:_e,props:_,_owner:tt}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var o=M$1.bind(null,i);return o.type=i,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,o){return{$$typeof:x$1,type:i,compare:o===void 0?null:o}};react_production_min.startTransition=function(i){var o=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(i,o){return U$1.current.useCallback(i,o)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,o){return U$1.current.useEffect(i,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,o,s){return U$1.current.useImperativeHandle(i,o,s)};react_production_min.useInsertionEffect=function(i,o){return U$1.current.useInsertionEffect(i,o)};react_production_min.useLayoutEffect=function(i,o){return U$1.current.useLayoutEffect(i,o)};react_production_min.useMemo=function(i,o){return U$1.current.useMemo(i,o)};react_production_min.useReducer=function(i,o,s){return U$1.current.useReducer(i,o,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,o,s){return U$1.current.useSyncExternalStore(i,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(i){i.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,o,s){var _,$={},_e=null,tt=null;s!==void 0&&(_e=""+s),o.key!==void 0&&(_e=""+o.key),o.ref!==void 0&&(tt=o.ref);for(_ in o)m$3.call(o,_)&&!p$3.hasOwnProperty(_)&&($[_]=o[_]);if(i&&i.defaultProps)for(_ in o=i.defaultProps,o)$[_]===void 0&&($[_]=o[_]);return{$$typeof:k$2,type:i,key:_e,ref:tt,props:$,_owner:n$2.current}}reactJsxRuntime_production_min$1.Fragment=l$2;reactJsxRuntime_production_min$1.jsx=q$2;reactJsxRuntime_production_min$1.jsxs=q$2;(function(i){i.exports=reactJsxRuntime_production_min$1})(jsxRuntime$1);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(i){reactDomExports=i}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(i){schedulerExports=i}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(Zt,Ct){var Ft=Zt.length;Zt.push(Ct);e:for(;0<Ft;){var Ht=Ft-1>>>1,tn=Zt[Ht];if(0<$(tn,Ct))Zt[Ht]=Ct,Zt[Ft]=tn,Ft=Ht;else break e}}function s(Zt){return Zt.length===0?null:Zt[0]}function _(Zt){if(Zt.length===0)return null;var Ct=Zt[0],Ft=Zt.pop();if(Ft!==Ct){Zt[0]=Ft;e:for(var Ht=0,tn=Zt.length,mn=tn>>>1;Ht<mn;){var yn=2*(Ht+1)-1,vn=Zt[yn],un=yn+1,rn=Zt[un];if(0>$(vn,Ft))un<tn&&0>$(rn,vn)?(Zt[Ht]=rn,Zt[un]=Ft,Ht=un):(Zt[Ht]=vn,Zt[yn]=Ft,Ht=yn);else if(un<tn&&0>$(rn,Ft))Zt[Ht]=rn,Zt[un]=Ft,Ht=un;else break e}}return Ct}function $(Zt,Ct){var Ft=Zt.sortIndex-Ct.sortIndex;return Ft!==0?Ft:Zt.id-Ct.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;i.unstable_now=function(){return _e.now()}}else{var tt=Date,j=tt.now();i.unstable_now=function(){return tt.now()-j}}var nt=[],st=[],ht=1,_t=null,ft=3,dt=!1,ut=!1,mt=!1,wt=typeof setTimeout=="function"?setTimeout:null,Qt=typeof clearTimeout=="function"?clearTimeout:null,Dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(Zt){for(var Ct=s(st);Ct!==null;){if(Ct.callback===null)_(st);else if(Ct.startTime<=Zt)_(st),Ct.sortIndex=Ct.expirationTime,o(nt,Ct);else break;Ct=s(st)}}function xt(Zt){if(mt=!1,Et(Zt),!ut)if(s(nt)!==null)ut=!0,Pt(pt);else{var Ct=s(st);Ct!==null&&jt(xt,Ct.startTime-Zt)}}function pt(Zt,Ct){ut=!1,mt&&(mt=!1,Qt(on),on=-1),dt=!0;var Ft=ft;try{for(Et(Ct),_t=s(nt);_t!==null&&(!(_t.expirationTime>Ct)||Zt&&!It());){var Ht=_t.callback;if(typeof Ht=="function"){_t.callback=null,ft=_t.priorityLevel;var tn=Ht(_t.expirationTime<=Ct);Ct=i.unstable_now(),typeof tn=="function"?_t.callback=tn:_t===s(nt)&&_(nt),Et(Ct)}else _(nt);_t=s(nt)}if(_t!==null)var mn=!0;else{var yn=s(st);yn!==null&&jt(xt,yn.startTime-Ct),mn=!1}return mn}finally{_t=null,ft=Ft,dt=!1}}var Vt=!1,nn=null,on=-1,bt=5,St=-1;function It(){return!(i.unstable_now()-St<bt)}function Bt(){if(nn!==null){var Zt=i.unstable_now();St=Zt;var Ct=!0;try{Ct=nn(!0,Zt)}finally{Ct?Lt():(Vt=!1,nn=null)}}else Vt=!1}var Lt;if(typeof Dt=="function")Lt=function(){Dt(Bt)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,zt=Xt.port2;Xt.port1.onmessage=Bt,Lt=function(){zt.postMessage(null)}}else Lt=function(){wt(Bt,0)};function Pt(Zt){nn=Zt,Vt||(Vt=!0,Lt())}function jt(Zt,Ct){on=wt(function(){Zt(i.unstable_now())},Ct)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Zt){Zt.callback=null},i.unstable_continueExecution=function(){ut||dt||(ut=!0,Pt(pt))},i.unstable_forceFrameRate=function(Zt){0>Zt||125<Zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<Zt?Math.floor(1e3/Zt):5},i.unstable_getCurrentPriorityLevel=function(){return ft},i.unstable_getFirstCallbackNode=function(){return s(nt)},i.unstable_next=function(Zt){switch(ft){case 1:case 2:case 3:var Ct=3;break;default:Ct=ft}var Ft=ft;ft=Ct;try{return Zt()}finally{ft=Ft}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Zt,Ct){switch(Zt){case 1:case 2:case 3:case 4:case 5:break;default:Zt=3}var Ft=ft;ft=Zt;try{return Ct()}finally{ft=Ft}},i.unstable_scheduleCallback=function(Zt,Ct,Ft){var Ht=i.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Ht+Ft:Ht):Ft=Ht,Zt){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=Ft+tn,Zt={id:ht++,callback:Ct,priorityLevel:Zt,startTime:Ft,expirationTime:tn,sortIndex:-1},Ft>Ht?(Zt.sortIndex=Ft,o(st,Zt),s(nt)===null&&Zt===s(st)&&(mt?(Qt(on),on=-1):mt=!0,jt(xt,Ft-Ht))):(Zt.sortIndex=tn,o(nt,Zt),ut||dt||(ut=!0,Pt(pt))),Zt},i.unstable_shouldYield=It,i.unstable_wrapCallback=function(Zt){var Ct=ft;return function(){var Ft=ft;ft=Ct;try{return Zt.apply(this,arguments)}finally{ft=Ft}}}})(scheduler_production_min);(function(i){i.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,o){ha(i,o),ha(i+"Capture",o)}function ha(i,o){for(ea[i]=o,i=0;i<o.length;i++)da.add(o[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,o,s,_){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return _?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,o,s,_){if(o===null||typeof o>"u"||pa(i,o,s,_))return!0;if(_)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$1(i,o,s,_,$,_e,tt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=_,this.attributeNamespace=$,this.mustUseProperty=s,this.propertyName=i,this.type=o,this.sanitizeURL=_e,this.removeEmptyString=tt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z$1[o]=new v$1(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$1(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$1(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ra,sa);z$1[o]=new v$1(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,o,s,_){var $=z$1.hasOwnProperty(o)?z$1[o]:null;($!==null?$.type!==0:_||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,$,_)&&(s=null),_||$===null?oa(o)&&(s===null?i.removeAttribute(o):i.setAttribute(o,""+s)):$.mustUseProperty?i[$.propertyName]=s===null?$.type===3?!1:"":s:(o=$.attributeName,_=$.attributeNamespace,s===null?i.removeAttribute(o):($=$.type,s=$===3||$===4&&s===!0?"":""+s,_?i.setAttributeNS(_,o,s):i.setAttribute(o,s))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+i}var Na=!1;function Oa(i,o){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(st){var _=st}Reflect.construct(i,[],o)}else{try{o.call()}catch(st){_=st}i.call(o.prototype)}else{try{throw Error()}catch(st){_=st}i()}}catch(st){if(st&&_&&typeof st.stack=="string"){for(var $=st.stack.split(`
`),_e=_.stack.split(`
`),tt=$.length-1,j=_e.length-1;1<=tt&&0<=j&&$[tt]!==_e[j];)j--;for(;1<=tt&&0<=j;tt--,j--)if($[tt]!==_e[j]){if(tt!==1||j!==1)do if(tt--,j--,0>j||$[tt]!==_e[j]){var nt=`
`+$[tt].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=tt&&0<=j);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return o=i.displayName||null,o!==null?o:Qa(i.type)||"Memo";case Ha:o=i._payload,i=i._init;try{return Qa(i(o))}catch{}}return null}function Ra(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(i){var o=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),_=""+i[o];if(!i.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var $=s.get,_e=s.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return $.call(this)},set:function(tt){_=""+tt,_e.call(this,tt)}}),Object.defineProperty(i,o,{enumerable:s.enumerable}),{getValue:function(){return _},setValue:function(tt){_=""+tt},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var s=o.getValue(),_="";return i&&(_=Ta(i)?i.checked?"true":"false":i.value),i=_,i!==s?(o.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,o){var s=o.defaultValue==null?"":o.defaultValue,_=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),i._wrapperState={initialChecked:_,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(i,o){o=o.checked,o!=null&&ta(i,"checked",o,!1)}function bb(i,o){ab(i,o);var s=Sa(o.value),_=o.type;if(s!=null)_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(_==="submit"||_==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?cb(i,o.type,s):o.hasOwnProperty("defaultValue")&&cb(i,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function db(i,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var _=o.type;if(!(_!=="submit"&&_!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,s||o===i.value||(i.value=o),i.defaultValue=o}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,o,s){(o!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,o,s,_){if(i=i.options,o){o={};for(var $=0;$<s.length;$++)o["$"+s[$]]=!0;for(s=0;s<i.length;s++)$=o.hasOwnProperty("$"+i[s].value),i[s].selected!==$&&(i[s].selected=$),$&&_&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,$=0;$<i.length;$++){if(i[$].value===s){i[$].selected=!0,_&&(i[$].defaultSelected=!0);return}o!==null||i[$].disabled||(o=i[$])}o!==null&&(o.selected=!0)}}function gb(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$2(92));if(eb(s)){if(1<s.length)throw Error(p$2(93));s=s[0]}o=s}o==null&&(o=""),s=o}i._wrapperState={initialValue:Sa(s)}}function ib(i,o){var s=Sa(o.value),_=Sa(o.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),o.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),_!=null&&(i.defaultValue=""+_)}function jb(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,_,$){MSApp.execUnsafeLocalFunction(function(){return i(o,s,_,$)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ob(i,o){if(o){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=o;return}}i.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pb[o]=pb[i]})});function rb(i,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(i)&&pb[i]?(""+o).trim():o+"px"}function sb(i,o){i=i.style;for(var s in o)if(o.hasOwnProperty(s)){var _=s.indexOf("--")===0,$=rb(s,o[s],_);s==="float"&&(s="cssFloat"),_?i.setProperty(s,$):i[s]=$}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,o){if(o){if(tb[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$2(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$2(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$2(62))}}function vb(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$2(280));var o=i.stateNode;o&&(o=Db(o),yb(i.stateNode,i.type,o))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,o=Ab;if(Ab=zb=null,Bb(i),o)for(i=0;i<o.length;i++)Bb(o[i])}}function Gb(i,o){return i(o)}function Hb(){}var Ib=!1;function Jb(i,o,s){if(Ib)return i(o,s);Ib=!0;try{return Gb(i,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,o){var s=i.stateNode;if(s===null)return null;var _=Db(s);if(_===null)return null;s=_[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(i=i.type,_=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!_;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p$2(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,o,s,_,$,_e,tt,j,nt){var st=Array.prototype.slice.call(arguments,3);try{o.apply(s,st)}catch(ht){this.onError(ht)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,o,s,_,$,_e,tt,j,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,o,s,_,$,_e,tt,j,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=st)}}function Vb(i){var o=i,s=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(s=o.return),i=o.return;while(i)}return o.tag===3?s:null}function Wb(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$2(188))}function Yb(i){var o=i.alternate;if(!o){if(o=Vb(i),o===null)throw Error(p$2(188));return o!==i?null:i}for(var s=i,_=o;;){var $=s.return;if($===null)break;var _e=$.alternate;if(_e===null){if(_=$.return,_!==null){s=_;continue}break}if($.child===_e.child){for(_e=$.child;_e;){if(_e===s)return Xb($),i;if(_e===_)return Xb($),o;_e=_e.sibling}throw Error(p$2(188))}if(s.return!==_.return)s=$,_=_e;else{for(var tt=!1,j=$.child;j;){if(j===s){tt=!0,s=$,_=_e;break}if(j===_){tt=!0,_=$,s=_e;break}j=j.sibling}if(!tt){for(j=_e.child;j;){if(j===s){tt=!0,s=_e,_=$;break}if(j===_){tt=!0,_=_e,s=$;break}j=j.sibling}if(!tt)throw Error(p$2(189))}}if(s.alternate!==_)throw Error(p$2(190))}if(s.tag!==3)throw Error(p$2(188));return s.stateNode.current===s?i:o}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$b(i);if(o!==null)return o;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,o){var s=i.pendingLanes;if(s===0)return 0;var _=0,$=i.suspendedLanes,_e=i.pingedLanes,tt=s&268435455;if(tt!==0){var j=tt&~$;j!==0?_=tc(j):(_e&=tt,_e!==0&&(_=tc(_e)))}else tt=s&~$,tt!==0?_=tc(tt):_e!==0&&(_=tc(_e));if(_===0)return 0;if(o!==0&&o!==_&&!(o&$)&&($=_&-_,_e=o&-o,$>=_e||$===16&&(_e&4194240)!==0))return o;if(_&4&&(_|=s&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=_;0<o;)s=31-oc(o),$=1<<s,_|=i[s],o&=~$;return _}function vc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,o){for(var s=i.suspendedLanes,_=i.pingedLanes,$=i.expirationTimes,_e=i.pendingLanes;0<_e;){var tt=31-oc(_e),j=1<<tt,nt=$[tt];nt===-1?(!(j&s)||j&_)&&($[tt]=vc(j,o)):nt<=o&&(i.expiredLanes|=j),_e&=~j}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var o=[],s=0;31>s;s++)o.push(i);return o}function Ac(i,o,s){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-oc(o),i[o]=s}function Bc(i,o){var s=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var _=i.eventTimes;for(i=i.expirationTimes;0<s;){var $=31-oc(s),_e=1<<$;o[$]=0,_[$]=-1,i[$]=-1,s&=~_e}}function Cc(i,o){var s=i.entangledLanes|=o;for(i=i.entanglements;s;){var _=31-oc(s),$=1<<_;$&o|i[_]&o&&(i[_]|=o),s&=~$}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,o){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(i,o,s,_,$,_e){return i===null||i.nativeEvent!==_e?(i={blockedOn:o,domEventName:s,eventSystemFlags:_,nativeEvent:_e,targetContainers:[$]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),i):(i.eventSystemFlags|=_,o=i.targetContainers,$!==null&&o.indexOf($)===-1&&o.push($),i)}function Uc(i,o,s,_,$){switch(o){case"focusin":return Lc=Tc(Lc,i,o,s,_,$),!0;case"dragenter":return Mc=Tc(Mc,i,o,s,_,$),!0;case"mouseover":return Nc=Tc(Nc,i,o,s,_,$),!0;case"pointerover":var _e=$.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,i,o,s,_,$)),!0;case"gotpointercapture":return _e=$.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,i,o,s,_,$)),!0}return!1}function Vc(i){var o=Wc(i.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){i.blockedOn=o,Ic(i.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var s=Yc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var _=new s.constructor(s.type,s);wb=_,s.target.dispatchEvent(_),wb=null}else return o=Cb(s),o!==null&&Fc(o),i.blockedOn=s,!1;o.shift()}return!0}function Zc(i,o,s){Xc(i)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function o($){return ad($,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var _=Kc[s];_.blockedOn===i&&(_.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)_=Qc[s],_.blockedOn===i&&(_.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(i,o,s,_){var $=C,_e=cd.transition;cd.transition=null;try{C=1,fd(i,o,s,_)}finally{C=$,cd.transition=_e}}function gd(i,o,s,_){var $=C,_e=cd.transition;cd.transition=null;try{C=4,fd(i,o,s,_)}finally{C=$,cd.transition=_e}}function fd(i,o,s,_){if(dd){var $=Yc(i,o,s,_);if($===null)hd(i,o,_,id,s),Sc(i,_);else if(Uc($,i,o,s,_))_.stopPropagation();else if(Sc(i,_),o&4&&-1<Rc.indexOf(i)){for(;$!==null;){var _e=Cb($);if(_e!==null&&Ec(_e),_e=Yc(i,o,s,_),_e===null&&hd(i,o,_,id,s),_e===$)break;$=_e}$!==null&&_.stopPropagation()}else hd(i,o,_,null,s)}}var id=null;function Yc(i,o,s,_){if(id=null,i=xb(_),i=Wc(i),i!==null)if(o=Vb(i),o===null)i=null;else if(s=o.tag,s===13){if(i=Wb(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,o=ld,s=o.length,_,$="value"in kd?kd.value:kd.textContent,_e=$.length;for(i=0;i<s&&o[i]===$[i];i++);var tt=s-i;for(_=1;_<=tt&&o[s-_]===$[_e-_];_++);return md=$.slice(i,1<_?1-_:void 0)}function od(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function o(s,_,$,_e,tt){this._reactName=s,this._targetInst=$,this.type=_,this.nativeEvent=_e,this.target=tt,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(s=i[j],this[j]=s?s(_e):_e[j]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Od[i])?!!o[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var o=Md[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(i,o){switch(i){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return i=o.data,i===ee&&fe?null:i;default:return null}}function ke(i,o){if(ie)return i==="compositionend"||!ae&&ge(i,o)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!le[i.type]:o==="textarea"}function ne(i,o,s,_){Eb(_),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,_),i.push({event:s,listeners:o}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var o=ue(i);if(Wa(o))return i}function ve(i,o){if(i==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,i,xb(i)),Jb(re,o)}}function Ce(i,o,s){i==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,o){if(i==="click")return te(o)}function Fe(i,o){if(i==="input"||i==="change")return te(o)}function Ge(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,o){if(He(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var s=Object.keys(i),_=Object.keys(o);if(s.length!==_.length)return!1;for(_=0;_<s.length;_++){var $=s[_];if(!ja.call(o,$)||!He(i[$],o[$]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,o){var s=Je(i);i=0;for(var _;s;){if(s.nodeType===3){if(_=i+s.textContent.length,i<=o&&_>=o)return{node:s,offset:o-i};i=_}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Le(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var i=window,o=Xa();o instanceof i.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)i=o.contentWindow;else break;o=Xa(i.document)}return o}function Ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Oe(i){var o=Me(),s=i.focusedElem,_=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(_!==null&&Ne(s)){if(o=_.start,i=_.end,i===void 0&&(i=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(i,s.value.length);else if(i=(o=s.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var $=s.textContent.length,_e=Math.min(_.start,$);_=_.end===void 0?_e:Math.min(_.end,$),!i.extend&&_e>_&&($=_,_=_e,_e=$),$=Ke(s,_e);var tt=Ke(s,_);$&&tt&&(i.rangeCount!==1||i.anchorNode!==$.node||i.anchorOffset!==$.offset||i.focusNode!==tt.node||i.focusOffset!==tt.offset)&&(o=o.createRange(),o.setStart($.node,$.offset),i.removeAllRanges(),_e>_?(i.addRange(o),i.extend(tt.node,tt.offset)):(o.setEnd(tt.node,tt.offset),i.addRange(o)))}}for(o=[],i=s;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)i=o[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,o,s){var _=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(_)||(_=Qe,"selectionStart"in _&&Ne(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Se&&Ie(Se,_)||(Se=_,_=oe(Re,"onSelect"),0<_.length&&(o=new td("onSelect","select",null,o,s),i.push({event:o,listeners:_}),o.target=Qe)))}function Ve(i,o){var s={};return s[i.toLowerCase()]=o.toLowerCase(),s["Webkit"+i]="webkit"+o,s["Moz"+i]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var o=We[i],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[i]=o[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,o){df.set(i,o),fa(o,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,o,s){var _=i.type||"unknown-event";i.currentTarget=s,Ub(_,o,void 0,i),i.currentTarget=null}function se(i,o){o=(o&4)!==0;for(var s=0;s<i.length;s++){var _=i[s],$=_.event;_=_.listeners;e:{var _e=void 0;if(o)for(var tt=_.length-1;0<=tt;tt--){var j=_[tt],nt=j.instance,st=j.currentTarget;if(j=j.listener,nt!==_e&&$.isPropagationStopped())break e;nf($,j,st),_e=nt}else for(tt=0;tt<_.length;tt++){if(j=_[tt],nt=j.instance,st=j.currentTarget,j=j.listener,nt!==_e&&$.isPropagationStopped())break e;nf($,j,st),_e=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var _=i+"__bubble";s.has(_)||(pf(o,i,2,!1),s.add(_))}function qf(i,o,s){var _=0;o&&(_|=4),pf(s,i,_,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(i,o,s,_){switch(jd(o)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}s=$.bind(null,o,s,i),$=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||($=!0),_?$!==void 0?i.addEventListener(o,s,{capture:!0,passive:$}):i.addEventListener(o,s,!0):$!==void 0?i.addEventListener(o,s,{passive:$}):i.addEventListener(o,s,!1)}function hd(i,o,s,_,$){var _e=_;if(!(o&1)&&!(o&2)&&_!==null)e:for(;;){if(_===null)return;var tt=_.tag;if(tt===3||tt===4){var j=_.stateNode.containerInfo;if(j===$||j.nodeType===8&&j.parentNode===$)break;if(tt===4)for(tt=_.return;tt!==null;){var nt=tt.tag;if((nt===3||nt===4)&&(nt=tt.stateNode.containerInfo,nt===$||nt.nodeType===8&&nt.parentNode===$))return;tt=tt.return}for(;j!==null;){if(tt=Wc(j),tt===null)return;if(nt=tt.tag,nt===5||nt===6){_=_e=tt;continue e}j=j.parentNode}}_=_.return}Jb(function(){var st=_e,ht=xb(s),_t=[];e:{var ft=df.get(i);if(ft!==void 0){var dt=td,ut=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":ut="focus",dt=Fd;break;case"focusout":ut="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var mt=(o&4)!==0,wt=!mt&&i==="scroll",Qt=mt?ft!==null?ft+"Capture":null:ft;mt=[];for(var Dt=st,Et;Dt!==null;){Et=Dt;var xt=Et.stateNode;if(Et.tag===5&&xt!==null&&(Et=xt,Qt!==null&&(xt=Kb(Dt,Qt),xt!=null&&mt.push(tf(Dt,xt,Et)))),wt)break;Dt=Dt.return}0<mt.length&&(ft=new dt(ft,ut,null,s,ht),_t.push({event:ft,listeners:mt}))}}if(!(o&7)){e:{if(ft=i==="mouseover"||i==="pointerover",dt=i==="mouseout"||i==="pointerout",ft&&s!==wb&&(ut=s.relatedTarget||s.fromElement)&&(Wc(ut)||ut[uf]))break e;if((dt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,dt?(ut=s.relatedTarget||s.toElement,dt=st,ut=ut?Wc(ut):null,ut!==null&&(wt=Vb(ut),ut!==wt||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(dt=null,ut=st),dt!==ut)){if(mt=Bd,xt="onMouseLeave",Qt="onMouseEnter",Dt="mouse",(i==="pointerout"||i==="pointerover")&&(mt=Td,xt="onPointerLeave",Qt="onPointerEnter",Dt="pointer"),wt=dt==null?ft:ue(dt),Et=ut==null?ft:ue(ut),ft=new mt(xt,Dt+"leave",dt,s,ht),ft.target=wt,ft.relatedTarget=Et,xt=null,Wc(ht)===st&&(mt=new mt(Qt,Dt+"enter",ut,s,ht),mt.target=Et,mt.relatedTarget=wt,xt=mt),wt=xt,dt&&ut)t:{for(mt=dt,Qt=ut,Dt=0,Et=mt;Et;Et=vf(Et))Dt++;for(Et=0,xt=Qt;xt;xt=vf(xt))Et++;for(;0<Dt-Et;)mt=vf(mt),Dt--;for(;0<Et-Dt;)Qt=vf(Qt),Et--;for(;Dt--;){if(mt===Qt||Qt!==null&&mt===Qt.alternate)break t;mt=vf(mt),Qt=vf(Qt)}mt=null}else mt=null;dt!==null&&wf(_t,ft,dt,mt,!1),ut!==null&&wt!==null&&wf(_t,wt,ut,mt,!0)}}e:{if(ft=st?ue(st):window,dt=ft.nodeName&&ft.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ft.type==="file")var pt=ve;else if(me(ft))if(we)pt=Fe;else{pt=De;var Vt=Ce}else(dt=ft.nodeName)&&dt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(pt=Ee);if(pt&&(pt=pt(i,st))){ne(_t,pt,s,ht);break e}Vt&&Vt(i,ft,st),i==="focusout"&&(Vt=ft._wrapperState)&&Vt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(Vt=st?ue(st):window,i){case"focusin":(me(Vt)||Vt.contentEditable==="true")&&(Qe=Vt,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_t,s,ht);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_t,s,ht)}var nn;if(ae)e:{switch(i){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else ie?ge(i,s)&&(on="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(on="onCompositionStart");on&&(de&&s.locale!=="ko"&&(ie||on!=="onCompositionStart"?on==="onCompositionEnd"&&ie&&(nn=nd()):(kd=ht,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Vt=oe(st,on),0<Vt.length&&(on=new Ld(on,i,null,s,ht),_t.push({event:on,listeners:Vt}),nn?on.data=nn:(nn=he(s),nn!==null&&(on.data=nn)))),(nn=ce?je(i,s):ke(i,s))&&(st=oe(st,"onBeforeInput"),0<st.length&&(ht=new Ld("onBeforeInput","beforeinput",null,s,ht),_t.push({event:ht,listeners:st}),ht.data=nn))}se(_t,o)})}function tf(i,o,s){return{instance:i,listener:o,currentTarget:s}}function oe(i,o){for(var s=o+"Capture",_=[];i!==null;){var $=i,_e=$.stateNode;$.tag===5&&_e!==null&&($=_e,_e=Kb(i,s),_e!=null&&_.unshift(tf(i,_e,$)),_e=Kb(i,o),_e!=null&&_.push(tf(i,_e,$))),i=i.return}return _}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,o,s,_,$){for(var _e=o._reactName,tt=[];s!==null&&s!==_;){var j=s,nt=j.alternate,st=j.stateNode;if(nt!==null&&nt===_)break;j.tag===5&&st!==null&&(j=st,$?(nt=Kb(s,_e),nt!=null&&tt.unshift(tf(s,nt,j))):$||(nt=Kb(s,_e),nt!=null&&tt.push(tf(s,nt,j)))),s=s.return}tt.length!==0&&i.push({event:o,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,o,s){if(o=zf(o),zf(i)!==o&&s)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,o){var s=o,_=0;do{var $=s.nextSibling;if(i.removeChild(s),$&&$.nodeType===8)if(s=$.data,s==="/$"){if(_===0){i.removeChild($),bd(o);return}_--}else s!=="$"&&s!=="$?"&&s!=="$!"||_++;s=$}while(s);bd(o)}function Lf(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return i;o--}else s==="/$"&&o++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var o=i[Of];if(o)return o;for(var s=i.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return o}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,o){Tf++,Sf[Tf]=i.current,i.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,o){var s=i.type.contextTypes;if(!s)return Vf;var _=i.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===o)return _.__reactInternalMemoizedMaskedChildContext;var $={},_e;for(_e in s)$[_e]=o[_e];return _&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,o,s){if(H.current!==Vf)throw Error(p$2(168));G(H,o),G(Wf,s)}function bg(i,o,s){var _=i.stateNode;if(o=o.childContextTypes,typeof _.getChildContext!="function")return s;_=_.getChildContext();for(var $ in _)if(!($ in o))throw Error(p$2(108,Ra(i)||"Unknown",$));return A$1({},s,_)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,o,s){var _=i.stateNode;if(!_)throw Error(p$2(169));s?(i=bg(i,o,Xf),_.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,o=C;try{var s=eg;for(C=1;i<s.length;i++){var _=s[i];do _=_(!0);while(_!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),$}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,o){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=o}function ug(i,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var _=rg;i=sg;var $=32-oc(_)-1;_&=~(1<<$),s+=1;var _e=32-oc(o)+$;if(30<_e){var tt=$-$%5;_e=(_&(1<<tt)-1).toString(32),_>>=tt,$-=tt,rg=1<<32-oc(o)+$|s<<$|_,sg=_e+i}else rg=1<<_e|s<<$|_,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=i,o=i.deletions,o===null?(i.deletions=[s],i.flags|=16):o.push(s)}function Cg(i,o){switch(i.tag){case 5:var s=i.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xg=i,yg=Lf(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xg=i,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var o=yg;if(o){var s=o;if(!Cg(i,o)){if(Dg(i))throw Error(p$2(418));o=Lf(s.nextSibling);var _=xg;o&&Cg(i,o)?Ag(_,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ef(i.type,i.memoizedProps)),o&&(o=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;o;)Ag(i,o),o=Lf(o.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(o===0){yg=Lf(i.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(i,o){if(i&&i.defaultProps){o=A$1({},o),i=i.defaultProps;for(var s in i)o[s]===void 0&&(o[s]=i[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(i){var o=Mg.current;E(Mg),i._currentValue=o}function Sg(i,o,s){for(;i!==null;){var _=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,_!==null&&(_.childLanes|=o)):_!==null&&(_.childLanes&o)!==o&&(_.childLanes|=o),i===s)break;i=i.return}}function Tg(i,o){Ng=i,Pg=Og=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Ug=!0),i.firstContext=null)}function Vg(i){var o=i._currentValue;if(Pg!==i)if(i={context:i,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=i,Ng.dependencies={lanes:0,firstContext:i}}else Og=Og.next=i;return o}var Wg=null;function Xg(i){Wg===null?Wg=[i]:Wg.push(i)}function Yg(i,o,s,_){var $=o.interleaved;return $===null?(s.next=s,Xg(o)):(s.next=$.next,$.next=s),o.interleaved=s,Zg(i,_)}function Zg(i,o){i.lanes|=o;var s=i.alternate;for(s!==null&&(s.lanes|=o),s=i,i=i.return;i!==null;)i.childLanes|=o,s=i.alternate,s!==null&&(s.childLanes|=o),s=i,i=i.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ch(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(i,o,s){var _=i.updateQueue;if(_===null)return null;if(_=_.shared,K&2){var $=_.pending;return $===null?o.next=o:(o.next=$.next,$.next=o),_.pending=o,Zg(i,s)}return $=_.interleaved,$===null?(o.next=o,Xg(_)):(o.next=$.next,$.next=o),_.interleaved=o,Zg(i,s)}function eh(i,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var _=o.lanes;_&=i.pendingLanes,s|=_,o.lanes=s,Cc(i,s)}}function fh(i,o){var s=i.updateQueue,_=i.alternate;if(_!==null&&(_=_.updateQueue,s===_)){var $=null,_e=null;if(s=s.firstBaseUpdate,s!==null){do{var tt={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};_e===null?$=_e=tt:_e=_e.next=tt,s=s.next}while(s!==null);_e===null?$=_e=o:_e=_e.next=o}else $=_e=o;s={baseState:_.baseState,firstBaseUpdate:$,lastBaseUpdate:_e,shared:_.shared,effects:_.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=o:i.next=o,s.lastBaseUpdate=o}function gh(i,o,s,_){var $=i.updateQueue;$g=!1;var _e=$.firstBaseUpdate,tt=$.lastBaseUpdate,j=$.shared.pending;if(j!==null){$.shared.pending=null;var nt=j,st=nt.next;nt.next=null,tt===null?_e=st:tt.next=st,tt=nt;var ht=i.alternate;ht!==null&&(ht=ht.updateQueue,j=ht.lastBaseUpdate,j!==tt&&(j===null?ht.firstBaseUpdate=st:j.next=st,ht.lastBaseUpdate=nt))}if(_e!==null){var _t=$.baseState;tt=0,ht=st=nt=null,j=_e;do{var ft=j.lane,dt=j.eventTime;if((_&ft)===ft){ht!==null&&(ht=ht.next={eventTime:dt,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ut=i,mt=j;switch(ft=o,dt=s,mt.tag){case 1:if(ut=mt.payload,typeof ut=="function"){_t=ut.call(dt,_t,ft);break e}_t=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=mt.payload,ft=typeof ut=="function"?ut.call(dt,_t,ft):ut,ft==null)break e;_t=A$1({},_t,ft);break e;case 2:$g=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,ft=$.effects,ft===null?$.effects=[j]:ft.push(j))}else dt={eventTime:dt,lane:ft,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ht===null?(st=ht=dt,nt=_t):ht=ht.next=dt,tt|=ft;if(j=j.next,j===null){if(j=$.shared.pending,j===null)break;ft=j,j=ft.next,ft.next=null,$.lastBaseUpdate=ft,$.shared.pending=null}}while(1);if(ht===null&&(nt=_t),$.baseState=nt,$.firstBaseUpdate=st,$.lastBaseUpdate=ht,o=$.shared.interleaved,o!==null){$=o;do tt|=$.lane,$=$.next;while($!==o)}else _e===null&&($.shared.lanes=0);hh|=tt,i.lanes=tt,i.memoizedState=_t}}function ih(i,o,s){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var _=i[o],$=_.callback;if($!==null){if(_.callback=null,_=s,typeof $!="function")throw Error(p$2(191,$));$.call(_)}}}var jh=new aa.Component().refs;function kh(i,o,s,_){o=i.memoizedState,s=s(_,o),s=s==null?o:A$1({},o,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var nh={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,o,s){i=i._reactInternals;var _=L(),$=lh(i),_e=ch(_,$);_e.payload=o,s!=null&&(_e.callback=s),o=dh(i,_e,$),o!==null&&(mh(o,i,$,_),eh(o,i,$))},enqueueReplaceState:function(i,o,s){i=i._reactInternals;var _=L(),$=lh(i),_e=ch(_,$);_e.tag=1,_e.payload=o,s!=null&&(_e.callback=s),o=dh(i,_e,$),o!==null&&(mh(o,i,$,_),eh(o,i,$))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var s=L(),_=lh(i),$=ch(s,_);$.tag=2,o!=null&&($.callback=o),o=dh(i,$,_),o!==null&&(mh(o,i,_,s),eh(o,i,_))}};function oh(i,o,s,_,$,_e,tt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(_,_e,tt):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,_)||!Ie($,_e):!0}function ph(i,o,s){var _=!1,$=Vf,_e=o.contextType;return typeof _e=="object"&&_e!==null?_e=Vg(_e):($=Zf(o)?Xf:H.current,_=o.contextTypes,_e=(_=_!=null)?Yf(i,$):Vf),o=new o(s,_e),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,i.stateNode=o,o._reactInternals=i,_&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=$,i.__reactInternalMemoizedMaskedChildContext=_e),o}function qh(i,o,s,_){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,_),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,_),o.state!==i&&nh.enqueueReplaceState(o,o.state,null)}function rh(i,o,s,_){var $=i.stateNode;$.props=s,$.state=i.memoizedState,$.refs=jh,ah(i);var _e=o.contextType;typeof _e=="object"&&_e!==null?$.context=Vg(_e):(_e=Zf(o)?Xf:H.current,$.context=Yf(i,_e)),$.state=i.memoizedState,_e=o.getDerivedStateFromProps,typeof _e=="function"&&(kh(i,o,_e,s),$.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(o=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),o!==$.state&&nh.enqueueReplaceState($,$.state,null),gh(i,s,$,_),$.state=i.memoizedState),typeof $.componentDidMount=="function"&&(i.flags|=4194308)}function sh(i,o,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$2(309));var _=s.stateNode}if(!_)throw Error(p$2(147,i));var $=_,_e=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_e?o.ref:(o=function(tt){var j=$.refs;j===jh&&(j=$.refs={}),tt===null?delete j[_e]:j[_e]=tt},o._stringRef=_e,o)}if(typeof i!="string")throw Error(p$2(284));if(!s._owner)throw Error(p$2(290,i))}return i}function th(i,o){throw i=Object.prototype.toString.call(o),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function uh(i){var o=i._init;return o(i._payload)}function vh(i){function o(Qt,Dt){if(i){var Et=Qt.deletions;Et===null?(Qt.deletions=[Dt],Qt.flags|=16):Et.push(Dt)}}function s(Qt,Dt){if(!i)return null;for(;Dt!==null;)o(Qt,Dt),Dt=Dt.sibling;return null}function _(Qt,Dt){for(Qt=new Map;Dt!==null;)Dt.key!==null?Qt.set(Dt.key,Dt):Qt.set(Dt.index,Dt),Dt=Dt.sibling;return Qt}function $(Qt,Dt){return Qt=wh(Qt,Dt),Qt.index=0,Qt.sibling=null,Qt}function _e(Qt,Dt,Et){return Qt.index=Et,i?(Et=Qt.alternate,Et!==null?(Et=Et.index,Et<Dt?(Qt.flags|=2,Dt):Et):(Qt.flags|=2,Dt)):(Qt.flags|=1048576,Dt)}function tt(Qt){return i&&Qt.alternate===null&&(Qt.flags|=2),Qt}function j(Qt,Dt,Et,xt){return Dt===null||Dt.tag!==6?(Dt=xh(Et,Qt.mode,xt),Dt.return=Qt,Dt):(Dt=$(Dt,Et),Dt.return=Qt,Dt)}function nt(Qt,Dt,Et,xt){var pt=Et.type;return pt===ya?ht(Qt,Dt,Et.props.children,xt,Et.key):Dt!==null&&(Dt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&uh(pt)===Dt.type)?(xt=$(Dt,Et.props),xt.ref=sh(Qt,Dt,Et),xt.return=Qt,xt):(xt=yh(Et.type,Et.key,Et.props,null,Qt.mode,xt),xt.ref=sh(Qt,Dt,Et),xt.return=Qt,xt)}function st(Qt,Dt,Et,xt){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Et.containerInfo||Dt.stateNode.implementation!==Et.implementation?(Dt=zh(Et,Qt.mode,xt),Dt.return=Qt,Dt):(Dt=$(Dt,Et.children||[]),Dt.return=Qt,Dt)}function ht(Qt,Dt,Et,xt,pt){return Dt===null||Dt.tag!==7?(Dt=Ah(Et,Qt.mode,xt,pt),Dt.return=Qt,Dt):(Dt=$(Dt,Et),Dt.return=Qt,Dt)}function _t(Qt,Dt,Et){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=xh(""+Dt,Qt.mode,Et),Dt.return=Qt,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return Et=yh(Dt.type,Dt.key,Dt.props,null,Qt.mode,Et),Et.ref=sh(Qt,null,Dt),Et.return=Qt,Et;case wa:return Dt=zh(Dt,Qt.mode,Et),Dt.return=Qt,Dt;case Ha:var xt=Dt._init;return _t(Qt,xt(Dt._payload),Et)}if(eb(Dt)||Ka(Dt))return Dt=Ah(Dt,Qt.mode,Et,null),Dt.return=Qt,Dt;th(Qt,Dt)}return null}function ft(Qt,Dt,Et,xt){var pt=Dt!==null?Dt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return pt!==null?null:j(Qt,Dt,""+Et,xt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return Et.key===pt?nt(Qt,Dt,Et,xt):null;case wa:return Et.key===pt?st(Qt,Dt,Et,xt):null;case Ha:return pt=Et._init,ft(Qt,Dt,pt(Et._payload),xt)}if(eb(Et)||Ka(Et))return pt!==null?null:ht(Qt,Dt,Et,xt,null);th(Qt,Et)}return null}function dt(Qt,Dt,Et,xt,pt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Qt=Qt.get(Et)||null,j(Dt,Qt,""+xt,pt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return Qt=Qt.get(xt.key===null?Et:xt.key)||null,nt(Dt,Qt,xt,pt);case wa:return Qt=Qt.get(xt.key===null?Et:xt.key)||null,st(Dt,Qt,xt,pt);case Ha:var Vt=xt._init;return dt(Qt,Dt,Et,Vt(xt._payload),pt)}if(eb(xt)||Ka(xt))return Qt=Qt.get(Et)||null,ht(Dt,Qt,xt,pt,null);th(Dt,xt)}return null}function ut(Qt,Dt,Et,xt){for(var pt=null,Vt=null,nn=Dt,on=Dt=0,bt=null;nn!==null&&on<Et.length;on++){nn.index>on?(bt=nn,nn=null):bt=nn.sibling;var St=ft(Qt,nn,Et[on],xt);if(St===null){nn===null&&(nn=bt);break}i&&nn&&St.alternate===null&&o(Qt,nn),Dt=_e(St,Dt,on),Vt===null?pt=St:Vt.sibling=St,Vt=St,nn=bt}if(on===Et.length)return s(Qt,nn),I&&tg(Qt,on),pt;if(nn===null){for(;on<Et.length;on++)nn=_t(Qt,Et[on],xt),nn!==null&&(Dt=_e(nn,Dt,on),Vt===null?pt=nn:Vt.sibling=nn,Vt=nn);return I&&tg(Qt,on),pt}for(nn=_(Qt,nn);on<Et.length;on++)bt=dt(nn,Qt,on,Et[on],xt),bt!==null&&(i&&bt.alternate!==null&&nn.delete(bt.key===null?on:bt.key),Dt=_e(bt,Dt,on),Vt===null?pt=bt:Vt.sibling=bt,Vt=bt);return i&&nn.forEach(function(It){return o(Qt,It)}),I&&tg(Qt,on),pt}function mt(Qt,Dt,Et,xt){var pt=Ka(Et);if(typeof pt!="function")throw Error(p$2(150));if(Et=pt.call(Et),Et==null)throw Error(p$2(151));for(var Vt=pt=null,nn=Dt,on=Dt=0,bt=null,St=Et.next();nn!==null&&!St.done;on++,St=Et.next()){nn.index>on?(bt=nn,nn=null):bt=nn.sibling;var It=ft(Qt,nn,St.value,xt);if(It===null){nn===null&&(nn=bt);break}i&&nn&&It.alternate===null&&o(Qt,nn),Dt=_e(It,Dt,on),Vt===null?pt=It:Vt.sibling=It,Vt=It,nn=bt}if(St.done)return s(Qt,nn),I&&tg(Qt,on),pt;if(nn===null){for(;!St.done;on++,St=Et.next())St=_t(Qt,St.value,xt),St!==null&&(Dt=_e(St,Dt,on),Vt===null?pt=St:Vt.sibling=St,Vt=St);return I&&tg(Qt,on),pt}for(nn=_(Qt,nn);!St.done;on++,St=Et.next())St=dt(nn,Qt,on,St.value,xt),St!==null&&(i&&St.alternate!==null&&nn.delete(St.key===null?on:St.key),Dt=_e(St,Dt,on),Vt===null?pt=St:Vt.sibling=St,Vt=St);return i&&nn.forEach(function(Bt){return o(Qt,Bt)}),I&&tg(Qt,on),pt}function wt(Qt,Dt,Et,xt){if(typeof Et=="object"&&Et!==null&&Et.type===ya&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:e:{for(var pt=Et.key,Vt=Dt;Vt!==null;){if(Vt.key===pt){if(pt=Et.type,pt===ya){if(Vt.tag===7){s(Qt,Vt.sibling),Dt=$(Vt,Et.props.children),Dt.return=Qt,Qt=Dt;break e}}else if(Vt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Ha&&uh(pt)===Vt.type){s(Qt,Vt.sibling),Dt=$(Vt,Et.props),Dt.ref=sh(Qt,Vt,Et),Dt.return=Qt,Qt=Dt;break e}s(Qt,Vt);break}else o(Qt,Vt);Vt=Vt.sibling}Et.type===ya?(Dt=Ah(Et.props.children,Qt.mode,xt,Et.key),Dt.return=Qt,Qt=Dt):(xt=yh(Et.type,Et.key,Et.props,null,Qt.mode,xt),xt.ref=sh(Qt,Dt,Et),xt.return=Qt,Qt=xt)}return tt(Qt);case wa:e:{for(Vt=Et.key;Dt!==null;){if(Dt.key===Vt)if(Dt.tag===4&&Dt.stateNode.containerInfo===Et.containerInfo&&Dt.stateNode.implementation===Et.implementation){s(Qt,Dt.sibling),Dt=$(Dt,Et.children||[]),Dt.return=Qt,Qt=Dt;break e}else{s(Qt,Dt);break}else o(Qt,Dt);Dt=Dt.sibling}Dt=zh(Et,Qt.mode,xt),Dt.return=Qt,Qt=Dt}return tt(Qt);case Ha:return Vt=Et._init,wt(Qt,Dt,Vt(Et._payload),xt)}if(eb(Et))return ut(Qt,Dt,Et,xt);if(Ka(Et))return mt(Qt,Dt,Et,xt);th(Qt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,Dt!==null&&Dt.tag===6?(s(Qt,Dt.sibling),Dt=$(Dt,Et),Dt.return=Qt,Qt=Dt):(s(Qt,Dt),Dt=xh(Et,Qt.mode,xt),Dt.return=Qt,Qt=Dt),tt(Qt)):s(Qt,Dt)}return wt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(i){if(i===Dh)throw Error(p$2(174));return i}function Ih(i,o){switch(G(Gh,o),G(Fh,i),G(Eh,Dh),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=lb(o,i)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(i){Hh(Gh.current);var o=Hh(Eh.current),s=lb(o,i.type);o!==s&&(G(Fh,i),G(Eh,s))}function Lh(i){Fh.current===i&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(i){for(var o=i;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var i=0;i<Nh.length;i++)Nh[i]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(i,o){if(o===null)return!1;for(var s=0;s<o.length&&s<i.length;s++)if(!He(i[s],o[s]))return!1;return!0}function Xh(i,o,s,_,$,_e){if(Rh=_e,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=i===null||i.memoizedState===null?Yh:Zh,i=s(_,$),Th){_e=0;do{if(Th=!1,Uh=0,25<=_e)throw Error(p$2(301));_e+=1,P=O=null,o.updateQueue=null,Ph.current=$h,i=s(_,$)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$2(300));return i}function bi(){var i=Uh!==0;return Uh=0,i}function ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=i:P=P.next=i,P}function di(){if(O===null){var i=N.alternate;i=i!==null?i.memoizedState:null}else i=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=i;else{if(i===null)throw Error(p$2(310));O=i,i={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=i:P=P.next=i}return P}function ei(i,o){return typeof o=="function"?o(i):o}function fi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=i;var _=O,$=_.baseQueue,_e=s.pending;if(_e!==null){if($!==null){var tt=$.next;$.next=_e.next,_e.next=tt}_.baseQueue=$=_e,s.pending=null}if($!==null){_e=$.next,_=_.baseState;var j=tt=null,nt=null,st=_e;do{var ht=st.lane;if((Rh&ht)===ht)nt!==null&&(nt=nt.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),_=st.hasEagerState?st.eagerState:i(_,st.action);else{var _t={lane:ht,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};nt===null?(j=nt=_t,tt=_):nt=nt.next=_t,N.lanes|=ht,hh|=ht}st=st.next}while(st!==null&&st!==_e);nt===null?tt=_:nt.next=j,He(_,o.memoizedState)||(Ug=!0),o.memoizedState=_,o.baseState=tt,o.baseQueue=nt,s.lastRenderedState=_}if(i=s.interleaved,i!==null){$=i;do _e=$.lane,N.lanes|=_e,hh|=_e,$=$.next;while($!==i)}else $===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(i){var o=di(),s=o.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=i;var _=s.dispatch,$=s.pending,_e=o.memoizedState;if($!==null){s.pending=null;var tt=$=$.next;do _e=i(_e,tt.action),tt=tt.next;while(tt!==$);He(_e,o.memoizedState)||(Ug=!0),o.memoizedState=_e,o.baseQueue===null&&(o.baseState=_e),s.lastRenderedState=_e}return[_e,_]}function hi(){}function ii(i,o){var s=N,_=di(),$=o(),_e=!He(_.memoizedState,$);if(_e&&(_.memoizedState=$,Ug=!0),_=_.queue,ji(ki.bind(null,s,_,i),[i]),_.getSnapshot!==o||_e||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,_,$,o),void 0,null),R===null)throw Error(p$2(349));Rh&30||ni(s,o,$)}return $}function ni(i,o,s){i.flags|=16384,i={getSnapshot:o,value:s},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[i]):(s=o.stores,s===null?o.stores=[i]:s.push(i))}function mi(i,o,s,_){o.value=s,o.getSnapshot=_,oi(o)&&pi(i)}function ki(i,o,s){return s(function(){oi(o)&&pi(i)})}function oi(i){var o=i.getSnapshot;i=i.value;try{var s=o();return!He(i,s)}catch{return!0}}function pi(i){var o=Zg(i,1);o!==null&&mh(o,i,1,-1)}function qi(i){var o=ci();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},o.queue=i,i=i.dispatch=ri.bind(null,N,i),[o.memoizedState,i]}function li(i,o,s,_){return i={tag:i,create:o,destroy:s,deps:_,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=i.next=i):(s=o.lastEffect,s===null?o.lastEffect=i.next=i:(_=s.next,s.next=i,i.next=_,o.lastEffect=i)),i}function si(){return di().memoizedState}function ti(i,o,s,_){var $=ci();N.flags|=i,$.memoizedState=li(1|o,s,void 0,_===void 0?null:_)}function ui(i,o,s,_){var $=di();_=_===void 0?null:_;var _e=void 0;if(O!==null){var tt=O.memoizedState;if(_e=tt.destroy,_!==null&&Wh(_,tt.deps)){$.memoizedState=li(o,s,_e,_);return}}N.flags|=i,$.memoizedState=li(1|o,s,_e,_)}function vi(i,o){return ti(8390656,8,i,o)}function ji(i,o){return ui(2048,8,i,o)}function wi(i,o){return ui(4,2,i,o)}function xi(i,o){return ui(4,4,i,o)}function yi(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zi(i,o,s){return s=s!=null?s.concat([i]):null,ui(4,4,yi.bind(null,o,i),s)}function Ai(){}function Bi(i,o){var s=di();o=o===void 0?null:o;var _=s.memoizedState;return _!==null&&o!==null&&Wh(o,_[1])?_[0]:(s.memoizedState=[i,o],i)}function Ci(i,o){var s=di();o=o===void 0?null:o;var _=s.memoizedState;return _!==null&&o!==null&&Wh(o,_[1])?_[0]:(i=i(),s.memoizedState=[i,o],i)}function Di(i,o,s){return Rh&21?(He(s,o)||(s=yc(),N.lanes|=s,hh|=s,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Ug=!0),i.memoizedState=s)}function Ei(i,o){var s=C;C=s!==0&&4>s?s:4,i(!0);var _=Qh.transition;Qh.transition={};try{i(!1),o()}finally{C=s,Qh.transition=_}}function Fi(){return di().memoizedState}function Gi(i,o,s){var _=lh(i);if(s={lane:_,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(i))Ii(o,s);else if(s=Yg(i,o,s,_),s!==null){var $=L();mh(s,i,_,$),Ji(s,o,_)}}function ri(i,o,s){var _=lh(i),$={lane:_,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(i))Ii(o,$);else{var _e=i.alternate;if(i.lanes===0&&(_e===null||_e.lanes===0)&&(_e=o.lastRenderedReducer,_e!==null))try{var tt=o.lastRenderedState,j=_e(tt,s);if($.hasEagerState=!0,$.eagerState=j,He(j,tt)){var nt=o.interleaved;nt===null?($.next=$,Xg(o)):($.next=nt.next,nt.next=$),o.interleaved=$;return}}catch{}finally{}s=Yg(i,o,$,_),s!==null&&($=L(),mh(s,i,_,$),Ji(s,o,_))}}function Hi(i){var o=i.alternate;return i===N||o!==null&&o===N}function Ii(i,o){Th=Sh=!0;var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}function Ji(i,o,s){if(s&4194240){var _=o.lanes;_&=i.pendingLanes,s|=_,o.lanes=s,Cc(i,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(i,o){return ci().memoizedState=[i,o===void 0?null:o],i},useContext:Vg,useEffect:vi,useImperativeHandle:function(i,o,s){return s=s!=null?s.concat([i]):null,ti(4194308,4,yi.bind(null,o,i),s)},useLayoutEffect:function(i,o){return ti(4194308,4,i,o)},useInsertionEffect:function(i,o){return ti(4,2,i,o)},useMemo:function(i,o){var s=ci();return o=o===void 0?null:o,i=i(),s.memoizedState=[i,o],i},useReducer:function(i,o,s){var _=ci();return o=s!==void 0?s(o):o,_.memoizedState=_.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},_.queue=i,i=i.dispatch=Gi.bind(null,N,i),[_.memoizedState,i]},useRef:function(i){var o=ci();return i={current:i},o.memoizedState=i},useState:qi,useDebugValue:Ai,useDeferredValue:function(i){return ci().memoizedState=i},useTransition:function(){var i=qi(!1),o=i[0];return i=Ei.bind(null,i[1]),ci().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,s){var _=N,$=ci();if(I){if(s===void 0)throw Error(p$2(407));s=s()}else{if(s=o(),R===null)throw Error(p$2(349));Rh&30||ni(_,o,s)}$.memoizedState=s;var _e={value:s,getSnapshot:o};return $.queue=_e,vi(ki.bind(null,_,_e,i),[i]),_.flags|=2048,li(9,mi.bind(null,_,_e,s,o),void 0,null),s},useId:function(){var i=ci(),o=R.identifierPrefix;if(I){var s=sg,_=rg;s=(_&~(1<<32-oc(_)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return Di(o,O.memoizedState,i)},useTransition:function(){var i=fi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(i){var o=di();return O===null?o.memoizedState=i:Di(o,O.memoizedState,i)},useTransition:function(){var i=gi(ei)[0],o=di().memoizedState;return[i,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(i,o){try{var s="",_=o;do s+=Pa(_),_=_.return;while(_);var $=s}catch(_e){$=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:i,source:o,stack:$,digest:null}}function Li(i,o,s){return{value:i,source:null,stack:s??null,digest:o??null}}function Mi(i,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(i,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var _=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=_),Mi(i,o)},s}function Ri(i,o,s){s=ch(-1,s),s.tag=3;var _=i.type.getDerivedStateFromError;if(typeof _=="function"){var $=o.value;s.payload=function(){return _($)},s.callback=function(){Mi(i,o)}}var _e=i.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(s.callback=function(){Mi(i,o),typeof _!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=o.stack;this.componentDidCatch(o.value,{componentStack:tt!==null?tt:""})}),s}function Ti(i,o,s){var _=i.pingCache;if(_===null){_=i.pingCache=new Ni;var $=new Set;_.set(o,$)}else $=_.get(o),$===void 0&&($=new Set,_.set(o,$));$.has(s)||($.add(s),i=Ui.bind(null,i,o,s),o.then(i,i))}function Vi(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wi(i,o,s,_,$){return i.mode&1?(i.flags|=65536,i.lanes=$,i):(i===o?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),i)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(i,o,s,_){o.child=i===null?Ch(o,null,s,_):Bh(o,i.child,s,_)}function Zi(i,o,s,_,$){s=s.render;var _e=o.ref;return Tg(o,$),_=Xh(i,o,s,_,_e,$),s=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~$,$i(i,o,$)):(I&&s&&vg(o),o.flags|=1,Yi(i,o,_,$),o.child)}function aj(i,o,s,_,$){if(i===null){var _e=s.type;return typeof _e=="function"&&!bj(_e)&&_e.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=_e,cj(i,o,_e,_,$)):(i=yh(s.type,null,_,o,o.mode,$),i.ref=o.ref,i.return=o,o.child=i)}if(_e=i.child,!(i.lanes&$)){var tt=_e.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(tt,_)&&i.ref===o.ref)return $i(i,o,$)}return o.flags|=1,i=wh(_e,_),i.ref=o.ref,i.return=o,o.child=i}function cj(i,o,s,_,$){if(i!==null){var _e=i.memoizedProps;if(Ie(_e,_)&&i.ref===o.ref)if(Ug=!1,o.pendingProps=_=_e,(i.lanes&$)!==0)i.flags&131072&&(Ug=!0);else return o.lanes=i.lanes,$i(i,o,$)}return dj(i,o,s,_,$)}function ej(i,o,s){var _=o.pendingProps,$=_.children,_e=i!==null?i.memoizedState:null;if(_.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return i=_e!==null?_e.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=_e!==null?_e.baseLanes:s,G(fj,gj),gj|=_}else _e!==null?(_=_e.baseLanes|s,o.memoizedState=null):_=s,G(fj,gj),gj|=_;return Yi(i,o,$,s),o.child}function hj(i,o){var s=o.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(i,o,s,_,$){var _e=Zf(s)?Xf:H.current;return _e=Yf(o,_e),Tg(o,$),s=Xh(i,o,s,_,_e,$),_=bi(),i!==null&&!Ug?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~$,$i(i,o,$)):(I&&_&&vg(o),o.flags|=1,Yi(i,o,s,$),o.child)}function ij(i,o,s,_,$){if(Zf(s)){var _e=!0;cg(o)}else _e=!1;if(Tg(o,$),o.stateNode===null)jj(i,o),ph(o,s,_),rh(o,s,_,$),_=!0;else if(i===null){var tt=o.stateNode,j=o.memoizedProps;tt.props=j;var nt=tt.context,st=s.contextType;typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(s)?Xf:H.current,st=Yf(o,st));var ht=s.getDerivedStateFromProps,_t=typeof ht=="function"||typeof tt.getSnapshotBeforeUpdate=="function";_t||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(j!==_||nt!==st)&&qh(o,tt,_,st),$g=!1;var ft=o.memoizedState;tt.state=ft,gh(o,_,tt,$),nt=o.memoizedState,j!==_||ft!==nt||Wf.current||$g?(typeof ht=="function"&&(kh(o,s,ht,_),nt=o.memoizedState),(j=$g||oh(o,s,j,_,ft,nt,st))?(_t||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=_,o.memoizedState=nt),tt.props=_,tt.state=nt,tt.context=st,_=j):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),_=!1)}else{tt=o.stateNode,bh(i,o),j=o.memoizedProps,st=o.type===o.elementType?j:Lg(o.type,j),tt.props=st,_t=o.pendingProps,ft=tt.context,nt=s.contextType,typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(s)?Xf:H.current,nt=Yf(o,nt));var dt=s.getDerivedStateFromProps;(ht=typeof dt=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(j!==_t||ft!==nt)&&qh(o,tt,_,nt),$g=!1,ft=o.memoizedState,tt.state=ft,gh(o,_,tt,$);var ut=o.memoizedState;j!==_t||ft!==ut||Wf.current||$g?(typeof dt=="function"&&(kh(o,s,dt,_),ut=o.memoizedState),(st=$g||oh(o,s,st,_,ft,ut,nt)||!1)?(ht||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(_,ut,nt),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(_,ut,nt)),typeof tt.componentDidUpdate=="function"&&(o.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof tt.componentDidUpdate!="function"||j===i.memoizedProps&&ft===i.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ft===i.memoizedState||(o.flags|=1024),o.memoizedProps=_,o.memoizedState=ut),tt.props=_,tt.state=ut,tt.context=nt,_=st):(typeof tt.componentDidUpdate!="function"||j===i.memoizedProps&&ft===i.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ft===i.memoizedState||(o.flags|=1024),_=!1)}return kj(i,o,s,_,_e,$)}function kj(i,o,s,_,$,_e){hj(i,o);var tt=(o.flags&128)!==0;if(!_&&!tt)return $&&dg(o,s,!1),$i(i,o,_e);_=o.stateNode,Xi.current=o;var j=tt&&typeof s.getDerivedStateFromError!="function"?null:_.render();return o.flags|=1,i!==null&&tt?(o.child=Bh(o,i.child,null,_e),o.child=Bh(o,null,j,_e)):Yi(i,o,j,_e),o.memoizedState=_.state,$&&dg(o,s,!0),o.child}function lj(i){var o=i.stateNode;o.pendingContext?ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(i,o.context,!1),Ih(i,o.containerInfo)}function mj(i,o,s,_,$){return Ig(),Jg($),o.flags|=256,Yi(i,o,s,_),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(i){return{baseLanes:i,cachePool:null,transitions:null}}function pj(i,o,s){var _=o.pendingProps,$=M.current,_e=!1,tt=(o.flags&128)!==0,j;if((j=tt)||(j=i!==null&&i.memoizedState===null?!1:($&2)!==0),j?(_e=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&($|=1),G(M,$&1),i===null)return Eg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(tt=_.children,i=_.fallback,_e?(_=o.mode,_e=o.child,tt={mode:"hidden",children:tt},!(_&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=tt):_e=qj(tt,_,0,null),i=Ah(i,_,s,null),_e.return=o,i.return=o,_e.sibling=i,o.child=_e,o.child.memoizedState=oj(s),o.memoizedState=nj,i):rj(o,tt));if($=i.memoizedState,$!==null&&(j=$.dehydrated,j!==null))return sj(i,o,tt,_,j,$,s);if(_e){_e=_.fallback,tt=o.mode,$=i.child,j=$.sibling;var nt={mode:"hidden",children:_.children};return!(tt&1)&&o.child!==$?(_=o.child,_.childLanes=0,_.pendingProps=nt,o.deletions=null):(_=wh($,nt),_.subtreeFlags=$.subtreeFlags&14680064),j!==null?_e=wh(j,_e):(_e=Ah(_e,tt,s,null),_e.flags|=2),_e.return=o,_.return=o,_.sibling=_e,o.child=_,_=_e,_e=o.child,tt=i.child.memoizedState,tt=tt===null?oj(s):{baseLanes:tt.baseLanes|s,cachePool:null,transitions:tt.transitions},_e.memoizedState=tt,_e.childLanes=i.childLanes&~s,o.memoizedState=nj,_}return _e=i.child,i=_e.sibling,_=wh(_e,{mode:"visible",children:_.children}),!(o.mode&1)&&(_.lanes=s),_.return=o,_.sibling=null,i!==null&&(s=o.deletions,s===null?(o.deletions=[i],o.flags|=16):s.push(i)),o.child=_,o.memoizedState=null,_}function rj(i,o){return o=qj({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function tj(i,o,s,_){return _!==null&&Jg(_),Bh(o,i.child,null,s),i=rj(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sj(i,o,s,_,$,_e,tt){if(s)return o.flags&256?(o.flags&=-257,_=Li(Error(p$2(422))),tj(i,o,tt,_)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_e=_.fallback,$=o.mode,_=qj({mode:"visible",children:_.children},$,0,null),_e=Ah(_e,$,tt,null),_e.flags|=2,_.return=o,_e.return=o,_.sibling=_e,o.child=_,o.mode&1&&Bh(o,i.child,null,tt),o.child.memoizedState=oj(tt),o.memoizedState=nj,_e);if(!(o.mode&1))return tj(i,o,tt,null);if($.data==="$!"){if(_=$.nextSibling&&$.nextSibling.dataset,_)var j=_.dgst;return _=j,_e=Error(p$2(419)),_=Li(_e,_,void 0),tj(i,o,tt,_)}if(j=(tt&i.childLanes)!==0,Ug||j){if(_=R,_!==null){switch(tt&-tt){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(_.suspendedLanes|tt)?0:$,$!==0&&$!==_e.retryLane&&(_e.retryLane=$,Zg(i,$),mh(_,i,$,-1))}return uj(),_=Li(Error(p$2(421))),tj(i,o,tt,_)}return $.data==="$?"?(o.flags|=128,o.child=i.child,o=vj.bind(null,i),$._reactRetry=o,null):(i=_e.treeContext,yg=Lf($.nextSibling),xg=o,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=o),o=rj(o,_.children),o.flags|=4096,o)}function wj(i,o,s){i.lanes|=o;var _=i.alternate;_!==null&&(_.lanes|=o),Sg(i.return,o,s)}function xj(i,o,s,_,$){var _e=i.memoizedState;_e===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:_,tail:s,tailMode:$}:(_e.isBackwards=o,_e.rendering=null,_e.renderingStartTime=0,_e.last=_,_e.tail=s,_e.tailMode=$)}function yj(i,o,s){var _=o.pendingProps,$=_.revealOrder,_e=_.tail;if(Yi(i,o,_.children,s),_=M.current,_&2)_=_&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wj(i,s,o);else if(i.tag===19)wj(i,s,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}_&=1}if(G(M,_),!(o.mode&1))o.memoizedState=null;else switch($){case"forwards":for(s=o.child,$=null;s!==null;)i=s.alternate,i!==null&&Mh(i)===null&&($=s),s=s.sibling;s=$,s===null?($=o.child,o.child=null):($=s.sibling,s.sibling=null),xj(o,!1,$,s,_e);break;case"backwards":for(s=null,$=o.child,o.child=null;$!==null;){if(i=$.alternate,i!==null&&Mh(i)===null){o.child=$;break}i=$.sibling,$.sibling=s,s=$,$=i}xj(o,!0,s,null,_e);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function $i(i,o,s){if(i!==null&&(o.dependencies=i.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(p$2(153));if(o.child!==null){for(i=o.child,s=wh(i,i.pendingProps),o.child=s,s.return=o;i.sibling!==null;)i=i.sibling,s=s.sibling=wh(i,i.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(i,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var _=o.type._context,$=o.memoizedProps.value;G(Mg,_._currentValue),_._currentValue=$;break;case 13:if(_=o.memoizedState,_!==null)return _.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):s&o.child.childLanes?pj(i,o,s):(G(M,M.current&1),i=$i(i,o,s),i!==null?i.sibling:null);G(M,M.current&1);break;case 19:if(_=(s&o.childLanes)!==0,i.flags&128){if(_)return yj(i,o,s);o.flags|=128}if($=o.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(M,M.current),_)break;return null;case 22:case 23:return o.lanes=0,ej(i,o,s)}return $i(i,o,s)}var Aj,Bj,Cj,Dj;Aj=function(i,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(i,o,s,_){var $=i.memoizedProps;if($!==_){i=o.stateNode,Hh(Eh.current);var _e=null;switch(s){case"input":$=Ya(i,$),_=Ya(i,_),_e=[];break;case"select":$=A$1({},$,{value:void 0}),_=A$1({},_,{value:void 0}),_e=[];break;case"textarea":$=gb(i,$),_=gb(i,_),_e=[];break;default:typeof $.onClick!="function"&&typeof _.onClick=="function"&&(i.onclick=Bf)}ub(s,_);var tt;s=null;for(st in $)if(!_.hasOwnProperty(st)&&$.hasOwnProperty(st)&&$[st]!=null)if(st==="style"){var j=$[st];for(tt in j)j.hasOwnProperty(tt)&&(s||(s={}),s[tt]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?_e||(_e=[]):(_e=_e||[]).push(st,null));for(st in _){var nt=_[st];if(j=$!=null?$[st]:void 0,_.hasOwnProperty(st)&&nt!==j&&(nt!=null||j!=null))if(st==="style")if(j){for(tt in j)!j.hasOwnProperty(tt)||nt&&nt.hasOwnProperty(tt)||(s||(s={}),s[tt]="");for(tt in nt)nt.hasOwnProperty(tt)&&j[tt]!==nt[tt]&&(s||(s={}),s[tt]=nt[tt])}else s||(_e||(_e=[]),_e.push(st,s)),s=nt;else st==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,j=j?j.__html:void 0,nt!=null&&j!==nt&&(_e=_e||[]).push(st,nt)):st==="children"?typeof nt!="string"&&typeof nt!="number"||(_e=_e||[]).push(st,""+nt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(nt!=null&&st==="onScroll"&&D("scroll",i),_e||j===nt||(_e=[])):(_e=_e||[]).push(st,nt))}s&&(_e=_e||[]).push("style",s);var st=_e;(o.updateQueue=st)&&(o.flags|=4)}};Dj=function(i,o,s,_){s!==_&&(o.flags|=4)};function Ej(i,o){if(!I)switch(i.tailMode){case"hidden":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var _=null;s!==null;)s.alternate!==null&&(_=s),s=s.sibling;_===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:_.sibling=null}}function S(i){var o=i.alternate!==null&&i.alternate.child===i.child,s=0,_=0;if(o)for(var $=i.child;$!==null;)s|=$.lanes|$.childLanes,_|=$.subtreeFlags&14680064,_|=$.flags&14680064,$.return=i,$=$.sibling;else for($=i.child;$!==null;)s|=$.lanes|$.childLanes,_|=$.subtreeFlags,_|=$.flags,$.return=i,$=$.sibling;return i.subtreeFlags|=_,i.childLanes=s,o}function Fj(i,o,s){var _=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return _=o.stateNode,Jh(),E(Wf),E(H),Oh(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(i===null||i.child===null)&&(Gg(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(i,o),S(o),null;case 5:Lh(o);var $=Hh(Gh.current);if(s=o.type,i!==null&&o.stateNode!=null)Cj(i,o,s,_,$),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!_){if(o.stateNode===null)throw Error(p$2(166));return S(o),null}if(i=Hh(Eh.current),Gg(o)){_=o.stateNode,s=o.type;var _e=o.memoizedProps;switch(_[Of]=o,_[Pf]=_e,i=(o.mode&1)!==0,s){case"dialog":D("cancel",_),D("close",_);break;case"iframe":case"object":case"embed":D("load",_);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],_);break;case"source":D("error",_);break;case"img":case"image":case"link":D("error",_),D("load",_);break;case"details":D("toggle",_);break;case"input":Za(_,_e),D("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!_e.multiple},D("invalid",_);break;case"textarea":hb(_,_e),D("invalid",_)}ub(s,_e),$=null;for(var tt in _e)if(_e.hasOwnProperty(tt)){var j=_e[tt];tt==="children"?typeof j=="string"?_.textContent!==j&&(_e.suppressHydrationWarning!==!0&&Af(_.textContent,j,i),$=["children",j]):typeof j=="number"&&_.textContent!==""+j&&(_e.suppressHydrationWarning!==!0&&Af(_.textContent,j,i),$=["children",""+j]):ea.hasOwnProperty(tt)&&j!=null&&tt==="onScroll"&&D("scroll",_)}switch(s){case"input":Va(_),db(_,_e,!0);break;case"textarea":Va(_),jb(_);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(_.onclick=Bf)}_=$,o.updateQueue=_,_!==null&&(o.flags|=4)}else{tt=$.nodeType===9?$:$.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=tt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof _.is=="string"?i=tt.createElement(s,{is:_.is}):(i=tt.createElement(s),s==="select"&&(tt=i,_.multiple?tt.multiple=!0:_.size&&(tt.size=_.size))):i=tt.createElementNS(i,s),i[Of]=o,i[Pf]=_,Aj(i,o,!1,!1),o.stateNode=i;e:{switch(tt=vb(s,_),s){case"dialog":D("cancel",i),D("close",i),$=_;break;case"iframe":case"object":case"embed":D("load",i),$=_;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],i);$=_;break;case"source":D("error",i),$=_;break;case"img":case"image":case"link":D("error",i),D("load",i),$=_;break;case"details":D("toggle",i),$=_;break;case"input":Za(i,_),$=Ya(i,_),D("invalid",i);break;case"option":$=_;break;case"select":i._wrapperState={wasMultiple:!!_.multiple},$=A$1({},_,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,_),$=gb(i,_),D("invalid",i);break;default:$=_}ub(s,$),j=$;for(_e in j)if(j.hasOwnProperty(_e)){var nt=j[_e];_e==="style"?sb(i,nt):_e==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):_e==="children"?typeof nt=="string"?(s!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?nt!=null&&_e==="onScroll"&&D("scroll",i):nt!=null&&ta(i,_e,nt,tt))}switch(s){case"input":Va(i),db(i,_,!1);break;case"textarea":Va(i),jb(i);break;case"option":_.value!=null&&i.setAttribute("value",""+Sa(_.value));break;case"select":i.multiple=!!_.multiple,_e=_.value,_e!=null?fb(i,!!_.multiple,_e,!1):_.defaultValue!=null&&fb(i,!!_.multiple,_.defaultValue,!0);break;default:typeof $.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(i&&o.stateNode!=null)Dj(i,o,i.memoizedProps,_);else{if(typeof _!="string"&&o.stateNode===null)throw Error(p$2(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(_=o.stateNode,s=o.memoizedProps,_[Of]=o,(_e=_.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(_.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(_.nodeValue,s,(i.mode&1)!==0)}_e&&(o.flags|=4)}else _=(s.nodeType===9?s:s.ownerDocument).createTextNode(_),_[Of]=o,o.stateNode=_}return S(o),null;case 13:if(E(M),_=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,_e=!1;else if(_e=Gg(o),_!==null&&_.dehydrated!==null){if(i===null){if(!_e)throw Error(p$2(318));if(_e=o.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$2(317));_e[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),_e=!1}else zg!==null&&(Gj(zg),zg=null),_e=!0;if(!_e)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(_=_!==null,_!==(i!==null&&i.memoizedState!==null)&&_&&(o.child.flags|=8192,o.mode&1&&(i===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(i,o),i===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),_e=o.memoizedState,_e===null)return S(o),null;if(_=(o.flags&128)!==0,tt=_e.rendering,tt===null)if(_)Ej(_e,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(tt=Mh(i),tt!==null){for(o.flags|=128,Ej(_e,!1),_=tt.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),o.subtreeFlags=0,_=s,s=o.child;s!==null;)_e=s,i=_,_e.flags&=14680066,tt=_e.alternate,tt===null?(_e.childLanes=0,_e.lanes=i,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=tt.childLanes,_e.lanes=tt.lanes,_e.child=tt.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=tt.memoizedProps,_e.memoizedState=tt.memoizedState,_e.updateQueue=tt.updateQueue,_e.type=tt.type,i=tt.dependencies,_e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(M,M.current&1|2),o.child}i=i.sibling}_e.tail!==null&&B()>Hj&&(o.flags|=128,_=!0,Ej(_e,!1),o.lanes=4194304)}else{if(!_)if(i=Mh(tt),i!==null){if(o.flags|=128,_=!0,s=i.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!tt.alternate&&!I)return S(o),null}else 2*B()-_e.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,_=!0,Ej(_e,!1),o.lanes=4194304);_e.isBackwards?(tt.sibling=o.child,o.child=tt):(s=_e.last,s!==null?s.sibling=tt:o.child=tt,_e.last=tt)}return _e.tail!==null?(o=_e.tail,_e.rendering=o,_e.tail=o.sibling,_e.renderingStartTime=B(),o.sibling=null,s=M.current,G(M,_?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Ij(),_=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==_&&(o.flags|=8192),_&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$2(156,o.tag))}function Jj(i,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(p$2(340));Ig()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(i,o){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(_){W(i,o,_)}else s.current=null}function Nj(i,o,s){try{s()}catch(_){W(i,o,_)}}var Oj=!1;function Pj(i,o){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var _=s.getSelection&&s.getSelection();if(_&&_.rangeCount!==0){s=_.anchorNode;var $=_.anchorOffset,_e=_.focusNode;_=_.focusOffset;try{s.nodeType,_e.nodeType}catch{s=null;break e}var tt=0,j=-1,nt=-1,st=0,ht=0,_t=i,ft=null;t:for(;;){for(var dt;_t!==s||$!==0&&_t.nodeType!==3||(j=tt+$),_t!==_e||_!==0&&_t.nodeType!==3||(nt=tt+_),_t.nodeType===3&&(tt+=_t.nodeValue.length),(dt=_t.firstChild)!==null;)ft=_t,_t=dt;for(;;){if(_t===i)break t;if(ft===s&&++st===$&&(j=tt),ft===_e&&++ht===_&&(nt=tt),(dt=_t.nextSibling)!==null)break;_t=ft,ft=_t.parentNode}_t=dt}s=j===-1||nt===-1?null:{start:j,end:nt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,V=i;else for(;V!==null;){o=V;try{var ut=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var mt=ut.memoizedProps,wt=ut.memoizedState,Qt=o.stateNode,Dt=Qt.getSnapshotBeforeUpdate(o.elementType===o.type?mt:Lg(o.type,mt),wt);Qt.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var Et=o.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(xt){W(o,o.return,xt)}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}return ut=Oj,Oj=!1,ut}function Qj(i,o,s){var _=o.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var $=_=_.next;do{if(($.tag&i)===i){var _e=$.destroy;$.destroy=void 0,_e!==void 0&&Nj(o,s,_e)}$=$.next}while($!==_)}}function Rj(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&i)===i){var _=s.create;s.destroy=_()}s=s.next}while(s!==o)}}function Sj(i){var o=i.ref;if(o!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof o=="function"?o(i):o.current=i}}function Tj(i){var o=i.alternate;o!==null&&(i.alternate=null,Tj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uj(i){return i.tag===5||i.tag===3||i.tag===4}function Vj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wj(i,o,s){var _=i.tag;if(_===5||_===6)i=i.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(i,o):s.insertBefore(i,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(i,s)):(o=s,o.appendChild(i)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(_!==4&&(i=i.child,i!==null))for(Wj(i,o,s),i=i.sibling;i!==null;)Wj(i,o,s),i=i.sibling}function Xj(i,o,s){var _=i.tag;if(_===5||_===6)i=i.stateNode,o?s.insertBefore(i,o):s.appendChild(i);else if(_!==4&&(i=i.child,i!==null))for(Xj(i,o,s),i=i.sibling;i!==null;)Xj(i,o,s),i=i.sibling}var X=null,Yj=!1;function Zj(i,o,s){for(s=s.child;s!==null;)ak(i,o,s),s=s.sibling}function ak(i,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,o);case 6:var _=X,$=Yj;X=null,Zj(i,o,s),X=_,Yj=$,X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:_=X,$=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(i,o,s),X=_,Yj=$;break;case 0:case 11:case 14:case 15:if(!U&&(_=s.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){$=_=_.next;do{var _e=$,tt=_e.destroy;_e=_e.tag,tt!==void 0&&(_e&2||_e&4)&&Nj(s,o,tt),$=$.next}while($!==_)}Zj(i,o,s);break;case 1:if(!U&&(Mj(s,o),_=s.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=s.memoizedProps,_.state=s.memoizedState,_.componentWillUnmount()}catch(j){W(s,o,j)}Zj(i,o,s);break;case 21:Zj(i,o,s);break;case 22:s.mode&1?(U=(_=U)||s.memoizedState!==null,Zj(i,o,s),U=_):Zj(i,o,s);break;default:Zj(i,o,s)}}function bk(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Lj),o.forEach(function(_){var $=ck.bind(null,i,_);s.has(_)||(s.add(_),_.then($,$))})}}function dk(i,o){var s=o.deletions;if(s!==null)for(var _=0;_<s.length;_++){var $=s[_];try{var _e=i,tt=o,j=tt;e:for(;j!==null;){switch(j.tag){case 5:X=j.stateNode,Yj=!1;break e;case 3:X=j.stateNode.containerInfo,Yj=!0;break e;case 4:X=j.stateNode.containerInfo,Yj=!0;break e}j=j.return}if(X===null)throw Error(p$2(160));ak(_e,tt,$),X=null,Yj=!1;var nt=$.alternate;nt!==null&&(nt.return=null),$.return=null}catch(st){W($,o,st)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,i),o=o.sibling}function ek(i,o){var s=i.alternate,_=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(dk(o,i),fk(i),_&4){try{Qj(3,i,i.return),Rj(3,i)}catch(mt){W(i,i.return,mt)}try{Qj(5,i,i.return)}catch(mt){W(i,i.return,mt)}}break;case 1:dk(o,i),fk(i),_&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,i),fk(i),_&512&&s!==null&&Mj(s,s.return),i.flags&32){var $=i.stateNode;try{ob($,"")}catch(mt){W(i,i.return,mt)}}if(_&4&&($=i.stateNode,$!=null)){var _e=i.memoizedProps,tt=s!==null?s.memoizedProps:_e,j=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{j==="input"&&_e.type==="radio"&&_e.name!=null&&ab($,_e),vb(j,tt);var st=vb(j,_e);for(tt=0;tt<nt.length;tt+=2){var ht=nt[tt],_t=nt[tt+1];ht==="style"?sb($,_t):ht==="dangerouslySetInnerHTML"?nb($,_t):ht==="children"?ob($,_t):ta($,ht,_t,st)}switch(j){case"input":bb($,_e);break;case"textarea":ib($,_e);break;case"select":var ft=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!_e.multiple;var dt=_e.value;dt!=null?fb($,!!_e.multiple,dt,!1):ft!==!!_e.multiple&&(_e.defaultValue!=null?fb($,!!_e.multiple,_e.defaultValue,!0):fb($,!!_e.multiple,_e.multiple?[]:"",!1))}$[Pf]=_e}catch(mt){W(i,i.return,mt)}}break;case 6:if(dk(o,i),fk(i),_&4){if(i.stateNode===null)throw Error(p$2(162));$=i.stateNode,_e=i.memoizedProps;try{$.nodeValue=_e}catch(mt){W(i,i.return,mt)}}break;case 3:if(dk(o,i),fk(i),_&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(mt){W(i,i.return,mt)}break;case 4:dk(o,i),fk(i);break;case 13:dk(o,i),fk(i),$=i.child,$.flags&8192&&(_e=$.memoizedState!==null,$.stateNode.isHidden=_e,!_e||$.alternate!==null&&$.alternate.memoizedState!==null||(gk=B())),_&4&&bk(i);break;case 22:if(ht=s!==null&&s.memoizedState!==null,i.mode&1?(U=(st=U)||ht,dk(o,i),U=st):dk(o,i),fk(i),_&8192){if(st=i.memoizedState!==null,(i.stateNode.isHidden=st)&&!ht&&i.mode&1)for(V=i,ht=i.child;ht!==null;){for(_t=V=ht;V!==null;){switch(ft=V,dt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var ut=ft.stateNode;if(typeof ut.componentWillUnmount=="function"){_=ft,s=ft.return;try{o=_,ut.props=o.memoizedProps,ut.state=o.memoizedState,ut.componentWillUnmount()}catch(mt){W(_,s,mt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(_t);continue}}dt!==null?(dt.return=ft,V=dt):hk(_t)}ht=ht.sibling}e:for(ht=null,_t=i;;){if(_t.tag===5){if(ht===null){ht=_t;try{$=_t.stateNode,st?(_e=$.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(j=_t.stateNode,nt=_t.memoizedProps.style,tt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,j.style.display=rb("display",tt))}catch(mt){W(i,i.return,mt)}}}else if(_t.tag===6){if(ht===null)try{_t.stateNode.nodeValue=st?"":_t.memoizedProps}catch(mt){W(i,i.return,mt)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===i)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===i)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===i)break e;ht===_t&&(ht=null),_t=_t.return}ht===_t&&(ht=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:dk(o,i),fk(i),_&4&&bk(i);break;case 21:break;default:dk(o,i),fk(i)}}function fk(i){var o=i.flags;if(o&2){try{e:{for(var s=i.return;s!==null;){if(Uj(s)){var _=s;break e}s=s.return}throw Error(p$2(160))}switch(_.tag){case 5:var $=_.stateNode;_.flags&32&&(ob($,""),_.flags&=-33);var _e=Vj(i);Xj(i,_e,$);break;case 3:case 4:var tt=_.stateNode.containerInfo,j=Vj(i);Wj(i,j,tt);break;default:throw Error(p$2(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ik(i,o,s){V=i,jk(i)}function jk(i,o,s){for(var _=(i.mode&1)!==0;V!==null;){var $=V,_e=$.child;if($.tag===22&&_){var tt=$.memoizedState!==null||Kj;if(!tt){var j=$.alternate,nt=j!==null&&j.memoizedState!==null||U;j=Kj;var st=U;if(Kj=tt,(U=nt)&&!st)for(V=$;V!==null;)tt=V,nt=tt.child,tt.tag===22&&tt.memoizedState!==null?kk($):nt!==null?(nt.return=tt,V=nt):kk($);for(;_e!==null;)V=_e,jk(_e),_e=_e.sibling;V=$,Kj=j,U=st}lk(i)}else $.subtreeFlags&8772&&_e!==null?(_e.return=$,V=_e):lk(i)}}function lk(i){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var _=o.stateNode;if(o.flags&4&&!U)if(s===null)_.componentDidMount();else{var $=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);_.componentDidUpdate($,s.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var _e=o.updateQueue;_e!==null&&ih(o,_e,_);break;case 3:var tt=o.updateQueue;if(tt!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,tt,s)}break;case 5:var j=o.stateNode;if(s===null&&o.flags&4){s=j;var nt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&s.focus();break;case"img":nt.src&&(s.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var st=o.alternate;if(st!==null){var ht=st.memoizedState;if(ht!==null){var _t=ht.dehydrated;_t!==null&&bd(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||o.flags&512&&Sj(o)}catch(ft){W(o,o.return,ft)}}if(o===i){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function hk(i){for(;V!==null;){var o=V;if(o===i){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function kk(i){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(nt){W(o,s,nt)}break;case 1:var _=o.stateNode;if(typeof _.componentDidMount=="function"){var $=o.return;try{_.componentDidMount()}catch(nt){W(o,$,nt)}}var _e=o.return;try{Sj(o)}catch(nt){W(o,_e,nt)}break;case 5:var tt=o.return;try{Sj(o)}catch(nt){W(o,tt,nt)}}}catch(nt){W(o,o.return,nt)}if(o===i){V=null;break}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break}V=o.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function mh(i,o,s,_){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(i,s,_),(!(K&2)||i!==R)&&(i===R&&(!(K&2)&&(rk|=s),T===4&&Dk(i,Z)),Ek(i,_),s===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(i,o){var s=i.callbackNode;wc(i,o);var _=uc(i,i===R?Z:0);if(_===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(o=_&-_,i.callbackPriority!==o){if(s!=null&&bc(s),o===1)i.tag===0?ig(Fk.bind(null,i)):hg(Fk.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(_)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,i))}i.callbackPriority=o,i.callbackNode=s}}function Hk(i,o){if(Bk=-1,Ck=0,K&6)throw Error(p$2(327));var s=i.callbackNode;if(Ik()&&i.callbackNode!==s)return null;var _=uc(i,i===R?Z:0);if(_===0)return null;if(_&30||_&i.expiredLanes||o)o=Jk(i,_);else{o=_;var $=K;K|=2;var _e=Kk();(R!==i||Z!==o)&&(vk=null,Hj=B()+500,Lk(i,o));do try{Mk();break}catch(j){Nk(i,j)}while(1);Qg(),nk.current=_e,K=$,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&($=xc(i),$!==0&&(_=$,o=Ok(i,$))),o===1)throw s=qk,Lk(i,0),Dk(i,_),Ek(i,B()),s;if(o===6)Dk(i,_);else{if($=i.current.alternate,!(_&30)&&!Pk($)&&(o=Jk(i,_),o===2&&(_e=xc(i),_e!==0&&(_=_e,o=Ok(i,_e))),o===1))throw s=qk,Lk(i,0),Dk(i,_),Ek(i,B()),s;switch(i.finishedWork=$,i.finishedLanes=_,o){case 0:case 1:throw Error(p$2(345));case 2:Qk(i,uk,vk);break;case 3:if(Dk(i,_),(_&130023424)===_&&(o=gk+500-B(),10<o)){if(uc(i,0)!==0)break;if($=i.suspendedLanes,($&_)!==_){L(),i.pingedLanes|=i.suspendedLanes&$;break}i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),o);break}Qk(i,uk,vk);break;case 4:if(Dk(i,_),(_&4194240)===_)break;for(o=i.eventTimes,$=-1;0<_;){var tt=31-oc(_);_e=1<<tt,tt=o[tt],tt>$&&($=tt),_&=~_e}if(_=$,_=B()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*mk(_/1960))-_,10<_){i.timeoutHandle=Ff(Qk.bind(null,i,uk,vk),_);break}Qk(i,uk,vk);break;case 5:Qk(i,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(i,B()),i.callbackNode===s?Hk.bind(null,i):null}function Ok(i,o){var s=tk;return i.current.memoizedState.isDehydrated&&(Lk(i,o).flags|=256),i=Jk(i,o),i!==2&&(o=uk,uk=s,o!==null&&Gj(o)),i}function Gj(i){uk===null?uk=i:uk.push.apply(uk,i)}function Pk(i){for(var o=i;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var _=0;_<s.length;_++){var $=s[_],_e=$.getSnapshot;$=$.value;try{if(!He(_e(),$))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(i,o){for(o&=~sk,o&=~rk,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var s=31-oc(o),_=1<<s;i[s]=-1,o&=~_}}function Fk(i){if(K&6)throw Error(p$2(327));Ik();var o=uc(i,0);if(!(o&1))return Ek(i,B()),null;var s=Jk(i,o);if(i.tag!==0&&s===2){var _=xc(i);_!==0&&(o=_,s=Ok(i,_))}if(s===1)throw s=qk,Lk(i,0),Dk(i,o),Ek(i,B()),s;if(s===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Qk(i,uk,vk),Ek(i,B()),null}function Rk(i,o){var s=K;K|=1;try{return i(o)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(i){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var s=pk.transition,_=C;try{if(pk.transition=null,C=1,i)return i()}finally{C=_,pk.transition=s,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(i,o){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var _=s;switch(wg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(_);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(_.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=i,Y=i=wh(i.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],_=s.interleaved,_!==null){s.interleaved=null;var $=_.next,_e=s.pending;if(_e!==null){var tt=_e.next;_e.next=$,_.next=tt}s.pending=_}Wg=null}return i}function Nk(i,o){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var _=N.memoizedState;_!==null;){var $=_.queue;$!==null&&($.pending=null),_=_.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=o,Y=null;break}e:{var _e=i,tt=s.return,j=s,nt=o;if(o=Z,j.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var st=nt,ht=j,_t=ht.tag;if(!(ht.mode&1)&&(_t===0||_t===11||_t===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var dt=Vi(tt);if(dt!==null){dt.flags&=-257,Wi(dt,tt,j,_e,o),dt.mode&1&&Ti(_e,st,o),o=dt,nt=st;var ut=o.updateQueue;if(ut===null){var mt=new Set;mt.add(nt),o.updateQueue=mt}else ut.add(nt);break e}else{if(!(o&1)){Ti(_e,st,o),uj();break e}nt=Error(p$2(426))}}else if(I&&j.mode&1){var wt=Vi(tt);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Wi(wt,tt,j,_e,o),Jg(Ki(nt,j));break e}}_e=nt=Ki(nt,j),T!==4&&(T=2),tk===null?tk=[_e]:tk.push(_e),_e=tt;do{switch(_e.tag){case 3:_e.flags|=65536,o&=-o,_e.lanes|=o;var Qt=Oi(_e,nt,o);fh(_e,Qt);break e;case 1:j=nt;var Dt=_e.type,Et=_e.stateNode;if(!(_e.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Si===null||!Si.has(Et)))){_e.flags|=65536,o&=-o,_e.lanes|=o;var xt=Ri(_e,j,o);fh(_e,xt);break e}}_e=_e.return}while(_e!==null)}Tk(s)}catch(pt){o=pt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var i=nk.current;return nk.current=ai,i===null?ai:i}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(i,o){var s=K;K|=2;var _=Kk();(R!==i||Z!==o)&&(vk=null,Lk(i,o));do try{Uk();break}catch($){Nk(i,$)}while(1);if(Qg(),K=s,nk.current=_,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(i){var o=Wk(i.alternate,i,gj);i.memoizedProps=i.pendingProps,o===null?Tk(i):Y=o,ok.current=null}function Tk(i){var o=i;do{var s=o.alternate;if(i=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,o,gj),s!==null){Y=s;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=i}while(o!==null);T===0&&(T=5)}function Qk(i,o,s){var _=C,$=pk.transition;try{pk.transition=null,C=1,Xk(i,o,s,_)}finally{pk.transition=$,C=_}return null}function Xk(i,o,s,_){do Ik();while(xk!==null);if(K&6)throw Error(p$2(327));s=i.finishedWork;var $=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var _e=s.lanes|s.childLanes;if(Bc(i,_e),i===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),_e=(s.flags&15990)!==0,s.subtreeFlags&15990||_e){_e=pk.transition,pk.transition=null;var tt=C;C=1;var j=K;K|=4,ok.current=null,Pj(i,s),ek(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,ik(s),dc(),K=j,C=tt,pk.transition=_e}else i.current=s;if(wk&&(wk=!1,xk=i,yk=$),_e=i.pendingLanes,_e===0&&(Si=null),mc(s.stateNode),Ek(i,B()),o!==null)for(_=i.onRecoverableError,s=0;s<o.length;s++)$=o[s],_($.value,{componentStack:$.stack,digest:$.digest});if(Pi)throw Pi=!1,i=Qi,Qi=null,i;return yk&1&&i.tag!==0&&Ik(),_e=i.pendingLanes,_e&1?i===Ak?zk++:(zk=0,Ak=i):zk=0,jg(),null}function Ik(){if(xk!==null){var i=Dc(yk),o=pk.transition,s=C;try{if(pk.transition=null,C=16>i?16:i,xk===null)var _=!1;else{if(i=xk,xk=null,yk=0,K&6)throw Error(p$2(331));var $=K;for(K|=4,V=i.current;V!==null;){var _e=V,tt=_e.child;if(V.flags&16){var j=_e.deletions;if(j!==null){for(var nt=0;nt<j.length;nt++){var st=j[nt];for(V=st;V!==null;){var ht=V;switch(ht.tag){case 0:case 11:case 15:Qj(8,ht,_e)}var _t=ht.child;if(_t!==null)_t.return=ht,V=_t;else for(;V!==null;){ht=V;var ft=ht.sibling,dt=ht.return;if(Tj(ht),ht===st){V=null;break}if(ft!==null){ft.return=dt,V=ft;break}V=dt}}}var ut=_e.alternate;if(ut!==null){var mt=ut.child;if(mt!==null){ut.child=null;do{var wt=mt.sibling;mt.sibling=null,mt=wt}while(mt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&tt!==null)tt.return=_e,V=tt;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Qj(9,_e,_e.return)}var Qt=_e.sibling;if(Qt!==null){Qt.return=_e.return,V=Qt;break e}V=_e.return}}var Dt=i.current;for(V=Dt;V!==null;){tt=V;var Et=tt.child;if(tt.subtreeFlags&2064&&Et!==null)Et.return=tt,V=Et;else e:for(tt=Dt;V!==null;){if(j=V,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Rj(9,j)}}catch(pt){W(j,j.return,pt)}if(j===tt){V=null;break e}var xt=j.sibling;if(xt!==null){xt.return=j.return,V=xt;break e}V=j.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}_=!0}return _}finally{C=s,pk.transition=o}}return!1}function Yk(i,o,s){o=Ki(s,o),o=Oi(i,o,1),i=dh(i,o,1),o=L(),i!==null&&(Ac(i,1,o),Ek(i,o))}function W(i,o,s){if(i.tag===3)Yk(i,i,s);else for(;o!==null;){if(o.tag===3){Yk(o,i,s);break}else if(o.tag===1){var _=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Si===null||!Si.has(_))){i=Ki(s,i),i=Ri(o,i,1),o=dh(o,i,1),i=L(),o!==null&&(Ac(o,1,i),Ek(o,i));break}}o=o.return}}function Ui(i,o,s){var _=i.pingCache;_!==null&&_.delete(o),o=L(),i.pingedLanes|=i.suspendedLanes&s,R===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(i,0):sk|=s),Ek(i,o)}function Zk(i,o){o===0&&(i.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=L();i=Zg(i,o),i!==null&&(Ac(i,o,s),Ek(i,s))}function vj(i){var o=i.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(i,s)}function ck(i,o){var s=0;switch(i.tag){case 13:var _=i.stateNode,$=i.memoizedState;$!==null&&(s=$.retryLane);break;case 19:_=i.stateNode;break;default:throw Error(p$2(314))}_!==null&&_.delete(o),Zk(i,s)}var Wk;Wk=function(i,o,s){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(i.lanes&s)&&!(o.flags&128))return Ug=!1,zj(i,o,s);Ug=!!(i.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var _=o.type;jj(i,o),i=o.pendingProps;var $=Yf(o,H.current);Tg(o,s),$=Xh(null,o,_,i,$,s);var _e=bi();return o.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(_)?(_e=!0,cg(o)):_e=!1,o.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,ah(o),$.updater=nh,o.stateNode=$,$._reactInternals=o,rh(o,_,i,s),o=kj(null,o,_,!0,_e,s)):(o.tag=0,I&&_e&&vg(o),Yi(null,o,$,s),o=o.child),o;case 16:_=o.elementType;e:{switch(jj(i,o),i=o.pendingProps,$=_._init,_=$(_._payload),o.type=_,$=o.tag=$k(_),i=Lg(_,i),$){case 0:o=dj(null,o,_,i,s);break e;case 1:o=ij(null,o,_,i,s);break e;case 11:o=Zi(null,o,_,i,s);break e;case 14:o=aj(null,o,_,Lg(_.type,i),s);break e}throw Error(p$2(306,_,""))}return o;case 0:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),dj(i,o,_,$,s);case 1:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),ij(i,o,_,$,s);case 3:e:{if(lj(o),i===null)throw Error(p$2(387));_=o.pendingProps,_e=o.memoizedState,$=_e.element,bh(i,o),gh(o,_,null,s);var tt=o.memoizedState;if(_=tt.element,_e.isDehydrated)if(_e={element:_,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},o.updateQueue.baseState=_e,o.memoizedState=_e,o.flags&256){$=Ki(Error(p$2(423)),o),o=mj(i,o,_,s,$);break e}else if(_!==$){$=Ki(Error(p$2(424)),o),o=mj(i,o,_,s,$);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Ch(o,null,_,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),_===$){o=$i(i,o,s);break e}Yi(i,o,_,s)}o=o.child}return o;case 5:return Kh(o),i===null&&Eg(o),_=o.type,$=o.pendingProps,_e=i!==null?i.memoizedProps:null,tt=$.children,Ef(_,$)?tt=null:_e!==null&&Ef(_,_e)&&(o.flags|=32),hj(i,o),Yi(i,o,tt,s),o.child;case 6:return i===null&&Eg(o),null;case 13:return pj(i,o,s);case 4:return Ih(o,o.stateNode.containerInfo),_=o.pendingProps,i===null?o.child=Bh(o,null,_,s):Yi(i,o,_,s),o.child;case 11:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),Zi(i,o,_,$,s);case 7:return Yi(i,o,o.pendingProps,s),o.child;case 8:return Yi(i,o,o.pendingProps.children,s),o.child;case 12:return Yi(i,o,o.pendingProps.children,s),o.child;case 10:e:{if(_=o.type._context,$=o.pendingProps,_e=o.memoizedProps,tt=$.value,G(Mg,_._currentValue),_._currentValue=tt,_e!==null)if(He(_e.value,tt)){if(_e.children===$.children&&!Wf.current){o=$i(i,o,s);break e}}else for(_e=o.child,_e!==null&&(_e.return=o);_e!==null;){var j=_e.dependencies;if(j!==null){tt=_e.child;for(var nt=j.firstContext;nt!==null;){if(nt.context===_){if(_e.tag===1){nt=ch(-1,s&-s),nt.tag=2;var st=_e.updateQueue;if(st!==null){st=st.shared;var ht=st.pending;ht===null?nt.next=nt:(nt.next=ht.next,ht.next=nt),st.pending=nt}}_e.lanes|=s,nt=_e.alternate,nt!==null&&(nt.lanes|=s),Sg(_e.return,s,o),j.lanes|=s;break}nt=nt.next}}else if(_e.tag===10)tt=_e.type===o.type?null:_e.child;else if(_e.tag===18){if(tt=_e.return,tt===null)throw Error(p$2(341));tt.lanes|=s,j=tt.alternate,j!==null&&(j.lanes|=s),Sg(tt,s,o),tt=_e.sibling}else tt=_e.child;if(tt!==null)tt.return=_e;else for(tt=_e;tt!==null;){if(tt===o){tt=null;break}if(_e=tt.sibling,_e!==null){_e.return=tt.return,tt=_e;break}tt=tt.return}_e=tt}Yi(i,o,$.children,s),o=o.child}return o;case 9:return $=o.type,_=o.pendingProps.children,Tg(o,s),$=Vg($),_=_($),o.flags|=1,Yi(i,o,_,s),o.child;case 14:return _=o.type,$=Lg(_,o.pendingProps),$=Lg(_.type,$),aj(i,o,_,$,s);case 15:return cj(i,o,o.type,o.pendingProps,s);case 17:return _=o.type,$=o.pendingProps,$=o.elementType===_?$:Lg(_,$),jj(i,o),o.tag=1,Zf(_)?(i=!0,cg(o)):i=!1,Tg(o,s),ph(o,_,$),rh(o,_,$,s),kj(null,o,_,!0,i,s);case 19:return yj(i,o,s);case 22:return ej(i,o,s)}throw Error(p$2(156,o.tag))};function Gk(i,o){return ac(i,o)}function al(i,o,s,_){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,o,s,_){return new al(i,o,s,_)}function bj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $k(i){if(typeof i=="function")return bj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function wh(i,o){var s=i.alternate;return s===null?(s=Bg(i.tag,o,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=o,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,o=i.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function yh(i,o,s,_,$,_e){var tt=2;if(_=i,typeof i=="function")bj(i)&&(tt=1);else if(typeof i=="string")tt=5;else e:switch(i){case ya:return Ah(s.children,$,_e,o);case za:tt=8,$|=8;break;case Aa:return i=Bg(12,s,o,$|2),i.elementType=Aa,i.lanes=_e,i;case Ea:return i=Bg(13,s,o,$),i.elementType=Ea,i.lanes=_e,i;case Fa:return i=Bg(19,s,o,$),i.elementType=Fa,i.lanes=_e,i;case Ia:return qj(s,$,_e,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,_=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return o=Bg(tt,s,o,$),o.elementType=i,o.type=_,o.lanes=_e,o}function Ah(i,o,s,_){return i=Bg(7,i,_,o),i.lanes=s,i}function qj(i,o,s,_){return i=Bg(22,i,_,o),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function xh(i,o,s){return i=Bg(6,i,null,o),i.lanes=s,i}function zh(i,o,s){return o=Bg(4,i.children!==null?i.children:[],i.key,o),o.lanes=s,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function bl(i,o,s,_,$){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function cl(i,o,s,_,$,_e,tt,j,nt){return i=new bl(i,o,s,j,nt),o===1?(o=1,_e===!0&&(o|=8)):o=0,_e=Bg(3,null,null,o),i.current=_e,_e.stateNode=i,_e.memoizedState={element:_,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_e),i}function dl(i,o,s){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_==null?null:""+_,children:i,containerInfo:o,implementation:s}}function el(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$2(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$2(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,o)}return o}function fl(i,o,s,_,$,_e,tt,j,nt){return i=cl(s,_,!0,i,$,_e,tt,j,nt),i.context=el(null),s=i.current,_=L(),$=lh(s),_e=ch(_,$),_e.callback=o??null,dh(s,_e,$),i.current.lanes=$,Ac(i,$,_),Ek(i,_),i}function gl(i,o,s,_){var $=o.current,_e=L(),tt=lh($);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(_e,tt),o.payload={element:i},_=_===void 0?null:_,_!==null&&(o.callback=_),i=dh($,o,tt),i!==null&&(mh(i,$,tt,_e),eh(i,$,tt)),tt}function hl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function il(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<o?s:o}}function jl(i,o){il(i,o),(i=i.alternate)&&il(i,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(i){console.error(i)};function ml(i){this._internalRoot=i}nl.prototype.render=ml.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(p$2(409));gl(i,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Sk(function(){gl(null,i,null,null)}),o[uf]=null}};function nl(i){this._internalRoot=i}nl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(i,o,s,_,$){if($){if(typeof _=="function"){var _e=_;_=function(){var st=hl(tt);_e.call(st)}}var tt=fl(o,_,i,0,null,!1,!1,"",ql);return i._reactRootContainer=tt,i[uf]=tt.current,sf(i.nodeType===8?i.parentNode:i),Sk(),tt}for(;$=i.lastChild;)i.removeChild($);if(typeof _=="function"){var j=_;_=function(){var st=hl(nt);j.call(st)}}var nt=cl(i,0,!1,null,null,!1,!1,"",ql);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Sk(function(){gl(o,nt,s,_)}),nt}function sl(i,o,s,_,$){var _e=s._reactRootContainer;if(_e){var tt=_e;if(typeof $=="function"){var j=$;$=function(){var nt=hl(tt);j.call(nt)}}gl(o,tt,i,$)}else tt=rl(s,o,i,$,_);return hl(tt)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var _=Zg(i,1);if(_!==null){var $=L();mh(_,i,1,$)}}),jl(i,1)}};Fc=function(i){if(i.tag===13){var o=Zg(i,134217728);if(o!==null){var s=L();mh(o,i,134217728,s)}jl(i,134217728)}};Gc=function(i){if(i.tag===13){var o=lh(i),s=Zg(i,o);if(s!==null){var _=L();mh(s,i,o,_)}jl(i,o)}};Hc=function(){return C};Ic=function(i,o){var s=C;try{return C=i,o()}finally{C=s}};yb=function(i,o,s){switch(o){case"input":if(bb(i,s),o=s.name,s.type==="radio"&&o!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var _=s[o];if(_!==i&&_.form===i.form){var $=Db(_);if(!$)throw Error(p$2(90));Wa(_),bb(_,$)}}}break;case"textarea":ib(i,s);break;case"select":o=s.value,o!=null&&fb(i,!!s.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(i,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$2(200));return dl(i,o,null,s)};reactDom_production_min.createRoot=function(i,o){if(!ol(i))throw Error(p$2(299));var s=!1,_="",$=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&($=o.onRecoverableError)),o=cl(i,1,!1,null,null,s,!1,_,$),i[uf]=o.current,sf(i.nodeType===8?i.parentNode:i),new ml(o)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb(o),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Sk(i)};reactDom_production_min.hydrate=function(i,o,s){if(!pl(o))throw Error(p$2(200));return sl(null,i,o,!0,s)};reactDom_production_min.hydrateRoot=function(i,o,s){if(!ol(i))throw Error(p$2(405));var _=s!=null&&s.hydratedSources||null,$=!1,_e="",tt=ll;if(s!=null&&(s.unstable_strictMode===!0&&($=!0),s.identifierPrefix!==void 0&&(_e=s.identifierPrefix),s.onRecoverableError!==void 0&&(tt=s.onRecoverableError)),o=fl(o,null,i,1,s??null,$,!1,_e,tt),i[uf]=o.current,sf(i),_)for(i=0;i<_.length;i++)s=_[i],$=s._getVersion,$=$(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,$]:o.mutableSourceEagerHydrationData.push(s,$);return new nl(o)};reactDom_production_min.render=function(i,o,s){if(!pl(o))throw Error(p$2(200));return sl(null,i,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!pl(i))throw Error(p$2(40));return i._reactRootContainer?(Sk(function(){sl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,o,s,_){if(!pl(s))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return sl(i,o,s,!1,_)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(i){function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}o(),i.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var mapboxGlExports={},mapboxGl={get exports(){return mapboxGlExports},set exports(i){mapboxGlExports=i}};(function(i,o){(function(s,_){i.exports=_()})(commonjsGlobal$1,function(){var s,_,$;function _e(j,nt){if(!s)s=nt;else if(!_)_=nt;else{var st="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+s+")(sharedChunk); ("+_+")(sharedChunk); self.onerror = null;",ht={};s(ht),$=nt(ht),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&($.workerUrl=window.URL.createObjectURL(new Blob([st],{type:"text/javascript"})))}}_e(["exports"],function(j){var nt=typeof self<"u"?self:{},st="2.11.1";let ht;const _t={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ht==null){const rt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ht={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):rt}catch{ht=rt}}return ht},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ft={supported:!1,testSupport:function(rt){!mt&&ut&&(wt?Qt(rt):dt=rt)}};let dt,ut,mt=!1,wt=!1;function Qt(rt){const et=rt.createTexture();rt.bindTexture(rt.TEXTURE_2D,et);try{if(rt.texImage2D(rt.TEXTURE_2D,0,rt.RGBA,rt.RGBA,rt.UNSIGNED_BYTE,ut),rt.isContextLost())return;ft.supported=!0}catch{}rt.deleteTexture(et),mt=!0}nt.document&&(ut=nt.document.createElement("img"),ut.onload=function(){dt&&Qt(dt),dt=null,wt=!0},ut.onerror=function(){mt=!0,dt=null},ut.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Dt="01";var Et=xt;function xt(rt,et,it,at){this.cx=3*rt,this.bx=3*(it-rt)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*et,this.by=3*(at-et)-this.cy,this.ay=1-this.cy-this.by,this.p1x=rt,this.p1y=et,this.p2x=it,this.p2y=at}xt.prototype={sampleCurveX:function(rt){return((this.ax*rt+this.bx)*rt+this.cx)*rt},sampleCurveY:function(rt){return((this.ay*rt+this.by)*rt+this.cy)*rt},sampleCurveDerivativeX:function(rt){return(3*this.ax*rt+2*this.bx)*rt+this.cx},solveCurveX:function(rt,et){if(et===void 0&&(et=1e-6),rt<0)return 0;if(rt>1)return 1;for(var it=rt,at=0;at<8;at++){var ct=this.sampleCurveX(it)-rt;if(Math.abs(ct)<et)return it;var vt=this.sampleCurveDerivativeX(it);if(Math.abs(vt)<1e-6)break;it-=ct/vt}var Rt=0,Nt=1;for(it=rt,at=0;at<20&&(ct=this.sampleCurveX(it),!(Math.abs(ct-rt)<et));at++)rt>ct?Rt=it:Nt=it,it=.5*(Nt-Rt)+Rt;return it},solve:function(rt,et){return this.sampleCurveY(this.solveCurveX(rt,et))}};var pt=Vt;function Vt(rt,et){this.x=rt,this.y=et}Vt.prototype={clone:function(){return new Vt(this.x,this.y)},add:function(rt){return this.clone()._add(rt)},sub:function(rt){return this.clone()._sub(rt)},multByPoint:function(rt){return this.clone()._multByPoint(rt)},divByPoint:function(rt){return this.clone()._divByPoint(rt)},mult:function(rt){return this.clone()._mult(rt)},div:function(rt){return this.clone()._div(rt)},rotate:function(rt){return this.clone()._rotate(rt)},rotateAround:function(rt,et){return this.clone()._rotateAround(rt,et)},matMult:function(rt){return this.clone()._matMult(rt)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(rt){return this.x===rt.x&&this.y===rt.y},dist:function(rt){return Math.sqrt(this.distSqr(rt))},distSqr:function(rt){var et=rt.x-this.x,it=rt.y-this.y;return et*et+it*it},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(rt){return Math.atan2(this.y-rt.y,this.x-rt.x)},angleWith:function(rt){return this.angleWithSep(rt.x,rt.y)},angleWithSep:function(rt,et){return Math.atan2(this.x*et-this.y*rt,this.x*rt+this.y*et)},_matMult:function(rt){var et=rt[2]*this.x+rt[3]*this.y;return this.x=rt[0]*this.x+rt[1]*this.y,this.y=et,this},_add:function(rt){return this.x+=rt.x,this.y+=rt.y,this},_sub:function(rt){return this.x-=rt.x,this.y-=rt.y,this},_mult:function(rt){return this.x*=rt,this.y*=rt,this},_div:function(rt){return this.x/=rt,this.y/=rt,this},_multByPoint:function(rt){return this.x*=rt.x,this.y*=rt.y,this},_divByPoint:function(rt){return this.x/=rt.x,this.y/=rt.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var rt=this.y;return this.y=this.x,this.x=-rt,this},_rotate:function(rt){var et=Math.cos(rt),it=Math.sin(rt),at=it*this.x+et*this.y;return this.x=et*this.x-it*this.y,this.y=at,this},_rotateAround:function(rt,et){var it=Math.cos(rt),at=Math.sin(rt),ct=et.y+at*(this.x-et.x)+it*(this.y-et.y);return this.x=et.x+it*(this.x-et.x)-at*(this.y-et.y),this.y=ct,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Vt.convert=function(rt){return rt instanceof Vt?rt:Array.isArray(rt)?new Vt(rt[0],rt[1]):rt};const nn=Math.PI/180,on=180/Math.PI;function bt(rt){return rt*nn}function St(rt){return rt*on}const It=[[0,0],[1,0],[1,1],[0,1]];function Bt(rt){if(rt<=0)return 0;if(rt>=1)return 1;const et=rt*rt,it=et*rt;return 4*(rt<.5?it:3*(rt-et)+it-.75)}function Lt(rt,et,it,at){const ct=new Et(rt,et,it,at);return function(vt){return ct.solve(vt)}}const Xt=Lt(.25,.1,.25,1);function zt(rt,et,it){return Math.min(it,Math.max(et,rt))}function Pt(rt,et,it){return(it=zt((it-rt)/(et-rt),0,1))*it*(3-2*it)}function jt(rt,et,it){const at=it-et,ct=((rt-et)%at+at)%at+et;return ct===et?it:ct}function Zt(rt,et,it){if(!rt.length)return it(null,[]);let at=rt.length;const ct=new Array(rt.length);let vt=null;rt.forEach((Rt,Nt)=>{et(Rt,(Jt,Yt)=>{Jt&&(vt=Jt),ct[Nt]=Yt,--at==0&&it(vt,ct)})})}function Ct(rt){const et=[];for(const it in rt)et.push(rt[it]);return et}function Ft(rt,...et){for(const it of et)for(const at in it)rt[at]=it[at];return rt}let Ht=1;function tn(){return Ht++}function mn(){return function rt(et){return et?(et^Math.random()*(16>>et/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,rt)}()}function yn(rt){return rt<=1?1:Math.pow(2,Math.ceil(Math.log(rt)/Math.LN2))}function vn(rt){return!!rt&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(rt)}function un(rt,et){rt.forEach(it=>{et[it]&&(et[it]=et[it].bind(et))})}function rn(rt,et){return rt.indexOf(et,rt.length-et.length)!==-1}function At(rt,et,it){const at={};for(const ct in rt)at[ct]=et.call(it||this,rt[ct],ct,rt);return at}function Mt(rt,et,it){const at={};for(const ct in rt)et.call(it||this,rt[ct],ct,rt)&&(at[ct]=rt[ct]);return at}function $t(rt){return Array.isArray(rt)?rt.map($t):typeof rt=="object"&&rt?At(rt,$t):rt}const pn={};function hn(rt){pn[rt]||(typeof console<"u"&&console.warn(rt),pn[rt]=!0)}function Sn(rt,et,it){return(it.y-rt.y)*(et.x-rt.x)>(et.y-rt.y)*(it.x-rt.x)}function An(rt){let et=0;for(let it,at,ct=0,vt=rt.length,Rt=vt-1;ct<vt;Rt=ct++)it=rt[ct],at=rt[Rt],et+=(at.x-it.x)*(it.y+at.y);return et}function Gn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Qr(rt){const et={};if(rt.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(it,at,ct,vt)=>{const Rt=ct||vt;return et[at]=!Rt||Rt.toLowerCase(),""}),et["max-age"]){const it=parseInt(et["max-age"],10);isNaN(it)?delete et["max-age"]:et["max-age"]=it}return et}let _i=null;function Pr(rt){if(_i==null){const et=rt.navigator?rt.navigator.userAgent:null;_i=!!rt.safari||!(!et||!(/\b(iPad|iPhone|iPod)\b/.test(et)||et.match("Safari")&&!et.match("Chrome")))}return _i}function po(rt){try{const et=nt[rt];return et.setItem("_mapbox_test_",1),et.removeItem("_mapbox_test_"),!0}catch{return!1}}function jr(rt,et){return[rt[4*et],rt[4*et+1],rt[4*et+2],rt[4*et+3]]}const Yr="mapbox-tiles";let no,Qo,Co=500,Jo=50;function es(){try{return nt.caches}catch{}}function xo(){es()&&!no&&(no=nt.caches.open(Yr))}function ls(rt){const et=rt.indexOf("?");if(et<0)return rt;const it=function(ct){const vt=ct.indexOf("?");return vt>0?ct.slice(vt+1).split("&"):[]}(rt),at=it.filter(ct=>{const vt=ct.split("=");return vt[0]==="language"||vt[0]==="worldview"});return at.length?`${rt.slice(0,et)}?${at.join("&")}`:rt.slice(0,et)}let Ds=1/0;const hs={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(hs);class Hl extends Error{constructor(et,it,at){it===401&&En(at)&&(et+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(et),this.status=it,this.url=at}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ll=Gn()?()=>self.worker&&self.worker.referrer:()=>(nt.location.protocol==="blob:"?nt.parent:nt).location.href,Ls=function(rt,et){if(!(/^file:/.test(it=rt.url)||/^file:/.test(Ll())&&!/^\w+:/.test(it))){if(nt.fetch&&nt.Request&&nt.AbortController&&nt.Request.prototype.hasOwnProperty("signal"))return function(at,ct){const vt=new nt.AbortController,Rt=new nt.Request(at.url,{method:at.method||"GET",body:at.body,credentials:at.credentials,headers:at.headers,referrer:Ll(),signal:vt.signal});let Nt=!1,Jt=!1;const Yt=(sn=Rt.url).indexOf("sku=")>0&&En(sn);var sn;at.type==="json"&&Rt.headers.set("Accept","application/json");const dn=(Rn,Bn,kn)=>{if(Jt)return;if(Rn&&Rn.message!=="SecurityError"&&hn(Rn),Bn&&kn)return gn(Bn);const Ln=Date.now();nt.fetch(Rt).then(ir=>{if(ir.ok){const _r=Yt?ir.clone():null;return gn(ir,_r,Ln)}return ct(new Hl(ir.statusText,ir.status,at.url))}).catch(ir=>{ir.code!==20&&ct(new Error(ir.message))})},gn=(Rn,Bn,kn)=>{(at.type==="arrayBuffer"?Rn.arrayBuffer():at.type==="json"?Rn.json():Rn.text()).then(Ln=>{Jt||(Bn&&kn&&function(ir,_r,rr){if(xo(),!no)return;const fr={status:_r.status,statusText:_r.statusText,headers:new nt.Headers};_r.headers.forEach((Vr,Cr)=>fr.headers.set(Cr,Vr));const Ur=Qr(_r.headers.get("Cache-Control")||"");if(Ur["no-store"])return;Ur["max-age"]&&fr.headers.set("Expires",new Date(rr+1e3*Ur["max-age"]).toUTCString());const pr=fr.headers.get("Expires");pr&&(new Date(pr).getTime()-rr<42e4||function(Vr,Cr){if(Qo===void 0)try{new Response(new ReadableStream),Qo=!0}catch{Qo=!1}Qo?Cr(Vr.body):Vr.blob().then(Cr)}(_r,Vr=>{const Cr=new nt.Response(Vr,fr);xo(),no&&no.then(Jr=>Jr.put(ls(ir.url),Cr)).catch(Jr=>hn(Jr.message))}))}(Rt,Bn,kn),Nt=!0,ct(null,Ln,Rn.headers.get("Cache-Control"),Rn.headers.get("Expires")))}).catch(Ln=>{Jt||ct(new Error(Ln.message))})};return Yt?function(Rn,Bn){if(xo(),!no)return Bn(null);const kn=ls(Rn.url);no.then(Ln=>{Ln.match(kn).then(ir=>{const _r=function(rr){if(!rr)return!1;const fr=new Date(rr.headers.get("Expires")||0),Ur=Qr(rr.headers.get("Cache-Control")||"");return fr>Date.now()&&!Ur["no-cache"]}(ir);Ln.delete(kn),_r&&Ln.put(kn,ir.clone()),Bn(null,ir,_r)}).catch(Bn)}).catch(Bn)}(Rt,dn):dn(null,null),{cancel:()=>{Jt=!0,Nt||vt.abort()}}}(rt,et);if(Gn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",rt,et,void 0,!0)}var it;return function(at,ct){const vt=new nt.XMLHttpRequest;vt.open(at.method||"GET",at.url,!0),at.type==="arrayBuffer"&&(vt.responseType="arraybuffer");for(const Rt in at.headers)vt.setRequestHeader(Rt,at.headers[Rt]);return at.type==="json"&&(vt.responseType="text",vt.setRequestHeader("Accept","application/json")),vt.withCredentials=at.credentials==="include",vt.onerror=()=>{ct(new Error(vt.statusText))},vt.onload=()=>{if((vt.status>=200&&vt.status<300||vt.status===0)&&vt.response!==null){let Rt=vt.response;if(at.type==="json")try{Rt=JSON.parse(vt.response)}catch(Nt){return ct(Nt)}ct(null,Rt,vt.getResponseHeader("Cache-Control"),vt.getResponseHeader("Expires"))}else ct(new Hl(vt.statusText,vt.status,at.url))},vt.send(at.body),{cancel:()=>vt.abort()}}(rt,et)},Us=function(rt,et){return Ls(Ft(rt,{type:"arrayBuffer"}),et)};function cu(rt){const et=nt.document.createElement("a");return et.href=rt,et.protocol===nt.document.location.protocol&&et.host===nt.document.location.host}const Po="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let nu,cr;nu=[],cr=0;const Gt=function(rt,et){if(ft.supported&&(rt.headers||(rt.headers={}),rt.headers.accept="image/webp,*/*"),cr>=_t.MAX_PARALLEL_IMAGE_REQUESTS){const vt={requestParameters:rt,callback:et,cancelled:!1,cancel(){this.cancelled=!0}};return nu.push(vt),vt}cr++;let it=!1;const at=()=>{if(!it)for(it=!0,cr--;nu.length&&cr<_t.MAX_PARALLEL_IMAGE_REQUESTS;){const vt=nu.shift(),{requestParameters:Rt,callback:Nt,cancelled:Jt}=vt;Jt||(vt.cancel=Gt(Rt,Nt).cancel)}},ct=Us(rt,(vt,Rt,Nt,Jt)=>{at(),vt?et(vt):Rt&&(nt.createImageBitmap?function(Yt,sn){const dn=new nt.Blob([new Uint8Array(Yt)],{type:"image/png"});nt.createImageBitmap(dn).then(gn=>{sn(null,gn)}).catch(gn=>{sn(new Error(`Could not load image because of ${gn.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(Rt,(Yt,sn)=>et(Yt,sn,Nt,Jt)):function(Yt,sn){const dn=new nt.Image,gn=nt.URL;dn.onload=()=>{sn(null,dn),gn.revokeObjectURL(dn.src),dn.onload=null,nt.requestAnimationFrame(()=>{dn.src=Po})},dn.onerror=()=>sn(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Rn=new nt.Blob([new Uint8Array(Yt)],{type:"image/png"});dn.src=Yt.byteLength?gn.createObjectURL(Rn):Po}(Rt,(Yt,sn)=>et(Yt,sn,Nt,Jt)))});return{cancel:()=>{ct.cancel(),at()}}},en="NO_ACCESS_TOKEN";function fn(rt){return rt.indexOf("mapbox:")===0}function En(rt){return _t.API_URL_REGEX.test(rt)}function xn(rt){return _t.API_STYLE_REGEX.test(rt)&&!or(rt)}function or(rt){return _t.API_SPRITE_REGEX.test(rt)}const ar=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function nr(rt){const et=rt.match(ar);if(!et)throw new Error("Unable to parse URL object");return{protocol:et[1],authority:et[2],path:et[3]||"/",params:et[4]?et[4].split("&"):[]}}function Zn(rt){const et=rt.params.length?`?${rt.params.join("&")}`:"";return`${rt.protocol}://${rt.authority}${rt.path}${et}`}function On(rt){if(!rt)return null;const et=rt.split(".");if(!et||et.length!==3)return null;try{return JSON.parse(decodeURIComponent(nt.atob(et[1]).split("").map(it=>"%"+("00"+it.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class io{constructor(et){this.type=et,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(et){const it=On(_t.ACCESS_TOKEN);let at="";return at=it&&it.u?nt.btoa(encodeURIComponent(it.u).replace(/%([0-9A-F]{2})/g,(ct,vt)=>String.fromCharCode(Number("0x"+vt)))):_t.ACCESS_TOKEN||"",et?`mapbox.eventData.${et}:${at}`:`mapbox.eventData:${at}`}fetchEventData(){const et=po("localStorage"),it=this.getStorageKey(),at=this.getStorageKey("uuid");if(et)try{const ct=nt.localStorage.getItem(it);ct&&(this.eventData=JSON.parse(ct));const vt=nt.localStorage.getItem(at);vt&&(this.anonId=vt)}catch{hn("Unable to read from LocalStorage")}}saveEventData(){const et=po("localStorage"),it=this.getStorageKey(),at=this.getStorageKey("uuid");if(et)try{nt.localStorage.setItem(at,this.anonId),Object.keys(this.eventData).length>=1&&nt.localStorage.setItem(it,JSON.stringify(this.eventData))}catch{hn("Unable to write to LocalStorage")}}processRequests(et){}postEvent(et,it,at,ct){if(!_t.EVENTS_URL)return;const vt=nr(_t.EVENTS_URL);vt.params.push(`access_token=${ct||_t.ACCESS_TOKEN||""}`);const Rt={event:this.type,created:new Date(et).toISOString()},Nt=it?Ft(Rt,it):Rt,Jt={url:Zn(vt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Nt])};this.pendingRequest=function(Yt,sn){return Ls(Ft(Yt,{method:"POST"}),sn)}(Jt,Yt=>{this.pendingRequest=null,at(Yt),this.saveEventData(),this.processRequests(ct)})}queueRequest(et,it){this.queue.push(et),this.processRequests(it)}}const Mn=new class extends io{constructor(rt){super("appUserTurnstile"),this._customAccessToken=rt}postTurnstileEvent(rt,et){_t.EVENTS_URL&&_t.ACCESS_TOKEN&&Array.isArray(rt)&&rt.some(it=>fn(it)||En(it))&&this.queueRequest(Date.now(),et)}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const et=On(_t.ACCESS_TOKEN),it=et?et.u:_t.ACCESS_TOKEN;let at=it!==this.eventData.tokenU;vn(this.anonId)||(this.anonId=mn(),at=!0);const ct=this.queue.shift();if(this.eventData.lastSuccess){const vt=new Date(this.eventData.lastSuccess),Rt=new Date(ct),Nt=(ct-this.eventData.lastSuccess)/864e5;at=at||Nt>=1||Nt<-1||vt.getDate()!==Rt.getDate()}else at=!0;at?this.postEvent(ct,{sdkIdentifier:"mapbox-gl-js",sdkVersion:st,skuId:Dt,"enabled.telemetry":!1,userId:this.anonId},vt=>{vt||(this.eventData.lastSuccess=ct,this.eventData.tokenU=it)},rt):this.processRequests()}},wn=Mn.postTurnstileEvent.bind(Mn),Tn=new class extends io{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(rt,et,it,at){this.skuToken=et,this.errorCb=at,_t.EVENTS_URL&&(it||_t.ACCESS_TOKEN?this.queueRequest({id:rt,timestamp:Date.now()},it):this.errorCb(new Error(en)))}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;const{id:et,timestamp:it}=this.queue.shift();et&&this.success[et]||(this.anonId||this.fetchEventData(),vn(this.anonId)||(this.anonId=mn()),this.postEvent(it,{sdkIdentifier:"mapbox-gl-js",sdkVersion:st,skuId:Dt,skuToken:this.skuToken,userId:this.anonId},at=>{at?this.errorCb(at):et&&(this.success[et]=!0)},rt))}},zn=Tn.postMapLoadEvent.bind(Tn),Kn=new class extends io{constructor(){super("gljs.performance")}postPerformanceEvent(rt,et){_t.EVENTS_URL&&(rt||_t.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:et},rt)}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:et,performanceData:it}=this.queue.shift(),at=function(ct){const vt=nt.performance.getEntriesByType("resource"),Rt=nt.performance.getEntriesByType("mark"),Nt=function(gn){const Rn={};if(gn){for(const Bn in gn)if(Bn!=="other")for(const kn of gn[Bn]){const Ln=`${Bn}RequestCount`,ir=`${Bn}ResolveRangeMin`,_r=`${Bn}ResolveRangeMax`;Rn[ir]=Math.min(Rn[ir]||1/0,kn.startTime),Rn[_r]=Math.max(Rn[_r]||-1/0,kn.responseEnd),Rn[Ln]===void 0&&(Rn[Ln]=0),++Rn[Ln]}}return Rn}(function(gn,Rn){const Bn={};if(gn)for(const kn of gn){const Ln=Rn(kn);Bn[Ln]===void 0&&(Bn[Ln]=[]),Bn[Ln].push(kn)}return Bn}(vt,Kr)),Jt=nt.devicePixelRatio,Yt=nt.navigator.connection||nt.navigator.mozConnection||nt.navigator.webkitConnection,sn={counters:[],metadata:[],attributes:[]},dn=(gn,Rn,Bn)=>{Bn!=null&&gn.push({name:Rn,value:Bn.toString()})};for(const gn in Nt)dn(sn.counters,gn,Nt[gn]);if(ct.interactionRange[0]!==1/0&&ct.interactionRange[1]!==-1/0&&(dn(sn.counters,"interactionRangeMin",ct.interactionRange[0]),dn(sn.counters,"interactionRangeMax",ct.interactionRange[1])),Rt)for(const gn of Object.keys(br)){const Rn=br[gn],Bn=Rt.find(kn=>kn.name===Rn);Bn&&dn(sn.counters,Rn,Bn.startTime)}return dn(sn.counters,"visibilityHidden",ct.visibilityHidden),dn(sn.attributes,"style",function(gn){if(gn)for(const Rn of gn){const Bn=Rn.name.split("?")[0];if(xn(Bn)){const kn=Bn.split("/").slice(-2);if(kn.length===2)return`mapbox://styles/${kn[0]}/${kn[1]}`}}}(vt)),dn(sn.attributes,"terrainEnabled",ct.terrainEnabled?"true":"false"),dn(sn.attributes,"fogEnabled",ct.fogEnabled?"true":"false"),dn(sn.attributes,"projection",ct.projection.name),dn(sn.attributes,"zoom",ct.zoom),dn(sn.metadata,"devicePixelRatio",Jt),dn(sn.metadata,"connectionEffectiveType",Yt?Yt.effectiveType:void 0),dn(sn.metadata,"navigatorUserAgent",nt.navigator.userAgent),dn(sn.metadata,"screenWidth",nt.screen.width),dn(sn.metadata,"screenHeight",nt.screen.height),dn(sn.metadata,"windowWidth",nt.innerWidth),dn(sn.metadata,"windowHeight",nt.innerHeight),dn(sn.metadata,"mapWidth",ct.width/Jt),dn(sn.metadata,"mapHeight",ct.height/Jt),dn(sn.metadata,"webglRenderer",ct.renderer),dn(sn.metadata,"webglVendor",ct.vendor),dn(sn.metadata,"sdkVersion",st),dn(sn.metadata,"sdkIdentifier","mapbox-gl-js"),sn}(it);for(const ct of at.metadata);for(const ct of at.counters);for(const ct of at.attributes);this.postEvent(et,at,()=>{},rt)}},lr=Kn.postPerformanceEvent.bind(Kn),ur=new class extends io{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(rt,et,it,at){if(!_t.API_URL||!_t.SESSION_PATH)return;const ct=nr(_t.API_URL+_t.SESSION_PATH);ct.params.push(`sku=${et||""}`),ct.params.push(`access_token=${at||_t.ACCESS_TOKEN||""}`);const vt={url:Zn(ct),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(Rt,Nt){return Ls(Ft(Rt,{method:"GET"}),Nt)}(vt,Rt=>{this.pendingRequest=null,it(Rt),this.saveEventData(),this.processRequests(at)})}getSessionAPI(rt,et,it,at){this.skuToken=et,this.errorCb=at,_t.SESSION_PATH&&_t.API_URL&&(it||_t.ACCESS_TOKEN?this.queueRequest({id:rt,timestamp:Date.now()},it):this.errorCb(new Error(en)))}processRequests(rt){if(this.pendingRequest||this.queue.length===0)return;const{id:et,timestamp:it}=this.queue.shift();et&&this.success[et]||this.getSession(it,this.skuToken,at=>{at?this.errorCb(at):et&&(this.success[et]=!0)},rt)}},mr=ur.getSessionAPI.bind(ur),hr=new Set,br={create:"create",load:"load",fullLoad:"fullLoad"},Nr={mark(rt){nt.performance.mark(rt)},measure(rt,et,it){nt.performance.measure(rt,et,it)}};function Kr(rt){const et=rt.name.split("?")[0];return et.includes("mapbox-gl.js")?"javascript":et.includes("mapbox-gl.css")?"css":function(it){return _t.API_FONTS_REGEX.test(it)}(et)?"fontRange":or(et)?"sprite":xn(et)?"style":function(it){return _t.API_TILEJSON_REGEX.test(it)}(et)?"tilejson":"other"}const zr=nt.performance;function So(rt){const et=rt?rt.url.toString():void 0;return zr.getEntriesByName(et)}let Bo,Ao,No,Xo;const fs={now:()=>No!==void 0?No:nt.performance.now(),setNow(rt){No=rt},restoreNow(){No=void 0},frame(rt){const et=nt.requestAnimationFrame(rt);return{cancel:()=>nt.cancelAnimationFrame(et)}},getImageData(rt,et=0){const{width:it,height:at}=rt;Xo||(Xo=nt.document.createElement("canvas"));const ct=Xo.getContext("2d");if(!ct)throw new Error("failed to create canvas 2d context");return(it>Xo.width||at>Xo.height)&&(Xo.width=it,Xo.height=at),ct.clearRect(-et,-et,it+2*et,at+2*et),ct.drawImage(rt,0,0,it,at),ct.getImageData(-et,-et,it+2*et,at+2*et)},resolveURL:rt=>(Bo||(Bo=nt.document.createElement("a")),Bo.href=rt,Bo.href),get devicePixelRatio(){return nt.devicePixelRatio},get prefersReducedMotion(){return!!nt.matchMedia&&(Ao==null&&(Ao=nt.matchMedia("(prefers-reduced-motion: reduce)")),Ao.matches)}};function Uo(rt,et,it){it[rt]&&it[rt].indexOf(et)!==-1||(it[rt]=it[rt]||[],it[rt].push(et))}function ws(rt,et,it){if(it&&it[rt]){const at=it[rt].indexOf(et);at!==-1&&it[rt].splice(at,1)}}class bs{constructor(et,it={}){Ft(this,it),this.type=et}}class Ru extends bs{constructor(et,it={}){super("error",Ft({error:et},it))}}class hu{on(et,it){return this._listeners=this._listeners||{},Uo(et,it,this._listeners),this}off(et,it){return ws(et,it,this._listeners),ws(et,it,this._oneTimeListeners),this}once(et,it){return it?(this._oneTimeListeners=this._oneTimeListeners||{},Uo(et,it,this._oneTimeListeners),this):new Promise(at=>this.once(et,at))}fire(et,it){typeof et=="string"&&(et=new bs(et,it||{}));const at=et.type;if(this.listens(at)){et.target=this;const ct=this._listeners&&this._listeners[at]?this._listeners[at].slice():[];for(const Nt of ct)Nt.call(this,et);const vt=this._oneTimeListeners&&this._oneTimeListeners[at]?this._oneTimeListeners[at].slice():[];for(const Nt of vt)ws(at,Nt,this._oneTimeListeners),Nt.call(this,et);const Rt=this._eventedParent;Rt&&(Ft(et,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),Rt.fire(et))}else et instanceof Ru&&console.error(et.error);return this}listens(et){return!!(this._listeners&&this._listeners[et]&&this._listeners[et].length>0||this._oneTimeListeners&&this._oneTimeListeners[et]&&this._oneTimeListeners[et].length>0||this._eventedParent&&this._eventedParent.listens(et))}setEventedParent(et,it){return this._eventedParent=et,this._eventedParentData=it,this}}var Ir=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function _a(rt,...et){for(const it of et)for(const at in it)rt[at]=it[at];return rt}function Js(rt){return rt instanceof Number||rt instanceof String||rt instanceof Boolean?rt.valueOf():rt}function du(rt){if(Array.isArray(rt))return rt.map(du);if(rt instanceof Object&&!(rt instanceof Number||rt instanceof String||rt instanceof Boolean)){const et={};for(const it in rt)et[it]=du(rt[it]);return et}return Js(rt)}class ru extends Error{constructor(et,it){super(it),this.message=it,this.key=et}}var wu=ru;class Ul{constructor(et,it=[]){this.parent=et,this.bindings={};for(const[at,ct]of it)this.bindings[at]=ct}concat(et){return new Ul(this,et)}get(et){if(this.bindings[et])return this.bindings[et];if(this.parent)return this.parent.get(et);throw new Error(`${et} not found in scope.`)}has(et){return!!this.bindings[et]||!!this.parent&&this.parent.has(et)}}var rm=Ul;const rp={kind:"null"},mo={kind:"number"},rs={kind:"string"},ss={kind:"boolean"},Bu={kind:"color"},ip={kind:"object"},Ko={kind:"value"},Wu={kind:"collator"},Lu={kind:"formatted"},fu={kind:"resolvedImage"};function Cl(rt,et){return{kind:"array",itemType:rt,N:et}}function ps(rt){if(rt.kind==="array"){const et=ps(rt.itemType);return typeof rt.N=="number"?`array<${et}, ${rt.N}>`:rt.itemType.kind==="value"?"array":`array<${et}>`}return rt.kind}const Tm=[rp,mo,rs,ss,Bu,Lu,ip,Cl(Ko),fu];function Os(rt,et){if(et.kind==="error")return null;if(rt.kind==="array"){if(et.kind==="array"&&(et.N===0&&et.itemType.kind==="value"||!Os(rt.itemType,et.itemType))&&(typeof rt.N!="number"||rt.N===et.N))return null}else{if(rt.kind===et.kind)return null;if(rt.kind==="value"){for(const it of Tm)if(!Os(it,et))return null}}return`Expected ${ps(rt)} but found ${ps(et)} instead.`}function Ju(rt,et){return et.some(it=>it.kind===rt.kind)}function Xs(rt,et){return et.some(it=>it==="null"?rt===null:it==="array"?Array.isArray(rt):it==="object"?rt&&!Array.isArray(rt)&&typeof rt=="object":it===typeof rt)}var ju,op={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ip(rt){return(rt=Math.round(rt))<0?0:rt>255?255:rt}function Ks(rt){return Ip(rt[rt.length-1]==="%"?parseFloat(rt)/100*255:parseInt(rt))}function Yl(rt){return(et=rt[rt.length-1]==="%"?parseFloat(rt)/100:parseFloat(rt))<0?0:et>1?1:et;var et}function Bl(rt,et,it){return it<0?it+=1:it>1&&(it-=1),6*it<1?rt+(et-rt)*it*6:2*it<1?et:3*it<2?rt+(et-rt)*(2/3-it)*6:rt}try{ju={}.parseCSSColor=function(rt){var et,it=rt.replace(/ /g,"").toLowerCase();if(it in op)return op[it].slice();if(it[0]==="#")return it.length===4?(et=parseInt(it.substr(1),16))>=0&&et<=4095?[(3840&et)>>4|(3840&et)>>8,240&et|(240&et)>>4,15&et|(15&et)<<4,1]:null:it.length===7&&(et=parseInt(it.substr(1),16))>=0&&et<=16777215?[(16711680&et)>>16,(65280&et)>>8,255&et,1]:null;var at=it.indexOf("("),ct=it.indexOf(")");if(at!==-1&&ct+1===it.length){var vt=it.substr(0,at),Rt=it.substr(at+1,ct-(at+1)).split(","),Nt=1;switch(vt){case"rgba":if(Rt.length!==4)return null;Nt=Yl(Rt.pop());case"rgb":return Rt.length!==3?null:[Ks(Rt[0]),Ks(Rt[1]),Ks(Rt[2]),Nt];case"hsla":if(Rt.length!==4)return null;Nt=Yl(Rt.pop());case"hsl":if(Rt.length!==3)return null;var Jt=(parseFloat(Rt[0])%360+360)%360/360,Yt=Yl(Rt[1]),sn=Yl(Rt[2]),dn=sn<=.5?sn*(Yt+1):sn+Yt-sn*Yt,gn=2*sn-dn;return[Ip(255*Bl(gn,dn,Jt+1/3)),Ip(255*Bl(gn,dn,Jt)),Ip(255*Bl(gn,dn,Jt-1/3)),Nt];default:return null}}return null}}catch{}class gs{constructor(et,it,at,ct=1){this.r=et,this.g=it,this.b=at,this.a=ct}static parse(et){if(!et)return;if(et instanceof gs)return et;if(typeof et!="string")return;const it=ju(et);return it?new gs(it[0]/255*it[3],it[1]/255*it[3],it[2]/255*it[3],it[3]):void 0}toString(){const[et,it,at,ct]=this.toArray();return`rgba(${Math.round(et)},${Math.round(it)},${Math.round(at)},${ct})`}toArray(){const{r:et,g:it,b:at,a:ct}=this;return ct===0?[0,0,0,0]:[255*et/ct,255*it/ct,255*at/ct,ct]}toArray01(){const{r:et,g:it,b:at,a:ct}=this;return ct===0?[0,0,0,0]:[et/ct,it/ct,at/ct,ct]}toArray01PremultipliedAlpha(){const{r:et,g:it,b:at,a:ct}=this;return[et,it,at,ct]}}gs.black=new gs(0,0,0,1),gs.white=new gs(1,1,1,1),gs.transparent=new gs(0,0,0,0),gs.red=new gs(1,0,0,1),gs.blue=new gs(0,0,1,1);var Is=gs;class Pp{constructor(et,it,at){this.sensitivity=et?it?"variant":"case":it?"accent":"base",this.locale=at,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(et,it){return this.collator.compare(et,it)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class sp{constructor(et,it,at,ct,vt){this.text=et.normalize?et.normalize():et,this.image=it,this.scale=at,this.fontStack=ct,this.textColor=vt}}class Wt{constructor(et){this.sections=et}static fromString(et){return new Wt([new sp(et,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(et=>et.text.length!==0||et.image&&et.image.name.length!==0)}static factory(et){return et instanceof Wt?et:Wt.fromString(et)}toString(){return this.sections.length===0?"":this.sections.map(et=>et.text).join("")}serialize(){const et=["format"];for(const it of this.sections){if(it.image){et.push(["image",it.image.name]);continue}et.push(it.text);const at={};it.fontStack&&(at["text-font"]=["literal",it.fontStack.split(",")]),it.scale&&(at["font-scale"]=it.scale),it.textColor&&(at["text-color"]=["rgba"].concat(it.textColor.toArray())),et.push(at)}return et}}class ln{constructor(et){this.name=et.name,this.available=et.available}toString(){return this.name}static fromString(et){return et?new ln({name:et,available:!1}):null}serialize(){return["image",this.name]}}function bn(rt,et,it,at){return typeof rt=="number"&&rt>=0&&rt<=255&&typeof et=="number"&&et>=0&&et<=255&&typeof it=="number"&&it>=0&&it<=255?at===void 0||typeof at=="number"&&at>=0&&at<=1?null:`Invalid rgba value [${[rt,et,it,at].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof at=="number"?[rt,et,it,at]:[rt,et,it]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Cn(rt){if(rt===null||typeof rt=="string"||typeof rt=="boolean"||typeof rt=="number"||rt instanceof Is||rt instanceof Pp||rt instanceof Wt||rt instanceof ln)return!0;if(Array.isArray(rt)){for(const et of rt)if(!Cn(et))return!1;return!0}if(typeof rt=="object"){for(const et in rt)if(!Cn(rt[et]))return!1;return!0}return!1}function Wn(rt){if(rt===null)return rp;if(typeof rt=="string")return rs;if(typeof rt=="boolean")return ss;if(typeof rt=="number")return mo;if(rt instanceof Is)return Bu;if(rt instanceof Pp)return Wu;if(rt instanceof Wt)return Lu;if(rt instanceof ln)return fu;if(Array.isArray(rt)){const et=rt.length;let it;for(const at of rt){const ct=Wn(at);if(it){if(it===ct)continue;it=Ko;break}it=ct}return Cl(it||Ko,et)}return ip}function sr(rt){const et=typeof rt;return rt===null?"":et==="string"||et==="number"||et==="boolean"?String(rt):rt instanceof Is||rt instanceof Wt||rt instanceof ln?rt.toString():JSON.stringify(rt)}class Dn{constructor(et,it){this.type=et,this.value=it}static parse(et,it){if(et.length!==2)return it.error(`'literal' expression requires exactly one argument, but found ${et.length-1} instead.`);if(!Cn(et[1]))return it.error("invalid value");const at=et[1];let ct=Wn(at);const vt=it.expectedType;return ct.kind!=="array"||ct.N!==0||!vt||vt.kind!=="array"||typeof vt.N=="number"&&vt.N!==0||(ct=vt),new Dn(ct,at)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Is?["rgba"].concat(this.value.toArray()):this.value instanceof Wt?this.value.serialize():this.value}}var qn=Dn,Br=class{constructor(rt){this.name="ExpressionEvaluationError",this.message=rt}toJSON(){return this.message}};const Er={string:rs,number:mo,boolean:ss,object:ip};class Lr{constructor(et,it){this.type=et,this.args=it}static parse(et,it){if(et.length<2)return it.error("Expected at least one argument.");let at,ct=1;const vt=et[0];if(vt==="array"){let Nt,Jt;if(et.length>2){const Yt=et[1];if(typeof Yt!="string"||!(Yt in Er)||Yt==="object")return it.error('The item type argument of "array" must be one of string, number, boolean',1);Nt=Er[Yt],ct++}else Nt=Ko;if(et.length>3){if(et[2]!==null&&(typeof et[2]!="number"||et[2]<0||et[2]!==Math.floor(et[2])))return it.error('The length argument to "array" must be a positive integer literal',2);Jt=et[2],ct++}at=Cl(Nt,Jt)}else at=Er[vt];const Rt=[];for(;ct<et.length;ct++){const Nt=it.parse(et[ct],ct,Ko);if(!Nt)return null;Rt.push(Nt)}return new Lr(at,Rt)}evaluate(et){for(let it=0;it<this.args.length;it++){const at=this.args[it].evaluate(et);if(!Os(this.type,Wn(at)))return at;if(it===this.args.length-1)throw new Br(`Expected value to be of type ${ps(this.type)}, but found ${ps(Wn(at))} instead.`)}return null}eachChild(et){this.args.forEach(et)}outputDefined(){return this.args.every(et=>et.outputDefined())}serialize(){const et=this.type,it=[et.kind];if(et.kind==="array"){const at=et.itemType;if(at.kind==="string"||at.kind==="number"||at.kind==="boolean"){it.push(at.kind);const ct=et.N;(typeof ct=="number"||this.args.length>1)&&it.push(ct)}}return it.concat(this.args.map(at=>at.serialize()))}}var Vo=Lr;class go{constructor(et){this.type=Lu,this.sections=et}static parse(et,it){if(et.length<2)return it.error("Expected at least one argument.");const at=et[1];if(!Array.isArray(at)&&typeof at=="object")return it.error("First argument must be an image or text section.");const ct=[];let vt=!1;for(let Rt=1;Rt<=et.length-1;++Rt){const Nt=et[Rt];if(vt&&typeof Nt=="object"&&!Array.isArray(Nt)){vt=!1;let Jt=null;if(Nt["font-scale"]&&(Jt=it.parse(Nt["font-scale"],1,mo),!Jt))return null;let Yt=null;if(Nt["text-font"]&&(Yt=it.parse(Nt["text-font"],1,Cl(rs)),!Yt))return null;let sn=null;if(Nt["text-color"]&&(sn=it.parse(Nt["text-color"],1,Bu),!sn))return null;const dn=ct[ct.length-1];dn.scale=Jt,dn.font=Yt,dn.textColor=sn}else{const Jt=it.parse(et[Rt],1,Ko);if(!Jt)return null;const Yt=Jt.type.kind;if(Yt!=="string"&&Yt!=="value"&&Yt!=="null"&&Yt!=="resolvedImage")return it.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");vt=!0,ct.push({content:Jt,scale:null,font:null,textColor:null})}}return new go(ct)}evaluate(et){return new Wt(this.sections.map(it=>{const at=it.content.evaluate(et);return Wn(at)===fu?new sp("",at,null,null,null):new sp(sr(at),null,it.scale?it.scale.evaluate(et):null,it.font?it.font.evaluate(et).join(","):null,it.textColor?it.textColor.evaluate(et):null)}))}eachChild(et){for(const it of this.sections)et(it.content),it.scale&&et(it.scale),it.font&&et(it.font),it.textColor&&et(it.textColor)}outputDefined(){return!1}serialize(){const et=["format"];for(const it of this.sections){et.push(it.content.serialize());const at={};it.scale&&(at["font-scale"]=it.scale.serialize()),it.font&&(at["text-font"]=it.font.serialize()),it.textColor&&(at["text-color"]=it.textColor.serialize()),et.push(at)}return et}}class Eo{constructor(et){this.type=fu,this.input=et}static parse(et,it){if(et.length!==2)return it.error("Expected two arguments.");const at=it.parse(et[1],1,rs);return at?new Eo(at):it.error("No image name provided.")}evaluate(et){const it=this.input.evaluate(et),at=ln.fromString(it);return at&&et.availableImages&&(at.available=et.availableImages.indexOf(it)>-1),at}eachChild(et){et(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Go={"to-boolean":ss,"to-color":Bu,"to-number":mo,"to-string":rs};class qo{constructor(et,it){this.type=et,this.args=it}static parse(et,it){if(et.length<2)return it.error("Expected at least one argument.");const at=et[0];if((at==="to-boolean"||at==="to-string")&&et.length!==2)return it.error("Expected one argument.");const ct=Go[at],vt=[];for(let Rt=1;Rt<et.length;Rt++){const Nt=it.parse(et[Rt],Rt,Ko);if(!Nt)return null;vt.push(Nt)}return new qo(ct,vt)}evaluate(et){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(et));if(this.type.kind==="color"){let it,at;for(const ct of this.args){if(it=ct.evaluate(et),at=null,it instanceof Is)return it;if(typeof it=="string"){const vt=et.parseColor(it);if(vt)return vt}else if(Array.isArray(it)&&(at=it.length<3||it.length>4?`Invalid rbga value ${JSON.stringify(it)}: expected an array containing either three or four numeric values.`:bn(it[0],it[1],it[2],it[3]),!at))return new Is(it[0]/255,it[1]/255,it[2]/255,it[3])}throw new Br(at||`Could not parse color from value '${typeof it=="string"?it:String(JSON.stringify(it))}'`)}if(this.type.kind==="number"){let it=null;for(const at of this.args){if(it=at.evaluate(et),it===null)return 0;const ct=Number(it);if(!isNaN(ct))return ct}throw new Br(`Could not convert ${JSON.stringify(it)} to number.`)}return this.type.kind==="formatted"?Wt.fromString(sr(this.args[0].evaluate(et))):this.type.kind==="resolvedImage"?ln.fromString(sr(this.args[0].evaluate(et))):sr(this.args[0].evaluate(et))}eachChild(et){this.args.forEach(et)}outputDefined(){return this.args.every(et=>et.outputDefined())}serialize(){if(this.type.kind==="formatted")return new go([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Eo(this.args[0]).serialize();const et=[`to-${this.type.kind}`];return this.eachChild(it=>{et.push(it.serialize())}),et}}var Ro=qo;const Sl=["Unknown","Point","LineString","Polygon"];var iu=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Sl[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const rt=this.featureDistanceData.center,et=this.featureDistanceData.scale,{x:it,y:at}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(it*et-rt[0])+this.featureDistanceData.bearing[1]*(at*et-rt[1])}return 0}parseColor(rt){let et=this._parseColorCache[rt];return et||(et=this._parseColorCache[rt]=Is.parse(rt)),et}};class Qm{constructor(et,it,at,ct){this.name=et,this.type=it,this._evaluate=at,this.args=ct}evaluate(et){return this._evaluate(et,this.args)}eachChild(et){this.args.forEach(et)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(et=>et.serialize()))}static parse(et,it){const at=et[0],ct=Qm.definitions[at];if(!ct)return it.error(`Unknown expression "${at}". If you wanted a literal array, use ["literal", [...]].`,0);const vt=Array.isArray(ct)?ct[0]:ct.type,Rt=Array.isArray(ct)?[[ct[1],ct[2]]]:ct.overloads,Nt=Rt.filter(([Yt])=>!Array.isArray(Yt)||Yt.length===et.length-1);let Jt=null;for(const[Yt,sn]of Nt){Jt=new Ey(it.registry,it.path,null,it.scope);const dn=[];let gn=!1;for(let Rn=1;Rn<et.length;Rn++){const Bn=et[Rn],kn=Array.isArray(Yt)?Yt[Rn-1]:Yt.type,Ln=Jt.parse(Bn,1+dn.length,kn);if(!Ln){gn=!0;break}dn.push(Ln)}if(!gn)if(Array.isArray(Yt)&&Yt.length!==dn.length)Jt.error(`Expected ${Yt.length} arguments, but found ${dn.length} instead.`);else{for(let Rn=0;Rn<dn.length;Rn++){const Bn=Array.isArray(Yt)?Yt[Rn]:Yt.type,kn=dn[Rn];Jt.concat(Rn+1).checkSubtype(Bn,kn.type)}if(Jt.errors.length===0)return new Qm(at,vt,sn,dn)}}if(Nt.length===1)it.errors.push(...Jt.errors);else{const Yt=(Nt.length?Nt:Rt).map(([dn])=>{return gn=dn,Array.isArray(gn)?`(${gn.map(ps).join(", ")})`:`(${ps(gn.type)}...)`;var gn}).join(" | "),sn=[];for(let dn=1;dn<et.length;dn++){const gn=it.parse(et[dn],1+sn.length);if(!gn)return null;sn.push(ps(gn.type))}it.error(`Expected arguments of type ${Yt}, but found (${sn.join(", ")}) instead.`)}return null}static register(et,it){Qm.definitions=it;for(const at in it)et[at]=Qm}}var zu=Qm;class t0{constructor(et,it,at){this.type=Wu,this.locale=at,this.caseSensitive=et,this.diacriticSensitive=it}static parse(et,it){if(et.length!==2)return it.error("Expected one argument.");const at=et[1];if(typeof at!="object"||Array.isArray(at))return it.error("Collator options argument must be an object.");const ct=it.parse(at["case-sensitive"]!==void 0&&at["case-sensitive"],1,ss);if(!ct)return null;const vt=it.parse(at["diacritic-sensitive"]!==void 0&&at["diacritic-sensitive"],1,ss);if(!vt)return null;let Rt=null;return at.locale&&(Rt=it.parse(at.locale,1,rs),!Rt)?null:new t0(ct,vt,Rt)}evaluate(et){return new Pp(this.caseSensitive.evaluate(et),this.diacriticSensitive.evaluate(et),this.locale?this.locale.evaluate(et):null)}eachChild(et){et(this.caseSensitive),et(this.diacriticSensitive),this.locale&&et(this.locale)}outputDefined(){return!1}serialize(){const et={};return et["case-sensitive"]=this.caseSensitive.serialize(),et["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(et.locale=this.locale.serialize()),["collator",et]}}const Fl=8192;function By(rt,et){rt[0]=Math.min(rt[0],et[0]),rt[1]=Math.min(rt[1],et[1]),rt[2]=Math.max(rt[2],et[0]),rt[3]=Math.max(rt[3],et[1])}function Up(rt,et){return!(rt[0]<=et[0]||rt[2]>=et[2]||rt[1]<=et[1]||rt[3]>=et[3])}function ap(rt,et){const it=(180+rt[0])/360,at=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+rt[1]*Math.PI/360)))/360,ct=Math.pow(2,et.z);return[Math.round(it*ct*Fl),Math.round(at*ct*Fl)]}function n0(rt,et,it){const at=rt[0]-et[0],ct=rt[1]-et[1],vt=rt[0]-it[0],Rt=rt[1]-it[1];return at*Rt-vt*ct==0&&at*vt<=0&&ct*Rt<=0}function pu(rt,et){let it=!1;for(let Rt=0,Nt=et.length;Rt<Nt;Rt++){const Jt=et[Rt];for(let Yt=0,sn=Jt.length;Yt<sn-1;Yt++){if(n0(rt,Jt[Yt],Jt[Yt+1]))return!1;(ct=Jt[Yt])[1]>(at=rt)[1]!=(vt=Jt[Yt+1])[1]>at[1]&&at[0]<(vt[0]-ct[0])*(at[1]-ct[1])/(vt[1]-ct[1])+ct[0]&&(it=!it)}}var at,ct,vt;return it}function a_(rt,et){for(let it=0;it<et.length;it++)if(pu(rt,et[it]))return!0;return!1}function r0(rt,et,it,at){const ct=at[0]-it[0],vt=at[1]-it[1],Rt=(rt[0]-it[0])*vt-ct*(rt[1]-it[1]),Nt=(et[0]-it[0])*vt-ct*(et[1]-it[1]);return Rt>0&&Nt<0||Rt<0&&Nt>0}function l_(rt,et,it){for(const Yt of it)for(let sn=0;sn<Yt.length-1;++sn)if((Nt=[(Rt=Yt[sn+1])[0]-(vt=Yt[sn])[0],Rt[1]-vt[1]])[0]*(Jt=[(ct=et)[0]-(at=rt)[0],ct[1]-at[1]])[1]-Nt[1]*Jt[0]!=0&&r0(at,ct,vt,Rt)&&r0(vt,Rt,at,ct))return!0;var at,ct,vt,Rt,Nt,Jt;return!1}function i0(rt,et){for(let it=0;it<rt.length;++it)if(!pu(rt[it],et))return!1;for(let it=0;it<rt.length-1;++it)if(l_(rt[it],rt[it+1],et))return!1;return!0}function o0(rt,et){for(let it=0;it<et.length;it++)if(i0(rt,et[it]))return!0;return!1}function im(rt,et,it){const at=[];for(let ct=0;ct<rt.length;ct++){const vt=[];for(let Rt=0;Rt<rt[ct].length;Rt++){const Nt=ap(rt[ct][Rt],it);By(et,Nt),vt.push(Nt)}at.push(vt)}return at}function gu(rt,et,it){const at=[];for(let ct=0;ct<rt.length;ct++){const vt=im(rt[ct],et,it);at.push(vt)}return at}function u_(rt,et,it,at){if(rt[0]<it[0]||rt[0]>it[2]){const ct=.5*at;let vt=rt[0]-it[0]>ct?-at:it[0]-rt[0]>ct?at:0;vt===0&&(vt=rt[0]-it[2]>ct?-at:it[2]-rt[0]>ct?at:0),rt[0]+=vt}By(et,rt)}function mu(rt,et,it,at){const ct=Math.pow(2,at.z)*Fl,vt=[at.x*Fl,at.y*Fl],Rt=[];if(!rt)return Rt;for(const Nt of rt)for(const Jt of Nt){const Yt=[Jt.x+vt[0],Jt.y+vt[1]];u_(Yt,et,it,ct),Rt.push(Yt)}return Rt}function c_(rt,et,it,at){const ct=Math.pow(2,at.z)*Fl,vt=[at.x*Fl,at.y*Fl],Rt=[];if(!rt)return Rt;for(const Jt of rt){const Yt=[];for(const sn of Jt){const dn=[sn.x+vt[0],sn.y+vt[1]];By(et,dn),Yt.push(dn)}Rt.push(Yt)}if(et[2]-et[0]<=ct/2){(Nt=et)[0]=Nt[1]=1/0,Nt[2]=Nt[3]=-1/0;for(const Jt of Rt)for(const Yt of Jt)u_(Yt,et,it,ct)}var Nt;return Rt}class lp{constructor(et,it){this.type=ss,this.geojson=et,this.geometries=it}static parse(et,it){if(et.length!==2)return it.error(`'within' expression requires exactly one argument, but found ${et.length-1} instead.`);if(Cn(et[1])){const at=et[1];if(at.type==="FeatureCollection")for(let ct=0;ct<at.features.length;++ct){const vt=at.features[ct].geometry.type;if(vt==="Polygon"||vt==="MultiPolygon")return new lp(at,at.features[ct].geometry)}else if(at.type==="Feature"){const ct=at.geometry.type;if(ct==="Polygon"||ct==="MultiPolygon")return new lp(at,at.geometry)}else if(at.type==="Polygon"||at.type==="MultiPolygon")return new lp(at,at)}return it.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(et){if(et.geometry()!=null&&et.canonicalID()!=null){if(et.geometryType()==="Point")return function(it,at){const ct=[1/0,1/0,-1/0,-1/0],vt=[1/0,1/0,-1/0,-1/0],Rt=it.canonicalID();if(!Rt)return!1;if(at.type==="Polygon"){const Nt=im(at.coordinates,vt,Rt),Jt=mu(it.geometry(),ct,vt,Rt);if(!Up(ct,vt))return!1;for(const Yt of Jt)if(!pu(Yt,Nt))return!1}if(at.type==="MultiPolygon"){const Nt=gu(at.coordinates,vt,Rt),Jt=mu(it.geometry(),ct,vt,Rt);if(!Up(ct,vt))return!1;for(const Yt of Jt)if(!a_(Yt,Nt))return!1}return!0}(et,this.geometries);if(et.geometryType()==="LineString")return function(it,at){const ct=[1/0,1/0,-1/0,-1/0],vt=[1/0,1/0,-1/0,-1/0],Rt=it.canonicalID();if(!Rt)return!1;if(at.type==="Polygon"){const Nt=im(at.coordinates,vt,Rt),Jt=c_(it.geometry(),ct,vt,Rt);if(!Up(ct,vt))return!1;for(const Yt of Jt)if(!i0(Yt,Nt))return!1}if(at.type==="MultiPolygon"){const Nt=gu(at.coordinates,vt,Rt),Jt=c_(it.geometry(),ct,vt,Rt);if(!Up(ct,vt))return!1;for(const Yt of Jt)if(!o0(Yt,Nt))return!1}return!0}(et,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var ys=lp;function om(rt){if(rt instanceof zu&&(rt.name==="get"&&rt.args.length===1||rt.name==="feature-state"||rt.name==="has"&&rt.args.length===1||rt.name==="properties"||rt.name==="geometry-type"||rt.name==="id"||/^filter-/.test(rt.name))||rt instanceof ys)return!1;let et=!0;return rt.eachChild(it=>{et&&!om(it)&&(et=!1)}),et}function Gm(rt){if(rt instanceof zu&&rt.name==="feature-state")return!1;let et=!0;return rt.eachChild(it=>{et&&!Gm(it)&&(et=!1)}),et}function na(rt,et){if(rt instanceof zu&&et.indexOf(rt.name)>=0)return!1;let it=!0;return rt.eachChild(at=>{it&&!na(at,et)&&(it=!1)}),it}class up{constructor(et,it){this.type=it.type,this.name=et,this.boundExpression=it}static parse(et,it){if(et.length!==2||typeof et[1]!="string")return it.error("'var' expression requires exactly one string literal argument.");const at=et[1];return it.scope.has(at)?new up(at,it.scope.get(at)):it.error(`Unknown variable "${at}". Make sure "${at}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(et){return this.boundExpression.evaluate(et)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var s0=up;class a0{constructor(et,it=[],at,ct=new rm,vt=[]){this.registry=et,this.path=it,this.key=it.map(Rt=>`[${Rt}]`).join(""),this.scope=ct,this.errors=vt,this.expectedType=at}parse(et,it,at,ct,vt={}){return it?this.concat(it,at,ct)._parse(et,vt):this._parse(et,vt)}_parse(et,it){function at(ct,vt,Rt){return Rt==="assert"?new Vo(vt,[ct]):Rt==="coerce"?new Ro(vt,[ct]):ct}if(et!==null&&typeof et!="string"&&typeof et!="boolean"&&typeof et!="number"||(et=["literal",et]),Array.isArray(et)){if(et.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const ct=et[0];if(typeof ct!="string")return this.error(`Expression name must be a string, but found ${typeof ct} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const vt=this.registry[ct];if(vt){let Rt=vt.parse(et,this);if(!Rt)return null;if(this.expectedType){const Nt=this.expectedType,Jt=Rt.type;if(Nt.kind!=="string"&&Nt.kind!=="number"&&Nt.kind!=="boolean"&&Nt.kind!=="object"&&Nt.kind!=="array"||Jt.kind!=="value")if(Nt.kind!=="color"&&Nt.kind!=="formatted"&&Nt.kind!=="resolvedImage"||Jt.kind!=="value"&&Jt.kind!=="string"){if(this.checkSubtype(Nt,Jt))return null}else Rt=at(Rt,Nt,it.typeAnnotation||"coerce");else Rt=at(Rt,Nt,it.typeAnnotation||"assert")}if(!(Rt instanceof qn)&&Rt.type.kind!=="resolvedImage"&&l0(Rt)){const Nt=new iu;try{Rt=new qn(Rt.type,Rt.evaluate(Nt))}catch(Jt){return this.error(Jt.message),null}}return Rt}return this.error(`Unknown expression "${ct}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(et===void 0?"'undefined' value invalid. Use null instead.":typeof et=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof et} instead.`)}concat(et,it,at){const ct=typeof et=="number"?this.path.concat(et):this.path,vt=at?this.scope.concat(at):this.scope;return new a0(this.registry,ct,it||null,vt,this.errors)}error(et,...it){const at=`${this.key}${it.map(ct=>`[${ct}]`).join("")}`;this.errors.push(new wu(at,et))}checkSubtype(et,it){const at=Os(et,it);return at&&this.error(at),at}}var Ey=a0;function l0(rt){if(rt instanceof s0)return l0(rt.boundExpression);if(rt instanceof zu&&rt.name==="error"||rt instanceof t0||rt instanceof ys)return!1;const et=rt instanceof Ro||rt instanceof Vo;let it=!0;return rt.eachChild(at=>{it=et?it&&l0(at):it&&at instanceof qn}),!!it&&om(rt)&&na(rt,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ty(rt,et){const it=rt.length-1;let at,ct,vt=0,Rt=it,Nt=0;for(;vt<=Rt;)if(Nt=Math.floor((vt+Rt)/2),at=rt[Nt],ct=rt[Nt+1],at<=et){if(Nt===it||et<ct)return Nt;vt=Nt+1}else{if(!(at>et))throw new Br("Input is not a number.");Rt=Nt-1}return 0}class sm{constructor(et,it,at){this.type=et,this.input=it,this.labels=[],this.outputs=[];for(const[ct,vt]of at)this.labels.push(ct),this.outputs.push(vt)}static parse(et,it){if(et.length-1<4)return it.error(`Expected at least 4 arguments, but found only ${et.length-1}.`);if((et.length-1)%2!=0)return it.error("Expected an even number of arguments.");const at=it.parse(et[1],1,mo);if(!at)return null;const ct=[];let vt=null;it.expectedType&&it.expectedType.kind!=="value"&&(vt=it.expectedType);for(let Rt=1;Rt<et.length;Rt+=2){const Nt=Rt===1?-1/0:et[Rt],Jt=et[Rt+1],Yt=Rt,sn=Rt+1;if(typeof Nt!="number")return it.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Yt);if(ct.length&&ct[ct.length-1][0]>=Nt)return it.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Yt);const dn=it.parse(Jt,sn,vt);if(!dn)return null;vt=vt||dn.type,ct.push([Nt,dn])}return new sm(vt,at,ct)}evaluate(et){const it=this.labels,at=this.outputs;if(it.length===1)return at[0].evaluate(et);const ct=this.input.evaluate(et);if(ct<=it[0])return at[0].evaluate(et);const vt=it.length;return ct>=it[vt-1]?at[vt-1].evaluate(et):at[Ty(it,ct)].evaluate(et)}eachChild(et){et(this.input);for(const it of this.outputs)et(it)}outputDefined(){return this.outputs.every(et=>et.outputDefined())}serialize(){const et=["step",this.input.serialize()];for(let it=0;it<this.labels.length;it++)it>0&&et.push(this.labels[it]),et.push(this.outputs[it].serialize());return et}}var xm=sm;function Ss(rt,et,it){return rt*(1-it)+et*it}var cp=Object.freeze({__proto__:null,number:Ss,color:function(rt,et,it){return new Is(Ss(rt.r,et.r,it),Ss(rt.g,et.g,it),Ss(rt.b,et.b,it),Ss(rt.a,et.a,it))},array:function(rt,et,it){return rt.map((at,ct)=>Ss(at,et[ct],it))}});const h_=.95047,d_=1.08883,f_=4/29,Hm=6/29,u0=3*Hm*Hm,p_=Math.PI/180,av=180/Math.PI;function Qy(rt){return rt>.008856451679035631?Math.pow(rt,1/3):rt/u0+f_}function Ym(rt){return rt>Hm?rt*rt*rt:u0*(rt-f_)}function g_(rt){return 255*(rt<=.0031308?12.92*rt:1.055*Math.pow(rt,1/2.4)-.055)}function xy(rt){return(rt/=255)<=.04045?rt/12.92:Math.pow((rt+.055)/1.055,2.4)}function yu(rt){const et=xy(rt.r),it=xy(rt.g),at=xy(rt.b),ct=Qy((.4124564*et+.3575761*it+.1804375*at)/h_),vt=Qy((.2126729*et+.7151522*it+.072175*at)/1);return{l:116*vt-16,a:500*(ct-vt),b:200*(vt-Qy((.0193339*et+.119192*it+.9503041*at)/d_)),alpha:rt.a}}function c0(rt){let et=(rt.l+16)/116,it=isNaN(rt.a)?et:et+rt.a/500,at=isNaN(rt.b)?et:et-rt.b/200;return et=1*Ym(et),it=h_*Ym(it),at=d_*Ym(at),new Is(g_(3.2404542*it-1.5371385*et-.4985314*at),g_(-.969266*it+1.8760108*et+.041556*at),g_(.0556434*it-.2040259*et+1.0572252*at),rt.alpha)}function Ay(rt,et,it){const at=et-rt;return rt+it*(at>180||at<-180?at-360*Math.round(at/360):at)}const $m={forward:yu,reverse:c0,interpolate:function(rt,et,it){return{l:Ss(rt.l,et.l,it),a:Ss(rt.a,et.a,it),b:Ss(rt.b,et.b,it),alpha:Ss(rt.alpha,et.alpha,it)}}},Xm={forward:function(rt){const{l:et,a:it,b:at}=yu(rt),ct=Math.atan2(at,it)*av;return{h:ct<0?ct+360:ct,c:Math.sqrt(it*it+at*at),l:et,alpha:rt.a}},reverse:function(rt){const et=rt.h*p_,it=rt.c;return c0({l:rt.l,a:Math.cos(et)*it,b:Math.sin(et)*it,alpha:rt.alpha})},interpolate:function(rt,et,it){return{h:Ay(rt.h,et.h,it),c:Ss(rt.c,et.c,it),l:Ss(rt.l,et.l,it),alpha:Ss(rt.alpha,et.alpha,it)}}};var lv=Object.freeze({__proto__:null,lab:$m,hcl:Xm});class h0{constructor(et,it,at,ct,vt){this.type=et,this.operator=it,this.interpolation=at,this.input=ct,this.labels=[],this.outputs=[];for(const[Rt,Nt]of vt)this.labels.push(Rt),this.outputs.push(Nt)}static interpolationFactor(et,it,at,ct){let vt=0;if(et.name==="exponential")vt=d0(it,et.base,at,ct);else if(et.name==="linear")vt=d0(it,1,at,ct);else if(et.name==="cubic-bezier"){const Rt=et.controlPoints;vt=new Et(Rt[0],Rt[1],Rt[2],Rt[3]).solve(d0(it,1,at,ct))}return vt}static parse(et,it){let[at,ct,vt,...Rt]=et;if(!Array.isArray(ct)||ct.length===0)return it.error("Expected an interpolation type expression.",1);if(ct[0]==="linear")ct={name:"linear"};else if(ct[0]==="exponential"){const Yt=ct[1];if(typeof Yt!="number")return it.error("Exponential interpolation requires a numeric base.",1,1);ct={name:"exponential",base:Yt}}else{if(ct[0]!=="cubic-bezier")return it.error(`Unknown interpolation type ${String(ct[0])}`,1,0);{const Yt=ct.slice(1);if(Yt.length!==4||Yt.some(sn=>typeof sn!="number"||sn<0||sn>1))return it.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ct={name:"cubic-bezier",controlPoints:Yt}}}if(et.length-1<4)return it.error(`Expected at least 4 arguments, but found only ${et.length-1}.`);if((et.length-1)%2!=0)return it.error("Expected an even number of arguments.");if(vt=it.parse(vt,2,mo),!vt)return null;const Nt=[];let Jt=null;at==="interpolate-hcl"||at==="interpolate-lab"?Jt=Bu:it.expectedType&&it.expectedType.kind!=="value"&&(Jt=it.expectedType);for(let Yt=0;Yt<Rt.length;Yt+=2){const sn=Rt[Yt],dn=Rt[Yt+1],gn=Yt+3,Rn=Yt+4;if(typeof sn!="number")return it.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',gn);if(Nt.length&&Nt[Nt.length-1][0]>=sn)return it.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',gn);const Bn=it.parse(dn,Rn,Jt);if(!Bn)return null;Jt=Jt||Bn.type,Nt.push([sn,Bn])}return Jt.kind==="number"||Jt.kind==="color"||Jt.kind==="array"&&Jt.itemType.kind==="number"&&typeof Jt.N=="number"?new h0(Jt,at,ct,vt,Nt):it.error(`Type ${ps(Jt)} is not interpolatable.`)}evaluate(et){const it=this.labels,at=this.outputs;if(it.length===1)return at[0].evaluate(et);const ct=this.input.evaluate(et);if(ct<=it[0])return at[0].evaluate(et);const vt=it.length;if(ct>=it[vt-1])return at[vt-1].evaluate(et);const Rt=Ty(it,ct),Nt=h0.interpolationFactor(this.interpolation,ct,it[Rt],it[Rt+1]),Jt=at[Rt].evaluate(et),Yt=at[Rt+1].evaluate(et);return this.operator==="interpolate"?cp[this.type.kind.toLowerCase()](Jt,Yt,Nt):this.operator==="interpolate-hcl"?Xm.reverse(Xm.interpolate(Xm.forward(Jt),Xm.forward(Yt),Nt)):$m.reverse($m.interpolate($m.forward(Jt),$m.forward(Yt),Nt))}eachChild(et){et(this.input);for(const it of this.outputs)et(it)}outputDefined(){return this.outputs.every(et=>et.outputDefined())}serialize(){let et;et=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const it=[this.operator,et,this.input.serialize()];for(let at=0;at<this.labels.length;at++)it.push(this.labels[at],this.outputs[at].serialize());return it}}function d0(rt,et,it,at){const ct=at-it,vt=rt-it;return ct===0?0:et===1?vt/ct:(Math.pow(et,vt)-1)/(Math.pow(et,ct)-1)}var bp=h0;class m_{constructor(et,it){this.type=et,this.args=it}static parse(et,it){if(et.length<2)return it.error("Expectected at least one argument.");let at=null;const ct=it.expectedType;ct&&ct.kind!=="value"&&(at=ct);const vt=[];for(const Nt of et.slice(1)){const Jt=it.parse(Nt,1+vt.length,at,void 0,{typeAnnotation:"omit"});if(!Jt)return null;at=at||Jt.type,vt.push(Jt)}const Rt=ct&&vt.some(Nt=>Os(ct,Nt.type));return new m_(Rt?Ko:at,vt)}evaluate(et){let it,at=null,ct=0;for(const vt of this.args){if(ct++,at=vt.evaluate(et),at&&at instanceof ln&&!at.available&&(it||(it=at),at=null,ct===this.args.length))return it;if(at!==null)break}return at}eachChild(et){this.args.forEach(et)}outputDefined(){return this.args.every(et=>et.outputDefined())}serialize(){const et=["coalesce"];return this.eachChild(it=>{et.push(it.serialize())}),et}}var Am=m_;class y_{constructor(et,it){this.type=it.type,this.bindings=[].concat(et),this.result=it}evaluate(et){return this.result.evaluate(et)}eachChild(et){for(const it of this.bindings)et(it[1]);et(this.result)}static parse(et,it){if(et.length<4)return it.error(`Expected at least 3 arguments, but found ${et.length-1} instead.`);const at=[];for(let vt=1;vt<et.length-1;vt+=2){const Rt=et[vt];if(typeof Rt!="string")return it.error(`Expected string, but found ${typeof Rt} instead.`,vt);if(/[^a-zA-Z0-9_]/.test(Rt))return it.error("Variable names must contain only alphanumeric characters or '_'.",vt);const Nt=it.parse(et[vt+1],vt+1);if(!Nt)return null;at.push([Rt,Nt])}const ct=it.parse(et[et.length-1],et.length-1,it.expectedType,at);return ct?new y_(at,ct):null}outputDefined(){return this.result.outputDefined()}serialize(){const et=["let"];for(const[it,at]of this.bindings)et.push(it,at.serialize());return et.push(this.result.serialize()),et}}var __=y_;class qm{constructor(et,it,at){this.type=et,this.index=it,this.input=at}static parse(et,it){if(et.length!==3)return it.error(`Expected 2 arguments, but found ${et.length-1} instead.`);const at=it.parse(et[1],1,mo),ct=it.parse(et[2],2,Cl(it.expectedType||Ko));return at&&ct?new qm(ct.type.itemType,at,ct):null}evaluate(et){const it=this.index.evaluate(et),at=this.input.evaluate(et);if(it<0)throw new Br(`Array index out of bounds: ${it} < 0.`);if(it>=at.length)throw new Br(`Array index out of bounds: ${it} > ${at.length-1}.`);if(it!==Math.floor(it))throw new Br(`Array index must be an integer, but found ${it} instead.`);return at[it]}eachChild(et){et(this.index),et(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var v_=qm;class Fp{constructor(et,it){this.type=ss,this.needle=et,this.haystack=it}static parse(et,it){if(et.length!==3)return it.error(`Expected 2 arguments, but found ${et.length-1} instead.`);const at=it.parse(et[1],1,Ko),ct=it.parse(et[2],2,Ko);return at&&ct?Ju(at.type,[ss,rs,mo,rp,Ko])?new Fp(at,ct):it.error(`Expected first argument to be of type boolean, string, number or null, but found ${ps(at.type)} instead`):null}evaluate(et){const it=this.needle.evaluate(et),at=this.haystack.evaluate(et);if(at==null)return!1;if(!Xs(it,["boolean","string","number","null"]))throw new Br(`Expected first argument to be of type boolean, string, number or null, but found ${ps(Wn(it))} instead.`);if(!Xs(at,["string","array"]))throw new Br(`Expected second argument to be of type array or string, but found ${ps(Wn(at))} instead.`);return at.indexOf(it)>=0}eachChild(et){et(this.needle),et(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var f0=Fp;class Cy{constructor(et,it,at){this.type=mo,this.needle=et,this.haystack=it,this.fromIndex=at}static parse(et,it){if(et.length<=2||et.length>=5)return it.error(`Expected 3 or 4 arguments, but found ${et.length-1} instead.`);const at=it.parse(et[1],1,Ko),ct=it.parse(et[2],2,Ko);if(!at||!ct)return null;if(!Ju(at.type,[ss,rs,mo,rp,Ko]))return it.error(`Expected first argument to be of type boolean, string, number or null, but found ${ps(at.type)} instead`);if(et.length===4){const vt=it.parse(et[3],3,mo);return vt?new Cy(at,ct,vt):null}return new Cy(at,ct)}evaluate(et){const it=this.needle.evaluate(et),at=this.haystack.evaluate(et);if(!Xs(it,["boolean","string","number","null"]))throw new Br(`Expected first argument to be of type boolean, string, number or null, but found ${ps(Wn(it))} instead.`);if(!Xs(at,["string","array"]))throw new Br(`Expected second argument to be of type array or string, but found ${ps(Wn(at))} instead.`);if(this.fromIndex){const ct=this.fromIndex.evaluate(et);return at.indexOf(it,ct)}return at.indexOf(it)}eachChild(et){et(this.needle),et(this.haystack),this.fromIndex&&et(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const et=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),et]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var uv=Cy;class p0{constructor(et,it,at,ct,vt,Rt){this.inputType=et,this.type=it,this.input=at,this.cases=ct,this.outputs=vt,this.otherwise=Rt}static parse(et,it){if(et.length<5)return it.error(`Expected at least 4 arguments, but found only ${et.length-1}.`);if(et.length%2!=1)return it.error("Expected an even number of arguments.");let at,ct;it.expectedType&&it.expectedType.kind!=="value"&&(ct=it.expectedType);const vt={},Rt=[];for(let Yt=2;Yt<et.length-1;Yt+=2){let sn=et[Yt];const dn=et[Yt+1];Array.isArray(sn)||(sn=[sn]);const gn=it.concat(Yt);if(sn.length===0)return gn.error("Expected at least one branch label.");for(const Bn of sn){if(typeof Bn!="number"&&typeof Bn!="string")return gn.error("Branch labels must be numbers or strings.");if(typeof Bn=="number"&&Math.abs(Bn)>Number.MAX_SAFE_INTEGER)return gn.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Bn=="number"&&Math.floor(Bn)!==Bn)return gn.error("Numeric branch labels must be integer values.");if(at){if(gn.checkSubtype(at,Wn(Bn)))return null}else at=Wn(Bn);if(vt[String(Bn)]!==void 0)return gn.error("Branch labels must be unique.");vt[String(Bn)]=Rt.length}const Rn=it.parse(dn,Yt,ct);if(!Rn)return null;ct=ct||Rn.type,Rt.push(Rn)}const Nt=it.parse(et[1],1,Ko);if(!Nt)return null;const Jt=it.parse(et[et.length-1],et.length-1,ct);return Jt?Nt.type.kind!=="value"&&it.concat(1).checkSubtype(at,Nt.type)?null:new p0(at,ct,Nt,vt,Rt,Jt):null}evaluate(et){const it=this.input.evaluate(et);return(Wn(it)===this.inputType&&this.outputs[this.cases[it]]||this.otherwise).evaluate(et)}eachChild(et){et(this.input),this.outputs.forEach(et),et(this.otherwise)}outputDefined(){return this.outputs.every(et=>et.outputDefined())&&this.otherwise.outputDefined()}serialize(){const et=["match",this.input.serialize()],it=Object.keys(this.cases).sort(),at=[],ct={};for(const Rt of it){const Nt=ct[this.cases[Rt]];Nt===void 0?(ct[this.cases[Rt]]=at.length,at.push([this.cases[Rt],[Rt]])):at[Nt][1].push(Rt)}const vt=Rt=>this.inputType.kind==="number"?Number(Rt):Rt;for(const[Rt,Nt]of at)et.push(Nt.length===1?vt(Nt[0]):Nt.map(vt)),et.push(this.outputs[Rt].serialize());return et.push(this.otherwise.serialize()),et}}var Km=p0;class ku{constructor(et,it,at){this.type=et,this.branches=it,this.otherwise=at}static parse(et,it){if(et.length<4)return it.error(`Expected at least 3 arguments, but found only ${et.length-1}.`);if(et.length%2!=0)return it.error("Expected an odd number of arguments.");let at;it.expectedType&&it.expectedType.kind!=="value"&&(at=it.expectedType);const ct=[];for(let Rt=1;Rt<et.length-1;Rt+=2){const Nt=it.parse(et[Rt],Rt,ss);if(!Nt)return null;const Jt=it.parse(et[Rt+1],Rt+1,at);if(!Jt)return null;ct.push([Nt,Jt]),at=at||Jt.type}const vt=it.parse(et[et.length-1],et.length-1,at);return vt?new ku(at,ct,vt):null}evaluate(et){for(const[it,at]of this.branches)if(it.evaluate(et))return at.evaluate(et);return this.otherwise.evaluate(et)}eachChild(et){for(const[it,at]of this.branches)et(it),et(at);et(this.otherwise)}outputDefined(){return this.branches.every(([et,it])=>it.outputDefined())&&this.otherwise.outputDefined()}serialize(){const et=["case"];return this.eachChild(it=>{et.push(it.serialize())}),et}}var cv=ku;class g0{constructor(et,it,at,ct){this.type=et,this.input=it,this.beginIndex=at,this.endIndex=ct}static parse(et,it){if(et.length<=2||et.length>=5)return it.error(`Expected 3 or 4 arguments, but found ${et.length-1} instead.`);const at=it.parse(et[1],1,Ko),ct=it.parse(et[2],2,mo);if(!at||!ct)return null;if(!Ju(at.type,[Cl(Ko),rs,Ko]))return it.error(`Expected first argument to be of type array or string, but found ${ps(at.type)} instead`);if(et.length===4){const vt=it.parse(et[3],3,mo);return vt?new g0(at.type,at,ct,vt):null}return new g0(at.type,at,ct)}evaluate(et){const it=this.input.evaluate(et),at=this.beginIndex.evaluate(et);if(!Xs(it,["string","array"]))throw new Br(`Expected first argument to be of type array or string, but found ${ps(Wn(it))} instead.`);if(this.endIndex){const ct=this.endIndex.evaluate(et);return it.slice(at,ct)}return it.slice(at)}eachChild(et){et(this.input),et(this.beginIndex),this.endIndex&&et(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const et=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),et]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var m0=g0;function U_(rt,et){return rt==="=="||rt==="!="?et.kind==="boolean"||et.kind==="string"||et.kind==="number"||et.kind==="null"||et.kind==="value":et.kind==="string"||et.kind==="number"||et.kind==="value"}function b_(rt,et,it,at){return at.compare(et,it)===0}function ey(rt,et,it){const at=rt!=="=="&&rt!=="!=";return class hw{constructor(vt,Rt,Nt){this.type=ss,this.lhs=vt,this.rhs=Rt,this.collator=Nt,this.hasUntypedArgument=vt.type.kind==="value"||Rt.type.kind==="value"}static parse(vt,Rt){if(vt.length!==3&&vt.length!==4)return Rt.error("Expected two or three arguments.");const Nt=vt[0];let Jt=Rt.parse(vt[1],1,Ko);if(!Jt)return null;if(!U_(Nt,Jt.type))return Rt.concat(1).error(`"${Nt}" comparisons are not supported for type '${ps(Jt.type)}'.`);let Yt=Rt.parse(vt[2],2,Ko);if(!Yt)return null;if(!U_(Nt,Yt.type))return Rt.concat(2).error(`"${Nt}" comparisons are not supported for type '${ps(Yt.type)}'.`);if(Jt.type.kind!==Yt.type.kind&&Jt.type.kind!=="value"&&Yt.type.kind!=="value")return Rt.error(`Cannot compare types '${ps(Jt.type)}' and '${ps(Yt.type)}'.`);at&&(Jt.type.kind==="value"&&Yt.type.kind!=="value"?Jt=new Vo(Yt.type,[Jt]):Jt.type.kind!=="value"&&Yt.type.kind==="value"&&(Yt=new Vo(Jt.type,[Yt])));let sn=null;if(vt.length===4){if(Jt.type.kind!=="string"&&Yt.type.kind!=="string"&&Jt.type.kind!=="value"&&Yt.type.kind!=="value")return Rt.error("Cannot use collator to compare non-string types.");if(sn=Rt.parse(vt[3],3,Wu),!sn)return null}return new hw(Jt,Yt,sn)}evaluate(vt){const Rt=this.lhs.evaluate(vt),Nt=this.rhs.evaluate(vt);if(at&&this.hasUntypedArgument){const Jt=Wn(Rt),Yt=Wn(Nt);if(Jt.kind!==Yt.kind||Jt.kind!=="string"&&Jt.kind!=="number")throw new Br(`Expected arguments for "${rt}" to be (string, string) or (number, number), but found (${Jt.kind}, ${Yt.kind}) instead.`)}if(this.collator&&!at&&this.hasUntypedArgument){const Jt=Wn(Rt),Yt=Wn(Nt);if(Jt.kind!=="string"||Yt.kind!=="string")return et(vt,Rt,Nt)}return this.collator?it(vt,Rt,Nt,this.collator.evaluate(vt)):et(vt,Rt,Nt)}eachChild(vt){vt(this.lhs),vt(this.rhs),this.collator&&vt(this.collator)}outputDefined(){return!0}serialize(){const vt=[rt];return this.eachChild(Rt=>{vt.push(Rt.serialize())}),vt}}}const ty=ey("==",function(rt,et,it){return et===it},b_),Tr=ey("!=",function(rt,et,it){return et!==it},function(rt,et,it,at){return!b_(0,et,it,at)}),Xr=ey("<",function(rt,et,it){return et<it},function(rt,et,it,at){return at.compare(et,it)<0}),Wr=ey(">",function(rt,et,it){return et>it},function(rt,et,it,at){return at.compare(et,it)>0}),Oo=ey("<=",function(rt,et,it){return et<=it},function(rt,et,it,at){return at.compare(et,it)<=0}),ds=ey(">=",function(rt,et,it){return et>=it},function(rt,et,it,at){return at.compare(et,it)>=0});class Ms{constructor(et,it,at,ct,vt,Rt){this.type=rs,this.number=et,this.locale=it,this.currency=at,this.unit=ct,this.minFractionDigits=vt,this.maxFractionDigits=Rt}static parse(et,it){if(et.length!==3)return it.error("Expected two arguments.");const at=it.parse(et[1],1,mo);if(!at)return null;const ct=et[2];if(typeof ct!="object"||Array.isArray(ct))return it.error("NumberFormat options argument must be an object.");let vt=null;if(ct.locale&&(vt=it.parse(ct.locale,1,rs),!vt))return null;let Rt=null;if(ct.currency&&(Rt=it.parse(ct.currency,1,rs),!Rt))return null;let Nt=null;if(ct.unit&&(Nt=it.parse(ct.unit,1,rs),!Nt))return null;let Jt=null;if(ct["min-fraction-digits"]&&(Jt=it.parse(ct["min-fraction-digits"],1,mo),!Jt))return null;let Yt=null;return ct["max-fraction-digits"]&&(Yt=it.parse(ct["max-fraction-digits"],1,mo),!Yt)?null:new Ms(at,vt,Rt,Nt,Jt,Yt)}evaluate(et){return new Intl.NumberFormat(this.locale?this.locale.evaluate(et):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(et):void 0,unit:this.unit?this.unit.evaluate(et):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(et):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(et):void 0}).format(this.number.evaluate(et))}eachChild(et){et(this.number),this.locale&&et(this.locale),this.currency&&et(this.currency),this.unit&&et(this.unit),this.minFractionDigits&&et(this.minFractionDigits),this.maxFractionDigits&&et(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const et={};return this.locale&&(et.locale=this.locale.serialize()),this.currency&&(et.currency=this.currency.serialize()),this.unit&&(et.unit=this.unit.serialize()),this.minFractionDigits&&(et["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(et["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),et]}}class Tl{constructor(et){this.type=mo,this.input=et}static parse(et,it){if(et.length!==2)return it.error(`Expected 1 argument, but found ${et.length-1} instead.`);const at=it.parse(et[1],1);return at?at.type.kind!=="array"&&at.type.kind!=="string"&&at.type.kind!=="value"?it.error(`Expected argument of type string or array, but found ${ps(at.type)} instead.`):new Tl(at):null}evaluate(et){const it=this.input.evaluate(et);if(typeof it=="string"||Array.isArray(it))return it.length;throw new Br(`Expected value to be of type string or array, but found ${ps(Wn(it))} instead.`)}eachChild(et){et(this.input)}outputDefined(){return!1}serialize(){const et=["length"];return this.eachChild(it=>{et.push(it.serialize())}),et}}const qs={"==":ty,"!=":Tr,">":Wr,"<":Xr,">=":ds,"<=":Oo,array:Vo,at:v_,boolean:Vo,case:cv,coalesce:Am,collator:t0,format:go,image:Eo,in:f0,"index-of":uv,interpolate:bp,"interpolate-hcl":bp,"interpolate-lab":bp,length:Tl,let:__,literal:qn,match:Km,number:Vo,"number-format":Ms,object:Vo,slice:m0,step:xm,string:Vo,"to-boolean":Ro,"to-color":Ro,"to-number":Ro,"to-string":Ro,var:s0,within:ys};function y0(rt,[et,it,at,ct]){et=et.evaluate(rt),it=it.evaluate(rt),at=at.evaluate(rt);const vt=ct?ct.evaluate(rt):1,Rt=bn(et,it,at,vt);if(Rt)throw new Br(Rt);return new Is(et/255*vt,it/255*vt,at/255*vt,vt)}function hv(rt,et){return rt in et}function Eu(rt,et){const it=et[rt];return it===void 0?null:it}function Sp(rt){return{type:rt}}zu.register(qs,{error:[{kind:"error"},[rs],(rt,[et])=>{throw new Br(et.evaluate(rt))}],typeof:[rs,[Ko],(rt,[et])=>ps(Wn(et.evaluate(rt)))],"to-rgba":[Cl(mo,4),[Bu],(rt,[et])=>et.evaluate(rt).toArray()],rgb:[Bu,[mo,mo,mo],y0],rgba:[Bu,[mo,mo,mo,mo],y0],has:{type:ss,overloads:[[[rs],(rt,[et])=>hv(et.evaluate(rt),rt.properties())],[[rs,ip],(rt,[et,it])=>hv(et.evaluate(rt),it.evaluate(rt))]]},get:{type:Ko,overloads:[[[rs],(rt,[et])=>Eu(et.evaluate(rt),rt.properties())],[[rs,ip],(rt,[et,it])=>Eu(et.evaluate(rt),it.evaluate(rt))]]},"feature-state":[Ko,[rs],(rt,[et])=>Eu(et.evaluate(rt),rt.featureState||{})],properties:[ip,[],rt=>rt.properties()],"geometry-type":[rs,[],rt=>rt.geometryType()],id:[Ko,[],rt=>rt.id()],zoom:[mo,[],rt=>rt.globals.zoom],pitch:[mo,[],rt=>rt.globals.pitch||0],"distance-from-center":[mo,[],rt=>rt.distanceFromCenter()],"heatmap-density":[mo,[],rt=>rt.globals.heatmapDensity||0],"line-progress":[mo,[],rt=>rt.globals.lineProgress||0],"sky-radial-progress":[mo,[],rt=>rt.globals.skyRadialProgress||0],accumulated:[Ko,[],rt=>rt.globals.accumulated===void 0?null:rt.globals.accumulated],"+":[mo,Sp(mo),(rt,et)=>{let it=0;for(const at of et)it+=at.evaluate(rt);return it}],"*":[mo,Sp(mo),(rt,et)=>{let it=1;for(const at of et)it*=at.evaluate(rt);return it}],"-":{type:mo,overloads:[[[mo,mo],(rt,[et,it])=>et.evaluate(rt)-it.evaluate(rt)],[[mo],(rt,[et])=>-et.evaluate(rt)]]},"/":[mo,[mo,mo],(rt,[et,it])=>et.evaluate(rt)/it.evaluate(rt)],"%":[mo,[mo,mo],(rt,[et,it])=>et.evaluate(rt)%it.evaluate(rt)],ln2:[mo,[],()=>Math.LN2],pi:[mo,[],()=>Math.PI],e:[mo,[],()=>Math.E],"^":[mo,[mo,mo],(rt,[et,it])=>Math.pow(et.evaluate(rt),it.evaluate(rt))],sqrt:[mo,[mo],(rt,[et])=>Math.sqrt(et.evaluate(rt))],log10:[mo,[mo],(rt,[et])=>Math.log(et.evaluate(rt))/Math.LN10],ln:[mo,[mo],(rt,[et])=>Math.log(et.evaluate(rt))],log2:[mo,[mo],(rt,[et])=>Math.log(et.evaluate(rt))/Math.LN2],sin:[mo,[mo],(rt,[et])=>Math.sin(et.evaluate(rt))],cos:[mo,[mo],(rt,[et])=>Math.cos(et.evaluate(rt))],tan:[mo,[mo],(rt,[et])=>Math.tan(et.evaluate(rt))],asin:[mo,[mo],(rt,[et])=>Math.asin(et.evaluate(rt))],acos:[mo,[mo],(rt,[et])=>Math.acos(et.evaluate(rt))],atan:[mo,[mo],(rt,[et])=>Math.atan(et.evaluate(rt))],min:[mo,Sp(mo),(rt,et)=>Math.min(...et.map(it=>it.evaluate(rt)))],max:[mo,Sp(mo),(rt,et)=>Math.max(...et.map(it=>it.evaluate(rt)))],abs:[mo,[mo],(rt,[et])=>Math.abs(et.evaluate(rt))],round:[mo,[mo],(rt,[et])=>{const it=et.evaluate(rt);return it<0?-Math.round(-it):Math.round(it)}],floor:[mo,[mo],(rt,[et])=>Math.floor(et.evaluate(rt))],ceil:[mo,[mo],(rt,[et])=>Math.ceil(et.evaluate(rt))],"filter-==":[ss,[rs,Ko],(rt,[et,it])=>rt.properties()[et.value]===it.value],"filter-id-==":[ss,[Ko],(rt,[et])=>rt.id()===et.value],"filter-type-==":[ss,[rs],(rt,[et])=>rt.geometryType()===et.value],"filter-<":[ss,[rs,Ko],(rt,[et,it])=>{const at=rt.properties()[et.value],ct=it.value;return typeof at==typeof ct&&at<ct}],"filter-id-<":[ss,[Ko],(rt,[et])=>{const it=rt.id(),at=et.value;return typeof it==typeof at&&it<at}],"filter->":[ss,[rs,Ko],(rt,[et,it])=>{const at=rt.properties()[et.value],ct=it.value;return typeof at==typeof ct&&at>ct}],"filter-id->":[ss,[Ko],(rt,[et])=>{const it=rt.id(),at=et.value;return typeof it==typeof at&&it>at}],"filter-<=":[ss,[rs,Ko],(rt,[et,it])=>{const at=rt.properties()[et.value],ct=it.value;return typeof at==typeof ct&&at<=ct}],"filter-id-<=":[ss,[Ko],(rt,[et])=>{const it=rt.id(),at=et.value;return typeof it==typeof at&&it<=at}],"filter->=":[ss,[rs,Ko],(rt,[et,it])=>{const at=rt.properties()[et.value],ct=it.value;return typeof at==typeof ct&&at>=ct}],"filter-id->=":[ss,[Ko],(rt,[et])=>{const it=rt.id(),at=et.value;return typeof it==typeof at&&it>=at}],"filter-has":[ss,[Ko],(rt,[et])=>et.value in rt.properties()],"filter-has-id":[ss,[],rt=>rt.id()!==null&&rt.id()!==void 0],"filter-type-in":[ss,[Cl(rs)],(rt,[et])=>et.value.indexOf(rt.geometryType())>=0],"filter-id-in":[ss,[Cl(Ko)],(rt,[et])=>et.value.indexOf(rt.id())>=0],"filter-in-small":[ss,[rs,Cl(Ko)],(rt,[et,it])=>it.value.indexOf(rt.properties()[et.value])>=0],"filter-in-large":[ss,[rs,Cl(Ko)],(rt,[et,it])=>function(at,ct,vt,Rt){for(;vt<=Rt;){const Nt=vt+Rt>>1;if(ct[Nt]===at)return!0;ct[Nt]>at?Rt=Nt-1:vt=Nt+1}return!1}(rt.properties()[et.value],it.value,0,it.value.length-1)],all:{type:ss,overloads:[[[ss,ss],(rt,[et,it])=>et.evaluate(rt)&&it.evaluate(rt)],[Sp(ss),(rt,et)=>{for(const it of et)if(!it.evaluate(rt))return!1;return!0}]]},any:{type:ss,overloads:[[[ss,ss],(rt,[et,it])=>et.evaluate(rt)||it.evaluate(rt)],[Sp(ss),(rt,et)=>{for(const it of et)if(it.evaluate(rt))return!0;return!1}]]},"!":[ss,[ss],(rt,[et])=>!et.evaluate(rt)],"is-supported-script":[ss,[rs],(rt,[et])=>{const it=rt.globals&&rt.globals.isSupportedScript;return!it||it(et.evaluate(rt))}],upcase:[rs,[rs],(rt,[et])=>et.evaluate(rt).toUpperCase()],downcase:[rs,[rs],(rt,[et])=>et.evaluate(rt).toLowerCase()],concat:[rs,Sp(Ko),(rt,et)=>et.map(it=>sr(it.evaluate(rt))).join("")],"resolved-locale":[rs,[Wu],(rt,[et])=>et.evaluate(rt).resolvedLocale()]});var ny=qs;function am(rt){return{result:"success",value:rt}}function Zu(rt){return{result:"error",value:rt}}function Wp(rt){return rt["property-type"]==="data-driven"||rt["property-type"]==="cross-faded-data-driven"}function js(rt){return!!rt.expression&&rt.expression.parameters.indexOf("zoom")>-1}function Rp(rt){return!!rt.expression&&rt.expression.interpolated}function Ts(rt){return rt instanceof Number?"number":rt instanceof String?"string":rt instanceof Boolean?"boolean":Array.isArray(rt)?"array":rt===null?"null":typeof rt}function Gu(rt){return typeof rt=="object"&&rt!==null&&!Array.isArray(rt)}function BU(rt){return rt}function dv(rt,et){const it=et.type==="color",at=rt.stops&&typeof rt.stops[0][0]=="object",ct=at||!(at||rt.property!==void 0),vt=rt.type||(Rp(et)?"exponential":"interval");if(it&&((rt=_a({},rt)).stops&&(rt.stops=rt.stops.map(Yt=>[Yt[0],Is.parse(Yt[1])])),rt.default=Is.parse(rt.default?rt.default:et.default)),rt.colorSpace&&rt.colorSpace!=="rgb"&&!lv[rt.colorSpace])throw new Error(`Unknown color space: ${rt.colorSpace}`);let Rt,Nt,Jt;if(vt==="exponential")Rt=iy;else if(vt==="interval")Rt=wp;else if(vt==="categorical"){Rt=_0,Nt=Object.create(null);for(const Yt of rt.stops)Nt[Yt[0]]=Yt[1];Jt=typeof rt.stops[0][0]}else{if(vt!=="identity")throw new Error(`Unknown function type "${vt}"`);Rt=v0}if(at){const Yt={},sn=[];for(let Rn=0;Rn<rt.stops.length;Rn++){const Bn=rt.stops[Rn],kn=Bn[0].zoom;Yt[kn]===void 0&&(Yt[kn]={zoom:kn,type:rt.type,property:rt.property,default:rt.default,stops:[]},sn.push(kn)),Yt[kn].stops.push([Bn[0].value,Bn[1]])}const dn=[];for(const Rn of sn)dn.push([Yt[Rn].zoom,dv(Yt[Rn],et)]);const gn={name:"linear"};return{kind:"composite",interpolationType:gn,interpolationFactor:bp.interpolationFactor.bind(void 0,gn),zoomStops:dn.map(Rn=>Rn[0]),evaluate:({zoom:Rn},Bn)=>iy({stops:dn,base:rt.base},et,Rn).evaluate(Rn,Bn)}}if(ct){const Yt=vt==="exponential"?{name:"exponential",base:rt.base!==void 0?rt.base:1}:null;return{kind:"camera",interpolationType:Yt,interpolationFactor:bp.interpolationFactor.bind(void 0,Yt),zoomStops:rt.stops.map(sn=>sn[0]),evaluate:({zoom:sn})=>Rt(rt,et,sn,Nt,Jt)}}return{kind:"source",evaluate(Yt,sn){const dn=sn&&sn.properties?sn.properties[rt.property]:void 0;return dn===void 0?ry(rt.default,et.default):Rt(rt,et,dn,Nt,Jt)}}}function ry(rt,et,it){return rt!==void 0?rt:et!==void 0?et:it!==void 0?it:void 0}function _0(rt,et,it,at,ct){return ry(typeof it===ct?at[it]:void 0,rt.default,et.default)}function wp(rt,et,it){if(Ts(it)!=="number")return ry(rt.default,et.default);const at=rt.stops.length;if(at===1||it<=rt.stops[0][0])return rt.stops[0][1];if(it>=rt.stops[at-1][0])return rt.stops[at-1][1];const ct=Ty(rt.stops.map(vt=>vt[0]),it);return rt.stops[ct][1]}function iy(rt,et,it){const at=rt.base!==void 0?rt.base:1;if(Ts(it)!=="number")return ry(rt.default,et.default);const ct=rt.stops.length;if(ct===1||it<=rt.stops[0][0])return rt.stops[0][1];if(it>=rt.stops[ct-1][0])return rt.stops[ct-1][1];const vt=Ty(rt.stops.map(sn=>sn[0]),it),Rt=function(sn,dn,gn,Rn){const Bn=Rn-gn,kn=sn-gn;return Bn===0?0:dn===1?kn/Bn:(Math.pow(dn,kn)-1)/(Math.pow(dn,Bn)-1)}(it,at,rt.stops[vt][0],rt.stops[vt+1][0]),Nt=rt.stops[vt][1],Jt=rt.stops[vt+1][1];let Yt=cp[et.type]||BU;if(rt.colorSpace&&rt.colorSpace!=="rgb"){const sn=lv[rt.colorSpace];Yt=(dn,gn)=>sn.reverse(sn.interpolate(sn.forward(dn),sn.forward(gn),Rt))}return typeof Nt.evaluate=="function"?{evaluate(...sn){const dn=Nt.evaluate.apply(void 0,sn),gn=Jt.evaluate.apply(void 0,sn);if(dn!==void 0&&gn!==void 0)return Yt(dn,gn,Rt)}}:Yt(Nt,Jt,Rt)}function v0(rt,et,it){return et.type==="color"?it=Is.parse(it):et.type==="formatted"?it=Wt.fromString(it.toString()):et.type==="resolvedImage"?it=ln.fromString(it.toString()):Ts(it)===et.type||et.type==="enum"&&et.values[it]||(it=void 0),ry(it,rt.default,et.default)}class lm{constructor(et,it){this.expression=et,this._warningHistory={},this._evaluator=new iu,this._defaultValue=it?function(at){return at.type==="color"&&(Gu(at.default)||Array.isArray(at.default))?new Is(0,0,0,0):at.type==="color"?Is.parse(at.default)||null:at.default===void 0?null:at.default}(it):null,this._enumValues=it&&it.type==="enum"?it.values:null}evaluateWithoutErrorHandling(et,it,at,ct,vt,Rt,Nt,Jt){return this._evaluator.globals=et,this._evaluator.feature=it,this._evaluator.featureState=at,this._evaluator.canonical=ct||null,this._evaluator.availableImages=vt||null,this._evaluator.formattedSection=Rt,this._evaluator.featureTileCoord=Nt||null,this._evaluator.featureDistanceData=Jt||null,this.expression.evaluate(this._evaluator)}evaluate(et,it,at,ct,vt,Rt,Nt,Jt){this._evaluator.globals=et,this._evaluator.feature=it||null,this._evaluator.featureState=at||null,this._evaluator.canonical=ct||null,this._evaluator.availableImages=vt||null,this._evaluator.formattedSection=Rt||null,this._evaluator.featureTileCoord=Nt||null,this._evaluator.featureDistanceData=Jt||null;try{const Yt=this.expression.evaluate(this._evaluator);if(Yt==null||typeof Yt=="number"&&Yt!=Yt)return this._defaultValue;if(this._enumValues&&!(Yt in this._enumValues))throw new Br(`Expected value to be one of ${Object.keys(this._enumValues).map(sn=>JSON.stringify(sn)).join(", ")}, but found ${JSON.stringify(Yt)} instead.`);return Yt}catch(Yt){return this._warningHistory[Yt.message]||(this._warningHistory[Yt.message]=!0,typeof console<"u"&&console.warn(Yt.message)),this._defaultValue}}}function oy(rt){return Array.isArray(rt)&&rt.length>0&&typeof rt[0]=="string"&&rt[0]in ny}function um(rt,et){const it=new Ey(ny,[],et?function(ct){const vt={color:Bu,string:rs,number:mo,enum:rs,boolean:ss,formatted:Lu,resolvedImage:fu};return ct.type==="array"?Cl(vt[ct.value]||Ko,ct.length):vt[ct.type]}(et):void 0),at=it.parse(rt,void 0,void 0,void 0,et&&et.type==="string"?{typeAnnotation:"coerce"}:void 0);return at?am(new lm(at,et)):Zu(it.errors)}class Cm{constructor(et,it){this.kind=et,this._styleExpression=it,this.isStateDependent=et!=="constant"&&!Gm(it.expression)}evaluateWithoutErrorHandling(et,it,at,ct,vt,Rt){return this._styleExpression.evaluateWithoutErrorHandling(et,it,at,ct,vt,Rt)}evaluate(et,it,at,ct,vt,Rt){return this._styleExpression.evaluate(et,it,at,ct,vt,Rt)}}class ky{constructor(et,it,at,ct){this.kind=et,this.zoomStops=at,this._styleExpression=it,this.isStateDependent=et!=="camera"&&!Gm(it.expression),this.interpolationType=ct}evaluateWithoutErrorHandling(et,it,at,ct,vt,Rt){return this._styleExpression.evaluateWithoutErrorHandling(et,it,at,ct,vt,Rt)}evaluate(et,it,at,ct,vt,Rt){return this._styleExpression.evaluate(et,it,at,ct,vt,Rt)}interpolationFactor(et,it,at){return this.interpolationType?bp.interpolationFactor(this.interpolationType,et,it,at):0}}function Lp(rt,et){if((rt=um(rt,et)).result==="error")return rt;const it=rt.value.expression,at=om(it);if(!at&&!Wp(et))return Zu([new wu("","data expressions not supported")]);const ct=na(it,["zoom","pitch","distance-from-center"]);if(!ct&&!js(et))return Zu([new wu("","zoom expressions not supported")]);const vt=cm(it);return vt||ct?vt instanceof wu?Zu([vt]):vt instanceof bp&&!Rp(et)?Zu([new wu("",'"interpolate" expressions cannot be used with this property')]):am(vt?new ky(at?"camera":"composite",rt.value,vt.labels,vt instanceof bp?vt.interpolation:void 0):new Cm(at?"constant":"source",rt.value)):Zu([new wu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class _u{constructor(et,it){this._parameters=et,this._specification=it,_a(this,dv(this._parameters,this._specification))}static deserialize(et){return new _u(et._parameters,et._specification)}static serialize(et){return{_parameters:et._parameters,_specification:et._specification}}}function cm(rt){let et=null;if(rt instanceof __)et=cm(rt.result);else if(rt instanceof Am){for(const it of rt.args)if(et=cm(it),et)break}else(rt instanceof xm||rt instanceof bp)&&rt.input instanceof zu&&rt.input.name==="zoom"&&(et=rt);return et instanceof wu||rt.eachChild(it=>{const at=cm(it);at instanceof wu?et=at:!et&&at?et=new wu("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):et&&at&&et!==at&&(et=new wu("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),et}class Fo{constructor(et,it,at,ct){this.message=(et?`${et}: `:"")+at,ct&&(this.identifier=ct),it!=null&&it.__line__&&(this.line=it.__line__)}}function Vu(rt){const et=rt.key,it=rt.value,at=rt.valueSpec||{},ct=rt.objectElementValidators||{},vt=rt.style,Rt=rt.styleSpec;let Nt=[];const Jt=Ts(it);if(Jt!=="object")return[new Fo(et,it,`object expected, ${Jt} found`)];for(const Yt in it){const sn=Yt.split(".")[0],dn=at[sn]||at["*"];let gn;ct[sn]?gn=ct[sn]:at[sn]?gn=Jl:ct["*"]?gn=ct["*"]:at["*"]&&(gn=Jl),gn?Nt=Nt.concat(gn({key:(et&&`${et}.`)+Yt,value:it[Yt],valueSpec:dn,style:vt,styleSpec:Rt,object:it,objectKey:Yt},it)):Nt.push(new Fo(et,it[Yt],`unknown property "${Yt}"`))}for(const Yt in at)ct[Yt]||at[Yt].required&&at[Yt].default===void 0&&it[Yt]===void 0&&Nt.push(new Fo(et,it,`missing required property "${Yt}"`));return Nt}function F_(rt){const et=rt.value,it=rt.valueSpec,at=rt.style,ct=rt.styleSpec,vt=rt.key,Rt=rt.arrayElementValidator||Jl;if(Ts(et)!=="array")return[new Fo(vt,et,`array expected, ${Ts(et)} found`)];if(it.length&&et.length!==it.length)return[new Fo(vt,et,`array length ${it.length} expected, length ${et.length} found`)];if(it["min-length"]&&et.length<it["min-length"])return[new Fo(vt,et,`array length at least ${it["min-length"]} expected, length ${et.length} found`)];let Nt={type:it.value,values:it.values,minimum:it.minimum,maximum:it.maximum,function:void 0};ct.$version<7&&(Nt.function=it.function),Ts(it.value)==="object"&&(Nt=it.value);let Jt=[];for(let Yt=0;Yt<et.length;Yt++)Jt=Jt.concat(Rt({array:et,arrayIndex:Yt,value:et[Yt],valueSpec:Nt,style:at,styleSpec:ct,key:`${vt}[${Yt}]`}));return Jt}function Vy(rt){const et=rt.key,it=rt.value,at=rt.valueSpec;let ct=Ts(it);if(ct==="number"&&it!=it&&(ct="NaN"),ct!=="number")return[new Fo(et,it,`number expected, ${ct} found`)];if("minimum"in at){let vt=at.minimum;if(Ts(at.minimum)==="array"&&(vt=at.minimum[rt.arrayIndex]),it<vt)return[new Fo(et,it,`${it} is less than the minimum value ${vt}`)]}if("maximum"in at){let vt=at.maximum;if(Ts(at.maximum)==="array"&&(vt=at.maximum[rt.arrayIndex]),it>vt)return[new Fo(et,it,`${it} is greater than the maximum value ${vt}`)]}return[]}function sy(rt){const et=rt.valueSpec,it=Js(rt.value.type);let at,ct,vt,Rt={};const Nt=it!=="categorical"&&rt.value.property===void 0,Jt=!Nt,Yt=Ts(rt.value.stops)==="array"&&Ts(rt.value.stops[0])==="array"&&Ts(rt.value.stops[0][0])==="object",sn=Vu({key:rt.key,value:rt.value,valueSpec:rt.styleSpec.function,style:rt.style,styleSpec:rt.styleSpec,objectElementValidators:{stops:function(Rn){if(it==="identity")return[new Fo(Rn.key,Rn.value,'identity function may not have a "stops" property')];let Bn=[];const kn=Rn.value;return Bn=Bn.concat(F_({key:Rn.key,value:kn,valueSpec:Rn.valueSpec,style:Rn.style,styleSpec:Rn.styleSpec,arrayElementValidator:dn})),Ts(kn)==="array"&&kn.length===0&&Bn.push(new Fo(Rn.key,kn,"array must have at least one stop")),Bn},default:function(Rn){return Jl({key:Rn.key,value:Rn.value,valueSpec:et,style:Rn.style,styleSpec:Rn.styleSpec})}}});return it==="identity"&&Nt&&sn.push(new Fo(rt.key,rt.value,'missing required property "property"')),it==="identity"||rt.value.stops||sn.push(new Fo(rt.key,rt.value,'missing required property "stops"')),it==="exponential"&&rt.valueSpec.expression&&!Rp(rt.valueSpec)&&sn.push(new Fo(rt.key,rt.value,"exponential functions not supported")),rt.styleSpec.$version>=8&&(Jt&&!Wp(rt.valueSpec)?sn.push(new Fo(rt.key,rt.value,"property functions not supported")):Nt&&!js(rt.valueSpec)&&sn.push(new Fo(rt.key,rt.value,"zoom functions not supported"))),it!=="categorical"&&!Yt||rt.value.property!==void 0||sn.push(new Fo(rt.key,rt.value,'"property" property is required')),sn;function dn(Rn){let Bn=[];const kn=Rn.value,Ln=Rn.key;if(Ts(kn)!=="array")return[new Fo(Ln,kn,`array expected, ${Ts(kn)} found`)];if(kn.length!==2)return[new Fo(Ln,kn,`array length 2 expected, length ${kn.length} found`)];if(Yt){if(Ts(kn[0])!=="object")return[new Fo(Ln,kn,`object expected, ${Ts(kn[0])} found`)];if(kn[0].zoom===void 0)return[new Fo(Ln,kn,"object stop key must have zoom")];if(kn[0].value===void 0)return[new Fo(Ln,kn,"object stop key must have value")];const ir=Js(kn[0].zoom);if(typeof ir!="number")return[new Fo(Ln,kn[0].zoom,"stop zoom values must be numbers")];if(vt&&vt>ir)return[new Fo(Ln,kn[0].zoom,"stop zoom values must appear in ascending order")];ir!==vt&&(vt=ir,ct=void 0,Rt={}),Bn=Bn.concat(Vu({key:`${Ln}[0]`,value:kn[0],valueSpec:{zoom:{}},style:Rn.style,styleSpec:Rn.styleSpec,objectElementValidators:{zoom:Vy,value:gn}}))}else Bn=Bn.concat(gn({key:`${Ln}[0]`,value:kn[0],valueSpec:{},style:Rn.style,styleSpec:Rn.styleSpec},kn));return oy(du(kn[1]))?Bn.concat([new Fo(`${Ln}[1]`,kn[1],"expressions are not allowed in function stops.")]):Bn.concat(Jl({key:`${Ln}[1]`,value:kn[1],valueSpec:et,style:Rn.style,styleSpec:Rn.styleSpec}))}function gn(Rn,Bn){const kn=Ts(Rn.value),Ln=Js(Rn.value),ir=Rn.value!==null?Rn.value:Bn;if(at){if(kn!==at)return[new Fo(Rn.key,ir,`${kn} stop domain type must match previous stop domain type ${at}`)]}else at=kn;if(kn!=="number"&&kn!=="string"&&kn!=="boolean"&&typeof Ln!="number"&&typeof Ln!="string"&&typeof Ln!="boolean")return[new Fo(Rn.key,ir,"stop domain value must be a number, string, or boolean")];if(kn!=="number"&&it!=="categorical"){let _r=`number expected, ${kn} found`;return Wp(et)&&it===void 0&&(_r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Fo(Rn.key,ir,_r)]}return it!=="categorical"||kn!=="number"||typeof Ln=="number"&&isFinite(Ln)&&Math.floor(Ln)===Ln?it!=="categorical"&&kn==="number"&&typeof Ln=="number"&&typeof ct=="number"&&ct!==void 0&&Ln<ct?[new Fo(Rn.key,ir,"stop domain values must appear in ascending order")]:(ct=Ln,it==="categorical"&&Ln in Rt?[new Fo(Rn.key,ir,"stop domain values must be unique")]:(Rt[Ln]=!0,[])):[new Fo(Rn.key,ir,`integer expected, found ${String(Ln)}`)]}}function hp(rt){const et=(rt.expressionContext==="property"?Lp:um)(du(rt.value),rt.valueSpec);if(et.result==="error")return et.value.map(at=>new Fo(`${rt.key}${at.key}`,rt.value,at.message));const it=et.value.expression||et.value._styleExpression.expression;if(rt.expressionContext==="property"&&rt.propertyKey==="text-font"&&!it.outputDefined())return[new Fo(rt.key,rt.value,`Invalid data expression for "${rt.propertyKey}". Output values must be contained as literals within the expression.`)];if(rt.expressionContext==="property"&&rt.propertyType==="layout"&&!Gm(it))return[new Fo(rt.key,rt.value,'"feature-state" data expressions are not supported with layout properties.')];if(rt.expressionContext==="filter")return fv(it,rt);if(rt.expressionContext&&rt.expressionContext.indexOf("cluster")===0){if(!na(it,["zoom","feature-state"]))return[new Fo(rt.key,rt.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(rt.expressionContext==="cluster-initial"&&!om(it))return[new Fo(rt.key,rt.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fv(rt,et){const it=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(et.valueSpec&&et.valueSpec.expression)for(const ct of et.valueSpec.expression.parameters)it.delete(ct);if(it.size===0)return[];const at=[];return rt instanceof zu&&it.has(rt.name)?[new Fo(et.key,et.value,`["${rt.name}"] expression is not supported in a filter for a ${et.object.type} layer with id: ${et.object.id}`)]:(rt.eachChild(ct=>{at.push(...fv(ct,et))}),at)}function My(rt){const et=rt.key,it=rt.value,at=rt.valueSpec,ct=[];return Array.isArray(at.values)?at.values.indexOf(Js(it))===-1&&ct.push(new Fo(et,it,`expected one of [${at.values.join(", ")}], ${JSON.stringify(it)} found`)):Object.keys(at.values).indexOf(Js(it))===-1&&ct.push(new Fo(et,it,`expected one of [${Object.keys(at.values).join(", ")}], ${JSON.stringify(it)} found`)),ct}function S_(rt){if(rt===!0||rt===!1)return!0;if(!Array.isArray(rt)||rt.length===0)return!1;switch(rt[0]){case"has":return rt.length>=2&&rt[1]!=="$id"&&rt[1]!=="$type";case"in":return rt.length>=3&&(typeof rt[1]!="string"||Array.isArray(rt[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return rt.length!==3||Array.isArray(rt[1])||Array.isArray(rt[2]);case"any":case"all":for(const et of rt.slice(1))if(!S_(et)&&typeof et!="boolean")return!1;return!0;default:return!0}}function U0(rt,et="fill"){if(rt==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};S_(rt)||(rt=ay(rt));const it=rt;let at=!0;try{at=function(Yt){if(!Jp(Yt))return Yt;let sn=du(Yt);return Ml(sn),sn=Vl(sn),sn}(it)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(it,null,2)}
        `)}const ct=Ir[`filter_${et}`],vt=um(at,ct);let Rt=null;if(vt.result==="error")throw new Error(vt.value.map(Yt=>`${Yt.key}: ${Yt.message}`).join(", "));Rt=(Yt,sn,dn)=>vt.value.evaluate(Yt,sn,{},dn);let Nt=null,Jt=null;if(at!==it){const Yt=um(it,ct);if(Yt.result==="error")throw new Error(Yt.value.map(sn=>`${sn.key}: ${sn.message}`).join(", "));Nt=(sn,dn,gn,Rn,Bn)=>Yt.value.evaluate(sn,dn,{},gn,void 0,void 0,Rn,Bn),Jt=!om(Yt.value.expression)}return{filter:Rt,dynamicFilter:Nt||void 0,needGeometry:pv(at),needFeature:!!Jt}}function Vl(rt){if(!Array.isArray(rt))return rt;const et=function(it){if(Mu.has(it[0])){for(let at=1;at<it.length;at++)if(Jp(it[at]))return!0}return it}(rt);return et===!0?et:et.map(it=>Vl(it))}function Ml(rt){let et=!1;const it=[];if(rt[0]==="case"){for(let at=1;at<rt.length-1;at+=2)et=et||Jp(rt[at]),it.push(rt[at+1]);it.push(rt[rt.length-1])}else if(rt[0]==="match"){et=et||Jp(rt[1]);for(let at=2;at<rt.length-1;at+=2)it.push(rt[at+1]);it.push(rt[rt.length-1])}else if(rt[0]==="step"){et=et||Jp(rt[1]);for(let at=1;at<rt.length-1;at+=2)it.push(rt[at+1])}et&&(rt.length=0,rt.push("any",...it));for(let at=1;at<rt.length;at++)Ml(rt[at])}function Jp(rt){if(!Array.isArray(rt))return!1;if((et=rt[0])==="pitch"||et==="distance-from-center")return!0;var et;for(let it=1;it<rt.length;it++)if(Jp(rt[it]))return!0;return!1}const Mu=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ny(rt,et){return rt<et?-1:rt>et?1:0}function pv(rt){if(!Array.isArray(rt))return!1;if(rt[0]==="within")return!0;for(let et=1;et<rt.length;et++)if(pv(rt[et]))return!0;return!1}function ay(rt){if(!rt)return!0;const et=rt[0];return rt.length<=1?et!=="any":et==="=="?km(rt[1],rt[2],"=="):et==="!="?hm(km(rt[1],rt[2],"==")):et==="<"||et===">"||et==="<="||et===">="?km(rt[1],rt[2],et):et==="any"?(it=rt.slice(1),["any"].concat(it.map(ay))):et==="all"?["all"].concat(rt.slice(1).map(ay)):et==="none"?["all"].concat(rt.slice(1).map(ay).map(hm)):et==="in"?b0(rt[1],rt.slice(2)):et==="!in"?hm(b0(rt[1],rt.slice(2))):et==="has"?jp(rt[1]):et==="!has"?hm(jp(rt[1])):et!=="within"||rt;var it}function km(rt,et,it){switch(rt){case"$type":return[`filter-type-${it}`,et];case"$id":return[`filter-id-${it}`,et];default:return[`filter-${it}`,rt,et]}}function b0(rt,et){if(et.length===0)return!1;switch(rt){case"$type":return["filter-type-in",["literal",et]];case"$id":return["filter-id-in",["literal",et]];default:return et.length>200&&!et.some(it=>typeof it!=typeof et[0])?["filter-in-large",rt,["literal",et.sort(Ny)]]:["filter-in-small",rt,["literal",et]]}}function jp(rt){switch(rt){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",rt]}}function hm(rt){return["!",rt]}function zp(rt){return S_(du(rt.value))?hp(_a({},rt,{expressionContext:"filter",valueSpec:rt.styleSpec[`filter_${rt.layerType||"fill"}`]})):Dy(rt)}function Dy(rt){const et=rt.value,it=rt.key;if(Ts(et)!=="array")return[new Fo(it,et,`array expected, ${Ts(et)} found`)];const at=rt.styleSpec;let ct,vt=[];if(et.length<1)return[new Fo(it,et,"filter array must have at least 1 element")];switch(vt=vt.concat(My({key:`${it}[0]`,value:et[0],valueSpec:at.filter_operator,style:rt.style,styleSpec:rt.styleSpec})),Js(et[0])){case"<":case"<=":case">":case">=":et.length>=2&&Js(et[1])==="$type"&&vt.push(new Fo(it,et,`"$type" cannot be use with operator "${et[0]}"`));case"==":case"!=":et.length!==3&&vt.push(new Fo(it,et,`filter array for operator "${et[0]}" must have 3 elements`));case"in":case"!in":et.length>=2&&(ct=Ts(et[1]),ct!=="string"&&vt.push(new Fo(`${it}[1]`,et[1],`string expected, ${ct} found`)));for(let Rt=2;Rt<et.length;Rt++)ct=Ts(et[Rt]),Js(et[1])==="$type"?vt=vt.concat(My({key:`${it}[${Rt}]`,value:et[Rt],valueSpec:at.geometry_type,style:rt.style,styleSpec:rt.styleSpec})):ct!=="string"&&ct!=="number"&&ct!=="boolean"&&vt.push(new Fo(`${it}[${Rt}]`,et[Rt],`string, number, or boolean expected, ${ct} found`));break;case"any":case"all":case"none":for(let Rt=1;Rt<et.length;Rt++)vt=vt.concat(Dy({key:`${it}[${Rt}]`,value:et[Rt],style:rt.style,styleSpec:rt.styleSpec}));break;case"has":case"!has":ct=Ts(et[1]),et.length!==2?vt.push(new Fo(it,et,`filter array for "${et[0]}" operator must have 2 elements`)):ct!=="string"&&vt.push(new Fo(`${it}[1]`,et[1],`string expected, ${ct} found`));break;case"within":ct=Ts(et[1]),et.length!==2?vt.push(new Fo(it,et,`filter array for "${et[0]}" operator must have 2 elements`)):ct!=="object"&&vt.push(new Fo(`${it}[1]`,et[1],`object expected, ${ct} found`))}return vt}function Vm(rt,et){const it=rt.key,at=rt.style,ct=rt.styleSpec,vt=rt.value,Rt=rt.objectKey,Nt=ct[`${et}_${rt.layerType}`];if(!Nt)return[];const Jt=Rt.match(/^(.*)-transition$/);if(et==="paint"&&Jt&&Nt[Jt[1]]&&Nt[Jt[1]].transition)return Jl({key:it,value:vt,valueSpec:ct.transition,style:at,styleSpec:ct});const Yt=rt.valueSpec||Nt[Rt];if(!Yt)return[new Fo(it,vt,`unknown property "${Rt}"`)];let sn;if(Ts(vt)==="string"&&Wp(Yt)&&!Yt.tokens&&(sn=/^{([^}]+)}$/.exec(vt)))return[new Fo(it,vt,`"${Rt}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(sn[1])} }\`.`)];const dn=[];return rt.layerType==="symbol"&&(Rt==="text-field"&&at&&!at.glyphs&&dn.push(new Fo(it,vt,'use of "text-field" requires a style "glyphs" property')),Rt==="text-font"&&Gu(du(vt))&&Js(vt.type)==="identity"&&dn.push(new Fo(it,vt,'"text-font" does not support identity functions'))),dn.concat(Jl({key:rt.key,value:vt,valueSpec:Yt,style:at,styleSpec:ct,expressionContext:"property",propertyType:et,propertyKey:Rt}))}function F0(rt){return Vm(rt,"paint")}function gv(rt){return Vm(rt,"layout")}function R_(rt){let et=[];const it=rt.value,at=rt.key,ct=rt.style,vt=rt.styleSpec;it.type||it.ref||et.push(new Fo(at,it,'either "type" or "ref" is required'));let Rt=Js(it.type);const Nt=Js(it.ref);if(it.id){const Jt=Js(it.id);for(let Yt=0;Yt<rt.arrayIndex;Yt++){const sn=ct.layers[Yt];Js(sn.id)===Jt&&et.push(new Fo(at,it.id,`duplicate layer id "${it.id}", previously used at line ${sn.id.__line__}`))}}if("ref"in it){let Jt;["type","source","source-layer","filter","layout"].forEach(Yt=>{Yt in it&&et.push(new Fo(at,it[Yt],`"${Yt}" is prohibited for ref layers`))}),ct.layers.forEach(Yt=>{Js(Yt.id)===Nt&&(Jt=Yt)}),Jt?Jt.ref?et.push(new Fo(at,it.ref,"ref cannot reference another ref layer")):Rt=Js(Jt.type):typeof Nt=="string"&&et.push(new Fo(at,it.ref,`ref layer "${Nt}" not found`))}else if(Rt!=="background"&&Rt!=="sky")if(it.source){const Jt=ct.sources&&ct.sources[it.source],Yt=Jt&&Js(Jt.type);Jt?Yt==="vector"&&Rt==="raster"?et.push(new Fo(at,it.source,`layer "${it.id}" requires a raster source`)):Yt==="raster"&&Rt!=="raster"?et.push(new Fo(at,it.source,`layer "${it.id}" requires a vector source`)):Yt!=="vector"||it["source-layer"]?Yt==="raster-dem"&&Rt!=="hillshade"?et.push(new Fo(at,it.source,"raster-dem source can only be used with layer type 'hillshade'.")):Rt!=="line"||!it.paint||!it.paint["line-gradient"]&&!it.paint["line-trim-offset"]||Yt==="geojson"&&Jt.lineMetrics||et.push(new Fo(at,it,`layer "${it.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):et.push(new Fo(at,it,`layer "${it.id}" must specify a "source-layer"`)):et.push(new Fo(at,it.source,`source "${it.source}" not found`))}else et.push(new Fo(at,it,'missing required property "source"'));return et=et.concat(Vu({key:at,value:it,valueSpec:vt.layer,style:rt.style,styleSpec:rt.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Jl({key:`${at}.type`,value:it.type,valueSpec:vt.layer.type,style:rt.style,styleSpec:rt.styleSpec,object:it,objectKey:"type"}),filter:Jt=>zp(_a({layerType:Rt},Jt)),layout:Jt=>Vu({layer:it,key:Jt.key,value:Jt.value,valueSpec:{},style:Jt.style,styleSpec:Jt.styleSpec,objectElementValidators:{"*":Yt=>gv(_a({layerType:Rt},Yt))}}),paint:Jt=>Vu({layer:it,key:Jt.key,value:Jt.value,valueSpec:{},style:Jt.style,styleSpec:Jt.styleSpec,objectElementValidators:{"*":Yt=>F0(_a({layerType:Rt},Yt))}})}})),et}function Mm(rt){const et=rt.value,it=rt.key,at=Ts(et);return at!=="string"?[new Fo(it,et,`string expected, ${at} found`)]:[]}const mv={promoteId:function({key:rt,value:et}){if(Ts(et)==="string")return Mm({key:rt,value:et});{const it=[];for(const at in et)it.push(...Mm({key:`${rt}.${at}`,value:et[at]}));return it}}};function Nm(rt){const et=rt.value,it=rt.key,at=rt.styleSpec,ct=rt.style;if(!et.type)return[new Fo(it,et,'"type" is required')];const vt=Js(et.type);let Rt;switch(vt){case"vector":case"raster":case"raster-dem":return Rt=Vu({key:it,value:et,valueSpec:at[`source_${vt.replace("-","_")}`],style:rt.style,styleSpec:at,objectElementValidators:mv}),Rt;case"geojson":if(Rt=Vu({key:it,value:et,valueSpec:at.source_geojson,style:ct,styleSpec:at,objectElementValidators:mv}),et.cluster)for(const Nt in et.clusterProperties){const[Jt,Yt]=et.clusterProperties[Nt],sn=typeof Jt=="string"?[Jt,["accumulated"],["get",Nt]]:Jt;Rt.push(...hp({key:`${it}.${Nt}.map`,value:Yt,expressionContext:"cluster-map"})),Rt.push(...hp({key:`${it}.${Nt}.reduce`,value:sn,expressionContext:"cluster-reduce"}))}return Rt;case"video":return Vu({key:it,value:et,valueSpec:at.source_video,style:ct,styleSpec:at});case"image":return Vu({key:it,value:et,valueSpec:at.source_image,style:ct,styleSpec:at});case"canvas":return[new Fo(it,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return My({key:`${it}.type`,value:et.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ct,styleSpec:at})}}function Zp(rt){const et=rt.value,it=rt.styleSpec,at=it.light,ct=rt.style;let vt=[];const Rt=Ts(et);if(et===void 0)return vt;if(Rt!=="object")return vt=vt.concat([new Fo("light",et,`object expected, ${Rt} found`)]),vt;for(const Nt in et){const Jt=Nt.match(/^(.*)-transition$/);vt=vt.concat(Jt&&at[Jt[1]]&&at[Jt[1]].transition?Jl({key:Nt,value:et[Nt],valueSpec:it.transition,style:ct,styleSpec:it}):at[Nt]?Jl({key:Nt,value:et[Nt],valueSpec:at[Nt],style:ct,styleSpec:it}):[new Fo(Nt,et[Nt],`unknown property "${Nt}"`)])}return vt}function S0(rt){const et=rt.value,it=rt.key,at=rt.style,ct=rt.styleSpec,vt=ct.terrain;let Rt=[];const Nt=Ts(et);if(et===void 0)return Rt;if(Nt!=="object")return Rt=Rt.concat([new Fo("terrain",et,`object expected, ${Nt} found`)]),Rt;for(const Jt in et){const Yt=Jt.match(/^(.*)-transition$/);Rt=Rt.concat(Yt&&vt[Yt[1]]&&vt[Yt[1]].transition?Jl({key:Jt,value:et[Jt],valueSpec:ct.transition,style:at,styleSpec:ct}):vt[Jt]?Jl({key:Jt,value:et[Jt],valueSpec:vt[Jt],style:at,styleSpec:ct}):[new Fo(Jt,et[Jt],`unknown property "${Jt}"`)])}if(et.source){const Jt=at.sources&&at.sources[et.source],Yt=Jt&&Js(Jt.type);Jt?Yt!=="raster-dem"&&Rt.push(new Fo(it,et.source,`terrain cannot be used with a source of type ${String(Yt)}, it only be used with a "raster-dem" source type`)):Rt.push(new Fo(it,et.source,`source "${et.source}" not found`))}else Rt.push(new Fo(it,et,'terrain is missing required property "source"'));return Rt}function Jn(rt){const et=rt.value,it=rt.style,at=rt.styleSpec,ct=at.fog;let vt=[];const Rt=Ts(et);if(et===void 0)return vt;if(Rt!=="object")return vt=vt.concat([new Fo("fog",et,`object expected, ${Rt} found`)]),vt;for(const Nt in et){const Jt=Nt.match(/^(.*)-transition$/);vt=vt.concat(Jt&&ct[Jt[1]]&&ct[Jt[1]].transition?Jl({key:Nt,value:et[Nt],valueSpec:at.transition,style:it,styleSpec:at}):ct[Nt]?Jl({key:Nt,value:et[Nt],valueSpec:ct[Nt],style:it,styleSpec:at}):[new Fo(Nt,et[Nt],`unknown property "${Nt}"`)])}return vt}const dm={"*":()=>[],array:F_,boolean:function(rt){const et=rt.value,it=rt.key,at=Ts(et);return at!=="boolean"?[new Fo(it,et,`boolean expected, ${at} found`)]:[]},number:Vy,color:function(rt){const et=rt.key,it=rt.value,at=Ts(it);return at!=="string"?[new Fo(et,it,`color expected, ${at} found`)]:ju(it)===null?[new Fo(et,it,`color expected, "${it}" found`)]:[]},enum:My,filter:zp,function:sy,layer:R_,object:Vu,source:Nm,light:Zp,terrain:S0,fog:Jn,string:Mm,formatted:function(rt){return Mm(rt).length===0?[]:hp(rt)},resolvedImage:function(rt){return Mm(rt).length===0?[]:hp(rt)},projection:function(rt){const et=rt.value,it=rt.styleSpec,at=it.projection,ct=rt.style;let vt=[];const Rt=Ts(et);if(Rt==="object")for(const Nt in et)vt=vt.concat(Jl({key:Nt,value:et[Nt],valueSpec:at[Nt],style:ct,styleSpec:it}));else Rt!=="string"&&(vt=vt.concat([new Fo("projection",et,`object or string expected, ${Rt} found`)]));return vt}};function Jl(rt){const et=rt.value,it=rt.valueSpec,at=rt.styleSpec;return it.expression&&Gu(Js(et))?sy(rt):it.expression&&oy(du(et))?hp(rt):it.type&&dm[it.type]?dm[it.type](rt):Vu(_a({},rt,{valueSpec:it.type?at[it.type]:it}))}function Tu(rt){const et=rt.value,it=rt.key,at=Mm(rt);return at.length||(et.indexOf("{fontstack}")===-1&&at.push(new Fo(it,et,'"glyphs" url must include a "{fontstack}" token')),et.indexOf("{range}")===-1&&at.push(new Fo(it,et,'"glyphs" url must include a "{range}" token'))),at}function Bs(rt,et=Ir){return Gp(Jl({key:"",value:rt,valueSpec:et.$root,styleSpec:et,style:rt,objectElementValidators:{glyphs:Tu,"*":()=>[]}}))}const EU=rt=>Gp(F0(rt)),TU=rt=>Gp(gv(rt));function Gp(rt){return rt.slice().sort((et,it)=>et.line&&it.line?et.line-it.line:0)}function Hp(rt,et){let it=!1;if(et&&et.length)for(const at of et)rt.fire(new Ru(new Error(at.message))),it=!0;return it}var ly=Bp;function Bp(rt,et,it){var at=this.cells=[];if(rt instanceof ArrayBuffer){this.arrayBuffer=rt;var ct=new Int32Array(this.arrayBuffer);rt=ct[0],this.d=(et=ct[1])+2*(it=ct[2]);for(var vt=0;vt<this.d*this.d;vt++){var Rt=ct[3+vt],Nt=ct[3+vt+1];at.push(Rt===Nt?null:ct.subarray(Rt,Nt))}var Jt=ct[3+at.length+1];this.keys=ct.subarray(ct[3+at.length],Jt),this.bboxes=ct.subarray(Jt),this.insert=this._insertReadonly}else{this.d=et+2*it;for(var Yt=0;Yt<this.d*this.d;Yt++)at.push([]);this.keys=[],this.bboxes=[]}this.n=et,this.extent=rt,this.padding=it,this.scale=et/rt,this.uid=0;var sn=it/et*rt;this.min=-sn,this.max=rt+sn}Bp.prototype.insert=function(rt,et,it,at,ct){this._forEachCell(et,it,at,ct,this._insertCell,this.uid++),this.keys.push(rt),this.bboxes.push(et),this.bboxes.push(it),this.bboxes.push(at),this.bboxes.push(ct)},Bp.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Bp.prototype._insertCell=function(rt,et,it,at,ct,vt){this.cells[ct].push(vt)},Bp.prototype.query=function(rt,et,it,at,ct){var vt=this.min,Rt=this.max;if(rt<=vt&&et<=vt&&Rt<=it&&Rt<=at&&!ct)return Array.prototype.slice.call(this.keys);var Nt=[];return this._forEachCell(rt,et,it,at,this._queryCell,Nt,{},ct),Nt},Bp.prototype._queryCell=function(rt,et,it,at,ct,vt,Rt,Nt){var Jt=this.cells[ct];if(Jt!==null)for(var Yt=this.keys,sn=this.bboxes,dn=0;dn<Jt.length;dn++){var gn=Jt[dn];if(Rt[gn]===void 0){var Rn=4*gn;(Nt?Nt(sn[Rn+0],sn[Rn+1],sn[Rn+2],sn[Rn+3]):rt<=sn[Rn+2]&&et<=sn[Rn+3]&&it>=sn[Rn+0]&&at>=sn[Rn+1])?(Rt[gn]=!0,vt.push(Yt[gn])):Rt[gn]=!1}}},Bp.prototype._forEachCell=function(rt,et,it,at,ct,vt,Rt,Nt){for(var Jt=this._convertToCellCoord(rt),Yt=this._convertToCellCoord(et),sn=this._convertToCellCoord(it),dn=this._convertToCellCoord(at),gn=Jt;gn<=sn;gn++)for(var Rn=Yt;Rn<=dn;Rn++){var Bn=this.d*Rn+gn;if((!Nt||Nt(this._convertFromCellCoord(gn),this._convertFromCellCoord(Rn),this._convertFromCellCoord(gn+1),this._convertFromCellCoord(Rn+1)))&&ct.call(this,rt,et,it,at,Bn,vt,Rt,Nt))return}},Bp.prototype._convertFromCellCoord=function(rt){return(rt-this.padding)/this.scale},Bp.prototype._convertToCellCoord=function(rt){return Math.max(0,Math.min(this.d-1,Math.floor(rt*this.scale)+this.padding))},Bp.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var rt=this.cells,et=3+this.cells.length+1+1,it=0,at=0;at<this.cells.length;at++)it+=this.cells[at].length;var ct=new Int32Array(et+it+this.keys.length+this.bboxes.length);ct[0]=this.extent,ct[1]=this.n,ct[2]=this.padding;for(var vt=et,Rt=0;Rt<rt.length;Rt++){var Nt=rt[Rt];ct[3+Rt]=vt,ct.set(Nt,vt),vt+=Nt.length}return ct[3+rt.length]=vt,ct.set(this.keys,vt),ct[3+rt.length+1]=vt+=this.keys.length,ct.set(this.bboxes,vt),vt+=this.bboxes.length,ct.buffer};const R0={};function wo(rt,et,it={}){Object.defineProperty(rt,"_classRegistryKey",{value:et,writeable:!1}),R0[et]={klass:rt,omit:it.omit||[]}}wo(Object,"Object"),ly.serialize=function(rt,et){const it=rt.toArrayBuffer();return et&&et.push(it),{buffer:it}},ly.deserialize=function(rt){return new ly(rt.buffer)},Object.defineProperty(ly,"name",{value:"Grid"}),wo(ly,"Grid"),wo(Is,"Color"),wo(Error,"Error"),wo(Hl,"AJAXError"),wo(ln,"ResolvedImage"),wo(_u,"StylePropertyFunction"),wo(lm,"StyleExpression",{omit:["_evaluator"]}),wo(ky,"ZoomDependentExpression"),wo(Cm,"ZoomConstantExpression"),wo(zu,"CompoundExpression",{omit:["_evaluate"]});for(const rt in ny)R0[ny[rt]._classRegistryKey]||wo(ny[rt],`Expression${rt}`);function yv(rt){return rt&&typeof ArrayBuffer<"u"&&(rt instanceof ArrayBuffer||rt.constructor&&rt.constructor.name==="ArrayBuffer")}function Ep(rt){return nt.ImageBitmap&&rt instanceof nt.ImageBitmap}function Oy(rt,et){if(rt==null||typeof rt=="boolean"||typeof rt=="number"||typeof rt=="string"||rt instanceof Boolean||rt instanceof Number||rt instanceof String||rt instanceof Date||rt instanceof RegExp)return rt;if(yv(rt)||Ep(rt))return et&&et.push(rt),rt;if(ArrayBuffer.isView(rt)){const it=rt;return et&&et.push(it.buffer),it}if(rt instanceof nt.ImageData)return et&&et.push(rt.data.buffer),rt;if(Array.isArray(rt)){const it=[];for(const at of rt)it.push(Oy(at,et));return it}if(typeof rt=="object"){const it=rt.constructor,at=it._classRegistryKey;if(!at)throw new Error(`can't serialize object of unregistered class ${at}`);const ct=it.serialize?it.serialize(rt,et):{};if(!it.serialize){for(const vt in rt)rt.hasOwnProperty(vt)&&(R0[at].omit.indexOf(vt)>=0||(ct[vt]=Oy(rt[vt],et)));rt instanceof Error&&(ct.message=rt.message)}if(ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return at!=="Object"&&(ct.$name=at),ct}throw new Error("can't serialize object of type "+typeof rt)}function fm(rt){if(rt==null||typeof rt=="boolean"||typeof rt=="number"||typeof rt=="string"||rt instanceof Boolean||rt instanceof Number||rt instanceof String||rt instanceof Date||rt instanceof RegExp||yv(rt)||Ep(rt)||ArrayBuffer.isView(rt)||rt instanceof nt.ImageData)return rt;if(Array.isArray(rt))return rt.map(fm);if(typeof rt=="object"){const et=rt.$name||"Object",{klass:it}=R0[et];if(!it)throw new Error(`can't deserialize unregistered class ${et}`);if(it.deserialize)return it.deserialize(rt);const at=Object.create(it.prototype);for(const ct of Object.keys(rt))ct!=="$name"&&(at[ct]=fm(rt[ct]));return at}throw new Error("can't deserialize object of type "+typeof rt)}class _v{constructor(){this.first=!0}update(et,it){const at=Math.floor(et);return this.first?(this.first=!1,this.lastIntegerZoom=at,this.lastIntegerZoomTime=0,this.lastZoom=et,this.lastFloorZoom=at,!0):(this.lastFloorZoom>at?(this.lastIntegerZoom=at+1,this.lastIntegerZoomTime=it):this.lastFloorZoom<at&&(this.lastIntegerZoom=at,this.lastIntegerZoomTime=it),et!==this.lastZoom&&(this.lastZoom=et,this.lastFloorZoom=at,!0))}}const vv=rt=>rt>=1536&&rt<=1791,Iy=rt=>rt>=1872&&rt<=1919,Tp=rt=>rt>=2208&&rt<=2303,w_=rt=>rt>=11904&&rt<=12031,Uv=rt=>rt>=12032&&rt<=12255,B_=rt=>rt>=12272&&rt<=12287,Py=rt=>rt>=12288&&rt<=12351,w0=rt=>rt>=12352&&rt<=12447,dp=rt=>rt>=12448&&rt<=12543,B0=rt=>rt>=12544&&rt<=12591,E0=rt=>rt>=12704&&rt<=12735,Hu=rt=>rt>=12736&&rt<=12783,bv=rt=>rt>=12784&&rt<=12799,E_=rt=>rt>=12800&&rt<=13055,Fv=rt=>rt>=13056&&rt<=13311,Sv=rt=>rt>=13312&&rt<=19903,T_=rt=>rt>=19968&&rt<=40959,Wy=rt=>rt>=40960&&rt<=42127,Q_=rt=>rt>=42128&&rt<=42191,Rv=rt=>rt>=44032&&rt<=55215,wv=rt=>rt>=63744&&rt<=64255,Ly=rt=>rt>=64336&&rt<=65023,uy=rt=>rt>=65040&&rt<=65055,Dm=rt=>rt>=65072&&rt<=65103,Jy=rt=>rt>=65104&&rt<=65135,gt=rt=>rt>=65136&&rt<=65279,ot=rt=>rt>=65280&&rt<=65519;function lt(rt){for(const et of rt)if(Ot(et.charCodeAt(0)))return!0;return!1}function Ut(rt){for(const et of rt)if(!kt(et.charCodeAt(0)))return!1;return!0}function kt(rt){return!(vv(rt)||Iy(rt)||Tp(rt)||Ly(rt)||gt(rt))}function Ot(rt){return!(rt!==746&&rt!==747&&(rt<4352||!(E0(rt)||B0(rt)||Dm(rt)&&!(rt>=65097&&rt<=65103)||wv(rt)||Fv(rt)||w_(rt)||Hu(rt)||!(!Py(rt)||rt>=12296&&rt<=12305||rt>=12308&&rt<=12319||rt===12336)||Sv(rt)||T_(rt)||E_(rt)||(et=>et>=12592&&et<=12687)(rt)||(et=>et>=43360&&et<=43391)(rt)||(et=>et>=55216&&et<=55295)(rt)||(et=>et>=4352&&et<=4607)(rt)||Rv(rt)||w0(rt)||B_(rt)||(et=>et>=12688&&et<=12703)(rt)||Uv(rt)||bv(rt)||dp(rt)&&rt!==12540||!(!ot(rt)||rt===65288||rt===65289||rt===65293||rt>=65306&&rt<=65310||rt===65339||rt===65341||rt===65343||rt>=65371&&rt<=65503||rt===65507||rt>=65512&&rt<=65519)||!(!Jy(rt)||rt>=65112&&rt<=65118||rt>=65123&&rt<=65126)||(et=>et>=5120&&et<=5759)(rt)||(et=>et>=6320&&et<=6399)(rt)||uy(rt)||(et=>et>=19904&&et<=19967)(rt)||Wy(rt)||Q_(rt))))}function qt(rt){return!(Ot(rt)||function(et){return!!((it=>it>=128&&it<=255)(et)&&(et===167||et===169||et===174||et===177||et===188||et===189||et===190||et===215||et===247)||(it=>it>=8192&&it<=8303)(et)&&(et===8214||et===8224||et===8225||et===8240||et===8241||et===8251||et===8252||et===8258||et===8263||et===8264||et===8265||et===8273)||(it=>it>=8448&&it<=8527)(et)||(it=>it>=8528&&it<=8591)(et)||(it=>it>=8960&&it<=9215)(et)&&(et>=8960&&et<=8967||et>=8972&&et<=8991||et>=8996&&et<=9e3||et===9003||et>=9085&&et<=9114||et>=9150&&et<=9165||et===9167||et>=9169&&et<=9179||et>=9186&&et<=9215)||(it=>it>=9216&&it<=9279)(et)&&et!==9251||(it=>it>=9280&&it<=9311)(et)||(it=>it>=9312&&it<=9471)(et)||(it=>it>=9632&&it<=9727)(et)||(it=>it>=9728&&it<=9983)(et)&&!(et>=9754&&et<=9759)||(it=>it>=11008&&it<=11263)(et)&&(et>=11026&&et<=11055||et>=11088&&et<=11097||et>=11192&&et<=11243)||Py(et)||dp(et)||(it=>it>=57344&&it<=63743)(et)||Dm(et)||Jy(et)||ot(et)||et===8734||et===8756||et===8757||et>=9984&&et<=10087||et>=10102&&et<=10131||et===65532||et===65533)}(rt))}function an(rt){return rt>=1424&&rt<=2303||Ly(rt)||gt(rt)}function cn(rt,et){return!(!et&&an(rt)||rt>=2304&&rt<=3583||rt>=3840&&rt<=4255||(it=>it>=6016&&it<=6143)(rt))}function _n(rt){for(const et of rt)if(an(et.charCodeAt(0)))return!0;return!1}const Fn="deferred",Qn="loading",Nn="loaded";let Yn=null,jn="unavailable",Xn=null;const Pn=function(rt){rt&&typeof rt=="string"&&rt.indexOf("NetworkError")>-1&&(jn="error"),Yn&&Yn(rt)};function In(){er.fire(new bs("pluginStateChange",{pluginStatus:jn,pluginURL:Xn}))}const er=new hu,Hn=function(){return jn},dr=function(){if(jn!==Fn||!Xn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");jn=Qn,In(),Xn&&Us({url:Xn},rt=>{rt?Pn(rt):(jn=Nn,In())})},gr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>jn===Nn||gr.applyArabicShaping!=null,isLoading:()=>jn===Qn,setState(rt){jn=rt.pluginStatus,Xn=rt.pluginURL},isParsed:()=>gr.applyArabicShaping!=null&&gr.processBidirectionalText!=null&&gr.processStyledBidirectionalText!=null,getPluginURL:()=>Xn};class tr{constructor(et,it){this.zoom=et,it?(this.now=it.now,this.fadeDuration=it.fadeDuration,this.zoomHistory=it.zoomHistory,this.transition=it.transition,this.pitch=it.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new _v,this.transition={},this.pitch=0)}isSupportedScript(et){return function(it,at){for(const ct of it)if(!cn(ct.charCodeAt(0),at))return!1;return!0}(et,gr.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const et=this.zoom,it=et-Math.floor(et),at=this.crossFadingFactor();return et>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:it+(1-it)*at}:{fromScale:.5,toScale:1,t:1-(1-at)*it}}}class vr{constructor(et,it){this.property=et,this.value=it,this.expression=function(at,ct){if(Gu(at))return new _u(at,ct);if(oy(at)){const vt=Lp(at,ct);if(vt.result==="error")throw new Error(vt.value.map(Rt=>`${Rt.key}: ${Rt.message}`).join(", "));return vt.value}{let vt=at;return typeof at=="string"&&ct.type==="color"&&(vt=Is.parse(at)),{kind:"constant",evaluate:()=>vt}}}(it===void 0?et.specification.default:it,et.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(et,it,at){return this.property.possiblyEvaluate(this,et,it,at)}}class wr{constructor(et){this.property=et,this.value=new vr(et,void 0)}transitioned(et,it){return new kr(this.property,this.value,it,Ft({},et.transition,this.transition),et.now)}untransitioned(){return new kr(this.property,this.value,null,{},0)}}class Mr{constructor(et){this._properties=et,this._values=Object.create(et.defaultTransitionablePropertyValues)}getValue(et){return $t(this._values[et].value.value)}setValue(et,it){this._values.hasOwnProperty(et)||(this._values[et]=new wr(this._values[et].property)),this._values[et].value=new vr(this._values[et].property,it===null?void 0:$t(it))}getTransition(et){return $t(this._values[et].transition)}setTransition(et,it){this._values.hasOwnProperty(et)||(this._values[et]=new wr(this._values[et].property)),this._values[et].transition=$t(it)||void 0}serialize(){const et={};for(const it of Object.keys(this._values)){const at=this.getValue(it);at!==void 0&&(et[it]=at);const ct=this.getTransition(it);ct!==void 0&&(et[`${it}-transition`]=ct)}return et}transitioned(et,it){const at=new oo(this._properties);for(const ct of Object.keys(this._values))at._values[ct]=this._values[ct].transitioned(et,it._values[ct]);return at}untransitioned(){const et=new oo(this._properties);for(const it of Object.keys(this._values))et._values[it]=this._values[it].untransitioned();return et}}class kr{constructor(et,it,at,ct,vt){const Rt=ct.delay||0,Nt=ct.duration||0;vt=vt||0,this.property=et,this.value=it,this.begin=vt+Rt,this.end=this.begin+Nt,et.specification.transition&&(ct.delay||ct.duration)&&(this.prior=at)}possiblyEvaluate(et,it,at){const ct=et.now||0,vt=this.value.possiblyEvaluate(et,it,at),Rt=this.prior;if(Rt){if(ct>this.end)return this.prior=null,vt;if(this.value.isDataDriven())return this.prior=null,vt;if(ct<this.begin)return Rt.possiblyEvaluate(et,it,at);{const Nt=(ct-this.begin)/(this.end-this.begin);return this.property.interpolate(Rt.possiblyEvaluate(et,it,at),vt,Bt(Nt))}}return vt}}class oo{constructor(et){this._properties=et,this._values=Object.create(et.defaultTransitioningPropertyValues)}possiblyEvaluate(et,it,at){const ct=new Gr(this._properties);for(const vt of Object.keys(this._values))ct._values[vt]=this._values[vt].possiblyEvaluate(et,it,at);return ct}hasTransition(){for(const et of Object.keys(this._values))if(this._values[et].prior)return!0;return!1}}class Rr{constructor(et){this._properties=et,this._values=Object.create(et.defaultPropertyValues)}getValue(et){return $t(this._values[et].value)}setValue(et,it){this._values[et]=new vr(this._values[et].property,it===null?void 0:$t(it))}serialize(){const et={};for(const it of Object.keys(this._values)){const at=this.getValue(it);at!==void 0&&(et[it]=at)}return et}possiblyEvaluate(et,it,at){const ct=new Gr(this._properties);for(const vt of Object.keys(this._values))ct._values[vt]=this._values[vt].possiblyEvaluate(et,it,at);return ct}}class Zr{constructor(et,it,at){this.property=et,this.value=it,this.parameters=at}isConstant(){return this.value.kind==="constant"}constantOr(et){return this.value.kind==="constant"?this.value.value:et}evaluate(et,it,at,ct){return this.property.evaluate(this.value,this.parameters,et,it,at,ct)}}class Gr{constructor(et){this._properties=et,this._values=Object.create(et.defaultPossiblyEvaluatedValues)}get(et){return this._values[et]}}class xr{constructor(et){this.specification=et}possiblyEvaluate(et,it){return et.expression.evaluate(it)}interpolate(et,it,at){const ct=cp[this.specification.type];return ct?ct(et,it,at):et}}class Fr{constructor(et,it){this.specification=et,this.overrides=it}possiblyEvaluate(et,it,at,ct){return new Zr(this,et.expression.kind==="constant"||et.expression.kind==="camera"?{kind:"constant",value:et.expression.evaluate(it,null,{},at,ct)}:et.expression,it)}interpolate(et,it,at){if(et.value.kind!=="constant"||it.value.kind!=="constant")return et;if(et.value.value===void 0||it.value.value===void 0)return new Zr(this,{kind:"constant",value:void 0},et.parameters);const ct=cp[this.specification.type];return ct?new Zr(this,{kind:"constant",value:ct(et.value.value,it.value.value,at)},et.parameters):et}evaluate(et,it,at,ct,vt,Rt){return et.kind==="constant"?et.value:et.evaluate(it,at,ct,vt,Rt)}}class yo extends Fr{possiblyEvaluate(et,it,at,ct){if(et.value===void 0)return new Zr(this,{kind:"constant",value:void 0},it);if(et.expression.kind==="constant"){const vt=et.expression.evaluate(it,null,{},at,ct),Rt=et.property.specification.type==="resolvedImage"&&typeof vt!="string"?vt.name:vt,Nt=this._calculate(Rt,Rt,Rt,it);return new Zr(this,{kind:"constant",value:Nt},it)}if(et.expression.kind==="camera"){const vt=this._calculate(et.expression.evaluate({zoom:it.zoom-1}),et.expression.evaluate({zoom:it.zoom}),et.expression.evaluate({zoom:it.zoom+1}),it);return new Zr(this,{kind:"constant",value:vt},it)}return new Zr(this,et.expression,it)}evaluate(et,it,at,ct,vt,Rt){if(et.kind==="source"){const Nt=et.evaluate(it,at,ct,vt,Rt);return this._calculate(Nt,Nt,Nt,it)}return et.kind==="composite"?this._calculate(et.evaluate({zoom:Math.floor(it.zoom)-1},at,ct),et.evaluate({zoom:Math.floor(it.zoom)},at,ct),et.evaluate({zoom:Math.floor(it.zoom)+1},at,ct),it):et.value}_calculate(et,it,at,ct){return ct.zoom>ct.zoomHistory.lastIntegerZoom?{from:et,to:it,other:at}:{from:at,to:it,other:et}}interpolate(et){return et}}class uo{constructor(et){this.specification=et}possiblyEvaluate(et,it,at,ct){if(et.value!==void 0){if(et.expression.kind==="constant"){const vt=et.expression.evaluate(it,null,{},at,ct);return this._calculate(vt,vt,vt,it)}return this._calculate(et.expression.evaluate(new tr(Math.floor(it.zoom-1),it)),et.expression.evaluate(new tr(Math.floor(it.zoom),it)),et.expression.evaluate(new tr(Math.floor(it.zoom+1),it)),it)}}_calculate(et,it,at,ct){return ct.zoom>ct.zoomHistory.lastIntegerZoom?{from:et,to:it}:{from:at,to:it}}interpolate(et){return et}}class fo{constructor(et){this.specification=et}possiblyEvaluate(et,it,at,ct){return!!et.expression.evaluate(it,null,{},at,ct)}interpolate(){return!1}}class co{constructor(et){this.properties=et,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const it=new tr(0,{});for(const at in et){const ct=et[at];ct.specification.overridable&&this.overridableProperties.push(at);const vt=this.defaultPropertyValues[at]=new vr(ct,void 0),Rt=this.defaultTransitionablePropertyValues[at]=new wr(ct);this.defaultTransitioningPropertyValues[at]=Rt.untransitioned(),this.defaultPossiblyEvaluatedValues[at]=vt.possiblyEvaluate(it)}}}function ko(rt,et){return 256*(rt=zt(Math.floor(rt),0,255))+zt(Math.floor(et),0,255)}wo(Fr,"DataDrivenProperty"),wo(xr,"DataConstantProperty"),wo(yo,"CrossFadedDataDrivenProperty"),wo(uo,"CrossFadedProperty"),wo(fo,"ColorRampProperty");const Lo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Wo{constructor(et,it){this._structArray=et,this._pos1=it*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Do{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(et,it){return et._trim(),it&&(et.isTransferred=!0,it.push(et.arrayBuffer)),{length:et.length,arrayBuffer:et.arrayBuffer}}static deserialize(et){const it=Object.create(this.prototype);return it.arrayBuffer=et.arrayBuffer,it.length=et.length,it.capacity=et.arrayBuffer.byteLength/it.bytesPerElement,it._refreshViews(),it}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(et){this.reserve(et),this.length=et}reserve(et){if(et>this.capacity){this.capacity=Math.max(et,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const it=this.uint8;this._refreshViews(),it&&this.uint8.set(it)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function ho(rt,et=1){let it=0,at=0;return{members:rt.map(ct=>{const vt=Lo[ct.type].BYTES_PER_ELEMENT,Rt=it=$o(it,Math.max(et,vt)),Nt=ct.components||1;return at=Math.max(at,vt),it+=vt*Nt,{name:ct.name,type:ct.type,components:Nt,offset:Rt}}),size:$o(it,Math.max(at,et)),alignment:et}}function $o(rt,et){return Math.ceil(rt/et)*et}class us extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(et,it){const at=this.length;return this.resize(at+1),this.emplace(at,et,it)}emplace(et,it,at){const ct=2*et;return this.int16[ct+0]=it,this.int16[ct+1]=at,et}}us.prototype.bytesPerElement=4,wo(us,"StructArrayLayout2i4");class Ns extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(et,it,at){const ct=this.length;return this.resize(ct+1),this.emplace(ct,et,it,at)}emplace(et,it,at,ct){const vt=3*et;return this.int16[vt+0]=it,this.int16[vt+1]=at,this.int16[vt+2]=ct,et}}Ns.prototype.bytesPerElement=6,wo(Ns,"StructArrayLayout3i6");class Ps extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct){const vt=this.length;return this.resize(vt+1),this.emplace(vt,et,it,at,ct)}emplace(et,it,at,ct,vt){const Rt=4*et;return this.int16[Rt+0]=it,this.int16[Rt+1]=at,this.int16[Rt+2]=ct,this.int16[Rt+3]=vt,et}}Ps.prototype.bytesPerElement=8,wo(Ps,"StructArrayLayout4i8");class As extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt){const Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,et,it,at,ct,vt,Rt,Nt)}emplace(et,it,at,ct,vt,Rt,Nt,Jt){const Yt=6*et,sn=12*et,dn=3*et;return this.int16[Yt+0]=it,this.int16[Yt+1]=at,this.uint8[sn+4]=ct,this.uint8[sn+5]=vt,this.uint8[sn+6]=Rt,this.uint8[sn+7]=Nt,this.float32[dn+2]=Jt,et}}As.prototype.bytesPerElement=12,wo(As,"StructArrayLayout2i4ub1f12");class Nl extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct){const vt=this.length;return this.resize(vt+1),this.emplace(vt,et,it,at,ct)}emplace(et,it,at,ct,vt){const Rt=4*et;return this.float32[Rt+0]=it,this.float32[Rt+1]=at,this.float32[Rt+2]=ct,this.float32[Rt+3]=vt,et}}Nl.prototype.bytesPerElement=16,wo(Nl,"StructArrayLayout4f16");class ou extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn){const dn=this.length;return this.resize(dn+1),this.emplace(dn,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn)}emplace(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn){const gn=10*et;return this.uint16[gn+0]=it,this.uint16[gn+1]=at,this.uint16[gn+2]=ct,this.uint16[gn+3]=vt,this.uint16[gn+4]=Rt,this.uint16[gn+5]=Nt,this.uint16[gn+6]=Jt,this.uint16[gn+7]=Yt,this.uint16[gn+8]=sn,this.uint16[gn+9]=dn,et}}ou.prototype.bytesPerElement=20,wo(ou,"StructArrayLayout10ui20");class fp extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt,Jt){const Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,et,it,at,ct,vt,Rt,Nt,Jt)}emplace(et,it,at,ct,vt,Rt,Nt,Jt,Yt){const sn=8*et;return this.uint16[sn+0]=it,this.uint16[sn+1]=at,this.uint16[sn+2]=ct,this.uint16[sn+3]=vt,this.uint16[sn+4]=Rt,this.uint16[sn+5]=Nt,this.uint16[sn+6]=Jt,this.uint16[sn+7]=Yt,et}}fp.prototype.bytesPerElement=16,wo(fp,"StructArrayLayout8ui16");class Ws extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,et,it,at,ct,vt,Rt)}emplace(et,it,at,ct,vt,Rt,Nt){const Jt=6*et;return this.int16[Jt+0]=it,this.int16[Jt+1]=at,this.int16[Jt+2]=ct,this.int16[Jt+3]=vt,this.int16[Jt+4]=Rt,this.int16[Jt+5]=Nt,et}}Ws.prototype.bytesPerElement=12,wo(Ws,"StructArrayLayout6i12");class $a extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn)}emplace(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn){const Bn=12*et;return this.int16[Bn+0]=it,this.int16[Bn+1]=at,this.int16[Bn+2]=ct,this.int16[Bn+3]=vt,this.uint16[Bn+4]=Rt,this.uint16[Bn+5]=Nt,this.uint16[Bn+6]=Jt,this.uint16[Bn+7]=Yt,this.int16[Bn+8]=sn,this.int16[Bn+9]=dn,this.int16[Bn+10]=gn,this.int16[Bn+11]=Rn,et}}$a.prototype.bytesPerElement=24,wo($a,"StructArrayLayout4i4ui4i24");class Cs extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt){const Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,et,it,at,ct,vt,Rt)}emplace(et,it,at,ct,vt,Rt,Nt){const Jt=10*et,Yt=5*et;return this.int16[Jt+0]=it,this.int16[Jt+1]=at,this.int16[Jt+2]=ct,this.float32[Yt+2]=vt,this.float32[Yt+3]=Rt,this.float32[Yt+4]=Nt,et}}Cs.prototype.bytesPerElement=20,wo(Cs,"StructArrayLayout3i3f20");class El extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(et){const it=this.length;return this.resize(it+1),this.emplace(it,et)}emplace(et,it){return this.uint32[1*et+0]=it,et}}El.prototype.bytesPerElement=4,wo(El,"StructArrayLayout1ul4");class su extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn){const Bn=this.length;return this.resize(Bn+1),this.emplace(Bn,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn)}emplace(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn){const kn=20*et,Ln=10*et;return this.int16[kn+0]=it,this.int16[kn+1]=at,this.int16[kn+2]=ct,this.int16[kn+3]=vt,this.int16[kn+4]=Rt,this.float32[Ln+3]=Nt,this.float32[Ln+4]=Jt,this.float32[Ln+5]=Yt,this.float32[Ln+6]=sn,this.int16[kn+14]=dn,this.uint32[Ln+8]=gn,this.uint16[kn+18]=Rn,this.uint16[kn+19]=Bn,et}}su.prototype.bytesPerElement=40,wo(su,"StructArrayLayout5i4f1i1ul2ui40");class zs extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt){const Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,et,it,at,ct,vt,Rt,Nt)}emplace(et,it,at,ct,vt,Rt,Nt,Jt){const Yt=8*et;return this.int16[Yt+0]=it,this.int16[Yt+1]=at,this.int16[Yt+2]=ct,this.int16[Yt+4]=vt,this.int16[Yt+5]=Rt,this.int16[Yt+6]=Nt,this.int16[Yt+7]=Jt,et}}zs.prototype.bytesPerElement=16,wo(zs,"StructArrayLayout3i2i2i16");class Qu extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt){const Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,et,it,at,ct,vt)}emplace(et,it,at,ct,vt,Rt){const Nt=4*et,Jt=8*et;return this.float32[Nt+0]=it,this.float32[Nt+1]=at,this.float32[Nt+2]=ct,this.int16[Jt+6]=vt,this.int16[Jt+7]=Rt,et}}Qu.prototype.bytesPerElement=16,wo(Qu,"StructArrayLayout2f1f2i16");class Yp extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct){const vt=this.length;return this.resize(vt+1),this.emplace(vt,et,it,at,ct)}emplace(et,it,at,ct,vt){const Rt=12*et,Nt=3*et;return this.uint8[Rt+0]=it,this.uint8[Rt+1]=at,this.float32[Nt+1]=ct,this.float32[Nt+2]=vt,et}}Yp.prototype.bytesPerElement=12,wo(Yp,"StructArrayLayout2ub2f12");class Yu extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it,at){const ct=this.length;return this.resize(ct+1),this.emplace(ct,et,it,at)}emplace(et,it,at,ct){const vt=3*et;return this.float32[vt+0]=it,this.float32[vt+1]=at,this.float32[vt+2]=ct,et}}Yu.prototype.bytesPerElement=12,wo(Yu,"StructArrayLayout3f12");class Xl extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it,at){const ct=this.length;return this.resize(ct+1),this.emplace(ct,et,it,at)}emplace(et,it,at,ct){const vt=3*et;return this.uint16[vt+0]=it,this.uint16[vt+1]=at,this.uint16[vt+2]=ct,et}}Xl.prototype.bytesPerElement=6,wo(Xl,"StructArrayLayout3ui6");class cy extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln,ir,_r,rr,fr,Ur){const pr=this.length;return this.resize(pr+1),this.emplace(pr,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln,ir,_r,rr,fr,Ur)}emplace(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln,ir,_r,rr,fr,Ur,pr){const Vr=30*et,Cr=15*et,Jr=60*et;return this.int16[Vr+0]=it,this.int16[Vr+1]=at,this.int16[Vr+2]=ct,this.float32[Cr+2]=vt,this.float32[Cr+3]=Rt,this.uint16[Vr+8]=Nt,this.uint16[Vr+9]=Jt,this.uint32[Cr+5]=Yt,this.uint32[Cr+6]=sn,this.uint32[Cr+7]=dn,this.uint16[Vr+16]=gn,this.uint16[Vr+17]=Rn,this.uint16[Vr+18]=Bn,this.float32[Cr+10]=kn,this.float32[Cr+11]=Ln,this.uint8[Jr+48]=ir,this.uint8[Jr+49]=_r,this.uint8[Jr+50]=rr,this.uint32[Cr+13]=fr,this.int16[Vr+28]=Ur,this.uint8[Jr+58]=pr,et}}cy.prototype.bytesPerElement=60,wo(cy,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Qp extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln,ir,_r,rr,fr,Ur,pr,Vr,Cr,Jr,so,Dr,Hr,$r,eo){const lo=this.length;return this.resize(lo+1),this.emplace(lo,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln,ir,_r,rr,fr,Ur,pr,Vr,Cr,Jr,so,Dr,Hr,$r,eo)}emplace(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln,ir,_r,rr,fr,Ur,pr,Vr,Cr,Jr,so,Dr,Hr,$r,eo,lo){const Or=38*et,_o=19*et;return this.int16[Or+0]=it,this.int16[Or+1]=at,this.int16[Or+2]=ct,this.float32[_o+2]=vt,this.float32[_o+3]=Rt,this.int16[Or+8]=Nt,this.int16[Or+9]=Jt,this.int16[Or+10]=Yt,this.int16[Or+11]=sn,this.int16[Or+12]=dn,this.int16[Or+13]=gn,this.uint16[Or+14]=Rn,this.uint16[Or+15]=Bn,this.uint16[Or+16]=kn,this.uint16[Or+17]=Ln,this.uint16[Or+18]=ir,this.uint16[Or+19]=_r,this.uint16[Or+20]=rr,this.uint16[Or+21]=fr,this.uint16[Or+22]=Ur,this.uint16[Or+23]=pr,this.uint16[Or+24]=Vr,this.uint16[Or+25]=Cr,this.uint16[Or+26]=Jr,this.uint16[Or+27]=so,this.uint16[Or+28]=Dr,this.uint32[_o+15]=Hr,this.float32[_o+16]=$r,this.float32[_o+17]=eo,this.float32[_o+18]=lo,et}}Qp.prototype.bytesPerElement=76,wo(Qp,"StructArrayLayout3i2f6i15ui1ul3f76");class Ho extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et){const it=this.length;return this.resize(it+1),this.emplace(it,et)}emplace(et,it){return this.float32[1*et+0]=it,et}}Ho.prototype.bytesPerElement=4,wo(Ho,"StructArrayLayout1f4");class xp extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it,at,ct,vt){const Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,et,it,at,ct,vt)}emplace(et,it,at,ct,vt,Rt){const Nt=5*et;return this.float32[Nt+0]=it,this.float32[Nt+1]=at,this.float32[Nt+2]=ct,this.float32[Nt+3]=vt,this.float32[Nt+4]=Rt,et}}xp.prototype.bytesPerElement=20,wo(xp,"StructArrayLayout5f20");class pm extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it,at,ct){const vt=this.length;return this.resize(vt+1),this.emplace(vt,et,it,at,ct)}emplace(et,it,at,ct,vt){const Rt=6*et;return this.uint32[3*et+0]=it,this.uint16[Rt+2]=at,this.uint16[Rt+3]=ct,this.uint16[Rt+4]=vt,et}}pm.prototype.bytesPerElement=12,wo(pm,"StructArrayLayout1ul3ui12");class vu extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et,it){const at=this.length;return this.resize(at+1),this.emplace(at,et,it)}emplace(et,it,at){const ct=2*et;return this.uint16[ct+0]=it,this.uint16[ct+1]=at,et}}vu.prototype.bytesPerElement=4,wo(vu,"StructArrayLayout2ui4");class T0 extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(et){const it=this.length;return this.resize(it+1),this.emplace(it,et)}emplace(et,it){return this.uint16[1*et+0]=it,et}}T0.prototype.bytesPerElement=2,wo(T0,"StructArrayLayout1ui2");class Bv extends Do{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(et,it){const at=this.length;return this.resize(at+1),this.emplace(at,et,it)}emplace(et,it,at){const ct=2*et;return this.float32[ct+0]=it,this.float32[ct+1]=at,et}}Bv.prototype.bytesPerElement=8,wo(Bv,"StructArrayLayout2f8");class NF extends Wo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}NF.prototype.size=12;class pp extends Ws{get(et){return new NF(this,et)}}wo(pp,"FillExtrusionExtArray");class DF extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}DF.prototype.size=40;class Q0 extends su{get(et){return new DF(this,et)}}wo(Q0,"CollisionBoxArray");class Ev extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(et){this._structArray.uint8[this._pos1+49]=et}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(et){this._structArray.uint8[this._pos1+50]=et}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(et){this._structArray.uint32[this._pos4+13]=et}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(et){this._structArray.uint8[this._pos1+58]=et}}Ev.prototype.size=60;class QU extends cy{get(et){return new Ev(this,et)}}wo(QU,"PlacedSymbolArray");class xU extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(et){this._structArray.uint32[this._pos4+15]=et}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}xU.prototype.size=76;class $u extends Qp{get(et){return new xU(this,et)}}wo($u,"SymbolInstanceArray");class Om extends Ho{getoffsetX(et){return this.float32[1*et+0]}}wo(Om,"GlyphOffsetArray");class Tv extends Ns{getx(et){return this.int16[3*et+0]}gety(et){return this.int16[3*et+1]}gettileUnitDistanceFromAnchor(et){return this.int16[3*et+2]}}wo(Tv,"SymbolLineVertexArray");class AU extends Wo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}AU.prototype.size=12;class x_ extends pm{get(et){return new AU(this,et)}}wo(x_,"FeatureIndexArray");class CU extends Wo{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}CU.prototype.size=4;class Qv extends vu{get(et){return new CU(this,et)}}wo(Qv,"FillExtrusionCentroidArray");class kU extends Wo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}kU.prototype.size=12;class xv extends Ws{get(et){return new kU(this,et)}}wo(xv,"CircleGlobeExtArray");const VU=ho([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),hy=ho([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var x0={exports:{}},Im={exports:{}};Im.exports=function(rt,et){var it,at,ct,vt,Rt,Nt,Jt,Yt;for(at=rt.length-(it=3&rt.length),ct=et,Rt=3432918353,Nt=461845907,Yt=0;Yt<at;)Jt=255&rt.charCodeAt(Yt)|(255&rt.charCodeAt(++Yt))<<8|(255&rt.charCodeAt(++Yt))<<16|(255&rt.charCodeAt(++Yt))<<24,++Yt,ct=27492+(65535&(vt=5*(65535&(ct=(ct^=Jt=(65535&(Jt=(Jt=(65535&Jt)*Rt+(((Jt>>>16)*Rt&65535)<<16)&4294967295)<<15|Jt>>>17))*Nt+(((Jt>>>16)*Nt&65535)<<16)&4294967295)<<13|ct>>>19))+((5*(ct>>>16)&65535)<<16)&4294967295))+((58964+(vt>>>16)&65535)<<16);switch(Jt=0,it){case 3:Jt^=(255&rt.charCodeAt(Yt+2))<<16;case 2:Jt^=(255&rt.charCodeAt(Yt+1))<<8;case 1:ct^=Jt=(65535&(Jt=(Jt=(65535&(Jt^=255&rt.charCodeAt(Yt)))*Rt+(((Jt>>>16)*Rt&65535)<<16)&4294967295)<<15|Jt>>>17))*Nt+(((Jt>>>16)*Nt&65535)<<16)&4294967295}return ct^=rt.length,ct=2246822507*(65535&(ct^=ct>>>16))+((2246822507*(ct>>>16)&65535)<<16)&4294967295,ct=3266489909*(65535&(ct^=ct>>>13))+((3266489909*(ct>>>16)&65535)<<16)&4294967295,(ct^=ct>>>16)>>>0};var MU={exports:{}};MU.exports=function(rt,et){for(var it,at=rt.length,ct=et^at,vt=0;at>=4;)it=1540483477*(65535&(it=255&rt.charCodeAt(vt)|(255&rt.charCodeAt(++vt))<<8|(255&rt.charCodeAt(++vt))<<16|(255&rt.charCodeAt(++vt))<<24))+((1540483477*(it>>>16)&65535)<<16),ct=1540483477*(65535&ct)+((1540483477*(ct>>>16)&65535)<<16)^(it=1540483477*(65535&(it^=it>>>24))+((1540483477*(it>>>16)&65535)<<16)),at-=4,++vt;switch(at){case 3:ct^=(255&rt.charCodeAt(vt+2))<<16;case 2:ct^=(255&rt.charCodeAt(vt+1))<<8;case 1:ct=1540483477*(65535&(ct^=255&rt.charCodeAt(vt)))+((1540483477*(ct>>>16)&65535)<<16)}return ct=1540483477*(65535&(ct^=ct>>>13))+((1540483477*(ct>>>16)&65535)<<16),(ct^=ct>>>15)>>>0};var NU=Im.exports,DU=MU.exports;x0.exports=NU,x0.exports.murmur3=NU,x0.exports.murmur2=DU;class Av{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(et,it,at,ct){this.ids.push(OF(et)),this.positions.push(it,at,ct)}getPositions(et){const it=OF(et);let at=0,ct=this.ids.length-1;for(;at<ct;){const Rt=at+ct>>1;this.ids[Rt]>=it?ct=Rt:at=Rt+1}const vt=[];for(;this.ids[at]===it;)vt.push({index:this.positions[3*at],start:this.positions[3*at+1],end:this.positions[3*at+2]}),at++;return vt}static serialize(et,it){const at=new Float64Array(et.ids),ct=new Uint32Array(et.positions);return OU(at,ct,0,at.length-1),it&&it.push(at.buffer,ct.buffer),{ids:at,positions:ct}}static deserialize(et){const it=new Av;return it.ids=et.ids,it.positions=et.positions,it.indexed=!0,it}}function OF(rt){const et=+rt;return!isNaN(et)&&Number.MIN_SAFE_INTEGER<=et&&et<=Number.MAX_SAFE_INTEGER?et:x0.exports(String(rt))}function OU(rt,et,it,at){for(;it<at;){const ct=rt[it+at>>1];let vt=it-1,Rt=at+1;for(;;){do vt++;while(rt[vt]<ct);do Rt--;while(rt[Rt]>ct);if(vt>=Rt)break;A_(rt,vt,Rt),A_(et,3*vt,3*Rt),A_(et,3*vt+1,3*Rt+1),A_(et,3*vt+2,3*Rt+2)}Rt-it<at-Rt?(OU(rt,et,it,Rt),it=Rt+1):(OU(rt,et,Rt+1,at),at=Rt)}}function A_(rt,et,it){const at=rt[et];rt[et]=rt[it],rt[it]=at}wo(Av,"FeaturePositionMap");class gm{constructor(et){this.gl=et.gl,this.initialized=!1}fetchUniformLocation(et,it){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(et,it),this.initialized=!0),!!this.location}}class Cv extends gm{constructor(et){super(et),this.current=0}set(et,it,at){this.fetchUniformLocation(et,it)&&this.current!==at&&(this.current=at,this.gl.uniform1f(this.location,at))}}class IU extends gm{constructor(et){super(et),this.current=[0,0,0,0]}set(et,it,at){this.fetchUniformLocation(et,it)&&(at[0]===this.current[0]&&at[1]===this.current[1]&&at[2]===this.current[2]&&at[3]===this.current[3]||(this.current=at,this.gl.uniform4f(this.location,at[0],at[1],at[2],at[3])))}}class PU extends gm{constructor(et){super(et),this.current=Is.transparent}set(et,it,at){this.fetchUniformLocation(et,it)&&(at.r===this.current.r&&at.g===this.current.g&&at.b===this.current.b&&at.a===this.current.a||(this.current=at,this.gl.uniform4f(this.location,at.r,at.g,at.b,at.a)))}}const Xu=new Float32Array(16),mm=new Float32Array(9),f1=new Float32Array(4);function WU(rt){return[ko(255*rt.r,255*rt.g),ko(255*rt.b,255*rt.a)]}class dy{constructor(et,it,at){this.value=et,this.uniformNames=it.map(ct=>`u_${ct}`),this.type=at}setUniform(et,it,at,ct,vt){it.set(et,vt,ct.constantOr(this.value))}getBinding(et,it){return this.type==="color"?new PU(et):new Cv(et)}}class $p{constructor(et,it){this.uniformNames=it.map(at=>`u_${at}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(et,it){this.pixelRatioFrom=it.pixelRatio||1,this.pixelRatioTo=et.pixelRatio||1,this.patternFrom=it.tl.concat(it.br),this.patternTo=et.tl.concat(et.br)}setUniform(et,it,at,ct,vt){const Rt=vt==="u_pattern_to"||vt==="u_dash_to"?this.patternTo:vt==="u_pattern_from"||vt==="u_dash_from"?this.patternFrom:vt==="u_pixel_ratio_to"?this.pixelRatioTo:vt==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Rt&&it.set(et,vt,Rt)}getBinding(et,it){return it==="u_pattern_from"||it==="u_pattern_to"||it==="u_dash_from"||it==="u_dash_to"?new IU(et):new Cv(et)}}class ym{constructor(et,it,at,ct){this.expression=et,this.type=at,this.maxValue=0,this.paintVertexAttributes=it.map(vt=>({name:`a_${vt}`,type:"Float32",components:at==="color"?2:1,offset:0})),this.paintVertexArray=new ct}populatePaintArray(et,it,at,ct,vt,Rt){const Nt=this.paintVertexArray.length,Jt=this.expression.evaluate(new tr(0),it,{},vt,ct,Rt);this.paintVertexArray.resize(et),this._setPaintValue(Nt,et,Jt)}updatePaintArray(et,it,at,ct,vt){const Rt=this.expression.evaluate({zoom:0},at,ct,void 0,vt);this._setPaintValue(et,it,Rt)}_setPaintValue(et,it,at){if(this.type==="color"){const ct=WU(at);for(let vt=et;vt<it;vt++)this.paintVertexArray.emplace(vt,ct[0],ct[1])}else{for(let ct=et;ct<it;ct++)this.paintVertexArray.emplace(ct,at);this.maxValue=Math.max(this.maxValue,Math.abs(at))}}upload(et){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=et.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ap{constructor(et,it,at,ct,vt,Rt){this.expression=et,this.uniformNames=it.map(Nt=>`u_${Nt}_t`),this.type=at,this.useIntegerZoom=ct,this.zoom=vt,this.maxValue=0,this.paintVertexAttributes=it.map(Nt=>({name:`a_${Nt}`,type:"Float32",components:at==="color"?4:2,offset:0})),this.paintVertexArray=new Rt}populatePaintArray(et,it,at,ct,vt,Rt){const Nt=this.expression.evaluate(new tr(this.zoom),it,{},vt,ct,Rt),Jt=this.expression.evaluate(new tr(this.zoom+1),it,{},vt,ct,Rt),Yt=this.paintVertexArray.length;this.paintVertexArray.resize(et),this._setPaintValue(Yt,et,Nt,Jt)}updatePaintArray(et,it,at,ct,vt){const Rt=this.expression.evaluate({zoom:this.zoom},at,ct,void 0,vt),Nt=this.expression.evaluate({zoom:this.zoom+1},at,ct,void 0,vt);this._setPaintValue(et,it,Rt,Nt)}_setPaintValue(et,it,at,ct){if(this.type==="color"){const vt=WU(at),Rt=WU(ct);for(let Nt=et;Nt<it;Nt++)this.paintVertexArray.emplace(Nt,vt[0],vt[1],Rt[0],Rt[1])}else{for(let vt=et;vt<it;vt++)this.paintVertexArray.emplace(vt,at,ct);this.maxValue=Math.max(this.maxValue,Math.abs(at),Math.abs(ct))}}upload(et){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=et.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(et,it,at,ct,vt){const Rt=this.useIntegerZoom?Math.floor(at.zoom):at.zoom,Nt=zt(this.expression.interpolationFactor(Rt,this.zoom,this.zoom+1),0,1);it.set(et,vt,Nt)}getBinding(et,it){return new Cv(et)}}class fy{constructor(et,it,at,ct,vt,Rt,Nt){this.expression=et,this.type=at,this.useIntegerZoom=ct,this.zoom=vt,this.layerId=Nt,this.paintVertexAttributes=(at==="array"?hy:VU).members;for(let Jt=0;Jt<it.length;++Jt);this.zoomInPaintVertexArray=new Rt,this.zoomOutPaintVertexArray=new Rt}populatePaintArray(et,it,at){const ct=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(et),this.zoomOutPaintVertexArray.resize(et),this._setPaintValues(ct,et,it.patterns&&it.patterns[this.layerId],at)}updatePaintArray(et,it,at,ct,vt,Rt){this._setPaintValues(et,it,at.patterns&&at.patterns[this.layerId],Rt)}_setPaintValues(et,it,at,ct){if(!ct||!at)return;const{min:vt,mid:Rt,max:Nt}=at,Jt=ct[vt],Yt=ct[Rt],sn=ct[Nt];if(Jt&&Yt&&sn)for(let dn=et;dn<it;dn++)this._setPaintValue(this.zoomInPaintVertexArray,dn,Yt,Jt),this._setPaintValue(this.zoomOutPaintVertexArray,dn,Yt,sn)}_setPaintValue(et,it,at,ct){et.emplace(it,at.tl[0],at.tl[1],at.br[0],at.br[1],ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],at.pixelRatio,ct.pixelRatio)}upload(et){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=et.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=et.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Pm{constructor(et,it,at=()=>!0){this.binders={},this._buffers=[];const ct=[];for(const vt in et.paint._values){if(!at(vt))continue;const Rt=et.paint.get(vt);if(!(Rt instanceof Zr&&Wp(Rt.property.specification)))continue;const Nt=p1(vt,et.type),Jt=Rt.value,Yt=Rt.property.specification.type,sn=Rt.property.useIntegerZoom,dn=Rt.property.specification["property-type"],gn=dn==="cross-faded"||dn==="cross-faded-data-driven",Rn=String(vt)==="line-dasharray"&&et.layout.get("line-cap").value.kind!=="constant";if(Jt.kind!=="constant"||Rn)if(Jt.kind==="source"||Rn||gn){const Bn=k_(vt,Yt,"source");this.binders[vt]=gn?new fy(Jt,Nt,Yt,sn,it,Bn,et.id):new ym(Jt,Nt,Yt,Bn),ct.push(`/a_${vt}`)}else{const Bn=k_(vt,Yt,"composite");this.binders[vt]=new Ap(Jt,Nt,Yt,sn,it,Bn),ct.push(`/z_${vt}`)}else this.binders[vt]=gn?new $p(Jt.value,Nt):new dy(Jt.value,Nt,Yt),ct.push(`/u_${vt}`)}this.cacheKey=ct.sort().join("")}getMaxValue(et){const it=this.binders[et];return it instanceof ym||it instanceof Ap?it.maxValue:0}populatePaintArrays(et,it,at,ct,vt,Rt){for(const Nt in this.binders){const Jt=this.binders[Nt];(Jt instanceof ym||Jt instanceof Ap||Jt instanceof fy)&&Jt.populatePaintArray(et,it,at,ct,vt,Rt)}}setConstantPatternPositions(et,it){for(const at in this.binders){const ct=this.binders[at];ct instanceof $p&&ct.setConstantPatternPositions(et,it)}}updatePaintArrays(et,it,at,ct,vt,Rt){let Nt=!1;for(const Jt in et){const Yt=it.getPositions(Jt);for(const sn of Yt){const dn=at.feature(sn.index);for(const gn in this.binders){const Rn=this.binders[gn];if((Rn instanceof ym||Rn instanceof Ap||Rn instanceof fy)&&Rn.expression.isStateDependent===!0){const Bn=ct.paint.get(gn);Rn.expression=Bn.value,Rn.updatePaintArray(sn.start,sn.end,dn,et[Jt],vt,Rt),Nt=!0}}}}return Nt}defines(){const et=[];for(const it in this.binders){const at=this.binders[it];(at instanceof dy||at instanceof $p)&&et.push(...at.uniformNames.map(ct=>`#define HAS_UNIFORM_${ct}`))}return et}getBinderAttributes(){const et=[];for(const it in this.binders){const at=this.binders[it];if(at instanceof ym||at instanceof Ap||at instanceof fy)for(let ct=0;ct<at.paintVertexAttributes.length;ct++)et.push(at.paintVertexAttributes[ct].name)}return et}getBinderUniforms(){const et=[];for(const it in this.binders){const at=this.binders[it];if(at instanceof dy||at instanceof $p||at instanceof Ap)for(const ct of at.uniformNames)et.push(ct)}return et}getPaintVertexBuffers(){return this._buffers}getUniforms(et){const it=[];for(const at in this.binders){const ct=this.binders[at];if(ct instanceof dy||ct instanceof $p||ct instanceof Ap)for(const vt of ct.uniformNames)it.push({name:vt,property:at,binding:ct.getBinding(et,vt)})}return it}setUniforms(et,it,at,ct,vt){for(const{name:Rt,property:Nt,binding:Jt}of at)this.binders[Nt].setUniform(et,Jt,vt,ct.get(Nt),Rt)}updatePaintBuffers(et){this._buffers=[];for(const it in this.binders){const at=this.binders[it];if(et&&at instanceof fy){const ct=et.fromScale===2?at.zoomInPaintVertexBuffer:at.zoomOutPaintVertexBuffer;ct&&this._buffers.push(ct)}else(at instanceof ym||at instanceof Ap)&&at.paintVertexBuffer&&this._buffers.push(at.paintVertexBuffer)}}upload(et){for(const it in this.binders){const at=this.binders[it];(at instanceof ym||at instanceof Ap||at instanceof fy)&&at.upload(et)}this.updatePaintBuffers()}destroy(){for(const et in this.binders){const it=this.binders[et];(it instanceof ym||it instanceof Ap||it instanceof fy)&&it.destroy()}}}class Cp{constructor(et,it,at=()=>!0){this.programConfigurations={};for(const ct of et)this.programConfigurations[ct.id]=new Pm(ct,it,at);this.needsUpload=!1,this._featureMap=new Av,this._bufferOffset=0}populatePaintArrays(et,it,at,ct,vt,Rt,Nt){for(const Jt in this.programConfigurations)this.programConfigurations[Jt].populatePaintArrays(et,it,ct,vt,Rt,Nt);it.id!==void 0&&this._featureMap.add(it.id,at,this._bufferOffset,et),this._bufferOffset=et,this.needsUpload=!0}updatePaintArrays(et,it,at,ct,vt){for(const Rt of at)this.needsUpload=this.programConfigurations[Rt.id].updatePaintArrays(et,this._featureMap,it,Rt,ct,vt)||this.needsUpload}get(et){return this.programConfigurations[et]}upload(et){if(this.needsUpload){for(const it in this.programConfigurations)this.programConfigurations[it].upload(et);this.needsUpload=!1}}destroy(){for(const et in this.programConfigurations)this.programConfigurations[et].destroy()}}const C_={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function p1(rt,et){return C_[rt]||[rt.replace(`${et}-`,"").replace(/-/g,"_")]}const IF={"line-pattern":{source:ou,composite:ou},"fill-pattern":{source:ou,composite:ou},"fill-extrusion-pattern":{source:ou,composite:ou},"line-dasharray":{source:fp,composite:fp}},PF={color:{source:Bv,composite:Nl},number:{source:Ho,composite:Bv}};function k_(rt,et,it){const at=IF[rt];return at&&at[it]||PF[et][it]}wo(dy,"ConstantBinder"),wo($p,"CrossFadedConstantBinder"),wo(ym,"SourceExpressionBinder"),wo(fy,"CrossFadedCompositeBinder"),wo(Ap,"CompositeExpressionBinder"),wo(Pm,"ProgramConfiguration",{omit:["_buffers"]}),wo(Cp,"ProgramConfigurationSet");const V_="-transition";class qu extends hu{constructor(et,it){if(super(),this.id=et.id,this.type=et.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,et.type!=="custom"&&(this.metadata=et.metadata,this.minzoom=et.minzoom,this.maxzoom=et.maxzoom,et.type!=="background"&&et.type!=="sky"&&(this.source=et.source,this.sourceLayer=et["source-layer"],this.filter=et.filter),it.layout&&(this._unevaluatedLayout=new Rr(it.layout)),it.paint)){this._transitionablePaint=new Mr(it.paint);for(const at in et.paint)this.setPaintProperty(at,et.paint[at],{validate:!1});for(const at in et.layout)this.setLayoutProperty(at,et.layout[at],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Gr(it.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(et){return et==="visibility"?this.visibility:this._unevaluatedLayout.getValue(et)}setLayoutProperty(et,it,at={}){it!=null&&this._validate(TU,`layers.${this.id}.layout.${et}`,et,it,at)||(et!=="visibility"?this._unevaluatedLayout.setValue(et,it):this.visibility=it)}getPaintProperty(et){return rn(et,V_)?this._transitionablePaint.getTransition(et.slice(0,-V_.length)):this._transitionablePaint.getValue(et)}setPaintProperty(et,it,at={}){if(it!=null&&this._validate(EU,`layers.${this.id}.paint.${et}`,et,it,at))return!1;if(rn(et,V_))return this._transitionablePaint.setTransition(et.slice(0,-V_.length),it||void 0),!1;{const ct=this._transitionablePaint._values[et],vt=ct.property.specification["property-type"]==="cross-faded-data-driven",Rt=ct.value.isDataDriven(),Nt=ct.value;this._transitionablePaint.setValue(et,it),this._handleSpecialPaintPropertyUpdate(et);const Jt=this._transitionablePaint._values[et].value;return Jt.isDataDriven()||Rt||vt||this._handleOverridablePaintPropertyUpdate(et,Nt,Jt)}}_handleSpecialPaintPropertyUpdate(et){}getProgramIds(){return null}getProgramConfiguration(et){return null}_handleOverridablePaintPropertyUpdate(et,it,at){return!1}isHidden(et){return!!(this.minzoom&&et<this.minzoom)||!!(this.maxzoom&&et>=this.maxzoom)||this.visibility==="none"}updateTransitions(et){this._transitioningPaint=this._transitionablePaint.transitioned(et,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(et,it){et.getCrossfadeParameters&&(this._crossfadeParameters=et.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(et,void 0,it)),this.paint=this._transitioningPaint.possiblyEvaluate(et,void 0,it)}serialize(){const et={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(et.layout=et.layout||{},et.layout.visibility=this.visibility),Mt(et,(it,at)=>!(it===void 0||at==="layout"&&!Object.keys(it).length||at==="paint"&&!Object.keys(it).length))}_validate(et,it,at,ct,vt={}){return(!vt||vt.validate!==!1)&&Hp(this,et.call(Bs,{key:it,layerType:this.type,objectKey:at,value:ct,styleSpec:Ir,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const et in this.paint._values){const it=this.paint.get(et);if(it instanceof Zr&&Wp(it.property.specification)&&(it.value.kind==="source"||it.value.kind==="composite")&&it.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=U0(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const LU=ho([{name:"a_pos",components:2,type:"Int16"}],4),kv=ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Dl{constructor(et=[]){this.segments=et}prepareSegment(et,it,at,ct){let vt=this.segments[this.segments.length-1];return et>Dl.MAX_VERTEX_ARRAY_LENGTH&&hn(`Max vertices per segment is ${Dl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${et}`),(!vt||vt.vertexLength+et>Dl.MAX_VERTEX_ARRAY_LENGTH||vt.sortKey!==ct)&&(vt={vertexOffset:it.length,primitiveOffset:at.length,vertexLength:0,primitiveLength:0},ct!==void 0&&(vt.sortKey=ct),this.segments.push(vt)),vt}get(){return this.segments}destroy(){for(const et of this.segments)for(const it in et.vaos)et.vaos[it].destroy()}static simpleSegment(et,it,at,ct){return new Dl([{vertexOffset:et,primitiveOffset:it,vertexLength:at,primitiveLength:ct,vaos:{},sortKey:0}])}}Dl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,wo(Dl,"SegmentVector");var zo=8192;class Xp{constructor(et,it){et&&(it?this.setSouthWest(et).setNorthEast(it):et.length===4?this.setSouthWest([et[0],et[1]]).setNorthEast([et[2],et[3]]):this.setSouthWest(et[0]).setNorthEast(et[1]))}setNorthEast(et){return this._ne=et instanceof Es?new Es(et.lng,et.lat):Es.convert(et),this}setSouthWest(et){return this._sw=et instanceof Es?new Es(et.lng,et.lat):Es.convert(et),this}extend(et){const it=this._sw,at=this._ne;let ct,vt;if(et instanceof Es)ct=et,vt=et;else{if(!(et instanceof Xp))return Array.isArray(et)?et.length===4||et.every(Array.isArray)?this.extend(Xp.convert(et)):this.extend(Es.convert(et)):typeof et=="object"&&et!==null&&et.hasOwnProperty("lat")&&et.hasOwnProperty("lon")?this.extend(Es.convert(et)):this;if(ct=et._sw,vt=et._ne,!ct||!vt)return this}return it||at?(it.lng=Math.min(ct.lng,it.lng),it.lat=Math.min(ct.lat,it.lat),at.lng=Math.max(vt.lng,at.lng),at.lat=Math.max(vt.lat,at.lat)):(this._sw=new Es(ct.lng,ct.lat),this._ne=new Es(vt.lng,vt.lat)),this}getCenter(){return new Es((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Es(this.getWest(),this.getNorth())}getSouthEast(){return new Es(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(et){const{lng:it,lat:at}=Es.convert(et);let ct=this._sw.lng<=it&&it<=this._ne.lng;return this._sw.lng>this._ne.lng&&(ct=this._sw.lng>=it&&it>=this._ne.lng),this._sw.lat<=at&&at<=this._ne.lat&&ct}static convert(et){return!et||et instanceof Xp?et:new Xp(et)}}const M_=63710088e-1;class Es{constructor(et,it){if(isNaN(et)||isNaN(it))throw new Error(`Invalid LngLat object: (${et}, ${it})`);if(this.lng=+et,this.lat=+it,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Es(jt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(et){const it=Math.PI/180,at=this.lat*it,ct=et.lat*it,vt=Math.sin(at)*Math.sin(ct)+Math.cos(at)*Math.cos(ct)*Math.cos((et.lng-this.lng)*it);return M_*Math.acos(Math.min(vt,1))}toBounds(et=0){const it=360*et/40075017,at=it/Math.cos(Math.PI/180*this.lat);return new Xp(new Es(this.lng-at,this.lat-it),new Es(this.lng+at,this.lat+it))}static convert(et){if(et instanceof Es)return et;if(Array.isArray(et)&&(et.length===2||et.length===3))return new Es(Number(et[0]),Number(et[1]));if(!Array.isArray(et)&&typeof et=="object"&&et!==null)return new Es(Number("lng"in et?et.lng:et.lon),Number(et.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const WF=2*Math.PI*M_;function Vv(rt){return WF*Math.cos(rt*Math.PI/180)}function au(rt){return(180+rt)/360}function qp(rt){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+rt*Math.PI/360)))/360}function gp(rt,et){return rt/Vv(et)}function mp(rt){return 360*rt-180}function Kl(rt){return 360/Math.PI*Math.atan(Math.exp((180-360*rt)*Math.PI/180))-90}function LF(rt,et){return rt*Vv(Kl(et))}const _m=85.051129;function vm(rt){return 1/Math.cos(rt*Math.PI/180)}class py{constructor(et,it,at=0){this.x=+et,this.y=+it,this.z=+at}static fromLngLat(et,it=0){const at=Es.convert(et);return new py(au(at.lng),qp(at.lat),gp(it,at.lat))}toLngLat(){return new Es(mp(this.x),Kl(this.y))}toAltitude(){return LF(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/WF*vm(Kl(this.y))}}function N_(rt,et,it,at,ct,vt,Rt,Nt,Jt){const Yt=(et+at)/2,sn=(it+ct)/2,dn=new pt(Yt,sn);Nt(dn),function(gn,Rn,Bn,kn,Ln,ir){const _r=Bn-Ln,rr=kn-ir;return Math.abs((kn-Rn)*_r-(Bn-gn)*rr)/Math.hypot(_r,rr)}(dn.x,dn.y,vt.x,vt.y,Rt.x,Rt.y)>=Jt?(N_(rt,et,it,Yt,sn,vt,dn,Nt,Jt),N_(rt,Yt,sn,at,ct,dn,Rt,Nt,Jt)):rt.push(Rt)}function Mv(rt,et,it){let at=rt[0],ct=at.x,vt=at.y;et(at);const Rt=[at];for(let Nt=1;Nt<rt.length;Nt++){const Jt=rt[Nt],{x:Yt,y:sn}=Jt;et(Jt),N_(Rt,ct,vt,Yt,sn,at,Jt,et,it),ct=Yt,vt=sn,at=Jt}return Rt}function A0(rt,et,it,at){if(at(et,it)){const ct=et.add(it)._mult(.5);A0(rt,et,ct,at),A0(rt,ct,it,at)}else rt.push(it)}function C0(rt,et){let it=rt[0];const at=[it];for(let ct=1;ct<rt.length;ct++){const vt=rt[ct];A0(at,it,vt,et),it=vt}return at}const ts=Math.pow(2,14)-1,D_=-ts-1;function JU(rt,et){const it=Math.round(rt.x*et),at=Math.round(rt.y*et);return rt.x=zt(it,D_,ts),rt.y=zt(at,D_,ts),(it<rt.x||it>rt.x+1||at<rt.y||at>rt.y+1)&&hn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),rt}function Nu(rt,et,it){const at=rt.loadGeometry(),ct=rt.extent,vt=zo/ct;if(et&&it&&it.projection.isReprojectedInTileSpace){const Rt=1<<et.z,{scale:Nt,x:Jt,y:Yt,projection:sn}=it,dn=gn=>{const Rn=mp((et.x+gn.x/ct)/Rt),Bn=Kl((et.y+gn.y/ct)/Rt),kn=sn.project(Rn,Bn);gn.x=(kn.x*Nt-Jt)*ct,gn.y=(kn.y*Nt-Yt)*ct};for(let gn=0;gn<at.length;gn++)if(rt.type!==1)at[gn]=Mv(at[gn],dn,1);else{const Rn=[];for(const Bn of at[gn])Bn.x<0||Bn.x>=ct||Bn.y<0||Bn.y>=ct||(dn(Bn),Rn.push(Bn));at[gn]=Rn}}for(const Rt of at)for(const Nt of Rt)JU(Nt,vt);return at}function jy(rt,et){return{type:rt.type,id:rt.id,properties:rt.properties,geometry:et?Nu(rt):[]}}function k0(rt,et,it,at,ct){rt.emplaceBack(2*et+(at+1)/2,2*it+(ct+1)/2)}function O_(rt,et,it){rt.emplaceBack(et.x,et.y,et.z,it[0]*16384,it[1]*16384,it[2]*16384)}class lu{constructor(et){this.zoom=et.zoom,this.overscaling=et.overscaling,this.layers=et.layers,this.layerIds=this.layers.map(it=>it.id),this.index=et.index,this.hasPattern=!1,this.projection=et.projection,this.layoutVertexArray=new us,this.indexArray=new Xl,this.segments=new Dl,this.programConfigurations=new Cp(et.layers,et.zoom),this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id)}populate(et,it,at,ct){const vt=this.layers[0],Rt=[];let Nt=null;vt.type==="circle"&&(Nt=vt.layout.get("circle-sort-key"));for(const{feature:Yt,id:sn,index:dn,sourceLayerIndex:gn}of et){const Rn=this.layers[0]._featureFilter.needGeometry,Bn=jy(Yt,Rn);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),Bn,at))continue;const kn=Nt?Nt.evaluate(Bn,{},at):void 0,Ln={id:sn,properties:Yt.properties,type:Yt.type,sourceLayerIndex:gn,index:dn,geometry:Rn?Bn.geometry:Nu(Yt,at,ct),patterns:{},sortKey:kn};Rt.push(Ln)}Nt&&Rt.sort((Yt,sn)=>Yt.sortKey-sn.sortKey);let Jt=null;ct.projection.name==="globe"&&(this.globeExtVertexArray=new xv,Jt=ct.projection);for(const Yt of Rt){const{geometry:sn,index:dn,sourceLayerIndex:gn}=Yt,Rn=et[dn].feature;this.addFeature(Yt,sn,dn,it.availableImages,at,Jt),it.featureIndex.insert(Rn,sn,dn,gn,this.index)}}update(et,it,at,ct){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(et,it,this.stateDependentLayers,at,ct)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(et){this.uploaded||(this.layoutVertexBuffer=et.createVertexBuffer(this.layoutVertexArray,LU.members),this.indexBuffer=et.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=et.createVertexBuffer(this.globeExtVertexArray,kv.members))),this.programConfigurations.upload(et),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(et,it,at,ct,vt,Rt){for(const Nt of it)for(const Jt of Nt){const Yt=Jt.x,sn=Jt.y;if(Yt<0||Yt>=zo||sn<0||sn>=zo)continue;if(Rt){const Rn=Rt.projectTilePoint(Yt,sn,vt),Bn=Rt.upVector(vt,Yt,sn),kn=this.globeExtVertexArray;O_(kn,Rn,Bn),O_(kn,Rn,Bn),O_(kn,Rn,Bn),O_(kn,Rn,Bn)}const dn=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,et.sortKey),gn=dn.vertexLength;k0(this.layoutVertexArray,Yt,sn,-1,-1),k0(this.layoutVertexArray,Yt,sn,1,-1),k0(this.layoutVertexArray,Yt,sn,1,1),k0(this.layoutVertexArray,Yt,sn,-1,1),this.indexArray.emplaceBack(gn,gn+1,gn+2),this.indexArray.emplaceBack(gn,gn+2,gn+3),dn.vertexLength+=4,dn.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,et,at,{},ct,vt)}}function JF(rt,et){for(let it=0;it<rt.length;it++)if(zl(et,rt[it]))return!0;for(let it=0;it<et.length;it++)if(zl(rt,et[it]))return!0;return!!Nv(rt,et)}function g1(rt,et,it){return!!zl(rt,et)||!!zU(et,rt,it)}function jU(rt,et){if(rt.length===1)return Um(et,rt[0]);for(let it=0;it<et.length;it++){const at=et[it];for(let ct=0;ct<at.length;ct++)if(zl(rt,at[ct]))return!0}for(let it=0;it<rt.length;it++)if(Um(et,rt[it]))return!0;for(let it=0;it<et.length;it++)if(Nv(rt,et[it]))return!0;return!1}function m1(rt,et,it){if(rt.length>1){if(Nv(rt,et))return!0;for(let at=0;at<et.length;at++)if(zU(et[at],rt,it))return!0}for(let at=0;at<rt.length;at++)if(zU(rt[at],et,it))return!0;return!1}function Nv(rt,et){if(rt.length===0||et.length===0)return!1;for(let it=0;it<rt.length-1;it++){const at=rt[it],ct=rt[it+1];for(let vt=0;vt<et.length-1;vt++)if(y1(at,ct,et[vt],et[vt+1]))return!0}return!1}function y1(rt,et,it,at){return Sn(rt,it,at)!==Sn(et,it,at)&&Sn(rt,et,it)!==Sn(rt,et,at)}function zU(rt,et,it){const at=it*it;if(et.length===1)return rt.distSqr(et[0])<at;for(let ct=1;ct<et.length;ct++)if(jF(rt,et[ct-1],et[ct])<at)return!0;return!1}function jF(rt,et,it){const at=et.distSqr(it);if(at===0)return rt.distSqr(et);const ct=((rt.x-et.x)*(it.x-et.x)+(rt.y-et.y)*(it.y-et.y))/at;return rt.distSqr(ct<0?et:ct>1?it:it.sub(et)._mult(ct)._add(et))}function Um(rt,et){let it,at,ct,vt=!1;for(let Rt=0;Rt<rt.length;Rt++){it=rt[Rt];for(let Nt=0,Jt=it.length-1;Nt<it.length;Jt=Nt++)at=it[Nt],ct=it[Jt],at.y>et.y!=ct.y>et.y&&et.x<(ct.x-at.x)*(et.y-at.y)/(ct.y-at.y)+at.x&&(vt=!vt)}return vt}function zl(rt,et){let it=!1;for(let at=0,ct=rt.length-1;at<rt.length;ct=at++){const vt=rt[at],Rt=rt[ct];vt.y>et.y!=Rt.y>et.y&&et.x<(Rt.x-vt.x)*(et.y-vt.y)/(Rt.y-vt.y)+vt.x&&(it=!it)}return it}function Dv(rt,et,it,at,ct){for(const Rt of rt)if(et<=Rt.x&&it<=Rt.y&&at>=Rt.x&&ct>=Rt.y)return!0;const vt=[new pt(et,it),new pt(et,ct),new pt(at,ct),new pt(at,it)];if(rt.length>2){for(const Rt of vt)if(zl(rt,Rt))return!0}for(let Rt=0;Rt<rt.length-1;Rt++)if(_1(rt[Rt],rt[Rt+1],vt))return!0;return!1}function _1(rt,et,it){const at=it[0],ct=it[2];if(rt.x<at.x&&et.x<at.x||rt.x>ct.x&&et.x>ct.x||rt.y<at.y&&et.y<at.y||rt.y>ct.y&&et.y>ct.y)return!1;const vt=Sn(rt,et,it[0]);return vt!==Sn(rt,et,it[1])||vt!==Sn(rt,et,it[2])||vt!==Sn(rt,et,it[3])}function gy(rt,et,it){const at=et.paint.get(rt).value;return at.kind==="constant"?at.value:it.programConfigurations.get(et.id).getMaxValue(rt)}function Ov(rt){return Math.sqrt(rt[0]*rt[0]+rt[1]*rt[1])}function zF(rt,et,it,at,ct){if(!et[0]&&!et[1])return rt;const vt=pt.convert(et)._mult(ct);it==="viewport"&&vt._rotate(-at);const Rt=[];for(let Nt=0;Nt<rt.length;Nt++)Rt.push(rt[Nt].sub(vt));return Rt}function V0(rt,et,it,at){const ct=pt.convert(rt)._mult(at);return et==="viewport"&&ct._rotate(-it),ct}wo(lu,"CircleBucket",{omit:["layers"]});const ZF=new co({"circle-sort-key":new Fr(Ir.layout_circle["circle-sort-key"])});var GF={paint:new co({"circle-radius":new Fr(Ir.paint_circle["circle-radius"]),"circle-color":new Fr(Ir.paint_circle["circle-color"]),"circle-blur":new Fr(Ir.paint_circle["circle-blur"]),"circle-opacity":new Fr(Ir.paint_circle["circle-opacity"]),"circle-translate":new xr(Ir.paint_circle["circle-translate"]),"circle-translate-anchor":new xr(Ir.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xr(Ir.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xr(Ir.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Fr(Ir.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Fr(Ir.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Fr(Ir.paint_circle["circle-stroke-opacity"])}),layout:ZF},Iv=1e-6,Ku=typeof Float32Array<"u"?Float32Array:Array;function HF(){var rt=new Ku(9);return Ku!=Float32Array&&(rt[1]=0,rt[2]=0,rt[3]=0,rt[5]=0,rt[6]=0,rt[7]=0),rt[0]=1,rt[4]=1,rt[8]=1,rt}function YF(rt,et,it){var at=et[0],ct=et[1],vt=et[2],Rt=et[3],Nt=et[4],Jt=et[5],Yt=et[6],sn=et[7],dn=et[8],gn=it[0],Rn=it[1],Bn=it[2],kn=it[3],Ln=it[4],ir=it[5],_r=it[6],rr=it[7],fr=it[8];return rt[0]=gn*at+Rn*Rt+Bn*Yt,rt[1]=gn*ct+Rn*Nt+Bn*sn,rt[2]=gn*vt+Rn*Jt+Bn*dn,rt[3]=kn*at+Ln*Rt+ir*Yt,rt[4]=kn*ct+Ln*Nt+ir*sn,rt[5]=kn*vt+Ln*Jt+ir*dn,rt[6]=_r*at+rr*Rt+fr*Yt,rt[7]=_r*ct+rr*Nt+fr*sn,rt[8]=_r*vt+rr*Jt+fr*dn,rt}function Kp(rt){return rt[0]=1,rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=1,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[10]=1,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt}function Pv(rt,et){var it=et[0],at=et[1],ct=et[2],vt=et[3],Rt=et[4],Nt=et[5],Jt=et[6],Yt=et[7],sn=et[8],dn=et[9],gn=et[10],Rn=et[11],Bn=et[12],kn=et[13],Ln=et[14],ir=et[15],_r=it*Nt-at*Rt,rr=it*Jt-ct*Rt,fr=it*Yt-vt*Rt,Ur=at*Jt-ct*Nt,pr=at*Yt-vt*Nt,Vr=ct*Yt-vt*Jt,Cr=sn*kn-dn*Bn,Jr=sn*Ln-gn*Bn,so=sn*ir-Rn*Bn,Dr=dn*Ln-gn*kn,Hr=dn*ir-Rn*kn,$r=gn*ir-Rn*Ln,eo=_r*$r-rr*Hr+fr*Dr+Ur*so-pr*Jr+Vr*Cr;return eo?(rt[0]=(Nt*$r-Jt*Hr+Yt*Dr)*(eo=1/eo),rt[1]=(ct*Hr-at*$r-vt*Dr)*eo,rt[2]=(kn*Vr-Ln*pr+ir*Ur)*eo,rt[3]=(gn*pr-dn*Vr-Rn*Ur)*eo,rt[4]=(Jt*so-Rt*$r-Yt*Jr)*eo,rt[5]=(it*$r-ct*so+vt*Jr)*eo,rt[6]=(Ln*fr-Bn*Vr-ir*rr)*eo,rt[7]=(sn*Vr-gn*fr+Rn*rr)*eo,rt[8]=(Rt*Hr-Nt*so+Yt*Cr)*eo,rt[9]=(at*so-it*Hr-vt*Cr)*eo,rt[10]=(Bn*pr-kn*fr+ir*_r)*eo,rt[11]=(dn*fr-sn*pr-Rn*_r)*eo,rt[12]=(Nt*Jr-Rt*Dr-Jt*Cr)*eo,rt[13]=(it*Dr-at*Jr+ct*Cr)*eo,rt[14]=(kn*rr-Bn*Ur-Ln*_r)*eo,rt[15]=(sn*Ur-dn*rr+gn*_r)*eo,rt):null}function M0(rt,et,it){var at=et[0],ct=et[1],vt=et[2],Rt=et[3],Nt=et[4],Jt=et[5],Yt=et[6],sn=et[7],dn=et[8],gn=et[9],Rn=et[10],Bn=et[11],kn=et[12],Ln=et[13],ir=et[14],_r=et[15],rr=it[0],fr=it[1],Ur=it[2],pr=it[3];return rt[0]=rr*at+fr*Nt+Ur*dn+pr*kn,rt[1]=rr*ct+fr*Jt+Ur*gn+pr*Ln,rt[2]=rr*vt+fr*Yt+Ur*Rn+pr*ir,rt[3]=rr*Rt+fr*sn+Ur*Bn+pr*_r,rt[4]=(rr=it[4])*at+(fr=it[5])*Nt+(Ur=it[6])*dn+(pr=it[7])*kn,rt[5]=rr*ct+fr*Jt+Ur*gn+pr*Ln,rt[6]=rr*vt+fr*Yt+Ur*Rn+pr*ir,rt[7]=rr*Rt+fr*sn+Ur*Bn+pr*_r,rt[8]=(rr=it[8])*at+(fr=it[9])*Nt+(Ur=it[10])*dn+(pr=it[11])*kn,rt[9]=rr*ct+fr*Jt+Ur*gn+pr*Ln,rt[10]=rr*vt+fr*Yt+Ur*Rn+pr*ir,rt[11]=rr*Rt+fr*sn+Ur*Bn+pr*_r,rt[12]=(rr=it[12])*at+(fr=it[13])*Nt+(Ur=it[14])*dn+(pr=it[15])*kn,rt[13]=rr*ct+fr*Jt+Ur*gn+pr*Ln,rt[14]=rr*vt+fr*Yt+Ur*Rn+pr*ir,rt[15]=rr*Rt+fr*sn+Ur*Bn+pr*_r,rt}function zy(rt,et,it){var at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn=it[0],Ln=it[1],ir=it[2];return et===rt?(rt[12]=et[0]*kn+et[4]*Ln+et[8]*ir+et[12],rt[13]=et[1]*kn+et[5]*Ln+et[9]*ir+et[13],rt[14]=et[2]*kn+et[6]*Ln+et[10]*ir+et[14],rt[15]=et[3]*kn+et[7]*Ln+et[11]*ir+et[15]):(ct=et[1],vt=et[2],Rt=et[3],Nt=et[4],Jt=et[5],Yt=et[6],sn=et[7],dn=et[8],gn=et[9],Rn=et[10],Bn=et[11],rt[0]=at=et[0],rt[1]=ct,rt[2]=vt,rt[3]=Rt,rt[4]=Nt,rt[5]=Jt,rt[6]=Yt,rt[7]=sn,rt[8]=dn,rt[9]=gn,rt[10]=Rn,rt[11]=Bn,rt[12]=at*kn+Nt*Ln+dn*ir+et[12],rt[13]=ct*kn+Jt*Ln+gn*ir+et[13],rt[14]=vt*kn+Yt*Ln+Rn*ir+et[14],rt[15]=Rt*kn+sn*Ln+Bn*ir+et[15]),rt}function my(rt,et,it){var at=it[0],ct=it[1],vt=it[2];return rt[0]=et[0]*at,rt[1]=et[1]*at,rt[2]=et[2]*at,rt[3]=et[3]*at,rt[4]=et[4]*ct,rt[5]=et[5]*ct,rt[6]=et[6]*ct,rt[7]=et[7]*ct,rt[8]=et[8]*vt,rt[9]=et[9]*vt,rt[10]=et[10]*vt,rt[11]=et[11]*vt,rt[12]=et[12],rt[13]=et[13],rt[14]=et[14],rt[15]=et[15],rt}function Zy(rt,et,it){var at=Math.sin(it),ct=Math.cos(it),vt=et[4],Rt=et[5],Nt=et[6],Jt=et[7],Yt=et[8],sn=et[9],dn=et[10],gn=et[11];return et!==rt&&(rt[0]=et[0],rt[1]=et[1],rt[2]=et[2],rt[3]=et[3],rt[12]=et[12],rt[13]=et[13],rt[14]=et[14],rt[15]=et[15]),rt[4]=vt*ct+Yt*at,rt[5]=Rt*ct+sn*at,rt[6]=Nt*ct+dn*at,rt[7]=Jt*ct+gn*at,rt[8]=Yt*ct-vt*at,rt[9]=sn*ct-Rt*at,rt[10]=dn*ct-Nt*at,rt[11]=gn*ct-Jt*at,rt}function N0(rt,et,it){var at=Math.sin(it),ct=Math.cos(it),vt=et[0],Rt=et[1],Nt=et[2],Jt=et[3],Yt=et[8],sn=et[9],dn=et[10],gn=et[11];return et!==rt&&(rt[4]=et[4],rt[5]=et[5],rt[6]=et[6],rt[7]=et[7],rt[12]=et[12],rt[13]=et[13],rt[14]=et[14],rt[15]=et[15]),rt[0]=vt*ct-Yt*at,rt[1]=Rt*ct-sn*at,rt[2]=Nt*ct-dn*at,rt[3]=Jt*ct-gn*at,rt[8]=vt*at+Yt*ct,rt[9]=Rt*at+sn*ct,rt[10]=Nt*at+dn*ct,rt[11]=Jt*at+gn*ct,rt}function ZU(rt,et){return rt[0]=et[0],rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=et[1],rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[10]=et[2],rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt}function GU(rt,et,it){var at,ct,vt,Rt=it[0],Nt=it[1],Jt=it[2],Yt=Math.hypot(Rt,Nt,Jt);return Yt<Iv?null:(Rt*=Yt=1/Yt,Nt*=Yt,Jt*=Yt,at=Math.sin(et),ct=Math.cos(et),rt[0]=Rt*Rt*(vt=1-ct)+ct,rt[1]=Nt*Rt*vt+Jt*at,rt[2]=Jt*Rt*vt-Nt*at,rt[3]=0,rt[4]=Rt*Nt*vt-Jt*at,rt[5]=Nt*Nt*vt+ct,rt[6]=Jt*Nt*vt+Rt*at,rt[7]=0,rt[8]=Rt*Jt*vt+Nt*at,rt[9]=Nt*Jt*vt-Rt*at,rt[10]=Jt*Jt*vt+ct,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt)}Math.hypot||(Math.hypot=function(){for(var rt=0,et=arguments.length;et--;)rt+=arguments[et]*arguments[et];return Math.sqrt(rt)});var Wv=M0;function Lv(){var rt=new Ku(3);return Ku!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt}function _g(rt){var et=new Ku(3);return et[0]=rt[0],et[1]=rt[1],et[2]=rt[2],et}function em(rt){return Math.hypot(rt[0],rt[1],rt[2])}function D0(rt,et,it){var at=new Ku(3);return at[0]=rt,at[1]=et,at[2]=it,at}function bm(rt,et,it){return rt[0]=et[0]+it[0],rt[1]=et[1]+it[1],rt[2]=et[2]+it[2],rt}function HU(rt,et,it){return rt[0]=et[0]-it[0],rt[1]=et[1]-it[1],rt[2]=et[2]-it[2],rt}function $F(rt,et,it){return rt[0]=et[0]*it[0],rt[1]=et[1]*it[1],rt[2]=et[2]*it[2],rt}function I_(rt,et,it){return rt[0]=Math.min(et[0],it[0]),rt[1]=Math.min(et[1],it[1]),rt[2]=Math.min(et[2],it[2]),rt}function P_(rt,et,it){return rt[0]=Math.max(et[0],it[0]),rt[1]=Math.max(et[1],it[1]),rt[2]=Math.max(et[2],it[2]),rt}function yp(rt,et,it){return rt[0]=et[0]*it,rt[1]=et[1]*it,rt[2]=et[2]*it,rt}function W_(rt,et,it,at){return rt[0]=et[0]+it[0]*at,rt[1]=et[1]+it[1]*at,rt[2]=et[2]+it[2]*at,rt}function xu(rt,et){var it=et[0],at=et[1],ct=et[2],vt=it*it+at*at+ct*ct;return vt>0&&(vt=1/Math.sqrt(vt)),rt[0]=et[0]*vt,rt[1]=et[1]*vt,rt[2]=et[2]*vt,rt}function kp(rt,et){return rt[0]*et[0]+rt[1]*et[1]+rt[2]*et[2]}function YU(rt,et,it){var at=et[0],ct=et[1],vt=et[2],Rt=it[0],Nt=it[1],Jt=it[2];return rt[0]=ct*Jt-vt*Nt,rt[1]=vt*Rt-at*Jt,rt[2]=at*Nt-ct*Rt,rt}function Ol(rt,et,it){var at=et[0],ct=et[1],vt=et[2],Rt=it[3]*at+it[7]*ct+it[11]*vt+it[15];return rt[0]=(it[0]*at+it[4]*ct+it[8]*vt+it[12])/(Rt=Rt||1),rt[1]=(it[1]*at+it[5]*ct+it[9]*vt+it[13])/Rt,rt[2]=(it[2]*at+it[6]*ct+it[10]*vt+it[14])/Rt,rt}function XF(rt,et,it){var at=it[0],ct=it[1],vt=it[2],Rt=et[0],Nt=et[1],Jt=et[2],Yt=ct*Jt-vt*Nt,sn=vt*Rt-at*Jt,dn=at*Nt-ct*Rt,gn=ct*dn-vt*sn,Rn=vt*Yt-at*dn,Bn=at*sn-ct*Yt,kn=2*it[3];return sn*=kn,dn*=kn,Rn*=2,Bn*=2,rt[0]=Rt+(Yt*=kn)+(gn*=2),rt[1]=Nt+sn+Rn,rt[2]=Jt+dn+Bn,rt}var O0,Vp=HU,qF=$F,v1=em;function KF(rt,et,it){return rt[0]=et[0]*it,rt[1]=et[1]*it,rt[2]=et[2]*it,rt[3]=et[3]*it,rt}function eS(rt,et){var it=et[0],at=et[1],ct=et[2],vt=et[3],Rt=it*it+at*at+ct*ct+vt*vt;return Rt>0&&(Rt=1/Math.sqrt(Rt)),rt[0]=it*Rt,rt[1]=at*Rt,rt[2]=ct*Rt,rt[3]=vt*Rt,rt}function yy(rt,et,it){var at=et[0],ct=et[1],vt=et[2],Rt=et[3];return rt[0]=it[0]*at+it[4]*ct+it[8]*vt+it[12]*Rt,rt[1]=it[1]*at+it[5]*ct+it[9]*vt+it[13]*Rt,rt[2]=it[2]*at+it[6]*ct+it[10]*vt+it[14]*Rt,rt[3]=it[3]*at+it[7]*ct+it[11]*vt+it[15]*Rt,rt}function tS(){var rt=new Ku(4);return Ku!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt[3]=1,rt}function nS(rt){return rt[0]=0,rt[1]=0,rt[2]=0,rt[3]=1,rt}function rS(rt,et,it){it*=.5;var at=et[0],ct=et[1],vt=et[2],Rt=et[3],Nt=Math.sin(it),Jt=Math.cos(it);return rt[0]=at*Jt+Rt*Nt,rt[1]=ct*Jt+vt*Nt,rt[2]=vt*Jt-ct*Nt,rt[3]=Rt*Jt-at*Nt,rt}function iS(rt,et,it){it*=.5;var at=et[0],ct=et[1],vt=et[2],Rt=et[3],Nt=Math.sin(it),Jt=Math.cos(it);return rt[0]=at*Jt-vt*Nt,rt[1]=ct*Jt+Rt*Nt,rt[2]=vt*Jt+at*Nt,rt[3]=Rt*Jt-ct*Nt,rt}Lv(),O0=new Ku(4),Ku!=Float32Array&&(O0[0]=0,O0[1]=0,O0[2]=0,O0[3]=0);var U1=eS;Lv(),D0(1,0,0),D0(0,1,0),tS(),tS(),HF();class $U{constructor(et,it){this.pos=et,this.dir=it}intersectsPlane(et,it,at){const ct=kp(it,this.dir);if(Math.abs(ct)<1e-6)return!1;const vt=((et[0]-this.pos[0])*it[0]+(et[1]-this.pos[1])*it[1]+(et[2]-this.pos[2])*it[2])/ct;return at[0]=this.pos[0]+this.dir[0]*vt,at[1]=this.pos[1]+this.dir[1]*vt,at[2]=this.pos[2]+this.dir[2]*vt,!0}closestPointOnSphere(et,it,at){if(function(Rn,Bn){var kn=Rn[0],Ln=Rn[1],ir=Rn[2],_r=Bn[0],rr=Bn[1],fr=Bn[2];return Math.abs(kn-_r)<=Iv*Math.max(1,Math.abs(kn),Math.abs(_r))&&Math.abs(Ln-rr)<=Iv*Math.max(1,Math.abs(Ln),Math.abs(rr))&&Math.abs(ir-fr)<=Iv*Math.max(1,Math.abs(ir),Math.abs(fr))}(this.pos,et)||it===0)return at[0]=at[1]=at[2]=0,!1;const[ct,vt,Rt]=this.dir,Nt=this.pos[0]-et[0],Jt=this.pos[1]-et[1],Yt=this.pos[2]-et[2],sn=ct*ct+vt*vt+Rt*Rt,dn=2*(Nt*ct+Jt*vt+Yt*Rt),gn=dn*dn-4*sn*(Nt*Nt+Jt*Jt+Yt*Yt-it*it);if(gn<0){const Rn=Math.max(-dn/2,0),Bn=Nt+ct*Rn,kn=Jt+vt*Rn,Ln=Yt+Rt*Rn,ir=Math.hypot(Bn,kn,Ln);return at[0]=Bn*it/ir,at[1]=kn*it/ir,at[2]=Ln*it/ir,!1}{const Rn=(-dn-Math.sqrt(gn))/(2*sn);if(Rn<0){const Bn=Math.hypot(Nt,Jt,Yt);return at[0]=Nt*it/Bn,at[1]=Jt*it/Bn,at[2]=Yt*it/Bn,!1}return at[0]=Nt+ct*Rn,at[1]=Jt+vt*Rn,at[2]=Yt+Rt*Rn,!0}}}class _c{constructor(et,it,at,ct,vt){this.TL=et,this.TR=it,this.BR=at,this.BL=ct,this.horizon=vt}static fromInvProjectionMatrix(et,it,at){const ct=[-1,1,1],vt=[1,1,1],Rt=[1,-1,1],Nt=[-1,-1,1],Jt=Ol(ct,ct,et),Yt=Ol(vt,vt,et),sn=Ol(Rt,Rt,et),dn=Ol(Nt,Nt,et);return new _c(Jt,Yt,sn,dn,it/at)}}class XU{constructor(et,it){this.points=et,this.planes=it}static fromInvProjectionMatrix(et,it,at,ct){const vt=Math.pow(2,at),Rt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Jt=>{const Yt=yy([],Jt,et),sn=1/Yt[3]/it*vt;return function(dn,gn,Rn){return dn[0]=gn[0]*Rn[0],dn[1]=gn[1]*Rn[1],dn[2]=gn[2]*Rn[2],dn[3]=gn[3]*Rn[3],dn}(Yt,Yt,[sn,sn,ct?1/Yt[3]:sn,sn])}),Nt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Jt=>{const Yt=xu([],YU([],Vp([],Rt[Jt[0]],Rt[Jt[1]]),Vp([],Rt[Jt[2]],Rt[Jt[1]]))),sn=-kp(Yt,Rt[Jt[1]]);return Yt.concat(sn)});return new XU(Rt,Nt)}}class Au{static fromPoints(et){const it=[1/0,1/0,1/0],at=[-1/0,-1/0,-1/0];for(const ct of et)I_(it,it,ct),P_(at,at,ct);return new Au(it,at)}static applyTransform(et,it){const at=et.getCorners();for(let ct=0;ct<at.length;++ct)Ol(at[ct],at[ct],it);return Au.fromPoints(at)}constructor(et,it){this.min=et,this.max=it,this.center=yp([],bm([],this.min,this.max),.5)}quadrant(et){const it=[et%2==0,et<2],at=_g(this.min),ct=_g(this.max);for(let vt=0;vt<it.length;vt++)at[vt]=it[vt]?this.min[vt]:this.center[vt],ct[vt]=it[vt]?this.center[vt]:this.max[vt];return ct[2]=this.max[2],new Au(at,ct)}distanceX(et){return Math.max(Math.min(this.max[0],et[0]),this.min[0])-et[0]}distanceY(et){return Math.max(Math.min(this.max[1],et[1]),this.min[1])-et[1]}distanceZ(et){return Math.max(Math.min(this.max[2],et[2]),this.min[2])-et[2]}getCorners(){const et=this.min,it=this.max;return[[et[0],et[1],et[2]],[it[0],et[1],et[2]],[it[0],it[1],et[2]],[et[0],it[1],et[2]],[et[0],et[1],it[2]],[it[0],et[1],it[2]],[it[0],it[1],it[2]],[et[0],it[1],it[2]]]}intersects(et){const it=this.getCorners();let at=!0;for(let ct=0;ct<et.planes.length;ct++){const vt=et.planes[ct];let Rt=0;for(let Nt=0;Nt<it.length;Nt++)Rt+=kp(vt,it[Nt])+vt[3]>=0;if(Rt===0)return 0;Rt!==it.length&&(at=!1)}if(at)return 2;for(let ct=0;ct<3;ct++){let vt=Number.MAX_VALUE,Rt=-Number.MAX_VALUE;for(let Nt=0;Nt<et.points.length;Nt++){const Jt=et.points[Nt][ct]-this.min[ct];vt=Math.min(vt,Jt),Rt=Math.max(Rt,Jt)}if(Rt<0||vt>this.max[ct]-this.min[ct])return 0}return 1}}function oS(rt,et,it,at,ct,vt,Rt,Nt,Jt){if(vt&&rt.queryGeometry.isAboveHorizon)return!1;vt&&(Jt*=rt.pixelToTileUnitsFactor);const Yt=rt.tileID.canonical,sn=it.projection.upVectorScale(Yt,it.center.lat,it.worldSize).metersToTile;for(const dn of et)for(const gn of dn){const Rn=gn.add(Nt),Bn=ct&&it.elevation?it.elevation.exaggeration()*ct.getElevationAt(Rn.x,Rn.y,!0):0,kn=it.projection.projectTilePoint(Rn.x,Rn.y,Yt);if(Bn>0){const rr=it.projection.upVector(Yt,Rn.x,Rn.y);kn.x+=rr[0]*sn*Bn,kn.y+=rr[1]*sn*Bn,kn.z+=rr[2]*sn*Bn}const Ln=vt?Rn:sS(kn.x,kn.y,kn.z,at),ir=vt?rt.tilespaceRays.map(rr=>F1(rr,Bn)):rt.queryGeometry.screenGeometry,_r=yy([],[kn.x,kn.y,kn.z,1],at);if(!Rt&&vt?Jt*=_r[3]/it.cameraToCenterDistance:Rt&&!vt&&(Jt*=it.cameraToCenterDistance/_r[3]),vt){const rr=Kl((gn.y/zo+Yt.y)/(1<<Yt.z));Jt/=it.projection.pixelsPerMeter(rr,1)/gp(1,rr)}if(g1(ir,Ln,Jt))return!0}return!1}function sS(rt,et,it,at){const ct=yy([],[rt,et,it,1],at);return new pt(ct[0]/ct[3],ct[1]/ct[3])}const aS=D0(0,0,0),b1=D0(0,0,1);function F1(rt,et){const it=Lv();return aS[2]=et,rt.intersectsPlane(aS,b1,it),new pt(it[0],it[1])}class lS extends lu{}function Jv(rt,{width:et,height:it},at,ct){if(ct){if(ct instanceof Uint8ClampedArray)ct=new Uint8Array(ct.buffer);else if(ct.length!==et*it*at)throw new RangeError("mismatched image size")}else ct=new Uint8Array(et*it*at);return rt.width=et,rt.height=it,rt.data=ct,rt}function uS(rt,et,it){const{width:at,height:ct}=et;at===rt.width&&ct===rt.height||(qU(rt,et,{x:0,y:0},{x:0,y:0},{width:Math.min(rt.width,at),height:Math.min(rt.height,ct)},it),rt.width=at,rt.height=ct,rt.data=et.data)}function qU(rt,et,it,at,ct,vt){if(ct.width===0||ct.height===0)return et;if(ct.width>rt.width||ct.height>rt.height||it.x>rt.width-ct.width||it.y>rt.height-ct.height)throw new RangeError("out of range source coordinates for image copy");if(ct.width>et.width||ct.height>et.height||at.x>et.width-ct.width||at.y>et.height-ct.height)throw new RangeError("out of range destination coordinates for image copy");const Rt=rt.data,Nt=et.data;for(let Jt=0;Jt<ct.height;Jt++){const Yt=((it.y+Jt)*rt.width+it.x)*vt,sn=((at.y+Jt)*et.width+at.x)*vt;for(let dn=0;dn<ct.width*vt;dn++)Nt[sn+dn]=Rt[Yt+dn]}return et}wo(lS,"HeatmapBucket",{omit:["layers"]});class Wm{constructor(et,it){Jv(this,et,1,it)}resize(et){uS(this,new Wm(et),1)}clone(){return new Wm({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(et,it,at,ct,vt){qU(et,it,at,ct,vt,1)}}class _h{constructor(et,it){Jv(this,et,4,it)}resize(et){uS(this,new _h(et),4)}replace(et,it){it?this.data.set(et):this.data=et instanceof Uint8ClampedArray?new Uint8Array(et.buffer):et}clone(){return new _h({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(et,it,at,ct,vt){qU(et,it,at,ct,vt,4)}}wo(Wm,"AlphaImage"),wo(_h,"RGBAImage");var S1={paint:new co({"heatmap-radius":new Fr(Ir.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Fr(Ir.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xr(Ir.paint_heatmap["heatmap-intensity"]),"heatmap-color":new fo(Ir.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xr(Ir.paint_heatmap["heatmap-opacity"])})};function KU(rt){const et={},it=rt.resolution||256,at=rt.clips?rt.clips.length:1,ct=rt.image||new _h({width:it,height:at}),vt=(Rt,Nt,Jt)=>{et[rt.evaluationKey]=Jt;const Yt=rt.expression.evaluate(et);ct.data[Rt+Nt+0]=Math.floor(255*Yt.r/Yt.a),ct.data[Rt+Nt+1]=Math.floor(255*Yt.g/Yt.a),ct.data[Rt+Nt+2]=Math.floor(255*Yt.b/Yt.a),ct.data[Rt+Nt+3]=Math.floor(255*Yt.a)};if(rt.clips)for(let Rt=0,Nt=0;Rt<at;++Rt,Nt+=4*it)for(let Jt=0,Yt=0;Jt<it;Jt++,Yt+=4){const sn=Jt/(it-1),{start:dn,end:gn}=rt.clips[Rt];vt(Nt,Yt,dn*(1-sn)+gn*sn)}else for(let Rt=0,Nt=0;Rt<it;Rt++,Nt+=4)vt(0,Nt,Rt/(it-1));return ct}var R1={paint:new co({"hillshade-illumination-direction":new xr(Ir.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new xr(Ir.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xr(Ir.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xr(Ir.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xr(Ir.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xr(Ir.paint_hillshade["hillshade-accent-color"])})};const w1=ho([{name:"a_pos",components:2,type:"Int16"}],4),{members:B1}=w1;var L_={exports:{}};function jv(rt,et,it){it=it||2;var at,ct,vt,Rt,Nt,Jt,Yt,sn=et&&et.length,dn=sn?et[0]*it:rt.length,gn=cS(rt,0,dn,it,!0),Rn=[];if(!gn||gn.next===gn.prev)return Rn;if(sn&&(gn=function(kn,Ln,ir,_r){var rr,fr,Ur,pr=[];for(rr=0,fr=Ln.length;rr<fr;rr++)(Ur=cS(kn,Ln[rr]*_r,rr<fr-1?Ln[rr+1]*_r:kn.length,_r,!1))===Ur.next&&(Ur.steiner=!0),pr.push(k1(Ur));for(pr.sort(A1),rr=0;rr<pr.length;rr++)ir=C1(pr[rr],ir);return ir}(rt,et,gn,it)),rt.length>80*it){at=vt=rt[0],ct=Rt=rt[1];for(var Bn=it;Bn<dn;Bn+=it)(Nt=rt[Bn])<at&&(at=Nt),(Jt=rt[Bn+1])<ct&&(ct=Jt),Nt>vt&&(vt=Nt),Jt>Rt&&(Rt=Jt);Yt=(Yt=Math.max(vt-at,Rt-ct))!==0?32767/Yt:0}return J_(gn,Rn,it,at,ct,Yt,0),Rn}function cS(rt,et,it,at,ct){var vt,Rt;if(ct===tF(rt,et,it,at)>0)for(vt=et;vt<it;vt+=at)Rt=j_(vt,rt[vt],rt[vt+1],Rt);else for(vt=it-at;vt>=et;vt-=at)Rt=j_(vt,rt[vt],rt[vt+1],Rt);return Rt&&Zv(Rt,Rt.next)&&(z_(Rt),Rt=Rt.next),Rt}function Gy(rt,et){if(!rt)return rt;et||(et=rt);var it,at=rt;do if(it=!1,at.steiner||!Zv(at,at.next)&&Ql(at.prev,at,at.next)!==0)at=at.next;else{if(z_(at),(at=et=at.prev)===at.next)break;it=!0}while(it||at!==et);return et}function J_(rt,et,it,at,ct,vt,Rt){if(rt){!Rt&&vt&&function(sn,dn,gn,Rn){var Bn=sn;do Bn.z===0&&(Bn.z=zv(Bn.x,Bn.y,dn,gn,Rn)),Bn.prevZ=Bn.prev,Bn.nextZ=Bn.next,Bn=Bn.next;while(Bn!==sn);Bn.prevZ.nextZ=null,Bn.prevZ=null,function(kn){var Ln,ir,_r,rr,fr,Ur,pr,Vr,Cr=1;do{for(ir=kn,kn=null,fr=null,Ur=0;ir;){for(Ur++,_r=ir,pr=0,Ln=0;Ln<Cr&&(pr++,_r=_r.nextZ);Ln++);for(Vr=Cr;pr>0||Vr>0&&_r;)pr!==0&&(Vr===0||!_r||ir.z<=_r.z)?(rr=ir,ir=ir.nextZ,pr--):(rr=_r,_r=_r.nextZ,Vr--),fr?fr.nextZ=rr:kn=rr,rr.prevZ=fr,fr=rr;ir=_r}fr.nextZ=null,Cr*=2}while(Ur>1)}(Bn)}(rt,at,ct,vt);for(var Nt,Jt,Yt=rt;rt.prev!==rt.next;)if(Nt=rt.prev,Jt=rt.next,vt?T1(rt,at,ct,vt):E1(rt))et.push(Nt.i/it|0),et.push(rt.i/it|0),et.push(Jt.i/it|0),z_(rt),rt=Jt.next,Yt=Jt.next;else if((rt=Jt)===Yt){Rt?Rt===1?J_(rt=Q1(Gy(rt),et,it),et,it,at,ct,vt,2):Rt===2&&x1(rt,et,it,at,ct,vt):J_(Gy(rt),et,it,at,ct,vt,1);break}}}function E1(rt){var et=rt.prev,it=rt,at=rt.next;if(Ql(et,it,at)>=0)return!1;for(var ct=et.x,vt=it.x,Rt=at.x,Nt=et.y,Jt=it.y,Yt=at.y,sn=ct<vt?ct<Rt?ct:Rt:vt<Rt?vt:Rt,dn=Nt<Jt?Nt<Yt?Nt:Yt:Jt<Yt?Jt:Yt,gn=ct>vt?ct>Rt?ct:Rt:vt>Rt?vt:Rt,Rn=Nt>Jt?Nt>Yt?Nt:Yt:Jt>Yt?Jt:Yt,Bn=at.next;Bn!==et;){if(Bn.x>=sn&&Bn.x<=gn&&Bn.y>=dn&&Bn.y<=Rn&&I0(ct,Nt,vt,Jt,Rt,Yt,Bn.x,Bn.y)&&Ql(Bn.prev,Bn,Bn.next)>=0)return!1;Bn=Bn.next}return!0}function T1(rt,et,it,at){var ct=rt.prev,vt=rt,Rt=rt.next;if(Ql(ct,vt,Rt)>=0)return!1;for(var Nt=ct.x,Jt=vt.x,Yt=Rt.x,sn=ct.y,dn=vt.y,gn=Rt.y,Rn=Nt<Jt?Nt<Yt?Nt:Yt:Jt<Yt?Jt:Yt,Bn=sn<dn?sn<gn?sn:gn:dn<gn?dn:gn,kn=Nt>Jt?Nt>Yt?Nt:Yt:Jt>Yt?Jt:Yt,Ln=sn>dn?sn>gn?sn:gn:dn>gn?dn:gn,ir=zv(Rn,Bn,et,it,at),_r=zv(kn,Ln,et,it,at),rr=rt.prevZ,fr=rt.nextZ;rr&&rr.z>=ir&&fr&&fr.z<=_r;){if(rr.x>=Rn&&rr.x<=kn&&rr.y>=Bn&&rr.y<=Ln&&rr!==ct&&rr!==Rt&&I0(Nt,sn,Jt,dn,Yt,gn,rr.x,rr.y)&&Ql(rr.prev,rr,rr.next)>=0||(rr=rr.prevZ,fr.x>=Rn&&fr.x<=kn&&fr.y>=Bn&&fr.y<=Ln&&fr!==ct&&fr!==Rt&&I0(Nt,sn,Jt,dn,Yt,gn,fr.x,fr.y)&&Ql(fr.prev,fr,fr.next)>=0))return!1;fr=fr.nextZ}for(;rr&&rr.z>=ir;){if(rr.x>=Rn&&rr.x<=kn&&rr.y>=Bn&&rr.y<=Ln&&rr!==ct&&rr!==Rt&&I0(Nt,sn,Jt,dn,Yt,gn,rr.x,rr.y)&&Ql(rr.prev,rr,rr.next)>=0)return!1;rr=rr.prevZ}for(;fr&&fr.z<=_r;){if(fr.x>=Rn&&fr.x<=kn&&fr.y>=Bn&&fr.y<=Ln&&fr!==ct&&fr!==Rt&&I0(Nt,sn,Jt,dn,Yt,gn,fr.x,fr.y)&&Ql(fr.prev,fr,fr.next)>=0)return!1;fr=fr.nextZ}return!0}function Q1(rt,et,it){var at=rt;do{var ct=at.prev,vt=at.next.next;!Zv(ct,vt)&&hS(ct,at,at.next,vt)&&P0(ct,vt)&&P0(vt,ct)&&(et.push(ct.i/it|0),et.push(at.i/it|0),et.push(vt.i/it|0),z_(at),z_(at.next),at=rt=vt),at=at.next}while(at!==rt);return Gy(at)}function x1(rt,et,it,at,ct,vt){var Rt=rt;do{for(var Nt=Rt.next.next;Nt!==Rt.prev;){if(Rt.i!==Nt.i&&V1(Rt,Nt)){var Jt=dS(Rt,Nt);return Rt=Gy(Rt,Rt.next),Jt=Gy(Jt,Jt.next),J_(Rt,et,it,at,ct,vt,0),void J_(Jt,et,it,at,ct,vt,0)}Nt=Nt.next}Rt=Rt.next}while(Rt!==rt)}function A1(rt,et){return rt.x-et.x}function C1(rt,et){var it=function(ct,vt){var Rt,Nt=vt,Jt=ct.x,Yt=ct.y,sn=-1/0;do{if(Yt<=Nt.y&&Yt>=Nt.next.y&&Nt.next.y!==Nt.y){var dn=Nt.x+(Yt-Nt.y)*(Nt.next.x-Nt.x)/(Nt.next.y-Nt.y);if(dn<=Jt&&dn>sn&&(sn=dn,Rt=Nt.x<Nt.next.x?Nt:Nt.next,dn===Jt))return Rt}Nt=Nt.next}while(Nt!==vt);if(!Rt)return null;var gn,Rn=Rt,Bn=Rt.x,kn=Rt.y,Ln=1/0;Nt=Rt;do Jt>=Nt.x&&Nt.x>=Bn&&Jt!==Nt.x&&I0(Yt<kn?Jt:sn,Yt,Bn,kn,Yt<kn?sn:Jt,Yt,Nt.x,Nt.y)&&(gn=Math.abs(Yt-Nt.y)/(Jt-Nt.x),P0(Nt,ct)&&(gn<Ln||gn===Ln&&(Nt.x>Rt.x||Nt.x===Rt.x&&_b(Rt,Nt)))&&(Rt=Nt,Ln=gn)),Nt=Nt.next;while(Nt!==Rn);return Rt}(rt,et);if(!it)return et;var at=dS(it,rt);return Gy(at,at.next),Gy(it,it.next)}function _b(rt,et){return Ql(rt.prev,rt,et.prev)<0&&Ql(et.next,rt,rt.next)<0}function zv(rt,et,it,at,ct){return(rt=1431655765&((rt=858993459&((rt=252645135&((rt=16711935&((rt=(rt-it)*ct|0)|rt<<8))|rt<<4))|rt<<2))|rt<<1))|(et=1431655765&((et=858993459&((et=252645135&((et=16711935&((et=(et-at)*ct|0)|et<<8))|et<<4))|et<<2))|et<<1))<<1}function k1(rt){var et=rt,it=rt;do(et.x<it.x||et.x===it.x&&et.y<it.y)&&(it=et),et=et.next;while(et!==rt);return it}function I0(rt,et,it,at,ct,vt,Rt,Nt){return(ct-Rt)*(et-Nt)>=(rt-Rt)*(vt-Nt)&&(rt-Rt)*(at-Nt)>=(it-Rt)*(et-Nt)&&(it-Rt)*(vt-Nt)>=(ct-Rt)*(at-Nt)}function V1(rt,et){return rt.next.i!==et.i&&rt.prev.i!==et.i&&!function(it,at){var ct=it;do{if(ct.i!==it.i&&ct.next.i!==it.i&&ct.i!==at.i&&ct.next.i!==at.i&&hS(ct,ct.next,it,at))return!0;ct=ct.next}while(ct!==it);return!1}(rt,et)&&(P0(rt,et)&&P0(et,rt)&&function(it,at){var ct=it,vt=!1,Rt=(it.x+at.x)/2,Nt=(it.y+at.y)/2;do ct.y>Nt!=ct.next.y>Nt&&ct.next.y!==ct.y&&Rt<(ct.next.x-ct.x)*(Nt-ct.y)/(ct.next.y-ct.y)+ct.x&&(vt=!vt),ct=ct.next;while(ct!==it);return vt}(rt,et)&&(Ql(rt.prev,rt,et.prev)||Ql(rt,et.prev,et))||Zv(rt,et)&&Ql(rt.prev,rt,rt.next)>0&&Ql(et.prev,et,et.next)>0)}function Ql(rt,et,it){return(et.y-rt.y)*(it.x-et.x)-(et.x-rt.x)*(it.y-et.y)}function Zv(rt,et){return rt.x===et.x&&rt.y===et.y}function hS(rt,et,it,at){var ct=Hv(Ql(rt,et,it)),vt=Hv(Ql(rt,et,at)),Rt=Hv(Ql(it,at,rt)),Nt=Hv(Ql(it,at,et));return ct!==vt&&Rt!==Nt||!(ct!==0||!Gv(rt,it,et))||!(vt!==0||!Gv(rt,at,et))||!(Rt!==0||!Gv(it,rt,at))||!(Nt!==0||!Gv(it,et,at))}function Gv(rt,et,it){return et.x<=Math.max(rt.x,it.x)&&et.x>=Math.min(rt.x,it.x)&&et.y<=Math.max(rt.y,it.y)&&et.y>=Math.min(rt.y,it.y)}function Hv(rt){return rt>0?1:rt<0?-1:0}function P0(rt,et){return Ql(rt.prev,rt,rt.next)<0?Ql(rt,et,rt.next)>=0&&Ql(rt,rt.prev,et)>=0:Ql(rt,et,rt.prev)<0||Ql(rt,rt.next,et)<0}function dS(rt,et){var it=new eF(rt.i,rt.x,rt.y),at=new eF(et.i,et.x,et.y),ct=rt.next,vt=et.prev;return rt.next=et,et.prev=rt,it.next=ct,ct.prev=it,at.next=it,it.prev=at,vt.next=at,at.prev=vt,at}function j_(rt,et,it,at){var ct=new eF(rt,et,it);return at?(ct.next=at.next,ct.prev=at,at.next.prev=ct,at.next=ct):(ct.prev=ct,ct.next=ct),ct}function z_(rt){rt.next.prev=rt.prev,rt.prev.next=rt.next,rt.prevZ&&(rt.prevZ.nextZ=rt.nextZ),rt.nextZ&&(rt.nextZ.prevZ=rt.prevZ)}function eF(rt,et,it){this.i=rt,this.x=et,this.y=it,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tF(rt,et,it,at){for(var ct=0,vt=et,Rt=it-at;vt<it;vt+=at)ct+=(rt[Rt]-rt[vt])*(rt[vt+1]+rt[Rt+1]),Rt=vt;return ct}function M1(rt,et,it,at,ct){fS(rt,et,it||0,at||rt.length-1,ct||N1)}function fS(rt,et,it,at,ct){for(;at>it;){if(at-it>600){var vt=at-it+1,Rt=et-it+1,Nt=Math.log(vt),Jt=.5*Math.exp(2*Nt/3),Yt=.5*Math.sqrt(Nt*Jt*(vt-Jt)/vt)*(Rt-vt/2<0?-1:1);fS(rt,et,Math.max(it,Math.floor(et-Rt*Jt/vt+Yt)),Math.min(at,Math.floor(et+(vt-Rt)*Jt/vt+Yt)),ct)}var sn=rt[et],dn=it,gn=at;for(Z_(rt,it,et),ct(rt[at],sn)>0&&Z_(rt,it,at);dn<gn;){for(Z_(rt,dn,gn),dn++,gn--;ct(rt[dn],sn)<0;)dn++;for(;ct(rt[gn],sn)>0;)gn--}ct(rt[it],sn)===0?Z_(rt,it,gn):Z_(rt,++gn,at),gn<=et&&(it=gn+1),et<=gn&&(at=gn-1)}}function Z_(rt,et,it){var at=rt[et];rt[et]=rt[it],rt[it]=at}function N1(rt,et){return rt<et?-1:rt>et?1:0}function nF(rt,et){const it=rt.length;if(it<=1)return[rt];const at=[];let ct,vt;for(let Rt=0;Rt<it;Rt++){const Nt=An(rt[Rt]);Nt!==0&&(rt[Rt].area=Math.abs(Nt),vt===void 0&&(vt=Nt<0),vt===Nt<0?(ct&&at.push(ct),ct=[rt[Rt]]):ct.push(rt[Rt]))}if(ct&&at.push(ct),et>1)for(let Rt=0;Rt<at.length;Rt++)at[Rt].length<=et||(M1(at[Rt],et,1,at[Rt].length-1,D1),at[Rt]=at[Rt].slice(0,et));return at}function D1(rt,et){return et.area-rt.area}function rF(rt,et,it){const at=it.patternDependencies;let ct=!1;for(const vt of et){const Rt=vt.paint.get(`${rt}-pattern`);Rt.isConstant()||(ct=!0);const Nt=Rt.constantOr(null);Nt&&(ct=!0,at[Nt.to]=!0,at[Nt.from]=!0)}return ct}function iF(rt,et,it,at,ct){const vt=ct.patternDependencies;for(const Rt of et){const Nt=Rt.paint.get(`${rt}-pattern`).value;if(Nt.kind!=="constant"){let Jt=Nt.evaluate({zoom:at-1},it,{},ct.availableImages),Yt=Nt.evaluate({zoom:at},it,{},ct.availableImages),sn=Nt.evaluate({zoom:at+1},it,{},ct.availableImages);Jt=Jt&&Jt.name?Jt.name:Jt,Yt=Yt&&Yt.name?Yt.name:Yt,sn=sn&&sn.name?sn.name:sn,vt[Jt]=!0,vt[Yt]=!0,vt[sn]=!0,it.patterns[Rt.id]={min:Jt,mid:Yt,max:sn}}}return it}L_.exports=jv,L_.exports.default=jv,jv.deviation=function(rt,et,it,at){var ct=et&&et.length,vt=Math.abs(tF(rt,0,ct?et[0]*it:rt.length,it));if(ct)for(var Rt=0,Nt=et.length;Rt<Nt;Rt++)vt-=Math.abs(tF(rt,et[Rt]*it,Rt<Nt-1?et[Rt+1]*it:rt.length,it));var Jt=0;for(Rt=0;Rt<at.length;Rt+=3){var Yt=at[Rt]*it,sn=at[Rt+1]*it,dn=at[Rt+2]*it;Jt+=Math.abs((rt[Yt]-rt[dn])*(rt[sn+1]-rt[Yt+1])-(rt[Yt]-rt[sn])*(rt[dn+1]-rt[Yt+1]))}return vt===0&&Jt===0?0:Math.abs((Jt-vt)/vt)},jv.flatten=function(rt){for(var et=rt[0][0].length,it={vertices:[],holes:[],dimensions:et},at=0,ct=0;ct<rt.length;ct++){for(var vt=0;vt<rt[ct].length;vt++)for(var Rt=0;Rt<et;Rt++)it.vertices.push(rt[ct][vt][Rt]);ct>0&&it.holes.push(at+=rt[ct-1].length)}return it};class Yv{constructor(et){this.zoom=et.zoom,this.overscaling=et.overscaling,this.layers=et.layers,this.layerIds=this.layers.map(it=>it.id),this.index=et.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new us,this.indexArray=new Xl,this.indexArray2=new vu,this.programConfigurations=new Cp(et.layers,et.zoom),this.segments=new Dl,this.segments2=new Dl,this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id),this.projection=et.projection}populate(et,it,at,ct){this.hasPattern=rF("fill",this.layers,it);const vt=this.layers[0].layout.get("fill-sort-key"),Rt=[];for(const{feature:Nt,id:Jt,index:Yt,sourceLayerIndex:sn}of et){const dn=this.layers[0]._featureFilter.needGeometry,gn=jy(Nt,dn);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),gn,at))continue;const Rn=vt?vt.evaluate(gn,{},at,it.availableImages):void 0,Bn={id:Jt,properties:Nt.properties,type:Nt.type,sourceLayerIndex:sn,index:Yt,geometry:dn?gn.geometry:Nu(Nt,at,ct),patterns:{},sortKey:Rn};Rt.push(Bn)}vt&&Rt.sort((Nt,Jt)=>Nt.sortKey-Jt.sortKey);for(const Nt of Rt){const{geometry:Jt,index:Yt,sourceLayerIndex:sn}=Nt;if(this.hasPattern){const dn=iF("fill",this.layers,Nt,this.zoom,it);this.patternFeatures.push(dn)}else this.addFeature(Nt,Jt,Yt,at,{},it.availableImages);it.featureIndex.insert(et[Yt].feature,Jt,Yt,sn,this.index)}}update(et,it,at,ct){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(et,it,this.stateDependentLayers,at,ct)}addFeatures(et,it,at,ct,vt){for(const Rt of this.patternFeatures)this.addFeature(Rt,Rt.geometry,Rt.index,it,at,ct)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(et){this.uploaded||(this.layoutVertexBuffer=et.createVertexBuffer(this.layoutVertexArray,B1),this.indexBuffer=et.createIndexBuffer(this.indexArray),this.indexBuffer2=et.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(et),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(et,it,at,ct,vt,Rt=[]){for(const Nt of nF(it,500)){let Jt=0;for(const Bn of Nt)Jt+=Bn.length;const Yt=this.segments.prepareSegment(Jt,this.layoutVertexArray,this.indexArray),sn=Yt.vertexLength,dn=[],gn=[];for(const Bn of Nt){if(Bn.length===0)continue;Bn!==Nt[0]&&gn.push(dn.length/2);const kn=this.segments2.prepareSegment(Bn.length,this.layoutVertexArray,this.indexArray2),Ln=kn.vertexLength;this.layoutVertexArray.emplaceBack(Bn[0].x,Bn[0].y),this.indexArray2.emplaceBack(Ln+Bn.length-1,Ln),dn.push(Bn[0].x),dn.push(Bn[0].y);for(let ir=1;ir<Bn.length;ir++)this.layoutVertexArray.emplaceBack(Bn[ir].x,Bn[ir].y),this.indexArray2.emplaceBack(Ln+ir-1,Ln+ir),dn.push(Bn[ir].x),dn.push(Bn[ir].y);kn.vertexLength+=Bn.length,kn.primitiveLength+=Bn.length}const Rn=L_.exports(dn,gn);for(let Bn=0;Bn<Rn.length;Bn+=3)this.indexArray.emplaceBack(sn+Rn[Bn],sn+Rn[Bn+1],sn+Rn[Bn+2]);Yt.vertexLength+=Jt,Yt.primitiveLength+=Rn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,et,at,vt,Rt,ct)}}wo(Yv,"FillBucket",{omit:["layers","patternFeatures"]});const O1=new co({"fill-sort-key":new Fr(Ir.layout_fill["fill-sort-key"])});var I1={paint:new co({"fill-antialias":new xr(Ir.paint_fill["fill-antialias"]),"fill-opacity":new Fr(Ir.paint_fill["fill-opacity"]),"fill-color":new Fr(Ir.paint_fill["fill-color"]),"fill-outline-color":new Fr(Ir.paint_fill["fill-outline-color"]),"fill-translate":new xr(Ir.paint_fill["fill-translate"]),"fill-translate-anchor":new xr(Ir.paint_fill["fill-translate-anchor"]),"fill-pattern":new yo(Ir.paint_fill["fill-pattern"])}),layout:O1};const P1=ho([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),W1=ho([{name:"a_centroid_pos",components:2,type:"Uint16"}]),pS=ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:gS}=P1;var $v={},L1=pt,mS=W0;function W0(rt,et,it,at,ct){this.properties={},this.extent=it,this.type=0,this._pbf=rt,this._geometry=-1,this._keys=at,this._values=ct,rt.readFields(Xv,this,et)}function Xv(rt,et,it){rt==1?et.id=it.readVarint():rt==2?function(at,ct){for(var vt=at.readVarint()+at.pos;at.pos<vt;){var Rt=ct._keys[at.readVarint()],Nt=ct._values[at.readVarint()];ct.properties[Rt]=Nt}}(it,et):rt==3?et.type=it.readVarint():rt==4&&(et._geometry=it.pos)}function J1(rt){for(var et,it,at=0,ct=0,vt=rt.length,Rt=vt-1;ct<vt;Rt=ct++)at+=((it=rt[Rt]).x-(et=rt[ct]).x)*(et.y+it.y);return at}W0.types=["Unknown","Point","LineString","Polygon"],W0.prototype.loadGeometry=function(){var rt=this._pbf;rt.pos=this._geometry;for(var et,it=rt.readVarint()+rt.pos,at=1,ct=0,vt=0,Rt=0,Nt=[];rt.pos<it;){if(ct<=0){var Jt=rt.readVarint();at=7&Jt,ct=Jt>>3}if(ct--,at===1||at===2)vt+=rt.readSVarint(),Rt+=rt.readSVarint(),at===1&&(et&&Nt.push(et),et=[]),et.push(new L1(vt,Rt));else{if(at!==7)throw new Error("unknown command "+at);et&&et.push(et[0].clone())}}return et&&Nt.push(et),Nt},W0.prototype.bbox=function(){var rt=this._pbf;rt.pos=this._geometry;for(var et=rt.readVarint()+rt.pos,it=1,at=0,ct=0,vt=0,Rt=1/0,Nt=-1/0,Jt=1/0,Yt=-1/0;rt.pos<et;){if(at<=0){var sn=rt.readVarint();it=7&sn,at=sn>>3}if(at--,it===1||it===2)(ct+=rt.readSVarint())<Rt&&(Rt=ct),ct>Nt&&(Nt=ct),(vt+=rt.readSVarint())<Jt&&(Jt=vt),vt>Yt&&(Yt=vt);else if(it!==7)throw new Error("unknown command "+it)}return[Rt,Jt,Nt,Yt]},W0.prototype.toGeoJSON=function(rt,et,it){var at,ct,vt=this.extent*Math.pow(2,it),Rt=this.extent*rt,Nt=this.extent*et,Jt=this.loadGeometry(),Yt=W0.types[this.type];function sn(Rn){for(var Bn=0;Bn<Rn.length;Bn++){var kn=Rn[Bn];Rn[Bn]=[360*(kn.x+Rt)/vt-180,360/Math.PI*Math.atan(Math.exp((180-360*(kn.y+Nt)/vt)*Math.PI/180))-90]}}switch(this.type){case 1:var dn=[];for(at=0;at<Jt.length;at++)dn[at]=Jt[at][0];sn(Jt=dn);break;case 2:for(at=0;at<Jt.length;at++)sn(Jt[at]);break;case 3:for(Jt=function(Rn){var Bn=Rn.length;if(Bn<=1)return[Rn];for(var kn,Ln,ir=[],_r=0;_r<Bn;_r++){var rr=J1(Rn[_r]);rr!==0&&(Ln===void 0&&(Ln=rr<0),Ln===rr<0?(kn&&ir.push(kn),kn=[Rn[_r]]):kn.push(Rn[_r]))}return kn&&ir.push(kn),ir}(Jt),at=0;at<Jt.length;at++)for(ct=0;ct<Jt[at].length;ct++)sn(Jt[at][ct])}Jt.length===1?Jt=Jt[0]:Yt="Multi"+Yt;var gn={type:"Feature",geometry:{type:Yt,coordinates:Jt},properties:this.properties};return"id"in this&&(gn.id=this.id),gn};var j1=mS,yS=_S;function _S(rt,et){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=rt,this._keys=[],this._values=[],this._features=[],rt.readFields(z1,this,et),this.length=this._features.length}function z1(rt,et,it){rt===15?et.version=it.readVarint():rt===1?et.name=it.readString():rt===5?et.extent=it.readVarint():rt===2?et._features.push(it.pos):rt===3?et._keys.push(it.readString()):rt===4&&et._values.push(function(at){for(var ct=null,vt=at.readVarint()+at.pos;at.pos<vt;){var Rt=at.readVarint()>>3;ct=Rt===1?at.readString():Rt===2?at.readFloat():Rt===3?at.readDouble():Rt===4?at.readVarint64():Rt===5?at.readVarint():Rt===6?at.readSVarint():Rt===7?at.readBoolean():null}return ct}(it))}_S.prototype.feature=function(rt){if(rt<0||rt>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[rt];var et=this._pbf.readVarint()+this._pbf.pos;return new j1(this._pbf,et,this.extent,this._keys,this._values)};var Z1=yS;function G1(rt,et,it){if(rt===3){var at=new Z1(it,it.readVarint()+it.pos);at.length&&(et[at.name]=at)}}var oF=$v.VectorTile=function(rt,et){this.layers=rt.readFields(G1,{},et)},qv=$v.VectorTileFeature=mS;function Kv(rt,et,it,at){const ct=[],vt=at===0?(Rt,Nt,Jt,Yt,sn,dn)=>{Rt.push(new pt(dn,Jt+(dn-Nt)/(Yt-Nt)*(sn-Jt)))}:(Rt,Nt,Jt,Yt,sn,dn)=>{Rt.push(new pt(Nt+(dn-Jt)/(sn-Jt)*(Yt-Nt),dn))};for(const Rt of rt){const Nt=[];for(const Jt of Rt){if(Jt.length<=2)continue;const Yt=[];for(let gn=0;gn<Jt.length-1;gn++){const Rn=Jt[gn].x,Bn=Jt[gn].y,kn=Jt[gn+1].x,Ln=Jt[gn+1].y,ir=at===0?Rn:Bn,_r=at===0?kn:Ln;ir<et?_r>et&&vt(Yt,Rn,Bn,kn,Ln,et):ir>it?_r<it&&vt(Yt,Rn,Bn,kn,Ln,it):Yt.push(Jt[gn]),_r<et&&ir>=et&&vt(Yt,Rn,Bn,kn,Ln,et),_r>it&&ir<=it&&vt(Yt,Rn,Bn,kn,Ln,it)}let sn=Jt[Jt.length-1];const dn=at===0?sn.x:sn.y;dn>=et&&dn<=it&&Yt.push(sn),Yt.length&&(sn=Yt[Yt.length-1],Yt[0].x===sn.x&&Yt[0].y===sn.y||Yt.push(Yt[0]),Nt.push(Yt))}Nt.length&&ct.push(Nt)}return ct}$v.VectorTileLayer=yS;const H1=qv.types,eU=Math.pow(2,13);function G_(rt,et,it,at,ct,vt,Rt,Nt){rt.emplaceBack((et<<1)+Rt,(it<<1)+vt,(Math.floor(at*eU)<<1)+ct,Math.round(Nt))}function L0(rt,et,it){rt.emplaceBack(et.x,et.y,et.z,it[0]*16384,it[1]*16384,it[2]*16384)}class sF{constructor(){this.acc=new pt(0,0),this.polyCount=[]}startRing(et){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new pt(et.x,et.y),this.max=new pt(et.x,et.y))}append(et,it){this.currentPolyCount.edges++,this.acc._add(et);const at=this.min,ct=this.max;et.x<at.x?at.x=et.x:et.x>ct.x&&(ct.x=et.x),et.y<at.y?at.y=et.y:et.y>ct.y&&(ct.y=et.y),((et.x===0||et.x===zo)&&et.x===it.x)!=((et.y===0||et.y===zo)&&et.y===it.y)&&this.processBorderOverlap(et,it),it.x<0!=et.x<0&&this.addBorderIntersection(0,Ss(it.y,et.y,(0-it.x)/(et.x-it.x))),it.x>zo!=et.x>zo&&this.addBorderIntersection(1,Ss(it.y,et.y,(zo-it.x)/(et.x-it.x))),it.y<0!=et.y<0&&this.addBorderIntersection(2,Ss(it.x,et.x,(0-it.y)/(et.y-it.y))),it.y>zo!=et.y>zo&&this.addBorderIntersection(3,Ss(it.x,et.x,(zo-it.y)/(et.y-it.y)))}addBorderIntersection(et,it){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const at=this.borders[et];it<at[0]&&(at[0]=it),it>at[1]&&(at[1]=it)}processBorderOverlap(et,it){if(et.x===it.x){if(et.y===it.y)return;const at=et.x===0?0:1;this.addBorderIntersection(at,it.y),this.addBorderIntersection(at,et.y)}else{const at=et.y===0?2:3;this.addBorderIntersection(at,it.x),this.addBorderIntersection(at,et.x)}}centroid(){const et=this.polyCount.reduce((it,at)=>it+at.edges,0);return et!==0?this.acc.div(et)._round():new pt(0,0)}span(){return new pt(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((et,it)=>et+ +(it[0]!==Number.MAX_VALUE),0)}}class Hy{constructor(et){this.zoom=et.zoom,this.canonical=et.canonical,this.overscaling=et.overscaling,this.layers=et.layers,this.layerIds=this.layers.map(it=>it.id),this.index=et.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=et.projection,this.layoutVertexArray=new Ps,this.centroidVertexArray=new Qv,this.indexArray=new Xl,this.programConfigurations=new Cp(et.layers,et.zoom),this.segments=new Dl,this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id),this.enableTerrain=et.enableTerrain}populate(et,it,at,ct){this.features=[],this.hasPattern=rF("fill-extrusion",this.layers,it),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(vt){const Rt=Math.exp(Math.PI*(1-vt.y/(1<<vt.z)*2));return 80150034*Rt/(Rt*Rt+1)/zo/(1<<vt.z)}(at),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:vt,id:Rt,index:Nt,sourceLayerIndex:Jt}of et){const Yt=this.layers[0]._featureFilter.needGeometry,sn=jy(vt,Yt);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),sn,at))continue;const dn={id:Rt,sourceLayerIndex:Jt,index:Nt,geometry:Yt?sn.geometry:Nu(vt,at,ct),properties:vt.properties,type:vt.type,patterns:{}},gn=this.layoutVertexArray.length;this.hasPattern?this.features.push(iF("fill-extrusion",this.layers,dn,this.zoom,it)):this.addFeature(dn,dn.geometry,Nt,at,{},it.availableImages,ct),it.featureIndex.insert(vt,dn.geometry,Nt,Jt,this.index,gn)}this.sortBorders()}addFeatures(et,it,at,ct,vt){for(const Rt of this.features){const{geometry:Nt}=Rt;this.addFeature(Rt,Nt,Rt.index,it,at,ct,vt)}this.sortBorders()}update(et,it,at,ct){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(et,it,this.stateDependentLayers,at,ct)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(et){this.uploaded||(this.layoutVertexBuffer=et.createVertexBuffer(this.layoutVertexArray,gS),this.indexBuffer=et.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=et.createVertexBuffer(this.layoutVertexExtArray,pS.members,!0))),this.programConfigurations.upload(et),this.uploaded=!0}uploadCentroid(et){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=et.createVertexBuffer(this.centroidVertexArray,W1.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(et,it,at,ct,vt,Rt,Nt){const Jt=[new pt(0,0),new pt(zo,zo)],Yt=Nt.projection,sn=Yt.name==="globe",dn=this.enableTerrain&&!sn?new sF:null,gn=H1[et.type]==="Polygon";sn&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new pp);const Rn=nF(it,500);for(let ir=Rn.length-1;ir>=0;ir--){const _r=Rn[ir];(_r.length===0||(Bn=_r[0]).every(rr=>rr.x<=0)||Bn.every(rr=>rr.x>=zo)||Bn.every(rr=>rr.y<=0)||Bn.every(rr=>rr.y>=zo))&&Rn.splice(ir,1)}var Bn;let kn;if(sn)kn=H_(Rn,Jt,ct);else{kn=[];for(const ir of Rn)kn.push({polygon:ir,bounds:Jt})}const Ln=gn?this.edgeRadius:0;for(const{polygon:ir,bounds:_r}of kn){let rr=0,fr=0;for(const pr of ir)gn&&!pr[0].equals(pr[pr.length-1])&&pr.push(pr[0]),fr+=gn?pr.length-1:pr.length;const Ur=this.segments.prepareSegment((gn?5:4)*fr,this.layoutVertexArray,this.indexArray);if(gn){const pr=[],Vr=[];rr=Ur.vertexLength;for(const Jr of ir){let so,Dr;Jr.length&&Jr!==ir[0]&&Vr.push(pr.length/2),so=Jr[1].sub(Jr[0])._perp()._unit();for(let Hr=1;Hr<Jr.length;Hr++){const $r=Jr[Hr],eo=Jr[Hr===Jr.length-1?1:Hr+1];let{x:lo,y:Or}=$r;if(Ln){Dr=eo.sub($r)._perp()._unit();const _o=so.add(Dr)._unit(),jo=Ln*Math.min(4,1/(so.x*_o.x+so.y*_o.y));lo+=jo*_o.x,Or+=jo*_o.y,so=Dr}G_(this.layoutVertexArray,lo,Or,0,0,1,1,0),Ur.vertexLength++,pr.push($r.x,$r.y),sn&&L0(this.layoutVertexExtArray,Yt.projectTilePoint(lo,Or,ct),Yt.upVector(ct,lo,Or))}}const Cr=L_.exports(pr,Vr);for(let Jr=0;Jr<Cr.length;Jr+=3)this.indexArray.emplaceBack(rr+Cr[Jr],rr+Cr[Jr+2],rr+Cr[Jr+1]),Ur.primitiveLength++}for(const pr of ir){dn&&pr.length&&dn.startRing(pr[0]);let Vr,Cr,Jr,so=pr.length>4&&US(pr[pr.length-2],pr[0],pr[1]),Dr=Ln?vS(pr[pr.length-2],pr[0],pr[1],Ln):0;Cr=pr[1].sub(pr[0])._perp()._unit();let Hr=!0;for(let $r=1,eo=0;$r<pr.length;$r++){let lo=pr[$r-1],Or=pr[$r];const _o=pr[$r===pr.length-1?1:$r+1];if(dn&&gn&&dn.currentPolyCount.top++,uF(Or,lo,_r)){Ln&&(Cr=_o.sub(Or)._perp()._unit(),Hr=!Hr);continue}dn&&dn.append(Or,lo);const jo=Or.sub(lo)._perp(),bo=jo.x/(Math.abs(jo.x)+Math.abs(jo.y)),Mo=jo.y>0?1:0,vo=lo.dist(Or);if(eo+vo>32768&&(eo=0),Ln){Jr=_o.sub(Or)._perp()._unit();let xs=lF(lo,Or,_o,aF(Cr,Jr),Ln);isNaN(xs)&&(xs=0);const ns=Or.sub(lo)._unit();lo=lo.add(ns.mult(Dr))._round(),Or=Or.add(ns.mult(-xs))._round(),Dr=xs,Cr=Jr}const Zo=Ur.vertexLength,is=pr.length>4&&US(lo,Or,_o);let cs=bS(eo,so,Hr);if(G_(this.layoutVertexArray,lo.x,lo.y,bo,Mo,0,0,cs),G_(this.layoutVertexArray,lo.x,lo.y,bo,Mo,0,1,cs),eo+=vo,cs=bS(eo,is,!Hr),so=is,G_(this.layoutVertexArray,Or.x,Or.y,bo,Mo,0,0,cs),G_(this.layoutVertexArray,Or.x,Or.y,bo,Mo,0,1,cs),Ur.vertexLength+=4,this.indexArray.emplaceBack(Zo+0,Zo+1,Zo+2),this.indexArray.emplaceBack(Zo+1,Zo+3,Zo+2),Ur.primitiveLength+=2,Ln){const xs=rr+($r===1?pr.length-2:$r-2),ns=$r===1?rr:xs+1;if(this.indexArray.emplaceBack(Zo+1,xs,Zo+3),this.indexArray.emplaceBack(xs,ns,Zo+3),Ur.primitiveLength+=2,Vr===void 0&&(Vr=Zo),!uF(_o,pr[$r],_r)){const yl=$r===pr.length-1?Vr:Ur.vertexLength;this.indexArray.emplaceBack(Zo+2,Zo+3,yl),this.indexArray.emplaceBack(Zo+3,yl+1,yl),this.indexArray.emplaceBack(Zo+3,ns,yl+1),Ur.primitiveLength+=3}Hr=!Hr}if(sn){const xs=this.layoutVertexExtArray,ns=Yt.projectTilePoint(lo.x,lo.y,ct),yl=Yt.projectTilePoint(Or.x,Or.y,ct),ms=Yt.upVector(ct,lo.x,lo.y),Fs=Yt.upVector(ct,Or.x,Or.y);L0(xs,ns,ms),L0(xs,ns,ms),L0(xs,yl,Fs),L0(xs,yl,Fs)}}gn&&(rr+=pr.length-1)}}if(dn&&dn.polyCount.length>0){if(dn.borders){dn.vertexArrayOffset=this.centroidVertexArray.length;const ir=dn.borders,_r=this.featuresOnBorder.push(dn)-1;for(let rr=0;rr<4;rr++)ir[rr][0]!==Number.MAX_VALUE&&this.borders[rr].push(_r)}this.encodeCentroid(dn.borders?void 0:dn.centroid(),dn)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,et,at,vt,Rt,ct)}sortBorders(){for(let et=0;et<4;et++)this.borders[et].sort((it,at)=>this.featuresOnBorder[it].borders[et][0]-this.featuresOnBorder[at].borders[et][0])}encodeCentroid(et,it,at=!0){let ct,vt;if(et)if(et.y!==0){const Nt=it.span()._mult(this.tileToMeter);ct=(Math.max(et.x,1)<<3)+Math.min(7,Math.round(Nt.x/10)),vt=(Math.max(et.y,1)<<3)+Math.min(7,Math.round(Nt.y/10))}else ct=Math.ceil(7*(et.x+450)),vt=0;else ct=0,vt=+at;let Rt=at?this.centroidVertexArray.length:it.vertexArrayOffset;for(const Nt of it.polyCount){at&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*Nt.edges+Nt.top);for(let Jt=0;Jt<Nt.top;Jt++)this.centroidVertexArray.emplace(Rt++,ct,vt);for(let Jt=0;Jt<2*Nt.edges;Jt++)this.centroidVertexArray.emplace(Rt++,0,vt),this.centroidVertexArray.emplace(Rt++,ct,vt)}}}function aF(rt,et){const it=rt.add(et)._unit();return rt.x*it.x+rt.y*it.y}function vS(rt,et,it,at){const ct=et.sub(rt)._perp()._unit(),vt=it.sub(et)._perp()._unit();return lF(rt,et,it,aF(ct,vt),at)}function lF(rt,et,it,at,ct){const vt=Math.sqrt(1-at*at);return Math.min(rt.dist(et)/3,et.dist(it)/3,ct*vt/at)}function uF(rt,et,it){return rt.x<it[0].x&&et.x<it[0].x||rt.x>it[1].x&&et.x>it[1].x||rt.y<it[0].y&&et.y<it[0].y||rt.y>it[1].y&&et.y>it[1].y}function US(rt,et,it){if(rt.x<0||rt.x>=zo||et.x<0||et.x>=zo||it.x<0||it.x>=zo)return!1;const at=it.sub(et),ct=at.perp(),vt=rt.sub(et);return(at.x*vt.x+at.y*vt.y)/Math.sqrt((at.x*at.x+at.y*at.y)*(vt.x*vt.x+vt.y*vt.y))>-.866&&ct.x*vt.x+ct.y*vt.y<0}function bS(rt,et,it){const at=et?2|rt:-3&rt;return it?1|at:-2&at}function FS(){const rt=Math.PI/32,et=Math.tan(rt),it=M_;return it*Math.sqrt(1+2*et*et)-it}function H_(rt,et,it){const at=1<<it.z,ct=mp(it.x/at),vt=mp((it.x+1)/at),Rt=Kl(it.y/at),Nt=Kl((it.y+1)/at);return function(Jt,Yt,sn,dn,gn=0,Rn){const Bn=[];if(!Jt.length||!sn||!dn)return Bn;const kn=(pr,Vr)=>{for(const Cr of pr)Bn.push({polygon:Cr,bounds:Vr})},Ln=Math.ceil(Math.log2(sn)),ir=Math.ceil(Math.log2(dn)),_r=Ln-ir,rr=[];for(let pr=0;pr<Math.abs(_r);pr++)rr.push(_r>0?0:1);for(let pr=0;pr<Math.min(Ln,ir);pr++)rr.push(0),rr.push(1);let fr=Jt;if(fr=Kv(fr,Yt[0].y-gn,Yt[1].y+gn,1),fr=Kv(fr,Yt[0].x-gn,Yt[1].x+gn,0),!fr.length)return Bn;const Ur=[];for(rr.length?Ur.push({polygons:fr,bounds:Yt,depth:0}):kn(fr,Yt);Ur.length;){const pr=Ur.pop(),Vr=pr.depth,Cr=rr[Vr],Jr=pr.bounds[0],so=pr.bounds[1],Dr=Cr===0?Jr.x:Jr.y,Hr=Cr===0?so.x:so.y,$r=Rn?Rn(Cr,Dr,Hr):.5*(Dr+Hr),eo=Kv(pr.polygons,Dr-gn,$r+gn,Cr),lo=Kv(pr.polygons,$r-gn,Hr+gn,Cr);if(eo.length){const Or=[Jr,new pt(Cr===0?$r:so.x,Cr===1?$r:so.y)];rr.length>Vr+1?Ur.push({polygons:eo,bounds:Or,depth:Vr+1}):kn(eo,Or)}if(lo.length){const Or=[new pt(Cr===0?$r:Jr.x,Cr===1?$r:Jr.y),so];rr.length>Vr+1?Ur.push({polygons:lo,bounds:Or,depth:Vr+1}):kn(lo,Or)}}return Bn}(rt,et,Math.ceil((vt-ct)/11.25),Math.ceil((Rt-Nt)/11.25),1,(Jt,Yt,sn)=>{if(Jt===0)return .5*(Yt+sn);{const dn=Kl((it.y+Yt/zo)/at);return(qp(.5*(Kl((it.y+sn/zo)/at)+dn))*at-it.y)*zo}})}wo(Hy,"FillExtrusionBucket",{omit:["layers","features"]}),wo(sF,"PartMetadata");const tU=new co({"fill-extrusion-edge-radius":new xr(Ir["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Y1={paint:new co({"fill-extrusion-opacity":new xr(Ir["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Fr(Ir["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xr(Ir["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xr(Ir["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new yo(Ir["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Fr(Ir["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Fr(Ir["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new xr(Ir["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new xr(Ir["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new xr(Ir["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:tU};function SS(rt,et,it){var at=2*Math.PI*6378137/256/Math.pow(2,it);return[rt*at-2*Math.PI*6378137/2,et*at-2*Math.PI*6378137/2]}class J0{constructor(et,it,at){this.z=et,this.x=it,this.y=at,this.key=Y_(0,et,et,it,at)}equals(et){return this.z===et.z&&this.x===et.x&&this.y===et.y}url(et,it){const at=function(vt,Rt,Nt){var Jt=SS(256*vt,256*(Rt=Math.pow(2,Nt)-Rt-1),Nt),Yt=SS(256*(vt+1),256*(Rt+1),Nt);return Jt[0]+","+Jt[1]+","+Yt[0]+","+Yt[1]}(this.x,this.y,this.z),ct=function(vt,Rt,Nt){let Jt,Yt="";for(let sn=vt;sn>0;sn--)Jt=1<<sn-1,Yt+=(Rt&Jt?1:0)+(Nt&Jt?2:0);return Yt}(this.z,this.x,this.y);return et[(this.x+this.y)%et.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(it==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ct).replace("{bbox-epsg-3857}",at)}toString(){return`${this.z}/${this.x}/${this.y}`}}class cF{constructor(et,it){this.wrap=et,this.canonical=it,this.key=Y_(et,it.z,it.z,it.x,it.y)}}class Cu{constructor(et,it,at,ct,vt){this.overscaledZ=et,this.wrap=it,this.canonical=new J0(at,+ct,+vt),this.key=it===0&&et===at?this.canonical.key:Y_(it,et,at,ct,vt)}equals(et){return this.overscaledZ===et.overscaledZ&&this.wrap===et.wrap&&this.canonical.equals(et.canonical)}scaledTo(et){const it=this.canonical.z-et;return et>this.canonical.z?new Cu(et,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Cu(et,this.wrap,et,this.canonical.x>>it,this.canonical.y>>it)}calculateScaledKey(et,it=!0){if(this.overscaledZ===et&&it)return this.key;if(et>this.canonical.z)return Y_(this.wrap*+it,et,this.canonical.z,this.canonical.x,this.canonical.y);{const at=this.canonical.z-et;return Y_(this.wrap*+it,et,et,this.canonical.x>>at,this.canonical.y>>at)}}isChildOf(et){if(et.wrap!==this.wrap)return!1;const it=this.canonical.z-et.canonical.z;return et.overscaledZ===0||et.overscaledZ<this.overscaledZ&&et.canonical.x===this.canonical.x>>it&&et.canonical.y===this.canonical.y>>it}children(et){if(this.overscaledZ>=et)return[new Cu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const it=this.canonical.z+1,at=2*this.canonical.x,ct=2*this.canonical.y;return[new Cu(it,this.wrap,it,at,ct),new Cu(it,this.wrap,it,at+1,ct),new Cu(it,this.wrap,it,at,ct+1),new Cu(it,this.wrap,it,at+1,ct+1)]}isLessThan(et){return this.wrap<et.wrap||!(this.wrap>et.wrap)&&(this.overscaledZ<et.overscaledZ||!(this.overscaledZ>et.overscaledZ)&&(this.canonical.x<et.canonical.x||!(this.canonical.x>et.canonical.x)&&this.canonical.y<et.canonical.y))}wrapped(){return new Cu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(et){return new Cu(this.overscaledZ,et,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new cF(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Y_(rt,et,it,at,ct){const vt=1<<Math.min(it,22);let Rt=vt*(ct%vt)+at%vt;return rt&&it<22&&(Rt+=vt*vt*((rt<0?-2*rt-1:2*rt)%(1<<2*(22-it)))),16*(32*Rt+it)+(et-it)}wo(J0,"CanonicalTileID"),wo(Cu,"OverscaledTileID",{omit:["projMatrix"]});class j0 extends pt{constructor(et,it,at){super(et,it),this.z=at}}function $_(rt,et){return rt.x*et.x+rt.y*et.y}function RS(rt,et){if(rt.length===1){let it=0;const at=et[it++];let ct;for(;!ct||at.equals(ct);)if(ct=et[it++],!ct)return 1/0;for(;it<et.length;it++){const vt=et[it],Rt=rt[0],Nt=ct.sub(at),Jt=vt.sub(at),Yt=Rt.sub(at),sn=$_(Nt,Nt),dn=$_(Nt,Jt),gn=$_(Jt,Jt),Rn=$_(Yt,Nt),Bn=$_(Yt,Jt),kn=sn*gn-dn*dn,Ln=(gn*Rn-dn*Bn)/kn,ir=(sn*Bn-dn*Rn)/kn,_r=at.z*(1-Ln-ir)+ct.z*Ln+vt.z*ir;if(isFinite(_r))return _r}return 1/0}{let it=1/0;for(const at of et)it=Math.min(it,at.z);return it}}function wS(rt,et,it,at,ct,vt,Rt,Nt){const Jt=Rt*ct.getElevationAt(rt,et,!0,!0),Yt=vt[0]!==0,sn=Yt?vt[1]===0?Rt*(vt[0]/7-450):Rt*function(dn,gn,Rn){const Bn=Math.floor(gn[0]/8),kn=Math.floor(gn[1]/8),Ln=10*(gn[0]-8*Bn),ir=10*(gn[1]-8*kn),_r=dn.getElevationAt(Bn,kn,!0,!0),rr=dn.getMeterToDEM(Rn),fr=Math.floor(.5*(Ln*rr-1)),Ur=Math.floor(.5*(ir*rr-1)),pr=dn.tileCoordToPixel(Bn,kn),Vr=2*fr+1,Cr=2*Ur+1,Jr=function(lo,Or,_o,jo,bo){return[lo.getElevationAtPixel(Or,_o,!0),lo.getElevationAtPixel(Or+bo,_o,!0),lo.getElevationAtPixel(Or,_o+bo,!0),lo.getElevationAtPixel(Or+jo,_o+bo,!0)]}(dn,pr.x-fr,pr.y-Ur,Vr,Cr),so=Math.abs(Jr[0]-Jr[1]),Dr=Math.abs(Jr[2]-Jr[3]),Hr=Math.abs(Jr[0]-Jr[2])+Math.abs(Jr[1]-Jr[3]),$r=Math.min(.25,.5*rr*(so+Dr)/Vr),eo=Math.min(.25,.5*rr*Hr/Cr);return _r+Math.max($r*Ln,eo*ir)}(ct,vt,Nt):Jt;return{base:Jt+(it===0)?-1:it,top:Yt?Math.max(sn+at,Jt+it+2):Jt+at}}const $1=ho([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:X1}=$1,q1=ho([{name:"a_packed",components:4,type:"Float32"}]),{members:K1}=q1,eR=qv.types,tR=Math.cos(Math.PI/180*37.5);class _d{constructor(et){this.zoom=et.zoom,this.overscaling=et.overscaling,this.layers=et.layers,this.layerIds=this.layers.map(it=>it.id),this.index=et.index,this.projection=et.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(it=>{this.gradients[it.id]={}}),this.layoutVertexArray=new As,this.layoutVertexArray2=new Nl,this.indexArray=new Xl,this.programConfigurations=new Cp(et.layers,et.zoom),this.segments=new Dl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(it=>it.isStateDependent()).map(it=>it.id)}populate(et,it,at,ct){this.hasPattern=rF("line",this.layers,it);const vt=this.layers[0].layout.get("line-sort-key"),Rt=[];for(const{feature:sn,id:dn,index:gn,sourceLayerIndex:Rn}of et){const Bn=this.layers[0]._featureFilter.needGeometry,kn=jy(sn,Bn);if(!this.layers[0]._featureFilter.filter(new tr(this.zoom),kn,at))continue;const Ln=vt?vt.evaluate(kn,{},at):void 0,ir={id:dn,properties:sn.properties,type:sn.type,sourceLayerIndex:Rn,index:gn,geometry:Bn?kn.geometry:Nu(sn,at,ct),patterns:{},sortKey:Ln};Rt.push(ir)}vt&&Rt.sort((sn,dn)=>sn.sortKey-dn.sortKey);const{lineAtlas:Nt,featureIndex:Jt}=it,Yt=this.addConstantDashes(Nt);for(const sn of Rt){const{geometry:dn,index:gn,sourceLayerIndex:Rn}=sn;if(Yt&&this.addFeatureDashes(sn,Nt),this.hasPattern){const Bn=iF("line",this.layers,sn,this.zoom,it);this.patternFeatures.push(Bn)}else this.addFeature(sn,dn,gn,at,Nt.positions,it.availableImages);Jt.insert(et[gn].feature,dn,gn,Rn,this.index)}}addConstantDashes(et){let it=!1;for(const at of this.layers){const ct=at.paint.get("line-dasharray").value,vt=at.layout.get("line-cap").value;if(ct.kind!=="constant"||vt.kind!=="constant")it=!0;else{const Rt=vt.value,Nt=ct.value;if(!Nt)continue;et.addDash(Nt.from,Rt),et.addDash(Nt.to,Rt),Nt.other&&et.addDash(Nt.other,Rt)}}return it}addFeatureDashes(et,it){const at=this.zoom;for(const ct of this.layers){const vt=ct.paint.get("line-dasharray").value,Rt=ct.layout.get("line-cap").value;if(vt.kind==="constant"&&Rt.kind==="constant")continue;let Nt,Jt,Yt,sn,dn,gn;if(vt.kind==="constant"){const Ln=vt.value;if(!Ln)continue;Nt=Ln.other||Ln.to,Jt=Ln.to,Yt=Ln.from}else Nt=vt.evaluate({zoom:at-1},et),Jt=vt.evaluate({zoom:at},et),Yt=vt.evaluate({zoom:at+1},et);Rt.kind==="constant"?sn=dn=gn=Rt.value:(sn=Rt.evaluate({zoom:at-1},et),dn=Rt.evaluate({zoom:at},et),gn=Rt.evaluate({zoom:at+1},et)),it.addDash(Nt,sn),it.addDash(Jt,dn),it.addDash(Yt,gn);const Rn=it.getKey(Nt,sn),Bn=it.getKey(Jt,dn),kn=it.getKey(Yt,gn);et.patterns[ct.id]={min:Rn,mid:Bn,max:kn}}}update(et,it,at,ct){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(et,it,this.stateDependentLayers,at,ct)}addFeatures(et,it,at,ct,vt){for(const Rt of this.patternFeatures)this.addFeature(Rt,Rt.geometry,Rt.index,it,at,ct)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(et){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=et.createVertexBuffer(this.layoutVertexArray2,K1)),this.layoutVertexBuffer=et.createVertexBuffer(this.layoutVertexArray,X1),this.indexBuffer=et.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(et),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(et){if(et.properties&&et.properties.hasOwnProperty("mapbox_clip_start")&&et.properties.hasOwnProperty("mapbox_clip_end"))return{start:+et.properties.mapbox_clip_start,end:+et.properties.mapbox_clip_end}}addFeature(et,it,at,ct,vt,Rt){const Nt=this.layers[0].layout,Jt=Nt.get("line-join").evaluate(et,{}),Yt=Nt.get("line-cap").evaluate(et,{}),sn=Nt.get("line-miter-limit"),dn=Nt.get("line-round-limit");this.lineClips=this.lineFeatureClips(et);for(const gn of it)this.addLine(gn,et,Jt,Yt,sn,dn);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,et,at,vt,Rt,ct)}addLine(et,it,at,ct,vt,Rt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ir=0;ir<et.length-1;ir++)this.totalDistance+=et[ir].dist(et[ir+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const Nt=eR[it.type]==="Polygon";let Jt=et.length;for(;Jt>=2&&et[Jt-1].equals(et[Jt-2]);)Jt--;let Yt=0;for(;Yt<Jt-1&&et[Yt].equals(et[Yt+1]);)Yt++;if(Jt<(Nt?3:2))return;at==="bevel"&&(vt=1.05);const sn=this.overscaling<=16?122880/(512*this.overscaling):0,dn=this.segments.prepareSegment(10*Jt,this.layoutVertexArray,this.indexArray);let gn,Rn,Bn,kn,Ln;this.e1=this.e2=-1,Nt&&(gn=et[Jt-2],Ln=et[Yt].sub(gn)._unit()._perp());for(let ir=Yt;ir<Jt;ir++){if(Bn=ir===Jt-1?Nt?et[Yt+1]:void 0:et[ir+1],Bn&&et[ir].equals(Bn))continue;Ln&&(kn=Ln),gn&&(Rn=gn),gn=et[ir],Ln=Bn?Bn.sub(gn)._unit()._perp():kn,kn=kn||Ln;let _r=kn.add(Ln);_r.x===0&&_r.y===0||_r._unit();const rr=kn.x*Ln.x+kn.y*Ln.y,fr=_r.x*Ln.x+_r.y*Ln.y,Ur=fr!==0?1/fr:1/0,pr=2*Math.sqrt(2-2*fr),Vr=fr<tR&&Rn&&Bn,Cr=kn.x*Ln.y-kn.y*Ln.x>0;if(Vr&&ir>Yt){const Dr=gn.dist(Rn);if(Dr>2*sn){const Hr=gn.sub(gn.sub(Rn)._mult(sn/Dr)._round());this.updateDistance(Rn,Hr),this.addCurrentVertex(Hr,kn,0,0,dn),Rn=Hr}}const Jr=Rn&&Bn;let so=Jr?at:Nt?"butt":ct;if(Jr&&so==="round"&&(Ur<Rt?so="miter":Ur<=2&&(so="fakeround")),so==="miter"&&Ur>vt&&(so="bevel"),so==="bevel"&&(Ur>2&&(so="flipbevel"),Ur<vt&&(so="miter")),Rn&&this.updateDistance(Rn,gn),so==="miter")_r._mult(Ur),this.addCurrentVertex(gn,_r,0,0,dn);else if(so==="flipbevel"){if(Ur>100)_r=Ln.mult(-1);else{const Dr=Ur*kn.add(Ln).mag()/kn.sub(Ln).mag();_r._perp()._mult(Dr*(Cr?-1:1))}this.addCurrentVertex(gn,_r,0,0,dn),this.addCurrentVertex(gn,_r.mult(-1),0,0,dn)}else if(so==="bevel"||so==="fakeround"){const Dr=-Math.sqrt(Ur*Ur-1),Hr=Cr?Dr:0,$r=Cr?0:Dr;if(Rn&&this.addCurrentVertex(gn,kn,Hr,$r,dn),so==="fakeround"){const eo=Math.round(180*pr/Math.PI/20);for(let lo=1;lo<eo;lo++){let Or=lo/eo;if(Or!==.5){const jo=Or-.5;Or+=Or*jo*(Or-1)*((1.0904+rr*(rr*(3.55645-1.43519*rr)-3.2452))*jo*jo+(.848013+rr*(.215638*rr-1.06021)))}const _o=Ln.sub(kn)._mult(Or)._add(kn)._unit()._mult(Cr?-1:1);this.addHalfVertex(gn,_o.x,_o.y,!1,Cr,0,dn)}}Bn&&this.addCurrentVertex(gn,Ln,-Hr,-$r,dn)}else if(so==="butt")this.addCurrentVertex(gn,_r,0,0,dn);else if(so==="square"){const Dr=Rn?1:-1;Rn||this.addCurrentVertex(gn,_r,Dr,Dr,dn),this.addCurrentVertex(gn,_r,0,0,dn),Rn&&this.addCurrentVertex(gn,_r,Dr,Dr,dn)}else so==="round"&&(Rn&&(this.addCurrentVertex(gn,kn,0,0,dn),this.addCurrentVertex(gn,kn,1,1,dn,!0)),Bn&&(this.addCurrentVertex(gn,Ln,-1,-1,dn,!0),this.addCurrentVertex(gn,Ln,0,0,dn)));if(Vr&&ir<Jt-1){const Dr=gn.dist(Bn);if(Dr>2*sn){const Hr=gn.add(Bn.sub(gn)._mult(sn/Dr)._round());this.updateDistance(gn,Hr),this.addCurrentVertex(Hr,Ln,0,0,dn),gn=Hr}}}}addCurrentVertex(et,it,at,ct,vt,Rt=!1){const Nt=it.y*ct-it.x,Jt=-it.y-it.x*ct;this.addHalfVertex(et,it.x+it.y*at,it.y-it.x*at,Rt,!1,at,vt),this.addHalfVertex(et,Nt,Jt,Rt,!0,-ct,vt)}addHalfVertex({x:et,y:it},at,ct,vt,Rt,Nt,Jt){this.layoutVertexArray.emplaceBack((et<<1)+(vt?1:0),(it<<1)+(Rt?1:0),Math.round(63*at)+128,Math.round(63*ct)+128,1+(Nt===0?0:Nt<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const Yt=Jt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Yt),Jt.primitiveLength++),Rt?this.e2=Yt:this.e1=Yt}updateScaledDistance(){if(this.lineClips){const et=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=et*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(et,it){this.distance+=et.dist(it),this.updateScaledDistance()}}wo(_d,"LineBucket",{omit:["layers","patternFeatures"]});const nR=new co({"line-cap":new Fr(Ir.layout_line["line-cap"]),"line-join":new Fr(Ir.layout_line["line-join"]),"line-miter-limit":new xr(Ir.layout_line["line-miter-limit"]),"line-round-limit":new xr(Ir.layout_line["line-round-limit"]),"line-sort-key":new Fr(Ir.layout_line["line-sort-key"])});var BS={paint:new co({"line-opacity":new Fr(Ir.paint_line["line-opacity"]),"line-color":new Fr(Ir.paint_line["line-color"]),"line-translate":new xr(Ir.paint_line["line-translate"]),"line-translate-anchor":new xr(Ir.paint_line["line-translate-anchor"]),"line-width":new Fr(Ir.paint_line["line-width"]),"line-gap-width":new Fr(Ir.paint_line["line-gap-width"]),"line-offset":new Fr(Ir.paint_line["line-offset"]),"line-blur":new Fr(Ir.paint_line["line-blur"]),"line-dasharray":new yo(Ir.paint_line["line-dasharray"]),"line-pattern":new yo(Ir.paint_line["line-pattern"]),"line-gradient":new fo(Ir.paint_line["line-gradient"]),"line-trim-offset":new xr(Ir.paint_line["line-trim-offset"])}),layout:nR};const _y=new class extends Fr{possiblyEvaluate(rt,et){return et=new tr(Math.floor(et.zoom),{now:et.now,fadeDuration:et.fadeDuration,zoomHistory:et.zoomHistory,transition:et.transition}),super.possiblyEvaluate(rt,et)}evaluate(rt,et,it,at){return et=Ft({},et,{zoom:Math.floor(et.zoom)}),super.evaluate(rt,et,it,at)}}(BS.paint.properties["line-width"].specification);function _s(rt,et){return et>0?et+2*rt:rt}_y.useIntegerZoom=!0;const rR=ho([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_f=ho([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Zl=ho([{name:"a_projected_pos",components:4,type:"Float32"}],4);ho([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const iR=ho([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),vy=ho([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ES=ho([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),oR=ho([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ho([{name:"triangle",components:3,type:"Uint16"}]),ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ho([{type:"Float32",name:"offsetX"}]),ho([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var uu=24;const Fm=128;function hF(rt,et){const{expression:it}=et;if(it.kind==="constant")return{kind:"constant",layoutSize:it.evaluate(new tr(rt+1))};if(it.kind==="source")return{kind:"source"};{const{zoomStops:at,interpolationType:ct}=it;let vt=0;for(;vt<at.length&&at[vt]<=rt;)vt++;vt=Math.max(0,vt-1);let Rt=vt;for(;Rt<at.length&&at[Rt]<rt+1;)Rt++;Rt=Math.min(at.length-1,Rt);const Nt=at[vt],Jt=at[Rt];return it.kind==="composite"?{kind:"composite",minZoom:Nt,maxZoom:Jt,interpolationType:ct}:{kind:"camera",minZoom:Nt,maxZoom:Jt,minSize:it.evaluate(new tr(Nt)),maxSize:it.evaluate(new tr(Jt)),interpolationType:ct}}}function z0(rt,{uSize:et,uSizeT:it},{lowerSize:at,upperSize:ct}){return rt.kind==="source"?at/Fm:rt.kind==="composite"?Ss(at/Fm,ct/Fm,it):et}function Z0(rt,et){let it=0,at=0;if(rt.kind==="constant")at=rt.layoutSize;else if(rt.kind!=="source"){const{interpolationType:ct,minZoom:vt,maxZoom:Rt}=rt,Nt=ct?zt(bp.interpolationFactor(ct,et,vt,Rt),0,1):0;rt.kind==="camera"?at=Ss(rt.minSize,rt.maxSize,Nt):it=Nt}return{uSizeT:it,uSize:at}}var Lm=Object.freeze({__proto__:null,getSizeData:hF,evaluateSizeForFeature:z0,evaluateSizeForZoom:Z0,SIZE_PACK_FACTOR:Fm});function TS(rt,et,it){return rt.sections.forEach(at=>{at.text=function(ct,vt,Rt){const Nt=vt.layout.get("text-transform").evaluate(Rt,{});return Nt==="uppercase"?ct=ct.toLocaleUpperCase():Nt==="lowercase"&&(ct=ct.toLocaleLowerCase()),gr.applyArabicShaping&&(ct=gr.applyArabicShaping(ct)),ct}(at.text,et,it)}),rt}const Uy={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function xl(rt){return rt==="︶"||rt==="﹈"||rt==="︸"||rt==="﹄"||rt==="﹂"||rt==="︾"||rt==="︼"||rt==="︺"||rt==="︘"||rt==="﹀"||rt==="︐"||rt==="︓"||rt==="︔"||rt==="｀"||rt==="￣"||rt==="︑"||rt==="︒"}function Il(rt){return rt==="︵"||rt==="﹇"||rt==="︷"||rt==="﹃"||rt==="﹁"||rt==="︽"||rt==="︻"||rt==="︹"||rt==="︗"||rt==="︿"}var G0=Gs,QS=function(rt,et,it,at,ct){var vt,Rt,Nt=8*ct-at-1,Jt=(1<<Nt)-1,Yt=Jt>>1,sn=-7,dn=it?ct-1:0,gn=it?-1:1,Rn=rt[et+dn];for(dn+=gn,vt=Rn&(1<<-sn)-1,Rn>>=-sn,sn+=Nt;sn>0;vt=256*vt+rt[et+dn],dn+=gn,sn-=8);for(Rt=vt&(1<<-sn)-1,vt>>=-sn,sn+=at;sn>0;Rt=256*Rt+rt[et+dn],dn+=gn,sn-=8);if(vt===0)vt=1-Yt;else{if(vt===Jt)return Rt?NaN:1/0*(Rn?-1:1);Rt+=Math.pow(2,at),vt-=Yt}return(Rn?-1:1)*Rt*Math.pow(2,vt-at)},xS=function(rt,et,it,at,ct,vt){var Rt,Nt,Jt,Yt=8*vt-ct-1,sn=(1<<Yt)-1,dn=sn>>1,gn=ct===23?Math.pow(2,-24)-Math.pow(2,-77):0,Rn=at?0:vt-1,Bn=at?1:-1,kn=et<0||et===0&&1/et<0?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(Nt=isNaN(et)?1:0,Rt=sn):(Rt=Math.floor(Math.log(et)/Math.LN2),et*(Jt=Math.pow(2,-Rt))<1&&(Rt--,Jt*=2),(et+=Rt+dn>=1?gn/Jt:gn*Math.pow(2,1-dn))*Jt>=2&&(Rt++,Jt/=2),Rt+dn>=sn?(Nt=0,Rt=sn):Rt+dn>=1?(Nt=(et*Jt-1)*Math.pow(2,ct),Rt+=dn):(Nt=et*Math.pow(2,dn-1)*Math.pow(2,ct),Rt=0));ct>=8;rt[it+Rn]=255&Nt,Rn+=Bn,Nt/=256,ct-=8);for(Rt=Rt<<ct|Nt,Yt+=ct;Yt>0;rt[it+Rn]=255&Rt,Rn+=Bn,Rt/=256,Yt-=8);rt[it+Rn-Bn]|=128*kn};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Gs(rt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(rt)?rt:new Uint8Array(rt||0),this.pos=0,this.type=0,this.length=this.buf.length}Gs.Varint=0,Gs.Fixed64=1,Gs.Bytes=2,Gs.Fixed32=5;var dF=4294967296,AS=1/dF,CS=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Sm(rt){return rt.type===Gs.Bytes?rt.readVarint()+rt.pos:rt.pos+1}function Rm(rt,et,it){return it?4294967296*et+(rt>>>0):4294967296*(et>>>0)+(rt>>>0)}function nU(rt,et,it){var at=et<=16383?1:et<=2097151?2:et<=268435455?3:Math.floor(Math.log(et)/(7*Math.LN2));it.realloc(at);for(var ct=it.pos-1;ct>=rt;ct--)it.buf[ct+at]=it.buf[ct]}function sR(rt,et){for(var it=0;it<rt.length;it++)et.writeVarint(rt[it])}function kS(rt,et){for(var it=0;it<rt.length;it++)et.writeSVarint(rt[it])}function rU(rt,et){for(var it=0;it<rt.length;it++)et.writeFloat(rt[it])}function _p(rt,et){for(var it=0;it<rt.length;it++)et.writeDouble(rt[it])}function H0(rt,et){for(var it=0;it<rt.length;it++)et.writeBoolean(rt[it])}function aR(rt,et){for(var it=0;it<rt.length;it++)et.writeFixed32(rt[it])}function lR(rt,et){for(var it=0;it<rt.length;it++)et.writeSFixed32(rt[it])}function uR(rt,et){for(var it=0;it<rt.length;it++)et.writeFixed64(rt[it])}function cR(rt,et){for(var it=0;it<rt.length;it++)et.writeSFixed64(rt[it])}function iU(rt,et){return(rt[et]|rt[et+1]<<8|rt[et+2]<<16)+16777216*rt[et+3]}function Yy(rt,et,it){rt[it]=et,rt[it+1]=et>>>8,rt[it+2]=et>>>16,rt[it+3]=et>>>24}function wm(rt,et){return(rt[et]|rt[et+1]<<8|rt[et+2]<<16)+(rt[et+3]<<24)}function Rs(rt,et,it){et.glyphs=[],rt===1&&it.readMessage(VS,et)}function VS(rt,et,it){if(rt===3){const{id:at,bitmap:ct,width:vt,height:Rt,left:Nt,top:Jt,advance:Yt}=it.readMessage(Mp,{});et.glyphs.push({id:at,bitmap:new Wm({width:vt+6,height:Rt+6},ct),metrics:{width:vt,height:Rt,left:Nt,top:Jt,advance:Yt}})}else rt===4?et.ascender=it.readSVarint():rt===5&&(et.descender=it.readSVarint())}function Mp(rt,et,it){rt===1?et.id=it.readVarint():rt===2?et.bitmap=it.readBytes():rt===3?et.width=it.readVarint():rt===4?et.height=it.readVarint():rt===5?et.left=it.readSVarint():rt===6?et.top=it.readSVarint():rt===7&&(et.advance=it.readVarint())}function oU(rt){let et=0,it=0;for(const Rt of rt)et+=Rt.w*Rt.h,it=Math.max(it,Rt.w);rt.sort((Rt,Nt)=>Nt.h-Rt.h);const at=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(et/.95)),it),h:1/0}];let ct=0,vt=0;for(const Rt of rt)for(let Nt=at.length-1;Nt>=0;Nt--){const Jt=at[Nt];if(!(Rt.w>Jt.w||Rt.h>Jt.h)){if(Rt.x=Jt.x,Rt.y=Jt.y,vt=Math.max(vt,Rt.y+Rt.h),ct=Math.max(ct,Rt.x+Rt.w),Rt.w===Jt.w&&Rt.h===Jt.h){const Yt=at.pop();Nt<at.length&&(at[Nt]=Yt)}else Rt.h===Jt.h?(Jt.x+=Rt.w,Jt.w-=Rt.w):Rt.w===Jt.w?(Jt.y+=Rt.h,Jt.h-=Rt.h):(at.push({x:Jt.x+Rt.w,y:Jt.y,w:Jt.w-Rt.w,h:Rt.h}),Jt.y+=Rt.h,Jt.h-=Rt.h);break}}return{w:ct,h:vt,fill:et/(ct*vt)||0}}Gs.prototype={destroy:function(){this.buf=null},readFields:function(rt,et,it){for(it=it||this.length;this.pos<it;){var at=this.readVarint(),ct=at>>3,vt=this.pos;this.type=7&at,rt(ct,et,this),this.pos===vt&&this.skip(at)}return et},readMessage:function(rt,et){return this.readFields(rt,et,this.readVarint()+this.pos)},readFixed32:function(){var rt=iU(this.buf,this.pos);return this.pos+=4,rt},readSFixed32:function(){var rt=wm(this.buf,this.pos);return this.pos+=4,rt},readFixed64:function(){var rt=iU(this.buf,this.pos)+iU(this.buf,this.pos+4)*dF;return this.pos+=8,rt},readSFixed64:function(){var rt=iU(this.buf,this.pos)+wm(this.buf,this.pos+4)*dF;return this.pos+=8,rt},readFloat:function(){var rt=QS(this.buf,this.pos,!0,23,4);return this.pos+=4,rt},readDouble:function(){var rt=QS(this.buf,this.pos,!0,52,8);return this.pos+=8,rt},readVarint:function(rt){var et,it,at=this.buf;return et=127&(it=at[this.pos++]),it<128?et:(et|=(127&(it=at[this.pos++]))<<7,it<128?et:(et|=(127&(it=at[this.pos++]))<<14,it<128?et:(et|=(127&(it=at[this.pos++]))<<21,it<128?et:function(ct,vt,Rt){var Nt,Jt,Yt=Rt.buf;if(Nt=(112&(Jt=Yt[Rt.pos++]))>>4,Jt<128||(Nt|=(127&(Jt=Yt[Rt.pos++]))<<3,Jt<128)||(Nt|=(127&(Jt=Yt[Rt.pos++]))<<10,Jt<128)||(Nt|=(127&(Jt=Yt[Rt.pos++]))<<17,Jt<128)||(Nt|=(127&(Jt=Yt[Rt.pos++]))<<24,Jt<128)||(Nt|=(1&(Jt=Yt[Rt.pos++]))<<31,Jt<128))return Rm(ct,Nt,vt);throw new Error("Expected varint not more than 10 bytes")}(et|=(15&(it=at[this.pos]))<<28,rt,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var rt=this.readVarint();return rt%2==1?(rt+1)/-2:rt/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var rt=this.readVarint()+this.pos,et=this.pos;return this.pos=rt,rt-et>=12&&CS?function(it,at,ct){return CS.decode(it.subarray(at,ct))}(this.buf,et,rt):function(it,at,ct){for(var vt="",Rt=at;Rt<ct;){var Nt,Jt,Yt,sn=it[Rt],dn=null,gn=sn>239?4:sn>223?3:sn>191?2:1;if(Rt+gn>ct)break;gn===1?sn<128&&(dn=sn):gn===2?(192&(Nt=it[Rt+1]))==128&&(dn=(31&sn)<<6|63&Nt)<=127&&(dn=null):gn===3?(Jt=it[Rt+2],(192&(Nt=it[Rt+1]))==128&&(192&Jt)==128&&((dn=(15&sn)<<12|(63&Nt)<<6|63&Jt)<=2047||dn>=55296&&dn<=57343)&&(dn=null)):gn===4&&(Jt=it[Rt+2],Yt=it[Rt+3],(192&(Nt=it[Rt+1]))==128&&(192&Jt)==128&&(192&Yt)==128&&((dn=(15&sn)<<18|(63&Nt)<<12|(63&Jt)<<6|63&Yt)<=65535||dn>=1114112)&&(dn=null)),dn===null?(dn=65533,gn=1):dn>65535&&(dn-=65536,vt+=String.fromCharCode(dn>>>10&1023|55296),dn=56320|1023&dn),vt+=String.fromCharCode(dn),Rt+=gn}return vt}(this.buf,et,rt)},readBytes:function(){var rt=this.readVarint()+this.pos,et=this.buf.subarray(this.pos,rt);return this.pos=rt,et},readPackedVarint:function(rt,et){if(this.type!==Gs.Bytes)return rt.push(this.readVarint(et));var it=Sm(this);for(rt=rt||[];this.pos<it;)rt.push(this.readVarint(et));return rt},readPackedSVarint:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readSVarint());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readSVarint());return rt},readPackedBoolean:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readBoolean());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readBoolean());return rt},readPackedFloat:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readFloat());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readFloat());return rt},readPackedDouble:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readDouble());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readDouble());return rt},readPackedFixed32:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readFixed32());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readFixed32());return rt},readPackedSFixed32:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readSFixed32());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readSFixed32());return rt},readPackedFixed64:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readFixed64());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readFixed64());return rt},readPackedSFixed64:function(rt){if(this.type!==Gs.Bytes)return rt.push(this.readSFixed64());var et=Sm(this);for(rt=rt||[];this.pos<et;)rt.push(this.readSFixed64());return rt},skip:function(rt){var et=7&rt;if(et===Gs.Varint)for(;this.buf[this.pos++]>127;);else if(et===Gs.Bytes)this.pos=this.readVarint()+this.pos;else if(et===Gs.Fixed32)this.pos+=4;else{if(et!==Gs.Fixed64)throw new Error("Unimplemented type: "+et);this.pos+=8}},writeTag:function(rt,et){this.writeVarint(rt<<3|et)},realloc:function(rt){for(var et=this.length||16;et<this.pos+rt;)et*=2;if(et!==this.length){var it=new Uint8Array(et);it.set(this.buf),this.buf=it,this.length=et}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(rt){this.realloc(4),Yy(this.buf,rt,this.pos),this.pos+=4},writeSFixed32:function(rt){this.realloc(4),Yy(this.buf,rt,this.pos),this.pos+=4},writeFixed64:function(rt){this.realloc(8),Yy(this.buf,-1&rt,this.pos),Yy(this.buf,Math.floor(rt*AS),this.pos+4),this.pos+=8},writeSFixed64:function(rt){this.realloc(8),Yy(this.buf,-1&rt,this.pos),Yy(this.buf,Math.floor(rt*AS),this.pos+4),this.pos+=8},writeVarint:function(rt){(rt=+rt||0)>268435455||rt<0?function(et,it){var at,ct;if(et>=0?(at=et%4294967296|0,ct=et/4294967296|0):(ct=~(-et/4294967296),4294967295^(at=~(-et%4294967296))?at=at+1|0:(at=0,ct=ct+1|0)),et>=18446744073709552e3||et<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");it.realloc(10),function(vt,Rt,Nt){Nt.buf[Nt.pos++]=127&vt|128,vt>>>=7,Nt.buf[Nt.pos++]=127&vt|128,vt>>>=7,Nt.buf[Nt.pos++]=127&vt|128,vt>>>=7,Nt.buf[Nt.pos++]=127&vt|128,Nt.buf[Nt.pos]=127&(vt>>>=7)}(at,0,it),function(vt,Rt){var Nt=(7&vt)<<4;Rt.buf[Rt.pos++]|=Nt|((vt>>>=3)?128:0),vt&&(Rt.buf[Rt.pos++]=127&vt|((vt>>>=7)?128:0),vt&&(Rt.buf[Rt.pos++]=127&vt|((vt>>>=7)?128:0),vt&&(Rt.buf[Rt.pos++]=127&vt|((vt>>>=7)?128:0),vt&&(Rt.buf[Rt.pos++]=127&vt|((vt>>>=7)?128:0),vt&&(Rt.buf[Rt.pos++]=127&vt)))))}(ct,it)}(rt,this):(this.realloc(4),this.buf[this.pos++]=127&rt|(rt>127?128:0),rt<=127||(this.buf[this.pos++]=127&(rt>>>=7)|(rt>127?128:0),rt<=127||(this.buf[this.pos++]=127&(rt>>>=7)|(rt>127?128:0),rt<=127||(this.buf[this.pos++]=rt>>>7&127))))},writeSVarint:function(rt){this.writeVarint(rt<0?2*-rt-1:2*rt)},writeBoolean:function(rt){this.writeVarint(Boolean(rt))},writeString:function(rt){rt=String(rt),this.realloc(4*rt.length),this.pos++;var et=this.pos;this.pos=function(at,ct,vt){for(var Rt,Nt,Jt=0;Jt<ct.length;Jt++){if((Rt=ct.charCodeAt(Jt))>55295&&Rt<57344){if(!Nt){Rt>56319||Jt+1===ct.length?(at[vt++]=239,at[vt++]=191,at[vt++]=189):Nt=Rt;continue}if(Rt<56320){at[vt++]=239,at[vt++]=191,at[vt++]=189,Nt=Rt;continue}Rt=Nt-55296<<10|Rt-56320|65536,Nt=null}else Nt&&(at[vt++]=239,at[vt++]=191,at[vt++]=189,Nt=null);Rt<128?at[vt++]=Rt:(Rt<2048?at[vt++]=Rt>>6|192:(Rt<65536?at[vt++]=Rt>>12|224:(at[vt++]=Rt>>18|240,at[vt++]=Rt>>12&63|128),at[vt++]=Rt>>6&63|128),at[vt++]=63&Rt|128)}return vt}(this.buf,rt,this.pos);var it=this.pos-et;it>=128&&nU(et,it,this),this.pos=et-1,this.writeVarint(it),this.pos+=it},writeFloat:function(rt){this.realloc(4),xS(this.buf,rt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(rt){this.realloc(8),xS(this.buf,rt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(rt){var et=rt.length;this.writeVarint(et),this.realloc(et);for(var it=0;it<et;it++)this.buf[this.pos++]=rt[it]},writeRawMessage:function(rt,et){this.pos++;var it=this.pos;rt(et,this);var at=this.pos-it;at>=128&&nU(it,at,this),this.pos=it-1,this.writeVarint(at),this.pos+=at},writeMessage:function(rt,et,it){this.writeTag(rt,Gs.Bytes),this.writeRawMessage(et,it)},writePackedVarint:function(rt,et){et.length&&this.writeMessage(rt,sR,et)},writePackedSVarint:function(rt,et){et.length&&this.writeMessage(rt,kS,et)},writePackedBoolean:function(rt,et){et.length&&this.writeMessage(rt,H0,et)},writePackedFloat:function(rt,et){et.length&&this.writeMessage(rt,rU,et)},writePackedDouble:function(rt,et){et.length&&this.writeMessage(rt,_p,et)},writePackedFixed32:function(rt,et){et.length&&this.writeMessage(rt,aR,et)},writePackedSFixed32:function(rt,et){et.length&&this.writeMessage(rt,lR,et)},writePackedFixed64:function(rt,et){et.length&&this.writeMessage(rt,uR,et)},writePackedSFixed64:function(rt,et){et.length&&this.writeMessage(rt,cR,et)},writeBytesField:function(rt,et){this.writeTag(rt,Gs.Bytes),this.writeBytes(et)},writeFixed32Field:function(rt,et){this.writeTag(rt,Gs.Fixed32),this.writeFixed32(et)},writeSFixed32Field:function(rt,et){this.writeTag(rt,Gs.Fixed32),this.writeSFixed32(et)},writeFixed64Field:function(rt,et){this.writeTag(rt,Gs.Fixed64),this.writeFixed64(et)},writeSFixed64Field:function(rt,et){this.writeTag(rt,Gs.Fixed64),this.writeSFixed64(et)},writeVarintField:function(rt,et){this.writeTag(rt,Gs.Varint),this.writeVarint(et)},writeSVarintField:function(rt,et){this.writeTag(rt,Gs.Varint),this.writeSVarint(et)},writeStringField:function(rt,et){this.writeTag(rt,Gs.Bytes),this.writeString(et)},writeFloatField:function(rt,et){this.writeTag(rt,Gs.Fixed32),this.writeFloat(et)},writeDoubleField:function(rt,et){this.writeTag(rt,Gs.Fixed64),this.writeDouble(et)},writeBooleanField:function(rt,et){this.writeVarintField(rt,Boolean(et))}};class fF{constructor(et,{pixelRatio:it,version:at,stretchX:ct,stretchY:vt,content:Rt}){this.paddedRect=et,this.pixelRatio=it,this.stretchX=ct,this.stretchY=vt,this.content=Rt,this.version=at}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Hs{constructor(et,it){const at={},ct={};this.haveRenderCallbacks=[];const vt=[];this.addImages(et,at,vt),this.addImages(it,ct,vt);const{w:Rt,h:Nt}=oU(vt),Jt=new _h({width:Rt||1,height:Nt||1});for(const Yt in et){const sn=et[Yt],dn=at[Yt].paddedRect;_h.copy(sn.data,Jt,{x:0,y:0},{x:dn.x+1,y:dn.y+1},sn.data)}for(const Yt in it){const sn=it[Yt],dn=ct[Yt].paddedRect,gn=dn.x+1,Rn=dn.y+1,Bn=sn.data.width,kn=sn.data.height;_h.copy(sn.data,Jt,{x:0,y:0},{x:gn,y:Rn},sn.data),_h.copy(sn.data,Jt,{x:0,y:kn-1},{x:gn,y:Rn-1},{width:Bn,height:1}),_h.copy(sn.data,Jt,{x:0,y:0},{x:gn,y:Rn+kn},{width:Bn,height:1}),_h.copy(sn.data,Jt,{x:Bn-1,y:0},{x:gn-1,y:Rn},{width:1,height:kn}),_h.copy(sn.data,Jt,{x:0,y:0},{x:gn+Bn,y:Rn},{width:1,height:kn})}this.image=Jt,this.iconPositions=at,this.patternPositions=ct}addImages(et,it,at){for(const ct in et){const vt=et[ct],Rt={x:0,y:0,w:vt.data.width+2,h:vt.data.height+2};at.push(Rt),it[ct]=new fF(Rt,vt),vt.hasRenderCallback&&this.haveRenderCallbacks.push(ct)}}patchUpdatedImages(et,it){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(at=>et.hasImage(at)),et.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const at in et.updatedImages)this.patchUpdatedImage(this.iconPositions[at],et.getImage(at),it),this.patchUpdatedImage(this.patternPositions[at],et.getImage(at),it)}patchUpdatedImage(et,it,at){if(!et||!it||et.version===it.version)return;et.version=it.version;const[ct,vt]=et.tl;at.update(it.data,void 0,{x:ct,y:vt})}}wo(fF,"ImagePosition"),wo(Hs,"ImageAtlas");const vp={horizontal:1,vertical:2,horizontalOnly:3};class Y0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(et,it){const at=new Y0;return at.scale=et||1,at.fontStack=it,at}static forImage(et){const it=new Y0;return it.imageName=et,it}}class Jm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(et,it){const at=new Jm;for(let ct=0;ct<et.sections.length;ct++){const vt=et.sections[ct];vt.image?at.addImageSection(vt):at.addTextSection(vt,it)}return at}length(){return this.text.length}getSection(et){return this.sections[this.sectionIndex[et]]}getSections(){return this.sections}getSectionIndex(et){return this.sectionIndex[et]}getCharCode(et){return this.text.charCodeAt(et)}verticalizePunctuation(et){this.text=function(it,at){let ct="";for(let vt=0;vt<it.length;vt++){const Rt=it.charCodeAt(vt+1)||null,Nt=it.charCodeAt(vt-1)||null;ct+=!at&&(Rt&&qt(Rt)&&!Uy[it[vt+1]]||Nt&&qt(Nt)&&!Uy[it[vt-1]])||!Uy[it[vt]]?it[vt]:Uy[it[vt]]}return ct}(this.text,et)}trim(){let et=0;for(let at=0;at<this.text.length&&sU[this.text.charCodeAt(at)];at++)et++;let it=this.text.length;for(let at=this.text.length-1;at>=0&&at>=et&&sU[this.text.charCodeAt(at)];at--)it--;this.text=this.text.substring(et,it),this.sectionIndex=this.sectionIndex.slice(et,it)}substring(et,it){const at=new Jm;return at.text=this.text.substring(et,it),at.sectionIndex=this.sectionIndex.slice(et,it),at.sections=this.sections,at}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((et,it)=>Math.max(et,this.sections[it].scale),0)}addTextSection(et,it){this.text+=et.text,this.sections.push(Y0.forText(et.scale,et.fontStack||it));const at=this.sections.length-1;for(let ct=0;ct<et.text.length;++ct)this.sectionIndex.push(at)}addImageSection(et){const it=et.image?et.image.name:"";if(it.length===0)return void hn("Can't add FormattedSection with an empty image.");const at=this.getNextImageSectionCharCode();at?(this.text+=String.fromCharCode(at),this.sections.push(Y0.forImage(it)),this.sectionIndex.push(this.sections.length-1)):hn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function pF(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn){const kn=Jm.fromFeature(rt,ct);dn===vp.vertical&&kn.verticalizePunctuation(gn);let Ln=[];const ir=function(pr,Vr,Cr,Jr,so,Dr){if(!pr)return[];const Hr=[],$r=function(_o,jo,bo,Mo,vo,Zo){let is=0;for(let cs=0;cs<_o.length();cs++){const xs=_o.getSection(cs);is+=NS(_o.getCharCode(cs),xs,Mo,vo,jo,Zo)}return is/Math.max(1,Math.ceil(is/bo))}(pr,Vr,Cr,Jr,so,Dr),eo=pr.text.indexOf("​")>=0;let lo=0;for(let _o=0;_o<pr.length();_o++){const jo=pr.getSection(_o),bo=pr.getCharCode(_o);if(sU[bo]||(lo+=NS(bo,jo,Jr,so,Vr,Dr)),_o<pr.length()-1){const Mo=!((Or=bo)<11904||!(E0(Or)||B0(Or)||Dm(Or)||wv(Or)||Fv(Or)||w_(Or)||Hu(Or)||Py(Or)||Sv(Or)||T_(Or)||E_(Or)||ot(Or)||w0(Or)||B_(Or)||Uv(Or)||bv(Or)||dp(Or)||uy(Or)||Q_(Or)||Wy(Or)));(hR[bo]||Mo||jo.imageName)&&Hr.push(OS(_o+1,lo,$r,Hr,dR(bo,pr.getCharCode(_o+1),Mo&&eo),!1))}}var Or;return IS(OS(pr.length(),lo,$r,Hr,0,!0))}(kn,Yt,vt,et,at,Rn),{processBidirectionalText:_r,processStyledBidirectionalText:rr}=gr;if(_r&&kn.sections.length===1){const pr=_r(kn.toString(),ir);for(const Vr of pr){const Cr=new Jm;Cr.text=Vr,Cr.sections=kn.sections;for(let Jr=0;Jr<Vr.length;Jr++)Cr.sectionIndex.push(0);Ln.push(Cr)}}else if(rr){const pr=rr(kn.text,kn.sectionIndex,ir);for(const Vr of pr){const Cr=new Jm;Cr.text=Vr[0],Cr.sectionIndex=Vr[1],Cr.sections=kn.sections,Ln.push(Cr)}}else Ln=function(pr,Vr){const Cr=[],Jr=pr.text;let so=0;for(const Dr of Vr)Cr.push(pr.substring(so,Dr)),so=Dr;return so<Jr.length&&Cr.push(pr.substring(so,Jr.length)),Cr}(kn,ir);const fr=[],Ur={positionedLines:fr,text:kn.toString(),top:sn[1],bottom:sn[1],left:sn[0],right:sn[0],writingMode:dn,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(pr,Vr,Cr,Jr,so,Dr,Hr,$r,eo,lo,Or,_o){let jo=0,bo=0,Mo=0;const vo=$r==="right"?1:$r==="left"?0:.5;let Zo=!1;for(const ms of so){const Fs=ms.getSections();for(const Ys of Fs){if(Ys.imageName)continue;const ba=Vr[Ys.fontStack];if(ba&&(Zo=ba.ascender!==void 0&&ba.descender!==void 0,!Zo))break}if(!Zo)break}let is=0;for(const ms of so){ms.trim();const Fs=ms.getMaxScale(),Ys=(Fs-1)*uu,ba={positionedGlyphs:[],lineOffset:0};pr.positionedLines[is]=ba;const ga=ba.positionedGlyphs;let xa=0;if(!ms.length()){bo+=Dr,++is;continue}let _l=0,Al=0;for(let Zs=0;Zs<ms.length();Zs++){const $l=ms.getSection(Zs),Gl=ms.getSectionIndex(Zs),Vs=ms.getCharCode(Zs);let Rl=$l.scale,tu=null,$s=null,Wl=null,Pu=uu,bu=0;const Fu=!(eo===vp.horizontal||!Or&&!Ot(Vs)||Or&&(sU[Vs]||(cs=Vs,vv(cs)||Iy(cs)||Tp(cs)||Ly(cs)||gt(cs))));if($l.imageName){const np=Jr[$l.imageName];if(!np)continue;Wl=$l.imageName,pr.iconsInText=pr.iconsInText||!0,$s=np.paddedRect;const Su=np.displaySize;Rl=Rl*uu/_o,tu={width:Su[0],height:Su[1],left:1,top:-3,advance:Fu?Su[1]:Su[0],localGlyph:!1},bu=Zo?-tu.height*Rl:Fs*uu-17-Su[1]*Rl,Pu=tu.advance;const e0=(Fu?Su[0]:Su[1])*Rl-uu*Fs;e0>0&&e0>xa&&(xa=e0)}else{const np=Cr[$l.fontStack];if(!np)continue;np[Vs]&&($s=np[Vs]);const Su=Vr[$l.fontStack];if(!Su)continue;const e0=Su.glyphs[Vs];if(!e0)continue;if(tu=e0.metrics,Pu=Vs!==8203?uu:0,Zo){const wU=Su.ascender!==void 0?Math.abs(Su.ascender):0,kF=Su.descender!==void 0?Math.abs(Su.descender):0,VF=(wU+kF)*Rl;_l<VF&&(_l=VF,Al=(wU-kF)/2*Rl),bu=-wU*Rl}else bu=(Fs-Rl)*uu-17}Fu?(pr.verticalizable=!0,ga.push({glyph:Vs,imageName:Wl,x:jo,y:bo+bu,vertical:Fu,scale:Rl,localGlyph:tu.localGlyph,fontStack:$l.fontStack,sectionIndex:Gl,metrics:tu,rect:$s}),jo+=Pu*Rl+lo):(ga.push({glyph:Vs,imageName:Wl,x:jo,y:bo+bu,vertical:Fu,scale:Rl,localGlyph:tu.localGlyph,fontStack:$l.fontStack,sectionIndex:Gl,metrics:tu,rect:$s}),jo+=tu.advance*Rl+lo)}ga.length!==0&&(Mo=Math.max(jo-lo,Mo),Zo?PS(ga,vo,xa,Al,Dr*Fs/2):PS(ga,vo,xa,0,Dr/2)),jo=0;const Uu=Dr*Fs+xa;ba.lineOffset=Math.max(xa,Ys),bo+=Uu,++is}var cs;const xs=bo,{horizontalAlign:ns,verticalAlign:yl}=gF(Hr);(function(ms,Fs,Ys,ba,ga,xa){const _l=(Fs-Ys)*ga,Al=-xa*ba;for(const Uu of ms)for(const Zs of Uu.positionedGlyphs)Zs.x+=_l,Zs.y+=Al})(pr.positionedLines,vo,ns,yl,Mo,xs),pr.top+=-yl*xs,pr.bottom=pr.top+xs,pr.left+=-ns*Mo,pr.right=pr.left+Mo,pr.hasBaseline=Zo}(Ur,et,it,at,Ln,Rt,Nt,Jt,dn,Yt,gn,Bn),!function(pr){for(const Vr of pr)if(Vr.positionedGlyphs.length!==0)return!1;return!0}(fr)&&Ur}const sU={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hR={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function NS(rt,et,it,at,ct,vt){if(et.imageName){const Rt=at[et.imageName];return Rt?Rt.displaySize[0]*et.scale*uu/vt+ct:0}{const Rt=it[et.fontStack],Nt=Rt&&Rt.glyphs[rt];return Nt?Nt.metrics.advance*et.scale+ct:0}}function DS(rt,et,it,at){const ct=Math.pow(rt-et,2);return at?rt<et?ct/2:2*ct:ct+Math.abs(it)*it}function dR(rt,et,it){let at=0;return rt===10&&(at-=1e4),it&&(at+=150),rt!==40&&rt!==65288||(at+=50),et!==41&&et!==65289||(at+=50),at}function OS(rt,et,it,at,ct,vt){let Rt=null,Nt=DS(et,it,ct,vt);for(const Jt of at){const Yt=DS(et-Jt.x,it,ct,vt)+Jt.badness;Yt<=Nt&&(Rt=Jt,Nt=Yt)}return{index:rt,x:et,priorBreak:Rt,badness:Nt}}function IS(rt){return rt?IS(rt.priorBreak).concat(rt.index):[]}function gF(rt){let et=.5,it=.5;switch(rt){case"right":case"top-right":case"bottom-right":et=1;break;case"left":case"top-left":case"bottom-left":et=0}switch(rt){case"bottom":case"bottom-right":case"bottom-left":it=1;break;case"top":case"top-right":case"top-left":it=0}return{horizontalAlign:et,verticalAlign:it}}function PS(rt,et,it,at,ct){if(!(et||it||at||ct))return;const vt=rt.length-1,Rt=rt[vt],Nt=(Rt.x+Rt.metrics.advance*Rt.scale)*et;for(let Jt=0;Jt<=vt;Jt++)rt[Jt].x-=Nt,rt[Jt].y+=it+at+ct}function fR(rt,et,it){const{horizontalAlign:at,verticalAlign:ct}=gF(it),vt=et[0]-rt.displaySize[0]*at,Rt=et[1]-rt.displaySize[1]*ct;return{image:rt,top:Rt,bottom:Rt+rt.displaySize[1],left:vt,right:vt+rt.displaySize[0]}}function WS(rt,et,it,at,ct,vt){const Rt=rt.image;let Nt;if(Rt.content){const Ln=Rt.content,ir=Rt.pixelRatio||1;Nt=[Ln[0]/ir,Ln[1]/ir,Rt.displaySize[0]-Ln[2]/ir,Rt.displaySize[1]-Ln[3]/ir]}const Jt=et.left*vt,Yt=et.right*vt;let sn,dn,gn,Rn;it==="width"||it==="both"?(Rn=ct[0]+Jt-at[3],dn=ct[0]+Yt+at[1]):(Rn=ct[0]+(Jt+Yt-Rt.displaySize[0])/2,dn=Rn+Rt.displaySize[0]);const Bn=et.top*vt,kn=et.bottom*vt;return it==="height"||it==="both"?(sn=ct[1]+Bn-at[0],gn=ct[1]+kn+at[2]):(sn=ct[1]+(Bn+kn-Rt.displaySize[1])/2,gn=sn+Rt.displaySize[1]),{image:Rt,top:sn,right:dn,bottom:gn,left:Rn,collisionPadding:Nt}}class jm extends pt{constructor(et,it,at,ct,vt){super(et,it),this.angle=ct,this.z=at,vt!==void 0&&(this.segment=vt)}clone(){return new jm(this.x,this.y,this.z,this.angle,this.segment)}}function aU(rt,et,it,at,ct){if(et.segment===void 0)return!0;let vt=et,Rt=et.segment+1,Nt=0;for(;Nt>-it/2;){if(Rt--,Rt<0)return!1;Nt-=rt[Rt].dist(vt),vt=rt[Rt]}Nt+=rt[Rt].dist(rt[Rt+1]),Rt++;const Jt=[];let Yt=0;for(;Nt<it/2;){const sn=rt[Rt],dn=rt[Rt+1];if(!dn)return!1;let gn=rt[Rt-1].angleTo(sn)-sn.angleTo(dn);for(gn=Math.abs((gn+3*Math.PI)%(2*Math.PI)-Math.PI),Jt.push({distance:Nt,angleDelta:gn}),Yt+=gn;Nt-Jt[0].distance>at;)Yt-=Jt.shift().angleDelta;if(Yt>ct)return!1;Rt++,Nt+=sn.dist(dn)}return!0}function LS(rt){let et=0;for(let it=0;it<rt.length-1;it++)et+=rt[it].dist(rt[it+1]);return et}function lU(rt,et,it){return rt?.6*et*it:0}function JS(rt,et){return Math.max(rt?rt.right-rt.left:0,et?et.right-et.left:0)}function pR(rt,et,it,at,ct,vt){const Rt=lU(it,ct,vt),Nt=JS(it,at)*vt;let Jt=0;const Yt=LS(rt)/2;for(let sn=0;sn<rt.length-1;sn++){const dn=rt[sn],gn=rt[sn+1],Rn=dn.dist(gn);if(Jt+Rn>Yt){const Bn=(Yt-Jt)/Rn,kn=Ss(dn.x,gn.x,Bn),Ln=Ss(dn.y,gn.y,Bn),ir=new jm(kn,Ln,0,gn.angleTo(dn),sn);return!Rt||aU(rt,ir,Nt,Rt,et)?ir:void 0}Jt+=Rn}}function gR(rt,et,it,at,ct,vt,Rt,Nt,Jt){const Yt=lU(at,vt,Rt),sn=JS(at,ct),dn=sn*Rt,gn=rt[0].x===0||rt[0].x===Jt||rt[0].y===0||rt[0].y===Jt;return et-dn<et/4&&(et=dn+et/4),eu(rt,gn?et/2*Nt%et:(sn/2+2*vt)*Rt*Nt%et,et,Yt,it,dn,gn,!1,Jt)}function eu(rt,et,it,at,ct,vt,Rt,Nt,Jt){const Yt=vt/2,sn=LS(rt);let dn=0,gn=et-it,Rn=[];for(let Bn=0;Bn<rt.length-1;Bn++){const kn=rt[Bn],Ln=rt[Bn+1],ir=kn.dist(Ln),_r=Ln.angleTo(kn);for(;gn+it<dn+ir;){gn+=it;const rr=(gn-dn)/ir,fr=Ss(kn.x,Ln.x,rr),Ur=Ss(kn.y,Ln.y,rr);if(fr>=0&&fr<Jt&&Ur>=0&&Ur<Jt&&gn-Yt>=0&&gn+Yt<=sn){const pr=new jm(fr,Ur,0,_r,Bn);pr._round(),at&&!aU(rt,pr,vt,at,ct)||Rn.push(pr)}}dn+=ir}return Nt||Rn.length||Rt||(Rn=eu(rt,dn/2,it,at,ct,vt,Rt,!0,Jt)),Rn}function Du(rt,et,it,at,ct){const vt=[];for(let Rt=0;Rt<rt.length;Rt++){const Nt=rt[Rt];let Jt;for(let Yt=0;Yt<Nt.length-1;Yt++){let sn=Nt[Yt],dn=Nt[Yt+1];sn.x<et&&dn.x<et||(sn.x<et?sn=new pt(et,sn.y+(et-sn.x)/(dn.x-sn.x)*(dn.y-sn.y))._round():dn.x<et&&(dn=new pt(et,sn.y+(et-sn.x)/(dn.x-sn.x)*(dn.y-sn.y))._round()),sn.y<it&&dn.y<it||(sn.y<it?sn=new pt(sn.x+(it-sn.y)/(dn.y-sn.y)*(dn.x-sn.x),it)._round():dn.y<it&&(dn=new pt(sn.x+(it-sn.y)/(dn.y-sn.y)*(dn.x-sn.x),it)._round()),sn.x>=at&&dn.x>=at||(sn.x>=at?sn=new pt(at,sn.y+(at-sn.x)/(dn.x-sn.x)*(dn.y-sn.y))._round():dn.x>=at&&(dn=new pt(at,sn.y+(at-sn.x)/(dn.x-sn.x)*(dn.y-sn.y))._round()),sn.y>=ct&&dn.y>=ct||(sn.y>=ct?sn=new pt(sn.x+(ct-sn.y)/(dn.y-sn.y)*(dn.x-sn.x),ct)._round():dn.y>=ct&&(dn=new pt(sn.x+(ct-sn.y)/(dn.y-sn.y)*(dn.x-sn.x),ct)._round()),Jt&&sn.equals(Jt[Jt.length-1])||(Jt=[sn],vt.push(Jt)),Jt.push(dn)))))}}return vt}wo(jm,"Anchor");const X_=1e20;function jS(rt,et,it,at,ct,vt,Rt,Nt,Jt){for(let Yt=et;Yt<et+at;Yt++)zS(rt,it*vt+Yt,vt,ct,Rt,Nt,Jt);for(let Yt=it;Yt<it+ct;Yt++)zS(rt,Yt*vt+et,1,at,Rt,Nt,Jt)}function zS(rt,et,it,at,ct,vt,Rt){vt[0]=0,Rt[0]=-X_,Rt[1]=X_,ct[0]=rt[et];for(let Nt=1,Jt=0,Yt=0;Nt<at;Nt++){ct[Nt]=rt[et+Nt*it];const sn=Nt*Nt;do{const dn=vt[Jt];Yt=(ct[Nt]-ct[dn]+sn-dn*dn)/(Nt-dn)/2}while(Yt<=Rt[Jt]&&--Jt>-1);Jt++,vt[Jt]=Nt,Rt[Jt]=Yt,Rt[Jt+1]=X_}for(let Nt=0,Jt=0;Nt<at;Nt++){for(;Rt[Jt+1]<Nt;)Jt++;const Yt=vt[Jt],sn=Nt-Yt;rt[et+Nt*it]=ct[Yt]+sn*sn}}const uU={none:0,ideographs:1,all:2};class $0{constructor(et,it,at){this.requestManager=et,this.localGlyphMode=it,this.localFontFamily=at,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(et){this.url=et}getGlyphs(et,it){const at=[];for(const ct in et)for(const vt of et[ct])at.push({stack:ct,id:vt});Zt(at,({stack:ct,id:vt},Rt)=>{let Nt=this.entries[ct];Nt||(Nt=this.entries[ct]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let Jt=Nt.glyphs[vt];if(Jt!==void 0)return void Rt(null,{stack:ct,id:vt,glyph:Jt});if(Jt=this._tinySDF(Nt,ct,vt),Jt)return Nt.glyphs[vt]=Jt,void Rt(null,{stack:ct,id:vt,glyph:Jt});const Yt=Math.floor(vt/256);if(256*Yt>65535)return void Rt(new Error("glyphs > 65535 not supported"));if(Nt.ranges[Yt])return void Rt(null,{stack:ct,id:vt,glyph:Jt});let sn=Nt.requests[Yt];sn||(sn=Nt.requests[Yt]=[],$0.loadGlyphRange(ct,Yt,this.url,this.requestManager,(dn,gn)=>{if(gn){Nt.ascender=gn.ascender,Nt.descender=gn.descender;for(const Rn in gn.glyphs)this._doesCharSupportLocalGlyph(+Rn)||(Nt.glyphs[+Rn]=gn.glyphs[+Rn]);Nt.ranges[Yt]=!0}for(const Rn of sn)Rn(dn,gn);delete Nt.requests[Yt]})),sn.push((dn,gn)=>{dn?Rt(dn):gn&&Rt(null,{stack:ct,id:vt,glyph:gn.glyphs[vt]||null})})},(ct,vt)=>{if(ct)it(ct);else if(vt){const Rt={};for(const{stack:Nt,id:Jt,glyph:Yt}of vt)Rt[Nt]===void 0&&(Rt[Nt]={}),Rt[Nt].glyphs===void 0&&(Rt[Nt].glyphs={}),Rt[Nt].glyphs[Jt]=Yt&&{id:Yt.id,bitmap:Yt.bitmap.clone(),metrics:Yt.metrics},Rt[Nt].ascender=this.entries[Nt].ascender,Rt[Nt].descender=this.entries[Nt].descender;it(null,Rt)}})}_doesCharSupportLocalGlyph(et){return this.localGlyphMode!==uU.none&&(this.localGlyphMode===uU.all?!!this.localFontFamily:!!this.localFontFamily&&(T_(et)||Rv(et)||w0(et)||dp(et)||Py(et)))}_tinySDF(et,it,at){const ct=this.localFontFamily;if(!ct||!this._doesCharSupportLocalGlyph(at))return;let vt=et.tinySDF;if(!vt){let kn="400";/bold/i.test(it)?kn="900":/medium/i.test(it)?kn="500":/light/i.test(it)&&(kn="200"),vt=et.tinySDF=new $0.TinySDF({fontFamily:ct,fontWeight:kn,fontSize:48,buffer:6,radius:16}),vt.fontWeight=kn}if(this.localGlyphs[vt.fontWeight][at])return this.localGlyphs[vt.fontWeight][at];const Rt=String.fromCharCode(at),{data:Nt,width:Jt,height:Yt,glyphWidth:sn,glyphHeight:dn,glyphLeft:gn,glyphTop:Rn,glyphAdvance:Bn}=vt.draw(Rt);return this.localGlyphs[vt.fontWeight][at]={id:at,bitmap:new Wm({width:Jt,height:Yt},Nt),metrics:{width:sn/2,height:dn/2,left:gn/2,top:Rn/2-27,advance:Bn/2,localGlyph:!0}}}}function ZS(rt,et,it,at){const ct=[],vt=rt.image,Rt=vt.pixelRatio,Nt=vt.paddedRect.w-2,Jt=vt.paddedRect.h-2,Yt=rt.right-rt.left,sn=rt.bottom-rt.top,dn=vt.stretchX||[[0,Nt]],gn=vt.stretchY||[[0,Jt]],Rn=(Dr,Hr)=>Dr+Hr[1]-Hr[0],Bn=dn.reduce(Rn,0),kn=gn.reduce(Rn,0),Ln=Nt-Bn,ir=Jt-kn;let _r=0,rr=Bn,fr=0,Ur=kn,pr=0,Vr=Ln,Cr=0,Jr=ir;if(vt.content&&at){const Dr=vt.content;_r=cU(dn,0,Dr[0]),fr=cU(gn,0,Dr[1]),rr=cU(dn,Dr[0],Dr[2]),Ur=cU(gn,Dr[1],Dr[3]),pr=Dr[0]-_r,Cr=Dr[1]-fr,Vr=Dr[2]-Dr[0]-rr,Jr=Dr[3]-Dr[1]-Ur}const so=(Dr,Hr,$r,eo)=>{const lo=hU(Dr.stretch-_r,rr,Yt,rt.left),Or=dU(Dr.fixed-pr,Vr,Dr.stretch,Bn),_o=hU(Hr.stretch-fr,Ur,sn,rt.top),jo=dU(Hr.fixed-Cr,Jr,Hr.stretch,kn),bo=hU($r.stretch-_r,rr,Yt,rt.left),Mo=dU($r.fixed-pr,Vr,$r.stretch,Bn),vo=hU(eo.stretch-fr,Ur,sn,rt.top),Zo=dU(eo.fixed-Cr,Jr,eo.stretch,kn),is=new pt(lo,_o),cs=new pt(bo,_o),xs=new pt(bo,vo),ns=new pt(lo,vo),yl=new pt(Or/Rt,jo/Rt),ms=new pt(Mo/Rt,Zo/Rt),Fs=et*Math.PI/180;if(Fs){const ga=Math.sin(Fs),xa=Math.cos(Fs),_l=[xa,-ga,ga,xa];is._matMult(_l),cs._matMult(_l),ns._matMult(_l),xs._matMult(_l)}const Ys=Dr.stretch+Dr.fixed,ba=Hr.stretch+Hr.fixed;return{tl:is,tr:cs,bl:ns,br:xs,tex:{x:vt.paddedRect.x+1+Ys,y:vt.paddedRect.y+1+ba,w:$r.stretch+$r.fixed-Ys,h:eo.stretch+eo.fixed-ba},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yl,pixelOffsetBR:ms,minFontScaleX:Vr/Rt/Yt,minFontScaleY:Jr/Rt/sn,isSDF:it}};if(at&&(vt.stretchX||vt.stretchY)){const Dr=mF(dn,Ln,Bn),Hr=mF(gn,ir,kn);for(let $r=0;$r<Dr.length-1;$r++){const eo=Dr[$r],lo=Dr[$r+1];for(let Or=0;Or<Hr.length-1;Or++)ct.push(so(eo,Hr[Or],lo,Hr[Or+1]))}}else ct.push(so({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Nt+1},{fixed:0,stretch:Jt+1}));return ct}function cU(rt,et,it){let at=0;for(const ct of rt)at+=Math.max(et,Math.min(it,ct[1]))-Math.max(et,Math.min(it,ct[0]));return at}function mF(rt,et,it){const at=[{fixed:-1,stretch:0}];for(const[ct,vt]of rt){const Rt=at[at.length-1];at.push({fixed:ct-Rt.stretch,stretch:Rt.stretch}),at.push({fixed:ct-Rt.stretch,stretch:Rt.stretch+(vt-ct)})}return at.push({fixed:et+1,stretch:it}),at}function hU(rt,et,it,at){return rt/et*it+at}function dU(rt,et,it,at){return rt-et*it/at}function mR(rt,et,it,at){const ct=et+rt.positionedLines[at].lineOffset;return at===0?it+ct/2:it+(ct+(et+rt.positionedLines[at-1].lineOffset))/2}$0.loadGlyphRange=function(rt,et,it,at,ct){const vt=256*et,Rt=vt+255,Nt=at.transformRequest(at.normalizeGlyphsURL(it).replace("{fontstack}",rt).replace("{range}",`${vt}-${Rt}`),hs.Glyphs);Us(Nt,(Jt,Yt)=>{if(Jt)ct(Jt);else if(Yt){const sn={},dn=function(gn){return new G0(gn).readFields(Rs,{})}(Yt);for(const gn of dn.glyphs)sn[gn.id]=gn;ct(null,{glyphs:sn,ascender:dn.ascender,descender:dn.descender})}})},$0.TinySDF=class{constructor({fontSize:rt=24,buffer:et=3,radius:it=8,cutoff:at=.25,fontFamily:ct="sans-serif",fontWeight:vt="normal",fontStyle:Rt="normal"}={}){this.buffer=et,this.cutoff=at,this.radius=it;const Nt=this.size=rt+4*et,Jt=this._createCanvas(Nt),Yt=this.ctx=Jt.getContext("2d",{willReadFrequently:!0});Yt.font=`${Rt} ${vt} ${rt}px ${ct}`,Yt.textBaseline="alphabetic",Yt.textAlign="left",Yt.fillStyle="black",this.gridOuter=new Float64Array(Nt*Nt),this.gridInner=new Float64Array(Nt*Nt),this.f=new Float64Array(Nt),this.z=new Float64Array(Nt+1),this.v=new Uint16Array(Nt)}_createCanvas(rt){const et=document.createElement("canvas");return et.width=et.height=rt,et}draw(rt){const{width:et,actualBoundingBoxAscent:it,actualBoundingBoxDescent:at,actualBoundingBoxLeft:ct,actualBoundingBoxRight:vt}=this.ctx.measureText(rt),Rt=Math.ceil(it),Nt=Math.min(this.size-this.buffer,Math.ceil(vt-ct)),Jt=Math.min(this.size-this.buffer,Rt+Math.ceil(at)),Yt=Nt+2*this.buffer,sn=Jt+2*this.buffer,dn=Math.max(Yt*sn,0),gn=new Uint8ClampedArray(dn),Rn={data:gn,width:Yt,height:sn,glyphWidth:Nt,glyphHeight:Jt,glyphTop:Rt,glyphLeft:0,glyphAdvance:et};if(Nt===0||Jt===0)return Rn;const{ctx:Bn,buffer:kn,gridInner:Ln,gridOuter:ir}=this;Bn.clearRect(kn,kn,Nt,Jt),Bn.fillText(rt,kn,kn+Rt);const _r=Bn.getImageData(kn,kn,Nt,Jt);ir.fill(X_,0,dn),Ln.fill(0,0,dn);for(let rr=0;rr<Jt;rr++)for(let fr=0;fr<Nt;fr++){const Ur=_r.data[4*(rr*Nt+fr)+3]/255;if(Ur===0)continue;const pr=(rr+kn)*Yt+fr+kn;if(Ur===1)ir[pr]=0,Ln[pr]=X_;else{const Vr=.5-Ur;ir[pr]=Vr>0?Vr*Vr:0,Ln[pr]=Vr<0?Vr*Vr:0}}jS(ir,0,0,Yt,sn,Yt,this.f,this.v,this.z),jS(Ln,kn,kn,Nt,Jt,Yt,this.f,this.v,this.z);for(let rr=0;rr<dn;rr++){const fr=Math.sqrt(ir[rr])-Math.sqrt(Ln[rr]);gn[rr]=Math.round(255-255*(fr/this.radius+this.cutoff))}return Rn}};class GS{constructor(et=[],it=HS){if(this.data=et,this.length=this.data.length,this.compare=it,this.length>0)for(let at=(this.length>>1)-1;at>=0;at--)this._down(at)}push(et){this.data.push(et),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const et=this.data[0],it=this.data.pop();return this.length--,this.length>0&&(this.data[0]=it,this._down(0)),et}peek(){return this.data[0]}_up(et){const{data:it,compare:at}=this,ct=it[et];for(;et>0;){const vt=et-1>>1,Rt=it[vt];if(at(ct,Rt)>=0)break;it[et]=Rt,et=vt}it[et]=ct}_down(et){const{data:it,compare:at}=this,ct=this.length>>1,vt=it[et];for(;et<ct;){let Rt=1+(et<<1),Nt=it[Rt];const Jt=Rt+1;if(Jt<this.length&&at(it[Jt],Nt)<0&&(Rt=Jt,Nt=it[Jt]),at(Nt,vt)>=0)break;it[et]=Nt,et=Rt}it[et]=vt}}function HS(rt,et){return rt<et?-1:rt>et?1:0}function yR(rt,et=1,it=!1){let at=1/0,ct=1/0,vt=-1/0,Rt=-1/0;const Nt=rt[0];for(let Rn=0;Rn<Nt.length;Rn++){const Bn=Nt[Rn];(!Rn||Bn.x<at)&&(at=Bn.x),(!Rn||Bn.y<ct)&&(ct=Bn.y),(!Rn||Bn.x>vt)&&(vt=Bn.x),(!Rn||Bn.y>Rt)&&(Rt=Bn.y)}const Jt=Math.min(vt-at,Rt-ct);let Yt=Jt/2;const sn=new GS([],_R);if(Jt===0)return new pt(at,ct);for(let Rn=at;Rn<vt;Rn+=Jt)for(let Bn=ct;Bn<Rt;Bn+=Jt)sn.push(new X0(Rn+Yt,Bn+Yt,Yt,rt));let dn=function(Rn){let Bn=0,kn=0,Ln=0;const ir=Rn[0];for(let _r=0,rr=ir.length,fr=rr-1;_r<rr;fr=_r++){const Ur=ir[_r],pr=ir[fr],Vr=Ur.x*pr.y-pr.x*Ur.y;kn+=(Ur.x+pr.x)*Vr,Ln+=(Ur.y+pr.y)*Vr,Bn+=3*Vr}return new X0(kn/Bn,Ln/Bn,0,Rn)}(rt),gn=sn.length;for(;sn.length;){const Rn=sn.pop();(Rn.d>dn.d||!dn.d)&&(dn=Rn,it&&console.log("found best %d after %d probes",Math.round(1e4*Rn.d)/1e4,gn)),Rn.max-dn.d<=et||(Yt=Rn.h/2,sn.push(new X0(Rn.p.x-Yt,Rn.p.y-Yt,Yt,rt)),sn.push(new X0(Rn.p.x+Yt,Rn.p.y-Yt,Yt,rt)),sn.push(new X0(Rn.p.x-Yt,Rn.p.y+Yt,Yt,rt)),sn.push(new X0(Rn.p.x+Yt,Rn.p.y+Yt,Yt,rt)),gn+=4)}return it&&(console.log(`num probes: ${gn}`),console.log(`best distance: ${dn.d}`)),dn.p}function _R(rt,et){return et.max-rt.max}function X0(rt,et,it,at){this.p=new pt(rt,et),this.h=it,this.d=function(ct,vt){let Rt=!1,Nt=1/0;for(let Jt=0;Jt<vt.length;Jt++){const Yt=vt[Jt];for(let sn=0,dn=Yt.length,gn=dn-1;sn<dn;gn=sn++){const Rn=Yt[sn],Bn=Yt[gn];Rn.y>ct.y!=Bn.y>ct.y&&ct.x<(Bn.x-Rn.x)*(ct.y-Rn.y)/(Bn.y-Rn.y)+Rn.x&&(Rt=!Rt),Nt=Math.min(Nt,jF(ct,Rn,Bn))}}return(Rt?1:-1)*Math.sqrt(Nt)}(this.p,at),this.max=this.d+this.h*Math.SQRT2}const yF=Number.POSITIVE_INFINITY,q0=Math.sqrt(2);function YS(rt,et){return et[1]!==yF?function(it,at,ct){let vt=0,Rt=0;switch(at=Math.abs(at),ct=Math.abs(ct),it){case"top-right":case"top-left":case"top":Rt=ct-7;break;case"bottom-right":case"bottom-left":case"bottom":Rt=7-ct}switch(it){case"top-right":case"bottom-right":case"right":vt=-at;break;case"top-left":case"bottom-left":case"left":vt=at}return[vt,Rt]}(rt,et[0],et[1]):function(it,at){let ct=0,vt=0;at<0&&(at=0);const Rt=at/q0;switch(it){case"top-right":case"top-left":vt=Rt-7;break;case"bottom-right":case"bottom-left":vt=7-Rt;break;case"bottom":vt=7-at;break;case"top":vt=at-7}switch(it){case"top-right":case"bottom-right":ct=-Rt;break;case"top-left":case"bottom-left":ct=Rt;break;case"left":ct=at;break;case"right":ct=-at}return[ct,vt]}(rt,et[0])}function vR(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt){rt.createArrays(),rt.tilePixelRatio=zo/(512*rt.overscaling),rt.compareText={},rt.iconsNeedLinear=!1;const sn=rt.layers[0].layout,dn=rt.layers[0]._unevaluatedLayout._values,gn={};if(rt.textSizeData.kind==="composite"){const{minZoom:kn,maxZoom:Ln}=rt.textSizeData;gn.compositeTextSizes=[dn["text-size"].possiblyEvaluate(new tr(kn),Nt),dn["text-size"].possiblyEvaluate(new tr(Ln),Nt)]}if(rt.iconSizeData.kind==="composite"){const{minZoom:kn,maxZoom:Ln}=rt.iconSizeData;gn.compositeIconSizes=[dn["icon-size"].possiblyEvaluate(new tr(kn),Nt),dn["icon-size"].possiblyEvaluate(new tr(Ln),Nt)]}gn.layoutTextSize=dn["text-size"].possiblyEvaluate(new tr(Jt+1),Nt),gn.layoutIconSize=dn["icon-size"].possiblyEvaluate(new tr(Jt+1),Nt),gn.textMaxSize=dn["text-size"].possiblyEvaluate(new tr(18),Nt);const Rn=sn.get("text-rotation-alignment")==="map"&&sn.get("symbol-placement")!=="point",Bn=sn.get("text-size");for(const kn of rt.features){const Ln=sn.get("text-font").evaluate(kn,{},Nt).join(","),ir=Bn.evaluate(kn,{},Nt),_r=gn.layoutTextSize.evaluate(kn,{},Nt),rr=(gn.layoutIconSize.evaluate(kn,{},Nt),{horizontal:{},vertical:void 0}),fr=kn.text;let Ur,pr=[0,0];if(fr){const Jr=fr.toString(),so=sn.get("text-letter-spacing").evaluate(kn,{},Nt)*uu,Dr=sn.get("text-line-height").evaluate(kn,{},Nt)*uu,Hr=Ut(Jr)?so:0,$r=sn.get("text-anchor").evaluate(kn,{},Nt),eo=sn.get("text-variable-anchor");if(!eo){const bo=sn.get("text-radial-offset").evaluate(kn,{},Nt);pr=bo?YS($r,[bo*uu,yF]):sn.get("text-offset").evaluate(kn,{},Nt).map(Mo=>Mo*uu)}let lo=Rn?"center":sn.get("text-justify").evaluate(kn,{},Nt);const Or=sn.get("symbol-placement")==="point",_o=Or?sn.get("text-max-width").evaluate(kn,{},Nt)*uu:1/0,jo=bo=>{rt.allowVerticalPlacement&&lt(Jr)&&(rr.vertical=pF(fr,et,it,ct,Ln,_o,Dr,$r,bo,Hr,pr,vp.vertical,!0,_r,ir))};if(!Rn&&eo){const bo=lo==="auto"?eo.map(vo=>_F(vo)):[lo];let Mo=!1;for(let vo=0;vo<bo.length;vo++){const Zo=bo[vo];if(!rr.horizontal[Zo])if(Mo)rr.horizontal[Zo]=rr.horizontal[0];else{const is=pF(fr,et,it,ct,Ln,_o,Dr,"center",Zo,Hr,pr,vp.horizontal,!1,_r,ir);is&&(rr.horizontal[Zo]=is,Mo=is.positionedLines.length===1)}}jo("left")}else{if(lo==="auto"&&(lo=_F($r)),Or||sn.get("text-writing-mode").indexOf("horizontal")>=0||!lt(Jr)){const bo=pF(fr,et,it,ct,Ln,_o,Dr,$r,lo,Hr,pr,vp.horizontal,!1,_r,ir);bo&&(rr.horizontal[lo]=bo)}jo(Or?"left":lo)}}let Vr=!1;if(kn.icon&&kn.icon.name){const Jr=at[kn.icon.name];Jr&&(Ur=fR(ct[kn.icon.name],sn.get("icon-offset").evaluate(kn,{},Nt),sn.get("icon-anchor").evaluate(kn,{},Nt)),Vr=Jr.sdf,rt.sdfIcons===void 0?rt.sdfIcons=Jr.sdf:rt.sdfIcons!==Jr.sdf&&hn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Jr.pixelRatio!==rt.pixelRatio||sn.get("icon-rotate").constantOr(1)!==0)&&(rt.iconsNeedLinear=!0))}const Cr=UF(rr.horizontal)||rr.vertical;rt.iconsInText||(rt.iconsInText=!!Cr&&Cr.iconsInText),(Cr||Ur)&&UR(rt,kn,rr,Ur,at,gn,_r,0,pr,Vr,Rt,Nt,Yt)}vt&&rt.generateCollisionDebugBuffers(Jt,rt.collisionBoxArray)}function _F(rt){switch(rt){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function UR(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn){let Rn=vt.textMaxSize.evaluate(et,{},dn);Rn===void 0&&(Rn=Rt);const Bn=rt.layers[0].layout,kn=Bn.get("icon-offset").evaluate(et,{},dn),Ln=UF(it.horizontal)||it.vertical,ir=gn.name==="globe",_r=Rt/24,rr=rt.tilePixelRatio*Rn/24,fr=(Hr=rt.overscaling,rt.zoom>18&&Hr>2&&(Hr>>=1),Math.max(zo/(512*Hr),1)*Bn.get("symbol-spacing")),Ur=Bn.get("text-padding")*rt.tilePixelRatio,pr=Bn.get("icon-padding")*rt.tilePixelRatio,Vr=bt(Bn.get("text-max-angle")),Cr=Bn.get("text-rotation-alignment")==="map"&&Bn.get("symbol-placement")!=="point",Jr=Bn.get("icon-rotation-alignment")==="map"&&Bn.get("symbol-placement")!=="point",so=Bn.get("symbol-placement"),Dr=fr/2;var Hr;const $r=Bn.get("icon-text-fit");let eo;at&&$r!=="none"&&(rt.allowVerticalPlacement&&it.vertical&&(eo=WS(at,it.vertical,$r,Bn.get("icon-text-fit-padding"),kn,_r)),Ln&&(at=WS(at,Ln,$r,Bn.get("icon-text-fit-padding"),kn,_r)));const lo=(Or,_o,jo)=>{if(_o.x<0||_o.x>=zo||_o.y<0||_o.y>=zo)return;let bo=null;if(ir){const{x:Mo,y:vo,z:Zo}=gn.projectTilePoint(_o.x,_o.y,jo);bo={anchor:new jm(Mo,vo,Zo,0,void 0),up:gn.upVector(jo,_o.x,_o.y)}}(function(Mo,vo,Zo,is,cs,xs,ns,yl,ms,Fs,Ys,ba,ga,xa,_l,Al,Uu,Zs,$l,Gl,Vs,Rl,tu,$s,Wl){const Pu=Mo.addToLineVertexArray(vo,is);let bu,Fu,np,Su,e0,wU,kF,VF=0,sw=0,aw=0,lw=0,JR=-1,jR=-1;const wy={};let uw=x0.exports("");const ov=Zo?Zo.anchor:vo;let zR=0,ZR=0;if(ms._unevaluatedLayout.getValue("text-radial-offset")===void 0?[zR,ZR]=ms.layout.get("text-offset").evaluate(Vs,{},Wl).map(Dp=>Dp*uu):(zR=ms.layout.get("text-radial-offset").evaluate(Vs,{},Wl)*uu,ZR=yF),Mo.allowVerticalPlacement&&cs.vertical){const Dp=cs.vertical;if(_l)wU=bF(Dp),yl&&(kF=bF(yl));else{const Op=ms.layout.get("text-rotate").evaluate(Vs,{},Wl)+90;np=fU(Fs,ov,vo,Ys,ba,ga,Dp,xa,Op,Al),yl&&(Su=fU(Fs,ov,vo,Ys,ba,ga,yl,Zs,Op))}}if(xs){const Dp=ms.layout.get("icon-rotate").evaluate(Vs,{},Wl),Op=ms.layout.get("icon-text-fit")!=="none",MF=ZS(xs,Dp,tu,Op),HR=yl?ZS(yl,Dp,tu,Op):void 0;Fu=fU(Fs,ov,vo,Ys,ba,ga,xs,Zs,Dp),VF=4*MF.length;const cw=Mo.iconSizeData;let sv=null;cw.kind==="source"?(sv=[Fm*ms.layout.get("icon-size").evaluate(Vs,{},Wl)],sv[0]>by&&hn(`${Mo.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):cw.kind==="composite"&&(sv=[Fm*Rl.compositeIconSizes[0].evaluate(Vs,{},Wl),Fm*Rl.compositeIconSizes[1].evaluate(Vs,{},Wl)],(sv[0]>by||sv[1]>by)&&hn(`${Mo.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Mo.addSymbols(Mo.icon,MF,sv,Gl,$l,Vs,!1,Zo,vo,Pu.lineStartIndex,Pu.lineLength,-1,$s,Wl),JR=Mo.icon.placedSymbolArray.length-1,HR&&(sw=4*HR.length,Mo.addSymbols(Mo.icon,HR,sv,Gl,$l,Vs,vp.vertical,Zo,vo,Pu.lineStartIndex,Pu.lineLength,-1,$s,Wl),jR=Mo.icon.placedSymbolArray.length-1)}for(const Dp in cs.horizontal){const Op=cs.horizontal[Dp];bu||(uw=x0.exports(Op.text),_l?e0=bF(Op):bu=fU(Fs,ov,vo,Ys,ba,ga,Op,xa,ms.layout.get("text-rotate").evaluate(Vs,{},Wl),Al));const MF=Op.positionedLines.length===1;if(aw+=vF(Mo,Zo,vo,Op,ns,ms,_l,Vs,Al,Pu,cs.vertical?vp.horizontal:vp.horizontalOnly,MF?Object.keys(cs.horizontal):[Dp],wy,JR,Rl,$s,Wl),MF)break}cs.vertical&&(lw+=vF(Mo,Zo,vo,cs.vertical,ns,ms,_l,Vs,Al,Pu,vp.vertical,["vertical"],wy,jR,Rl,$s,Wl));let s_=-1;const GR=(Dp,Op)=>Dp?Math.max(Dp,Op):Op;s_=GR(e0,s_),s_=GR(wU,s_),s_=GR(kF,s_);const gw=s_>-1?1:0;Mo.glyphOffsetArray.length>=Sy.MAX_GLYPHS&&hn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Vs.sortKey!==void 0&&Mo.addToSortKeyRanges(Mo.symbolInstances.length,Vs.sortKey),Mo.symbolInstances.emplaceBack(ov.x,ov.y,ov.z,vo.x,vo.y,wy.right>=0?wy.right:-1,wy.center>=0?wy.center:-1,wy.left>=0?wy.left:-1,wy.vertical>=0?wy.vertical:-1,JR,jR,uw,bu!==void 0?bu:Mo.collisionBoxArray.length,bu!==void 0?bu+1:Mo.collisionBoxArray.length,np!==void 0?np:Mo.collisionBoxArray.length,np!==void 0?np+1:Mo.collisionBoxArray.length,Fu!==void 0?Fu:Mo.collisionBoxArray.length,Fu!==void 0?Fu+1:Mo.collisionBoxArray.length,Su||Mo.collisionBoxArray.length,Su?Su+1:Mo.collisionBoxArray.length,Ys,aw,lw,VF,sw,gw,0,zR,ZR,s_)})(rt,_o,bo,Or,it,at,ct,eo,rt.layers[0],rt.collisionBoxArray,et.index,et.sourceLayerIndex,rt.index,Ur,Cr,Jt,0,pr,Jr,kn,et,vt,Yt,sn,dn)};if(so==="line")for(const Or of Du(et.geometry,0,0,zo,zo)){const _o=gR(Or,fr,Vr,it.vertical||Ln,at,24,rr,rt.overscaling,zo);for(const jo of _o){const bo=Ln;bo&&bR(rt,bo.text,Dr,jo)||lo(Or,jo,dn)}}else if(so==="line-center"){for(const Or of et.geometry)if(Or.length>1){const _o=pR(Or,Vr,it.vertical||Ln,at,24,rr);_o&&lo(Or,_o,dn)}}else if(et.type==="Polygon")for(const Or of nF(et.geometry,0)){const _o=yR(Or,16);lo(Or[0],new jm(_o.x,_o.y,0,0,void 0),dn)}else if(et.type==="LineString")for(const Or of et.geometry)lo(Or,new jm(Or[0].x,Or[0].y,0,0,void 0),dn);else if(et.type==="Point")for(const Or of et.geometry)for(const _o of Or)lo([_o],new jm(_o.x,_o.y,0,0,void 0),dn)}const by=32640;function vF(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn,kn,Ln){const ir=function(fr,Ur,pr,Vr,Cr,Jr,so,Dr){const Hr=[];if(Ur.positionedLines.length===0)return Hr;const $r=Vr.layout.get("text-rotate").evaluate(Jr,{})*Math.PI/180,eo=function(bo){const Mo=bo[0],vo=bo[1],Zo=Mo*vo;return Zo>0?[Mo,-vo]:Zo<0?[-Mo,vo]:Mo===0?[vo,Mo]:[vo,-Mo]}(pr);let lo=Math.abs(Ur.top-Ur.bottom);for(const bo of Ur.positionedLines)lo-=bo.lineOffset;const Or=Ur.positionedLines.length,_o=lo/Or;let jo=Ur.top-pr[1];for(let bo=0;bo<Or;++bo){const Mo=Ur.positionedLines[bo];jo=mR(Ur,_o,jo,bo);for(const vo of Mo.positionedGlyphs){if(!vo.rect)continue;const Zo=vo.rect||{};let is=4,cs=!0,xs=1,ns=0;if(vo.imageName){const $s=so[vo.imageName];if(!$s)continue;if($s.sdf){hn("SDF images are not supported in formatted text and will be ignored.");continue}cs=!1,xs=$s.pixelRatio,is=1/xs}const yl=(Cr||Dr)&&vo.vertical,ms=vo.metrics.advance*vo.scale/2,Fs=vo.metrics,Ys=vo.rect;if(Ys===null)continue;Dr&&Ur.verticalizable&&(ns=vo.imageName?ms-vo.metrics.width*vo.scale/2:0);const ba=Cr?[vo.x+ms,vo.y]:[0,0];let ga=[0,0],xa=[0,0],_l=!1;Cr||(yl?(xa=[vo.x+ms+eo[0],vo.y+eo[1]-ns],_l=!0):ga=[vo.x+ms+pr[0],vo.y+pr[1]-ns]);const Al=Ys.w*vo.scale/(xs*(vo.localGlyph?2:1)),Uu=Ys.h*vo.scale/(xs*(vo.localGlyph?2:1));let Zs,$l,Gl,Vs;if(yl){const $s=vo.y-jo,Wl=new pt(-ms,ms-$s),Pu=-Math.PI/2,bu=new pt(...xa);Zs=new pt(-ms+ga[0],ga[1]),Zs._rotateAround(Pu,Wl)._add(bu),Zs.x+=-$s+ms,Zs.y-=(Fs.left-is)*vo.scale;const Fu=vo.imageName?Fs.advance*vo.scale:uu*vo.scale,np=String.fromCharCode(vo.glyph);xl(np)?Zs.x+=(1-is)*vo.scale:Il(np)?Zs.x+=Fu-Fs.height*vo.scale+(-is-1)*vo.scale:Zs.x+=vo.imageName||Fs.width+2*is===Ys.w&&Fs.height+2*is===Ys.h?(Fu-Uu)/2:(Fu-(Fs.height+2*is)*vo.scale)/2,$l=new pt(Zs.x,Zs.y-Al),Gl=new pt(Zs.x+Uu,Zs.y),Vs=new pt(Zs.x+Uu,Zs.y-Al)}else{const $s=(Fs.left-is)*vo.scale-ms+ga[0],Wl=(-Fs.top-is)*vo.scale+ga[1],Pu=$s+Al,bu=Wl+Uu;Zs=new pt($s,Wl),$l=new pt(Pu,Wl),Gl=new pt($s,bu),Vs=new pt(Pu,bu)}if($r){let $s;$s=Cr?new pt(0,0):_l?new pt(eo[0],eo[1]):new pt(pr[0],pr[1]),Zs._rotateAround($r,$s),$l._rotateAround($r,$s),Gl._rotateAround($r,$s),Vs._rotateAround($r,$s)}const Rl=new pt(0,0),tu=new pt(0,0);Hr.push({tl:Zs,tr:$l,bl:Gl,br:Vs,tex:Zo,writingMode:Ur.writingMode,glyphOffset:ba,sectionIndex:vo.sectionIndex,isSDF:cs,pixelOffsetTL:Rl,pixelOffsetBR:tu,minFontScaleX:0,minFontScaleY:0})}}return Hr}(0,at,Jt,vt,Rt,Nt,ct,rt.allowVerticalPlacement),_r=rt.textSizeData;let rr=null;_r.kind==="source"?(rr=[Fm*vt.layout.get("text-size").evaluate(Nt,{},Ln)],rr[0]>by&&hn(`${rt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):_r.kind==="composite"&&(rr=[Fm*Bn.compositeTextSizes[0].evaluate(Nt,{},Ln),Fm*Bn.compositeTextSizes[1].evaluate(Nt,{},Ln)],(rr[0]>by||rr[1]>by)&&hn(`${rt.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),rt.addSymbols(rt.text,ir,rr,Jt,Rt,Nt,sn,et,it,Yt.lineStartIndex,Yt.lineLength,Rn,kn,Ln);for(const fr of dn)gn[fr]=rt.text.placedSymbolArray.length-1;return 4*ir.length}function UF(rt){for(const et in rt)return rt[et];return null}function fU(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt){let sn=Rt.top,dn=Rt.bottom,gn=Rt.left,Rn=Rt.right;const Bn=Rt.collisionPadding;if(Bn&&(gn-=Bn[0],sn-=Bn[1],Rn+=Bn[2],dn+=Bn[3]),Jt){const kn=new pt(gn,sn),Ln=new pt(Rn,sn),ir=new pt(gn,dn),_r=new pt(Rn,dn),rr=bt(Jt);let fr=new pt(0,0);Yt&&(fr=new pt(Yt[0],Yt[1])),kn._rotateAround(rr,fr),Ln._rotateAround(rr,fr),ir._rotateAround(rr,fr),_r._rotateAround(rr,fr),gn=Math.min(kn.x,Ln.x,ir.x,_r.x),Rn=Math.max(kn.x,Ln.x,ir.x,_r.x),sn=Math.min(kn.y,Ln.y,ir.y,_r.y),dn=Math.max(kn.y,Ln.y,ir.y,_r.y)}return rt.emplaceBack(et.x,et.y,et.z,it.x,it.y,gn,sn,Rn,dn,Nt,at,ct,vt),rt.length-1}function bF(rt){rt.collisionPadding&&(rt.top-=rt.collisionPadding[1],rt.bottom+=rt.collisionPadding[3]);const et=rt.bottom-rt.top;return et>0?Math.max(10,et):null}function bR(rt,et,it,at){const ct=rt.compareText;if(et in ct){const vt=ct[et];for(let Rt=vt.length-1;Rt>=0;Rt--)if(at.dist(vt[Rt])<it)return!0}else ct[et]=[];return ct[et].push(at),!1}const FR=ho([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:$S}=FR,XS=ho([{name:"a_pos_3",components:3,type:"Int16"}]);var q_=ho([{name:"a_pos",type:"Int16",components:2}]);const zm=zo/Math.PI/2,FF=2*gp(1,0)*zm*Math.PI,K0=64,e_=[K0,32,16],tm=-zm,nm=zm,SR=[new Au([tm,tm,tm],[nm,nm,nm]),new Au([tm,tm,tm],[0,0,nm]),new Au([0,tm,tm],[nm,0,nm]),new Au([tm,0,tm],[0,nm,nm]),new Au([0,0,tm],[nm,nm,nm])];function qS(rt,et,it,at=!0){const ct=yp([],rt._camera.position,rt.worldSize),vt=[et,it,1,1];yy(vt,vt,rt.pixelMatrixInverse),KF(vt,vt,1/vt[3]);const Rt=xu([],Vp([],vt,ct)),Nt=rt.globeMatrix,Jt=[Nt[12],Nt[13],Nt[14]],Yt=Vp([],Jt,ct),sn=em(Yt),dn=xu([],Yt),gn=rt.worldSize/(2*Math.PI),Rn=kp(dn,Rt),Bn=Math.asin(gn/sn);if(Bn<Math.acos(Rn)){if(!at)return null;const so=[],Dr=[];yp(so,Rt,sn/Rn),xu(Dr,Vp(Dr,so,Yt)),xu(Rt,bm(Rt,Yt,yp(Rt,Dr,Math.tan(Bn)*sn)))}const kn=[];new $U(ct,Rt).closestPointOnSphere(Jt,gn,kn);const Ln=xu([],jr(Nt,0)),ir=xu([],jr(Nt,1)),_r=xu([],jr(Nt,2)),rr=kp(Ln,kn),fr=kp(ir,kn),Ur=kp(_r,kn),pr=St(Math.asin(-fr/gn));let Vr=St(Math.atan2(rr,Ur));Vr=rt.center.lng+function(so,Dr){const Hr=(Dr-so+180)%360-180;return Hr<-180?Hr+360:Hr}(rt.center.lng,Vr);const Cr=au(Vr),Jr=zt(qp(pr),0,1);return new py(Cr,Jr)}class RR{constructor(et,it,at){this.a=Vp([],et,at),this.b=Vp([],it,at),this.center=at;const ct=xu([],this.a),vt=xu([],this.b);this.angle=Math.acos(kp(ct,vt))}}function SF(rt,et){if(rt.angle===0)return null;let it;return it=rt.a[et]===0?1/rt.angle*.5*Math.PI:1/rt.angle*Math.atan(rt.b[et]/rt.a[et]/Math.sin(rt.angle)-1/Math.tan(rt.angle)),it<0||it>1?null:function(at,ct,vt,Rt){const Nt=Math.sin(vt);return at*(Math.sin((1-Rt)*vt)/Nt)+ct*(Math.sin(Rt*vt)/Nt)}(rt.a[et],rt.b[et],rt.angle,zt(it,0,1))+rt.center[et]}function Bm(rt){if(rt.z<=1)return SR[rt.z+2*rt.y+rt.x];const et=RF(pU(rt));return Au.fromPoints(et)}function $y(rt,et,it){return yp(rt,rt,1-it),W_(rt,rt,et,it)}function KS(rt,et){const it=r_(et.zoom);if(it===0)return Bm(rt);const at=pU(rt),ct=RF(at),vt=au(at.getWest())*et.worldSize,Rt=au(at.getEast())*et.worldSize,Nt=qp(at.getNorth())*et.worldSize,Jt=qp(at.getSouth())*et.worldSize,Yt=[vt,Nt,0],sn=[Rt,Nt,0],dn=[vt,Jt,0],gn=[Rt,Jt,0],Rn=Pv([],et.globeMatrix);return Ol(Yt,Yt,Rn),Ol(sn,sn,Rn),Ol(dn,dn,Rn),Ol(gn,gn,Rn),ct[0]=$y(ct[0],dn,it),ct[1]=$y(ct[1],gn,it),ct[2]=$y(ct[2],sn,it),ct[3]=$y(ct[3],Yt,it),Au.fromPoints(ct)}function e1(rt,et,it){for(const at of rt)Ol(at,at,et),yp(at,at,it)}function wR(rt,et,it){const at=et/rt.worldSize,ct=rt.globeMatrix;if(it.z<=1){const Cr=Bm(it).getCorners();return e1(Cr,ct,at),Au.fromPoints(Cr)}const vt=pU(it),Rt=RF(vt);e1(Rt,ct,at);const Nt=Number.MAX_VALUE,Jt=[-Nt,-Nt,-Nt],Yt=[Nt,Nt,Nt];if(vt.contains(rt.center)){for(const so of Rt)I_(Yt,Yt,so),P_(Jt,Jt,so);Jt[2]=0;const Cr=rt.point,Jr=[Cr.x*at,Cr.y*at,0];return I_(Yt,Yt,Jr),P_(Jt,Jt,Jr),new Au(Yt,Jt)}const sn=[ct[12]*at,ct[13]*at,ct[14]*at],dn=vt.getCenter(),gn=zt(rt.center.lat,-85.051129,_m),Rn=zt(dn.lat,-85.051129,_m),Bn=au(rt.center.lng),kn=qp(gn);let Ln=Bn-au(dn.lng);const ir=kn-qp(Rn);Ln>.5?Ln-=1:Ln<-.5&&(Ln+=1);let _r=0;Math.abs(Ln)>Math.abs(ir)?_r=Ln>=0?1:3:(_r=ir>=0?0:2,W_(sn,sn,[ct[4]*at,ct[5]*at,ct[6]*at],-Math.sin(bt(ir>=0?vt.getSouth():vt.getNorth()))*zm));const rr=Rt[_r],fr=Rt[(_r+1)%4],Ur=new RR(rr,fr,sn),pr=[SF(Ur,0)||rr[0],SF(Ur,1)||rr[1],SF(Ur,2)||rr[2]],Vr=r_(rt.zoom);if(Vr>0){const Cr=function({x:so,y:Dr,z:Hr},$r,eo,lo,Or){const _o=1/(1<<Hr);let jo=so*_o,bo=jo+_o,Mo=Dr*_o,vo=Mo+_o,Zo=0;const is=(jo+bo)/2-lo;return is>.5?Zo=-1:is<-.5&&(Zo=1),jo=((jo+Zo)*$r-(lo*=$r))*eo+lo,bo=((bo+Zo)*$r-lo)*eo+lo,Mo=(Mo*$r-(Or*=$r))*eo+Or,vo=(vo*$r-Or)*eo+Or,[[jo,vo,0],[bo,vo,0],[bo,Mo,0],[jo,Mo,0]]}(it,et,rt._pixelsPerMercatorPixel,Bn,kn);for(let so=0;so<Rt.length;so++)$y(Rt[so],Cr[so],Vr);const Jr=bm([],Cr[_r],Cr[(_r+1)%4]);yp(Jr,Jr,.5),$y(pr,Jr,Vr)}for(const Cr of Rt)I_(Yt,Yt,Cr),P_(Jt,Jt,Cr);return Yt[2]=Math.min(rr[2],fr[2]),I_(Yt,Yt,pr),P_(Jt,Jt,pr),new Au(Yt,Jt)}function pU({x:rt,y:et,z:it}){const at=1/(1<<it),ct=new Es(mp(rt*at),Kl((et+1)*at)),vt=new Es(mp((rt+1)*at),Kl(et*at));return new Xp(ct,vt)}function RF(rt){const et=bt(rt.getNorth()),it=bt(rt.getSouth()),at=Math.cos(et),ct=Math.cos(it),vt=Math.sin(et),Rt=Math.sin(it),Nt=rt.getWest(),Jt=rt.getEast();return[t_(ct,Rt,Nt),t_(ct,Rt,Jt),t_(at,vt,Jt),t_(at,vt,Nt)]}function t_(rt,et,it,at=zm){return it=bt(it),[rt*Math.sin(it)*at,-et*at,rt*Math.cos(it)*at]}function Xy(rt,et,it){return t_(Math.cos(bt(rt)),Math.sin(bt(rt)),et,it)}function n_(rt,et,it,at){const ct=1<<it.z,vt=(rt/zo+it.x)/ct;return Xy(Kl((et/zo+it.y)/ct),mp(vt),at)}function K_({min:rt,max:et}){return 16383/Math.max(et[0]-rt[0],et[1]-rt[1],et[2]-rt[2])}const t1=new Float64Array(16);function ev(rt){const et=K_(rt),it=ZU(t1,[et,et,et]);return zy(it,it,((at=[])[0]=-(ct=rt.min)[0],at[1]=-ct[1],at[2]=-ct[2],at));var at,ct}function wF(rt){const et=(at=rt.min,(it=t1)[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=at[0],it[13]=at[1],it[14]=at[2],it[15]=1,it);var it,at;const ct=1/K_(rt);return my(et,et,[ct,ct,ct])}function gU(rt,et,it,at,ct){const vt=function(Jt){const Yt=zo/(2*Math.PI);return Jt/(2*Math.PI)/Yt}(it),Rt=[rt,et,-it/(2*Math.PI)],Nt=Kp(new Float64Array(16));return zy(Nt,Nt,Rt),my(Nt,Nt,[vt,vt,vt]),Zy(Nt,Nt,bt(-ct)),N0(Nt,Nt,bt(-at)),Nt}function r_(rt){return Pt(5,6,rt)}function n1(rt,et){const it=Xy(et.lat,et.lng),at=function(Bn){const kn=Xy(Bn._center.lat,Bn._center.lng);let Ln=YU([],D0(0,1,0),kn);const ir=GU([],-Bn.angle,kn);Ln=Ol(Ln,Ln,ir),GU(ir,-Bn._pitch,Ln);const _r=xu([],kn);return yp(_r,_r,Bn.cameraToCenterDistance/Bn.pixelsPerMeter*FF),Ol(_r,_r,ir),bm([],kn,_r)}(rt);return Rt=(ct=HU([],at,it))[0],Nt=ct[1],Jt=ct[2],Yt=(vt=it)[0],sn=vt[1],dn=vt[2],Rn=(gn=Math.sqrt(Rt*Rt+Nt*Nt+Jt*Jt)*Math.sqrt(Yt*Yt+sn*sn+dn*dn))&&kp(ct,vt)/gn,Math.acos(Math.min(Math.max(Rn,-1),1));var ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn}const r1=bt(85),ep=Math.cos(r1),BF=Math.sin(r1);function i1(rt,et){const it=rt.fovAboveCenter,at=rt.elevation?rt.elevation.getMinElevationBelowMSL()*et:0,ct=(rt._camera.position[2]*rt.worldSize-at)/Math.cos(rt._pitch),vt=Math.sin(it)*ct/Math.sin(Math.max(Math.PI/2-rt._pitch-it,.01)),Rt=Math.sin(rt._pitch)*vt+ct;return Math.min(1.01*Rt,ct*(1/rt._horizonShift))}function qy(rt,et){if(!et.isReprojectedInTileSpace)return{scale:1<<rt.z,x:rt.x,y:rt.y,x2:rt.x+1,y2:rt.y+1,projection:et};const it=Math.pow(2,-rt.z),at=rt.x*it,ct=(rt.x+1)*it,vt=rt.y*it,Rt=(rt.y+1)*it,Nt=mp(at),Jt=mp(ct),Yt=Kl(vt),sn=Kl(Rt),dn=et.project(Nt,Yt),gn=et.project(Jt,Yt),Rn=et.project(Jt,sn),Bn=et.project(Nt,sn);let kn=Math.min(dn.x,gn.x,Rn.x,Bn.x),Ln=Math.min(dn.y,gn.y,Rn.y,Bn.y),ir=Math.max(dn.x,gn.x,Rn.x,Bn.x),_r=Math.max(dn.y,gn.y,Rn.y,Bn.y);const rr=it/16;function fr(pr,Vr,Cr,Jr,so,Dr){const Hr=(Cr+so)/2,$r=(Jr+Dr)/2,eo=et.project(mp(Hr),Kl($r)),lo=Math.max(0,kn-eo.x,Ln-eo.y,eo.x-ir,eo.y-_r);kn=Math.min(kn,eo.x),ir=Math.max(ir,eo.x),Ln=Math.min(Ln,eo.y),_r=Math.max(_r,eo.y),lo>rr&&(fr(pr,eo,Cr,Jr,Hr,$r),fr(eo,Vr,Hr,$r,so,Dr))}fr(dn,gn,at,vt,ct,vt),fr(gn,Rn,ct,vt,ct,Rt),fr(Rn,Bn,ct,Rt,at,Rt),fr(Bn,dn,at,Rt,at,vt),kn-=rr,Ln-=rr,ir+=rr,_r+=rr;const Ur=1/Math.max(ir-kn,_r-Ln);return{scale:Ur,x:kn*Ur,y:Ln*Ur,x2:ir*Ur,y2:_r*Ur,projection:et}}const BR=Kp(new Float32Array(16));class Fy{constructor(et){this.spec=et,this.name=et.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(et,it){return{x:0,y:0,z:0}}unproject(et,it){return new Es(0,0)}projectTilePoint(et,it,at){return{x:et,y:it,z:0}}locationPoint(et,it,at=!0){return et._coordinatePoint(et.locationCoordinate(it),at)}pixelsPerMeter(et,it){return gp(1,et)*it}pixelSpaceConversion(et,it,at){return 1}farthestPixelDistance(et){return i1(et,et.pixelsPerMeter)}pointCoordinate(et,it,at,ct){const vt=et.horizonLineFromTop(!1),Rt=new pt(it,Math.max(vt,at));return et.rayIntersectionCoordinate(et.pointRayIntersection(Rt,ct))}pointCoordinate3D(et,it,at){const ct=new pt(it,at);if(et.elevation)return et.elevation.pointCoordinate(ct);{const vt=this.pointCoordinate(et,ct.x,ct.y,0);return[vt.x,vt.y,vt.z]}}isPointAboveHorizon(et,it){if(et.elevation)return!this.pointCoordinate3D(et,it.x,it.y);const at=et.horizonLineFromTop();return it.y<at}createInversionMatrix(et,it){return BR}createTileMatrix(et,it,at){let ct,vt,Rt;const Nt=at.canonical,Jt=Kp(new Float64Array(16));if(this.isReprojectedInTileSpace){const Yt=qy(Nt,this);ct=1,vt=Yt.x+at.wrap*Yt.scale,Rt=Yt.y,my(Jt,Jt,[ct/Yt.scale,ct/Yt.scale,et.pixelsPerMeter/it])}else ct=it/et.zoomScale(Nt.z),vt=(Nt.x+Math.pow(2,Nt.z)*at.wrap)*ct,Rt=Nt.y*ct;return zy(Jt,Jt,[vt,Rt,0]),my(Jt,Jt,[ct/zo,ct/zo,1]),Jt}upVector(et,it,at){return[0,0,1]}upVectorScale(et,it,at){return{metersToTile:1}}}class EF extends Fy{constructor(et){super(et),this.range=[4,7],this.center=et.center||[-96,37.5];const[it,at]=this.parallels=et.parallels||[29.5,45.5],ct=Math.sin(bt(it));this.n=(ct+Math.sin(bt(at)))/2,this.c=1+ct*(2*this.n-ct),this.r0=Math.sqrt(this.c)/this.n}project(et,it){const{n:at,c:ct,r0:vt}=this,Rt=bt(et-this.center[0]),Nt=bt(it),Jt=Math.sqrt(ct-2*at*Math.sin(Nt))/at;return{x:Jt*Math.sin(Rt*at),y:Jt*Math.cos(Rt*at)-vt,z:0}}unproject(et,it){const{n:at,c:ct,r0:vt}=this,Rt=vt+it;let Nt=Math.atan2(et,Math.abs(Rt))*Math.sign(Rt);Rt*at<0&&(Nt-=Math.PI*Math.sign(et)*Math.sign(Rt));const Jt=bt(this.center[0])*at;Nt=jt(Nt,-Math.PI-Jt,Math.PI-Jt);const Yt=zt(St(Nt/at)+this.center[0],-180,180),sn=Math.asin(zt((ct-(et*et+Rt*Rt)*at*at)/(2*at),-1,1)),dn=zt(St(sn),-85.051129,_m);return new Es(Yt,dn)}}const tv=1.340264,Ky=-.081106,nv=893e-6,rv=.003796,mU=Math.sqrt(3)/2;class ER extends Fy{project(et,it){it=it/180*Math.PI,et=et/180*Math.PI;const at=Math.asin(mU*Math.sin(it)),ct=at*at,vt=ct*ct*ct;return{x:.5*(et*Math.cos(at)/(mU*(tv+3*Ky*ct+vt*(7*nv+9*rv*ct)))/Math.PI+.5),y:1-.5*(at*(tv+Ky*ct+vt*(nv+rv*ct))/Math.PI+1),z:0}}unproject(et,it){et=(2*et-.5)*Math.PI;let at=it=(2*(1-it)-1)*Math.PI,ct=at*at,vt=ct*ct*ct;for(let sn,dn,gn,Rn=0;Rn<12&&(dn=at*(tv+Ky*ct+vt*(nv+rv*ct))-it,gn=tv+3*Ky*ct+vt*(7*nv+9*rv*ct),sn=dn/gn,at=zt(at-sn,-Math.PI/3,Math.PI/3),ct=at*at,vt=ct*ct*ct,!(Math.abs(sn)<1e-12));++Rn);const Rt=mU*et*(tv+3*Ky*ct+vt*(7*nv+9*rv*ct))/Math.cos(at),Nt=Math.asin(Math.sin(at)/mU),Jt=zt(180*Rt/Math.PI,-180,180),Yt=zt(180*Nt/Math.PI,-85.051129,_m);return new Es(Jt,Yt)}}class o1 extends Fy{constructor(et){super(et),this.wrap=!0,this.supportsWorldCopies=!0}project(et,it){return{x:.5+et/360,y:.5-it/360,z:0}}unproject(et,it){const at=360*(et-.5),ct=zt(360*(.5-it),-85.051129,_m);return new Es(at,ct)}}const i_=Math.PI/2;function yU(rt){return Math.tan((i_+rt)/2)}class TR extends Fy{constructor(et){super(et),this.center=et.center||[0,30];const[it,at]=this.parallels=et.parallels||[30,30];let ct=bt(it),vt=bt(at);this.southernCenter=ct+vt<0,this.southernCenter&&(ct=-ct,vt=-vt);const Rt=Math.cos(ct),Nt=yU(ct);this.n=ct===vt?Math.sin(ct):Math.log(Rt/Math.cos(vt))/Math.log(yU(vt)/Nt),this.f=Rt*Math.pow(yU(ct),this.n)/this.n}project(et,it){it=bt(it),this.southernCenter&&(it=-it),et=bt(et-this.center[0]);const at=1e-6,{n:ct,f:vt}=this;vt>0?it<-i_+at&&(it=-i_+at):it>i_-at&&(it=i_-at);const Rt=vt/Math.pow(yU(it),ct);let Nt=Rt*Math.sin(ct*et),Jt=vt-Rt*Math.cos(ct*et);return Nt=.5*(Nt/Math.PI+.5),Jt=.5*(Jt/Math.PI+.5),{x:Nt,y:this.southernCenter?Jt:1-Jt,z:0}}unproject(et,it){et=(2*et-.5)*Math.PI,this.southernCenter&&(it=1-it),it=(2*(1-it)-.5)*Math.PI;const{n:at,f:ct}=this,vt=ct-it,Rt=Math.sign(vt),Nt=Math.sign(at)*Math.sqrt(et*et+vt*vt);let Jt=Math.atan2(et,Math.abs(vt))*Rt;vt*at<0&&(Jt-=Math.PI*Math.sign(et)*Rt);const Yt=zt(St(Jt/at)+this.center[0],-180,180),sn=zt(St(2*Math.atan(Math.pow(ct/Nt,1/at))-i_),-85.051129,_m);return new Es(Yt,this.southernCenter?-sn:sn)}}class _U extends Fy{constructor(et){super(et),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(et,it){return{x:au(et),y:qp(it),z:0}}unproject(et,it){const at=mp(et),ct=Kl(it);return new Es(at,ct)}}const vU=bt(_m);class QR extends Fy{project(et,it){const at=(it=bt(it))*it,ct=at*at;return{x:.5*((et=bt(et))*(.8707-.131979*at+ct*(ct*(.003971*at-.001529*ct)-.013791))/Math.PI+.5),y:1-.5*(it*(1.007226+at*(.015085+ct*(.028874*at-.044475-.005916*ct)))/Math.PI+1),z:0}}unproject(et,it){et=(2*et-.5)*Math.PI;let at=it=(2*(1-it)-1)*Math.PI,ct=25,vt=0,Rt=at*at;do{Rt=at*at;const Yt=Rt*Rt;vt=(at*(1.007226+Rt*(.015085+Yt*(.028874*Rt-.044475-.005916*Yt)))-it)/(1.007226+Rt*(.045255+Yt*(.259866*Rt-.311325-.005916*11*Yt))),at=zt(at-vt,-vU,vU)}while(Math.abs(vt)>1e-6&&--ct>0);Rt=at*at;const Nt=zt(St(et/(.8707+Rt*(Rt*(Rt*Rt*Rt*(.003971-.001529*Rt)-.013791)-.131979))),-180,180),Jt=St(at);return new Es(Nt,Jt)}}const s1=bt(_m);class xR extends Fy{project(et,it){it=bt(it),et=bt(et);const at=Math.cos(it),ct=2/Math.PI,vt=Math.acos(at*Math.cos(et/2)),Rt=Math.sin(vt)/vt,Nt=.5*(et*ct+2*at*Math.sin(et/2)/Rt)||0,Jt=.5*(it+Math.sin(it)/Rt)||0;return{x:.5*(Nt/Math.PI+.5),y:1-.5*(Jt/Math.PI+1),z:0}}unproject(et,it){let at=et=(2*et-.5)*Math.PI,ct=it=(2*(1-it)-1)*Math.PI,vt=25;const Rt=1e-6;let Nt=0,Jt=0;do{const Yt=Math.cos(ct),sn=Math.sin(ct),dn=2*sn*Yt,gn=sn*sn,Rn=Yt*Yt,Bn=Math.cos(at/2),kn=Math.sin(at/2),Ln=2*Bn*kn,ir=kn*kn,_r=1-Rn*Bn*Bn,rr=_r?1/_r:0,fr=_r?Math.acos(Yt*Bn)*Math.sqrt(1/_r):0,Ur=.5*(2*fr*Yt*kn+2*at/Math.PI)-et,pr=.5*(fr*sn+ct)-it,Vr=.5*rr*(Rn*ir+fr*Yt*Bn*gn)+1/Math.PI,Cr=rr*(Ln*dn/4-fr*sn*kn),Jr=.125*rr*(dn*kn-fr*sn*Rn*Ln),so=.5*rr*(gn*Bn+fr*ir*Yt)+.5,Dr=Cr*Jr-so*Vr;Nt=(pr*Cr-Ur*so)/Dr,Jt=(Ur*Jr-pr*Vr)/Dr,at=zt(at-Nt,-Math.PI,Math.PI),ct=zt(ct-Jt,-s1,s1)}while((Math.abs(Nt)>Rt||Math.abs(Jt)>Rt)&&--vt>0);return new Es(St(at),St(ct))}}class a1 extends Fy{constructor(et){super(et),this.center=et.center||[0,0],this.parallels=et.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(bt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(et,it){const{scale:at,cosPhi:ct}=this;return{x:bt(et)*ct*at+.5,y:-Math.sin(bt(it))/ct*at+.5,z:0}}unproject(et,it){const{scale:at,cosPhi:ct}=this,vt=-(it-.5)/at,Rt=zt(St((et-.5)/at)/ct,-180,180),Nt=Math.asin(zt(vt*ct,-1,1)),Jt=zt(St(Nt),-85.051129,_m);return new Es(Rt,Jt)}}class AR extends _U{constructor(et){super(et),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(et,it,at){const ct=n_(et,it,at);return Ol(ct,ct,ev(Bm(at))),{x:ct[0],y:ct[1],z:ct[2]}}locationPoint(et,it){const at=Xy(it.lat,it.lng),ct=xu([],at),vt=et.elevation?et.elevation.getAtPointOrZero(et.locationCoordinate(it),et._centerAltitude):et._centerAltitude;W_(at,at,ct,gp(1,0)*zo*vt);const Rt=Kp(new Float64Array(16));return M0(Rt,et.pixelMatrix,et.globeMatrix),Ol(at,at,Rt),new pt(at[0],at[1])}pixelsPerMeter(et,it){return gp(1,0)*it}pixelSpaceConversion(et,it,at){const ct=gp(1,et)*it,vt=Ss(gp(1,45)*it,ct,at);return this.pixelsPerMeter(et,it)/vt}createTileMatrix(et,it,at){const ct=wF(Bm(at.canonical));return M0(new Float64Array(16),et.globeMatrix,ct)}createInversionMatrix(et,it){const{center:at}=et,ct=ev(Bm(it));return N0(ct,ct,bt(at.lng)),Zy(ct,ct,bt(at.lat)),my(ct,ct,[et._pixelsPerMercatorPixel,et._pixelsPerMercatorPixel,1]),Float32Array.from(ct)}pointCoordinate(et,it,at,ct){return qS(et,it,at,!0)||new py(0,0)}pointCoordinate3D(et,it,at){const ct=this.pointCoordinate(et,it,at,0);return[ct.x,ct.y,ct.z]}isPointAboveHorizon(et,it){return!qS(et,it.x,it.y,!1)}farthestPixelDistance(et){const it=function(ct,vt){const Rt=ct.cameraToCenterDistance,Nt=ct._centerAltitude*vt,Jt=ct._camera,Yt=ct._camera.forward(),sn=bm([],yp([],Yt,-Rt),[0,0,Nt]),dn=ct.worldSize/(2*Math.PI),gn=[0,0,-dn],Rn=ct.width/ct.height,Bn=Math.tan(ct.fovAboveCenter),kn=yp([],Jt.up(),Bn),Ln=yp([],Jt.right(),Bn*Rn),ir=xu([],bm([],bm([],Yt,kn),Ln)),_r=[];let rr;if(new $U(sn,ir).closestPointOnSphere(gn,dn,_r)){const fr=bm([],_r,gn),Ur=Vp([],fr,sn);rr=Math.cos(ct.fovAboveCenter)*em(Ur)}else{const fr=Vp([],sn,gn),Ur=Vp([],gn,sn);xu(Ur,Ur);const pr=em(fr)-dn;rr=Math.sqrt(pr*(pr+2*dn));const Vr=Math.acos(rr/(dn+pr))-Math.acos(kp(Yt,Ur));rr*=Math.cos(Vr)}return 1.01*rr}(et,this.pixelsPerMeter(et.center.lat,et.worldSize)),at=r_(et.zoom);if(at>0){const ct=i1(et,gp(1,et.center.lat)*et.worldSize),vt=et.worldSize/(2*Math.PI),Rt=Math.max(et.width,et.height)/et.worldSize*Math.PI;return Ss(it,ct+vt*(1-Math.cos(Rt)),Math.pow(at,10))}return it}upVector(et,it,at){return n_(it,at,et,1)}upVectorScale(et){return{metersToTile:FF*K_(Bm(et))}}}function l1(rt){const et=rt.parallels,it=!!et&&Math.abs(et[0]+et[1])<.01;switch(rt.name){case"mercator":return new _U(rt);case"equirectangular":return new o1(rt);case"naturalEarth":return new QR(rt);case"equalEarth":return new ER(rt);case"winkelTripel":return new xR(rt);case"albers":return it?new a1(rt):new EF(rt);case"lambertConformalConic":return it?new a1(rt):new TR(rt);case"globe":return new AR(rt)}throw new Error(`Invalid projection name: ${rt.name}`)}const CR=qv.types,kR=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function UU(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn){const Rn=Nt?Math.min(by,Math.round(Nt[0])):0,Bn=Nt?Math.min(by,Math.round(Nt[1])):0;rt.emplaceBack(et,it,Math.round(32*at),Math.round(32*ct),vt,Rt,(Rn<<1)+(Jt?1:0),Bn,16*Yt,16*sn,256*dn,256*gn)}function bU(rt,et,it,at,ct,vt,Rt){rt.emplaceBack(et,it,at,ct,vt,Rt)}function FU(rt,et,it,at,ct){rt.emplaceBack(et,it,at,ct),rt.emplaceBack(et,it,at,ct),rt.emplaceBack(et,it,at,ct),rt.emplaceBack(et,it,at,ct)}function VR(rt){for(const et of rt.sections)if(_n(et.text))return!0;return!1}class TF{constructor(et){this.layoutVertexArray=new $a,this.indexArray=new Xl,this.programConfigurations=et,this.segments=new Dl,this.dynamicLayoutVertexArray=new Nl,this.opacityVertexArray=new El,this.placedSymbolArray=new QU,this.globeExtVertexArray=new Cs}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(et,it,at,ct){this.isEmpty()||(at&&(this.layoutVertexBuffer=et.createVertexBuffer(this.layoutVertexArray,rR.members),this.indexBuffer=et.createIndexBuffer(this.indexArray,it),this.dynamicLayoutVertexBuffer=et.createVertexBuffer(this.dynamicLayoutVertexArray,Zl.members,!0),this.opacityVertexBuffer=et.createVertexBuffer(this.opacityVertexArray,kR,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=et.createVertexBuffer(this.globeExtVertexArray,_f.members,!0)),this.opacityVertexBuffer.itemSize=1),(at||ct)&&this.programConfigurations.upload(et))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}wo(TF,"SymbolBuffers");class QF{constructor(et,it,at){this.layoutVertexArray=new et,this.layoutAttributes=it,this.indexArray=new at,this.segments=new Dl,this.collisionVertexArray=new Yp,this.collisionVertexArrayExt=new Yu}upload(et){this.layoutVertexBuffer=et.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=et.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=et.createVertexBuffer(this.collisionVertexArray,iR.members,!0),this.collisionVertexBufferExt=et.createVertexBuffer(this.collisionVertexArrayExt,vy.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}wo(QF,"CollisionBuffers");class Sy{constructor(et){this.collisionBoxArray=et.collisionBoxArray,this.zoom=et.zoom,this.overscaling=et.overscaling,this.layers=et.layers,this.layerIds=this.layers.map(Rt=>Rt.id),this.index=et.index,this.pixelRatio=et.pixelRatio,this.sourceLayerIndex=et.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Kp([]),this.placementViewportMatrix=Kp([]);const it=this.layers[0]._unevaluatedLayout._values;this.textSizeData=hF(this.zoom,it["text-size"]),this.iconSizeData=hF(this.zoom,it["icon-size"]);const at=this.layers[0].layout,ct=at.get("symbol-sort-key"),vt=at.get("symbol-z-order");this.canOverlap=at.get("text-allow-overlap")||at.get("icon-allow-overlap")||at.get("text-ignore-placement")||at.get("icon-ignore-placement"),this.sortFeaturesByKey=vt!=="viewport-y"&&ct.constantOr(1)!==void 0,this.sortFeaturesByY=(vt==="viewport-y"||vt==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=at.get("text-writing-mode").map(Rt=>vp[Rt]),this.stateDependentLayerIds=this.layers.filter(Rt=>Rt.isStateDependent()).map(Rt=>Rt.id),this.sourceID=et.sourceID,this.projection=et.projection}createArrays(){this.text=new TF(new Cp(this.layers,this.zoom,et=>/^text/.test(et))),this.icon=new TF(new Cp(this.layers,this.zoom,et=>/^icon/.test(et))),this.glyphOffsetArray=new Om,this.lineVertexArray=new Tv,this.symbolInstances=new $u}calculateGlyphDependencies(et,it,at,ct,vt){for(let Rt=0;Rt<et.length;Rt++)if(it[et.charCodeAt(Rt)]=!0,ct&&vt){const Nt=Uy[et.charAt(Rt)];Nt&&(it[Nt.charCodeAt(0)]=!0)}}populate(et,it,at,ct){const vt=this.layers[0],Rt=vt.layout,Nt=this.projection.name==="globe",Jt=Rt.get("text-font"),Yt=Rt.get("text-field"),sn=Rt.get("icon-image"),dn=(Yt.value.kind!=="constant"||Yt.value.value instanceof Wt&&!Yt.value.value.isEmpty()||Yt.value.value.toString().length>0)&&(Jt.value.kind!=="constant"||Jt.value.value.length>0),gn=sn.value.kind!=="constant"||!!sn.value.value||Object.keys(sn.parameters).length>0,Rn=Rt.get("symbol-sort-key");if(this.features=[],!dn&&!gn)return;const Bn=it.iconDependencies,kn=it.glyphDependencies,Ln=it.availableImages,ir=new tr(this.zoom);for(const{feature:_r,id:rr,index:fr,sourceLayerIndex:Ur}of et){const pr=vt._featureFilter.needGeometry,Vr=jy(_r,pr);if(!vt._featureFilter.filter(ir,Vr,at))continue;if(pr||(Vr.geometry=Nu(_r,at,ct)),Nt&&_r.type!==1&&at.z<=5){const Dr=Vr.geometry,Hr=.98078528056,$r=(eo,lo)=>kp(n_(eo.x,eo.y,at,1),n_(lo.x,lo.y,at,1))<Hr;for(let eo=0;eo<Dr.length;eo++)Dr[eo]=C0(Dr[eo],$r)}let Cr,Jr;if(dn){const Dr=vt.getValueAndResolveTokens("text-field",Vr,at,Ln),Hr=Wt.factory(Dr);VR(Hr)&&(this.hasRTLText=!0),(!this.hasRTLText||Hn()==="unavailable"||this.hasRTLText&&gr.isParsed())&&(Cr=TS(Hr,vt,Vr))}if(gn){const Dr=vt.getValueAndResolveTokens("icon-image",Vr,at,Ln);Jr=Dr instanceof ln?Dr:ln.fromString(Dr)}if(!Cr&&!Jr)continue;const so=this.sortFeaturesByKey?Rn.evaluate(Vr,{},at):void 0;if(this.features.push({id:rr,text:Cr,icon:Jr,index:fr,sourceLayerIndex:Ur,geometry:Vr.geometry,properties:_r.properties,type:CR[_r.type],sortKey:so}),Jr&&(Bn[Jr.name]=!0),Cr){const Dr=Jt.evaluate(Vr,{},at).join(","),Hr=Rt.get("text-rotation-alignment")==="map"&&Rt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(vp.vertical)>=0;for(const $r of Cr.sections)if($r.image)Bn[$r.image.name]=!0;else{const eo=lt(Cr.toString()),lo=$r.fontStack||Dr,Or=kn[lo]=kn[lo]||{};this.calculateGlyphDependencies($r.text,Or,Hr,this.allowVerticalPlacement,eo)}}}Rt.get("symbol-placement")==="line"&&(this.features=function(_r){const rr={},fr={},Ur=[];let pr=0;function Vr(Dr){Ur.push(_r[Dr]),pr++}function Cr(Dr,Hr,$r){const eo=fr[Dr];return delete fr[Dr],fr[Hr]=eo,Ur[eo].geometry[0].pop(),Ur[eo].geometry[0]=Ur[eo].geometry[0].concat($r[0]),eo}function Jr(Dr,Hr,$r){const eo=rr[Hr];return delete rr[Hr],rr[Dr]=eo,Ur[eo].geometry[0].shift(),Ur[eo].geometry[0]=$r[0].concat(Ur[eo].geometry[0]),eo}function so(Dr,Hr,$r){const eo=$r?Hr[0][Hr[0].length-1]:Hr[0][0];return`${Dr}:${eo.x}:${eo.y}`}for(let Dr=0;Dr<_r.length;Dr++){const Hr=_r[Dr],$r=Hr.geometry,eo=Hr.text?Hr.text.toString():null;if(!eo){Vr(Dr);continue}const lo=so(eo,$r),Or=so(eo,$r,!0);if(lo in fr&&Or in rr&&fr[lo]!==rr[Or]){const _o=Jr(lo,Or,$r),jo=Cr(lo,Or,Ur[_o].geometry);delete rr[lo],delete fr[Or],fr[so(eo,Ur[jo].geometry,!0)]=jo,Ur[_o].geometry=null}else lo in fr?Cr(lo,Or,$r):Or in rr?Jr(lo,Or,$r):(Vr(Dr),rr[lo]=pr-1,fr[Or]=pr-1)}return Ur.filter(Dr=>Dr.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_r,rr)=>_r.sortKey-rr.sortKey)}update(et,it,at,ct){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(et,it,this.layers,at,ct),this.icon.programConfigurations.updatePaintArrays(et,it,this.layers,at,ct))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(et){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(et),this.iconCollisionBox.upload(et)),this.text.upload(et,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(et,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=l1(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(et,it){const at=this.lineVertexArray.length,ct=et.segment;if(ct!==void 0){let vt=et.dist(it[ct+1]),Rt=et.dist(it[ct]);const Nt={};for(let Jt=ct+1;Jt<it.length;Jt++)Nt[Jt]={x:it[Jt].x,y:it[Jt].y,tileUnitDistanceFromAnchor:vt},Jt<it.length-1&&(vt+=it[Jt+1].dist(it[Jt]));for(let Jt=ct||0;Jt>=0;Jt--)Nt[Jt]={x:it[Jt].x,y:it[Jt].y,tileUnitDistanceFromAnchor:Rt},Jt>0&&(Rt+=it[Jt-1].dist(it[Jt]));for(let Jt=0;Jt<it.length;Jt++){const Yt=Nt[Jt];this.lineVertexArray.emplaceBack(Yt.x,Yt.y,Yt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:at,lineLength:this.lineVertexArray.length-at}}addSymbols(et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn,dn,gn,Rn,Bn){const kn=et.indexArray,Ln=et.layoutVertexArray,ir=et.globeExtVertexArray,_r=et.segments.prepareSegment(4*it.length,Ln,kn,this.canOverlap?Rt.sortKey:void 0),rr=this.glyphOffsetArray.length,fr=_r.vertexLength,Ur=this.allowVerticalPlacement&&Nt===vp.vertical?Math.PI/2:0,pr=Rt.text&&Rt.text.sections;for(let Cr=0;Cr<it.length;Cr++){const{tl:Jr,tr:so,bl:Dr,br:Hr,tex:$r,pixelOffsetTL:eo,pixelOffsetBR:lo,minFontScaleX:Or,minFontScaleY:_o,glyphOffset:jo,isSDF:bo,sectionIndex:Mo}=it[Cr],vo=_r.vertexLength,Zo=jo[1];if(UU(Ln,Yt.x,Yt.y,Jr.x,Zo+Jr.y,$r.x,$r.y,at,bo,eo.x,eo.y,Or,_o),UU(Ln,Yt.x,Yt.y,so.x,Zo+so.y,$r.x+$r.w,$r.y,at,bo,lo.x,eo.y,Or,_o),UU(Ln,Yt.x,Yt.y,Dr.x,Zo+Dr.y,$r.x,$r.y+$r.h,at,bo,eo.x,lo.y,Or,_o),UU(Ln,Yt.x,Yt.y,Hr.x,Zo+Hr.y,$r.x+$r.w,$r.y+$r.h,at,bo,lo.x,lo.y,Or,_o),Jt){const is=Jt.anchor,cs=Jt.up;bU(ir,is.x,is.y,is.z,cs[0],cs[1],cs[2]),bU(ir,is.x,is.y,is.z,cs[0],cs[1],cs[2]),bU(ir,is.x,is.y,is.z,cs[0],cs[1],cs[2]),bU(ir,is.x,is.y,is.z,cs[0],cs[1],cs[2]),FU(et.dynamicLayoutVertexArray,is.x,is.y,is.z,Ur)}else FU(et.dynamicLayoutVertexArray,Yt.x,Yt.y,Yt.z,Ur);kn.emplaceBack(vo,vo+1,vo+2),kn.emplaceBack(vo+1,vo+2,vo+3),_r.vertexLength+=4,_r.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(jo[0]),Cr!==it.length-1&&Mo===it[Cr+1].sectionIndex||et.programConfigurations.populatePaintArrays(Ln.length,Rt,Rt.index,{},Rn,Bn,pr&&pr[Mo])}const Vr=Jt?Jt.anchor:Yt;et.placedSymbolArray.emplaceBack(Vr.x,Vr.y,Vr.z,Yt.x,Yt.y,rr,this.glyphOffsetArray.length-rr,fr,sn,dn,Yt.segment,at?at[0]:0,at?at[1]:0,ct[0],ct[1],Nt,0,!1,0,gn,0)}_commitLayoutVertex(et,it,at,ct,vt,Rt,Nt){et.emplaceBack(it,at,ct,vt,Rt,Math.round(Nt.x),Math.round(Nt.y))}_addCollisionDebugVertices(et,it,at,ct,vt,Rt,Nt){const Jt=at.segments.prepareSegment(4,at.layoutVertexArray,at.indexArray),Yt=Jt.vertexLength,sn=Nt.tileAnchorX,dn=Nt.tileAnchorY;for(let Rn=0;Rn<4;Rn++)at.collisionVertexArray.emplaceBack(0,0,0,0);at.collisionVertexArrayExt.emplaceBack(it,-et.padding,-et.padding),at.collisionVertexArrayExt.emplaceBack(it,et.padding,-et.padding),at.collisionVertexArrayExt.emplaceBack(it,et.padding,et.padding),at.collisionVertexArrayExt.emplaceBack(it,-et.padding,et.padding),this._commitLayoutVertex(at.layoutVertexArray,ct,vt,Rt,sn,dn,new pt(et.x1,et.y1)),this._commitLayoutVertex(at.layoutVertexArray,ct,vt,Rt,sn,dn,new pt(et.x2,et.y1)),this._commitLayoutVertex(at.layoutVertexArray,ct,vt,Rt,sn,dn,new pt(et.x2,et.y2)),this._commitLayoutVertex(at.layoutVertexArray,ct,vt,Rt,sn,dn,new pt(et.x1,et.y2)),Jt.vertexLength+=4;const gn=at.indexArray;gn.emplaceBack(Yt,Yt+1),gn.emplaceBack(Yt+1,Yt+2),gn.emplaceBack(Yt+2,Yt+3),gn.emplaceBack(Yt+3,Yt),Jt.primitiveLength+=4}_addTextDebugCollisionBoxes(et,it,at,ct,vt,Rt){for(let Nt=ct;Nt<vt;Nt++){const Jt=at.get(Nt),Yt=this.getSymbolInstanceTextSize(et,Rt,it,Nt);this._addCollisionDebugVertices(Jt,Yt,this.textCollisionBox,Jt.projectedAnchorX,Jt.projectedAnchorY,Jt.projectedAnchorZ,Rt)}}_addIconDebugCollisionBoxes(et,it,at,ct,vt,Rt){for(let Nt=ct;Nt<vt;Nt++){const Jt=at.get(Nt),Yt=this.getSymbolInstanceIconSize(et,it,Rt.placedIconSymbolIndex);this._addCollisionDebugVertices(Jt,Yt,this.iconCollisionBox,Jt.projectedAnchorX,Jt.projectedAnchorY,Jt.projectedAnchorZ,Rt)}}generateCollisionDebugBuffers(et,it){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new QF(zs,ES.members,vu),this.iconCollisionBox=new QF(zs,ES.members,vu);const at=Z0(this.iconSizeData,et),ct=Z0(this.textSizeData,et);for(let vt=0;vt<this.symbolInstances.length;vt++){const Rt=this.symbolInstances.get(vt);this._addTextDebugCollisionBoxes(ct,et,it,Rt.textBoxStartIndex,Rt.textBoxEndIndex,Rt),this._addTextDebugCollisionBoxes(ct,et,it,Rt.verticalTextBoxStartIndex,Rt.verticalTextBoxEndIndex,Rt),this._addIconDebugCollisionBoxes(at,et,it,Rt.iconBoxStartIndex,Rt.iconBoxEndIndex,Rt),this._addIconDebugCollisionBoxes(at,et,it,Rt.verticalIconBoxStartIndex,Rt.verticalIconBoxEndIndex,Rt)}}getSymbolInstanceTextSize(et,it,at,ct){const vt=this.text.placedSymbolArray.get(it.rightJustifiedTextSymbolIndex>=0?it.rightJustifiedTextSymbolIndex:it.centerJustifiedTextSymbolIndex>=0?it.centerJustifiedTextSymbolIndex:it.leftJustifiedTextSymbolIndex>=0?it.leftJustifiedTextSymbolIndex:it.verticalPlacedTextSymbolIndex>=0?it.verticalPlacedTextSymbolIndex:ct),Rt=z0(this.textSizeData,et,vt)/uu;return this.tilePixelRatio*Rt}getSymbolInstanceIconSize(et,it,at){const ct=this.icon.placedSymbolArray.get(at),vt=z0(this.iconSizeData,et,ct);return this.tilePixelRatio*vt}_commitDebugCollisionVertexUpdate(et,it,at){et.emplaceBack(it,-at,-at),et.emplaceBack(it,at,-at),et.emplaceBack(it,at,at),et.emplaceBack(it,-at,at)}_updateTextDebugCollisionBoxes(et,it,at,ct,vt,Rt){for(let Nt=ct;Nt<vt;Nt++){const Jt=at.get(Nt),Yt=this.getSymbolInstanceTextSize(et,Rt,it,Nt);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,Yt,Jt.padding)}}_updateIconDebugCollisionBoxes(et,it,at,ct,vt,Rt){for(let Nt=ct;Nt<vt;Nt++){const Jt=at.get(Nt),Yt=this.getSymbolInstanceIconSize(et,it,Rt);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,Yt,Jt.padding)}}updateCollisionDebugBuffers(et,it){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const at=Z0(this.iconSizeData,et),ct=Z0(this.textSizeData,et);for(let vt=0;vt<this.symbolInstances.length;vt++){const Rt=this.symbolInstances.get(vt);this._updateTextDebugCollisionBoxes(ct,et,it,Rt.textBoxStartIndex,Rt.textBoxEndIndex,Rt),this._updateTextDebugCollisionBoxes(ct,et,it,Rt.verticalTextBoxStartIndex,Rt.verticalTextBoxEndIndex,Rt),this._updateIconDebugCollisionBoxes(at,et,it,Rt.iconBoxStartIndex,Rt.iconBoxEndIndex,Rt.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(at,et,it,Rt.verticalIconBoxStartIndex,Rt.verticalIconBoxEndIndex,Rt.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(et,it,at,ct,vt,Rt,Nt,Jt,Yt){const sn={};for(let dn=it;dn<at;dn++){const gn=et.get(dn);sn.textBox={x1:gn.x1,y1:gn.y1,x2:gn.x2,y2:gn.y2,padding:gn.padding,projectedAnchorX:gn.projectedAnchorX,projectedAnchorY:gn.projectedAnchorY,projectedAnchorZ:gn.projectedAnchorZ,tileAnchorX:gn.tileAnchorX,tileAnchorY:gn.tileAnchorY},sn.textFeatureIndex=gn.featureIndex;break}for(let dn=ct;dn<vt;dn++){const gn=et.get(dn);sn.verticalTextBox={x1:gn.x1,y1:gn.y1,x2:gn.x2,y2:gn.y2,padding:gn.padding,projectedAnchorX:gn.projectedAnchorX,projectedAnchorY:gn.projectedAnchorY,projectedAnchorZ:gn.projectedAnchorZ,tileAnchorX:gn.tileAnchorX,tileAnchorY:gn.tileAnchorY},sn.verticalTextFeatureIndex=gn.featureIndex;break}for(let dn=Rt;dn<Nt;dn++){const gn=et.get(dn);sn.iconBox={x1:gn.x1,y1:gn.y1,x2:gn.x2,y2:gn.y2,padding:gn.padding,projectedAnchorX:gn.projectedAnchorX,projectedAnchorY:gn.projectedAnchorY,projectedAnchorZ:gn.projectedAnchorZ,tileAnchorX:gn.tileAnchorX,tileAnchorY:gn.tileAnchorY},sn.iconFeatureIndex=gn.featureIndex;break}for(let dn=Jt;dn<Yt;dn++){const gn=et.get(dn);sn.verticalIconBox={x1:gn.x1,y1:gn.y1,x2:gn.x2,y2:gn.y2,padding:gn.padding,projectedAnchorX:gn.projectedAnchorX,projectedAnchorY:gn.projectedAnchorY,projectedAnchorZ:gn.projectedAnchorZ,tileAnchorX:gn.tileAnchorX,tileAnchorY:gn.tileAnchorY},sn.verticalIconFeatureIndex=gn.featureIndex;break}return sn}deserializeCollisionBoxes(et){this.collisionArrays=[];for(let it=0;it<this.symbolInstances.length;it++){const at=this.symbolInstances.get(it);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(et,at.textBoxStartIndex,at.textBoxEndIndex,at.verticalTextBoxStartIndex,at.verticalTextBoxEndIndex,at.iconBoxStartIndex,at.iconBoxEndIndex,at.verticalIconBoxStartIndex,at.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(et,it){const at=et.placedSymbolArray.get(it),ct=at.vertexStartIndex+4*at.numGlyphs;for(let vt=at.vertexStartIndex;vt<ct;vt+=4)et.indexArray.emplaceBack(vt,vt+1,vt+2),et.indexArray.emplaceBack(vt+1,vt+2,vt+3)}getSortedSymbolIndexes(et){if(this.sortedAngle===et&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const it=Math.sin(et),at=Math.cos(et),ct=[],vt=[],Rt=[];for(let Nt=0;Nt<this.symbolInstances.length;++Nt){Rt.push(Nt);const Jt=this.symbolInstances.get(Nt);ct.push(0|Math.round(it*Jt.tileAnchorX+at*Jt.tileAnchorY)),vt.push(Jt.featureIndex)}return Rt.sort((Nt,Jt)=>ct[Nt]-ct[Jt]||vt[Jt]-vt[Nt]),Rt}addToSortKeyRanges(et,it){const at=this.sortKeyRanges[this.sortKeyRanges.length-1];at&&at.sortKey===it?at.symbolInstanceEnd=et+1:this.sortKeyRanges.push({sortKey:it,symbolInstanceStart:et,symbolInstanceEnd:et+1})}sortFeatures(et){if(this.sortFeaturesByY&&this.sortedAngle!==et&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(et),this.sortedAngle=et,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const it of this.symbolInstanceIndexes){const at=this.symbolInstances.get(it);this.featureSortOrder.push(at.featureIndex),[at.rightJustifiedTextSymbolIndex,at.centerJustifiedTextSymbolIndex,at.leftJustifiedTextSymbolIndex].forEach((ct,vt,Rt)=>{ct>=0&&Rt.indexOf(ct)===vt&&this.addIndicesForPlacedSymbol(this.text,ct)}),at.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,at.verticalPlacedTextSymbolIndex),at.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,at.placedIconSymbolIndex),at.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,at.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}wo(Sy,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Sy.MAX_GLYPHS=65535,Sy.addDynamicAttributes=FU;const MR=new co({"symbol-placement":new xr(Ir.layout_symbol["symbol-placement"]),"symbol-spacing":new xr(Ir.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xr(Ir.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Fr(Ir.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xr(Ir.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new xr(Ir.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new xr(Ir.layout_symbol["icon-ignore-placement"]),"icon-optional":new xr(Ir.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xr(Ir.layout_symbol["icon-rotation-alignment"]),"icon-size":new Fr(Ir.layout_symbol["icon-size"]),"icon-text-fit":new xr(Ir.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xr(Ir.layout_symbol["icon-text-fit-padding"]),"icon-image":new Fr(Ir.layout_symbol["icon-image"]),"icon-rotate":new Fr(Ir.layout_symbol["icon-rotate"]),"icon-padding":new xr(Ir.layout_symbol["icon-padding"]),"icon-keep-upright":new xr(Ir.layout_symbol["icon-keep-upright"]),"icon-offset":new Fr(Ir.layout_symbol["icon-offset"]),"icon-anchor":new Fr(Ir.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xr(Ir.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xr(Ir.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xr(Ir.layout_symbol["text-rotation-alignment"]),"text-field":new Fr(Ir.layout_symbol["text-field"]),"text-font":new Fr(Ir.layout_symbol["text-font"]),"text-size":new Fr(Ir.layout_symbol["text-size"]),"text-max-width":new Fr(Ir.layout_symbol["text-max-width"]),"text-line-height":new Fr(Ir.layout_symbol["text-line-height"]),"text-letter-spacing":new Fr(Ir.layout_symbol["text-letter-spacing"]),"text-justify":new Fr(Ir.layout_symbol["text-justify"]),"text-radial-offset":new Fr(Ir.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xr(Ir.layout_symbol["text-variable-anchor"]),"text-anchor":new Fr(Ir.layout_symbol["text-anchor"]),"text-max-angle":new xr(Ir.layout_symbol["text-max-angle"]),"text-writing-mode":new xr(Ir.layout_symbol["text-writing-mode"]),"text-rotate":new Fr(Ir.layout_symbol["text-rotate"]),"text-padding":new xr(Ir.layout_symbol["text-padding"]),"text-keep-upright":new xr(Ir.layout_symbol["text-keep-upright"]),"text-transform":new Fr(Ir.layout_symbol["text-transform"]),"text-offset":new Fr(Ir.layout_symbol["text-offset"]),"text-allow-overlap":new xr(Ir.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new xr(Ir.layout_symbol["text-ignore-placement"]),"text-optional":new xr(Ir.layout_symbol["text-optional"])});var xF={paint:new co({"icon-opacity":new Fr(Ir.paint_symbol["icon-opacity"]),"icon-color":new Fr(Ir.paint_symbol["icon-color"]),"icon-halo-color":new Fr(Ir.paint_symbol["icon-halo-color"]),"icon-halo-width":new Fr(Ir.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Fr(Ir.paint_symbol["icon-halo-blur"]),"icon-translate":new xr(Ir.paint_symbol["icon-translate"]),"icon-translate-anchor":new xr(Ir.paint_symbol["icon-translate-anchor"]),"text-opacity":new Fr(Ir.paint_symbol["text-opacity"]),"text-color":new Fr(Ir.paint_symbol["text-color"],{runtimeType:Bu,getOverride:rt=>rt.textColor,hasOverride:rt=>!!rt.textColor}),"text-halo-color":new Fr(Ir.paint_symbol["text-halo-color"]),"text-halo-width":new Fr(Ir.paint_symbol["text-halo-width"]),"text-halo-blur":new Fr(Ir.paint_symbol["text-halo-blur"]),"text-translate":new xr(Ir.paint_symbol["text-translate"]),"text-translate-anchor":new xr(Ir.paint_symbol["text-translate-anchor"])}),layout:MR};class u1{constructor(et){this.type=et.property.overrides?et.property.overrides.runtimeType:rp,this.defaultValue=et}evaluate(et){if(et.formattedSection){const it=this.defaultValue.property.overrides;if(it&&it.hasOverride(et.formattedSection))return it.getOverride(et.formattedSection)}return et.feature&&et.featureState?this.defaultValue.evaluate(et.feature,et.featureState):this.defaultValue.property.specification.default}eachChild(et){this.defaultValue.isConstant()||et(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}wo(u1,"FormatSectionOverride",{omit:["defaultValue"]});class SU extends qu{constructor(et){super(et,xF)}recalculate(et,it){super.recalculate(et,it),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const at=this.layout.get("text-writing-mode");if(at){const ct=[];for(const vt of at)ct.indexOf(vt)<0&&ct.push(vt);this.layout._values["text-writing-mode"]=ct}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(et,it,at,ct){const vt=this.layout.get(et).evaluate(it,{},at,ct),Rt=this._unevaluatedLayout._values[et];return Rt.isDataDriven()||oy(Rt.value)||!vt?vt:function(Nt,Jt){return Jt.replace(/{([^{}]+)}/g,(Yt,sn)=>sn in Nt?String(Nt[sn]):"")}(it.properties,vt)}createBucket(et){return new Sy(et)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const et of xF.paint.overridableProperties){if(!SU.hasPaintOverride(this.layout,et))continue;const it=this.paint.get(et),at=new u1(it),ct=new lm(at,it.property.specification);let vt=null;vt=it.value.kind==="constant"||it.value.kind==="source"?new Cm("source",ct):new ky("composite",ct,it.value.zoomStops,it.value._interpolationType),this.paint._values[et]=new Zr(it.property,vt,it.parameters)}}_handleOverridablePaintPropertyUpdate(et,it,at){return!(!this.layout||it.isDataDriven()||at.isDataDriven())&&SU.hasPaintOverride(this.layout,et)}static hasPaintOverride(et,it){const at=et.get("text-field"),ct=xF.paint.properties[it];let vt=!1;const Rt=Nt=>{for(const Jt of Nt)if(ct.overrides&&ct.overrides.hasOverride(Jt))return void(vt=!0)};if(at.value.kind==="constant"&&at.value.value instanceof Wt)Rt(at.value.value.sections);else if(at.value.kind==="source"){const Nt=Yt=>{vt||(Yt instanceof qn&&Wn(Yt.value)===Lu?Rt(Yt.value.sections):Yt instanceof go?Rt(Yt.sections):Yt.eachChild(Nt))},Jt=at.value;Jt._styleExpression&&Nt(Jt._styleExpression.expression)}return vt}getProgramConfiguration(et){return new Pm(this,et)}}var NR={paint:new co({"background-color":new xr(Ir.paint_background["background-color"]),"background-pattern":new uo(Ir.paint_background["background-pattern"]),"background-opacity":new xr(Ir.paint_background["background-opacity"])})},DR={paint:new co({"raster-opacity":new xr(Ir.paint_raster["raster-opacity"]),"raster-hue-rotate":new xr(Ir.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xr(Ir.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xr(Ir.paint_raster["raster-brightness-max"]),"raster-saturation":new xr(Ir.paint_raster["raster-saturation"]),"raster-contrast":new xr(Ir.paint_raster["raster-contrast"]),"raster-resampling":new xr(Ir.paint_raster["raster-resampling"]),"raster-fade-duration":new xr(Ir.paint_raster["raster-fade-duration"])})};class yt extends qu{constructor(et){super(et,{}),this.implementation=et}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(et){this.implementation.onAdd&&this.implementation.onAdd(et,et.painter.context.gl)}onRemove(et){this.implementation.onRemove&&this.implementation.onRemove(et,et.painter.context.gl)}}var Tt={paint:new co({"sky-type":new xr(Ir.paint_sky["sky-type"]),"sky-atmosphere-sun":new xr(Ir.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new xr(Ir.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new xr(Ir.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new xr(Ir.paint_sky["sky-gradient-radius"]),"sky-gradient":new fo(Ir.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new xr(Ir.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new xr(Ir.paint_sky["sky-atmosphere-color"]),"sky-opacity":new xr(Ir.paint_sky["sky-opacity"])})};function Kt(rt,et,it){const at=[0,0,1],ct=nS([]);return iS(ct,ct,it?-bt(rt)+Math.PI:bt(rt)),rS(ct,ct,-bt(et)),XF(at,at,ct),xu(at,at)}const Un={circle:class extends qu{constructor(rt){super(rt,GF)}createBucket(rt){return new lu(rt)}queryRadius(rt){const et=rt;return gy("circle-radius",this,et)+gy("circle-stroke-width",this,et)+Ov(this.paint.get("circle-translate"))}queryIntersectsFeature(rt,et,it,at,ct,vt,Rt,Nt){const Jt=V0(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),vt.angle,rt.pixelToTileUnitsFactor),Yt=this.paint.get("circle-radius").evaluate(et,it)+this.paint.get("circle-stroke-width").evaluate(et,it);return oS(rt,at,vt,Rt,Nt,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",Jt,Yt)}getProgramIds(){return["circle"]}getProgramConfiguration(rt){return new Pm(this,rt)}},heatmap:class extends qu{createBucket(rt){return new lS(rt)}constructor(rt){super(rt,S1),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(rt){rt==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=KU({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(rt){return gy("heatmap-radius",this,rt)}queryIntersectsFeature(rt,et,it,at,ct,vt,Rt,Nt){const Jt=this.paint.get("heatmap-radius").evaluate(et,it);return oS(rt,at,vt,Rt,Nt,!0,!0,new pt(0,0),Jt)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(rt){return new Pm(this,rt)}},hillshade:class extends qu{constructor(rt){super(rt,R1)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends qu{constructor(rt){super(rt,I1)}getProgramIds(){const rt=this.paint.get("fill-pattern"),et=rt&&rt.constantOr(1),it=[et?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&it.push(et&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),it}getProgramConfiguration(rt){return new Pm(this,rt)}recalculate(rt,et){super.recalculate(rt,et);const it=this.paint._values["fill-outline-color"];it.value.kind==="constant"&&it.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(rt){return new Yv(rt)}queryRadius(){return Ov(this.paint.get("fill-translate"))}queryIntersectsFeature(rt,et,it,at,ct,vt){return!rt.queryGeometry.isAboveHorizon&&jU(zF(rt.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),vt.angle,rt.pixelToTileUnitsFactor),at)}isTileClipped(){return!0}},"fill-extrusion":class extends qu{constructor(rt){super(rt,Y1)}createBucket(rt){return new Hy(rt)}queryRadius(){return Ov(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(rt){return new Pm(this,rt)}queryIntersectsFeature(rt,et,it,at,ct,vt,Rt,Nt,Jt){const Yt=V0(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),vt.angle,rt.pixelToTileUnitsFactor),sn=this.paint.get("fill-extrusion-height").evaluate(et,it),dn=this.paint.get("fill-extrusion-base").evaluate(et,it),gn=[0,0],Rn=Nt&&vt.elevation,Bn=vt.elevation?vt.elevation.exaggeration():1,kn=rt.tile.getBucket(this);if(Rn&&kn instanceof Hy){const fr=kn.centroidVertexArray,Ur=Jt+1;if(Ur<fr.length){const pr=fr.get(Ur);gn[0]=pr.a_centroid_pos0,gn[1]=pr.a_centroid_pos1}}if(gn[0]===0&&gn[1]===1)return!1;vt.projection.name==="globe"&&(at=H_([at],[new pt(0,0),new pt(zo,zo)],rt.tileID.canonical).map(fr=>fr.polygon).flat());const Ln=Rn?Nt:null,[ir,_r]=function(fr,Ur,pr,Vr,Cr,Jr,so,Dr,Hr,$r,eo){return fr.projection.name==="globe"?function(lo,Or,_o,jo,bo,Mo,vo,Zo,is,cs,xs){const ns=[],yl=[],ms=lo.projection.upVectorScale(xs,lo.center.lat,lo.worldSize).metersToTile,Fs=[0,0,0,1],Ys=[0,0,0,1],ba=(xa,_l,Al,Uu)=>{xa[0]=_l,xa[1]=Al,xa[2]=Uu,xa[3]=1},ga=FS();_o>0&&(_o+=ga),jo+=ga;for(const xa of Or){const _l=[],Al=[];for(const Uu of xa){const Zs=Uu.x+bo.x,$l=Uu.y+bo.y,Gl=lo.projection.projectTilePoint(Zs,$l,xs),Vs=lo.projection.upVector(xs,Uu.x,Uu.y);let Rl=_o,tu=jo;if(vo){const $s=wS(Zs,$l,_o,jo,vo,Zo,is,cs);Rl+=$s.base,tu+=$s.top}_o!==0?ba(Fs,Gl.x+Vs[0]*ms*Rl,Gl.y+Vs[1]*ms*Rl,Gl.z+Vs[2]*ms*Rl):ba(Fs,Gl.x,Gl.y,Gl.z),ba(Ys,Gl.x+Vs[0]*ms*tu,Gl.y+Vs[1]*ms*tu,Gl.z+Vs[2]*ms*tu),Ol(Fs,Fs,Mo),Ol(Ys,Ys,Mo),_l.push(new j0(Fs[0],Fs[1],Fs[2])),Al.push(new j0(Ys[0],Ys[1],Ys[2]))}ns.push(_l),yl.push(Al)}return[ns,yl]}(fr,Ur,pr,Vr,Cr,Jr,so,Dr,Hr,$r,eo):so?function(lo,Or,_o,jo,bo,Mo,vo,Zo,is){const cs=[],xs=[],ns=[0,0,0,1];for(const yl of lo){const ms=[],Fs=[];for(const Ys of yl){const ba=Ys.x+jo.x,ga=Ys.y+jo.y,xa=wS(ba,ga,Or,_o,Mo,vo,Zo,is);ns[0]=ba,ns[1]=ga,ns[2]=xa.base,ns[3]=1,yy(ns,ns,bo),ns[3]=Math.max(ns[3],1e-5);const _l=new j0(ns[0]/ns[3],ns[1]/ns[3],ns[2]/ns[3]);ns[0]=ba,ns[1]=ga,ns[2]=xa.top,ns[3]=1,yy(ns,ns,bo),ns[3]=Math.max(ns[3],1e-5);const Al=new j0(ns[0]/ns[3],ns[1]/ns[3],ns[2]/ns[3]);ms.push(_l),Fs.push(Al)}cs.push(ms),xs.push(Fs)}return[cs,xs]}(Ur,pr,Vr,Cr,Jr,so,Dr,Hr,$r):function(lo,Or,_o,jo,bo){const Mo=[],vo=[],Zo=bo[8]*Or,is=bo[9]*Or,cs=bo[10]*Or,xs=bo[11]*Or,ns=bo[8]*_o,yl=bo[9]*_o,ms=bo[10]*_o,Fs=bo[11]*_o;for(const Ys of lo){const ba=[],ga=[];for(const xa of Ys){const _l=xa.x+jo.x,Al=xa.y+jo.y,Uu=bo[0]*_l+bo[4]*Al+bo[12],Zs=bo[1]*_l+bo[5]*Al+bo[13],$l=bo[2]*_l+bo[6]*Al+bo[14],Gl=bo[3]*_l+bo[7]*Al+bo[15],Vs=Uu+Zo,Rl=Zs+is,tu=$l+cs,$s=Math.max(Gl+xs,1e-5),Wl=Uu+ns,Pu=Zs+yl,bu=$l+ms,Fu=Math.max(Gl+Fs,1e-5);ba.push(new j0(Vs/$s,Rl/$s,tu/$s)),ga.push(new j0(Wl/Fu,Pu/Fu,bu/Fu))}Mo.push(ba),vo.push(ga)}return[Mo,vo]}(Ur,pr,Vr,Cr,Jr)}(vt,at,dn,sn,Yt,Rt,Ln,gn,Bn,vt.center.lat,rt.tileID.canonical),rr=rt.queryGeometry;return function(fr,Ur,pr){let Vr=1/0;jU(pr,Ur)&&(Vr=RS(pr,Ur[0]));for(let Cr=0;Cr<Ur.length;Cr++){const Jr=Ur[Cr],so=fr[Cr];for(let Dr=0;Dr<Jr.length-1;Dr++){const Hr=Jr[Dr],$r=[Hr,Jr[Dr+1],so[Dr+1],so[Dr],Hr];JF(pr,$r)&&(Vr=Math.min(Vr,RS(pr,$r)))}}return Vr!==1/0&&Vr}(ir,_r,rr.isPointQuery()?rr.screenBounds:rr.screenGeometry)}},line:class extends qu{constructor(rt){super(rt,BS),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(rt){if(rt==="line-gradient"){const et=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=et._styleExpression&&et._styleExpression.expression instanceof xm,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(rt,et){super.recalculate(rt,et),this.paint._values["line-floorwidth"]=_y.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,rt)}createBucket(rt){return new _d(rt)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(rt){return new Pm(this,rt)}queryRadius(rt){const et=rt,it=_s(gy("line-width",this,et),gy("line-gap-width",this,et)),at=gy("line-offset",this,et);return it/2+Math.abs(at)+Ov(this.paint.get("line-translate"))}queryIntersectsFeature(rt,et,it,at,ct,vt){if(rt.queryGeometry.isAboveHorizon)return!1;const Rt=zF(rt.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),vt.angle,rt.pixelToTileUnitsFactor),Nt=rt.pixelToTileUnitsFactor/2*_s(this.paint.get("line-width").evaluate(et,it),this.paint.get("line-gap-width").evaluate(et,it)),Jt=this.paint.get("line-offset").evaluate(et,it);return Jt&&(at=function(Yt,sn){const dn=[],gn=new pt(0,0);for(let Rn=0;Rn<Yt.length;Rn++){const Bn=Yt[Rn],kn=[];for(let Ln=0;Ln<Bn.length;Ln++){const ir=Bn[Ln-1],_r=Bn[Ln],rr=Bn[Ln+1],fr=Ln===0?gn:_r.sub(ir)._unit()._perp(),Ur=Ln===Bn.length-1?gn:rr.sub(_r)._unit()._perp(),pr=fr._add(Ur)._unit();pr._mult(1/(pr.x*Ur.x+pr.y*Ur.y)),kn.push(pr._mult(sn)._add(_r))}dn.push(kn)}return dn}(at,Jt*rt.pixelToTileUnitsFactor)),function(Yt,sn,dn){for(let gn=0;gn<sn.length;gn++){const Rn=sn[gn];if(Yt.length>=3){for(let Bn=0;Bn<Rn.length;Bn++)if(zl(Yt,Rn[Bn]))return!0}if(m1(Yt,Rn,dn))return!0}return!1}(Rt,at,Nt)}isTileClipped(){return!0}},symbol:SU,background:class extends qu{constructor(rt){super(rt,NR)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends qu{constructor(rt){super(rt,DR)}getProgramIds(){return["raster"]}},sky:class extends qu{constructor(rt){super(rt,Tt),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(rt){rt==="sky-gradient"?this._updateColorRamp():rt!=="sky-atmosphere-sun"&&rt!=="sky-atmosphere-halo-color"&&rt!=="sky-atmosphere-color"&&rt!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=KU({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(rt){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const et=rt.style.light.properties.get("position");return this._lightPosition.azimuthal!==et.azimuthal||this._lightPosition.polar!==et.polar}return!1}getCenter(rt,et){if(this.paint.get("sky-type")==="atmosphere"){const at=this.paint.get("sky-atmosphere-sun"),ct=!at,vt=rt.style.light,Rt=vt.properties.get("position");return ct&&vt.properties.get("anchor")==="viewport"&&hn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),ct?Kt(Rt.azimuthal,90-Rt.polar,et):Kt(at[0],90-at[1],et)}const it=this.paint.get("sky-gradient-center");return Kt(it[0],90-it[1],et)}is3D(){return!1}isSky(){return!0}markSkyboxValid(rt){this._skyboxInvalidated=!1,this._lightPosition=rt.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const rt=this.paint.get("sky-type");return rt==="atmosphere"?["skyboxCapture","skybox"]:rt==="gradient"?["skyboxGradient"]:null}}};class Vn{constructor(et,it,at,ct){this.context=et,this.format=at,this.texture=et.gl.createTexture(),this.update(it,ct)}update(et,it,at){const{width:ct,height:vt}=et,{context:Rt}=this,{gl:Nt}=Rt,{HTMLImageElement:Jt,HTMLCanvasElement:Yt,HTMLVideoElement:sn,ImageData:dn,ImageBitmap:gn}=nt;if(Nt.bindTexture(Nt.TEXTURE_2D,this.texture),Rt.pixelStoreUnpackFlipY.set(!1),Rt.pixelStoreUnpack.set(1),Rt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Nt.RGBA&&(!it||it.premultiply!==!1)),at||this.size&&this.size[0]===ct&&this.size[1]===vt){const{x:Rn,y:Bn}=at||{x:0,y:0};et instanceof Jt||et instanceof Yt||et instanceof sn||et instanceof dn||gn&&et instanceof gn?Nt.texSubImage2D(Nt.TEXTURE_2D,0,Rn,Bn,Nt.RGBA,Nt.UNSIGNED_BYTE,et):Nt.texSubImage2D(Nt.TEXTURE_2D,0,Rn,Bn,ct,vt,Nt.RGBA,Nt.UNSIGNED_BYTE,et.data)}else this.size=[ct,vt],et instanceof Jt||et instanceof Yt||et instanceof sn||et instanceof dn||gn&&et instanceof gn?Nt.texImage2D(Nt.TEXTURE_2D,0,this.format,this.format,Nt.UNSIGNED_BYTE,et):Nt.texImage2D(Nt.TEXTURE_2D,0,this.format,ct,vt,0,this.format,Nt.UNSIGNED_BYTE,et.data);this.useMipmap=Boolean(it&&it.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&Nt.generateMipmap(Nt.TEXTURE_2D)}bind(et,it){const{context:at}=this,{gl:ct}=at;ct.bindTexture(ct.TEXTURE_2D,this.texture),et!==this.filter&&(ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MAG_FILTER,et),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MIN_FILTER,this.useMipmap?et===ct.NEAREST?ct.NEAREST_MIPMAP_NEAREST:ct.LINEAR_MIPMAP_NEAREST:et),this.filter=et),it!==this.wrap&&(ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_S,it),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_T,it),this.wrap=it)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:et}=this.context;et.deleteTexture(this.texture),this.texture=null}}class $n{constructor(et){this._callback=et,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class yr{constructor(){this.tasks={},this.taskQueue=[],un(["process"],this),this.invoker=new $n(this.process),this.nextId=0}add(et,it){const at=this.nextId++,ct=function({type:vt,isSymbolTile:Rt,zoom:Nt}){return Nt=Nt||0,vt==="message"?0:vt!=="maybePrepare"||Rt?vt!=="parseTile"||Rt?vt==="parseTile"&&Rt?300-Nt:vt==="maybePrepare"&&Rt?400-Nt:500:200-Nt:100-Nt}(it);if(ct===0){Gn();try{et()}finally{}return{cancel:()=>{}}}return this.tasks[at]={fn:et,metadata:it,priority:ct,id:at},this.taskQueue.push(at),this.invoker.trigger(),{cancel:()=>{delete this.tasks[at]}}}process(){Gn();try{if(this.taskQueue=this.taskQueue.filter(at=>!!this.tasks[at]),!this.taskQueue.length)return;const et=this.pick();if(et===null)return;const it=this.tasks[et];if(delete this.tasks[et],this.taskQueue.length&&this.invoker.trigger(),!it)return;it.fn()}finally{}}pick(){let et=null,it=1/0;for(let ct=0;ct<this.taskQueue.length;ct++){const vt=this.tasks[this.taskQueue[ct]];vt.priority<it&&(it=vt.priority,et=ct)}if(et===null)return null;const at=this.taskQueue[et];return this.taskQueue.splice(et,1),at}remove(){this.invoker.remove()}}class Sr{constructor(et){this._stringToNumber={},this._numberToString=[];for(let it=0;it<et.length;it++){const at=et[it];this._stringToNumber[at]=it,this._numberToString[it]=at}}encode(et){return this._stringToNumber[et]}decode(et){return this._numberToString[et]}}const Ar=["tile","layer","source","sourceLayer","state"];class ro{constructor(et,it,at,ct,vt){this.type="Feature",this._vectorTileFeature=et,this._z=it,this._x=at,this._y=ct,this.properties=et.properties,this.id=vt}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(et){this._geometry=et}toJSON(){const et={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(et.id=this.id);for(const it of Ar)this[it]!==void 0&&(et[it]=this[it]);return et}}const qr=32,ao=33,To=new Uint16Array(8184);for(let rt=0;rt<2046;rt++){let et=rt+2,it=0,at=0,ct=0,vt=0,Rt=0,Nt=0;for(1&et?ct=vt=Rt=qr:it=at=Nt=qr;(et>>=1)>1;){const Yt=it+ct>>1,sn=at+vt>>1;1&et?(ct=it,vt=at,it=Rt,at=Nt):(it=ct,at=vt,ct=Rt,vt=Nt),Rt=Yt,Nt=sn}const Jt=4*rt;To[Jt+0]=it,To[Jt+1]=at,To[Jt+2]=ct,To[Jt+3]=vt}const Io=new Uint16Array(2178),Yo=new Uint8Array(1089),vs=new Uint16Array(1089);function as(rt){return rt===0?-.03125:rt===32?.03125:0}var Qs=ho([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const ks={type:2,extent:zo,loadGeometry:()=>[[new pt(0,0),new pt(8193,0),new pt(8193,8193),new pt(0,8193),new pt(0,0)]]};class Ou{constructor(et,it,at,ct,vt){this.tileID=et,this.uid=tn(),this.uses=0,this.tileSize=it,this.tileZoom=at,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=vt,this.expiredRequestCount=0,this.state="loading",ct&&ct.transform&&(this.projection=ct.transform.projection)}registerFadeDuration(et){const it=et+this.timeAdded;it<fs.now()||this.fadeEndTime&&it<this.fadeEndTime||(this.fadeEndTime=it)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=qy(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(et,it,at){if(this.unloadVectorData(),this.state="loaded",et){et.featureIndex&&(this.latestFeatureIndex=et.featureIndex,et.rawTileData?(this.latestRawTileData=et.rawTileData,this.latestFeatureIndex.rawTileData=et.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=et.collisionBoxArray,this.buckets=function(ct,vt){const Rt={};if(!vt)return Rt;for(const Nt of ct){const Jt=Nt.layerIds.map(Yt=>vt.getLayer(Yt)).filter(Boolean);if(Jt.length!==0){Nt.layers=Jt,Nt.stateDependentLayerIds&&(Nt.stateDependentLayers=Nt.stateDependentLayerIds.map(Yt=>Jt.filter(sn=>sn.id===Yt)[0]));for(const Yt of Jt)Rt[Yt.id]=Nt}}return Rt}(et.buckets,it.style),this.hasSymbolBuckets=!1;for(const ct in this.buckets){const vt=this.buckets[ct];if(vt instanceof Sy){if(this.hasSymbolBuckets=!0,!at)break;vt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const ct in this.buckets){const vt=this.buckets[ct];if(vt instanceof Sy&&vt.hasRTLText){this.hasRTLText=!0,gr.isLoading()||gr.isLoaded()||Hn()!=="deferred"||dr();break}}this.queryPadding=0;for(const ct in this.buckets){const vt=this.buckets[ct];this.queryPadding=Math.max(this.queryPadding,it.style.getLayer(ct).queryRadius(vt))}et.imageAtlas&&(this.imageAtlas=et.imageAtlas),et.glyphAtlasImage&&(this.glyphAtlasImage=et.glyphAtlasImage),et.lineAtlas&&(this.lineAtlas=et.lineAtlas)}else this.collisionBoxArray=new Q0}unloadVectorData(){if(this.hasData()){for(const et in this.buckets)this.buckets[et].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(et){return this.buckets[et.id]}upload(et){for(const at in this.buckets){const ct=this.buckets[at];ct.uploadPending()&&ct.upload(et)}const it=et.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Vn(et,this.imageAtlas.image,it.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Vn(et,this.glyphAtlasImage,it.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Vn(et,this.lineAtlas.image,it.ALPHA),this.lineAtlas.uploaded=!0)}prepare(et){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(et,this.imageAtlasTexture)}queryRenderedFeatures(et,it,at,ct,vt,Rt,Nt,Jt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:ct,pixelPosMatrix:Nt,transform:Rt,params:vt,tileTransform:this.tileTransform},et,it,at):{}}querySourceFeatures(et,it){const at=this.latestFeatureIndex;if(!at||!at.rawTileData)return;const ct=at.loadVTLayers(),vt=it?it.sourceLayer:"",Rt=ct._geojsonTileLayer||ct[vt];if(!Rt)return;const Nt=U0(it&&it.filter),{z:Jt,x:Yt,y:sn}=this.tileID.canonical,dn={z:Jt,x:Yt,y:sn};for(let gn=0;gn<Rt.length;gn++){const Rn=Rt.feature(gn);if(Nt.needGeometry){const Ln=jy(Rn,!0);if(!Nt.filter(new tr(this.tileID.overscaledZ),Ln,this.tileID.canonical))continue}else if(!Nt.filter(new tr(this.tileID.overscaledZ),Rn))continue;const Bn=at.getId(Rn,vt),kn=new ro(Rn,Jt,Yt,sn,Bn);kn.tile=dn,et.push(kn)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(et){const it=this.expirationTime;if(et.cacheControl){const at=Qr(et.cacheControl);at["max-age"]&&(this.expirationTime=Date.now()+1e3*at["max-age"])}else et.expires&&(this.expirationTime=new Date(et.expires).getTime());if(this.expirationTime){const at=Date.now();let ct=!1;if(this.expirationTime>at)ct=!1;else if(it)if(this.expirationTime<it)ct=!0;else{const vt=this.expirationTime-it;vt?this.expirationTime=at+Math.max(vt,3e4):ct=!0}else ct=!0;ct?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(et,it){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(et).length===0||!it)return;const at=this.latestFeatureIndex.loadVTLayers(),ct=it.style.listImages();for(const vt in this.buckets){if(!it.style.hasLayer(vt))continue;const Rt=this.buckets[vt],Nt=Rt.layers[0].sourceLayer||"_geojsonTileLayer",Jt=at[Nt],Yt=et[Nt];if(!Jt||!Yt||Object.keys(Yt).length===0)continue;if(Rt.update(Yt,Jt,ct,this.imageAtlas&&this.imageAtlas.patternPositions||{}),Rt instanceof _d||Rt instanceof Yv){const dn=it.style._getSourceCache(Rt.layers[0].source);it._terrain&&it._terrain.enabled&&dn&&Rt.programConfigurations.needsUpload&&it._terrain._clearRenderCacheForTile(dn.id,this.tileID)}const sn=it&&it.style&&it.style.getLayer(vt);sn&&(this.queryPadding=Math.max(this.queryPadding,sn.queryRadius(Rt)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<fs.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(et){this.symbolFadeHoldUntil=fs.now()+et}setTexture(et,it){const at=it.context,ct=at.gl;this.texture=this.texture||it.getTileTexture(et.width),this.texture?this.texture.update(et,{useMipmap:!0}):(this.texture=new Vn(at,et,ct.RGBA,{useMipmap:!0}),this.texture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),at.extTextureFilterAnisotropic&&ct.texParameterf(ct.TEXTURE_2D,at.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,at.extTextureFilterAnisotropicMax))}setDependencies(et,it){const at={};for(const ct of it)at[ct]=!0;this.dependencies[et]=at}hasDependency(et,it){for(const at of et){const ct=this.dependencies[at];if(ct){for(const vt of it)if(ct[vt])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(et,it){if(!it||it.name==="mercator"||this._tileDebugBuffer)return;const at=Nu(ks,this.tileID.canonical,this.tileTransform)[0],ct=new us,vt=new T0;for(let Rt=0;Rt<at.length;Rt++){const{x:Nt,y:Jt}=at[Rt];ct.emplaceBack(Nt,Jt),vt.emplaceBack(Rt)}vt.emplaceBack(0),this._tileDebugIndexBuffer=et.createIndexBuffer(vt),this._tileDebugBuffer=et.createVertexBuffer(ct,q_.members),this._tileDebugSegments=Dl.simpleSegment(0,0,ct.length,vt.length)}_makeTileBoundsBuffers(et,it){if(this._tileBoundsBuffer||!it||it.name==="mercator")return;const at=Nu(ks,this.tileID.canonical,this.tileTransform)[0];let ct,vt;if(this.isRaster){const Rt=function(Nt,Jt){const Yt=qy(Nt,Jt),sn=Math.pow(2,Nt.z);for(let Ln=0;Ln<ao;Ln++)for(let ir=0;ir<ao;ir++){const _r=mp((Nt.x+(ir+as(ir))/qr)/sn),rr=Kl((Nt.y+(Ln+as(Ln))/qr)/sn),fr=Jt.project(_r,rr),Ur=Ln*ao+ir;Io[2*Ur+0]=Math.round((fr.x*Yt.scale-Yt.x)*zo),Io[2*Ur+1]=Math.round((fr.y*Yt.scale-Yt.y)*zo)}Yo.fill(0),vs.fill(0);for(let Ln=2045;Ln>=0;Ln--){const ir=4*Ln,_r=To[ir+0],rr=To[ir+1],fr=To[ir+2],Ur=To[ir+3],pr=_r+fr>>1,Vr=rr+Ur>>1,Cr=pr+Vr-rr,Jr=Vr+_r-pr,so=rr*ao+_r,Dr=Ur*ao+fr,Hr=Vr*ao+pr,$r=Math.hypot((Io[2*so+0]+Io[2*Dr+0])/2-Io[2*Hr+0],(Io[2*so+1]+Io[2*Dr+1])/2-Io[2*Hr+1])>=16;if(Yo[Hr]=Yo[Hr]||($r?1:0),Ln<1022){const eo=(rr+Jr>>1)*ao+(_r+Cr>>1),lo=(Ur+Jr>>1)*ao+(fr+Cr>>1);Yo[Hr]=Yo[Hr]||Yo[eo]||Yo[lo]}}const dn=new Ps,gn=new Xl;let Rn=0;function Bn(Ln,ir){const _r=ir*ao+Ln;return vs[_r]===0&&(dn.emplaceBack(Io[2*_r+0],Io[2*_r+1],Ln*zo/qr,ir*zo/qr),vs[_r]=++Rn),vs[_r]-1}function kn(Ln,ir,_r,rr,fr,Ur){const pr=Ln+_r>>1,Vr=ir+rr>>1;if(Math.abs(Ln-fr)+Math.abs(ir-Ur)>1&&Yo[Vr*ao+pr])kn(fr,Ur,Ln,ir,pr,Vr),kn(_r,rr,fr,Ur,pr,Vr);else{const Cr=Bn(Ln,ir),Jr=Bn(_r,rr),so=Bn(fr,Ur);gn.emplaceBack(Cr,Jr,so)}}return kn(0,0,qr,qr,qr,0),kn(qr,qr,0,0,0,qr),{vertices:dn,indices:gn}}(this.tileID.canonical,it);ct=Rt.vertices,vt=Rt.indices}else{ct=new Ps,vt=new Xl;for(const{x:Nt,y:Jt}of at)ct.emplaceBack(Nt,Jt,0,0);const Rt=L_.exports(ct.int16,void 0,4);for(let Nt=0;Nt<Rt.length;Nt+=3)vt.emplaceBack(Rt[Nt],Rt[Nt+1],Rt[Nt+2])}this._tileBoundsBuffer=et.createVertexBuffer(ct,Qs.members),this._tileBoundsIndexBuffer=et.createIndexBuffer(vt),this._tileBoundsSegments=Dl.simpleSegment(0,0,ct.length,vt.length)}_makeGlobeTileDebugBuffers(et,it){const at=it.projection;if(!at||at.name!=="globe"||it.freezeTileCoverage)return;const ct=this.tileID.canonical,vt=ev(KS(ct,it)),Rt=r_(it.zoom);let Nt;Rt>0&&(Nt=Pv(new Float64Array(16),it.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(et,ct,it,vt,Nt,Rt),this._makeGlobeTileDebugTextBuffer(et,ct,it,vt,Nt,Rt)}_globePoint(et,it,at,ct,vt,Rt,Nt){let Jt=n_(et,it,at);if(Rt){const Yt=1<<at.z,sn=au(ct.center.lng),dn=qp(ct.center.lat),gn=(at.x+.5)/Yt-sn;let Rn=0;gn>.5?Rn=-1:gn<-.5&&(Rn=1);let Bn=(et/zo+at.x)/Yt+Rn,kn=(it/zo+at.y)/Yt;Bn=(Bn-sn)*ct._pixelsPerMercatorPixel+sn,kn=(kn-dn)*ct._pixelsPerMercatorPixel+dn;const Ln=[Bn*ct.worldSize,kn*ct.worldSize,0];Ol(Ln,Ln,Rt),Jt=$y(Jt,Ln,Nt)}return Ol(Jt,Jt,vt)}_makeGlobeTileDebugBorderBuffer(et,it,at,ct,vt,Rt){const Nt=new us,Jt=new T0,Yt=new Ns,sn=(gn,Rn,Bn,kn,Ln)=>{const ir=(Bn-gn)/(Ln-1),_r=(kn-Rn)/(Ln-1),rr=Nt.length;for(let fr=0;fr<Ln;fr++){const Ur=gn+fr*ir,pr=Rn+fr*_r;Nt.emplaceBack(Ur,pr);const Vr=this._globePoint(Ur,pr,it,at,ct,vt,Rt);Yt.emplaceBack(Vr[0],Vr[1],Vr[2]),Jt.emplaceBack(rr+fr)}},dn=zo;sn(0,0,dn,0,16),sn(dn,0,dn,dn,16),sn(dn,dn,0,dn,16),sn(0,dn,0,0,16),this._tileDebugIndexBuffer=et.createIndexBuffer(Jt),this._tileDebugBuffer=et.createVertexBuffer(Nt,q_.members),this._globeTileDebugBorderBuffer=et.createVertexBuffer(Yt,XS.members),this._tileDebugSegments=Dl.simpleSegment(0,0,Nt.length,Jt.length)}_makeGlobeTileDebugTextBuffer(et,it,at,ct,vt,Rt){const Nt=new us,Jt=new Xl,Yt=new Ns,sn=25;Jt.reserve(32),Nt.reserve(sn),Yt.reserve(sn);const dn=(gn,Rn)=>sn*gn+Rn;for(let gn=0;gn<sn;gn++){const Rn=2048*gn;for(let Bn=0;Bn<sn;Bn++){const kn=2048*Bn;Nt.emplaceBack(kn,Rn);const Ln=this._globePoint(kn,Rn,it,at,ct,vt,Rt);Yt.emplaceBack(Ln[0],Ln[1],Ln[2])}}for(let gn=0;gn<4;gn++)for(let Rn=0;Rn<4;Rn++){const Bn=dn(gn,Rn),kn=dn(gn,Rn+1),Ln=dn(gn+1,Rn),ir=dn(gn+1,Rn+1);Jt.emplaceBack(Bn,kn,Ln),Jt.emplaceBack(Ln,kn,ir)}this._tileDebugTextIndexBuffer=et.createIndexBuffer(Jt),this._tileDebugTextBuffer=et.createVertexBuffer(Nt,q_.members),this._globeTileDebugTextBuffer=et.createVertexBuffer(Yt,XS.members),this._tileDebugTextSegments=Dl.simpleSegment(0,0,sn,32)}}class Iu{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(et,it,at){const ct=String(it);if(this.stateChanges[et]=this.stateChanges[et]||{},this.stateChanges[et][ct]=this.stateChanges[et][ct]||{},Ft(this.stateChanges[et][ct],at),this.deletedStates[et]===null){this.deletedStates[et]={};for(const vt in this.state[et])vt!==ct&&(this.deletedStates[et][vt]=null)}else if(this.deletedStates[et]&&this.deletedStates[et][ct]===null){this.deletedStates[et][ct]={};for(const vt in this.state[et][ct])at[vt]||(this.deletedStates[et][ct][vt]=null)}else for(const vt in at)this.deletedStates[et]&&this.deletedStates[et][ct]&&this.deletedStates[et][ct][vt]===null&&delete this.deletedStates[et][ct][vt]}removeFeatureState(et,it,at){if(this.deletedStates[et]===null)return;const ct=String(it);if(this.deletedStates[et]=this.deletedStates[et]||{},at&&it!==void 0)this.deletedStates[et][ct]!==null&&(this.deletedStates[et][ct]=this.deletedStates[et][ct]||{},this.deletedStates[et][ct][at]=null);else if(it!==void 0)if(this.stateChanges[et]&&this.stateChanges[et][ct])for(at in this.deletedStates[et][ct]={},this.stateChanges[et][ct])this.deletedStates[et][ct][at]=null;else this.deletedStates[et][ct]=null;else this.deletedStates[et]=null}getState(et,it){const at=String(it),ct=Ft({},(this.state[et]||{})[at],(this.stateChanges[et]||{})[at]);if(this.deletedStates[et]===null)return{};if(this.deletedStates[et]){const vt=this.deletedStates[et][it];if(vt===null)return{};for(const Rt in vt)delete ct[Rt]}return ct}initializeTileState(et,it){et.setFeatureState(this.state,it)}coalesceChanges(et,it){const at={};for(const ct in this.stateChanges){this.state[ct]=this.state[ct]||{};const vt={};for(const Rt in this.stateChanges[ct])this.state[ct][Rt]||(this.state[ct][Rt]={}),Ft(this.state[ct][Rt],this.stateChanges[ct][Rt]),vt[Rt]=this.state[ct][Rt];at[ct]=vt}for(const ct in this.deletedStates){this.state[ct]=this.state[ct]||{};const vt={};if(this.deletedStates[ct]===null)for(const Rt in this.state[ct])vt[Rt]={},this.state[ct][Rt]={};else for(const Rt in this.deletedStates[ct]){if(this.deletedStates[ct][Rt]===null)this.state[ct][Rt]={};else for(const Nt of Object.keys(this.deletedStates[ct][Rt]))delete this.state[ct][Rt][Nt];vt[Rt]=this.state[ct][Rt]}at[ct]=at[ct]||{},Ft(at[ct],vt)}if(this.stateChanges={},this.deletedStates={},Object.keys(at).length!==0)for(const ct in et)et[ct].setFeatureState(at,it)}}class tp{constructor(et){this.size=et,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(et,it){const at=this.toIdx(et,it);return{min:this.minimums[at],max:this.maximums[at]}}isLeaf(et,it){return this.leaves[this.toIdx(et,it)]}toIdx(et,it){return it*this.size+et}}function Pl(rt,et,it,at){let ct=0,vt=Number.MAX_VALUE;for(let Rt=0;Rt<3;Rt++)if(Math.abs(at[Rt])<1e-15){if(it[Rt]<rt[Rt]||it[Rt]>et[Rt])return null}else{const Nt=1/at[Rt];let Jt=(rt[Rt]-it[Rt])*Nt,Yt=(et[Rt]-it[Rt])*Nt;if(Jt>Yt){const sn=Jt;Jt=Yt,Yt=sn}if(Jt>ct&&(ct=Jt),Yt<vt&&(vt=Yt),ct>vt)return null}return ct}function Np(rt,et,it,at,ct,vt,Rt,Nt,Jt,Yt,sn){const dn=at-rt,gn=ct-et,Rn=vt-it,Bn=Rt-rt,kn=Nt-et,Ln=Jt-it,ir=sn[1]*Ln-sn[2]*kn,_r=sn[2]*Bn-sn[0]*Ln,rr=sn[0]*kn-sn[1]*Bn,fr=dn*ir+gn*_r+Rn*rr;if(Math.abs(fr)<1e-15)return null;const Ur=1/fr,pr=Yt[0]-rt,Vr=Yt[1]-et,Cr=Yt[2]-it,Jr=(pr*ir+Vr*_r+Cr*rr)*Ur;if(Jr<0||Jr>1)return null;const so=Vr*Rn-Cr*gn,Dr=Cr*dn-pr*Rn,Hr=pr*gn-Vr*dn,$r=(sn[0]*so+sn[1]*Dr+sn[2]*Hr)*Ur;return $r<0||Jr+$r>1?null:(Bn*so+kn*Dr+Ln*Hr)*Ur}function Em(rt,et,it){return(rt-et)/(it-et)}function AF(rt,et,it,at,ct,vt,Rt,Nt,Jt){const Yt=1<<it,sn=vt-at,dn=Rt-ct,gn=(rt+1)/Yt*sn+at,Rn=(et+0)/Yt*dn+ct,Bn=(et+1)/Yt*dn+ct;Nt[0]=(rt+0)/Yt*sn+at,Nt[1]=Rn,Jt[0]=gn,Jt[1]=Bn}class YR{constructor(et){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=et,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const it=function(vt){const Rt=Math.ceil(Math.log2(vt.dim/8)),Nt=[];let Jt=Math.ceil(Math.pow(2,Rt));const Yt=1/Jt,sn=(Rn,Bn,kn,Ln,ir)=>{const _r=Ln?1:0,rr=(Rn+1)*kn-_r,fr=Bn*kn,Ur=(Bn+1)*kn-_r;ir[0]=Rn*kn,ir[1]=fr,ir[2]=rr,ir[3]=Ur};let dn=new tp(Jt);const gn=[];for(let Rn=0;Rn<Jt*Jt;Rn++){sn(Rn%Jt,Math.floor(Rn/Jt),Yt,!1,gn);const Bn=o_(gn[0],gn[1],vt),kn=o_(gn[2],gn[1],vt),Ln=o_(gn[2],gn[3],vt),ir=o_(gn[0],gn[3],vt);dn.minimums.push(Math.min(Bn,kn,Ln,ir)),dn.maximums.push(Math.max(Bn,kn,Ln,ir)),dn.leaves.push(1)}for(Nt.push(dn),Jt/=2;Jt>=1;Jt/=2){const Rn=Nt[Nt.length-1];dn=new tp(Jt);for(let Bn=0;Bn<Jt*Jt;Bn++){sn(Bn%Jt,Math.floor(Bn/Jt),2,!0,gn);const kn=Rn.getElevation(gn[0],gn[1]),Ln=Rn.getElevation(gn[2],gn[1]),ir=Rn.getElevation(gn[2],gn[3]),_r=Rn.getElevation(gn[0],gn[3]),rr=Rn.isLeaf(gn[0],gn[1]),fr=Rn.isLeaf(gn[2],gn[1]),Ur=Rn.isLeaf(gn[2],gn[3]),pr=Rn.isLeaf(gn[0],gn[3]),Vr=Math.min(kn.min,Ln.min,ir.min,_r.min),Cr=Math.max(kn.max,Ln.max,ir.max,_r.max),Jr=rr&&fr&&Ur&&pr;dn.maximums.push(Cr),dn.minimums.push(Vr),dn.leaves.push(Cr-Vr<=5&&Jr?1:0)}Nt.push(dn)}return Nt}(this.dem),at=it.length-1,ct=it[at];this._addNode(ct.minimums[0],ct.maximums[0],ct.leaves[0]),this._construct(it,0,0,at,0)}raycastRoot(et,it,at,ct,vt,Rt,Nt=1){return Pl([et,it,-100],[at,ct,this.maximums[0]*Nt],vt,Rt)}raycast(et,it,at,ct,vt,Rt,Nt=1){if(!this.nodeCount)return null;const Jt=this.raycastRoot(et,it,at,ct,vt,Rt,Nt);if(Jt==null)return null;const Yt=[],sn=[],dn=[],gn=[],Rn=[{idx:0,t:Jt,nodex:0,nodey:0,depth:0}];for(;Rn.length>0;){const{idx:Bn,t:kn,nodex:Ln,nodey:ir,depth:_r}=Rn.pop();if(this.leaves[Bn]){AF(Ln,ir,_r,et,it,at,ct,dn,gn);const fr=1<<_r,Ur=(Ln+0)/fr,pr=(Ln+1)/fr,Vr=(ir+0)/fr,Cr=(ir+1)/fr,Jr=o_(Ur,Vr,this.dem)*Nt,so=o_(pr,Vr,this.dem)*Nt,Dr=o_(pr,Cr,this.dem)*Nt,Hr=o_(Ur,Cr,this.dem)*Nt,$r=Np(dn[0],dn[1],Jr,gn[0],dn[1],so,gn[0],gn[1],Dr,vt,Rt),eo=Np(gn[0],gn[1],Dr,dn[0],gn[1],Hr,dn[0],dn[1],Jr,vt,Rt),lo=Math.min($r!==null?$r:Number.MAX_VALUE,eo!==null?eo:Number.MAX_VALUE);if(lo!==Number.MAX_VALUE)return lo;{const Or=W_([],vt,Rt,kn);if($R(Jr,so,Hr,Dr,Em(Or[0],dn[0],gn[0]),Em(Or[1],dn[1],gn[1]))>=Or[2])return kn}continue}let rr=0;for(let fr=0;fr<this._siblingOffset.length;fr++){AF((Ln<<1)+this._siblingOffset[fr][0],(ir<<1)+this._siblingOffset[fr][1],_r+1,et,it,at,ct,dn,gn),dn[2]=-100,gn[2]=this.maximums[this.childOffsets[Bn]+fr]*Nt;const Ur=Pl(dn,gn,vt,Rt);if(Ur!=null){const pr=Ur;Yt[fr]=pr;let Vr=!1;for(let Cr=0;Cr<rr&&!Vr;Cr++)pr>=Yt[sn[Cr]]&&(sn.splice(Cr,0,fr),Vr=!0);Vr||(sn[rr]=fr),rr++}}for(let fr=0;fr<rr;fr++){const Ur=sn[fr];Rn.push({idx:this.childOffsets[Bn]+Ur,t:Yt[Ur],nodex:(Ln<<1)+this._siblingOffset[Ur][0],nodey:(ir<<1)+this._siblingOffset[Ur][1],depth:_r+1})}}return null}_addNode(et,it,at){return this.minimums.push(et),this.maximums.push(it),this.leaves.push(at),this.childOffsets.push(0),this.nodeCount++}_construct(et,it,at,ct,vt){if(et[ct].isLeaf(it,at)===1)return;this.childOffsets[vt]||(this.childOffsets[vt]=this.nodeCount);const Rt=ct-1,Nt=et[Rt];let Jt=0,Yt=0;for(let sn=0;sn<this._siblingOffset.length;sn++){const dn=2*it+this._siblingOffset[sn][0],gn=2*at+this._siblingOffset[sn][1],Rn=Nt.getElevation(dn,gn),Bn=Nt.isLeaf(dn,gn),kn=this._addNode(Rn.min,Rn.max,Bn);Bn&&(Jt|=1<<sn),Yt||(Yt=kn)}for(let sn=0;sn<this._siblingOffset.length;sn++)Jt&1<<sn||this._construct(et,2*it+this._siblingOffset[sn][0],2*at+this._siblingOffset[sn][1],Rt,Yt+sn)}}function $R(rt,et,it,at,ct,vt){return Ss(Ss(rt,it,vt),Ss(et,at,vt),ct)}function o_(rt,et,it){const at=it.dim,ct=zt(rt*at-.5,0,at-1),vt=zt(et*at-.5,0,at-1),Rt=Math.floor(ct),Nt=Math.floor(vt),Jt=Math.min(Rt+1,at-1),Yt=Math.min(Nt+1,at-1);return $R(it.get(Rt,Nt),it.get(Jt,Nt),it.get(Rt,Yt),it.get(Jt,Yt),ct-Rt,vt-Nt)}const XR={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class c1{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(et,it,at,ct=!1,vt=!1){if(this.uid=et,it.height!==it.width)throw new RangeError("DEM tiles must be square");if(at&&at!=="mapbox"&&at!=="terrarium")return hn(`"${at}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=it.height;const Rt=this.dim=it.height-2,Nt=new Uint32Array(it.data.buffer);if(this.pixels=new Uint8Array(it.data.buffer),this.encoding=at||"mapbox",this.borderReady=ct,!ct){for(let Jt=0;Jt<Rt;Jt++)Nt[this._idx(-1,Jt)]=Nt[this._idx(0,Jt)],Nt[this._idx(Rt,Jt)]=Nt[this._idx(Rt-1,Jt)],Nt[this._idx(Jt,-1)]=Nt[this._idx(Jt,0)],Nt[this._idx(Jt,Rt)]=Nt[this._idx(Jt,Rt-1)];Nt[this._idx(-1,-1)]=Nt[this._idx(0,0)],Nt[this._idx(Rt,-1)]=Nt[this._idx(Rt-1,0)],Nt[this._idx(-1,Rt)]=Nt[this._idx(0,Rt-1)],Nt[this._idx(Rt,Rt)]=Nt[this._idx(Rt-1,Rt-1)],vt&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new YR(this)}get(et,it,at=!1){at&&(et=zt(et,-1,this.dim),it=zt(it,-1,this.dim));const ct=4*this._idx(et,it);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[ct],this.pixels[ct+1],this.pixels[ct+2])}static getUnpackVector(et){return XR[et]}get unpackVector(){return XR[this.encoding]}_idx(et,it){if(et<-1||et>=this.dim+1||it<-1||it>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(it+1)*this.stride+(et+1)}_unpackMapbox(et,it,at){return(256*et*256+256*it+at)/10-1e4}_unpackTerrarium(et,it,at){return 256*et+it+at/256-32768}static pack(et,it){const at=[0,0,0,0],ct=c1.getUnpackVector(it);let vt=Math.floor((et+ct[3])/ct[2]);return at[2]=vt%256,vt=Math.floor(vt/256),at[1]=vt%256,vt=Math.floor(vt/256),at[0]=vt,at}getPixels(){return new _h({width:this.stride,height:this.stride},this.pixels)}backfillBorder(et,it,at){if(this.dim!==et.dim)throw new Error("dem dimension mismatch");let ct=it*this.dim,vt=it*this.dim+this.dim,Rt=at*this.dim,Nt=at*this.dim+this.dim;switch(it){case-1:ct=vt-1;break;case 1:vt=ct+1}switch(at){case-1:Rt=Nt-1;break;case 1:Nt=Rt+1}const Jt=-it*this.dim,Yt=-at*this.dim;for(let sn=Rt;sn<Nt;sn++)for(let dn=ct;dn<vt;dn++){const gn=4*this._idx(dn,sn),Rn=4*this._idx(dn+Jt,sn+Yt);this.pixels[gn+0]=et.pixels[Rn+0],this.pixels[gn+1]=et.pixels[Rn+1],this.pixels[gn+2]=et.pixels[Rn+2],this.pixels[gn+3]=et.pixels[Rn+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}wo(c1,"DEMData"),wo(YR,"DemMinMaxQuadTree",{omit:["dem"]});class dw{constructor(et,it){this.max=et,this.onRemove=it,this.reset()}reset(){for(const et in this.data)for(const it of this.data[et])it.timeout&&clearTimeout(it.timeout),this.onRemove(it.value);return this.data={},this.order=[],this}add(et,it,at){const ct=et.wrapped().key;this.data[ct]===void 0&&(this.data[ct]=[]);const vt={value:it,timeout:void 0};if(at!==void 0&&(vt.timeout=setTimeout(()=>{this.remove(et,vt)},at)),this.data[ct].push(vt),this.order.push(ct),this.order.length>this.max){const Rt=this._getAndRemoveByKey(this.order[0]);Rt&&this.onRemove(Rt)}return this}has(et){return et.wrapped().key in this.data}getAndRemove(et){return this.has(et)?this._getAndRemoveByKey(et.wrapped().key):null}_getAndRemoveByKey(et){const it=this.data[et].shift();return it.timeout&&clearTimeout(it.timeout),this.data[et].length===0&&delete this.data[et],this.order.splice(this.order.indexOf(et),1),it.value}getByKey(et){const it=this.data[et];return it?it[0].value:null}get(et){return this.has(et)?this.data[et.wrapped().key][0].value:null}remove(et,it){if(!this.has(et))return this;const at=et.wrapped().key,ct=it===void 0?0:this.data[at].indexOf(it),vt=this.data[at][ct];return this.data[at].splice(ct,1),vt.timeout&&clearTimeout(vt.timeout),this.data[at].length===0&&delete this.data[at],this.onRemove(vt.value),this.order.splice(this.order.indexOf(at),1),this}setMaxSize(et){for(this.max=et;this.order.length>this.max;){const it=this._getAndRemoveByKey(this.order[0]);it&&this.onRemove(it)}return this}filter(et){const it=[];for(const at in this.data)for(const ct of this.data[at])et(ct.value)||it.push(ct);for(const at of it)this.remove(at.value.tileID,at)}}class RU{constructor(et,it,at){this.func=et,this.mask=it,this.range=at}}RU.ReadOnly=!1,RU.ReadWrite=!0,RU.disabled=new RU(519,RU.ReadOnly,[0,1]);const OR=7680;class IR{constructor(et,it,at,ct,vt,Rt){this.test=et,this.ref=it,this.mask=at,this.fail=ct,this.depthFail=vt,this.pass=Rt}}IR.disabled=new IR({func:519,mask:0},0,0,OR,OR,OR);class Ry{constructor(et,it,at){this.blendFunction=et,this.blendColor=it,this.mask=at}}Ry.Replace=[1,0],Ry.disabled=new Ry(Ry.Replace,Is.transparent,[!1,!1,!1,!1]),Ry.unblended=new Ry(Ry.Replace,Is.transparent,[!0,!0,!0,!0]),Ry.alphaBlended=new Ry([1,771],Is.transparent,[!0,!0,!0,!0]);const PR=1029,WR=2305;class Zm{constructor(et,it,at){this.enable=et,this.mode=it,this.frontFace=at}}Zm.disabled=new Zm(!1,PR,WR),Zm.backCCW=new Zm(!0,PR,WR),Zm.backCW=new Zm(!0,PR,2304),Zm.frontCW=new Zm(!0,1028,2304),Zm.frontCCW=new Zm(!0,1028,WR);class iv extends hu{constructor(et,it,at){super(),this.id=et,this._onlySymbols=at,it.on("data",ct=>{ct.dataType==="source"&&ct.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&ct.dataType==="source"&&ct.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),it.on("error",()=>{this._sourceErrored=!0}),this._source=it,this._tiles={},this._cache=new dw(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=it.minTileCacheSize,this._maxTileCacheSize=it.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Iu,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(et){this.map=et,this._minTileCacheSize=this._minTileCacheSize===void 0&&et?et._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&et?et._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const et in this._tiles){const it=this._tiles[et];if(it.state!=="loaded"&&it.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const et=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,et&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(et,it){return et.isSymbolTile=this._onlySymbols,this._source.loadTile(et,it)}_unloadTile(et){if(this._source.unloadTile)return this._source.unloadTile(et,()=>{})}_abortTile(et){if(this._source.abortTile)return this._source.abortTile(et,()=>{})}serialize(){return this._source.serialize()}prepare(et){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const it in this._tiles){const at=this._tiles[it];at.upload(et),at.prepare(this.map.style.imageManager)}}getIds(){return Ct(this._tiles).map(et=>et.tileID).sort(qR).map(et=>et.key)}getRenderableIds(et){const it=[];for(const at in this._tiles)this._isIdRenderable(+at,et)&&it.push(this._tiles[at]);return et?it.sort((at,ct)=>{const vt=at.tileID,Rt=ct.tileID,Nt=new pt(vt.canonical.x,vt.canonical.y)._rotate(this.transform.angle),Jt=new pt(Rt.canonical.x,Rt.canonical.y)._rotate(this.transform.angle);return vt.overscaledZ-Rt.overscaledZ||Jt.y-Nt.y||Jt.x-Nt.x}).map(at=>at.tileID.key):it.map(at=>at.tileID).sort(qR).map(at=>at.key)}hasRenderableParent(et){const it=this.findLoadedParent(et,0);return!!it&&this._isIdRenderable(it.tileID.key)}_isIdRenderable(et,it){return this._tiles[et]&&this._tiles[et].hasData()&&!this._coveredTiles[et]&&(it||!this._tiles[et].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const et in this._tiles)this._tiles[et].state!=="errored"&&this._reloadTile(+et,"reloading")}}_reloadTile(et,it){const at=this._tiles[et];at&&(at.state!=="loading"&&(at.state=it),this._loadTile(at,this._tileLoaded.bind(this,at,et,it)))}_tileLoaded(et,it,at,ct){if(ct)if(et.state="errored",ct.status!==404)this._source.fire(new Ru(ct,{tile:et}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const vt=this.map.painter.terrain;this.update(this.transform,vt.getScaledDemTileSize(),!0),vt.resetTileLookupCache(this.id)}else this.update(this.transform);else et.timeAdded=fs.now(),at==="expired"&&(et.refreshedUponExpiration=!0),this._setTileReloadTimer(it,et),this._source.type==="raster-dem"&&et.dem&&this._backfillDEM(et),this._state.initializeTileState(et,this.map?this.map.painter:null),this._source.fire(new bs("data",{dataType:"source",tile:et,coord:et.tileID,sourceCacheId:this.id}))}_backfillDEM(et){const it=this.getRenderableIds();for(let ct=0;ct<it.length;ct++){const vt=it[ct];if(et.neighboringTiles&&et.neighboringTiles[vt]){const Rt=this.getTileByID(vt);at(et,Rt),at(Rt,et)}}function at(ct,vt){if(!ct.dem||ct.dem.borderReady)return;ct.needsHillshadePrepare=!0,ct.needsDEMTextureUpload=!0;let Rt=vt.tileID.canonical.x-ct.tileID.canonical.x;const Nt=vt.tileID.canonical.y-ct.tileID.canonical.y,Jt=Math.pow(2,ct.tileID.canonical.z),Yt=vt.tileID.key;Rt===0&&Nt===0||Math.abs(Nt)>1||(Math.abs(Rt)>1&&(Math.abs(Rt+Jt)===1?Rt+=Jt:Math.abs(Rt-Jt)===1&&(Rt-=Jt)),vt.dem&&ct.dem&&(ct.dem.backfillBorder(vt.dem,Rt,Nt),ct.neighboringTiles&&ct.neighboringTiles[Yt]&&(ct.neighboringTiles[Yt].backfilled=!0)))}}getTile(et){return this.getTileByID(et.key)}getTileByID(et){return this._tiles[et]}_retainLoadedChildren(et,it,at,ct){for(const vt in this._tiles){let Rt=this._tiles[vt];if(ct[vt]||!Rt.hasData()||Rt.tileID.overscaledZ<=it||Rt.tileID.overscaledZ>at)continue;let Nt=Rt.tileID;for(;Rt&&Rt.tileID.overscaledZ>it+1;){const Yt=Rt.tileID.scaledTo(Rt.tileID.overscaledZ-1);Rt=this._tiles[Yt.key],Rt&&Rt.hasData()&&(Nt=Yt)}let Jt=Nt;for(;Jt.overscaledZ>it;)if(Jt=Jt.scaledTo(Jt.overscaledZ-1),et[Jt.key]){ct[Nt.key]=Nt;break}}}findLoadedParent(et,it){if(et.key in this._loadedParentTiles){const at=this._loadedParentTiles[et.key];return at&&at.tileID.overscaledZ>=it?at:null}for(let at=et.overscaledZ-1;at>=it;at--){const ct=et.scaledTo(at),vt=this._getLoadedTile(ct);if(vt)return vt}}_getLoadedTile(et){const it=this._tiles[et.key];return it&&it.hasData()?it:this._cache.getByKey(this._source.reparseOverscaled?et.wrapped().key:et.canonical.key)}updateCacheSize(et,it){it=it||this._source.tileSize;const at=Math.ceil(et.width/it)+1,ct=Math.ceil(et.height/it)+1,vt=Math.floor(at*ct*5),Rt=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,vt):vt,Nt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Rt):Rt;this._cache.setMaxSize(Nt)}handleWrapJump(et){const it=Math.round((et-(this._prevLng===void 0?et:this._prevLng))/360);if(this._prevLng=et,it){const at={};for(const ct in this._tiles){const vt=this._tiles[ct];vt.tileID=vt.tileID.unwrapTo(vt.tileID.wrap+it),at[vt.tileID.key]=vt}this._tiles=at;for(const ct in this._timers)clearTimeout(this._timers[ct]),delete this._timers[ct];for(const ct in this._tiles)this._setTileReloadTimer(+ct,this._tiles[ct])}}update(et,it,at){if(this.transform=et,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!at)return;let ct;this.updateCacheSize(et,it),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?ct=et.getVisibleUnwrappedCoordinates(this._source.tileID).map(Nt=>new Cu(Nt.canonical.z,Nt.wrap,Nt.canonical.z,Nt.canonical.x,Nt.canonical.y)):(ct=et.coveringTiles({tileSize:it||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!at,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(ct=ct.filter(Nt=>this._source.hasTile(Nt)))):ct=[];const vt=this._updateRetainedTiles(ct);if(KR(this._source.type)&&ct.length!==0){const Nt={},Jt={},Yt=Object.keys(vt);for(const dn of Yt){const gn=vt[dn],Rn=this._tiles[dn];if(!Rn||Rn.fadeEndTime&&Rn.fadeEndTime<=fs.now())continue;const Bn=this.findLoadedParent(gn,Math.max(gn.overscaledZ-iv.maxOverzooming,this._source.minzoom));Bn&&(this._addTile(Bn.tileID),Nt[Bn.tileID.key]=Bn.tileID),Jt[dn]=gn}const sn=ct[ct.length-1].overscaledZ;for(const dn in this._tiles){const gn=this._tiles[dn];if(vt[dn]||!gn.hasData())continue;let Rn=gn.tileID;for(;Rn.overscaledZ>sn;){Rn=Rn.scaledTo(Rn.overscaledZ-1);const Bn=this._tiles[Rn.key];if(Bn&&Bn.hasData()&&Jt[Rn.key]){vt[dn]=gn.tileID;break}}}for(const dn in Nt)vt[dn]||(this._coveredTiles[dn]=!0,vt[dn]=Nt[dn])}for(const Nt in vt)this._tiles[Nt].clearFadeHold();const Rt=function(Nt,Jt){const Yt=[];for(const sn in Nt)sn in Jt||Yt.push(sn);return Yt}(this._tiles,vt);for(const Nt of Rt){const Jt=this._tiles[Nt];Jt.hasSymbolBuckets&&!Jt.holdingForFade()?Jt.setHoldDuration(this.map._fadeDuration):Jt.hasSymbolBuckets&&!Jt.symbolFadeFinished()||this._removeTile(+Nt)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const et in this._tiles)this._tiles[et].holdingForFade()&&this._removeTile(+et)}_updateRetainedTiles(et){const it={};if(et.length===0)return it;const at={},ct=et.reduce((Yt,sn)=>Math.min(Yt,sn.overscaledZ),1/0),vt=et[0].overscaledZ,Rt=Math.max(vt-iv.maxOverzooming,this._source.minzoom),Nt=Math.max(vt+iv.maxUnderzooming,this._source.minzoom),Jt={};for(const Yt of et){const sn=this._addTile(Yt);it[Yt.key]=Yt,sn.hasData()||ct<this._source.maxzoom&&(Jt[Yt.key]=Yt)}this._retainLoadedChildren(Jt,ct,Nt,it);for(const Yt of et){let sn=this._tiles[Yt.key];if(sn.hasData())continue;if(Yt.canonical.z>=this._source.maxzoom){const gn=Yt.children(this._source.maxzoom)[0],Rn=this.getTile(gn);if(Rn&&Rn.hasData()){it[gn.key]=gn;continue}}else{const gn=Yt.children(this._source.maxzoom);if(it[gn[0].key]&&it[gn[1].key]&&it[gn[2].key]&&it[gn[3].key])continue}let dn=sn.wasRequested();for(let gn=Yt.overscaledZ-1;gn>=Rt;--gn){const Rn=Yt.scaledTo(gn);if(at[Rn.key]||(at[Rn.key]=!0,sn=this.getTile(Rn),!sn&&dn&&(sn=this._addTile(Rn)),sn&&(it[Rn.key]=Rn,dn=sn.wasRequested(),sn.hasData())))break}}return it}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const et in this._tiles){const it=[];let at,ct=this._tiles[et].tileID;for(;ct.overscaledZ>0;){if(ct.key in this._loadedParentTiles){at=this._loadedParentTiles[ct.key];break}it.push(ct.key);const vt=ct.scaledTo(ct.overscaledZ-1);if(at=this._getLoadedTile(vt),at)break;ct=vt}for(const vt of it)this._loadedParentTiles[vt]=at}}_addTile(et){let it=this._tiles[et.key];if(it)return it;it=this._cache.getAndRemove(et),it&&(this._setTileReloadTimer(et.key,it),it.tileID=et,this._state.initializeTileState(it,this.map?this.map.painter:null),this._cacheTimers[et.key]&&(clearTimeout(this._cacheTimers[et.key]),delete this._cacheTimers[et.key],this._setTileReloadTimer(et.key,it)));const at=Boolean(it);if(!at){const ct=this.map?this.map.painter:null;it=new Ou(et,this._source.tileSize*et.overscaleFactor(),this.transform.tileZoom,ct,this._isRaster),this._loadTile(it,this._tileLoaded.bind(this,it,et.key,it.state))}return it?(it.uses++,this._tiles[et.key]=it,at||this._source.fire(new bs("dataloading",{tile:it,coord:it.tileID,dataType:"source"})),it):null}_setTileReloadTimer(et,it){et in this._timers&&(clearTimeout(this._timers[et]),delete this._timers[et]);const at=it.getExpiryTimeout();at&&(this._timers[et]=setTimeout(()=>{this._reloadTile(et,"expired"),delete this._timers[et]},at))}_removeTile(et){const it=this._tiles[et];it&&(it.uses--,delete this._tiles[et],this._timers[et]&&(clearTimeout(this._timers[et]),delete this._timers[et]),it.uses>0||(it.hasData()&&it.state!=="reloading"?this._cache.add(it.tileID,it,it.getExpiryTimeout()):(it.aborted=!0,this._abortTile(it),this._unloadTile(it))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const et in this._tiles)this._removeTile(+et);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(et,it,at){const ct=[],vt=this.transform;if(!vt)return ct;const Rt=vt.projection.name==="globe",Nt=au(vt.center.lng);for(const Jt in this._tiles){const Yt=this._tiles[Jt];if(at&&Yt.clearQueryDebugViz(),Yt.holdingForFade())continue;let sn;if(Rt){const dn=Yt.tileID.canonical;if(dn.z===0){const gn=[Math.abs(zt(Nt,...CF(dn,-1))-Nt),Math.abs(zt(Nt,...CF(dn,1))-Nt)];sn=[0,2*gn.indexOf(Math.min(...gn))-1]}else{const gn=[Math.abs(zt(Nt,...CF(dn,-1))-Nt),Math.abs(zt(Nt,...CF(dn,0))-Nt),Math.abs(zt(Nt,...CF(dn,1))-Nt)];sn=[gn.indexOf(Math.min(...gn))-1]}}else sn=[0];for(const dn of sn){const gn=et.containsTile(Yt,vt,it,dn);gn&&ct.push(gn)}}return ct}getVisibleCoordinates(et){const it=this.getRenderableIds(et).map(at=>this._tiles[at].tileID);for(const at of it)at.projMatrix=this.transform.calculateProjMatrix(at.toUnwrapped());return it}hasTransition(){if(this._source.hasTransition())return!0;if(KR(this._source.type))for(const et in this._tiles){const it=this._tiles[et];if(it.fadeEndTime!==void 0&&it.fadeEndTime>=fs.now())return!0}return!1}setFeatureState(et,it,at){this._state.updateState(et=et||"_geojsonTileLayer",it,at)}removeFeatureState(et,it,at){this._state.removeFeatureState(et=et||"_geojsonTileLayer",it,at)}getFeatureState(et,it){return this._state.getState(et=et||"_geojsonTileLayer",it)}setDependencies(et,it,at){const ct=this._tiles[et];ct&&ct.setDependencies(it,at)}reloadTilesForDependencies(et,it){for(const at in this._tiles)this._tiles[at].hasDependency(et,it)&&this._reloadTile(+at,"reloading");this._cache.filter(at=>!at.hasDependency(et,it))}_preloadTiles(et,it){const at=new Map,ct=Array.isArray(et)?et:[et],vt=this.map.painter.terrain,Rt=this.usedForTerrain&&vt?vt.getScaledDemTileSize():this._source.tileSize;for(const Nt of ct){const Jt=Nt.coveringTiles({tileSize:Rt,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const Yt of Jt)at.set(Yt.key,Yt);this.usedForTerrain&&Nt.updateElevation(!1)}Zt(Array.from(at.values()),(Nt,Jt)=>{const Yt=new Ou(Nt,this._source.tileSize*Nt.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(Yt,sn=>{this._source.type==="raster-dem"&&Yt.dem&&this._backfillDEM(Yt),Jt(sn,Yt)})},it)}}function qR(rt,et){const it=Math.abs(2*rt.wrap)-+(rt.wrap<0),at=Math.abs(2*et.wrap)-+(et.wrap<0);return rt.overscaledZ-et.overscaledZ||at-it||et.canonical.y-rt.canonical.y||et.canonical.x-rt.canonical.x}function KR(rt){return rt==="raster"||rt==="image"||rt==="video"||rt==="custom"}function CF(rt,et){const it=1<<rt.z;return[rt.x/it+et,(rt.x+1)/it+et]}iv.maxOverzooming=10,iv.maxUnderzooming=3;class d1{constructor(et,it,at){this._demTile=et,this._dem=this._demTile.dem,this._scale=it,this._offset=at}static create(et,it,at){const ct=at||et.findDEMTileFor(it);if(!ct||!ct.dem)return;const vt=ct.dem,Rt=ct.tileID,Nt=1<<it.canonical.z-Rt.canonical.z;return new d1(ct,ct.tileSize/zo/Nt,[(it.canonical.x/Nt-Rt.canonical.x)*vt.dim,(it.canonical.y/Nt-Rt.canonical.y)*vt.dim])}tileCoordToPixel(et,it){const at=it*this._scale+this._offset[1],ct=Math.floor(et*this._scale+this._offset[0]),vt=Math.floor(at);return new pt(ct,vt)}getElevationAt(et,it,at,ct){const vt=et*this._scale+this._offset[0],Rt=it*this._scale+this._offset[1],Nt=Math.floor(vt),Jt=Math.floor(Rt),Yt=this._dem;return ct=!!ct,at?Ss(Ss(Yt.get(Nt,Jt,ct),Yt.get(Nt,Jt+1,ct),Rt-Jt),Ss(Yt.get(Nt+1,Jt,ct),Yt.get(Nt+1,Jt+1,ct),Rt-Jt),vt-Nt):Yt.get(Nt,Jt,ct)}getElevationAtPixel(et,it,at){return this._dem.get(et,it,!!at)}getMeterToDEM(et){return(1<<this._demTile.tileID.canonical.z)*gp(1,et)*this._dem.stride}}class ew{constructor(et,it){this.tileID=et,this.x=et.canonical.x,this.y=et.canonical.y,this.z=et.canonical.z,this.grid=new ly(zo,16,0),this.featureIndexArray=new x_,this.promoteId=it}insert(et,it,at,ct,vt,Rt=0){const Nt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(at,ct,vt,Rt);const Jt=this.grid;for(let Yt=0;Yt<it.length;Yt++){const sn=it[Yt],dn=[1/0,1/0,-1/0,-1/0];for(let gn=0;gn<sn.length;gn++){const Rn=sn[gn];dn[0]=Math.min(dn[0],Rn.x),dn[1]=Math.min(dn[1],Rn.y),dn[2]=Math.max(dn[2],Rn.x),dn[3]=Math.max(dn[3],Rn.y)}dn[0]<zo&&dn[1]<zo&&dn[2]>=0&&dn[3]>=0&&Jt.insert(Nt,dn[0],dn[1],dn[2],dn[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new oF(new G0(this.rawTileData)).layers,this.sourceLayerCoder=new Sr(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const et in this.vtLayers)this.vtFeatures[et]=[]}return this.vtLayers}query(et,it,at,ct){this.loadVTLayers();const vt=et.params||{},Rt=U0(vt.filter),Nt=et.tileResult,Jt=et.transform,Yt=Nt.bufferedTilespaceBounds,sn=this.grid.query(Yt.min.x,Yt.min.y,Yt.max.x,Yt.max.y,(Bn,kn,Ln,ir)=>Dv(Nt.bufferedTilespaceGeometry,Bn,kn,Ln,ir));sn.sort(fw);let dn=null;Jt.elevation&&sn.length>0&&(dn=d1.create(Jt.elevation,this.tileID));const gn={};let Rn;for(let Bn=0;Bn<sn.length;Bn++){const kn=sn[Bn];if(kn===Rn)continue;Rn=kn;const Ln=this.featureIndexArray.get(kn);let ir=null;this.loadMatchingFeature(gn,Ln,Rt,vt.layers,vt.availableImages,it,at,ct,(_r,rr,fr,Ur=0)=>(ir||(ir=Nu(_r,this.tileID.canonical,et.tileTransform)),rr.queryIntersectsFeature(Nt,_r,fr,ir,this.z,et.transform,et.pixelPosMatrix,dn,Ur)))}return gn}loadMatchingFeature(et,it,at,ct,vt,Rt,Nt,Jt,Yt){const{featureIndex:sn,bucketIndex:dn,sourceLayerIndex:gn,layoutVertexArrayOffset:Rn}=it,Bn=this.bucketLayerIDs[dn];if(ct&&!function(_r,rr){for(let fr=0;fr<_r.length;fr++)if(rr.indexOf(_r[fr])>=0)return!0;return!1}(ct,Bn))return;const kn=this.sourceLayerCoder.decode(gn),Ln=this.vtLayers[kn].feature(sn);if(at.needGeometry){const _r=jy(Ln,!0);if(!at.filter(new tr(this.tileID.overscaledZ),_r,this.tileID.canonical))return}else if(!at.filter(new tr(this.tileID.overscaledZ),Ln))return;const ir=this.getId(Ln,kn);for(let _r=0;_r<Bn.length;_r++){const rr=Bn[_r];if(ct&&ct.indexOf(rr)<0)continue;const fr=Rt[rr];if(!fr)continue;let Ur={};ir!==void 0&&Jt&&(Ur=Jt.getState(fr.sourceLayer||"_geojsonTileLayer",ir));const pr=Ft({},Nt[rr]);pr.paint=tw(pr.paint,fr.paint,Ln,Ur,vt),pr.layout=tw(pr.layout,fr.layout,Ln,Ur,vt);const Vr=!Yt||Yt(Ln,fr,Ur,Rn);if(!Vr)continue;const Cr=new ro(Ln,this.z,this.x,this.y,ir);Cr.layer=pr;let Jr=et[rr];Jr===void 0&&(Jr=et[rr]=[]),Jr.push({featureIndex:sn,feature:Cr,intersectionZ:Vr})}}lookupSymbolFeatures(et,it,at,ct,vt,Rt,Nt,Jt){const Yt={};this.loadVTLayers();const sn=U0(vt);for(const dn of et)this.loadMatchingFeature(Yt,{bucketIndex:at,sourceLayerIndex:ct,featureIndex:dn,layoutVertexArrayOffset:0},sn,Rt,Nt,Jt,it);return Yt}loadFeature(et){const{featureIndex:it,sourceLayerIndex:at}=et;this.loadVTLayers();const ct=this.sourceLayerCoder.decode(at),vt=this.vtFeatures[ct];if(vt[it])return vt[it];const Rt=this.vtLayers[ct].feature(it);return vt[it]=Rt,Rt}hasLayer(et){for(const it of this.bucketLayerIDs)for(const at of it)if(et===at)return!0;return!1}getId(et,it){let at=et.id;if(this.promoteId){const ct=typeof this.promoteId=="string"?this.promoteId:this.promoteId[it];ct!=null&&(at=et.properties[ct]),typeof at=="boolean"&&(at=Number(at))}return at}}function tw(rt,et,it,at,ct){return At(rt,(vt,Rt)=>{const Nt=et instanceof Gr?et.get(Rt):null;return Nt&&Nt.evaluate?Nt.evaluate(it,at,ct):Nt})}function fw(rt,et){return et-rt}wo(ew,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class nw{constructor(et,it){this.width=et,this.height=it,this.nextRow=0,this.image=new Wm({width:et,height:it}),this.positions={},this.uploaded=!1}getDash(et,it){const at=this.getKey(et,it);return this.positions[at]}trim(){const et=this.width,it=this.height=yn(this.nextRow);this.image.resize({width:et,height:it})}getKey(et,it){return et.join(",")+it}getDashRanges(et,it,at){const ct=[];let vt=et.length%2==1?-et[et.length-1]*at:0,Rt=et[0]*at,Nt=!0;ct.push({left:vt,right:Rt,isDash:Nt,zeroLength:et[0]===0});let Jt=et[0];for(let Yt=1;Yt<et.length;Yt++){Nt=!Nt;const sn=et[Yt];vt=Jt*at,Jt+=sn,Rt=Jt*at,ct.push({left:vt,right:Rt,isDash:Nt,zeroLength:sn===0})}return ct}addRoundDash(et,it,at){const ct=it/2;for(let vt=-at;vt<=at;vt++){const Rt=this.width*(this.nextRow+at+vt);let Nt=0,Jt=et[Nt];for(let Yt=0;Yt<this.width;Yt++){Yt/Jt.right>1&&(Jt=et[++Nt]);const sn=Math.abs(Yt-Jt.left),dn=Math.abs(Yt-Jt.right),gn=Math.min(sn,dn);let Rn;const Bn=vt/at*(ct+1);if(Jt.isDash){const kn=ct-Math.abs(Bn);Rn=Math.sqrt(gn*gn+kn*kn)}else Rn=ct-Math.sqrt(gn*gn+Bn*Bn);this.image.data[Rt+Yt]=Math.max(0,Math.min(255,Rn+128))}}}addRegularDash(et,it){for(let Jt=et.length-1;Jt>=0;--Jt){const Yt=et[Jt],sn=et[Jt+1];Yt.zeroLength?et.splice(Jt,1):sn&&sn.isDash===Yt.isDash&&(sn.left=Yt.left,et.splice(Jt,1))}const at=et[0],ct=et[et.length-1];at.isDash===ct.isDash&&(at.left=ct.left-this.width,ct.right=at.right+this.width);const vt=this.width*this.nextRow;let Rt=0,Nt=et[Rt];for(let Jt=0;Jt<this.width;Jt++){Jt/Nt.right>1&&(Nt=et[++Rt]);const Yt=Math.abs(Jt-Nt.left),sn=Math.abs(Jt-Nt.right),dn=Math.min(Yt,sn);this.image.data[vt+Jt]=Math.max(0,Math.min(255,(Nt.isDash?dn:-dn)+it+128))}}addDash(et,it){const at=this.getKey(et,it);if(this.positions[at])return this.positions[at];const ct=it==="round",vt=ct?7:0,Rt=2*vt+1;if(this.nextRow+Rt>this.height)return hn("LineAtlas out of space"),null;et.length===0&&et.push(1);let Nt=0;for(let sn=0;sn<et.length;sn++)et[sn]<0&&(hn("Negative value is found in line dasharray, replacing values with 0"),et[sn]=0),Nt+=et[sn];if(Nt!==0){const sn=this.width/Nt,dn=this.getDashRanges(et,this.width,sn);ct?this.addRoundDash(dn,sn,vt):this.addRegularDash(dn,it==="square"?.5*sn:0)}const Jt=this.nextRow+vt;this.nextRow+=Rt;const Yt={tl:[Jt,vt],br:[Nt,0]};return this.positions[at]=Yt,Yt}}wo(nw,"LineAtlas");class rw{constructor(et){const it={},at=[];for(const Nt in et){const Jt=et[Nt],Yt=it[Nt]={};for(const sn in Jt.glyphs){const dn=Jt.glyphs[+sn];if(!dn||dn.bitmap.width===0||dn.bitmap.height===0)continue;const gn=dn.metrics.localGlyph?2:1,Rn={x:0,y:0,w:dn.bitmap.width+2*gn,h:dn.bitmap.height+2*gn};at.push(Rn),Yt[sn]=Rn}}const{w:ct,h:vt}=oU(at),Rt=new Wm({width:ct||1,height:vt||1});for(const Nt in et){const Jt=et[Nt];for(const Yt in Jt.glyphs){const sn=Jt.glyphs[+Yt];if(!sn||sn.bitmap.width===0||sn.bitmap.height===0)continue;const dn=it[Nt][Yt],gn=sn.metrics.localGlyph?2:1;Wm.copy(sn.bitmap,Rt,{x:0,y:0},{x:dn.x+gn,y:dn.y+gn},sn.bitmap)}}this.image=Rt,this.positions=it}}wo(rw,"GlyphAtlas");class pw{constructor(et){this.tileID=new Cu(et.tileID.overscaledZ,et.tileID.wrap,et.tileID.canonical.z,et.tileID.canonical.x,et.tileID.canonical.y),this.tileZoom=et.tileZoom,this.uid=et.uid,this.zoom=et.zoom,this.canonical=et.tileID.canonical,this.pixelRatio=et.pixelRatio,this.tileSize=et.tileSize,this.source=et.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=et.showCollisionBoxes,this.collectResourceTiming=!!et.collectResourceTiming,this.returnDependencies=!!et.returnDependencies,this.promoteId=et.promoteId,this.enableTerrain=!!et.enableTerrain,this.isSymbolTile=et.isSymbolTile,this.tileTransform=qy(et.tileID.canonical,et.projection),this.projection=et.projection}parse(et,it,at,ct,vt){this.status="parsing",this.data=et,this.collisionBoxArray=new Q0;const Rt=new Sr(Object.keys(et.layers).sort()),Nt=new ew(this.tileID,this.promoteId);Nt.bucketLayerIDs=[];const Jt={},Yt=new nw(256,256),sn={featureIndex:Nt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Yt,availableImages:at},dn=it.familiesBySource[this.source];for(const Ur in dn){const pr=et.layers[Ur];if(!pr)continue;let Vr=!1,Cr=!1;for(const Dr of dn[Ur])Dr[0].type==="symbol"?Vr=!0:Cr=!0;if(this.isSymbolTile===!0&&!Vr||this.isSymbolTile===!1&&!Cr)continue;pr.version===1&&hn(`Vector tile source "${this.source}" layer "${Ur}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Jr=Rt.encode(Ur),so=[];for(let Dr=0;Dr<pr.length;Dr++){const Hr=pr.feature(Dr),$r=Nt.getId(Hr,Ur);so.push({feature:Hr,id:$r,index:Dr,sourceLayerIndex:Jr})}for(const Dr of dn[Ur]){const Hr=Dr[0];this.isSymbolTile!==void 0&&Hr.type==="symbol"!==this.isSymbolTile||Hr.minzoom&&this.zoom<Math.floor(Hr.minzoom)||Hr.maxzoom&&this.zoom>=Hr.maxzoom||Hr.visibility!=="none"&&(LR(Dr,this.zoom,at),(Jt[Hr.id]=Hr.createBucket({index:Nt.bucketLayerIDs.length,layers:Dr,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Jr,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:at})).populate(so,sn,this.tileID.canonical,this.tileTransform),Nt.bucketLayerIDs.push(Dr.map($r=>$r.id)))}}let gn,Rn,Bn,kn;Yt.trim();const Ln={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},ir=At(sn.glyphDependencies,Ur=>Object.keys(Ur).map(Number));Object.keys(ir).length?ct.send("getGlyphs",{uid:this.uid,stacks:ir},(Ur,pr)=>{gn||(gn=Ur,Rn=pr,fr.call(this))},void 0,!1,Ln):Rn={};const _r=Object.keys(sn.iconDependencies);_r.length?ct.send("getImages",{icons:_r,source:this.source,tileID:this.tileID,type:"icons"},(Ur,pr)=>{gn||(gn=Ur,Bn=pr,fr.call(this))},void 0,!1,Ln):Bn={};const rr=Object.keys(sn.patternDependencies);function fr(){if(gn)return vt(gn);if(Rn&&Bn&&kn){const Ur=new rw(Rn),pr=new Hs(Bn,kn);for(const Vr in Jt){const Cr=Jt[Vr];Cr instanceof Sy?(LR(Cr.layers,this.zoom,at),vR(Cr,Rn,Ur.positions,Bn,pr.iconPositions,this.showCollisionBoxes,at,this.tileID.canonical,this.tileZoom,this.projection)):Cr.hasPattern&&(Cr instanceof _d||Cr instanceof Yv||Cr instanceof Hy)&&(LR(Cr.layers,this.zoom,at),Cr.addFeatures(sn,this.tileID.canonical,pr.patternPositions,at,this.tileTransform))}this.status="done",vt(null,{buckets:Ct(Jt).filter(Vr=>!Vr.isEmpty()),featureIndex:Nt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ur.image,lineAtlas:Yt,imageAtlas:pr,glyphMap:this.returnDependencies?Rn:null,iconMap:this.returnDependencies?Bn:null,glyphPositions:this.returnDependencies?Ur.positions:null})}}rr.length?ct.send("getImages",{icons:rr,source:this.source,tileID:this.tileID,type:"patterns"},(Ur,pr)=>{gn||(gn=Ur,kn=pr,fr.call(this))},void 0,!1,Ln):kn={},fr.call(this)}}function LR(rt,et,it){const at=new tr(et);for(const ct of rt)ct.recalculate(at,it)}class iw{constructor(et){this.entries={},this.scheduler=et}request(et,it,at,ct){const vt=this.entries[et]=this.entries[et]||{callbacks:[]};if(vt.result){const[Rt,Nt]=vt.result;return this.scheduler?this.scheduler.add(()=>{ct(Rt,Nt)},it):ct(Rt,Nt),()=>{}}return vt.callbacks.push(ct),vt.cancel||(vt.cancel=at((Rt,Nt)=>{vt.result=[Rt,Nt];for(const Jt of vt.callbacks)this.scheduler?this.scheduler.add(()=>{Jt(Rt,Nt)},it):Jt(Rt,Nt);setTimeout(()=>delete this.entries[et],3e3)})),()=>{vt.result||(vt.callbacks=vt.callbacks.filter(Rt=>Rt!==ct),vt.callbacks.length||(vt.cancel(),delete this.entries[et]))}}}function ow(rt,et,it){const at=JSON.stringify(rt.request);return rt.data&&(this.deduped.entries[at]={result:[null,rt.data]}),this.deduped.request(at,{type:"parseTile",isSymbolTile:rt.isSymbolTile,zoom:rt.tileZoom},ct=>{const vt=Us(rt.request,(Rt,Nt,Jt,Yt)=>{Rt?ct(Rt):Nt&&ct(null,{vectorTile:it?void 0:new oF(new G0(Nt)),rawData:Nt,cacheControl:Jt,expires:Yt})});return()=>{vt.cancel(),ct()}},et)}j.ARRAY_TYPE=Ku,j.AUTH_ERR_MSG=en,j.Aabb=Au,j.Actor=class{constructor(rt,et,it){this.target=rt,this.parent=et,this.mapId=it,this.callbacks={},this.cancelCallbacks={},un(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Gn()?rt:nt,this.scheduler=new yr}send(rt,et,it,at,ct=!1,vt){const Rt=Math.round(1e18*Math.random()).toString(36).substring(0,10);it&&(it.metadata=vt,this.callbacks[Rt]=it);const Nt=Pr(this.globalScope)?void 0:[];return this.target.postMessage({id:Rt,type:rt,hasCallback:!!it,targetMapId:at,mustQueue:ct,sourceMapId:this.mapId,data:Oy(et,Nt)},Nt),{cancel:()=>{it&&delete this.callbacks[Rt],this.target.postMessage({id:Rt,type:"<cancel>",targetMapId:at,sourceMapId:this.mapId})}}}receive(rt){const et=rt.data,it=et.id;if(it&&(!et.targetMapId||this.mapId===et.targetMapId))if(et.type==="<cancel>"){const at=this.cancelCallbacks[it];delete this.cancelCallbacks[it],at&&at.cancel()}else if(et.mustQueue||Gn()){const at=this.callbacks[it];this.cancelCallbacks[it]=this.scheduler.add(()=>this.processTask(it,et),at&&at.metadata||{type:"message"})}else this.processTask(it,et)}processTask(rt,et){if(et.type==="<response>"){const it=this.callbacks[rt];delete this.callbacks[rt],it&&(et.error?it(fm(et.error)):it(null,fm(et.data)))}else{const it=Pr(this.globalScope)?void 0:[],at=et.hasCallback?(vt,Rt)=>{delete this.cancelCallbacks[rt],this.target.postMessage({id:rt,type:"<response>",sourceMapId:this.mapId,error:vt?Oy(vt):null,data:Oy(Rt,it)},it)}:vt=>{},ct=fm(et.data);if(this.parent[et.type])this.parent[et.type](et.sourceMapId,ct,at);else if(this.parent.getWorkerSource){const vt=et.type.split(".");this.parent.getWorkerSource(et.sourceMapId,vt[0],ct.source)[vt[1]](ct,at)}else at(new Error(`Could not find function ${et.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},j.CanonicalTileID=J0,j.Color=Is,j.ColorMode=Ry,j.CullFaceMode=Zm,j.DEMData=c1,j.DataConstantProperty=xr,j.DedupedRequest=iw,j.DepthMode=RU,j.EXTENT=zo,j.Elevation=class{isDataAvailableAtPoint(rt){const et=this._source();if(this.isUsingMockSource()||!et||rt.y<0||rt.y>1)return!1;const it=et.getSource().maxzoom,at=1<<it,ct=Math.floor(rt.x),vt=Math.floor((rt.x-ct)*at),Rt=Math.floor(rt.y*at),Nt=this.findDEMTileFor(new Cu(it,ct,it,vt,Rt));return!(!Nt||!Nt.dem)}getAtPointOrZero(rt,et=0){return this.getAtPoint(rt,et)||0}getAtPoint(rt,et,it=!0){if(this.isUsingMockSource())return null;et==null&&(et=null);const at=this._source();if(!at||rt.y<0||rt.y>1)return et;const ct=at.getSource().maxzoom,vt=1<<ct,Rt=Math.floor(rt.x),Nt=rt.x-Rt,Jt=new Cu(ct,Rt,ct,Math.floor(Nt*vt),Math.floor(rt.y*vt)),Yt=this.findDEMTileFor(Jt);if(!Yt||!Yt.dem)return et;const sn=Yt.dem,dn=1<<Yt.tileID.canonical.z,gn=(Nt*dn-Yt.tileID.canonical.x)*sn.dim,Rn=(rt.y*dn-Yt.tileID.canonical.y)*sn.dim,Bn=Math.floor(gn),kn=Math.floor(Rn);return(it?this.exaggeration():1)*Ss(Ss(sn.get(Bn,kn),sn.get(Bn,kn+1),Rn-kn),Ss(sn.get(Bn+1,kn),sn.get(Bn+1,kn+1),Rn-kn),gn-Bn)}getAtTileOffset(rt,et,it){const at=1<<rt.canonical.z;return this.getAtPointOrZero(new py(rt.wrap+(rt.canonical.x+et/zo)/at,(rt.canonical.y+it/zo)/at))}getAtTileOffsetFunc(rt,et,it,at){return ct=>{const vt=this.getAtTileOffset(rt,ct.x,ct.y),Rt=at.upVector(rt.canonical,ct.x,ct.y);return yp(Rt,Rt,vt*at.upVectorScale(rt.canonical,et,it).metersToTile),Rt}}getForTilePoints(rt,et,it,at){if(this.isUsingMockSource())return!1;const ct=d1.create(this,rt,at);return!!ct&&(et.forEach(vt=>{vt[2]=this.exaggeration()*ct.getElevationAt(vt[0],vt[1],it)}),!0)}getMinMaxForTile(rt){if(this.isUsingMockSource())return null;const et=this.findDEMTileFor(rt);if(!et||!et.dem)return null;const it=et.dem.tree,at=et.tileID,ct=1<<rt.canonical.z-at.canonical.z;let vt=rt.canonical.x/ct-at.canonical.x,Rt=rt.canonical.y/ct-at.canonical.y,Nt=0;for(let Jt=0;Jt<rt.canonical.z-at.canonical.z&&!it.leaves[Nt];Jt++){vt*=2,Rt*=2;const Yt=2*Math.floor(Rt)+Math.floor(vt);Nt=it.childOffsets[Nt]+Yt,vt%=1,Rt%=1}return{min:this.exaggeration()*it.minimums[Nt],max:this.exaggeration()*it.maximums[Nt]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(rt,et,it){throw new Error("Pure virtual method called.")}pointCoordinate(rt){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(rt){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},j.ErrorEvent=Ru,j.EvaluationParameters=tr,j.Event=bs,j.Evented=hu,j.FillExtrusionBucket=Hy,j.Frustum=XU,j.FrustumCorners=_c,j.GLOBE_METERS_TO_ECEF=FF,j.GLOBE_RADIUS=zm,j.GLOBE_SCALE_MATCH_LATITUDE=45,j.GLOBE_ZOOM_THRESHOLD_MAX=6,j.GLOBE_ZOOM_THRESHOLD_MIN=5,j.GlobeSharedBuffers=class{constructor(rt){this._createGrid(rt),this._createPoles(rt)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const rt of this._poleSegments)rt.destroy();for(const rt of this._gridSegments)rt.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const rt of this._wireframeSegments)rt.destroy()}}_createGrid(rt){const et=new us,it=new Xl,at=65;for(let ct=0;ct<at;ct++)for(let vt=0;vt<at;vt++)et.emplaceBack(vt,ct);this._gridSegments=[];for(let ct=0,vt=0;ct<e_.length;ct++){const Rt=e_[ct];for(let Jt=0;Jt<Rt;Jt++)for(let Yt=0;Yt<64;Yt++){const sn=Jt*at+Yt;it.emplaceBack(sn+1,sn,sn+at),it.emplaceBack(sn+at,sn+at+1,sn+1)}const Nt=64*Rt*2;this._gridSegments.push(Dl.simpleSegment(0,vt,(Rt+1)*at,Nt)),vt+=Nt}this._gridBuffer=rt.createVertexBuffer(et,q_.members),this._gridIndexBuffer=rt.createIndexBuffer(it,!0)}_createPoles(rt){const et=new Xl;for(let ct=0;ct<=K0;ct++)et.emplaceBack(0,ct+1,ct+2);this._poleIndexBuffer=rt.createIndexBuffer(et,!0);const it=new xp,at=new xp;this._poleSegments=[];for(let ct=0,vt=0;ct<5;ct++){const Rt=360/(1<<ct);it.emplaceBack(0,-zm,0,.5,0),at.emplaceBack(0,-zm,0,.5,1);for(let Nt=0;Nt<=K0;Nt++){const Jt=Nt/K0,Yt=Ss(0,Rt,Jt),[sn,dn,gn]=t_(ep,BF,Yt,zm);it.emplaceBack(sn,dn,gn,Jt,0),at.emplaceBack(sn,dn,gn,Jt,1)}this._poleSegments.push(Dl.simpleSegment(vt,0,66,64)),vt+=66}this._poleNorthVertexBuffer=rt.createVertexBuffer(it,$S,!1),this._poleSouthVertexBuffer=rt.createVertexBuffer(at,$S,!1)}getGridBuffers(rt){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[rt]]}getPoleBuffers(rt){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[rt]]}getWirefameBuffers(rt,et){if(!this._wireframeSegments){const it=new vu,at=K0,ct=at+1;this._wireframeSegments=[];for(let vt=0,Rt=0;vt<e_.length;vt++){const Nt=e_[vt];for(let Yt=0;Yt<Nt;Yt++)for(let sn=0;sn<at;sn++){const dn=Yt*ct+sn;it.emplaceBack(dn,dn+1),it.emplaceBack(dn,dn+ct),it.emplaceBack(dn,dn+ct+1)}const Jt=Nt*at*3;this._wireframeSegments.push(Dl.simpleSegment(0,Rt,(Nt+1)*ct,Jt)),Rt+=Jt}this._wireframeIndexBuffer=rt.createIndexBuffer(it)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[et]]}},j.GlyphManager=$0,j.ImagePosition=fF,j.LivePerformanceUtils=Nr,j.LngLat=Es,j.LngLatBounds=Xp,j.LocalGlyphMode=uU,j.MAX_MERCATOR_LATITUDE=_m,j.MercatorCoordinate=py,j.ONE_EM=uu,j.OverscaledTileID=Cu,j.PerformanceMarkers=br,j.Properties=co,j.RGBAImage=_h,j.Ray=$U,j.RequestManager=class{constructor(rt,et,it){this._transformRequestFn=rt,this._customAccessToken=et,this._silenceAuthErrors=!!it,this._createSkuToken()}_createSkuToken(){const rt=function(){let et="";for(let it=0;it<10;it++)et+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Dt,et].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=rt.token,this._skuTokenExpiresAt=rt.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(rt,et){return this._transformRequestFn&&this._transformRequestFn(rt,et)||{url:rt}}normalizeStyleURL(rt,et){if(!fn(rt))return rt;const it=nr(rt);return it.path=`/styles/v1${it.path}`,this._makeAPIURL(it,this._customAccessToken||et)}normalizeGlyphsURL(rt,et){if(!fn(rt))return rt;const it=nr(rt);return it.path=`/fonts/v1${it.path}`,this._makeAPIURL(it,this._customAccessToken||et)}normalizeSourceURL(rt,et,it,at){if(!fn(rt))return rt;const ct=nr(rt);return ct.path=`/v4/${ct.authority}.json`,ct.params.push("secure"),it&&ct.params.push(`language=${it}`),at&&ct.params.push(`worldview=${at}`),this._makeAPIURL(ct,this._customAccessToken||et)}normalizeSpriteURL(rt,et,it,at){const ct=nr(rt);return fn(rt)?(ct.path=`/styles/v1${ct.path}/sprite${et}${it}`,this._makeAPIURL(ct,this._customAccessToken||at)):(ct.path+=`${et}${it}`,Zn(ct))}normalizeTileURL(rt,et,it){if(this._isSkuTokenExpired()&&this._createSkuToken(),rt&&!fn(rt))return rt;const at=nr(rt);at.path=at.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${et||it&&at.authority!=="raster"&&it===512?"@2x":""}${ft.supported?".webp":"$1"}`),at.authority==="raster"?at.path=`/${_t.RASTER_URL_PREFIX}${at.path}`:(at.path=at.path.replace(/^.+\/v4\//,"/"),at.path=`/${_t.TILE_URL_VERSION}${at.path}`);const ct=this._customAccessToken||function(vt){for(const Rt of vt){const Nt=Rt.match(/^access_token=(.*)$/);if(Nt)return Nt[1]}return null}(at.params)||_t.ACCESS_TOKEN;return _t.REQUIRE_ACCESS_TOKEN&&ct&&this._skuToken&&at.params.push(`sku=${this._skuToken}`),this._makeAPIURL(at,ct)}canonicalizeTileURL(rt,et){const it=nr(rt);if(!it.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!it.path.match(/\.[\w]+$/))return rt;let at="mapbox://";it.path.match(/^\/raster\/v1\//)?at+=`raster/${it.path.replace(`/${_t.RASTER_URL_PREFIX}/`,"")}`:at+=`tiles/${it.path.replace(`/${_t.TILE_URL_VERSION}/`,"")}`;let ct=it.params;return et&&(ct=ct.filter(vt=>!vt.match(/^access_token=/))),ct.length&&(at+=`?${ct.join("&")}`),at}canonicalizeTileset(rt,et){const it=!!et&&fn(et),at=[];for(const ct of rt.tiles||[])En(ct)?at.push(this.canonicalizeTileURL(ct,it)):at.push(ct);return at}_makeAPIURL(rt,et){const it="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",at=nr(_t.API_URL);if(rt.protocol=at.protocol,rt.authority=at.authority,rt.protocol==="http"){const ct=rt.params.indexOf("secure");ct>=0&&rt.params.splice(ct,1)}if(at.path!=="/"&&(rt.path=`${at.path}${rt.path}`),!_t.REQUIRE_ACCESS_TOKEN)return Zn(rt);if(et=et||_t.ACCESS_TOKEN,!this._silenceAuthErrors){if(!et)throw new Error(`An API access token is required to use Mapbox GL. ${it}`);if(et[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${it}`)}return rt.params=rt.params.filter(ct=>ct.indexOf("access_token")===-1),rt.params.push(`access_token=${et||""}`),Zn(rt)}},j.ResourceType=hs,j.SegmentVector=Dl,j.SourceCache=iv,j.StencilMode=IR,j.StructArrayLayout1ui2=T0,j.StructArrayLayout2f1f2i16=Qu,j.StructArrayLayout2i4=us,j.StructArrayLayout2ui4=vu,j.StructArrayLayout3f12=Yu,j.StructArrayLayout3ui6=Xl,j.StructArrayLayout4i8=Ps,j.StructArrayLayout5f20=xp,j.Texture=Vn,j.Tile=Ou,j.Transitionable=Mr,j.Uniform1f=Cv,j.Uniform1i=class extends gm{constructor(rt){super(rt),this.current=0}set(rt,et,it){this.fetchUniformLocation(rt,et)&&this.current!==it&&(this.current=it,this.gl.uniform1i(this.location,it))}},j.Uniform2f=class extends gm{constructor(rt){super(rt),this.current=[0,0]}set(rt,et,it){this.fetchUniformLocation(rt,et)&&(it[0]===this.current[0]&&it[1]===this.current[1]||(this.current=it,this.gl.uniform2f(this.location,it[0],it[1])))}},j.Uniform3f=class extends gm{constructor(rt){super(rt),this.current=[0,0,0]}set(rt,et,it){this.fetchUniformLocation(rt,et)&&(it[0]===this.current[0]&&it[1]===this.current[1]&&it[2]===this.current[2]||(this.current=it,this.gl.uniform3f(this.location,it[0],it[1],it[2])))}},j.Uniform4f=IU,j.UniformColor=PU,j.UniformMatrix2f=class extends gm{constructor(rt){super(rt),this.current=f1}set(rt,et,it){if(this.fetchUniformLocation(rt,et)){for(let at=0;at<4;at++)if(it[at]!==this.current[at]){this.current=it,this.gl.uniformMatrix2fv(this.location,!1,it);break}}}},j.UniformMatrix3f=class extends gm{constructor(rt){super(rt),this.current=mm}set(rt,et,it){if(this.fetchUniformLocation(rt,et)){for(let at=0;at<9;at++)if(it[at]!==this.current[at]){this.current=it,this.gl.uniformMatrix3fv(this.location,!1,it);break}}}},j.UniformMatrix4f=class extends gm{constructor(rt){super(rt),this.current=Xu}set(rt,et,it){if(this.fetchUniformLocation(rt,et)){if(it[12]!==this.current[12]||it[0]!==this.current[0])return this.current=it,void this.gl.uniformMatrix4fv(this.location,!1,it);for(let at=1;at<16;at++)if(it[at]!==this.current[at]){this.current=it,this.gl.uniformMatrix4fv(this.location,!1,it);break}}}},j.UnwrappedTileID=cF,j.ValidationError=Fo,j.VectorTileFeature=qv,j.VectorTileWorkerSource=class extends hu{constructor(rt,et,it,at,ct){super(),this.actor=rt,this.layerIndex=et,this.availableImages=it,this.loadVectorData=ct||ow,this.loading={},this.loaded={},this.deduped=new iw(rt.scheduler),this.isSpriteLoaded=at,this.scheduler=rt.scheduler}loadTile(rt,et){const it=rt.uid,at=rt&&rt.request,ct=at&&at.collectResourceTiming,vt=this.loading[it]=new pw(rt);vt.abort=this.loadVectorData(rt,(Rt,Nt)=>{const Jt=!this.loading[it];if(delete this.loading[it],Jt||Rt||!Nt)return vt.status="done",Jt||(this.loaded[it]=vt),et(Rt);const Yt=Nt.rawData,sn={};Nt.expires&&(sn.expires=Nt.expires),Nt.cacheControl&&(sn.cacheControl=Nt.cacheControl),vt.vectorTile=Nt.vectorTile||new oF(new G0(Yt));const dn=()=>{vt.parse(vt.vectorTile,this.layerIndex,this.availableImages,this.actor,(gn,Rn)=>{if(gn||!Rn)return et(gn);const Bn={};if(ct){const kn=So(at);kn.length>0&&(Bn.resourceTiming=JSON.parse(JSON.stringify(kn)))}et(null,Ft({rawTileData:Yt.slice(0)},Rn,sn,Bn))})};this.isSpriteLoaded?dn():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(dn,{type:"parseTile",isSymbolTile:rt.isSymbolTile,zoom:rt.tileZoom}):dn()}),this.loaded=this.loaded||{},this.loaded[it]=vt})}reloadTile(rt,et){const it=this.loaded,at=rt.uid,ct=this;if(it&&it[at]){const vt=it[at];vt.showCollisionBoxes=rt.showCollisionBoxes,vt.enableTerrain=!!rt.enableTerrain,vt.projection=rt.projection,vt.tileTransform=qy(rt.tileID.canonical,rt.projection);const Rt=(Nt,Jt)=>{const Yt=vt.reloadCallback;Yt&&(delete vt.reloadCallback,vt.parse(vt.vectorTile,ct.layerIndex,this.availableImages,ct.actor,Yt)),et(Nt,Jt)};vt.status==="parsing"?vt.reloadCallback=Rt:vt.status==="done"&&(vt.vectorTile?vt.parse(vt.vectorTile,this.layerIndex,this.availableImages,this.actor,Rt):Rt())}}abortTile(rt,et){const it=rt.uid,at=this.loading[it];at&&(at.abort&&at.abort(),delete this.loading[it]),et()}removeTile(rt,et){const it=this.loaded,at=rt.uid;it&&it[at]&&delete it[at],et()}},j.WritingMode=vp,j.ZoomHistory=_v,j.add=bm,j.addDynamicAttributes=FU,j.adjoint=function(rt,et){var it=et[0],at=et[1],ct=et[2],vt=et[3],Rt=et[4],Nt=et[5],Jt=et[6],Yt=et[7],sn=et[8];return rt[0]=Rt*sn-Nt*Yt,rt[1]=ct*Yt-at*sn,rt[2]=at*Nt-ct*Rt,rt[3]=Nt*Jt-vt*sn,rt[4]=it*sn-ct*Jt,rt[5]=ct*vt-it*Nt,rt[6]=vt*Yt-Rt*Jt,rt[7]=at*Jt-it*Yt,rt[8]=it*Rt-at*vt,rt},j.asyncAll=Zt,j.bezier=Lt,j.bindAll=un,j.boundsAttributes=Qs,j.bufferConvexPolygon=function(rt,et){const it=[];for(let at=0;at<rt.length;at++){const ct=jt(at-1,-1,rt.length-1),vt=jt(at+1,-1,rt.length-1),Rt=rt[at],Nt=rt[vt],Jt=rt[ct].sub(Rt).unit(),Yt=Nt.sub(Rt).unit(),sn=Yt.angleWithSep(Jt.x,Jt.y),dn=Jt.add(Yt).unit().mult(-1*et/Math.sin(sn/2));it.push(Rt.add(dn))}return it},j.cacheEntryPossiblyAdded=function(rt){Ds++,Ds>Jo&&(rt.getActor().send("enforceCacheSizeLimit",Co),Ds=0)},j.calculateGlobeLabelMatrix=function(rt,et){const{x:it,y:at}=rt.point,ct=gU(it,at,rt.worldSize/rt._pixelsPerMercatorPixel,0,0);return M0(ct,ct,wF(Bm(et)))},j.calculateGlobeMatrix=function(rt){const{x:et,y:it}=rt.point,{lng:at,lat:ct}=rt._center;return gU(et,it,rt.worldSize,at,ct)},j.calculateGlobeMercatorMatrix=function(rt){const et=rt.pixelsPerMeter,it=et/gp(1,rt.center.lat),at=Kp(new Float64Array(16));return zy(at,at,[rt.point.x,rt.point.y,0]),my(at,at,[it,it,et]),Float32Array.from(at)},j.circumferenceAtLatitude=Vv,j.clamp=zt,j.clearTileCache=function(rt){if(!es())return;const et=nt.caches.delete(Yr);rt&&et.catch(rt).then(()=>rt())},j.clipLine=Du,j.clone=function(rt){var et=new Ku(16);return et[0]=rt[0],et[1]=rt[1],et[2]=rt[2],et[3]=rt[3],et[4]=rt[4],et[5]=rt[5],et[6]=rt[6],et[7]=rt[7],et[8]=rt[8],et[9]=rt[9],et[10]=rt[10],et[11]=rt[11],et[12]=rt[12],et[13]=rt[13],et[14]=rt[14],et[15]=rt[15],et},j.clone$1=$t,j.collisionCircleLayout=oR,j.config=_t,j.conjugate=function(rt,et){return rt[0]=-et[0],rt[1]=-et[1],rt[2]=-et[2],rt[3]=et[3],rt},j.create=function(){var rt=new Ku(16);return Ku!=Float32Array&&(rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0),rt[0]=1,rt[5]=1,rt[10]=1,rt[15]=1,rt},j.create$1=HF,j.createExpression=um,j.createLayout=ho,j.createStyleLayer=function(rt){return rt.type==="custom"?new yt(rt):new Un[rt.type](rt)},j.cross=YU,j.degToRad=bt,j.distance=function(rt,et){return Math.hypot(et[0]-rt[0],et[1]-rt[1],et[2]-rt[2])},j.div=function(rt,et,it){return rt[0]=et[0]/it[0],rt[1]=et[1]/it[1],rt[2]=et[2]/it[2],rt},j.dot=kp,j.earthRadius=M_,j.ease=Xt,j.easeCubicInOut=Bt,j.ecefToLatLng=function([rt,et,it]){const at=Math.hypot(rt,et,it),ct=Math.atan2(rt,it),vt=.5*Math.PI-Math.acos(-et/at);return new Es(St(ct),St(vt))},j.emitValidationErrors=Hp,j.endsWith=rn,j.enforceCacheSizeLimit=function(rt){xo(),no&&no.then(et=>{et.keys().then(it=>{for(let at=0;at<it.length-rt;at++)et.delete(it[at])})})},j.evaluateSizeForFeature=z0,j.evaluateSizeForZoom=Z0,j.evaluateVariableOffset=YS,j.evented=er,j.exactEquals=function(rt,et){return rt[0]===et[0]&&rt[1]===et[1]&&rt[2]===et[2]&&rt[3]===et[3]},j.exactEquals$1=function(rt,et){return rt[0]===et[0]&&rt[1]===et[1]&&rt[2]===et[2]},j.exported=fs,j.exported$1=ft,j.extend=Ft,j.extend$1=_a,j.fillExtrusionHeightLift=FS,j.filterObject=Mt,j.fromMat4=function(rt,et){return rt[0]=et[0],rt[1]=et[1],rt[2]=et[2],rt[3]=et[4],rt[4]=et[5],rt[5]=et[6],rt[6]=et[8],rt[7]=et[9],rt[8]=et[10],rt},j.fromQuat=function(rt,et){var it=et[0],at=et[1],ct=et[2],vt=et[3],Rt=it+it,Nt=at+at,Jt=ct+ct,Yt=it*Rt,sn=at*Rt,dn=at*Nt,gn=ct*Rt,Rn=ct*Nt,Bn=ct*Jt,kn=vt*Rt,Ln=vt*Nt,ir=vt*Jt;return rt[0]=1-dn-Bn,rt[1]=sn+ir,rt[2]=gn-Ln,rt[3]=0,rt[4]=sn-ir,rt[5]=1-Yt-Bn,rt[6]=Rn+kn,rt[7]=0,rt[8]=gn+Ln,rt[9]=Rn-kn,rt[10]=1-Yt-dn,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,rt},j.fromRotation=function(rt,et){var it=Math.sin(et),at=Math.cos(et);return rt[0]=at,rt[1]=it,rt[2]=0,rt[3]=-it,rt[4]=at,rt[5]=0,rt[6]=0,rt[7]=0,rt[8]=1,rt},j.fromScaling=ZU,j.furthestTileCorner=function(rt){const et=Math.round((rt+45+360)%360/90)%4;return It[et]},j.getAABBPointSquareDist=function(rt,et,it){let at=0;for(let ct=0;ct<2;++ct){const vt=it?it[ct]:0;rt[ct]>vt&&(at+=(rt[ct]-vt)*(rt[ct]-vt)),et[ct]<vt&&(at+=(vt-et[ct])*(vt-et[ct]))}return at},j.getAnchorAlignment=gF,j.getAnchorJustification=_F,j.getBounds=function(rt){let et=1/0,it=1/0,at=-1/0,ct=-1/0;for(const vt of rt)et=Math.min(et,vt.x),it=Math.min(it,vt.y),at=Math.max(at,vt.x),ct=Math.max(ct,vt.y);return{min:new pt(et,it),max:new pt(at,ct)}},j.getColumn=jr,j.getGridMatrix=function(rt,et,it,at){const ct=et.getNorth(),vt=et.getSouth(),Rt=et.getWest(),Nt=et.getEast(),Jt=1<<rt.z,Yt=Nt-Rt,sn=ct-vt,dn=Yt/K0,gn=-sn/e_[it],Rn=[0,dn,0,gn,0,0,ct,Rt,0];if(rt.z>0){const Bn=180/at;YF(Rn,Rn,[Bn/Yt+1,0,0,0,Bn/sn+1,0,-.5*Bn/dn,.5*Bn/gn,1])}return Rn[2]=Jt,Rn[5]=rt.x,Rn[8]=rt.y,Rn},j.getImage=Gt,j.getJSON=function(rt,et){return Ls(Ft(rt,{type:"json"}),et)},j.getLatitudinalLod=function(rt){const et=80.051129;rt=zt(rt,-80.051129,et)/et*90;const it=Math.pow(Math.abs(Math.sin(bt(rt))),3);return Math.round(it*(e_.length-1))},j.getMapSessionAPI=mr,j.getPerformanceMeasurement=So,j.getProjection=l1,j.getRTLTextPluginStatus=Hn,j.getReferrer=Ll,j.getTilePoint=function(rt,{x:et,y:it},at=0){return new pt(((et-at)*rt.scale-rt.x)*zo,(it*rt.scale-rt.y)*zo)},j.getTileVec3=function(rt,et,it=0){return D0(((et.x-it)*rt.scale-rt.x)*zo,(et.y*rt.scale-rt.y)*zo,LF(et.z,et.y))},j.getVideo=function(rt,et){const it=nt.document.createElement("video");it.muted=!0,it.onloadstart=function(){et(null,it)};for(let at=0;at<rt.length;at++){const ct=nt.document.createElement("source");cu(rt[at])||(it.crossOrigin="Anonymous"),ct.src=rt[at],it.appendChild(ct)}return{cancel:()=>{}}},j.globeCenterToScreenPoint=function(rt){const et=[0,0,0],it=Kp(new Float64Array(16));return M0(it,rt.pixelMatrix,rt.globeMatrix),Ol(et,et,it),new pt(et[0],et[1])},j.globeDenormalizeECEF=wF,j.globeECEFOrigin=function(rt,et){const it=[0,0,0];return Ol(it,it,ev(Bm(et.canonical))),Ol(it,it,rt),it},j.globeNormalizeECEF=ev,j.globePixelsToTileUnits=function(rt,et){return zo/(512*Math.pow(2,rt))*K_(Bm(et))},j.globePoleMatrixForTile=function(rt,et,it){const at=Kp(new Float64Array(16)),ct=(et/(1<<rt)-.5)*Math.PI*2;return N0(at,it.globeMatrix,ct),Float32Array.from(at)},j.globeTileBounds=Bm,j.globeTiltAtLngLat=n1,j.globeToMercatorTransition=r_,j.globeUseCustomAntiAliasing=function(rt,et,it){const at=r_(it.zoom),ct=rt.style.map._antialias,vt=!!et.extStandardDerivatives,Rt=et.extStandardDerivativesForceOff||rt.terrain&&rt.terrain.exaggeration()>0;return at===0&&!ct&&!Rt&&vt},j.identity=Kp,j.identity$1=nS,j.invert=Pv,j.isFullscreen=function(){return!!nt.document.fullscreenElement||!!nt.document.webkitFullscreenElement},j.isLngLatBehindGlobe=function(rt,et){return n1(rt,et)>Math.PI/2*1.01},j.isMapAuthenticated=function(rt){return hr.has(rt)},j.isMapboxURL=fn,j.isSafariWithAntialiasingBug=function(rt){const et=rt.navigator?rt.navigator.userAgent:null;return!!Pr(rt)&&et&&(et.match("Version/15.4")||et.match("Version/15.5")||et.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},j.latFromMercatorY=Kl,j.latLngToECEF=Xy,j.len=v1,j.length=em,j.length$1=function(rt){return Math.hypot(rt[0],rt[1],rt[2],rt[3])},j.lngFromMercatorX=mp,j.loadVectorTile=ow,j.makeRequest=Ls,j.mapValue=function(rt,et,it,at,ct){return zt((rt-et)/(it-et)*(ct-at)+at,at,ct)},j.mercatorScale=vm,j.mercatorXfromLng=au,j.mercatorYfromLat=qp,j.mercatorZfromAltitude=gp,j.mul=Wv,j.mul$1=qF,j.multiply=M0,j.multiply$1=YF,j.multiply$2=$F,j.nextPowerOfTwo=yn,j.normalize=xu,j.normalize$1=U1,j.normalize$2=eS,j.number=Ss,j.ortho=function(rt,et,it,at,ct,vt,Rt){var Nt=1/(et-it),Jt=1/(at-ct),Yt=1/(vt-Rt);return rt[0]=-2*Nt,rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=-2*Jt,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[10]=2*Yt,rt[11]=0,rt[12]=(et+it)*Nt,rt[13]=(ct+at)*Jt,rt[14]=(Rt+vt)*Yt,rt[15]=1,rt},j.pbf=G0,j.perspective=function(rt,et,it,at,ct){var vt,Rt=1/Math.tan(et/2);return rt[0]=Rt/it,rt[1]=0,rt[2]=0,rt[3]=0,rt[4]=0,rt[5]=Rt,rt[6]=0,rt[7]=0,rt[8]=0,rt[9]=0,rt[11]=-1,rt[12]=0,rt[13]=0,rt[15]=0,ct!=null&&ct!==1/0?(rt[10]=(ct+at)*(vt=1/(at-ct)),rt[14]=2*ct*at*vt):(rt[10]=-1,rt[14]=-2*at),rt},j.pick=function(rt,et){const it={};for(let at=0;at<et.length;at++){const ct=et[at];ct in rt&&(it[ct]=rt[ct])}return it},j.plugin=gr,j.pointGeometry=pt,j.polygonContainsPoint=zl,j.polygonIntersectsBox=Dv,j.polygonIntersectsPolygon=JF,j.polygonizeBounds=function(rt,et,it=0,at=!0){const ct=new pt(it,it),vt=rt.sub(ct),Rt=et.add(ct),Nt=[vt,new pt(Rt.x,vt.y),Rt,new pt(vt.x,Rt.y)];return at&&Nt.push(vt.clone()),Nt},j.posAttributes=q_,j.postMapLoadEvent=zn,j.postPerformanceEvent=lr,j.postTurnstileEvent=wn,j.potpack=oU,j.prevPowerOfTwo=function(rt){return rt<=1?1:Math.pow(2,Math.floor(Math.log(rt)/Math.LN2))},j.radToDeg=St,j.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],j.registerForPluginStateChange=function(rt){return rt({pluginStatus:jn,pluginURL:Xn}),er.on("pluginStateChange",rt),rt},j.removeAuthState=function(rt){hr.delete(rt)},j.renderColorRamp=KU,j.resample=Mv,j.rotateX=Zy,j.rotateX$1=rS,j.rotateY=N0,j.rotateY$1=iS,j.rotateZ=function(rt,et,it){var at=Math.sin(it),ct=Math.cos(it),vt=et[0],Rt=et[1],Nt=et[2],Jt=et[3],Yt=et[4],sn=et[5],dn=et[6],gn=et[7];return et!==rt&&(rt[8]=et[8],rt[9]=et[9],rt[10]=et[10],rt[11]=et[11],rt[12]=et[12],rt[13]=et[13],rt[14]=et[14],rt[15]=et[15]),rt[0]=vt*ct+Yt*at,rt[1]=Rt*ct+sn*at,rt[2]=Nt*ct+dn*at,rt[3]=Jt*ct+gn*at,rt[4]=Yt*ct-vt*at,rt[5]=sn*ct-Rt*at,rt[6]=dn*ct-Nt*at,rt[7]=gn*ct-Jt*at,rt},j.rotateZ$1=function(rt,et,it){it*=.5;var at=et[0],ct=et[1],vt=et[2],Rt=et[3],Nt=Math.sin(it),Jt=Math.cos(it);return rt[0]=at*Jt+ct*Nt,rt[1]=ct*Jt-at*Nt,rt[2]=vt*Jt+Rt*Nt,rt[3]=Rt*Jt-vt*Nt,rt},j.scale=my,j.scale$1=KF,j.scale$2=yp,j.scaleAndAdd=W_,j.set=function(rt,et,it,at){return rt[0]=et,rt[1]=it,rt[2]=at,rt},j.setCacheLimits=function(rt,et){Co=rt,Jo=et},j.setColumn=function(rt,et,it){rt[4*et+0]=it[0],rt[4*et+1]=it[1],rt[4*et+2]=it[2],rt[4*et+3]=it[3]},j.setRTLTextPlugin=function(rt,et,it=!1){if(jn===Fn||jn===Qn||jn===Nn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Xn=fs.resolveURL(rt),jn=Fn,Yn=et,In(),it||dr()},j.smoothstep=Pt,j.spec=Ir,j.squaredLength=function(rt){var et=rt[0],it=rt[1],at=rt[2];return et*et+it*it+at*at},j.storeAuthState=function(rt,et){et?hr.add(rt):hr.delete(rt)},j.sub=Vp,j.subtract=HU,j.symbolSize=Lm,j.tileAABB=function(rt,et,it,at,ct,vt,Rt,Nt,Jt){if(Jt.name==="globe")return wR(rt,et,new J0(it,at,ct));const Yt=qy({z:it,x:at,y:ct},Jt);return new Au([(vt+Yt.x/Yt.scale)*et,et*(Yt.y/Yt.scale),Rt],[(vt+Yt.x2/Yt.scale)*et,et*(Yt.y2/Yt.scale),Nt])},j.tileCornersToBounds=pU,j.tileTransform=qy,j.transformMat3=function(rt,et,it){var at=et[0],ct=et[1],vt=et[2];return rt[0]=at*it[0]+ct*it[3]+vt*it[6],rt[1]=at*it[1]+ct*it[4]+vt*it[7],rt[2]=at*it[2]+ct*it[5]+vt*it[8],rt},j.transformMat4=Ol,j.transformMat4$1=yy,j.transformQuat=XF,j.transitionTileAABBinECEF=KS,j.translate=zy,j.transpose=function(rt,et){if(rt===et){var it=et[1],at=et[2],ct=et[5];rt[1]=et[3],rt[2]=et[6],rt[3]=it,rt[5]=et[7],rt[6]=at,rt[7]=ct}else rt[0]=et[0],rt[1]=et[3],rt[2]=et[6],rt[3]=et[1],rt[4]=et[4],rt[5]=et[7],rt[6]=et[2],rt[7]=et[5],rt[8]=et[8];return rt},j.triggerPluginCompletionEvent=Pn,j.uniqueId=tn,j.updateGlobeVertexNormal=function(rt,et,it,at,ct){const vt=5*et+2;rt.float32[vt+0]=it,rt.float32[vt+1]=at,rt.float32[vt+2]=ct},j.validateCustomStyleLayer=function(rt){const et=[],it=rt.id;return it===void 0&&et.push({message:`layers.${it}: missing required property "id"`}),rt.render===void 0&&et.push({message:`layers.${it}: missing required method "render"`}),rt.renderingMode&&rt.renderingMode!=="2d"&&rt.renderingMode!=="3d"&&et.push({message:`layers.${it}: property "renderingMode" must be either "2d" or "3d"`}),et},j.validateFilter=rt=>Gp(zp(rt)),j.validateFog=rt=>Gp(Jn(rt)),j.validateLayer=rt=>Gp(R_(rt)),j.validateLight=rt=>Gp(Zp(rt)),j.validateSource=rt=>Gp(Nm(rt)),j.validateStyle=Bs,j.validateTerrain=rt=>Gp(S0(rt)),j.values=Ct,j.vectorTile=$v,j.version=st,j.warnOnce=hn,j.window=nt,j.wrap=jt}),_e(["./shared"],function(j){function nt(Mn){if(typeof Mn=="number"||typeof Mn=="boolean"||typeof Mn=="string"||Mn==null)return JSON.stringify(Mn);if(Array.isArray(Mn)){let Tn="[";for(const zn of Mn)Tn+=`${nt(zn)},`;return`${Tn}]`}let wn="{";for(const Tn of Object.keys(Mn).sort())wn+=`${Tn}:${nt(Mn[Tn])},`;return`${wn}}`}function st(Mn){let wn="";for(const Tn of j.refProperties)wn+=`/${nt(Mn[Tn])}`;return wn}class ht{constructor(wn){this.keyCache={},wn&&this.replace(wn)}replace(wn){this._layerConfigs={},this._layers={},this.update(wn,[])}update(wn,Tn){for(const Kn of wn)this._layerConfigs[Kn.id]=Kn,(this._layers[Kn.id]=j.createStyleLayer(Kn)).compileFilter(),this.keyCache[Kn.id]&&delete this.keyCache[Kn.id];for(const Kn of Tn)delete this.keyCache[Kn],delete this._layerConfigs[Kn],delete this._layers[Kn];this.familiesBySource={};const zn=function(Kn,lr){const ur={};for(let hr=0;hr<Kn.length;hr++){const br=lr&&lr[Kn[hr].id]||st(Kn[hr]);lr&&(lr[Kn[hr].id]=br);let Nr=ur[br];Nr||(Nr=ur[br]=[]),Nr.push(Kn[hr])}const mr=[];for(const hr in ur)mr.push(ur[hr]);return mr}(j.values(this._layerConfigs),this.keyCache);for(const Kn of zn){const lr=Kn.map(Kr=>this._layers[Kr.id]),ur=lr[0];if(ur.visibility==="none")continue;const mr=ur.source||"";let hr=this.familiesBySource[mr];hr||(hr=this.familiesBySource[mr]={});const br=ur.sourceLayer||"_geojsonTileLayer";let Nr=hr[br];Nr||(Nr=hr[br]=[]),Nr.push(lr)}}}class _t{loadTile(wn,Tn){const{uid:zn,encoding:Kn,rawImageData:lr,padding:ur,buildQuadTree:mr}=wn,hr=j.window.ImageBitmap&&lr instanceof j.window.ImageBitmap?this.getImageData(lr,ur):lr;Tn(null,new j.DEMData(zn,hr,Kn,ur<1,mr))}getImageData(wn,Tn){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(wn.width,wn.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=wn.width,this.offscreenCanvas.height=wn.height,this.offscreenCanvasContext.drawImage(wn,0,0,wn.width,wn.height);const zn=this.offscreenCanvasContext.getImageData(-Tn,-Tn,wn.width+2*Tn,wn.height+2*Tn);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),zn}}var ft=function Mn(wn,Tn){var zn,Kn=wn&&wn.type;if(Kn==="FeatureCollection")for(zn=0;zn<wn.features.length;zn++)Mn(wn.features[zn],Tn);else if(Kn==="GeometryCollection")for(zn=0;zn<wn.geometries.length;zn++)Mn(wn.geometries[zn],Tn);else if(Kn==="Feature")Mn(wn.geometry,Tn);else if(Kn==="Polygon")dt(wn.coordinates,Tn);else if(Kn==="MultiPolygon")for(zn=0;zn<wn.coordinates.length;zn++)dt(wn.coordinates[zn],Tn);return wn};function dt(Mn,wn){if(Mn.length!==0){ut(Mn[0],wn);for(var Tn=1;Tn<Mn.length;Tn++)ut(Mn[Tn],!wn)}}function ut(Mn,wn){for(var Tn=0,zn=0,Kn=0,lr=Mn.length,ur=lr-1;Kn<lr;ur=Kn++){var mr=(Mn[Kn][0]-Mn[ur][0])*(Mn[ur][1]+Mn[Kn][1]),hr=Tn+mr;zn+=Math.abs(Tn)>=Math.abs(mr)?Tn-hr+mr:mr-hr+Tn,Tn=hr}Tn+zn>=0!=!!wn&&Mn.reverse()}const mt=j.VectorTileFeature.prototype.toGeoJSON;class wt{constructor(wn){this._feature=wn,this.extent=j.EXTENT,this.type=wn.type,this.properties=wn.tags,"id"in wn&&!isNaN(wn.id)&&(this.id=parseInt(wn.id,10))}loadGeometry(){if(this._feature.type===1){const wn=[];for(const Tn of this._feature.geometry)wn.push([new j.pointGeometry(Tn[0],Tn[1])]);return wn}{const wn=[];for(const Tn of this._feature.geometry){const zn=[];for(const Kn of Tn)zn.push(new j.pointGeometry(Kn[0],Kn[1]));wn.push(zn)}return wn}}toGeoJSON(wn,Tn,zn){return mt.call(this,wn,Tn,zn)}}class Qt{constructor(wn){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=j.EXTENT,this.length=wn.length,this._features=wn}feature(wn){return new wt(this._features[wn])}}var Dt={exports:{}},Et=j.pointGeometry,xt=j.vectorTile.VectorTileFeature,pt=Vt;function Vt(Mn,wn){this.options=wn||{},this.features=Mn,this.length=Mn.length}function nn(Mn,wn){this.id=typeof Mn.id=="number"?Mn.id:void 0,this.type=Mn.type,this.rawGeometry=Mn.type===1?[Mn.geometry]:Mn.geometry,this.properties=Mn.tags,this.extent=wn||4096}Vt.prototype.feature=function(Mn){return new nn(this.features[Mn],this.options.extent)},nn.prototype.loadGeometry=function(){var Mn=this.rawGeometry;this.geometry=[];for(var wn=0;wn<Mn.length;wn++){for(var Tn=Mn[wn],zn=[],Kn=0;Kn<Tn.length;Kn++)zn.push(new Et(Tn[Kn][0],Tn[Kn][1]));this.geometry.push(zn)}return this.geometry},nn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Mn=this.geometry,wn=1/0,Tn=-1/0,zn=1/0,Kn=-1/0,lr=0;lr<Mn.length;lr++)for(var ur=Mn[lr],mr=0;mr<ur.length;mr++){var hr=ur[mr];wn=Math.min(wn,hr.x),Tn=Math.max(Tn,hr.x),zn=Math.min(zn,hr.y),Kn=Math.max(Kn,hr.y)}return[wn,zn,Tn,Kn]},nn.prototype.toGeoJSON=xt.prototype.toGeoJSON;var on=j.pbf,bt=pt;function St(Mn){var wn=new on;return function(Tn,zn){for(var Kn in Tn.layers)zn.writeMessage(3,It,Tn.layers[Kn])}(Mn,wn),wn.finish()}function It(Mn,wn){var Tn;wn.writeVarintField(15,Mn.version||1),wn.writeStringField(1,Mn.name||""),wn.writeVarintField(5,Mn.extent||4096);var zn={keys:[],values:[],keycache:{},valuecache:{}};for(Tn=0;Tn<Mn.length;Tn++)zn.feature=Mn.feature(Tn),wn.writeMessage(2,Bt,zn);var Kn=zn.keys;for(Tn=0;Tn<Kn.length;Tn++)wn.writeStringField(3,Kn[Tn]);var lr=zn.values;for(Tn=0;Tn<lr.length;Tn++)wn.writeMessage(4,jt,lr[Tn])}function Bt(Mn,wn){var Tn=Mn.feature;Tn.id!==void 0&&wn.writeVarintField(1,Tn.id),wn.writeMessage(2,Lt,Mn),wn.writeVarintField(3,Tn.type),wn.writeMessage(4,Pt,Tn)}function Lt(Mn,wn){var Tn=Mn.feature,zn=Mn.keys,Kn=Mn.values,lr=Mn.keycache,ur=Mn.valuecache;for(var mr in Tn.properties){var hr=Tn.properties[mr],br=lr[mr];if(hr!==null){br===void 0&&(zn.push(mr),lr[mr]=br=zn.length-1),wn.writeVarint(br);var Nr=typeof hr;Nr!=="string"&&Nr!=="boolean"&&Nr!=="number"&&(hr=JSON.stringify(hr));var Kr=Nr+":"+hr,zr=ur[Kr];zr===void 0&&(Kn.push(hr),ur[Kr]=zr=Kn.length-1),wn.writeVarint(zr)}}}function Xt(Mn,wn){return(wn<<3)+(7&Mn)}function zt(Mn){return Mn<<1^Mn>>31}function Pt(Mn,wn){for(var Tn=Mn.loadGeometry(),zn=Mn.type,Kn=0,lr=0,ur=Tn.length,mr=0;mr<ur;mr++){var hr=Tn[mr],br=1;zn===1&&(br=hr.length),wn.writeVarint(Xt(1,br));for(var Nr=zn===3?hr.length-1:hr.length,Kr=0;Kr<Nr;Kr++){Kr===1&&zn!==1&&wn.writeVarint(Xt(2,Nr-1));var zr=hr[Kr].x-Kn,So=hr[Kr].y-lr;wn.writeVarint(zt(zr)),wn.writeVarint(zt(So)),Kn+=zr,lr+=So}zn===3&&wn.writeVarint(Xt(7,1))}}function jt(Mn,wn){var Tn=typeof Mn;Tn==="string"?wn.writeStringField(1,Mn):Tn==="boolean"?wn.writeBooleanField(7,Mn):Tn==="number"&&(Mn%1!=0?wn.writeDoubleField(3,Mn):Mn<0?wn.writeSVarintField(6,Mn):wn.writeVarintField(5,Mn))}function Zt(Mn,wn,Tn,zn,Kn,lr){if(Kn-zn<=Tn)return;const ur=zn+Kn>>1;Ct(Mn,wn,ur,zn,Kn,lr%2),Zt(Mn,wn,Tn,zn,ur-1,lr+1),Zt(Mn,wn,Tn,ur+1,Kn,lr+1)}function Ct(Mn,wn,Tn,zn,Kn,lr){for(;Kn>zn;){if(Kn-zn>600){const br=Kn-zn+1,Nr=Tn-zn+1,Kr=Math.log(br),zr=.5*Math.exp(2*Kr/3),So=.5*Math.sqrt(Kr*zr*(br-zr)/br)*(Nr-br/2<0?-1:1);Ct(Mn,wn,Tn,Math.max(zn,Math.floor(Tn-Nr*zr/br+So)),Math.min(Kn,Math.floor(Tn+(br-Nr)*zr/br+So)),lr)}const ur=wn[2*Tn+lr];let mr=zn,hr=Kn;for(Ft(Mn,wn,zn,Tn),wn[2*Kn+lr]>ur&&Ft(Mn,wn,zn,Kn);mr<hr;){for(Ft(Mn,wn,mr,hr),mr++,hr--;wn[2*mr+lr]<ur;)mr++;for(;wn[2*hr+lr]>ur;)hr--}wn[2*zn+lr]===ur?Ft(Mn,wn,zn,hr):(hr++,Ft(Mn,wn,hr,Kn)),hr<=Tn&&(zn=hr+1),Tn<=hr&&(Kn=hr-1)}}function Ft(Mn,wn,Tn,zn){Ht(Mn,Tn,zn),Ht(wn,2*Tn,2*zn),Ht(wn,2*Tn+1,2*zn+1)}function Ht(Mn,wn,Tn){const zn=Mn[wn];Mn[wn]=Mn[Tn],Mn[Tn]=zn}function tn(Mn,wn,Tn,zn){const Kn=Mn-Tn,lr=wn-zn;return Kn*Kn+lr*lr}Dt.exports=St,Dt.exports.fromVectorTileJs=St,Dt.exports.fromGeojsonVt=function(Mn,wn){wn=wn||{};var Tn={};for(var zn in Mn)Tn[zn]=new bt(Mn[zn].features,wn),Tn[zn].name=zn,Tn[zn].version=wn.version,Tn[zn].extent=wn.extent;return St({layers:Tn})},Dt.exports.GeoJSONWrapper=bt;const mn=Mn=>Mn[0],yn=Mn=>Mn[1];class vn{constructor(wn,Tn=mn,zn=yn,Kn=64,lr=Float64Array){this.nodeSize=Kn,this.points=wn;const ur=wn.length<65536?Uint16Array:Uint32Array,mr=this.ids=new ur(wn.length),hr=this.coords=new lr(2*wn.length);for(let br=0;br<wn.length;br++)mr[br]=br,hr[2*br]=Tn(wn[br]),hr[2*br+1]=zn(wn[br]);Zt(mr,hr,Kn,0,mr.length-1,0)}range(wn,Tn,zn,Kn){return function(lr,ur,mr,hr,br,Nr,Kr){const zr=[0,lr.length-1,0],So=[];let Bo,Ao;for(;zr.length;){const No=zr.pop(),Xo=zr.pop(),fs=zr.pop();if(Xo-fs<=Kr){for(let bs=fs;bs<=Xo;bs++)Bo=ur[2*bs],Ao=ur[2*bs+1],Bo>=mr&&Bo<=br&&Ao>=hr&&Ao<=Nr&&So.push(lr[bs]);continue}const Uo=Math.floor((fs+Xo)/2);Bo=ur[2*Uo],Ao=ur[2*Uo+1],Bo>=mr&&Bo<=br&&Ao>=hr&&Ao<=Nr&&So.push(lr[Uo]);const ws=(No+1)%2;(No===0?mr<=Bo:hr<=Ao)&&(zr.push(fs),zr.push(Uo-1),zr.push(ws)),(No===0?br>=Bo:Nr>=Ao)&&(zr.push(Uo+1),zr.push(Xo),zr.push(ws))}return So}(this.ids,this.coords,wn,Tn,zn,Kn,this.nodeSize)}within(wn,Tn,zn){return function(Kn,lr,ur,mr,hr,br){const Nr=[0,Kn.length-1,0],Kr=[],zr=hr*hr;for(;Nr.length;){const So=Nr.pop(),Bo=Nr.pop(),Ao=Nr.pop();if(Bo-Ao<=br){for(let ws=Ao;ws<=Bo;ws++)tn(lr[2*ws],lr[2*ws+1],ur,mr)<=zr&&Kr.push(Kn[ws]);continue}const No=Math.floor((Ao+Bo)/2),Xo=lr[2*No],fs=lr[2*No+1];tn(Xo,fs,ur,mr)<=zr&&Kr.push(Kn[No]);const Uo=(So+1)%2;(So===0?ur-hr<=Xo:mr-hr<=fs)&&(Nr.push(Ao),Nr.push(No-1),Nr.push(Uo)),(So===0?ur+hr>=Xo:mr+hr>=fs)&&(Nr.push(No+1),Nr.push(Bo),Nr.push(Uo))}return Kr}(this.ids,this.coords,wn,Tn,zn,this.nodeSize)}}const un={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Mn=>Mn},rn=Math.fround||(At=new Float32Array(1),Mn=>(At[0]=+Mn,At[0]));var At;class Mt{constructor(wn){this.options=_i(Object.create(un),wn),this.trees=new Array(this.options.maxZoom+1)}load(wn){const{log:Tn,minZoom:zn,maxZoom:Kn,nodeSize:lr}=this.options;Tn&&console.time("total time");const ur=`prepare ${wn.length} points`;Tn&&console.time(ur),this.points=wn;let mr=[];for(let hr=0;hr<wn.length;hr++)wn[hr].geometry&&mr.push(pn(wn[hr],hr));this.trees[Kn+1]=new vn(mr,Pr,po,lr,Float32Array),Tn&&console.timeEnd(ur);for(let hr=Kn;hr>=zn;hr--){const br=+Date.now();mr=this._cluster(mr,hr),this.trees[hr]=new vn(mr,Pr,po,lr,Float32Array),Tn&&console.log("z%d: %d clusters in %dms",hr,mr.length,+Date.now()-br)}return Tn&&console.timeEnd("total time"),this}getClusters(wn,Tn){let zn=((wn[0]+180)%360+360)%360-180;const Kn=Math.max(-90,Math.min(90,wn[1]));let lr=wn[2]===180?180:((wn[2]+180)%360+360)%360-180;const ur=Math.max(-90,Math.min(90,wn[3]));if(wn[2]-wn[0]>=360)zn=-180,lr=180;else if(zn>lr){const Nr=this.getClusters([zn,Kn,180,ur],Tn),Kr=this.getClusters([-180,Kn,lr,ur],Tn);return Nr.concat(Kr)}const mr=this.trees[this._limitZoom(Tn)],hr=mr.range(An(zn),Gn(ur),An(lr),Gn(Kn)),br=[];for(const Nr of hr){const Kr=mr.points[Nr];br.push(Kr.numPoints?hn(Kr):this.points[Kr.index])}return br}getChildren(wn){const Tn=this._getOriginId(wn),zn=this._getOriginZoom(wn),Kn="No cluster with the specified id.",lr=this.trees[zn];if(!lr)throw new Error(Kn);const ur=lr.points[Tn];if(!ur)throw new Error(Kn);const mr=this.options.radius/(this.options.extent*Math.pow(2,zn-1)),hr=lr.within(ur.x,ur.y,mr),br=[];for(const Nr of hr){const Kr=lr.points[Nr];Kr.parentId===wn&&br.push(Kr.numPoints?hn(Kr):this.points[Kr.index])}if(br.length===0)throw new Error(Kn);return br}getLeaves(wn,Tn,zn){const Kn=[];return this._appendLeaves(Kn,wn,Tn=Tn||10,zn=zn||0,0),Kn}getTile(wn,Tn,zn){const Kn=this.trees[this._limitZoom(wn)],lr=Math.pow(2,wn),{extent:ur,radius:mr}=this.options,hr=mr/ur,br=(zn-hr)/lr,Nr=(zn+1+hr)/lr,Kr={features:[]};return this._addTileFeatures(Kn.range((Tn-hr)/lr,br,(Tn+1+hr)/lr,Nr),Kn.points,Tn,zn,lr,Kr),Tn===0&&this._addTileFeatures(Kn.range(1-hr/lr,br,1,Nr),Kn.points,lr,zn,lr,Kr),Tn===lr-1&&this._addTileFeatures(Kn.range(0,br,hr/lr,Nr),Kn.points,-1,zn,lr,Kr),Kr.features.length?Kr:null}getClusterExpansionZoom(wn){let Tn=this._getOriginZoom(wn)-1;for(;Tn<=this.options.maxZoom;){const zn=this.getChildren(wn);if(Tn++,zn.length!==1)break;wn=zn[0].properties.cluster_id}return Tn}_appendLeaves(wn,Tn,zn,Kn,lr){const ur=this.getChildren(Tn);for(const mr of ur){const hr=mr.properties;if(hr&&hr.cluster?lr+hr.point_count<=Kn?lr+=hr.point_count:lr=this._appendLeaves(wn,hr.cluster_id,zn,Kn,lr):lr<Kn?lr++:wn.push(mr),wn.length===zn)break}return lr}_addTileFeatures(wn,Tn,zn,Kn,lr,ur){for(const mr of wn){const hr=Tn[mr],br=hr.numPoints;let Nr,Kr,zr;if(br)Nr=Sn(hr),Kr=hr.x,zr=hr.y;else{const Ao=this.points[hr.index];Nr=Ao.properties,Kr=An(Ao.geometry.coordinates[0]),zr=Gn(Ao.geometry.coordinates[1])}const So={type:1,geometry:[[Math.round(this.options.extent*(Kr*lr-zn)),Math.round(this.options.extent*(zr*lr-Kn))]],tags:Nr};let Bo;br?Bo=hr.id:this.options.generateId?Bo=hr.index:this.points[hr.index].id&&(Bo=this.points[hr.index].id),Bo!==void 0&&(So.id=Bo),ur.features.push(So)}}_limitZoom(wn){return Math.max(this.options.minZoom,Math.min(Math.floor(+wn),this.options.maxZoom+1))}_cluster(wn,Tn){const zn=[],{radius:Kn,extent:lr,reduce:ur,minPoints:mr}=this.options,hr=Kn/(lr*Math.pow(2,Tn));for(let br=0;br<wn.length;br++){const Nr=wn[br];if(Nr.zoom<=Tn)continue;Nr.zoom=Tn;const Kr=this.trees[Tn+1],zr=Kr.within(Nr.x,Nr.y,hr),So=Nr.numPoints||1;let Bo=So;for(const Ao of zr){const No=Kr.points[Ao];No.zoom>Tn&&(Bo+=No.numPoints||1)}if(Bo>So&&Bo>=mr){let Ao=Nr.x*So,No=Nr.y*So,Xo=ur&&So>1?this._map(Nr,!0):null;const fs=(br<<5)+(Tn+1)+this.points.length;for(const Uo of zr){const ws=Kr.points[Uo];if(ws.zoom<=Tn)continue;ws.zoom=Tn;const bs=ws.numPoints||1;Ao+=ws.x*bs,No+=ws.y*bs,ws.parentId=fs,ur&&(Xo||(Xo=this._map(Nr,!0)),ur(Xo,this._map(ws)))}Nr.parentId=fs,zn.push($t(Ao/Bo,No/Bo,fs,Bo,Xo))}else if(zn.push(Nr),Bo>1)for(const Ao of zr){const No=Kr.points[Ao];No.zoom<=Tn||(No.zoom=Tn,zn.push(No))}}return zn}_getOriginId(wn){return wn-this.points.length>>5}_getOriginZoom(wn){return(wn-this.points.length)%32}_map(wn,Tn){if(wn.numPoints)return Tn?_i({},wn.properties):wn.properties;const zn=this.points[wn.index].properties,Kn=this.options.map(zn);return Tn&&Kn===zn?_i({},Kn):Kn}}function $t(Mn,wn,Tn,zn,Kn){return{x:rn(Mn),y:rn(wn),zoom:1/0,id:Tn,parentId:-1,numPoints:zn,properties:Kn}}function pn(Mn,wn){const[Tn,zn]=Mn.geometry.coordinates;return{x:rn(An(Tn)),y:rn(Gn(zn)),zoom:1/0,index:wn,parentId:-1}}function hn(Mn){return{type:"Feature",id:Mn.id,properties:Sn(Mn),geometry:{type:"Point",coordinates:[(wn=Mn.x,360*(wn-.5)),Qr(Mn.y)]}};var wn}function Sn(Mn){const wn=Mn.numPoints,Tn=wn>=1e4?`${Math.round(wn/1e3)}k`:wn>=1e3?Math.round(wn/100)/10+"k":wn;return _i(_i({},Mn.properties),{cluster:!0,cluster_id:Mn.id,point_count:wn,point_count_abbreviated:Tn})}function An(Mn){return Mn/360+.5}function Gn(Mn){const wn=Math.sin(Mn*Math.PI/180),Tn=.5-.25*Math.log((1+wn)/(1-wn))/Math.PI;return Tn<0?0:Tn>1?1:Tn}function Qr(Mn){const wn=(180-360*Mn)*Math.PI/180;return 360*Math.atan(Math.exp(wn))/Math.PI-90}function _i(Mn,wn){for(const Tn in wn)Mn[Tn]=wn[Tn];return Mn}function Pr(Mn){return Mn.x}function po(Mn){return Mn.y}function jr(Mn,wn,Tn,zn){for(var Kn,lr=zn,ur=Tn-wn>>1,mr=Tn-wn,hr=Mn[wn],br=Mn[wn+1],Nr=Mn[Tn],Kr=Mn[Tn+1],zr=wn+3;zr<Tn;zr+=3){var So=Yr(Mn[zr],Mn[zr+1],hr,br,Nr,Kr);if(So>lr)Kn=zr,lr=So;else if(So===lr){var Bo=Math.abs(zr-ur);Bo<mr&&(Kn=zr,mr=Bo)}}lr>zn&&(Kn-wn>3&&jr(Mn,wn,Kn,zn),Mn[Kn+2]=lr,Tn-Kn>3&&jr(Mn,Kn,Tn,zn))}function Yr(Mn,wn,Tn,zn,Kn,lr){var ur=Kn-Tn,mr=lr-zn;if(ur!==0||mr!==0){var hr=((Mn-Tn)*ur+(wn-zn)*mr)/(ur*ur+mr*mr);hr>1?(Tn=Kn,zn=lr):hr>0&&(Tn+=ur*hr,zn+=mr*hr)}return(ur=Mn-Tn)*ur+(mr=wn-zn)*mr}function no(Mn,wn,Tn,zn){var Kn={id:Mn===void 0?null:Mn,type:wn,geometry:Tn,tags:zn,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(lr){var ur=lr.geometry,mr=lr.type;if(mr==="Point"||mr==="MultiPoint"||mr==="LineString")Qo(lr,ur);else if(mr==="Polygon"||mr==="MultiLineString")for(var hr=0;hr<ur.length;hr++)Qo(lr,ur[hr]);else if(mr==="MultiPolygon")for(hr=0;hr<ur.length;hr++)for(var br=0;br<ur[hr].length;br++)Qo(lr,ur[hr][br])}(Kn),Kn}function Qo(Mn,wn){for(var Tn=0;Tn<wn.length;Tn+=3)Mn.minX=Math.min(Mn.minX,wn[Tn]),Mn.minY=Math.min(Mn.minY,wn[Tn+1]),Mn.maxX=Math.max(Mn.maxX,wn[Tn]),Mn.maxY=Math.max(Mn.maxY,wn[Tn+1])}function Co(Mn,wn,Tn,zn){if(wn.geometry){var Kn=wn.geometry.coordinates,lr=wn.geometry.type,ur=Math.pow(Tn.tolerance/((1<<Tn.maxZoom)*Tn.extent),2),mr=[],hr=wn.id;if(Tn.promoteId?hr=wn.properties[Tn.promoteId]:Tn.generateId&&(hr=zn||0),lr==="Point")Jo(Kn,mr);else if(lr==="MultiPoint")for(var br=0;br<Kn.length;br++)Jo(Kn[br],mr);else if(lr==="LineString")es(Kn,mr,ur,!1);else if(lr==="MultiLineString"){if(Tn.lineMetrics){for(br=0;br<Kn.length;br++)es(Kn[br],mr=[],ur,!1),Mn.push(no(hr,"LineString",mr,wn.properties));return}xo(Kn,mr,ur,!1)}else if(lr==="Polygon")xo(Kn,mr,ur,!0);else{if(lr!=="MultiPolygon"){if(lr==="GeometryCollection"){for(br=0;br<wn.geometry.geometries.length;br++)Co(Mn,{id:hr,geometry:wn.geometry.geometries[br],properties:wn.properties},Tn,zn);return}throw new Error("Input data is not a valid GeoJSON object.")}for(br=0;br<Kn.length;br++){var Nr=[];xo(Kn[br],Nr,ur,!0),mr.push(Nr)}}Mn.push(no(hr,lr,mr,wn.properties))}}function Jo(Mn,wn){wn.push(ls(Mn[0])),wn.push(Ds(Mn[1])),wn.push(0)}function es(Mn,wn,Tn,zn){for(var Kn,lr,ur=0,mr=0;mr<Mn.length;mr++){var hr=ls(Mn[mr][0]),br=Ds(Mn[mr][1]);wn.push(hr),wn.push(br),wn.push(0),mr>0&&(ur+=zn?(Kn*br-hr*lr)/2:Math.sqrt(Math.pow(hr-Kn,2)+Math.pow(br-lr,2))),Kn=hr,lr=br}var Nr=wn.length-3;wn[2]=1,jr(wn,0,Nr,Tn),wn[Nr+2]=1,wn.size=Math.abs(ur),wn.start=0,wn.end=wn.size}function xo(Mn,wn,Tn,zn){for(var Kn=0;Kn<Mn.length;Kn++){var lr=[];es(Mn[Kn],lr,Tn,zn),wn.push(lr)}}function ls(Mn){return Mn/360+.5}function Ds(Mn){var wn=Math.sin(Mn*Math.PI/180),Tn=.5-.25*Math.log((1+wn)/(1-wn))/Math.PI;return Tn<0?0:Tn>1?1:Tn}function hs(Mn,wn,Tn,zn,Kn,lr,ur,mr){if(zn/=wn,lr>=(Tn/=wn)&&ur<zn)return Mn;if(ur<Tn||lr>=zn)return null;for(var hr=[],br=0;br<Mn.length;br++){var Nr=Mn[br],Kr=Nr.geometry,zr=Nr.type,So=Kn===0?Nr.minX:Nr.minY,Bo=Kn===0?Nr.maxX:Nr.maxY;if(So>=Tn&&Bo<zn)hr.push(Nr);else if(!(Bo<Tn||So>=zn)){var Ao=[];if(zr==="Point"||zr==="MultiPoint")Hl(Kr,Ao,Tn,zn,Kn);else if(zr==="LineString")Ll(Kr,Ao,Tn,zn,Kn,!1,mr.lineMetrics);else if(zr==="MultiLineString")Us(Kr,Ao,Tn,zn,Kn,!1);else if(zr==="Polygon")Us(Kr,Ao,Tn,zn,Kn,!0);else if(zr==="MultiPolygon")for(var No=0;No<Kr.length;No++){var Xo=[];Us(Kr[No],Xo,Tn,zn,Kn,!0),Xo.length&&Ao.push(Xo)}if(Ao.length){if(mr.lineMetrics&&zr==="LineString"){for(No=0;No<Ao.length;No++)hr.push(no(Nr.id,zr,Ao[No],Nr.tags));continue}zr!=="LineString"&&zr!=="MultiLineString"||(Ao.length===1?(zr="LineString",Ao=Ao[0]):zr="MultiLineString"),zr!=="Point"&&zr!=="MultiPoint"||(zr=Ao.length===3?"Point":"MultiPoint"),hr.push(no(Nr.id,zr,Ao,Nr.tags))}}}return hr.length?hr:null}function Hl(Mn,wn,Tn,zn,Kn){for(var lr=0;lr<Mn.length;lr+=3){var ur=Mn[lr+Kn];ur>=Tn&&ur<=zn&&(wn.push(Mn[lr]),wn.push(Mn[lr+1]),wn.push(Mn[lr+2]))}}function Ll(Mn,wn,Tn,zn,Kn,lr,ur){for(var mr,hr,br=Ls(Mn),Nr=Kn===0?Po:nu,Kr=Mn.start,zr=0;zr<Mn.length-3;zr+=3){var So=Mn[zr],Bo=Mn[zr+1],Ao=Mn[zr+2],No=Mn[zr+3],Xo=Mn[zr+4],fs=Kn===0?So:Bo,Uo=Kn===0?No:Xo,ws=!1;ur&&(mr=Math.sqrt(Math.pow(So-No,2)+Math.pow(Bo-Xo,2))),fs<Tn?Uo>Tn&&(hr=Nr(br,So,Bo,No,Xo,Tn),ur&&(br.start=Kr+mr*hr)):fs>zn?Uo<zn&&(hr=Nr(br,So,Bo,No,Xo,zn),ur&&(br.start=Kr+mr*hr)):cu(br,So,Bo,Ao),Uo<Tn&&fs>=Tn&&(hr=Nr(br,So,Bo,No,Xo,Tn),ws=!0),Uo>zn&&fs<=zn&&(hr=Nr(br,So,Bo,No,Xo,zn),ws=!0),!lr&&ws&&(ur&&(br.end=Kr+mr*hr),wn.push(br),br=Ls(Mn)),ur&&(Kr+=mr)}var bs=Mn.length-3;So=Mn[bs],Bo=Mn[bs+1],Ao=Mn[bs+2],(fs=Kn===0?So:Bo)>=Tn&&fs<=zn&&cu(br,So,Bo,Ao),bs=br.length-3,lr&&bs>=3&&(br[bs]!==br[0]||br[bs+1]!==br[1])&&cu(br,br[0],br[1],br[2]),br.length&&wn.push(br)}function Ls(Mn){var wn=[];return wn.size=Mn.size,wn.start=Mn.start,wn.end=Mn.end,wn}function Us(Mn,wn,Tn,zn,Kn,lr){for(var ur=0;ur<Mn.length;ur++)Ll(Mn[ur],wn,Tn,zn,Kn,lr,!1)}function cu(Mn,wn,Tn,zn){Mn.push(wn),Mn.push(Tn),Mn.push(zn)}function Po(Mn,wn,Tn,zn,Kn,lr){var ur=(lr-wn)/(zn-wn);return Mn.push(lr),Mn.push(Tn+(Kn-Tn)*ur),Mn.push(1),ur}function nu(Mn,wn,Tn,zn,Kn,lr){var ur=(lr-Tn)/(Kn-Tn);return Mn.push(wn+(zn-wn)*ur),Mn.push(lr),Mn.push(1),ur}function cr(Mn,wn){for(var Tn=[],zn=0;zn<Mn.length;zn++){var Kn,lr=Mn[zn],ur=lr.type;if(ur==="Point"||ur==="MultiPoint"||ur==="LineString")Kn=Gt(lr.geometry,wn);else if(ur==="MultiLineString"||ur==="Polygon"){Kn=[];for(var mr=0;mr<lr.geometry.length;mr++)Kn.push(Gt(lr.geometry[mr],wn))}else if(ur==="MultiPolygon")for(Kn=[],mr=0;mr<lr.geometry.length;mr++){for(var hr=[],br=0;br<lr.geometry[mr].length;br++)hr.push(Gt(lr.geometry[mr][br],wn));Kn.push(hr)}Tn.push(no(lr.id,ur,Kn,lr.tags))}return Tn}function Gt(Mn,wn){var Tn=[];Tn.size=Mn.size,Mn.start!==void 0&&(Tn.start=Mn.start,Tn.end=Mn.end);for(var zn=0;zn<Mn.length;zn+=3)Tn.push(Mn[zn]+wn,Mn[zn+1],Mn[zn+2]);return Tn}function en(Mn,wn){if(Mn.transformed)return Mn;var Tn,zn,Kn,lr=1<<Mn.z,ur=Mn.x,mr=Mn.y;for(Tn=0;Tn<Mn.features.length;Tn++){var hr=Mn.features[Tn],br=hr.geometry,Nr=hr.type;if(hr.geometry=[],Nr===1)for(zn=0;zn<br.length;zn+=2)hr.geometry.push(fn(br[zn],br[zn+1],wn,lr,ur,mr));else for(zn=0;zn<br.length;zn++){var Kr=[];for(Kn=0;Kn<br[zn].length;Kn+=2)Kr.push(fn(br[zn][Kn],br[zn][Kn+1],wn,lr,ur,mr));hr.geometry.push(Kr)}}return Mn.transformed=!0,Mn}function fn(Mn,wn,Tn,zn,Kn,lr){return[Math.round(Tn*(Mn*zn-Kn)),Math.round(Tn*(wn*zn-lr))]}function En(Mn,wn,Tn,zn,Kn){for(var lr=wn===Kn.maxZoom?0:Kn.tolerance/((1<<wn)*Kn.extent),ur={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Tn,y:zn,z:wn,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},mr=0;mr<Mn.length;mr++){ur.numFeatures++,xn(ur,Mn[mr],lr,Kn);var hr=Mn[mr].minX,br=Mn[mr].minY,Nr=Mn[mr].maxX,Kr=Mn[mr].maxY;hr<ur.minX&&(ur.minX=hr),br<ur.minY&&(ur.minY=br),Nr>ur.maxX&&(ur.maxX=Nr),Kr>ur.maxY&&(ur.maxY=Kr)}return ur}function xn(Mn,wn,Tn,zn){var Kn=wn.geometry,lr=wn.type,ur=[];if(lr==="Point"||lr==="MultiPoint")for(var mr=0;mr<Kn.length;mr+=3)ur.push(Kn[mr]),ur.push(Kn[mr+1]),Mn.numPoints++,Mn.numSimplified++;else if(lr==="LineString")or(ur,Kn,Mn,Tn,!1,!1);else if(lr==="MultiLineString"||lr==="Polygon")for(mr=0;mr<Kn.length;mr++)or(ur,Kn[mr],Mn,Tn,lr==="Polygon",mr===0);else if(lr==="MultiPolygon")for(var hr=0;hr<Kn.length;hr++){var br=Kn[hr];for(mr=0;mr<br.length;mr++)or(ur,br[mr],Mn,Tn,!0,mr===0)}if(ur.length){var Nr=wn.tags||null;if(lr==="LineString"&&zn.lineMetrics){for(var Kr in Nr={},wn.tags)Nr[Kr]=wn.tags[Kr];Nr.mapbox_clip_start=Kn.start/Kn.size,Nr.mapbox_clip_end=Kn.end/Kn.size}var zr={geometry:ur,type:lr==="Polygon"||lr==="MultiPolygon"?3:lr==="LineString"||lr==="MultiLineString"?2:1,tags:Nr};wn.id!==null&&(zr.id=wn.id),Mn.features.push(zr)}}function or(Mn,wn,Tn,zn,Kn,lr){var ur=zn*zn;if(zn>0&&wn.size<(Kn?ur:zn))Tn.numPoints+=wn.length/3;else{for(var mr=[],hr=0;hr<wn.length;hr+=3)(zn===0||wn[hr+2]>ur)&&(Tn.numSimplified++,mr.push(wn[hr]),mr.push(wn[hr+1])),Tn.numPoints++;Kn&&function(br,Nr){for(var Kr=0,zr=0,So=br.length,Bo=So-2;zr<So;Bo=zr,zr+=2)Kr+=(br[zr]-br[Bo])*(br[zr+1]+br[Bo+1]);if(Kr>0===Nr)for(zr=0,So=br.length;zr<So/2;zr+=2){var Ao=br[zr],No=br[zr+1];br[zr]=br[So-2-zr],br[zr+1]=br[So-1-zr],br[So-2-zr]=Ao,br[So-1-zr]=No}}(mr,lr),Mn.push(mr)}}function ar(Mn,wn){var Tn=(wn=this.options=function(Kn,lr){for(var ur in lr)Kn[ur]=lr[ur];return Kn}(Object.create(this.options),wn)).debug;if(Tn&&console.time("preprocess data"),wn.maxZoom<0||wn.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(wn.promoteId&&wn.generateId)throw new Error("promoteId and generateId cannot be used together.");var zn=function(Kn,lr){var ur=[];if(Kn.type==="FeatureCollection")for(var mr=0;mr<Kn.features.length;mr++)Co(ur,Kn.features[mr],lr,mr);else Co(ur,Kn.type==="Feature"?Kn:{geometry:Kn},lr);return ur}(Mn,wn);this.tiles={},this.tileCoords=[],Tn&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",wn.indexMaxZoom,wn.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),zn=function(Kn,lr){var ur=lr.buffer/lr.extent,mr=Kn,hr=hs(Kn,1,-1-ur,ur,0,-1,2,lr),br=hs(Kn,1,1-ur,2+ur,0,-1,2,lr);return(hr||br)&&(mr=hs(Kn,1,-ur,1+ur,0,-1,2,lr)||[],hr&&(mr=cr(hr,1).concat(mr)),br&&(mr=mr.concat(cr(br,-1)))),mr}(zn,wn),zn.length&&this.splitTile(zn,0,0,0),Tn&&(zn.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function nr(Mn,wn,Tn){return 32*((1<<Mn)*Tn+wn)+Mn}function Zn(Mn,wn){const Tn=Mn.tileID.canonical;if(!this._geoJSONIndex)return wn(null,null);const zn=this._geoJSONIndex.getTile(Tn.z,Tn.x,Tn.y);if(!zn)return wn(null,null);const Kn=new Qt(zn.features);let lr=Dt.exports(Kn);lr.byteOffset===0&&lr.byteLength===lr.buffer.byteLength||(lr=new Uint8Array(lr)),wn(null,{vectorTile:Kn,rawData:lr.buffer})}ar.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ar.prototype.splitTile=function(Mn,wn,Tn,zn,Kn,lr,ur){for(var mr=[Mn,wn,Tn,zn],hr=this.options,br=hr.debug;mr.length;){zn=mr.pop(),Tn=mr.pop(),wn=mr.pop(),Mn=mr.pop();var Nr=1<<wn,Kr=nr(wn,Tn,zn),zr=this.tiles[Kr];if(!zr&&(br>1&&console.time("creation"),zr=this.tiles[Kr]=En(Mn,wn,Tn,zn,hr),this.tileCoords.push({z:wn,x:Tn,y:zn}),br)){br>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",wn,Tn,zn,zr.numFeatures,zr.numPoints,zr.numSimplified),console.timeEnd("creation"));var So="z"+wn;this.stats[So]=(this.stats[So]||0)+1,this.total++}if(zr.source=Mn,Kn){if(wn===hr.maxZoom||wn===Kn)continue;var Bo=1<<Kn-wn;if(Tn!==Math.floor(lr/Bo)||zn!==Math.floor(ur/Bo))continue}else if(wn===hr.indexMaxZoom||zr.numPoints<=hr.indexMaxPoints)continue;if(zr.source=null,Mn.length!==0){br>1&&console.time("clipping");var Ao,No,Xo,fs,Uo,ws,bs=.5*hr.buffer/hr.extent,Ru=.5-bs,hu=.5+bs,Ir=1+bs;Ao=No=Xo=fs=null,Uo=hs(Mn,Nr,Tn-bs,Tn+hu,0,zr.minX,zr.maxX,hr),ws=hs(Mn,Nr,Tn+Ru,Tn+Ir,0,zr.minX,zr.maxX,hr),Mn=null,Uo&&(Ao=hs(Uo,Nr,zn-bs,zn+hu,1,zr.minY,zr.maxY,hr),No=hs(Uo,Nr,zn+Ru,zn+Ir,1,zr.minY,zr.maxY,hr),Uo=null),ws&&(Xo=hs(ws,Nr,zn-bs,zn+hu,1,zr.minY,zr.maxY,hr),fs=hs(ws,Nr,zn+Ru,zn+Ir,1,zr.minY,zr.maxY,hr),ws=null),br>1&&console.timeEnd("clipping"),mr.push(Ao||[],wn+1,2*Tn,2*zn),mr.push(No||[],wn+1,2*Tn,2*zn+1),mr.push(Xo||[],wn+1,2*Tn+1,2*zn),mr.push(fs||[],wn+1,2*Tn+1,2*zn+1)}}},ar.prototype.getTile=function(Mn,wn,Tn){var zn=this.options,Kn=zn.extent,lr=zn.debug;if(Mn<0||Mn>24)return null;var ur=1<<Mn,mr=nr(Mn,wn=(wn%ur+ur)%ur,Tn);if(this.tiles[mr])return en(this.tiles[mr],Kn);lr>1&&console.log("drilling down to z%d-%d-%d",Mn,wn,Tn);for(var hr,br=Mn,Nr=wn,Kr=Tn;!hr&&br>0;)br--,Nr=Math.floor(Nr/2),Kr=Math.floor(Kr/2),hr=this.tiles[nr(br,Nr,Kr)];return hr&&hr.source?(lr>1&&console.log("found parent tile z%d-%d-%d",br,Nr,Kr),lr>1&&console.time("drilling down"),this.splitTile(hr.source,br,Nr,Kr,Mn,wn,Tn),lr>1&&console.timeEnd("drilling down"),this.tiles[mr]?en(this.tiles[mr],Kn):null):null};class On extends j.VectorTileWorkerSource{constructor(wn,Tn,zn,Kn,lr){super(wn,Tn,zn,Kn,Zn),lr&&(this.loadGeoJSON=lr)}loadData(wn,Tn){const zn=wn&&wn.request,Kn=zn&&zn.collectResourceTiming;this.loadGeoJSON(wn,(lr,ur)=>{if(lr||!ur)return Tn(lr);if(typeof ur!="object")return Tn(new Error(`Input data given to '${wn.source}' is not a valid GeoJSON object.`));{ft(ur,!0);try{if(wn.filter){const hr=j.createExpression(wn.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(Nr=>`${Nr.key}: ${Nr.message}`).join(", "));ur={type:"FeatureCollection",features:ur.features.filter(Nr=>hr.value.evaluate({zoom:0},Nr))}}this._geoJSONIndex=wn.cluster?new Mt(function({superclusterOptions:hr,clusterProperties:br}){if(!br||!hr)return hr;const Nr={},Kr={},zr={accumulated:null,zoom:0},So={properties:null},Bo=Object.keys(br);for(const Ao of Bo){const[No,Xo]=br[Ao],fs=j.createExpression(Xo),Uo=j.createExpression(typeof No=="string"?[No,["accumulated"],["get",Ao]]:No);Nr[Ao]=fs.value,Kr[Ao]=Uo.value}return hr.map=Ao=>{So.properties=Ao;const No={};for(const Xo of Bo)No[Xo]=Nr[Xo].evaluate(zr,So);return No},hr.reduce=(Ao,No)=>{So.properties=No;for(const Xo of Bo)zr.accumulated=Ao[Xo],Ao[Xo]=Kr[Xo].evaluate(zr,So)},hr}(wn)).load(ur.features):function(hr,br){return new ar(hr,br)}(ur,wn.geojsonVtOptions)}catch(hr){return Tn(hr)}this.loaded={};const mr={};if(Kn){const hr=j.getPerformanceMeasurement(zn);hr&&(mr.resourceTiming={},mr.resourceTiming[wn.source]=JSON.parse(JSON.stringify(hr)))}Tn(null,mr)}})}reloadTile(wn,Tn){const zn=this.loaded;return zn&&zn[wn.uid]?super.reloadTile(wn,Tn):this.loadTile(wn,Tn)}loadGeoJSON(wn,Tn){if(wn.request)j.getJSON(wn.request,Tn);else{if(typeof wn.data!="string")return Tn(new Error(`Input data given to '${wn.source}' is not a valid GeoJSON object.`));try{return Tn(null,JSON.parse(wn.data))}catch{return Tn(new Error(`Input data given to '${wn.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(wn,Tn){try{Tn(null,this._geoJSONIndex.getClusterExpansionZoom(wn.clusterId))}catch(zn){Tn(zn)}}getClusterChildren(wn,Tn){try{Tn(null,this._geoJSONIndex.getChildren(wn.clusterId))}catch(zn){Tn(zn)}}getClusterLeaves(wn,Tn){try{Tn(null,this._geoJSONIndex.getLeaves(wn.clusterId,wn.limit,wn.offset))}catch(zn){Tn(zn)}}}class io{constructor(wn){this.self=wn,this.actor=new j.Actor(wn,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=j.getProjection({name:"mercator"}),this.workerSourceTypes={vector:j.VectorTileWorkerSource,geojson:On},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Tn,zn)=>{if(this.workerSourceTypes[Tn])throw new Error(`Worker source with name "${Tn}" already registered.`);this.workerSourceTypes[Tn]=zn},this.self.registerRTLTextPlugin=Tn=>{if(j.plugin.isParsed())throw new Error("RTL text plugin already registered.");j.plugin.applyArabicShaping=Tn.applyArabicShaping,j.plugin.processBidirectionalText=Tn.processBidirectionalText,j.plugin.processStyledBidirectionalText=Tn.processStyledBidirectionalText}}clearCaches(wn,Tn,zn){delete this.layerIndexes[wn],delete this.availableImages[wn],delete this.workerSources[wn],delete this.demWorkerSources[wn],zn()}checkIfReady(wn,Tn,zn){zn()}setReferrer(wn,Tn){this.referrer=Tn}spriteLoaded(wn,Tn){this.isSpriteLoaded[wn]=Tn;for(const zn in this.workerSources[wn]){const Kn=this.workerSources[wn][zn];for(const lr in Kn)Kn[lr]instanceof j.VectorTileWorkerSource&&(Kn[lr].isSpriteLoaded=Tn,Kn[lr].fire(new j.Event("isSpriteLoaded")))}}setImages(wn,Tn,zn){this.availableImages[wn]=Tn;for(const Kn in this.workerSources[wn]){const lr=this.workerSources[wn][Kn];for(const ur in lr)lr[ur].availableImages=Tn}zn()}enableTerrain(wn,Tn,zn){this.terrain=Tn,zn()}setProjection(wn,Tn){this.projections[wn]=j.getProjection(Tn)}setLayers(wn,Tn,zn){this.getLayerIndex(wn).replace(Tn),zn()}updateLayers(wn,Tn,zn){this.getLayerIndex(wn).update(Tn.layers,Tn.removedIds),zn()}loadTile(wn,Tn,zn){const Kn=this.enableTerrain?j.extend({enableTerrain:this.terrain},Tn):Tn;Kn.projection=this.projections[wn]||this.defaultProjection,this.getWorkerSource(wn,Tn.type,Tn.source).loadTile(Kn,zn)}loadDEMTile(wn,Tn,zn){const Kn=this.enableTerrain?j.extend({buildQuadTree:this.terrain},Tn):Tn;this.getDEMWorkerSource(wn,Tn.source).loadTile(Kn,zn)}reloadTile(wn,Tn,zn){const Kn=this.enableTerrain?j.extend({enableTerrain:this.terrain},Tn):Tn;Kn.projection=this.projections[wn]||this.defaultProjection,this.getWorkerSource(wn,Tn.type,Tn.source).reloadTile(Kn,zn)}abortTile(wn,Tn,zn){this.getWorkerSource(wn,Tn.type,Tn.source).abortTile(Tn,zn)}removeTile(wn,Tn,zn){this.getWorkerSource(wn,Tn.type,Tn.source).removeTile(Tn,zn)}removeSource(wn,Tn,zn){if(!this.workerSources[wn]||!this.workerSources[wn][Tn.type]||!this.workerSources[wn][Tn.type][Tn.source])return;const Kn=this.workerSources[wn][Tn.type][Tn.source];delete this.workerSources[wn][Tn.type][Tn.source],Kn.removeSource!==void 0?Kn.removeSource(Tn,zn):zn()}loadWorkerSource(wn,Tn,zn){try{this.self.importScripts(Tn.url),zn()}catch(Kn){zn(Kn.toString())}}syncRTLPluginState(wn,Tn,zn){try{j.plugin.setState(Tn);const Kn=j.plugin.getPluginURL();if(j.plugin.isLoaded()&&!j.plugin.isParsed()&&Kn!=null){this.self.importScripts(Kn);const lr=j.plugin.isParsed();zn(lr?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Kn}`),lr)}}catch(Kn){zn(Kn.toString())}}getAvailableImages(wn){let Tn=this.availableImages[wn];return Tn||(Tn=[]),Tn}getLayerIndex(wn){let Tn=this.layerIndexes[wn];return Tn||(Tn=this.layerIndexes[wn]=new ht),Tn}getWorkerSource(wn,Tn,zn){if(this.workerSources[wn]||(this.workerSources[wn]={}),this.workerSources[wn][Tn]||(this.workerSources[wn][Tn]={}),!this.workerSources[wn][Tn][zn]){const Kn={send:(lr,ur,mr,hr,br,Nr)=>{this.actor.send(lr,ur,mr,wn,br,Nr)},scheduler:this.actor.scheduler};this.workerSources[wn][Tn][zn]=new this.workerSourceTypes[Tn](Kn,this.getLayerIndex(wn),this.getAvailableImages(wn),this.isSpriteLoaded[wn])}return this.workerSources[wn][Tn][zn]}getDEMWorkerSource(wn,Tn){return this.demWorkerSources[wn]||(this.demWorkerSources[wn]={}),this.demWorkerSources[wn][Tn]||(this.demWorkerSources[wn][Tn]=new _t),this.demWorkerSources[wn][Tn]}enforceCacheSizeLimit(wn,Tn){j.enforceCacheSizeLimit(Tn)}getWorkerPerformanceMetrics(wn,Tn,zn){zn(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new io(self)),io}),_e(["./shared"],function(j){function nt(gt,ot){if(Array.isArray(gt)){if(!Array.isArray(ot)||gt.length!==ot.length)return!1;for(let lt=0;lt<gt.length;lt++)if(!nt(gt[lt],ot[lt]))return!1;return!0}if(typeof gt=="object"&&gt!==null&&ot!==null){if(typeof ot!="object"||Object.keys(gt).length!==Object.keys(ot).length)return!1;for(const lt in gt)if(!nt(gt[lt],ot[lt]))return!1;return!0}return gt===ot}var st=ht;function ht(gt){return!function(ot){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ut,kt,Ot=new Blob([""],{type:"text/javascript"}),qt=URL.createObjectURL(Ot);try{kt=new Worker(qt),Ut=!0}catch{Ut=!1}return kt&&kt.terminate(),URL.revokeObjectURL(qt),Ut}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var Ut=document.createElement("canvas");Ut.width=Ut.height=1;var kt=Ut.getContext("2d");if(!kt)return!1;var Ot=kt.getImageData(0,0,1,1);return Ot&&Ot.width===Ut.width}()?(_t[lt=ot&&ot.failIfMajorPerformanceCaveat]===void 0&&(_t[lt]=function(Ut){var kt,Ot=function(qt){var an=document.createElement("canvas"),cn=Object.create(ht.webGLContextAttributes);return cn.failIfMajorPerformanceCaveat=qt,an.getContext("webgl",cn)||an.getContext("experimental-webgl",cn)}(Ut);if(!Ot)return!1;try{kt=Ot.createShader(Ot.VERTEX_SHADER)}catch{return!1}return!(!kt||Ot.isContextLost())&&(Ot.shaderSource(kt,"void main() {}"),Ot.compileShader(kt),Ot.getShaderParameter(kt,Ot.COMPILE_STATUS)===!0)}(lt)),_t[lt]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var lt}(gt)}var _t={};function ft(gt,ot,lt){const Ut=j.window.document.createElement(gt);return ot!==void 0&&(Ut.className=ot),lt&&lt.appendChild(Ut),Ut}function dt(gt,ot,lt){const Ut=j.window.document.createElementNS("http://www.w3.org/2000/svg",gt);for(const kt of Object.keys(ot))Ut.setAttributeNS(null,kt,ot[kt]);return lt&&lt.appendChild(Ut),Ut}ht.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ut=j.window.document&&j.window.document.documentElement.style,mt=ut&&ut.userSelect!==void 0?"userSelect":"WebkitUserSelect";let wt;function Qt(){ut&&mt&&(wt=ut[mt],ut[mt]="none")}function Dt(){ut&&mt&&(ut[mt]=wt)}function Et(gt){gt.preventDefault(),gt.stopPropagation(),j.window.removeEventListener("click",Et,!0)}function xt(){j.window.addEventListener("click",Et,!0),j.window.setTimeout(()=>{j.window.removeEventListener("click",Et,!0)},0)}function pt(gt,ot){const lt=gt.getBoundingClientRect();return on(gt,lt,ot)}function Vt(gt,ot){const lt=gt.getBoundingClientRect(),Ut=[];for(let kt=0;kt<ot.length;kt++)Ut.push(on(gt,lt,ot[kt]));return Ut}function nn(gt){return j.window.InstallTrigger!==void 0&&gt.button===2&&gt.ctrlKey&&j.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:gt.button}function on(gt,ot,lt){const Ut=gt.offsetWidth===ot.width?1:gt.offsetWidth/ot.width;return new j.pointGeometry((lt.clientX-ot.left)*Ut,(lt.clientY-ot.top)*Ut)}function bt(gt,ot){var lt=ot[0],Ut=ot[1],kt=ot[2],Ot=ot[3],qt=lt*Ot-kt*Ut;return qt?(gt[0]=Ot*(qt=1/qt),gt[1]=-Ut*qt,gt[2]=-kt*qt,gt[3]=lt*qt,gt):null}function St(gt){const{userImage:ot}=gt;return!!(ot&&ot.render&&ot.render())&&(gt.data.replace(new Uint8Array(ot.data.buffer)),!0)}class It extends j.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new j.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(ot){if(this.loaded!==ot&&(this.loaded=ot,ot)){for(const{ids:lt,callback:Ut}of this.requestors)this._notify(lt,Ut);this.requestors=[]}}hasImage(ot){return!!this.getImage(ot)}getImage(ot){return this.images[ot]}addImage(ot,lt){this._validate(ot,lt)&&(this.images[ot]=lt)}_validate(ot,lt){let Ut=!0;return this._validateStretch(lt.stretchX,lt.data&&lt.data.width)||(this.fire(new j.ErrorEvent(new Error(`Image "${ot}" has invalid "stretchX" value`))),Ut=!1),this._validateStretch(lt.stretchY,lt.data&&lt.data.height)||(this.fire(new j.ErrorEvent(new Error(`Image "${ot}" has invalid "stretchY" value`))),Ut=!1),this._validateContent(lt.content,lt)||(this.fire(new j.ErrorEvent(new Error(`Image "${ot}" has invalid "content" value`))),Ut=!1),Ut}_validateStretch(ot,lt){if(!ot)return!0;let Ut=0;for(const kt of ot){if(kt[0]<Ut||kt[1]<kt[0]||lt<kt[1])return!1;Ut=kt[1]}return!0}_validateContent(ot,lt){return!(ot&&(ot.length!==4||ot[0]<0||lt.data.width<ot[0]||ot[1]<0||lt.data.height<ot[1]||ot[2]<0||lt.data.width<ot[2]||ot[3]<0||lt.data.height<ot[3]||ot[2]<ot[0]||ot[3]<ot[1]))}updateImage(ot,lt){lt.version=this.images[ot].version+1,this.images[ot]=lt,this.updatedImages[ot]=!0}removeImage(ot){const lt=this.images[ot];delete this.images[ot],delete this.patterns[ot],lt.userImage&&lt.userImage.onRemove&&lt.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(ot,lt){let Ut=!0;if(!this.isLoaded())for(const kt of ot)this.images[kt]||(Ut=!1);this.isLoaded()||Ut?this._notify(ot,lt):this.requestors.push({ids:ot,callback:lt})}_notify(ot,lt){const Ut={};for(const kt of ot){this.images[kt]||this.fire(new j.Event("styleimagemissing",{id:kt}));const Ot=this.images[kt];Ot?Ut[kt]={data:Ot.data.clone(),pixelRatio:Ot.pixelRatio,sdf:Ot.sdf,version:Ot.version,stretchX:Ot.stretchX,stretchY:Ot.stretchY,content:Ot.content,hasRenderCallback:Boolean(Ot.userImage&&Ot.userImage.render)}:j.warnOnce(`Image "${kt}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}lt(null,Ut)}getPixelSize(){const{width:ot,height:lt}=this.atlasImage;return{width:ot,height:lt}}getPattern(ot){const lt=this.patterns[ot],Ut=this.getImage(ot);if(!Ut)return null;if(lt&&lt.position.version===Ut.version)return lt.position;if(lt)lt.position.version=Ut.version;else{const kt={w:Ut.data.width+2,h:Ut.data.height+2,x:0,y:0},Ot=new j.ImagePosition(kt,Ut);this.patterns[ot]={bin:kt,position:Ot}}return this._updatePatternAtlas(),this.patterns[ot].position}bind(ot){const lt=ot.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new j.Texture(ot,this.atlasImage,lt.RGBA),this.atlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE)}_updatePatternAtlas(){const ot=[];for(const Ot in this.patterns)ot.push(this.patterns[Ot].bin);const{w:lt,h:Ut}=j.potpack(ot),kt=this.atlasImage;kt.resize({width:lt||1,height:Ut||1});for(const Ot in this.patterns){const{bin:qt}=this.patterns[Ot],an=qt.x+1,cn=qt.y+1,_n=this.images[Ot].data,Fn=_n.width,Qn=_n.height;j.RGBAImage.copy(_n,kt,{x:0,y:0},{x:an,y:cn},{width:Fn,height:Qn}),j.RGBAImage.copy(_n,kt,{x:0,y:Qn-1},{x:an,y:cn-1},{width:Fn,height:1}),j.RGBAImage.copy(_n,kt,{x:0,y:0},{x:an,y:cn+Qn},{width:Fn,height:1}),j.RGBAImage.copy(_n,kt,{x:Fn-1,y:0},{x:an-1,y:cn},{width:1,height:Qn}),j.RGBAImage.copy(_n,kt,{x:0,y:0},{x:an+Fn,y:cn},{width:1,height:Qn})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(ot){for(const lt of ot){if(this.callbackDispatchedThisFrame[lt])continue;this.callbackDispatchedThisFrame[lt]=!0;const Ut=this.images[lt];St(Ut)&&this.updateImage(lt,Ut)}}}const Bt=new j.Properties({anchor:new j.DataConstantProperty(j.spec.light.anchor),position:new class{constructor(){this.specification=j.spec.light.position}possiblyEvaluate(gt,ot){return function([lt,Ut,kt]){const Ot=j.degToRad(Ut+90),qt=j.degToRad(kt);return{x:lt*Math.cos(Ot)*Math.sin(qt),y:lt*Math.sin(Ot)*Math.sin(qt),z:lt*Math.cos(qt),azimuthal:Ut,polar:kt}}(gt.expression.evaluate(ot))}interpolate(gt,ot,lt){return{x:j.number(gt.x,ot.x,lt),y:j.number(gt.y,ot.y,lt),z:j.number(gt.z,ot.z,lt),azimuthal:j.number(gt.azimuthal,ot.azimuthal,lt),polar:j.number(gt.polar,ot.polar,lt)}}},color:new j.DataConstantProperty(j.spec.light.color),intensity:new j.DataConstantProperty(j.spec.light.intensity)}),Lt="-transition";class Xt extends j.Evented{constructor(ot){super(),this._transitionable=new j.Transitionable(Bt),this.setLight(ot),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(ot,lt={}){if(!this._validate(j.validateLight,ot,lt))for(const Ut in ot){const kt=ot[Ut];j.endsWith(Ut,Lt)?this._transitionable.setTransition(Ut.slice(0,-Lt.length),kt):this._transitionable.setValue(Ut,kt)}}updateTransitions(ot){this._transitioning=this._transitionable.transitioned(ot,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ot){this.properties=this._transitioning.possiblyEvaluate(ot)}_validate(ot,lt,Ut){return(!Ut||Ut.validate!==!1)&&j.emitValidationErrors(this,ot.call(j.validateStyle,j.extend({value:lt,style:{glyphs:!0,sprite:!0},styleSpec:j.spec})))}}const zt=new j.Properties({source:new j.DataConstantProperty(j.spec.terrain.source),exaggeration:new j.DataConstantProperty(j.spec.terrain.exaggeration)}),Pt="-transition";class jt extends j.Evented{constructor(ot,lt){super(),this._transitionable=new j.Transitionable(zt),this.set(ot),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=lt}get(){return this._transitionable.serialize()}set(ot){for(const lt in ot){const Ut=ot[lt];j.endsWith(lt,Pt)?this._transitionable.setTransition(lt.slice(0,-Pt.length),Ut):this._transitionable.setValue(lt,Ut)}}updateTransitions(ot){this._transitioning=this._transitionable.transitioned(ot,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ot){this.properties=this._transitioning.possiblyEvaluate(ot)}}function Zt(gt,ot,lt,Ut){const kt=j.smoothstep(45,65,lt),[Ot,qt]=Ct(gt,Ut),an=j.length(ot);let cn=1-Math.min(1,Math.exp((an-Ot)/(qt-Ot)*-6));return cn*=cn*cn,cn=Math.min(1,1.00747*cn),cn*kt*gt.alpha}function Ct(gt,ot){const lt=.5/Math.tan(.5*ot);return[gt.range[0]+lt,gt.range[1]+lt]}const Ft=new j.Properties({range:new j.DataConstantProperty(j.spec.fog.range),color:new j.DataConstantProperty(j.spec.fog.color),"high-color":new j.DataConstantProperty(j.spec.fog["high-color"]),"space-color":new j.DataConstantProperty(j.spec.fog["space-color"]),"horizon-blend":new j.DataConstantProperty(j.spec.fog["horizon-blend"]),"star-intensity":new j.DataConstantProperty(j.spec.fog["star-intensity"])}),Ht="-transition";class tn extends j.Evented{constructor(ot,lt){super(),this._transitionable=new j.Transitionable(Ft),this.set(ot),this._transitioning=this._transitionable.untransitioned(),this._transform=lt}get state(){const ot=this._transform,lt=ot.projection.name==="globe",Ut=j.globeToMercatorTransition(ot.zoom),kt=this.properties.get("range"),Ot=[.5,3];return{range:lt?[j.number(Ot[0],kt[0],Ut),j.number(Ot[1],kt[1],Ut)]:kt,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(ot,lt={}){if(!this._validate(j.validateFog,ot,lt)){for(const Ut of Object.keys(j.spec.fog))ot&&ot[Ut]===void 0&&(ot[Ut]=j.spec.fog[Ut].default);for(const Ut in ot){const kt=ot[Ut];j.endsWith(Ut,Ht)?this._transitionable.setTransition(Ut.slice(0,-Ht.length),kt):this._transitionable.setValue(Ut,kt)}}}getOpacity(ot){if(!this._transform.projection.supportsFog)return 0;const lt=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:j.smoothstep(45,65,ot))*lt.a}getOpacityAtLatLng(ot,lt){return this._transform.projection.supportsFog?function(Ut,kt,Ot){const qt=j.MercatorCoordinate.fromLngLat(kt),an=Ot.elevation?Ot.elevation.getAtPointOrZero(qt):0,cn=[qt.x,qt.y,an];return j.transformMat4(cn,cn,Ot.mercatorFogMatrix),Zt(Ut,cn,Ot.pitch,Ot._fov)}(this.state,ot,lt):0}getFovAdjustedRange(ot){return this._transform.projection.supportsFog?Ct(this.state,ot):[0,1]}updateTransitions(ot){this._transitioning=this._transitionable.transitioned(ot,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ot){this.properties=this._transitioning.possiblyEvaluate(ot)}_validate(ot,lt,Ut){return(!Ut||Ut.validate!==!1)&&j.emitValidationErrors(this,ot.call(j.validateStyle,j.extend({value:lt,style:{glyphs:!0,sprite:!0},styleSpec:j.spec})))}}class mn{constructor(ot,lt){this.workerPool=ot,this.actors=[],this.currentActor=0,this.id=j.uniqueId();const Ut=this.workerPool.acquire(this.id);for(let kt=0;kt<Ut.length;kt++){const Ot=new mn.Actor(Ut[kt],lt,this.id);Ot.name=`Worker ${kt}`,this.actors.push(Ot)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(ot,lt,Ut){j.asyncAll(this.actors,(kt,Ot)=>{kt.send(ot,lt,Ot)},Ut=Ut||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(ot=>{ot.remove()}),this.actors=[],this.workerPool.release(this.id)}}function yn(gt,ot,lt){return ot*(j.EXTENT/(gt.tileSize*Math.pow(2,lt-gt.tileID.overscaledZ)))}mn.Actor=j.Actor;class vn{constructor(ot,lt,Ut,kt){this.screenBounds=ot,this.cameraPoint=lt,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=Ut,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,kt)}static createFromScreenPoints(ot,lt){let Ut,kt;if(ot instanceof j.pointGeometry||typeof ot[0]=="number"){const Ot=j.pointGeometry.convert(ot);Ut=[Ot],kt=lt.isPointAboveHorizon(Ot)}else{const Ot=j.pointGeometry.convert(ot[0]),qt=j.pointGeometry.convert(ot[1]);Ut=[Ot,qt],kt=j.polygonizeBounds(Ot,qt).every(an=>lt.isPointAboveHorizon(an))}return new vn(Ut,lt.getCameraPoint(),kt,lt)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(ot){return j.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],ot)}bufferedCameraGeometry(ot){const lt=this.screenBounds[0],Ut=this.screenBounds.length===1?this.screenBounds[0].add(new j.pointGeometry(1,1)):this.screenBounds[1],kt=j.polygonizeBounds(lt,Ut,0,!1);return this.cameraPoint.y>Ut.y&&(this.cameraPoint.x>lt.x&&this.cameraPoint.x<Ut.x?kt.splice(3,0,this.cameraPoint):this.cameraPoint.x>=Ut.x?kt[2]=this.cameraPoint:this.cameraPoint.x<=lt.x&&(kt[3]=this.cameraPoint)),j.bufferConvexPolygon(kt,ot)}bufferedCameraGeometryGlobe(ot){const lt=this.screenBounds[0],Ut=this.screenBounds.length===1?this.screenBounds[0].add(new j.pointGeometry(1,1)):this.screenBounds[1],kt=j.polygonizeBounds(lt,Ut,ot),Ot=this.cameraPoint.clone();switch(3*((Ot.y>lt.y)+(Ot.y>Ut.y))+((Ot.x>lt.x)+(Ot.x>Ut.x))){case 0:kt[0]=Ot,kt[4]=Ot.clone();break;case 1:kt.splice(1,0,Ot);break;case 2:kt[1]=Ot;break;case 3:kt.splice(4,0,Ot);break;case 5:kt.splice(2,0,Ot);break;case 6:kt[3]=Ot;break;case 7:kt.splice(3,0,Ot);break;case 8:kt[2]=Ot}return kt}containsTile(ot,lt,Ut,kt=0){const Ot=ot.queryPadding/lt._pixelsPerMercatorPixel+1,qt=Ut?this._bufferedCameraMercator(Ot,lt):this._bufferedScreenMercator(Ot,lt);let an=ot.tileID.wrap+(qt.unwrapped?kt:0);const cn=qt.polygon.map(Pn=>j.getTilePoint(ot.tileTransform,Pn,an));if(!j.polygonIntersectsBox(cn,0,0,j.EXTENT,j.EXTENT))return;an=ot.tileID.wrap+(this.screenGeometryMercator.unwrapped?kt:0);const _n=this.screenGeometryMercator.polygon.map(Pn=>j.getTileVec3(ot.tileTransform,Pn,an)),Fn=_n.map(Pn=>new j.pointGeometry(Pn[0],Pn[1])),Qn=lt.getFreeCameraOptions().position||new j.MercatorCoordinate(0,0,0),Nn=j.getTileVec3(ot.tileTransform,Qn,an),Yn=_n.map(Pn=>{const In=j.sub(Pn,Pn,Nn);return j.normalize(In,In),new j.Ray(Nn,In)}),jn=yn(ot,1,lt.zoom)*lt._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Fn,tilespaceRays:Yn,bufferedTilespaceGeometry:cn,bufferedTilespaceBounds:(Xn=j.getBounds(cn),Xn.min.x=j.clamp(Xn.min.x,0,j.EXTENT),Xn.min.y=j.clamp(Xn.min.y,0,j.EXTENT),Xn.max.x=j.clamp(Xn.max.x,0,j.EXTENT),Xn.max.y=j.clamp(Xn.max.y,0,j.EXTENT),Xn),tile:ot,tileID:ot.tileID,pixelToTileUnitsFactor:jn};var Xn}_bufferedScreenMercator(ot,lt){const Ut=At(ot);if(this._screenRaycastCache[Ut])return this._screenRaycastCache[Ut];{let kt;return kt=lt.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(ot),lt):{polygon:this.bufferedScreenGeometry(ot).map(Ot=>lt.pointCoordinate3D(Ot)),unwrapped:!0},this._screenRaycastCache[Ut]=kt,kt}}_bufferedCameraMercator(ot,lt){const Ut=At(ot);if(this._cameraRaycastCache[Ut])return this._cameraRaycastCache[Ut];{let kt;return kt=lt.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(ot),lt):{polygon:this.bufferedCameraGeometry(ot).map(Ot=>lt.pointCoordinate3D(Ot)),unwrapped:!0},this._cameraRaycastCache[Ut]=kt,kt}}_projectAndResample(ot,lt){const Ut=function(Ot,qt){const an=j.multiply([],qt.pixelMatrix,qt.globeMatrix),cn=[0,-j.GLOBE_RADIUS,0,1],_n=[0,j.GLOBE_RADIUS,0,1],Fn=[0,0,0,1];j.transformMat4$1(cn,cn,an),j.transformMat4$1(_n,_n,an),j.transformMat4$1(Fn,Fn,an);const Qn=new j.pointGeometry(cn[0]/cn[3],cn[1]/cn[3]),Nn=new j.pointGeometry(_n[0]/_n[3],_n[1]/_n[3]),Yn=j.polygonContainsPoint(Ot,Qn)&&cn[3]<Fn[3],jn=j.polygonContainsPoint(Ot,Nn)&&_n[3]<Fn[3];if(!Yn&&!jn)return null;const Xn=function(vr,wr,Mr){for(let kr=1;kr<vr.length;kr++){const oo=rn(wr.pointCoordinate3D(vr[kr-1]).x),Rr=rn(wr.pointCoordinate3D(vr[kr]).x);if(Mr<0){if(oo<Rr)return{idx:kr,t:-oo/(Rr-1-oo)}}else if(Rr<oo)return{idx:kr,t:(1-oo)/(Rr+1-oo)}}return null}(Ot,qt,Yn?-1:1);if(!Xn)return null;const{idx:Pn,t:In}=Xn;let er=Pn>1?un(Ot.slice(0,Pn),qt):[],Hn=Pn<Ot.length?un(Ot.slice(Pn),qt):[];er=er.map(vr=>new j.pointGeometry(rn(vr.x),vr.y)),Hn=Hn.map(vr=>new j.pointGeometry(rn(vr.x),vr.y));const dr=[...er];dr.length===0&&dr.push(Hn[Hn.length-1]);const gr=j.number(dr[dr.length-1].y,(Hn.length===0?er[0]:Hn[0]).y,In);let tr;return tr=Yn?[new j.pointGeometry(0,gr),new j.pointGeometry(0,0),new j.pointGeometry(1,0),new j.pointGeometry(1,gr)]:[new j.pointGeometry(1,gr),new j.pointGeometry(1,1),new j.pointGeometry(0,1),new j.pointGeometry(0,gr)],dr.push(...tr),Hn.length===0?dr.push(er[0]):dr.push(...Hn),{polygon:dr.map(vr=>new j.MercatorCoordinate(vr.x,vr.y)),unwrapped:!1}}(ot,lt);if(Ut)return Ut;const kt=function(Ot,qt){let an=!1,cn=-1/0,_n=0;for(let Qn=0;Qn<Ot.length-1;Qn++)Ot[Qn].x>cn&&(cn=Ot[Qn].x,_n=Qn);for(let Qn=0;Qn<Ot.length-1;Qn++){const Nn=(_n+Qn)%(Ot.length-1),Yn=Ot[Nn],jn=Ot[Nn+1];Math.abs(Yn.x-jn.x)>.5&&(Yn.x<jn.x?(Yn.x+=1,Nn===0&&(Ot[Ot.length-1].x+=1)):(jn.x+=1,Nn+1===Ot.length-1&&(Ot[0].x+=1)),an=!0)}const Fn=j.mercatorXfromLng(qt.center.lng);return an&&Fn<Math.abs(Fn-1)&&Ot.forEach(Qn=>{Qn.x-=1}),{polygon:Ot,unwrapped:an}}(un(ot,lt).map(Ot=>new j.pointGeometry(rn(Ot.x),Ot.y)),lt);return{polygon:kt.polygon.map(Ot=>new j.MercatorCoordinate(Ot.x,Ot.y)),unwrapped:kt.unwrapped}}}function un(gt,ot){return j.resample(gt,lt=>{const Ut=ot.pointCoordinate3D(lt);lt.x=Ut.x,lt.y=Ut.y},1/256)}function rn(gt){return gt<0?1+gt%1:gt%1}function At(gt){return 100*gt|0}function Mt(gt,ot,lt,Ut,kt){const Ot=function(qt,an){if(qt)return kt(qt);if(an){gt.url&&an.tiles&&gt.tiles&&delete gt.tiles;const cn=j.pick(j.extend(an,gt),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);an.vector_layers&&(cn.vectorLayers=an.vector_layers,cn.vectorLayerIds=cn.vectorLayers.map(_n=>_n.id)),cn.tiles=ot.canonicalizeTileset(cn,gt.url),kt(null,cn)}};return gt.url?j.getJSON(ot.transformRequest(ot.normalizeSourceURL(gt.url,null,lt,Ut),j.ResourceType.Source),Ot):j.exported.frame(()=>Ot(null,gt))}class $t{constructor(ot,lt,Ut){this.bounds=j.LngLatBounds.convert(this.validateBounds(ot)),this.minzoom=lt||0,this.maxzoom=Ut||24}validateBounds(ot){return Array.isArray(ot)&&ot.length===4?[Math.max(-180,ot[0]),Math.max(-90,ot[1]),Math.min(180,ot[2]),Math.min(90,ot[3])]:[-180,-90,180,90]}contains(ot){const lt=Math.pow(2,ot.z),Ut=Math.floor(j.mercatorXfromLng(this.bounds.getWest())*lt),kt=Math.floor(j.mercatorYfromLat(this.bounds.getNorth())*lt),Ot=Math.ceil(j.mercatorXfromLng(this.bounds.getEast())*lt),qt=Math.ceil(j.mercatorYfromLat(this.bounds.getSouth())*lt);return ot.x>=Ut&&ot.x<Ot&&ot.y>=kt&&ot.y<qt}}class pn{constructor(ot,lt,Ut){this.context=ot;const kt=ot.gl;this.buffer=kt.createBuffer(),this.dynamicDraw=Boolean(Ut),this.context.unbindVAO(),ot.bindElementBuffer.set(this.buffer),kt.bufferData(kt.ELEMENT_ARRAY_BUFFER,lt.arrayBuffer,this.dynamicDraw?kt.DYNAMIC_DRAW:kt.STATIC_DRAW),this.dynamicDraw||lt.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(ot){const lt=this.context.gl;this.context.unbindVAO(),this.bind(),lt.bufferSubData(lt.ELEMENT_ARRAY_BUFFER,0,ot.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const hn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Sn{constructor(ot,lt,Ut,kt){this.length=lt.length,this.attributes=Ut,this.itemSize=lt.bytesPerElement,this.dynamicDraw=kt,this.context=ot;const Ot=ot.gl;this.buffer=Ot.createBuffer(),ot.bindVertexBuffer.set(this.buffer),Ot.bufferData(Ot.ARRAY_BUFFER,lt.arrayBuffer,this.dynamicDraw?Ot.DYNAMIC_DRAW:Ot.STATIC_DRAW),this.dynamicDraw||lt.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(ot){const lt=this.context.gl;this.bind(),lt.bufferSubData(lt.ARRAY_BUFFER,0,ot.arrayBuffer)}enableAttributes(ot,lt){for(let Ut=0;Ut<this.attributes.length;Ut++){const kt=lt.attributes[this.attributes[Ut].name];kt!==void 0&&ot.enableVertexAttribArray(kt)}}setVertexAttribPointers(ot,lt,Ut){for(let kt=0;kt<this.attributes.length;kt++){const Ot=this.attributes[kt],qt=lt.attributes[Ot.name];qt!==void 0&&ot.vertexAttribPointer(qt,Ot.components,ot[hn[Ot.type]],!1,this.itemSize,Ot.offset+this.itemSize*(Ut||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class An{constructor(ot){this.gl=ot.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(ot){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Gn extends An{getDefault(){return j.Color.transparent}set(ot){const lt=this.current;(ot.r!==lt.r||ot.g!==lt.g||ot.b!==lt.b||ot.a!==lt.a||this.dirty)&&(this.gl.clearColor(ot.r,ot.g,ot.b,ot.a),this.current=ot,this.dirty=!1)}}class Qr extends An{getDefault(){return 1}set(ot){(ot!==this.current||this.dirty)&&(this.gl.clearDepth(ot),this.current=ot,this.dirty=!1)}}class _i extends An{getDefault(){return 0}set(ot){(ot!==this.current||this.dirty)&&(this.gl.clearStencil(ot),this.current=ot,this.dirty=!1)}}class Pr extends An{getDefault(){return[!0,!0,!0,!0]}set(ot){const lt=this.current;(ot[0]!==lt[0]||ot[1]!==lt[1]||ot[2]!==lt[2]||ot[3]!==lt[3]||this.dirty)&&(this.gl.colorMask(ot[0],ot[1],ot[2],ot[3]),this.current=ot,this.dirty=!1)}}class po extends An{getDefault(){return!0}set(ot){(ot!==this.current||this.dirty)&&(this.gl.depthMask(ot),this.current=ot,this.dirty=!1)}}class jr extends An{getDefault(){return 255}set(ot){(ot!==this.current||this.dirty)&&(this.gl.stencilMask(ot),this.current=ot,this.dirty=!1)}}class Yr extends An{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(ot){const lt=this.current;(ot.func!==lt.func||ot.ref!==lt.ref||ot.mask!==lt.mask||this.dirty)&&(this.gl.stencilFunc(ot.func,ot.ref,ot.mask),this.current=ot,this.dirty=!1)}}class no extends An{getDefault(){const ot=this.gl;return[ot.KEEP,ot.KEEP,ot.KEEP]}set(ot){const lt=this.current;(ot[0]!==lt[0]||ot[1]!==lt[1]||ot[2]!==lt[2]||this.dirty)&&(this.gl.stencilOp(ot[0],ot[1],ot[2]),this.current=ot,this.dirty=!1)}}class Qo extends An{getDefault(){return!1}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;ot?lt.enable(lt.STENCIL_TEST):lt.disable(lt.STENCIL_TEST),this.current=ot,this.dirty=!1}}class Co extends An{getDefault(){return[0,1]}set(ot){const lt=this.current;(ot[0]!==lt[0]||ot[1]!==lt[1]||this.dirty)&&(this.gl.depthRange(ot[0],ot[1]),this.current=ot,this.dirty=!1)}}class Jo extends An{getDefault(){return!1}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;ot?lt.enable(lt.DEPTH_TEST):lt.disable(lt.DEPTH_TEST),this.current=ot,this.dirty=!1}}class es extends An{getDefault(){return this.gl.LESS}set(ot){(ot!==this.current||this.dirty)&&(this.gl.depthFunc(ot),this.current=ot,this.dirty=!1)}}class xo extends An{getDefault(){return!1}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;ot?lt.enable(lt.BLEND):lt.disable(lt.BLEND),this.current=ot,this.dirty=!1}}class ls extends An{getDefault(){const ot=this.gl;return[ot.ONE,ot.ZERO]}set(ot){const lt=this.current;(ot[0]!==lt[0]||ot[1]!==lt[1]||this.dirty)&&(this.gl.blendFunc(ot[0],ot[1]),this.current=ot,this.dirty=!1)}}class Ds extends An{getDefault(){return j.Color.transparent}set(ot){const lt=this.current;(ot.r!==lt.r||ot.g!==lt.g||ot.b!==lt.b||ot.a!==lt.a||this.dirty)&&(this.gl.blendColor(ot.r,ot.g,ot.b,ot.a),this.current=ot,this.dirty=!1)}}class hs extends An{getDefault(){return this.gl.FUNC_ADD}set(ot){(ot!==this.current||this.dirty)&&(this.gl.blendEquation(ot),this.current=ot,this.dirty=!1)}}class Hl extends An{getDefault(){return!1}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;ot?lt.enable(lt.CULL_FACE):lt.disable(lt.CULL_FACE),this.current=ot,this.dirty=!1}}class Ll extends An{getDefault(){return this.gl.BACK}set(ot){(ot!==this.current||this.dirty)&&(this.gl.cullFace(ot),this.current=ot,this.dirty=!1)}}class Ls extends An{getDefault(){return this.gl.CCW}set(ot){(ot!==this.current||this.dirty)&&(this.gl.frontFace(ot),this.current=ot,this.dirty=!1)}}class Us extends An{getDefault(){return null}set(ot){(ot!==this.current||this.dirty)&&(this.gl.useProgram(ot),this.current=ot,this.dirty=!1)}}class cu extends An{getDefault(){return this.gl.TEXTURE0}set(ot){(ot!==this.current||this.dirty)&&(this.gl.activeTexture(ot),this.current=ot,this.dirty=!1)}}class Po extends An{getDefault(){const ot=this.gl;return[0,0,ot.drawingBufferWidth,ot.drawingBufferHeight]}set(ot){const lt=this.current;(ot[0]!==lt[0]||ot[1]!==lt[1]||ot[2]!==lt[2]||ot[3]!==lt[3]||this.dirty)&&(this.gl.viewport(ot[0],ot[1],ot[2],ot[3]),this.current=ot,this.dirty=!1)}}class nu extends An{getDefault(){return null}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.bindFramebuffer(lt.FRAMEBUFFER,ot),this.current=ot,this.dirty=!1}}class cr extends An{getDefault(){return null}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.bindRenderbuffer(lt.RENDERBUFFER,ot),this.current=ot,this.dirty=!1}}class Gt extends An{getDefault(){return null}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.bindTexture(lt.TEXTURE_2D,ot),this.current=ot,this.dirty=!1}}class en extends An{getDefault(){return null}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.bindBuffer(lt.ARRAY_BUFFER,ot),this.current=ot,this.dirty=!1}}class fn extends An{getDefault(){return null}set(ot){const lt=this.gl;lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,ot),this.current=ot,this.dirty=!1}}class En extends An{constructor(ot){super(ot),this.vao=ot.extVertexArrayObject}getDefault(){return null}set(ot){this.vao&&(ot!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(ot),this.current=ot,this.dirty=!1)}}class xn extends An{getDefault(){return 4}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.pixelStorei(lt.UNPACK_ALIGNMENT,ot),this.current=ot,this.dirty=!1}}class or extends An{getDefault(){return!1}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.pixelStorei(lt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ot),this.current=ot,this.dirty=!1}}class ar extends An{getDefault(){return!1}set(ot){if(ot===this.current&&!this.dirty)return;const lt=this.gl;lt.pixelStorei(lt.UNPACK_FLIP_Y_WEBGL,ot),this.current=ot,this.dirty=!1}}class nr extends An{constructor(ot,lt){super(ot),this.context=ot,this.parent=lt}getDefault(){return null}}class Zn extends nr{setDirty(){this.dirty=!0}set(ot){if(ot===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const lt=this.gl;lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,ot,0),this.current=ot,this.dirty=!1}}class On extends nr{attachment(){return this.gl.DEPTH_ATTACHMENT}set(ot){if(ot===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const lt=this.gl;lt.framebufferRenderbuffer(lt.FRAMEBUFFER,this.attachment(),lt.RENDERBUFFER,ot),this.current=ot,this.dirty=!1}}class io extends On{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Mn{constructor(ot,lt,Ut,kt){this.context=ot,this.width=lt,this.height=Ut;const Ot=this.framebuffer=ot.gl.createFramebuffer();this.colorAttachment=new Zn(ot,Ot),kt&&(this.depthAttachment=new On(ot,Ot))}destroy(){const ot=this.context.gl,lt=this.colorAttachment.get();if(lt&&ot.deleteTexture(lt),this.depthAttachment){const Ut=this.depthAttachment.get();Ut&&ot.deleteRenderbuffer(Ut)}ot.deleteFramebuffer(this.framebuffer)}}class wn{constructor(ot){this.gl=ot,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Gn(this),this.clearDepth=new Qr(this),this.clearStencil=new _i(this),this.colorMask=new Pr(this),this.depthMask=new po(this),this.stencilMask=new jr(this),this.stencilFunc=new Yr(this),this.stencilOp=new no(this),this.stencilTest=new Qo(this),this.depthRange=new Co(this),this.depthTest=new Jo(this),this.depthFunc=new es(this),this.blend=new xo(this),this.blendFunc=new ls(this),this.blendColor=new Ds(this),this.blendEquation=new hs(this),this.cullFace=new Hl(this),this.cullFaceSide=new Ll(this),this.frontFace=new Ls(this),this.program=new Us(this),this.activeTexture=new cu(this),this.viewport=new Po(this),this.bindFramebuffer=new nu(this),this.bindRenderbuffer=new cr(this),this.bindTexture=new Gt(this),this.bindVertexBuffer=new en(this),this.bindElementBuffer=new fn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new En(this),this.pixelStoreUnpack=new xn(this),this.pixelStoreUnpackPremultiplyAlpha=new or(this),this.pixelStoreUnpackFlipY=new ar(this),this.extTextureFilterAnisotropic=ot.getExtension("EXT_texture_filter_anisotropic")||ot.getExtension("MOZ_EXT_texture_filter_anisotropic")||ot.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=ot.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=ot.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=ot.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=ot.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=ot.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(ot.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=ot.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=ot.getExtension("OES_standard_derivatives"),this.extTimerQuery=ot.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=ot.getParameter(ot.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(ot,lt){return new pn(this,ot,lt)}createVertexBuffer(ot,lt,Ut){return new Sn(this,ot,lt,Ut)}createRenderbuffer(ot,lt,Ut){const kt=this.gl,Ot=kt.createRenderbuffer();return this.bindRenderbuffer.set(Ot),kt.renderbufferStorage(kt.RENDERBUFFER,ot,lt,Ut),this.bindRenderbuffer.set(null),Ot}createFramebuffer(ot,lt,Ut){return new Mn(this,ot,lt,Ut)}clear({color:ot,depth:lt,stencil:Ut}){const kt=this.gl;let Ot=0;ot&&(Ot|=kt.COLOR_BUFFER_BIT,this.clearColor.set(ot),this.colorMask.set([!0,!0,!0,!0])),lt!==void 0&&(Ot|=kt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(lt),this.depthMask.set(!0)),Ut!==void 0&&(Ot|=kt.STENCIL_BUFFER_BIT,this.clearStencil.set(Ut),this.stencilMask.set(255)),kt.clear(Ot)}setCullFace(ot){ot.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(ot.mode),this.frontFace.set(ot.frontFace))}setDepthMode(ot){ot.func!==this.gl.ALWAYS||ot.mask?(this.depthTest.set(!0),this.depthFunc.set(ot.func),this.depthMask.set(ot.mask),this.depthRange.set(ot.range)):this.depthTest.set(!1)}setStencilMode(ot){ot.test.func!==this.gl.ALWAYS||ot.mask?(this.stencilTest.set(!0),this.stencilMask.set(ot.mask),this.stencilOp.set([ot.fail,ot.depthFail,ot.pass]),this.stencilFunc.set({func:ot.test.func,ref:ot.ref,mask:ot.test.mask})):this.stencilTest.set(!1)}setColorMode(ot){nt(ot.blendFunction,j.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(ot.blendFunction),this.blendColor.set(ot.blendColor)),this.colorMask.set(ot.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Tn extends j.Evented{constructor(ot,lt,Ut,kt){super(),this.id=ot,this.dispatcher=Ut,this.setEventedParent(kt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=j.extend({type:"raster"},lt),j.extend(this,j.pick(lt,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Mt(this._options,this.map._requestManager,null,null,(ot,lt)=>{this._tileJSONRequest=null,this._loaded=!0,ot?this.fire(new j.ErrorEvent(ot)):lt&&(j.extend(this,lt),lt.bounds&&(this.tileBounds=new $t(lt.bounds,this.minzoom,this.maxzoom)),j.postTurnstileEvent(lt.tiles),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(ot){this.map=ot,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return j.extend({},this._options)}hasTile(ot){return!this.tileBounds||this.tileBounds.contains(ot.canonical)}loadTile(ot,lt){const Ut=j.exported.devicePixelRatio>=2,kt=this.map._requestManager.normalizeTileURL(ot.tileID.canonical.url(this.tiles,this.scheme),Ut,this.tileSize);ot.request=j.getImage(this.map._requestManager.transformRequest(kt,j.ResourceType.Tile),(Ot,qt,an,cn)=>(delete ot.request,ot.aborted?(ot.state="unloaded",lt(null)):Ot?(ot.state="errored",lt(Ot)):qt?(this.map._refreshExpiredTiles&&ot.setExpiryData({cacheControl:an,expires:cn}),ot.setTexture(qt,this.map.painter),ot.state="loaded",j.cacheEntryPossiblyAdded(this.dispatcher),void lt(null)):lt(null)))}static loadTileData(ot,lt,Ut){ot.setTexture(lt,Ut)}static unloadTileData(ot,lt){ot.texture&&lt.saveTileTexture(ot.texture)}abortTile(ot,lt){ot.request&&(ot.request.cancel(),delete ot.request),lt()}unloadTile(ot,lt){ot.texture&&this.map.painter.saveTileTexture(ot.texture),lt()}hasTransition(){return!1}}let zn;function Kn(gt,ot,lt,Ut,kt,Ot,qt,an){const cn=[gt,lt,kt,ot,Ut,Ot,1,1,1],_n=[qt,an,1],Fn=j.adjoint([],cn),[Qn,Nn,Yn]=j.transformMat3(_n,_n,j.transpose(Fn,Fn));return j.multiply$1(cn,[Qn,0,0,0,Nn,0,0,0,Yn],cn)}class lr extends j.Evented{constructor(ot,lt,Ut,kt){super(),this.id=ot,this.dispatcher=Ut,this.coordinates=lt.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(kt),this.options=lt,this._dirty=!1}load(ot,lt){this._loaded=lt||!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=j.getImage(this.map._requestManager.transformRequest(this.url,j.ResourceType.Image),(Ut,kt)=>{if(this._imageRequest=null,this._loaded=!0,Ut)this.fire(new j.ErrorEvent(Ut));else if(kt){const{HTMLImageElement:Ot}=j.window;this.image=kt instanceof Ot?j.exported.getImageData(kt):kt,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,ot&&(this.coordinates=ot),this._finishLoading()}})}loaded(){return this._loaded}updateImage(ot){return this.image&&ot.url?(this._imageRequest&&ot.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=ot.url,this.load(ot.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(ot){this.map=ot,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(ot){this.coordinates=ot,this._boundsArray=void 0;const lt=ot.map(j.MercatorCoordinate.fromLngLat);return this.tileID=function(Ut){let kt=1/0,Ot=1/0,qt=-1/0,an=-1/0;for(const Qn of Ut)kt=Math.min(kt,Qn.x),Ot=Math.min(Ot,Qn.y),qt=Math.max(qt,Qn.x),an=Math.max(an,Qn.y);const cn=Math.max(qt-kt,an-Ot),_n=Math.max(0,Math.floor(-Math.log(cn)/Math.LN2)),Fn=Math.pow(2,_n);return new j.CanonicalTileID(_n,Math.floor((kt+qt)/2*Fn),Math.floor((Ot+an)/2*Fn))}(lt),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(ot){for(const cn in this.tiles){const _n=this.tiles[cn];_n.state!=="loaded"&&(_n.state="loaded",_n.texture=this.texture)}if(this._boundsArray)return;const lt=j.tileTransform(this.tileID,this.map.transform.projection),[Ut,kt,Ot,qt]=this.coordinates.map(cn=>{const _n=lt.projection.project(cn[0],cn[1]);return j.getTilePoint(lt,_n)._round()});this.perspectiveTransform=function(cn,_n,Fn,Qn,Nn,Yn,jn,Xn,Pn,In){const er=Kn(0,0,cn,0,0,_n,cn,_n),Hn=Kn(Fn,Qn,Nn,Yn,jn,Xn,Pn,In);return j.multiply$1(Hn,j.adjoint(er,er),Hn),[Hn[6]/Hn[8]*cn/j.EXTENT,Hn[7]/Hn[8]*_n/j.EXTENT]}(this.width,this.height,Ut.x,Ut.y,kt.x,kt.y,qt.x,qt.y,Ot.x,Ot.y);const an=this._boundsArray=new j.StructArrayLayout4i8;an.emplaceBack(Ut.x,Ut.y,0,0),an.emplaceBack(kt.x,kt.y,j.EXTENT,0),an.emplaceBack(qt.x,qt.y,0,j.EXTENT),an.emplaceBack(Ot.x,Ot.y,j.EXTENT,j.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=ot.createVertexBuffer(an,j.boundsAttributes.members),this.boundsSegments=j.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const ot=this.map.painter.context,lt=ot.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new j.Texture(ot,this.image,lt.RGBA),this.texture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(ot)}loadTile(ot,lt){this.tileID&&this.tileID.equals(ot.tileID.canonical)?(this.tiles[String(ot.tileID.wrap)]=ot,ot.buckets={},lt(null)):(ot.state="errored",lt(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const ur={vector:class extends j.Evented{constructor(gt,ot,lt,Ut){if(super(),this.id=gt,this.dispatcher=lt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,j.extend(this,j.pick(ot,["url","scheme","tileSize","promoteId"])),this._options=j.extend({type:"vector"},ot),this._collectResourceTiming=ot.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ut),this._tileWorkers={},this._deduped=new j.DedupedRequest}load(gt){this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"}));const ot=Array.isArray(this.map._language)?this.map._language.join():this.map._language,lt=this.map._worldview;this._tileJSONRequest=Mt(this._options,this.map._requestManager,ot,lt,(Ut,kt)=>{this._tileJSONRequest=null,this._loaded=!0,Ut?(ot&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${ot}`),lt&&lt.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${lt}`),this.fire(new j.ErrorEvent(Ut))):kt&&(j.extend(this,kt),kt.bounds&&(this.tileBounds=new $t(kt.bounds,this.minzoom,this.maxzoom)),j.postTurnstileEvent(kt.tiles,this.map._requestManager._customAccessToken),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))),gt&&gt(Ut)})}loaded(){return this._loaded}hasTile(gt){return!this.tileBounds||this.tileBounds.contains(gt.canonical)}onAdd(gt){this.map=gt,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const gt=this.map.style._getSourceCaches(this.id);for(const ot of gt)ot.clearTiles()})}setSourceProperty(gt){gt(),this.reload()}setTiles(gt){return this._options.tiles=gt,this.reload(),this}setUrl(gt){return this.url=gt,this._options.url=gt,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return j.extend({},this._options)}loadTile(gt,ot){const lt=this.map._requestManager.normalizeTileURL(gt.tileID.canonical.url(this.tiles,this.scheme)),Ut={request:this.map._requestManager.transformRequest(lt,j.ResourceType.Tile),data:void 0,uid:gt.uid,tileID:gt.tileID,tileZoom:gt.tileZoom,zoom:gt.tileID.overscaledZ,tileSize:this.tileSize*gt.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:j.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:gt.isSymbolTile};if(Ut.request.collectResourceTiming=this._collectResourceTiming,gt.actor&&gt.state!=="expired")gt.state==="loading"?gt.reloadCallback=ot:gt.request=gt.actor.send("reloadTile",Ut,kt.bind(this));else if(gt.actor=this._tileWorkers[lt]=this._tileWorkers[lt]||this.dispatcher.getActor(),this.dispatcher.ready)gt.request=gt.actor.send("loadTile",Ut,kt.bind(this),void 0,!0);else{const Ot=j.loadVectorTile.call({deduped:this._deduped},Ut,(qt,an)=>{qt||!an?kt.call(this,qt):(Ut.data={cacheControl:an.cacheControl,expires:an.expires,rawData:an.rawData.slice(0)},gt.actor&&gt.actor.send("loadTile",Ut,kt.bind(this),void 0,!0))},!0);gt.request={cancel:Ot}}function kt(Ot,qt){return delete gt.request,gt.aborted?ot(null):Ot&&Ot.status!==404?ot(Ot):(qt&&qt.resourceTiming&&(gt.resourceTiming=qt.resourceTiming),this.map._refreshExpiredTiles&&qt&&gt.setExpiryData(qt),gt.loadVectorData(qt,this.map.painter),j.cacheEntryPossiblyAdded(this.dispatcher),ot(null),void(gt.reloadCallback&&(this.loadTile(gt,gt.reloadCallback),gt.reloadCallback=null)))}}abortTile(gt){gt.request&&(gt.request.cancel(),delete gt.request),gt.actor&&gt.actor.send("abortTile",{uid:gt.uid,type:this.type,source:this.id})}unloadTile(gt){gt.unloadVectorData(),gt.actor&&gt.actor.send("removeTile",{uid:gt.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Tn,"raster-dem":class extends Tn{constructor(gt,ot,lt,Ut){super(gt,ot,lt,Ut),this.type="raster-dem",this.maxzoom=22,this._options=j.extend({type:"raster-dem"},ot),this.encoding=ot.encoding||"mapbox"}loadTile(gt,ot){const lt=this.map._requestManager.normalizeTileURL(gt.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function Ut(kt,Ot){kt&&(gt.state="errored",ot(kt)),Ot&&(gt.dem=Ot,gt.dem.onDeserialize(),gt.needsHillshadePrepare=!0,gt.needsDEMTextureUpload=!0,gt.state="loaded",ot(null))}gt.request=j.getImage(this.map._requestManager.transformRequest(lt,j.ResourceType.Tile),function(kt,Ot,qt,an){if(delete gt.request,gt.aborted)gt.state="unloaded",ot(null);else if(kt)gt.state="errored",ot(kt);else if(Ot){this.map._refreshExpiredTiles&&gt.setExpiryData({cacheControl:qt,expires:an});const cn=j.window.ImageBitmap&&Ot instanceof j.window.ImageBitmap&&(zn==null&&(zn=j.window.OffscreenCanvas&&new j.window.OffscreenCanvas(1,1).getContext("2d")&&typeof j.window.createImageBitmap=="function"),zn),_n=1-(Ot.width-j.prevPowerOfTwo(Ot.width))/2;_n<1||gt.neighboringTiles||(gt.neighboringTiles=this._getNeighboringTiles(gt.tileID));const Fn=cn?Ot:j.exported.getImageData(Ot,_n),Qn={uid:gt.uid,coord:gt.tileID,source:this.id,rawImageData:Fn,encoding:this.encoding,padding:_n};gt.actor&&gt.state!=="expired"||(gt.actor=this.dispatcher.getActor(),gt.actor.send("loadDEMTile",Qn,Ut.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(gt){const ot=gt.canonical,lt=Math.pow(2,ot.z),Ut=(ot.x-1+lt)%lt,kt=ot.x===0?gt.wrap-1:gt.wrap,Ot=(ot.x+1+lt)%lt,qt=ot.x+1===lt?gt.wrap+1:gt.wrap,an={};return an[new j.OverscaledTileID(gt.overscaledZ,kt,ot.z,Ut,ot.y).key]={backfilled:!1},an[new j.OverscaledTileID(gt.overscaledZ,qt,ot.z,Ot,ot.y).key]={backfilled:!1},ot.y>0&&(an[new j.OverscaledTileID(gt.overscaledZ,kt,ot.z,Ut,ot.y-1).key]={backfilled:!1},an[new j.OverscaledTileID(gt.overscaledZ,gt.wrap,ot.z,ot.x,ot.y-1).key]={backfilled:!1},an[new j.OverscaledTileID(gt.overscaledZ,qt,ot.z,Ot,ot.y-1).key]={backfilled:!1}),ot.y+1<lt&&(an[new j.OverscaledTileID(gt.overscaledZ,kt,ot.z,Ut,ot.y+1).key]={backfilled:!1},an[new j.OverscaledTileID(gt.overscaledZ,gt.wrap,ot.z,ot.x,ot.y+1).key]={backfilled:!1},an[new j.OverscaledTileID(gt.overscaledZ,qt,ot.z,Ot,ot.y+1).key]={backfilled:!1}),an}unloadTile(gt){gt.demTexture&&this.map.painter.saveTileTexture(gt.demTexture),gt.fbo&&(gt.fbo.destroy(),delete gt.fbo),gt.dem&&delete gt.dem,delete gt.neighboringTiles,gt.state="unloaded"}},geojson:class extends j.Evented{constructor(gt,ot,lt,Ut){super(),this.id=gt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=lt.getActor(),this.setEventedParent(Ut),this._data=ot.data,this._options=j.extend({},ot),this._collectResourceTiming=ot.collectResourceTiming,ot.maxzoom!==void 0&&(this.maxzoom=ot.maxzoom),ot.type&&(this.type=ot.type),ot.attribution&&(this.attribution=ot.attribution),this.promoteId=ot.promoteId;const kt=j.EXTENT/this.tileSize;this.workerOptions=j.extend({source:this.id,cluster:ot.cluster||!1,geojsonVtOptions:{buffer:(ot.buffer!==void 0?ot.buffer:128)*kt,tolerance:(ot.tolerance!==void 0?ot.tolerance:.375)*kt,extent:j.EXTENT,maxZoom:this.maxzoom,lineMetrics:ot.lineMetrics||!1,generateId:ot.generateId||!1},superclusterOptions:{maxZoom:ot.clusterMaxZoom!==void 0?ot.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,ot.clusterMinPoints||2),extent:j.EXTENT,radius:(ot.clusterRadius!==void 0?ot.clusterRadius:50)*kt,log:!1,generateId:ot.generateId||!1},clusterProperties:ot.clusterProperties,filter:ot.filter},ot.workerOptions)}onAdd(gt){this.map=gt,this.setData(this._data)}setData(gt){return this._data=gt,this._updateWorkerData(),this}getClusterExpansionZoom(gt,ot){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:gt,source:this.id},ot),this}getClusterChildren(gt,ot){return this.actor.send("geojson.getClusterChildren",{clusterId:gt,source:this.id},ot),this}getClusterLeaves(gt,ot,lt,Ut){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:gt,limit:ot,offset:lt},Ut),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new j.Event("dataloading",{dataType:"source"})),this._loaded=!1;const gt=j.extend({},this.workerOptions),ot=this._data;typeof ot=="string"?(gt.request=this.map._requestManager.transformRequest(j.exported.resolveURL(ot),j.ResourceType.Source),gt.request.collectResourceTiming=this._collectResourceTiming):gt.data=JSON.stringify(ot),this._pendingLoad=this.actor.send(`${this.type}.loadData`,gt,(lt,Ut)=>{if(this._loaded=!0,this._pendingLoad=null,lt)this.fire(new j.ErrorEvent(lt));else{const kt={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&Ut&&Ut.resourceTiming&&Ut.resourceTiming[this.id]&&(kt.resourceTiming=Ut.resourceTiming[this.id]),this.fire(new j.Event("data",kt)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(gt,ot){const lt=gt.actor?"reloadTile":"loadTile";gt.actor=this.actor,gt.request=this.actor.send(lt,{type:this.type,uid:gt.uid,tileID:gt.tileID,tileZoom:gt.tileZoom,zoom:gt.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:j.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(Ut,kt)=>(delete gt.request,gt.unloadVectorData(),gt.aborted?ot(null):Ut?ot(Ut):(gt.loadVectorData(kt,this.map.painter,lt==="reloadTile"),ot(null))),void 0,lt==="loadTile")}abortTile(gt){gt.request&&(gt.request.cancel(),delete gt.request),gt.aborted=!0}unloadTile(gt){gt.unloadVectorData(),this.actor.send("removeTile",{uid:gt.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return j.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends lr{constructor(gt,ot,lt,Ut){super(gt,ot,lt,Ut),this.roundZoom=!0,this.type="video",this.options=ot}load(){this._loaded=!1;const gt=this.options;this.urls=[];for(const ot of gt.urls)this.urls.push(this.map._requestManager.transformRequest(ot,j.ResourceType.Source).url);j.getVideo(this.urls,(ot,lt)=>{this._loaded=!0,ot?this.fire(new j.ErrorEvent(ot)):lt&&(this.video=lt,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(gt){if(this.video){const ot=this.video.seekable;gt<ot.start(0)||gt>ot.end(0)?this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${ot.start(0)} and ${ot.end(0)}-second mark.`))):this.video.currentTime=gt}}getVideo(){return this.video}onAdd(gt){this.map||(this.map=gt,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const gt=this.map.painter.context,ot=gt.gl;this.texture?this.video.paused||(this.texture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),ot.texSubImage2D(ot.TEXTURE_2D,0,0,0,ot.RGBA,ot.UNSIGNED_BYTE,this.video)):(this.texture=new j.Texture(gt,this.video,ot.RGBA),this.texture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(gt)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:lr,canvas:class extends lr{constructor(gt,ot,lt,Ut){super(gt,ot,lt,Ut),ot.coordinates?Array.isArray(ot.coordinates)&&ot.coordinates.length===4&&!ot.coordinates.some(kt=>!Array.isArray(kt)||kt.length!==2||kt.some(Ot=>typeof Ot!="number"))||this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${gt}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${gt}`,null,'missing required property "coordinates"'))),ot.animate&&typeof ot.animate!="boolean"&&this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${gt}`,null,'optional "animate" property must be a boolean value'))),ot.canvas?typeof ot.canvas=="string"||ot.canvas instanceof j.window.HTMLCanvasElement||this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${gt}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new j.ErrorEvent(new j.ValidationError(`sources.${gt}`,null,'missing required property "canvas"'))),this.options=ot,this.animate=ot.animate===void 0||ot.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof j.window.HTMLCanvasElement?this.options.canvas:j.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new j.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(gt){this.map=gt,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let gt=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,gt=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,gt=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const ot=this.map.painter.context;this.texture?(gt||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new j.Texture(ot,this.canvas,ot.gl.RGBA,{premultiply:!0}),this._prepareData(ot)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const gt of[this.canvas.width,this.canvas.height])if(isNaN(gt)||gt<=0)return!0;return!1}},custom:class extends j.Evented{constructor(gt,ot,lt,Ut){super(),this.id=gt,this.type="custom",this._dataType="raster",this._dispatcher=lt,this._implementation=ot,this.setEventedParent(Ut),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new j.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new j.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new $t(this._implementation.bounds,this.minzoom,this.maxzoom)),ot.update=this._update.bind(this),ot.clearTiles=this._clearTiles.bind(this),ot.coveringTiles=this._coveringTiles.bind(this),j.extend(this,j.pick(ot,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return j.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new j.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(gt){this._map=gt,this._loaded=!1,this.fire(new j.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(gt),this.load()}onRemove(gt){this._implementation.onRemove&&this._implementation.onRemove(gt)}hasTile(gt){if(this._implementation.hasTile){const{x:ot,y:lt,z:Ut}=gt.canonical;return this._implementation.hasTile({x:ot,y:lt,z:Ut})}return!this.tileBounds||this.tileBounds.contains(gt.canonical)}loadTile(gt,ot){const{x:lt,y:Ut,z:kt}=gt.tileID.canonical,Ot=new j.window.AbortController;gt.request=Promise.resolve(this._implementation.loadTile({x:lt,y:Ut,z:kt},{signal:Ot.signal})).then(function(qt){return delete gt.request,gt.aborted?(gt.state="unloaded",ot(null)):qt===void 0?(gt.state="errored",ot(null)):qt===null?(this.loadTileData(gt,{width:this.tileSize,height:this.tileSize,data:null}),gt.state="loaded",ot(null)):function(an){return an instanceof j.window.ImageData||an instanceof j.window.HTMLCanvasElement||an instanceof j.window.ImageBitmap||an instanceof j.window.HTMLImageElement}(qt)?(this.loadTileData(gt,qt),gt.state="loaded",void ot(null)):(gt.state="errored",ot(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(qt=>{qt.code!==20&&(gt.state="errored",ot(qt))}),gt.request.cancel=()=>Ot.abort()}loadTileData(gt,ot){Tn.loadTileData(gt,ot,this._map.painter)}unloadTileData(gt){Tn.unloadTileData(gt,this._map.painter)}unloadTile(gt,ot){if(this.unloadTileData(gt),this._implementation.unloadTile){const{x:lt,y:Ut,z:kt}=gt.tileID.canonical;this._implementation.unloadTile({x:lt,y:Ut,z:kt})}ot()}abortTile(gt,ot){gt.request&&gt.request.cancel&&(gt.request.cancel(),delete gt.request),ot()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(gt=>({x:gt.canonical.x,y:gt.canonical.y,z:gt.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new j.Event("data",{dataType:"source",sourceDataType:"content"}))}}},mr=function(gt,ot,lt,Ut){const kt=new ur[ot.type](gt,ot,lt,Ut);if(kt.id!==gt)throw new Error(`Expected Source id to be ${gt} instead of ${kt.id}`);return j.bindAll(["load","abort","unload","serialize","prepare"],kt),kt};function hr(gt,ot){const lt=j.identity([]);return j.scale(lt,lt,[.5*gt.width,.5*-gt.height,1]),j.translate(lt,lt,[1,-1,0]),j.multiply(lt,lt,gt.calculateProjMatrix(ot.toUnwrapped())),Float32Array.from(lt)}function br(gt,ot,lt,Ut,kt,Ot,qt,an=!1){const cn=gt.tilesIn(Ut,qt,an);cn.sort(Kr);const _n=[];for(const Qn of cn)_n.push({wrappedTileID:Qn.tile.tileID.wrapped().key,queryResults:Qn.tile.queryRenderedFeatures(ot,lt,gt._state,Qn,kt,Ot,hr(gt.transform,Qn.tile.tileID),an)});const Fn=function(Qn){const Nn={},Yn={};for(const jn of Qn){const Xn=jn.queryResults,Pn=jn.wrappedTileID,In=Yn[Pn]=Yn[Pn]||{};for(const er in Xn){const Hn=Xn[er],dr=In[er]=In[er]||{},gr=Nn[er]=Nn[er]||[];for(const tr of Hn)dr[tr.featureIndex]||(dr[tr.featureIndex]=!0,gr.push(tr))}}return Nn}(_n);for(const Qn in Fn)Fn[Qn].forEach(Nn=>{const Yn=Nn.feature,jn=Yn.layer;jn&&jn.type!=="background"&&jn.type!=="sky"&&(Yn.source=jn.source,jn["source-layer"]&&(Yn.sourceLayer=jn["source-layer"]),Yn.state=Yn.id!==void 0?gt.getFeatureState(jn["source-layer"],Yn.id):{})});return Fn}function Nr(gt,ot){const lt=gt.getRenderableIds().map(Ot=>gt.getTileByID(Ot)),Ut=[],kt={};for(let Ot=0;Ot<lt.length;Ot++){const qt=lt[Ot],an=qt.tileID.canonical.key;kt[an]||(kt[an]=!0,qt.querySourceFeatures(Ut,ot))}return Ut}function Kr(gt,ot){const lt=gt.tileID,Ut=ot.tileID;return lt.overscaledZ-Ut.overscaledZ||lt.canonical.y-Ut.canonical.y||lt.wrap-Ut.wrap||lt.canonical.x-Ut.canonical.x}function zr(){return Jy.workerClass!=null?new Jy.workerClass:new j.window.Worker(Jy.workerUrl)}const So="mapboxgl_preloaded_worker_pool";class Bo{constructor(){this.active={}}acquire(ot){if(!this.workers)for(this.workers=[];this.workers.length<Bo.workerCount;)this.workers.push(new zr);return this.active[ot]=!0,this.workers.slice()}release(ot){delete this.active[ot],this.numActive()===0&&(this.workers.forEach(lt=>{lt.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[So]}numActive(){return Object.keys(this.active).length}}let Ao;function No(){return Ao||(Ao=new Bo),Ao}function Xo(gt,ot){const lt={};for(const Ut in gt)Ut!=="ref"&&(lt[Ut]=gt[Ut]);return j.refProperties.forEach(Ut=>{Ut in ot&&(lt[Ut]=ot[Ut])}),lt}function fs(gt){gt=gt.slice();const ot=Object.create(null);for(let lt=0;lt<gt.length;lt++)ot[gt[lt].id]=gt[lt];for(let lt=0;lt<gt.length;lt++)"ref"in gt[lt]&&(gt[lt]=Xo(gt[lt],ot[gt[lt].ref]));return gt}Bo.workerCount=2;const Uo={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ws(gt,ot,lt){lt.push({command:Uo.addSource,args:[gt,ot[gt]]})}function bs(gt,ot,lt){ot.push({command:Uo.removeSource,args:[gt]}),lt[gt]=!0}function Ru(gt,ot,lt,Ut){bs(gt,lt,Ut),ws(gt,ot,lt)}function hu(gt,ot,lt){let Ut;for(Ut in gt[lt])if(gt[lt].hasOwnProperty(Ut)&&Ut!=="data"&&!nt(gt[lt][Ut],ot[lt][Ut]))return!1;for(Ut in ot[lt])if(ot[lt].hasOwnProperty(Ut)&&Ut!=="data"&&!nt(gt[lt][Ut],ot[lt][Ut]))return!1;return!0}function Ir(gt,ot,lt,Ut,kt,Ot){let qt;for(qt in ot=ot||{},gt=gt||{})gt.hasOwnProperty(qt)&&(nt(gt[qt],ot[qt])||lt.push({command:Ot,args:[Ut,qt,ot[qt],kt]}));for(qt in ot)ot.hasOwnProperty(qt)&&!gt.hasOwnProperty(qt)&&(nt(gt[qt],ot[qt])||lt.push({command:Ot,args:[Ut,qt,ot[qt],kt]}))}function _a(gt){return gt.id}function Js(gt,ot){return gt[ot.id]=ot,gt}class du{constructor(ot,lt){this.reset(ot,lt)}reset(ot,lt){this.points=ot||[],this._distances=[0];for(let Ut=1;Ut<this.points.length;Ut++)this._distances[Ut]=this._distances[Ut-1]+this.points[Ut].dist(this.points[Ut-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(lt||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(ot){if(this.points.length===1)return this.points[0];ot=j.clamp(ot,0,1);let lt=1,Ut=this._distances[lt];const kt=ot*this.paddedLength+this.padding;for(;Ut<kt&&lt<this._distances.length;)Ut=this._distances[++lt];const Ot=lt-1,qt=this._distances[Ot],an=Ut-qt,cn=an>0?(kt-qt)/an:0;return this.points[Ot].mult(1-cn).add(this.points[lt].mult(cn))}}class ru{constructor(ot,lt,Ut){const kt=this.boxCells=[],Ot=this.circleCells=[];this.xCellCount=Math.ceil(ot/Ut),this.yCellCount=Math.ceil(lt/Ut);for(let qt=0;qt<this.xCellCount*this.yCellCount;qt++)kt.push([]),Ot.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=ot,this.height=lt,this.xScale=this.xCellCount/ot,this.yScale=this.yCellCount/lt,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(ot,lt,Ut,kt,Ot){this._forEachCell(lt,Ut,kt,Ot,this._insertBoxCell,this.boxUid++),this.boxKeys.push(ot),this.bboxes.push(lt),this.bboxes.push(Ut),this.bboxes.push(kt),this.bboxes.push(Ot)}insertCircle(ot,lt,Ut,kt){this._forEachCell(lt-kt,Ut-kt,lt+kt,Ut+kt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(ot),this.circles.push(lt),this.circles.push(Ut),this.circles.push(kt)}_insertBoxCell(ot,lt,Ut,kt,Ot,qt){this.boxCells[Ot].push(qt)}_insertCircleCell(ot,lt,Ut,kt,Ot,qt){this.circleCells[Ot].push(qt)}_query(ot,lt,Ut,kt,Ot,qt){if(Ut<0||ot>this.width||kt<0||lt>this.height)return!Ot&&[];const an=[];if(ot<=0&&lt<=0&&this.width<=Ut&&this.height<=kt){if(Ot)return!0;for(let cn=0;cn<this.boxKeys.length;cn++)an.push({key:this.boxKeys[cn],x1:this.bboxes[4*cn],y1:this.bboxes[4*cn+1],x2:this.bboxes[4*cn+2],y2:this.bboxes[4*cn+3]});for(let cn=0;cn<this.circleKeys.length;cn++){const _n=this.circles[3*cn],Fn=this.circles[3*cn+1],Qn=this.circles[3*cn+2];an.push({key:this.circleKeys[cn],x1:_n-Qn,y1:Fn-Qn,x2:_n+Qn,y2:Fn+Qn})}return qt?an.filter(qt):an}return this._forEachCell(ot,lt,Ut,kt,this._queryCell,an,{hitTest:Ot,seenUids:{box:{},circle:{}}},qt),Ot?an.length>0:an}_queryCircle(ot,lt,Ut,kt,Ot){const qt=ot-Ut,an=ot+Ut,cn=lt-Ut,_n=lt+Ut;if(an<0||qt>this.width||_n<0||cn>this.height)return!kt&&[];const Fn=[];return this._forEachCell(qt,cn,an,_n,this._queryCellCircle,Fn,{hitTest:kt,circle:{x:ot,y:lt,radius:Ut},seenUids:{box:{},circle:{}}},Ot),kt?Fn.length>0:Fn}query(ot,lt,Ut,kt,Ot){return this._query(ot,lt,Ut,kt,!1,Ot)}hitTest(ot,lt,Ut,kt,Ot){return this._query(ot,lt,Ut,kt,!0,Ot)}hitTestCircle(ot,lt,Ut,kt){return this._queryCircle(ot,lt,Ut,!0,kt)}_queryCell(ot,lt,Ut,kt,Ot,qt,an,cn){const _n=an.seenUids,Fn=this.boxCells[Ot];if(Fn!==null){const Nn=this.bboxes;for(const Yn of Fn)if(!_n.box[Yn]){_n.box[Yn]=!0;const jn=4*Yn;if(ot<=Nn[jn+2]&&lt<=Nn[jn+3]&&Ut>=Nn[jn+0]&&kt>=Nn[jn+1]&&(!cn||cn(this.boxKeys[Yn]))){if(an.hitTest)return qt.push(!0),!0;qt.push({key:this.boxKeys[Yn],x1:Nn[jn],y1:Nn[jn+1],x2:Nn[jn+2],y2:Nn[jn+3]})}}}const Qn=this.circleCells[Ot];if(Qn!==null){const Nn=this.circles;for(const Yn of Qn)if(!_n.circle[Yn]){_n.circle[Yn]=!0;const jn=3*Yn;if(this._circleAndRectCollide(Nn[jn],Nn[jn+1],Nn[jn+2],ot,lt,Ut,kt)&&(!cn||cn(this.circleKeys[Yn]))){if(an.hitTest)return qt.push(!0),!0;{const Xn=Nn[jn],Pn=Nn[jn+1],In=Nn[jn+2];qt.push({key:this.circleKeys[Yn],x1:Xn-In,y1:Pn-In,x2:Xn+In,y2:Pn+In})}}}}}_queryCellCircle(ot,lt,Ut,kt,Ot,qt,an,cn){const _n=an.circle,Fn=an.seenUids,Qn=this.boxCells[Ot];if(Qn!==null){const Yn=this.bboxes;for(const jn of Qn)if(!Fn.box[jn]){Fn.box[jn]=!0;const Xn=4*jn;if(this._circleAndRectCollide(_n.x,_n.y,_n.radius,Yn[Xn+0],Yn[Xn+1],Yn[Xn+2],Yn[Xn+3])&&(!cn||cn(this.boxKeys[jn])))return qt.push(!0),!0}}const Nn=this.circleCells[Ot];if(Nn!==null){const Yn=this.circles;for(const jn of Nn)if(!Fn.circle[jn]){Fn.circle[jn]=!0;const Xn=3*jn;if(this._circlesCollide(Yn[Xn],Yn[Xn+1],Yn[Xn+2],_n.x,_n.y,_n.radius)&&(!cn||cn(this.circleKeys[jn])))return qt.push(!0),!0}}}_forEachCell(ot,lt,Ut,kt,Ot,qt,an,cn){const _n=this._convertToXCellCoord(ot),Fn=this._convertToYCellCoord(lt),Qn=this._convertToXCellCoord(Ut),Nn=this._convertToYCellCoord(kt);for(let Yn=_n;Yn<=Qn;Yn++)for(let jn=Fn;jn<=Nn;jn++)if(Ot.call(this,ot,lt,Ut,kt,this.xCellCount*jn+Yn,qt,an,cn))return}_convertToXCellCoord(ot){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(ot*this.xScale)))}_convertToYCellCoord(ot){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(ot*this.yScale)))}_circlesCollide(ot,lt,Ut,kt,Ot,qt){const an=kt-ot,cn=Ot-lt,_n=Ut+qt;return _n*_n>an*an+cn*cn}_circleAndRectCollide(ot,lt,Ut,kt,Ot,qt,an){const cn=(qt-kt)/2,_n=Math.abs(ot-(kt+cn));if(_n>cn+Ut)return!1;const Fn=(an-Ot)/2,Qn=Math.abs(lt-(Ot+Fn));if(Qn>Fn+Ut)return!1;if(_n<=cn||Qn<=Fn)return!0;const Nn=_n-cn,Yn=Qn-Fn;return Nn*Nn+Yn*Yn<=Ut*Ut}}const wu=Math.tan(85*Math.PI/180);function Ul(gt,ot,lt,Ut,kt,Ot,qt){const an=j.create();if(lt)if(Ot.name==="globe"){const cn=j.calculateGlobeLabelMatrix(kt,ot);j.multiply(an,an,cn)}else{const cn=bt([],qt);an[0]=cn[0],an[1]=cn[1],an[4]=cn[2],an[5]=cn[3],Ut||j.rotateZ(an,an,kt.angle)}else j.multiply(an,kt.labelPlaneMatrix,gt);return an}function rm(gt,ot,lt,Ut,kt,Ot,qt){const an=Ul(gt,ot,lt,Ut,kt,Ot,qt);return Ot.name==="globe"&&lt||(an[2]=an[6]=an[10]=an[14]=0),an}function rp(gt,ot,lt,Ut,kt,Ot,qt){if(lt){if(Ot.name==="globe"){const an=Ul(gt,ot,lt,Ut,kt,Ot,qt);return j.invert(an,an),j.multiply(an,gt,an),an}{const an=j.clone(gt),cn=j.identity([]);return cn[0]=qt[0],cn[1]=qt[1],cn[4]=qt[2],cn[5]=qt[3],j.multiply(an,an,cn),Ut||j.rotateZ(an,an,-kt.angle),an}}return kt.glCoordMatrix}function mo(gt,ot,lt=0){const Ut=[gt.x,gt.y,lt,1];lt?j.transformMat4$1(Ut,Ut,ot):Ju(Ut,Ut,ot);const kt=Ut[3];return{point:[Ut[0]/kt,Ut[1]/kt,Ut[2]/kt],signedDistanceFromCamera:kt}}function rs(gt,ot){const lt=[gt[0],gt[1],gt[2],1];j.transformMat4$1(lt,lt,ot);const Ut=lt[3];return{point:[lt[0]/Ut,lt[1]/Ut,lt[2]/Ut],signedDistanceFromCamera:Ut}}function ss(gt,ot){return Math.min(.5+gt/ot*.5,1.5)}function Bu(gt,ot){const lt=gt[0]/gt[3],Ut=gt[1]/gt[3];return lt>=-ot[0]&&lt<=ot[0]&&Ut>=-ot[1]&&Ut<=ot[1]}function ip(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n){const Fn=lt.transform,Qn=Ut?gt.textSizeData:gt.iconSizeData,Nn=j.evaluateSizeForZoom(Qn,lt.transform.zoom),Yn=Fn.projection.name==="globe",jn=[256/lt.width*2+1,256/lt.height*2+1],Xn=Ut?gt.text.dynamicLayoutVertexArray:gt.icon.dynamicLayoutVertexArray;Xn.clear();let Pn=null;Yn&&(Pn=Ut?gt.text.globeExtVertexArray:gt.icon.globeExtVertexArray);const In=gt.lineVertexArray,er=Ut?gt.text.placedSymbolArray:gt.icon.placedSymbolArray,Hn=lt.transform.width/lt.transform.height;let dr=!1;for(let gr=0;gr<er.length;gr++){const tr=er.get(gr);if(tr.writingMode!==j.WritingMode.vertical||dr||gr!==0&&er.get(gr-1).writingMode===j.WritingMode.horizontal||(dr=!0),(tr.hidden||tr.writingMode===j.WritingMode.vertical)&&!dr){Os(tr.numGlyphs,Xn);continue}dr=!1;const vr=new j.pointGeometry(tr.tileAnchorX,tr.tileAnchorY),wr=cn?cn(vr):[0,0,0],Mr=Fn.projection.projectTilePoint(vr.x,vr.y,_n.canonical),kr=[Mr.x+wr[0],Mr.y+wr[1],Mr.z+wr[2]],oo=[...kr,1];if(j.transformMat4$1(oo,oo,ot),!Bu(oo,jn)){Os(tr.numGlyphs,Xn);continue}const Rr=ss(lt.transform.cameraToCenterDistance,oo[3]),Zr=j.evaluateSizeForFeature(Qn,Nn,tr),Gr=qt?Zr/Rr:Zr*Rr,xr=mo(new j.pointGeometry(kr[0],kr[1]),kt,kr[2]);if(xr.signedDistanceFromCamera<=0){Os(tr.numGlyphs,Xn);continue}let Fr={};const yo=qt?null:cn,uo=Lu(tr,Gr,!1,an,ot,kt,Ot,gt.glyphOffsetArray,In,Xn,Pn,xr.point,vr,Fr,Hn,yo,Fn.projection,_n,qt);dr=uo.useVertical,yo&&uo.needsFlipping&&(Fr={}),(uo.notEnoughRoom||dr||uo.needsFlipping&&Lu(tr,Gr,!0,an,ot,kt,Ot,gt.glyphOffsetArray,In,Xn,Pn,xr.point,vr,Fr,Hn,yo,Fn.projection,_n,qt).notEnoughRoom)&&Os(tr.numGlyphs,Xn)}Ut?(gt.text.dynamicLayoutVertexBuffer.updateData(Xn),Pn&&gt.text.globeExtVertexBuffer.updateData(Pn)):(gt.icon.dynamicLayoutVertexBuffer.updateData(Xn),Pn&&gt.icon.globeExtVertexBuffer.updateData(Pn))}function Ko(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn){const Pn=an.glyphStartIndex+an.numGlyphs,In=an.lineStartIndex,er=an.lineStartIndex+an.lineLength,Hn=ot.getoffsetX(an.glyphStartIndex),dr=ot.getoffsetX(Pn-1),gr=ps(gt*Hn,lt,Ut,kt,Ot,qt,an.segment,In,er,cn,_n,Fn,Qn,Nn,!0,Yn,jn,Xn);if(!gr)return null;const tr=ps(gt*dr,lt,Ut,kt,Ot,qt,an.segment,In,er,cn,_n,Fn,Qn,Nn,!0,Yn,jn,Xn);return tr?{first:gr,last:tr}:null}function Wu(gt,ot,lt,Ut){return gt.writingMode===j.WritingMode.horizontal&&Math.abs(lt.y-ot.y)>Math.abs(lt.x-ot.x)*Ut?{useVertical:!0}:gt.writingMode===j.WritingMode.vertical?ot.y<lt.y?{needsFlipping:!0}:null:gt.flipState!==0&&function(kt,Ot,qt){const an=(Ot.x-kt.x)*qt;return an===0||Math.abs((Ot.y-kt.y)/an)>wu}(ot,lt,Ut)?gt.flipState===1?{needsFlipping:!0}:null:ot.x>lt.x?{needsFlipping:!0}:null}function Lu(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn,Pn,In,er){const Hn=ot/24,dr=gt.lineOffsetX*Hn,gr=gt.lineOffsetY*Hn;let tr=[];if(gt.numGlyphs>1){const vr=gt.glyphStartIndex+gt.numGlyphs,wr=gt.lineStartIndex,Mr=gt.lineStartIndex+gt.lineLength,kr=Ko(Hn,an,dr,gr,lt,Qn,Nn,gt,cn,Ot,Yn,Xn,!1,Pn,In,er);if(!kr)return{notEnoughRoom:!0};const oo=rs(kr.first.point,qt).point,Rr=rs(kr.last.point,qt).point,Zr=new j.pointGeometry(oo[0],oo[1]),Gr=new j.pointGeometry(Rr[0],Rr[1]);if(Ut&&!lt){const xr=Wu(gt,Zr,Gr,jn);if(gt.flipState=xr&&xr.needsFlipping?1:2,xr)return xr}tr=[kr.first];for(let xr=gt.glyphStartIndex+1;xr<vr-1;xr++){const Fr=ps(Hn*an.getoffsetX(xr),dr,gr,lt,Qn,Nn,gt.segment,wr,Mr,cn,Ot,Yn,Xn,!1,!1,Pn,In,er);if(!Fr)return{notEnoughRoom:!0};tr.push(Fr)}tr.push(kr.last)}else{if(Ut&&!lt){const wr=mo(Nn,kt).point,Mr=gt.lineStartIndex+gt.segment+1,kr=new j.pointGeometry(cn.getx(Mr),cn.gety(Mr)),oo=mo(kr,kt),Rr=oo.signedDistanceFromCamera>0?oo.point:Cl(Nn,kr,wr,1,kt,void 0,Pn,In.canonical),Zr=Wu(gt,new j.pointGeometry(wr[0],wr[1]),new j.pointGeometry(Rr[0],Rr[1]),jn);if(gt.flipState=Zr&&Zr.needsFlipping?1:2,Zr)return Zr}const vr=ps(Hn*an.getoffsetX(gt.glyphStartIndex),dr,gr,lt,Qn,Nn,gt.segment,gt.lineStartIndex,gt.lineStartIndex+gt.lineLength,cn,Ot,Yn,Xn,!1,!1,Pn,In,er);if(!vr)return{notEnoughRoom:!0};tr=[vr]}if(Fn)for(const vr of tr)j.updateGlobeVertexNormal(Fn,_n.length+0,vr.up[0],vr.up[1],vr.up[2]),j.updateGlobeVertexNormal(Fn,_n.length+1,vr.up[0],vr.up[1],vr.up[2]),j.updateGlobeVertexNormal(Fn,_n.length+2,vr.up[0],vr.up[1],vr.up[2]),j.updateGlobeVertexNormal(Fn,_n.length+3,vr.up[0],vr.up[1],vr.up[2]),j.addDynamicAttributes(_n,vr.point[0],vr.point[1],vr.point[2],vr.angle);else for(const vr of tr)j.addDynamicAttributes(_n,vr.point[0],vr.point[1],vr.point[2],vr.angle);return{}}function fu(gt,ot,lt,Ut,kt){const Ot=Ut.projectTilePoint(gt.x,gt.y,ot);if(!kt)return mo(Ot,lt,Ot.z);const qt=kt(gt);return mo(new j.pointGeometry(Ot.x+qt[0],Ot.y+qt[1]),lt,Ot.z+qt[2])}function Cl(gt,ot,lt,Ut,kt,Ot,qt,an){const cn=fu(gt.add(gt.sub(ot)._unit()),an,kt,qt,Ot).point,_n=j.sub([],lt,cn);return j.scaleAndAdd([],lt,_n,Ut/j.length(_n))}function ps(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn,Pn,In){const er=Ut?gt-ot:gt+ot;let Hn=er>0?1:-1,dr=0;Ut&&(Hn*=-1,dr=Math.PI),Hn<0&&(dr+=Math.PI);let gr=Hn>0?an+qt:an+qt+1,tr=kt,vr=kt,wr=0,Mr=0;const kr=Math.abs(er),oo=[],Rr=[];let Zr=Ot;const Gr=()=>{const ho=gr-Hn;return wr===0?Ot:new j.pointGeometry(_n.getx(ho),_n.gety(ho))},xr=()=>{const ho=Gr();return Cl(ho,Zr||ho,vr,kr-wr+1,Fn,Nn,Xn,Pn.canonical)};for(;wr+Mr<=kr;){if(gr+=Hn,gr<an||gr>=cn)return null;if(vr=tr,oo.push(tr),Yn&&Rr.push(Zr||Gr()),tr=Qn[gr],tr===void 0){Zr=new j.pointGeometry(_n.getx(gr),_n.gety(gr));const ho=fu(Zr,Pn.canonical,Fn,Xn,Nn);tr=ho.signedDistanceFromCamera>0?Qn[gr]=ho.point:xr()}else Zr=null;wr+=Mr,Mr=j.distance(vr,tr)}Zr=Zr||new j.pointGeometry(_n.getx(gr),_n.gety(gr));const Fr=Gr();jn&&Nn&&(Qn[gr]=tr=Qn[gr]===void 0?tr:xr(),Mr=j.distance(vr,tr));const yo=(kr-wr)/Mr,uo=Zr.sub(Fr).mult(yo)._add(Fr),fo=j.sub([],tr,vr),co=j.scaleAndAdd([],vr,fo,yo);let ko=[0,0,1],Lo=fo[0],Wo=fo[1];if(In&&(ko=Xn.upVector(Pn.canonical,uo.x,uo.y),ko[0]!==0||ko[1]!==0||ko[2]!==1)){const ho=[1,0,0],$o=[0,1,0];ho[0]=ko[2],ho[1]=0,ho[2]=-ko[0],j.cross($o,ko,ho),j.normalize(ho,ho),j.normalize($o,$o),Lo=j.dot(fo,ho),Wo=j.dot(fo,$o)}if(lt){const ho=j.cross([],ko,fo);j.normalize(ho,ho),j.scaleAndAdd(co,co,ho,lt*Hn)}const Do=dr+Math.atan2(Wo,Lo);return oo.push(co),Yn&&Rr.push(uo),{point:co,angle:Do,path:oo,tilePath:Rr,up:ko}}const Tm=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Os(gt,ot){for(let lt=0;lt<gt;lt++){const Ut=ot.length;ot.resize(Ut+4),ot.float32.set(Tm,4*Ut)}}function Ju(gt,ot,lt){const Ut=ot[0],kt=ot[1];return gt[0]=lt[0]*Ut+lt[4]*kt+lt[12],gt[1]=lt[1]*Ut+lt[5]*kt+lt[13],gt[3]=lt[3]*Ut+lt[7]*kt+lt[15],gt}const Xs=100;class ju{constructor(ot,lt,Ut=new ru(ot.width+200,ot.height+200,25),kt=new ru(ot.width+200,ot.height+200,25)){this.transform=ot,this.grid=Ut,this.ignoredGrid=kt,this.pitchfactor=Math.cos(ot._pitch)*ot.cameraToCenterDistance,this.screenRightBoundary=ot.width+Xs,this.screenBottomBoundary=ot.height+Xs,this.gridRightBoundary=ot.width+200,this.gridBottomBoundary=ot.height+200,this.fogState=lt}placeCollisionBox(ot,lt,Ut,kt,Ot,qt,an,cn){let _n=Ut.projectedAnchorX,Fn=Ut.projectedAnchorY,Qn=Ut.projectedAnchorZ;const Nn=Ut.elevation,Yn=Ut.tileID;if(Nn&&Yn){const gr=ot.getProjection().upVector(Yn.canonical,Ut.tileAnchorX,Ut.tileAnchorY),tr=ot.getProjection().upVectorScale(Yn.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;_n+=gr[0]*Nn*tr,Fn+=gr[1]*Nn*tr,Qn+=gr[2]*Nn*tr}const jn=this.projectAndGetPerspectiveRatio(an,[_n,Fn,Qn],Ut.tileID,ot.projection.name==="globe"||!!Nn||this.transform.pitch>0,ot.getProjection()),Xn=qt*jn.perspectiveRatio,Pn=(Ut.x1*lt+kt.x-Ut.padding)*Xn+jn.point.x,In=(Ut.y1*lt+kt.y-Ut.padding)*Xn+jn.point.y,er=(Ut.x2*lt+kt.x+Ut.padding)*Xn+jn.point.x,Hn=(Ut.y2*lt+kt.y+Ut.padding)*Xn+jn.point.y,dr=jn.perspectiveRatio<=.55||jn.occluded;return!this.isInsideGrid(Pn,In,er,Hn)||!Ot&&this.grid.hitTest(Pn,In,er,Hn,cn)||dr?{box:[],offscreen:!1,occluded:jn.occluded}:{box:[Pn,In,er,Hn],offscreen:this.isOffscreen(Pn,In,er,Hn),occluded:!1}}placeCollisionCircles(ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn){const Pn=[],In=this.transform.elevation,er=In?In.getAtTileOffsetFunc(Xn,this.transform.center.lat,this.transform.worldSize,ot.getProjection()):Fr=>[0,0,0],Hn=new j.pointGeometry(Ut.tileAnchorX,Ut.tileAnchorY),dr=ot.getProjection().projectTilePoint(Ut.tileAnchorX,Ut.tileAnchorY,Xn.canonical),gr=er(Hn),tr=[dr.x+gr[0],dr.y+gr[1],dr.z+gr[2]],vr=ot.projection.name==="globe",wr=this.projectAndGetPerspectiveRatio(an,[tr[0],tr[1],tr[2]],Xn,vr||!!In||this.transform.pitch>0,ot.getProjection()),{perspectiveRatio:Mr}=wr,kr=(Qn?qt/Mr:qt*Mr)/j.ONE_EM,oo=mo(new j.pointGeometry(tr[0],tr[1]),cn,tr[2]).point,Rr=wr.signedDistanceFromCamera>0?Ko(kr,Ot,Ut.lineOffsetX*kr,Ut.lineOffsetY*kr,!1,oo,Hn,Ut,kt,cn,{},In&&!Qn?er:null,Qn&&!!In,ot.getProjection(),Xn,Qn):null;let Zr=!1,Gr=!1,xr=!0;if(Rr&&!wr.occluded){const Fr=.5*Yn*Mr+jn,yo=new j.pointGeometry(-100,-100),uo=new j.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),fo=new du,co=Rr.first,ko=Rr.last;let Lo=[];for(let ho=co.path.length-1;ho>=1;ho--)Lo.push(co.path[ho]);for(let ho=1;ho<ko.path.length;ho++)Lo.push(ko.path[ho]);const Wo=2.5*Fr;if(_n){const ho=Lo.map(In&&!vr?($o,us)=>{const Ns=er(us<co.path.length-1?co.tilePath[co.path.length-1-us]:ko.tilePath[us-co.path.length+2]);return $o[2]=Ns[2],rs($o,_n)}:$o=>rs($o,_n));Lo=ho.some($o=>$o.signedDistanceFromCamera<=0)?[]:ho.map($o=>$o.point)}let Do=[];if(Lo.length>0){const ho=Lo.map(As=>new j.pointGeometry(As[0],As[1]));let $o=1/0,us=-1/0,Ns=1/0,Ps=-1/0;for(let As=0;As<ho.length;As++)$o=Math.min($o,ho[As].x),Ns=Math.min(Ns,ho[As].y),us=Math.max(us,ho[As].x),Ps=Math.max(Ps,ho[As].y);Do=$o>=yo.x&&us<=uo.x&&Ns>=yo.y&&Ps<=uo.y?[ho]:us<yo.x||$o>uo.x||Ps<yo.y||Ns>uo.y?[]:j.clipLine([ho],yo.x,yo.y,uo.x,uo.y)}for(const ho of Do){fo.reset(ho,.25*Fr);let $o=0;$o=fo.length<=.5*Fr?1:Math.ceil(fo.paddedLength/Wo)+1;for(let us=0;us<$o;us++){const Ns=us/Math.max($o-1,1),Ps=fo.lerp(Ns),As=Ps.x+Xs,Nl=Ps.y+Xs;Pn.push(As,Nl,Fr,0);const ou=As-Fr,fp=Nl-Fr,Ws=As+Fr,$a=Nl+Fr;if(xr=xr&&this.isOffscreen(ou,fp,Ws,$a),Gr=Gr||this.isInsideGrid(ou,fp,Ws,$a),!lt&&this.grid.hitTestCircle(As,Nl,Fr,Nn)&&(Zr=!0,!Fn))return{circles:[],offscreen:!1,collisionDetected:Zr,occluded:!1}}}}return{circles:!Fn&&Zr||!Gr?[]:Pn,offscreen:xr,collisionDetected:Zr,occluded:wr.occluded}}queryRenderedSymbols(ot){if(ot.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const lt=[];let Ut=1/0,kt=1/0,Ot=-1/0,qt=-1/0;for(const Fn of ot){const Qn=new j.pointGeometry(Fn.x+Xs,Fn.y+Xs);Ut=Math.min(Ut,Qn.x),kt=Math.min(kt,Qn.y),Ot=Math.max(Ot,Qn.x),qt=Math.max(qt,Qn.y),lt.push(Qn)}const an=this.grid.query(Ut,kt,Ot,qt).concat(this.ignoredGrid.query(Ut,kt,Ot,qt)),cn={},_n={};for(const Fn of an){const Qn=Fn.key;if(cn[Qn.bucketInstanceId]===void 0&&(cn[Qn.bucketInstanceId]={}),cn[Qn.bucketInstanceId][Qn.featureIndex])continue;const Nn=[new j.pointGeometry(Fn.x1,Fn.y1),new j.pointGeometry(Fn.x2,Fn.y1),new j.pointGeometry(Fn.x2,Fn.y2),new j.pointGeometry(Fn.x1,Fn.y2)];j.polygonIntersectsPolygon(lt,Nn)&&(cn[Qn.bucketInstanceId][Qn.featureIndex]=!0,_n[Qn.bucketInstanceId]===void 0&&(_n[Qn.bucketInstanceId]=[]),_n[Qn.bucketInstanceId].push(Qn.featureIndex))}return _n}insertCollisionBox(ot,lt,Ut,kt,Ot){(lt?this.ignoredGrid:this.grid).insert({bucketInstanceId:Ut,featureIndex:kt,collisionGroupID:Ot},ot[0],ot[1],ot[2],ot[3])}insertCollisionCircles(ot,lt,Ut,kt,Ot){const qt=lt?this.ignoredGrid:this.grid,an={bucketInstanceId:Ut,featureIndex:kt,collisionGroupID:Ot};for(let cn=0;cn<ot.length;cn+=4)qt.insertCircle(an,ot[cn],ot[cn+1],ot[cn+2])}projectAndGetPerspectiveRatio(ot,lt,Ut,kt,Ot){const qt=[lt[0],lt[1],lt[2],1];let an=!1;if(lt[2]||this.transform.pitch>0){j.transformMat4$1(qt,qt,ot);const cn=Ot.name==="globe";this.fogState&&Ut&&!cn&&(an=function(_n,Fn,Qn,Nn,Yn,jn){const Xn=jn.calculateFogTileMatrix(Yn),Pn=[Fn,Qn,Nn];return j.transformMat4(Pn,Pn,Xn),Zt(_n,Pn,jn.pitch,jn._fov)}(this.fogState,lt[0],lt[1],lt[2],Ut.toUnwrapped(),this.transform)>.9)}else Ju(qt,qt,ot);return{point:new j.pointGeometry((qt[0]/qt[3]+1)/2*this.transform.width+Xs,(-qt[1]/qt[3]+1)/2*this.transform.height+Xs),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(Ot)/qt[3]*.5,1.5),signedDistanceFromCamera:qt[3],occluded:kt&&qt[2]>qt[3]||an}}isOffscreen(ot,lt,Ut,kt){return Ut<Xs||ot>=this.screenRightBoundary||kt<Xs||lt>this.screenBottomBoundary}isInsideGrid(ot,lt,Ut,kt){return Ut>=0&&ot<this.gridRightBoundary&&kt>=0&&lt<this.gridBottomBoundary}getViewportMatrix(){const ot=j.identity([]);return j.translate(ot,ot,[-100,-100,0]),ot}}function op(gt,ot,lt){const Ut=ot.createTileMatrix(gt,gt.worldSize,lt.toUnwrapped());return j.multiply(new Float32Array(16),gt.projMatrix,Ut)}function Ip(gt,ot,lt){if(ot.projection.name===lt.projection.name)return gt.projMatrix;const Ut=lt.clone();return Ut.setProjection(ot.projection),op(Ut,ot.getProjection(),gt)}function Ks(gt,ot,lt){return ot.name===lt.projection.name?gt.projMatrix:op(lt,ot,gt)}class Yl{constructor(ot,lt,Ut,kt){this.opacity=ot?Math.max(0,Math.min(1,ot.opacity+(ot.placed?lt:-lt))):kt&&Ut?1:0,this.placed=Ut}isHidden(){return this.opacity===0&&!this.placed}}class Bl{constructor(ot,lt,Ut,kt,Ot,qt=!1){this.text=new Yl(ot?ot.text:null,lt,Ut,Ot),this.icon=new Yl(ot?ot.icon:null,lt,kt,Ot),this.clipped=qt}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class gs{constructor(ot,lt,Ut,kt=!1){this.text=ot,this.icon=lt,this.skipFade=Ut,this.clipped=kt}}class Is{constructor(){this.invProjMatrix=j.create(),this.viewportMatrix=j.create(),this.circles=[]}}class Pp{constructor(ot,lt,Ut,kt,Ot){this.bucketInstanceId=ot,this.featureIndex=lt,this.sourceLayerIndex=Ut,this.bucketIndex=kt,this.tileID=Ot}}class sp{constructor(ot){this.crossSourceCollisions=ot,this.maxGroupID=0,this.collisionGroups={}}get(ot){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[ot]){const lt=++this.maxGroupID;this.collisionGroups[ot]={ID:lt,predicate:Ut=>Ut.collisionGroupID===lt}}return this.collisionGroups[ot]}}function Wt(gt,ot,lt,Ut,kt){const{horizontalAlign:Ot,verticalAlign:qt}=j.getAnchorAlignment(gt),an=-(Ot-.5)*ot,cn=-(qt-.5)*lt,_n=j.evaluateVariableOffset(gt,Ut);return new j.pointGeometry(an+_n[0]*kt,cn+_n[1]*kt)}function ln(gt,ot,lt,Ut,kt){const Ot=new j.pointGeometry(gt,ot);return lt&&Ot._rotate(Ut?kt:-kt),Ot}class bn{constructor(ot,lt,Ut,kt,Ot){this.transform=ot.clone(),this.projection=ot.projection.name,this.collisionIndex=new ju(this.transform,Ot),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=lt,this.retainedQueryData={},this.collisionGroups=new sp(Ut),this.collisionCircleArrays={},this.prevPlacement=kt,kt&&(kt.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(ot,lt,Ut,kt){const Ot=Ut.getBucket(lt),qt=Ut.latestFeatureIndex;if(!Ot||!qt||lt.id!==Ot.layerIds[0])return;const an=Ot.layers[0].layout,cn=Ut.collisionBoxArray,_n=Math.pow(2,this.transform.zoom-Ut.tileID.overscaledZ),Fn=Ut.tileSize/j.EXTENT,Qn=Ut.tileID.toUnwrapped();this.transform.setProjection(Ot.projection);const Nn=(Yn=Ut.tileID,jn=Ot.getProjection(),Xn=this.transform,jn.name===this.projection?Xn.calculateProjMatrix(Yn.toUnwrapped()):op(Xn,jn,Yn));var Yn,jn,Xn;const Pn=an.get("text-pitch-alignment")==="map",In=an.get("text-rotation-alignment")==="map";lt.compileFilter();const er=lt.dynamicFilter(),Hn=lt.dynamicFilterNeedsFeature(),dr=this.transform.calculatePixelsToTileUnitsMatrix(Ut),gr=rm(Nn,Ut.tileID.canonical,Pn,In,this.transform,Ot.getProjection(),dr);let tr=null;if(Pn){const Mr=rp(Nn,Ut.tileID.canonical,Pn,In,this.transform,Ot.getProjection(),dr);tr=j.multiply([],this.transform.labelPlaneMatrix,Mr)}let vr=null;er&&Ut.latestFeatureIndex&&(vr={unwrappedTileID:Qn,dynamicFilter:er,dynamicFilterNeedsFeature:Hn,featureIndex:Ut.latestFeatureIndex}),this.retainedQueryData[Ot.bucketInstanceId]=new Pp(Ot.bucketInstanceId,qt,Ot.sourceLayerIndex,Ot.index,Ut.tileID);const wr={bucket:Ot,layout:an,posMatrix:Nn,textLabelPlaneMatrix:gr,labelToScreenMatrix:tr,clippingData:vr,scale:_n,textPixelRatio:Fn,holdingForFade:Ut.holdingForFade(),collisionBoxArray:cn,partiallyEvaluatedTextSize:j.evaluateSizeForZoom(Ot.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:j.evaluateSizeForZoom(Ot.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ot.sourceID)};if(kt)for(const Mr of Ot.sortKeyRanges){const{sortKey:kr,symbolInstanceStart:oo,symbolInstanceEnd:Rr}=Mr;ot.push({sortKey:kr,symbolInstanceStart:oo,symbolInstanceEnd:Rr,parameters:wr})}else ot.push({symbolInstanceStart:0,symbolInstanceEnd:Ot.symbolInstances.length,parameters:wr})}attemptAnchorPlacement(ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn,Pn,In,er){const Hn=[Nn.textOffset0,Nn.textOffset1],dr=Wt(ot,Ut,kt,Hn,Ot),gr=this.collisionIndex.placeCollisionBox(jn,Ot,lt,ln(dr.x,dr.y,qt,an,this.transform.angle),Qn,cn,_n,Fn.predicate);if(Pn){const tr=jn.getSymbolInstanceIconSize(er,this.transform.zoom,Nn.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(jn,tr,Pn,ln(dr.x,dr.y,qt,an,this.transform.angle),Qn,cn,_n,Fn.predicate).box.length===0)return}if(gr.box.length>0){let tr;return this.prevPlacement&&this.prevPlacement.variableOffsets[Nn.crossTileID]&&this.prevPlacement.placements[Nn.crossTileID]&&this.prevPlacement.placements[Nn.crossTileID].text&&(tr=this.prevPlacement.variableOffsets[Nn.crossTileID].anchor),this.variableOffsets[Nn.crossTileID]={textOffset:Hn,width:Ut,height:kt,anchor:ot,textScale:Ot,prevAnchor:tr},this.markUsedJustification(jn,ot,Nn,Xn),jn.allowVerticalPlacement&&(this.markUsedOrientation(jn,Xn,Nn),this.placedOrientations[Nn.crossTileID]=Xn),{shift:dr,placedGlyphBoxes:gr}}}placeLayerBucketPart(ot,lt,Ut,kt){const{bucket:Ot,layout:qt,posMatrix:an,textLabelPlaneMatrix:cn,labelToScreenMatrix:_n,clippingData:Fn,textPixelRatio:Qn,holdingForFade:Nn,collisionBoxArray:Yn,partiallyEvaluatedTextSize:jn,partiallyEvaluatedIconSize:Xn,collisionGroup:Pn}=ot.parameters,In=qt.get("text-optional"),er=qt.get("icon-optional"),Hn=qt.get("text-allow-overlap"),dr=qt.get("icon-allow-overlap"),gr=qt.get("text-rotation-alignment")==="map",tr=qt.get("text-pitch-alignment")==="map",vr=qt.get("icon-text-fit")!=="none",wr=qt.get("symbol-z-order")==="viewport-y";this.transform.setProjection(Ot.projection);let Mr=Hn&&(dr||!Ot.hasIconData()||er),kr=dr&&(Hn||!Ot.hasTextData()||In);!Ot.collisionArrays&&Yn&&Ot.deserializeCollisionBoxes(Yn),Ut&&kt&&Ot.updateCollisionDebugBuffers(this.transform.zoom,Yn);const oo=(Rr,Zr,Gr)=>{if(Fn){const Ws={zoom:this.transform.zoom,pitch:this.transform.pitch};let $a=null;if(Fn.dynamicFilterNeedsFeature){const Cs=this.retainedQueryData[Ot.bucketInstanceId];$a=Fn.featureIndex.loadFeature({featureIndex:Rr.featureIndex,bucketIndex:Cs.bucketIndex,sourceLayerIndex:Cs.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Fn.dynamicFilter)(Ws,$a,this.retainedQueryData[Ot.bucketInstanceId].tileID.canonical,new j.pointGeometry(Rr.tileAnchorX,Rr.tileAnchorY),this.transform.calculateDistanceTileData(Fn.unwrappedTileID)))return this.placements[Rr.crossTileID]=new gs(!1,!1,!1,!0),void(lt[Rr.crossTileID]=!0)}if(lt[Rr.crossTileID])return;if(Nn)return void(this.placements[Rr.crossTileID]=new gs(!1,!1,!1));let xr=!1,Fr=!1,yo=!0,uo=!1,fo=!1,co=null,ko={box:null,offscreen:null,occluded:null},Lo={box:null,offscreen:null,occluded:null},Wo=null,Do=null,ho=null,$o=0,us=0,Ns=0;Gr.textFeatureIndex?$o=Gr.textFeatureIndex:Rr.useRuntimeCollisionCircles&&($o=Rr.featureIndex),Gr.verticalTextFeatureIndex&&(us=Gr.verticalTextFeatureIndex);const Ps=Ws=>{Ws.tileID=this.retainedQueryData[Ot.bucketInstanceId].tileID,(this.transform.elevation||Ws.elevation)&&(Ws.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[Ot.bucketInstanceId].tileID,Ws.tileAnchorX,Ws.tileAnchorY):0)},As=Gr.textBox;if(As){Ps(As);const Ws=Cs=>{let El=j.WritingMode.horizontal;if(Ot.allowVerticalPlacement&&!Cs&&this.prevPlacement){const su=this.prevPlacement.placedOrientations[Rr.crossTileID];su&&(this.placedOrientations[Rr.crossTileID]=su,El=su,this.markUsedOrientation(Ot,El,Rr))}return El},$a=(Cs,El)=>{if(Ot.allowVerticalPlacement&&Rr.numVerticalGlyphVertices>0&&Gr.verticalTextBox){for(const su of Ot.writingModes)if(su===j.WritingMode.vertical?(ko=El(),Lo=ko):ko=Cs(),ko&&ko.box&&ko.box.length)break}else ko=Cs()};if(qt.get("text-variable-anchor")){let Cs=qt.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Rr.crossTileID]){const zs=this.prevPlacement.variableOffsets[Rr.crossTileID];Cs.indexOf(zs.anchor)>0&&(Cs=Cs.filter(Qu=>Qu!==zs.anchor),Cs.unshift(zs.anchor))}const El=(zs,Qu,Yp)=>{const Yu=Ot.getSymbolInstanceTextSize(jn,Rr,this.transform.zoom,Zr),Xl=(zs.x2-zs.x1)*Yu+2*zs.padding,cy=(zs.y2-zs.y1)*Yu+2*zs.padding,Qp=vr&&!dr?Qu:null;Qp&&Ps(Qp);let Ho={box:[],offscreen:!1,occluded:!1};const xp=Hn?2*Cs.length:Cs.length;for(let pm=0;pm<xp;++pm){const vu=this.attemptAnchorPlacement(Cs[pm%Cs.length],zs,Xl,cy,Yu,gr,tr,Qn,an,Pn,pm>=Cs.length,Rr,Zr,Ot,Yp,Qp,jn,Xn);if(vu&&(Ho=vu.placedGlyphBoxes,Ho&&Ho.box&&Ho.box.length)){xr=!0,co=vu.shift;break}}return Ho};$a(()=>El(As,Gr.iconBox,j.WritingMode.horizontal),()=>{const zs=Gr.verticalTextBox;return zs&&Ps(zs),Ot.allowVerticalPlacement&&!(ko&&ko.box&&ko.box.length)&&Rr.numVerticalGlyphVertices>0&&zs?El(zs,Gr.verticalIconBox,j.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),ko&&(xr=ko.box,yo=ko.offscreen,uo=ko.occluded);const su=Ws(ko&&ko.box);if(!xr&&this.prevPlacement){const zs=this.prevPlacement.variableOffsets[Rr.crossTileID];zs&&(this.variableOffsets[Rr.crossTileID]=zs,this.markUsedJustification(Ot,zs.anchor,Rr,su))}}else{const Cs=(El,su)=>{const zs=Ot.getSymbolInstanceTextSize(jn,Rr,this.transform.zoom,Zr),Qu=this.collisionIndex.placeCollisionBox(Ot,zs,El,new j.pointGeometry(0,0),Hn,Qn,an,Pn.predicate);return Qu&&Qu.box&&Qu.box.length&&(this.markUsedOrientation(Ot,su,Rr),this.placedOrientations[Rr.crossTileID]=su),Qu};$a(()=>Cs(As,j.WritingMode.horizontal),()=>{const El=Gr.verticalTextBox;return Ot.allowVerticalPlacement&&Rr.numVerticalGlyphVertices>0&&El?(Ps(El),Cs(El,j.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Ws(ko&&ko.box&&ko.box.length)}}if(Wo=ko,xr=Wo&&Wo.box&&Wo.box.length>0,yo=Wo&&Wo.offscreen,uo=Wo&&Wo.occluded,Rr.useRuntimeCollisionCircles){const Ws=Ot.text.placedSymbolArray.get(Rr.centerJustifiedTextSymbolIndex>=0?Rr.centerJustifiedTextSymbolIndex:Rr.verticalPlacedTextSymbolIndex),$a=j.evaluateSizeForFeature(Ot.textSizeData,jn,Ws),Cs=qt.get("text-padding");Do=this.collisionIndex.placeCollisionCircles(Ot,Hn,Ws,Ot.lineVertexArray,Ot.glyphOffsetArray,$a,an,cn,_n,Ut,tr,Pn.predicate,Rr.collisionCircleDiameter*$a/j.ONE_EM,Cs,this.retainedQueryData[Ot.bucketInstanceId].tileID),xr=Hn||Do.circles.length>0&&!Do.collisionDetected,yo=yo&&Do.offscreen,uo=Do.occluded}if(Gr.iconFeatureIndex&&(Ns=Gr.iconFeatureIndex),Gr.iconBox){const Ws=$a=>{Ps($a);const Cs=vr&&co?ln(co.x,co.y,gr,tr,this.transform.angle):new j.pointGeometry(0,0),El=Ot.getSymbolInstanceIconSize(Xn,this.transform.zoom,Rr.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(Ot,El,$a,Cs,dr,Qn,an,Pn.predicate)};Lo&&Lo.box&&Lo.box.length&&Gr.verticalIconBox?(ho=Ws(Gr.verticalIconBox),Fr=ho.box.length>0):(ho=Ws(Gr.iconBox),Fr=ho.box.length>0),yo=yo&&ho.offscreen,fo=ho.occluded}const Nl=In||Rr.numHorizontalGlyphVertices===0&&Rr.numVerticalGlyphVertices===0,ou=er||Rr.numIconVertices===0;if(Nl||ou?ou?Nl||(Fr=Fr&&xr):xr=Fr&&xr:Fr=xr=Fr&&xr,xr&&Wo&&Wo.box&&this.collisionIndex.insertCollisionBox(Wo.box,qt.get("text-ignore-placement"),Ot.bucketInstanceId,Lo&&Lo.box&&us?us:$o,Pn.ID),Fr&&ho&&this.collisionIndex.insertCollisionBox(ho.box,qt.get("icon-ignore-placement"),Ot.bucketInstanceId,Ns,Pn.ID),Do&&(xr&&this.collisionIndex.insertCollisionCircles(Do.circles,qt.get("text-ignore-placement"),Ot.bucketInstanceId,$o,Pn.ID),Ut)){const Ws=Ot.bucketInstanceId;let $a=this.collisionCircleArrays[Ws];$a===void 0&&($a=this.collisionCircleArrays[Ws]=new Is);for(let Cs=0;Cs<Do.circles.length;Cs+=4)$a.circles.push(Do.circles[Cs+0]),$a.circles.push(Do.circles[Cs+1]),$a.circles.push(Do.circles[Cs+2]),$a.circles.push(Do.collisionDetected?1:0)}const fp=Ot.projection.name!=="globe";Mr=Mr&&(fp||!uo),kr=kr&&(fp||!fo),this.placements[Rr.crossTileID]=new gs(xr||Mr,Fr||kr,yo||Ot.justReloaded),lt[Rr.crossTileID]=!0};if(wr){const Rr=Ot.getSortedSymbolIndexes(this.transform.angle);for(let Zr=Rr.length-1;Zr>=0;--Zr){const Gr=Rr[Zr];oo(Ot.symbolInstances.get(Gr),Gr,Ot.collisionArrays[Gr])}}else for(let Rr=ot.symbolInstanceStart;Rr<ot.symbolInstanceEnd;Rr++)oo(Ot.symbolInstances.get(Rr),Rr,Ot.collisionArrays[Rr]);if(Ut&&Ot.bucketInstanceId in this.collisionCircleArrays){const Rr=this.collisionCircleArrays[Ot.bucketInstanceId];j.invert(Rr.invProjMatrix,an),Rr.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ot.justReloaded=!1}markUsedJustification(ot,lt,Ut,kt){let Ot;Ot=kt===j.WritingMode.vertical?Ut.verticalPlacedTextSymbolIndex:{left:Ut.leftJustifiedTextSymbolIndex,center:Ut.centerJustifiedTextSymbolIndex,right:Ut.rightJustifiedTextSymbolIndex}[j.getAnchorJustification(lt)];const qt=[Ut.leftJustifiedTextSymbolIndex,Ut.centerJustifiedTextSymbolIndex,Ut.rightJustifiedTextSymbolIndex,Ut.verticalPlacedTextSymbolIndex];for(const an of qt)an>=0&&(ot.text.placedSymbolArray.get(an).crossTileID=Ot>=0&&an!==Ot?0:Ut.crossTileID)}markUsedOrientation(ot,lt,Ut){const kt=lt===j.WritingMode.horizontal||lt===j.WritingMode.horizontalOnly?lt:0,Ot=lt===j.WritingMode.vertical?lt:0,qt=[Ut.leftJustifiedTextSymbolIndex,Ut.centerJustifiedTextSymbolIndex,Ut.rightJustifiedTextSymbolIndex].filter(an=>an!==-1);for(const an of qt)ot.text.placedSymbolArray.get(an).placedOrientation=kt;Ut.verticalPlacedTextSymbolIndex!==-1&&(ot.text.placedSymbolArray.get(Ut.verticalPlacedTextSymbolIndex).placedOrientation=Ot)}commit(ot){this.commitTime=ot,this.zoomAtLastRecencyCheck=this.transform.zoom;const lt=this.prevPlacement;let Ut=!1;this.prevZoomAdjustment=lt?lt.zoomAdjustment(this.transform.zoom):0;const kt=lt?lt.symbolFadeChange(ot):1,Ot=lt?lt.opacities:{},qt=lt?lt.variableOffsets:{},an=lt?lt.placedOrientations:{};for(const cn in this.placements){const _n=this.placements[cn],Fn=Ot[cn];Fn?(this.opacities[cn]=new Bl(Fn,kt,_n.text,_n.icon,null,_n.clipped),Ut=Ut||_n.text!==Fn.text.placed||_n.icon!==Fn.icon.placed):(this.opacities[cn]=new Bl(null,kt,_n.text,_n.icon,_n.skipFade,_n.clipped),Ut=Ut||_n.text||_n.icon)}for(const cn in Ot){const _n=Ot[cn];if(!this.opacities[cn]){const Fn=new Bl(_n,kt,!1,!1);Fn.isHidden()||(this.opacities[cn]=Fn,Ut=Ut||_n.text.placed||_n.icon.placed)}}for(const cn in qt)this.variableOffsets[cn]||!this.opacities[cn]||this.opacities[cn].isHidden()||(this.variableOffsets[cn]=qt[cn]);for(const cn in an)this.placedOrientations[cn]||!this.opacities[cn]||this.opacities[cn].isHidden()||(this.placedOrientations[cn]=an[cn]);Ut?this.lastPlacementChangeTime=ot:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=lt?lt.lastPlacementChangeTime:ot)}updateLayerOpacities(ot,lt){const Ut={};for(const kt of lt){const Ot=kt.getBucket(ot);Ot&&kt.latestFeatureIndex&&ot.id===Ot.layerIds[0]&&this.updateBucketOpacities(Ot,Ut,kt.collisionBoxArray)}}updateBucketOpacities(ot,lt,Ut){ot.hasTextData()&&ot.text.opacityVertexArray.clear(),ot.hasIconData()&&ot.icon.opacityVertexArray.clear(),ot.hasIconCollisionBoxData()&&ot.iconCollisionBox.collisionVertexArray.clear(),ot.hasTextCollisionBoxData()&&ot.textCollisionBox.collisionVertexArray.clear();const kt=ot.layers[0].layout,Ot=!!ot.layers[0].dynamicFilter(),qt=new Bl(null,0,!1,!1,!0),an=kt.get("text-allow-overlap"),cn=kt.get("icon-allow-overlap"),_n=kt.get("text-variable-anchor"),Fn=kt.get("text-rotation-alignment")==="map",Qn=kt.get("text-pitch-alignment")==="map",Nn=kt.get("icon-text-fit")!=="none",Yn=new Bl(null,0,an&&(cn||!ot.hasIconData()||kt.get("icon-optional")),cn&&(an||!ot.hasTextData()||kt.get("text-optional")),!0);!ot.collisionArrays&&Ut&&(ot.hasIconCollisionBoxData()||ot.hasTextCollisionBoxData())&&ot.deserializeCollisionBoxes(Ut);const jn=(Pn,In,er)=>{for(let Hn=0;Hn<In/4;Hn++)Pn.opacityVertexArray.emplaceBack(er)};let Xn=0;for(let Pn=0;Pn<ot.symbolInstances.length;Pn++){const In=ot.symbolInstances.get(Pn),{numHorizontalGlyphVertices:er,numVerticalGlyphVertices:Hn,crossTileID:dr}=In;let gr=this.opacities[dr];lt[dr]?gr=qt:gr||(gr=Yn,this.opacities[dr]=gr),lt[dr]=!0;const tr=er>0||Hn>0,vr=In.numIconVertices>0,wr=this.placedOrientations[In.crossTileID],Mr=wr===j.WritingMode.vertical,kr=wr===j.WritingMode.horizontal||wr===j.WritingMode.horizontalOnly;if(!tr&&!vr||gr.isHidden()||Xn++,tr){const oo=Vo(gr.text);jn(ot.text,er,Mr?go:oo),jn(ot.text,Hn,kr?go:oo);const Rr=gr.text.isHidden();[In.rightJustifiedTextSymbolIndex,In.centerJustifiedTextSymbolIndex,In.leftJustifiedTextSymbolIndex].forEach(xr=>{xr>=0&&(ot.text.placedSymbolArray.get(xr).hidden=Rr||Mr?1:0)}),In.verticalPlacedTextSymbolIndex>=0&&(ot.text.placedSymbolArray.get(In.verticalPlacedTextSymbolIndex).hidden=Rr||kr?1:0);const Zr=this.variableOffsets[In.crossTileID];Zr&&this.markUsedJustification(ot,Zr.anchor,In,wr);const Gr=this.placedOrientations[In.crossTileID];Gr&&(this.markUsedJustification(ot,"left",In,Gr),this.markUsedOrientation(ot,Gr,In))}if(vr){const oo=Vo(gr.icon);In.placedIconSymbolIndex>=0&&(jn(ot.icon,In.numIconVertices,Mr?go:oo),ot.icon.placedSymbolArray.get(In.placedIconSymbolIndex).hidden=gr.icon.isHidden()),In.verticalPlacedIconSymbolIndex>=0&&(jn(ot.icon,In.numVerticalIconVertices,kr?go:oo),ot.icon.placedSymbolArray.get(In.verticalPlacedIconSymbolIndex).hidden=gr.icon.isHidden())}if(ot.hasIconCollisionBoxData()||ot.hasTextCollisionBoxData()){const oo=ot.collisionArrays[Pn];if(oo){let Rr=new j.pointGeometry(0,0),Zr=!0;if(oo.textBox||oo.verticalTextBox){if(_n){const xr=this.variableOffsets[dr];xr?(Rr=Wt(xr.anchor,xr.width,xr.height,xr.textOffset,xr.textScale),Fn&&Rr._rotate(Qn?this.transform.angle:-this.transform.angle)):Zr=!1}Ot&&(Zr=!gr.clipped),oo.textBox&&Cn(ot.textCollisionBox.collisionVertexArray,gr.text.placed,!Zr||Mr,Rr.x,Rr.y),oo.verticalTextBox&&Cn(ot.textCollisionBox.collisionVertexArray,gr.text.placed,!Zr||kr,Rr.x,Rr.y)}const Gr=Zr&&Boolean(!kr&&oo.verticalIconBox);oo.iconBox&&Cn(ot.iconCollisionBox.collisionVertexArray,gr.icon.placed,Gr,Nn?Rr.x:0,Nn?Rr.y:0),oo.verticalIconBox&&Cn(ot.iconCollisionBox.collisionVertexArray,gr.icon.placed,!Gr,Nn?Rr.x:0,Nn?Rr.y:0)}}}if(ot.fullyClipped=Xn===0,ot.sortFeatures(this.transform.angle),this.retainedQueryData[ot.bucketInstanceId]&&(this.retainedQueryData[ot.bucketInstanceId].featureSortOrder=ot.featureSortOrder),ot.hasTextData()&&ot.text.opacityVertexBuffer&&ot.text.opacityVertexBuffer.updateData(ot.text.opacityVertexArray),ot.hasIconData()&&ot.icon.opacityVertexBuffer&&ot.icon.opacityVertexBuffer.updateData(ot.icon.opacityVertexArray),ot.hasIconCollisionBoxData()&&ot.iconCollisionBox.collisionVertexBuffer&&ot.iconCollisionBox.collisionVertexBuffer.updateData(ot.iconCollisionBox.collisionVertexArray),ot.hasTextCollisionBoxData()&&ot.textCollisionBox.collisionVertexBuffer&&ot.textCollisionBox.collisionVertexBuffer.updateData(ot.textCollisionBox.collisionVertexArray),ot.bucketInstanceId in this.collisionCircleArrays){const Pn=this.collisionCircleArrays[ot.bucketInstanceId];ot.placementInvProjMatrix=Pn.invProjMatrix,ot.placementViewportMatrix=Pn.viewportMatrix,ot.collisionCircleArray=Pn.circles,delete this.collisionCircleArrays[ot.bucketInstanceId]}}symbolFadeChange(ot){return this.fadeDuration===0?1:(ot-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(ot){return Math.max(0,(this.transform.zoom-ot)/1.5)}hasTransitions(ot){return this.stale||ot-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(ot,lt){const Ut=this.zoomAtLastRecencyCheck===lt?1-this.zoomAdjustment(lt):1;return this.zoomAtLastRecencyCheck=lt,this.commitTime+this.fadeDuration*Ut>ot}setStale(){this.stale=!0}}function Cn(gt,ot,lt,Ut,kt){gt.emplaceBack(ot?1:0,lt?1:0,Ut||0,kt||0),gt.emplaceBack(ot?1:0,lt?1:0,Ut||0,kt||0),gt.emplaceBack(ot?1:0,lt?1:0,Ut||0,kt||0),gt.emplaceBack(ot?1:0,lt?1:0,Ut||0,kt||0)}const Wn=Math.pow(2,25),sr=Math.pow(2,24),Dn=Math.pow(2,17),qn=Math.pow(2,16),Br=Math.pow(2,9),Er=Math.pow(2,8),Lr=Math.pow(2,1);function Vo(gt){if(gt.opacity===0&&!gt.placed)return 0;if(gt.opacity===1&&gt.placed)return 4294967295;const ot=gt.placed?1:0,lt=Math.floor(127*gt.opacity);return lt*Wn+ot*sr+lt*Dn+ot*qn+lt*Br+ot*Er+lt*Lr+ot}const go=0;class Eo{constructor(ot){this._sortAcrossTiles=ot.layout.get("symbol-z-order")!=="viewport-y"&&ot.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(ot,lt,Ut,kt,Ot){const qt=this._bucketParts;for(;this._currentTileIndex<ot.length;)if(lt.getBucketParts(qt,kt,ot[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Ot())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,qt.sort((an,cn)=>an.sortKey-cn.sortKey));this._currentPartIndex<qt.length;){const an=qt[this._currentPartIndex];if(lt.placeLayerBucketPart(an,this._seenCrossTileIDs,Ut,an.symbolInstanceStart===0),this._currentPartIndex++,Ot())return!0}return!1}}class Go{constructor(ot,lt,Ut,kt,Ot,qt,an,cn){this.placement=new bn(ot,Ot,qt,an,cn),this._currentPlacementIndex=lt.length-1,this._forceFullPlacement=Ut,this._showCollisionBoxes=kt,this._done=!1}isDone(){return this._done}continuePlacement(ot,lt,Ut){const kt=j.exported.now(),Ot=()=>{const qt=j.exported.now()-kt;return!this._forceFullPlacement&&qt>2};for(;this._currentPlacementIndex>=0;){const qt=lt[ot[this._currentPlacementIndex]],an=this.placement.collisionIndex.transform.zoom;if(qt.type==="symbol"&&(!qt.minzoom||qt.minzoom<=an)&&(!qt.maxzoom||qt.maxzoom>an)){if(this._inProgressLayer||(this._inProgressLayer=new Eo(qt)),this._inProgressLayer.continuePlacement(Ut[qt.source],this.placement,this._showCollisionBoxes,qt,Ot))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(ot){return this.placement.commit(ot),this.placement}}const qo=512/j.EXTENT/2;class Ro{constructor(ot,lt,Ut){this.tileID=ot,this.indexedSymbolInstances={},this.bucketInstanceId=Ut;for(let kt=0;kt<lt.length;kt++){const Ot=lt.get(kt),qt=Ot.key;this.indexedSymbolInstances[qt]||(this.indexedSymbolInstances[qt]=[]),this.indexedSymbolInstances[qt].push({crossTileID:Ot.crossTileID,coord:this.getScaledCoordinates(Ot,ot)})}}getScaledCoordinates(ot,lt){const Ut=qo/Math.pow(2,lt.canonical.z-this.tileID.canonical.z);return{x:Math.floor((lt.canonical.x*j.EXTENT+ot.tileAnchorX)*Ut),y:Math.floor((lt.canonical.y*j.EXTENT+ot.tileAnchorY)*Ut)}}findMatches(ot,lt,Ut){const kt=this.tileID.canonical.z<lt.canonical.z?1:Math.pow(2,this.tileID.canonical.z-lt.canonical.z);for(let Ot=0;Ot<ot.length;Ot++){const qt=ot.get(Ot);if(qt.crossTileID)continue;const an=this.indexedSymbolInstances[qt.key];if(!an)continue;const cn=this.getScaledCoordinates(qt,lt);for(const _n of an)if(Math.abs(_n.coord.x-cn.x)<=kt&&Math.abs(_n.coord.y-cn.y)<=kt&&!Ut[_n.crossTileID]){Ut[_n.crossTileID]=!0,qt.crossTileID=_n.crossTileID;break}}}}class Sl{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class iu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(ot){const lt=Math.round((ot-this.lng)/360);if(lt!==0)for(const Ut in this.indexes){const kt=this.indexes[Ut],Ot={};for(const qt in kt){const an=kt[qt];an.tileID=an.tileID.unwrapTo(an.tileID.wrap+lt),Ot[an.tileID.key]=an}this.indexes[Ut]=Ot}this.lng=ot}addBucket(ot,lt,Ut){if(this.indexes[ot.overscaledZ]&&this.indexes[ot.overscaledZ][ot.key]){if(this.indexes[ot.overscaledZ][ot.key].bucketInstanceId===lt.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(ot.overscaledZ,this.indexes[ot.overscaledZ][ot.key])}for(let Ot=0;Ot<lt.symbolInstances.length;Ot++)lt.symbolInstances.get(Ot).crossTileID=0;this.usedCrossTileIDs[ot.overscaledZ]||(this.usedCrossTileIDs[ot.overscaledZ]={});const kt=this.usedCrossTileIDs[ot.overscaledZ];for(const Ot in this.indexes){const qt=this.indexes[Ot];if(Number(Ot)>ot.overscaledZ)for(const an in qt){const cn=qt[an];cn.tileID.isChildOf(ot)&&cn.findMatches(lt.symbolInstances,ot,kt)}else{const an=qt[ot.scaledTo(Number(Ot)).key];an&&an.findMatches(lt.symbolInstances,ot,kt)}}for(let Ot=0;Ot<lt.symbolInstances.length;Ot++){const qt=lt.symbolInstances.get(Ot);qt.crossTileID||(qt.crossTileID=Ut.generate(),kt[qt.crossTileID]=!0)}return this.indexes[ot.overscaledZ]===void 0&&(this.indexes[ot.overscaledZ]={}),this.indexes[ot.overscaledZ][ot.key]=new Ro(ot,lt.symbolInstances,lt.bucketInstanceId),!0}removeBucketCrossTileIDs(ot,lt){for(const Ut in lt.indexedSymbolInstances)for(const kt of lt.indexedSymbolInstances[Ut])delete this.usedCrossTileIDs[ot][kt.crossTileID]}removeStaleBuckets(ot){let lt=!1;for(const Ut in this.indexes){const kt=this.indexes[Ut];for(const Ot in kt)ot[kt[Ot].bucketInstanceId]||(this.removeBucketCrossTileIDs(Ut,kt[Ot]),delete kt[Ot],lt=!0)}return lt}}class Qm{constructor(){this.layerIndexes={},this.crossTileIDs=new Sl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(ot,lt,Ut,kt){let Ot=this.layerIndexes[ot.id];Ot===void 0&&(Ot=this.layerIndexes[ot.id]=new iu);let qt=!1;const an={};kt.name!=="globe"&&Ot.handleWrapJump(Ut);for(const cn of lt){const _n=cn.getBucket(ot);_n&&ot.id===_n.layerIds[0]&&(_n.bucketInstanceId||(_n.bucketInstanceId=++this.maxBucketInstanceId),Ot.addBucket(cn.tileID,_n,this.crossTileIDs)&&(qt=!0),an[_n.bucketInstanceId]=!0)}return Ot.removeStaleBuckets(an)&&(qt=!0),qt}pruneUnusedLayers(ot){const lt={};ot.forEach(Ut=>{lt[Ut]=!0});for(const Ut in this.layerIndexes)lt[Ut]||delete this.layerIndexes[Ut]}}const zu=(gt,ot)=>j.emitValidationErrors(gt,ot&&ot.filter(lt=>lt.identifier!=="source.canvas")),t0=j.pick(Uo,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Fl=j.pick(Uo,["setCenter","setZoom","setBearing","setPitch"]),By={version:8,layers:[],sources:{}},Up={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ap extends j.Evented{constructor(ot,lt={}){super(),this.map=ot,this.dispatcher=new mn(No(),this),this.imageManager=new It,this.imageManager.setEventedParent(this),this.glyphManager=new j.GlyphManager(ot._requestManager,lt.localFontFamily?j.LocalGlyphMode.all:lt.localIdeographFontFamily?j.LocalGlyphMode.ideographs:j.LocalGlyphMode.none,lt.localFontFamily||lt.localIdeographFontFamily),this.crossTileSymbolIndex=new Qm,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new j.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",j.getReferrer());const Ut=this;this._rtlTextPluginCallback=ap.registerForPluginStateChange(kt=>{Ut.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:kt.pluginStatus,pluginURL:kt.pluginURL},(Ot,qt)=>{if(j.triggerPluginCompletionEvent(Ot),qt&&qt.every(an=>an))for(const an in Ut._sourceCaches){const cn=Ut._sourceCaches[an],_n=cn.getSource().type;_n!=="vector"&&_n!=="geojson"||cn.reload()}})}),this.on("data",kt=>{if(kt.dataType!=="source"||kt.sourceDataType!=="metadata")return;const Ot=this.getSource(kt.sourceId);if(Ot&&Ot.vectorLayerIds)for(const qt in this._layers){const an=this._layers[qt];an.source===Ot.id&&this._validateLayer(an)}})}loadURL(ot,lt={}){this.fire(new j.Event("dataloading",{dataType:"style"}));const Ut=typeof lt.validate=="boolean"?lt.validate:!j.isMapboxURL(ot);ot=this.map._requestManager.normalizeStyleURL(ot,lt.accessToken);const kt=this.map._requestManager.transformRequest(ot,j.ResourceType.Style);this._request=j.getJSON(kt,(Ot,qt)=>{this._request=null,Ot?this.fire(new j.ErrorEvent(Ot)):qt&&this._load(qt,Ut)})}loadJSON(ot,lt={}){this.fire(new j.Event("dataloading",{dataType:"style"})),this._request=j.exported.frame(()=>{this._request=null,this._load(ot,lt.validate!==!1)})}loadEmpty(){this.fire(new j.Event("dataloading",{dataType:"style"})),this._load(By,!1)}_updateLayerCount(ot,lt){const Ut=lt?1:-1;ot.is3D()&&(this._num3DLayers+=Ut),ot.type==="circle"&&(this._numCircleLayers+=Ut),ot.type==="symbol"&&(this._numSymbolLayers+=Ut)}_load(ot,lt){if(lt&&zu(this,j.validateStyle(ot)))return;this._loaded=!0,this.stylesheet=j.clone$1(ot),this._updateMapProjection();for(const kt in ot.sources)this.addSource(kt,ot.sources[kt],{validate:!1});this._changed=!1,ot.sprite?this._loadSprite(ot.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(ot.glyphs);const Ut=fs(this.stylesheet.layers);this._order=Ut.map(kt=>kt.id),this._layers={},this._serializedLayers={};for(let kt of Ut)kt=j.createStyleLayer(kt),kt.setEventedParent(this,{layer:{id:kt.id}}),this._layers[kt.id]=kt,this._serializedLayers[kt.id]=kt.serialize(),this._updateLayerCount(kt,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Xt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new j.Event("data",{dataType:"style"})),this.fire(new j.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(ot){ot?this.stylesheet.projection=ot:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(ot){this._spriteRequest=function(lt,Ut,kt){let Ot,qt,an;const cn=j.exported.devicePixelRatio>1?"@2x":"";let _n=j.getJSON(Ut.transformRequest(Ut.normalizeSpriteURL(lt,cn,".json"),j.ResourceType.SpriteJSON),(Nn,Yn)=>{_n=null,an||(an=Nn,Ot=Yn,Qn())}),Fn=j.getImage(Ut.transformRequest(Ut.normalizeSpriteURL(lt,cn,".png"),j.ResourceType.SpriteImage),(Nn,Yn)=>{Fn=null,an||(an=Nn,qt=Yn,Qn())});function Qn(){if(an)kt(an);else if(Ot&&qt){const Nn=j.exported.getImageData(qt),Yn={};for(const jn in Ot){const{width:Xn,height:Pn,x:In,y:er,sdf:Hn,pixelRatio:dr,stretchX:gr,stretchY:tr,content:vr}=Ot[jn],wr=new j.RGBAImage({width:Xn,height:Pn});j.RGBAImage.copy(Nn,wr,{x:In,y:er},{x:0,y:0},{width:Xn,height:Pn}),Yn[jn]={data:wr,pixelRatio:dr,sdf:Hn,stretchX:gr,stretchY:tr,content:vr}}kt(null,Yn)}}return{cancel(){_n&&(_n.cancel(),_n=null),Fn&&(Fn.cancel(),Fn=null)}}}(ot,this.map._requestManager,(lt,Ut)=>{if(this._spriteRequest=null,lt)this.fire(new j.ErrorEvent(lt));else if(Ut)for(const kt in Ut)this.imageManager.addImage(kt,Ut[kt]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new j.Event("data",{dataType:"style"}))})}_validateLayer(ot){const lt=this.getSource(ot.source);if(!lt)return;const Ut=ot.sourceLayer;Ut&&(lt.type==="geojson"||lt.vectorLayerIds&&lt.vectorLayerIds.indexOf(Ut)===-1)&&this.fire(new j.ErrorEvent(new Error(`Source layer "${Ut}" does not exist on source "${lt.id}" as specified by style layer "${ot.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const ot in this._sourceCaches)if(!this._sourceCaches[ot].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(ot){const lt=[];for(const Ut of ot){const kt=this._layers[Ut];kt.type!=="custom"&&lt.push(kt.serialize())}return lt}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const ot in this._sourceCaches)if(this._sourceCaches[ot].hasTransition())return!0;for(const ot in this._layers)if(this._layers[ot].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(ot){return!!this.terrain&&Up[ot.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(ot){if(!this._loaded)return;const lt=this._changed;if(this._changed){const kt=Object.keys(this._updatedLayers),Ot=Object.keys(this._removedLayers);(kt.length||Ot.length)&&this._updateWorkerLayers(kt,Ot);for(const qt in this._updatedSources){const an=this._updatedSources[qt];an==="reload"?this._reloadSource(qt):an==="clear"&&this._clearSource(qt)}this._updateTilesForChangedImages();for(const qt in this._updatedPaintProps)this._layers[qt].updateTransitions(ot);this.light.updateTransitions(ot),this.fog&&this.fog.updateTransitions(ot),this._resetUpdates()}const Ut={};for(const kt in this._sourceCaches){const Ot=this._sourceCaches[kt];Ut[kt]=Ot.used,Ot.used=!1}for(const kt of this._order){const Ot=this._layers[kt];if(Ot.recalculate(ot,this._availableImages),!Ot.isHidden(ot.zoom)){const an=this._getLayerSourceCache(Ot);an&&(an.used=!0)}const qt=this.map.painter;if(qt){const an=Ot.getProgramIds();if(!an)continue;const cn=Ot.getProgramConfiguration(ot.zoom);for(const _n of an)qt.useProgram(_n,cn)}}for(const kt in Ut){const Ot=this._sourceCaches[kt];Ut[kt]!==Ot.used&&Ot.getSource().fire(new j.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ot.getSource().id}))}this.light.recalculate(ot),this.terrain&&this.terrain.recalculate(ot),this.fog&&this.fog.recalculate(ot),this.z=ot.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),lt&&this.fire(new j.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const ot=Object.keys(this._changedImages);if(ot.length){for(const lt in this._sourceCaches)this._sourceCaches[lt].reloadTilesForDependencies(["icons","patterns"],ot);this._changedImages={}}}_updateWorkerLayers(ot,lt){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ot),removedIds:lt})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(ot){if(this._checkLoaded(),zu(this,j.validateStyle(ot)))return!1;(ot=j.clone$1(ot)).layers=fs(ot.layers);const lt=function(kt,Ot){if(!kt)return[{command:Uo.setStyle,args:[Ot]}];let qt=[];try{if(!nt(kt.version,Ot.version))return[{command:Uo.setStyle,args:[Ot]}];nt(kt.center,Ot.center)||qt.push({command:Uo.setCenter,args:[Ot.center]}),nt(kt.zoom,Ot.zoom)||qt.push({command:Uo.setZoom,args:[Ot.zoom]}),nt(kt.bearing,Ot.bearing)||qt.push({command:Uo.setBearing,args:[Ot.bearing]}),nt(kt.pitch,Ot.pitch)||qt.push({command:Uo.setPitch,args:[Ot.pitch]}),nt(kt.sprite,Ot.sprite)||qt.push({command:Uo.setSprite,args:[Ot.sprite]}),nt(kt.glyphs,Ot.glyphs)||qt.push({command:Uo.setGlyphs,args:[Ot.glyphs]}),nt(kt.transition,Ot.transition)||qt.push({command:Uo.setTransition,args:[Ot.transition]}),nt(kt.light,Ot.light)||qt.push({command:Uo.setLight,args:[Ot.light]}),nt(kt.fog,Ot.fog)||qt.push({command:Uo.setFog,args:[Ot.fog]}),nt(kt.projection,Ot.projection)||qt.push({command:Uo.setProjection,args:[Ot.projection]});const an={},cn=[];(function(Qn,Nn,Yn,jn){let Xn;for(Xn in Nn=Nn||{},Qn=Qn||{})Qn.hasOwnProperty(Xn)&&(Nn.hasOwnProperty(Xn)||bs(Xn,Yn,jn));for(Xn in Nn)Nn.hasOwnProperty(Xn)&&(Qn.hasOwnProperty(Xn)?nt(Qn[Xn],Nn[Xn])||(Qn[Xn].type==="geojson"&&Nn[Xn].type==="geojson"&&hu(Qn,Nn,Xn)?Yn.push({command:Uo.setGeoJSONSourceData,args:[Xn,Nn[Xn].data]}):Ru(Xn,Nn,Yn,jn)):ws(Xn,Nn,Yn))})(kt.sources,Ot.sources,cn,an);const _n=[];kt.layers&&kt.layers.forEach(Qn=>{Qn.source&&an[Qn.source]?qt.push({command:Uo.removeLayer,args:[Qn.id]}):_n.push(Qn)});let Fn=kt.terrain;Fn&&an[Fn.source]&&(qt.push({command:Uo.setTerrain,args:[void 0]}),Fn=void 0),qt=qt.concat(cn),nt(Fn,Ot.terrain)||qt.push({command:Uo.setTerrain,args:[Ot.terrain]}),function(Qn,Nn,Yn){Nn=Nn||[];const jn=(Qn=Qn||[]).map(_a),Xn=Nn.map(_a),Pn=Qn.reduce(Js,{}),In=Nn.reduce(Js,{}),er=jn.slice(),Hn=Object.create(null);let dr,gr,tr,vr,wr,Mr,kr;for(dr=0,gr=0;dr<jn.length;dr++)tr=jn[dr],In.hasOwnProperty(tr)?gr++:(Yn.push({command:Uo.removeLayer,args:[tr]}),er.splice(er.indexOf(tr,gr),1));for(dr=0,gr=0;dr<Xn.length;dr++)tr=Xn[Xn.length-1-dr],er[er.length-1-dr]!==tr&&(Pn.hasOwnProperty(tr)?(Yn.push({command:Uo.removeLayer,args:[tr]}),er.splice(er.lastIndexOf(tr,er.length-gr),1)):gr++,Mr=er[er.length-dr],Yn.push({command:Uo.addLayer,args:[In[tr],Mr]}),er.splice(er.length-dr,0,tr),Hn[tr]=!0);for(dr=0;dr<Xn.length;dr++)if(tr=Xn[dr],vr=Pn[tr],wr=In[tr],!Hn[tr]&&!nt(vr,wr))if(nt(vr.source,wr.source)&&nt(vr["source-layer"],wr["source-layer"])&&nt(vr.type,wr.type)){for(kr in Ir(vr.layout,wr.layout,Yn,tr,null,Uo.setLayoutProperty),Ir(vr.paint,wr.paint,Yn,tr,null,Uo.setPaintProperty),nt(vr.filter,wr.filter)||Yn.push({command:Uo.setFilter,args:[tr,wr.filter]}),nt(vr.minzoom,wr.minzoom)&&nt(vr.maxzoom,wr.maxzoom)||Yn.push({command:Uo.setLayerZoomRange,args:[tr,wr.minzoom,wr.maxzoom]}),vr)vr.hasOwnProperty(kr)&&kr!=="layout"&&kr!=="paint"&&kr!=="filter"&&kr!=="metadata"&&kr!=="minzoom"&&kr!=="maxzoom"&&(kr.indexOf("paint.")===0?Ir(vr[kr],wr[kr],Yn,tr,kr.slice(6),Uo.setPaintProperty):nt(vr[kr],wr[kr])||Yn.push({command:Uo.setLayerProperty,args:[tr,kr,wr[kr]]}));for(kr in wr)wr.hasOwnProperty(kr)&&!vr.hasOwnProperty(kr)&&kr!=="layout"&&kr!=="paint"&&kr!=="filter"&&kr!=="metadata"&&kr!=="minzoom"&&kr!=="maxzoom"&&(kr.indexOf("paint.")===0?Ir(vr[kr],wr[kr],Yn,tr,kr.slice(6),Uo.setPaintProperty):nt(vr[kr],wr[kr])||Yn.push({command:Uo.setLayerProperty,args:[tr,kr,wr[kr]]}))}else Yn.push({command:Uo.removeLayer,args:[tr]}),Mr=er[er.lastIndexOf(tr)+1],Yn.push({command:Uo.addLayer,args:[wr,Mr]})}(_n,Ot.layers,qt)}catch(an){console.warn("Unable to compute style diff:",an),qt=[{command:Uo.setStyle,args:[Ot]}]}return qt}(this.serialize(),ot).filter(kt=>!(kt.command in Fl));if(lt.length===0)return!1;const Ut=lt.filter(kt=>!(kt.command in t0));if(Ut.length>0)throw new Error(`Unimplemented: ${Ut.map(kt=>kt.command).join(", ")}.`);return lt.forEach(kt=>{kt.command!=="setTransition"&&kt.command!=="setProjection"&&this[kt.command].apply(this,kt.args)}),this.stylesheet=ot,this._updateMapProjection(),!0}addImage(ot,lt){return this.getImage(ot)?this.fire(new j.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(ot,lt),this._afterImageUpdated(ot),this)}updateImage(ot,lt){this.imageManager.updateImage(ot,lt)}getImage(ot){return this.imageManager.getImage(ot)}removeImage(ot){return this.getImage(ot)?(this.imageManager.removeImage(ot),this._afterImageUpdated(ot),this):this.fire(new j.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(ot){this._availableImages=this.imageManager.listImages(),this._changedImages[ot]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new j.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(ot,lt,Ut={}){if(this._checkLoaded(),this.getSource(ot)!==void 0)throw new Error("There is already a source with this ID");if(!lt.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(lt).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(lt.type)>=0&&this._validate(j.validateSource,`sources.${ot}`,lt,null,Ut))return;this.map&&this.map._collectResourceTiming&&(lt.collectResourceTiming=!0);const kt=mr(ot,lt,this.dispatcher,this);kt.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(ot),source:kt.serialize(),sourceId:ot}));const Ot=qt=>{const an=(qt?"symbol:":"other:")+ot,cn=this._sourceCaches[an]=new j.SourceCache(an,kt,qt);(qt?this._symbolSourceCaches:this._otherSourceCaches)[ot]=cn,cn.style=this,cn.onAdd(this.map)};Ot(!1),lt.type!=="vector"&&lt.type!=="geojson"||Ot(!0),kt.onAdd&&kt.onAdd(this.map),this._changed=!0}removeSource(ot){this._checkLoaded();const lt=this.getSource(ot);if(!lt)throw new Error("There is no source with this ID");for(const kt in this._layers)if(this._layers[kt].source===ot)return this.fire(new j.ErrorEvent(new Error(`Source "${ot}" cannot be removed while layer "${kt}" is using it.`)));if(this.terrain&&this.terrain.get().source===ot)return this.fire(new j.ErrorEvent(new Error(`Source "${ot}" cannot be removed while terrain is using it.`)));const Ut=this._getSourceCaches(ot);for(const kt of Ut)delete this._sourceCaches[kt.id],delete this._updatedSources[kt.id],kt.fire(new j.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:kt.getSource().id})),kt.setEventedParent(null),kt.clearTiles();return delete this._otherSourceCaches[ot],delete this._symbolSourceCaches[ot],lt.setEventedParent(null),lt.onRemove&&lt.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(ot,lt){this._checkLoaded(),this.getSource(ot).setData(lt),this._changed=!0}getSource(ot){const lt=this._getSourceCache(ot);return lt&&lt.getSource()}_getSources(){const ot=[];for(const lt in this._otherSourceCaches){const Ut=this._getSourceCache(lt);Ut&&ot.push(Ut.getSource())}return ot}addLayer(ot,lt,Ut={}){this._checkLoaded();const kt=ot.id;if(this.getLayer(kt))return void this.fire(new j.ErrorEvent(new Error(`Layer with id "${kt}" already exists on this map`)));let Ot;if(ot.type==="custom"){if(zu(this,j.validateCustomStyleLayer(ot)))return;Ot=j.createStyleLayer(ot)}else{if(typeof ot.source=="object"&&(this.addSource(kt,ot.source),ot=j.clone$1(ot),ot=j.extend(ot,{source:kt})),this._validate(j.validateLayer,`layers.${kt}`,ot,{arrayIndex:-1},Ut))return;Ot=j.createStyleLayer(ot),this._validateLayer(Ot),Ot.setEventedParent(this,{layer:{id:kt}}),this._serializedLayers[Ot.id]=Ot.serialize(),this._updateLayerCount(Ot,!0)}const qt=lt?this._order.indexOf(lt):this._order.length;if(lt&&qt===-1)return void this.fire(new j.ErrorEvent(new Error(`Layer with id "${lt}" does not exist on this map.`)));this._order.splice(qt,0,kt),this._layerOrderChanged=!0,this._layers[kt]=Ot;const an=this._getLayerSourceCache(Ot);if(this._removedLayers[kt]&&Ot.source&&an&&Ot.type!=="custom"){const cn=this._removedLayers[kt];delete this._removedLayers[kt],cn.type!==Ot.type?this._updatedSources[Ot.source]="clear":(this._updatedSources[Ot.source]="reload",an.pause())}this._updateLayer(Ot),Ot.onAdd&&Ot.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(ot,lt){if(this._checkLoaded(),this._changed=!0,!this._layers[ot])return void this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style and cannot be moved.`)));if(ot===lt)return;const Ut=this._order.indexOf(ot);this._order.splice(Ut,1);const kt=lt?this._order.indexOf(lt):this._order.length;lt&&kt===-1?this.fire(new j.ErrorEvent(new Error(`Layer with id "${lt}" does not exist on this map.`))):(this._order.splice(kt,0,ot),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(ot){this._checkLoaded();const lt=this._layers[ot];if(!lt)return void this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style and cannot be removed.`)));lt.setEventedParent(null),this._updateLayerCount(lt,!1);const Ut=this._order.indexOf(ot);this._order.splice(Ut,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ot]=lt,delete this._layers[ot],delete this._serializedLayers[ot],delete this._updatedLayers[ot],delete this._updatedPaintProps[ot],lt.onRemove&&lt.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(ot){return this._layers[ot]}hasLayer(ot){return ot in this._layers}hasLayerType(ot){for(const lt in this._layers)if(this._layers[lt].type===ot)return!0;return!1}setLayerZoomRange(ot,lt,Ut){this._checkLoaded();const kt=this.getLayer(ot);kt?kt.minzoom===lt&&kt.maxzoom===Ut||(lt!=null&&(kt.minzoom=lt),Ut!=null&&(kt.maxzoom=Ut),this._updateLayer(kt)):this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(ot,lt,Ut={}){this._checkLoaded();const kt=this.getLayer(ot);if(kt){if(!nt(kt.filter,lt))return lt==null?(kt.filter=void 0,void this._updateLayer(kt)):void(this._validate(j.validateFilter,`layers.${kt.id}.filter`,lt,{layerType:kt.type},Ut)||(kt.filter=j.clone$1(lt),this._updateLayer(kt)))}else this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style and cannot be filtered.`)))}getFilter(ot){const lt=this.getLayer(ot);return lt&&j.clone$1(lt.filter)}setLayoutProperty(ot,lt,Ut,kt={}){this._checkLoaded();const Ot=this.getLayer(ot);Ot?nt(Ot.getLayoutProperty(lt),Ut)||(Ot.setLayoutProperty(lt,Ut,kt),this._updateLayer(Ot)):this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(ot,lt){const Ut=this.getLayer(ot);if(Ut)return Ut.getLayoutProperty(lt);this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style.`)))}setPaintProperty(ot,lt,Ut,kt={}){this._checkLoaded();const Ot=this.getLayer(ot);Ot?nt(Ot.getPaintProperty(lt),Ut)||(Ot.setPaintProperty(lt,Ut,kt)&&this._updateLayer(Ot),this._changed=!0,this._updatedPaintProps[ot]=!0):this.fire(new j.ErrorEvent(new Error(`The layer '${ot}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(ot,lt){const Ut=this.getLayer(ot);return Ut&&Ut.getPaintProperty(lt)}setFeatureState(ot,lt){this._checkLoaded();const Ut=ot.source,kt=ot.sourceLayer,Ot=this.getSource(Ut);if(!Ot)return void this.fire(new j.ErrorEvent(new Error(`The source '${Ut}' does not exist in the map's style.`)));const qt=Ot.type;if(qt==="geojson"&&kt)return void this.fire(new j.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(qt==="vector"&&!kt)return void this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));ot.id===void 0&&this.fire(new j.ErrorEvent(new Error("The feature id parameter must be provided.")));const an=this._getSourceCaches(Ut);for(const cn of an)cn.setFeatureState(kt,ot.id,lt)}removeFeatureState(ot,lt){this._checkLoaded();const Ut=ot.source,kt=this.getSource(Ut);if(!kt)return void this.fire(new j.ErrorEvent(new Error(`The source '${Ut}' does not exist in the map's style.`)));const Ot=kt.type,qt=Ot==="vector"?ot.sourceLayer:void 0;if(Ot==="vector"&&!qt)return void this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(lt&&typeof ot.id!="string"&&typeof ot.id!="number")return void this.fire(new j.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const an=this._getSourceCaches(Ut);for(const cn of an)cn.removeFeatureState(qt,ot.id,lt)}getFeatureState(ot){this._checkLoaded();const lt=ot.source,Ut=ot.sourceLayer,kt=this.getSource(lt);if(kt){if(kt.type!=="vector"||Ut)return ot.id===void 0&&this.fire(new j.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(lt)[0].getFeatureState(Ut,ot.id);this.fire(new j.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new j.ErrorEvent(new Error(`The source '${lt}' does not exist in the map's style.`)))}getTransition(){return j.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const ot={};for(const lt in this._sourceCaches){const Ut=this._sourceCaches[lt].getSource();ot[Ut.id]||(ot[Ut.id]=Ut.serialize())}return j.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:ot,layers:this._serializeLayers(this._order)},lt=>lt!==void 0)}_updateLayer(ot){this._updatedLayers[ot.id]=!0;const lt=this._getLayerSourceCache(ot);ot.source&&!this._updatedSources[ot.source]&&lt&&lt.getSource().type!=="raster"&&(this._updatedSources[ot.source]="reload",lt.pause()),this._changed=!0,ot.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(ot){const lt=qt=>this._layers[qt].type==="fill-extrusion",Ut={},kt=[];for(let qt=this._order.length-1;qt>=0;qt--){const an=this._order[qt];if(lt(an)){Ut[an]=qt;for(const cn of ot){const _n=cn[an];if(_n)for(const Fn of _n)kt.push(Fn)}}}kt.sort((qt,an)=>an.intersectionZ-qt.intersectionZ);const Ot=[];for(let qt=this._order.length-1;qt>=0;qt--){const an=this._order[qt];if(lt(an))for(let cn=kt.length-1;cn>=0;cn--){const _n=kt[cn].feature;if(Ut[_n.layer.id]<qt)break;Ot.push(_n),kt.pop()}else for(const cn of ot){const _n=cn[an];if(_n)for(const Fn of _n)Ot.push(Fn.feature)}}return Ot}queryRenderedFeatures(ot,lt,Ut){lt&&lt.filter&&this._validate(j.validateFilter,"queryRenderedFeatures.filter",lt.filter,null,lt);const kt={};if(lt&&lt.layers){if(!Array.isArray(lt.layers))return this.fire(new j.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const cn of lt.layers){const _n=this._layers[cn];if(!_n)return this.fire(new j.ErrorEvent(new Error(`The layer '${cn}' does not exist in the map's style and cannot be queried for features.`))),[];kt[_n.source]=!0}}const Ot=[];lt.availableImages=this._availableImages;const qt=lt&&lt.layers?lt.layers.some(cn=>{const _n=this.getLayer(cn);return _n&&_n.is3D()}):this.has3DLayers(),an=vn.createFromScreenPoints(ot,Ut);for(const cn in this._sourceCaches){const _n=this._sourceCaches[cn].getSource().id;lt.layers&&!kt[_n]||Ot.push(br(this._sourceCaches[cn],this._layers,this._serializedLayers,an,lt,Ut,qt,!!this.map._showQueryGeometry))}return this.placement&&Ot.push(function(cn,_n,Fn,Qn,Nn,Yn,jn){const Xn={},Pn=Yn.queryRenderedSymbols(Qn),In=[];for(const er of Object.keys(Pn).map(Number))In.push(jn[er]);In.sort(Kr);for(const er of In){const Hn=er.featureIndex.lookupSymbolFeatures(Pn[er.bucketInstanceId],_n,er.bucketIndex,er.sourceLayerIndex,Nn.filter,Nn.layers,Nn.availableImages,cn);for(const dr in Hn){const gr=Xn[dr]=Xn[dr]||[],tr=Hn[dr];tr.sort((vr,wr)=>{const Mr=er.featureSortOrder;if(Mr){const kr=Mr.indexOf(vr.featureIndex);return Mr.indexOf(wr.featureIndex)-kr}return wr.featureIndex-vr.featureIndex});for(const vr of tr)gr.push(vr)}}for(const er in Xn)Xn[er].forEach(Hn=>{const dr=Hn.feature,gr=Fn(cn[er]).getFeatureState(dr.layer["source-layer"],dr.id);dr.source=dr.layer.source,dr.layer["source-layer"]&&(dr.sourceLayer=dr.layer["source-layer"]),dr.state=gr});return Xn}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),an.screenGeometry,lt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ot)}querySourceFeatures(ot,lt){lt&&lt.filter&&this._validate(j.validateFilter,"querySourceFeatures.filter",lt.filter,null,lt);const Ut=this._getSourceCaches(ot);let kt=[];for(const Ot of Ut)kt=kt.concat(Nr(Ot,lt));return kt}addSourceType(ot,lt,Ut){return ap.getSourceType(ot)?Ut(new Error(`A source type called "${ot}" already exists.`)):(ap.setSourceType(ot,lt),lt.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:ot,url:lt.workerSourceURL},Ut):Ut(null,null))}getLight(){return this.light.getLight()}setLight(ot,lt={}){this._checkLoaded();const Ut=this.light.getLight();let kt=!1;for(const qt in ot)if(!nt(ot[qt],Ut[qt])){kt=!0;break}if(!kt)return;const Ot=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(ot,lt),this.light.updateTransitions(Ot)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(ot,lt=1){if(this._checkLoaded(),!ot)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(lt===1){if(typeof ot.source=="object"){const Ut="terrain-dem-src";this.addSource(Ut,ot.source),ot=j.clone$1(ot),ot=j.extend(ot,{source:Ut})}if(this._validate(j.validateTerrain,"terrain",ot))return}if(!this.terrain||this.terrain&&lt!==this.terrain.drapeRenderMode)this._createTerrain(ot,lt);else{const Ut=this.terrain,kt=Ut.get();for(const Ot of Object.keys(j.spec.terrain))!ot.hasOwnProperty(Ot)&&j.spec.terrain[Ot].default&&(ot[Ot]=j.spec.terrain[Ot].default);for(const Ot in ot)if(!nt(ot[Ot],kt[Ot])){Ut.set(ot),this.stylesheet.terrain=ot;const qt=this._setTransitionParameters({duration:0});Ut.updateTransitions(qt);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(ot){const lt=this.fog=new tn(ot,this.map.transform);this.stylesheet.fog=ot;const Ut=this._setTransitionParameters({duration:0});lt.updateTransitions(Ut)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const ot of this.map._markers)ot._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(ot){if(this._checkLoaded(),!ot)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const lt=this.fog,Ut=lt.get();Object.keys(ot).length===0&&lt.set(ot);for(const kt in ot)if(!nt(ot[kt],Ut[kt])){lt.set(ot),this.stylesheet.fog=ot;const Ot=this._setTransitionParameters({duration:0});lt.updateTransitions(Ot);break}}else this._createFog(ot);this._markersNeedUpdate=!0}_setTransitionParameters(ot){return{now:j.exported.now(),transition:j.extend(ot,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const ot=this._order.filter(Ut=>this.isLayerDraped(this._layers[Ut])),lt=this._order.filter(Ut=>!this.isLayerDraped(this._layers[Ut]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...ot),this._drapedFirstOrder.push(...lt)}_createTerrain(ot,lt){const Ut=this.terrain=new jt(ot,lt);this.stylesheet.terrain=ot,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const kt=this._setTransitionParameters({duration:0});Ut.updateTransitions(kt)}_force3DLayerUpdate(){for(const ot in this._layers){const lt=this._layers[ot];lt.type==="fill-extrusion"&&this._updateLayer(lt)}}_forceSymbolLayerUpdate(){for(const ot in this._layers){const lt=this._layers[ot];lt.type==="symbol"&&this._updateLayer(lt)}}_validate(ot,lt,Ut,kt,Ot={}){return(!Ot||Ot.validate!==!1)&&zu(this,ot.call(j.validateStyle,j.extend({key:lt,style:this.serialize(),value:Ut,styleSpec:j.spec},kt)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),j.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const ot in this._layers)this._layers[ot].setEventedParent(null);for(const ot in this._sourceCaches)this._sourceCaches[ot].clearTiles(),this._sourceCaches[ot].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(ot){const lt=this._getSourceCaches(ot);for(const Ut of lt)Ut.clearTiles()}_reloadSource(ot){const lt=this._getSourceCaches(ot);for(const Ut of lt)Ut.resume(),Ut.reload()}_reloadSources(){for(const ot of this._getSources())ot.reload&&ot.reload()}_updateSources(ot){for(const lt in this._sourceCaches)this._sourceCaches[lt].update(ot)}_generateCollisionBoxes(){for(const ot in this._sourceCaches){const lt=this._sourceCaches[ot];lt.resume(),lt.reload()}}_updatePlacement(ot,lt,Ut,kt,Ot=!1){let qt=!1,an=!1;const cn={};for(const _n of this._order){const Fn=this._layers[_n];if(Fn.type!=="symbol")continue;if(!cn[Fn.source]){const Nn=this._getLayerSourceCache(Fn);if(!Nn)continue;cn[Fn.source]=Nn.getRenderableIds(!0).map(Yn=>Nn.getTileByID(Yn)).sort((Yn,jn)=>jn.tileID.overscaledZ-Yn.tileID.overscaledZ||(Yn.tileID.isLessThan(jn.tileID)?-1:1))}const Qn=this.crossTileSymbolIndex.addLayer(Fn,cn[Fn.source],ot.center.lng,ot.projection);qt=qt||Qn}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),Ot=Ot||this._layerOrderChanged||Ut===0,this._layerOrderChanged&&this.fire(new j.Event("neworder")),(Ot||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(j.exported.now(),ot.zoom))&&(this.pauseablePlacement=new Go(ot,this._order,Ot,lt,Ut,kt,this.placement,this.fog&&ot.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,cn),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(j.exported.now()),an=!0),qt&&this.pauseablePlacement.placement.setStale()),an||qt)for(const _n of this._order){const Fn=this._layers[_n];Fn.type==="symbol"&&this.placement.updateLayerOpacities(Fn,cn[Fn.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(j.exported.now())}_releaseSymbolFadeTiles(){for(const ot in this._sourceCaches)this._sourceCaches[ot].releaseSymbolFadeTiles()}getImages(ot,lt,Ut){this.imageManager.getImages(lt.icons,Ut),this._updateTilesForChangedImages();const kt=Ot=>{Ot&&Ot.setDependencies(lt.tileID.key,lt.type,lt.icons)};kt(this._otherSourceCaches[lt.source]),kt(this._symbolSourceCaches[lt.source])}getGlyphs(ot,lt,Ut){this.glyphManager.getGlyphs(lt.stacks,Ut)}getResource(ot,lt,Ut){return j.makeRequest(lt,Ut)}_getSourceCache(ot){return this._otherSourceCaches[ot]}_getLayerSourceCache(ot){return ot.type==="symbol"?this._symbolSourceCaches[ot.source]:this._otherSourceCaches[ot.source]}_getSourceCaches(ot){const lt=[];return this._otherSourceCaches[ot]&&lt.push(this._otherSourceCaches[ot]),this._symbolSourceCaches[ot]&&lt.push(this._symbolSourceCaches[ot]),lt}_isSourceCacheLoaded(ot){const lt=this._getSourceCaches(ot);return lt.length===0?(this.fire(new j.ErrorEvent(new Error(`There is no source with ID '${ot}'`))),!1):lt.every(Ut=>Ut.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ap.getSourceType=function(gt){return ur[gt]},ap.setSourceType=function(gt,ot){ur[gt]=ot},ap.registerForPluginStateChange=j.registerForPluginStateChange;var n0=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,pu="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",a_=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,r0=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,l_=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let i0={},o0={};const im=[];lp(n0,im),lp(a_,im),lp(r0,im),lp(l_,im),i0=ys("",a_),o0=ys(l_,r0);const gu=ys(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),u_=n0,mu=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var c_={background:ys(`uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:ys(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:ys(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:ys("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ys(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:ys(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:ys("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:ys("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:ys("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:ys(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:ys(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:ys(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:ys(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:ys(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:ys(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:ys(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ys(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:ys(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
#ifdef RENDER_LINE_GRADIENT
highp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);
#else
vec4 out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:ys(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:ys(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:ys(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:ys(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:ys(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:ys(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:ys(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:ys(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pu),skyboxGradient:ys(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pu),skyboxCapture:ys(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:ys(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:ys(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function lp(gt,ot){const lt=gt.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let Ut of lt)if(Ut=Ut.trim(),Ut[0]==="#"&&Ut.includes("if")&&!Ut.includes("endif")){Ut=Ut.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const kt=Ut.split(" ");for(const Ot of kt)ot.includes(Ot)||ot.push(Ot)}}function ys(gt,ot){const lt=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Ut=ot.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),kt={},Ot=[...im];return lp(gt,Ot),lp(ot,Ot),{fragmentSource:gt=gt.replace(lt,(qt,an,cn,_n,Fn)=>(kt[Fn]=!0,an==="define"?`
#ifndef HAS_UNIFORM_u_${Fn}
varying ${cn} ${_n} ${Fn};
#else
uniform ${cn} ${_n} u_${Fn};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Fn}
    ${cn} ${_n} ${Fn} = u_${Fn};
#endif
`)),vertexSource:ot=ot.replace(lt,(qt,an,cn,_n,Fn)=>{const Qn=_n==="float"?"vec2":"vec4",Nn=Fn.match(/color/)?"color":Qn;return kt[Fn]?an==="define"?`
#ifndef HAS_UNIFORM_u_${Fn}
uniform lowp float u_${Fn}_t;
attribute ${cn} ${Qn} a_${Fn};
varying ${cn} ${_n} ${Fn};
#else
uniform ${cn} ${_n} u_${Fn};
#endif
`:Nn==="vec4"?`
#ifndef HAS_UNIFORM_u_${Fn}
    ${Fn} = a_${Fn};
#else
    ${cn} ${_n} ${Fn} = u_${Fn};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Fn}
    ${Fn} = unpack_mix_${Nn}(a_${Fn}, u_${Fn}_t);
#else
    ${cn} ${_n} ${Fn} = u_${Fn};
#endif
`:an==="define"?`
#ifndef HAS_UNIFORM_u_${Fn}
uniform lowp float u_${Fn}_t;
attribute ${cn} ${Qn} a_${Fn};
#else
uniform ${cn} ${_n} u_${Fn};
#endif
`:Nn==="vec4"?`
#ifndef HAS_UNIFORM_u_${Fn}
    ${cn} ${_n} ${Fn} = a_${Fn};
#else
    ${cn} ${_n} ${Fn} = u_${Fn};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Fn}
    ${cn} ${_n} ${Fn} = unpack_mix_${Nn}(a_${Fn}, u_${Fn}_t);
#else
    ${cn} ${_n} ${Fn} = u_${Fn};
#endif
`}),staticAttributes:Ut,usedDefines:Ot}}class om{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(ot,lt,Ut,kt,Ot,qt,an){this.context=ot;let cn=this.boundPaintVertexBuffers.length!==kt.length;for(let Fn=0;!cn&&Fn<kt.length;Fn++)this.boundPaintVertexBuffers[Fn]!==kt[Fn]&&(cn=!0);let _n=this.boundDynamicVertexBuffers.length!==an.length;for(let Fn=0;!_n&&Fn<an.length;Fn++)this.boundDynamicVertexBuffers[Fn]!==an[Fn]&&(_n=!0);if(!ot.extVertexArrayObject||!this.vao||this.boundProgram!==lt||this.boundLayoutVertexBuffer!==Ut||cn||_n||this.boundIndexBuffer!==Ot||this.boundVertexOffset!==qt)this.freshBind(lt,Ut,kt,Ot,qt,an);else{ot.bindVertexArrayOES.set(this.vao);for(const Fn of an)Fn&&Fn.bind();Ot&&Ot.dynamicDraw&&Ot.bind()}}freshBind(ot,lt,Ut,kt,Ot,qt){let an;const cn=ot.numAttributes,_n=this.context,Fn=_n.gl;if(_n.extVertexArrayObject)this.vao&&this.destroy(),this.vao=_n.extVertexArrayObject.createVertexArrayOES(),_n.bindVertexArrayOES.set(this.vao),an=0,this.boundProgram=ot,this.boundLayoutVertexBuffer=lt,this.boundPaintVertexBuffers=Ut,this.boundIndexBuffer=kt,this.boundVertexOffset=Ot,this.boundDynamicVertexBuffers=qt;else{an=_n.currentNumAttributes||0;for(let Qn=cn;Qn<an;Qn++)Fn.disableVertexAttribArray(Qn)}lt.enableAttributes(Fn,ot),lt.bind(),lt.setVertexAttribPointers(Fn,ot,Ot);for(const Qn of Ut)Qn.enableAttributes(Fn,ot),Qn.bind(),Qn.setVertexAttribPointers(Fn,ot,Ot);for(const Qn of qt)Qn&&(Qn.enableAttributes(Fn,ot),Qn.bind(),Qn.setVertexAttribPointers(Fn,ot,Ot));kt&&kt.bind(),_n.currentNumAttributes=cn}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Gm(gt,ot){const lt=Math.pow(2,ot.canonical.z),Ut=ot.canonical.y;return[new j.MercatorCoordinate(0,Ut/lt).toLngLat().lat,new j.MercatorCoordinate(0,(Ut+1)/lt).toLngLat().lat]}function na(gt,ot,lt,Ut,kt,Ot,qt){const an=gt.context,cn=an.gl,_n=lt.fbo;if(!_n)return;gt.prepareDrawTile();const Fn=gt.useProgram("hillshade");an.activeTexture.set(cn.TEXTURE0),cn.bindTexture(cn.TEXTURE_2D,_n.colorAttachment.get());const Qn=((Xn,Pn,In,er)=>{const Hn=In.paint.get("hillshade-shadow-color"),dr=In.paint.get("hillshade-highlight-color"),gr=In.paint.get("hillshade-accent-color");let tr=In.paint.get("hillshade-illumination-direction")*(Math.PI/180);In.paint.get("hillshade-illumination-anchor")==="viewport"&&(tr-=Xn.transform.angle);const vr=!Xn.options.moving;return{u_matrix:er||Xn.transform.calculateProjMatrix(Pn.tileID.toUnwrapped(),vr),u_image:0,u_latrange:Gm(0,Pn.tileID),u_light:[In.paint.get("hillshade-exaggeration"),tr],u_shadow:Hn,u_highlight:dr,u_accent:gr}})(gt,lt,Ut,gt.terrain?ot.projMatrix:null);gt.prepareDrawProgram(an,Fn,ot.toUnwrapped());const{tileBoundsBuffer:Nn,tileBoundsIndexBuffer:Yn,tileBoundsSegments:jn}=gt.getTileBoundsBuffers(lt);Fn.draw(an,cn.TRIANGLES,kt,Ot,qt,j.CullFaceMode.disabled,Qn,Ut.id,Nn,Yn,jn)}function up(gt,ot,lt){if(!ot.needsDEMTextureUpload)return;const Ut=gt.context,kt=Ut.gl;Ut.pixelStoreUnpackPremultiplyAlpha.set(!1),ot.demTexture=ot.demTexture||gt.getTileTexture(lt.stride);const Ot=lt.getPixels();ot.demTexture?ot.demTexture.update(Ot,{premultiply:!1}):ot.demTexture=new j.Texture(Ut,Ot,kt.RGBA,{premultiply:!1}),ot.needsDEMTextureUpload=!1}function s0(gt,ot,lt,Ut,kt,Ot){const qt=gt.context,an=qt.gl;if(!ot.dem)return;const cn=ot.dem;if(qt.activeTexture.set(an.TEXTURE1),up(gt,ot,cn),!ot.demTexture)return;ot.demTexture.bind(an.NEAREST,an.CLAMP_TO_EDGE);const _n=cn.dim;qt.activeTexture.set(an.TEXTURE0);let Fn=ot.fbo;if(!Fn){const jn=new j.Texture(qt,{width:_n,height:_n,data:null},an.RGBA);jn.bind(an.LINEAR,an.CLAMP_TO_EDGE),Fn=ot.fbo=qt.createFramebuffer(_n,_n,!0),Fn.colorAttachment.set(jn.texture)}qt.bindFramebuffer.set(Fn.framebuffer),qt.viewport.set([0,0,_n,_n]);const{tileBoundsBuffer:Qn,tileBoundsIndexBuffer:Nn,tileBoundsSegments:Yn}=gt.getMercatorTileBoundsBuffers();gt.useProgram("hillshadePrepare").draw(qt,an.TRIANGLES,Ut,kt,Ot,j.CullFaceMode.disabled,((jn,Xn)=>{const Pn=Xn.stride,In=j.create();return j.ortho(In,0,j.EXTENT,-j.EXTENT,0,0,1),j.translate(In,In,[0,-j.EXTENT,0]),{u_matrix:In,u_image:1,u_dimension:[Pn,Pn],u_zoom:jn.overscaledZ,u_unpack:Xn.unpackVector}})(ot.tileID,cn),lt.id,Qn,Nn,Yn),ot.needsHillshadePrepare=!1}const a0=gt=>({u_matrix:new j.UniformMatrix4f(gt),u_image0:new j.Uniform1i(gt),u_skirt_height:new j.Uniform1f(gt)}),Ey=(gt,ot)=>({u_matrix:gt,u_image0:0,u_skirt_height:ot}),l0=(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn)=>({u_proj_matrix:Float32Array.from(gt),u_globe_matrix:ot,u_normalize_matrix:Float32Array.from(Ut),u_merc_matrix:lt,u_zoom_transition:kt,u_merc_center:Ot,u_image0:0,u_frustum_tl:qt,u_frustum_tr:an,u_frustum_br:cn,u_frustum_bl:_n,u_globe_pos:Fn,u_globe_radius:Qn,u_viewport:Nn,u_grid_matrix:Yn?Float32Array.from(Yn):new Float32Array(9)});function Ty(gt,ot){return gt!=null&&ot!=null&&!(!gt.hasData()||!ot.hasData())&&gt.demTexture!=null&&ot.demTexture!=null&&gt.tileID.key!==ot.tileID.key}const sm=new class{constructor(){this.operations={}}newMorphing(gt,ot,lt,Ut,kt){if(gt in this.operations){const Ot=this.operations[gt];Ot.to.tileID.key!==lt.tileID.key&&(Ot.queued=lt)}else this.operations[gt]={startTime:Ut,phase:0,duration:kt,from:ot,to:lt,queued:null}}getMorphValuesForProxy(gt){if(!(gt in this.operations))return null;const ot=this.operations[gt];return{from:ot.from,to:ot.to,phase:ot.phase}}update(gt){for(const ot in this.operations){const lt=this.operations[ot];for(lt.phase=(gt-lt.startTime)/lt.duration;lt.phase>=1||!this._validOp(lt);)if(!this._nextOp(lt,gt)){delete this.operations[ot];break}}}_nextOp(gt,ot){return!!gt.queued&&(gt.from=gt.to,gt.to=gt.queued,gt.queued=null,gt.phase=0,gt.startTime=ot,!0)}_validOp(gt){return gt.from.hasData()&&gt.to.hasData()}},xm={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Ss(gt,ot){const lt=1<<gt.z;return!ot&&(gt.x===0||gt.x===lt-1)||gt.y===0||gt.y===lt-1}const cp=gt=>({u_matrix:gt});function h_(gt,ot,lt,Ut,kt){if(kt>0){const Ot=j.exported.now(),qt=(Ot-gt.timeAdded)/kt,an=ot?(Ot-ot.timeAdded)/kt:-1,cn=lt.getSource(),_n=Ut.coveringZoomLevel({tileSize:cn.tileSize,roundZoom:cn.roundZoom}),Fn=!ot||Math.abs(ot.tileID.overscaledZ-_n)>Math.abs(gt.tileID.overscaledZ-_n),Qn=Fn&&gt.refreshedUponExpiration?1:j.clamp(Fn?qt:1-an,0,1);return gt.refreshedUponExpiration&&qt>=1&&(gt.refreshedUponExpiration=!1),ot?{opacity:1,mix:1-Qn}:{opacity:Qn,mix:0}}return{opacity:1,mix:0}}class d_ extends j.SourceCache{constructor(ot){const lt={type:"raster-dem",maxzoom:ot.transform.maxZoom},Ut=new mn(No(),null),kt=mr("mock-dem",lt,Ut,ot.style);super("mock-dem",kt,!1),kt.setEventedParent(this),this._sourceLoaded=!0}_loadTile(ot,lt){ot.state="loaded",lt(null)}}class f_ extends j.SourceCache{constructor(ot){const lt=mr("proxy",{type:"geojson",maxzoom:ot.transform.maxZoom},new mn(No(),null),ot.style);super("proxy",lt,!1),lt.setEventedParent(this),this.map=this.getSource().map=ot,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(ot,lt,Ut){if(ot.freezeTileCoverage)return;this.transform=ot;const kt=ot.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((Ot,qt)=>{if(Ot[qt.key]="",!this._tiles[qt.key]){const an=new j.Tile(qt,this._source.tileSize*qt.overscaleFactor(),ot.tileZoom);an.state="loaded",this._tiles[qt.key]=an}return Ot},{});for(const Ot in this._tiles)Ot in kt||(this.freeFBO(Ot),this._tiles[Ot].unloadVectorData(),delete this._tiles[Ot])}freeFBO(ot){const lt=this.proxyCachedFBO[ot];if(lt!==void 0){const Ut=Object.values(lt);this.renderCachePool.push(...Ut),delete this.proxyCachedFBO[ot]}}deallocRenderCache(){this.renderCache.forEach(ot=>ot.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Hm extends j.OverscaledTileID{constructor(ot,lt,Ut){super(ot.overscaledZ,ot.wrap,ot.canonical.z,ot.canonical.x,ot.canonical.y),this.proxyTileKey=lt,this.projMatrix=Ut}}class u0 extends j.Elevation{constructor(ot,lt){super(),this.painter=ot,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[Ut,kt,Ot]=function(cn){const _n=new j.StructArrayLayout4i8,Fn=new j.StructArrayLayout3ui6,Qn=131;_n.reserve(17161),Fn.reserve(33800);const Nn=j.EXTENT/128,Yn=j.EXTENT+Nn/2,jn=Yn+Nn;for(let Pn=-Nn;Pn<jn;Pn+=Nn)for(let In=-Nn;In<jn;In+=Nn){const er=In<0||In>Yn||Pn<0||Pn>Yn?24575:0,Hn=j.clamp(Math.round(In),0,j.EXTENT),dr=j.clamp(Math.round(Pn),0,j.EXTENT);_n.emplaceBack(Hn+er,dr,Hn,dr)}const Xn=(Pn,In)=>{const er=In*Qn+Pn;Fn.emplaceBack(er+1,er,er+Qn),Fn.emplaceBack(er+Qn,er+Qn+1,er+1)};for(let Pn=1;Pn<129;Pn++)for(let In=1;In<129;In++)Xn(In,Pn);return[0,129].forEach(Pn=>{for(let In=0;In<130;In++)Xn(In,Pn),Xn(Pn,In)}),[_n,Fn,32768]}(),qt=ot.context;this.gridBuffer=qt.createVertexBuffer(Ut,j.boundsAttributes.members),this.gridIndexBuffer=qt.createIndexBuffer(kt),this.gridSegments=j.SegmentVector.simpleSegment(0,0,Ut.length,kt.length),this.gridNoSkirtSegments=j.SegmentVector.simpleSegment(0,0,Ut.length,Ot),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new f_(lt.map),this.orthoMatrix=j.create(),j.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,j.EXTENT,0,j.EXTENT,0,1);const an=qt.gl;this._overlapStencilMode=new j.StencilMode({func:an.GEQUAL,mask:255},0,255,an.KEEP,an.KEEP,an.REPLACE),this._previousZoom=ot.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=lt,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new d_(lt.map)}set style(ot){ot.on("data",this._onStyleDataEvent.bind(this)),ot.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=ot,this._checkRenderCacheEfficiency()}update(ot,lt,Ut){if(ot&&ot.terrain){this._style!==ot&&(this.style=ot),this.enabled=!0;const kt=ot.terrain.properties;this.sourceCache=ot.terrain.drapeRenderMode===0?this._mockSourceCache:ot._getSourceCache(kt.get("source")),this._exaggeration=kt.get("exaggeration");const Ot=()=>{this.sourceCache.used&&j.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const qt=this.getScaledDemTileSize();this.sourceCache.update(lt,qt,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,Ot(),this._initializing=!0),Ot(),lt.updateElevation(!Ut),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(lt),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(ot){this._findCoveringTileCache[ot]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const ot=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||ot.efficiency!==100&&j.warnOnce(`Terrain render cache efficiency is not optimal (${ot.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${ot.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(ot){ot.coord&&ot.dataType==="source"?this._clearRenderCacheForTile(ot.sourceCacheId,ot.coord):ot.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const ot in this._style._sourceCaches)this._style._sourceCaches[ot].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(ot=>ot.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const ot=2*this.proxySourceCache.getSource().tileSize;return[ot,ot]}set useVertexMorphing(ot){this._useVertexMorphing=ot}updateTileBinding(ot){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const lt=this.proxySourceCache,Ut=this.painter.transform;this._initializing&&(this._initializing=Ut._centerAltitude===0&&this.getAtPointOrZero(j.MercatorCoordinate.fromLngLat(Ut.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const kt=this.proxyCoords=lt.getIds().map(cn=>{const _n=lt.getTileByID(cn).tileID;return _n.projMatrix=Ut.calculateProjMatrix(_n.toUnwrapped()),_n});(function(cn,_n){const Fn=_n.transform.pointCoordinate(_n.transform.getCameraPoint()),Qn=new j.pointGeometry(Fn.x,Fn.y);cn.sort((Nn,Yn)=>{if(Yn.overscaledZ-Nn.overscaledZ)return Yn.overscaledZ-Nn.overscaledZ;const jn=new j.pointGeometry(Nn.canonical.x+(1<<Nn.canonical.z)*Nn.wrap,Nn.canonical.y),Xn=new j.pointGeometry(Yn.canonical.x+(1<<Yn.canonical.z)*Yn.wrap,Yn.canonical.y),Pn=Qn.mult(1<<Nn.canonical.z);return Pn.x-=.5,Pn.y-=.5,Pn.distSqr(jn)-Pn.distSqr(Xn)})})(kt,this.painter),this._previousZoom=Ut.zoom;const Ot=this.proxyToSource||{};this.proxyToSource={},kt.forEach(cn=>{this.proxyToSource[cn.key]={}}),this.terrainTileForTile={};const qt=this._style._sourceCaches;for(const cn in qt){const _n=qt[cn];if(!_n.used||(_n!==this.sourceCache&&this.resetTileLookupCache(_n.id),this._setupProxiedCoordsForOrtho(_n,ot[cn],Ot),_n.usedForTerrain))continue;const Fn=ot[cn];_n.getSource().reparseOverscaled&&this._assignTerrainTiles(Fn)}this.proxiedCoords[lt.id]=kt.map(cn=>new Hm(cn,cn.key,this.orthoMatrix)),this._assignTerrainTiles(kt),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(Ot),this.renderingToTexture=!1,this._updateTimestamp=j.exported.now();const an={};this._visibleDemTiles=[];for(const cn of this.proxyCoords){const _n=this.terrainTileForTile[cn.key];if(!_n)continue;const Fn=_n.tileID.key;Fn in an||(this._visibleDemTiles.push(_n),an[Fn]=Fn)}}_assignTerrainTiles(ot){this._initializing||ot.forEach(lt=>{if(this.terrainTileForTile[lt.key])return;const Ut=this._findTileCoveringTileID(lt,this.sourceCache);Ut&&(this.terrainTileForTile[lt.key]=Ut)})}_prepareDEMTextures(){const ot=this.painter.context,lt=ot.gl;for(const Ut in this.terrainTileForTile){const kt=this.terrainTileForTile[Ut],Ot=kt.dem;!Ot||kt.demTexture&&!kt.needsDEMTextureUpload||(ot.activeTexture.set(lt.TEXTURE1),up(this.painter,kt,Ot))}}_prepareDemTileUniforms(ot,lt,Ut,kt){if(!lt||lt.demTexture==null)return!1;const Ot=ot.tileID.canonical,qt=Math.pow(2,lt.tileID.canonical.z-Ot.z),an=kt||"";return Ut[`u_dem_tl${an}`]=[Ot.x*qt%1,Ot.y*qt%1],Ut[`u_dem_scale${an}`]=qt,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const ot=this.painter.context,lt=ot.gl;if(!this._emptyDepthBufferTexture){const Ut=new j.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new j.Texture(ot,Ut,lt.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let ot=0;const lt=this._visibleDemTiles.reduce((Ut,kt)=>{if(!kt.dem)return Ut;const Ot=kt.dem.tree.minimums[0];return Ot>0&&ot++,Ut+Ot},0);return ot?lt/ot:0}_updateEmptyDEMTexture(){const ot=this.painter.context,lt=ot.gl;ot.activeTexture.set(lt.TEXTURE2);const Ut=this._getLoadedAreaMinimum(),kt=new j.RGBAImage({width:1,height:1},new Uint8Array(j.DEMData.pack(Ut,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let Ot=this._emptyDEMTexture;return Ot?Ot.update(kt,{premultiply:!1}):Ot=this._emptyDEMTexture=new j.Texture(ot,kt,lt.RGBA,{premultiply:!1}),Ot}setupElevationDraw(ot,lt,Ut){const kt=this.painter.context,Ot=kt.gl,qt=(an=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:j.DEMData.getUnpackVector(an),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var an;qt.u_dem_size=this.sourceCache.getSource().tileSize,qt.u_exaggeration=this.exaggeration();let cn=null,_n=null,Fn=1;if(Ut&&Ut.morphing&&this._useVertexMorphing){const Qn=Ut.morphing.srcDemTile,Nn=Ut.morphing.dstDemTile;Fn=Ut.morphing.phase,Qn&&Nn&&(this._prepareDemTileUniforms(ot,Qn,qt,"_prev")&&(_n=Qn),this._prepareDemTileUniforms(ot,Nn,qt)&&(cn=Nn))}if(_n&&cn?(kt.activeTexture.set(Ot.TEXTURE2),cn.demTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE,Ot.NEAREST),kt.activeTexture.set(Ot.TEXTURE4),_n.demTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE,Ot.NEAREST),qt.u_dem_lerp=Fn):(cn=this.terrainTileForTile[ot.tileID.key],kt.activeTexture.set(Ot.TEXTURE2),(this._prepareDemTileUniforms(ot,cn,qt)?cn.demTexture:this.emptyDEMTexture).bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE)),kt.activeTexture.set(Ot.TEXTURE3),Ut&&Ut.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE),this._depthFBO&&(qt.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE),qt.u_depth_size_inv=[1,1]),Ut&&Ut.useMeterToDem&&cn){const Qn=(1<<cn.tileID.canonical.z)*j.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;qt.u_meter_to_dem=Qn}if(Ut&&Ut.labelPlaneMatrixInv&&(qt.u_label_plane_matrix_inv=Ut.labelPlaneMatrixInv),lt.setTerrainUniformValues(kt,qt),this.painter.transform.projection.name==="globe"){const Qn=this.globeUniformValues(this.painter.transform,ot.tileID.canonical,Ut&&Ut.useDenormalizedUpVectorScale);lt.setGlobeUniformValues(kt,Qn)}}globeUniformValues(ot,lt,Ut){const kt=ot.projection;return{u_tile_tl_up:kt.upVector(lt,0,0),u_tile_tr_up:kt.upVector(lt,j.EXTENT,0),u_tile_br_up:kt.upVector(lt,j.EXTENT,j.EXTENT),u_tile_bl_up:kt.upVector(lt,0,j.EXTENT),u_tile_up_scale:Ut?j.GLOBE_METERS_TO_ECEF:kt.upVectorScale(lt,ot.center.lat,ot.worldSize).metersToTile}}renderToBackBuffer(ot){const lt=this.painter,Ut=this.painter.context;ot.length!==0&&(Ut.bindFramebuffer.set(null),Ut.viewport.set([0,0,lt.width,lt.height]),lt.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(kt,Ot,qt,an,cn){if(kt.transform.projection.name==="globe")(function(_n,Fn,Qn,Nn,Yn){const jn=_n.context,Xn=jn.gl;let Pn,In;const er=_n.options.showTerrainWireframe?2:0,Hn=_n.transform,dr=j.globeUseCustomAntiAliasing(_n,jn,Hn),gr=(xr,Fr)=>{if(In===xr)return;const yo=[xm[xr],"PROJECTION_GLOBE_VIEW"];dr&&yo.push("CUSTOM_ANTIALIASING"),Fr&&yo.push(xm[er]),Pn=_n.useProgram("globeRaster",null,yo),In=xr},tr=_n.colorModeForRenderPass(),vr=new j.DepthMode(Xn.LEQUAL,j.DepthMode.ReadWrite,_n.depthRangeFor3D);sm.update(Yn);const wr=j.calculateGlobeMercatorMatrix(Hn),Mr=[j.mercatorXfromLng(Hn.center.lng),j.mercatorYfromLat(Hn.center.lat)],kr=er?[!1,!0]:[!1],oo=_n.globeSharedBuffers,Rr=[Hn.width*j.exported.devicePixelRatio,Hn.height*j.exported.devicePixelRatio],Zr=Float32Array.from(Hn.globeMatrix),Gr={useDenormalizedUpVectorScale:!0};if(kr.forEach(xr=>{In=-1;const Fr=xr?Xn.LINES:Xn.TRIANGLES;for(const yo of Nn){const uo=Qn.getTile(yo),fo=j.StencilMode.disabled,co=Fn.prevTerrainTileForTile[yo.key],ko=Fn.terrainTileForTile[yo.key];Ty(co,ko)&&sm.newMorphing(yo.key,co,ko,Yn,250),jn.activeTexture.set(Xn.TEXTURE0),uo.texture.bind(Xn.LINEAR,Xn.CLAMP_TO_EDGE);const Lo=sm.getMorphValuesForProxy(yo.key),Wo=Lo?1:0;Lo&&j.extend$1(Gr,{morphing:{srcDemTile:Lo.from,dstDemTile:Lo.to,phase:j.easeCubicInOut(Lo.phase)}});const Do=j.tileCornersToBounds(yo.canonical),ho=j.getLatitudinalLod(Do.getCenter().lat),$o=j.getGridMatrix(yo.canonical,Do,ho,Hn.worldSize/Hn._pixelsPerMercatorPixel),us=j.globeNormalizeECEF(j.globeTileBounds(yo.canonical)),Ns=l0(Hn.projMatrix,Zr,wr,us,j.globeToMercatorTransition(Hn.zoom),Mr,Hn.frustumCorners.TL,Hn.frustumCorners.TR,Hn.frustumCorners.BR,Hn.frustumCorners.BL,Hn.globeCenterInViewSpace,Hn.globeRadius,Rr,$o);if(gr(Wo,xr),Fn.setupElevationDraw(uo,Pn,Gr),_n.prepareDrawProgram(jn,Pn,yo.toUnwrapped()),oo){const[Ps,As,Nl]=xr?oo.getWirefameBuffers(_n.context,ho):oo.getGridBuffers(ho);Pn.draw(jn,Fr,vr,fo,tr,j.CullFaceMode.backCCW,Ns,"globe_raster",Ps,As,Nl)}}}),oo){const xr=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];dr&&xr.push("CUSTOM_ANTIALIASING"),Pn=_n.useProgram("globeRaster",null,xr);for(const Fr of Nn){const{x:yo,y:uo,z:fo}=Fr.canonical,co=uo===0,ko=uo===(1<<fo)-1,[Lo,Wo,Do,ho]=oo.getPoleBuffers(fo);if(ho&&(co||ko)){const $o=Qn.getTile(Fr);jn.activeTexture.set(Xn.TEXTURE0),$o.texture.bind(Xn.LINEAR,Xn.CLAMP_TO_EDGE);let us=j.globePoleMatrixForTile(fo,yo,Hn);const Ns=j.globeNormalizeECEF(j.globeTileBounds(Fr.canonical)),Ps=(As,Nl)=>As.draw(jn,Xn.TRIANGLES,vr,j.StencilMode.disabled,tr,j.CullFaceMode.disabled,l0(Hn.projMatrix,us,us,Ns,0,Mr,Hn.frustumCorners.TL,Hn.frustumCorners.TR,Hn.frustumCorners.BR,Hn.frustumCorners.BL,Hn.globeCenterInViewSpace,Hn.globeRadius,Rr),"globe_pole_raster",Nl,Do,ho);Fn.setupElevationDraw($o,Pn,Gr),_n.prepareDrawProgram(jn,Pn,Fr.toUnwrapped()),co&&Ps(Pn,Lo),ko&&(us=j.scale(j.create(),us,[1,-1,1]),Ps(Pn,Wo))}}}})(kt,Ot,qt,an,cn);else{const _n=kt.context,Fn=_n.gl;let Qn,Nn;const Yn=kt.options.showTerrainWireframe?2:0,jn=(Hn,dr)=>{if(Nn===Hn)return;const gr=[xm[Hn]];dr&&gr.push(xm[Yn]),Qn=kt.useProgram("terrainRaster",null,gr),Nn=Hn},Xn=kt.colorModeForRenderPass(),Pn=new j.DepthMode(Fn.LEQUAL,j.DepthMode.ReadWrite,kt.depthRangeFor3D);sm.update(cn);const In=kt.transform,er=6*Math.pow(1.5,22-In.zoom)*Ot.exaggeration();(Yn?[!1,!0]:[!1]).forEach(Hn=>{Nn=-1;const dr=Hn?Fn.LINES:Fn.TRIANGLES,[gr,tr]=Hn?Ot.getWirefameBuffer():[Ot.gridIndexBuffer,Ot.gridSegments];for(const vr of an){const wr=qt.getTile(vr),Mr=j.StencilMode.disabled,kr=Ot.prevTerrainTileForTile[vr.key],oo=Ot.terrainTileForTile[vr.key];Ty(kr,oo)&&sm.newMorphing(vr.key,kr,oo,cn,250),_n.activeTexture.set(Fn.TEXTURE0),wr.texture.bind(Fn.LINEAR,Fn.CLAMP_TO_EDGE,Fn.LINEAR_MIPMAP_NEAREST);const Rr=sm.getMorphValuesForProxy(vr.key),Zr=Rr?1:0;let Gr;Rr&&(Gr={morphing:{srcDemTile:Rr.from,dstDemTile:Rr.to,phase:j.easeCubicInOut(Rr.phase)}});const xr=Ey(vr.projMatrix,Ss(vr.canonical,In.renderWorldCopies)?er/10:er);jn(Zr,Hn),Ot.setupElevationDraw(wr,Qn,Gr),kt.prepareDrawProgram(_n,Qn,vr.toUnwrapped()),Qn.draw(_n,dr,Pn,Mr,Xn,j.CullFaceMode.backCCW,xr,"terrain_raster",Ot.gridBuffer,gr,tr)}})}}(lt,this,this.proxySourceCache,ot,this._updateTimestamp),this.renderingToTexture=!0,lt.gpuTimingDeferredRenderEnd(),ot.splice(0,ot.length))}renderBatch(ot){if(this._drapedRenderBatches.length===0)return ot+1;this.renderingToTexture=!0;const lt=this.painter,Ut=this.painter.context,kt=this.proxySourceCache,Ot=this.proxiedCoords[kt.id],qt=this._drapedRenderBatches.shift(),an=[],cn=lt.style.order;let _n=0;for(const Fn of Ot){const Qn=kt.getTileByID(Fn.proxyTileKey),Nn=kt.proxyCachedFBO[Fn.key]?kt.proxyCachedFBO[Fn.key][ot]:void 0,Yn=Nn!==void 0?kt.renderCache[Nn]:this.pool[_n++],jn=Nn!==void 0;if(Qn.texture=Yn.tex,jn&&!Yn.dirty){an.push(Qn.tileID);continue}let Xn;Ut.bindFramebuffer.set(Yn.fb.framebuffer),this.renderedToTile=!1,Yn.dirty&&(Ut.clear({color:j.Color.transparent,stencil:0}),Yn.dirty=!1);for(let Pn=qt.start;Pn<=qt.end;++Pn){const In=lt.style._layers[cn[Pn]];if(In.isHidden(lt.transform.zoom))continue;const er=lt.style._getLayerSourceCache(In),Hn=er?this.proxyToSource[Fn.key][er.id]:[Fn];if(!Hn)continue;const dr=Hn;Ut.viewport.set([0,0,Yn.fb.width,Yn.fb.height]),Xn!==(er?er.id:null)&&(this._setupStencil(Yn,Hn,In,er),Xn=er?er.id:null),lt.renderLayer(lt,er,In,dr)}this.renderedToTile?(Yn.dirty=!0,an.push(Qn.tileID)):jn||--_n,_n===5&&(_n=0,this.renderToBackBuffer(an))}return this.renderToBackBuffer(an),this.renderingToTexture=!1,Ut.bindFramebuffer.set(null),Ut.viewport.set([0,0,lt.width,lt.height]),qt.end+1}postRender(){}renderCacheEfficiency(ot){const lt=ot.order.length;if(lt===0)return{efficiency:100};let Ut,kt=0,Ot=0,qt=!1;for(let an=0;an<lt;++an){const cn=ot._layers[ot.order[an]];this._style.isLayerDraped(cn)?(qt&&++kt,++Ot):qt||(qt=!0,Ut=cn.id)}return Ot===0?{efficiency:100}:{efficiency:100*(1-kt/Ot),firstUndrapedLayer:Ut}}getMinElevationBelowMSL(){let ot=0;return this._visibleDemTiles.filter(lt=>lt.dem).forEach(lt=>{ot=Math.min(ot,lt.dem.tree.minimums[0])}),ot===0?ot:(ot-30)*this._exaggeration}raycast(ot,lt,Ut){if(!this._visibleDemTiles)return null;const kt=this._visibleDemTiles.filter(Ot=>Ot.dem).map(Ot=>{const qt=Ot.tileID,an=1<<qt.overscaledZ,{x:cn,y:_n}=qt.canonical,Fn=cn/an,Qn=(cn+1)/an,Nn=_n/an,Yn=(_n+1)/an;return{minx:Fn,miny:Nn,maxx:Qn,maxy:Yn,t:Ot.dem.tree.raycastRoot(Fn,Nn,Qn,Yn,ot,lt,Ut),tile:Ot}});kt.sort((Ot,qt)=>(Ot.t!==null?Ot.t:Number.MAX_VALUE)-(qt.t!==null?qt.t:Number.MAX_VALUE));for(const Ot of kt){if(Ot.t==null)return null;const qt=Ot.tile.dem.tree.raycast(Ot.minx,Ot.miny,Ot.maxx,Ot.maxy,ot,lt,Ut);if(qt!=null)return qt}return null}_createFBO(){const ot=this.painter.context,lt=ot.gl,Ut=this.drapeBufferSize;ot.activeTexture.set(lt.TEXTURE0);const kt=new j.Texture(ot,{width:Ut[0],height:Ut[1],data:null},lt.RGBA);kt.bind(lt.LINEAR,lt.CLAMP_TO_EDGE);const Ot=ot.createFramebuffer(Ut[0],Ut[1],!1);return Ot.colorAttachment.set(kt.texture),Ot.depthAttachment=new io(ot,Ot.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=ot.createRenderbuffer(ot.gl.DEPTH_STENCIL,Ut[0],Ut[1]),this._stencilRef=0,Ot.depthAttachment.set(this._sharedDepthStencil),ot.clear({stencil:0})):Ot.depthAttachment.set(this._sharedDepthStencil),ot.extTextureFilterAnisotropic&&!ot.extTextureFilterAnisotropicForceOff&&lt.texParameterf(lt.TEXTURE_2D,ot.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ot.extTextureFilterAnisotropicMax),{fb:Ot,tex:kt,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const ot in this._style._sourceCaches)if(this._style._sourceCaches[ot].hasTransition())return!0;return this._style.order.some(ot=>{const lt=this._style._layers[ot],Ut=lt.isHidden(this.painter.transform.zoom),kt=lt.getCrossfadeParameters(),Ot=!!kt&&kt.t!==1,qt=lt.hasTransition();return lt.type!=="custom"&&!Ut&&(Ot||qt)})}_clearRasterFadeFromRenderCache(){let ot=!1;for(const lt in this._style._sourceCaches)if(this._style._sourceCaches[lt]._source instanceof Tn){ot=!0;break}if(ot)for(let lt=0;lt<this._style.order.length;++lt){const Ut=this._style._layers[this._style.order[lt]],kt=Ut.isHidden(this.painter.transform.zoom),Ot=this._style._getLayerSourceCache(Ut);if(Ut.type!=="raster"||kt||!Ot)continue;const qt=Ut.paint.get("raster-fade-duration");for(const an of this.proxyCoords){const cn=this.proxyToSource[an.key][Ot.id];if(cn)for(const _n of cn){const Fn=h_(Ot.getTile(_n),Ot.findLoadedParent(_n,0),Ot,this.painter.transform,qt);(Fn.opacity!==1||Fn.mix!==0)&&this._clearRenderCacheForTile(Ot.id,_n)}}}}_setupDrapedRenderBatches(){const ot=this._style.order,lt=ot.length;if(lt===0)return;const Ut=[];let kt,Ot=0,qt=this._style._layers[ot[Ot]];for(;!this._style.isLayerDraped(qt)&&qt.isHidden(this.painter.transform.zoom)&&++Ot<lt;)qt=this._style._layers[ot[Ot]];for(;Ot<lt;++Ot){const an=this._style._layers[ot[Ot]];an.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(an)?kt===void 0&&(kt=Ot):kt!==void 0&&(Ut.push({start:kt,end:Ot-1}),kt=void 0))}kt!==void 0&&Ut.push({start:kt,end:Ot-1}),this._drapedRenderBatches=Ut}_setupRenderCache(ot){const lt=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,lt.renderCache.length>lt.renderCachePool.length){const qt=Object.values(lt.proxyCachedFBO);lt.proxyCachedFBO={};for(let an=0;an<qt.length;++an){const cn=Object.values(qt[an]);lt.renderCachePool.push(...cn)}}return}this._clearRasterFadeFromRenderCache();const Ut=this.proxyCoords,kt=this._tilesDirty;for(let qt=Ut.length-1;qt>=0;qt--){const an=Ut[qt];if(lt.getTileByID(an.key),lt.proxyCachedFBO[an.key]!==void 0){const cn=ot[an.key],_n=this.proxyToSource[an.key];let Fn=0;for(const Qn in _n){const Nn=_n[Qn],Yn=cn[Qn];if(!Yn||Yn.length!==Nn.length||Nn.some((jn,Xn)=>jn!==Yn[Xn]||kt[Qn]&&kt[Qn].hasOwnProperty(jn.key))){Fn=-1;break}++Fn}for(const Qn in lt.proxyCachedFBO[an.key])lt.renderCache[lt.proxyCachedFBO[an.key][Qn]].dirty=Fn<0||Fn!==Object.values(cn).length}}const Ot=[...this._drapedRenderBatches];Ot.sort((qt,an)=>an.end-an.start-(qt.end-qt.start));for(const qt of Ot)for(const an of Ut){if(lt.proxyCachedFBO[an.key])continue;let cn=lt.renderCachePool.pop();cn===void 0&&lt.renderCache.length<50&&(cn=lt.renderCache.length,lt.renderCache.push(this._createFBO())),cn!==void 0&&(lt.proxyCachedFBO[an.key]={},lt.proxyCachedFBO[an.key][qt.start]=cn,lt.renderCache[cn].dirty=!0)}this._tilesDirty={}}_setupStencil(ot,lt,Ut,kt){if(!kt||!this._sourceTilesOverlap[kt.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const Ot=this.painter.context,qt=Ot.gl;if(lt.length<=1)return void(this._overlapStencilType=!1);let an;if(Ut.isTileClipped())an=lt.length,this._overlapStencilMode.test={func:qt.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(lt[0].overscaledZ>lt[lt.length-1].overscaledZ))return void(this._overlapStencilType=!1);an=1,this._overlapStencilMode.test={func:qt.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+an>255&&(Ot.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=an,this._overlapStencilMode.ref=this._stencilRef,Ut.isTileClipped()&&this._renderTileClippingMasks(lt,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(ot){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[ot.key]),this._overlapStencilMode):j.StencilMode.disabled}_renderTileClippingMasks(ot,lt){const Ut=this.painter,kt=this.painter.context,Ot=kt.gl;Ut._tileClippingMaskIDs={},kt.setColorMode(j.ColorMode.disabled),kt.setDepthMode(j.DepthMode.disabled);const qt=Ut.useProgram("clippingMask");for(const an of ot){const cn=Ut._tileClippingMaskIDs[an.key]=--lt;qt.draw(kt,Ot.TRIANGLES,j.DepthMode.disabled,new j.StencilMode({func:Ot.ALWAYS,mask:0},cn,255,Ot.KEEP,Ot.KEEP,Ot.REPLACE),j.ColorMode.disabled,j.CullFaceMode.disabled,cp(an.projMatrix),"$clipping",Ut.tileExtentBuffer,Ut.quadTriangleIndexBuffer,Ut.tileExtentSegments)}}pointCoordinate(ot){const lt=this.painter.transform;if(ot.x<0||ot.x>lt.width||ot.y<0||ot.y>lt.height)return null;const Ut=[ot.x,ot.y,1,1];j.transformMat4$1(Ut,Ut,lt.pixelMatrixInverse),j.scale$1(Ut,Ut,1/Ut[3]),Ut[0]/=lt.worldSize,Ut[1]/=lt.worldSize;const kt=lt._camera.position,Ot=j.mercatorZfromAltitude(1,lt.center.lat),qt=[kt[0],kt[1],kt[2]/Ot,0],an=j.subtract([],Ut.slice(0,3),qt);j.normalize(an,an);const cn=this.raycast(qt,an,this._exaggeration);return cn!==null&&cn?(j.scaleAndAdd(qt,qt,an,cn),qt[3]=qt[2],qt[2]*=Ot,qt):null}drawDepth(){const ot=this.painter,lt=ot.context,Ut=this.proxySourceCache,kt=Math.ceil(ot.width),Ot=Math.ceil(ot.height);if(!this._depthFBO||this._depthFBO.width===kt&&this._depthFBO.height===Ot||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const qt=lt.gl,an=lt.createFramebuffer(kt,Ot,!0);lt.activeTexture.set(qt.TEXTURE0);const cn=new j.Texture(lt,{width:kt,height:Ot,data:null},qt.RGBA);cn.bind(qt.NEAREST,qt.CLAMP_TO_EDGE),an.colorAttachment.set(cn.texture);const _n=lt.createRenderbuffer(lt.gl.DEPTH_COMPONENT16,kt,Ot);an.depthAttachment.set(_n),this._depthFBO=an,this._depthTexture=cn}lt.bindFramebuffer.set(this._depthFBO.framebuffer),lt.viewport.set([0,0,kt,Ot]),function(qt,an,cn,_n){if(qt.transform.projection.name==="globe")return;const Fn=qt.context,Qn=Fn.gl;Fn.clear({depth:1});const Nn=qt.useProgram("terrainDepth"),Yn=new j.DepthMode(Qn.LESS,j.DepthMode.ReadWrite,qt.depthRangeFor3D);for(const jn of _n){const Xn=cn.getTile(jn),Pn=Ey(jn.projMatrix,0);an.setupElevationDraw(Xn,Nn),Nn.draw(Fn,Qn.TRIANGLES,Yn,j.StencilMode.disabled,j.ColorMode.unblended,j.CullFaceMode.backCCW,Pn,"terrain_depth",an.gridBuffer,an.gridIndexBuffer,an.gridNoSkirtSegments)}}(ot,this,Ut,this.proxyCoords)}_setupProxiedCoordsForOrtho(ot,lt,Ut){if(ot.getSource()instanceof lr)return this._setupProxiedCoordsForImageSource(ot,lt,Ut);this._findCoveringTileCache[ot.id]=this._findCoveringTileCache[ot.id]||{};const kt=this.proxiedCoords[ot.id]=[],Ot=this.proxyCoords;for(let an=0;an<Ot.length;an++){const cn=Ot[an],_n=this._findTileCoveringTileID(cn,ot);if(_n){const Fn=this._createProxiedId(cn,_n,Ut[cn.key]&&Ut[cn.key][ot.id]);kt.push(Fn),this.proxyToSource[cn.key][ot.id]=[Fn]}}let qt=!1;for(let an=0;an<lt.length;an++){const cn=ot.getTile(lt[an]);if(!cn||!cn.hasData())continue;const _n=this._findTileCoveringTileID(cn.tileID,this.proxySourceCache);if(_n&&_n.tileID.canonical.z!==cn.tileID.canonical.z){const Fn=this.proxyToSource[_n.tileID.key][ot.id],Qn=this._createProxiedId(_n.tileID,cn,Ut[_n.tileID.key]&&Ut[_n.tileID.key][ot.id]);Fn?Fn.splice(Fn.length-1,0,Qn):this.proxyToSource[_n.tileID.key][ot.id]=[Qn],kt.push(Qn),qt=!0}}this._sourceTilesOverlap[ot.id]=qt}_setupProxiedCoordsForImageSource(ot,lt,Ut){if(!ot.getSource().loaded())return;const kt=this.proxiedCoords[ot.id]=[],Ot=this.proxyCoords,qt=ot.getSource(),an=new j.pointGeometry(qt.tileID.x,qt.tileID.y)._div(1<<qt.tileID.z),cn=qt.coordinates.map(j.MercatorCoordinate.fromLngLat).reduce((Fn,Qn)=>(Fn.min.x=Math.min(Fn.min.x,Qn.x-an.x),Fn.min.y=Math.min(Fn.min.y,Qn.y-an.y),Fn.max.x=Math.max(Fn.max.x,Qn.x-an.x),Fn.max.y=Math.max(Fn.max.y,Qn.y-an.y),Fn),{min:new j.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new j.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),_n=(Fn,Qn)=>{const Nn=Fn.wrap+Fn.canonical.x/(1<<Fn.canonical.z),Yn=Fn.canonical.y/(1<<Fn.canonical.z),jn=j.EXTENT/(1<<Fn.canonical.z),Xn=Qn.wrap+Qn.canonical.x/(1<<Qn.canonical.z),Pn=Qn.canonical.y/(1<<Qn.canonical.z);return Nn+jn<Xn+cn.min.x||Nn>Xn+cn.max.x||Yn+jn<Pn+cn.min.y||Yn>Pn+cn.max.y};for(let Fn=0;Fn<Ot.length;Fn++){const Qn=Ot[Fn];for(let Nn=0;Nn<lt.length;Nn++){const Yn=ot.getTile(lt[Nn]);if(!Yn||!Yn.hasData()||_n(Qn,Yn.tileID))continue;const jn=this._createProxiedId(Qn,Yn,Ut[Qn.key]&&Ut[Qn.key][ot.id]),Xn=this.proxyToSource[Qn.key][ot.id];Xn?Xn.push(jn):this.proxyToSource[Qn.key][ot.id]=[jn],kt.push(jn)}}}_createProxiedId(ot,lt,Ut){let kt=this.orthoMatrix;if(Ut){const Ot=Ut.find(qt=>qt.key===lt.tileID.key);if(Ot)return Ot}if(lt.tileID.key!==ot.key){const Ot=ot.canonical.z-lt.tileID.canonical.z;let qt,an,cn;kt=j.create();const _n=lt.tileID.wrap-ot.wrap<<ot.overscaledZ;Ot>0?(qt=j.EXTENT>>Ot,an=qt*((lt.tileID.canonical.x<<Ot)-ot.canonical.x+_n),cn=qt*((lt.tileID.canonical.y<<Ot)-ot.canonical.y)):(qt=j.EXTENT<<-Ot,an=j.EXTENT*(lt.tileID.canonical.x-(ot.canonical.x+_n<<-Ot)),cn=j.EXTENT*(lt.tileID.canonical.y-(ot.canonical.y<<-Ot))),j.ortho(kt,0,qt,0,qt,0,1),j.translate(kt,kt,[an,cn,0])}return new Hm(lt.tileID,ot.key,kt)}_findTileCoveringTileID(ot,lt){let Ut=lt.getTile(ot);if(Ut&&Ut.hasData())return Ut;const kt=this._findCoveringTileCache[lt.id],Ot=kt[ot.key];if(Ut=Ot?lt.getTileByID(Ot):null,Ut&&Ut.hasData()||Ot===null)return Ut;let qt=Ut?Ut.tileID:ot,an=qt.overscaledZ;const cn=lt.getSource().minzoom,_n=[];if(!Ot){const Qn=lt.getSource().maxzoom;if(ot.canonical.z>=Qn){const Nn=ot.canonical.z-Qn;lt.getSource().reparseOverscaled?(an=Math.max(ot.canonical.z+2,lt.transform.tileZoom),qt=new j.OverscaledTileID(an,ot.wrap,Qn,ot.canonical.x>>Nn,ot.canonical.y>>Nn)):Nn!==0&&(an=Qn,qt=new j.OverscaledTileID(an,ot.wrap,Qn,ot.canonical.x>>Nn,ot.canonical.y>>Nn))}qt.key!==ot.key&&(_n.push(qt.key),Ut=lt.getTile(qt))}const Fn=Qn=>{_n.forEach(Nn=>{kt[Nn]=Qn}),_n.length=0};for(an-=1;an>=cn&&(!Ut||!Ut.hasData());an--){Ut&&Fn(Ut.tileID.key);const Qn=qt.calculateScaledKey(an);if(Ut=lt.getTileByID(Qn),Ut&&Ut.hasData())break;const Nn=kt[Qn];if(Nn===null)break;Nn===void 0?_n.push(Qn):Ut=lt.getTileByID(Nn)}return Fn(Ut?Ut.tileID.key:null),Ut&&Ut.hasData()?Ut:null}findDEMTileFor(ot){return this.enabled?this._findTileCoveringTileID(ot,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(ot,lt){let Ut=this._tilesDirty[ot];Ut||(Ut=this._tilesDirty[ot]={}),Ut[lt.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const ot=function(lt){let Ut=0;const kt=new j.StructArrayLayout2ui4,Ot=131;for(let qt=1;qt<129;qt++){for(let an=1;an<129;an++)Ut=qt*Ot+an,kt.emplaceBack(Ut,Ut+1),kt.emplaceBack(Ut,Ut+Ot),kt.emplaceBack(Ut+1,Ut+Ot),qt===128&&kt.emplaceBack(Ut+Ot,Ut+Ot+1);kt.emplaceBack(Ut+1,Ut+1+Ot)}return kt}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(ot),this.wireframeSegments=j.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,ot.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class p_{static cacheKey(ot,lt,Ut,kt){let Ot=`${lt}${kt?kt.cacheKey:""}`;for(const qt of Ut)ot.usedDefines.includes(qt)&&(Ot+=`/${qt}`);return Ot}constructor(ot,lt,Ut,kt,Ot,qt){const an=ot.gl;this.program=an.createProgram();const cn=function(Pn){const In=[];for(let er=0;er<Pn.length;er++){if(Pn[er]===null)continue;const Hn=Pn[er].split(" ");In.push(Hn.pop())}return In}(Ut.staticAttributes),_n=kt?kt.getBinderAttributes():[],Fn=cn.concat(_n);let Qn=kt?kt.defines():[];Qn=Qn.concat(qt.map(Pn=>`#define ${Pn}`));const Nn=Qn.concat(ot.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(mu):mu,mu,u_,gu.fragmentSource,o0.fragmentSource,Ut.fragmentSource).join(`
`),Yn=Qn.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,u_,gu.vertexSource,o0.vertexSource,i0.vertexSource,Ut.vertexSource).join(`
`),jn=an.createShader(an.FRAGMENT_SHADER);if(an.isContextLost())return void(this.failedToCreate=!0);an.shaderSource(jn,Nn),an.compileShader(jn),an.attachShader(this.program,jn);const Xn=an.createShader(an.VERTEX_SHADER);if(an.isContextLost())this.failedToCreate=!0;else{an.shaderSource(Xn,Yn),an.compileShader(Xn),an.attachShader(this.program,Xn),this.attributes={},this.numAttributes=Fn.length;for(let Pn=0;Pn<this.numAttributes;Pn++)Fn[Pn]&&(an.bindAttribLocation(this.program,Pn,Fn[Pn]),this.attributes[Fn[Pn]]=Pn);an.linkProgram(this.program),an.deleteShader(Xn),an.deleteShader(jn),this.fixedUniforms=Ot(ot),this.binderUniforms=kt?kt.getUniforms(ot):[],qt.includes("TERRAIN")&&(this.terrainUniforms=(Pn=>({u_dem:new j.Uniform1i(Pn),u_dem_prev:new j.Uniform1i(Pn),u_dem_unpack:new j.Uniform4f(Pn),u_dem_tl:new j.Uniform2f(Pn),u_dem_scale:new j.Uniform1f(Pn),u_dem_tl_prev:new j.Uniform2f(Pn),u_dem_scale_prev:new j.Uniform1f(Pn),u_dem_size:new j.Uniform1f(Pn),u_dem_lerp:new j.Uniform1f(Pn),u_exaggeration:new j.Uniform1f(Pn),u_depth:new j.Uniform1i(Pn),u_depth_size_inv:new j.Uniform2f(Pn),u_meter_to_dem:new j.Uniform1f(Pn),u_label_plane_matrix_inv:new j.UniformMatrix4f(Pn)}))(ot)),qt.includes("GLOBE")&&(this.globeUniforms=(Pn=>({u_tile_tl_up:new j.Uniform3f(Pn),u_tile_tr_up:new j.Uniform3f(Pn),u_tile_br_up:new j.Uniform3f(Pn),u_tile_bl_up:new j.Uniform3f(Pn),u_tile_up_scale:new j.Uniform1f(Pn)}))(ot)),qt.includes("FOG")&&(this.fogUniforms=(Pn=>({u_fog_matrix:new j.UniformMatrix4f(Pn),u_fog_range:new j.Uniform2f(Pn),u_fog_color:new j.Uniform4f(Pn),u_fog_horizon_blend:new j.Uniform1f(Pn),u_fog_temporal_offset:new j.Uniform1f(Pn),u_frustum_tl:new j.Uniform3f(Pn),u_frustum_tr:new j.Uniform3f(Pn),u_frustum_br:new j.Uniform3f(Pn),u_frustum_bl:new j.Uniform3f(Pn),u_globe_pos:new j.Uniform3f(Pn),u_globe_radius:new j.Uniform1f(Pn),u_globe_transition:new j.Uniform1f(Pn),u_is_globe:new j.Uniform1i(Pn),u_viewport:new j.Uniform2f(Pn)}))(ot))}}setTerrainUniformValues(ot,lt){if(!this.terrainUniforms)return;const Ut=this.terrainUniforms;if(!this.failedToCreate){ot.program.set(this.program);for(const kt in lt)Ut[kt]&&Ut[kt].set(this.program,kt,lt[kt])}}setGlobeUniformValues(ot,lt){if(!this.globeUniforms)return;const Ut=this.globeUniforms;if(!this.failedToCreate){ot.program.set(this.program);for(const kt in lt)Ut[kt]&&Ut[kt].set(this.program,kt,lt[kt])}}setFogUniformValues(ot,lt){if(!this.fogUniforms)return;const Ut=this.fogUniforms;if(!this.failedToCreate){ot.program.set(this.program);for(const kt in lt)Ut[kt].set(this.program,kt,lt[kt])}}draw(ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn){const Pn=ot.gl;if(this.failedToCreate)return;ot.program.set(this.program),ot.setDepthMode(Ut),ot.setStencilMode(kt),ot.setColorMode(Ot),ot.setCullFace(qt);for(const er of Object.keys(this.fixedUniforms))this.fixedUniforms[er].set(this.program,er,an[er]);jn&&jn.setUniforms(this.program,ot,this.binderUniforms,Nn,{zoom:Yn});const In={[Pn.LINES]:2,[Pn.TRIANGLES]:3,[Pn.LINE_STRIP]:1}[lt];for(const er of Qn.get()){const Hn=er.vaos||(er.vaos={});(Hn[cn]||(Hn[cn]=new om)).bind(ot,this,_n,jn?jn.getPaintVertexBuffers():[],Fn,er.vertexOffset,Xn||[]),Pn.drawElements(lt,er.primitiveLength*In,Pn.UNSIGNED_SHORT,er.primitiveOffset*In*2)}}}function av(gt,ot,lt){const Ut=1/yn(lt,1,ot.transform.tileZoom),kt=Math.pow(2,lt.tileID.overscaledZ),Ot=lt.tileSize*Math.pow(2,ot.transform.tileZoom)/kt,qt=Ot*(lt.tileID.canonical.x+lt.tileID.wrap*kt),an=Ot*lt.tileID.canonical.y;return{u_image:0,u_texsize:lt.imageAtlasTexture.size,u_scale:[Ut,gt.fromScale,gt.toScale],u_fade:gt.t,u_pixel_coord_upper:[qt>>16,an>>16],u_pixel_coord_lower:[65535&qt,65535&an]}}const Qy=j.create(),Ym=(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn)=>{const Qn=ot.style.light,Nn=Qn.properties.get("position"),Yn=[Nn.x,Nn.y,Nn.z],jn=j.create$1();Qn.properties.get("anchor")==="viewport"&&(j.fromRotation(jn,-ot.transform.angle),j.transformMat3(Yn,Yn,jn));const Xn=Qn.properties.get("color"),Pn=ot.transform,In={u_matrix:gt,u_lightpos:Yn,u_lightintensity:Qn.properties.get("intensity"),u_lightcolor:[Xn.r,Xn.g,Xn.b],u_vertical_gradient:+lt,u_opacity:Ut,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Qy,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:kt,u_edge_radius:Ot};return Pn.projection.name==="globe"&&(In.u_tile_id=[qt.canonical.x,qt.canonical.y,1<<qt.canonical.z],In.u_zoom_transition=cn,In.u_inv_rot_matrix=Fn,In.u_merc_center=_n,In.u_up_dir=Pn.projection.upVector(new j.CanonicalTileID(0,0,0),_n[0]*j.EXTENT,_n[1]*j.EXTENT),In.u_height_lift=an),In},g_=(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn)=>{const Yn=Ym(gt,ot,lt,Ut,kt,Ot,qt,_n,Fn,Qn,Nn),jn={u_height_factor:-Math.pow(2,qt.overscaledZ)/cn.tileSize/8};return j.extend(Yn,av(an,ot,cn),jn)},xy=gt=>({u_matrix:gt}),yu=(gt,ot,lt,Ut)=>j.extend(xy(gt),av(lt,ot,Ut)),c0=(gt,ot)=>({u_matrix:gt,u_world:ot}),Ay=(gt,ot,lt,Ut,kt)=>j.extend(yu(gt,ot,lt,Ut),{u_world:kt}),$m=j.create(),Xm=(gt,ot,lt,Ut,kt,Ot)=>{const qt=gt.transform,an=qt.projection.name==="globe";let cn;if(Ot.paint.get("circle-pitch-alignment")==="map")if(an){const Fn=j.globePixelsToTileUnits(qt.zoom,ot.canonical)*qt._pixelsPerMercatorPixel;cn=Float32Array.from([Fn,0,0,Fn])}else cn=qt.calculatePixelsToTileUnitsMatrix(lt);else cn=new Float32Array([qt.pixelsToGLUnits[0],0,0,qt.pixelsToGLUnits[1]]);const _n={u_camera_to_center_distance:qt.cameraToCenterDistance,u_matrix:gt.translatePosMatrix(ot.projMatrix,lt,Ot.paint.get("circle-translate"),Ot.paint.get("circle-translate-anchor")),u_device_pixel_ratio:j.exported.devicePixelRatio,u_extrude_scale:cn,u_inv_rot_matrix:$m,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(an){_n.u_inv_rot_matrix=Ut,_n.u_merc_center=kt,_n.u_tile_id=[ot.canonical.x,ot.canonical.y,1<<ot.canonical.z],_n.u_zoom_transition=j.globeToMercatorTransition(qt.zoom);const Fn=kt[0]*j.EXTENT,Qn=kt[1]*j.EXTENT;_n.u_up_dir=qt.projection.upVector(new j.CanonicalTileID(0,0,0),Fn,Qn)}return _n},lv=gt=>{const ot=[];return gt.paint.get("circle-pitch-alignment")==="map"&&ot.push("PITCH_WITH_MAP"),gt.paint.get("circle-pitch-scale")==="map"&&ot.push("SCALE_WITH_MAP"),ot},h0=(gt,ot,lt,Ut)=>{const kt=j.EXTENT/lt.tileSize;return{u_matrix:gt,u_camera_to_center_distance:ot.getCameraToCenterDistance(Ut),u_extrude_scale:[ot.pixelsToGLUnits[0]/kt,ot.pixelsToGLUnits[1]/kt]}},d0=(gt,ot,lt=1)=>({u_matrix:gt,u_color:ot,u_overlay:0,u_overlay_scale:lt}),bp=j.create(),m_=(gt,ot,lt,Ut,kt,Ot,qt)=>{const an=gt.transform,cn=an.projection.name==="globe",_n=cn?j.globePixelsToTileUnits(an.zoom,ot.canonical)*an._pixelsPerMercatorPixel:yn(lt,1,Ot),Fn={u_matrix:ot.projMatrix,u_extrude_scale:_n,u_intensity:qt,u_inv_rot_matrix:bp,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(cn){Fn.u_inv_rot_matrix=Ut,Fn.u_merc_center=kt,Fn.u_tile_id=[ot.canonical.x,ot.canonical.y,1<<ot.canonical.z],Fn.u_zoom_transition=j.globeToMercatorTransition(an.zoom);const Qn=kt[0]*j.EXTENT,Nn=kt[1]*j.EXTENT;Fn.u_up_dir=an.projection.upVector(new j.CanonicalTileID(0,0,0),Qn,Nn)}return Fn},Am=(gt,ot,lt,Ut,kt,Ot,qt,an)=>{const cn=gt.transform,_n=cn.calculatePixelsToTileUnitsMatrix(ot),Fn={u_matrix:qm(gt,ot,lt,kt),u_pixels_to_tile_units:_n,u_device_pixel_ratio:qt,u_units_to_pixels:[1/cn.pixelsToGLUnits[0],1/cn.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:Ot,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:an};if(v_(lt)){const Qn=__(ot,gt.transform);Fn.u_texsize=ot.lineAtlasTexture.size,Fn.u_scale=[Qn,Ut.fromScale,Ut.toScale],Fn.u_mix=Ut.t}return Fn},y_=(gt,ot,lt,Ut,kt,Ot)=>{const qt=gt.transform,an=__(ot,qt);return{u_matrix:qm(gt,ot,lt,kt),u_texsize:ot.imageAtlasTexture.size,u_pixels_to_tile_units:qt.calculatePixelsToTileUnitsMatrix(ot),u_device_pixel_ratio:Ot,u_image:0,u_scale:[an,Ut.fromScale,Ut.toScale],u_fade:Ut.t,u_units_to_pixels:[1/qt.pixelsToGLUnits[0],1/qt.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function __(gt,ot){return 1/yn(gt,1,ot.tileZoom)}function qm(gt,ot,lt,Ut){return gt.translatePosMatrix(Ut||ot.tileID.projMatrix,ot,lt.paint.get("line-translate"),lt.paint.get("line-translate-anchor"))}function v_(gt){const ot=gt.paint.get("line-dasharray").value;return ot.value||ot.kind!=="constant"}const Fp=(gt,ot,lt,Ut,kt,Ot)=>{return{u_matrix:gt,u_tl_parent:ot,u_scale_parent:lt,u_fade_t:Ut.mix,u_opacity:Ut.opacity*kt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:kt.paint.get("raster-brightness-min"),u_brightness_high:kt.paint.get("raster-brightness-max"),u_saturation_factor:(an=kt.paint.get("raster-saturation"),an>0?1-1/(1.001-an):-an),u_contrast_factor:(qt=kt.paint.get("raster-contrast"),qt>0?1/(1-qt):1+qt),u_spin_weights:f0(kt.paint.get("raster-hue-rotate")),u_perspective_transform:Ot};var qt,an};function f0(gt){gt*=Math.PI/180;const ot=Math.sin(gt),lt=Math.cos(gt);return[(2*lt+1)/3,(-Math.sqrt(3)*ot-lt+1)/3,(Math.sqrt(3)*ot-lt+1)/3]}const Cy=j.create(),uv=(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn)=>{const Pn=kt.transform,In={u_is_size_zoom_constant:+(gt==="constant"||gt==="source"),u_is_size_feature_constant:+(gt==="constant"||gt==="camera"),u_size_t:ot?ot.uSizeT:0,u_size:ot?ot.uSize:0,u_camera_to_center_distance:Pn.cameraToCenterDistance,u_rotate_symbol:+lt,u_aspect_ratio:Pn.width/Pn.height,u_fade_change:kt.options.fadeDuration?kt.symbolFadeChange:1,u_matrix:Ot,u_label_plane_matrix:qt,u_coord_matrix:an,u_is_text:+cn,u_pitch_with_map:+Ut,u_texsize:_n,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Cy,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Cy,u_up_vector:[0,-1,0]};return Xn.name==="globe"&&(In.u_tile_id=[Fn.canonical.x,Fn.canonical.y,1<<Fn.canonical.z],In.u_zoom_transition=Qn,In.u_inv_rot_matrix=Yn,In.u_merc_center=Nn,In.u_camera_forward=Pn._camera.forward(),In.u_ecef_origin=j.globeECEFOrigin(Pn.globeMatrix,Fn.toUnwrapped()),In.u_tile_matrix=Float32Array.from(Pn.globeMatrix),In.u_up_vector=jn),In},p0=(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn,Pn)=>j.extend(uv(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Qn,Nn,Yn,jn,Xn,Pn),{u_gamma_scale:Ut?kt.transform.cameraToCenterDistance*Math.cos(kt.terrain?0:kt.transform._pitch):1,u_device_pixel_ratio:j.exported.devicePixelRatio,u_is_halo:+Fn}),Km=(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn)=>j.extend(p0(gt,ot,lt,Ut,kt,Ot,qt,an,!0,cn,!0,Fn,Qn,Nn,Yn,jn,Xn),{u_texsize_icon:_n,u_texture_icon:1}),ku=(gt,ot,lt)=>({u_matrix:gt,u_opacity:ot,u_color:lt}),cv=(gt,ot,lt,Ut,kt,Ot)=>j.extend(function(qt,an,cn,_n){const Fn=cn.imageManager.getPattern(qt.from.toString()),Qn=cn.imageManager.getPattern(qt.to.toString()),{width:Nn,height:Yn}=cn.imageManager.getPixelSize(),jn=Math.pow(2,_n.tileID.overscaledZ),Xn=_n.tileSize*Math.pow(2,cn.transform.tileZoom)/jn,Pn=Xn*(_n.tileID.canonical.x+_n.tileID.wrap*jn),In=Xn*_n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Fn.tl,u_pattern_br_a:Fn.br,u_pattern_tl_b:Qn.tl,u_pattern_br_b:Qn.br,u_texsize:[Nn,Yn],u_mix:an.t,u_pattern_size_a:Fn.displaySize,u_pattern_size_b:Qn.displaySize,u_scale_a:an.fromScale,u_scale_b:an.toScale,u_tile_units_to_pixels:1/yn(_n,1,cn.transform.tileZoom),u_pixel_coord_upper:[Pn>>16,In>>16],u_pixel_coord_lower:[65535&Pn,65535&In]}}(Ut,Ot,lt,kt),{u_matrix:gt,u_opacity:ot}),g0={fillExtrusion:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_lightpos:new j.Uniform3f(gt),u_lightintensity:new j.Uniform1f(gt),u_lightcolor:new j.Uniform3f(gt),u_vertical_gradient:new j.Uniform1f(gt),u_opacity:new j.Uniform1f(gt),u_edge_radius:new j.Uniform1f(gt),u_ao:new j.Uniform2f(gt),u_tile_id:new j.Uniform3f(gt),u_zoom_transition:new j.Uniform1f(gt),u_inv_rot_matrix:new j.UniformMatrix4f(gt),u_merc_center:new j.Uniform2f(gt),u_up_dir:new j.Uniform3f(gt),u_height_lift:new j.Uniform1f(gt)}),fillExtrusionPattern:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_lightpos:new j.Uniform3f(gt),u_lightintensity:new j.Uniform1f(gt),u_lightcolor:new j.Uniform3f(gt),u_vertical_gradient:new j.Uniform1f(gt),u_height_factor:new j.Uniform1f(gt),u_edge_radius:new j.Uniform1f(gt),u_ao:new j.Uniform2f(gt),u_tile_id:new j.Uniform3f(gt),u_zoom_transition:new j.Uniform1f(gt),u_inv_rot_matrix:new j.UniformMatrix4f(gt),u_merc_center:new j.Uniform2f(gt),u_up_dir:new j.Uniform3f(gt),u_height_lift:new j.Uniform1f(gt),u_image:new j.Uniform1i(gt),u_texsize:new j.Uniform2f(gt),u_pixel_coord_upper:new j.Uniform2f(gt),u_pixel_coord_lower:new j.Uniform2f(gt),u_scale:new j.Uniform3f(gt),u_fade:new j.Uniform1f(gt),u_opacity:new j.Uniform1f(gt)}),fill:gt=>({u_matrix:new j.UniformMatrix4f(gt)}),fillPattern:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_image:new j.Uniform1i(gt),u_texsize:new j.Uniform2f(gt),u_pixel_coord_upper:new j.Uniform2f(gt),u_pixel_coord_lower:new j.Uniform2f(gt),u_scale:new j.Uniform3f(gt),u_fade:new j.Uniform1f(gt)}),fillOutline:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_world:new j.Uniform2f(gt)}),fillOutlinePattern:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_world:new j.Uniform2f(gt),u_image:new j.Uniform1i(gt),u_texsize:new j.Uniform2f(gt),u_pixel_coord_upper:new j.Uniform2f(gt),u_pixel_coord_lower:new j.Uniform2f(gt),u_scale:new j.Uniform3f(gt),u_fade:new j.Uniform1f(gt)}),circle:gt=>({u_camera_to_center_distance:new j.Uniform1f(gt),u_extrude_scale:new j.UniformMatrix2f(gt),u_device_pixel_ratio:new j.Uniform1f(gt),u_matrix:new j.UniformMatrix4f(gt),u_inv_rot_matrix:new j.UniformMatrix4f(gt),u_merc_center:new j.Uniform2f(gt),u_tile_id:new j.Uniform3f(gt),u_zoom_transition:new j.Uniform1f(gt),u_up_dir:new j.Uniform3f(gt)}),collisionBox:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_camera_to_center_distance:new j.Uniform1f(gt),u_extrude_scale:new j.Uniform2f(gt)}),collisionCircle:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_inv_matrix:new j.UniformMatrix4f(gt),u_camera_to_center_distance:new j.Uniform1f(gt),u_viewport_size:new j.Uniform2f(gt)}),debug:gt=>({u_color:new j.UniformColor(gt),u_matrix:new j.UniformMatrix4f(gt),u_overlay:new j.Uniform1i(gt),u_overlay_scale:new j.Uniform1f(gt)}),clippingMask:gt=>({u_matrix:new j.UniformMatrix4f(gt)}),heatmap:gt=>({u_extrude_scale:new j.Uniform1f(gt),u_intensity:new j.Uniform1f(gt),u_matrix:new j.UniformMatrix4f(gt),u_inv_rot_matrix:new j.UniformMatrix4f(gt),u_merc_center:new j.Uniform2f(gt),u_tile_id:new j.Uniform3f(gt),u_zoom_transition:new j.Uniform1f(gt),u_up_dir:new j.Uniform3f(gt)}),heatmapTexture:gt=>({u_image:new j.Uniform1i(gt),u_color_ramp:new j.Uniform1i(gt),u_opacity:new j.Uniform1f(gt)}),hillshade:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_image:new j.Uniform1i(gt),u_latrange:new j.Uniform2f(gt),u_light:new j.Uniform2f(gt),u_shadow:new j.UniformColor(gt),u_highlight:new j.UniformColor(gt),u_accent:new j.UniformColor(gt)}),hillshadePrepare:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_image:new j.Uniform1i(gt),u_dimension:new j.Uniform2f(gt),u_zoom:new j.Uniform1f(gt),u_unpack:new j.Uniform4f(gt)}),line:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_pixels_to_tile_units:new j.UniformMatrix2f(gt),u_device_pixel_ratio:new j.Uniform1f(gt),u_units_to_pixels:new j.Uniform2f(gt),u_dash_image:new j.Uniform1i(gt),u_gradient_image:new j.Uniform1i(gt),u_image_height:new j.Uniform1f(gt),u_texsize:new j.Uniform2f(gt),u_scale:new j.Uniform3f(gt),u_mix:new j.Uniform1f(gt),u_alpha_discard_threshold:new j.Uniform1f(gt),u_trim_offset:new j.Uniform2f(gt)}),linePattern:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_texsize:new j.Uniform2f(gt),u_pixels_to_tile_units:new j.UniformMatrix2f(gt),u_device_pixel_ratio:new j.Uniform1f(gt),u_image:new j.Uniform1i(gt),u_units_to_pixels:new j.Uniform2f(gt),u_scale:new j.Uniform3f(gt),u_fade:new j.Uniform1f(gt),u_alpha_discard_threshold:new j.Uniform1f(gt)}),raster:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_tl_parent:new j.Uniform2f(gt),u_scale_parent:new j.Uniform1f(gt),u_fade_t:new j.Uniform1f(gt),u_opacity:new j.Uniform1f(gt),u_image0:new j.Uniform1i(gt),u_image1:new j.Uniform1i(gt),u_brightness_low:new j.Uniform1f(gt),u_brightness_high:new j.Uniform1f(gt),u_saturation_factor:new j.Uniform1f(gt),u_contrast_factor:new j.Uniform1f(gt),u_spin_weights:new j.Uniform3f(gt),u_perspective_transform:new j.Uniform2f(gt)}),symbolIcon:gt=>({u_is_size_zoom_constant:new j.Uniform1i(gt),u_is_size_feature_constant:new j.Uniform1i(gt),u_size_t:new j.Uniform1f(gt),u_size:new j.Uniform1f(gt),u_camera_to_center_distance:new j.Uniform1f(gt),u_rotate_symbol:new j.Uniform1i(gt),u_aspect_ratio:new j.Uniform1f(gt),u_fade_change:new j.Uniform1f(gt),u_matrix:new j.UniformMatrix4f(gt),u_label_plane_matrix:new j.UniformMatrix4f(gt),u_coord_matrix:new j.UniformMatrix4f(gt),u_is_text:new j.Uniform1i(gt),u_pitch_with_map:new j.Uniform1i(gt),u_texsize:new j.Uniform2f(gt),u_tile_id:new j.Uniform3f(gt),u_zoom_transition:new j.Uniform1f(gt),u_inv_rot_matrix:new j.UniformMatrix4f(gt),u_merc_center:new j.Uniform2f(gt),u_camera_forward:new j.Uniform3f(gt),u_tile_matrix:new j.UniformMatrix4f(gt),u_up_vector:new j.Uniform3f(gt),u_ecef_origin:new j.Uniform3f(gt),u_texture:new j.Uniform1i(gt)}),symbolSDF:gt=>({u_is_size_zoom_constant:new j.Uniform1i(gt),u_is_size_feature_constant:new j.Uniform1i(gt),u_size_t:new j.Uniform1f(gt),u_size:new j.Uniform1f(gt),u_camera_to_center_distance:new j.Uniform1f(gt),u_rotate_symbol:new j.Uniform1i(gt),u_aspect_ratio:new j.Uniform1f(gt),u_fade_change:new j.Uniform1f(gt),u_matrix:new j.UniformMatrix4f(gt),u_label_plane_matrix:new j.UniformMatrix4f(gt),u_coord_matrix:new j.UniformMatrix4f(gt),u_is_text:new j.Uniform1i(gt),u_pitch_with_map:new j.Uniform1i(gt),u_texsize:new j.Uniform2f(gt),u_texture:new j.Uniform1i(gt),u_gamma_scale:new j.Uniform1f(gt),u_device_pixel_ratio:new j.Uniform1f(gt),u_tile_id:new j.Uniform3f(gt),u_zoom_transition:new j.Uniform1f(gt),u_inv_rot_matrix:new j.UniformMatrix4f(gt),u_merc_center:new j.Uniform2f(gt),u_camera_forward:new j.Uniform3f(gt),u_tile_matrix:new j.UniformMatrix4f(gt),u_up_vector:new j.Uniform3f(gt),u_ecef_origin:new j.Uniform3f(gt),u_is_halo:new j.Uniform1i(gt)}),symbolTextAndIcon:gt=>({u_is_size_zoom_constant:new j.Uniform1i(gt),u_is_size_feature_constant:new j.Uniform1i(gt),u_size_t:new j.Uniform1f(gt),u_size:new j.Uniform1f(gt),u_camera_to_center_distance:new j.Uniform1f(gt),u_rotate_symbol:new j.Uniform1i(gt),u_aspect_ratio:new j.Uniform1f(gt),u_fade_change:new j.Uniform1f(gt),u_matrix:new j.UniformMatrix4f(gt),u_label_plane_matrix:new j.UniformMatrix4f(gt),u_coord_matrix:new j.UniformMatrix4f(gt),u_is_text:new j.Uniform1i(gt),u_pitch_with_map:new j.Uniform1i(gt),u_texsize:new j.Uniform2f(gt),u_texsize_icon:new j.Uniform2f(gt),u_texture:new j.Uniform1i(gt),u_texture_icon:new j.Uniform1i(gt),u_gamma_scale:new j.Uniform1f(gt),u_device_pixel_ratio:new j.Uniform1f(gt),u_is_halo:new j.Uniform1i(gt)}),background:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_opacity:new j.Uniform1f(gt),u_color:new j.UniformColor(gt)}),backgroundPattern:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_opacity:new j.Uniform1f(gt),u_image:new j.Uniform1i(gt),u_pattern_tl_a:new j.Uniform2f(gt),u_pattern_br_a:new j.Uniform2f(gt),u_pattern_tl_b:new j.Uniform2f(gt),u_pattern_br_b:new j.Uniform2f(gt),u_texsize:new j.Uniform2f(gt),u_mix:new j.Uniform1f(gt),u_pattern_size_a:new j.Uniform2f(gt),u_pattern_size_b:new j.Uniform2f(gt),u_scale_a:new j.Uniform1f(gt),u_scale_b:new j.Uniform1f(gt),u_pixel_coord_upper:new j.Uniform2f(gt),u_pixel_coord_lower:new j.Uniform2f(gt),u_tile_units_to_pixels:new j.Uniform1f(gt)}),terrainRaster:a0,terrainDepth:a0,skybox:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_sun_direction:new j.Uniform3f(gt),u_cubemap:new j.Uniform1i(gt),u_opacity:new j.Uniform1f(gt),u_temporal_offset:new j.Uniform1f(gt)}),skyboxGradient:gt=>({u_matrix:new j.UniformMatrix4f(gt),u_color_ramp:new j.Uniform1i(gt),u_center_direction:new j.Uniform3f(gt),u_radius:new j.Uniform1f(gt),u_opacity:new j.Uniform1f(gt),u_temporal_offset:new j.Uniform1f(gt)}),skyboxCapture:gt=>({u_matrix_3f:new j.UniformMatrix3f(gt),u_sun_direction:new j.Uniform3f(gt),u_sun_intensity:new j.Uniform1f(gt),u_color_tint_r:new j.Uniform4f(gt),u_color_tint_m:new j.Uniform4f(gt),u_luminance:new j.Uniform1f(gt)}),globeRaster:gt=>({u_proj_matrix:new j.UniformMatrix4f(gt),u_globe_matrix:new j.UniformMatrix4f(gt),u_normalize_matrix:new j.UniformMatrix4f(gt),u_merc_matrix:new j.UniformMatrix4f(gt),u_zoom_transition:new j.Uniform1f(gt),u_merc_center:new j.Uniform2f(gt),u_image0:new j.Uniform1i(gt),u_grid_matrix:new j.UniformMatrix3f(gt),u_frustum_tl:new j.Uniform3f(gt),u_frustum_tr:new j.Uniform3f(gt),u_frustum_br:new j.Uniform3f(gt),u_frustum_bl:new j.Uniform3f(gt),u_globe_pos:new j.Uniform3f(gt),u_globe_radius:new j.Uniform1f(gt),u_viewport:new j.Uniform2f(gt)}),globeAtmosphere:gt=>({u_frustum_tl:new j.Uniform3f(gt),u_frustum_tr:new j.Uniform3f(gt),u_frustum_br:new j.Uniform3f(gt),u_frustum_bl:new j.Uniform3f(gt),u_horizon:new j.Uniform1f(gt),u_transition:new j.Uniform1f(gt),u_fadeout_range:new j.Uniform1f(gt),u_color:new j.Uniform4f(gt),u_high_color:new j.Uniform4f(gt),u_space_color:new j.Uniform4f(gt),u_star_intensity:new j.Uniform1f(gt),u_star_density:new j.Uniform1f(gt),u_star_size:new j.Uniform1f(gt),u_temporal_offset:new j.Uniform1f(gt),u_horizon_angle:new j.Uniform1f(gt),u_rotation_matrix:new j.UniformMatrix4f(gt)})};let m0;function U_(gt,ot,lt,Ut,kt,Ot,qt){const an=gt.context,cn=an.gl,_n=gt.transform,Fn=gt.useProgram("collisionBox"),Qn=[];let Nn=0,Yn=0;for(let dr=0;dr<Ut.length;dr++){const gr=Ut[dr],tr=ot.getTile(gr),vr=tr.getBucket(lt);if(!vr)continue;const wr=Ip(gr,vr,_n);let Mr=wr;kt[0]===0&&kt[1]===0||(Mr=gt.translatePosMatrix(wr,tr,kt,Ot));const kr=qt?vr.textCollisionBox:vr.iconCollisionBox,oo=vr.collisionCircleArray;if(oo.length>0){const Rr=j.create(),Zr=Mr;j.mul(Rr,vr.placementInvProjMatrix,_n.glCoordMatrix),j.mul(Rr,Rr,vr.placementViewportMatrix),Qn.push({circleArray:oo,circleOffset:Yn,transform:Zr,invTransform:Rr,projection:vr.getProjection()}),Nn+=oo.length/4,Yn=Nn}kr&&(gt.terrain&&gt.terrain.setupElevationDraw(tr,Fn),Fn.draw(an,cn.LINES,j.DepthMode.disabled,j.StencilMode.disabled,gt.colorModeForRenderPass(),j.CullFaceMode.disabled,h0(Mr,_n,tr,vr.getProjection()),lt.id,kr.layoutVertexBuffer,kr.indexBuffer,kr.segments,null,_n.zoom,null,[kr.collisionVertexBuffer,kr.collisionVertexBufferExt]))}if(!qt||!Qn.length)return;const jn=gt.useProgram("collisionCircle"),Xn=new j.StructArrayLayout2f1f2i16;Xn.resize(4*Nn),Xn._trim();let Pn=0;for(const dr of Qn)for(let gr=0;gr<dr.circleArray.length/4;gr++){const tr=4*gr,vr=dr.circleArray[tr+0],wr=dr.circleArray[tr+1],Mr=dr.circleArray[tr+2],kr=dr.circleArray[tr+3];Xn.emplace(Pn++,vr,wr,Mr,kr,0),Xn.emplace(Pn++,vr,wr,Mr,kr,1),Xn.emplace(Pn++,vr,wr,Mr,kr,2),Xn.emplace(Pn++,vr,wr,Mr,kr,3)}(!m0||m0.length<2*Nn)&&(m0=function(dr){const gr=2*dr,tr=new j.StructArrayLayout3ui6;tr.resize(gr),tr._trim();for(let vr=0;vr<gr;vr++){const wr=6*vr;tr.uint16[wr+0]=4*vr+0,tr.uint16[wr+1]=4*vr+1,tr.uint16[wr+2]=4*vr+2,tr.uint16[wr+3]=4*vr+2,tr.uint16[wr+4]=4*vr+3,tr.uint16[wr+5]=4*vr+0}return tr}(Nn));const In=an.createIndexBuffer(m0,!0),er=an.createVertexBuffer(Xn,j.collisionCircleLayout.members,!0);for(const dr of Qn){const gr={u_matrix:dr.transform,u_inv_matrix:dr.invTransform,u_camera_to_center_distance:(Hn=_n).getCameraToCenterDistance(dr.projection),u_viewport_size:[Hn.width,Hn.height]};jn.draw(an,cn.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,gt.colorModeForRenderPass(),j.CullFaceMode.disabled,gr,lt.id,er,In,j.SegmentVector.simpleSegment(0,2*dr.circleOffset,dr.circleArray.length,dr.circleArray.length/2),null,_n.zoom)}var Hn;er.destroy(),In.destroy()}const b_=j.create();function ey(gt,ot,lt,Ut,kt,Ot){const{horizontalAlign:qt,verticalAlign:an}=j.getAnchorAlignment(gt),cn=-(qt-.5)*ot,_n=-(an-.5)*lt,Fn=j.evaluateVariableOffset(gt,Ut);return new j.pointGeometry((cn/kt+Fn[0])*Ot,(_n/kt+Fn[1])*Ot)}function ty(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn){const Qn=gt.text.placedSymbolArray,Nn=gt.text.dynamicLayoutVertexArray,Yn=gt.icon.dynamicLayoutVertexArray,jn={},Xn=Ks(an,gt.getProjection(),Ot),Pn=Ot.elevation,In=gt.getProjection().upVectorScale(an.canonical,Ot.center.lat,Ot.worldSize);Nn.clear();for(let er=0;er<Qn.length;er++){const Hn=Qn.get(er),dr=gt.allowVerticalPlacement&&!Hn.placedOrientation,gr=Hn.hidden||!Hn.crossTileID||dr?null:Ut[Hn.crossTileID];if(gr){const tr=new j.pointGeometry(Hn.tileAnchorX,Hn.tileAnchorY),vr=gt.getProjection().upVector(an.canonical,tr.x,tr.y),wr=Pn?Pn.getAtTileOffset(an,tr.x,tr.y):0,Mr=rs([Hn.projectedAnchorX+wr*vr[0]*In.metersToTile,Hn.projectedAnchorY+wr*vr[1]*In.metersToTile,Hn.projectedAnchorZ+wr*vr[2]*In.metersToTile],lt?Xn:qt),kr=ss(Ot.getCameraToCenterDistance(gt.getProjection()),Mr.signedDistanceFromCamera);let oo=kt.evaluateSizeForFeature(gt.textSizeData,_n,Hn)*kr/j.ONE_EM;lt&&(oo*=gt.tilePixelRatio/cn);const{width:Rr,height:Zr,anchor:Gr,textOffset:xr,textScale:Fr}=gr,yo=ey(Gr,Rr,Zr,xr,Fr,oo);let uo;if(lt){const co=tr.add(yo),{x:ko,y:Lo,z:Wo}=gt.getProjection().projectTilePoint(co.x,co.y,an.canonical);uo=rs([ko+wr*vr[0]*In.metersToTile,Lo+wr*vr[1]*In.metersToTile,Wo+wr*vr[2]*In.metersToTile],qt).point}else{const co=ot?yo.rotate(-Ot.angle):yo;uo=[Mr.point[0]+co.x,Mr.point[1]+co.y,0]}const fo=gt.allowVerticalPlacement&&Hn.placedOrientation===j.WritingMode.vertical?Math.PI/2:0;for(let co=0;co<Hn.numGlyphs;co++)j.addDynamicAttributes(Nn,uo[0],uo[1],uo[2],fo);Fn&&Hn.associatedIconIndex>=0&&(jn[Hn.associatedIconIndex]={shiftedAnchor:uo,angle:fo})}else Os(Hn.numGlyphs,Nn)}if(Fn){Yn.clear();const er=gt.icon.placedSymbolArray;for(let Hn=0;Hn<er.length;Hn++){const dr=er.get(Hn);if(dr.hidden)Os(dr.numGlyphs,Yn);else{const gr=jn[Hn];if(gr)for(let tr=0;tr<dr.numGlyphs;tr++)j.addDynamicAttributes(Yn,gr.shiftedAnchor[0],gr.shiftedAnchor[1],gr.shiftedAnchor[2],gr.angle);else Os(dr.numGlyphs,Yn)}}gt.icon.dynamicLayoutVertexBuffer.updateData(Yn)}gt.text.dynamicLayoutVertexBuffer.updateData(Nn)}function Tr(gt,ot,lt){return lt.iconsInText&&ot?"symbolTextAndIcon":gt?"symbolSDF":"symbolIcon"}function Xr(gt,ot,lt,Ut,kt,Ot,qt,an,cn,_n,Fn,Qn){const Nn=gt.context,Yn=Nn.gl,jn=gt.transform,Xn=an==="map",Pn=cn==="map",In=Xn&&lt.layout.get("symbol-placement")!=="point",er=Xn&&!Pn&&!In,Hn=lt.layout.get("symbol-sort-key").constantOr(1)!==void 0;let dr=!1;const gr=gt.depthModeForSublayer(0,j.DepthMode.ReadOnly),tr=[j.mercatorXfromLng(jn.center.lng),j.mercatorYfromLat(jn.center.lat)],vr=lt.layout.get("text-variable-anchor"),wr=jn.projection.name==="globe",Mr=[],kr=[0,-1,0];let oo=kr;!wr&&!jn.mercatorFromTransition||Xn||(oo=function(Rr){const Zr=Rr._camera.getWorldToCamera(Rr.worldSize,1),Gr=j.multiply([],Zr,Rr.globeMatrix);j.invert(Gr,Gr);const xr=[0,0,0],Fr=[0,1,0,0];return j.transformMat4$1(Fr,Fr,Gr),xr[0]=Fr[0],xr[1]=Fr[1],xr[2]=Fr[2],j.normalize(xr,xr),xr}(jn));for(const Rr of Ut){const Zr=ot.getTile(Rr),Gr=Zr.getBucket(lt);if(!Gr||Gr.projection.name==="mercator"&&wr)continue;const xr=kt?Gr.text:Gr.icon;if(!xr||Gr.fullyClipped||!xr.segments.get().length)continue;const Fr=xr.programConfigurations.get(lt.id),yo=kt||Gr.sdfIcons,uo=kt?Gr.textSizeData:Gr.iconSizeData,fo=Pn||jn.pitch!==0,co=j.evaluateSizeForZoom(uo,jn.zoom);let ko,Lo,Wo,Do,ho=[0,0],$o=null;if(kt){if(Lo=Zr.glyphAtlasTexture,Wo=Yn.LINEAR,ko=Zr.glyphAtlasTexture.size,Gr.iconsInText){ho=Zr.imageAtlasTexture.size,$o=Zr.imageAtlasTexture;const Ho=uo.kind==="composite"||uo.kind==="camera";Do=fo||gt.options.rotating||gt.options.zooming||Ho?Yn.LINEAR:Yn.NEAREST}}else{const Ho=lt.layout.get("icon-size").constantOr(0)!==1||Gr.iconsNeedLinear;Lo=Zr.imageAtlasTexture,Wo=yo||gt.options.rotating||gt.options.zooming||Ho||fo?Yn.LINEAR:Yn.NEAREST,ko=Zr.imageAtlasTexture.size}const us=Gr.projection.name==="globe",Ns=us?oo:kr,Ps=us?j.globeToMercatorTransition(jn.zoom):0,As=Ks(Rr,Gr.getProjection(),jn),Nl=jn.calculatePixelsToTileUnitsMatrix(Zr),ou=Ul(As,Zr.tileID.canonical,Pn,Xn,jn,Gr.getProjection(),Nl),fp=gt.terrain&&Pn&&In?j.invert(j.create(),ou):b_,Ws=rp(As,Zr.tileID.canonical,Pn,Xn,jn,Gr.getProjection(),Nl),$a=vr&&Gr.hasTextData(),Cs=lt.layout.get("icon-text-fit")!=="none"&&$a&&Gr.hasIconData();if(In){const Ho=jn.elevation,xp=Ho?Ho.getAtTileOffsetFunc(Rr,jn.center.lat,jn.worldSize,Gr.getProjection()):vu=>[0,0,0],pm=rm(As,Zr.tileID.canonical,Pn,Xn,jn,Gr.getProjection(),Nl);ip(Gr,As,gt,kt,pm,Ws,Pn,_n,xp,Rr)}const El=In||kt&&vr||Cs,su=gt.translatePosMatrix(As,Zr,Ot,qt),zs=El?b_:ou,Qu=gt.translatePosMatrix(Ws,Zr,Ot,qt,!0),Yp=Gr.getProjection().createInversionMatrix(jn,Rr.canonical),Yu=[];gt.terrainRenderModeElevated()&&Pn&&Yu.push("PITCH_WITH_MAP_TERRAIN"),us&&Yu.push("PROJECTION_GLOBE_VIEW"),El&&Yu.push("PROJECTED_POS_ON_VIEWPORT");const Xl=yo&&lt.paint.get(kt?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let cy;cy=yo?Gr.iconsInText?Km(uo.kind,co,er,Pn,gt,su,zs,Qu,ko,ho,Rr,Ps,tr,Yp,Ns,Gr.getProjection()):p0(uo.kind,co,er,Pn,gt,su,zs,Qu,kt,ko,!0,Rr,Ps,tr,Yp,Ns,Gr.getProjection()):uv(uo.kind,co,er,Pn,gt,su,zs,Qu,kt,ko,Rr,Ps,tr,Yp,Ns,Gr.getProjection());const Qp={program:gt.useProgram(Tr(yo,kt,Gr),Fr,Yu),buffers:xr,uniformValues:cy,atlasTexture:Lo,atlasTextureIcon:$o,atlasInterpolation:Wo,atlasInterpolationIcon:Do,isSDF:yo,hasHalo:Xl,tile:Zr,labelPlaneMatrixInv:fp};if(Hn&&Gr.canOverlap){dr=!0;const Ho=xr.segments.get();for(const xp of Ho)Mr.push({segments:new j.SegmentVector([xp]),sortKey:xp.sortKey,state:Qp})}else Mr.push({segments:xr.segments,sortKey:0,state:Qp})}dr&&Mr.sort((Rr,Zr)=>Rr.sortKey-Zr.sortKey);for(const Rr of Mr){const Zr=Rr.state;if(gt.terrain&&gt.terrain.setupElevationDraw(Zr.tile,Zr.program,{useDepthForOcclusion:!wr,labelPlaneMatrixInv:Zr.labelPlaneMatrixInv}),Nn.activeTexture.set(Yn.TEXTURE0),Zr.atlasTexture.bind(Zr.atlasInterpolation,Yn.CLAMP_TO_EDGE),Zr.atlasTextureIcon&&(Nn.activeTexture.set(Yn.TEXTURE1),Zr.atlasTextureIcon&&Zr.atlasTextureIcon.bind(Zr.atlasInterpolationIcon,Yn.CLAMP_TO_EDGE)),Zr.isSDF){const Gr=Zr.uniformValues;Zr.hasHalo&&(Gr.u_is_halo=1,Wr(Zr.buffers,Rr.segments,lt,gt,Zr.program,gr,Fn,Qn,Gr)),Gr.u_is_halo=0}Wr(Zr.buffers,Rr.segments,lt,gt,Zr.program,gr,Fn,Qn,Zr.uniformValues)}}function Wr(gt,ot,lt,Ut,kt,Ot,qt,an,cn){const _n=Ut.context,Fn=[gt.dynamicLayoutVertexBuffer,gt.opacityVertexBuffer,gt.globeExtVertexBuffer];kt.draw(_n,_n.gl.TRIANGLES,Ot,qt,an,j.CullFaceMode.disabled,cn,lt.id,gt.layoutVertexBuffer,gt.indexBuffer,ot,lt.paint,Ut.transform.zoom,gt.programConfigurations.get(lt.id),Fn)}function Oo(gt,ot,lt,Ut,kt,Ot,qt){const an=gt.context.gl,cn=lt.paint.get("fill-pattern"),_n=cn&&cn.constantOr(1),Fn=lt.getCrossfadeParameters();let Qn,Nn,Yn,jn,Xn;qt?(Nn=_n&&!lt.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Qn=an.LINES):(Nn=_n?"fillPattern":"fill",Qn=an.TRIANGLES);for(const Pn of Ut){const In=ot.getTile(Pn);if(_n&&!In.patternsLoaded())continue;const er=In.getBucket(lt);if(!er)continue;gt.prepareDrawTile();const Hn=er.programConfigurations.get(lt.id),dr=gt.useProgram(Nn,Hn);_n&&(gt.context.activeTexture.set(an.TEXTURE0),In.imageAtlasTexture.bind(an.LINEAR,an.CLAMP_TO_EDGE),Hn.updatePaintBuffers(Fn));const gr=cn.constantOr(null);if(gr&&In.imageAtlas){const vr=In.imageAtlas,wr=vr.patternPositions[gr.to.toString()],Mr=vr.patternPositions[gr.from.toString()];wr&&Mr&&Hn.setConstantPatternPositions(wr,Mr)}const tr=gt.translatePosMatrix(Pn.projMatrix,In,lt.paint.get("fill-translate"),lt.paint.get("fill-translate-anchor"));if(qt){jn=er.indexBuffer2,Xn=er.segments2;const vr=gt.terrain&&gt.terrain.renderingToTexture?gt.terrain.drapeBufferSize:[an.drawingBufferWidth,an.drawingBufferHeight];Yn=Nn==="fillOutlinePattern"&&_n?Ay(tr,gt,Fn,In,vr):c0(tr,vr)}else jn=er.indexBuffer,Xn=er.segments,Yn=_n?yu(tr,gt,Fn,In):xy(tr);gt.prepareDrawProgram(gt.context,dr,Pn.toUnwrapped()),dr.draw(gt.context,Qn,kt,gt.stencilModeForClipping(Pn),Ot,j.CullFaceMode.disabled,Yn,lt.id,er.layoutVertexBuffer,jn,Xn,lt.paint,gt.transform.zoom,Hn)}}function ds(gt,ot,lt,Ut,kt,Ot,qt){const an=gt.context,cn=an.gl,_n=gt.transform,Fn=lt.paint.get("fill-extrusion-pattern"),Qn=Fn.constantOr(1),Nn=lt.getCrossfadeParameters(),Yn=lt.paint.get("fill-extrusion-opacity"),jn=[lt.paint.get("fill-extrusion-ambient-occlusion-intensity"),lt.paint.get("fill-extrusion-ambient-occlusion-radius")],Xn=lt.layout.get("fill-extrusion-edge-radius"),Pn=_n.projection.name==="globe"?j.fillExtrusionHeightLift():0,In=_n.projection.name==="globe",er=In?j.globeToMercatorTransition(_n.zoom):0,Hn=[j.mercatorXfromLng(_n.center.lng),j.mercatorYfromLat(_n.center.lat)],dr=[];In&&(dr.push("PROJECTION_GLOBE_VIEW"),gt.style.terrainSetForDrapingOnly()&&dr.push("TERRAIN")),jn[0]>0&&dr.push("FAUX_AO");for(const gr of Ut){const tr=ot.getTile(gr),vr=tr.getBucket(lt);if(!vr||vr.projection.name!==_n.projection.name)continue;const wr=vr.programConfigurations.get(lt.id),Mr=gt.useProgram(Qn?"fillExtrusionPattern":"fillExtrusion",wr,dr);if(gt.terrain){const Fr=gt.terrain;if(gt.style.terrainSetForDrapingOnly())Fr.setupElevationDraw(tr,Mr,{useMeterToDem:!0});else{if(!vr.enableTerrain)continue;if(Fr.setupElevationDraw(tr,Mr,{useMeterToDem:!0}),Ms(an,ot,gr,vr,lt,Fr),!vr.centroidVertexBuffer){const yo=Mr.attributes.a_centroid_pos;yo!==void 0&&cn.vertexAttrib2f(yo,0,0)}}}Qn&&(gt.context.activeTexture.set(cn.TEXTURE0),tr.imageAtlasTexture.bind(cn.LINEAR,cn.CLAMP_TO_EDGE),wr.updatePaintBuffers(Nn));const kr=Fn.constantOr(null);if(kr&&tr.imageAtlas){const Fr=tr.imageAtlas,yo=Fr.patternPositions[kr.to.toString()],uo=Fr.patternPositions[kr.from.toString()];yo&&uo&&wr.setConstantPatternPositions(yo,uo)}const oo=gt.translatePosMatrix(gr.projMatrix,tr,lt.paint.get("fill-extrusion-translate"),lt.paint.get("fill-extrusion-translate-anchor")),Rr=_n.projection.createInversionMatrix(_n,gr.canonical),Zr=lt.paint.get("fill-extrusion-vertical-gradient"),Gr=Qn?g_(oo,gt,Zr,Yn,jn,Xn,gr,Nn,tr,Pn,er,Hn,Rr):Ym(oo,gt,Zr,Yn,jn,Xn,gr,Pn,er,Hn,Rr);gt.prepareDrawProgram(an,Mr,gr.toUnwrapped());const xr=[];gt.terrain&&xr.push(vr.centroidVertexBuffer),In&&xr.push(vr.layoutVertexExtBuffer),Mr.draw(an,an.gl.TRIANGLES,kt,Ot,qt,j.CullFaceMode.backCCW,Gr,lt.id,vr.layoutVertexBuffer,vr.indexBuffer,vr.segments,lt.paint,gt.transform.zoom,wr,xr)}}function Ms(gt,ot,lt,Ut,kt,Ot){const qt=[In=>{let er=In.canonical.x-1,Hn=In.wrap;return er<0&&(er=(1<<In.canonical.z)-1,Hn--),new j.OverscaledTileID(In.overscaledZ,Hn,In.canonical.z,er,In.canonical.y)},In=>{let er=In.canonical.x+1,Hn=In.wrap;return er===1<<In.canonical.z&&(er=0,Hn++),new j.OverscaledTileID(In.overscaledZ,Hn,In.canonical.z,er,In.canonical.y)},In=>new j.OverscaledTileID(In.overscaledZ,In.wrap,In.canonical.z,In.canonical.x,(In.canonical.y===0?1<<In.canonical.z:In.canonical.y)-1),In=>new j.OverscaledTileID(In.overscaledZ,In.wrap,In.canonical.z,In.canonical.x,In.canonical.y===(1<<In.canonical.z)-1?0:In.canonical.y+1)],an=In=>{const er=ot.getSource().minzoom,Hn=gr=>{const tr=ot.getTileByID(gr);if(tr&&tr.hasData())return tr.getBucket(kt)},dr=[0,-1,1];for(const gr of dr){if(In.overscaledZ+gr<er)continue;const tr=Hn(In.calculateScaledKey(In.overscaledZ+gr));if(tr)return tr}},cn=[0,0,0],_n=(In,er)=>(cn[0]=Math.min(In.min.y,er.min.y),cn[1]=Math.max(In.max.y,er.max.y),cn[2]=j.EXTENT-er.min.x>In.max.x?er.min.x-j.EXTENT:In.max.x,cn),Fn=(In,er)=>(cn[0]=Math.min(In.min.x,er.min.x),cn[1]=Math.max(In.max.x,er.max.x),cn[2]=j.EXTENT-er.min.y>In.max.y?er.min.y-j.EXTENT:In.max.y,cn),Qn=[(In,er)=>_n(In,er),(In,er)=>_n(er,In),(In,er)=>Fn(In,er),(In,er)=>Fn(er,In)],Nn=new j.pointGeometry(0,0);let Yn,jn,Xn;const Pn=(In,er,Hn,dr,gr)=>{const tr=[[dr?Hn:In,dr?In:Hn,0],[dr?Hn:er,dr?er:Hn,0]],vr=gr<0?j.EXTENT+gr:gr,wr=[dr?vr:(In+er)/2,dr?(In+er)/2:vr,0];return Hn===0&&gr<0||Hn!==0&&gr>0?Ot.getForTilePoints(Xn,[wr],!0,jn):tr.push(wr),Ot.getForTilePoints(lt,tr,!0,Yn),Math.max(tr[0][2],tr[1][2],wr[2])/Ot.exaggeration()};for(let In=0;In<4;In++){const er=(In<2?1:5)-In,Hn=Ut.borders[In];if(Hn.length===0)continue;const dr=Xn=qt[In](lt),gr=an(dr);if(!(gr&&gr instanceof j.FillExtrusionBucket&&gr.enableTerrain)||Ut.borderDoneWithNeighborZ[In]===gr.canonical.z&&gr.borderDoneWithNeighborZ[er]===Ut.canonical.z||(jn=Ot.findDEMTileFor(dr),!jn||!jn.dem))continue;if(!Yn){const Mr=Ot.findDEMTileFor(lt);if(!Mr||!Mr.dem)return;Yn=Mr}const tr=gr.borders[er];let vr=0;const wr=gr.borderDoneWithNeighborZ[er]!==Ut.canonical.z;if(Ut.canonical.z===gr.canonical.z){for(let Mr=0;Mr<Hn.length;Mr++){const kr=Ut.featuresOnBorder[Hn[Mr]],oo=kr.borders[In];let Rr;for(;vr<tr.length&&(Rr=gr.featuresOnBorder[tr[vr]],!(Rr.borders[er][1]>oo[0]+3));)wr&&gr.encodeCentroid(void 0,Rr,!1),vr++;if(Rr&&vr<tr.length){const Zr=vr;let Gr=0;for(;!(Rr.borders[er][0]>oo[1]-3)&&(Gr++,++vr!==tr.length);)Rr=gr.featuresOnBorder[tr[vr]];if(Rr=gr.featuresOnBorder[tr[Zr]],kr.intersectsCount()>1||Rr.intersectsCount()>1||Gr!==1){Gr!==1&&(vr=Zr),Ut.encodeCentroid(void 0,kr,!1),wr&&gr.encodeCentroid(void 0,Rr,!1);continue}const xr=Qn[In](kr,Rr),Fr=In%2?j.EXTENT-1:0;Nn.x=Pn(xr[0],Math.min(j.EXTENT-1,xr[1]),Fr,In<2,xr[2]),Nn.y=0,Ut.encodeCentroid(Nn,kr,!1),wr&&gr.encodeCentroid(Nn,Rr,!1)}else Ut.encodeCentroid(void 0,kr,!1)}Ut.borderDoneWithNeighborZ[In]=gr.canonical.z,Ut.needsCentroidUpdate=!0,wr&&(gr.borderDoneWithNeighborZ[er]=Ut.canonical.z,gr.needsCentroidUpdate=!0)}else{for(const Mr of Hn)Ut.encodeCentroid(void 0,Ut.featuresOnBorder[Mr],!1);if(wr){for(const Mr of tr)gr.encodeCentroid(void 0,gr.featuresOnBorder[Mr],!1);gr.borderDoneWithNeighborZ[er]=Ut.canonical.z,gr.needsCentroidUpdate=!0}Ut.borderDoneWithNeighborZ[In]=gr.canonical.z,Ut.needsCentroidUpdate=!0}}(Ut.needsCentroidUpdate||!Ut.centroidVertexBuffer&&Ut.centroidVertexArray.length!==0)&&Ut.uploadCentroid(gt)}const Tl=new j.Color(1,0,0,1),qs=new j.Color(0,1,0,1),y0=new j.Color(0,0,1,1),hv=new j.Color(1,0,1,1),Eu=new j.Color(0,1,1,1);function Sp(gt,ot,lt){const Ut=gt.context,kt=gt.transform,Ot=Ut.gl,qt=kt.projection.name==="globe",an=qt?["PROJECTION_GLOBE_VIEW"]:null;let cn=lt.projMatrix;if(qt&&j.globeToMercatorTransition(kt.zoom)>0){const kr=j.transitionTileAABBinECEF(lt.canonical,kt),oo=j.globeDenormalizeECEF(kr);cn=j.multiply(new Float32Array(16),kt.globeMatrix,oo),j.multiply(cn,kt.projMatrix,cn)}const _n=gt.useProgram("debug",null,an),Fn=ot.getTileByID(lt.key);gt.terrain&&gt.terrain.setupElevationDraw(Fn,_n);const Qn=j.DepthMode.disabled,Nn=j.StencilMode.disabled,Yn=gt.colorModeForRenderPass(),jn="$debug";Ut.activeTexture.set(Ot.TEXTURE0),gt.emptyTexture.bind(Ot.LINEAR,Ot.CLAMP_TO_EDGE),qt?Fn._makeGlobeTileDebugBuffers(gt.context,kt):Fn._makeDebugTileBoundsBuffers(gt.context,kt.projection);const Xn=Fn._tileDebugBuffer||gt.debugBuffer,Pn=Fn._tileDebugIndexBuffer||gt.debugIndexBuffer,In=Fn._tileDebugSegments||gt.debugSegments;_n.draw(Ut,Ot.LINE_STRIP,Qn,Nn,Yn,j.CullFaceMode.disabled,d0(cn,j.Color.red),jn,Xn,Pn,In,null,null,null,[Fn._globeTileDebugBorderBuffer]);const er=Fn.latestRawTileData,Hn=Math.floor((er&&er.byteLength||0)/1024),dr=ot.getTile(lt).tileSize,gr=512/Math.min(dr,512)*(lt.overscaledZ/kt.zoom)*.5;let tr=lt.canonical.toString();lt.overscaledZ!==lt.canonical.z&&(tr+=` => ${lt.overscaledZ}`),tr+=` ${Hn}kb`,function(kr,oo){kr.initDebugOverlayCanvas();const Rr=kr.debugOverlayCanvas,Zr=kr.context.gl,Gr=kr.debugOverlayCanvas.getContext("2d");Gr.clearRect(0,0,Rr.width,Rr.height),Gr.shadowColor="white",Gr.shadowBlur=2,Gr.lineWidth=1.5,Gr.strokeStyle="white",Gr.textBaseline="top",Gr.font="bold 36px Open Sans, sans-serif",Gr.fillText(oo,5,5),Gr.strokeText(oo,5,5),kr.debugOverlayTexture.update(Rr),kr.debugOverlayTexture.bind(Zr.LINEAR,Zr.CLAMP_TO_EDGE)}(gt,tr);const vr=Fn._tileDebugTextBuffer||gt.debugBuffer,wr=Fn._tileDebugTextIndexBuffer||gt.quadTriangleIndexBuffer,Mr=Fn._tileDebugTextSegments||gt.debugSegments;_n.draw(Ut,Ot.TRIANGLES,Qn,Nn,j.ColorMode.alphaBlended,j.CullFaceMode.disabled,d0(cn,j.Color.transparent,gr),jn,vr,wr,Mr,null,null,null,[Fn._globeTileDebugTextBuffer])}function ny(gt,ot,lt,Ut){Zu(gt,0,ot+lt/2,gt.transform.width,lt,Ut)}function am(gt,ot,lt,Ut){Zu(gt,ot-lt/2,0,lt,gt.transform.height,Ut)}function Zu(gt,ot,lt,Ut,kt,Ot){const qt=gt.context,an=qt.gl;an.enable(an.SCISSOR_TEST),an.scissor(ot*j.exported.devicePixelRatio,lt*j.exported.devicePixelRatio,Ut*j.exported.devicePixelRatio,kt*j.exported.devicePixelRatio),qt.clear({color:Ot}),an.disable(an.SCISSOR_TEST)}const Wp=j.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:js}=Wp;function Rp(gt,ot,lt,Ut){gt.emplaceBack(ot,lt,Ut)}class Ts{constructor(ot){this.vertexArray=new j.StructArrayLayout3f12,this.indices=new j.StructArrayLayout3ui6,Rp(this.vertexArray,-1,-1,1),Rp(this.vertexArray,1,-1,1),Rp(this.vertexArray,-1,1,1),Rp(this.vertexArray,1,1,1),Rp(this.vertexArray,-1,-1,-1),Rp(this.vertexArray,1,-1,-1),Rp(this.vertexArray,-1,1,-1),Rp(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=ot.createVertexBuffer(this.vertexArray,js),this.indexBuffer=ot.createIndexBuffer(this.indices),this.segment=j.SegmentVector.simpleSegment(0,0,36,12)}}function Gu(gt,ot,lt,Ut,kt,Ot){const qt=gt.gl,an=ot.paint.get("sky-atmosphere-color"),cn=ot.paint.get("sky-atmosphere-halo-color"),_n=ot.paint.get("sky-atmosphere-sun-intensity"),Fn=((Qn,Nn,Yn,jn,Xn)=>({u_matrix_3f:Qn,u_sun_direction:Nn,u_sun_intensity:Yn,u_color_tint_r:[jn.r,jn.g,jn.b,jn.a],u_color_tint_m:[Xn.r,Xn.g,Xn.b,Xn.a],u_luminance:5e-5}))(j.fromMat4(j.create$1(),Ut),kt,_n,an,cn);qt.framebufferTexture2D(qt.FRAMEBUFFER,qt.COLOR_ATTACHMENT0,qt.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,ot.skyboxTexture,0),lt.draw(gt,qt.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,j.ColorMode.unblended,j.CullFaceMode.frontCW,Fn,"skyboxCapture",ot.skyboxGeometry.vertexBuffer,ot.skyboxGeometry.indexBuffer,ot.skyboxGeometry.segment)}const BU=j.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class dv{constructor(ot){const lt=new j.StructArrayLayout5f20;lt.emplaceBack(-1,1,1,0,0),lt.emplaceBack(1,1,1,1,0),lt.emplaceBack(1,-1,1,1,1),lt.emplaceBack(-1,-1,1,0,1);const Ut=new j.StructArrayLayout3ui6;Ut.emplaceBack(0,1,2),Ut.emplaceBack(2,3,0),this.vertexBuffer=ot.createVertexBuffer(lt,BU.members),this.indexBuffer=ot.createIndexBuffer(Ut),this.segments=j.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const ry={symbol:function(gt,ot,lt,Ut,kt){if(gt.renderPass!=="translucent")return;const Ot=j.StencilMode.disabled,qt=gt.colorModeForRenderPass();lt.layout.get("text-variable-anchor")&&function(an,cn,_n,Fn,Qn,Nn,Yn){const jn=cn.transform,Xn=Qn==="map",Pn=Nn==="map";for(const In of an){const er=Fn.getTile(In),Hn=er.getBucket(_n);if(!Hn||!Hn.text||!Hn.text.segments.get().length)continue;const dr=j.evaluateSizeForZoom(Hn.textSizeData,jn.zoom),gr=Ks(In,Hn.getProjection(),jn),tr=jn.calculatePixelsToTileUnitsMatrix(er),vr=Ul(gr,er.tileID.canonical,Pn,Xn,jn,Hn.getProjection(),tr),wr=_n.layout.get("icon-text-fit")!=="none"&&Hn.hasIconData();if(dr){const Mr=Math.pow(2,jn.zoom-er.tileID.overscaledZ);ty(Hn,Xn,Pn,Yn,j.symbolSize,jn,vr,In,Mr,dr,wr)}}}(Ut,gt,lt,ot,lt.layout.get("text-rotation-alignment"),lt.layout.get("text-pitch-alignment"),kt),lt.paint.get("icon-opacity").constantOr(1)!==0&&Xr(gt,ot,lt,Ut,!1,lt.paint.get("icon-translate"),lt.paint.get("icon-translate-anchor"),lt.layout.get("icon-rotation-alignment"),lt.layout.get("icon-pitch-alignment"),lt.layout.get("icon-keep-upright"),Ot,qt),lt.paint.get("text-opacity").constantOr(1)!==0&&Xr(gt,ot,lt,Ut,!0,lt.paint.get("text-translate"),lt.paint.get("text-translate-anchor"),lt.layout.get("text-rotation-alignment"),lt.layout.get("text-pitch-alignment"),lt.layout.get("text-keep-upright"),Ot,qt),ot.map.showCollisionBoxes&&(U_(gt,ot,lt,Ut,lt.paint.get("text-translate"),lt.paint.get("text-translate-anchor"),!0),U_(gt,ot,lt,Ut,lt.paint.get("icon-translate"),lt.paint.get("icon-translate-anchor"),!1))},circle:function(gt,ot,lt,Ut){if(gt.renderPass!=="translucent")return;const kt=lt.paint.get("circle-opacity"),Ot=lt.paint.get("circle-stroke-width"),qt=lt.paint.get("circle-stroke-opacity"),an=lt.layout.get("circle-sort-key").constantOr(1)!==void 0;if(kt.constantOr(1)===0&&(Ot.constantOr(1)===0||qt.constantOr(1)===0))return;const cn=gt.context,_n=cn.gl,Fn=gt.transform,Qn=gt.depthModeForSublayer(0,j.DepthMode.ReadOnly),Nn=j.StencilMode.disabled,Yn=gt.colorModeForRenderPass(),jn=Fn.projection.name==="globe",Xn=[j.mercatorXfromLng(Fn.center.lng),j.mercatorYfromLat(Fn.center.lat)],Pn=[];for(let er=0;er<Ut.length;er++){const Hn=Ut[er],dr=ot.getTile(Hn),gr=dr.getBucket(lt);if(!gr||gr.projection.name!==Fn.projection.name)continue;const tr=gr.programConfigurations.get(lt.id),vr=lv(lt);jn&&vr.push("PROJECTION_GLOBE_VIEW");const wr=gt.useProgram("circle",tr,vr),Mr=gr.layoutVertexBuffer,kr=gr.globeExtVertexBuffer,oo=gr.indexBuffer,Rr=Fn.projection.createInversionMatrix(Fn,Hn.canonical),Zr={programConfiguration:tr,program:wr,layoutVertexBuffer:Mr,globeExtVertexBuffer:kr,indexBuffer:oo,uniformValues:Xm(gt,Hn,dr,Rr,Xn,lt),tile:dr};if(an){const Gr=gr.segments.get();for(const xr of Gr)Pn.push({segments:new j.SegmentVector([xr]),sortKey:xr.sortKey,state:Zr})}else Pn.push({segments:gr.segments,sortKey:0,state:Zr})}an&&Pn.sort((er,Hn)=>er.sortKey-Hn.sortKey);const In={useDepthForOcclusion:!jn};for(const er of Pn){const{programConfiguration:Hn,program:dr,layoutVertexBuffer:gr,globeExtVertexBuffer:tr,indexBuffer:vr,uniformValues:wr,tile:Mr}=er.state,kr=er.segments;gt.terrain&&gt.terrain.setupElevationDraw(Mr,dr,In),gt.prepareDrawProgram(cn,dr,Mr.tileID.toUnwrapped()),dr.draw(cn,_n.TRIANGLES,Qn,Nn,Yn,j.CullFaceMode.disabled,wr,lt.id,gr,vr,kr,lt.paint,Fn.zoom,Hn,[tr])}},heatmap:function(gt,ot,lt,Ut){if(lt.paint.get("heatmap-opacity")!==0)if(gt.renderPass==="offscreen"){const kt=gt.context,Ot=kt.gl,qt=j.StencilMode.disabled,an=new j.ColorMode([Ot.ONE,Ot.ONE],j.Color.transparent,[!0,!0,!0,!0]);(function(Yn,jn,Xn,Pn){const In=Yn.gl,er=jn.width*Pn,Hn=jn.height*Pn;Yn.activeTexture.set(In.TEXTURE1),Yn.viewport.set([0,0,er,Hn]);let dr=Xn.heatmapFbo;if(!dr||dr&&(dr.width!==er||dr.height!==Hn)){dr&&dr.destroy();const gr=In.createTexture();In.bindTexture(In.TEXTURE_2D,gr),In.texParameteri(In.TEXTURE_2D,In.TEXTURE_WRAP_S,In.CLAMP_TO_EDGE),In.texParameteri(In.TEXTURE_2D,In.TEXTURE_WRAP_T,In.CLAMP_TO_EDGE),In.texParameteri(In.TEXTURE_2D,In.TEXTURE_MIN_FILTER,In.LINEAR),In.texParameteri(In.TEXTURE_2D,In.TEXTURE_MAG_FILTER,In.LINEAR),dr=Xn.heatmapFbo=Yn.createFramebuffer(er,Hn,!1),function(tr,vr,wr,Mr,kr,oo){const Rr=tr.gl;Rr.texImage2D(Rr.TEXTURE_2D,0,Rr.RGBA,kr,oo,0,Rr.RGBA,tr.extRenderToTextureHalfFloat?tr.extTextureHalfFloat.HALF_FLOAT_OES:Rr.UNSIGNED_BYTE,null),Mr.colorAttachment.set(wr)}(Yn,0,gr,dr,er,Hn)}else In.bindTexture(In.TEXTURE_2D,dr.colorAttachment.get()),Yn.bindFramebuffer.set(dr.framebuffer)})(kt,gt,lt,gt.transform.projection.name==="globe"?.5:.25),kt.clear({color:j.Color.transparent});const cn=gt.transform,_n=cn.projection.name==="globe",Fn=_n?["PROJECTION_GLOBE_VIEW"]:null,Qn=_n?j.CullFaceMode.frontCCW:j.CullFaceMode.disabled,Nn=[j.mercatorXfromLng(cn.center.lng),j.mercatorYfromLat(cn.center.lat)];for(let Yn=0;Yn<Ut.length;Yn++){const jn=Ut[Yn];if(ot.hasRenderableParent(jn))continue;const Xn=ot.getTile(jn),Pn=Xn.getBucket(lt);if(!Pn||Pn.projection.name!==cn.projection.name)continue;const In=Pn.programConfigurations.get(lt.id),er=gt.useProgram("heatmap",In,Fn),{zoom:Hn}=gt.transform;gt.terrain&&gt.terrain.setupElevationDraw(Xn,er),gt.prepareDrawProgram(kt,er,jn.toUnwrapped());const dr=cn.projection.createInversionMatrix(cn,jn.canonical);er.draw(kt,Ot.TRIANGLES,j.DepthMode.disabled,qt,an,Qn,m_(gt,jn,Xn,dr,Nn,Hn,lt.paint.get("heatmap-intensity")),lt.id,Pn.layoutVertexBuffer,Pn.indexBuffer,Pn.segments,lt.paint,gt.transform.zoom,In,_n?[Pn.globeExtVertexBuffer]:null)}kt.viewport.set([0,0,gt.width,gt.height])}else gt.renderPass==="translucent"&&(gt.context.setColorMode(gt.colorModeForRenderPass()),function(kt,Ot){const qt=kt.context,an=qt.gl,cn=Ot.heatmapFbo;if(!cn)return;qt.activeTexture.set(an.TEXTURE0),an.bindTexture(an.TEXTURE_2D,cn.colorAttachment.get()),qt.activeTexture.set(an.TEXTURE1);let _n=Ot.colorRampTexture;_n||(_n=Ot.colorRampTexture=new j.Texture(qt,Ot.colorRamp,an.RGBA)),_n.bind(an.LINEAR,an.CLAMP_TO_EDGE),kt.useProgram("heatmapTexture").draw(qt,an.TRIANGLES,j.DepthMode.disabled,j.StencilMode.disabled,kt.colorModeForRenderPass(),j.CullFaceMode.disabled,((Fn,Qn,Nn,Yn)=>({u_image:0,u_color_ramp:1,u_opacity:Qn.paint.get("heatmap-opacity")}))(0,Ot),Ot.id,kt.viewportBuffer,kt.quadTriangleIndexBuffer,kt.viewportSegments,Ot.paint,kt.transform.zoom)}(gt,lt))},line:function(gt,ot,lt,Ut){if(gt.renderPass!=="translucent")return;const kt=lt.paint.get("line-opacity"),Ot=lt.paint.get("line-width");if(kt.constantOr(1)===0||Ot.constantOr(1)===0)return;const qt=gt.depthModeForSublayer(0,j.DepthMode.ReadOnly),an=gt.colorModeForRenderPass(),cn=gt.terrain&&gt.terrain.renderingToTexture?1:j.exported.devicePixelRatio,_n=lt.paint.get("line-dasharray"),Fn=_n.constantOr(1),Qn=lt.layout.get("line-cap"),Nn=lt.paint.get("line-pattern"),Yn=Nn.constantOr(1),jn=lt.paint.get("line-gradient"),Xn=lt.getCrossfadeParameters(),Pn=Yn?"linePattern":"line",In=gt.context,er=In.gl,Hn=(gr=>{const tr=[];v_(gr)&&tr.push("RENDER_LINE_DASH"),gr.paint.get("line-gradient")&&tr.push("RENDER_LINE_GRADIENT");const vr=gr.paint.get("line-trim-offset");vr[0]===0&&vr[1]===0||tr.push("RENDER_LINE_TRIM_OFFSET");const wr=gr.paint.get("line-pattern").constantOr(1),Mr=gr.paint.get("line-opacity").constantOr(1)!==1;return!wr&&Mr&&tr.push("RENDER_LINE_ALPHA_DISCARD"),tr})(lt);let dr=Hn.includes("RENDER_LINE_ALPHA_DISCARD");gt.terrain&&gt.terrain.clipOrMaskOverlapStencilType()&&(dr=!1);for(const gr of Ut){const tr=ot.getTile(gr);if(Yn&&!tr.patternsLoaded())continue;const vr=tr.getBucket(lt);if(!vr)continue;gt.prepareDrawTile();const wr=vr.programConfigurations.get(lt.id),Mr=gt.useProgram(Pn,wr,Hn),kr=Nn.constantOr(null);if(kr&&tr.imageAtlas){const uo=tr.imageAtlas,fo=uo.patternPositions[kr.to.toString()],co=uo.patternPositions[kr.from.toString()];fo&&co&&wr.setConstantPatternPositions(fo,co)}const oo=_n.constantOr(null),Rr=Qn.constantOr(null);if(!Yn&&oo&&Rr&&tr.lineAtlas){const uo=tr.lineAtlas,fo=uo.getDash(oo.to,Rr),co=uo.getDash(oo.from,Rr);fo&&co&&wr.setConstantPatternPositions(fo,co)}let[Zr,Gr]=lt.paint.get("line-trim-offset");(Rr==="round"||Rr==="square")&&Zr!==Gr&&(Zr===0&&(Zr-=1),Gr===1&&(Gr+=1));const xr=gt.terrain?gr.projMatrix:null,Fr=Yn?y_(gt,tr,lt,Xn,xr,cn):Am(gt,tr,lt,Xn,xr,vr.lineClipsArray.length,cn,[Zr,Gr]);if(jn){const uo=vr.gradients[lt.id];let fo=uo.texture;if(lt.gradientVersion!==uo.version){let co=256;if(lt.stepInterpolant){const ko=ot.getSource().maxzoom,Lo=gr.canonical.z===ko?Math.ceil(1<<gt.transform.maxZoom-gr.canonical.z):1;co=j.clamp(j.nextPowerOfTwo(vr.maxLineLength/j.EXTENT*1024*Lo),256,In.maxTextureSize)}uo.gradient=j.renderColorRamp({expression:lt.gradientExpression(),evaluationKey:"lineProgress",resolution:co,image:uo.gradient||void 0,clips:vr.lineClipsArray}),uo.texture?uo.texture.update(uo.gradient):uo.texture=new j.Texture(In,uo.gradient,er.RGBA),uo.version=lt.gradientVersion,fo=uo.texture}In.activeTexture.set(er.TEXTURE1),fo.bind(lt.stepInterpolant?er.NEAREST:er.LINEAR,er.CLAMP_TO_EDGE)}Fn&&(In.activeTexture.set(er.TEXTURE0),tr.lineAtlasTexture.bind(er.LINEAR,er.REPEAT),wr.updatePaintBuffers(Xn)),Yn&&(In.activeTexture.set(er.TEXTURE0),tr.imageAtlasTexture.bind(er.LINEAR,er.CLAMP_TO_EDGE),wr.updatePaintBuffers(Xn)),gt.prepareDrawProgram(In,Mr,gr.toUnwrapped());const yo=uo=>{Mr.draw(In,er.TRIANGLES,qt,uo,an,j.CullFaceMode.disabled,Fr,lt.id,vr.layoutVertexBuffer,vr.indexBuffer,vr.segments,lt.paint,gt.transform.zoom,wr,[vr.layoutVertexBuffer2])};if(dr){const uo=gt.stencilModeForClipping(gr).ref;uo===0&&gt.terrain&&In.clear({stencil:0});const fo={func:er.EQUAL,mask:255};Fr.u_alpha_discard_threshold=.8,yo(new j.StencilMode(fo,uo,255,er.KEEP,er.KEEP,er.INVERT)),Fr.u_alpha_discard_threshold=0,yo(new j.StencilMode(fo,uo,255,er.KEEP,er.KEEP,er.KEEP))}else yo(gt.stencilModeForClipping(gr))}dr&&(gt.resetStencilClippingMasks(),gt.terrain&&In.clear({stencil:0}))},fill:function(gt,ot,lt,Ut){const kt=lt.paint.get("fill-color"),Ot=lt.paint.get("fill-opacity");if(Ot.constantOr(1)===0)return;const qt=gt.colorModeForRenderPass(),an=lt.paint.get("fill-pattern"),cn=gt.opaquePassEnabledForLayer()&&!an.constantOr(1)&&kt.constantOr(j.Color.transparent).a===1&&Ot.constantOr(0)===1?"opaque":"translucent";if(gt.renderPass===cn){const _n=gt.depthModeForSublayer(1,gt.renderPass==="opaque"?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly);Oo(gt,ot,lt,Ut,_n,qt,!1)}if(gt.renderPass==="translucent"&&lt.paint.get("fill-antialias")){const _n=gt.depthModeForSublayer(lt.getPaintProperty("fill-outline-color")?2:0,j.DepthMode.ReadOnly);Oo(gt,ot,lt,Ut,_n,qt,!0)}},"fill-extrusion":function(gt,ot,lt,Ut){const kt=lt.paint.get("fill-extrusion-opacity");if(kt!==0&&gt.renderPass==="translucent"){const Ot=new j.DepthMode(gt.context.gl.LEQUAL,j.DepthMode.ReadWrite,gt.depthRangeFor3D);if(kt!==1||lt.paint.get("fill-extrusion-pattern").constantOr(1))ds(gt,ot,lt,Ut,Ot,j.StencilMode.disabled,j.ColorMode.disabled),ds(gt,ot,lt,Ut,Ot,gt.stencilModeFor3D(),gt.colorModeForRenderPass()),gt.resetStencilClippingMasks();else{const qt=gt.colorModeForRenderPass();ds(gt,ot,lt,Ut,Ot,j.StencilMode.disabled,qt)}}},hillshade:function(gt,ot,lt,Ut){if(gt.renderPass!=="offscreen"&&gt.renderPass!=="translucent")return;const kt=gt.context,Ot=gt.depthModeForSublayer(0,j.DepthMode.ReadOnly),qt=gt.colorModeForRenderPass(),an=gt.terrain&&gt.terrain.renderingToTexture,[cn,_n]=gt.renderPass!=="translucent"||an?[{},Ut]:gt.stencilConfigForOverlap(Ut);for(const Fn of _n){const Qn=ot.getTile(Fn);if(Qn.needsHillshadePrepare&&gt.renderPass==="offscreen")s0(gt,Qn,lt,Ot,j.StencilMode.disabled,qt);else if(gt.renderPass==="translucent"){const Nn=an&&gt.terrain?gt.terrain.stencilModeForRTTOverlap(Fn):cn[Fn.overscaledZ];na(gt,Fn,Qn,lt,Ot,Nn,qt)}}kt.viewport.set([0,0,gt.width,gt.height]),gt.resetStencilClippingMasks()},raster:function(gt,ot,lt,Ut,kt,Ot){if(gt.renderPass!=="translucent"||lt.paint.get("raster-opacity")===0||!Ut.length)return;const qt=gt.context,an=qt.gl,cn=ot.getSource(),_n=gt.useProgram("raster"),Fn=gt.colorModeForRenderPass(),Qn=gt.terrain&&gt.terrain.renderingToTexture,[Nn,Yn]=cn instanceof lr||Qn?[{},Ut]:gt.stencilConfigForOverlap(Ut),jn=Yn[Yn.length-1].overscaledZ,Xn=!gt.options.moving;for(const Pn of Yn){const In=Qn?j.DepthMode.disabled:gt.depthModeForSublayer(Pn.overscaledZ-jn,lt.paint.get("raster-opacity")===1?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly,an.LESS),er=Pn.toUnwrapped(),Hn=ot.getTile(Pn);if(Qn&&(!Hn||!Hn.hasData()))continue;const dr=Qn?Pn.projMatrix:gt.transform.calculateProjMatrix(er,Xn),gr=gt.terrain&&Qn?gt.terrain.stencilModeForRTTOverlap(Pn):Nn[Pn.overscaledZ],tr=Ot?0:lt.paint.get("raster-fade-duration");Hn.registerFadeDuration(tr);const vr=ot.findLoadedParent(Pn,0),wr=h_(Hn,vr,ot,gt.transform,tr);let Mr,kr;gt.terrain&&gt.terrain.prepareDrawTile();const oo=lt.paint.get("raster-resampling")==="nearest"?an.NEAREST:an.LINEAR;qt.activeTexture.set(an.TEXTURE0),Hn.texture.bind(oo,an.CLAMP_TO_EDGE),qt.activeTexture.set(an.TEXTURE1),vr?(vr.texture.bind(oo,an.CLAMP_TO_EDGE),Mr=Math.pow(2,vr.tileID.overscaledZ-Hn.tileID.overscaledZ),kr=[Hn.tileID.canonical.x*Mr%1,Hn.tileID.canonical.y*Mr%1]):Hn.texture.bind(oo,an.CLAMP_TO_EDGE);const Rr=Fp(dr,kr||[0,0],Mr||1,wr,lt,cn instanceof lr?cn.perspectiveTransform:[0,0]);if(gt.prepareDrawProgram(qt,_n,er),cn instanceof lr)cn.boundsBuffer&&cn.boundsSegments&&_n.draw(qt,an.TRIANGLES,In,j.StencilMode.disabled,Fn,j.CullFaceMode.disabled,Rr,lt.id,cn.boundsBuffer,gt.quadTriangleIndexBuffer,cn.boundsSegments);else{const{tileBoundsBuffer:Zr,tileBoundsIndexBuffer:Gr,tileBoundsSegments:xr}=gt.getTileBoundsBuffers(Hn);_n.draw(qt,an.TRIANGLES,In,gr,Fn,j.CullFaceMode.disabled,Rr,lt.id,Zr,Gr,xr)}}gt.resetStencilClippingMasks()},background:function(gt,ot,lt,Ut){const kt=lt.paint.get("background-color"),Ot=lt.paint.get("background-opacity");if(Ot===0)return;const qt=gt.context,an=qt.gl,cn=gt.transform,_n=cn.tileSize,Fn=lt.paint.get("background-pattern");if(gt.isPatternMissing(Fn))return;const Qn=!Fn&&kt.a===1&&Ot===1&&gt.opaquePassEnabledForLayer()?"opaque":"translucent";if(gt.renderPass!==Qn)return;const Nn=j.StencilMode.disabled,Yn=gt.depthModeForSublayer(0,Qn==="opaque"?j.DepthMode.ReadWrite:j.DepthMode.ReadOnly),jn=gt.colorModeForRenderPass(),Xn=gt.useProgram(Fn?"backgroundPattern":"background");let Pn,In=Ut;In||(Pn=gt.getBackgroundTiles(),In=Object.values(Pn).map(Hn=>Hn.tileID)),Fn&&(qt.activeTexture.set(an.TEXTURE0),gt.imageManager.bind(gt.context));const er=lt.getCrossfadeParameters();for(const Hn of In){const dr=Hn.toUnwrapped(),gr=Ut?Hn.projMatrix:gt.transform.calculateProjMatrix(dr);gt.prepareDrawTile();const tr=ot?ot.getTile(Hn):Pn?Pn[Hn.key]:new j.Tile(Hn,_n,cn.zoom,gt),vr=Fn?cv(gr,Ot,gt,Fn,{tileID:Hn,tileSize:_n},er):ku(gr,Ot,kt);gt.prepareDrawProgram(qt,Xn,dr);const{tileBoundsBuffer:wr,tileBoundsIndexBuffer:Mr,tileBoundsSegments:kr}=gt.getTileBoundsBuffers(tr);Xn.draw(qt,an.TRIANGLES,Yn,Nn,jn,j.CullFaceMode.disabled,vr,lt.id,wr,Mr,kr)}},sky:function(gt,ot,lt){const Ut=gt.transform,kt=Ut.projection.name==="mercator"||Ut.projection.name==="globe"?1:j.smoothstep(7,8,Ut.zoom),Ot=lt.paint.get("sky-opacity")*kt;if(Ot===0)return;const qt=gt.context,an=lt.paint.get("sky-type"),cn=new j.DepthMode(qt.gl.LEQUAL,j.DepthMode.ReadOnly,[0,1]),_n=gt.frameCounter/1e3%1;an==="atmosphere"?gt.renderPass==="offscreen"?lt.needsSkyboxCapture(gt)&&(function(Fn,Qn,Nn,Yn){const jn=Fn.context,Xn=jn.gl;let Pn=Qn.skyboxFbo;if(!Pn){Pn=Qn.skyboxFbo=jn.createFramebuffer(32,32,!1),Qn.skyboxGeometry=new Ts(jn),Qn.skyboxTexture=jn.gl.createTexture(),Xn.bindTexture(Xn.TEXTURE_CUBE_MAP,Qn.skyboxTexture),Xn.texParameteri(Xn.TEXTURE_CUBE_MAP,Xn.TEXTURE_WRAP_S,Xn.CLAMP_TO_EDGE),Xn.texParameteri(Xn.TEXTURE_CUBE_MAP,Xn.TEXTURE_WRAP_T,Xn.CLAMP_TO_EDGE),Xn.texParameteri(Xn.TEXTURE_CUBE_MAP,Xn.TEXTURE_MIN_FILTER,Xn.LINEAR),Xn.texParameteri(Xn.TEXTURE_CUBE_MAP,Xn.TEXTURE_MAG_FILTER,Xn.LINEAR);for(let dr=0;dr<6;++dr)Xn.texImage2D(Xn.TEXTURE_CUBE_MAP_POSITIVE_X+dr,0,Xn.RGBA,32,32,0,Xn.RGBA,Xn.UNSIGNED_BYTE,null)}jn.bindFramebuffer.set(Pn.framebuffer),jn.viewport.set([0,0,32,32]);const In=Qn.getCenter(Fn,!0),er=Fn.useProgram("skyboxCapture"),Hn=new Float64Array(16);j.identity(Hn),j.rotateY(Hn,Hn,.5*-Math.PI),Gu(jn,Qn,er,Hn,In,0),j.identity(Hn),j.rotateY(Hn,Hn,.5*Math.PI),Gu(jn,Qn,er,Hn,In,1),j.identity(Hn),j.rotateX(Hn,Hn,.5*-Math.PI),Gu(jn,Qn,er,Hn,In,2),j.identity(Hn),j.rotateX(Hn,Hn,.5*Math.PI),Gu(jn,Qn,er,Hn,In,3),j.identity(Hn),Gu(jn,Qn,er,Hn,In,4),j.identity(Hn),j.rotateY(Hn,Hn,Math.PI),Gu(jn,Qn,er,Hn,In,5),jn.viewport.set([0,0,Fn.width,Fn.height])}(gt,lt),lt.markSkyboxValid(gt)):gt.renderPass==="sky"&&function(Fn,Qn,Nn,Yn,jn){const Xn=Fn.context,Pn=Xn.gl,In=Fn.transform,er=Fn.useProgram("skybox");Xn.activeTexture.set(Pn.TEXTURE0),Pn.bindTexture(Pn.TEXTURE_CUBE_MAP,Qn.skyboxTexture);const Hn=((dr,gr,tr,vr,wr)=>({u_matrix:dr,u_sun_direction:gr,u_cubemap:0,u_opacity:vr,u_temporal_offset:wr}))(In.skyboxMatrix,Qn.getCenter(Fn,!1),0,Yn,jn);Fn.prepareDrawProgram(Xn,er),er.draw(Xn,Pn.TRIANGLES,Nn,j.StencilMode.disabled,Fn.colorModeForRenderPass(),j.CullFaceMode.backCW,Hn,"skybox",Qn.skyboxGeometry.vertexBuffer,Qn.skyboxGeometry.indexBuffer,Qn.skyboxGeometry.segment)}(gt,lt,cn,Ot,_n):an==="gradient"&&gt.renderPass==="sky"&&function(Fn,Qn,Nn,Yn,jn){const Xn=Fn.context,Pn=Xn.gl,In=Fn.transform,er=Fn.useProgram("skyboxGradient");Qn.skyboxGeometry||(Qn.skyboxGeometry=new Ts(Xn)),Xn.activeTexture.set(Pn.TEXTURE0);let Hn=Qn.colorRampTexture;Hn||(Hn=Qn.colorRampTexture=new j.Texture(Xn,Qn.colorRamp,Pn.RGBA)),Hn.bind(Pn.LINEAR,Pn.CLAMP_TO_EDGE);const dr=((gr,tr,vr,wr,Mr)=>({u_matrix:gr,u_color_ramp:0,u_center_direction:tr,u_radius:j.degToRad(vr),u_opacity:wr,u_temporal_offset:Mr}))(In.skyboxMatrix,Qn.getCenter(Fn,!1),Qn.paint.get("sky-gradient-radius"),Yn,jn);Fn.prepareDrawProgram(Xn,er),er.draw(Xn,Pn.TRIANGLES,Nn,j.StencilMode.disabled,Fn.colorModeForRenderPass(),j.CullFaceMode.backCW,dr,"skyboxGradient",Qn.skyboxGeometry.vertexBuffer,Qn.skyboxGeometry.indexBuffer,Qn.skyboxGeometry.segment)}(gt,lt,cn,Ot,_n)},debug:function(gt,ot,lt){for(let Ut=0;Ut<lt.length;Ut++)Sp(gt,ot,lt[Ut])},custom:function(gt,ot,lt){const Ut=gt.context,kt=lt.implementation;if(gt.transform.projection.unsupportedLayers&&gt.transform.projection.unsupportedLayers.includes("custom"))j.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(gt.renderPass==="offscreen"){const Ot=kt.prerender;Ot&&(gt.setCustomLayerDefaults(),Ut.setColorMode(gt.colorModeForRenderPass()),Ot.call(kt,Ut.gl,gt.transform.customLayerMatrix()),Ut.setDirty(),gt.setBaseState())}else if(gt.renderPass==="translucent"){gt.setCustomLayerDefaults(),Ut.setColorMode(gt.colorModeForRenderPass()),Ut.setStencilMode(j.StencilMode.disabled);const Ot=kt.renderingMode==="3d"?new j.DepthMode(gt.context.gl.LEQUAL,j.DepthMode.ReadWrite,gt.depthRangeFor3D):gt.depthModeForSublayer(0,j.DepthMode.ReadOnly);Ut.setDepthMode(Ot),kt.render(Ut.gl,gt.transform.customLayerMatrix()),Ut.setDirty(),gt.setBaseState(),Ut.bindFramebuffer.set(null)}}};class _0{constructor(ot,lt){this.context=new wn(ot),this.transform=lt,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=j.SourceCache.maxUnderzooming+j.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Qm,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(ot,lt){const Ut=!!ot&&!!ot.terrain&&this.transform.projection.supportsTerrain;if(!(Ut||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new u0(this,ot));const kt=this._terrain;this.transform.elevation=Ut?kt:null,kt.update(ot,this.transform,lt)}_updateFog(ot){const lt=ot.fog;if(!lt||this.transform.projection.name==="globe"||lt.getOpacity(this.transform.pitch)<1||lt.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[Ut,kt]=lt.getFovAdjustedRange(this.transform._fov);if(Ut>kt)return void(this.transform.fogCullDistSq=null);const Ot=Ut+.78*(kt-Ut);this.transform.fogCullDistSq=Ot*Ot}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(ot,lt){if(this.width=ot*j.exported.devicePixelRatio,this.height=lt*j.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const Ut of this.style.order)this.style._layers[Ut].resize()}setup(){const ot=this.context,lt=new j.StructArrayLayout2i4;lt.emplaceBack(0,0),lt.emplaceBack(j.EXTENT,0),lt.emplaceBack(0,j.EXTENT),lt.emplaceBack(j.EXTENT,j.EXTENT),this.tileExtentBuffer=ot.createVertexBuffer(lt,j.posAttributes.members),this.tileExtentSegments=j.SegmentVector.simpleSegment(0,0,4,2);const Ut=new j.StructArrayLayout2i4;Ut.emplaceBack(0,0),Ut.emplaceBack(j.EXTENT,0),Ut.emplaceBack(0,j.EXTENT),Ut.emplaceBack(j.EXTENT,j.EXTENT),this.debugBuffer=ot.createVertexBuffer(Ut,j.posAttributes.members),this.debugSegments=j.SegmentVector.simpleSegment(0,0,4,5);const kt=new j.StructArrayLayout2i4;kt.emplaceBack(-1,-1),kt.emplaceBack(1,-1),kt.emplaceBack(-1,1),kt.emplaceBack(1,1),this.viewportBuffer=ot.createVertexBuffer(kt,j.posAttributes.members),this.viewportSegments=j.SegmentVector.simpleSegment(0,0,4,2);const Ot=new j.StructArrayLayout4i8;Ot.emplaceBack(0,0,0,0),Ot.emplaceBack(j.EXTENT,0,j.EXTENT,0),Ot.emplaceBack(0,j.EXTENT,0,j.EXTENT),Ot.emplaceBack(j.EXTENT,j.EXTENT,j.EXTENT,j.EXTENT),this.mercatorBoundsBuffer=ot.createVertexBuffer(Ot,j.boundsAttributes.members),this.mercatorBoundsSegments=j.SegmentVector.simpleSegment(0,0,4,2);const qt=new j.StructArrayLayout3ui6;qt.emplaceBack(0,1,2),qt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=ot.createIndexBuffer(qt);const an=new j.StructArrayLayout1ui2;for(const _n of[0,1,3,2,0])an.emplaceBack(_n);this.debugIndexBuffer=ot.createIndexBuffer(an),this.emptyTexture=new j.Texture(ot,new j.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),ot.gl.RGBA),this.identityMat=j.create();const cn=this.context.gl;this.stencilClearMode=new j.StencilMode({func:cn.ALWAYS,mask:0},0,255,cn.ZERO,cn.ZERO,cn.ZERO),this.loadTimeStamps.push(j.window.performance.now()),this.atmosphereBuffer=new dv(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(ot){return ot._makeTileBoundsBuffers(this.context,this.transform.projection),ot._tileBoundsBuffer?{tileBoundsBuffer:ot._tileBoundsBuffer,tileBoundsIndexBuffer:ot._tileBoundsIndexBuffer,tileBoundsSegments:ot._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const ot=this.context,lt=ot.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(ot,lt.TRIANGLES,j.DepthMode.disabled,this.stencilClearMode,j.ColorMode.disabled,j.CullFaceMode.disabled,cp(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(ot,lt,Ut){if(!lt||this.currentStencilSource===lt.id||!ot.isTileClipped()||!Ut||Ut.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let an=!1;for(const cn of Ut)if(this._tileClippingMaskIDs[cn.key]===void 0){an=!0;break}if(!an)return}this.currentStencilSource=lt.id;const kt=this.context,Ot=kt.gl;this.nextStencilID+Ut.length>256&&this.clearStencil(),kt.setColorMode(j.ColorMode.disabled),kt.setDepthMode(j.DepthMode.disabled);const qt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const an of Ut){const cn=lt.getTile(an),_n=this._tileClippingMaskIDs[an.key]=this.nextStencilID++,{tileBoundsBuffer:Fn,tileBoundsIndexBuffer:Qn,tileBoundsSegments:Nn}=this.getTileBoundsBuffers(cn);qt.draw(kt,Ot.TRIANGLES,j.DepthMode.disabled,new j.StencilMode({func:Ot.ALWAYS,mask:0},_n,255,Ot.KEEP,Ot.KEEP,Ot.REPLACE),j.ColorMode.disabled,j.CullFaceMode.disabled,cp(an.projMatrix),"$clipping",Fn,Qn,Nn)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const ot=this.nextStencilID++,lt=this.context.gl;return new j.StencilMode({func:lt.NOTEQUAL,mask:255},ot,255,lt.KEEP,lt.KEEP,lt.REPLACE)}stencilModeForClipping(ot){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(ot);const lt=this.context.gl;return new j.StencilMode({func:lt.EQUAL,mask:255},this._tileClippingMaskIDs[ot.key],0,lt.KEEP,lt.KEEP,lt.REPLACE)}stencilConfigForOverlap(ot){const lt=this.context.gl,Ut=ot.sort((qt,an)=>an.overscaledZ-qt.overscaledZ),kt=Ut[Ut.length-1].overscaledZ,Ot=Ut[0].overscaledZ-kt+1;if(Ot>1){this.currentStencilSource=void 0,this.nextStencilID+Ot>256&&this.clearStencil();const qt={};for(let an=0;an<Ot;an++)qt[an+kt]=new j.StencilMode({func:lt.GEQUAL,mask:255},an+this.nextStencilID,255,lt.KEEP,lt.KEEP,lt.REPLACE);return this.nextStencilID+=Ot,[qt,Ut]}return[{[kt]:j.StencilMode.disabled},Ut]}colorModeForRenderPass(){const ot=this.context.gl;return this._showOverdrawInspector?new j.ColorMode([ot.CONSTANT_COLOR,ot.ONE],new j.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?j.ColorMode.unblended:j.ColorMode.alphaBlended}depthModeForSublayer(ot,lt,Ut){if(!this.opaquePassEnabledForLayer())return j.DepthMode.disabled;const kt=1-((1+this.currentLayer)*this.numSublayers+ot)*this.depthEpsilon;return new j.DepthMode(Ut||this.context.gl.LEQUAL,lt,[kt,kt])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(ot,lt){this.style=ot,this.options=lt,this.imageManager=ot.imageManager,this.glyphManager=ot.glyphManager,this.symbolFadeChange=ot.placement.symbolFadeChange(j.exported.now()),this.imageManager.beginFrame();const Ut=this.style.order,kt=this.style._sourceCaches;for(const cn in kt){const _n=kt[cn];_n.used&&_n.prepare(this.context)}const Ot={},qt={},an={};for(const cn in kt){const _n=kt[cn];Ot[cn]=_n.getVisibleCoordinates(),qt[cn]=Ot[cn].slice().reverse(),an[cn]=_n.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let cn=0;cn<Ut.length;cn++)if(this.style._layers[Ut[cn]].is3D()){this.opaquePassCutoff=cn;break}if(this.terrain&&(this.terrain.updateTileBinding(an),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new j.GlobeSharedBuffers(this.context)),j.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const cn of Ut){const _n=this.style._layers[cn],Fn=ot._getLayerSourceCache(_n);if(!_n.hasOffscreenPass()||_n.isHidden(this.transform.zoom))continue;const Qn=Fn?qt[Fn.id]:void 0;(_n.type==="custom"||_n.isSky()||Qn&&Qn.length)&&this.renderLayer(this,Fn,_n,Qn)}if(this.depthRangeFor3D=[0,1-(ot.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:lt.showOverdrawInspector?j.Color.black:j.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=lt.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=Ut.length-1;this.currentLayer>=0;this.currentLayer--){const cn=this.style._layers[Ut[this.currentLayer]],_n=ot._getLayerSourceCache(cn);if(cn.isSky())continue;const Fn=_n?qt[_n.id]:void 0;this._renderTileClippingMasks(cn,_n,Fn),this.renderLayer(this,_n,cn,Fn)}if(this.style.fog&&this.transform.projection.supportsFog&&function(cn,_n){const Fn=cn.context,Qn=Fn.gl,Nn=cn.transform,Yn=new j.DepthMode(Qn.LEQUAL,j.DepthMode.ReadOnly,[0,1]),jn=cn.useProgram("globeAtmosphere",null,Nn.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),Xn=j.globeToMercatorTransition(Nn.zoom),Pn=_n.properties.get("color").toArray01(),In=_n.properties.get("high-color").toArray01(),er=_n.properties.get("space-color").toArray01PremultipliedAlpha(),Hn=j.identity$1([]);j.rotateY$1(Hn,Hn,-j.degToRad(Nn._center.lng)),j.rotateX$1(Hn,Hn,j.degToRad(Nn._center.lat)),j.rotateZ$1(Hn,Hn,Nn.angle),j.rotateX$1(Hn,Hn,-Nn._pitch);const dr=j.fromQuat(new Float32Array(16),Hn),gr=j.mapValue(_n.properties.get("star-intensity"),0,1,0,.25),tr=5e-4,vr=j.mapValue(_n.properties.get("horizon-blend"),0,1,tr,.25),wr=j.globeUseCustomAntiAliasing(cn,Fn,Nn)&&vr===tr?Nn.worldSize/(2*Math.PI*1.025)-1:Nn.globeRadius,Mr=cn.frameCounter/1e3%1,kr=j.length(Nn.globeCenterInViewSpace),oo=Math.sqrt(Math.pow(kr,2)-Math.pow(wr,2)),Rr=Math.acos(oo/kr),Zr=((xr,Fr,yo,uo,fo,co,ko,Lo,Wo,Do,ho,$o,us,Ns)=>({u_frustum_tl:xr,u_frustum_tr:Fr,u_frustum_br:yo,u_frustum_bl:uo,u_horizon:fo,u_transition:co,u_fadeout_range:ko,u_color:Lo,u_high_color:Wo,u_space_color:Do,u_star_intensity:ho,u_star_size:5*j.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:$o,u_horizon_angle:us,u_rotation_matrix:Ns}))(Nn.frustumCorners.TL,Nn.frustumCorners.TR,Nn.frustumCorners.BR,Nn.frustumCorners.BL,Nn.frustumCorners.horizon,Xn,vr,Pn,In,er,gr,Mr,Rr,dr);cn.prepareDrawProgram(Fn,jn);const Gr=cn.atmosphereBuffer;Gr&&jn.draw(Fn,Qn.TRIANGLES,Yn,j.StencilMode.disabled,j.ColorMode.alphaBlended,j.CullFaceMode.backCW,Zr,"skybox",Gr.vertexBuffer,Gr.indexBuffer,Gr.segments)}(this,this.style.fog),this.renderPass="sky",(j.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<Ut.length;this.currentLayer++){const cn=this.style._layers[Ut[this.currentLayer]],_n=ot._getLayerSourceCache(cn);cn.isSky()&&this.renderLayer(this,_n,cn,_n?qt[_n.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<Ut.length;){const cn=this.style._layers[Ut[this.currentLayer]],_n=ot._getLayerSourceCache(cn);if(cn.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(cn)){if(cn.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Fn=_n?(cn.type==="symbol"?an:qt)[_n.id]:void 0;this._renderTileClippingMasks(cn,_n,_n?Ot[_n.id]:void 0),this.renderLayer(this,_n,cn,Fn),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let cn=null;j.values(this.style._layers).forEach(_n=>{const Fn=ot._getLayerSourceCache(_n);Fn&&!_n.isHidden(this.transform.zoom)&&(!cn||cn.getSource().maxzoom<Fn.getSource().maxzoom)&&(cn=Fn)}),cn&&this.options.showTileBoundaries&&ry.debug(this,cn,cn.getVisibleCoordinates())}this.options.showPadding&&function(cn){const _n=cn.transform.padding;ny(cn,cn.transform.height-(_n.top||0),3,Tl),ny(cn,_n.bottom||0,3,qs),am(cn,_n.left||0,3,y0),am(cn,cn.transform.width-(_n.right||0),3,hv);const Fn=cn.transform.centerPoint;(function(Qn,Nn,Yn,jn){Zu(Qn,Nn-1,Yn-10,2,20,jn),Zu(Qn,Nn-10,Yn-1,20,2,jn)})(cn,Fn.x,cn.transform.height-Fn.y,Eu)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(j.window.performance.now()),this.saveCanvasCopy())}}renderLayer(ot,lt,Ut,kt){Ut.isHidden(this.transform.zoom)||(Ut.type==="background"||Ut.type==="sky"||Ut.type==="custom"||kt&&kt.length)&&(this.id=Ut.id,this.gpuTimingStart(Ut),ot.transform.projection.unsupportedLayers&&ot.transform.projection.unsupportedLayers.includes(Ut.type)||ry[Ut.type](ot,lt,Ut,kt,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(ot){if(!this.options.gpuTiming)return;const lt=this.context.extTimerQuery;let Ut=this.gpuTimers[ot.id];Ut||(Ut=this.gpuTimers[ot.id]={calls:0,cpuTime:0,query:lt.createQueryEXT()}),Ut.calls++,lt.beginQueryEXT(lt.TIME_ELAPSED_EXT,Ut.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const ot=this.context.extTimerQuery,lt=ot.createQueryEXT();this.deferredRenderGpuTimeQueries.push(lt),ot.beginQueryEXT(ot.TIME_ELAPSED_EXT,lt)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const ot=this.context.extTimerQuery;ot.endQueryEXT(ot.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const ot=this.context.extTimerQuery;ot.endQueryEXT(ot.TIME_ELAPSED_EXT)}collectGpuTimers(){const ot=this.gpuTimers;return this.gpuTimers={},ot}collectDeferredRenderGpuQueries(){const ot=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],ot}queryGpuTimers(ot){const lt={};for(const Ut in ot){const kt=ot[Ut],Ot=this.context.extTimerQuery,qt=Ot.getQueryObjectEXT(kt.query,Ot.QUERY_RESULT_EXT)/1e6;Ot.deleteQueryEXT(kt.query),lt[Ut]=qt}return lt}queryGpuTimeDeferredRender(ot){if(!this.options.gpuTimingDeferredRender)return 0;const lt=this.context.extTimerQuery;let Ut=0;for(const kt of ot)Ut+=lt.getQueryObjectEXT(kt,lt.QUERY_RESULT_EXT)/1e6,lt.deleteQueryEXT(kt);return Ut}translatePosMatrix(ot,lt,Ut,kt,Ot){if(!Ut[0]&&!Ut[1])return ot;const qt=Ot?kt==="map"?this.transform.angle:0:kt==="viewport"?-this.transform.angle:0;if(qt){const _n=Math.sin(qt),Fn=Math.cos(qt);Ut=[Ut[0]*Fn-Ut[1]*_n,Ut[0]*_n+Ut[1]*Fn]}const an=[Ot?Ut[0]:yn(lt,Ut[0],this.transform.zoom),Ot?Ut[1]:yn(lt,Ut[1],this.transform.zoom),0],cn=new Float32Array(16);return j.translate(cn,ot,an),cn}saveTileTexture(ot){const lt=this._tileTextures[ot.size[0]];lt?lt.push(ot):this._tileTextures[ot.size[0]]=[ot]}getTileTexture(ot){const lt=this._tileTextures[ot];return lt&&lt.length>0?lt.pop():null}isPatternMissing(ot){if(!ot)return!1;if(!ot.from||!ot.to)return!0;const lt=this.imageManager.getPattern(ot.from.toString()),Ut=this.imageManager.getPattern(ot.to.toString());return!lt||!Ut}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const ot=this.terrain&&this.terrain.renderingToTexture,lt=this.style&&this.style.fog,Ut=[];return this.terrainRenderModeElevated()&&Ut.push("TERRAIN"),this.transform.projection.name==="globe"&&Ut.push("GLOBE"),lt&&!ot&&lt.getOpacity(this.transform.pitch)!==0&&Ut.push("FOG"),ot&&Ut.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&Ut.push("OVERDRAW_INSPECTOR"),Ut}useProgram(ot,lt,Ut){this.cache=this.cache||{};const kt=Ut||[],Ot=this.currentGlobalDefines().concat(kt),qt=p_.cacheKey(c_[ot],ot,Ot,lt);return this.cache[qt]||(this.cache[qt]=new p_(this.context,ot,c_[ot],lt,g0[ot],Ot)),this.cache[qt]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const ot=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(ot.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=j.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new j.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(ot,lt,Ut){if(this.terrain&&this.terrain.renderingToTexture)return;const kt=this.style.fog;if(kt){const Ot=kt.getOpacity(this.transform.pitch),qt=((an,cn,_n,Fn,Qn,Nn,Yn,jn,Xn,Pn,In)=>{const er=an.transform,Hn=cn.properties.get("color").toArray01();Hn[3]=Fn;const dr=an.frameCounter/1e3%1;return{u_fog_matrix:_n?er.calculateFogTileMatrix(_n):an.identityMat,u_fog_range:cn.getFovAdjustedRange(er._fov),u_fog_color:Hn,u_fog_horizon_blend:cn.properties.get("horizon-blend"),u_fog_temporal_offset:dr,u_frustum_tl:Qn,u_frustum_tr:Nn,u_frustum_br:Yn,u_frustum_bl:jn,u_globe_pos:Xn,u_globe_radius:Pn,u_viewport:In,u_globe_transition:j.globeToMercatorTransition(er.zoom),u_is_globe:+(er.projection.name==="globe")}})(this,kt,Ut,Ot,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*j.exported.devicePixelRatio,this.transform.height*j.exported.devicePixelRatio]);lt.setFogUniformValues(ot,qt)}}setTileLoadedFlag(ot){this.tileLoaded=ot}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const ot=this.context.gl,lt=ot.createTexture();return ot.bindTexture(ot.TEXTURE_2D,lt),ot.copyTexImage2D(ot.TEXTURE_2D,0,ot.RGBA,0,0,ot.drawingBufferWidth,ot.drawingBufferHeight,0),lt}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const ot=this.style&&this.style.fog;return!!ot&&ot.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const ot=this._backgroundTiles,lt=this._backgroundTiles={},Ut=this.transform.coveringTiles({tileSize:512});for(const kt of Ut)lt[kt.key]=ot[kt.key]||new j.Tile(kt,512,this.transform.tileZoom,this);return lt}clearBackgroundTiles(){this._backgroundTiles={}}}class wp{constructor(ot=0,lt=0,Ut=0,kt=0){if(isNaN(ot)||ot<0||isNaN(lt)||lt<0||isNaN(Ut)||Ut<0||isNaN(kt)||kt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=ot,this.bottom=lt,this.left=Ut,this.right=kt}interpolate(ot,lt,Ut){return lt.top!=null&&ot.top!=null&&(this.top=j.number(ot.top,lt.top,Ut)),lt.bottom!=null&&ot.bottom!=null&&(this.bottom=j.number(ot.bottom,lt.bottom,Ut)),lt.left!=null&&ot.left!=null&&(this.left=j.number(ot.left,lt.left,Ut)),lt.right!=null&&ot.right!=null&&(this.right=j.number(ot.right,lt.right,Ut)),this}getCenter(ot,lt){const Ut=j.clamp((this.left+ot-this.right)/2,0,ot),kt=j.clamp((this.top+lt-this.bottom)/2,0,lt);return new j.pointGeometry(Ut,kt)}equals(ot){return this.top===ot.top&&this.bottom===ot.bottom&&this.left===ot.left&&this.right===ot.right}clone(){return new wp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function iy(gt,ot){const lt=j.getColumn(gt,3);j.fromQuat(gt,ot),j.setColumn(gt,3,lt)}function v0(gt,ot){const lt=j.identity$1([]);return j.rotateZ$1(lt,lt,-ot),j.rotateX$1(lt,lt,-gt),lt}function lm(gt,ot){const lt=[gt[0],gt[1],0],Ut=[ot[0],ot[1],0];if(j.length(lt)>=1e-15){const qt=j.normalize([],lt);j.scale$2(Ut,qt,j.dot(Ut,qt)),ot[0]=Ut[0],ot[1]=Ut[1]}const kt=j.cross([],ot,gt);if(j.len(kt)<1e-15)return null;const Ot=Math.atan2(-kt[1],kt[0]);return v0(Math.atan2(Math.sqrt(gt[0]*gt[0]+gt[1]*gt[1]),-gt[2]),Ot)}class oy{constructor(ot,lt){this.position=ot,this.orientation=lt}get position(){return this._position}set position(ot){if(ot){const lt=ot instanceof j.MercatorCoordinate?ot:new j.MercatorCoordinate(ot[0],ot[1],ot[2]);this._renderWorldCopies&&(lt.x=j.wrap(lt.x,0,1)),this._position=lt}else this._position=null}lookAtPoint(ot,lt){if(this.orientation=null,!this.position)return;const Ut=this._elevation?this._elevation.getAtPointOrZero(j.MercatorCoordinate.fromLngLat(ot)):0,kt=this.position,Ot=j.MercatorCoordinate.fromLngLat(ot,Ut),qt=[Ot.x-kt.x,Ot.y-kt.y,Ot.z-kt.z];lt||(lt=[0,0,1]),lt[2]=Math.abs(lt[2]),this.orientation=lm(qt,lt)}setPitchBearing(ot,lt){this.orientation=v0(j.degToRad(ot),j.degToRad(-lt))}}class um{constructor(ot,lt){this._transform=j.identity([]),this.orientation=lt,this.position=ot}get mercatorPosition(){const ot=this.position;return new j.MercatorCoordinate(ot[0],ot[1],ot[2])}get position(){const ot=j.getColumn(this._transform,3);return[ot[0],ot[1],ot[2]]}set position(ot){var lt;ot&&j.setColumn(this._transform,3,[(lt=ot)[0],lt[1],lt[2],1])}get orientation(){return this._orientation}set orientation(ot){this._orientation=ot||j.identity$1([]),ot&&iy(this._transform,this._orientation)}getPitchBearing(){const ot=this.forward(),lt=this.right();return{bearing:Math.atan2(-lt[1],lt[0]),pitch:Math.atan2(Math.sqrt(ot[0]*ot[0]+ot[1]*ot[1]),-ot[2])}}setPitchBearing(ot,lt){this._orientation=v0(ot,lt),iy(this._transform,this._orientation)}forward(){const ot=j.getColumn(this._transform,2);return[-ot[0],-ot[1],-ot[2]]}up(){const ot=j.getColumn(this._transform,1);return[-ot[0],-ot[1],-ot[2]]}right(){const ot=j.getColumn(this._transform,0);return[ot[0],ot[1],ot[2]]}getCameraToWorld(ot,lt){const Ut=new Float64Array(16);return j.invert(Ut,this.getWorldToCamera(ot,lt)),Ut}getWorldToCameraPosition(ot,lt,Ut){const kt=this.position;j.scale$2(kt,kt,-ot);const Ot=new Float64Array(16);return j.fromScaling(Ot,[Ut,Ut,Ut]),j.translate(Ot,Ot,kt),Ot[10]*=lt,Ot}getWorldToCamera(ot,lt){const Ut=new Float64Array(16),kt=new Float64Array(4),Ot=this.position;return j.conjugate(kt,this._orientation),j.scale$2(Ot,Ot,-ot),j.fromQuat(Ut,kt),j.translate(Ut,Ut,Ot),Ut[1]*=-1,Ut[5]*=-1,Ut[9]*=-1,Ut[13]*=-1,Ut[8]*=lt,Ut[9]*=lt,Ut[10]*=lt,Ut[11]*=lt,Ut}getCameraToClipPerspective(ot,lt,Ut,kt){const Ot=new Float64Array(16);return j.perspective(Ot,ot,lt,Ut,kt),Ot}getDistanceToElevation(ot){const lt=ot===0?0:j.mercatorZfromAltitude(ot,this.position[1]),Ut=this.forward();return(lt-this.position[2])/Ut[2]}clone(){return new um([...this.position],[...this.orientation])}}function Cm(gt,ot){const lt=Lp(gt.projection,gt.zoom,gt.width,gt.height),Ut=function(Ot,qt,an,cn,_n){const Fn=new j.LngLat(an.lng-180*_u,an.lat),Qn=new j.LngLat(an.lng+180*_u,an.lat),Nn=Ot.project(Fn.lng,Fn.lat),Yn=Ot.project(Qn.lng,Qn.lat),jn=-Math.atan2(Yn.y-Nn.y,Yn.x-Nn.x),Xn=j.MercatorCoordinate.fromLngLat(an);Xn.y=j.clamp(Xn.y,-.999975,.999975);const Pn=Xn.toLngLat(),In=Ot.project(Pn.lng,Pn.lat),er=j.MercatorCoordinate.fromLngLat(Pn);er.x+=_u;const Hn=er.toLngLat(),dr=Ot.project(Hn.lng,Hn.lat),gr=Fo(dr.x-In.x,dr.y-In.y,jn),tr=j.MercatorCoordinate.fromLngLat(Pn);tr.y+=_u;const vr=tr.toLngLat(),wr=Ot.project(vr.lng,vr.lat),Mr=Fo(wr.x-In.x,wr.y-In.y,jn),kr=Math.abs(gr.x)/Math.abs(Mr.y),oo=j.identity([]);j.rotateZ(oo,oo,-jn*(1-(_n?0:cn)));const Rr=j.identity([]);return j.scale(Rr,Rr,[1,1-(1-kr)*cn,1]),Rr[4]=-Mr.x/Mr.y*cn,j.rotateZ(Rr,Rr,jn),j.multiply(Rr,oo,Rr),Rr}(gt.projection,0,gt.center,lt,ot),kt=ky(gt);return j.scale(Ut,Ut,[kt,kt,1]),Ut}function ky(gt){const ot=gt.projection,lt=Lp(gt.projection,gt.zoom,gt.width,gt.height),Ut=cm(ot,gt.center),kt=cm(ot,j.LngLat.convert(ot.center));return Math.pow(2,Ut*lt+(1-lt)*kt)}function Lp(gt,ot,lt,Ut,kt=1/0){const Ot=gt.range;if(!Ot)return 0;const qt=Math.min(kt,Math.max(lt,Ut)),an=Math.log(qt/1024)/Math.LN2;return j.smoothstep(Ot[0]+an,Ot[1]+an,ot)}const _u=1/4e4;function cm(gt,ot){const lt=j.clamp(ot.lat,-j.MAX_MERCATOR_LATITUDE,j.MAX_MERCATOR_LATITUDE),Ut=new j.LngLat(ot.lng-180*_u,lt),kt=new j.LngLat(ot.lng+180*_u,lt),Ot=gt.project(Ut.lng,lt),qt=gt.project(kt.lng,lt),an=j.MercatorCoordinate.fromLngLat(Ut),cn=j.MercatorCoordinate.fromLngLat(kt),_n=qt.x-Ot.x,Fn=qt.y-Ot.y,Qn=cn.x-an.x,Nn=cn.y-an.y,Yn=Math.sqrt((Qn*Qn+Nn*Nn)/(_n*_n+Fn*Fn));return Math.log(Yn)/Math.LN2}function Fo(gt,ot,lt){const Ut=Math.cos(lt),kt=Math.sin(lt);return{x:gt*Ut-ot*kt,y:gt*kt+ot*Ut}}class Vu{constructor(ot,lt,Ut,kt,Ot,qt,an){this.tileSize=512,this._renderWorldCopies=Ot===void 0||Ot,this._minZoom=ot||0,this._maxZoom=lt||22,this._minPitch=Ut??0,this._maxPitch=kt??60,this.setProjection(qt),this.setMaxBounds(an),this.width=0,this.height=0,this._center=new j.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new wp,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new um,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const ot=new Vu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return ot._elevation=this._elevation,ot._centerAltitude=this._centerAltitude,ot._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,ot.tileSize=this.tileSize,ot.mercatorFromTransition=this.mercatorFromTransition,ot.width=this.width,ot.height=this.height,ot.cameraElevationReference=this.cameraElevationReference,ot._center=this._center,ot._setZoom(this.zoom),ot._seaLevelZoom=this._seaLevelZoom,ot.angle=this.angle,ot._fov=this._fov,ot._pitch=this._pitch,ot._nearZ=this._nearZ,ot._farZ=this._farZ,ot._averageElevation=this._averageElevation,ot._unmodified=this._unmodified,ot._edgeInsets=this._edgeInsets.clone(),ot._camera=this._camera.clone(),ot._calcMatrices(),ot.freezeTileCoverage=this.freezeTileCoverage,ot.frustumCorners=this.frustumCorners,ot}get elevation(){return this._elevation}set elevation(ot){this._elevation!==ot&&(this._elevation=ot,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(ot){const lt=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||lt)&&this._updateCameraOnTerrain(),(ot||lt)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return j.pick(this.projection,["name","center","parallels"])}setProjection(ot){this.projectionOptions=ot||{name:"mercator"};const lt=this.projection?this.getProjection():void 0;this.projection=j.getProjection(this.projectionOptions);const Ut=!nt(lt,this.getProjection());return Ut&&this._calcMatrices(),this.mercatorFromTransition=!1,Ut}setMercatorFromTransition(){const ot=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=j.getProjection({name:"mercator"});const lt=ot!==this.projection.name;return lt&&this._calcMatrices(),lt}get minZoom(){return this._minZoom}set minZoom(ot){this._minZoom!==ot&&(this._minZoom=ot,this.zoom=Math.max(this.zoom,ot))}get maxZoom(){return this._maxZoom}set maxZoom(ot){this._maxZoom!==ot&&(this._maxZoom=ot,this.zoom=Math.min(this.zoom,ot))}get minPitch(){return this._minPitch}set minPitch(ot){this._minPitch!==ot&&(this._minPitch=ot,this.pitch=Math.max(this.pitch,ot))}get maxPitch(){return this._maxPitch}set maxPitch(ot){this._maxPitch!==ot&&(this._maxPitch=ot,this.pitch=Math.min(this.pitch,ot))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(ot){ot===void 0?ot=!0:ot===null&&(ot=!1),this._renderWorldCopies=ot}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const ot=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(ot))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return j.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new j.pointGeometry(this.width,this.height)}get bearing(){return j.wrap(this.rotation,-180,180)}set bearing(ot){this.rotation=ot}get rotation(){return-this.angle/Math.PI*180}set rotation(ot){const lt=-ot*Math.PI/180;var Ut;this.angle!==lt&&(this._unmodified=!1,this.angle=lt,this._calcMatrices(),this.rotationMatrix=(Ut=new j.ARRAY_TYPE(4),j.ARRAY_TYPE!=Float32Array&&(Ut[1]=0,Ut[2]=0),Ut[0]=1,Ut[3]=1,Ut),function(kt,Ot,qt){var an=Ot[0],cn=Ot[1],_n=Ot[2],Fn=Ot[3],Qn=Math.sin(qt),Nn=Math.cos(qt);kt[0]=an*Nn+_n*Qn,kt[1]=cn*Nn+Fn*Qn,kt[2]=an*-Qn+_n*Nn,kt[3]=cn*-Qn+Fn*Nn}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(ot){const lt=j.clamp(ot,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==lt&&(this._unmodified=!1,this._pitch=lt,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const ot=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/ot)}set fov(ot){ot=Math.max(.01,Math.min(60,ot)),this._fov!==ot&&(this._unmodified=!1,this._fov=j.degToRad(ot),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(ot){this._averageElevation=ot,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(ot){const lt=Math.min(Math.max(ot,this.minZoom),this.maxZoom);this._zoom!==lt&&(this._unmodified=!1,this._setZoom(lt),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(ot){this._zoom=ot,this.scale=this.zoomScale(ot),this.tileZoom=Math.floor(ot),this.zoomFraction=ot-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const ot=this._elevation;this._centerAltitude=ot.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=ot.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const ot=this._elevation,lt=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],Ut=this.horizonLineFromTop();let kt=0,Ot=0;for(let qt=0;qt<lt.length;qt++){const an=new j.pointGeometry(lt[qt][0]*this.width,Ut+lt[qt][1]*(this.height-Ut)),cn=ot.pointCoordinate(an);if(!cn)continue;const _n=1/Math.hypot(cn[0]-this._camera.position[0],cn[1]-this._camera.position[1]);kt+=cn[3]*_n,Ot+=_n}return Ot===0?NaN:kt/Ot}get center(){return this._center}set center(ot){ot.lat===this._center.lat&&ot.lng===this._center.lng||(this._unmodified=!1,this._center=ot,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const ot=this._seaLevelZoom,lt=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),Ut=this.pixelsPerMeter/this.worldSize*lt,kt=this._mercatorZfromZoom(ot),Ot=this._mercatorZfromZoom(this._maxZoom),qt=Math.max(kt-Ut,Ot);this._setZoom(this._zoomFromMercatorZ(qt))}get padding(){return this._edgeInsets.toJSON()}set padding(ot){this._edgeInsets.equals(ot)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ot,1),this._calcMatrices())}computeZoomRelativeTo(ot){const lt=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,ot.toAltitude()));let Ut;Ut=ot.z<this._camera.position[2]?[lt.x,lt.y,lt.z]:[ot.x,ot.y,ot.z];const kt=j.length(j.sub([],this._camera.position,Ut));return j.clamp(this._zoomFromMercatorZ(kt),this._minZoom,this._maxZoom)}setFreeCameraOptions(ot){if(!this.height||!ot.position&&!ot.orientation)return;this._updateCameraState();let lt=!1;if(ot.orientation&&!j.exactEquals(ot.orientation,this._camera.orientation)&&(lt=this._setCameraOrientation(ot.orientation)),ot.position){const Ut=[ot.position.x,ot.position.y,ot.position.z];j.exactEquals$1(Ut,this._camera.position)||(this._setCameraPosition(Ut),lt=!0)}lt&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const ot=this._camera.position,lt=new oy;return lt.position=new j.MercatorCoordinate(ot[0],ot[1],ot[2]),lt.orientation=this._camera.orientation,lt._elevation=this.elevation,lt._renderWorldCopies=this.renderWorldCopies,lt}_setCameraOrientation(ot){if(!j.length$1(ot))return!1;j.normalize$1(ot,ot);const lt=j.transformQuat([],[0,0,-1],ot),Ut=j.transformQuat([],[0,-1,0],ot);if(Ut[2]<0)return!1;const kt=lm(lt,Ut);return!!kt&&(this._camera.orientation=kt,!0)}_setCameraPosition(ot){const lt=this.zoomScale(this.minZoom)*this.tileSize,Ut=this.zoomScale(this.maxZoom)*this.tileSize,kt=this.cameraToCenterDistance;ot[2]=j.clamp(ot[2],kt/Ut,kt/lt),this._camera.position=ot}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(ot){return this._edgeInsets.equals(ot)}interpolatePadding(ot,lt,Ut){this._unmodified=!1,this._edgeInsets.interpolate(ot,lt,Ut),this._constrain(),this._calcMatrices()}coveringZoomLevel(ot){const lt=(ot.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/ot.tileSize));return Math.max(0,lt)}getVisibleUnwrappedCoordinates(ot){const lt=[new j.UnwrappedTileID(0,ot)];if(this.renderWorldCopies){const Ut=this.pointCoordinate(new j.pointGeometry(0,0)),kt=this.pointCoordinate(new j.pointGeometry(this.width,0)),Ot=this.pointCoordinate(new j.pointGeometry(this.width,this.height)),qt=this.pointCoordinate(new j.pointGeometry(0,this.height)),an=Math.floor(Math.min(Ut.x,kt.x,Ot.x,qt.x)),cn=Math.floor(Math.max(Ut.x,kt.x,Ot.x,qt.x)),_n=1;for(let Fn=an-_n;Fn<=cn+_n;Fn++)Fn!==0&&lt.push(new j.UnwrappedTileID(Fn,ot))}return lt}coveringTiles(ot){let lt=this.coveringZoomLevel(ot);const Ut=lt,kt=this.elevation&&!ot.isTerrainDEM,Ot=this.projection.name==="mercator";if(ot.minzoom!==void 0&&lt<ot.minzoom)return[];ot.maxzoom!==void 0&&lt>ot.maxzoom&&(lt=ot.maxzoom);const qt=this.locationCoordinate(this.center),an=this.center.lat,cn=1<<lt,_n=[cn*qt.x,cn*qt.y,0],Fn=this.projection.name==="globe",Qn=!Fn,Nn=j.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,lt,Qn),Yn=Fn?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),jn=cn*j.mercatorZfromAltitude(1,this.center.lat),Xn=this._camera.position[2]/j.mercatorZfromAltitude(1,this.center.lat),Pn=[cn*Yn.x,cn*Yn.y,Xn*(Qn?1:jn)],In=this.cameraToCenterDistance/ot.tileSize*(ot.roundZoom?1:.502),er=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?lt:0,Hn=ot.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,dr=ot.isTerrainDEM?-Hn:this._elevation?this._elevation.getMinElevationBelowMSL():0,gr=this.projection.isReprojectedInTileSpace?ky(this):1,tr=Fr=>{const uo=new j.MercatorCoordinate(Fr.x+25e-6,Fr.y,Fr.z),fo=new j.MercatorCoordinate(Fr.x,Fr.y+25e-6,Fr.z),co=Fr.toLngLat(),ko=uo.toLngLat(),Lo=fo.toLngLat(),Wo=this.locationCoordinate(co),Do=this.locationCoordinate(ko),ho=this.locationCoordinate(Lo),$o=Math.hypot(Do.x-Wo.x,Do.y-Wo.y),us=Math.hypot(ho.x-Wo.x,ho.y-Wo.y);return Math.sqrt($o*us)*gr/25e-6},vr=Fr=>{const yo=Hn,uo=dr;return{aabb:j.tileAABB(this,cn,0,0,0,Fr,uo,yo,this.projection),zoom:0,x:0,y:0,minZ:uo,maxZ:yo,wrap:Fr,fullyVisible:!1}},wr=[];let Mr=[];const kr=lt,oo=ot.reparseOverscaled?Ut:lt,Rr=Fr=>Fr*Fr,Zr=Rr((Xn-this._centerAltitude)*jn),Gr=Fr=>{if(!this._elevation||!Fr.tileID||!Ot)return;const yo=this._elevation.getMinMaxForTile(Fr.tileID),uo=Fr.aabb;yo?(uo.min[2]=yo.min,uo.max[2]=yo.max,uo.center[2]=(uo.min[2]+uo.max[2])/2):(Fr.shouldSplit=xr(Fr),Fr.shouldSplit||(uo.min[2]=uo.max[2]=uo.center[2]=this._centerAltitude))},xr=Fr=>{if(Fr.zoom<er)return!0;if(Fr.zoom===kr)return!1;if(Fr.shouldSplit!=null)return Fr.shouldSplit;const yo=Fr.aabb.distanceX(Pn),uo=Fr.aabb.distanceY(Pn);let fo=Zr,co=1;if(Fn){fo=Rr(Fr.aabb.distanceZ(Pn));const Wo=Math.pow(2,Fr.zoom),Do=j.latFromMercatorY((Fr.y+1)/Wo),ho=j.latFromMercatorY(Fr.y/Wo),$o=Math.min(Math.max(an,Do),ho),us=j.circumferenceAtLatitude($o)/j.circumferenceAtLatitude(an);if(co=$o===an?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,us/this._mercatorScaleRatio),this.zoom<=j.GLOBE_ZOOM_THRESHOLD_MIN&&Fr.zoom===kr-1&&us>=.9)return!0}else if(kt&&(fo=Rr(Fr.aabb.distanceZ(Pn)*jn)),this.projection.isReprojectedInTileSpace&&Ut<=5){const Wo=Math.pow(2,Fr.zoom),Do=tr(new j.MercatorCoordinate((Fr.x+.5)/Wo,(Fr.y+.5)/Wo));co=Do>.85?1:Do}const ko=yo*yo+uo*uo+fo,Lo=Rr((1<<kr-Fr.zoom)*In*co*((Wo,Do)=>{if(Do*Rr(.707)<Wo)return 1;const ho=Math.sqrt(Do/Wo);return ho/(1.4144271570014144+(Math.pow(1.1,ho-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(fo,Zr),ko));return ko<Lo};if(this.renderWorldCopies)for(let Fr=1;Fr<=3;Fr++)wr.push(vr(-Fr)),wr.push(vr(Fr));for(wr.push(vr(0));wr.length>0;){const Fr=wr.pop(),yo=Fr.x,uo=Fr.y;let fo=Fr.fullyVisible;if(!fo){const co=Fr.aabb.intersects(Nn);if(co===0)continue;fo=co===2}if(Fr.zoom!==kr&&xr(Fr))for(let co=0;co<4;co++){const ko=(yo<<1)+co%2,Lo=(uo<<1)+(co>>1),Wo={aabb:Ot?Fr.aabb.quadrant(co):j.tileAABB(this,cn,Fr.zoom+1,ko,Lo,Fr.wrap,Fr.minZ,Fr.maxZ,this.projection),zoom:Fr.zoom+1,x:ko,y:Lo,wrap:Fr.wrap,fullyVisible:fo,tileID:void 0,shouldSplit:void 0,minZ:Fr.minZ,maxZ:Fr.maxZ};kt&&!Fn&&(Wo.tileID=new j.OverscaledTileID(Fr.zoom+1===kr?oo:Fr.zoom+1,Fr.wrap,Fr.zoom+1,ko,Lo),Gr(Wo)),wr.push(Wo)}else{const co=Fr.zoom===kr?oo:Fr.zoom;if(ot.minzoom&&ot.minzoom>co)continue;const ko=_n[0]-(.5+yo+(Fr.wrap<<Fr.zoom))*(1<<lt-Fr.zoom),Lo=_n[1]-.5-uo,Wo=Fr.tileID?Fr.tileID:new j.OverscaledTileID(co,Fr.wrap,Fr.zoom,yo,uo);Mr.push({tileID:Wo,distanceSq:ko*ko+Lo*Lo})}}if(this.fogCullDistSq){const Fr=this.fogCullDistSq,yo=this.horizonLineFromTop();Mr=Mr.filter(uo=>{const fo=[0,0,0,1],co=[j.EXTENT,j.EXTENT,0,1],ko=this.calculateFogTileMatrix(uo.tileID.toUnwrapped());j.transformMat4$1(fo,fo,ko),j.transformMat4$1(co,co,ko);const Lo=j.getAABBPointSquareDist(fo,co);if(Lo===0)return!0;let Wo=!1;const Do=this._elevation;if(Do&&Lo>Fr&&yo!==0){const ho=this.calculateProjMatrix(uo.tileID.toUnwrapped());let $o;ot.isTerrainDEM||($o=Do.getMinMaxForTile(uo.tileID)),$o||($o={min:dr,max:Hn});const us=j.furthestTileCorner(this.rotation),Ns=[us[0]*j.EXTENT,us[1]*j.EXTENT,$o.max];j.transformMat4(Ns,Ns,ho),Wo=(1-Ns[1])*this.height*.5<yo}return Lo<Fr||Wo})}return Mr.sort((Fr,yo)=>Fr.distanceSq-yo.distanceSq).map(Fr=>Fr.tileID)}resize(ot,lt){this.width=ot,this.height=lt,this.pixelsToGLUnits=[2/ot,-2/lt],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(ot){return Math.pow(2,ot)}scaleZoom(ot){return Math.log(ot)/Math.LN2}project(ot){const lt=j.clamp(ot.lat,-j.MAX_MERCATOR_LATITUDE,j.MAX_MERCATOR_LATITUDE),Ut=this.projection.project(ot.lng,lt);return new j.pointGeometry(Ut.x*this.worldSize,Ut.y*this.worldSize)}unproject(ot){return this.projection.unproject(ot.x/this.worldSize,ot.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(ot,lt){let Ut,kt;const Ot=this.centerPoint;if(this.projection.name==="globe"){const an=this.worldSize;Ut=(lt.x-Ot.x)/an,kt=(lt.y-Ot.y)/an}else{const an=this.pointCoordinate(lt),cn=this.pointCoordinate(Ot);Ut=an.x-cn.x,kt=an.y-cn.y}const qt=this.locationCoordinate(ot);this.setLocation(new j.MercatorCoordinate(qt.x-Ut,qt.y-kt))}setLocation(ot){this.center=this.coordinateLocation(ot),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(ot){return this.projection.locationPoint(this,ot)}locationPoint3D(ot){return this.projection.locationPoint(this,ot,!0)}pointLocation(ot){return this.coordinateLocation(this.pointCoordinate(ot))}pointLocation3D(ot){return this.coordinateLocation(this.pointCoordinate3D(ot))}locationCoordinate(ot,lt){const Ut=lt?j.mercatorZfromAltitude(lt,ot.lat):void 0,kt=this.projection.project(ot.lng,ot.lat);return new j.MercatorCoordinate(kt.x,kt.y,Ut)}coordinateLocation(ot){return this.projection.unproject(ot.x,ot.y)}pointRayIntersection(ot,lt){const Ut=lt??this._centerAltitude,kt=[ot.x,ot.y,0,1],Ot=[ot.x,ot.y,1,1];j.transformMat4$1(kt,kt,this.pixelMatrixInverse),j.transformMat4$1(Ot,Ot,this.pixelMatrixInverse);const qt=Ot[3];j.scale$1(kt,kt,1/kt[3]),j.scale$1(Ot,Ot,1/qt);const an=kt[2],cn=Ot[2];return{p0:kt,p1:Ot,t:an===cn?0:(Ut-an)/(cn-an)}}screenPointToMercatorRay(ot){const lt=[ot.x,ot.y,0,1],Ut=[ot.x,ot.y,1,1];return j.transformMat4$1(lt,lt,this.pixelMatrixInverse),j.transformMat4$1(Ut,Ut,this.pixelMatrixInverse),j.scale$1(lt,lt,1/lt[3]),j.scale$1(Ut,Ut,1/Ut[3]),lt[2]=j.mercatorZfromAltitude(lt[2],this._center.lat)*this.worldSize,Ut[2]=j.mercatorZfromAltitude(Ut[2],this._center.lat)*this.worldSize,j.scale$1(lt,lt,1/this.worldSize),j.scale$1(Ut,Ut,1/this.worldSize),new j.Ray([lt[0],lt[1],lt[2]],j.normalize([],j.sub([],Ut,lt)))}rayIntersectionCoordinate(ot){const{p0:lt,p1:Ut,t:kt}=ot,Ot=j.mercatorZfromAltitude(lt[2],this._center.lat),qt=j.mercatorZfromAltitude(Ut[2],this._center.lat);return new j.MercatorCoordinate(j.number(lt[0],Ut[0],kt)/this.worldSize,j.number(lt[1],Ut[1],kt)/this.worldSize,j.number(Ot,qt,kt))}pointCoordinate(ot,lt=this._centerAltitude){return this.projection.pointCoordinate(this,ot.x,ot.y,lt)}pointCoordinate3D(ot){if(!this.elevation)return this.pointCoordinate(ot);let lt=this.projection.pointCoordinate3D(this,ot.x,ot.y);if(lt)return new j.MercatorCoordinate(lt[0],lt[1],lt[2]);let Ut=0,kt=this.horizonLineFromTop();if(ot.y>kt)return this.pointCoordinate(ot);const Ot=.02*kt,qt=ot.clone();for(let an=0;an<10&&kt-Ut>Ot;an++){qt.y=j.number(Ut,kt,.66);const cn=this.projection.pointCoordinate3D(this,qt.x,qt.y);cn?(kt=qt.y,lt=cn):Ut=qt.y}return lt?new j.MercatorCoordinate(lt[0],lt[1],lt[2]):this.pointCoordinate(ot)}isPointAboveHorizon(ot){return this.projection.isPointAboveHorizon(this,ot)}_coordinatePoint(ot,lt){const Ut=lt&&this.elevation?this.elevation.getAtPointOrZero(ot,this._centerAltitude):this._centerAltitude,kt=[ot.x*this.worldSize,ot.y*this.worldSize,Ut+ot.toAltitude(),1];return j.transformMat4$1(kt,kt,this.pixelMatrix),kt[3]>0?new j.pointGeometry(kt[0]/kt[3],kt[1]/kt[3]):new j.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:ot,left:lt}=this._edgeInsets,Ut=this.height-this._edgeInsets.bottom,kt=this.width-this._edgeInsets.right,Ot=this.pointCoordinate3D(new j.pointGeometry(lt,ot)),qt=this.pointCoordinate3D(new j.pointGeometry(kt,ot)),an=this.pointCoordinate3D(new j.pointGeometry(kt,Ut)),cn=this.pointCoordinate3D(new j.pointGeometry(lt,Ut));let _n=Math.min(Ot.x,cn.x),Fn=Math.max(qt.x,an.x),Qn=Math.min(Ot.y,qt.y),Nn=Math.max(cn.y,an.y);const Yn=Math.pow(2,-this.zoom)/16,jn=(In,er,Hn,dr)=>{const gr=(In+Hn)/2,tr=(er+dr)/2,vr=new j.pointGeometry(gr,tr),wr=this.pointCoordinate3D(vr),Mr=Math.max(0,_n-wr.x,Qn-wr.y,wr.x-Fn,wr.y-Nn);_n=Math.min(_n,wr.x),Fn=Math.max(Fn,wr.x),Qn=Math.min(Qn,wr.y),Nn=Math.max(Nn,wr.y),Mr>Yn&&(jn(In,er,gr,tr),jn(gr,tr,Hn,dr))};jn(lt,ot,kt,ot),jn(kt,ot,kt,Ut),jn(kt,Ut,lt,Ut),jn(lt,Ut,lt,ot);const Xn=new j.LngLat(j.lngFromMercatorX(Fn),j.latFromMercatorY(Qn)),Pn=new j.LngLat(j.lngFromMercatorX(_n),j.latFromMercatorY(Nn));return new j.LngLatBounds(Pn,Xn)}_getBounds(ot,lt){if(this.projection.name==="globe")return this._getGlobeBounds();const Ut=new j.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),kt=new j.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),Ot=new j.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),qt=new j.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let an=this.pointCoordinate(Ut,ot),cn=this.pointCoordinate(kt,ot);const _n=this.pointCoordinate(Ot,lt),Fn=this.pointCoordinate(qt,lt),Qn=(Nn,Yn)=>(Yn.y-Nn.y)/(Yn.x-Nn.x);return an.y>1&&cn.y>=0?an=new j.MercatorCoordinate((1-Fn.y)/Qn(Fn,an)+Fn.x,1):an.y<0&&cn.y<=1&&(an=new j.MercatorCoordinate(-Fn.y/Qn(Fn,an)+Fn.x,0)),cn.y>1&&an.y>=0?cn=new j.MercatorCoordinate((1-_n.y)/Qn(_n,cn)+_n.x,1):cn.y<0&&an.y<=1&&(cn=new j.MercatorCoordinate(-_n.y/Qn(_n,cn)+_n.x,0)),new j.LngLatBounds().extend(this.coordinateLocation(an)).extend(this.coordinateLocation(cn)).extend(this.coordinateLocation(Fn)).extend(this.coordinateLocation(_n))}_getBounds3D(){const ot=this.elevation;if(!ot.visibleDemTiles.length||ot.isUsingMockSource())return this._getBounds(0,0);const lt=ot.visibleDemTiles.reduce((Ut,kt)=>{if(kt.dem){const Ot=kt.dem.tree;Ut.min=Math.min(Ut.min,Ot.minimums[0]),Ut.max=Math.max(Ut.max,Ot.maximums[0])}return Ut},{min:Number.MAX_VALUE,max:0});return this._getBounds(lt.min*ot.exaggeration(),lt.max*ot.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(ot=!0){const lt=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,Ut=this.height/2-lt*(1-this._horizonShift);return ot?Math.max(0,Ut):Ut}getMaxBounds(){return this.maxBounds}setMaxBounds(ot){this.maxBounds=ot,this.minLat=-j.MAX_MERCATOR_LATITUDE,this.maxLat=j.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,ot&&(this.minLat=ot.getSouth(),this.maxLat=ot.getNorth(),this.minLng=ot.getWest(),this.maxLng=ot.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=j.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=j.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=j.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=j.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(ot,lt){return this.projection.createTileMatrix(this,lt,ot)}calculateDistanceTileData(ot){const lt=ot.key,Ut=this._distanceTileDataCache;if(Ut[lt])return Ut[lt];const kt=ot.canonical,Ot=1/this.height,qt=this.cameraWorldSize/this.zoomScale(kt.z),an=(kt.x+Math.pow(2,kt.z)*ot.wrap)*qt,cn=kt.y*qt,_n=this.point,Fn=this.angle,Qn=Math.sin(-Fn),Nn=-Math.cos(-Fn);return Ut[lt]={bearing:[Qn,Nn],center:[(_n.x-an)*Ot,(_n.y-cn)*Ot],scale:qt/j.EXTENT*Ot},Ut[lt]}calculateFogTileMatrix(ot){const lt=ot.key,Ut=this._fogTileMatrixCache;if(Ut[lt])return Ut[lt];const kt=this.projection.createTileMatrix(this,this.cameraWorldSize,ot);return j.multiply(kt,this.worldToFogMatrix,kt),Ut[lt]=new Float32Array(kt),Ut[lt]}calculateProjMatrix(ot,lt=!1){const Ut=ot.key,kt=lt?this._alignedProjMatrixCache:this._projMatrixCache;if(kt[Ut])return kt[Ut];const Ot=this.calculatePosMatrix(ot,this.worldSize);return j.multiply(Ot,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:lt?this.alignedProjMatrix:this.projMatrix,Ot),kt[Ut]=new Float32Array(Ot),kt[Ut]}calculatePixelsToTileUnitsMatrix(ot){const lt=ot.tileID.key,Ut=this._pixelsToTileUnitsCache;if(Ut[lt])return Ut[lt];const kt=function(Ot,qt){const{scale:an}=Ot.tileTransform,cn=an*j.EXTENT/(Ot.tileSize*Math.pow(2,qt.zoom-Ot.tileID.overscaledZ+Ot.tileID.canonical.z));return _n=new Float32Array(4),Nn=(Fn=qt.inverseAdjustmentMatrix)[1],Yn=Fn[2],jn=Fn[3],Pn=(Qn=[cn,cn])[1],_n[0]=Fn[0]*(Xn=Qn[0]),_n[1]=Nn*Xn,_n[2]=Yn*Pn,_n[3]=jn*Pn,_n;var _n,Fn,Qn,Nn,Yn,jn,Xn,Pn}(ot,this);return Ut[lt]=kt,Ut[lt]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const ot=this._elevation;this._updateCameraState();const lt=j.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Ut=this._computeCameraPosition(lt),kt=this._camera.forward(),Ot=j.mercatorZfromAltitude(1,this._center.lat);Ut[2]/=Ot,kt[2]/=Ot,j.normalize(kt,kt);const qt=ot.raycast(Ut,kt,ot.exaggeration());if(qt){const an=j.scaleAndAdd([],Ut,kt,qt),cn=new j.MercatorCoordinate(an[0],an[1],j.mercatorZfromAltitude(an[2],j.latFromMercatorY(an[1]))),_n=(cn.z+j.length([cn.x-Ut[0],cn.y-Ut[1],cn.z-Ut[2]*Ot]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(_n),this._centerAltitude=cn.toAltitude(),this._center=this.coordinateLocation(cn),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const ot=this._elevation;this._updateCameraState();const lt=j.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,Ut=this._computeCameraPosition(lt),kt=ot.getAtPointOrZero(new j.MercatorCoordinate(...Ut)),Ot=this._minimumHeightOverTerrain()*Math.cos(j.degToRad(this._maxPitch)),qt=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*kt;if(qt<Ot){const an=this.locationCoordinate(this._center,this._centerAltitude),cn=[an.x-Ut[0],an.y-Ut[1],an.z-Ut[2]],_n=j.length(cn);cn[2]-=(Ot-qt)/this._pixelsPerMercatorPixel;const Fn=j.length(cn);if(Fn===0)return;j.scale$2(cn,cn,_n/Fn*this._pixelsPerMercatorPixel),this._camera.position=[an.x-cn[0],an.y-cn[1],an.z*this._pixelsPerMercatorPixel-cn[2]],this._camera.orientation=lm(cn,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const ot=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||ot){const Nn=this.center;return Nn.lat=j.clamp(Nn.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!ot)&&(Nn.lng=j.clamp(Nn.lng,this.minLng,this.maxLng)),this.center=Nn,void(this._constraining=!1)}const lt=this._unmodified,{x:Ut,y:kt}=this.point;let Ot=0,qt=Ut,an=kt;const cn=this.width/2,_n=this.height/2,Fn=this.worldMinY*this.scale,Qn=this.worldMaxY*this.scale;if(kt-_n<Fn&&(an=Fn+_n),kt+_n>Qn&&(an=Qn-_n),Qn-Fn<this.height&&(Ot=Math.max(Ot,this.height/(Qn-Fn)),an=(Qn+Fn)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Nn=this.worldMinX*this.scale,Yn=this.worldMaxX*this.scale,jn=this.worldSize/2-(Nn+Yn)/2;qt=(Ut+jn+this.worldSize)%this.worldSize-jn,qt-cn<Nn&&(qt=Nn+cn),qt+cn>Yn&&(qt=Yn-cn),Yn-Nn<this.width&&(Ot=Math.max(Ot,this.width/(Yn-Nn)),qt=(Yn+Nn)/2)}qt===Ut&&an===kt||(this.center=this.unproject(new j.pointGeometry(qt,an))),Ot&&(this.zoom+=this.scaleZoom(Ot)),this._constrainCameraAltitude(),this._unmodified=lt,this._constraining=!1}_minZoomForBounds(){let ot=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(ot=Math.max(ot,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),ot}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const ot=this.centerOffset,lt=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=j.mercatorZfromAltitude(1,this.center.lat)/j.mercatorZfromAltitude(1,j.GLOBE_SCALE_MATCH_LATITUDE));const Ut=Lp(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,Ut),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const kt=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?lt:1),Ot=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);Ot[8]=2*-ot.x/this.width,Ot[9]=2*ot.y/this.height;let qt=j.mul([],Ot,kt);if(this.projection.isReprojectedInTileSpace){const gr=this.locationCoordinate(this.center),tr=j.identity([]);j.translate(tr,tr,[gr.x*this.worldSize,gr.y*this.worldSize,0]),j.multiply(tr,tr,Cm(this)),j.translate(tr,tr,[-gr.x*this.worldSize,-gr.y*this.worldSize,0]),j.multiply(qt,qt,tr),this.inverseAdjustmentMatrix=function(vr){const wr=Cm(vr,!0);return bt([],[wr[0],wr[1],wr[4],wr[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=j.scale([],qt,[this.worldSize,this.worldSize,this.worldSize/lt,1]),this.projMatrix=qt,this.invProjMatrix=j.invert(new Float64Array(16),this.projMatrix);const an=j.invert([],Ot);this.frustumCorners=j.FrustumCorners.fromInvProjectionMatrix(an,this.horizonLineFromTop(),this.height);const cn=new Float32Array(16);j.identity(cn),j.scale(cn,cn,[1,-1,1]),j.rotateX(cn,cn,this._pitch),j.rotateZ(cn,cn,this.angle);const _n=j.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),Fn=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;_n[8]=2*-ot.x/this.width,_n[9]=2*(ot.y+Fn)/this.height,this.skyboxMatrix=j.multiply(cn,_n,cn);const Qn=this.point,Nn=Qn.x,Yn=Qn.y,jn=this.width%2/2,Xn=this.height%2/2,Pn=Math.cos(this.angle),In=Math.sin(this.angle),er=Nn-Math.round(Nn)+Pn*jn+In*Xn,Hn=Yn-Math.round(Yn)+Pn*Xn+In*jn,dr=new Float64Array(qt);if(j.translate(dr,dr,[er>.5?er-1:er,Hn>.5?Hn-1:Hn,0]),this.alignedProjMatrix=dr,qt=j.create(),j.scale(qt,qt,[this.width/2,-this.height/2,1]),j.translate(qt,qt,[1,-1,0]),this.labelPlaneMatrix=qt,qt=j.create(),j.scale(qt,qt,[1,-1,1]),j.translate(qt,qt,[-1,-1,0]),j.scale(qt,qt,[2/this.width,2/this.height,1]),this.glCoordMatrix=qt,this.pixelMatrix=j.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},qt=j.invert(new Float64Array(16),this.pixelMatrix),!qt)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=qt,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=j.calculateGlobeMatrix(this);const gr=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=j.transformMat4(gr,gr,kt),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=qt;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const ot=this.cameraWorldSize,lt=this.cameraPixelsPerMeter,Ut=this._camera.position,kt=1/this.height/this._pixelsPerMercatorPixel,Ot=[ot,ot,lt];j.scale$2(Ot,Ot,kt),j.scale$2(Ut,Ut,-1),j.multiply$2(Ut,Ut,Ot);const qt=j.create();j.translate(qt,qt,Ut),j.scale(qt,qt,Ot),this.mercatorFogMatrix=qt,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(ot,lt,kt)}_computeCameraPosition(ot){const lt=(ot=ot||this.pixelsPerMeter)/this.pixelsPerMeter,Ut=this._camera.forward(),kt=this.point,Ot=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*lt-ot/this.worldSize*this._centerAltitude;return[kt.x/this.worldSize-Ut[0]*Ot,kt.y/this.worldSize-Ut[1]*Ot,ot/this.worldSize*this._centerAltitude-Ut[2]*Ot]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(ot){const lt=this._maxCameraBoundsDistance()*Math.cos(this._pitch),Ut=this._camera.position[2],kt=ot[2];let Ot=1;this.projection.wrap&&(this.center=this.center.wrap()),kt>0&&(Ot=Math.min((lt-Ut)/kt,1)),this._camera.position=j.scaleAndAdd([],this._camera.position,ot,Ot),this._updateStateFromCamera()}_updateStateFromCamera(){const ot=this._camera.position,lt=this._camera.forward(),{pitch:Ut,bearing:kt}=this._camera.getPitchBearing(),Ot=j.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,qt=this._mercatorZfromZoom(this._maxZoom)*Math.cos(j.degToRad(this._maxPitch)),an=Math.max((ot[2]-Ot)/Math.cos(Ut),qt),cn=this._zoomFromMercatorZ(an);j.scaleAndAdd(ot,ot,lt,an),this._pitch=j.clamp(Ut,j.degToRad(this.minPitch),j.degToRad(this.maxPitch)),this.angle=j.wrap(kt,-Math.PI,Math.PI),this._setZoom(j.clamp(cn,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new j.MercatorCoordinate(ot[0],ot[1],ot[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(ot){return Math.pow(2,ot)*this.tileSize}_mercatorZfromZoom(ot){return this.cameraToCenterDistance/this._worldSizeFromZoom(ot)}_minimumHeightOverTerrain(){const ot=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(ot)}_zoomFromMercatorZ(ot){return this.scaleZoom(this.cameraToCenterDistance/(ot*this.tileSize))}zoomFromMercatorZAdjusted(ot){const lt=qt=>{const an=this.getCameraToCenterDistance(this.projection,qt);return this.scaleZoom(an/(ot*this.tileSize))};let Ut,kt=lt(this.zoom),Ot=Math.abs(kt-lt(kt));for(;Ut!==Ot;)kt=lt(kt),Ut=Ot,Ot=Math.abs(kt-lt(kt));return kt}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(j.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(ot,lt){const Ut=Math.min(ot.x,lt.x),kt=Math.max(ot.x,lt.x),Ot=Math.min(ot.y,lt.y),qt=Math.max(ot.y,lt.y);if(Ot<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const an=[new j.pointGeometry(Ut,Ot),new j.pointGeometry(kt,qt),new j.pointGeometry(Ut,qt),new j.pointGeometry(kt,Ot)],cn=this.renderWorldCopies?-3:0,_n=this.renderWorldCopies?4:1;for(const Fn of an){const Qn=this.pointRayIntersection(Fn);if(Qn.t<0)return!0;const Nn=this.rayIntersectionCoordinate(Qn);if(Nn.x<cn||Nn.y<0||Nn.x>_n||Nn.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+j.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new j.pointGeometry(0,0),new j.pointGeometry(this.width,this.height))}zoomDeltaToMovement(ot,lt){const Ut=j.length(j.sub([],this._camera.position,ot)),kt=this._zoomFromMercatorZ(Ut)+lt;return Ut-this._mercatorZfromZoom(kt)}getCameraPoint(){if(this.projection.name==="globe"){const ot=function(lt,Ut){const kt=[lt[0],lt[1],lt[2],1];j.transformMat4$1(kt,kt,Ut);const Ot=Math.max(kt[3],1e-6);return[kt[0]/Ot,kt[1]/Ot,kt[2]/Ot,Ot]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new j.pointGeometry(ot[0],ot[1])}{const ot=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new j.pointGeometry(0,ot))}}getCameraToCenterDistance(ot,lt=this.zoom){const Ut=Lp(ot,lt,this.width,this.height,1024),kt=ot.pixelSpaceConversion(this.center.lat,this.worldSize,Ut);return .5/Math.tan(.5*this._fov)*this.height*kt}getWorldToCameraMatrix(){const ot=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&j.multiply(ot,ot,this.globeMatrix),ot}}function F_(gt,ot){let lt=!1,Ut=null;const kt=()=>{Ut=null,lt&&(gt(),Ut=setTimeout(kt,ot),lt=!1)};return()=>(lt=!0,Ut||kt(),Ut)}class Vy{constructor(ot){this._hashName=ot&&encodeURIComponent(ot),j.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=F_(this._updateHashUnthrottled.bind(this),300)}addTo(ot){return this._map=ot,j.window.addEventListener("hashchange",this._onHashChange,!1),ot.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),j.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const ot=this._map;if(!ot)return"";const lt=sy(ot);if(this._hashName){const Ut=this._hashName;let kt=!1;const Ot=j.window.location.hash.slice(1).split("&").map(qt=>{const an=qt.split("=")[0];return an===Ut?(kt=!0,`${an}=${lt}`):qt}).filter(qt=>qt);return kt||Ot.push(`${Ut}=${lt}`),`#${Ot.join("&")}`}return`#${lt}`}_getCurrentHash(){const ot=j.window.location.hash.replace("#","");if(this._hashName){let lt;return ot.split("&").map(Ut=>Ut.split("=")).forEach(Ut=>{Ut[0]===this._hashName&&(lt=Ut)}),(lt&&lt[1]||"").split("/")}return ot.split("/")}_onHashChange(){const ot=this._map;if(!ot)return!1;const lt=this._getCurrentHash();if(lt.length>=3&&!lt.some(Ut=>isNaN(Ut))){const Ut=ot.dragRotate.isEnabled()&&ot.touchZoomRotate.isEnabled()?+(lt[3]||0):ot.getBearing();return ot.jumpTo({center:[+lt[2],+lt[1]],zoom:+lt[0],bearing:Ut,pitch:+(lt[4]||0)}),!0}return!1}_updateHashUnthrottled(){const ot=j.window.location.href.replace(/(#.+)?$/,this.getHashString());j.window.history.replaceState(j.window.history.state,null,ot)}}function sy(gt,ot){const lt=gt.getCenter(),Ut=Math.round(100*gt.getZoom())/100,kt=Math.ceil((Ut*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ot=Math.pow(10,kt),qt=Math.round(lt.lng*Ot)/Ot,an=Math.round(lt.lat*Ot)/Ot,cn=gt.getBearing(),_n=gt.getPitch();let Fn=ot?`/${qt}/${an}/${Ut}`:`${Ut}/${an}/${qt}`;return(cn||_n)&&(Fn+="/"+Math.round(10*cn)/10),_n&&(Fn+=`/${Math.round(_n)}`),Fn}const hp={linearity:.3,easing:j.bezier(0,0,.3,1)},fv=j.extend({deceleration:2500,maxSpeed:1400},hp),My=j.extend({deceleration:20,maxSpeed:1400},hp),S_=j.extend({deceleration:1e3,maxSpeed:360},hp),U0=j.extend({deceleration:1e3,maxSpeed:90},hp);class Vl{constructor(ot){this._map=ot,this.clear()}clear(){this._inertiaBuffer=[]}record(ot){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:j.exported.now(),settings:ot})}_drainInertiaBuffer(){const ot=this._inertiaBuffer,lt=j.exported.now();for(;ot.length>0&&lt-ot[0].time>160;)ot.shift()}_onMoveEnd(ot){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const lt={zoom:0,bearing:0,pitch:0,pan:new j.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:Ot}of this._inertiaBuffer)lt.zoom+=Ot.zoomDelta||0,lt.bearing+=Ot.bearingDelta||0,lt.pitch+=Ot.pitchDelta||0,Ot.panDelta&&lt.pan._add(Ot.panDelta),Ot.around&&(lt.around=Ot.around),Ot.pinchAround&&(lt.pinchAround=Ot.pinchAround);const Ut=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,kt={};if(lt.pan.mag()){const Ot=Jp(lt.pan.mag(),Ut,j.extend({},fv,ot||{}));kt.offset=lt.pan.mult(Ot.amount/lt.pan.mag()),kt.center=this._map.transform.center,Ml(kt,Ot)}if(lt.zoom){const Ot=Jp(lt.zoom,Ut,My);kt.zoom=this._map.transform.zoom+Ot.amount,Ml(kt,Ot)}if(lt.bearing){const Ot=Jp(lt.bearing,Ut,S_);kt.bearing=this._map.transform.bearing+j.clamp(Ot.amount,-179,179),Ml(kt,Ot)}if(lt.pitch){const Ot=Jp(lt.pitch,Ut,U0);kt.pitch=this._map.transform.pitch+Ot.amount,Ml(kt,Ot)}if(kt.zoom||kt.bearing){const Ot=lt.pinchAround===void 0?lt.around:lt.pinchAround;kt.around=Ot?this._map.unproject(Ot):this._map.getCenter()}return this.clear(),kt.noMoveStart=!0,kt}}function Ml(gt,ot){(!gt.duration||gt.duration<ot.duration)&&(gt.duration=ot.duration,gt.easing=ot.easing)}function Jp(gt,ot,lt){const{maxSpeed:Ut,linearity:kt,deceleration:Ot}=lt,qt=j.clamp(gt*kt/(ot/1e3),-Ut,Ut),an=Math.abs(qt)/(Ot*kt);return{easing:lt.easing,duration:1e3*an,amount:qt*(an/2)}}class Mu extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ot,lt,Ut,kt={}){const Ot=pt(lt.getCanvasContainer(),Ut),qt=lt.unproject(Ot);super(ot,j.extend({point:Ot,lngLat:qt,originalEvent:Ut},kt)),this._defaultPrevented=!1,this.target=lt}}class Ny extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ot,lt,Ut){const kt=ot==="touchend"?Ut.changedTouches:Ut.touches,Ot=Vt(lt.getCanvasContainer(),kt),qt=Ot.map(cn=>lt.unproject(cn)),an=Ot.reduce((cn,_n,Fn,Qn)=>cn.add(_n.div(Qn.length)),new j.pointGeometry(0,0));super(ot,{points:Ot,point:an,lngLats:qt,lngLat:lt.unproject(an),originalEvent:Ut}),this._defaultPrevented=!1}}class pv extends j.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ot,lt,Ut){super(ot,{originalEvent:Ut}),this._defaultPrevented=!1}}class ay{constructor(ot,lt){this._map=ot,this._clickTolerance=lt.clickTolerance}reset(){this._mousedownPos=void 0}wheel(ot){return this._firePreventable(new pv(ot.type,this._map,ot))}mousedown(ot,lt){return this._mousedownPos=lt,this._firePreventable(new Mu(ot.type,this._map,ot))}mouseup(ot){this._map.fire(new Mu(ot.type,this._map,ot))}preclick(ot){const lt=j.extend({},ot);lt.type="preclick",this._map.fire(new Mu(lt.type,this._map,lt))}click(ot,lt){this._mousedownPos&&this._mousedownPos.dist(lt)>=this._clickTolerance||(this.preclick(ot),this._map.fire(new Mu(ot.type,this._map,ot)))}dblclick(ot){return this._firePreventable(new Mu(ot.type,this._map,ot))}mouseover(ot){this._map.fire(new Mu(ot.type,this._map,ot))}mouseout(ot){this._map.fire(new Mu(ot.type,this._map,ot))}touchstart(ot){return this._firePreventable(new Ny(ot.type,this._map,ot))}touchmove(ot){this._map.fire(new Ny(ot.type,this._map,ot))}touchend(ot){this._map.fire(new Ny(ot.type,this._map,ot))}touchcancel(ot){this._map.fire(new Ny(ot.type,this._map,ot))}_firePreventable(ot){if(this._map.fire(ot),ot.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class km{constructor(ot){this._map=ot}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(ot){this._map.fire(new Mu(ot.type,this._map,ot))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Mu("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(ot){this._delayContextMenu?this._contextMenuEvent=ot:this._map.fire(new Mu(ot.type,this._map,ot)),this._map.listens("contextmenu")&&ot.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class b0{constructor(ot,lt){this._map=ot,this._el=ot.getCanvasContainer(),this._container=ot.getContainer(),this._clickTolerance=lt.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(ot,lt){this.isEnabled()&&ot.shiftKey&&ot.button===0&&(Qt(),this._startPos=this._lastPos=lt,this._active=!0)}mousemoveWindow(ot,lt){if(!this._active)return;const Ut=lt,kt=this._startPos,Ot=this._lastPos;if(!kt||!Ot||Ot.equals(Ut)||!this._box&&Ut.dist(kt)<this._clickTolerance)return;this._lastPos=Ut,this._box||(this._box=ft("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",ot));const qt=Math.min(kt.x,Ut.x),an=Math.max(kt.x,Ut.x),cn=Math.min(kt.y,Ut.y),_n=Math.max(kt.y,Ut.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${qt}px,${cn}px)`,this._box.style.width=an-qt+"px",this._box.style.height=_n-cn+"px")})}mouseupWindow(ot,lt){if(!this._active)return;const Ut=this._startPos,kt=lt;if(Ut&&ot.button===0){if(this.reset(),xt(),Ut.x!==kt.x||Ut.y!==kt.y)return this._map.fire(new j.Event("boxzoomend",{originalEvent:ot})),{cameraAnimation:Ot=>Ot.fitScreenCoordinates(Ut,kt,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",ot)}}keydown(ot){this._active&&ot.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",ot))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Dt(),delete this._startPos,delete this._lastPos}_fireEvent(ot,lt){return this._map.fire(new j.Event(ot,{originalEvent:lt}))}}function jp(gt,ot){const lt={};for(let Ut=0;Ut<gt.length;Ut++)lt[gt[Ut].identifier]=ot[Ut];return lt}class hm{constructor(ot){this.reset(),this.numTouches=ot.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(ot,lt,Ut){(this.centroid||Ut.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=ot.timeStamp),Ut.length===this.numTouches&&(this.centroid=function(kt){const Ot=new j.pointGeometry(0,0);for(const qt of kt)Ot._add(qt);return Ot.div(kt.length)}(lt),this.touches=jp(Ut,lt)))}touchmove(ot,lt,Ut){if(this.aborted||!this.centroid)return;const kt=jp(Ut,lt);for(const Ot in this.touches){const qt=this.touches[Ot],an=kt[Ot];(!an||an.dist(qt)>30)&&(this.aborted=!0)}}touchend(ot,lt,Ut){if((!this.centroid||ot.timeStamp-this.startTime>500)&&(this.aborted=!0),Ut.length===0){const kt=!this.aborted&&this.centroid;if(this.reset(),kt)return kt}}}class zp{constructor(ot){this.singleTap=new hm(ot),this.numTaps=ot.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(ot,lt,Ut){this.singleTap.touchstart(ot,lt,Ut)}touchmove(ot,lt,Ut){this.singleTap.touchmove(ot,lt,Ut)}touchend(ot,lt,Ut){const kt=this.singleTap.touchend(ot,lt,Ut);if(kt){const Ot=ot.timeStamp-this.lastTime<500,qt=!this.lastTap||this.lastTap.dist(kt)<30;if(Ot&&qt||this.reset(),this.count++,this.lastTime=ot.timeStamp,this.lastTap=kt,this.count===this.numTaps)return this.reset(),kt}}}class Dy{constructor(){this._zoomIn=new zp({numTouches:1,numTaps:2}),this._zoomOut=new zp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(ot,lt,Ut){this._zoomIn.touchstart(ot,lt,Ut),this._zoomOut.touchstart(ot,lt,Ut)}touchmove(ot,lt,Ut){this._zoomIn.touchmove(ot,lt,Ut),this._zoomOut.touchmove(ot,lt,Ut)}touchend(ot,lt,Ut){const kt=this._zoomIn.touchend(ot,lt,Ut),Ot=this._zoomOut.touchend(ot,lt,Ut);return kt?(this._active=!0,ot.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:qt=>qt.easeTo({duration:300,zoom:qt.getZoom()+1,around:qt.unproject(kt)},{originalEvent:ot})}):Ot?(this._active=!0,ot.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:qt=>qt.easeTo({duration:300,zoom:qt.getZoom()-1,around:qt.unproject(Ot)},{originalEvent:ot})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Vm={0:1,2:2};class F0{constructor(ot){this.reset(),this._clickTolerance=ot.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(ot,lt){return!1}_move(ot,lt){return{}}mousedown(ot,lt){if(this._lastPoint)return;const Ut=nn(ot);this._correctButton(ot,Ut)&&(this._lastPoint=lt,this._eventButton=Ut)}mousemoveWindow(ot,lt){const Ut=this._lastPoint;if(Ut){if(ot.preventDefault(),this._eventButton!=null&&function(kt,Ot){const qt=Vm[Ot];return kt.buttons===void 0||(kt.buttons&qt)!==qt}(ot,this._eventButton))this.reset();else if(this._moved||!(lt.dist(Ut)<this._clickTolerance))return this._moved=!0,this._lastPoint=lt,this._move(Ut,lt)}}mouseupWindow(ot){this._lastPoint&&nn(ot)===this._eventButton&&(this._moved&&xt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class gv extends F0{mousedown(ot,lt){super.mousedown(ot,lt),this._lastPoint&&(this._active=!0)}_correctButton(ot,lt){return lt===0&&!ot.ctrlKey}_move(ot,lt){return{around:lt,panDelta:lt.sub(ot)}}}class R_ extends F0{_correctButton(ot,lt){return lt===0&&ot.ctrlKey||lt===2}_move(ot,lt){const Ut=.8*(lt.x-ot.x);if(Ut)return this._active=!0,{bearingDelta:Ut}}contextmenu(ot){ot.preventDefault()}}class Mm extends F0{_correctButton(ot,lt){return lt===0&&ot.ctrlKey||lt===2}_move(ot,lt){const Ut=-.5*(lt.y-ot.y);if(Ut)return this._active=!0,{pitchDelta:Ut}}contextmenu(ot){ot.preventDefault()}}class mv{constructor(ot,lt){this._map=ot,this._el=ot.getCanvasContainer(),this._minTouches=1,this._clickTolerance=lt.clickTolerance||1,this.reset(),j.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new j.pointGeometry(0,0)}touchstart(ot,lt,Ut){return this._calculateTransform(ot,lt,Ut)}touchmove(ot,lt,Ut){if(this._active&&!(Ut.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(Ut.length===1&&!j.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return ot.cancelable&&ot.preventDefault(),this._calculateTransform(ot,lt,Ut)}}touchend(ot,lt,Ut){this._calculateTransform(ot,lt,Ut),this._active&&Ut.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(ot,lt,Ut){Ut.length>0&&(this._active=!0);const kt=jp(Ut,lt),Ot=new j.pointGeometry(0,0),qt=new j.pointGeometry(0,0);let an=0;for(const _n in kt){const Fn=kt[_n],Qn=this._touches[_n];Qn&&(Ot._add(Fn),qt._add(Fn.sub(Qn)),an++,kt[_n]=Fn)}if(this._touches=kt,an<this._minTouches||!qt.mag())return;const cn=qt.div(an);return this._sum._add(cn),this._sum.mag()<this._clickTolerance?void 0:{around:Ot.div(an),panDelta:cn}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ft("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Nm{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(ot){}_move(ot,lt,Ut){return{}}touchstart(ot,lt,Ut){this._firstTwoTouches||Ut.length<2||(this._firstTwoTouches=[Ut[0].identifier,Ut[1].identifier],this._start([lt[0],lt[1]]))}touchmove(ot,lt,Ut){const kt=this._firstTwoTouches;if(!kt)return;ot.preventDefault();const[Ot,qt]=kt,an=Zp(Ut,lt,Ot),cn=Zp(Ut,lt,qt);if(!an||!cn)return;const _n=this._aroundCenter?null:an.add(cn).div(2);return this._move([an,cn],_n,ot)}touchend(ot,lt,Ut){if(!this._firstTwoTouches)return;const[kt,Ot]=this._firstTwoTouches,qt=Zp(Ut,lt,kt),an=Zp(Ut,lt,Ot);qt&&an||(this._active&&xt(),this.reset())}touchcancel(){this.reset()}enable(ot){this._enabled=!0,this._aroundCenter=!!ot&&ot.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Zp(gt,ot,lt){for(let Ut=0;Ut<gt.length;Ut++)if(gt[Ut].identifier===lt)return ot[Ut]}function S0(gt,ot){return Math.log(gt/ot)/Math.LN2}class Jn extends Nm{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(ot){this._startDistance=this._distance=ot[0].dist(ot[1])}_move(ot,lt){const Ut=this._distance;if(this._distance=ot[0].dist(ot[1]),this._active||!(Math.abs(S0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:S0(this._distance,Ut),pinchAround:lt}}}function dm(gt,ot){return 180*gt.angleWith(ot)/Math.PI}class Jl extends Nm{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(ot){this._startVector=this._vector=ot[0].sub(ot[1]),this._minDiameter=ot[0].dist(ot[1])}_move(ot,lt){const Ut=this._vector;if(this._vector=ot[0].sub(ot[1]),Ut&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:dm(this._vector,Ut),pinchAround:lt}}_isBelowThreshold(ot){this._minDiameter=Math.min(this._minDiameter,ot.mag());const lt=25/(Math.PI*this._minDiameter)*360,Ut=this._startVector;if(!Ut)return!1;const kt=dm(ot,Ut);return Math.abs(kt)<lt}}function Tu(gt){return Math.abs(gt.y)>Math.abs(gt.x)}class Bs extends Nm{constructor(ot){super(),this._map=ot}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(ot){this._lastPoints=ot,Tu(ot[0].sub(ot[1]))&&(this._valid=!1)}_move(ot,lt,Ut){const kt=this._lastPoints;if(!kt)return;const Ot=ot[0].sub(kt[0]),qt=ot[1].sub(kt[1]);return this._map._cooperativeGestures&&!j.isFullscreen()&&Ut.touches.length<3||(this._valid=this.gestureBeginsVertically(Ot,qt,Ut.timeStamp),!this._valid)?void 0:(this._lastPoints=ot,this._active=!0,{pitchDelta:(Ot.y+qt.y)/2*-.5})}gestureBeginsVertically(ot,lt,Ut){if(this._valid!==void 0)return this._valid;const kt=ot.mag()>=2,Ot=lt.mag()>=2;if(!kt&&!Ot)return;if(!kt||!Ot)return this._firstMove==null&&(this._firstMove=Ut),Ut-this._firstMove<100&&void 0;const qt=ot.y>0==lt.y>0;return Tu(ot)&&Tu(lt)&&qt}}const EU={panStep:100,bearingStep:15,pitchStep:10};class TU{constructor(){const ot=EU;this._panStep=ot.panStep,this._bearingStep=ot.bearingStep,this._pitchStep=ot.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(ot){if(ot.altKey||ot.ctrlKey||ot.metaKey)return;let lt=0,Ut=0,kt=0,Ot=0,qt=0;switch(ot.keyCode){case 61:case 107:case 171:case 187:lt=1;break;case 189:case 109:case 173:lt=-1;break;case 37:ot.shiftKey?Ut=-1:(ot.preventDefault(),Ot=-1);break;case 39:ot.shiftKey?Ut=1:(ot.preventDefault(),Ot=1);break;case 38:ot.shiftKey?kt=1:(ot.preventDefault(),qt=-1);break;case 40:ot.shiftKey?kt=-1:(ot.preventDefault(),qt=1);break;default:return}return this._rotationDisabled&&(Ut=0,kt=0),{cameraAnimation:an=>{const cn=an.getZoom();an.easeTo({duration:300,easeId:"keyboardHandler",easing:Gp,zoom:lt?Math.round(cn)+lt*(ot.shiftKey?2:1):cn,bearing:an.getBearing()+Ut*this._bearingStep,pitch:an.getPitch()+kt*this._pitchStep,offset:[-Ot*this._panStep,-qt*this._panStep],center:an.getCenter()},{originalEvent:ot})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Gp(gt){return gt*(2-gt)}const Hp=4.000244140625;class ly{constructor(ot,lt){this._map=ot,this._el=ot.getCanvasContainer(),this._handler=lt,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,j.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(ot){this._defaultZoomRate=ot}setWheelZoomRate(ot){this._wheelZoomRate=ot}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(ot){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!ot&&ot.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(ot){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(ot.ctrlKey||ot.metaKey||this.isZooming()||j.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let lt=ot.deltaMode===j.window.WheelEvent.DOM_DELTA_LINE?40*ot.deltaY:ot.deltaY;const Ut=j.exported.now(),kt=Ut-(this._lastWheelEventTime||0);this._lastWheelEventTime=Ut,lt!==0&&lt%Hp==0?this._type="wheel":lt!==0&&Math.abs(lt)<4?this._type="trackpad":kt>400?(this._type=null,this._lastValue=lt,this._timeout=setTimeout(this._onTimeout,40,ot)):this._type||(this._type=Math.abs(kt*lt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,lt+=this._lastValue)),ot.shiftKey&&lt&&(lt/=4),this._type&&(this._lastWheelEvent=ot,this._delta-=lt,this._active||this._start(ot)),ot.preventDefault()}_onTimeout(ot){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(ot)}_start(ot){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const lt=pt(this._el,ot);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:lt,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const ot=this._map.transform;this._type==="wheel"&&ot.projection.wrap&&(ot._center.lng>=180||ot._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const lt=()=>ot._terrainEnabled()&&this._aroundCoord?ot.computeZoomRelativeTo(this._aroundCoord):ot.zoom;if(this._delta!==0){const cn=this._type==="wheel"&&Math.abs(this._delta)>Hp?this._wheelZoomRate:this._defaultZoomRate;let _n=2/(1+Math.exp(-Math.abs(this._delta*cn)));this._delta<0&&_n!==0&&(_n=1/_n);const Fn=lt(),Qn=Math.pow(2,Fn),Nn=typeof this._targetZoom=="number"?ot.zoomScale(this._targetZoom):Qn;this._targetZoom=Math.min(ot.maxZoom,Math.max(ot.minZoom,ot.scaleZoom(Nn*_n))),this._type==="wheel"&&(this._startZoom=Fn,this._easing=this._smoothOutEasing(200)),this._delta=0}const Ut=typeof this._targetZoom=="number"?this._targetZoom:lt(),kt=this._startZoom,Ot=this._easing;let qt,an=!1;if(this._type==="wheel"&&kt&&Ot){const cn=Math.min((j.exported.now()-this._lastWheelEventTime)/200,1),_n=Ot(cn);qt=j.number(kt,Ut,_n),cn<1?this._frameId||(this._frameId=!0):an=!0}else qt=Ut,an=!0;return this._active=!0,an&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!an,zoomDelta:qt-lt(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(ot){let lt=j.ease;if(this._prevEase){const Ut=this._prevEase,kt=(j.exported.now()-Ut.start)/Ut.duration,Ot=Ut.easing(kt+.01)-Ut.easing(kt),qt=.27/Math.sqrt(Ot*Ot+1e-4)*.01,an=Math.sqrt(.0729-qt*qt);lt=j.bezier(qt,an,.25,1)}return this._prevEase={start:j.exported.now(),duration:ot,easing:lt},lt}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ft("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(j.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Bp{constructor(ot,lt){this._clickZoom=ot,this._tapZoom=lt}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class R0{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(ot,lt){return ot.preventDefault(),{cameraAnimation:Ut=>{Ut.easeTo({duration:300,zoom:Ut.getZoom()+(ot.shiftKey?-1:1),around:Ut.unproject(lt)},{originalEvent:ot})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wo{constructor(){this._tap=new zp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(ot,lt,Ut){this._swipePoint||(this._tapTime&&ot.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?Ut.length>0&&(this._swipePoint=lt[0],this._swipeTouch=Ut[0].identifier):this._tap.touchstart(ot,lt,Ut))}touchmove(ot,lt,Ut){if(this._tapTime){if(this._swipePoint){if(Ut[0].identifier!==this._swipeTouch)return;const kt=lt[0],Ot=kt.y-this._swipePoint.y;return this._swipePoint=kt,ot.preventDefault(),this._active=!0,{zoomDelta:Ot/128}}}else this._tap.touchmove(ot,lt,Ut)}touchend(ot,lt,Ut){this._tapTime?this._swipePoint&&Ut.length===0&&this.reset():this._tap.touchend(ot,lt,Ut)&&(this._tapTime=ot.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yv{constructor(ot,lt,Ut){this._el=ot,this._mousePan=lt,this._touchPan=Ut}enable(ot){this._inertiaOptions=ot||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ep{constructor(ot,lt,Ut){this._pitchWithRotate=ot.pitchWithRotate,this._mouseRotate=lt,this._mousePitch=Ut}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Oy{constructor(ot,lt,Ut,kt){this._el=ot,this._touchZoom=lt,this._touchRotate=Ut,this._tapDragZoom=kt,this._rotationDisabled=!1,this._enabled=!0}enable(ot){this._touchZoom.enable(ot),this._rotationDisabled||this._touchRotate.enable(ot),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const fm=gt=>gt.zoom||gt.drag||gt.pitch||gt.rotate;class _v extends j.Event{}class vv{constructor(){this.constants=[1,1,.01],this.radius=0}setup(ot,lt){const Ut=j.sub([],lt,ot);this.radius=j.length(Ut[2]<0?j.div([],Ut,this.constants):[Ut[0],Ut[1],0])}projectRay(ot){j.div(ot,ot,this.constants),j.normalize(ot,ot),j.mul$1(ot,ot,this.constants);const lt=j.scale$2([],ot,this.radius);if(lt[2]>0){const Ut=j.scale$2([],[0,0,1],j.dot(lt,[0,0,1])),kt=j.scale$2([],j.normalize([],[lt[0],lt[1],0]),this.radius),Ot=j.add([],lt,j.scale$2([],j.sub([],j.add([],kt,Ut),lt),2));lt[0]=Ot[0],lt[1]=Ot[1]}return lt}}function Iy(gt){return gt.panDelta&&gt.panDelta.mag()||gt.zoomDelta||gt.bearingDelta||gt.pitchDelta}class Tp{constructor(ot,lt){this._map=ot,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Vl(ot),this._bearingSnap=lt.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new vv,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(lt),j.bindAll(["handleEvent","handleWindowEvent"],this);const Ut=this._el;this._listeners=[[Ut,"touchstart",{passive:!0}],[Ut,"touchmove",{passive:!1}],[Ut,"touchend",void 0],[Ut,"touchcancel",void 0],[Ut,"mousedown",void 0],[Ut,"mousemove",void 0],[Ut,"mouseup",void 0],[j.window.document,"mousemove",{capture:!0}],[j.window.document,"mouseup",void 0],[Ut,"mouseover",void 0],[Ut,"mouseout",void 0],[Ut,"dblclick",void 0],[Ut,"click",void 0],[Ut,"keydown",{capture:!1}],[Ut,"keyup",void 0],[Ut,"wheel",{passive:!1}],[Ut,"contextmenu",void 0],[j.window,"blur",void 0]];for(const[kt,Ot,qt]of this._listeners)kt.addEventListener(Ot,kt===j.window.document?this.handleWindowEvent:this.handleEvent,qt)}destroy(){for(const[ot,lt,Ut]of this._listeners)ot.removeEventListener(lt,ot===j.window.document?this.handleWindowEvent:this.handleEvent,Ut)}_addDefaultHandlers(ot){const lt=this._map,Ut=lt.getCanvasContainer();this._add("mapEvent",new ay(lt,ot));const kt=lt.boxZoom=new b0(lt,ot);this._add("boxZoom",kt);const Ot=new Dy,qt=new R0;lt.doubleClickZoom=new Bp(qt,Ot),this._add("tapZoom",Ot),this._add("clickZoom",qt);const an=new wo;this._add("tapDragZoom",an);const cn=lt.touchPitch=new Bs(lt);this._add("touchPitch",cn);const _n=new R_(ot),Fn=new Mm(ot);lt.dragRotate=new Ep(ot,_n,Fn),this._add("mouseRotate",_n,["mousePitch"]),this._add("mousePitch",Fn,["mouseRotate"]);const Qn=new gv(ot),Nn=new mv(lt,ot);lt.dragPan=new yv(Ut,Qn,Nn),this._add("mousePan",Qn),this._add("touchPan",Nn,["touchZoom","touchRotate"]);const Yn=new Jl,jn=new Jn;lt.touchZoomRotate=new Oy(Ut,jn,Yn,an),this._add("touchRotate",Yn,["touchPan","touchZoom"]),this._add("touchZoom",jn,["touchPan","touchRotate"]),this._add("blockableMapEvent",new km(lt));const Xn=lt.scrollZoom=new ly(lt,this);this._add("scrollZoom",Xn,["mousePan"]);const Pn=lt.keyboard=new TU;this._add("keyboard",Pn);for(const In of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])ot.interactive&&ot[In]&&lt[In].enable(ot[In])}_add(ot,lt,Ut){this._handlers.push({handlerName:ot,handler:lt,allowed:Ut}),this._handlersById[ot]=lt}stop(ot){if(!this._updatingCamera){for(const{handler:lt}of this._handlers)lt.reset();this._inertia.clear(),this._fireEvents({},{},ot),this._changes=[]}}isActive(){for(const{handler:ot}of this._handlers)if(ot.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!fm(this._eventsInProgress)||this.isZooming()}_blockedByActive(ot,lt,Ut){for(const kt in ot)if(kt!==Ut&&(!lt||lt.indexOf(kt)<0))return!0;return!1}handleWindowEvent(ot){this.handleEvent(ot,`${ot.type}Window`)}_getMapTouches(ot){const lt=[];for(const Ut of ot)this._el.contains(Ut.target)&&lt.push(Ut);return lt}handleEvent(ot,lt){this._updatingCamera=!0;const Ut=ot.type==="renderFrame",kt=Ut?void 0:ot,Ot={needsRenderFrame:!1},qt={},an={},cn=ot.touches?this._getMapTouches(ot.touches):void 0,_n=cn?Vt(this._el,cn):Ut?void 0:pt(this._el,ot);for(const{handlerName:Nn,handler:Yn,allowed:jn}of this._handlers){if(!Yn.isEnabled())continue;let Xn;this._blockedByActive(an,jn,Nn)?Yn.reset():Yn[lt||ot.type]&&(Xn=Yn[lt||ot.type](ot,_n,cn),this.mergeHandlerResult(Ot,qt,Xn,Nn,kt),Xn&&Xn.needsRenderFrame&&this._triggerRenderFrame()),(Xn||Yn.isActive())&&(an[Nn]=Yn)}const Fn={};for(const Nn in this._previousActiveHandlers)an[Nn]||(Fn[Nn]=kt);this._previousActiveHandlers=an,(Object.keys(Fn).length||Iy(Ot))&&(this._changes.push([Ot,qt,Fn]),this._triggerRenderFrame()),(Object.keys(an).length||Iy(Ot))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Qn}=Ot;Qn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Qn(this._map))}mergeHandlerResult(ot,lt,Ut,kt,Ot){if(!Ut)return;j.extend(ot,Ut);const qt={handlerName:kt,originalEvent:Ut.originalEvent||Ot};Ut.zoomDelta!==void 0&&(lt.zoom=qt),Ut.panDelta!==void 0&&(lt.drag=qt),Ut.pitchDelta!==void 0&&(lt.pitch=qt),Ut.bearingDelta!==void 0&&(lt.rotate=qt)}_applyChanges(){const ot={},lt={},Ut={};for(const[kt,Ot,qt]of this._changes)kt.panDelta&&(ot.panDelta=(ot.panDelta||new j.pointGeometry(0,0))._add(kt.panDelta)),kt.zoomDelta&&(ot.zoomDelta=(ot.zoomDelta||0)+kt.zoomDelta),kt.bearingDelta&&(ot.bearingDelta=(ot.bearingDelta||0)+kt.bearingDelta),kt.pitchDelta&&(ot.pitchDelta=(ot.pitchDelta||0)+kt.pitchDelta),kt.around!==void 0&&(ot.around=kt.around),kt.aroundCoord!==void 0&&(ot.aroundCoord=kt.aroundCoord),kt.pinchAround!==void 0&&(ot.pinchAround=kt.pinchAround),kt.noInertia&&(ot.noInertia=kt.noInertia),j.extend(lt,Ot),j.extend(Ut,qt);this._updateMapTransform(ot,lt,Ut),this._changes=[]}_updateMapTransform(ot,lt,Ut){const kt=this._map,Ot=kt.transform,qt=er=>[er.x,er.y,er.z];if((er=>{const Hn=this._eventsInProgress.drag;return Hn&&!this._handlersById[Hn.handlerName].isActive()})()&&!Iy(ot)){const er=Ot.zoom;Ot.cameraElevationReference="sea",Ot.recenterOnTerrain(),Ot.cameraElevationReference="ground",er!==Ot.zoom&&this._map._update(!0)}if(!Iy(ot))return void this._fireEvents(lt,Ut,!0);let{panDelta:an,zoomDelta:cn,bearingDelta:_n,pitchDelta:Fn,around:Qn,aroundCoord:Nn,pinchAround:Yn}=ot;Yn!==void 0&&(Qn=Yn),(er=>lt.drag&&!this._eventsInProgress.drag)()&&Qn&&(this._dragOrigin=qt(Ot.pointCoordinate3D(Qn)),this._trackingEllipsoid.setup(Ot._camera.position,this._dragOrigin)),Ot.cameraElevationReference="sea",kt._stop(!0),Qn=Qn||kt.transform.centerPoint,_n&&(Ot.bearing+=_n),Fn&&(Ot.pitch+=Fn),Ot._updateCameraState();const jn=[0,0,0];if(an)if(Ot.projection.name==="mercator"){const er=this._trackingEllipsoid.projectRay(Ot.screenPointToMercatorRay(Qn).dir),Hn=this._trackingEllipsoid.projectRay(Ot.screenPointToMercatorRay(Qn.sub(an)).dir);jn[0]=Hn[0]-er[0],jn[1]=Hn[1]-er[1]}else{const er=Ot.pointCoordinate(Qn);if(Ot.projection.name==="globe"){an=an.rotate(-Ot.angle);const Hn=Ot._pixelsPerMercatorPixel/Ot.worldSize;jn[0]=-an.x*j.mercatorScale(j.latFromMercatorY(er.y))*Hn,jn[1]=-an.y*j.mercatorScale(Ot.center.lat)*Hn}else{const Hn=Ot.pointCoordinate(Qn.sub(an));er&&Hn&&(jn[0]=Hn.x-er.x,jn[1]=Hn.y-er.y)}}const Xn=Ot.zoom,Pn=[0,0,0];if(cn){const er=qt(Nn||Ot.pointCoordinate3D(Qn)),Hn={dir:j.normalize([],j.sub([],er,Ot._camera.position))};if(Hn.dir[2]<0){const dr=Ot.zoomDeltaToMovement(er,cn);j.scale$2(Pn,Hn.dir,dr)}}const In=j.add(jn,jn,Pn);Ot._translateCameraConstrained(In),cn&&Math.abs(Ot.zoom-Xn)>1e-4&&Ot.recenterOnTerrain(),Ot.cameraElevationReference="ground",this._map._update(),ot.noInertia||this._inertia.record(ot),this._fireEvents(lt,Ut,!0)}_fireEvents(ot,lt,Ut){const kt=fm(this._eventsInProgress),Ot=fm(ot),qt={};for(const Fn in ot){const{originalEvent:Qn}=ot[Fn];this._eventsInProgress[Fn]||(qt[`${Fn}start`]=Qn),this._eventsInProgress[Fn]=ot[Fn]}!kt&&Ot&&this._fireEvent("movestart",Ot.originalEvent);for(const Fn in qt)this._fireEvent(Fn,qt[Fn]);Ot&&this._fireEvent("move",Ot.originalEvent);for(const Fn in ot){const{originalEvent:Qn}=ot[Fn];this._fireEvent(Fn,Qn)}const an={};let cn;for(const Fn in this._eventsInProgress){const{handlerName:Qn,originalEvent:Nn}=this._eventsInProgress[Fn];this._handlersById[Qn].isActive()||(delete this._eventsInProgress[Fn],cn=lt[Qn]||Nn,an[`${Fn}end`]=cn)}for(const Fn in an)this._fireEvent(Fn,an[Fn]);const _n=fm(this._eventsInProgress);if(Ut&&(kt||Ot)&&!_n){this._updatingCamera=!0;const Fn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Qn=Nn=>Nn!==0&&-this._bearingSnap<Nn&&Nn<this._bearingSnap;Fn?(Qn(Fn.bearing||this._map.getBearing())&&(Fn.bearing=0),this._map.easeTo(Fn,{originalEvent:cn})):(this._map.fire(new j.Event("moveend",{originalEvent:cn})),Qn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(ot,lt){this._map.fire(new j.Event(ot,lt?{originalEvent:lt}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(ot=>{this._frameId=void 0,this.handleEvent(new _v("renderFrame",{timeStamp:ot})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const w_="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Uv extends j.Evented{constructor(ot,lt){super(),this._moving=!1,this._zooming=!1,this.transform=ot,this._bearingSnap=lt.bearingSnap,j.bindAll(["_renderFrameCallback"],this)}getCenter(){return new j.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(ot,lt){return this.jumpTo({center:ot},lt)}panBy(ot,lt,Ut){return ot=j.pointGeometry.convert(ot).mult(-1),this.panTo(this.transform.center,j.extend({offset:ot},lt),Ut)}panTo(ot,lt,Ut){return this.easeTo(j.extend({center:ot},lt),Ut)}getZoom(){return this.transform.zoom}setZoom(ot,lt){return this.jumpTo({zoom:ot},lt),this}zoomTo(ot,lt,Ut){return this.easeTo(j.extend({zoom:ot},lt),Ut)}zoomIn(ot,lt){return this.zoomTo(this.getZoom()+1,ot,lt),this}zoomOut(ot,lt){return this.zoomTo(this.getZoom()-1,ot,lt),this}getBearing(){return this.transform.bearing}setBearing(ot,lt){return this.jumpTo({bearing:ot},lt),this}getPadding(){return this.transform.padding}setPadding(ot,lt){return this.jumpTo({padding:ot},lt),this}rotateTo(ot,lt,Ut){return this.easeTo(j.extend({bearing:ot},lt),Ut)}resetNorth(ot,lt){return this.rotateTo(0,j.extend({duration:1e3},ot),lt),this}resetNorthPitch(ot,lt){return this.easeTo(j.extend({bearing:0,pitch:0,duration:1e3},ot),lt),this}snapToNorth(ot,lt){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ot,lt):this}getPitch(){return this.transform.pitch}setPitch(ot,lt){return this.jumpTo({pitch:ot},lt),this}cameraForBounds(ot,lt){ot=j.LngLatBounds.convert(ot);const Ut=lt&&lt.bearing||0,kt=ot.getNorthWest(),Ot=ot.getSouthEast();return this._cameraForBounds(this.transform,kt,Ot,Ut,lt)}_extendCameraOptions(ot){const lt={top:0,bottom:0,right:0,left:0};if(typeof(ot=j.extend({padding:lt,offset:[0,0],maxZoom:this.transform.maxZoom},ot)).padding=="number"){const Ut=ot.padding;ot.padding={top:Ut,bottom:Ut,right:Ut,left:Ut}}return ot.padding=j.extend(lt,ot.padding),ot}_minimumAABBFrustumDistance(ot,lt){const Ut=lt.max[0]-lt.min[0],kt=lt.max[1]-lt.min[1];return Ut/kt>ot.aspect?Ut/(2*Math.tan(.5*ot.fovX)*ot.aspect):kt/(2*Math.tan(.5*ot.fovY)*ot.aspect)}_cameraForBoundsOnGlobe(ot,lt,Ut,kt,Ot){const qt=ot.clone(),an=this._extendCameraOptions(Ot);qt.bearing=kt;const cn=j.LngLat.convert(lt),_n=j.LngLat.convert(Ut),Fn=.5*(cn.lat+_n.lat),Qn=.5*(cn.lng+_n.lng),Nn=j.latLngToECEF(Fn,Qn),Yn=j.normalize([],Nn),jn=j.normalize([],j.cross([],Yn,[0,1,0])),Xn=j.cross([],jn,Yn),Pn=[jn[0],jn[1],jn[2],0,Xn[0],Xn[1],Xn[2],0,Yn[0],Yn[1],Yn[2],0,0,0,0,1],In=[Nn,j.latLngToECEF(cn.lat,cn.lng),j.latLngToECEF(_n.lat,cn.lng),j.latLngToECEF(_n.lat,_n.lng),j.latLngToECEF(cn.lat,_n.lng),j.latLngToECEF(Fn,cn.lng),j.latLngToECEF(Fn,_n.lng),j.latLngToECEF(cn.lat,Qn),j.latLngToECEF(_n.lat,Qn)];let er=j.Aabb.fromPoints(In.map(uo=>[j.dot(jn,uo),j.dot(Xn,uo),j.dot(Yn,uo)]));const Hn=j.transformMat4([],er.center,Pn);j.squaredLength(Hn)===0&&j.set(Hn,0,0,1),j.normalize(Hn,Hn),j.scale$2(Hn,Hn,j.GLOBE_RADIUS),qt.center=j.ecefToLatLng(Hn);const dr=qt.getWorldToCameraMatrix(),gr=j.invert(new Float64Array(16),dr);er=j.Aabb.applyTransform(er,j.multiply([],dr,Pn)),j.transformMat4(Hn,Hn,dr);const tr=.5*(er.max[2]-er.min[2]),vr=this._minimumAABBFrustumDistance(qt,er),wr=j.scale$2([],[0,0,1],tr),Mr=j.add(wr,Hn,wr),kr=vr+(qt.pitch===0?0:j.distance(Hn,Mr)),oo=qt.globeCenterInViewSpace,Rr=j.sub([],Hn,[oo[0],oo[1],oo[2]]);j.normalize(Rr,Rr),j.scale$2(Rr,Rr,kr);const Zr=j.add([],Hn,Rr);j.transformMat4(Zr,Zr,gr);const Gr=j.earthRadius/j.GLOBE_RADIUS,xr=j.length(Zr),Fr=j.mercatorZfromAltitude(xr*Gr-j.earthRadius,0),yo=Math.min(qt.zoomFromMercatorZAdjusted(Fr),an.maxZoom);return yo>.5*(j.GLOBE_ZOOM_THRESHOLD_MIN+j.GLOBE_ZOOM_THRESHOLD_MAX)?(qt.setProjection({name:"mercator"}),qt.zoom=yo,this._cameraForBounds(qt,lt,Ut,kt,Ot)):{center:qt.center,zoom:yo,bearing:kt}}queryTerrainElevation(ot,lt){const Ut=this.transform.elevation;return Ut?(lt=j.extend({},{exaggerated:!0},lt),Ut.getAtPoint(j.MercatorCoordinate.fromLngLat(ot),null,lt.exaggerated)):null}_cameraForBounds(ot,lt,Ut,kt,Ot){if(ot.projection.name==="globe")return this._cameraForBoundsOnGlobe(ot,lt,Ut,kt,Ot);const qt=ot.clone(),an=this._extendCameraOptions(Ot),cn=qt.padding;qt.bearing=kt;const _n=j.LngLat.convert(lt),Fn=j.LngLat.convert(Ut),Qn=new j.LngLat(_n.lng,Fn.lat),Nn=new j.LngLat(Fn.lng,_n.lat),Yn=qt.project(_n),jn=qt.project(Fn),Xn=this.queryTerrainElevation(_n),Pn=this.queryTerrainElevation(Fn),In=this.queryTerrainElevation(Qn),er=this.queryTerrainElevation(Nn),Hn=[[Yn.x,Yn.y,Math.min(Xn||0,Pn||0,In||0,er||0)],[jn.x,jn.y,Math.max(Xn||0,Pn||0,In||0,er||0)]];let dr=j.Aabb.fromPoints(Hn);const gr=qt.getWorldToCameraMatrix(),tr=j.invert(new Float64Array(16),gr);dr=j.Aabb.applyTransform(dr,gr);const vr=j.sub([],dr.max,dr.min),wr=cn.left||0,Mr=cn.right||0,kr=cn.bottom||0,oo=cn.top||0,{left:Rr,right:Zr,top:Gr,bottom:xr}=an.padding,Fr=.5*(wr+Mr),yo=.5*(oo+kr),uo=Math.min(qt.scaleZoom(qt.scale*Math.min((qt.width-(wr+Mr+Rr+Zr))/vr[0],(qt.height-(kr+oo+xr+Gr))/vr[1])),an.maxZoom),fo=qt.scale/qt.zoomScale(uo);dr=new j.Aabb([dr.min[0]-(Rr+Fr)*fo,dr.min[1]-(xr+yo)*fo,dr.min[2]],[dr.max[0]+(Zr+Fr)*fo,dr.max[1]+(Gr+yo)*fo,dr.max[2]]);const co=.5*vr[2],ko=this._minimumAABBFrustumDistance(qt,dr),Lo=[0,0,1,0];j.transformMat4$1(Lo,Lo,gr),j.normalize$2(Lo,Lo);const Wo=j.scale$2([],Lo,ko+co),Do=j.add([],dr.center,Wo),ho=(typeof an.offset.x=="number"&&typeof an.offset.y=="number"?new j.pointGeometry(an.offset.x,an.offset.y):j.pointGeometry.convert(an.offset)).rotate(-j.degToRad(kt));dr.center[0]-=ho.x*fo,dr.center[1]+=ho.y*fo,j.transformMat4(dr.center,dr.center,tr),j.transformMat4(Do,Do,tr);const $o=[dr.center[0],dr.center[1],Do[2]*qt.pixelsPerMeter];j.scale$2($o,$o,1/qt.worldSize);const us=j.lngFromMercatorX($o[0]),Ns=j.latFromMercatorY($o[1]),Ps=Math.min(qt._zoomFromMercatorZ($o[2]),an.maxZoom),As=new j.LngLat(us,Ns);return qt.mercatorFromTransition&&Ps<.5*(j.GLOBE_ZOOM_THRESHOLD_MIN+j.GLOBE_ZOOM_THRESHOLD_MAX)?(qt.setProjection({name:"globe"}),qt.zoom=Ps,this._cameraForBounds(qt,lt,Ut,kt,Ot)):{center:As,zoom:Ps,bearing:kt}}fitBounds(ot,lt,Ut){const kt=this.cameraForBounds(ot,lt);return this._fitInternal(kt,lt,Ut)}fitScreenCoordinates(ot,lt,Ut,kt,Ot){const qt=j.pointGeometry.convert(ot),an=j.pointGeometry.convert(lt),cn=new j.pointGeometry(Math.min(qt.x,an.x),Math.min(qt.y,an.y)),_n=new j.pointGeometry(Math.max(qt.x,an.x),Math.max(qt.y,an.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(qt,an))return this;const Fn=this.transform.pointLocation3D(cn),Qn=this.transform.pointLocation3D(_n),Nn=this.transform.pointLocation3D(new j.pointGeometry(cn.x,_n.y)),Yn=this.transform.pointLocation3D(new j.pointGeometry(_n.x,cn.y)),jn=[Math.min(Fn.lng,Qn.lng,Nn.lng,Yn.lng),Math.min(Fn.lat,Qn.lat,Nn.lat,Yn.lat)],Xn=[Math.max(Fn.lng,Qn.lng,Nn.lng,Yn.lng),Math.max(Fn.lat,Qn.lat,Nn.lat,Yn.lat)],Pn=this._cameraForBounds(this.transform,jn,Xn,Ut,kt);return this._fitInternal(Pn,kt,Ot)}_fitInternal(ot,lt,Ut){return ot?(delete(lt=j.extend(ot,lt)).padding,lt.linear?this.easeTo(lt,Ut):this.flyTo(lt,Ut)):this}jumpTo(ot,lt){this.stop();const Ut=ot.preloadOnly?this.transform.clone():this.transform;let kt=!1,Ot=!1,qt=!1;return"zoom"in ot&&Ut.zoom!==+ot.zoom&&(kt=!0,Ut.zoom=+ot.zoom),ot.center!==void 0&&(Ut.center=j.LngLat.convert(ot.center)),"bearing"in ot&&Ut.bearing!==+ot.bearing&&(Ot=!0,Ut.bearing=+ot.bearing),"pitch"in ot&&Ut.pitch!==+ot.pitch&&(qt=!0,Ut.pitch=+ot.pitch),ot.padding==null||Ut.isPaddingEqual(ot.padding)||(Ut.padding=ot.padding),ot.preloadOnly?(this._preloadTiles(Ut),this):(this.fire(new j.Event("movestart",lt)).fire(new j.Event("move",lt)),kt&&this.fire(new j.Event("zoomstart",lt)).fire(new j.Event("zoom",lt)).fire(new j.Event("zoomend",lt)),Ot&&this.fire(new j.Event("rotatestart",lt)).fire(new j.Event("rotate",lt)).fire(new j.Event("rotateend",lt)),qt&&this.fire(new j.Event("pitchstart",lt)).fire(new j.Event("pitch",lt)).fire(new j.Event("pitchend",lt)),this.fire(new j.Event("moveend",lt)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||j.warnOnce(w_),this.transform.getFreeCameraOptions()}setFreeCameraOptions(ot,lt){const Ut=this.transform;if(!Ut.projection.supportsFreeCamera)return j.warnOnce(w_),this;this.stop();const kt=Ut.zoom,Ot=Ut.pitch,qt=Ut.bearing;Ut.setFreeCameraOptions(ot);const an=kt!==Ut.zoom,cn=Ot!==Ut.pitch,_n=qt!==Ut.bearing;return this.fire(new j.Event("movestart",lt)).fire(new j.Event("move",lt)),an&&this.fire(new j.Event("zoomstart",lt)).fire(new j.Event("zoom",lt)).fire(new j.Event("zoomend",lt)),_n&&this.fire(new j.Event("rotatestart",lt)).fire(new j.Event("rotate",lt)).fire(new j.Event("rotateend",lt)),cn&&this.fire(new j.Event("pitchstart",lt)).fire(new j.Event("pitch",lt)).fire(new j.Event("pitchend",lt)),this.fire(new j.Event("moveend",lt)),this}easeTo(ot,lt){this._stop(!1,ot.easeId),((ot=j.extend({offset:[0,0],duration:500,easing:j.ease},ot)).animate===!1||!ot.essential&&j.exported.prefersReducedMotion)&&(ot.duration=0);const Ut=this.transform,kt=this.getZoom(),Ot=this.getBearing(),qt=this.getPitch(),an=this.getPadding(),cn="zoom"in ot?+ot.zoom:kt,_n="bearing"in ot?this._normalizeBearing(ot.bearing,Ot):Ot,Fn="pitch"in ot?+ot.pitch:qt,Qn="padding"in ot?ot.padding:Ut.padding,Nn=j.pointGeometry.convert(ot.offset);let Yn,jn,Xn;if(Ut.projection.name==="globe"){const Mr=j.MercatorCoordinate.fromLngLat(Ut.center),kr=Nn.rotate(-Ut.angle);Mr.x+=kr.x/Ut.worldSize,Mr.y+=kr.y/Ut.worldSize;const oo=Mr.toLngLat(),Rr=j.LngLat.convert(ot.center||oo);this._normalizeCenter(Rr),Yn=Ut.centerPoint.add(kr),jn=new j.pointGeometry(Mr.x,Mr.y).mult(Ut.worldSize),Xn=new j.pointGeometry(j.mercatorXfromLng(Rr.lng),j.mercatorYfromLat(Rr.lat)).mult(Ut.worldSize).sub(jn)}else{Yn=Ut.centerPoint.add(Nn);const Mr=Ut.pointLocation(Yn),kr=j.LngLat.convert(ot.center||Mr);this._normalizeCenter(kr),jn=Ut.project(Mr),Xn=Ut.project(kr).sub(jn)}const Pn=Ut.zoomScale(cn-kt);let In,er;ot.around&&(In=j.LngLat.convert(ot.around),er=Ut.locationPoint(In));const Hn=this._zooming||cn!==kt,dr=this._rotating||Ot!==_n,gr=this._pitching||Fn!==qt,tr=!Ut.isPaddingEqual(Qn),vr=Mr=>kr=>{if(Hn&&(Mr.zoom=j.number(kt,cn,kr)),dr&&(Mr.bearing=j.number(Ot,_n,kr)),gr&&(Mr.pitch=j.number(qt,Fn,kr)),tr&&(Mr.interpolatePadding(an,Qn,kr),Yn=Mr.centerPoint.add(Nn)),In)Mr.setLocationAtPoint(In,er);else{const oo=Mr.zoomScale(Mr.zoom-kt),Rr=cn>kt?Math.min(2,Pn):Math.max(.5,Pn),Zr=Math.pow(Rr,1-kr),Gr=Mr.unproject(jn.add(Xn.mult(kr*Zr)).mult(oo));Mr.setLocationAtPoint(Mr.renderWorldCopies?Gr.wrap():Gr,Yn)}return ot.preloadOnly||this._fireMoveEvents(lt),Mr};if(ot.preloadOnly){const Mr=this._emulate(vr,ot.duration,Ut);return this._preloadTiles(Mr),this}const wr={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Hn,this._rotating=dr,this._pitching=gr,this._padding=tr,this._easeId=ot.easeId,this._prepareEase(lt,ot.noMoveStart,wr),this._ease(vr(Ut),Mr=>{Ut.recenterOnTerrain(),this._afterEase(lt,Mr)},ot),this}_prepareEase(ot,lt,Ut={}){this._moving=!0,this.transform.cameraElevationReference="sea",lt||Ut.moving||this.fire(new j.Event("movestart",ot)),this._zooming&&!Ut.zooming&&this.fire(new j.Event("zoomstart",ot)),this._rotating&&!Ut.rotating&&this.fire(new j.Event("rotatestart",ot)),this._pitching&&!Ut.pitching&&this.fire(new j.Event("pitchstart",ot))}_fireMoveEvents(ot){this.fire(new j.Event("move",ot)),this._zooming&&this.fire(new j.Event("zoom",ot)),this._rotating&&this.fire(new j.Event("rotate",ot)),this._pitching&&this.fire(new j.Event("pitch",ot))}_afterEase(ot,lt){if(this._easeId&&lt&&this._easeId===lt)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const Ut=this._zooming,kt=this._rotating,Ot=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ut&&this.fire(new j.Event("zoomend",ot)),kt&&this.fire(new j.Event("rotateend",ot)),Ot&&this.fire(new j.Event("pitchend",ot)),this.fire(new j.Event("moveend",ot))}flyTo(ot,lt){if(!ot.essential&&j.exported.prefersReducedMotion){const fo=j.pick(ot,["center","zoom","bearing","pitch","around"]);return this.jumpTo(fo,lt)}this.stop(),ot=j.extend({offset:[0,0],speed:1.2,curve:1.42,easing:j.ease},ot);const Ut=this.transform,kt=this.getZoom(),Ot=this.getBearing(),qt=this.getPitch(),an=this.getPadding(),cn="zoom"in ot?j.clamp(+ot.zoom,Ut.minZoom,Ut.maxZoom):kt,_n="bearing"in ot?this._normalizeBearing(ot.bearing,Ot):Ot,Fn="pitch"in ot?+ot.pitch:qt,Qn="padding"in ot?ot.padding:Ut.padding,Nn=Ut.zoomScale(cn-kt),Yn=j.pointGeometry.convert(ot.offset);let jn=Ut.centerPoint.add(Yn);const Xn=Ut.pointLocation(jn),Pn=j.LngLat.convert(ot.center||Xn);this._normalizeCenter(Pn);const In=Ut.project(Xn),er=Ut.project(Pn).sub(In);let Hn=ot.curve;const dr=Math.max(Ut.width,Ut.height),gr=dr/Nn,tr=er.mag();if("minZoom"in ot){const fo=j.clamp(Math.min(ot.minZoom,kt,cn),Ut.minZoom,Ut.maxZoom),co=dr/Ut.zoomScale(fo-kt);Hn=Math.sqrt(co/tr*2)}const vr=Hn*Hn;function wr(fo){const co=(gr*gr-dr*dr+(fo?-1:1)*vr*vr*tr*tr)/(2*(fo?gr:dr)*vr*tr);return Math.log(Math.sqrt(co*co+1)-co)}function Mr(fo){return(Math.exp(fo)-Math.exp(-fo))/2}function kr(fo){return(Math.exp(fo)+Math.exp(-fo))/2}const oo=wr(0);let Rr=function(fo){return kr(oo)/kr(oo+Hn*fo)},Zr=function(fo){return dr*((kr(oo)*(Mr(co=oo+Hn*fo)/kr(co))-Mr(oo))/vr)/tr;var co},Gr=(wr(1)-oo)/Hn;if(Math.abs(tr)<1e-6||!isFinite(Gr)){if(Math.abs(dr-gr)<1e-6)return this.easeTo(ot,lt);const fo=gr<dr?-1:1;Gr=Math.abs(Math.log(gr/dr))/Hn,Zr=function(){return 0},Rr=function(co){return Math.exp(fo*Hn*co)}}ot.duration="duration"in ot?+ot.duration:1e3*Gr/("screenSpeed"in ot?+ot.screenSpeed/Hn:+ot.speed),ot.maxDuration&&ot.duration>ot.maxDuration&&(ot.duration=0);const xr=Ot!==_n,Fr=Fn!==qt,yo=!Ut.isPaddingEqual(Qn),uo=fo=>co=>{const ko=co*Gr,Lo=1/Rr(ko);fo.zoom=co===1?cn:kt+fo.scaleZoom(Lo),xr&&(fo.bearing=j.number(Ot,_n,co)),Fr&&(fo.pitch=j.number(qt,Fn,co)),yo&&(fo.interpolatePadding(an,Qn,co),jn=fo.centerPoint.add(Yn));const Wo=co===1?Pn:fo.unproject(In.add(er.mult(Zr(ko))).mult(Lo));return fo.setLocationAtPoint(fo.renderWorldCopies?Wo.wrap():Wo,jn),fo._updateCameraOnTerrain(),ot.preloadOnly||this._fireMoveEvents(lt),fo};if(ot.preloadOnly){const fo=this._emulate(uo,ot.duration,Ut);return this._preloadTiles(fo),this}return this._zooming=!0,this._rotating=xr,this._pitching=Fr,this._padding=yo,this._prepareEase(lt,!1),this._ease(uo(Ut),()=>this._afterEase(lt),ot),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(ot,lt){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const Ut=this._onEaseEnd;this._onEaseEnd=void 0,Ut.call(this,lt)}if(!ot){const Ut=this.handlers;Ut&&Ut.stop(!1)}return this}_ease(ot,lt,Ut){Ut.animate===!1||Ut.duration===0?(ot(1),lt()):(this._easeStart=j.exported.now(),this._easeOptions=Ut,this._onEaseFrame=ot,this._onEaseEnd=lt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const ot=Math.min((j.exported.now()-this._easeStart)/this._easeOptions.duration,1),lt=this._onEaseFrame;lt&&lt(this._easeOptions.easing(ot)),ot<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(ot,lt){ot=j.wrap(ot,-180,180);const Ut=Math.abs(ot-lt);return Math.abs(ot-360-lt)<Ut&&(ot-=360),Math.abs(ot+360-lt)<Ut&&(ot+=360),ot}_normalizeCenter(ot){const lt=this.transform;if(!lt.renderWorldCopies||lt.maxBounds)return;const Ut=ot.lng-lt.center.lng;ot.lng+=Ut>180?-360:Ut<-180?360:0}_emulate(ot,lt,Ut){const kt=Math.ceil(15*lt/1e3),Ot=[],qt=ot(Ut.clone());for(let an=0;an<=kt;an++){const cn=qt(an/kt);Ot.push(cn.clone())}return Ot}}class B_{constructor(ot={}){this.options=ot,j.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(ot){const lt=this.options&&this.options.compact;return this._map=ot,this._container=ft("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ft("button","mapboxgl-ctrl-attrib-button",this._container),ft("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ft("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),lt&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),lt===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(ot,lt){const Ut=this._map._getUIString(`AttributionControl.${lt}`);ot.setAttribute("aria-label",Ut),ot.removeAttribute("title"),ot.firstElementChild&&ot.firstElementChild.setAttribute("title",Ut)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let ot=this._editLink;ot||(ot=this._editLink=this._container.querySelector(".mapbox-improve-map"));const lt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||j.config.ACCESS_TOKEN}];if(ot){const Ut=lt.reduce((kt,Ot,qt)=>(Ot.value&&(kt+=`${Ot.key}=${Ot.value}${qt<lt.length-1?"&":""}`),kt),"?");ot.href=`${j.config.FEEDBACK_URL}/${Ut}#${sy(this._map,!0)}`,ot.rel="noopener nofollow",this._setElementTitle(ot,"MapFeedback")}}_updateData(ot){!ot||ot.sourceDataType!=="metadata"&&ot.sourceDataType!=="visibility"&&ot.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let ot=[];if(this._map.style.stylesheet){const kt=this._map.style.stylesheet;this.styleOwner=kt.owner,this.styleId=kt.id}const lt=this._map.style._sourceCaches;for(const kt in lt){const Ot=lt[kt];if(Ot.used){const qt=Ot.getSource();qt.attribution&&ot.indexOf(qt.attribution)<0&&ot.push(qt.attribution)}}ot.sort((kt,Ot)=>kt.length-Ot.length),ot=ot.filter((kt,Ot)=>{for(let qt=Ot+1;qt<ot.length;qt++)if(ot[qt].indexOf(kt)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?ot=[...this.options.customAttribution,...ot]:ot.unshift(this.options.customAttribution));const Ut=ot.join(" | ");Ut!==this._attribHTML&&(this._attribHTML=Ut,ot.length?(this._innerContainer.innerHTML=Ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Py{constructor(){j.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(ot){this._map=ot,this._container=ft("div","mapboxgl-ctrl");const lt=ft("a","mapboxgl-ctrl-logo");return lt.target="_blank",lt.rel="noopener nofollow",lt.href="https://www.mapbox.com/",lt.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),lt.setAttribute("rel","noopener nofollow"),this._container.appendChild(lt),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(ot){ot&&ot.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const ot=this._map.style._sourceCaches;if(Object.entries(ot).length===0)return!0;for(const lt in ot){const Ut=ot[lt].getSource();if(Ut.hasOwnProperty("mapbox_logo")&&!Ut.mapbox_logo)return!1}return!0}_updateCompact(){const ot=this._container.children;if(ot.length){const lt=ot[0];this._map.getCanvasContainer().offsetWidth<250?lt.classList.add("mapboxgl-compact"):lt.classList.remove("mapboxgl-compact")}}}class w0{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(ot){const lt=++this._id;return this._queue.push({callback:ot,id:lt,cancelled:!1}),lt}remove(ot){const lt=this._currentlyRunning,Ut=lt?this._queue.concat(lt):this._queue;for(const kt of Ut)if(kt.id===ot)return void(kt.cancelled=!0)}run(ot=0){const lt=this._currentlyRunning=this._queue;this._queue=[];for(const Ut of lt)if(!Ut.cancelled&&(Ut.callback(ot),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function dp(gt,ot,lt){if(gt=new j.LngLat(gt.lng,gt.lat),ot){const Ut=new j.LngLat(gt.lng-360,gt.lat),kt=new j.LngLat(gt.lng+360,gt.lat),Ot=360*Math.ceil(Math.abs(gt.lng-lt.center.lng)/360),qt=lt.locationPoint(gt).distSqr(ot),an=ot.x<0||ot.y<0||ot.x>lt.width||ot.y>lt.height;lt.locationPoint(Ut).distSqr(ot)<qt&&(an||Math.abs(Ut.lng-lt.center.lng)<Ot)?gt=Ut:lt.locationPoint(kt).distSqr(ot)<qt&&(an||Math.abs(kt.lng-lt.center.lng)<Ot)&&(gt=kt)}for(;Math.abs(gt.lng-lt.center.lng)>180;){const Ut=lt.locationPoint(gt);if(Ut.x>=0&&Ut.y>=0&&Ut.x<=lt.width&&Ut.y<=lt.height)break;gt.lng>lt.center.lng?gt.lng-=360:gt.lng+=360}return gt}const B0={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class E0 extends j.Evented{constructor(ot,lt){if(super(),(ot instanceof j.window.HTMLElement||lt)&&(ot=j.extend({element:ot},lt)),j.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=ot&&ot.anchor||"center",this._color=ot&&ot.color||"#3FB1CE",this._scale=ot&&ot.scale||1,this._draggable=ot&&ot.draggable||!1,this._clickTolerance=ot&&ot.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ot&&ot.rotation||0,this._rotationAlignment=ot&&ot.rotationAlignment||"auto",this._pitchAlignment=ot&&ot.pitchAlignment&&ot.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=ot&&ot.occludedOpacity||.2,ot&&ot.element)this._element=ot.element,this._offset=j.pointGeometry.convert(ot&&ot.offset||[0,0]);else{this._defaultMarker=!0,this._element=ft("div");const kt=41,Ot=27,qt=dt("svg",{display:"block",height:kt*this._scale+"px",width:Ot*this._scale+"px",viewBox:`0 0 ${Ot} ${kt}`},this._element),an=dt("radialGradient",{id:"shadowGradient"},dt("defs",{},qt));dt("stop",{offset:"10%","stop-opacity":.4},an),dt("stop",{offset:"100%","stop-opacity":.05},an),dt("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},qt),dt("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},qt),dt("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},qt),dt("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},qt),this._offset=j.pointGeometry.convert(ot&&ot.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",kt=>{kt.preventDefault()}),this._element.addEventListener("mousedown",kt=>{kt.preventDefault()});const Ut=this._element.classList;for(const kt in B0)Ut.remove(`mapboxgl-marker-anchor-${kt}`);Ut.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(ot){return ot===this._map||(this.remove(),this._map=ot,ot.getCanvasContainer().appendChild(this._element),ot.on("move",this._updateMoving),ot.on("moveend",this._update),ot.on("remove",this._clearFadeTimer),ot._addMarker(this),this.setDraggable(this._draggable),this._update(),ot.on("click",this._onMapClick)),this}remove(){const ot=this._map;return ot&&(ot.off("click",this._onMapClick),ot.off("move",this._updateMoving),ot.off("moveend",this._update),ot.off("mousedown",this._addDragHandler),ot.off("touchstart",this._addDragHandler),ot.off("mouseup",this._onUp),ot.off("touchend",this._onUp),ot.off("mousemove",this._onMove),ot.off("touchmove",this._onMove),ot.off("remove",this._clearFadeTimer),ot._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(ot){return this._lngLat=j.LngLat.convert(ot),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(ot){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ot){if(!("offset"in ot.options)){const kt=Math.sqrt(Math.pow(13.5,2)/2);ot.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[kt,-1*(38.1-13.5+kt)],"bottom-right":[-kt,-1*(38.1-13.5+kt)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=ot,ot._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(ot){const lt=ot.code,Ut=ot.charCode||ot.keyCode;lt!=="Space"&&lt!=="Enter"&&Ut!==32&&Ut!==13||this.togglePopup()}_onMapClick(ot){const lt=ot.originalEvent.target,Ut=this._element;this._popup&&(lt===Ut||Ut.contains(lt))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const ot=this._popup;return ot?(ot.isOpen()?(ot.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(ot.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const ot=this._map,lt=this._pos;if(!ot||!lt)return!1;const Ut=ot.unproject(lt),kt=ot.getFreeCameraOptions();if(!kt.position)return!1;const Ot=kt.position.toLngLat();return Ot.distanceTo(Ut)<.9*Ot.distanceTo(this._lngLat)}_evaluateOpacity(){const ot=this._map;if(!ot)return;const lt=this._pos;if(!lt||lt.x<0||lt.x>ot.transform.width||lt.y<0||lt.y>ot.transform.height)return void this._clearFadeTimer();const Ut=ot.unproject(lt);let kt;ot._showingGlobe()&&j.isLngLatBehindGlobe(ot.transform,this._lngLat)?kt=0:(kt=1-ot._queryFogOpacity(Ut),ot.transform._terrainEnabled()&&ot.getTerrain()&&this._behindTerrain()&&(kt*=this._occludedOpacity)),this._element.style.opacity=`${kt}`,this._element.style.pointerEvents=kt>0?"auto":"none",this._popup&&this._popup._setOpacity(kt),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const ot=this._pos;if(!ot||!this._map)return;const lt=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${ot.x}px,${ot.y}px)
            ${B0[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${lt.x}px,${lt.y}px)
        `}_calculateXYTransform(){const ot=this._pos,lt=this._map,Ut=this.getPitchAlignment();if(!lt||!ot||Ut!=="map")return"";if(!lt._showingGlobe()){const cn=lt.getPitch();return cn?`rotateX(${cn}deg)`:""}const kt=j.radToDeg(j.globeTiltAtLngLat(lt.transform,this._lngLat)),Ot=ot.sub(j.globeCenterToScreenPoint(lt.transform)),qt=Math.abs(Ot.x)+Math.abs(Ot.y);if(qt===0)return"";const an=kt/qt;return`rotateX(${-Ot.y*an}deg) rotateY(${Ot.x*an}deg)`}_calculateZTransform(){const ot=this._pos,lt=this._map;if(!lt||!ot)return"";let Ut=0;const kt=this.getRotationAlignment();if(kt==="map")if(lt._showingGlobe()){const Ot=lt.project(new j.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),qt=lt.project(new j.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(Ot);Ut=j.radToDeg(Math.atan2(qt.y,qt.x))-90}else Ut=-lt.getBearing();else if(kt==="horizon"){const Ot=j.smoothstep(4,6,lt.getZoom()),qt=j.globeCenterToScreenPoint(lt.transform);qt.y+=Ot*lt.transform.height;const an=ot.sub(qt),cn=j.radToDeg(Math.atan2(an.y,an.x));Ut=(cn>90?cn-270:cn+90)*(1-Ot)}return Ut+=this._rotation,Ut?`rotateZ(${Ut}deg)`:""}_update(ot){j.window.cancelAnimationFrame(this._updateFrameId);const lt=this._map;lt&&(lt.transform.renderWorldCopies&&(this._lngLat=dp(this._lngLat,this._pos,lt.transform)),this._pos=lt.project(this._lngLat),ot===!0?this._updateFrameId=j.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),lt._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(lt._showingGlobe()||lt.getTerrain()||lt.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(ot){return this._offset=j.pointGeometry.convert(ot),this._update(),this}_onMove(ot){const lt=this._map;if(!lt)return;const Ut=this._pointerdownPos,kt=this._positionDelta;if(Ut&&kt){if(!this._isDragging){const Ot=this._clickTolerance||lt._clickTolerance;if(ot.point.dist(Ut)<Ot)return;this._isDragging=!0}this._pos=ot.point.sub(kt),this._lngLat=lt.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new j.Event("dragstart"))),this.fire(new j.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const ot=this._map;ot&&(ot.off("mousemove",this._onMove),ot.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new j.Event("dragend")),this._state="inactive"}_addDragHandler(ot){const lt=this._map,Ut=this._pos;lt&&Ut&&this._element.contains(ot.originalEvent.target)&&(ot.preventDefault(),this._positionDelta=ot.point.sub(Ut),this._pointerdownPos=ot.point,this._state="pending",lt.on("mousemove",this._onMove),lt.on("touchmove",this._onMove),lt.once("mouseup",this._onUp),lt.once("touchend",this._onUp))}setDraggable(ot){this._draggable=!!ot;const lt=this._map;return lt&&(ot?(lt.on("mousedown",this._addDragHandler),lt.on("touchstart",this._addDragHandler)):(lt.off("mousedown",this._addDragHandler),lt.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(ot){return this._rotation=ot||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(ot){return this._rotationAlignment=ot||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(ot){return this._pitchAlignment=ot||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(ot){return this._occludedOpacity=ot||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Hu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},bv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function E_(gt=new j.pointGeometry(0,0),ot="bottom"){if(typeof gt=="number"){const lt=Math.round(Math.sqrt(.5*Math.pow(gt,2)));switch(ot){case"top":return new j.pointGeometry(0,gt);case"top-left":return new j.pointGeometry(lt,lt);case"top-right":return new j.pointGeometry(-lt,lt);case"bottom":return new j.pointGeometry(0,-gt);case"bottom-left":return new j.pointGeometry(lt,-lt);case"bottom-right":return new j.pointGeometry(-lt,-lt);case"left":return new j.pointGeometry(gt,0);case"right":return new j.pointGeometry(-gt,0)}return new j.pointGeometry(0,0)}return gt instanceof j.pointGeometry||Array.isArray(gt)?j.pointGeometry.convert(gt):j.pointGeometry.convert(gt[ot]||[0,0])}class Fv{constructor(ot){this.jumpTo(ot)}getValue(ot){if(ot<=this._startTime)return this._start;if(ot>=this._endTime)return this._end;const lt=j.easeCubicInOut((ot-this._startTime)/(this._endTime-this._startTime));return this._start*(1-lt)+this._end*lt}isEasing(ot){return ot>=this._startTime&&ot<=this._endTime}jumpTo(ot){this._startTime=-1/0,this._endTime=-1/0,this._start=ot,this._end=ot}easeTo(ot,lt,Ut){this._start=this.getValue(lt),this._end=ot,this._startTime=lt,this._endTime=lt+Ut}}const Sv={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},T_={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Wy(gt){gt.parentNode&&gt.parentNode.removeChild(gt)}const Q_={showCompass:!0,showZoom:!0,visualizePitch:!1};class Rv{constructor(ot,lt,Ut=!1){this._clickTolerance=10,this.element=lt,this.mouseRotate=new R_({clickTolerance:ot.dragRotate._mouseRotate._clickTolerance}),this.map=ot,Ut&&(this.mousePitch=new Mm({clickTolerance:ot.dragRotate._mousePitch._clickTolerance})),j.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),lt.addEventListener("mousedown",this.mousedown),lt.addEventListener("touchstart",this.touchstart,{passive:!1}),lt.addEventListener("touchmove",this.touchmove),lt.addEventListener("touchend",this.touchend),lt.addEventListener("touchcancel",this.reset)}down(ot,lt){this.mouseRotate.mousedown(ot,lt),this.mousePitch&&this.mousePitch.mousedown(ot,lt),Qt()}move(ot,lt){const Ut=this.map,kt=this.mouseRotate.mousemoveWindow(ot,lt),Ot=kt&&kt.bearingDelta;if(Ot&&Ut.setBearing(Ut.getBearing()+Ot),this.mousePitch){const qt=this.mousePitch.mousemoveWindow(ot,lt),an=qt&&qt.pitchDelta;an&&Ut.setPitch(Ut.getPitch()+an)}}off(){const ot=this.element;ot.removeEventListener("mousedown",this.mousedown),ot.removeEventListener("touchstart",this.touchstart,{passive:!1}),ot.removeEventListener("touchmove",this.touchmove),ot.removeEventListener("touchend",this.touchend),ot.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Dt(),j.window.removeEventListener("mousemove",this.mousemove),j.window.removeEventListener("mouseup",this.mouseup)}mousedown(ot){this.down(j.extend({},ot,{ctrlKey:!0,preventDefault:()=>ot.preventDefault()}),pt(this.element,ot)),j.window.addEventListener("mousemove",this.mousemove),j.window.addEventListener("mouseup",this.mouseup)}mousemove(ot){this.move(ot,pt(this.element,ot))}mouseup(ot){this.mouseRotate.mouseupWindow(ot),this.mousePitch&&this.mousePitch.mouseupWindow(ot),this.offTemp()}touchstart(ot){ot.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Vt(this.element,ot.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>ot.preventDefault()},this._startPos))}touchmove(ot){ot.targetTouches.length!==1?this.reset():(this._lastPos=Vt(this.element,ot.targetTouches)[0],this.move({preventDefault:()=>ot.preventDefault()},this._lastPos))}touchend(ot){ot.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const wv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Ly={maxWidth:100,unit:"metric"};function uy(gt,ot,lt){const Ut=Dm(ot),kt=Ut/ot,Ot={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[lt];this._map._requestDomTask(()=>{this._container.style.width=gt*kt+"px",this._container.innerHTML=`${Ut}&nbsp;${Ot}`})}function Dm(gt){const ot=Math.pow(10,`${Math.floor(gt)}`.length-1);let lt=gt/ot;return lt=lt>=10?10:lt>=5?5:lt>=3?3:lt>=2?2:lt>=1?1:function(Ut){const kt=Math.pow(10,Math.ceil(-Math.log(Ut)/Math.LN10));return Math.round(Ut*kt)/kt}(lt),ot*lt}const Jy={version:j.version,supported:st,setRTLTextPlugin:j.setRTLTextPlugin,getRTLTextPluginStatus:j.getRTLTextPluginStatus,Map:class extends Uv{constructor(gt){if(j.LivePerformanceUtils.mark(j.PerformanceMarkers.create),(gt=j.extend({},T_,gt)).minZoom!=null&&gt.maxZoom!=null&&gt.minZoom>gt.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(gt.minPitch!=null&&gt.maxPitch!=null&&gt.minPitch>gt.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(gt.minPitch!=null&&gt.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(gt.maxPitch!=null&&gt.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(gt.antialias&&j.isSafariWithAntialiasingBug(j.window)&&(gt.antialias=!1,j.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Vu(gt.minZoom,gt.maxZoom,gt.minPitch,gt.maxPitch,gt.renderWorldCopies),gt),this._interactive=gt.interactive,this._minTileCacheSize=gt.minTileCacheSize,this._maxTileCacheSize=gt.maxTileCacheSize,this._failIfMajorPerformanceCaveat=gt.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=gt.preserveDrawingBuffer,this._antialias=gt.antialias,this._trackResize=gt.trackResize,this._bearingSnap=gt.bearingSnap,this._refreshExpiredTiles=gt.refreshExpiredTiles,this._fadeDuration=gt.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=gt.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=gt.collectResourceTiming,this._optimizeForTerrain=gt.optimizeForTerrain,this._language=this._parseLanguage(gt.language),this._worldview=gt.worldview,this._renderTaskQueue=new w0,this._domRenderTaskQueue=new w0,this._controls=[],this._markers=[],this._popups=[],this._mapId=j.uniqueId(),this._locale=j.extend({},Sv,gt.locale),this._clickTolerance=gt.clickTolerance,this._cooperativeGestures=gt.cooperativeGestures,this._performanceMetricsCollection=gt.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Fv(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new j.RequestManager(gt.transformRequest,gt.accessToken,gt.testMode),this._silenceAuthErrors=!!gt.testMode,typeof gt.container=="string"){if(this._container=j.window.document.getElementById(gt.container),!this._container)throw new Error(`Container '${gt.container}' not found.`)}else{if(!(gt.container instanceof j.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=gt.container}if(this._container.childNodes.length>0&&j.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),gt.maxBounds&&this.setMaxBounds(gt.maxBounds),j.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),j.window!==void 0&&(j.window.addEventListener("online",this._onWindowOnline,!1),j.window.addEventListener("resize",this._onWindowResize,!1),j.window.addEventListener("orientationchange",this._onWindowResize,!1),j.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),j.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Tp(this,gt),this._localFontFamily=gt.localFontFamily,this._localIdeographFontFamily=gt.localIdeographFontFamily,gt.style&&this.setStyle(gt.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),gt.projection&&this.setProjection(gt.projection),this._hash=gt.hash&&new Vy(typeof gt.hash=="string"&&gt.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:gt.center,zoom:gt.zoom,bearing:gt.bearing,pitch:gt.pitch}),gt.bounds&&(this.resize(),this.fitBounds(gt.bounds,j.extend({},gt.fitBoundsOptions,{duration:0})))),this.resize(),gt.attributionControl&&this.addControl(new B_({customAttribution:gt.customAttribution})),this._logoControl=new Py,this.addControl(this._logoControl,gt.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",ot=>{this._update(ot.dataType==="style"),this.fire(new j.Event(`${ot.dataType}data`,ot))}),this.on("dataloading",ot=>{this.fire(new j.Event(`${ot.dataType}dataloading`,ot))})}_getMapId(){return this._mapId}addControl(gt,ot){if(ot===void 0&&(ot=gt.getDefaultPosition?gt.getDefaultPosition():"top-right"),!gt||!gt.onAdd)return this.fire(new j.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const lt=gt.onAdd(this);this._controls.push(gt);const Ut=this._controlPositions[ot];return ot.indexOf("bottom")!==-1?Ut.insertBefore(lt,Ut.firstChild):Ut.appendChild(lt),this}removeControl(gt){if(!gt||!gt.onRemove)return this.fire(new j.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const ot=this._controls.indexOf(gt);return ot>-1&&this._controls.splice(ot,1),gt.onRemove(this),this}hasControl(gt){return this._controls.indexOf(gt)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(gt){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const ot=!this._moving;return ot&&this.fire(new j.Event("movestart",gt)).fire(new j.Event("move",gt)),this.fire(new j.Event("resize",gt)),ot&&this.fire(new j.Event("moveend",gt)),this}getBounds(){return this.transform.projection.name==="globe"&&j.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(gt){return this.transform.setMaxBounds(j.LngLatBounds.convert(gt)),this._update()}setMinZoom(gt){if((gt=gt??-2)>=-2&&gt<=this.transform.maxZoom)return this.transform.minZoom=gt,this._update(),this.getZoom()<gt?this.setZoom(gt):this.fire(new j.Event("zoomstart")).fire(new j.Event("zoom")).fire(new j.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(gt){if((gt=gt??22)>=this.transform.minZoom)return this.transform.maxZoom=gt,this._update(),this.getZoom()>gt?this.setZoom(gt):this.fire(new j.Event("zoomstart")).fire(new j.Event("zoom")).fire(new j.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(gt){if((gt=gt??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(gt>=0&&gt<=this.transform.maxPitch)return this.transform.minPitch=gt,this._update(),this.getPitch()<gt?this.setPitch(gt):this.fire(new j.Event("pitchstart")).fire(new j.Event("pitch")).fire(new j.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(gt){if((gt=gt??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(gt>=this.transform.minPitch)return this.transform.maxPitch=gt,this._update(),this.getPitch()>gt?this.setPitch(gt):this.fire(new j.Event("pitchstart")).fire(new j.Event("pitch")).fire(new j.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(gt){return this.transform.renderWorldCopies=gt,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(gt){return gt==="auto"?j.window.navigator.language:Array.isArray(gt)?gt.length===0?void 0:gt.map(ot=>ot==="auto"?j.window.navigator.language:ot):gt}setLanguage(gt){const ot=this._parseLanguage(gt);if(!this.style||ot===this._language)return this;this._language=ot,this.style._reloadSources();for(const lt of this._controls)lt._setLanguage&&lt._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(gt){return this.style&&gt!==this._worldview?(this._worldview=gt,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(gt){return this._lazyInitEmptyStyle(),gt?typeof gt=="string"&&(gt={name:gt}):gt=null,this._useExplicitProjection=!!gt,this._prioritizeAndUpdateProjection(gt,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const gt=this.transform,ot=gt.projection.name;let lt;ot==="globe"&&gt.zoom>=j.GLOBE_ZOOM_THRESHOLD_MAX?(gt.setMercatorFromTransition(),lt=!0):ot==="mercator"&&gt.zoom<j.GLOBE_ZOOM_THRESHOLD_MAX&&(gt.setProjection({name:"globe"}),lt=!0),lt&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(gt,ot){return this._updateProjection(gt||ot||{name:"mercator"})}_updateProjection(gt){let ot;if(ot=gt.name==="globe"&&this.transform.zoom>=j.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(gt),this.style.applyProjectionUpdate(),ot){this.painter.clearBackgroundTiles();for(const lt in this.style._sourceCaches)this.style._sourceCaches[lt].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(gt){return this.transform.locationPoint3D(j.LngLat.convert(gt))}unproject(gt){return this.transform.pointLocation3D(j.pointGeometry.convert(gt))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(gt,ot,lt){if(gt==="mouseenter"||gt==="mouseover"){let Ut=!1;const kt=qt=>{const an=ot.filter(_n=>this.getLayer(_n)),cn=an.length?this.queryRenderedFeatures(qt.point,{layers:an}):[];cn.length?Ut||(Ut=!0,lt.call(this,new Mu(gt,this,qt.originalEvent,{features:cn}))):Ut=!1},Ot=()=>{Ut=!1};return{layers:new Set(ot),listener:lt,delegates:{mousemove:kt,mouseout:Ot}}}if(gt==="mouseleave"||gt==="mouseout"){let Ut=!1;const kt=qt=>{const an=ot.filter(cn=>this.getLayer(cn));(an.length?this.queryRenderedFeatures(qt.point,{layers:an}):[]).length?Ut=!0:Ut&&(Ut=!1,lt.call(this,new Mu(gt,this,qt.originalEvent)))},Ot=qt=>{Ut&&(Ut=!1,lt.call(this,new Mu(gt,this,qt.originalEvent)))};return{layers:new Set(ot),listener:lt,delegates:{mousemove:kt,mouseout:Ot}}}{const Ut=kt=>{const Ot=ot.filter(an=>this.getLayer(an)),qt=Ot.length?this.queryRenderedFeatures(kt.point,{layers:Ot}):[];qt.length&&(kt.features=qt,lt.call(this,kt),delete kt.features)};return{layers:new Set(ot),listener:lt,delegates:{[gt]:Ut}}}}on(gt,ot,lt){if(lt===void 0)return super.on(gt,ot);Array.isArray(ot)||(ot=[ot]);const Ut=this._createDelegatedListener(gt,ot,lt);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[gt]=this._delegatedListeners[gt]||[],this._delegatedListeners[gt].push(Ut);for(const kt in Ut.delegates)this.on(kt,Ut.delegates[kt]);return this}once(gt,ot,lt){if(lt===void 0)return super.once(gt,ot);Array.isArray(ot)||(ot=[ot]);const Ut=this._createDelegatedListener(gt,ot,lt);for(const kt in Ut.delegates)this.once(kt,Ut.delegates[kt]);return this}off(gt,ot,lt){if(lt===void 0)return super.off(gt,ot);ot=new Set(Array.isArray(ot)?ot:[ot]);const Ut=(Ot,qt)=>{if(Ot.size!==qt.size)return!1;for(const an of Ot)if(!qt.has(an))return!1;return!0},kt=this._delegatedListeners?this._delegatedListeners[gt]:void 0;return kt&&(Ot=>{for(let qt=0;qt<Ot.length;qt++){const an=Ot[qt];if(an.listener===lt&&Ut(an.layers,ot)){for(const cn in an.delegates)this.off(cn,an.delegates[cn]);return Ot.splice(qt,1),this}}})(kt),this}queryRenderedFeatures(gt,ot){return this.style?(ot!==void 0||gt===void 0||gt instanceof j.pointGeometry||Array.isArray(gt)||(ot=gt,gt=void 0),this.style.queryRenderedFeatures(gt=gt||[[0,0],[this.transform.width,this.transform.height]],ot=ot||{},this.transform)):[]}querySourceFeatures(gt,ot){return this.style.querySourceFeatures(gt,ot)}setStyle(gt,ot){return(ot=j.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},ot)).diff!==!1&&ot.localIdeographFontFamily===this._localIdeographFontFamily&&ot.localFontFamily===this._localFontFamily&&this.style&&gt?(this._diffStyle(gt,ot),this):(this._localIdeographFontFamily=ot.localIdeographFontFamily,this._localFontFamily=ot.localFontFamily,this._updateStyle(gt,ot))}_getUIString(gt){const ot=this._locale[gt];if(ot==null)throw new Error(`Missing UI string '${gt}'`);return ot}_updateStyle(gt,ot){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),gt&&(this.style=new ap(this,ot||{}),this.style.setEventedParent(this,{style:this.style}),typeof gt=="string"?this.style.loadURL(gt):this.style.loadJSON(gt)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ap(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(gt,ot){if(typeof gt=="string"){const lt=this._requestManager.normalizeStyleURL(gt),Ut=this._requestManager.transformRequest(lt,j.ResourceType.Style);j.getJSON(Ut,(kt,Ot)=>{kt?this.fire(new j.ErrorEvent(kt)):Ot&&this._updateDiff(Ot,ot)})}else typeof gt=="object"&&this._updateDiff(gt,ot)}_updateDiff(gt,ot){try{this.style.setState(gt)&&this._update(!0)}catch(lt){j.warnOnce(`Unable to perform style diff: ${lt.message||lt.error||lt}.  Rebuilding the style from scratch.`),this._updateStyle(gt,ot)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(j.warnOnce("There is no style added to the map."),!1)}addSource(gt,ot){return this._lazyInitEmptyStyle(),this.style.addSource(gt,ot),this._update(!0)}isSourceLoaded(gt){return!!this.style&&this.style._isSourceCacheLoaded(gt)}areTilesLoaded(){const gt=this.style&&this.style._sourceCaches;for(const ot in gt){const lt=gt[ot]._tiles;for(const Ut in lt){const kt=lt[Ut];if(kt.state!=="loaded"&&kt.state!=="errored")return!1}}return!0}addSourceType(gt,ot,lt){this._lazyInitEmptyStyle(),this.style.addSourceType(gt,ot,lt)}removeSource(gt){return this.style.removeSource(gt),this._updateTerrain(),this._update(!0)}getSource(gt){return this.style.getSource(gt)}addImage(gt,ot,{pixelRatio:lt=1,sdf:Ut=!1,stretchX:kt,stretchY:Ot,content:qt}={}){if(this._lazyInitEmptyStyle(),ot instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&ot instanceof j.window.ImageBitmap){const{width:an,height:cn,data:_n}=j.exported.getImageData(ot);this.style.addImage(gt,{data:new j.RGBAImage({width:an,height:cn},_n),pixelRatio:lt,stretchX:kt,stretchY:Ot,content:qt,sdf:Ut,version:0})}else if(ot.width===void 0||ot.height===void 0)this.fire(new j.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:an,height:cn}=ot,_n=ot;this.style.addImage(gt,{data:new j.RGBAImage({width:an,height:cn},new Uint8Array(_n.data)),pixelRatio:lt,stretchX:kt,stretchY:Ot,content:qt,sdf:Ut,version:0,userImage:_n}),_n.onAdd&&_n.onAdd(this,gt)}}updateImage(gt,ot){const lt=this.style.getImage(gt);if(!lt)return void this.fire(new j.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const Ut=ot instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&ot instanceof j.window.ImageBitmap?j.exported.getImageData(ot):ot,{width:kt,height:Ot}=Ut;kt!==void 0&&Ot!==void 0?kt===lt.data.width&&Ot===lt.data.height?(lt.data.replace(Ut.data,!(ot instanceof j.window.HTMLImageElement||j.window.ImageBitmap&&ot instanceof j.window.ImageBitmap)),this.style.updateImage(gt,lt)):this.fire(new j.ErrorEvent(new Error(`The width and height of the updated image (${kt}, ${Ot})
                must be that same as the previous version of the image
                (${lt.data.width}, ${lt.data.height})`))):this.fire(new j.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(gt){return gt?!!this.style.getImage(gt):(this.fire(new j.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(gt){this.style.removeImage(gt)}loadImage(gt,ot){j.getImage(this._requestManager.transformRequest(gt,j.ResourceType.Image),(lt,Ut)=>{ot(lt,Ut instanceof j.window.HTMLImageElement?j.exported.getImageData(Ut):Ut)})}listImages(){return this.style.listImages()}addLayer(gt,ot){return this._lazyInitEmptyStyle(),this.style.addLayer(gt,ot),this._update(!0)}moveLayer(gt,ot){return this.style.moveLayer(gt,ot),this._update(!0)}removeLayer(gt){return this.style.removeLayer(gt),this._update(!0)}getLayer(gt){return this.style.getLayer(gt)}setLayerZoomRange(gt,ot,lt){return this.style.setLayerZoomRange(gt,ot,lt),this._update(!0)}setFilter(gt,ot,lt={}){return this.style.setFilter(gt,ot,lt),this._update(!0)}getFilter(gt){return this.style.getFilter(gt)}setPaintProperty(gt,ot,lt,Ut={}){return this.style.setPaintProperty(gt,ot,lt,Ut),this._update(!0)}getPaintProperty(gt,ot){return this.style.getPaintProperty(gt,ot)}setLayoutProperty(gt,ot,lt,Ut={}){return this.style.setLayoutProperty(gt,ot,lt,Ut),this._update(!0)}getLayoutProperty(gt,ot){return this.style.getLayoutProperty(gt,ot)}setLight(gt,ot={}){return this._lazyInitEmptyStyle(),this.style.setLight(gt,ot),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(gt){return this._lazyInitEmptyStyle(),!gt&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(gt),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(gt){return this._lazyInitEmptyStyle(),this.style.setFog(gt),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(gt){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(j.LngLat.convert(gt),this.transform):0}setFeatureState(gt,ot){return this.style.setFeatureState(gt,ot),this._update()}removeFeatureState(gt,ot){return this.style.removeFeatureState(gt,ot),this._update()}getFeatureState(gt){return this.style.getFeatureState(gt)}_updateContainerDimensions(){if(!this._container)return;const gt=this._container.getBoundingClientRect().width||400,ot=this._container.getBoundingClientRect().height||300;let lt,Ut,kt,Ot=this._container;for(;Ot&&(!Ut||!kt);){const qt=j.window.getComputedStyle(Ot).transform;qt&&qt!=="none"&&(lt=qt.match(/matrix.*\((.+)\)/)[1].split(", "),lt[0]&&lt[0]!=="0"&&lt[0]!=="1"&&(Ut=lt[0]),lt[3]&&lt[3]!=="0"&&lt[3]!=="1"&&(kt=lt[3])),Ot=Ot.parentElement}this._containerWidth=Ut?Math.abs(gt/Ut):gt,this._containerHeight=kt?Math.abs(ot/kt):ot}_detectMissingCSS(){j.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&j.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const gt=this._container;gt.classList.add("mapboxgl-map"),(this._missingCSSCanary=ft("div","mapboxgl-canary",gt)).style.visibility="hidden",this._detectMissingCSS();const ot=this._canvasContainer=ft("div","mapboxgl-canvas-container",gt);this._interactive&&ot.classList.add("mapboxgl-interactive"),this._canvas=ft("canvas","mapboxgl-canvas",ot),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const lt=this._controlContainer=ft("div","mapboxgl-control-container",gt),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(kt=>{Ut[kt]=ft("div",`mapboxgl-ctrl-${kt}`,lt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(gt,ot){const lt=j.exported.devicePixelRatio||1;this._canvas.width=lt*Math.ceil(gt),this._canvas.height=lt*Math.ceil(ot),this._canvas.style.width=`${gt}px`,this._canvas.style.height=`${ot}px`}_addMarker(gt){this._markers.push(gt)}_removeMarker(gt){const ot=this._markers.indexOf(gt);ot!==-1&&this._markers.splice(ot,1)}_addPopup(gt){this._popups.push(gt)}_removePopup(gt){const ot=this._popups.indexOf(gt);ot!==-1&&this._popups.splice(ot,1)}_setupPainter(){const gt=j.extend({},st.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ot=this._canvas.getContext("webgl",gt)||this._canvas.getContext("experimental-webgl",gt);ot?(j.storeAuthState(ot,!0),this.painter=new _0(ot,this.transform),this.on("data",lt=>{lt.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),j.exported$1.testSupport(ot)):this.fire(new j.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(gt){gt.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new j.Event("webglcontextlost",{originalEvent:gt}))}_contextRestored(gt){this._setupPainter(),this.resize(),this._update(),this.fire(new j.Event("webglcontextrestored",{originalEvent:gt}))}_onMapScroll(gt){if(gt.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(gt){return this.style?(this._styleDirty=this._styleDirty||gt,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(gt){return this._update(),this._renderTaskQueue.add(gt)}_cancelRenderFrame(gt){this._renderTaskQueue.remove(gt)}_requestDomTask(gt){!this.loaded()||this.loaded()&&!this.isMoving()?gt():this._domRenderTaskQueue.add(gt)}_render(gt){let ot;const lt=this.painter.context.extTimerQuery,Ut=j.exported.now();if(this.listens("gpu-timing-frame")&&(ot=lt.createQueryEXT(),lt.beginQueryEXT(lt.TIME_ELAPSED_EXT,ot)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],j.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],j.window.performance.now())),this._renderTaskQueue.run(gt),this._domRenderTaskQueue.run(gt),this._removed)return;this._updateProjectionTransition();let kt=!1;const Ot=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const cn=this.transform.zoom,_n=this.transform.pitch,Fn=j.exported.now();this.style.zoomHistory.update(cn,Fn);const Qn=new j.EvaluationParameters(cn,{now:Fn,fadeDuration:Ot,pitch:_n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Nn=Qn.crossFadingFactor();Nn===1&&Nn===this._crossFadingFactor||(kt=!0,this._crossFadingFactor=Nn),this.style.update(Qn)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let qt=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),qt=this._updateAverageElevation(Ut),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):qt=this._updateAverageElevation(Ut),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,Ot,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:Ot,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new j.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new j.Event("load"))),this.style&&(this.style.hasTransitions()||kt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),ot){const cn=j.exported.now()-Ut;lt.endQueryEXT(lt.TIME_ELAPSED_EXT,ot),setTimeout(()=>{const _n=lt.getQueryObjectEXT(ot,lt.QUERY_RESULT_EXT)/1e6;lt.deleteQueryEXT(ot),this.fire(new j.Event("gpu-timing-frame",{cpuTime:cn,gpuTime:_n})),j.window.performance.mark("frame-gpu",{startTime:Ut,detail:{gpuTime:_n}})},50)}if(this.listens("gpu-timing-layer")){const cn=this.painter.collectGpuTimers();setTimeout(()=>{const _n=this.painter.queryGpuTimers(cn);this.fire(new j.Event("gpu-timing-layer",{layerTimes:_n}))},50)}if(this.listens("gpu-timing-deferred-render")){const cn=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const _n=this.painter.queryGpuTimeDeferredRender(cn);this.fire(new j.Event("gpu-timing-deferred-render",{gpuTime:_n}))},50)}const an=this._sourcesDirty||this._styleDirty||this._placementDirty||qt;if(an||this._repaint)this.triggerRepaint();else{const cn=!this.isMoving()&&this.loaded();if(cn&&(qt=this._updateAverageElevation(Ut,!0)),qt)this.triggerRepaint();else if(this._triggerFrame(!1),cn&&(this.fire(new j.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const _n=this._calculateSpeedIndex();this.fire(new j.Event("speedindexcompleted",{speedIndex:_n})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||an||(this._fullyLoaded=!0,j.LivePerformanceUtils.mark(j.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&j.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(gt){for(const ot of this._markers)gt&&!this.getRenderWorldCopies()&&(ot._lngLat=ot._lngLat.wrap()),ot._update();for(const ot of this._popups)!gt||this.getRenderWorldCopies()||ot._trackPointer||(ot._lngLat=ot._lngLat.wrap()),ot._update()}_updateAverageElevation(gt,ot=!1){const lt=Ut=>(this.transform.averageElevation=Ut,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&lt(0);if((ot||gt-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(gt)){const Ut=this.transform.averageElevation;let kt=this.transform.sampleAverageElevation(),Ot=!1;this.transform.elevation&&(Ot=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(kt)?kt=0:this._averageElevationLastSampledAt=gt;const qt=Math.abs(Ut-kt);if(qt>1){if(this._isInitialLoad||Ot)return this._averageElevation.jumpTo(kt),lt(kt);this._averageElevation.easeTo(kt,gt,300)}else if(qt>1e-4)return this._averageElevation.jumpTo(kt),lt(kt)}return!!this._averageElevation.isEasing(gt)&&lt(this._averageElevation.getValue(gt))}_authenticate(){j.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,gt=>{if(gt&&(gt.message===j.AUTH_ERR_MSG||gt.status===401)){const ot=this.painter.context.gl;j.storeAuthState(ot,!1),this._logoControl instanceof Py&&this._logoControl._updateLogo(),ot&&ot.clear(ot.DEPTH_BUFFER_BIT|ot.COLOR_BUFFER_BIT|ot.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new j.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),j.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const gt=this.painter.canvasCopy(),ot=this.painter.getCanvasCopiesAndTimestamps();ot.timeStamps.push(performance.now());const lt=this.painter.context.gl,Ut=lt.createFramebuffer();function kt(Ot){lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,Ot,0);const qt=new Uint8Array(lt.drawingBufferWidth*lt.drawingBufferHeight*4);return lt.readPixels(0,0,lt.drawingBufferWidth,lt.drawingBufferHeight,lt.RGBA,lt.UNSIGNED_BYTE,qt),qt}return lt.bindFramebuffer(lt.FRAMEBUFFER,Ut),this._canvasPixelComparison(kt(gt),ot.canvasCopies.map(kt),ot.timeStamps)}_canvasPixelComparison(gt,ot,lt){let Ut=lt[1]-lt[0];const kt=gt.length/4;for(let Ot=0;Ot<ot.length;Ot++){const qt=ot[Ot];let an=0;for(let cn=0;cn<qt.length;cn+=4)qt[cn]===gt[cn]&&qt[cn+1]===gt[cn+1]&&qt[cn+2]===gt[cn+2]&&qt[cn+3]===gt[cn+3]&&(an+=1);Ut+=(lt[Ot+2]-lt[Ot+1])*(1-an/kt)}return Ut}remove(){this._hash&&this._hash.remove();for(const ot of this._controls)ot.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),j.window!==void 0&&(j.window.removeEventListener("resize",this._onWindowResize,!1),j.window.removeEventListener("orientationchange",this._onWindowResize,!1),j.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),j.window.removeEventListener("online",this._onWindowOnline,!1),j.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const gt=this.painter.context.gl.getExtension("WEBGL_lose_context");gt&&gt.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),Wy(this._canvasContainer),Wy(this._controlContainer),Wy(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),j.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new j.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(gt){this._renderNextFrame=this._renderNextFrame||gt,this.style&&!this._frame&&(this._frame=j.exported.frame(ot=>{const lt=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,lt&&this._render(ot)}))}_preloadTiles(gt){const ot=this.style?Object.values(this.style._sourceCaches):[];return j.asyncAll(ot,(lt,Ut)=>lt._preloadTiles(gt,Ut),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(gt){this._trackResize&&this.resize({originalEvent:gt})._update()}_onVisibilityChange(){j.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(gt){this._showTileBoundaries!==gt&&(this._showTileBoundaries=gt,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(gt){this._showTerrainWireframe!==gt&&(this._showTerrainWireframe=gt,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(gt){this._speedIndexTiming!==gt&&(this._speedIndexTiming=gt,this._update())}get showPadding(){return!!this._showPadding}set showPadding(gt){this._showPadding!==gt&&(this._showPadding=gt,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(gt){this._showCollisionBoxes!==gt&&(this._showCollisionBoxes=gt,gt?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(gt){this._showOverdrawInspector!==gt&&(this._showOverdrawInspector=gt,this._update())}get repaint(){return!!this._repaint}set repaint(gt){this._repaint!==gt&&(this._repaint=gt,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(gt){this._vertices=gt,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(gt){this._showTileAABBs!==gt&&(this._showTileAABBs=gt,gt&&this._update())}_setCacheLimits(gt,ot){j.setCacheLimits(gt,ot)}get version(){return j.version}},NavigationControl:class{constructor(gt){this.options=j.extend({},Q_,gt),this._container=ft("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",ot=>ot.preventDefault()),this.options.showZoom&&(j.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",ot=>{this._map&&this._map.zoomIn({},{originalEvent:ot})}),ft("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",ot=>{this._map&&this._map.zoomOut({},{originalEvent:ot})}),ft("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(j.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",ot=>{const lt=this._map;lt&&(this.options.visualizePitch?lt.resetNorthPitch({},{originalEvent:ot}):lt.resetNorth({},{originalEvent:ot}))}),this._compassIcon=ft("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const gt=this._map;if(!gt)return;const ot=gt.getZoom(),lt=ot===gt.getMaxZoom(),Ut=ot===gt.getMinZoom();this._zoomInButton.disabled=lt,this._zoomOutButton.disabled=Ut,this._zoomInButton.setAttribute("aria-disabled",lt.toString()),this._zoomOutButton.setAttribute("aria-disabled",Ut.toString())}_rotateCompassArrow(){const gt=this._map;if(!gt)return;const ot=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(gt.transform.pitch*(Math.PI/180)),.5)}) rotateX(${gt.transform.pitch}deg) rotateZ(${gt.transform.angle*(180/Math.PI)}deg)`:`rotate(${gt.transform.angle*(180/Math.PI)}deg)`;gt._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=ot)})}onAdd(gt){return this._map=gt,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),gt.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&gt.on("pitch",this._rotateCompassArrow),gt.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Rv(gt,this._compass,this.options.visualizePitch)),this._container}onRemove(){const gt=this._map;gt&&(this._container.remove(),this.options.showZoom&&gt.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&gt.off("pitch",this._rotateCompassArrow),gt.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(gt,ot){const lt=ft("button",gt,this._container);return lt.type="button",lt.addEventListener("click",ot),lt}_setButtonTitle(gt,ot){if(!this._map)return;const lt=this._map._getUIString(`NavigationControl.${ot}`);gt.setAttribute("aria-label",lt),gt.firstElementChild&&gt.firstElementChild.setAttribute("title",lt)}},GeolocateControl:class extends j.Evented{constructor(gt){super(),this.options=j.extend({geolocation:j.window.navigator.geolocation},wv,gt),j.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=F_(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(gt){return this._map=gt,this._container=ft("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(gt){const ot=(lt=!!this.options.geolocation)=>{this._supportsGeolocation=lt,gt(lt)};this._supportsGeolocation!==void 0?gt(this._supportsGeolocation):j.window.navigator.permissions!==void 0?j.window.navigator.permissions.query({name:"geolocation"}).then(lt=>ot(lt.state!=="denied")).catch(()=>ot()):ot()}_isOutOfMapMaxBounds(gt){const ot=this._map.getMaxBounds(),lt=gt.coords;return!!ot&&(lt.longitude<ot.getWest()||lt.longitude>ot.getEast()||lt.latitude<ot.getSouth()||lt.latitude>ot.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(gt){if(this._map){if(this._isOutOfMapMaxBounds(gt))return this._setErrorState(),this.fire(new j.Event("outofmaxbounds",gt)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=gt,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(gt),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(gt),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new j.Event("geolocate",gt)),this._finish()}}_updateCamera(gt){const ot=new j.LngLat(gt.coords.longitude,gt.coords.latitude),lt=gt.coords.accuracy,Ut=this._map.getBearing(),kt=j.extend({bearing:Ut},this.options.fitBoundsOptions);this._map.fitBounds(ot.toBounds(lt),kt,{geolocateSource:!0})}_updateMarker(gt){if(gt){const ot=new j.LngLat(gt.coords.longitude,gt.coords.latitude);this._accuracyCircleMarker.setLngLat(ot).addTo(this._map),this._userLocationDotMarker.setLngLat(ot).addTo(this._map),this._accuracy=gt.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const gt=this._map.transform,ot=j.mercatorZfromAltitude(1,gt._center.lat)*gt.worldSize,lt=Math.ceil(2*this._accuracy*ot);this._circleElement.style.width=`${lt}px`,this._circleElement.style.height=`${lt}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(gt){if(this._map){if(this.options.trackUserLocation)if(gt.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const ot=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",ot),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ot),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(gt.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new j.Event("error",gt)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(gt){if(this._container.addEventListener("contextmenu",ot=>ot.preventDefault()),this._geolocateButton=ft("button","mapboxgl-ctrl-geolocate",this._container),ft("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",gt===!1){j.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const ot=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",ot),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ot)}else{const ot=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",ot),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ot)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ft("div","mapboxgl-user-location"),this._dotElement.appendChild(ft("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ft("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new E0({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ft("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new E0({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",ot=>{ot.geolocateSource||this._watchState!=="ACTIVE_LOCK"||ot.originalEvent&&ot.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new j.Event("trackuserlocationend")))})}_onDeviceOrientation(gt){this._userLocationDotMarker&&(gt.webkitCompassHeading?this._heading=gt.webkitCompassHeading:gt.absolute===!0&&(this._heading=-1*gt.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return j.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new j.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new j.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new j.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let gt;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(gt={maximumAge:6e5,timeout:0},this._noTimeout=!0):(gt=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,gt),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const gt=()=>{j.window.addEventListener("ondeviceorientationabsolute"in j.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};j.window.DeviceMotionEvent!==void 0&&typeof j.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(ot=>{ot==="granted"&&gt()}).catch(console.error):gt()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),j.window.removeEventListener("deviceorientation",this._onDeviceOrientation),j.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:B_,ScaleControl:class{constructor(gt){this.options=j.extend({},Ly,gt),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}}()||(this._setScale=uy.bind(this)),j.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const gt=this.options.maxWidth||100,ot=this._map,lt=ot._containerHeight/2,Ut=ot._containerWidth/2-gt/2,kt=ot.unproject([Ut,lt]),Ot=ot.unproject([Ut+gt,lt]),qt=kt.distanceTo(Ot);if(this.options.unit==="imperial"){const an=3.2808*qt;an>5280?this._setScale(gt,an/5280,"mile"):this._setScale(gt,an,"foot")}else this.options.unit==="nautical"?this._setScale(gt,qt/1852,"nautical-mile"):qt>=1e3?this._setScale(gt,qt/1e3,"kilometer"):this._setScale(gt,qt,"meter")}_setScale(gt,ot,lt){const Ut=Dm(ot),kt=Ut/ot;this._map._requestDomTask(()=>{this._container.style.width=gt*kt+"px",this._container.innerHTML=lt!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:lt}).format(Ut):`${Ut}&nbsp;nm`})}onAdd(gt){return this._map=gt,this._language=gt.getLanguage(),this._container=ft("div","mapboxgl-ctrl mapboxgl-ctrl-scale",gt.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(gt){this._language=gt,this._update()}setUnit(gt){this.options.unit=gt,this._update()}},FullscreenControl:class{constructor(gt){this._fullscreen=!1,gt&&gt.container&&(gt.container instanceof j.window.HTMLElement?this._container=gt.container:j.warnOnce("Full screen control 'container' must be a DOM element.")),j.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in j.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in j.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(gt){return this._map=gt,this._container||(this._container=this._map.getContainer()),this._controlContainer=ft("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",j.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,j.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!j.window.document.fullscreenEnabled&&!j.window.document.webkitFullscreenEnabled)}_setupUI(){const gt=this._fullscreenButton=ft("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ft("span","mapboxgl-ctrl-icon",gt).setAttribute("aria-hidden","true"),gt.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),j.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const gt=this._getTitle();this._fullscreenButton.setAttribute("aria-label",gt),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",gt)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(j.window.document.fullscreenElement||j.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?j.window.document.exitFullscreen?j.window.document.exitFullscreen():j.window.document.webkitCancelFullScreen&&j.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends j.Evented{constructor(gt){super(),this.options=j.extend(Object.create(Hu),gt),j.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(gt&&gt.className?gt.className.trim().split(/\s+/):[])}addTo(gt){return this._map&&this.remove(),this._map=gt,this.options.closeOnClick&&gt.on("preclick",this._onClose),this.options.closeOnMove&&gt.on("move",this._onClose),gt.on("remove",this.remove),this._update(),gt._addPopup(this),this._focusFirstElement(),this._trackPointer?(gt.on("mousemove",this._onMouseEvent),gt.on("mouseup",this._onMouseEvent),gt._canvasContainer.classList.add("mapboxgl-track-pointer")):gt.on("move",this._update),this.fire(new j.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const gt=this._map;return gt&&(gt.off("move",this._update),gt.off("move",this._onClose),gt.off("preclick",this._onClose),gt.off("click",this._onClose),gt.off("remove",this.remove),gt.off("mousemove",this._onMouseEvent),gt.off("mouseup",this._onMouseEvent),gt.off("drag",this._onMouseEvent),gt._canvasContainer&&gt._canvasContainer.classList.remove("mapboxgl-track-pointer"),gt._removePopup(this),this._map=void 0),this.fire(new j.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(gt){this._lngLat=j.LngLat.convert(gt),this._pos=null,this._trackPointer=!1,this._update();const ot=this._map;return ot&&(ot.on("move",this._update),ot.off("mousemove",this._onMouseEvent),ot._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const gt=this._map;return gt&&(gt.off("move",this._update),gt.on("mousemove",this._onMouseEvent),gt.on("drag",this._onMouseEvent),gt._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(gt){return this.setDOMContent(j.window.document.createTextNode(gt))}setHTML(gt){const ot=j.window.document.createDocumentFragment(),lt=j.window.document.createElement("body");let Ut;for(lt.innerHTML=gt;Ut=lt.firstChild,Ut;)ot.appendChild(Ut);return this.setDOMContent(ot)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(gt){return this.options.maxWidth=gt,this._update(),this}setDOMContent(gt){let ot=this._content;if(ot)for(;ot.hasChildNodes();)ot.firstChild&&ot.removeChild(ot.firstChild);else ot=this._content=ft("div","mapboxgl-popup-content",this._container||void 0);if(ot.appendChild(gt),this.options.closeButton){const lt=this._closeButton=ft("button","mapboxgl-popup-close-button",ot);lt.type="button",lt.setAttribute("aria-label","Close popup"),lt.setAttribute("aria-hidden","true"),lt.innerHTML="&#215;",lt.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(gt){return this._classList.add(gt),this._updateClassList(),this}removeClassName(gt){return this._classList.delete(gt),this._updateClassList(),this}setOffset(gt){return this.options.offset=gt,this._update(),this}toggleClassName(gt){let ot;return this._classList.delete(gt)?ot=!1:(this._classList.add(gt),ot=!0),this._updateClassList(),ot}_onMouseEvent(gt){this._update(gt.point)}_getAnchor(gt){if(this.options.anchor)return this.options.anchor;const ot=this._map,lt=this._container,Ut=this._pos;if(!ot||!lt||!Ut)return"bottom";const kt=lt.offsetWidth,Ot=lt.offsetHeight,qt=Ut.x<kt/2,an=Ut.x>ot.transform.width-kt/2;if(Ut.y+gt<Ot)return qt?"top-left":an?"top-right":"top";if(Ut.y>ot.transform.height-Ot){if(qt)return"bottom-left";if(an)return"bottom-right"}return qt?"left":an?"right":"bottom"}_updateClassList(){const gt=this._container;if(!gt)return;const ot=[...this._classList];ot.push("mapboxgl-popup"),this._anchor&&ot.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&ot.push("mapboxgl-popup-track-pointer"),gt.className=ot.join(" ")}_update(gt){const ot=this._map,lt=this._content;if(!ot||!this._lngLat&&!this._trackPointer||!lt)return;let Ut=this._container;if(Ut||(Ut=this._container=ft("div","mapboxgl-popup",ot.getContainer()),this._tip=ft("div","mapboxgl-popup-tip",Ut),Ut.appendChild(lt)),this.options.maxWidth&&Ut.style.maxWidth!==this.options.maxWidth&&(Ut.style.maxWidth=this.options.maxWidth),ot.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=dp(this._lngLat,this._pos,ot.transform)),!this._trackPointer||gt){const kt=this._pos=this._trackPointer&&gt?gt:ot.project(this._lngLat),Ot=E_(this.options.offset),qt=this._anchor=this._getAnchor(Ot.y),an=E_(this.options.offset,qt),cn=kt.add(an).round();ot._requestDomTask(()=>{this._container&&qt&&(this._container.style.transform=`${B0[qt]} translate(${cn.x}px,${cn.y}px)`)})}if(!this._marker&&ot._showingGlobe()){const kt=j.isLngLatBehindGlobe(ot.transform,this._lngLat)?0:1;this._setOpacity(kt)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const gt=this._container.querySelector(bv);gt&&gt.focus()}_onClose(){this.remove()}_setOpacity(gt){this._container&&(this._container.style.opacity=`${gt}`),this._content&&(this._content.style.pointerEvents=gt?"auto":"none")}},Marker:E0,Style:ap,LngLat:j.LngLat,LngLatBounds:j.LngLatBounds,Point:j.pointGeometry,MercatorCoordinate:j.MercatorCoordinate,FreeCameraOptions:oy,Evented:j.Evented,config:j.config,prewarm:function(){No().acquire(So)},clearPrewarmedResources:function(){const gt=Ao;gt&&(gt.isPreloaded()&&gt.numActive()===1?(gt.release(So),Ao=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return j.config.ACCESS_TOKEN},set accessToken(gt){j.config.ACCESS_TOKEN=gt},get baseApiUrl(){return j.config.API_URL},set baseApiUrl(gt){j.config.API_URL=gt},get workerCount(){return Bo.workerCount},set workerCount(gt){Bo.workerCount=gt},get maxParallelImageRequests(){return j.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(gt){j.config.MAX_PARALLEL_IMAGE_REQUESTS=gt},clearStorage(gt){j.clearTileCache(gt)},workerUrl:"",workerClass:null,setNow:j.exported.setNow,restoreNow:j.exported.restoreNow};return Jy});var tt=$;return tt})})(mapboxGl);const mapboxgl=mapboxGlExports,app="_app_s5332_1",card="_card_s5332_16",styles$1={app,"map-container":"_map-container_s5332_9",card,"fade-in":"_fade-in_s5332_34","fade-out":"_fade-out_s5332_55"};var __defProp$2=Object.defineProperty,__defNormalProp$2=(i,o,s)=>o in i?__defProp$2(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField$2=(i,o,s)=>(__defNormalProp$2(i,typeof o!="symbol"?o+"":o,s),s),dist$1={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(i,o){module.exports=o()})(window,function(){return function(i){function o(st){for(var ht,_t,ft=st[0],dt=st[1],ut=0,mt=[];ut<ft.length;ut++)_t=ft[ut],Object.prototype.hasOwnProperty.call(_,_t)&&_[_t]&&mt.push(_[_t][0]),_[_t]=0;for(ht in dt)Object.prototype.hasOwnProperty.call(dt,ht)&&(i[ht]=dt[ht]);for(nt&&nt(st);mt.length;)mt.shift()()}var s={},_={0:0};function $(st){if(s[st])return s[st].exports;var ht=s[st]={i:st,l:!1,exports:{}};return i[st].call(ht.exports,ht,ht.exports,$),ht.l=!0,ht.exports}$.e=function(){return Promise.resolve()},$.m=i,$.c=s,$.d=function(st,ht,_t){$.o(st,ht)||Object.defineProperty(st,ht,{enumerable:!0,get:_t})},$.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},$.t=function(st,ht){if(1&ht&&(st=$(st)),8&ht||4&ht&&typeof st=="object"&&st&&st.__esModule)return st;var _t=Object.create(null);if($.r(_t),Object.defineProperty(_t,"default",{enumerable:!0,value:st}),2&ht&&typeof st!="string")for(var ft in st)$.d(_t,ft,function(dt){return st[dt]}.bind(null,ft));return _t},$.n=function(st){var ht=st&&st.__esModule?function(){return st.default}:function(){return st};return $.d(ht,"a",ht),ht},$.o=function(st,ht){return Object.prototype.hasOwnProperty.call(st,ht)},$.p="",$.oe=function(st){throw console.error(st),st};var _e=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],tt=_e.push.bind(_e);_e.push=o,_e=_e.slice();for(var j=0;j<_e.length;j++)o(_e[j]);var nt=tt;return $($.s=228)}([function(i,o,s){s.d(o,"a",function(){return rn});var _=s(14),$=s.n(_),_e=s(18),tt=s(56),j=s(19);const nt=Math.pow(2,20),st=nt;function ht(Mt,$t){if($t.length<Mt)throw new TypeError(Mt+" argument"+(Mt>1?"s":"")+" required, but only "+$t.length+" present")}function _t(Mt){if(Mt===null||Mt===!0||Mt===!1)return NaN;var $t=Number(Mt);return isNaN($t)?$t:$t<0?Math.ceil($t):Math.floor($t)}var ft={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ut=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wt(Mt){var $t,pn={},hn=Mt.split(ft.dateTimeDelimiter);if(hn.length>2)return pn;if(/:/.test(hn[0])?$t=hn[0]:(pn.date=hn[0],$t=hn[1],ft.timeZoneDelimiter.test(pn.date)&&(pn.date=Mt.split(ft.timeZoneDelimiter)[0],$t=Mt.substr(pn.date.length,Mt.length))),$t){var Sn=ft.timezone.exec($t);Sn?(pn.time=$t.replace(Sn[1],""),pn.timezone=Sn[1]):pn.time=$t}return pn}function Qt(Mt,$t){var pn=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+$t)+"})|(\\d{2}|[+-]\\d{"+(2+$t)+"})$)"),hn=Mt.match(pn);if(!hn)return{year:NaN,restDateString:""};var Sn=hn[1]?parseInt(hn[1]):null,An=hn[2]?parseInt(hn[2]):null;return{year:An===null?Sn:100*An,restDateString:Mt.slice((hn[1]||hn[2]).length)}}function Dt(Mt,$t){if($t===null)return new Date(NaN);var pn=Mt.match(dt);if(!pn)return new Date(NaN);var hn=!!pn[4],Sn=Et(pn[1]),An=Et(pn[2])-1,Gn=Et(pn[3]),Qr=Et(pn[4]),_i=Et(pn[5])-1;if(hn)return function(po,jr,Yr){return jr>=1&&jr<=53&&Yr>=0&&Yr<=6}(0,Qr,_i)?function(po,jr,Yr){var no=new Date(0);no.setUTCFullYear(po,0,4);var Qo=no.getUTCDay()||7,Co=7*(jr-1)+Yr+1-Qo;return no.setUTCDate(no.getUTCDate()+Co),no}($t,Qr,_i):new Date(NaN);var Pr=new Date(0);return function(po,jr,Yr){return jr>=0&&jr<=11&&Yr>=1&&Yr<=(nn[jr]||(on(po)?29:28))}($t,An,Gn)&&function(po,jr){return jr>=1&&jr<=(on(po)?366:365)}($t,Sn)?(Pr.setUTCFullYear($t,An,Math.max(Sn,Gn)),Pr):new Date(NaN)}function Et(Mt){return Mt?parseInt(Mt):1}function xt(Mt){var $t=Mt.match(ut);if(!$t)return NaN;var pn=pt($t[1]),hn=pt($t[2]),Sn=pt($t[3]);return function(An,Gn,Qr){return An===24?Gn===0&&Qr===0:Qr>=0&&Qr<60&&Gn>=0&&Gn<60&&An>=0&&An<25}(pn,hn,Sn)?36e5*pn+6e4*hn+1e3*Sn:NaN}function pt(Mt){return Mt&&parseFloat(Mt.replace(",","."))||0}function Vt(Mt){if(Mt==="Z")return 0;var $t=Mt.match(mt);if(!$t)return 0;var pn=$t[1]==="+"?-1:1,hn=parseInt($t[2]),Sn=$t[3]&&parseInt($t[3])||0;return function(An,Gn){return Gn>=0&&Gn<=59}(0,Sn)?pn*(36e5*hn+6e4*Sn):NaN}var nn=[31,null,31,30,31,30,31,31,30,31,30,31];function on(Mt){return Mt%400==0||Mt%4==0&&Mt%100!=0}function bt(Mt){return ht(1,arguments),Mt instanceof Date||typeof Mt=="object"&&Object.prototype.toString.call(Mt)==="[object Date]"}function St(Mt){ht(1,arguments);var $t=Object.prototype.toString.call(Mt);return Mt instanceof Date||typeof Mt=="object"&&$t==="[object Date]"?new Date(Mt.getTime()):typeof Mt=="number"||$t==="[object Number]"?new Date(Mt):(typeof Mt!="string"&&$t!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function It(Mt){const $t=function(pn,hn){var Sn;ht(1,arguments);var An=_t((Sn=hn==null?void 0:hn.additionalDigits)!==null&&Sn!==void 0?Sn:2);if(An!==2&&An!==1&&An!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(typeof pn!="string"&&Object.prototype.toString.call(pn)!=="[object String]")return new Date(NaN);var Gn,Qr=wt(pn);if(Qr.date){var _i=Qt(Qr.date,An);Gn=Dt(_i.restDateString,_i.year)}if(!Gn||isNaN(Gn.getTime()))return new Date(NaN);var Pr,po=Gn.getTime(),jr=0;if(Qr.time&&(jr=xt(Qr.time),isNaN(jr)))return new Date(NaN);if(!Qr.timezone){var Yr=new Date(po+jr),no=new Date(0);return no.setFullYear(Yr.getUTCFullYear(),Yr.getUTCMonth(),Yr.getUTCDate()),no.setHours(Yr.getUTCHours(),Yr.getUTCMinutes(),Yr.getUTCSeconds(),Yr.getUTCMilliseconds()),no}return Pr=Vt(Qr.timezone),isNaN(Pr)?new Date(NaN):new Date(po+jr+Pr)}(Mt);if(!function(pn){if(ht(1,arguments),!bt(pn)&&typeof pn!="number")return!1;var hn=St(pn);return!isNaN(Number(hn))}($t))throw new Error(`Invalid ISO 8601 date string (${Mt})`);return $t}var Bt=s(4),Lt=s(34);function Xt(Mt){return $()(Mt,{cycles:!0})}var zt=function(Mt,$t){var pn={};for(var hn in Mt)Object.prototype.hasOwnProperty.call(Mt,hn)&&$t.indexOf(hn)<0&&(pn[hn]=Mt[hn]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Sn=0;for(hn=Object.getOwnPropertySymbols(Mt);Sn<hn.length;Sn++)$t.indexOf(hn[Sn])<0&&Object.prototype.propertyIsEnumerable.call(Mt,hn[Sn])&&(pn[hn[Sn]]=Mt[hn[Sn]])}return pn};function Pt(Mt,$t={}){const pn=Qr=>$t.redacted!==!1?Object(Lt.a)(Qr):Qr;if(!Mt.stack)return{message:Xt(pn(Mt))};const{name:hn,message:Sn,stack:An}=Mt,Gn=zt(Mt,["name","message","stack"]);return{name:hn,message:Sn!==void 0?Sn:Xt(pn(Mt)),stack:An,meta:Gn&&Object.keys(Gn).length===0?void 0:pn(Gn)}}function jt(Mt,$t={}){const{message:pn,stack:hn,meta:Sn}=Pt(Mt,$t);return`${hn||pn||""}${Sn&&Object.keys(Sn).length>0?` -- ${Xt(Sn)}`:""}`}var Zt=s(39),Ct=s(103),Ft=s.n(Ct),Ht=function(Mt,$t,pn,hn){return new(pn||(pn=Promise))(function(Sn,An){function Gn(Pr){try{_i(hn.next(Pr))}catch(po){An(po)}}function Qr(Pr){try{_i(hn.throw(Pr))}catch(po){An(po)}}function _i(Pr){var po;Pr.done?Sn(Pr.value):(po=Pr.value,po instanceof pn?po:new pn(function(jr){jr(po)})).then(Gn,Qr)}_i((hn=hn.apply(Mt,$t||[])).next())})},tn=function(Mt,$t){var pn={};for(var hn in Mt)Object.prototype.hasOwnProperty.call(Mt,hn)&&$t.indexOf(hn)<0&&(pn[hn]=Mt[hn]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Sn=0;for(hn=Object.getOwnPropertySymbols(Mt);Sn<hn.length;Sn++)$t.indexOf(hn[Sn])<0&&Object.prototype.propertyIsEnumerable.call(Mt,hn[Sn])&&(pn[hn[Sn]]=Mt[hn[Sn]])}return pn};class mn extends Ft.a{constructor($t,pn){super(),this.endpoint=$t,this.metadata=pn,this.logClient=this.getLogClient()}getLogClient(){return Ht(this,void 0,void 0,function*(){const{LogClient:$t}=yield Promise.resolve().then(s.bind(null,231));return new $t(this.endpoint)})}log($t,pn){return Ht(this,void 0,void 0,function*(){const{level:hn,message:Sn,error:An}=$t,Gn=tn($t,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:hn,message:`${Sn}`.substring(0,1e3),error:An!==void 0?Pt(An):void 0,meta:Object.assign(Object.assign({},Gn),this.metadata)}])}catch(Qr){console.error(`Failed to log to log-api: ${jt(Qr)}`)}pn()})}}var yn=function(Mt,$t){var pn={};for(var hn in Mt)Object.prototype.hasOwnProperty.call(Mt,hn)&&$t.indexOf(hn)<0&&(pn[hn]=Mt[hn]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Sn=0;for(hn=Object.getOwnPropertySymbols(Mt);Sn<hn.length;Sn++)$t.indexOf(hn[Sn])<0&&Object.prototype.propertyIsEnumerable.call(Mt,hn[Sn])&&(pn[hn[Sn]]=Mt[hn[Sn]])}return pn};const vn={app:Bt.a,namespace:Bt.i,buildTag:Bt.b,instanceId:Zt.a},un=Bt.e?j.format.printf(Mt=>{var{timestamp:$t,level:pn,message:hn,error:Sn}=Mt,An=yn(Mt,["timestamp","level","message","error"]);const Gn=Object.assign(Object.assign({timestamp:$t?It($t).getTime():new Date().getTime(),level:pn.toUpperCase(),message:hn},Sn?{error:Pt(Sn)}:{}),{meta:Object.assign(Object.assign({},vn),An)});return $()(Gn,{cycles:!0})}):j.format.printf(Mt=>{var{timestamp:$t,level:pn,message:hn,error:Sn}=Mt,An=yn(Mt,["timestamp","level","message","error"]);let Gn=`${$t||new Date().toISOString()} ${pn.toUpperCase()}: ${hn} `;return Object.keys(An).length>0&&(Gn+=$()(An,{cycles:!0})),Sn&&(Gn+=`
${jt(Sn)}`),Gn}),rn=Object(j.createLogger)({level:Bt.f});if(Bt.g&&rn.add(new j.transports.Console({format:un,level:"debug"})),Bt.d&&rn.add(new mn(Bt.d,vn)),Bt.h){const Mt=tt.resolve(_e.tmpdir(),`silly-${Bt.a}.log`);rn.debug("Logging silly logs to file",{filename:Mt}),rn.add(new j.transports.File({filename:Mt,maxsize:1*st,maxFiles:10,format:j.format.combine((At="silly",Object(j.format)($t=>$t.level===At&&$t)()),un),level:"silly"}))}var At},function(i,o,s){s.d(o,"a",function(){return _});const _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(i,o){var s,_,$=i.exports={};function _e(){throw new Error("setTimeout has not been defined")}function tt(){throw new Error("clearTimeout has not been defined")}function j(wt){if(s===setTimeout)return setTimeout(wt,0);if((s===_e||!s)&&setTimeout)return s=setTimeout,setTimeout(wt,0);try{return s(wt,0)}catch{try{return s.call(null,wt,0)}catch{return s.call(this,wt,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:_e}catch{s=_e}try{_=typeof clearTimeout=="function"?clearTimeout:tt}catch{_=tt}})();var nt,st=[],ht=!1,_t=-1;function ft(){ht&&nt&&(ht=!1,nt.length?st=nt.concat(st):_t=-1,st.length&&dt())}function dt(){if(!ht){var wt=j(ft);ht=!0;for(var Qt=st.length;Qt;){for(nt=st,st=[];++_t<Qt;)nt&&nt[_t].run();_t=-1,Qt=st.length}nt=null,ht=!1,function(Dt){if(_===clearTimeout)return clearTimeout(Dt);if((_===tt||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(Dt);try{_(Dt)}catch{try{return _.call(null,Dt)}catch{return _.call(this,Dt)}}}(wt)}}function ut(wt,Qt){this.fun=wt,this.array=Qt}function mt(){}$.nextTick=function(wt){var Qt=new Array(arguments.length-1);if(arguments.length>1)for(var Dt=1;Dt<arguments.length;Dt++)Qt[Dt-1]=arguments[Dt];st.push(new ut(wt,Qt)),st.length!==1||ht||j(dt)},ut.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=mt,$.addListener=mt,$.once=mt,$.off=mt,$.removeListener=mt,$.removeAllListeners=mt,$.emit=mt,$.prependListener=mt,$.prependOnceListener=mt,$.listeners=function(wt){return[]},$.binding=function(wt){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(wt){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(i,o,s){Object.defineProperty(o,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(o,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(o,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(o,"configs",{value:s(118)})},function(i,o,s){(function(_){s.d(o,"a",function(){return tt}),s.d(o,"i",function(){return j}),s.d(o,"j",function(){return nt}),s.d(o,"b",function(){return st}),s.d(o,"f",function(){return ht}),s.d(o,"e",function(){return _t}),s.d(o,"g",function(){return ft}),s.d(o,"d",function(){return dt}),s.d(o,"c",function(){return ut}),s.d(o,"h",function(){return mt});var $=s(102);const _e=$.from({ENVIRONMENT:_.env.ENV,API_ENDPOINT:_.env.API_ENDPOINT,APP:"realtime-sdk",APP_PATH:_.env.APP_PATH,BUILD_TAG:_.env.BUILD_TAG,ENABLE_SELF_SERVE:_.env.ENABLE_SELF_SERVE,ENABLE_SENTRY:_.env.ENABLE_SENTRY,ENABLE_SENTRY_PROFILING:_.env.ENABLE_SENTRY_PROFILING,GIT_COMMIT:_.env.GIT_COMMIT,JEST_WORKER_ID:_.env.JEST_WORKER_ID,LOG_API_ENDPOINT:_.env.LOG_API_ENDPOINT,LOG_JSON:"false",LOG_LEVEL:_.env.LOG_LEVEL,LOG_TO_CONSOLE:_.env.LOG_TO_CONSOLE,LOG_TO_FILE:_.env.LOG_TO_FILE,NAMESPACE:"production",SENTRY_DSN:_.env.SENTRY_DSN,SHEET_EXPORT_MAX_ROW_COUNT:_.env.SHEET_EXPORT_MAX_ROW_COUNT,STABLE_AGENT_VERSION:_.env.STABLE_AGENT_VERSION,VERSION:_.env.VERSION}),tt=(_e.get("ENVIRONMENT").default("").asString(),_e.get("APP").default("").asString()),j=(_e.get("APP_PATH").default("").asString(),_e.get("API_ENDPOINT").default("").asString(),_e.get("NAMESPACE").default("").asString()),nt=_e.get("VERSION").default("").asString(),st=_e.get("BUILD_TAG").default("").asString(),ht=(_e.get("GIT_COMMIT").default("").asString(),_e.get("ENABLE_SENTRY").default("false").asBool(),_e.get("ENABLE_SENTRY_PROFILING").default("false").asBool(),_e.get("SENTRY_DSN").default("").asString(),_e.get("LOG_LEVEL").default("debug").asString()),_t=_e.get("LOG_JSON").default("true").asBool(),ft=_e.get("LOG_TO_CONSOLE").default("true").asBool(),dt=(_e.get("STABLE_AGENT_VERSION").default("").asString(),_e.get("LOG_API_ENDPOINT").asString()),ut=_e.get("JEST_WORKER_ID").asString(),mt=(_e.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),_e.get("LOG_TO_FILE").default("false").asBoolStrict());_e.get("ENABLE_SELF_SERVE").default("true").asBoolStrict()}).call(this,s(2))},function(i,o,s){(function(_){var $=s(126),_e=s(127),tt=s(42);function j(){return st.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function nt(At,Mt){if(j()<Mt)throw new RangeError("Invalid typed array length");return st.TYPED_ARRAY_SUPPORT?(At=new Uint8Array(Mt)).__proto__=st.prototype:(At===null&&(At=new st(Mt)),At.length=Mt),At}function st(At,Mt,$t){if(!(st.TYPED_ARRAY_SUPPORT||this instanceof st))return new st(At,Mt,$t);if(typeof At=="number"){if(typeof Mt=="string")throw new Error("If encoding is specified then the first argument must be a string");return ft(this,At)}return ht(this,At,Mt,$t)}function ht(At,Mt,$t,pn){if(typeof Mt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Mt instanceof ArrayBuffer?function(hn,Sn,An,Gn){if(Sn.byteLength,An<0||Sn.byteLength<An)throw new RangeError("'offset' is out of bounds");if(Sn.byteLength<An+(Gn||0))throw new RangeError("'length' is out of bounds");return Sn=An===void 0&&Gn===void 0?new Uint8Array(Sn):Gn===void 0?new Uint8Array(Sn,An):new Uint8Array(Sn,An,Gn),st.TYPED_ARRAY_SUPPORT?(hn=Sn).__proto__=st.prototype:hn=dt(hn,Sn),hn}(At,Mt,$t,pn):typeof Mt=="string"?function(hn,Sn,An){if(typeof An=="string"&&An!==""||(An="utf8"),!st.isEncoding(An))throw new TypeError('"encoding" must be a valid string encoding');var Gn=0|mt(Sn,An),Qr=(hn=nt(hn,Gn)).write(Sn,An);return Qr!==Gn&&(hn=hn.slice(0,Qr)),hn}(At,Mt,$t):function(hn,Sn){if(st.isBuffer(Sn)){var An=0|ut(Sn.length);return(hn=nt(hn,An)).length===0||Sn.copy(hn,0,0,An),hn}if(Sn){if(typeof ArrayBuffer<"u"&&Sn.buffer instanceof ArrayBuffer||"length"in Sn)return typeof Sn.length!="number"||(Gn=Sn.length)!=Gn?nt(hn,0):dt(hn,Sn);if(Sn.type==="Buffer"&&tt(Sn.data))return dt(hn,Sn.data)}var Gn;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(At,Mt)}function _t(At){if(typeof At!="number")throw new TypeError('"size" argument must be a number');if(At<0)throw new RangeError('"size" argument must not be negative')}function ft(At,Mt){if(_t(Mt),At=nt(At,Mt<0?0:0|ut(Mt)),!st.TYPED_ARRAY_SUPPORT)for(var $t=0;$t<Mt;++$t)At[$t]=0;return At}function dt(At,Mt){var $t=Mt.length<0?0:0|ut(Mt.length);At=nt(At,$t);for(var pn=0;pn<$t;pn+=1)At[pn]=255&Mt[pn];return At}function ut(At){if(At>=j())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j().toString(16)+" bytes");return 0|At}function mt(At,Mt){if(st.isBuffer(At))return At.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(At)||At instanceof ArrayBuffer))return At.byteLength;typeof At!="string"&&(At=""+At);var $t=At.length;if($t===0)return 0;for(var pn=!1;;)switch(Mt){case"ascii":case"latin1":case"binary":return $t;case"utf8":case"utf-8":case void 0:return vn(At).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$t;case"hex":return $t>>>1;case"base64":return un(At).length;default:if(pn)return vn(At).length;Mt=(""+Mt).toLowerCase(),pn=!0}}function wt(At,Mt,$t){var pn=!1;if((Mt===void 0||Mt<0)&&(Mt=0),Mt>this.length||(($t===void 0||$t>this.length)&&($t=this.length),$t<=0)||($t>>>=0)<=(Mt>>>=0))return"";for(At||(At="utf8");;)switch(At){case"hex":return Xt(this,Mt,$t);case"utf8":case"utf-8":return It(this,Mt,$t);case"ascii":return Bt(this,Mt,$t);case"latin1":case"binary":return Lt(this,Mt,$t);case"base64":return St(this,Mt,$t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zt(this,Mt,$t);default:if(pn)throw new TypeError("Unknown encoding: "+At);At=(At+"").toLowerCase(),pn=!0}}function Qt(At,Mt,$t){var pn=At[Mt];At[Mt]=At[$t],At[$t]=pn}function Dt(At,Mt,$t,pn,hn){if(At.length===0)return-1;if(typeof $t=="string"?(pn=$t,$t=0):$t>2147483647?$t=2147483647:$t<-2147483648&&($t=-2147483648),$t=+$t,isNaN($t)&&($t=hn?0:At.length-1),$t<0&&($t=At.length+$t),$t>=At.length){if(hn)return-1;$t=At.length-1}else if($t<0){if(!hn)return-1;$t=0}if(typeof Mt=="string"&&(Mt=st.from(Mt,pn)),st.isBuffer(Mt))return Mt.length===0?-1:Et(At,Mt,$t,pn,hn);if(typeof Mt=="number")return Mt&=255,st.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?hn?Uint8Array.prototype.indexOf.call(At,Mt,$t):Uint8Array.prototype.lastIndexOf.call(At,Mt,$t):Et(At,[Mt],$t,pn,hn);throw new TypeError("val must be string, number or Buffer")}function Et(At,Mt,$t,pn,hn){var Sn,An=1,Gn=At.length,Qr=Mt.length;if(pn!==void 0&&((pn=String(pn).toLowerCase())==="ucs2"||pn==="ucs-2"||pn==="utf16le"||pn==="utf-16le")){if(At.length<2||Mt.length<2)return-1;An=2,Gn/=2,Qr/=2,$t/=2}function _i(Yr,no){return An===1?Yr[no]:Yr.readUInt16BE(no*An)}if(hn){var Pr=-1;for(Sn=$t;Sn<Gn;Sn++)if(_i(At,Sn)===_i(Mt,Pr===-1?0:Sn-Pr)){if(Pr===-1&&(Pr=Sn),Sn-Pr+1===Qr)return Pr*An}else Pr!==-1&&(Sn-=Sn-Pr),Pr=-1}else for($t+Qr>Gn&&($t=Gn-Qr),Sn=$t;Sn>=0;Sn--){for(var po=!0,jr=0;jr<Qr;jr++)if(_i(At,Sn+jr)!==_i(Mt,jr)){po=!1;break}if(po)return Sn}return-1}function xt(At,Mt,$t,pn){$t=Number($t)||0;var hn=At.length-$t;pn?(pn=Number(pn))>hn&&(pn=hn):pn=hn;var Sn=Mt.length;if(Sn%2!=0)throw new TypeError("Invalid hex string");pn>Sn/2&&(pn=Sn/2);for(var An=0;An<pn;++An){var Gn=parseInt(Mt.substr(2*An,2),16);if(isNaN(Gn))return An;At[$t+An]=Gn}return An}function pt(At,Mt,$t,pn){return rn(vn(Mt,At.length-$t),At,$t,pn)}function Vt(At,Mt,$t,pn){return rn(function(hn){for(var Sn=[],An=0;An<hn.length;++An)Sn.push(255&hn.charCodeAt(An));return Sn}(Mt),At,$t,pn)}function nn(At,Mt,$t,pn){return Vt(At,Mt,$t,pn)}function on(At,Mt,$t,pn){return rn(un(Mt),At,$t,pn)}function bt(At,Mt,$t,pn){return rn(function(hn,Sn){for(var An,Gn,Qr,_i=[],Pr=0;Pr<hn.length&&!((Sn-=2)<0);++Pr)An=hn.charCodeAt(Pr),Gn=An>>8,Qr=An%256,_i.push(Qr),_i.push(Gn);return _i}(Mt,At.length-$t),At,$t,pn)}function St(At,Mt,$t){return Mt===0&&$t===At.length?$.fromByteArray(At):$.fromByteArray(At.slice(Mt,$t))}function It(At,Mt,$t){$t=Math.min(At.length,$t);for(var pn=[],hn=Mt;hn<$t;){var Sn,An,Gn,Qr,_i=At[hn],Pr=null,po=_i>239?4:_i>223?3:_i>191?2:1;if(hn+po<=$t)switch(po){case 1:_i<128&&(Pr=_i);break;case 2:(192&(Sn=At[hn+1]))==128&&(Qr=(31&_i)<<6|63&Sn)>127&&(Pr=Qr);break;case 3:Sn=At[hn+1],An=At[hn+2],(192&Sn)==128&&(192&An)==128&&(Qr=(15&_i)<<12|(63&Sn)<<6|63&An)>2047&&(Qr<55296||Qr>57343)&&(Pr=Qr);break;case 4:Sn=At[hn+1],An=At[hn+2],Gn=At[hn+3],(192&Sn)==128&&(192&An)==128&&(192&Gn)==128&&(Qr=(15&_i)<<18|(63&Sn)<<12|(63&An)<<6|63&Gn)>65535&&Qr<1114112&&(Pr=Qr)}Pr===null?(Pr=65533,po=1):Pr>65535&&(Pr-=65536,pn.push(Pr>>>10&1023|55296),Pr=56320|1023&Pr),pn.push(Pr),hn+=po}return function(jr){var Yr=jr.length;if(Yr<=4096)return String.fromCharCode.apply(String,jr);for(var no="",Qo=0;Qo<Yr;)no+=String.fromCharCode.apply(String,jr.slice(Qo,Qo+=4096));return no}(pn)}o.Buffer=st,o.SlowBuffer=function(At){return+At!=At&&(At=0),st.alloc(+At)},o.INSPECT_MAX_BYTES=50,st.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var At=new Uint8Array(1);return At.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},At.foo()===42&&typeof At.subarray=="function"&&At.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=j(),st.poolSize=8192,st._augment=function(At){return At.__proto__=st.prototype,At},st.from=function(At,Mt,$t){return ht(null,At,Mt,$t)},st.TYPED_ARRAY_SUPPORT&&(st.prototype.__proto__=Uint8Array.prototype,st.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&st[Symbol.species]===st&&Object.defineProperty(st,Symbol.species,{value:null,configurable:!0})),st.alloc=function(At,Mt,$t){return function(pn,hn,Sn,An){return _t(hn),hn<=0?nt(pn,hn):Sn!==void 0?typeof An=="string"?nt(pn,hn).fill(Sn,An):nt(pn,hn).fill(Sn):nt(pn,hn)}(null,At,Mt,$t)},st.allocUnsafe=function(At){return ft(null,At)},st.allocUnsafeSlow=function(At){return ft(null,At)},st.isBuffer=function(At){return!(At==null||!At._isBuffer)},st.compare=function(At,Mt){if(!st.isBuffer(At)||!st.isBuffer(Mt))throw new TypeError("Arguments must be Buffers");if(At===Mt)return 0;for(var $t=At.length,pn=Mt.length,hn=0,Sn=Math.min($t,pn);hn<Sn;++hn)if(At[hn]!==Mt[hn]){$t=At[hn],pn=Mt[hn];break}return $t<pn?-1:pn<$t?1:0},st.isEncoding=function(At){switch(String(At).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(At,Mt){if(!tt(At))throw new TypeError('"list" argument must be an Array of Buffers');if(At.length===0)return st.alloc(0);var $t;if(Mt===void 0)for(Mt=0,$t=0;$t<At.length;++$t)Mt+=At[$t].length;var pn=st.allocUnsafe(Mt),hn=0;for($t=0;$t<At.length;++$t){var Sn=At[$t];if(!st.isBuffer(Sn))throw new TypeError('"list" argument must be an Array of Buffers');Sn.copy(pn,hn),hn+=Sn.length}return pn},st.byteLength=mt,st.prototype._isBuffer=!0,st.prototype.swap16=function(){var At=this.length;if(At%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Mt=0;Mt<At;Mt+=2)Qt(this,Mt,Mt+1);return this},st.prototype.swap32=function(){var At=this.length;if(At%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Mt=0;Mt<At;Mt+=4)Qt(this,Mt,Mt+3),Qt(this,Mt+1,Mt+2);return this},st.prototype.swap64=function(){var At=this.length;if(At%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Mt=0;Mt<At;Mt+=8)Qt(this,Mt,Mt+7),Qt(this,Mt+1,Mt+6),Qt(this,Mt+2,Mt+5),Qt(this,Mt+3,Mt+4);return this},st.prototype.toString=function(){var At=0|this.length;return At===0?"":arguments.length===0?It(this,0,At):wt.apply(this,arguments)},st.prototype.equals=function(At){if(!st.isBuffer(At))throw new TypeError("Argument must be a Buffer");return this===At||st.compare(this,At)===0},st.prototype.inspect=function(){var At="",Mt=o.INSPECT_MAX_BYTES;return this.length>0&&(At=this.toString("hex",0,Mt).match(/.{2}/g).join(" "),this.length>Mt&&(At+=" ... ")),"<Buffer "+At+">"},st.prototype.compare=function(At,Mt,$t,pn,hn){if(!st.isBuffer(At))throw new TypeError("Argument must be a Buffer");if(Mt===void 0&&(Mt=0),$t===void 0&&($t=At?At.length:0),pn===void 0&&(pn=0),hn===void 0&&(hn=this.length),Mt<0||$t>At.length||pn<0||hn>this.length)throw new RangeError("out of range index");if(pn>=hn&&Mt>=$t)return 0;if(pn>=hn)return-1;if(Mt>=$t)return 1;if(this===At)return 0;for(var Sn=(hn>>>=0)-(pn>>>=0),An=($t>>>=0)-(Mt>>>=0),Gn=Math.min(Sn,An),Qr=this.slice(pn,hn),_i=At.slice(Mt,$t),Pr=0;Pr<Gn;++Pr)if(Qr[Pr]!==_i[Pr]){Sn=Qr[Pr],An=_i[Pr];break}return Sn<An?-1:An<Sn?1:0},st.prototype.includes=function(At,Mt,$t){return this.indexOf(At,Mt,$t)!==-1},st.prototype.indexOf=function(At,Mt,$t){return Dt(this,At,Mt,$t,!0)},st.prototype.lastIndexOf=function(At,Mt,$t){return Dt(this,At,Mt,$t,!1)},st.prototype.write=function(At,Mt,$t,pn){if(Mt===void 0)pn="utf8",$t=this.length,Mt=0;else if($t===void 0&&typeof Mt=="string")pn=Mt,$t=this.length,Mt=0;else{if(!isFinite(Mt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Mt|=0,isFinite($t)?($t|=0,pn===void 0&&(pn="utf8")):(pn=$t,$t=void 0)}var hn=this.length-Mt;if(($t===void 0||$t>hn)&&($t=hn),At.length>0&&($t<0||Mt<0)||Mt>this.length)throw new RangeError("Attempt to write outside buffer bounds");pn||(pn="utf8");for(var Sn=!1;;)switch(pn){case"hex":return xt(this,At,Mt,$t);case"utf8":case"utf-8":return pt(this,At,Mt,$t);case"ascii":return Vt(this,At,Mt,$t);case"latin1":case"binary":return nn(this,At,Mt,$t);case"base64":return on(this,At,Mt,$t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,At,Mt,$t);default:if(Sn)throw new TypeError("Unknown encoding: "+pn);pn=(""+pn).toLowerCase(),Sn=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(At,Mt,$t){var pn="";$t=Math.min(At.length,$t);for(var hn=Mt;hn<$t;++hn)pn+=String.fromCharCode(127&At[hn]);return pn}function Lt(At,Mt,$t){var pn="";$t=Math.min(At.length,$t);for(var hn=Mt;hn<$t;++hn)pn+=String.fromCharCode(At[hn]);return pn}function Xt(At,Mt,$t){var pn=At.length;(!Mt||Mt<0)&&(Mt=0),(!$t||$t<0||$t>pn)&&($t=pn);for(var hn="",Sn=Mt;Sn<$t;++Sn)hn+=yn(At[Sn]);return hn}function zt(At,Mt,$t){for(var pn=At.slice(Mt,$t),hn="",Sn=0;Sn<pn.length;Sn+=2)hn+=String.fromCharCode(pn[Sn]+256*pn[Sn+1]);return hn}function Pt(At,Mt,$t){if(At%1!=0||At<0)throw new RangeError("offset is not uint");if(At+Mt>$t)throw new RangeError("Trying to access beyond buffer length")}function jt(At,Mt,$t,pn,hn,Sn){if(!st.isBuffer(At))throw new TypeError('"buffer" argument must be a Buffer instance');if(Mt>hn||Mt<Sn)throw new RangeError('"value" argument is out of bounds');if($t+pn>At.length)throw new RangeError("Index out of range")}function Zt(At,Mt,$t,pn){Mt<0&&(Mt=65535+Mt+1);for(var hn=0,Sn=Math.min(At.length-$t,2);hn<Sn;++hn)At[$t+hn]=(Mt&255<<8*(pn?hn:1-hn))>>>8*(pn?hn:1-hn)}function Ct(At,Mt,$t,pn){Mt<0&&(Mt=4294967295+Mt+1);for(var hn=0,Sn=Math.min(At.length-$t,4);hn<Sn;++hn)At[$t+hn]=Mt>>>8*(pn?hn:3-hn)&255}function Ft(At,Mt,$t,pn,hn,Sn){if($t+pn>At.length)throw new RangeError("Index out of range");if($t<0)throw new RangeError("Index out of range")}function Ht(At,Mt,$t,pn,hn){return hn||Ft(At,0,$t,4),_e.write(At,Mt,$t,pn,23,4),$t+4}function tn(At,Mt,$t,pn,hn){return hn||Ft(At,0,$t,8),_e.write(At,Mt,$t,pn,52,8),$t+8}st.prototype.slice=function(At,Mt){var $t,pn=this.length;if((At=~~At)<0?(At+=pn)<0&&(At=0):At>pn&&(At=pn),(Mt=Mt===void 0?pn:~~Mt)<0?(Mt+=pn)<0&&(Mt=0):Mt>pn&&(Mt=pn),Mt<At&&(Mt=At),st.TYPED_ARRAY_SUPPORT)($t=this.subarray(At,Mt)).__proto__=st.prototype;else{var hn=Mt-At;$t=new st(hn,void 0);for(var Sn=0;Sn<hn;++Sn)$t[Sn]=this[Sn+At]}return $t},st.prototype.readUIntLE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=this[At],hn=1,Sn=0;++Sn<Mt&&(hn*=256);)pn+=this[At+Sn]*hn;return pn},st.prototype.readUIntBE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=this[At+--Mt],hn=1;Mt>0&&(hn*=256);)pn+=this[At+--Mt]*hn;return pn},st.prototype.readUInt8=function(At,Mt){return Mt||Pt(At,1,this.length),this[At]},st.prototype.readUInt16LE=function(At,Mt){return Mt||Pt(At,2,this.length),this[At]|this[At+1]<<8},st.prototype.readUInt16BE=function(At,Mt){return Mt||Pt(At,2,this.length),this[At]<<8|this[At+1]},st.prototype.readUInt32LE=function(At,Mt){return Mt||Pt(At,4,this.length),(this[At]|this[At+1]<<8|this[At+2]<<16)+16777216*this[At+3]},st.prototype.readUInt32BE=function(At,Mt){return Mt||Pt(At,4,this.length),16777216*this[At]+(this[At+1]<<16|this[At+2]<<8|this[At+3])},st.prototype.readIntLE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=this[At],hn=1,Sn=0;++Sn<Mt&&(hn*=256);)pn+=this[At+Sn]*hn;return pn>=(hn*=128)&&(pn-=Math.pow(2,8*Mt)),pn},st.prototype.readIntBE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=Mt,hn=1,Sn=this[At+--pn];pn>0&&(hn*=256);)Sn+=this[At+--pn]*hn;return Sn>=(hn*=128)&&(Sn-=Math.pow(2,8*Mt)),Sn},st.prototype.readInt8=function(At,Mt){return Mt||Pt(At,1,this.length),128&this[At]?-1*(255-this[At]+1):this[At]},st.prototype.readInt16LE=function(At,Mt){Mt||Pt(At,2,this.length);var $t=this[At]|this[At+1]<<8;return 32768&$t?4294901760|$t:$t},st.prototype.readInt16BE=function(At,Mt){Mt||Pt(At,2,this.length);var $t=this[At+1]|this[At]<<8;return 32768&$t?4294901760|$t:$t},st.prototype.readInt32LE=function(At,Mt){return Mt||Pt(At,4,this.length),this[At]|this[At+1]<<8|this[At+2]<<16|this[At+3]<<24},st.prototype.readInt32BE=function(At,Mt){return Mt||Pt(At,4,this.length),this[At]<<24|this[At+1]<<16|this[At+2]<<8|this[At+3]},st.prototype.readFloatLE=function(At,Mt){return Mt||Pt(At,4,this.length),_e.read(this,At,!0,23,4)},st.prototype.readFloatBE=function(At,Mt){return Mt||Pt(At,4,this.length),_e.read(this,At,!1,23,4)},st.prototype.readDoubleLE=function(At,Mt){return Mt||Pt(At,8,this.length),_e.read(this,At,!0,52,8)},st.prototype.readDoubleBE=function(At,Mt){return Mt||Pt(At,8,this.length),_e.read(this,At,!1,52,8)},st.prototype.writeUIntLE=function(At,Mt,$t,pn){At=+At,Mt|=0,$t|=0,pn||jt(this,At,Mt,$t,Math.pow(2,8*$t)-1,0);var hn=1,Sn=0;for(this[Mt]=255&At;++Sn<$t&&(hn*=256);)this[Mt+Sn]=At/hn&255;return Mt+$t},st.prototype.writeUIntBE=function(At,Mt,$t,pn){At=+At,Mt|=0,$t|=0,pn||jt(this,At,Mt,$t,Math.pow(2,8*$t)-1,0);var hn=$t-1,Sn=1;for(this[Mt+hn]=255&At;--hn>=0&&(Sn*=256);)this[Mt+hn]=At/Sn&255;return Mt+$t},st.prototype.writeUInt8=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,1,255,0),st.TYPED_ARRAY_SUPPORT||(At=Math.floor(At)),this[Mt]=255&At,Mt+1},st.prototype.writeUInt16LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,65535,0),st.TYPED_ARRAY_SUPPORT?(this[Mt]=255&At,this[Mt+1]=At>>>8):Zt(this,At,Mt,!0),Mt+2},st.prototype.writeUInt16BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,65535,0),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>8,this[Mt+1]=255&At):Zt(this,At,Mt,!1),Mt+2},st.prototype.writeUInt32LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,4294967295,0),st.TYPED_ARRAY_SUPPORT?(this[Mt+3]=At>>>24,this[Mt+2]=At>>>16,this[Mt+1]=At>>>8,this[Mt]=255&At):Ct(this,At,Mt,!0),Mt+4},st.prototype.writeUInt32BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,4294967295,0),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>24,this[Mt+1]=At>>>16,this[Mt+2]=At>>>8,this[Mt+3]=255&At):Ct(this,At,Mt,!1),Mt+4},st.prototype.writeIntLE=function(At,Mt,$t,pn){if(At=+At,Mt|=0,!pn){var hn=Math.pow(2,8*$t-1);jt(this,At,Mt,$t,hn-1,-hn)}var Sn=0,An=1,Gn=0;for(this[Mt]=255&At;++Sn<$t&&(An*=256);)At<0&&Gn===0&&this[Mt+Sn-1]!==0&&(Gn=1),this[Mt+Sn]=(At/An>>0)-Gn&255;return Mt+$t},st.prototype.writeIntBE=function(At,Mt,$t,pn){if(At=+At,Mt|=0,!pn){var hn=Math.pow(2,8*$t-1);jt(this,At,Mt,$t,hn-1,-hn)}var Sn=$t-1,An=1,Gn=0;for(this[Mt+Sn]=255&At;--Sn>=0&&(An*=256);)At<0&&Gn===0&&this[Mt+Sn+1]!==0&&(Gn=1),this[Mt+Sn]=(At/An>>0)-Gn&255;return Mt+$t},st.prototype.writeInt8=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,1,127,-128),st.TYPED_ARRAY_SUPPORT||(At=Math.floor(At)),At<0&&(At=255+At+1),this[Mt]=255&At,Mt+1},st.prototype.writeInt16LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,32767,-32768),st.TYPED_ARRAY_SUPPORT?(this[Mt]=255&At,this[Mt+1]=At>>>8):Zt(this,At,Mt,!0),Mt+2},st.prototype.writeInt16BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,32767,-32768),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>8,this[Mt+1]=255&At):Zt(this,At,Mt,!1),Mt+2},st.prototype.writeInt32LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,2147483647,-2147483648),st.TYPED_ARRAY_SUPPORT?(this[Mt]=255&At,this[Mt+1]=At>>>8,this[Mt+2]=At>>>16,this[Mt+3]=At>>>24):Ct(this,At,Mt,!0),Mt+4},st.prototype.writeInt32BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,2147483647,-2147483648),At<0&&(At=4294967295+At+1),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>24,this[Mt+1]=At>>>16,this[Mt+2]=At>>>8,this[Mt+3]=255&At):Ct(this,At,Mt,!1),Mt+4},st.prototype.writeFloatLE=function(At,Mt,$t){return Ht(this,At,Mt,!0,$t)},st.prototype.writeFloatBE=function(At,Mt,$t){return Ht(this,At,Mt,!1,$t)},st.prototype.writeDoubleLE=function(At,Mt,$t){return tn(this,At,Mt,!0,$t)},st.prototype.writeDoubleBE=function(At,Mt,$t){return tn(this,At,Mt,!1,$t)},st.prototype.copy=function(At,Mt,$t,pn){if($t||($t=0),pn||pn===0||(pn=this.length),Mt>=At.length&&(Mt=At.length),Mt||(Mt=0),pn>0&&pn<$t&&(pn=$t),pn===$t||At.length===0||this.length===0)return 0;if(Mt<0)throw new RangeError("targetStart out of bounds");if($t<0||$t>=this.length)throw new RangeError("sourceStart out of bounds");if(pn<0)throw new RangeError("sourceEnd out of bounds");pn>this.length&&(pn=this.length),At.length-Mt<pn-$t&&(pn=At.length-Mt+$t);var hn,Sn=pn-$t;if(this===At&&$t<Mt&&Mt<pn)for(hn=Sn-1;hn>=0;--hn)At[hn+Mt]=this[hn+$t];else if(Sn<1e3||!st.TYPED_ARRAY_SUPPORT)for(hn=0;hn<Sn;++hn)At[hn+Mt]=this[hn+$t];else Uint8Array.prototype.set.call(At,this.subarray($t,$t+Sn),Mt);return Sn},st.prototype.fill=function(At,Mt,$t,pn){if(typeof At=="string"){if(typeof Mt=="string"?(pn=Mt,Mt=0,$t=this.length):typeof $t=="string"&&(pn=$t,$t=this.length),At.length===1){var hn=At.charCodeAt(0);hn<256&&(At=hn)}if(pn!==void 0&&typeof pn!="string")throw new TypeError("encoding must be a string");if(typeof pn=="string"&&!st.isEncoding(pn))throw new TypeError("Unknown encoding: "+pn)}else typeof At=="number"&&(At&=255);if(Mt<0||this.length<Mt||this.length<$t)throw new RangeError("Out of range index");if($t<=Mt)return this;var Sn;if(Mt>>>=0,$t=$t===void 0?this.length:$t>>>0,At||(At=0),typeof At=="number")for(Sn=Mt;Sn<$t;++Sn)this[Sn]=At;else{var An=st.isBuffer(At)?At:vn(new st(At,pn).toString()),Gn=An.length;for(Sn=0;Sn<$t-Mt;++Sn)this[Sn+Mt]=An[Sn%Gn]}return this};var mn=/[^+\/0-9A-Za-z-_]/g;function yn(At){return At<16?"0"+At.toString(16):At.toString(16)}function vn(At,Mt){var $t;Mt=Mt||1/0;for(var pn=At.length,hn=null,Sn=[],An=0;An<pn;++An){if(($t=At.charCodeAt(An))>55295&&$t<57344){if(!hn){if($t>56319){(Mt-=3)>-1&&Sn.push(239,191,189);continue}if(An+1===pn){(Mt-=3)>-1&&Sn.push(239,191,189);continue}hn=$t;continue}if($t<56320){(Mt-=3)>-1&&Sn.push(239,191,189),hn=$t;continue}$t=65536+(hn-55296<<10|$t-56320)}else hn&&(Mt-=3)>-1&&Sn.push(239,191,189);if(hn=null,$t<128){if((Mt-=1)<0)break;Sn.push($t)}else if($t<2048){if((Mt-=2)<0)break;Sn.push($t>>6|192,63&$t|128)}else if($t<65536){if((Mt-=3)<0)break;Sn.push($t>>12|224,$t>>6&63|128,63&$t|128)}else{if(!($t<1114112))throw new Error("Invalid code point");if((Mt-=4)<0)break;Sn.push($t>>18|240,$t>>12&63|128,$t>>6&63|128,63&$t|128)}}return Sn}function un(At){return $.toByteArray(function(Mt){if((Mt=function($t){return $t.trim?$t.trim():$t.replace(/^\s+|\s+$/g,"")}(Mt).replace(mn,"")).length<2)return"";for(;Mt.length%4!=0;)Mt+="=";return Mt}(At))}function rn(At,Mt,$t,pn){for(var hn=0;hn<pn&&!(hn+$t>=Mt.length||hn>=At.length);++hn)Mt[hn+$t]=At[hn];return hn}}).call(this,s(6))},function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){_&&(s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(s,_){if(_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}}},function(i,o,s){s.d(o,"a",function(){return _});const _=$=>new Promise(_e=>setTimeout(_e,$||0))},function(i,o,s){var _=s(99),$=_,_e=Function("return this")(),tt=s(98);$.object.extend(proto,tt),$.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.Peer",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SessionType",null,_e),$.exportSymbol("proto.v1.signaling.api.Signal",null,_e),proto.v1.signaling.api.Peer=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.Peer,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.Signal,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.GetHealthRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetPeersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.GetPeersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(j){return proto.v1.signaling.api.Peer.toObject(j,this)},proto.v1.signaling.api.Peer.toObject=function(j,nt){var st,ht={peerId:_.Message.getFieldWithDefault(nt,1,""),organizationId:_.Message.getFieldWithDefault(nt,2,""),userId:(st=nt.getUserId())&&tt.StringValue.toObject(j,st),deviceId:(st=nt.getDeviceId())&&tt.StringValue.toObject(j,st),sessionIdsList:(st=_.Message.getRepeatedField(nt,5))==null?void 0:st,peerCreatedTimestamp:(st=nt.getPeerCreatedTimestamp())&&tt.Int64Value.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.Peer.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setPeerId(st);break;case 2:st=nt.readString(),j.setOrganizationId(st);break;case 3:st=new tt.StringValue,nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setUserId(st);break;case 4:st=new tt.StringValue,nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setDeviceId(st);break;case 5:st=nt.readString(),j.addSessionIds(st);break;case 6:st=new tt.Int64Value,nt.readMessage(st,tt.Int64Value.deserializeBinaryFromReader),j.setPeerCreatedTimestamp(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(j,nt){var st=void 0;(st=j.getPeerId()).length>0&&nt.writeString(1,st),(st=j.getOrganizationId()).length>0&&nt.writeString(2,st),(st=j.getUserId())!=null&&nt.writeMessage(3,st,tt.StringValue.serializeBinaryToWriter),(st=j.getDeviceId())!=null&&nt.writeMessage(4,st,tt.StringValue.serializeBinaryToWriter),(st=j.getSessionIdsList()).length>0&&nt.writeRepeatedString(5,st),(st=j.getPeerCreatedTimestamp())!=null&&nt.writeMessage(6,st,tt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return _.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(j){return _.Message.setProto3StringField(this,2,j)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return _.Message.getWrapperField(this,tt.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(j){return _.Message.setWrapperField(this,3,j)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return _.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return _.Message.getWrapperField(this,tt.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(j){return _.Message.setWrapperField(this,4,j)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return _.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return _.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(j){return _.Message.setField(this,5,j||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(j,nt){return _.Message.addToRepeatedField(this,5,j,nt)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return _.Message.getWrapperField(this,tt.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(j){return _.Message.setWrapperField(this,6,j)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return _.Message.getField(this,6)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(j){return proto.v1.signaling.api.Signal.toObject(j,this)},proto.v1.signaling.api.Signal.toObject=function(j,nt){var st,ht={sessionId:(st=nt.getSessionId())&&tt.StringValue.toObject(j,st),sessionCreatedTimestamp:(st=nt.getSessionCreatedTimestamp())&&tt.Int64Value.toObject(j,st),senderId:_.Message.getFieldWithDefault(nt,3,""),receiverId:_.Message.getFieldWithDefault(nt,4,""),payload:_.Message.getFieldWithDefault(nt,5,""),iceServers:_.Message.getFieldWithDefault(nt,6,""),iceTransportPolicy:_.Message.getFieldWithDefault(nt,7,""),sessionType:_.Message.getFieldWithDefault(nt,8,0)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.Signal.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new tt.StringValue;nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setSessionId(st);break;case 2:st=new tt.Int64Value,nt.readMessage(st,tt.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(st);break;case 3:st=nt.readString(),j.setSenderId(st);break;case 4:st=nt.readString(),j.setReceiverId(st);break;case 5:st=nt.readString(),j.setPayload(st);break;case 6:st=nt.readString(),j.setIceServers(st);break;case 7:st=nt.readString(),j.setIceTransportPolicy(st);break;case 8:st=nt.readEnum(),j.setSessionType(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(j,nt){var st=void 0;(st=j.getSessionId())!=null&&nt.writeMessage(1,st,tt.StringValue.serializeBinaryToWriter),(st=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,st,tt.Int64Value.serializeBinaryToWriter),(st=j.getSenderId()).length>0&&nt.writeString(3,st),(st=j.getReceiverId()).length>0&&nt.writeString(4,st),(st=j.getPayload()).length>0&&nt.writeString(5,st),(st=j.getIceServers()).length>0&&nt.writeString(6,st),(st=j.getIceTransportPolicy()).length>0&&nt.writeString(7,st),(st=j.getSessionType())!==0&&nt.writeEnum(8,st)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return _.Message.getWrapperField(this,tt.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,tt.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return _.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(j){return _.Message.setProto3StringField(this,3,j)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return _.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(j){return _.Message.setProto3StringField(this,4,j)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return _.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(j){return _.Message.setProto3StringField(this,5,j)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,6,j)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return _.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(j){return _.Message.setProto3StringField(this,7,j)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return _.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(j){return _.Message.setProto3EnumField(this,8,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthRequest.toObject(j,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthResponse.toObject(j,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(j,nt){var st={version:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setVersion(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getVersion()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerRequest.toObject(j,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerResponse.toObject(j,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(j,nt){var st,ht={peer:(st=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Peer;nt.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeer())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerRequest.toObject(j,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(j,nt){var st={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setPeerId(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeerId()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerResponse.toObject(j,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerRequest.toObject(j,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(j,nt){var st,ht={peer:(st=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Peer;nt.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeer())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerResponse.toObject(j,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersRequest.toObject(j,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(j,nt){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersResponse.toObject(j,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(j,nt){var st={peersList:_.Message.toObjectList(nt.getPeersList(),proto.v1.signaling.api.Peer.toObject,j)};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Peer;nt.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.addPeers(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeersList()).length>0&&nt.writeRepeatedMessage(1,st,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return _.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(j){return _.Message.setRepeatedWrapperField(this,1,j)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(j,nt){return _.Message.addToRepeatedWrapperField(this,1,j,proto.v1.signaling.api.Peer,nt)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersRequest.toObject(j,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersResponse.toObject(j,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(j,nt){var st={iceServers:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setIceServers(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getIceServers()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalRequest.toObject(j,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(j,nt){var st,ht={signal:(st=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Signal;nt.readMessage(st,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getSignal())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalResponse.toObject(j,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(j,nt){var st,ht={sessionId:(st=nt.getSessionId())&&tt.StringValue.toObject(j,st),sessionCreatedTimestamp:(st=nt.getSessionCreatedTimestamp())&&tt.Int64Value.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new tt.StringValue;nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setSessionId(st);break;case 2:st=new tt.Int64Value,nt.readMessage(st,tt.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(j,nt){var st=void 0;(st=j.getSessionId())!=null&&nt.writeMessage(1,st,tt.StringValue.serializeBinaryToWriter),(st=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,st,tt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return _.Message.getWrapperField(this,tt.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,tt.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(j,nt){var st={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setPeerId(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeerId()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(j,nt){var st,ht={signal:(st=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Signal;nt.readMessage(st,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getSignal())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},$.object.extend(o,proto.v1.signaling.api)},function(i,o,s){function _($,_e,tt=()=>!0){if($ instanceof _e&&tt($))return $;throw $}s.d(o,"a",function(){return _})},function(i,o,s){s.d(o,"a",function(){return $});var _=s(34);class $ extends Error{constructor(tt,j,nt,st,ht={},_t){super(`Unexpected response (${nt}) for ${tt} ${j}: ${JSON.stringify(_t?Object(_.a)([..._t.entries()].reduce((ft,[dt,ut])=>(ft[dt]=ut,ft),{})):{})} -- ${JSON.stringify(Object(_.a)(st))}`),this.method=tt,this.url=j,this.statusCode=nt,this.body=st,this.validationErrors=ht,this.headers=_t}}},function(i,o,s){function _(ft){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt})(ft)}function $(ft,dt){return!dt||_(dt)!=="object"&&typeof dt!="function"?_e(ft):dt}function _e(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}function tt(ft){var dt=typeof Map=="function"?new Map:void 0;return(tt=function(ut){if(ut===null||(mt=ut,Function.toString.call(mt).indexOf("[native code]")===-1))return ut;var mt;if(typeof ut!="function")throw new TypeError("Super expression must either be null or a function");if(dt!==void 0){if(dt.has(ut))return dt.get(ut);dt.set(ut,wt)}function wt(){return j(ut,arguments,ht(this).constructor)}return wt.prototype=Object.create(ut.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),st(wt,ut)})(ft)}function j(ft,dt,ut){return(j=nt()?Reflect.construct:function(mt,wt,Qt){var Dt=[null];Dt.push.apply(Dt,wt);var Et=new(Function.bind.apply(mt,Dt));return Qt&&st(Et,Qt.prototype),Et}).apply(null,arguments)}function nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function st(ft,dt){return(st=Object.setPrototypeOf||function(ut,mt){return ut.__proto__=mt,ut})(ft,dt)}function ht(ft){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(dt){return dt.__proto__||Object.getPrototypeOf(dt)})(ft)}var _t=function(ft){(function(Qt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),Dt&&st(Qt,Dt)})(wt,ft);var dt,ut,mt=(dt=wt,ut=nt(),function(){var Qt,Dt=ht(dt);if(ut){var Et=ht(this).constructor;Qt=Reflect.construct(Dt,arguments,Et)}else Qt=Dt.apply(this,arguments);return $(this,Qt)});function wt(Qt){var Dt;return function(Et,xt){if(!(Et instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,wt),Dt=mt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Qt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(_e(Dt),wt),Dt}return wt}(tt(Error));i.exports=function(ft){if(ft.length>2)throw new _t(ft);function dt(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=mt}function ut(mt){return new dt(mt)}return dt.prototype.transform=ft,ut.Format=dt,ut}},function(i,o,s){(function(_){var $=Object.getOwnPropertyDescriptors||function(Pt){for(var jt=Object.keys(Pt),Zt={},Ct=0;Ct<jt.length;Ct++)Zt[jt[Ct]]=Object.getOwnPropertyDescriptor(Pt,jt[Ct]);return Zt},_e=/%[sdj%]/g;o.format=function(Pt){if(!Dt(Pt)){for(var jt=[],Zt=0;Zt<arguments.length;Zt++)jt.push(nt(arguments[Zt]));return jt.join(" ")}Zt=1;for(var Ct=arguments,Ft=Ct.length,Ht=String(Pt).replace(_e,function(mn){if(mn==="%%")return"%";if(Zt>=Ft)return mn;switch(mn){case"%s":return String(Ct[Zt++]);case"%d":return Number(Ct[Zt++]);case"%j":try{return JSON.stringify(Ct[Zt++])}catch{return"[Circular]"}default:return mn}}),tn=Ct[Zt];Zt<Ft;tn=Ct[++Zt])wt(tn)||!pt(tn)?Ht+=" "+tn:Ht+=" "+nt(tn);return Ht},o.deprecate=function(Pt,jt){if(_!==void 0&&_.noDeprecation===!0)return Pt;if(_===void 0)return function(){return o.deprecate(Pt,jt).apply(this,arguments)};var Zt=!1;return function(){if(!Zt){if(_.throwDeprecation)throw new Error(jt);_.traceDeprecation?console.trace(jt):console.error(jt),Zt=!0}return Pt.apply(this,arguments)}};var tt,j={};function nt(Pt,jt){var Zt={seen:[],stylize:ht};return arguments.length>=3&&(Zt.depth=arguments[2]),arguments.length>=4&&(Zt.colors=arguments[3]),mt(jt)?Zt.showHidden=jt:jt&&o._extend(Zt,jt),Et(Zt.showHidden)&&(Zt.showHidden=!1),Et(Zt.depth)&&(Zt.depth=2),Et(Zt.colors)&&(Zt.colors=!1),Et(Zt.customInspect)&&(Zt.customInspect=!0),Zt.colors&&(Zt.stylize=st),_t(Zt,Pt,Zt.depth)}function st(Pt,jt){var Zt=nt.styles[jt];return Zt?"\x1B["+nt.colors[Zt][0]+"m"+Pt+"\x1B["+nt.colors[Zt][1]+"m":Pt}function ht(Pt,jt){return Pt}function _t(Pt,jt,Zt){if(Pt.customInspect&&jt&&on(jt.inspect)&&jt.inspect!==o.inspect&&(!jt.constructor||jt.constructor.prototype!==jt)){var Ct=jt.inspect(Zt,Pt);return Dt(Ct)||(Ct=_t(Pt,Ct,Zt)),Ct}var Ft=function(At,Mt){if(Et(Mt))return At.stylize("undefined","undefined");if(Dt(Mt)){var $t="'"+JSON.stringify(Mt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return At.stylize($t,"string")}if(Qt(Mt))return At.stylize(""+Mt,"number");if(mt(Mt))return At.stylize(""+Mt,"boolean");if(wt(Mt))return At.stylize("null","null")}(Pt,jt);if(Ft)return Ft;var Ht=Object.keys(jt),tn=function(At){var Mt={};return At.forEach(function($t,pn){Mt[$t]=!0}),Mt}(Ht);if(Pt.showHidden&&(Ht=Object.getOwnPropertyNames(jt)),nn(jt)&&(Ht.indexOf("message")>=0||Ht.indexOf("description")>=0))return ft(jt);if(Ht.length===0){if(on(jt)){var mn=jt.name?": "+jt.name:"";return Pt.stylize("[Function"+mn+"]","special")}if(xt(jt))return Pt.stylize(RegExp.prototype.toString.call(jt),"regexp");if(Vt(jt))return Pt.stylize(Date.prototype.toString.call(jt),"date");if(nn(jt))return ft(jt)}var yn,vn="",un=!1,rn=["{","}"];return ut(jt)&&(un=!0,rn=["[","]"]),on(jt)&&(vn=" [Function"+(jt.name?": "+jt.name:"")+"]"),xt(jt)&&(vn=" "+RegExp.prototype.toString.call(jt)),Vt(jt)&&(vn=" "+Date.prototype.toUTCString.call(jt)),nn(jt)&&(vn=" "+ft(jt)),Ht.length!==0||un&&jt.length!=0?Zt<0?xt(jt)?Pt.stylize(RegExp.prototype.toString.call(jt),"regexp"):Pt.stylize("[Object]","special"):(Pt.seen.push(jt),yn=un?function(At,Mt,$t,pn,hn){for(var Sn=[],An=0,Gn=Mt.length;An<Gn;++An)Lt(Mt,String(An))?Sn.push(dt(At,Mt,$t,pn,String(An),!0)):Sn.push("");return hn.forEach(function(Qr){Qr.match(/^\d+$/)||Sn.push(dt(At,Mt,$t,pn,Qr,!0))}),Sn}(Pt,jt,Zt,tn,Ht):Ht.map(function(At){return dt(Pt,jt,Zt,tn,At,un)}),Pt.seen.pop(),function(At,Mt,$t){return At.reduce(function(pn,hn){return hn.indexOf(`
`)>=0,pn+hn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$t[0]+(Mt===""?"":Mt+`
 `)+" "+At.join(`,
  `)+" "+$t[1]:$t[0]+Mt+" "+At.join(", ")+" "+$t[1]}(yn,vn,rn)):rn[0]+vn+rn[1]}function ft(Pt){return"["+Error.prototype.toString.call(Pt)+"]"}function dt(Pt,jt,Zt,Ct,Ft,Ht){var tn,mn,yn;if((yn=Object.getOwnPropertyDescriptor(jt,Ft)||{value:jt[Ft]}).get?mn=yn.set?Pt.stylize("[Getter/Setter]","special"):Pt.stylize("[Getter]","special"):yn.set&&(mn=Pt.stylize("[Setter]","special")),Lt(Ct,Ft)||(tn="["+Ft+"]"),mn||(Pt.seen.indexOf(yn.value)<0?(mn=wt(Zt)?_t(Pt,yn.value,null):_t(Pt,yn.value,Zt-1)).indexOf(`
`)>-1&&(mn=Ht?mn.split(`
`).map(function(vn){return"  "+vn}).join(`
`).substr(2):`
`+mn.split(`
`).map(function(vn){return"   "+vn}).join(`
`)):mn=Pt.stylize("[Circular]","special")),Et(tn)){if(Ht&&Ft.match(/^\d+$/))return mn;(tn=JSON.stringify(""+Ft)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tn=tn.substr(1,tn.length-2),tn=Pt.stylize(tn,"name")):(tn=tn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tn=Pt.stylize(tn,"string"))}return tn+": "+mn}function ut(Pt){return Array.isArray(Pt)}function mt(Pt){return typeof Pt=="boolean"}function wt(Pt){return Pt===null}function Qt(Pt){return typeof Pt=="number"}function Dt(Pt){return typeof Pt=="string"}function Et(Pt){return Pt===void 0}function xt(Pt){return pt(Pt)&&bt(Pt)==="[object RegExp]"}function pt(Pt){return typeof Pt=="object"&&Pt!==null}function Vt(Pt){return pt(Pt)&&bt(Pt)==="[object Date]"}function nn(Pt){return pt(Pt)&&(bt(Pt)==="[object Error]"||Pt instanceof Error)}function on(Pt){return typeof Pt=="function"}function bt(Pt){return Object.prototype.toString.call(Pt)}function St(Pt){return Pt<10?"0"+Pt.toString(10):Pt.toString(10)}o.debuglog=function(Pt){if(Et(tt)&&(tt=_.env.NODE_DEBUG||""),Pt=Pt.toUpperCase(),!j[Pt])if(new RegExp("\\b"+Pt+"\\b","i").test(tt)){var jt=_.pid;j[Pt]=function(){var Zt=o.format.apply(o,arguments);console.error("%s %d: %s",Pt,jt,Zt)}}else j[Pt]=function(){};return j[Pt]},o.inspect=nt,nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=ut,o.isBoolean=mt,o.isNull=wt,o.isNullOrUndefined=function(Pt){return Pt==null},o.isNumber=Qt,o.isString=Dt,o.isSymbol=function(Pt){return typeof Pt=="symbol"},o.isUndefined=Et,o.isRegExp=xt,o.isObject=pt,o.isDate=Vt,o.isError=nn,o.isFunction=on,o.isPrimitive=function(Pt){return Pt===null||typeof Pt=="boolean"||typeof Pt=="number"||typeof Pt=="string"||typeof Pt=="symbol"||Pt===void 0},o.isBuffer=s(107);var It=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bt(){var Pt=new Date,jt=[St(Pt.getHours()),St(Pt.getMinutes()),St(Pt.getSeconds())].join(":");return[Pt.getDate(),It[Pt.getMonth()],jt].join(" ")}function Lt(Pt,jt){return Object.prototype.hasOwnProperty.call(Pt,jt)}o.log=function(){console.log("%s - %s",Bt(),o.format.apply(o,arguments))},o.inherits=s(108),o._extend=function(Pt,jt){if(!jt||!pt(jt))return Pt;for(var Zt=Object.keys(jt),Ct=Zt.length;Ct--;)Pt[Zt[Ct]]=jt[Zt[Ct]];return Pt};var Xt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function zt(Pt,jt){if(!Pt){var Zt=new Error("Promise was rejected with a falsy value");Zt.reason=Pt,Pt=Zt}return jt(Pt)}o.promisify=function(Pt){if(typeof Pt!="function")throw new TypeError('The "original" argument must be of type Function');if(Xt&&Pt[Xt]){var jt;if(typeof(jt=Pt[Xt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(jt,Xt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),jt}function jt(){for(var Zt,Ct,Ft=new Promise(function(mn,yn){Zt=mn,Ct=yn}),Ht=[],tn=0;tn<arguments.length;tn++)Ht.push(arguments[tn]);Ht.push(function(mn,yn){mn?Ct(mn):Zt(yn)});try{Pt.apply(this,Ht)}catch(mn){Ct(mn)}return Ft}return Object.setPrototypeOf(jt,Object.getPrototypeOf(Pt)),Xt&&Object.defineProperty(jt,Xt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(jt,$(Pt))},o.promisify.custom=Xt,o.callbackify=function(Pt){if(typeof Pt!="function")throw new TypeError('The "original" argument must be of type Function');function jt(){for(var Zt=[],Ct=0;Ct<arguments.length;Ct++)Zt.push(arguments[Ct]);var Ft=Zt.pop();if(typeof Ft!="function")throw new TypeError("The last argument must be of type Function");var Ht=this,tn=function(){return Ft.apply(Ht,arguments)};Pt.apply(this,Zt).then(function(mn){_.nextTick(tn,null,mn)},function(mn){_.nextTick(zt,mn,tn)})}return Object.setPrototypeOf(jt,Object.getPrototypeOf(Pt)),Object.defineProperties(jt,$(Pt)),jt}}).call(this,s(2))},function(i,o,s){i.exports=function(_,$){$||($={}),typeof $=="function"&&($={cmp:$});var _e,tt=typeof $.cycles=="boolean"&&$.cycles,j=$.cmp&&(_e=$.cmp,function(st){return function(ht,_t){var ft={key:ht,value:st[ht]},dt={key:_t,value:st[_t]};return _e(ft,dt)}}),nt=[];return function st(ht){if(ht&&ht.toJSON&&typeof ht.toJSON=="function"&&(ht=ht.toJSON()),ht!==void 0){if(typeof ht=="number")return isFinite(ht)?""+ht:"null";if(typeof ht!="object")return JSON.stringify(ht);var _t,ft;if(Array.isArray(ht)){for(ft="[",_t=0;_t<ht.length;_t++)_t&&(ft+=","),ft+=st(ht[_t])||"null";return ft+"]"}if(ht===null)return"null";if(nt.indexOf(ht)!==-1){if(tt)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var dt=nt.push(ht)-1,ut=Object.keys(ht).sort(j&&j(ht));for(ft="",_t=0;_t<ut.length;_t++){var mt=ut[_t],wt=st(ht[mt]);wt&&(ft&&(ft+=","),ft+=JSON.stringify(mt)+":"+wt)}return nt.splice(dt,1),"{"+ft+"}"}}(_)}},function(i,o,s){(function(_){var $=_!==void 0&&_||typeof self<"u"&&self||window,_e=Function.prototype.apply;function tt(j,nt){this._id=j,this._clearFn=nt}o.setTimeout=function(){return new tt(_e.call(setTimeout,$,arguments),clearTimeout)},o.setInterval=function(){return new tt(_e.call(setInterval,$,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(j){j&&j.close()},tt.prototype.unref=tt.prototype.ref=function(){},tt.prototype.close=function(){this._clearFn.call($,this._id)},o.enroll=function(j,nt){clearTimeout(j._idleTimeoutId),j._idleTimeout=nt},o.unenroll=function(j){clearTimeout(j._idleTimeoutId),j._idleTimeout=-1},o._unrefActive=o.active=function(j){clearTimeout(j._idleTimeoutId);var nt=j._idleTimeout;nt>=0&&(j._idleTimeoutId=setTimeout(function(){j._onTimeout&&j._onTimeout()},nt))},s(141),o.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,s(6))},function(i,o,s){(function(_){_===void 0||!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?i.exports={nextTick:function($,_e,tt,j){if(typeof $!="function")throw new TypeError('"callback" argument must be a function');var nt,st,ht=arguments.length;switch(ht){case 0:case 1:return _.nextTick($);case 2:return _.nextTick(function(){$.call(null,_e)});case 3:return _.nextTick(function(){$.call(null,_e,tt)});case 4:return _.nextTick(function(){$.call(null,_e,tt,j)});default:for(nt=new Array(ht-1),st=0;st<nt.length;)nt[st++]=arguments[st];return _.nextTick(function(){$.apply(null,nt)})}}}:i.exports=_}).call(this,s(2))},function(i,o,s){(function(_){function $(_e){return Object.prototype.toString.call(_e)}o.isArray=function(_e){return Array.isArray?Array.isArray(_e):$(_e)==="[object Array]"},o.isBoolean=function(_e){return typeof _e=="boolean"},o.isNull=function(_e){return _e===null},o.isNullOrUndefined=function(_e){return _e==null},o.isNumber=function(_e){return typeof _e=="number"},o.isString=function(_e){return typeof _e=="string"},o.isSymbol=function(_e){return typeof _e=="symbol"},o.isUndefined=function(_e){return _e===void 0},o.isRegExp=function(_e){return $(_e)==="[object RegExp]"},o.isObject=function(_e){return typeof _e=="object"&&_e!==null},o.isDate=function(_e){return $(_e)==="[object Date]"},o.isError=function(_e){return $(_e)==="[object Error]"||_e instanceof Error},o.isFunction=function(_e){return typeof _e=="function"},o.isPrimitive=function(_e){return _e===null||typeof _e=="boolean"||typeof _e=="number"||typeof _e=="string"||typeof _e=="symbol"||_e===void 0},o.isBuffer=_.isBuffer}).call(this,s(5).Buffer)},function(i,o){o.endianness=function(){return"LE"},o.hostname=function(){return typeof location<"u"?location.hostname:""},o.loadavg=function(){return[]},o.uptime=function(){return 0},o.freemem=function(){return Number.MAX_VALUE},o.totalmem=function(){return Number.MAX_VALUE},o.cpus=function(){return[]},o.type=function(){return"Browser"},o.release=function(){return typeof navigator<"u"?navigator.appVersion:""},o.networkInterfaces=o.getNetworkInterfaces=function(){return{}},o.arch=function(){return"javascript"},o.platform=function(){return"browser"},o.tmpdir=o.tmpDir=function(){return"/tmp"},o.EOL=`
`,o.homedir=function(){return"/"}},function(i,o,s){var _=s(58),$=s(61).warn,_e=o;_e.version=s(138).version,_e.transports=s(139),_e.config=s(50),_e.addColors=_.levels,_e.format=_.format,_e.createLogger=s(88),_e.ExceptionHandler=s(89),_e.RejectionHandler=s(93),_e.Container=s(210),_e.Transport=s(20),_e.loggers=new _e.Container;var tt=_e.createLogger();Object.keys(_e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(j){return _e[j]=function(){return tt[j].apply(tt,arguments)}}),Object.defineProperty(_e,"level",{get:function(){return tt.level},set:function(j){tt.level=j}}),Object.defineProperty(_e,"exceptions",{get:function(){return tt.exceptions}}),["exitOnError"].forEach(function(j){Object.defineProperty(_e,j,{get:function(){return tt[j]},set:function(nt){tt[j]=nt}})}),Object.defineProperty(_e,"default",{get:function(){return{exceptionHandlers:tt.exceptionHandlers,rejectionHandlers:tt.rejectionHandlers,transports:tt.transports}}}),$.deprecated(_e,"setLevels"),$.forFunctions(_e,"useFormat",["cli"]),$.forProperties(_e,"useFormat",["padLevels","stripColors"]),$.forFunctions(_e,"deprecated",["addRewriter","addFilter","clone","extend"]),$.forProperties(_e,"deprecated",["emitErrs","levelLength"]),$.moved(_e,"createLogger","Logger")},function(i,o,s){var _=s(13),$=s(142),_e=s(3).LEVEL,tt=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.handleRejections=nt.handleRejections,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(st){j.levels=st.levels,j.parent=st}),this.once("unpipe",function(st){st===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(tt,$),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);var ht=this.level||this.parent&&this.parent.level;if(!ht||this.levels[ht]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,st);var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(st(),_t)throw _t;return}return this.log(ft,st)}return st(null)},tt.prototype._writev=function(j,nt){if(this.logv){var st=j.filter(this._accept,this);return st.length?this.logv(st,nt):nt(null)}for(var ht=0;ht<j.length;ht++)if(this._accept(j[ht]))if(!j[ht].chunk||this.format){var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j[ht].chunk),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(j[ht].callback(),_t)throw nt(null),_t}else this.log(ft,j[ht].callback)}else this.log(j[ht].chunk,j[ht].callback);return nt(null)},tt.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var st=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&st&&!(this.levels[st]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},tt.prototype._nop=function(){},i.exports.LegacyTransportStream=s(148)},function(i,o,s){var _,$=typeof Reflect=="object"?Reflect:null,_e=$&&typeof $.apply=="function"?$.apply:function(wt,Qt,Dt){return Function.prototype.apply.call(wt,Qt,Dt)};_=$&&typeof $.ownKeys=="function"?$.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var tt=Number.isNaN||function(wt){return wt!=wt};function j(){j.init.call(this)}i.exports=j,j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var nt=10;function st(wt){return wt._maxListeners===void 0?j.defaultMaxListeners:wt._maxListeners}function ht(wt,Qt,Dt,Et){var xt,pt,Vt,nn;if(typeof Dt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Dt);if((pt=wt._events)===void 0?(pt=wt._events=Object.create(null),wt._eventsCount=0):(pt.newListener!==void 0&&(wt.emit("newListener",Qt,Dt.listener?Dt.listener:Dt),pt=wt._events),Vt=pt[Qt]),Vt===void 0)Vt=pt[Qt]=Dt,++wt._eventsCount;else if(typeof Vt=="function"?Vt=pt[Qt]=Et?[Dt,Vt]:[Vt,Dt]:Et?Vt.unshift(Dt):Vt.push(Dt),(xt=st(wt))>0&&Vt.length>xt&&!Vt.warned){Vt.warned=!0;var on=new Error("Possible EventEmitter memory leak detected. "+Vt.length+" "+String(Qt)+" listeners added. Use emitter.setMaxListeners() to increase limit");on.name="MaxListenersExceededWarning",on.emitter=wt,on.type=Qt,on.count=Vt.length,nn=on,console&&console.warn&&console.warn(nn)}return wt}function _t(){for(var wt=[],Qt=0;Qt<arguments.length;Qt++)wt.push(arguments[Qt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,_e(this.listener,this.target,wt))}function ft(wt,Qt,Dt){var Et={fired:!1,wrapFn:void 0,target:wt,type:Qt,listener:Dt},xt=_t.bind(Et);return xt.listener=Dt,Et.wrapFn=xt,xt}function dt(wt,Qt,Dt){var Et=wt._events;if(Et===void 0)return[];var xt=Et[Qt];return xt===void 0?[]:typeof xt=="function"?Dt?[xt.listener||xt]:[xt]:Dt?function(pt){for(var Vt=new Array(pt.length),nn=0;nn<Vt.length;++nn)Vt[nn]=pt[nn].listener||pt[nn];return Vt}(xt):mt(xt,xt.length)}function ut(wt){var Qt=this._events;if(Qt!==void 0){var Dt=Qt[wt];if(typeof Dt=="function")return 1;if(Dt!==void 0)return Dt.length}return 0}function mt(wt,Qt){for(var Dt=new Array(Qt),Et=0;Et<Qt;++Et)Dt[Et]=wt[Et];return Dt}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return nt},set:function(wt){if(typeof wt!="number"||wt<0||tt(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");nt=wt}}),j.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||tt(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},j.prototype.getMaxListeners=function(){return st(this)},j.prototype.emit=function(wt){for(var Qt=[],Dt=1;Dt<arguments.length;Dt++)Qt.push(arguments[Dt]);var Et=wt==="error",xt=this._events;if(xt!==void 0)Et=Et&&xt.error===void 0;else if(!Et)return!1;if(Et){var pt;if(Qt.length>0&&(pt=Qt[0]),pt instanceof Error)throw pt;var Vt=new Error("Unhandled error."+(pt?" ("+pt.message+")":""));throw Vt.context=pt,Vt}var nn=xt[wt];if(nn===void 0)return!1;if(typeof nn=="function")_e(nn,this,Qt);else{var on=nn.length,bt=mt(nn,on);for(Dt=0;Dt<on;++Dt)_e(bt[Dt],this,Qt)}return!0},j.prototype.addListener=function(wt,Qt){return ht(this,wt,Qt,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(wt,Qt){return ht(this,wt,Qt,!0)},j.prototype.once=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.on(wt,ft(this,wt,Qt)),this},j.prototype.prependOnceListener=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.prependListener(wt,ft(this,wt,Qt)),this},j.prototype.removeListener=function(wt,Qt){var Dt,Et,xt,pt,Vt;if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);if((Et=this._events)===void 0)return this;if((Dt=Et[wt])===void 0)return this;if(Dt===Qt||Dt.listener===Qt)--this._eventsCount==0?this._events=Object.create(null):(delete Et[wt],Et.removeListener&&this.emit("removeListener",wt,Dt.listener||Qt));else if(typeof Dt!="function"){for(xt=-1,pt=Dt.length-1;pt>=0;pt--)if(Dt[pt]===Qt||Dt[pt].listener===Qt){Vt=Dt[pt].listener,xt=pt;break}if(xt<0)return this;xt===0?Dt.shift():function(nn,on){for(;on+1<nn.length;on++)nn[on]=nn[on+1];nn.pop()}(Dt,xt),Dt.length===1&&(Et[wt]=Dt[0]),Et.removeListener!==void 0&&this.emit("removeListener",wt,Vt||Qt)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(wt){var Qt,Dt,Et;if((Dt=this._events)===void 0)return this;if(Dt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Dt[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Dt[wt]),this;if(arguments.length===0){var xt,pt=Object.keys(Dt);for(Et=0;Et<pt.length;++Et)(xt=pt[Et])!=="removeListener"&&this.removeAllListeners(xt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Qt=Dt[wt])=="function")this.removeListener(wt,Qt);else if(Qt!==void 0)for(Et=Qt.length-1;Et>=0;Et--)this.removeListener(wt,Qt[Et]);return this},j.prototype.listeners=function(wt){return dt(this,wt,!0)},j.prototype.rawListeners=function(wt){return dt(this,wt,!1)},j.listenerCount=function(wt,Qt){return typeof wt.listenerCount=="function"?wt.listenerCount(Qt):ut.call(wt,Qt)},j.prototype.listenerCount=ut,j.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},function(i,o,s){var _=s(147).Buffer,$=_.isEncoding||function(ut){switch((ut=""+ut)&&ut.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _e(ut){var mt;switch(this.encoding=function(wt){var Qt=function(Dt){if(!Dt)return"utf8";for(var Et;;)switch(Dt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Dt;default:if(Et)return;Dt=(""+Dt).toLowerCase(),Et=!0}}(wt);if(typeof Qt!="string"&&(_.isEncoding===$||!$(wt)))throw new Error("Unknown encoding: "+wt);return Qt||wt}(ut),this.encoding){case"utf16le":this.text=nt,this.end=st,mt=4;break;case"utf8":this.fillLast=j,mt=4;break;case"base64":this.text=ht,this.end=_t,mt=3;break;default:return this.write=ft,void(this.end=dt)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(mt)}function tt(ut){return ut<=127?0:ut>>5==6?2:ut>>4==14?3:ut>>3==30?4:ut>>6==2?-1:-2}function j(ut){var mt=this.lastTotal-this.lastNeed,wt=function(Qt,Dt,Et){if((192&Dt[0])!=128)return Qt.lastNeed=0,"�";if(Qt.lastNeed>1&&Dt.length>1){if((192&Dt[1])!=128)return Qt.lastNeed=1,"�";if(Qt.lastNeed>2&&Dt.length>2&&(192&Dt[2])!=128)return Qt.lastNeed=2,"�"}}(this,ut);return wt!==void 0?wt:this.lastNeed<=ut.length?(ut.copy(this.lastChar,mt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ut.copy(this.lastChar,mt,0,ut.length),void(this.lastNeed-=ut.length))}function nt(ut,mt){if((ut.length-mt)%2==0){var wt=ut.toString("utf16le",mt);if(wt){var Qt=wt.charCodeAt(wt.length-1);if(Qt>=55296&&Qt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ut[ut.length-1],ut.toString("utf16le",mt,ut.length-1)}function st(ut){var mt=ut&&ut.length?this.write(ut):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return mt+this.lastChar.toString("utf16le",0,wt)}return mt}function ht(ut,mt){var wt=(ut.length-mt)%3;return wt===0?ut.toString("base64",mt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=ut[ut.length-1]:(this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1]),ut.toString("base64",mt,ut.length-wt))}function _t(ut){var mt=ut&&ut.length?this.write(ut):"";return this.lastNeed?mt+this.lastChar.toString("base64",0,3-this.lastNeed):mt}function ft(ut){return ut.toString(this.encoding)}function dt(ut){return ut&&ut.length?this.write(ut):""}o.StringDecoder=_e,_e.prototype.write=function(ut){if(ut.length===0)return"";var mt,wt;if(this.lastNeed){if((mt=this.fillLast(ut))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<ut.length?mt?mt+this.text(ut,wt):this.text(ut,wt):mt||""},_e.prototype.end=function(ut){var mt=ut&&ut.length?this.write(ut):"";return this.lastNeed?mt+"�":mt},_e.prototype.text=function(ut,mt){var wt=function(Dt,Et,xt){var pt=Et.length-1;if(pt<xt)return 0;var Vt=tt(Et[pt]);return Vt>=0?(Vt>0&&(Dt.lastNeed=Vt-1),Vt):--pt<xt||Vt===-2?0:(Vt=tt(Et[pt]))>=0?(Vt>0&&(Dt.lastNeed=Vt-2),Vt):--pt<xt||Vt===-2?0:(Vt=tt(Et[pt]))>=0?(Vt>0&&(Vt===2?Vt=0:Dt.lastNeed=Vt-3),Vt):0}(this,ut,mt);if(!this.lastNeed)return ut.toString("utf8",mt);this.lastTotal=wt;var Qt=ut.length-(wt-this.lastNeed);return ut.copy(this.lastChar,0,Qt),ut.toString("utf8",mt,Qt)},_e.prototype.fillLast=function(ut){if(this.lastNeed<=ut.length)return ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ut.length),this.lastNeed-=ut.length}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var mt=[];for(var wt in ut)mt.push(wt);return mt};i.exports=_t;var _e=s(17);_e.inherits=s(7);var tt=s(69),j=s(48);_e.inherits(_t,tt);for(var nt=$(j.prototype),st=0;st<nt.length;st++){var ht=nt[st];_t.prototype[ht]||(_t.prototype[ht]=j.prototype[ht])}function _t(ut){if(!(this instanceof _t))return new _t(ut);tt.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ft)}function ft(){this.allowHalfOpen||this._writableState.ended||_.nextTick(dt,this)}function dt(ut){ut.end()}Object.defineProperty(_t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_t.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),_t.prototype._destroy=function(ut,mt){this.push(null),this.end(),_.nextTick(mt,ut)}},function(i,o,s){(function(_){function $(Wt){var ln=0;return function(){return ln<Wt.length?{done:!1,value:Wt[ln++]}:{done:!0}}}var _e=typeof Object.defineProperties=="function"?Object.defineProperty:function(Wt,ln,bn){Wt!=Array.prototype&&Wt!=Object.prototype&&(Wt[ln]=bn.value)},tt=function(Wt){Wt=[typeof window=="object"&&window,typeof self=="object"&&self,typeof _=="object"&&_,Wt];for(var ln=0;ln<Wt.length;++ln){var bn=Wt[ln];if(bn&&bn.Math==Math)return bn}throw Error("Cannot find global object")}(this);function j(Wt,ln){if(ln){var bn=tt;Wt=Wt.split(".");for(var Cn=0;Cn<Wt.length-1;Cn++){var Wn=Wt[Cn];Wn in bn||(bn[Wn]={}),bn=bn[Wn]}(ln=ln(Cn=bn[Wt=Wt[Wt.length-1]]))!=Cn&&ln!=null&&_e(bn,Wt,{configurable:!0,writable:!0,value:ln})}}function nt(Wt){var ln=typeof Symbol<"u"&&Symbol.iterator&&Wt[Symbol.iterator];return ln?ln.call(Wt):{next:$(Wt)}}j("Object.is",function(Wt){return Wt||function(ln,bn){return ln===bn?ln!==0||1/ln==1/bn:ln!=ln&&bn!=bn}}),j("Array.prototype.includes",function(Wt){return Wt||function(ln,bn){var Cn=this;Cn instanceof String&&(Cn=String(Cn));var Wn=Cn.length;for(0>(bn=bn||0)&&(bn=Math.max(bn+Wn,0));bn<Wn;bn++){var sr=Cn[bn];if(sr===ln||Object.is(sr,ln))return!0}return!1}}),j("Promise",function(Wt){function ln(Dn){this.b=0,this.c=void 0,this.a=[];var qn=this.f();try{Dn(qn.resolve,qn.reject)}catch(Br){qn.reject(Br)}}function bn(){this.a=null}function Cn(Dn){return Dn instanceof ln?Dn:new ln(function(qn){qn(Dn)})}if(Wt)return Wt;bn.prototype.b=function(Dn){if(this.a==null){this.a=[];var qn=this;this.c(function(){qn.g()})}this.a.push(Dn)};var Wn=tt.setTimeout;bn.prototype.c=function(Dn){Wn(Dn,0)},bn.prototype.g=function(){for(;this.a&&this.a.length;){var Dn=this.a;this.a=[];for(var qn=0;qn<Dn.length;++qn){var Br=Dn[qn];Dn[qn]=null;try{Br()}catch(Er){this.f(Er)}}}this.a=null},bn.prototype.f=function(Dn){this.c(function(){throw Dn})},ln.prototype.f=function(){function Dn(Er){return function(Lr){Br||(Br=!0,Er.call(qn,Lr))}}var qn=this,Br=!1;return{resolve:Dn(this.m),reject:Dn(this.g)}},ln.prototype.m=function(Dn){if(Dn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Dn instanceof ln)this.o(Dn);else{e:switch(typeof Dn){case"object":var qn=Dn!=null;break e;case"function":qn=!0;break e;default:qn=!1}qn?this.l(Dn):this.h(Dn)}},ln.prototype.l=function(Dn){var qn=void 0;try{qn=Dn.then}catch(Br){return void this.g(Br)}typeof qn=="function"?this.u(qn,Dn):this.h(Dn)},ln.prototype.g=function(Dn){this.i(2,Dn)},ln.prototype.h=function(Dn){this.i(1,Dn)},ln.prototype.i=function(Dn,qn){if(this.b!=0)throw Error("Cannot settle("+Dn+", "+qn+"): Promise already settled in state"+this.b);this.b=Dn,this.c=qn,this.j()},ln.prototype.j=function(){if(this.a!=null){for(var Dn=0;Dn<this.a.length;++Dn)sr.b(this.a[Dn]);this.a=null}};var sr=new bn;return ln.prototype.o=function(Dn){var qn=this.f();Dn.w(qn.resolve,qn.reject)},ln.prototype.u=function(Dn,qn){var Br=this.f();try{Dn.call(qn,Br.resolve,Br.reject)}catch(Er){Br.reject(Er)}},ln.prototype.then=function(Dn,qn){function Br(go,Eo){return typeof go=="function"?function(Go){try{Er(go(Go))}catch(qo){Lr(qo)}}:Eo}var Er,Lr,Vo=new ln(function(go,Eo){Er=go,Lr=Eo});return this.w(Br(Dn,Er),Br(qn,Lr)),Vo},ln.prototype.catch=function(Dn){return this.then(void 0,Dn)},ln.prototype.w=function(Dn,qn){function Br(){switch(Er.b){case 1:Dn(Er.c);break;case 2:qn(Er.c);break;default:throw Error("Unexpected state: "+Er.b)}}var Er=this;this.a==null?sr.b(Br):this.a.push(Br)},ln.resolve=Cn,ln.reject=function(Dn){return new ln(function(qn,Br){Br(Dn)})},ln.race=function(Dn){return new ln(function(qn,Br){for(var Er=nt(Dn),Lr=Er.next();!Lr.done;Lr=Er.next())Cn(Lr.value).w(qn,Br)})},ln.all=function(Dn){var qn=nt(Dn),Br=qn.next();return Br.done?Cn([]):new ln(function(Er,Lr){function Vo(Go){return function(qo){go[Go]=qo,--Eo==0&&Er(go)}}var go=[],Eo=0;do go.push(void 0),Eo++,Cn(Br.value).w(Vo(go.length-1),Lr),Br=qn.next();while(!Br.done)})},ln});var st=st||{},ht=this||self;function _t(Wt,ln){Wt=Wt.split("."),ln=ln||ht;for(var bn=0;bn<Wt.length;bn++)if((ln=ln[Wt[bn]])==null)return null;return ln}function ft(){}function dt(Wt){var ln=typeof Wt;if(ln=="object"){if(!Wt)return"null";if(Wt instanceof Array)return"array";if(Wt instanceof Object)return ln;var bn=Object.prototype.toString.call(Wt);if(bn=="[object Window]")return"object";if(bn=="[object Array]"||typeof Wt.length=="number"&&Wt.splice!==void 0&&Wt.propertyIsEnumerable!==void 0&&!Wt.propertyIsEnumerable("splice"))return"array";if(bn=="[object Function]"||Wt.call!==void 0&&Wt.propertyIsEnumerable!==void 0&&!Wt.propertyIsEnumerable("call"))return"function"}else if(ln=="function"&&Wt.call===void 0)return"object";return ln}function ut(Wt){var ln=typeof Wt;return ln=="object"&&Wt!=null||ln=="function"}function mt(Wt,ln,bn){return Wt.call.apply(Wt.bind,arguments)}function wt(Wt,ln,bn){if(!Wt)throw Error();if(2<arguments.length){var Cn=Array.prototype.slice.call(arguments,2);return function(){var Wn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Wn,Cn),Wt.apply(ln,Wn)}}return function(){return Wt.apply(ln,arguments)}}function Qt(Wt,ln,bn){return(Qt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mt:wt).apply(null,arguments)}function Dt(Wt,ln){function bn(){}bn.prototype=ln.prototype,Wt.S=ln.prototype,Wt.prototype=new bn,Wt.prototype.constructor=Wt}function Et(){this.a={}}function xt(Wt,ln,bn,Cn){this.f=Wt,this.c=ln,this.b=bn,this.a=Cn}function pt(Wt,ln,bn,Cn){bn=bn===void 0?{}:bn,this.c=Wt,this.a=bn,this.b=ln,this.f=Cn===void 0?null:Cn}function Vt(Wt,ln,bn,Cn,Wn,sr){this.name=Wt,this.a=Wn,this.b=sr}function nn(Wt,ln,bn){bn=bn===void 0?{}:bn;var Cn=Cn===void 0?new Et:Cn;return new xt(ln,Wt,bn,Cn)}function on(Wt,ln,bn,Cn){return Cn instanceof Vt?Cn:new Vt(Wt,bn,Cn.b||ln.constructor,Cn.f,Cn.a,Cn.c)}function bt(Wt){this.a=Wt}function St(Wt){switch(Wt){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function It(Wt){if(Error.captureStackTrace)Error.captureStackTrace(this,It);else{var ln=Error().stack;ln&&(this.stack=ln)}Wt&&(this.message=String(Wt))}function Bt(Wt,ln){for(var bn="",Cn=(Wt=Wt.split("%s")).length-1,Wn=0;Wn<Cn;Wn++)bn+=Wt[Wn]+(Wn<ln.length?ln[Wn]:"%s");It.call(this,bn+Wt[Cn])}function Lt(){this.j=null,this.i=[],this.l=0,this.b=Xt,this.f=this.a=this.h=0,this.c=null,this.g=0}Et.prototype.get=function(Wt){return this.a[Wt]},Et.prototype.f=function(){return Object.keys(this.a)},xt.prototype.getRequestMessage=function(){return this.f},xt.prototype.getMethodDescriptor=function(){return this.c},xt.prototype.getMetadata=function(){return this.b},xt.prototype.getCallOptions=function(){return this.a},pt.prototype.getResponseMessage=function(){return this.c},pt.prototype.getMetadata=function(){return this.a},pt.prototype.getMethodDescriptor=function(){return this.b},pt.prototype.getStatus=function(){return this.f},bt.prototype.on=function(Wt,ln){return Wt=="data"||Wt=="error"?this:this.a.on(Wt,ln)},bt.prototype.removeListener=function(Wt,ln){return this.a.removeListener(Wt,ln)},bt.prototype.cancel=function(){this.a.cancel()},Dt(It,Error),It.prototype.name="CustomError",Dt(Bt,It),Bt.prototype.name="AssertionError";var Xt=0,zt=1,Pt=2,jt=3,Zt=0,Ct=128;function Ft(Wt,ln,bn,Cn){throw Wt.b=jt,Wt.j="The stream is broken @"+Wt.l+"/"+bn+". Error: "+Cn+`. With input:
`+ln,Error(Wt.j)}var Ht=Array.prototype.indexOf?function(Wt,ln){return Array.prototype.indexOf.call(Wt,ln,void 0)}:function(Wt,ln){if(typeof Wt=="string")return typeof ln!="string"||ln.length!=1?-1:Wt.indexOf(ln,0);for(var bn=0;bn<Wt.length;bn++)if(bn in Wt&&Wt[bn]===ln)return bn;return-1},tn,mn=String.prototype.trim?function(Wt){return Wt.trim()}:function(Wt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(Wt)[1]};function yn(Wt,ln){return Wt.indexOf(ln)!=-1}function vn(Wt,ln){return Wt<ln?-1:Wt>ln?1:0}e:{var un=ht.navigator;if(un){var rn=un.userAgent;if(rn){tn=rn;break e}}tn=""}var At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mt(Wt){var ln=1;Wt=Wt.split(":");for(var bn=[];0<ln&&Wt.length;)bn.push(Wt.shift()),ln--;return Wt.length&&bn.push(Wt.join(":")),bn}function $t(Wt){return $t[" "](Wt),Wt}$t[" "]=ft;var pn,hn,Sn=yn(tn,"Opera"),An=yn(tn,"Trident")||yn(tn,"MSIE"),Gn=yn(tn,"Edge"),Qr=yn(tn,"Gecko")&&!(yn(tn.toLowerCase(),"webkit")&&!yn(tn,"Edge"))&&!(yn(tn,"Trident")||yn(tn,"MSIE"))&&!yn(tn,"Edge"),_i=yn(tn.toLowerCase(),"webkit")&&!yn(tn,"Edge");function Pr(){var Wt=ht.document;return Wt?Wt.documentMode:void 0}e:{var po="",jr=(hn=tn,Qr?/rv:([^\);]+)(\)|;)/.exec(hn):Gn?/Edge\/([\d\.]+)/.exec(hn):An?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hn):_i?/WebKit\/(\S+)/.exec(hn):Sn?/(?:Version)[ \/]?(\S+)/.exec(hn):void 0);if(jr&&(po=jr?jr[1]:""),An){var Yr=Pr();if(Yr!=null&&Yr>parseFloat(po)){pn=String(Yr);break e}}pn=po}var no,Qo={};function Co(Wt){return function(ln,bn){var Cn=Qo;return Object.prototype.hasOwnProperty.call(Cn,ln)?Cn[ln]:Cn[ln]=bn(ln)}(Wt,function(){for(var ln=0,bn=mn(String(pn)).split("."),Cn=mn(String(Wt)).split("."),Wn=Math.max(bn.length,Cn.length),sr=0;ln==0&&sr<Wn;sr++){var Dn=bn[sr]||"",qn=Cn[sr]||"";do{if(Dn=/(\d*)(\D*)(.*)/.exec(Dn)||["","","",""],qn=/(\d*)(\D*)(.*)/.exec(qn)||["","","",""],Dn[0].length==0&&qn[0].length==0)break;ln=vn(Dn[1].length==0?0:parseInt(Dn[1],10),qn[1].length==0?0:parseInt(qn[1],10))||vn(Dn[2].length==0,qn[2].length==0)||vn(Dn[2],qn[2]),Dn=Dn[3],qn=qn[3]}while(ln==0)}return 0<=ln})}if(ht.document&&An){var Jo=Pr();no=Jo||parseInt(pn,10)||void 0}else no=void 0;var es=no;function xo(){this.F=this.F}xo.prototype.F=!1;var ls,Ds=Object.freeze||function(Wt){return Wt};(ls=!An)||(ls=9<=Number(es));var hs=ls,Hl=An&&!Co("9"),Ll=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var Wt=!1,ln=Object.defineProperty({},"passive",{get:function(){Wt=!0}});try{ht.addEventListener("test",ft,ln),ht.removeEventListener("test",ft,ln)}catch{}return Wt}();function Ls(Wt,ln){this.type=Wt,this.a=this.target=ln,this.defaultPrevented=!1}function Us(Wt,ln){if(Ls.call(this,Wt?Wt.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,Wt){var bn=this.type=Wt.type,Cn=Wt.changedTouches&&Wt.changedTouches.length?Wt.changedTouches[0]:null;if(this.target=Wt.target||Wt.srcElement,this.a=ln,ln=Wt.relatedTarget){if(Qr){e:{try{$t(ln.nodeName);var Wn=!0;break e}catch{}Wn=!1}Wn||(ln=null)}}else bn=="mouseover"?ln=Wt.fromElement:bn=="mouseout"&&(ln=Wt.toElement);this.relatedTarget=ln,Cn?(this.clientX=Cn.clientX!==void 0?Cn.clientX:Cn.pageX,this.clientY=Cn.clientY!==void 0?Cn.clientY:Cn.pageY,this.screenX=Cn.screenX||0,this.screenY=Cn.screenY||0):(this.clientX=Wt.clientX!==void 0?Wt.clientX:Wt.pageX,this.clientY=Wt.clientY!==void 0?Wt.clientY:Wt.pageY,this.screenX=Wt.screenX||0,this.screenY=Wt.screenY||0),this.button=Wt.button,this.key=Wt.key||"",this.ctrlKey=Wt.ctrlKey,this.altKey=Wt.altKey,this.shiftKey=Wt.shiftKey,this.metaKey=Wt.metaKey,this.pointerId=Wt.pointerId||0,this.pointerType=typeof Wt.pointerType=="string"?Wt.pointerType:cu[Wt.pointerType]||"",this.c=Wt,Wt.defaultPrevented&&this.b()}}Ls.prototype.b=function(){this.defaultPrevented=!0},Dt(Us,Ls);var cu=Ds({2:"touch",3:"pen",4:"mouse"});Us.prototype.b=function(){Us.S.b.call(this);var Wt=this.c;if(Wt.preventDefault)Wt.preventDefault();else if(Wt.returnValue=!1,Hl)try{(Wt.ctrlKey||112<=Wt.keyCode&&123>=Wt.keyCode)&&(Wt.keyCode=-1)}catch{}};var Po="closure_listenable_"+(1e6*Math.random()|0),nu=0;function cr(Wt,ln,bn,Cn,Wn){this.listener=Wt,this.proxy=null,this.src=ln,this.type=bn,this.capture=!!Cn,this.A=Wn,this.key=++nu,this.s=this.v=!1}function Gt(Wt){Wt.s=!0,Wt.listener=null,Wt.proxy=null,Wt.src=null,Wt.A=null}function en(Wt){this.src=Wt,this.a={},this.b=0}function fn(Wt,ln){var bn=ln.type;if(bn in Wt.a){var Cn,Wn=Wt.a[bn],sr=Ht(Wn,ln);(Cn=0<=sr)&&Array.prototype.splice.call(Wn,sr,1),Cn&&(Gt(ln),Wt.a[bn].length==0&&(delete Wt.a[bn],Wt.b--))}}function En(Wt,ln,bn,Cn){for(var Wn=0;Wn<Wt.length;++Wn){var sr=Wt[Wn];if(!sr.s&&sr.listener==ln&&sr.capture==!!bn&&sr.A==Cn)return Wn}return-1}en.prototype.add=function(Wt,ln,bn,Cn,Wn){var sr=Wt.toString();(Wt=this.a[sr])||(Wt=this.a[sr]=[],this.b++);var Dn=En(Wt,ln,Cn,Wn);return-1<Dn?(ln=Wt[Dn],bn||(ln.v=!1)):((ln=new cr(ln,this.src,sr,!!Cn,Wn)).v=bn,Wt.push(ln)),ln};var xn="closure_lm_"+(1e6*Math.random()|0),or={};function ar(Wt,ln,bn,Cn,Wn){if(Cn&&Cn.once)(function Dn(qn,Br,Er,Lr,Vo){if(Array.isArray(Br))for(var go=0;go<Br.length;go++)Dn(qn,Br[go],Er,Lr,Vo);else Er=Kn(Er),qn&&qn[Po]?qn.f.add(String(Br),Er,!0,ut(Lr)?!!Lr.capture:!!Lr,Vo):nr(qn,Br,Er,!0,Lr,Vo)})(Wt,ln,bn,Cn,Wn);else if(Array.isArray(ln))for(var sr=0;sr<ln.length;sr++)ar(Wt,ln[sr],bn,Cn,Wn);else bn=Kn(bn),Wt&&Wt[Po]?Wt.f.add(String(ln),bn,!1,ut(Cn)?!!Cn.capture:!!Cn,Wn):nr(Wt,ln,bn,!1,Cn,Wn)}function nr(Wt,ln,bn,Cn,Wn,sr){if(!ln)throw Error("Invalid event type");var Dn=ut(Wn)?!!Wn.capture:!!Wn,qn=Tn(Wt);if(qn||(Wt[xn]=qn=new en(Wt)),!(bn=qn.add(ln,bn,Cn,Dn,sr)).proxy)if(Cn=function(){var Br=wn,Er=hs?function(Lr){return Br.call(Er.src,Er.listener,Lr)}:function(Lr){if(!(Lr=Br.call(Er.src,Er.listener,Lr)))return Lr};return Er}(),bn.proxy=Cn,Cn.src=Wt,Cn.listener=bn,Wt.addEventListener)Ll||(Wn=Dn),Wn===void 0&&(Wn=!1),Wt.addEventListener(ln.toString(),Cn,Wn);else if(Wt.attachEvent)Wt.attachEvent(On(ln.toString()),Cn);else{if(!Wt.addListener||!Wt.removeListener)throw Error("addEventListener and attachEvent are unavailable.");Wt.addListener(Cn)}}function Zn(Wt){if(typeof Wt!="number"&&Wt&&!Wt.s){var ln=Wt.src;if(ln&&ln[Po])fn(ln.f,Wt);else{var bn=Wt.type,Cn=Wt.proxy;ln.removeEventListener?ln.removeEventListener(bn,Cn,Wt.capture):ln.detachEvent?ln.detachEvent(On(bn),Cn):ln.addListener&&ln.removeListener&&ln.removeListener(Cn),(bn=Tn(ln))?(fn(bn,Wt),bn.b==0&&(bn.src=null,ln[xn]=null)):Gt(Wt)}}}function On(Wt){return Wt in or?or[Wt]:or[Wt]="on"+Wt}function io(Wt,ln,bn,Cn){var Wn=!0;if((Wt=Tn(Wt))&&(ln=Wt.a[ln.toString()]))for(ln=ln.concat(),Wt=0;Wt<ln.length;Wt++){var sr=ln[Wt];sr&&sr.capture==bn&&!sr.s&&(sr=Mn(sr,Cn),Wn=Wn&&sr!==!1)}return Wn}function Mn(Wt,ln){var bn=Wt.listener,Cn=Wt.A||Wt.src;return Wt.v&&Zn(Wt),bn.call(Cn,ln)}function wn(Wt,ln){if(Wt.s)return!0;if(!hs){var bn=ln||_t("window.event");ln=new Us(bn,this);var Cn=!0;if(!(0>bn.keyCode||bn.returnValue!=null)){e:{var Wn=!1;if(bn.keyCode==0)try{bn.keyCode=-1;break e}catch{Wn=!0}(Wn||bn.returnValue==null)&&(bn.returnValue=!0)}for(bn=[],Wn=ln.a;Wn;Wn=Wn.parentNode)bn.push(Wn);for(Wt=Wt.type,Wn=bn.length-1;0<=Wn;Wn--){ln.a=bn[Wn];var sr=io(bn[Wn],Wt,!0,ln);Cn=Cn&&sr}for(Wn=0;Wn<bn.length;Wn++)ln.a=bn[Wn],sr=io(bn[Wn],Wt,!1,ln),Cn=Cn&&sr}return Cn}return Mn(Wt,new Us(ln,this))}function Tn(Wt){return(Wt=Wt[xn])instanceof en?Wt:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(Wt){return dt(Wt)=="function"?Wt:(Wt[zn]||(Wt[zn]=function(ln){return Wt.handleEvent(ln)}),Wt[zn])}function lr(){xo.call(this),this.f=new en(this),this.N=this}function ur(Wt,ln){Wt=Wt.N;var bn=ln.type||ln;if(typeof ln=="string")ln=new Ls(ln,Wt);else if(ln instanceof Ls)ln.target=ln.target||Wt;else{var Cn=ln;(function(Wn,sr){for(var Dn,qn,Br=1;Br<arguments.length;Br++){for(Dn in qn=arguments[Br])Wn[Dn]=qn[Dn];for(var Er=0;Er<At.length;Er++)Dn=At[Er],Object.prototype.hasOwnProperty.call(qn,Dn)&&(Wn[Dn]=qn[Dn])}})(ln=new Ls(bn,Wt),Cn)}mr(Wt=ln.a=Wt,bn,!0,ln),mr(Wt,bn,!1,ln)}function mr(Wt,ln,bn,Cn){if(ln=Wt.f.a[String(ln)]){ln=ln.concat();for(var Wn=!0,sr=0;sr<ln.length;++sr){var Dn=ln[sr];if(Dn&&!Dn.s&&Dn.capture==bn){var qn=Dn.listener,Br=Dn.A||Dn.src;Dn.v&&fn(Wt.f,Dn),Wn=qn.call(Br,Cn)!==!1&&Wn}}}}function hr(Wt,ln,bn){if(dt(Wt)=="function")bn&&(Wt=Qt(Wt,bn));else{if(!Wt||typeof Wt.handleEvent!="function")throw Error("Invalid listener argument");Wt=Qt(Wt.handleEvent,Wt)}return 2147483647<Number(ln)?-1:ht.setTimeout(Wt,ln||0)}function br(Wt,ln,bn){this.reset(Wt,ln,bn,void 0,void 0)}Dt(lr,xo),lr.prototype[Po]=!0,lr.prototype.addEventListener=function(Wt,ln,bn,Cn){ar(this,Wt,ln,bn,Cn)},lr.prototype.removeEventListener=function(Wt,ln,bn,Cn){(function Wn(sr,Dn,qn,Br,Er){if(Array.isArray(Dn))for(var Lr=0;Lr<Dn.length;Lr++)Wn(sr,Dn[Lr],qn,Br,Er);else Br=ut(Br)?!!Br.capture:!!Br,qn=Kn(qn),sr&&sr[Po]?(sr=sr.f,(Dn=String(Dn).toString())in sr.a&&-1<(qn=En(Lr=sr.a[Dn],qn,Br,Er))&&(Gt(Lr[qn]),Array.prototype.splice.call(Lr,qn,1),Lr.length==0&&(delete sr.a[Dn],sr.b--))):sr&&(sr=Tn(sr))&&(Dn=sr.a[Dn.toString()],sr=-1,Dn&&(sr=En(Dn,qn,Br,Er)),(qn=-1<sr?Dn[sr]:null)&&Zn(qn))})(this,Wt,ln,bn,Cn)},br.prototype.a=null;function Nr(Wt){this.f=Wt,this.b=this.c=this.a=null}function Kr(Wt,ln){this.name=Wt,this.value=ln}br.prototype.reset=function(Wt,ln,bn,Cn,Wn){delete this.a},Kr.prototype.toString=function(){return this.name};var zr=new Kr("SEVERE",1e3),So=new Kr("CONFIG",700),Bo=new Kr("FINE",500);function Ao(Wt){return Wt.c?Wt.c:Wt.a?Ao(Wt.a):(function(ln,bn){throw new Bt("Failure"+(ln?": "+ln:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Nr.prototype.log=function(Wt,ln,bn){if(Wt.value>=Ao(this).value)for(dt(ln)=="function"&&(ln=ln()),Wt=new br(Wt,String(ln),this.f),bn&&(Wt.a=bn),bn=this;bn;)bn=bn.a};var No,Xo={},fs=null;function Uo(Wt,ln){Wt&&Wt.log(Bo,ln,void 0)}function ws(){}function bs(Wt){var ln;return(ln=Wt.a)||(ln={},Ir(Wt)&&(ln[0]=!0,ln[1]=!0),ln=Wt.a=ln),ln}function Ru(){}function hu(Wt){return(Wt=Ir(Wt))?new ActiveXObject(Wt):new XMLHttpRequest}function Ir(Wt){if(!Wt.b&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var ln=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],bn=0;bn<ln.length;bn++){var Cn=ln[bn];try{return new ActiveXObject(Cn),Wt.b=Cn}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Wt.b}function _a(Wt,ln){this.b={},this.a=[],this.c=0;var bn=arguments.length;if(1<bn){if(bn%2)throw Error("Uneven number of arguments");for(var Cn=0;Cn<bn;Cn+=2)this.set(arguments[Cn],arguments[Cn+1])}else Wt&&du(this,Wt)}function Js(Wt){if(Wt.c!=Wt.a.length){for(var ln=0,bn=0;ln<Wt.a.length;){var Cn=Wt.a[ln];ru(Wt.b,Cn)&&(Wt.a[bn++]=Cn),ln++}Wt.a.length=bn}if(Wt.c!=Wt.a.length){var Wn={};for(bn=ln=0;ln<Wt.a.length;)ru(Wn,Cn=Wt.a[ln])||(Wt.a[bn++]=Cn,Wn[Cn]=1),ln++;Wt.a.length=bn}}function du(Wt,ln){if(ln instanceof _a)for(var bn=ln.f(),Cn=0;Cn<bn.length;Cn++)Wt.set(bn[Cn],ln.get(bn[Cn]));else for(bn in ln)Wt.set(bn,ln[bn])}function ru(Wt,ln){return Object.prototype.hasOwnProperty.call(Wt,ln)}ws.prototype.a=null,Dt(Ru,ws),No=new Ru,_a.prototype.f=function(){return Js(this),this.a.concat()},_a.prototype.get=function(Wt,ln){return ru(this.b,Wt)?this.b[Wt]:ln},_a.prototype.set=function(Wt,ln){ru(this.b,Wt)||(this.c++,this.a.push(Wt)),this.b[Wt]=ln},_a.prototype.forEach=function(Wt,ln){for(var bn=this.f(),Cn=0;Cn<bn.length;Cn++){var Wn=bn[Cn],sr=this.get(Wn);Wt.call(ln,sr,Wn,this)}};var wu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ul(Wt){lr.call(this),this.headers=new _a,this.D=Wt||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=rm,this.B=this.H=!1}Dt(Ul,lr);var rm="",rp=Ul.prototype,mo=function Wt(ln){var bn;if(fs||(fs=new Nr(""),Xo[""]=fs,fs.c=So),!(bn=Xo[ln])){bn=new Nr(ln);var Cn=ln.lastIndexOf("."),Wn=ln.substr(Cn+1);(Cn=Wt(ln.substr(0,Cn))).b||(Cn.b={}),Cn.b[Wn]=bn,bn.a=Cn,Xo[ln]=bn}return bn}("goog.net.XhrIo");rp.b=mo;var rs=/^https?$/i,ss=["POST","PUT"];function Bu(Wt,ln,bn){if(Wt.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Wt.o+"; newUri="+ln);Wt.o=ln,Wt.i="",Wt.g=0,Wt.J="POST",Wt.G=!1,Wt.c=!0,Wt.a=Wt.D?hu(Wt.D):hu(No),Wt.C=Wt.D?bs(Wt.D):bs(No),Wt.a.onreadystatechange=Qt(Wt.K,Wt);try{Uo(Wt.b,Os(Wt,"Opening Xhr")),Wt.I=!0,Wt.a.open("POST",String(ln),!0),Wt.I=!1}catch(sr){return Uo(Wt.b,Os(Wt,"Error opening Xhr: "+sr.message)),void Ko(Wt,sr)}ln=bn||"";var Cn=function(sr){e:{for(var Dn=ip,qn=sr.length,Br=typeof sr=="string"?sr.split(""):sr,Er=0;Er<qn;Er++)if(Er in Br&&Dn.call(void 0,Br[Er],Er,sr)){Dn=Er;break e}Dn=-1}return 0>Dn?null:typeof sr=="string"?sr.charAt(Dn):sr[Dn]}((bn=new _a(Wt.headers)).f()),Wn=ht.FormData&&ln instanceof ht.FormData;!(0<=Ht(ss,"POST"))||Cn||Wn||bn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),bn.forEach(function(sr,Dn){this.a.setRequestHeader(Dn,sr)},Wt),Wt.j&&(Wt.a.responseType=Wt.j),"withCredentials"in Wt.a&&Wt.a.withCredentials!==Wt.H&&(Wt.a.withCredentials=Wt.H);try{Cl(Wt),0<Wt.l&&(Wt.B=function(sr){return An&&Co(9)&&typeof sr.timeout=="number"&&sr.ontimeout!==void 0}(Wt.a),Uo(Wt.b,Os(Wt,"Will abort after "+Wt.l+"ms if incomplete, xhr2 "+Wt.B)),Wt.B?(Wt.a.timeout=Wt.l,Wt.a.ontimeout=Qt(Wt.L,Wt)):Wt.u=hr(Wt.L,Wt.l,Wt)),Uo(Wt.b,Os(Wt,"Sending request")),Wt.m=!0,Wt.a.send(ln),Wt.m=!1}catch(sr){Uo(Wt.b,Os(Wt,"Send error: "+sr.message)),Ko(Wt,sr)}}function ip(Wt){return Wt.toLowerCase()=="content-type"}function Ko(Wt,ln){Wt.c=!1,Wt.a&&(Wt.h=!0,Wt.a.abort(),Wt.h=!1),Wt.i=ln,Wt.g=5,Wu(Wt),fu(Wt)}function Wu(Wt){Wt.G||(Wt.G=!0,ur(Wt,"complete"),ur(Wt,"error"))}function Lu(Wt){if(Wt.c&&st!==void 0){if(Wt.C[1]&&ps(Wt)==4&&Wt.getStatus()==2)Uo(Wt.b,Os(Wt,"Local request error detected and ignored"));else if(Wt.m&&ps(Wt)==4)hr(Wt.K,0,Wt);else if(ur(Wt,"readystatechange"),ps(Wt)==4){Uo(Wt.b,Os(Wt,"Request complete")),Wt.c=!1;try{var ln,bn=Wt.getStatus();e:switch(bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Cn=!0;break e;default:Cn=!1}if(!(ln=Cn)){var Wn;if(Wn=bn===0){var sr=String(Wt.o).match(wu)[1]||null;if(!sr&&ht.self&&ht.self.location){var Dn=ht.self.location.protocol;sr=Dn.substr(0,Dn.length-1)}Wn=!rs.test(sr?sr.toLowerCase():"")}ln=Wn}if(ln)ur(Wt,"complete"),ur(Wt,"success");else{Wt.g=6;try{var qn=2<ps(Wt)?Wt.a.statusText:""}catch(Br){Uo(Wt.b,"Can not get status: "+Br.message),qn=""}Wt.i=qn+" ["+Wt.getStatus()+"]",Wu(Wt)}}finally{fu(Wt)}}}}function fu(Wt){if(Wt.a){Cl(Wt);var ln=Wt.a,bn=Wt.C[0]?ft:null;Wt.a=null,Wt.C=null,ur(Wt,"ready");try{ln.onreadystatechange=bn}catch(Cn){(Wt=Wt.b)&&Wt.log(zr,"Problem encountered resetting onreadystatechange: "+Cn.message,void 0)}}}function Cl(Wt){Wt.a&&Wt.B&&(Wt.a.ontimeout=null),Wt.u&&(ht.clearTimeout(Wt.u),Wt.u=null)}function ps(Wt){return Wt.a?Wt.a.readyState:0}function Tm(Wt,ln){if(Wt.a&&ps(Wt)==4)return(Wt=Wt.a.getResponseHeader(ln))===null?void 0:Wt}function Os(Wt,ln){return ln+" ["+Wt.J+" "+Wt.o+" "+Wt.getStatus()+"]"}Ul.prototype.L=function(){st!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Uo(this.b,Os(this,this.i)),ur(this,"timeout"),this.abort(8))},Ul.prototype.abort=function(Wt){this.a&&this.c&&(Uo(this.b,Os(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=Wt||7,ur(this,"complete"),ur(this,"abort"),fu(this))},Ul.prototype.K=function(){this.F||(this.I||this.m||this.h?Lu(this):this.O())},Ul.prototype.O=function(){Lu(this)},Ul.prototype.getStatus=function(){try{return 2<ps(this)?this.a.status:-1}catch{return-1}};var Ju={},Xs=null;function ju(Wt){var ln=Wt.length,bn=3*ln/4;bn%3?bn=Math.floor(bn):yn("=.",Wt[ln-1])&&(bn=yn("=.",Wt[ln-2])?bn-2:bn-1);var Cn=new Uint8Array(bn),Wn=0;return function(sr,Dn){function qn(Eo){for(;Br<sr.length;){var Go=sr.charAt(Br++),qo=Xs[Go];if(qo!=null)return qo;if(!/^[\s\xa0]*$/.test(Go))throw Error("Unknown base64 encoding at char: "+Go)}return Eo}op();for(var Br=0;;){var Er=qn(-1),Lr=qn(0),Vo=qn(64),go=qn(64);if(go===64&&Er===-1)break;Dn(Er<<2|Lr>>4),Vo!=64&&(Dn(Lr<<4&240|Vo>>2),go!=64&&Dn(Vo<<6&192|go))}}(Wt,function(sr){Cn[Wn++]=sr}),Cn.subarray(0,Wn)}function op(){if(!Xs){Xs={};for(var Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ln=["+/=","+/","-_=","-_.","-_"],bn=0;5>bn;bn++){var Cn=Wt.concat(ln[bn].split(""));Ju[bn]=Cn;for(var Wn=0;Wn<Cn.length;Wn++){var sr=Cn[Wn];Xs[sr]===void 0&&(Xs[sr]=Wn)}}}}var Ip=["content-type","grpc-status","grpc-message"];function Ks(Wt){this.a=Wt.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new Lt;var ln=this;ar(this.a,"readystatechange",function(){var bn=ln.a;if(bn=bn.a?bn.a.getResponseHeader("Content-Type"):null){if((bn=bn.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){bn=ln.a;try{var Cn=bn.a?bn.a.responseText:""}catch(Er){Uo(bn.b,"Can not get responseText: "+Er.message),Cn=""}if(Cn=(bn=Cn||"").length-bn.length%4,(bn=bn.substr(ln.i,Cn-ln.i)).length==0)return;ln.i=Cn,bn=ju(bn)}else{if(bn.lastIndexOf("application/grpc",0)!=0)return void Bl(ln,{code:2,message:"Unknown Content-type received.",metadata:{}});bn=new Uint8Array(function(Er){try{if(!Er.a)return null;if("response"in Er.a)return Er.a.response;switch(Er.j){case rm:case"text":return Er.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in Er.a)return Er.a.mozResponseArrayBuffer}var Lr=Er.b;return Lr&&Lr.log(zr,"Response type "+Er.j+" is not supported on this browser",void 0),null}catch(Vo){return Uo(Er.b,"Can not get response: "+Vo.message),null}}(ln.a))}Cn=null;try{Cn=function(Er,Lr){function Vo(iu){Ro.f++,Ro.a=(Ro.a<<8)+iu,Ro.f==4&&(Ro.b=Pt,Ro.g=0,typeof Uint8Array<"u"?Ro.c=new Uint8Array(Ro.a):Ro.c=Array(Ro.a),Ro.a==0&&Eo())}function go(iu){Ro.c[Ro.g++]=iu,Ro.g==Ro.a&&Eo()}function Eo(){var iu={};iu[Ro.h]=Ro.c,Ro.i.push(iu),Ro.b=Xt}var Go,qo,Ro=Er,Sl=0;for(Go=Lr instanceof Uint8Array||Lr instanceof Array?Lr:new Uint8Array(Lr);Sl<Go.length;){switch(Ro.b){case jt:Ft(Ro,Go,Sl,"stream already broken");break;case Xt:(qo=Go[Sl])==Zt||qo==Ct?Ro.h=qo:Ft(Ro,Go,Sl,"invalid frame byte"),Ro.b=zt,Ro.a=0,Ro.f=0;break;case zt:Vo(Go[Sl]);break;case Pt:go(Go[Sl]);break;default:throw Error("unexpected parser state: "+Ro.b)}Ro.l++,Sl++}return Er=Ro.i,Ro.i=[],0<Er.length?Er:null}(ln.m,bn)}catch{Bl(ln,{code:2,message:"Error in parsing response body",metadata:{}})}if(Cn)for(bn=0;bn<Cn.length;bn++){if(Zt in Cn[bn]){var Wn=Cn[bn][Zt];if(Wn)try{var sr=ln.l(Wn);if(sr){Wn=ln;for(var Dn=sr,qn=0;qn<Wn.b.length;qn++)Wn.b[qn](Dn)}}catch{Bl(ln,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(Ct in Cn[bn]&&0<Cn[bn][Ct].length){for(Wn="",Dn=0;Dn<Cn[bn][Ct].length;Dn++)Wn+=String.fromCharCode(Cn[bn][Ct][Dn]);for(Wn=Wn.trim().split(`\r
`),Dn={},qn=0;qn<Wn.length;qn++){var Br=Wn[qn].indexOf(":");Dn[Wn[qn].substring(0,Br).trim()]=Wn[qn].substring(Br+1).trim()}Wn=Dn,Dn=0,qn="","grpc-status"in Wn&&(Dn=Wn["grpc-status"],delete Wn["grpc-status"]),"grpc-message"in Wn&&(qn=Wn["grpc-message"],delete Wn["grpc-message"]),Bl(ln,{code:Number(Dn),message:qn,metadata:Wn})}}}}),ar(this.a,"complete",function(){var bn=ln.a.g,Cn="",Wn={},sr=function(qn){var Br={};qn=(qn.a&&ps(qn)==4&&qn.a.getAllResponseHeaders()||"").split(`\r
`);for(var Er=0;Er<qn.length;Er++)if(!/^[\s\xa0]*$/.test(qn[Er])){var Lr=Mt(qn[Er]),Vo=Lr[0];if(typeof(Lr=Lr[1])=="string"){Lr=Lr.trim();var go=Br[Vo]||[];Br[Vo]=go,go.push(Lr)}}return function(Eo,Go){var qo,Ro={};for(qo in Eo)Ro[qo]=Go.call(void 0,Eo[qo],qo,Eo);return Ro}(Br,function(Eo){return Eo.join(", ")})}(ln.a);if(Object.keys(sr).forEach(function(qn){Ip.includes(qn)||(Wn[qn]=sr[qn])}),function(qn,Br){for(var Er=0;Er<qn.g.length;Er++)qn.g[Er](Br)}(ln,Wn),bn!=0){switch(bn){case 7:var Dn=10;break;case 8:Dn=4;break;case 6:Dn=function(qn){switch(qn){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(ln.a.getStatus());break;default:Dn=14}Dn==10&&ln.j||Bl(ln,{code:Dn,message:St(bn),metadata:{}})}else bn=!1,"grpc-status"in sr&&(Dn=Tm(ln.a,"grpc-status"),"grpc-message"in sr&&(Cn=Tm(ln.a,"grpc-message")),Number(Dn)!=0&&(Bl(ln,{code:Number(Dn),message:Cn,metadata:sr}),bn=!0)),bn||function(qn){for(var Br=0;Br<qn.c.length;Br++)qn.c[Br]()}(ln)})}function Yl(Wt,ln){-1<(ln=Wt.indexOf(ln))&&Wt.splice(ln,1)}function Bl(Wt,ln){if(ln.code!=0)for(var bn={code:ln.code,message:decodeURIComponent(ln.message||""),metadata:ln.metadata},Cn=0;Cn<Wt.f.length;Cn++)Wt.f[Cn](bn);for(ln={code:ln.code,details:decodeURIComponent(ln.message||""),metadata:ln.metadata},bn=0;bn<Wt.h.length;bn++)Wt.h[bn](ln)}function gs(Wt){this.a=_t("format",Wt)||"text",this.f=_t("suppressCorsPreflight",Wt)||!1,this.c=_t("withCredentials",Wt)||!1,this.b=_t("streamInterceptors",Wt)||[],this.g=_t("unaryInterceptors",Wt)||[]}function Is(Wt,ln,bn){var Cn=ln.getMethodDescriptor(),Wn=bn+Cn.name;(bn=new Ul).H=Wt.c;var sr=new Ks({T:bn});if(sr.l=Cn.b,du(bn.headers,ln.getMetadata()),Wt.a=="text"?(bn.headers.set("Content-Type","application/grpc-web-text"),bn.headers.set("Accept","application/grpc-web-text")):bn.headers.set("Content-Type","application/grpc-web+proto"),bn.headers.set("X-User-Agent","grpc-web-javascript/0.1"),bn.headers.set("X-Grpc-Web","1"),ru(bn.headers.b,"deadline")){var Dn=bn.headers.get("deadline");Dn=Math.round(Dn-new Date().getTime());var qn=bn.headers;ru(qn.b,"deadline")&&(delete qn.b.deadline,qn.c--,qn.a.length>2*qn.c&&Js(qn)),1/0===Dn&&(Dn=0),0<Dn&&bn.headers.set("grpc-timeout",Dn+"m")}if(Wt.f){Js(qn=bn.headers),Dn={};for(var Br=0;Br<qn.a.length;Br++){var Er=qn.a[Br];Dn[Er]=qn.b[Er]}(qn=bn.headers).b={},qn.a.length=0,qn.c=0;e:{for(Lr in Dn){var Lr=!1;break e}Lr=!0}Lr||(Dn=function(Eo){var Go="";return function(qo,Ro){for(var Sl in qo)Ro.call(void 0,qo[Sl],Sl,qo)}(Eo,function(qo,Ro){Go+=Ro,Go+=":",Go+=qo,Go+=`\r
`}),Go}(Dn),typeof Wn=="string"?(Lr=encodeURIComponent("$httpHeaders"),(Lr+=Dn=Dn!=null?"="+encodeURIComponent(String(Dn)):"")&&(0>(Dn=Wn.indexOf("#"))&&(Dn=Wn.length),0>(qn=Wn.indexOf("?"))||qn>Dn?(qn=Dn,Br=""):Br=Wn.substring(qn+1,Dn),Dn=(Wn=[Wn.substr(0,qn),Br,Wn.substr(Dn)])[1],Wn[1]=Lr?Dn?Dn+"&"+Lr:Lr:Dn,Wn=Wn[0]+(Wn[1]?"?"+Wn[1]:"")+Wn[2])):Wn.a("$httpHeaders",Dn))}for(Cn=(ln=(0,Cn.a)(ln.getRequestMessage())).length,Lr=[0,0,0,0],Dn=new Uint8Array(5+Cn),qn=3;0<=qn;qn--)Lr[qn]=Cn%256,Cn>>>=8;if(Dn.set(new Uint8Array(Lr),1),Dn.set(ln,5),ln=Dn,Wt.a=="text"){var Vo;for(Wt=ln,Vo===void 0&&(Vo=0),op(),Vo=Ju[Vo],ln=[],Cn=0;Cn<Wt.length;Cn+=3){Er=Wt[Cn];var go=(Lr=Cn+1<Wt.length)?Wt[Cn+1]:0;qn=Er>>2,Er=(3&Er)<<4|go>>4,go=(15&go)<<2|(Br=(Dn=Cn+2<Wt.length)?Wt[Cn+2]:0)>>6,Br&=63,Dn||(Br=64,Lr||(go=64)),ln.push(Vo[qn],Vo[Er],Vo[go]||"",Vo[Br]||"")}ln=ln.join("")}else Wt.a=="binary"&&(bn.j="arraybuffer");return Bu(bn,Wn,ln),sr}function Pp(Wt,ln,bn){var Cn=null,Wn=!1;Wt.on("data",function(sr){Cn=sr}),Wt.on("error",function(sr){sr.code==0||Wn||(Wn=!0,ln(sr,null))}),Wt.on("status",function(sr){sr.code==0||Wn?bn&&ln(null,null,sr):(Wn=!0,ln({code:sr.code,message:sr.details,metadata:sr.metadata},null))}),bn&&Wt.on("metadata",function(sr){ln(null,null,null,sr)}),Wt.on("end",function(){Wn||(Cn==null?ln({code:2,message:"Incomplete response"}):ln(null,Cn)),bn&&ln(null,null)})}function sp(Wt,ln){var bn=Wt;return ln.forEach(function(Cn){var Wn=bn;bn=function(sr){return Cn.intercept(sr,Wn)}}),bn}Ks.prototype.on=function(Wt,ln){return Wt=="data"?this.b.push(ln):Wt=="status"?this.h.push(ln):Wt=="metadata"?this.g.push(ln):Wt=="end"?this.c.push(ln):Wt=="error"&&this.f.push(ln),this},Ks.prototype.removeListener=function(Wt,ln){return Wt=="data"?Yl(this.b,ln):Wt=="status"?Yl(this.h,ln):Wt=="metadata"?Yl(this.g,ln):Wt=="end"?Yl(this.c,ln):Wt=="error"&&Yl(this.f,ln),this},Ks.prototype.cancel=function(){this.j=!0,this.a.abort()},Ks.prototype.cancel=Ks.prototype.cancel,Ks.prototype.removeListener=Ks.prototype.removeListener,Ks.prototype.on=Ks.prototype.on,gs.prototype.P=function(Wt,ln,bn,Cn,Wn){var sr=this;Cn=on(Wt,ln,"unary",Cn);var Dn=Wt.substr(0,Wt.length-Cn.name.length);return Pp(Wt=sp(function(qn){return Is(sr,qn,Dn)},this.b).call(this,nn(Cn,ln,bn)),Wn,!1),new bt(Wt)},gs.prototype.M=function(Wt,ln,bn,Cn){var Wn=this;Cn=on(Wt,ln,"unary",Cn);var sr=Wt.substr(0,Wt.length-Cn.name.length);return sp(function(Dn){return new Promise(function(qn,Br){var Er,Lr,Vo;Pp(Is(Wn,Dn,sr),function(go,Eo,Go,qo){go?Br(go):Eo?Vo=Eo:Go?Lr=Go:qo?Er=qo:(go=Dn.getMethodDescriptor(),qn(new pt(Vo,go,Eo=(Eo=Er)===void 0?{}:Eo,Lr===void 0?null:Lr)))},!0)})},this.g).call(this,nn(Cn,ln,bn)).then(function(Dn){return Dn.getResponseMessage()})},gs.prototype.unaryCall=function(Wt,ln,bn,Cn){return this.M(Wt,ln,bn,Cn)},gs.prototype.R=function(Wt,ln,bn,Cn){var Wn=this;Cn=on(Wt,ln,"server_streaming",Cn);var sr=Wt.substr(0,Wt.length-Cn.name.length);return sp(function(Dn){return Is(Wn,Dn,sr)},this.b).call(this,nn(Cn,ln,bn))},gs.prototype.serverStreaming=gs.prototype.R,gs.prototype.unaryCall=gs.prototype.unaryCall,gs.prototype.thenableCall=gs.prototype.M,gs.prototype.rpcCall=gs.prototype.P,i.exports.AbstractClientBase={MethodInfo:function(Wt,ln,bn,Cn,Wn){this.name=Cn,this.b=Wn,this.f=Wt,this.a=ln,this.c=bn}},i.exports.GrpcWebClientBase=gs,i.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},i.exports.MethodDescriptor=Vt,i.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,s(6))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isAsyncIterable=o.isAsyncGenerator=o.isAsync=void 0;var _,$=s(152),_e=(_=$)&&_.__esModule?_:{default:_};function tt(j){return j[Symbol.toStringTag]==="AsyncFunction"}o.default=function(j){if(typeof j!="function")throw new Error("expected a function");return tt(j)?(0,_e.default)(j):j},o.isAsync=tt,o.isAsyncGenerator=function(j){return j[Symbol.toStringTag]==="AsyncGenerator"},o.isAsyncIterable=function(j){return typeof j[Symbol.asyncIterator]=="function"}},function(i,o,s){var _={};function $(tt,j,nt){nt||(nt=Error);var st=function(ht){var _t,ft;function dt(ut,mt,wt){return ht.call(this,function(Qt,Dt,Et){return typeof j=="string"?j:j(Qt,Dt,Et)}(ut,mt,wt))||this}return ft=ht,(_t=dt).prototype=Object.create(ft.prototype),_t.prototype.constructor=_t,_t.__proto__=ft,dt}(nt);st.prototype.name=nt.name,st.prototype.code=tt,_[tt]=st}function _e(tt,j){if(Array.isArray(tt)){var nt=tt.length;return tt=tt.map(function(st){return String(st)}),nt>2?"one of ".concat(j," ").concat(tt.slice(0,nt-1).join(", "),", or ")+tt[nt-1]:nt===2?"one of ".concat(j," ").concat(tt[0]," or ").concat(tt[1]):"of ".concat(j," ").concat(tt[0])}return"of ".concat(j," ").concat(String(tt))}$("ERR_INVALID_OPT_VALUE",function(tt,j){return'The value "'+j+'" is invalid for option "'+tt+'"'},TypeError),$("ERR_INVALID_ARG_TYPE",function(tt,j,nt){var st,ht,_t;if(typeof j=="string"&&(ht="not ",j.substr(0,ht.length)===ht)?(st="must not be",j=j.replace(/^not /,"")):st="must be",function(dt,ut,mt){return(mt===void 0||mt>dt.length)&&(mt=dt.length),dt.substring(mt-ut.length,mt)===ut}(tt," argument"))_t="The ".concat(tt," ").concat(st," ").concat(_e(j,"type"));else{var ft=function(dt,ut,mt){return typeof mt!="number"&&(mt=0),!(mt+ut.length>dt.length)&&dt.indexOf(ut,mt)!==-1}(tt,".")?"property":"argument";_t='The "'.concat(tt,'" ').concat(ft," ").concat(st," ").concat(_e(j,"type"))}return _t+=". Received type ".concat(typeof nt)},TypeError),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$("ERR_METHOD_NOT_IMPLEMENTED",function(tt){return"The "+tt+" method is not implemented"}),$("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$("ERR_STREAM_DESTROYED",function(tt){return"Cannot call "+tt+" after a stream was destroyed"}),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$("ERR_STREAM_WRITE_AFTER_END","write after end"),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_UNKNOWN_ENCODING",function(tt){return"Unknown encoding: "+tt},TypeError),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=_},function(i,o,s){(function(_){var $=Object.keys||function(dt){var ut=[];for(var mt in dt)ut.push(mt);return ut};i.exports=ht;var _e=s(77),tt=s(81);s(7)(ht,_e);for(var j=$(tt.prototype),nt=0;nt<j.length;nt++){var st=j[nt];ht.prototype[st]||(ht.prototype[st]=tt.prototype[st])}function ht(dt){if(!(this instanceof ht))return new ht(dt);_e.call(this,dt),tt.call(this,dt),this.allowHalfOpen=!0,dt&&(dt.readable===!1&&(this.readable=!1),dt.writable===!1&&(this.writable=!1),dt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_t)))}function _t(){this._writableState.ended||_.nextTick(ft,this)}function ft(dt){dt.end()}Object.defineProperty(ht.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ht.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ht.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ht.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(dt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=dt,this._writableState.destroyed=dt)}})}).call(this,s(2))},function(i,o,s){s.d(o,"a",function(){return tt});var _=s(40),$=s(4);const _e={"app-id":["app-id must match formant/*"]};class tt extends _.a{constructor(nt,st={}){super(nt,Object.assign({validateHeaders:ht=>`${ht.get("app-id")}`.startsWith("formant/")?{}:_e},st)),this.endpoint=nt}getHeaders(){return Object.assign(Object.assign({},tt.headers),{"App-ID":`formant/${$.a}`,"App-Version":$.j})}}tt.headers={}},function(i,o,s){s(227),i.exports={encode:_=>new TextEncoder().encode(_),decode:_=>new TextDecoder().decode(_)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_,$=_.length){if(!$)throw new Error("arity is undefined");return function(..._e){return typeof _e[$-1]=="function"?_.apply(this,_e):new Promise((tt,j)=>{_e[$-1]=(nt,...st)=>{if(nt)return j(nt);tt(st.length>1?st:st[0])},_.apply(this,_e)})}},i.exports=o.default},function(i,o,s){(o=i.exports=s(69)).Stream=o,o.Readable=o,o.Writable=s(48),o.Duplex=s(23),o.Transform=s(72),o.PassThrough=s(165)},function(i,o,s){(o=i.exports=s(77)).Stream=o,o.Readable=o,o.Writable=s(81),o.Duplex=s(27),o.Transform=s(82),o.PassThrough=s(184),o.finished=s(49),o.pipeline=s(185)},function(i,o,s){i.exports=function(_){return _}},function(i,o,s){s.d(o,"a",function(){return $});const _=["password","secret","token","key","buffer"];function $(_e,tt=new Set){return tt.has(_e)?"[ RECURSIVE ]":!(j=_e)||typeof j!="object"&&typeof j!="function"?_e:(tt.add(_e),Object.keys(_e).reduce((nt,st)=>(nt[st]=_.some(ht=>st.toLowerCase().includes(ht.toLowerCase()))?"[ REDACTED ]":$(_e[st],tt),nt),{}));var j}},function(i,o){i.exports=_,_.default=_,_.stable=_e,_.stableStringify=_e;var s=[];function _(tt,j,nt){(function _t(ft,dt,ut,mt){var wt;if(typeof ft=="object"&&ft!==null){for(wt=0;wt<ut.length;wt++)if(ut[wt]===ft)return mt[dt]="[Circular]",void s.push([mt,dt,ft]);if(ut.push(ft),Array.isArray(ft))for(wt=0;wt<ft.length;wt++)_t(ft[wt],wt,ut,ft);else{var Qt=Object.keys(ft);for(wt=0;wt<Qt.length;wt++){var Dt=Qt[wt];_t(ft[Dt],Dt,ut,ft)}}ut.pop()}})(tt,"",[],void 0);for(var st=JSON.stringify(tt,j,nt);s.length!==0;){var ht=s.pop();ht[0][ht[1]]=ht[2]}return st}function $(tt,j){return tt<j?-1:tt>j?1:0}function _e(tt,j,nt){for(var st=function ft(dt,ut,mt,wt){var Qt;if(typeof dt=="object"&&dt!==null){for(Qt=0;Qt<mt.length;Qt++)if(mt[Qt]===dt)return wt[ut]="[Circular]",void s.push([wt,ut,dt]);if(typeof dt.toJSON=="function")return;if(mt.push(dt),Array.isArray(dt))for(Qt=0;Qt<dt.length;Qt++)ft(dt[Qt],Qt,mt,dt);else{var Dt={},Et=Object.keys(dt).sort($);for(Qt=0;Qt<Et.length;Qt++){var xt=Et[Qt];ft(dt[xt],xt,mt,dt),Dt[xt]=dt[xt]}if(wt===void 0)return Dt;s.push([wt,ut,dt]),wt[ut]=Dt}mt.pop()}}(tt,"",[],void 0)||tt,ht=JSON.stringify(st,j,nt);s.length!==0;){var _t=s.pop();_t[0][_t[1]]=_t[2]}return ht}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var mt=[];for(var wt in ut)mt.push(wt);return mt};i.exports=_t;var _e=Object.create(s(17));_e.inherits=s(7);var tt=s(143),j=s(62);_e.inherits(_t,tt);for(var nt=$(j.prototype),st=0;st<nt.length;st++){var ht=nt[st];_t.prototype[ht]||(_t.prototype[ht]=j.prototype[ht])}function _t(ut){if(!(this instanceof _t))return new _t(ut);tt.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ft)}function ft(){this.allowHalfOpen||this._writableState.ended||_.nextTick(dt,this)}function dt(ut){ut.end()}Object.defineProperty(_t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_t.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),_t.prototype._destroy=function(ut,mt){this.push(null),this.end(),_.nextTick(mt,ut)}},function(i,o,s){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(j,nt){return Object.prototype.hasOwnProperty.call(j,nt)}o.assign=function(j){for(var nt=Array.prototype.slice.call(arguments,1);nt.length;){var st=nt.shift();if(st){if(typeof st!="object")throw new TypeError(st+"must be non-object");for(var ht in st)$(st,ht)&&(j[ht]=st[ht])}}return j},o.shrinkBuf=function(j,nt){return j.length===nt?j:j.subarray?j.subarray(0,nt):(j.length=nt,j)};var _e={arraySet:function(j,nt,st,ht,_t){if(nt.subarray&&j.subarray)j.set(nt.subarray(st,st+ht),_t);else for(var ft=0;ft<ht;ft++)j[_t+ft]=nt[st+ft]},flattenChunks:function(j){var nt,st,ht,_t,ft,dt;for(ht=0,nt=0,st=j.length;nt<st;nt++)ht+=j[nt].length;for(dt=new Uint8Array(ht),_t=0,nt=0,st=j.length;nt<st;nt++)ft=j[nt],dt.set(ft,_t),_t+=ft.length;return dt}},tt={arraySet:function(j,nt,st,ht,_t){for(var ft=0;ft<ht;ft++)j[_t+ft]=nt[st+ft]},flattenChunks:function(j){return[].concat.apply([],j)}};o.setTyped=function(j){j?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,_e)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,tt))},o.setTyped(_)},function(i,o,s){i.exports=s(186)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(229);const $=Object(_.a)()},function(i,o,s){s.d(o,"a",function(){return Qt});var _=s(1),$=s(100),_e=s.n($),tt=s(101),j=s.n(tt);class nt extends Error{constructor(Et,xt,pt){super(`Connection failure: ${Et.message}`),this.cause=Et,this.url=xt,this.retryable=pt}}var st=s(8),ht=s(0),_t=s(10),ft=s(11);class dt extends Error{constructor(Et,xt){super(`Invalid headers (${JSON.stringify(Et)}) for response: ${xt.message}`),this.validationErrors=Et,this.responseError=xt}}var ut=function(Dt,Et,xt,pt){return new(xt||(xt=Promise))(function(Vt,nn){function on(It){try{St(pt.next(It))}catch(Bt){nn(Bt)}}function bt(It){try{St(pt.throw(It))}catch(Bt){nn(Bt)}}function St(It){var Bt;It.done?Vt(It.value):(Bt=It.value,Bt instanceof xt?Bt:new xt(function(Lt){Lt(Bt)})).then(on,bt)}St((pt=pt.apply(Dt,Et||[])).next())})},mt=function(Dt,Et){var xt={};for(var pt in Dt)Object.prototype.hasOwnProperty.call(Dt,pt)&&Et.indexOf(pt)<0&&(xt[pt]=Dt[pt]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Vt=0;for(pt=Object.getOwnPropertySymbols(Dt);Vt<pt.length;Vt++)Et.indexOf(pt[Vt])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pt[Vt])&&(xt[pt[Vt]]=Dt[pt[Vt]])}return xt};const wt=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class Qt{constructor(Et,xt={}){if(this.endpoint=Et,this.validateHeaders=pt=>xt.validateHeaders?xt.validateHeaders(pt):{},this.verbose=xt.verbose!==!1,xt.retries!==void 0&&!(xt.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=xt.retries,xt.timeoutMs!==void 0&&!(xt.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=xt.timeoutMs,xt.maxBackoffDelayMs!==void 0&&!(xt.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=xt.maxBackoffDelayMs||30*_.a.second}getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}fetch(Et,xt={}){return ut(this,void 0,void 0,function*(){return(yield this.fetchVerbose(Et,xt)).body})}fetchVerbose(Et,xt={}){return ut(this,void 0,void 0,function*(){let pt=100*_.a.millisecond,Vt=0;const nn=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,on=nn?()=>Math.max(nn-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(Et,xt,on)}catch(bt){const St=Object(_t.a)(bt,nt);if((on==null?void 0:on())===0||Vt===this.getRetries()||!St.retryable)throw St;Vt++,pt=Math.min(...on?[on()]:[],pt*(2+.1*(Math.random()-.5)),this.maxBackoffDelayMs),yield Object(st.a)(pt),this.verbose&&ht.a.warn(`Connection failure, retrying. Error: ${bt.cause.message}`,{url:bt.url,error:bt.cause,attempt:Vt})}})}doFetch(Et,xt,pt){return ut(this,void 0,void 0,function*(){const{token:Vt,json:nn,allowUnsafeRetries:on}=xt,bt=mt(xt,["token","json","allowUnsafeRetries"]),St=(bt.method||"GET").toUpperCase(),It=this.endpoint!==void 0?`${this.endpoint}${Et?`/${Et}`:""}`:Et,Bt=new _e.a;let Lt;if(pt){const Xt=pt();Xt>0?Lt=setTimeout(()=>{Bt.abort()},Xt):Bt.abort()}try{let Xt;yield Promise.race([this.getConstructor().waitForConnectivity(),new Promise(Ht=>{Xt=setTimeout(Ht,pt?Math.min(_.a.minute,pt()):_.a.minute)})]),Xt&&clearTimeout(Xt);const zt=yield j()(It,Object.assign(Object.assign({},bt),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},nn!==!1?{"Content-Type":"application/json"}:{}),this.getHeaders()),bt.headers||{}),Vt!==void 0?{Authorization:`Bearer ${Vt}`}:{}),signal:Bt.signal})),Pt=zt.headers.get("content-type")||"",jt=Pt&&Pt.startsWith("application/json"),Zt=jt?yield zt.json():yield zt.text(),Ct=()=>new ft.a(St,It,zt.status,Zt,Zt&&Zt.validationErrors||{},zt.headers);if(!zt.ok)throw this.verbose&&ht.a[zt.status>=500?"warn":"info"]("Response error",{method:St,url:It,statusCode:zt.status}),Ct();const Ft=this.validateHeaders(zt.headers);if(Object.keys(Ft).length!==0)throw new dt(Ft,Ct());if(zt.status===204)return{body:void 0,headers:zt.headers};if(nn&&!jt)throw new Error(`Response is not JSON: ${JSON.stringify(Zt)}`);return{body:Zt,headers:zt.headers}}catch(Xt){const zt=on||wt.has(St);if(Xt.message==="Network request failed")throw new nt(Xt,It,zt);if(Xt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Ct=>Ct===Xt.code))throw new nt(Xt,It,!0);if(Xt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Ct=>Ct===Xt.code))throw new nt(Xt,It,zt);if(Xt.name==="AbortError")throw new nt(Xt,It,zt);const Pt=Object(_t.a)(Xt,ft.a),{statusCode:jt}=Pt;if(jt===408||jt===429||jt===502||jt===503||jt===504)throw this.verbose&&!zt&&ht.a.warn("Potentially unsafe retry"),new nt(Xt,It,!0);const Zt=this.validateHeaders(Pt.headers);throw Object.keys(Zt).length!==0?new dt(Zt,Pt):(yield this.getConstructor().onResponseError(Pt),Xt)}finally{Lt&&clearTimeout(Lt)}})}getConstructor(){return Object.getPrototypeOf(this).constructor}}Qt.retries=8,Qt.waitForConnectivity=()=>ut(void 0,void 0,void 0,function*(){}),Qt.onResponseError=()=>ut(void 0,void 0,void 0,function*(){})},function(i,o,s){function _(_t,ft){if(!(_t instanceof ft))throw new TypeError("Cannot call a class as a function")}function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(59),tt=s(3),j=tt.LEVEL,nt=tt.MESSAGE;_e.enabled=!0;var st=/\s+/,ht=function(){function _t(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,_t),mt.colors&&this.addColors(mt.colors),this.options=mt}var ft,dt,ut;return ft=_t,ut=[{key:"addColors",value:function(mt){var wt=Object.keys(mt).reduce(function(Qt,Dt){return Qt[Dt]=st.test(mt[Dt])?mt[Dt].split(st):mt[Dt],Qt},{});return _t.allColors=Object.assign({},_t.allColors||{},wt),_t.allColors}}],(dt=[{key:"addColors",value:function(mt){return _t.addColors(mt)}},{key:"colorize",value:function(mt,wt,Qt){if(Qt===void 0&&(Qt=wt),!Array.isArray(_t.allColors[mt]))return _e[_t.allColors[mt]](Qt);for(var Dt=0,Et=_t.allColors[mt].length;Dt<Et;Dt++)Qt=_e[_t.allColors[mt][Dt]](Qt);return Qt}},{key:"transform",value:function(mt,wt){return wt.all&&typeof mt[nt]=="string"&&(mt[nt]=this.colorize(mt[j],mt.level,mt[nt])),(wt.level||wt.all||!wt.message)&&(mt.level=this.colorize(mt[j],mt.level)),(wt.all||wt.message)&&(mt.message=this.colorize(mt[j],mt.level,mt.message)),mt}}])&&$(ft.prototype,dt),ut&&$(ft,ut),_t}();i.exports=function(_t){return new ht(_t)},i.exports.Colorizer=i.exports.Format=ht},function(i,o){var s={}.toString;i.exports=Array.isArray||function(_){return s.call(_)=="[object Array]"}},function(i,o,s){(function(_){function $(_e){try{if(!_.localStorage)return!1}catch{return!1}var tt=_.localStorage[_e];return tt!=null&&String(tt).toLowerCase()==="true"}i.exports=function(_e,tt){if($("noDeprecation"))return _e;var j=!1;return function(){if(!j){if($("throwDeprecation"))throw new Error(tt);$("traceDeprecation")?console.trace(tt):console.warn(tt),j=!0}return _e.apply(this,arguments)}}}).call(this,s(6))},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var st in j)nt[st]=j[st]}function tt(j,nt,st){return $(j,nt,st)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=tt),_e($,tt),tt.from=function(j,nt,st){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,st)},tt.alloc=function(j,nt,st){if(typeof j!="number")throw new TypeError("Argument must be a number");var ht=$(j);return nt!==void 0?typeof st=="string"?ht.fill(nt,st):ht.fill(nt):ht.fill(0),ht},tt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},tt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _&&typeof _.length=="number"&&_.length>=0&&_.length%1==0},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default={},i.exports=o.default},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var st in j)nt[st]=j[st]}function tt(j,nt,st){return $(j,nt,st)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=tt),_e($,tt),tt.from=function(j,nt,st){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,st)},tt.alloc=function(j,nt,st){if(typeof j!="number")throw new TypeError("Argument must be a number");var ht=$(j);return nt!==void 0?typeof st=="string"?ht.fill(nt,st):ht.fill(nt):ht.fill(0),ht},tt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},tt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){(function(_,$,_e){var tt=s(16);function j(St){var It=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,Lt,Xt){var zt=Bt.entry;for(Bt.entry=null;zt;){var Pt=zt.callback;Lt.pendingcb--,Pt(Xt),zt=zt.next}Lt.corkedRequestsFree?Lt.corkedRequestsFree.next=Bt:Lt.corkedRequestsFree=Bt})(It,St)}}i.exports=Et;var nt,st=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:tt.nextTick;Et.WritableState=Dt;var ht=s(17);ht.inherits=s(7);var _t={deprecate:s(43)},ft=s(70),dt=s(47).Buffer,ut=_e.Uint8Array||function(){},mt,wt=s(71);function Qt(){}function Dt(St,It){nt=nt||s(23),St=St||{};var Bt=It instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var Lt=St.highWaterMark,Xt=St.writableHighWaterMark,zt=this.objectMode?16:16384;this.highWaterMark=Lt||Lt===0?Lt:Bt&&(Xt||Xt===0)?Xt:zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Pt=St.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){(function(Zt,Ct){var Ft=Zt._writableState,Ht=Ft.sync,tn=Ft.writecb;if(function(yn){yn.writing=!1,yn.writecb=null,yn.length-=yn.writelen,yn.writelen=0}(Ft),Ct)(function(yn,vn,un,rn,At){--vn.pendingcb,un?(tt.nextTick(At,rn),tt.nextTick(bt,yn,vn),yn._writableState.errorEmitted=!0,yn.emit("error",rn)):(At(rn),yn._writableState.errorEmitted=!0,yn.emit("error",rn),bt(yn,vn))})(Zt,Ft,Ht,Ct,tn);else{var mn=nn(Ft);mn||Ft.corked||Ft.bufferProcessing||!Ft.bufferedRequest||Vt(Zt,Ft),Ht?st(pt,Zt,Ft,mn,tn):pt(Zt,Ft,mn,tn)}})(It,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function Et(St){if(nt=nt||s(23),!(mt.call(Et,this)||this instanceof nt))return new Et(St);this._writableState=new Dt(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),ft.call(this)}function xt(St,It,Bt,Lt,Xt,zt,Pt){It.writelen=Lt,It.writecb=Pt,It.writing=!0,It.sync=!0,Bt?St._writev(Xt,It.onwrite):St._write(Xt,zt,It.onwrite),It.sync=!1}function pt(St,It,Bt,Lt){Bt||function(Xt,zt){zt.length===0&&zt.needDrain&&(zt.needDrain=!1,Xt.emit("drain"))}(St,It),It.pendingcb--,Lt(),bt(St,It)}function Vt(St,It){It.bufferProcessing=!0;var Bt=It.bufferedRequest;if(St._writev&&Bt&&Bt.next){var Lt=It.bufferedRequestCount,Xt=new Array(Lt),zt=It.corkedRequestsFree;zt.entry=Bt;for(var Pt=0,jt=!0;Bt;)Xt[Pt]=Bt,Bt.isBuf||(jt=!1),Bt=Bt.next,Pt+=1;Xt.allBuffers=jt,xt(St,It,!0,It.length,Xt,"",zt.finish),It.pendingcb++,It.lastBufferedRequest=null,zt.next?(It.corkedRequestsFree=zt.next,zt.next=null):It.corkedRequestsFree=new j(It),It.bufferedRequestCount=0}else{for(;Bt;){var Zt=Bt.chunk,Ct=Bt.encoding,Ft=Bt.callback;if(xt(St,It,!1,It.objectMode?1:Zt.length,Zt,Ct,Ft),Bt=Bt.next,It.bufferedRequestCount--,It.writing)break}Bt===null&&(It.lastBufferedRequest=null)}It.bufferedRequest=Bt,It.bufferProcessing=!1}function nn(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function on(St,It){St._final(function(Bt){It.pendingcb--,Bt&&St.emit("error",Bt),It.prefinished=!0,St.emit("prefinish"),bt(St,It)})}function bt(St,It){var Bt=nn(It);return Bt&&(function(Lt,Xt){Xt.prefinished||Xt.finalCalled||(typeof Lt._final=="function"?(Xt.pendingcb++,Xt.finalCalled=!0,tt.nextTick(on,Lt,Xt)):(Xt.prefinished=!0,Lt.emit("prefinish")))}(St,It),It.pendingcb===0&&(It.finished=!0,St.emit("finish"))),Bt}ht.inherits(Et,ft),Dt.prototype.getBuffer=function(){for(var St=this.bufferedRequest,It=[];St;)It.push(St),St=St.next;return It},function(){try{Object.defineProperty(Dt.prototype,"buffer",{get:_t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(St){return!!mt.call(this,St)||this===Et&&St&&St._writableState instanceof Dt}})):mt=function(St){return St instanceof this},Et.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Et.prototype.write=function(St,It,Bt){var Lt,Xt=this._writableState,zt=!1,Pt=!Xt.objectMode&&(Lt=St,dt.isBuffer(Lt)||Lt instanceof ut);return Pt&&!dt.isBuffer(St)&&(St=function(jt){return dt.from(jt)}(St)),typeof It=="function"&&(Bt=It,It=null),Pt?It="buffer":It||(It=Xt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),Xt.ended?function(jt,Zt){var Ct=new Error("write after end");jt.emit("error",Ct),tt.nextTick(Zt,Ct)}(this,Bt):(Pt||function(jt,Zt,Ct,Ft){var Ht=!0,tn=!1;return Ct===null?tn=new TypeError("May not write null values to stream"):typeof Ct=="string"||Ct===void 0||Zt.objectMode||(tn=new TypeError("Invalid non-string/buffer chunk")),tn&&(jt.emit("error",tn),tt.nextTick(Ft,tn),Ht=!1),Ht}(this,Xt,St,Bt))&&(Xt.pendingcb++,zt=function(jt,Zt,Ct,Ft,Ht,tn){if(!Ct){var mn=function(rn,At,Mt){return rn.objectMode||rn.decodeStrings===!1||typeof At!="string"||(At=dt.from(At,Mt)),At}(Zt,Ft,Ht);Ft!==mn&&(Ct=!0,Ht="buffer",Ft=mn)}var yn=Zt.objectMode?1:Ft.length;Zt.length+=yn;var vn=Zt.length<Zt.highWaterMark;if(vn||(Zt.needDrain=!0),Zt.writing||Zt.corked){var un=Zt.lastBufferedRequest;Zt.lastBufferedRequest={chunk:Ft,encoding:Ht,isBuf:Ct,callback:tn,next:null},un?un.next=Zt.lastBufferedRequest:Zt.bufferedRequest=Zt.lastBufferedRequest,Zt.bufferedRequestCount+=1}else xt(jt,Zt,!1,yn,Ft,Ht,tn);return vn}(this,Xt,Pt,St,It,Bt)),zt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Vt(this,St))},Et.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(St,It,Bt){Bt(new Error("_write() is not implemented"))},Et.prototype._writev=null,Et.prototype.end=function(St,It,Bt){var Lt=this._writableState;typeof St=="function"?(Bt=St,St=null,It=null):typeof It=="function"&&(Bt=It,It=null),St!=null&&this.write(St,It),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||Lt.finished||function(Xt,zt,Pt){zt.ending=!0,bt(Xt,zt),Pt&&(zt.finished?tt.nextTick(Pt):Xt.once("finish",Pt)),zt.ended=!0,Xt.writable=!1}(this,Lt,Bt)},Object.defineProperty(Et.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),Et.prototype.destroy=wt.destroy,Et.prototype._undestroy=wt.undestroy,Et.prototype._destroy=function(St,It){this.end(),It(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){var _=s(26).codes.ERR_STREAM_PREMATURE_CLOSE;function $(){}i.exports=function _e(tt,j,nt){if(typeof j=="function")return _e(tt,null,j);j||(j={}),nt=function(Et){var xt=!1;return function(){if(!xt){xt=!0;for(var pt=arguments.length,Vt=new Array(pt),nn=0;nn<pt;nn++)Vt[nn]=arguments[nn];Et.apply(this,Vt)}}}(nt||$);var st=j.readable||j.readable!==!1&&tt.readable,ht=j.writable||j.writable!==!1&&tt.writable,_t=function(){tt.writable||dt()},ft=tt._writableState&&tt._writableState.finished,dt=function(){ht=!1,ft=!0,st||nt.call(tt)},ut=tt._readableState&&tt._readableState.endEmitted,mt=function(){st=!1,ut=!0,ht||nt.call(tt)},wt=function(Et){nt.call(tt,Et)},Qt=function(){var Et;return st&&!ut?(tt._readableState&&tt._readableState.ended||(Et=new _),nt.call(tt,Et)):ht&&!ft?(tt._writableState&&tt._writableState.ended||(Et=new _),nt.call(tt,Et)):void 0},Dt=function(){tt.req.on("finish",dt)};return function(Et){return Et.setHeader&&typeof Et.abort=="function"}(tt)?(tt.on("complete",dt),tt.on("abort",Qt),tt.req?Dt():tt.on("request",Dt)):ht&&!tt._writableState&&(tt.on("end",_t),tt.on("close",_t)),tt.on("end",mt),tt.on("finish",dt),j.error!==!1&&tt.on("error",wt),tt.on("close",Qt),function(){tt.removeListener("complete",dt),tt.removeListener("abort",Qt),tt.removeListener("request",Dt),tt.req&&tt.req.removeListener("finish",dt),tt.removeListener("end",_t),tt.removeListener("close",_t),tt.removeListener("finish",dt),tt.removeListener("end",mt),tt.removeListener("error",wt),tt.removeListener("close",Qt)}}},function(i,o,s){var _=s(58),$=s(3).configs;o.cli=_.levels($.cli),o.npm=_.levels($.npm),o.syslog=_.levels($.syslog),o.addColors=_.levels},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=j(s(203)),$=j(s(204)),_e=j(s(25)),tt=j(s(30));function j(nt){return nt&&nt.__esModule?nt:{default:nt}}o.default=(0,tt.default)(function(nt,st,ht){return(0,_.default)(nt,(0,$.default)((0,_e.default)(st)),ht)},3),i.exports=o.default},function(i,o,s){class _ extends Error{constructor(_e,...tt){super(`env-var: ${_e}`,...tt),Error.captureStackTrace&&Error.captureStackTrace(this,_),this.name="EnvVarError"}}i.exports=_},function(i,o,s){i.exports=function(_){const $=parseInt(_,10);if(isNaN($)||$.toString(10)!==_)throw new Error("should be a valid integer");return $}},function(i,o,s){i.exports=function(_){const $=parseFloat(_);if(isNaN($)||$.toString()!==_)throw new Error("should be a valid float");return $}},function(i,o,s){i.exports=function(_){try{return JSON.parse(_)}catch{throw new Error("should be valid (parseable) JSON")}}},function(i,o,s){(function(_){function $(j,nt){for(var st=0,ht=j.length-1;ht>=0;ht--){var _t=j[ht];_t==="."?j.splice(ht,1):_t===".."?(j.splice(ht,1),st++):st&&(j.splice(ht,1),st--)}if(nt)for(;st--;st)j.unshift("..");return j}function _e(j,nt){if(j.filter)return j.filter(nt);for(var st=[],ht=0;ht<j.length;ht++)nt(j[ht],ht,j)&&st.push(j[ht]);return st}o.resolve=function(){for(var j="",nt=!1,st=arguments.length-1;st>=-1&&!nt;st--){var ht=st>=0?arguments[st]:_.cwd();if(typeof ht!="string")throw new TypeError("Arguments to path.resolve must be strings");ht&&(j=ht+"/"+j,nt=ht.charAt(0)==="/")}return(nt?"/":"")+(j=$(_e(j.split("/"),function(_t){return!!_t}),!nt).join("/"))||"."},o.normalize=function(j){var nt=o.isAbsolute(j),st=tt(j,-1)==="/";return(j=$(_e(j.split("/"),function(ht){return!!ht}),!nt).join("/"))||nt||(j="."),j&&st&&(j+="/"),(nt?"/":"")+j},o.isAbsolute=function(j){return j.charAt(0)==="/"},o.join=function(){var j=Array.prototype.slice.call(arguments,0);return o.normalize(_e(j,function(nt,st){if(typeof nt!="string")throw new TypeError("Arguments to path.join must be strings");return nt}).join("/"))},o.relative=function(j,nt){function st(wt){for(var Qt=0;Qt<wt.length&&wt[Qt]==="";Qt++);for(var Dt=wt.length-1;Dt>=0&&wt[Dt]==="";Dt--);return Qt>Dt?[]:wt.slice(Qt,Dt-Qt+1)}j=o.resolve(j).substr(1),nt=o.resolve(nt).substr(1);for(var ht=st(j.split("/")),_t=st(nt.split("/")),ft=Math.min(ht.length,_t.length),dt=ft,ut=0;ut<ft;ut++)if(ht[ut]!==_t[ut]){dt=ut;break}var mt=[];for(ut=dt;ut<ht.length;ut++)mt.push("..");return(mt=mt.concat(_t.slice(dt))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(j){if(typeof j!="string"&&(j+=""),j.length===0)return".";for(var nt=j.charCodeAt(0),st=nt===47,ht=-1,_t=!0,ft=j.length-1;ft>=1;--ft)if((nt=j.charCodeAt(ft))===47){if(!_t){ht=ft;break}}else _t=!1;return ht===-1?st?"/":".":st&&ht===1?"/":j.slice(0,ht)},o.basename=function(j,nt){var st=function(ht){typeof ht!="string"&&(ht+="");var _t,ft=0,dt=-1,ut=!0;for(_t=ht.length-1;_t>=0;--_t)if(ht.charCodeAt(_t)===47){if(!ut){ft=_t+1;break}}else dt===-1&&(ut=!1,dt=_t+1);return dt===-1?"":ht.slice(ft,dt)}(j);return nt&&st.substr(-1*nt.length)===nt&&(st=st.substr(0,st.length-nt.length)),st},o.extname=function(j){typeof j!="string"&&(j+="");for(var nt=-1,st=0,ht=-1,_t=!0,ft=0,dt=j.length-1;dt>=0;--dt){var ut=j.charCodeAt(dt);if(ut!==47)ht===-1&&(_t=!1,ht=dt+1),ut===46?nt===-1?nt=dt:ft!==1&&(ft=1):nt!==-1&&(ft=-1);else if(!_t){st=dt+1;break}}return nt===-1||ht===-1||ft===0||ft===1&&nt===ht-1&&nt===st+1?"":j.slice(nt,ht)};var tt="ab".substr(-1)==="b"?function(j,nt,st){return j.substr(nt,st)}:function(j,nt,st){return nt<0&&(nt=j.length+nt),j.substr(nt,st)}}).call(this,s(2))},,function(i,o,s){var _=o.format=s(12);o.levels=s(105),Object.defineProperty(_,"align",{value:s(122)}),Object.defineProperty(_,"cli",{value:s(123)}),Object.defineProperty(_,"combine",{value:s(124)}),Object.defineProperty(_,"colorize",{value:s(41)}),Object.defineProperty(_,"json",{value:s(125)}),Object.defineProperty(_,"label",{value:s(128)}),Object.defineProperty(_,"logstash",{value:s(129)}),Object.defineProperty(_,"metadata",{value:s(130)}),Object.defineProperty(_,"padLevels",{value:s(60)}),Object.defineProperty(_,"prettyPrint",{value:s(131)}),Object.defineProperty(_,"printf",{value:s(132)}),Object.defineProperty(_,"simple",{value:s(133)}),Object.defineProperty(_,"splat",{value:s(134)}),Object.defineProperty(_,"timestamp",{value:s(135)}),Object.defineProperty(_,"uncolorize",{value:s(137)})},function(i,o,s){var _=s(106);i.exports=_},function(i,o,s){function _(ft){return function(dt){if(Array.isArray(dt))return $(dt)}(ft)||function(dt){if(typeof Symbol<"u"&&Symbol.iterator in Object(dt))return Array.from(dt)}(ft)||function(dt,ut){if(dt){if(typeof dt=="string")return $(dt,ut);var mt=Object.prototype.toString.call(dt).slice(8,-1);if(mt==="Object"&&dt.constructor&&(mt=dt.constructor.name),mt==="Map"||mt==="Set")return Array.from(dt);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return $(dt,ut)}}(ft)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(ft,dt){(dt==null||dt>ft.length)&&(dt=ft.length);for(var ut=0,mt=new Array(dt);ut<dt;ut++)mt[ut]=ft[ut];return mt}function _e(ft,dt){if(!(ft instanceof dt))throw new TypeError("Cannot call a class as a function")}function tt(ft,dt){for(var ut=0;ut<dt.length;ut++){var mt=dt[ut];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ft,mt.key,mt)}}var j=s(3),nt=j.configs,st=j.LEVEL,ht=j.MESSAGE,_t=function(){function ft(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:nt.npm.levels};_e(this,ft),this.paddings=ft.paddingForLevels(wt.levels,wt.filler),this.options=wt}var dt,ut,mt;return dt=ft,mt=[{key:"getLongestLevel",value:function(wt){var Qt=Object.keys(wt).map(function(Dt){return Dt.length});return Math.max.apply(Math,_(Qt))}},{key:"paddingForLevel",value:function(wt,Qt,Dt){var Et=Dt+1-wt.length,xt=Math.floor(Et/Qt.length);return"".concat(Qt).concat(Qt.repeat(xt)).slice(0,Et)}},{key:"paddingForLevels",value:function(wt){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",Dt=ft.getLongestLevel(wt);return Object.keys(wt).reduce(function(Et,xt){return Et[xt]=ft.paddingForLevel(xt,Qt,Dt),Et},{})}}],(ut=[{key:"transform",value:function(wt,Qt){return wt.message="".concat(this.paddings[wt[st]]).concat(wt.message),wt[ht]&&(wt[ht]="".concat(this.paddings[wt[st]]).concat(wt[ht])),wt}}])&&tt(dt.prototype,ut),mt&&tt(dt,mt),ft}();i.exports=function(ft){return new _t(ft)},i.exports.Padder=i.exports.Format=_t},function(i,o,s){var _=s(13).format;o.warn={deprecated:function($){return function(){throw new Error(_("{ %s } was removed in winston@3.0.0.",$))}},useFormat:function($){return function(){throw new Error([_("{ %s } was removed in winston@3.0.0.",$),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function($,_e,tt){tt.forEach(function(j){$[j]=o.warn[_e](j)})},moved:function($,_e,tt){function j(){return function(){throw new Error([_("winston.%s was moved in winston@3.0.0.",tt),_("Use a winston.%s instead.",_e)].join(`
`))}}Object.defineProperty($,tt,{get:j,set:j})},forProperties:function($,_e,tt){tt.forEach(function(j){var nt=o.warn[_e](j);Object.defineProperty($,j,{get:nt,set:nt})})}}},function(i,o,s){(function(_,$,_e){var tt=s(16);function j(St){var It=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,Lt,Xt){var zt=Bt.entry;for(Bt.entry=null;zt;){var Pt=zt.callback;Lt.pendingcb--,Pt(Xt),zt=zt.next}Lt.corkedRequestsFree?Lt.corkedRequestsFree.next=Bt:Lt.corkedRequestsFree=Bt})(It,St)}}i.exports=Et;var nt,st=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:tt.nextTick;Et.WritableState=Dt;var ht=Object.create(s(17));ht.inherits=s(7);var _t={deprecate:s(43)},ft=s(63),dt=s(44).Buffer,ut=_e.Uint8Array||function(){},mt,wt=s(64);function Qt(){}function Dt(St,It){nt=nt||s(36),St=St||{};var Bt=It instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var Lt=St.highWaterMark,Xt=St.writableHighWaterMark,zt=this.objectMode?16:16384;this.highWaterMark=Lt||Lt===0?Lt:Bt&&(Xt||Xt===0)?Xt:zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Pt=St.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){(function(Zt,Ct){var Ft=Zt._writableState,Ht=Ft.sync,tn=Ft.writecb;if(function(yn){yn.writing=!1,yn.writecb=null,yn.length-=yn.writelen,yn.writelen=0}(Ft),Ct)(function(yn,vn,un,rn,At){--vn.pendingcb,un?(tt.nextTick(At,rn),tt.nextTick(bt,yn,vn),yn._writableState.errorEmitted=!0,yn.emit("error",rn)):(At(rn),yn._writableState.errorEmitted=!0,yn.emit("error",rn),bt(yn,vn))})(Zt,Ft,Ht,Ct,tn);else{var mn=nn(Ft);mn||Ft.corked||Ft.bufferProcessing||!Ft.bufferedRequest||Vt(Zt,Ft),Ht?st(pt,Zt,Ft,mn,tn):pt(Zt,Ft,mn,tn)}})(It,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function Et(St){if(nt=nt||s(36),!(mt.call(Et,this)||this instanceof nt))return new Et(St);this._writableState=new Dt(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),ft.call(this)}function xt(St,It,Bt,Lt,Xt,zt,Pt){It.writelen=Lt,It.writecb=Pt,It.writing=!0,It.sync=!0,Bt?St._writev(Xt,It.onwrite):St._write(Xt,zt,It.onwrite),It.sync=!1}function pt(St,It,Bt,Lt){Bt||function(Xt,zt){zt.length===0&&zt.needDrain&&(zt.needDrain=!1,Xt.emit("drain"))}(St,It),It.pendingcb--,Lt(),bt(St,It)}function Vt(St,It){It.bufferProcessing=!0;var Bt=It.bufferedRequest;if(St._writev&&Bt&&Bt.next){var Lt=It.bufferedRequestCount,Xt=new Array(Lt),zt=It.corkedRequestsFree;zt.entry=Bt;for(var Pt=0,jt=!0;Bt;)Xt[Pt]=Bt,Bt.isBuf||(jt=!1),Bt=Bt.next,Pt+=1;Xt.allBuffers=jt,xt(St,It,!0,It.length,Xt,"",zt.finish),It.pendingcb++,It.lastBufferedRequest=null,zt.next?(It.corkedRequestsFree=zt.next,zt.next=null):It.corkedRequestsFree=new j(It),It.bufferedRequestCount=0}else{for(;Bt;){var Zt=Bt.chunk,Ct=Bt.encoding,Ft=Bt.callback;if(xt(St,It,!1,It.objectMode?1:Zt.length,Zt,Ct,Ft),Bt=Bt.next,It.bufferedRequestCount--,It.writing)break}Bt===null&&(It.lastBufferedRequest=null)}It.bufferedRequest=Bt,It.bufferProcessing=!1}function nn(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function on(St,It){St._final(function(Bt){It.pendingcb--,Bt&&St.emit("error",Bt),It.prefinished=!0,St.emit("prefinish"),bt(St,It)})}function bt(St,It){var Bt=nn(It);return Bt&&(function(Lt,Xt){Xt.prefinished||Xt.finalCalled||(typeof Lt._final=="function"?(Xt.pendingcb++,Xt.finalCalled=!0,tt.nextTick(on,Lt,Xt)):(Xt.prefinished=!0,Lt.emit("prefinish")))}(St,It),It.pendingcb===0&&(It.finished=!0,St.emit("finish"))),Bt}ht.inherits(Et,ft),Dt.prototype.getBuffer=function(){for(var St=this.bufferedRequest,It=[];St;)It.push(St),St=St.next;return It},function(){try{Object.defineProperty(Dt.prototype,"buffer",{get:_t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(St){return!!mt.call(this,St)||this===Et&&St&&St._writableState instanceof Dt}})):mt=function(St){return St instanceof this},Et.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Et.prototype.write=function(St,It,Bt){var Lt,Xt=this._writableState,zt=!1,Pt=!Xt.objectMode&&(Lt=St,dt.isBuffer(Lt)||Lt instanceof ut);return Pt&&!dt.isBuffer(St)&&(St=function(jt){return dt.from(jt)}(St)),typeof It=="function"&&(Bt=It,It=null),Pt?It="buffer":It||(It=Xt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),Xt.ended?function(jt,Zt){var Ct=new Error("write after end");jt.emit("error",Ct),tt.nextTick(Zt,Ct)}(this,Bt):(Pt||function(jt,Zt,Ct,Ft){var Ht=!0,tn=!1;return Ct===null?tn=new TypeError("May not write null values to stream"):typeof Ct=="string"||Ct===void 0||Zt.objectMode||(tn=new TypeError("Invalid non-string/buffer chunk")),tn&&(jt.emit("error",tn),tt.nextTick(Ft,tn),Ht=!1),Ht}(this,Xt,St,Bt))&&(Xt.pendingcb++,zt=function(jt,Zt,Ct,Ft,Ht,tn){if(!Ct){var mn=function(rn,At,Mt){return rn.objectMode||rn.decodeStrings===!1||typeof At!="string"||(At=dt.from(At,Mt)),At}(Zt,Ft,Ht);Ft!==mn&&(Ct=!0,Ht="buffer",Ft=mn)}var yn=Zt.objectMode?1:Ft.length;Zt.length+=yn;var vn=Zt.length<Zt.highWaterMark;if(vn||(Zt.needDrain=!0),Zt.writing||Zt.corked){var un=Zt.lastBufferedRequest;Zt.lastBufferedRequest={chunk:Ft,encoding:Ht,isBuf:Ct,callback:tn,next:null},un?un.next=Zt.lastBufferedRequest:Zt.bufferedRequest=Zt.lastBufferedRequest,Zt.bufferedRequestCount+=1}else xt(jt,Zt,!1,yn,Ft,Ht,tn);return vn}(this,Xt,Pt,St,It,Bt)),zt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Vt(this,St))},Et.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(St,It,Bt){Bt(new Error("_write() is not implemented"))},Et.prototype._writev=null,Et.prototype.end=function(St,It,Bt){var Lt=this._writableState;typeof St=="function"?(Bt=St,St=null,It=null):typeof It=="function"&&(Bt=It,It=null),St!=null&&this.write(St,It),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||Lt.finished||function(Xt,zt,Pt){zt.ending=!0,bt(Xt,zt),Pt&&(zt.finished?tt.nextTick(Pt):Xt.once("finish",Pt)),zt.ended=!0,Xt.writable=!1}(this,Lt,Bt)},Object.defineProperty(Et.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),Et.prototype.destroy=wt.destroy,Et.prototype._undestroy=wt.undestroy,Et.prototype._destroy=function(St,It){this.end(),It(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,tt){_e.emit("error",tt)}i.exports={destroy:function(_e,tt){var j=this,nt=this._readableState&&this._readableState.destroyed,st=this._writableState&&this._writableState.destroyed;return nt||st?(tt?tt(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ht){!tt&&ht?(_.nextTick($,j,ht),j._writableState&&(j._writableState.errorEmitted=!0)):tt&&tt(ht)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o){},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=tt(s(156)),$=tt(s(25)),_e=tt(s(30));function tt(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)(function(j,nt,st,ht){return(0,_.default)(nt)(j,(0,$.default)(st),ht)},4),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){function $(..._e){if(_!==null){var tt=_;_=null,tt.apply(this,_e)}}return Object.assign($,_),$},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){if(_===null)throw new Error("Callback was already called.");var _e=_;_=null,_e.apply(this,$)}},i.exports=o.default},function(i,o,s){(function(_,$){var _e=s(16);i.exports=xt;var tt,j=s(42);xt.ReadableState=Et,s(21).EventEmitter;var nt=function(Ct,Ft){return Ct.listeners(Ft).length},st=s(70),ht=s(47).Buffer,_t=_.Uint8Array||function(){},ft=s(17);ft.inherits=s(7);var dt=s(162),ut=void 0;ut=dt&&dt.debuglog?dt.debuglog("stream"):function(){};var mt,wt=s(163),Qt=s(71);ft.inherits(xt,st);var Dt=["error","close","destroy","pause","resume"];function Et(Ct,Ft){Ct=Ct||{};var Ht=Ft instanceof(tt=tt||s(23));this.objectMode=!!Ct.objectMode,Ht&&(this.objectMode=this.objectMode||!!Ct.readableObjectMode);var tn=Ct.highWaterMark,mn=Ct.readableHighWaterMark,yn=this.objectMode?16:16384;this.highWaterMark=tn||tn===0?tn:Ht&&(mn||mn===0)?mn:yn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ct.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ct.encoding&&(mt||(mt=s(22).StringDecoder),this.decoder=new mt(Ct.encoding),this.encoding=Ct.encoding)}function xt(Ct){if(tt=tt||s(23),!(this instanceof xt))return new xt(Ct);this._readableState=new Et(Ct,this),this.readable=!0,Ct&&(typeof Ct.read=="function"&&(this._read=Ct.read),typeof Ct.destroy=="function"&&(this._destroy=Ct.destroy)),st.call(this)}function pt(Ct,Ft,Ht,tn,mn){var yn,vn=Ct._readableState;return Ft===null?(vn.reading=!1,function(un,rn){if(!rn.ended){if(rn.decoder){var At=rn.decoder.end();At&&At.length&&(rn.buffer.push(At),rn.length+=rn.objectMode?1:At.length)}rn.ended=!0,on(un)}}(Ct,vn)):(mn||(yn=function(un,rn){var At;Mt=rn,ht.isBuffer(Mt)||Mt instanceof _t||typeof rn=="string"||rn===void 0||un.objectMode||(At=new TypeError("Invalid non-string/buffer chunk"));var Mt;return At}(vn,Ft)),yn?Ct.emit("error",yn):vn.objectMode||Ft&&Ft.length>0?(typeof Ft=="string"||vn.objectMode||Object.getPrototypeOf(Ft)===ht.prototype||(Ft=function(un){return ht.from(un)}(Ft)),tn?vn.endEmitted?Ct.emit("error",new Error("stream.unshift() after end event")):Vt(Ct,vn,Ft,!0):vn.ended?Ct.emit("error",new Error("stream.push() after EOF")):(vn.reading=!1,vn.decoder&&!Ht?(Ft=vn.decoder.write(Ft),vn.objectMode||Ft.length!==0?Vt(Ct,vn,Ft,!1):St(Ct,vn)):Vt(Ct,vn,Ft,!1))):tn||(vn.reading=!1)),function(un){return!un.ended&&(un.needReadable||un.length<un.highWaterMark||un.length===0)}(vn)}function Vt(Ct,Ft,Ht,tn){Ft.flowing&&Ft.length===0&&!Ft.sync?(Ct.emit("data",Ht),Ct.read(0)):(Ft.length+=Ft.objectMode?1:Ht.length,tn?Ft.buffer.unshift(Ht):Ft.buffer.push(Ht),Ft.needReadable&&on(Ct)),St(Ct,Ft)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ct){this._readableState&&(this._readableState.destroyed=Ct)}}),xt.prototype.destroy=Qt.destroy,xt.prototype._undestroy=Qt.undestroy,xt.prototype._destroy=function(Ct,Ft){this.push(null),Ft(Ct)},xt.prototype.push=function(Ct,Ft){var Ht,tn=this._readableState;return tn.objectMode?Ht=!0:typeof Ct=="string"&&((Ft=Ft||tn.defaultEncoding)!==tn.encoding&&(Ct=ht.from(Ct,Ft),Ft=""),Ht=!0),pt(this,Ct,Ft,!1,Ht)},xt.prototype.unshift=function(Ct){return pt(this,Ct,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(Ct){return mt||(mt=s(22).StringDecoder),this._readableState.decoder=new mt(Ct),this._readableState.encoding=Ct,this};function nn(Ct,Ft){return Ct<=0||Ft.length===0&&Ft.ended?0:Ft.objectMode?1:Ct!=Ct?Ft.flowing&&Ft.length?Ft.buffer.head.data.length:Ft.length:(Ct>Ft.highWaterMark&&(Ft.highWaterMark=function(Ht){return Ht>=8388608?Ht=8388608:(Ht--,Ht|=Ht>>>1,Ht|=Ht>>>2,Ht|=Ht>>>4,Ht|=Ht>>>8,Ht|=Ht>>>16,Ht++),Ht}(Ct)),Ct<=Ft.length?Ct:Ft.ended?Ft.length:(Ft.needReadable=!0,0))}function on(Ct){var Ft=Ct._readableState;Ft.needReadable=!1,Ft.emittedReadable||(ut("emitReadable",Ft.flowing),Ft.emittedReadable=!0,Ft.sync?_e.nextTick(bt,Ct):bt(Ct))}function bt(Ct){ut("emit readable"),Ct.emit("readable"),Xt(Ct)}function St(Ct,Ft){Ft.readingMore||(Ft.readingMore=!0,_e.nextTick(It,Ct,Ft))}function It(Ct,Ft){for(var Ht=Ft.length;!Ft.reading&&!Ft.flowing&&!Ft.ended&&Ft.length<Ft.highWaterMark&&(ut("maybeReadMore read 0"),Ct.read(0),Ht!==Ft.length);)Ht=Ft.length;Ft.readingMore=!1}function Bt(Ct){ut("readable nexttick read 0"),Ct.read(0)}function Lt(Ct,Ft){Ft.reading||(ut("resume read 0"),Ct.read(0)),Ft.resumeScheduled=!1,Ft.awaitDrain=0,Ct.emit("resume"),Xt(Ct),Ft.flowing&&!Ft.reading&&Ct.read(0)}function Xt(Ct){var Ft=Ct._readableState;for(ut("flow",Ft.flowing);Ft.flowing&&Ct.read()!==null;);}function zt(Ct,Ft){return Ft.length===0?null:(Ft.objectMode?Ht=Ft.buffer.shift():!Ct||Ct>=Ft.length?(Ht=Ft.decoder?Ft.buffer.join(""):Ft.buffer.length===1?Ft.buffer.head.data:Ft.buffer.concat(Ft.length),Ft.buffer.clear()):Ht=function(tn,mn,yn){var vn;return tn<mn.head.data.length?(vn=mn.head.data.slice(0,tn),mn.head.data=mn.head.data.slice(tn)):vn=tn===mn.head.data.length?mn.shift():yn?function(un,rn){var At=rn.head,Mt=1,$t=At.data;for(un-=$t.length;At=At.next;){var pn=At.data,hn=un>pn.length?pn.length:un;if(hn===pn.length?$t+=pn:$t+=pn.slice(0,un),(un-=hn)===0){hn===pn.length?(++Mt,At.next?rn.head=At.next:rn.head=rn.tail=null):(rn.head=At,At.data=pn.slice(hn));break}++Mt}return rn.length-=Mt,$t}(tn,mn):function(un,rn){var At=ht.allocUnsafe(un),Mt=rn.head,$t=1;for(Mt.data.copy(At),un-=Mt.data.length;Mt=Mt.next;){var pn=Mt.data,hn=un>pn.length?pn.length:un;if(pn.copy(At,At.length-un,0,hn),(un-=hn)===0){hn===pn.length?(++$t,Mt.next?rn.head=Mt.next:rn.head=rn.tail=null):(rn.head=Mt,Mt.data=pn.slice(hn));break}++$t}return rn.length-=$t,At}(tn,mn),vn}(Ct,Ft.buffer,Ft.decoder),Ht);var Ht}function Pt(Ct){var Ft=Ct._readableState;if(Ft.length>0)throw new Error('"endReadable()" called on non-empty stream');Ft.endEmitted||(Ft.ended=!0,_e.nextTick(jt,Ft,Ct))}function jt(Ct,Ft){Ct.endEmitted||Ct.length!==0||(Ct.endEmitted=!0,Ft.readable=!1,Ft.emit("end"))}function Zt(Ct,Ft){for(var Ht=0,tn=Ct.length;Ht<tn;Ht++)if(Ct[Ht]===Ft)return Ht;return-1}xt.prototype.read=function(Ct){ut("read",Ct),Ct=parseInt(Ct,10);var Ft=this._readableState,Ht=Ct;if(Ct!==0&&(Ft.emittedReadable=!1),Ct===0&&Ft.needReadable&&(Ft.length>=Ft.highWaterMark||Ft.ended))return ut("read: emitReadable",Ft.length,Ft.ended),Ft.length===0&&Ft.ended?Pt(this):on(this),null;if((Ct=nn(Ct,Ft))===0&&Ft.ended)return Ft.length===0&&Pt(this),null;var tn,mn=Ft.needReadable;return ut("need readable",mn),(Ft.length===0||Ft.length-Ct<Ft.highWaterMark)&&ut("length less than watermark",mn=!0),Ft.ended||Ft.reading?ut("reading or ended",mn=!1):mn&&(ut("do read"),Ft.reading=!0,Ft.sync=!0,Ft.length===0&&(Ft.needReadable=!0),this._read(Ft.highWaterMark),Ft.sync=!1,Ft.reading||(Ct=nn(Ht,Ft))),(tn=Ct>0?zt(Ct,Ft):null)===null?(Ft.needReadable=!0,Ct=0):Ft.length-=Ct,Ft.length===0&&(Ft.ended||(Ft.needReadable=!0),Ht!==Ct&&Ft.ended&&Pt(this)),tn!==null&&this.emit("data",tn),tn},xt.prototype._read=function(Ct){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(Ct,Ft){var Ht=this,tn=this._readableState;switch(tn.pipesCount){case 0:tn.pipes=Ct;break;case 1:tn.pipes=[tn.pipes,Ct];break;default:tn.pipes.push(Ct)}tn.pipesCount+=1,ut("pipe count=%d opts=%j",tn.pipesCount,Ft);var mn=(!Ft||Ft.end!==!1)&&Ct!==$.stdout&&Ct!==$.stderr?vn:Sn;function yn(An,Gn){ut("onunpipe"),An===Ht&&Gn&&Gn.hasUnpiped===!1&&(Gn.hasUnpiped=!0,ut("cleanup"),Ct.removeListener("close",pn),Ct.removeListener("finish",hn),Ct.removeListener("drain",un),Ct.removeListener("error",$t),Ct.removeListener("unpipe",yn),Ht.removeListener("end",vn),Ht.removeListener("end",Sn),Ht.removeListener("data",Mt),rn=!0,!tn.awaitDrain||Ct._writableState&&!Ct._writableState.needDrain||un())}function vn(){ut("onend"),Ct.end()}tn.endEmitted?_e.nextTick(mn):Ht.once("end",mn),Ct.on("unpipe",yn);var un=function(An){return function(){var Gn=An._readableState;ut("pipeOnDrain",Gn.awaitDrain),Gn.awaitDrain&&Gn.awaitDrain--,Gn.awaitDrain===0&&nt(An,"data")&&(Gn.flowing=!0,Xt(An))}}(Ht);Ct.on("drain",un);var rn=!1,At=!1;function Mt(An){ut("ondata"),At=!1,Ct.write(An)!==!1||At||((tn.pipesCount===1&&tn.pipes===Ct||tn.pipesCount>1&&Zt(tn.pipes,Ct)!==-1)&&!rn&&(ut("false write response, pause",Ht._readableState.awaitDrain),Ht._readableState.awaitDrain++,At=!0),Ht.pause())}function $t(An){ut("onerror",An),Sn(),Ct.removeListener("error",$t),nt(Ct,"error")===0&&Ct.emit("error",An)}function pn(){Ct.removeListener("finish",hn),Sn()}function hn(){ut("onfinish"),Ct.removeListener("close",pn),Sn()}function Sn(){ut("unpipe"),Ht.unpipe(Ct)}return Ht.on("data",Mt),function(An,Gn,Qr){if(typeof An.prependListener=="function")return An.prependListener(Gn,Qr);An._events&&An._events[Gn]?j(An._events[Gn])?An._events[Gn].unshift(Qr):An._events[Gn]=[Qr,An._events[Gn]]:An.on(Gn,Qr)}(Ct,"error",$t),Ct.once("close",pn),Ct.once("finish",hn),Ct.emit("pipe",Ht),tn.flowing||(ut("pipe resume"),Ht.resume()),Ct},xt.prototype.unpipe=function(Ct){var Ft=this._readableState,Ht={hasUnpiped:!1};if(Ft.pipesCount===0)return this;if(Ft.pipesCount===1)return Ct&&Ct!==Ft.pipes||(Ct||(Ct=Ft.pipes),Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1,Ct&&Ct.emit("unpipe",this,Ht)),this;if(!Ct){var tn=Ft.pipes,mn=Ft.pipesCount;Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1;for(var yn=0;yn<mn;yn++)tn[yn].emit("unpipe",this,Ht);return this}var vn=Zt(Ft.pipes,Ct);return vn===-1||(Ft.pipes.splice(vn,1),Ft.pipesCount-=1,Ft.pipesCount===1&&(Ft.pipes=Ft.pipes[0]),Ct.emit("unpipe",this,Ht)),this},xt.prototype.on=function(Ct,Ft){var Ht=st.prototype.on.call(this,Ct,Ft);if(Ct==="data")this._readableState.flowing!==!1&&this.resume();else if(Ct==="readable"){var tn=this._readableState;tn.endEmitted||tn.readableListening||(tn.readableListening=tn.needReadable=!0,tn.emittedReadable=!1,tn.reading?tn.length&&on(this):_e.nextTick(Bt,this))}return Ht},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var Ct=this._readableState;return Ct.flowing||(ut("resume"),Ct.flowing=!0,function(Ft,Ht){Ht.resumeScheduled||(Ht.resumeScheduled=!0,_e.nextTick(Lt,Ft,Ht))}(this,Ct)),this},xt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(Ct){var Ft=this,Ht=this._readableState,tn=!1;for(var mn in Ct.on("end",function(){if(ut("wrapped end"),Ht.decoder&&!Ht.ended){var vn=Ht.decoder.end();vn&&vn.length&&Ft.push(vn)}Ft.push(null)}),Ct.on("data",function(vn){ut("wrapped data"),Ht.decoder&&(vn=Ht.decoder.write(vn)),Ht.objectMode&&vn==null||(Ht.objectMode||vn&&vn.length)&&(Ft.push(vn)||(tn=!0,Ct.pause()))}),Ct)this[mn]===void 0&&typeof Ct[mn]=="function"&&(this[mn]=function(vn){return function(){return Ct[vn].apply(Ct,arguments)}}(mn));for(var yn=0;yn<Dt.length;yn++)Ct.on(Dt[yn],this.emit.bind(this,Dt[yn]));return this._read=function(vn){ut("wrapped _read",vn),tn&&(tn=!1,Ct.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=zt}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,tt){_e.emit("error",tt)}i.exports={destroy:function(_e,tt){var j=this,nt=this._readableState&&this._readableState.destroyed,st=this._writableState&&this._writableState.destroyed;return nt||st?(tt?tt(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ht){!tt&&ht?(_.nextTick($,j,ht),j._writableState&&(j._writableState.errorEmitted=!0)):tt&&tt(ht)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o,s){i.exports=tt;var _=s(23),$=s(17);function _e(st,ht){var _t=this._transformState;_t.transforming=!1;var ft=_t.writecb;if(!ft)return this.emit("error",new Error("write callback called multiple times"));_t.writechunk=null,_t.writecb=null,ht!=null&&this.push(ht),ft(st);var dt=this._readableState;dt.reading=!1,(dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}function tt(st){if(!(this instanceof tt))return new tt(st);_.call(this,st),this._transformState={afterTransform:_e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,st&&(typeof st.transform=="function"&&(this._transform=st.transform),typeof st.flush=="function"&&(this._flush=st.flush)),this.on("prefinish",j)}function j(){var st=this;typeof this._flush=="function"?this._flush(function(ht,_t){nt(st,ht,_t)}):nt(this,null,null)}function nt(st,ht,_t){if(ht)return st.emit("error",ht);if(_t!=null&&st.push(_t),st._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(st._transformState.transforming)throw new Error("Calling transform done when still transforming");return st.push(null)}$.inherits=s(7),$.inherits(tt,_),tt.prototype.push=function(st,ht){return this._transformState.needTransform=!1,_.prototype.push.call(this,st,ht)},tt.prototype._transform=function(st,ht,_t){throw new Error("_transform() is not implemented")},tt.prototype._write=function(st,ht,_t){var ft=this._transformState;if(ft.writecb=_t,ft.writechunk=st,ft.writeencoding=ht,!ft.transforming){var dt=this._readableState;(ft.needTransform||dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}},tt.prototype._read=function(st){var ht=this._transformState;ht.writechunk!==null&&ht.writecb&&!ht.transforming?(ht.transforming=!0,this._transform(ht.writechunk,ht.writeencoding,ht.afterTransform)):ht.needTransform=!0},tt.prototype._destroy=function(st,ht){var _t=this;_.prototype._destroy.call(this,st,function(ft){ht(ft),_t.emit("close")})}},function(i,o,s){i.exports=s(48)},function(i,o,s){(function(_){var $=s(170);function _e(bt,St){if(bt===St)return 0;for(var It=bt.length,Bt=St.length,Lt=0,Xt=Math.min(It,Bt);Lt<Xt;++Lt)if(bt[Lt]!==St[Lt]){It=bt[Lt],Bt=St[Lt];break}return It<Bt?-1:Bt<It?1:0}function tt(bt){return _.Buffer&&typeof _.Buffer.isBuffer=="function"?_.Buffer.isBuffer(bt):!(bt==null||!bt._isBuffer)}var j=s(13),nt=Object.prototype.hasOwnProperty,st=Array.prototype.slice,ht=function(){}.name==="foo";function _t(bt){return Object.prototype.toString.call(bt)}function ft(bt){return!tt(bt)&&typeof _.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(bt):!!bt&&(bt instanceof DataView||!!(bt.buffer&&bt.buffer instanceof ArrayBuffer)))}var dt=i.exports=Et,ut=/\s*function\s+([^\(\s]*)\s*/;function mt(bt){if(j.isFunction(bt)){if(ht)return bt.name;var St=bt.toString().match(ut);return St&&St[1]}}function wt(bt,St){return typeof bt=="string"?bt.length<St?bt:bt.slice(0,St):bt}function Qt(bt){if(ht||!j.isFunction(bt))return j.inspect(bt);var St=mt(bt);return"[Function"+(St?": "+St:"")+"]"}function Dt(bt,St,It,Bt,Lt){throw new dt.AssertionError({message:It,actual:bt,expected:St,operator:Bt,stackStartFunction:Lt})}function Et(bt,St){bt||Dt(bt,!0,St,"==",dt.ok)}function xt(bt,St,It,Bt){if(bt===St)return!0;if(tt(bt)&&tt(St))return _e(bt,St)===0;if(j.isDate(bt)&&j.isDate(St))return bt.getTime()===St.getTime();if(j.isRegExp(bt)&&j.isRegExp(St))return bt.source===St.source&&bt.global===St.global&&bt.multiline===St.multiline&&bt.lastIndex===St.lastIndex&&bt.ignoreCase===St.ignoreCase;if(bt!==null&&typeof bt=="object"||St!==null&&typeof St=="object"){if(ft(bt)&&ft(St)&&_t(bt)===_t(St)&&!(bt instanceof Float32Array||bt instanceof Float64Array))return _e(new Uint8Array(bt.buffer),new Uint8Array(St.buffer))===0;if(tt(bt)!==tt(St))return!1;var Lt=(Bt=Bt||{actual:[],expected:[]}).actual.indexOf(bt);return Lt!==-1&&Lt===Bt.expected.indexOf(St)||(Bt.actual.push(bt),Bt.expected.push(St),function(Xt,zt,Pt,jt){if(Xt==null||zt==null)return!1;if(j.isPrimitive(Xt)||j.isPrimitive(zt))return Xt===zt;if(Pt&&Object.getPrototypeOf(Xt)!==Object.getPrototypeOf(zt))return!1;var Zt=pt(Xt),Ct=pt(zt);if(Zt&&!Ct||!Zt&&Ct)return!1;if(Zt)return Xt=st.call(Xt),zt=st.call(zt),xt(Xt,zt,Pt);var Ft,Ht,tn=on(Xt),mn=on(zt);if(tn.length!==mn.length)return!1;for(tn.sort(),mn.sort(),Ht=tn.length-1;Ht>=0;Ht--)if(tn[Ht]!==mn[Ht])return!1;for(Ht=tn.length-1;Ht>=0;Ht--)if(Ft=tn[Ht],!xt(Xt[Ft],zt[Ft],Pt,jt))return!1;return!0}(bt,St,It,Bt))}return It?bt===St:bt==St}function pt(bt){return Object.prototype.toString.call(bt)=="[object Arguments]"}function Vt(bt,St){if(!bt||!St)return!1;if(Object.prototype.toString.call(St)=="[object RegExp]")return St.test(bt);try{if(bt instanceof St)return!0}catch{}return!Error.isPrototypeOf(St)&&St.call({},bt)===!0}function nn(bt,St,It,Bt){var Lt;if(typeof St!="function")throw new TypeError('"block" argument must be a function');typeof It=="string"&&(Bt=It,It=null),Lt=function(Pt){var jt;try{Pt()}catch(Zt){jt=Zt}return jt}(St),Bt=(It&&It.name?" ("+It.name+").":".")+(Bt?" "+Bt:"."),bt&&!Lt&&Dt(Lt,It,"Missing expected exception"+Bt);var Xt=typeof Bt=="string",zt=!bt&&Lt&&!It;if((!bt&&j.isError(Lt)&&Xt&&Vt(Lt,It)||zt)&&Dt(Lt,It,"Got unwanted exception"+Bt),bt&&Lt&&It&&!Vt(Lt,It)||!bt&&Lt)throw Lt}dt.AssertionError=function(bt){this.name="AssertionError",this.actual=bt.actual,this.expected=bt.expected,this.operator=bt.operator,bt.message?(this.message=bt.message,this.generatedMessage=!1):(this.message=function(Pt){return wt(Qt(Pt.actual),128)+" "+Pt.operator+" "+wt(Qt(Pt.expected),128)}(this),this.generatedMessage=!0);var St=bt.stackStartFunction||Dt;if(Error.captureStackTrace)Error.captureStackTrace(this,St);else{var It=new Error;if(It.stack){var Bt=It.stack,Lt=mt(St),Xt=Bt.indexOf(`
`+Lt);if(Xt>=0){var zt=Bt.indexOf(`
`,Xt+1);Bt=Bt.substring(zt+1)}this.stack=Bt}}},j.inherits(dt.AssertionError,Error),dt.fail=Dt,dt.ok=Et,dt.equal=function(bt,St,It){bt!=St&&Dt(bt,St,It,"==",dt.equal)},dt.notEqual=function(bt,St,It){bt==St&&Dt(bt,St,It,"!=",dt.notEqual)},dt.deepEqual=function(bt,St,It){xt(bt,St,!1)||Dt(bt,St,It,"deepEqual",dt.deepEqual)},dt.deepStrictEqual=function(bt,St,It){xt(bt,St,!0)||Dt(bt,St,It,"deepStrictEqual",dt.deepStrictEqual)},dt.notDeepEqual=function(bt,St,It){xt(bt,St,!1)&&Dt(bt,St,It,"notDeepEqual",dt.notDeepEqual)},dt.notDeepStrictEqual=function bt(St,It,Bt){xt(St,It,!0)&&Dt(St,It,Bt,"notDeepStrictEqual",bt)},dt.strictEqual=function(bt,St,It){bt!==St&&Dt(bt,St,It,"===",dt.strictEqual)},dt.notStrictEqual=function(bt,St,It){bt===St&&Dt(bt,St,It,"!==",dt.notStrictEqual)},dt.throws=function(bt,St,It){nn(!0,bt,St,It)},dt.doesNotThrow=function(bt,St,It){nn(!1,bt,St,It)},dt.ifError=function(bt){if(bt)throw bt},dt.strict=$(function bt(St,It){St||Dt(St,!0,It,"==",bt)},dt,{equal:dt.strictEqual,deepEqual:dt.deepStrictEqual,notEqual:dt.notStrictEqual,notDeepEqual:dt.notDeepStrictEqual}),dt.strict.strict=dt.strict;var on=Object.keys||function(bt){var St=[];for(var It in bt)nt.call(bt,It)&&St.push(It);return St}}).call(this,s(6))},function(i,o,s){i.exports=function(_,$,_e,tt){for(var j=65535&_|0,nt=_>>>16&65535|0,st=0;_e!==0;){_e-=st=_e>2e3?2e3:_e;do nt=nt+(j=j+$[tt++]|0)|0;while(--st);j%=65521,nt%=65521}return j|nt<<16|0}},function(i,o,s){var _=function(){for(var $,_e=[],tt=0;tt<256;tt++){$=tt;for(var j=0;j<8;j++)$=1&$?3988292384^$>>>1:$>>>1;_e[tt]=$}return _e}();i.exports=function($,_e,tt,j){var nt=_,st=j+tt;$^=-1;for(var ht=j;ht<st;ht++)$=$>>>8^nt[255&($^_e[ht])];return-1^$}},function(i,o,s){(function(_,$){var _e;i.exports=St,St.ReadableState=bt,s(21).EventEmitter;var tt=function(un,rn){return un.listeners(rn).length},j=s(78),nt=s(5).Buffer,st=_.Uint8Array||function(){},ht,_t=s(179);ht=_t&&_t.debuglog?_t.debuglog("stream"):function(){};var ft,dt,ut,mt=s(180),wt=s(79),Qt=s(80).getHighWaterMark,Dt=s(26).codes,Et=Dt.ERR_INVALID_ARG_TYPE,xt=Dt.ERR_STREAM_PUSH_AFTER_EOF,pt=Dt.ERR_METHOD_NOT_IMPLEMENTED,Vt=Dt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s(7)(St,j);var nn=wt.errorOrDestroy,on=["error","close","destroy","pause","resume"];function bt(un,rn,At){_e=_e||s(27),un=un||{},typeof At!="boolean"&&(At=rn instanceof _e),this.objectMode=!!un.objectMode,At&&(this.objectMode=this.objectMode||!!un.readableObjectMode),this.highWaterMark=Qt(this,un,"readableHighWaterMark",At),this.buffer=new mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=un.emitClose!==!1,this.autoDestroy=!!un.autoDestroy,this.destroyed=!1,this.defaultEncoding=un.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,un.encoding&&(ft||(ft=s(22).StringDecoder),this.decoder=new ft(un.encoding),this.encoding=un.encoding)}function St(un){if(_e=_e||s(27),!(this instanceof St))return new St(un);var rn=this instanceof _e;this._readableState=new bt(un,this,rn),this.readable=!0,un&&(typeof un.read=="function"&&(this._read=un.read),typeof un.destroy=="function"&&(this._destroy=un.destroy)),j.call(this)}function It(un,rn,At,Mt,$t){ht("readableAddChunk",rn);var pn,hn=un._readableState;if(rn===null)hn.reading=!1,function(Sn,An){if(ht("onEofChunk"),!An.ended){if(An.decoder){var Gn=An.decoder.end();Gn&&Gn.length&&(An.buffer.push(Gn),An.length+=An.objectMode?1:Gn.length)}An.ended=!0,An.sync?Xt(Sn):(An.needReadable=!1,An.emittedReadable||(An.emittedReadable=!0,zt(Sn)))}}(un,hn);else if($t||(pn=function(Sn,An){var Gn;Qr=An,nt.isBuffer(Qr)||Qr instanceof st||typeof An=="string"||An===void 0||Sn.objectMode||(Gn=new Et("chunk",["string","Buffer","Uint8Array"],An));var Qr;return Gn}(hn,rn)),pn)nn(un,pn);else if(hn.objectMode||rn&&rn.length>0)if(typeof rn=="string"||hn.objectMode||Object.getPrototypeOf(rn)===nt.prototype||(rn=function(Sn){return nt.from(Sn)}(rn)),Mt)hn.endEmitted?nn(un,new Vt):Bt(un,hn,rn,!0);else if(hn.ended)nn(un,new xt);else{if(hn.destroyed)return!1;hn.reading=!1,hn.decoder&&!At?(rn=hn.decoder.write(rn),hn.objectMode||rn.length!==0?Bt(un,hn,rn,!1):Pt(un,hn)):Bt(un,hn,rn,!1)}else Mt||(hn.reading=!1,Pt(un,hn));return!hn.ended&&(hn.length<hn.highWaterMark||hn.length===0)}function Bt(un,rn,At,Mt){rn.flowing&&rn.length===0&&!rn.sync?(rn.awaitDrain=0,un.emit("data",At)):(rn.length+=rn.objectMode?1:At.length,Mt?rn.buffer.unshift(At):rn.buffer.push(At),rn.needReadable&&Xt(un)),Pt(un,rn)}Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(un){this._readableState&&(this._readableState.destroyed=un)}}),St.prototype.destroy=wt.destroy,St.prototype._undestroy=wt.undestroy,St.prototype._destroy=function(un,rn){rn(un)},St.prototype.push=function(un,rn){var At,Mt=this._readableState;return Mt.objectMode?At=!0:typeof un=="string"&&((rn=rn||Mt.defaultEncoding)!==Mt.encoding&&(un=nt.from(un,rn),rn=""),At=!0),It(this,un,rn,!1,At)},St.prototype.unshift=function(un){return It(this,un,null,!0,!1)},St.prototype.isPaused=function(){return this._readableState.flowing===!1},St.prototype.setEncoding=function(un){ft||(ft=s(22).StringDecoder);var rn=new ft(un);this._readableState.decoder=rn,this._readableState.encoding=this._readableState.decoder.encoding;for(var At=this._readableState.buffer.head,Mt="";At!==null;)Mt+=rn.write(At.data),At=At.next;return this._readableState.buffer.clear(),Mt!==""&&this._readableState.buffer.push(Mt),this._readableState.length=Mt.length,this};function Lt(un,rn){return un<=0||rn.length===0&&rn.ended?0:rn.objectMode?1:un!=un?rn.flowing&&rn.length?rn.buffer.head.data.length:rn.length:(un>rn.highWaterMark&&(rn.highWaterMark=function(At){return At>=1073741824?At=1073741824:(At--,At|=At>>>1,At|=At>>>2,At|=At>>>4,At|=At>>>8,At|=At>>>16,At++),At}(un)),un<=rn.length?un:rn.ended?rn.length:(rn.needReadable=!0,0))}function Xt(un){var rn=un._readableState;ht("emitReadable",rn.needReadable,rn.emittedReadable),rn.needReadable=!1,rn.emittedReadable||(ht("emitReadable",rn.flowing),rn.emittedReadable=!0,$.nextTick(zt,un))}function zt(un){var rn=un._readableState;ht("emitReadable_",rn.destroyed,rn.length,rn.ended),rn.destroyed||!rn.length&&!rn.ended||(un.emit("readable"),rn.emittedReadable=!1),rn.needReadable=!rn.flowing&&!rn.ended&&rn.length<=rn.highWaterMark,Ht(un)}function Pt(un,rn){rn.readingMore||(rn.readingMore=!0,$.nextTick(jt,un,rn))}function jt(un,rn){for(;!rn.reading&&!rn.ended&&(rn.length<rn.highWaterMark||rn.flowing&&rn.length===0);){var At=rn.length;if(ht("maybeReadMore read 0"),un.read(0),At===rn.length)break}rn.readingMore=!1}function Zt(un){var rn=un._readableState;rn.readableListening=un.listenerCount("readable")>0,rn.resumeScheduled&&!rn.paused?rn.flowing=!0:un.listenerCount("data")>0&&un.resume()}function Ct(un){ht("readable nexttick read 0"),un.read(0)}function Ft(un,rn){ht("resume",rn.reading),rn.reading||un.read(0),rn.resumeScheduled=!1,un.emit("resume"),Ht(un),rn.flowing&&!rn.reading&&un.read(0)}function Ht(un){var rn=un._readableState;for(ht("flow",rn.flowing);rn.flowing&&un.read()!==null;);}function tn(un,rn){return rn.length===0?null:(rn.objectMode?At=rn.buffer.shift():!un||un>=rn.length?(At=rn.decoder?rn.buffer.join(""):rn.buffer.length===1?rn.buffer.first():rn.buffer.concat(rn.length),rn.buffer.clear()):At=rn.buffer.consume(un,rn.decoder),At);var At}function mn(un){var rn=un._readableState;ht("endReadable",rn.endEmitted),rn.endEmitted||(rn.ended=!0,$.nextTick(yn,rn,un))}function yn(un,rn){if(ht("endReadableNT",un.endEmitted,un.length),!un.endEmitted&&un.length===0&&(un.endEmitted=!0,rn.readable=!1,rn.emit("end"),un.autoDestroy)){var At=rn._writableState;(!At||At.autoDestroy&&At.finished)&&rn.destroy()}}function vn(un,rn){for(var At=0,Mt=un.length;At<Mt;At++)if(un[At]===rn)return At;return-1}St.prototype.read=function(un){ht("read",un),un=parseInt(un,10);var rn=this._readableState,At=un;if(un!==0&&(rn.emittedReadable=!1),un===0&&rn.needReadable&&((rn.highWaterMark!==0?rn.length>=rn.highWaterMark:rn.length>0)||rn.ended))return ht("read: emitReadable",rn.length,rn.ended),rn.length===0&&rn.ended?mn(this):Xt(this),null;if((un=Lt(un,rn))===0&&rn.ended)return rn.length===0&&mn(this),null;var Mt,$t=rn.needReadable;return ht("need readable",$t),(rn.length===0||rn.length-un<rn.highWaterMark)&&ht("length less than watermark",$t=!0),rn.ended||rn.reading?ht("reading or ended",$t=!1):$t&&(ht("do read"),rn.reading=!0,rn.sync=!0,rn.length===0&&(rn.needReadable=!0),this._read(rn.highWaterMark),rn.sync=!1,rn.reading||(un=Lt(At,rn))),(Mt=un>0?tn(un,rn):null)===null?(rn.needReadable=rn.length<=rn.highWaterMark,un=0):(rn.length-=un,rn.awaitDrain=0),rn.length===0&&(rn.ended||(rn.needReadable=!0),At!==un&&rn.ended&&mn(this)),Mt!==null&&this.emit("data",Mt),Mt},St.prototype._read=function(un){nn(this,new pt("_read()"))},St.prototype.pipe=function(un,rn){var At=this,Mt=this._readableState;switch(Mt.pipesCount){case 0:Mt.pipes=un;break;case 1:Mt.pipes=[Mt.pipes,un];break;default:Mt.pipes.push(un)}Mt.pipesCount+=1,ht("pipe count=%d opts=%j",Mt.pipesCount,rn);var $t=(!rn||rn.end!==!1)&&un!==$.stdout&&un!==$.stderr?hn:po;function pn(jr,Yr){ht("onunpipe"),jr===At&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,ht("cleanup"),un.removeListener("close",_i),un.removeListener("finish",Pr),un.removeListener("drain",Sn),un.removeListener("error",Qr),un.removeListener("unpipe",pn),At.removeListener("end",hn),At.removeListener("end",po),At.removeListener("data",Gn),An=!0,!Mt.awaitDrain||un._writableState&&!un._writableState.needDrain||Sn())}function hn(){ht("onend"),un.end()}Mt.endEmitted?$.nextTick($t):At.once("end",$t),un.on("unpipe",pn);var Sn=function(jr){return function(){var Yr=jr._readableState;ht("pipeOnDrain",Yr.awaitDrain),Yr.awaitDrain&&Yr.awaitDrain--,Yr.awaitDrain===0&&tt(jr,"data")&&(Yr.flowing=!0,Ht(jr))}}(At);un.on("drain",Sn);var An=!1;function Gn(jr){ht("ondata");var Yr=un.write(jr);ht("dest.write",Yr),Yr===!1&&((Mt.pipesCount===1&&Mt.pipes===un||Mt.pipesCount>1&&vn(Mt.pipes,un)!==-1)&&!An&&(ht("false write response, pause",Mt.awaitDrain),Mt.awaitDrain++),At.pause())}function Qr(jr){ht("onerror",jr),po(),un.removeListener("error",Qr),tt(un,"error")===0&&nn(un,jr)}function _i(){un.removeListener("finish",Pr),po()}function Pr(){ht("onfinish"),un.removeListener("close",_i),po()}function po(){ht("unpipe"),At.unpipe(un)}return At.on("data",Gn),function(jr,Yr,no){if(typeof jr.prependListener=="function")return jr.prependListener(Yr,no);jr._events&&jr._events[Yr]?Array.isArray(jr._events[Yr])?jr._events[Yr].unshift(no):jr._events[Yr]=[no,jr._events[Yr]]:jr.on(Yr,no)}(un,"error",Qr),un.once("close",_i),un.once("finish",Pr),un.emit("pipe",At),Mt.flowing||(ht("pipe resume"),At.resume()),un},St.prototype.unpipe=function(un){var rn=this._readableState,At={hasUnpiped:!1};if(rn.pipesCount===0)return this;if(rn.pipesCount===1)return un&&un!==rn.pipes||(un||(un=rn.pipes),rn.pipes=null,rn.pipesCount=0,rn.flowing=!1,un&&un.emit("unpipe",this,At)),this;if(!un){var Mt=rn.pipes,$t=rn.pipesCount;rn.pipes=null,rn.pipesCount=0,rn.flowing=!1;for(var pn=0;pn<$t;pn++)Mt[pn].emit("unpipe",this,{hasUnpiped:!1});return this}var hn=vn(rn.pipes,un);return hn===-1||(rn.pipes.splice(hn,1),rn.pipesCount-=1,rn.pipesCount===1&&(rn.pipes=rn.pipes[0]),un.emit("unpipe",this,At)),this},St.prototype.on=function(un,rn){var At=j.prototype.on.call(this,un,rn),Mt=this._readableState;return un==="data"?(Mt.readableListening=this.listenerCount("readable")>0,Mt.flowing!==!1&&this.resume()):un==="readable"&&(Mt.endEmitted||Mt.readableListening||(Mt.readableListening=Mt.needReadable=!0,Mt.flowing=!1,Mt.emittedReadable=!1,ht("on readable",Mt.length,Mt.reading),Mt.length?Xt(this):Mt.reading||$.nextTick(Ct,this))),At},St.prototype.addListener=St.prototype.on,St.prototype.removeListener=function(un,rn){var At=j.prototype.removeListener.call(this,un,rn);return un==="readable"&&$.nextTick(Zt,this),At},St.prototype.removeAllListeners=function(un){var rn=j.prototype.removeAllListeners.apply(this,arguments);return un!=="readable"&&un!==void 0||$.nextTick(Zt,this),rn},St.prototype.resume=function(){var un=this._readableState;return un.flowing||(ht("resume"),un.flowing=!un.readableListening,function(rn,At){At.resumeScheduled||(At.resumeScheduled=!0,$.nextTick(Ft,rn,At))}(this,un)),un.paused=!1,this},St.prototype.pause=function(){return ht("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ht("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},St.prototype.wrap=function(un){var rn=this,At=this._readableState,Mt=!1;for(var $t in un.on("end",function(){if(ht("wrapped end"),At.decoder&&!At.ended){var hn=At.decoder.end();hn&&hn.length&&rn.push(hn)}rn.push(null)}),un.on("data",function(hn){ht("wrapped data"),At.decoder&&(hn=At.decoder.write(hn)),At.objectMode&&hn==null||(At.objectMode||hn&&hn.length)&&(rn.push(hn)||(Mt=!0,un.pause()))}),un)this[$t]===void 0&&typeof un[$t]=="function"&&(this[$t]=function(hn){return function(){return un[hn].apply(un,arguments)}}($t));for(var pn=0;pn<on.length;pn++)un.on(on[pn],this.emit.bind(this,on[pn]));return this._read=function(hn){ht("wrapped _read",hn),Mt&&(Mt=!1,un.resume())},this},typeof Symbol=="function"&&(St.prototype[Symbol.asyncIterator]=function(){return dt===void 0&&(dt=s(182)),dt(this)}),Object.defineProperty(St.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(St.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(St.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(un){this._readableState&&(this._readableState.flowing=un)}}),St._fromList=tn,Object.defineProperty(St.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(St.from=function(un,rn){return ut===void 0&&(ut=s(183)),ut(St,un,rn)})}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){(function(_){function $(j,nt){tt(j,nt),_e(j)}function _e(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function tt(j,nt){j.emit("error",nt)}i.exports={destroy:function(j,nt){var st=this,ht=this._readableState&&this._readableState.destroyed,_t=this._writableState&&this._writableState.destroyed;return ht||_t?(nt?nt(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(tt,this,j)):_.nextTick(tt,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(ft){!nt&&ft?st._writableState?st._writableState.errorEmitted?_.nextTick(_e,st):(st._writableState.errorEmitted=!0,_.nextTick($,st,ft)):_.nextTick($,st,ft):nt?(_.nextTick(_e,st),nt(ft)):_.nextTick(_e,st)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(j,nt){var st=j._readableState,ht=j._writableState;st&&st.autoDestroy||ht&&ht.autoDestroy?j.destroy(nt):j.emit("error",nt)}}}).call(this,s(2))},function(i,o,s){var _=s(26).codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function($,_e,tt,j){var nt=function(st,ht,_t){return st.highWaterMark!=null?st.highWaterMark:ht?st[_t]:null}(_e,j,tt);if(nt!=null){if(!isFinite(nt)||Math.floor(nt)!==nt||nt<0)throw new _(j?tt:"highWaterMark",nt);return Math.floor(nt)}return $.objectMode?16:16384}}},function(i,o,s){(function(_,$){function _e(jt){var Zt=this;this.next=null,this.entry=null,this.finish=function(){(function(Ct,Ft,Ht){var tn=Ct.entry;for(Ct.entry=null;tn;){var mn=tn.callback;Ft.pendingcb--,mn(Ht),tn=tn.next}Ft.corkedRequestsFree.next=Ct})(Zt,jt)}}var tt;i.exports=St,St.WritableState=bt;var j={deprecate:s(43)},nt=s(78),st=s(5).Buffer,ht=_.Uint8Array||function(){},_t,ft=s(79),dt=s(80).getHighWaterMark,ut=s(26).codes,mt=ut.ERR_INVALID_ARG_TYPE,wt=ut.ERR_METHOD_NOT_IMPLEMENTED,Qt=ut.ERR_MULTIPLE_CALLBACK,Dt=ut.ERR_STREAM_CANNOT_PIPE,Et=ut.ERR_STREAM_DESTROYED,xt=ut.ERR_STREAM_NULL_VALUES,pt=ut.ERR_STREAM_WRITE_AFTER_END,Vt=ut.ERR_UNKNOWN_ENCODING,nn=ft.errorOrDestroy;function on(){}function bt(jt,Zt,Ct){tt=tt||s(27),jt=jt||{},typeof Ct!="boolean"&&(Ct=Zt instanceof tt),this.objectMode=!!jt.objectMode,Ct&&(this.objectMode=this.objectMode||!!jt.writableObjectMode),this.highWaterMark=dt(this,jt,"writableHighWaterMark",Ct),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ft=jt.decodeStrings===!1;this.decodeStrings=!Ft,this.defaultEncoding=jt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){(function(tn,mn){var yn=tn._writableState,vn=yn.sync,un=yn.writecb;if(typeof un!="function")throw new Qt;if(function(At){At.writing=!1,At.writecb=null,At.length-=At.writelen,At.writelen=0}(yn),mn)(function(At,Mt,$t,pn,hn){--Mt.pendingcb,$t?($.nextTick(hn,pn),$.nextTick(Pt,At,Mt),At._writableState.errorEmitted=!0,nn(At,pn)):(hn(pn),At._writableState.errorEmitted=!0,nn(At,pn),Pt(At,Mt))})(tn,yn,vn,mn,un);else{var rn=Xt(yn)||tn.destroyed;rn||yn.corked||yn.bufferProcessing||!yn.bufferedRequest||Lt(tn,yn),vn?$.nextTick(Bt,tn,yn,rn,un):Bt(tn,yn,rn,un)}})(Zt,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=jt.emitClose!==!1,this.autoDestroy=!!jt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _e(this)}function St(jt){var Zt=this instanceof(tt=tt||s(27));if(!Zt&&!_t.call(St,this))return new St(jt);this._writableState=new bt(jt,this,Zt),this.writable=!0,jt&&(typeof jt.write=="function"&&(this._write=jt.write),typeof jt.writev=="function"&&(this._writev=jt.writev),typeof jt.destroy=="function"&&(this._destroy=jt.destroy),typeof jt.final=="function"&&(this._final=jt.final)),nt.call(this)}function It(jt,Zt,Ct,Ft,Ht,tn,mn){Zt.writelen=Ft,Zt.writecb=mn,Zt.writing=!0,Zt.sync=!0,Zt.destroyed?Zt.onwrite(new Et("write")):Ct?jt._writev(Ht,Zt.onwrite):jt._write(Ht,tn,Zt.onwrite),Zt.sync=!1}function Bt(jt,Zt,Ct,Ft){Ct||function(Ht,tn){tn.length===0&&tn.needDrain&&(tn.needDrain=!1,Ht.emit("drain"))}(jt,Zt),Zt.pendingcb--,Ft(),Pt(jt,Zt)}function Lt(jt,Zt){Zt.bufferProcessing=!0;var Ct=Zt.bufferedRequest;if(jt._writev&&Ct&&Ct.next){var Ft=Zt.bufferedRequestCount,Ht=new Array(Ft),tn=Zt.corkedRequestsFree;tn.entry=Ct;for(var mn=0,yn=!0;Ct;)Ht[mn]=Ct,Ct.isBuf||(yn=!1),Ct=Ct.next,mn+=1;Ht.allBuffers=yn,It(jt,Zt,!0,Zt.length,Ht,"",tn.finish),Zt.pendingcb++,Zt.lastBufferedRequest=null,tn.next?(Zt.corkedRequestsFree=tn.next,tn.next=null):Zt.corkedRequestsFree=new _e(Zt),Zt.bufferedRequestCount=0}else{for(;Ct;){var vn=Ct.chunk,un=Ct.encoding,rn=Ct.callback;if(It(jt,Zt,!1,Zt.objectMode?1:vn.length,vn,un,rn),Ct=Ct.next,Zt.bufferedRequestCount--,Zt.writing)break}Ct===null&&(Zt.lastBufferedRequest=null)}Zt.bufferedRequest=Ct,Zt.bufferProcessing=!1}function Xt(jt){return jt.ending&&jt.length===0&&jt.bufferedRequest===null&&!jt.finished&&!jt.writing}function zt(jt,Zt){jt._final(function(Ct){Zt.pendingcb--,Ct&&nn(jt,Ct),Zt.prefinished=!0,jt.emit("prefinish"),Pt(jt,Zt)})}function Pt(jt,Zt){var Ct=Xt(Zt);if(Ct&&(function(Ht,tn){tn.prefinished||tn.finalCalled||(typeof Ht._final!="function"||tn.destroyed?(tn.prefinished=!0,Ht.emit("prefinish")):(tn.pendingcb++,tn.finalCalled=!0,$.nextTick(zt,Ht,tn)))}(jt,Zt),Zt.pendingcb===0&&(Zt.finished=!0,jt.emit("finish"),Zt.autoDestroy))){var Ft=jt._readableState;(!Ft||Ft.autoDestroy&&Ft.endEmitted)&&jt.destroy()}return Ct}s(7)(St,nt),bt.prototype.getBuffer=function(){for(var jt=this.bufferedRequest,Zt=[];jt;)Zt.push(jt),jt=jt.next;return Zt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_t=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(jt){return!!_t.call(this,jt)||this===St&&jt&&jt._writableState instanceof bt}})):_t=function(jt){return jt instanceof this},St.prototype.pipe=function(){nn(this,new Dt)},St.prototype.write=function(jt,Zt,Ct){var Ft,Ht=this._writableState,tn=!1,mn=!Ht.objectMode&&(Ft=jt,st.isBuffer(Ft)||Ft instanceof ht);return mn&&!st.isBuffer(jt)&&(jt=function(yn){return st.from(yn)}(jt)),typeof Zt=="function"&&(Ct=Zt,Zt=null),mn?Zt="buffer":Zt||(Zt=Ht.defaultEncoding),typeof Ct!="function"&&(Ct=on),Ht.ending?function(yn,vn){var un=new pt;nn(yn,un),$.nextTick(vn,un)}(this,Ct):(mn||function(yn,vn,un,rn){var At;return un===null?At=new xt:typeof un=="string"||vn.objectMode||(At=new mt("chunk",["string","Buffer"],un)),!At||(nn(yn,At),$.nextTick(rn,At),!1)}(this,Ht,jt,Ct))&&(Ht.pendingcb++,tn=function(yn,vn,un,rn,At,Mt){if(!un){var $t=function(An,Gn,Qr){return An.objectMode||An.decodeStrings===!1||typeof Gn!="string"||(Gn=st.from(Gn,Qr)),Gn}(vn,rn,At);rn!==$t&&(un=!0,At="buffer",rn=$t)}var pn=vn.objectMode?1:rn.length;vn.length+=pn;var hn=vn.length<vn.highWaterMark;if(hn||(vn.needDrain=!0),vn.writing||vn.corked){var Sn=vn.lastBufferedRequest;vn.lastBufferedRequest={chunk:rn,encoding:At,isBuf:un,callback:Mt,next:null},Sn?Sn.next=vn.lastBufferedRequest:vn.bufferedRequest=vn.lastBufferedRequest,vn.bufferedRequestCount+=1}else It(yn,vn,!1,pn,rn,At,Mt);return hn}(this,Ht,mn,jt,Zt,Ct)),tn},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var jt=this._writableState;jt.corked&&(jt.corked--,jt.writing||jt.corked||jt.bufferProcessing||!jt.bufferedRequest||Lt(this,jt))},St.prototype.setDefaultEncoding=function(jt){if(typeof jt=="string"&&(jt=jt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((jt+"").toLowerCase())>-1))throw new Vt(jt);return this._writableState.defaultEncoding=jt,this},Object.defineProperty(St.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(jt,Zt,Ct){Ct(new wt("_write()"))},St.prototype._writev=null,St.prototype.end=function(jt,Zt,Ct){var Ft=this._writableState;return typeof jt=="function"?(Ct=jt,jt=null,Zt=null):typeof Zt=="function"&&(Ct=Zt,Zt=null),jt!=null&&this.write(jt,Zt),Ft.corked&&(Ft.corked=1,this.uncork()),Ft.ending||function(Ht,tn,mn){tn.ending=!0,Pt(Ht,tn),mn&&(tn.finished?$.nextTick(mn):Ht.once("finish",mn)),tn.ended=!0,Ht.writable=!1}(this,Ft,Ct),this},Object.defineProperty(St.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(jt){this._writableState&&(this._writableState.destroyed=jt)}}),St.prototype.destroy=ft.destroy,St.prototype._undestroy=ft.undestroy,St.prototype._destroy=function(jt,Zt){Zt(jt)}}).call(this,s(6),s(2))},function(i,o,s){i.exports=ht;var _=s(26).codes,$=_.ERR_METHOD_NOT_IMPLEMENTED,_e=_.ERR_MULTIPLE_CALLBACK,tt=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=_.ERR_TRANSFORM_WITH_LENGTH_0,nt=s(27);function st(dt,ut){var mt=this._transformState;mt.transforming=!1;var wt=mt.writecb;if(wt===null)return this.emit("error",new _e);mt.writechunk=null,mt.writecb=null,ut!=null&&this.push(ut),wt(dt);var Qt=this._readableState;Qt.reading=!1,(Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}function ht(dt){if(!(this instanceof ht))return new ht(dt);nt.call(this,dt),this._transformState={afterTransform:st.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,dt&&(typeof dt.transform=="function"&&(this._transform=dt.transform),typeof dt.flush=="function"&&(this._flush=dt.flush)),this.on("prefinish",_t)}function _t(){var dt=this;typeof this._flush!="function"||this._readableState.destroyed?ft(this,null,null):this._flush(function(ut,mt){ft(dt,ut,mt)})}function ft(dt,ut,mt){if(ut)return dt.emit("error",ut);if(mt!=null&&dt.push(mt),dt._writableState.length)throw new j;if(dt._transformState.transforming)throw new tt;return dt.push(null)}s(7)(ht,nt),ht.prototype.push=function(dt,ut){return this._transformState.needTransform=!1,nt.prototype.push.call(this,dt,ut)},ht.prototype._transform=function(dt,ut,mt){mt(new $("_transform()"))},ht.prototype._write=function(dt,ut,mt){var wt=this._transformState;if(wt.writecb=mt,wt.writechunk=dt,wt.writeencoding=ut,!wt.transforming){var Qt=this._readableState;(wt.needTransform||Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}},ht.prototype._read=function(dt){var ut=this._transformState;ut.writechunk===null||ut.transforming?ut.needTransform=!0:(ut.transforming=!0,this._transform(ut.writechunk,ut.writeencoding,ut.afterTransform))},ht.prototype._destroy=function(dt,ut){nt.prototype._destroy.call(this,dt,function(mt){ut(mt)})}},function(i,o,s){(function(_){var $=s(190),_e=s(85),tt=s(192),j=s(193),nt=s(86),st=o;st.request=function(ht,_t){ht=typeof ht=="string"?nt.parse(ht):tt(ht);var ft=_.location.protocol.search(/^https?:$/)===-1?"http:":"",dt=ht.protocol||ft,ut=ht.hostname||ht.host,mt=ht.port,wt=ht.path||"/";ut&&ut.indexOf(":")!==-1&&(ut="["+ut+"]"),ht.url=(ut?dt+"//"+ut:"")+(mt?":"+mt:"")+wt,ht.method=(ht.method||"GET").toUpperCase(),ht.headers=ht.headers||{};var Qt=new $(ht);return _t&&Qt.on("response",_t),Qt},st.get=function(ht,_t){var ft=st.request(ht,_t);return ft.end(),ft},st.ClientRequest=$,st.IncomingMessage=_e.IncomingMessage,st.Agent=function(){},st.Agent.defaultMaxSockets=4,st.globalAgent=new st.Agent,st.STATUS_CODES=j,st.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,s(6))},function(i,o,s){(function(_){o.fetch=st(_.fetch)&&st(_.ReadableStream),o.writableStream=st(_.WritableStream),o.abortController=st(_.AbortController),o.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),o.blobConstructor=!0}catch{}var $;function _e(){if($!==void 0)return $;if(_.XMLHttpRequest){$=new _.XMLHttpRequest;try{$.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{$=null}}else $=null;return $}function tt(ht){var _t=_e();if(!_t)return!1;try{return _t.responseType=ht,_t.responseType===ht}catch{}return!1}var j=_.ArrayBuffer!==void 0,nt=j&&st(_.ArrayBuffer.prototype.slice);function st(ht){return typeof ht=="function"}o.arraybuffer=o.fetch||j&&tt("arraybuffer"),o.msstream=!o.fetch&&nt&&tt("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&j&&tt("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!_e()&&st(_e().overrideMimeType),o.vbArray=st(_.VBArray),$=null}).call(this,s(6))},function(i,o,s){(function(_,$,_e){var tt=s(84),j=s(7),nt=s(31),st=o.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ht=o.IncomingMessage=function(_t,ft,dt,ut){var mt=this;if(nt.Readable.call(mt),mt._mode=dt,mt.headers={},mt.rawHeaders=[],mt.trailers={},mt.rawTrailers=[],mt.on("end",function(){_.nextTick(function(){mt.emit("close")})}),dt==="fetch"){if(mt._fetchResponse=ft,mt.url=ft.url,mt.statusCode=ft.status,mt.statusMessage=ft.statusText,ft.headers.forEach(function(xt,pt){mt.headers[pt.toLowerCase()]=xt,mt.rawHeaders.push(pt,xt)}),tt.writableStream){var wt=new WritableStream({write:function(xt){return new Promise(function(pt,Vt){mt._destroyed?Vt():mt.push(new $(xt))?pt():mt._resumeFetch=pt})},close:function(){_e.clearTimeout(ut),mt._destroyed||mt.push(null)},abort:function(xt){mt._destroyed||mt.emit("error",xt)}});try{return void ft.body.pipeTo(wt).catch(function(xt){_e.clearTimeout(ut),mt._destroyed||mt.emit("error",xt)})}catch{}}var Qt=ft.body.getReader();(function xt(){Qt.read().then(function(pt){if(!mt._destroyed){if(pt.done)return _e.clearTimeout(ut),void mt.push(null);mt.push(new $(pt.value)),xt()}}).catch(function(pt){_e.clearTimeout(ut),mt._destroyed||mt.emit("error",pt)})})()}else if(mt._xhr=_t,mt._pos=0,mt.url=_t.responseURL,mt.statusCode=_t.status,mt.statusMessage=_t.statusText,_t.getAllResponseHeaders().split(/\r?\n/).forEach(function(xt){var pt=xt.match(/^([^:]+):\s*(.*)/);if(pt){var Vt=pt[1].toLowerCase();Vt==="set-cookie"?(mt.headers[Vt]===void 0&&(mt.headers[Vt]=[]),mt.headers[Vt].push(pt[2])):mt.headers[Vt]!==void 0?mt.headers[Vt]+=", "+pt[2]:mt.headers[Vt]=pt[2],mt.rawHeaders.push(pt[1],pt[2])}}),mt._charset="x-user-defined",!tt.overrideMimeType){var Dt=mt.rawHeaders["mime-type"];if(Dt){var Et=Dt.match(/;\s*charset=([^;])(;|$)/);Et&&(mt._charset=Et[1].toLowerCase())}mt._charset||(mt._charset="utf-8")}};j(ht,nt.Readable),ht.prototype._read=function(){var _t=this._resumeFetch;_t&&(this._resumeFetch=null,_t())},ht.prototype._onXHRProgress=function(){var _t=this,ft=_t._xhr,dt=null;switch(_t._mode){case"text:vbarray":if(ft.readyState!==st.DONE)break;try{dt=new _e.VBArray(ft.responseBody).toArray()}catch{}if(dt!==null){_t.push(new $(dt));break}case"text":try{dt=ft.responseText}catch{_t._mode="text:vbarray";break}if(dt.length>_t._pos){var ut=dt.substr(_t._pos);if(_t._charset==="x-user-defined"){for(var mt=new $(ut.length),wt=0;wt<ut.length;wt++)mt[wt]=255&ut.charCodeAt(wt);_t.push(mt)}else _t.push(ut,_t._charset);_t._pos=dt.length}break;case"arraybuffer":if(ft.readyState!==st.DONE||!ft.response)break;dt=ft.response,_t.push(new $(new Uint8Array(dt)));break;case"moz-chunked-arraybuffer":if(dt=ft.response,ft.readyState!==st.LOADING||!dt)break;_t.push(new $(new Uint8Array(dt)));break;case"ms-stream":if(dt=ft.response,ft.readyState!==st.LOADING)break;var Qt=new _e.MSStreamReader;Qt.onprogress=function(){Qt.result.byteLength>_t._pos&&(_t.push(new $(new Uint8Array(Qt.result.slice(_t._pos)))),_t._pos=Qt.result.byteLength)},Qt.onload=function(){_t.push(null)},Qt.readAsArrayBuffer(dt)}_t._xhr.readyState===st.DONE&&_t._mode!=="ms-stream"&&_t.push(null)}}).call(this,s(2),s(5).Buffer,s(6))},function(i,o,s){var _=s(194),$=s(196);function _e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=Et,o.resolve=function(xt,pt){return Et(xt,!1,!0).resolve(pt)},o.resolveObject=function(xt,pt){return xt?Et(xt,!1,!0).resolveObject(pt):pt},o.format=function(xt){return $.isString(xt)&&(xt=Et(xt)),xt instanceof _e?xt.format():_e.prototype.format.call(xt)},o.Url=_e;var tt=/^([a-z0-9.+-]+:)/i,j=/:[0-9]*$/,nt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,st=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ht=["'"].concat(st),_t=["%","/","?",";","#"].concat(ht),ft=["/","?","#"],dt=/^[+a-z0-9A-Z_-]{0,63}$/,ut=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Qt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Dt=s(197);function Et(xt,pt,Vt){if(xt&&$.isObject(xt)&&xt instanceof _e)return xt;var nn=new _e;return nn.parse(xt,pt,Vt),nn}_e.prototype.parse=function(xt,pt,Vt){if(!$.isString(xt))throw new TypeError("Parameter 'url' must be a string, not "+typeof xt);var nn=xt.indexOf("?"),on=nn!==-1&&nn<xt.indexOf("#")?"?":"#",bt=xt.split(on);bt[0]=bt[0].replace(/\\/g,"/");var St=xt=bt.join(on);if(St=St.trim(),!Vt&&xt.split("#").length===1){var It=nt.exec(St);if(It)return this.path=St,this.href=St,this.pathname=It[1],It[2]?(this.search=It[2],this.query=pt?Dt.parse(this.search.substr(1)):this.search.substr(1)):pt&&(this.search="",this.query={}),this}var Bt=tt.exec(St);if(Bt){var Lt=(Bt=Bt[0]).toLowerCase();this.protocol=Lt,St=St.substr(Bt.length)}if(Vt||Bt||St.match(/^\/\/[^@\/]+@[^@\/]+/)){var Xt=St.substr(0,2)==="//";!Xt||Bt&&wt[Bt]||(St=St.substr(2),this.slashes=!0)}if(!wt[Bt]&&(Xt||Bt&&!Qt[Bt])){for(var zt,Pt,jt=-1,Zt=0;Zt<ft.length;Zt++)(Ct=St.indexOf(ft[Zt]))!==-1&&(jt===-1||Ct<jt)&&(jt=Ct);for((Pt=jt===-1?St.lastIndexOf("@"):St.lastIndexOf("@",jt))!==-1&&(zt=St.slice(0,Pt),St=St.slice(Pt+1),this.auth=decodeURIComponent(zt)),jt=-1,Zt=0;Zt<_t.length;Zt++){var Ct;(Ct=St.indexOf(_t[Zt]))!==-1&&(jt===-1||Ct<jt)&&(jt=Ct)}jt===-1&&(jt=St.length),this.host=St.slice(0,jt),St=St.slice(jt),this.parseHost(),this.hostname=this.hostname||"";var Ft=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Ft)for(var Ht=this.hostname.split(/\./),tn=(Zt=0,Ht.length);Zt<tn;Zt++){var mn=Ht[Zt];if(mn&&!mn.match(dt)){for(var yn="",vn=0,un=mn.length;vn<un;vn++)mn.charCodeAt(vn)>127?yn+="x":yn+=mn[vn];if(!yn.match(dt)){var rn=Ht.slice(0,Zt),At=Ht.slice(Zt+1),Mt=mn.match(ut);Mt&&(rn.push(Mt[1]),At.unshift(Mt[2])),At.length&&(St="/"+At.join(".")+St),this.hostname=rn.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Ft||(this.hostname=_.toASCII(this.hostname));var $t=this.port?":"+this.port:"",pn=this.hostname||"";this.host=pn+$t,this.href+=this.host,Ft&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),St[0]!=="/"&&(St="/"+St))}if(!mt[Lt])for(Zt=0,tn=ht.length;Zt<tn;Zt++){var hn=ht[Zt];if(St.indexOf(hn)!==-1){var Sn=encodeURIComponent(hn);Sn===hn&&(Sn=escape(hn)),St=St.split(hn).join(Sn)}}var An=St.indexOf("#");An!==-1&&(this.hash=St.substr(An),St=St.slice(0,An));var Gn=St.indexOf("?");if(Gn!==-1?(this.search=St.substr(Gn),this.query=St.substr(Gn+1),pt&&(this.query=Dt.parse(this.query)),St=St.slice(0,Gn)):pt&&(this.search="",this.query={}),St&&(this.pathname=St),Qt[Lt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$t=this.pathname||"";var Qr=this.search||"";this.path=$t+Qr}return this.href=this.format(),this},_e.prototype.format=function(){var xt=this.auth||"";xt&&(xt=(xt=encodeURIComponent(xt)).replace(/%3A/i,":"),xt+="@");var pt=this.protocol||"",Vt=this.pathname||"",nn=this.hash||"",on=!1,bt="";this.host?on=xt+this.host:this.hostname&&(on=xt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(on+=":"+this.port)),this.query&&$.isObject(this.query)&&Object.keys(this.query).length&&(bt=Dt.stringify(this.query));var St=this.search||bt&&"?"+bt||"";return pt&&pt.substr(-1)!==":"&&(pt+=":"),this.slashes||(!pt||Qt[pt])&&on!==!1?(on="//"+(on||""),Vt&&Vt.charAt(0)!=="/"&&(Vt="/"+Vt)):on||(on=""),nn&&nn.charAt(0)!=="#"&&(nn="#"+nn),St&&St.charAt(0)!=="?"&&(St="?"+St),pt+on+(Vt=Vt.replace(/[?#]/g,function(It){return encodeURIComponent(It)}))+(St=St.replace("#","%23"))+nn},_e.prototype.resolve=function(xt){return this.resolveObject(Et(xt,!1,!0)).format()},_e.prototype.resolveObject=function(xt){if($.isString(xt)){var pt=new _e;pt.parse(xt,!1,!0),xt=pt}for(var Vt=new _e,nn=Object.keys(this),on=0;on<nn.length;on++){var bt=nn[on];Vt[bt]=this[bt]}if(Vt.hash=xt.hash,xt.href==="")return Vt.href=Vt.format(),Vt;if(xt.slashes&&!xt.protocol){for(var St=Object.keys(xt),It=0;It<St.length;It++){var Bt=St[It];Bt!=="protocol"&&(Vt[Bt]=xt[Bt])}return Qt[Vt.protocol]&&Vt.hostname&&!Vt.pathname&&(Vt.path=Vt.pathname="/"),Vt.href=Vt.format(),Vt}if(xt.protocol&&xt.protocol!==Vt.protocol){if(!Qt[xt.protocol]){for(var Lt=Object.keys(xt),Xt=0;Xt<Lt.length;Xt++){var zt=Lt[Xt];Vt[zt]=xt[zt]}return Vt.href=Vt.format(),Vt}if(Vt.protocol=xt.protocol,xt.host||wt[xt.protocol])Vt.pathname=xt.pathname;else{for(var Pt=(xt.pathname||"").split("/");Pt.length&&!(xt.host=Pt.shift()););xt.host||(xt.host=""),xt.hostname||(xt.hostname=""),Pt[0]!==""&&Pt.unshift(""),Pt.length<2&&Pt.unshift(""),Vt.pathname=Pt.join("/")}if(Vt.search=xt.search,Vt.query=xt.query,Vt.host=xt.host||"",Vt.auth=xt.auth,Vt.hostname=xt.hostname||xt.host,Vt.port=xt.port,Vt.pathname||Vt.search){var jt=Vt.pathname||"",Zt=Vt.search||"";Vt.path=jt+Zt}return Vt.slashes=Vt.slashes||xt.slashes,Vt.href=Vt.format(),Vt}var Ct=Vt.pathname&&Vt.pathname.charAt(0)==="/",Ft=xt.host||xt.pathname&&xt.pathname.charAt(0)==="/",Ht=Ft||Ct||Vt.host&&xt.pathname,tn=Ht,mn=Vt.pathname&&Vt.pathname.split("/")||[],yn=(Pt=xt.pathname&&xt.pathname.split("/")||[],Vt.protocol&&!Qt[Vt.protocol]);if(yn&&(Vt.hostname="",Vt.port=null,Vt.host&&(mn[0]===""?mn[0]=Vt.host:mn.unshift(Vt.host)),Vt.host="",xt.protocol&&(xt.hostname=null,xt.port=null,xt.host&&(Pt[0]===""?Pt[0]=xt.host:Pt.unshift(xt.host)),xt.host=null),Ht=Ht&&(Pt[0]===""||mn[0]==="")),Ft)Vt.host=xt.host||xt.host===""?xt.host:Vt.host,Vt.hostname=xt.hostname||xt.hostname===""?xt.hostname:Vt.hostname,Vt.search=xt.search,Vt.query=xt.query,mn=Pt;else if(Pt.length)mn||(mn=[]),mn.pop(),mn=mn.concat(Pt),Vt.search=xt.search,Vt.query=xt.query;else if(!$.isNullOrUndefined(xt.search))return yn&&(Vt.hostname=Vt.host=mn.shift(),(Mt=!!(Vt.host&&Vt.host.indexOf("@")>0)&&Vt.host.split("@"))&&(Vt.auth=Mt.shift(),Vt.host=Vt.hostname=Mt.shift())),Vt.search=xt.search,Vt.query=xt.query,$.isNull(Vt.pathname)&&$.isNull(Vt.search)||(Vt.path=(Vt.pathname?Vt.pathname:"")+(Vt.search?Vt.search:"")),Vt.href=Vt.format(),Vt;if(!mn.length)return Vt.pathname=null,Vt.search?Vt.path="/"+Vt.search:Vt.path=null,Vt.href=Vt.format(),Vt;for(var vn=mn.slice(-1)[0],un=(Vt.host||xt.host||mn.length>1)&&(vn==="."||vn==="..")||vn==="",rn=0,At=mn.length;At>=0;At--)(vn=mn[At])==="."?mn.splice(At,1):vn===".."?(mn.splice(At,1),rn++):rn&&(mn.splice(At,1),rn--);if(!Ht&&!tn)for(;rn--;rn)mn.unshift("..");!Ht||mn[0]===""||mn[0]&&mn[0].charAt(0)==="/"||mn.unshift(""),un&&mn.join("/").substr(-1)!=="/"&&mn.push("");var Mt,$t=mn[0]===""||mn[0]&&mn[0].charAt(0)==="/";return yn&&(Vt.hostname=Vt.host=$t?"":mn.length?mn.shift():"",(Mt=!!(Vt.host&&Vt.host.indexOf("@")>0)&&Vt.host.split("@"))&&(Vt.auth=Mt.shift(),Vt.host=Vt.hostname=Mt.shift())),(Ht=Ht||Vt.host&&mn.length)&&!$t&&mn.unshift(""),mn.length?Vt.pathname=mn.join("/"):(Vt.pathname=null,Vt.path=null),$.isNull(Vt.pathname)&&$.isNull(Vt.search)||(Vt.path=(Vt.pathname?Vt.pathname:"")+(Vt.search?Vt.search:"")),Vt.auth=xt.auth||Vt.auth,Vt.slashes=Vt.slashes||xt.slashes,Vt.href=Vt.format(),Vt},_e.prototype.parseHost=function(){var xt=this.host,pt=j.exec(xt);pt&&((pt=pt[0])!==":"&&(this.port=pt.substr(1)),xt=xt.substr(0,xt.length-pt.length)),xt&&(this.hostname=xt)}},function(i,o,s){const _=$=>$!==null&&typeof $=="object"&&typeof $.pipe=="function";_.writable=$=>_($)&&$.writable!==!1&&typeof $._write=="function"&&typeof $._writableState=="object",_.readable=$=>_($)&&$.readable!==!1&&typeof $._read=="function"&&typeof $._readableState=="object",_.duplex=$=>_.writable($)&&_.readable($),_.transform=$=>_.duplex($)&&typeof $._transform=="function"&&typeof $._transformState=="object",i.exports=_},function(i,o,s){function _(mt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(mt)}function $(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}function _e(mt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),wt&&tt(mt,wt)}function tt(mt,wt){return(tt=Object.setPrototypeOf||function(Qt,Dt){return Qt.__proto__=Dt,Qt})(mt,wt)}function j(mt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,Dt=st(mt);if(wt){var Et=st(this).constructor;Qt=Reflect.construct(Dt,arguments,Et)}else Qt=Dt.apply(this,arguments);return nt(this,Qt)}}function nt(mt,wt){return!wt||_(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(mt):wt}function st(mt){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(mt)}var ht=s(3).LEVEL,_t=s(50),ft=s(202),dt=s(38)("winston:create-logger");function ut(mt){return"is"+mt.charAt(0).toUpperCase()+mt.slice(1)+"Enabled"}i.exports=function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mt.levels=mt.levels||_t.npm.levels;var wt=function(Dt){_e(xt,Dt);var Et=j(xt);function xt(pt){return $(this,xt),Et.call(this,pt)}return xt}(ft),Qt=new wt(mt);return Object.keys(mt.levels).forEach(function(Dt){dt('Define prototype method for "%s"',Dt),Dt!=="log"?(wt.prototype[Dt]=function(){for(var Et=this||Qt,xt=arguments.length,pt=new Array(xt),Vt=0;Vt<xt;Vt++)pt[Vt]=arguments[Vt];if(pt.length===1){var nn=pt[0],on=nn&&nn.message&&nn||{message:nn};return on.level=on[ht]=Dt,Et._addDefaultMeta(on),Et.write(on),this||Qt}return pt.length===0?(Et.log(Dt,""),Et):Et.log.apply(Et,[Dt].concat(pt))},wt.prototype[ut(Dt)]=function(){return(this||Qt).isLevelEnabled(Dt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Qt}},function(i,o,s){(function(_){function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(18),tt=s(51),j=s(38)("winston:exception"),nt=s(90),st=s(91),ht=s(92);i.exports=function(){function _t(ut){if(function(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,_t),!ut)throw new Error("Logger is required to handle exceptions");this.logger=ut,this.handlers=new Map}var ft,dt;return ft=_t,(dt=[{key:"handle",value:function(){for(var ut=this,mt=arguments.length,wt=new Array(mt),Qt=0;Qt<mt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(Dt){if(Array.isArray(Dt))return Dt.forEach(function(Et){return ut._addHandler(Et)});ut._addHandler(Dt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),_.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(mt){return ut.logger.unpipe(mt)}))}},{key:"getAllInfo",value:function(ut){var mt=ut.message;return mt||typeof ut!="string"||(mt=ut),{error:ut,level:"error",message:["uncaughtException: ".concat(mt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?st.parse(ut):st.get()).map(function(mt){return{column:mt.getColumnNumber(),file:mt.getFileName(),function:mt.getFunctionName(),line:mt.getLineNumber(),method:mt.getMethodName(),native:mt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleExceptions=!0;var mt=new ht(ut);this.handlers.set(ut,mt),this.logger.pipe(mt)}}},{key:"_uncaughtException",value:function(ut){var mt,wt=this.getAllInfo(ut),Qt=this._getExceptionHandlers(),Dt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function Et(){j("doExit",Dt),j("process._exiting",_._exiting),Dt&&!_._exiting&&(mt&&clearTimeout(mt),_.exit(1))}if(!Qt.length&&Dt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),Dt=!1),!Qt||Qt.length===0)return _.nextTick(Et);tt(Qt,function(xt,pt){var Vt=nt(pt),nn=xt.transport||xt;function on(bt){return function(){j(bt),Vt()}}nn._ending=!0,nn.once("finish",on("finished")),nn.once("error",on("error"))},function(){return Dt&&Et()}),this.logger.log(wt),Dt&&(mt=setTimeout(Et,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleExceptions})}}])&&$(ft.prototype,dt),_t}()}).call(this,s(2))},function(i,o,s){var _=s(205);i.exports=function($){var _e,tt=0;function j(){return tt||(tt=1,_e=$.apply(this,arguments),$=null),_e}return j.displayName=_($),j}},function(i,o){function s(_){for(var $ in _)this[$]=_[$]}o.get=function(_){var $=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var _e={},tt=Error.prepareStackTrace;Error.prepareStackTrace=function(nt,st){return st},Error.captureStackTrace(_e,_||o.get);var j=_e.stack;return Error.prepareStackTrace=tt,Error.stackTraceLimit=$,j},o.parse=function(_){if(!_.stack)return[];var $=this;return _.stack.split(`
`).slice(1).map(function(_e){if(_e.match(/^\s*[-]{4,}$/))return $._createParsedCallSite({fileName:_e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var tt=_e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(tt){var j=null,nt=null,st=null,ht=null,_t=null,ft=tt[5]==="native";if(tt[1]){var dt=(st=tt[1]).lastIndexOf(".");if(st[dt-1]=="."&&dt--,dt>0){j=st.substr(0,dt),nt=st.substr(dt+1);var ut=j.indexOf(".Module");ut>0&&(st=st.substr(ut+1),j=j.substr(0,ut))}ht=null}nt&&(ht=j,_t=nt),nt==="<anonymous>"&&(_t=null,st=null);var mt={fileName:tt[2]||null,lineNumber:parseInt(tt[3],10)||null,functionName:st,typeName:ht,methodName:_t,columnNumber:parseInt(tt[4],10)||null,native:ft};return $._createParsedCallSite(mt)}}).filter(function(_e){return!!_e})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(_){s.prototype[_]=null,s.prototype["get"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),["topLevel","eval","native","constructor"].forEach(function(_){s.prototype[_]=!1,s.prototype["is"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),o._createParsedCallSite=function(_){return new s(_)}},function(i,o,s){function _(ht){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t})(ht)}function $(ht,_t){for(var ft=0;ft<_t.length;ft++){var dt=_t[ft];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ht,dt.key,dt)}}function _e(ht,_t){return(_e=Object.setPrototypeOf||function(ft,dt){return ft.__proto__=dt,ft})(ht,_t)}function tt(ht){var _t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ft,dt=nt(ht);if(_t){var ut=nt(this).constructor;ft=Reflect.construct(dt,arguments,ut)}else ft=dt.apply(this,arguments);return j(this,ft)}}function j(ht,_t){return!_t||_(_t)!=="object"&&typeof _t!="function"?function(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}(ht):_t}function nt(ht){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(_t){return _t.__proto__||Object.getPrototypeOf(_t)})(ht)}var st=s(32).Writable;i.exports=function(ht){(function(mt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),wt&&_e(mt,wt)})(ut,ht);var _t,ft,dt=tt(ut);function ut(mt){var wt;if(function(Qt,Dt){if(!(Qt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,ut),wt=dt.call(this,{objectMode:!0}),!mt)throw new Error("ExceptionStream requires a TransportStream instance.");return wt.handleExceptions=!0,wt.transport=mt,wt}return _t=ut,(ft=[{key:"_write",value:function(mt,wt,Qt){return mt.exception?this.transport.log(mt,Qt):(Qt(),!0)}}])&&$(_t.prototype,ft),ut}(st)},function(i,o,s){(function(_){function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(18),tt=s(51),j=s(38)("winston:rejection"),nt=s(90),st=s(91),ht=s(92);i.exports=function(){function _t(ut){if(function(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,_t),!ut)throw new Error("Logger is required to handle rejections");this.logger=ut,this.handlers=new Map}var ft,dt;return ft=_t,(dt=[{key:"handle",value:function(){for(var ut=this,mt=arguments.length,wt=new Array(mt),Qt=0;Qt<mt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(Dt){if(Array.isArray(Dt))return Dt.forEach(function(Et){return ut._addHandler(Et)});ut._addHandler(Dt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),_.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(mt){return ut.logger.unpipe(mt)}))}},{key:"getAllInfo",value:function(ut){var mt=ut.message;return mt||typeof ut!="string"||(mt=ut),{error:ut,level:"error",message:["unhandledRejection: ".concat(mt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?st.parse(ut):st.get()).map(function(mt){return{column:mt.getColumnNumber(),file:mt.getFileName(),function:mt.getFunctionName(),line:mt.getLineNumber(),method:mt.getMethodName(),native:mt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleRejections=!0;var mt=new ht(ut);this.handlers.set(ut,mt),this.logger.pipe(mt)}}},{key:"_unhandledRejection",value:function(ut){var mt,wt=this.getAllInfo(ut),Qt=this._getRejectionHandlers(),Dt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function Et(){j("doExit",Dt),j("process._exiting",_._exiting),Dt&&!_._exiting&&(mt&&clearTimeout(mt),_.exit(1))}if(!Qt.length&&Dt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),Dt=!1),!Qt||Qt.length===0)return _.nextTick(Et);tt(Qt,function(xt,pt){var Vt=nt(pt),nn=xt.transport||xt;function on(bt){return function(){j(bt),Vt()}}nn._ending=!0,nn.once("finish",on("finished")),nn.once("error",on("error"))},function(){return Dt&&Et()}),this.logger.log(wt),Dt&&(mt=setTimeout(Et,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleRejections})}}])&&$(ft.prototype,dt),_t}()}).call(this,s(2))},function(i,o,s){i.exports={asArray:s(212),asBoolStrict:s(213),asBool:s(214),asPortNumber:s(215),asEnum:s(216),asFloatNegative:s(217),asFloatPositive:s(218),asFloat:s(54),asIntNegative:s(219),asIntPositive:s(95),asInt:s(53),asJsonArray:s(220),asJsonObject:s(221),asJson:s(55),asRegExp:s(222),asString:s(33),asUrlObject:s(96),asUrlString:s(223),asEmailString:s(224)}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive integer");return _e}},function(i,o,s){const _=s(33);i.exports=function($){const _e=_($);try{return new URL(_e)}catch{throw new Error("should be a valid URL")}}},function(i,o,s){const _={};_.web=s(24),s(98);const $={v1:{}};$.v1.signaling={},$.v1.signaling.api=s(9),$.v1.signaling.api.SignalingClient=function(dt,ut,mt){mt||(mt={}),mt.format="text",this.client_=new _.web.GrpcWebClientBase(mt),this.hostname_=dt},$.v1.signaling.api.SignalingPromiseClient=function(dt,ut,mt){mt||(mt={}),mt.format="text",this.client_=new _.web.GrpcWebClientBase(mt),this.hostname_=dt};const _e=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetHealth",_.web.MethodType.UNARY,$.v1.signaling.api.GetHealthRequest,$.v1.signaling.api.GetHealthResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetHealthResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getHealth=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",dt,ut||{},_e,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getHealth=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",dt,ut||{},_e)};const tt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",_.web.MethodType.UNARY,$.v1.signaling.api.CreatePeerRequest,$.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.createPeer=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ut||{},tt,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ut||{},tt)};const j=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",_.web.MethodType.UNARY,$.v1.signaling.api.DeletePeerRequest,$.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.deletePeer=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ut||{},j,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ut||{},j)};const nt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",_.web.MethodType.UNARY,$.v1.signaling.api.RefreshPeerRequest,$.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ut||{},nt,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ut||{},nt)};const st=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",_.web.MethodType.UNARY,$.v1.signaling.api.GetPeersRequest,$.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getPeers=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ut||{},st,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ut||{},st)};const ht=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",_.web.MethodType.UNARY,$.v1.signaling.api.GetIceServersRequest,$.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getIceServers=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ut||{},ht,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ut||{},ht)};const _t=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",_.web.MethodType.UNARY,$.v1.signaling.api.SendSignalRequest,$.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.sendSignal=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ut||{},_t,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ut||{},_t)};const ft=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",_.web.MethodType.SERVER_STREAMING,$.v1.signaling.api.ReceiveSignalStreamRequest,$.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(dt,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ut||{},ft)},$.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(dt,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ut||{},ft)},i.exports=$.v1.signaling.api},function(i,o,s){var _=s(99),$=_,_e=Function("return this")();$.exportSymbol("proto.google.protobuf.BoolValue",null,_e),$.exportSymbol("proto.google.protobuf.BytesValue",null,_e),$.exportSymbol("proto.google.protobuf.DoubleValue",null,_e),$.exportSymbol("proto.google.protobuf.FloatValue",null,_e),$.exportSymbol("proto.google.protobuf.Int32Value",null,_e),$.exportSymbol("proto.google.protobuf.Int64Value",null,_e),$.exportSymbol("proto.google.protobuf.StringValue",null,_e),$.exportSymbol("proto.google.protobuf.UInt32Value",null,_e),$.exportSymbol("proto.google.protobuf.UInt64Value",null,_e),proto.google.protobuf.DoubleValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.DoubleValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.FloatValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.Int64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.Int32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.BoolValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.StringValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.BytesValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(tt){return proto.google.protobuf.DoubleValue.toObject(tt,this)},proto.google.protobuf.DoubleValue.toObject=function(tt,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.DoubleValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readDouble();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeDouble(1,nt)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(tt){return _.Message.setProto3FloatField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(tt){return proto.google.protobuf.FloatValue.toObject(tt,this)},proto.google.protobuf.FloatValue.toObject=function(tt,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.FloatValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readFloat();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeFloat(1,nt)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(tt){return _.Message.setProto3FloatField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(tt){return proto.google.protobuf.Int64Value.toObject(tt,this)},proto.google.protobuf.Int64Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int64Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt64();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeInt64(1,nt)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(tt){return proto.google.protobuf.UInt64Value.toObject(tt,this)},proto.google.protobuf.UInt64Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt64Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint64();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeUint64(1,nt)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(tt){return proto.google.protobuf.Int32Value.toObject(tt,this)},proto.google.protobuf.Int32Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int32Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt32();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeInt32(1,nt)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(tt){return proto.google.protobuf.UInt32Value.toObject(tt,this)},proto.google.protobuf.UInt32Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt32Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint32();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeUint32(1,nt)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(tt){return proto.google.protobuf.BoolValue.toObject(tt,this)},proto.google.protobuf.BoolValue.toObject=function(tt,j){var nt={value:_.Message.getBooleanFieldWithDefault(j,1,!1)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BoolValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBool();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())&&j.writeBool(1,nt)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return _.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(tt){return _.Message.setProto3BooleanField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(tt){return proto.google.protobuf.StringValue.toObject(tt,this)},proto.google.protobuf.StringValue.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,"")};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.StringValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readString();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue()).length>0&&j.writeString(1,nt)},proto.google.protobuf.StringValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(tt){return _.Message.setProto3StringField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(tt){return proto.google.protobuf.BytesValue.toObject(tt,this)},proto.google.protobuf.BytesValue.toObject=function(tt,j){var nt={value:j.getValue_asB64()};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BytesValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBytes();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue_asU8()).length>0&&j.writeBytes(1,nt)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return _.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return _.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(tt){return _.Message.setProto3BytesField(this,1,tt)},$.object.extend(o,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(i,o,s){i instanceof String&&(i=String(i));for(var _=i.length,$=0;$<_;$++){var _e=i[$];if(o.call(s,_e,$,i))return{i:$,v:_e}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,s){i!=Array.prototype&&i!=Object.prototype&&(i[o]=s.value)},$jscomp.getGlobal=function(i){return typeof window<"u"&&window===i?i:global!==void 0&&global!=null?global:i},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(i,o,s,_){if(o){for(s=$jscomp.global,i=i.split("."),_=0;_<i.length-1;_++){var $=i[_];$ in s||(s[$]={}),s=s[$]}(o=o(_=s[i=i[i.length-1]]))!=_&&o!=null&&$jscomp.defineProperty(s,i,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).i}},"es6","es3"),$jscomp.checkStringArgs=function(i,o,s){if(i==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return i+""},$jscomp.polyfill("String.prototype.endsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"endsWith");o+="",s===void 0&&(s=_.length),s=Math.max(0,Math.min(0|s,_.length));for(var $=o.length;0<$&&0<s;)if(_[--s]!=o[--$])return!1;return 0>=$}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var $=_.length,_e=o.length;s=Math.max(0,Math.min(0|s,_.length));for(var tt=0;tt<_e&&s<$;)if(_[s++]!=o[tt++])return!1;return tt>=_e}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(i){return i||function(o){var s=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var _="";o;)1&o&&(_+=s),(o>>>=1)&&(s+=s);return _}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(i){return i!==void 0},goog.isString=function(i){return typeof i=="string"},goog.isBoolean=function(i){return typeof i=="boolean"},goog.isNumber=function(i){return typeof i=="number"},goog.exportPath_=function(i,o,s){i=i.split("."),s=s||goog.global,i[0]in s||s.execScript===void 0||s.execScript("var "+i[0]);for(var _;i.length&&(_=i.shift());)!i.length&&goog.isDef(o)?s[_]=o:s=s[_]&&s[_]!==Object.prototype[_]?s[_]:s[_]={}},goog.define=function(i,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(i){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(i)},goog.constructNamespace_=function(i,o){goog.exportPath_(i,o)},goog.getScriptNonce=function(i){return i&&i!=goog.global?goog.getScriptNonce_(i.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(i)?i:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(i){if(!goog.isString(i)||!i||i.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+i+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=i},goog.module.get=function(i){return goog.module.getInternal_(i)},goog.module.getInternal_=function(i){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var i=goog.global.$jscomp;return!!i&&typeof i.getCurrentModulePath=="function"&&!!i.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(i){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=i;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+i+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[i]={exports:o,type:goog.ModuleType.ES6,moduleId:i}}},goog.setTestOnly=function(i){if(goog.DISALLOW_TEST_ONLY_CODE)throw i=i||"",Error("Importing test-only code into non-debug environment"+(i?": "+i:"."))},goog.forwardDeclare=function(i){},goog.getObjectByName=function(i,o){i=i.split("."),o=o||goog.global;for(var s=0;s<i.length;s++)if(o=o[i[s]],!goog.isDefAndNotNull(o))return null;return o},goog.globalize=function(i,o){for(var s in o=o||goog.global,i)o[s]=i[s]},goog.addDependency=function(i,o,s,_){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(i){goog.global.console&&goog.global.console.error(i)},goog.require=function(i){},goog.requireType=function(i){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(i){i.instance_=void 0,i.getInstance=function(){return i.instance_?i.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=i),i.instance_=new i)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(i){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(i){return"(function(){"+i+`
;})();
`},goog.loadModule=function(i){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(i))var s=i.call(void 0,{});else{if(!goog.isString(i))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(i=goog.workaroundSafari10EvalBug(i)),s=goog.loadModuleFromSource_.call(void 0,i)}var _=goog.moduleLoaderState_.moduleName;if(!goog.isString(_)||!_)throw Error('Invalid module name "'+_+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_,s):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof s=="object"&&s!=null&&Object.seal(s),goog.loadedModules_[_]={exports:s,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(i){i=i.split("/");for(var o=0;o<i.length;)i[o]=="."?i.splice(o,1):o&&i[o]==".."&&i[o-1]&&i[o-1]!=".."?i.splice(--o,2):o++;return i.join("/")},goog.loadFileSync_=function(i){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(i);try{var o=new goog.global.XMLHttpRequest;return o.open("get",i,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(i,o,s){var _=goog.global.$jscomp;_||(goog.global.$jscomp=_={});var $=_.transpile;if(!$){var _e=goog.basePath+goog.TRANSPILER,tt=goog.loadFileSync_(_e);if(tt){if(function(){(0,eval)(tt+`
//# sourceURL=`+_e)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,$=(_=goog.global.$jscomp).transpile}}return $||($=_.transpile=function(j,nt){return goog.logToConsole_(nt+" requires transpilation but no transpiler was found."),j}),$(i,o,s)},goog.typeOf=function(i){var o=typeof i;if(o=="object"){if(!i)return"null";if(i instanceof Array)return"array";if(i instanceof Object)return o;var s=Object.prototype.toString.call(i);if(s=="[object Window]")return"object";if(s=="[object Array]"||typeof i.length=="number"&&i.splice!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("splice"))return"array";if(s=="[object Function]"||i.call!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("call"))return"function"}else if(o=="function"&&i.call===void 0)return"object";return o},goog.isNull=function(i){return i===null},goog.isDefAndNotNull=function(i){return i!=null},goog.isArray=function(i){return goog.typeOf(i)=="array"},goog.isArrayLike=function(i){var o=goog.typeOf(i);return o=="array"||o=="object"&&typeof i.length=="number"},goog.isDateLike=function(i){return goog.isObject(i)&&typeof i.getFullYear=="function"},goog.isFunction=function(i){return goog.typeOf(i)=="function"},goog.isObject=function(i){var o=typeof i;return o=="object"&&i!=null||o=="function"},goog.getUid=function(i){return i[goog.UID_PROPERTY_]||(i[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(i){return!!i[goog.UID_PROPERTY_]},goog.removeUid=function(i){i!==null&&"removeAttribute"in i&&i.removeAttribute(goog.UID_PROPERTY_);try{delete i[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(typeof i.clone=="function")return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.cloneObject(i[s]);return o}return i},goog.bindNative_=function(i,o,s){return i.call.apply(i.bind,arguments)},goog.bindJs_=function(i,o,s){if(!i)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,_),i.apply(o,$)}}return function(){return i.apply(o,arguments)}},goog.bind=function(i,o,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=s.slice();return _.push.apply(_,arguments),i.apply(this,_)}},goog.mixin=function(i,o){for(var s in o)i[s]=o[s]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(i){if(goog.global.execScript)goog.global.execScript(i,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(i);else{var o=goog.global.document,s=o.createElement("SCRIPT");s.type="text/javascript",s.defer=!1,s.appendChild(o.createTextNode(i)),o.head.appendChild(s),o.head.removeChild(s)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(i,o){if(String(i).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+i);var s=function($){return goog.cssNameMapping_[$]||$},_=function($){$=$.split("-");for(var _e=[],tt=0;tt<$.length;tt++)_e.push(s($[tt]));return _e.join("-")};return _=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?s:_:function($){return $},i=o?i+"-"+_(o):_(i),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(i):i},goog.setCssNameMapping=function(i,o){goog.cssNameMapping_=i,goog.cssNameMappingStyle_=o},goog.getMsg=function(i,o,s){return s&&s.html&&(i=i.replace(/</g,"&lt;")),o&&(i=i.replace(/\{\$([^}]+)}/g,function(_,$){return o!=null&&$ in o?o[$]:_})),i},goog.getMsgWithFallback=function(i,o){return i},goog.exportSymbol=function(i,o,s){goog.exportPath_(i,o,s)},goog.exportProperty=function(i,o,s){i[o]=s},goog.inherits=function(i,o){function s(){}s.prototype=o.prototype,i.superClass_=o.prototype,i.prototype=new s,i.prototype.constructor=i,i.base=function(_,$,_e){for(var tt=Array(arguments.length-2),j=2;j<arguments.length;j++)tt[j-2]=arguments[j];return o.prototype[$].apply(_,tt)}},goog.base=function(i,o,s){var _=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_.superClass_!==void 0){for(var $=Array(arguments.length-1),_e=1;_e<arguments.length;_e++)$[_e-1]=arguments[_e];return _.superClass_.constructor.apply(i,$)}if(typeof o!="string"&&typeof o!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for($=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];_e=!1;for(var tt=i.constructor.prototype;tt;tt=Object.getPrototypeOf(tt))if(tt[o]===_)_e=!0;else if(_e)return tt[o].apply(i,$);if(i[o]===_)return i.constructor.prototype[o].apply(i,$);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(i){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");i.call(goog.global)},goog.defineClass=function(i,o){var s=o.constructor,_=o.statics;return s&&s!=Object.prototype.constructor||(s=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),s=goog.defineClass.createSealingConstructor_(s,i),i&&goog.inherits(s,i),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(s.prototype,o),_!=null&&(_ instanceof Function?_(s):goog.defineClass.applyProperties_(s,_)),s},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(i,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return i;var s=!goog.defineClass.isUnsealable_(o),_=function(){var $=i.apply(this,arguments)||this;return $[goog.UID_PROPERTY_]=$[goog.UID_PROPERTY_],this.constructor===_&&s&&Object.seal instanceof Function&&Object.seal($),$};return _},goog.defineClass.isUnsealable_=function(i){return i&&i.prototype&&i.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s]);for(var _=0;_<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_++)s=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},goog.tagUnsealableClass=function(i){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(i){return i},goog.createTrustedTypesPolicy=function(i){var o=null;if(typeof TrustedTypes>"u"||!TrustedTypes.createPolicy)return o;try{o=TrustedTypes.createPolicy(i,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(s){goog.logToConsole_(s.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(i){var o=jspb.BinaryConstants.FieldType,s=jspb.BinaryConstants.WireType;switch(i){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return s.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return s.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return s.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return s.FIXED32;default:return s.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(i){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(i,o){goog.debug.Error.call(this,goog.asserts.subs_(i,o)),this.messagePattern=i},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(i){throw i},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(i,o){for(var s="",_=(i=i.split("%s")).length-1,$=0;$<_;$++)s+=i[$]+($<o.length?o[$]:"%s");return s+i[_]},goog.asserts.doAssertFailure_=function(i,o,s,_){var $="Assertion failed";if(s){$+=": "+s;var _e=_}else i&&($+=": "+i,_e=o);i=new goog.asserts.AssertionError(""+$,_e||[]),goog.asserts.errorHandler_(i)},goog.asserts.setErrorHandler=function(i){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=i)},goog.asserts.assert=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!i&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertExists=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&i==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.fail=function(i,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(i)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertString=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(i)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertFunction=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(i)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObject=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(i)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertArray=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(i)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertBoolean=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(i)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertElement=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(i)&&i.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertInstanceof=function(i,o,s,_){return!goog.asserts.ENABLE_ASSERTS||i instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(i)],s,Array.prototype.slice.call(arguments,3)),i},goog.asserts.assertFinite=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||typeof i=="number"&&isFinite(i)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var i in Object.prototype)goog.asserts.fail(i+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(i){return i[i.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.indexOf.call(i,o,s)}:function(i,o,s){if(s=s==null?0:0>s?Math.max(0,i.length+s):s,goog.isString(i))return goog.isString(o)&&o.length==1?i.indexOf(o,s):-1;for(;s<i.length;s++)if(s in i&&i[s]===o)return s;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.lastIndexOf.call(i,o,s??i.length-1)}:function(i,o,s){if(0>(s=s??i.length-1)&&(s=Math.max(0,i.length+s)),goog.isString(i))return goog.isString(o)&&o.length==1?i.lastIndexOf(o,s):-1;for(;0<=s;s--)if(s in i&&i[s]===o)return s;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(i,o,s){goog.asserts.assert(i.length!=null),Array.prototype.forEach.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)_e in $&&o.call(s,$[_e],_e,i)},goog.array.forEachRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;--_)_ in $&&o.call(s,$[_],_,i)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.filter.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=[],_e=0,tt=goog.isString(i)?i.split(""):i,j=0;j<_;j++)if(j in tt){var nt=tt[j];o.call(s,nt,j,i)&&($[_e++]=nt)}return $},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.map.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=Array(_),_e=goog.isString(i)?i.split(""):i,tt=0;tt<_;tt++)tt in _e&&($[tt]=o.call(s,_e[tt],tt,i));return $},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduce.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEach(i,function(_e,tt){$=o.call(_,$,_e,tt,i)}),$},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),goog.asserts.assert(o!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduceRight.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEachRight(i,function(_e,tt){$=o.call(_,$,_e,tt,i)}),$},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.some.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.every.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&!o.call(s,$[_e],_e,i))return!1;return!0},goog.array.count=function(i,o,s){var _=0;return goog.array.forEach(i,function($,_e,tt){o.call(s,$,_e,tt)&&++_},s),_},goog.array.find=function(i,o,s){return 0>(o=goog.array.findIndex(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndex=function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return _e;return-1},goog.array.findRight=function(i,o,s){return 0>(o=goog.array.findIndexRight(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndexRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;_--)if(_ in $&&o.call(s,$[_],_,i))return _;return-1},goog.array.contains=function(i,o){return 0<=goog.array.indexOf(i,o)},goog.array.isEmpty=function(i){return i.length==0},goog.array.clear=function(i){if(!goog.isArray(i))for(var o=i.length-1;0<=o;o--)delete i[o];i.length=0},goog.array.insert=function(i,o){goog.array.contains(i,o)||i.push(o)},goog.array.insertAt=function(i,o,s){goog.array.splice(i,s,0,o)},goog.array.insertArrayAt=function(i,o,s){goog.partial(goog.array.splice,i,s,0).apply(null,o)},goog.array.insertBefore=function(i,o,s){var _;arguments.length==2||0>(_=goog.array.indexOf(i,s))?i.push(o):goog.array.insertAt(i,o,_)},goog.array.remove=function(i,o){var s;return(s=0<=(o=goog.array.indexOf(i,o)))&&goog.array.removeAt(i,o),s},goog.array.removeLast=function(i,o){return 0<=(o=goog.array.lastIndexOf(i,o))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAt=function(i,o){return goog.asserts.assert(i.length!=null),Array.prototype.splice.call(i,o,1).length==1},goog.array.removeIf=function(i,o,s){return 0<=(o=goog.array.findIndex(i,o,s))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAllIf=function(i,o,s){var _=0;return goog.array.forEachRight(i,function($,_e){o.call(s,$,_e,i)&&goog.array.removeAt(i,_e)&&_++}),_},goog.array.concat=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(i){var o=i.length;if(0<o){for(var s=Array(o),_=0;_<o;_++)s[_]=i[_];return s}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(i,o){for(var s=1;s<arguments.length;s++){var _=arguments[s];if(goog.isArrayLike(_)){var $=i.length||0,_e=_.length||0;i.length=$+_e;for(var tt=0;tt<_e;tt++)i[$+tt]=_[tt]}else i.push(_)}},goog.array.splice=function(i,o,s,_){return goog.asserts.assert(i.length!=null),Array.prototype.splice.apply(i,goog.array.slice(arguments,1))},goog.array.slice=function(i,o,s){return goog.asserts.assert(i.length!=null),2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,s)},goog.array.removeDuplicates=function(i,o,s){o=o||i;var _=function(nt){return goog.isObject(nt)?"o"+goog.getUid(nt):(typeof nt).charAt(0)+nt};s=s||_,_={};for(var $=0,_e=0;_e<i.length;){var tt=i[_e++],j=s(tt);Object.prototype.hasOwnProperty.call(_,j)||(_[j]=!0,o[$++]=tt)}o.length=$},goog.array.binarySearch=function(i,o,s){return goog.array.binarySearch_(i,s||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(i,o,s){return goog.array.binarySearch_(i,o,!0,void 0,s)},goog.array.binarySearch_=function(i,o,s,_,$){for(var _e,tt=0,j=i.length;tt<j;){var nt=tt+j>>1,st=s?o.call($,i[nt],nt,i):o(_,i[nt]);0<st?tt=nt+1:(j=nt,_e=!st)}return _e?tt:~tt},goog.array.sort=function(i,o){i.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]={index:_,value:i[_]};var $=o||goog.array.defaultCompare;for(goog.array.sort(s,function(_e,tt){return $(_e.value,tt.value)||_e.index-tt.index}),_=0;_<i.length;_++)i[_]=s[_].value},goog.array.sortByKey=function(i,o,s){var _=s||goog.array.defaultCompare;goog.array.sort(i,function($,_e){return _(o($),o(_e))})},goog.array.sortObjectsByKey=function(i,o,s){goog.array.sortByKey(i,function(_){return _[o]},s)},goog.array.isSorted=function(i,o,s){o=o||goog.array.defaultCompare;for(var _=1;_<i.length;_++){var $=o(i[_-1],i[_]);if(0<$||$==0&&s)return!1}return!0},goog.array.equals=function(i,o,s){if(!goog.isArrayLike(i)||!goog.isArrayLike(o)||i.length!=o.length)return!1;var _=i.length;s=s||goog.array.defaultCompareEquality;for(var $=0;$<_;$++)if(!s(i[$],o[$]))return!1;return!0},goog.array.compare3=function(i,o,s){s=s||goog.array.defaultCompare;for(var _=Math.min(i.length,o.length),$=0;$<_;$++){var _e=s(i[$],o[$]);if(_e!=0)return _e}return goog.array.defaultCompare(i.length,o.length)},goog.array.defaultCompare=function(i,o){return i>o?1:i<o?-1:0},goog.array.inverseDefaultCompare=function(i,o){return-goog.array.defaultCompare(i,o)},goog.array.defaultCompareEquality=function(i,o){return i===o},goog.array.binaryInsert=function(i,o,s){return 0>(s=goog.array.binarySearch(i,o,s))&&(goog.array.insertAt(i,o,-(s+1)),!0)},goog.array.binaryRemove=function(i,o,s){return 0<=(o=goog.array.binarySearch(i,o,s))&&goog.array.removeAt(i,o)},goog.array.bucket=function(i,o,s){for(var _={},$=0;$<i.length;$++){var _e=i[$],tt=o.call(s,_e,$,i);goog.isDef(tt)&&(_[tt]||(_[tt]=[])).push(_e)}return _},goog.array.toObject=function(i,o,s){var _={};return goog.array.forEach(i,function($,_e){_[o.call(s,$,_e,i)]=$}),_},goog.array.range=function(i,o,s){var _=[],$=0,_e=i;if(o!==void 0&&($=i,_e=o),0>(s=s||1)*(_e-$))return[];if(0<s)for(i=$;i<_e;i+=s)_.push(i);else for(i=$;i>_e;i+=s)_.push(i);return _},goog.array.repeat=function(i,o){for(var s=[],_=0;_<o;_++)s[_]=i;return s},goog.array.flatten=function(i){for(var o=[],s=0;s<arguments.length;s++){var _=arguments[s];if(goog.isArray(_))for(var $=0;$<_.length;$+=8192){var _e=goog.array.slice(_,$,$+8192);_e=goog.array.flatten.apply(null,_e);for(var tt=0;tt<_e.length;tt++)o.push(_e[tt])}else o.push(_)}return o},goog.array.rotate=function(i,o){return goog.asserts.assert(i.length!=null),i.length&&(0<(o%=i.length)?Array.prototype.unshift.apply(i,i.splice(-o,o)):0>o&&Array.prototype.push.apply(i,i.splice(0,-o))),i},goog.array.moveItem=function(i,o,s){goog.asserts.assert(0<=o&&o<i.length),goog.asserts.assert(0<=s&&s<i.length),o=Array.prototype.splice.call(i,o,1),Array.prototype.splice.call(i,s,0,o[0])},goog.array.zip=function(i){if(!arguments.length)return[];for(var o=[],s=arguments[0].length,_=1;_<arguments.length;_++)arguments[_].length<s&&(s=arguments[_].length);for(_=0;_<s;_++){for(var $=[],_e=0;_e<arguments.length;_e++)$.push(arguments[_e][_]);o.push($)}return o},goog.array.shuffle=function(i,o){o=o||Math.random;for(var s=i.length-1;0<s;s--){var _=Math.floor(o()*(s+1)),$=i[s];i[s]=i[_],i[_]=$}},goog.array.copyByIndex=function(i,o){var s=[];return goog.array.forEach(o,function(_){s.push(i[_])}),s},goog.array.concatMap=function(i,o,s){return goog.array.concat.apply([],goog.array.map(i,o,s))},goog.crypt={},goog.crypt.stringToByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);255<$&&(o[s++]=255&$,$>>=8),o[s++]=$}return o},goog.crypt.byteArrayToString=function(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var o="",s=0;s<i.length;s+=8192){var _=goog.array.slice(i,s,s+8192);o+=String.fromCharCode.apply(null,_)}return o},goog.crypt.byteArrayToHex=function(i,o){return goog.array.map(i,function(s){return 1<(s=s.toString(16)).length?s:"0"+s}).join(o||"")},goog.crypt.hexToByteArray=function(i){goog.asserts.assert(i.length%2==0,"Key string length must be multiple of 2");for(var o=[],s=0;s<i.length;s+=2)o.push(parseInt(i.substring(s,s+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);128>$?o[s++]=$:(2048>$?o[s++]=$>>6|192:((64512&$)==55296&&_+1<i.length&&(64512&i.charCodeAt(_+1))==56320?($=65536+((1023&$)<<10)+(1023&i.charCodeAt(++_)),o[s++]=$>>18|240,o[s++]=$>>12&63|128):o[s++]=$>>12|224,o[s++]=$>>6&63|128),o[s++]=63&$|128)}return o},goog.crypt.utf8ByteArrayToString=function(i){for(var o=[],s=0,_=0;s<i.length;){var $=i[s++];if(128>$)o[_++]=String.fromCharCode($);else if(191<$&&224>$){var _e=i[s++];o[_++]=String.fromCharCode((31&$)<<6|63&_e)}else if(239<$&&365>$){_e=i[s++];var tt=i[s++];$=((7&$)<<18|(63&_e)<<12|(63&tt)<<6|63&i[s++])-65536,o[_++]=String.fromCharCode(55296+($>>10)),o[_++]=String.fromCharCode(56320+(1023&$))}else _e=i[s++],tt=i[s++],o[_++]=String.fromCharCode((15&$)<<12|(63&_e)<<6|63&tt)}return o.join("")},goog.crypt.xorByteArray=function(i,o){goog.asserts.assert(i.length==o.length,"XOR array lengths must match");for(var s=[],_=0;_<i.length;_++)s.push(i[_]^o[_]);return s},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(i,o){return i.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(i,o){var s=i.length-o.length;return 0<=s&&i.indexOf(o,s)==s},goog.string.internal.caseInsensitiveStartsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(i.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(i,o){return i.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(i){return/^[\s\xa0]*$/.test(i)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},goog.string.internal.caseInsensitiveCompare=function(i,o){return(i=String(i).toLowerCase())<(o=String(o).toLowerCase())?-1:i==o?0:1},goog.string.internal.newLineToBr=function(i,o){return i.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(i,o){if(o)i=i.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(i))return i;i.indexOf("&")!=-1&&(i=i.replace(goog.string.internal.AMP_RE_,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(goog.string.internal.LT_RE_,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(goog.string.internal.GT_RE_,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(goog.string.internal.QUOT_RE_,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(goog.string.internal.NULL_RE_,"&#0;"))}return i},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(i,o){return goog.string.internal.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(i,o){return i.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(i,o){return goog.string.internal.contains(i.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(i,o){var s=0;i=goog.string.internal.trim(String(i)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var _=Math.max(i.length,o.length),$=0;s==0&&$<_;$++){var _e=i[$]||"",tt=o[$]||"";do{if(_e=/(\d*)(\D*)(.*)/.exec(_e)||["","","",""],tt=/(\d*)(\D*)(.*)/.exec(tt)||["","","",""],_e[0].length==0&&tt[0].length==0)break;s=_e[1].length==0?0:parseInt(_e[1],10);var j=tt[1].length==0?0:parseInt(tt[1],10);s=goog.string.internal.compareElements_(s,j)||goog.string.internal.compareElements_(_e[2].length==0,tt[2].length==0)||goog.string.internal.compareElements_(_e[2],tt[2]),_e=_e[3],tt=tt[3]}while(s==0)}return s},goog.string.internal.compareElements_=function(i,o){return i<o?-1:i>o?1:0},goog.string.TypedString=function(){},goog.string.Const=function(i,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=i===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(i){return i instanceof goog.string.Const&&i.constructor===goog.string.Const&&i.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?i.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+i+"'"),"type_error:Const")},goog.string.Const.from=function(i){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,i)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(i){return goog.fs.url.getUrlObject_().createObjectURL(i)},goog.fs.url.revokeObjectUrl=function(i){goog.fs.url.getUrlObject_().revokeObjectURL(i)},goog.fs.url.getUrlObject_=function(){var i=goog.fs.url.findUrlObject_();if(i!=null)return i;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(i,o){return typeof i=="number"?0<i?goog.i18n.bidi.Dir.LTR:0>i?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:i==null?null:i?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(i,o){return o?i.replace(goog.i18n.bidi.htmlSkipReg_,""):i},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(i,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(i,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(i){return goog.i18n.bidi.rtlRe_.test(i)},goog.i18n.bidi.isLtrChar=function(i){return goog.i18n.bidi.ltrRe_.test(i)},goog.i18n.bidi.isNeutralChar=function(i){return!goog.i18n.bidi.isLtrChar(i)&&!goog.i18n.bidi.isRtlChar(i)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(i,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(i,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(i,o){return i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o),goog.i18n.bidi.isRequiredLtrRe_.test(i)||!goog.i18n.bidi.hasAnyLtr(i)&&!goog.i18n.bidi.hasAnyRtl(i)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(i,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(i,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(i){return goog.i18n.bidi.rtlLocalesRe_.test(i)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(i,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(i):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,i.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+i+"</span>"},goog.i18n.bidi.enforceRtlInText=function(i){return goog.i18n.bidi.Format.RLE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+i+"</span>"},goog.i18n.bidi.enforceLtrInText=function(i){return goog.i18n.bidi.Format.LRE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(i){return i.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(i){return i.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(i,o){var s=0,_=0,$=!1;for(i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<i.length;o++){var _e=i[o];goog.i18n.bidi.startsWithRtl(_e)?(s++,_++):goog.i18n.bidi.isRequiredLtrRe_.test(_e)?$=!0:goog.i18n.bidi.hasAnyLtr(_e)?_++:goog.i18n.bidi.hasNumeralsRe_.test(_e)&&($=!0)}return _==0?$?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:s/_>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(i,o){return goog.i18n.bidi.estimateDirection(i,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(i,o){i&&(o=goog.i18n.bidi.toDir(o))&&(i.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,i.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(i,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:i.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:i.dir="rtl";break;default:i.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(i,o){var s=goog.html.TrustedResourceUrl.unwrap(this),_=(s=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(s))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",s[2]||"",i)+goog.html.TrustedResourceUrl.stringifyParams_("#",_,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(i){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(i){return i instanceof goog.html.TrustedResourceUrl&&i.constructor===goog.html.TrustedResourceUrl&&i.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(i){return i.trustedURL_?i.trustedURL_:goog.html.TrustedResourceUrl.unwrap(i)},goog.html.TrustedResourceUrl.format=function(i,o){var s=goog.string.Const.unwrap(i);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(s))throw Error("Invalid TrustedResourceUrl format: "+s);return i=s.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(_,$){if(!Object.prototype.hasOwnProperty.call(o,$))throw Error('Found marker, "'+$+'", in format string, "'+s+'", but no valid label mapping found in args: '+JSON.stringify(o));return(_=o[$])instanceof goog.string.Const?goog.string.Const.unwrap(_):encodeURIComponent(String(_))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(i,o,s,_){return goog.html.TrustedResourceUrl.format(i,o).cloneWithParams(s,_)},goog.html.TrustedResourceUrl.fromConstant=function(i){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.TrustedResourceUrl.fromConstants=function(i){for(var o="",s=0;s<i.length;s++)o+=goog.string.Const.unwrap(i[s]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(i):i,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(o.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i)),o},goog.html.TrustedResourceUrl.stringifyParams_=function(i,o,s){if(s==null)return o;if(goog.isString(s))return s?i+encodeURIComponent(s):"";for(var _ in s){var $=s[_];$=goog.isArray($)?$:[$];for(var _e=0;_e<$.length;_e++){var tt=$[_e];tt!=null&&(o||(o=i),o+=(o.length>i.length?"&":"")+encodeURIComponent(_)+"="+encodeURIComponent(String(tt)))}}return o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(i){return goog.html.SafeUrl.unwrapTrustedURL(i).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(i){return i instanceof goog.html.SafeUrl&&i.constructor===goog.html.SafeUrl&&i.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(i){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(i)},goog.html.SafeUrl.fromBlob=function(i){return i=goog.html.SAFE_MIME_TYPE_PATTERN_.test(i.type)?goog.fs.url.createObjectUrl(i):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(i){var o=(i=i.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?i:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"tel:")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(i){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(i))||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"fb-messenger://share")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromWhatsAppUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"whatsapp://send")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromSmsUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(i){var o=i.indexOf("#");if(0<o&&(i=i.substring(0,o)),!(o=i.match(/[?&]body=/gi)))return!0;if(1<o.length)return!1;if(!(i=i.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(i)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(i)},goog.html.SafeUrl.fromSshUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"ssh://")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(i,o,s){return(i=i.exec(o))?(i=i[1],(s instanceof goog.string.Const?[goog.string.Const.unwrap(s)]:s.map(function(_){return goog.string.Const.unwrap(_)})).indexOf(i)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(i))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(i){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SAFE_URL_PATTERN_.test(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(i,o){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),o&&/^data:/i.test(i)&&(o=goog.html.SafeUrl.fromDataUrl(i)).getTypedStringValue()==i?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(i),"%s does not match the safe URL pattern",i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i):i,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(i,";"),"Last character of style string is not ';': "+i),goog.asserts.assert(goog.string.internal.contains(i,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+i),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(i){return i instanceof goog.html.SafeStyle&&i.constructor===goog.html.SafeStyle&&i.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=i,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(i){var o,s="";for(o in i){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var _=i[o];_!=null&&(s+=o+":"+(_=goog.isArray(_)?goog.array.map(_,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(_))+";")}return s?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(i){if(i instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(i).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(i=i instanceof goog.string.Const?goog.string.Const.unwrap(i):goog.html.SafeStyle.sanitizePropertyValueString_(String(i)),/[{;}]/.test(i))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[i]);return i},goog.html.SafeStyle.sanitizePropertyValueString_=function(i){var o=i.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.COMMENT_RE_.test(i)?(goog.asserts.fail("String value disallows comments, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(i)?goog.html.SafeStyle.hasBalancedSquareBrackets_(i)?goog.html.SafeStyle.sanitizeUrl_(i):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(i){for(var o=!0,s=!0,_=0;_<i.length;_++){var $=i.charAt(_);$=="'"&&s?o=!o:$=='"'&&o&&(s=!s)}return o&&s},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(i){for(var o=!0,s=/^[-_a-zA-Z0-9]$/,_=0;_<i.length;_++){var $=i.charAt(_);if($=="]"){if(o)return!1;o=!0}else if($=="["){if(!o)return!1;o=!1}else if(!o&&!s.test($))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(i){return i.replace(goog.html.SafeStyle.URL_RE_,function(o,s,_,$){var _e="";return _=_.replace(/^(['"])(.*)\1$/,function(tt,j,nt){return _e=j,nt}),o=goog.html.SafeUrl.sanitize(_).getTypedStringValue(),s+_e+o+_e+$})},goog.html.SafeStyle.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyle.unwrap(_)};return goog.array.forEach(arguments,s),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeScript.fromConstantAndArgs=function(i,o){for(var s=[],_=1;_<arguments.length;_++)s.push(goog.html.SafeScript.stringify_(arguments[_]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(i)+")("+s.join(", ")+");")},goog.html.SafeScript.fromJson=function(i){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(i))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(i){return goog.html.SafeScript.unwrapTrustedScript(i).toString()},goog.html.SafeScript.unwrapTrustedScript=function(i){return i instanceof goog.html.SafeScript&&i.constructor===goog.html.SafeScript&&i.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(i){return JSON.stringify(i).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(i):i,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(i,o){return i===o?i!==0||1/i==1/o:i!=i&&o!=o},goog.object.forEach=function(i,o,s){for(var _ in i)o.call(s,i[_],_,i)},goog.object.filter=function(i,o,s){var _,$={};for(_ in i)o.call(s,i[_],_,i)&&($[_]=i[_]);return $},goog.object.map=function(i,o,s){var _,$={};for(_ in i)$[_]=o.call(s,i[_],_,i);return $},goog.object.some=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return!0;return!1},goog.object.every=function(i,o,s){for(var _ in i)if(!o.call(s,i[_],_,i))return!1;return!0},goog.object.getCount=function(i){var o,s=0;for(o in i)s++;return s},goog.object.getAnyKey=function(i){for(var o in i)return o},goog.object.getAnyValue=function(i){for(var o in i)return i[o]},goog.object.contains=function(i,o){return goog.object.containsValue(i,o)},goog.object.getValues=function(i){var o,s=[],_=0;for(o in i)s[_++]=i[o];return s},goog.object.getKeys=function(i){var o,s=[],_=0;for(o in i)s[_++]=o;return s},goog.object.getValueByKeys=function(i,o){var s=goog.isArrayLike(o),_=s?o:arguments;for(s=s?0:1;s<_.length;s++){if(i==null)return;i=i[_[s]]}return i},goog.object.containsKey=function(i,o){return i!==null&&o in i},goog.object.containsValue=function(i,o){for(var s in i)if(i[s]==o)return!0;return!1},goog.object.findKey=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return _},goog.object.findValue=function(i,o,s){return(o=goog.object.findKey(i,o,s))&&i[o]},goog.object.isEmpty=function(i){for(var o in i)return!1;return!0},goog.object.clear=function(i){for(var o in i)delete i[o]},goog.object.remove=function(i,o){var s;return(s=o in i)&&delete i[o],s},goog.object.add=function(i,o,s){if(i!==null&&o in i)throw Error('The object already contains the key "'+o+'"');goog.object.set(i,o,s)},goog.object.get=function(i,o,s){return i!==null&&o in i?i[o]:s},goog.object.set=function(i,o,s){i[o]=s},goog.object.setIfUndefined=function(i,o,s){return o in i?i[o]:i[o]=s},goog.object.setWithReturnValueIfNotSet=function(i,o,s){return o in i?i[o]:(s=s(),i[o]=s)},goog.object.equals=function(i,o){for(var s in i)if(!(s in o)||i[s]!==o[s])return!1;for(var _ in o)if(!(_ in i))return!1;return!0},goog.object.clone=function(i){var o,s={};for(o in i)s[o]=i[o];return s},goog.object.unsafeClone=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(goog.isFunction(i.clone))return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.object.unsafeClone(i[s]);return o}return i},goog.object.transpose=function(i){var o,s={};for(o in i)s[i[o]]=o;return s},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(i,o){for(var s,_,$=1;$<arguments.length;$++){for(s in _=arguments[$])i[s]=_[s];for(var _e=0;_e<goog.object.PROTOTYPE_FIELDS_.length;_e++)s=goog.object.PROTOTYPE_FIELDS_[_e],Object.prototype.hasOwnProperty.call(_,s)&&(i[s]=_[s])}},goog.object.create=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var s={},_=0;_<o;_+=2)s[arguments[_]]=arguments[_+1];return s},goog.object.createSet=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var s={},_=0;_<o;_++)s[arguments[_]]=!0;return s},goog.object.createImmutableView=function(i){var o=i;return Object.isFrozen&&!Object.isFrozen(i)&&(o=Object.create(i),Object.freeze(o)),o},goog.object.isImmutableView=function(i){return!!Object.isFrozen&&Object.isFrozen(i)},goog.object.getAllPropertyNames=function(i,o,s){if(!i)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(i);for(var _={};i&&(i!==Object.prototype||o)&&(i!==Function.prototype||s);){for(var $=Object.getOwnPropertyNames(i),_e=0;_e<$.length;_e++)_[$[_e]]=!0;i=Object.getPrototypeOf(i)}return goog.object.getKeys(_)},goog.object.getSuperClass=function(i){return(i=Object.getPrototypeOf(i.prototype))&&i.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(i,o){if(goog.string.internal.contains(i,"<"))throw Error("Selector does not allow '<', got: "+i);var s=i.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(s))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+i);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(s))throw Error("() and [] in selector must be balanced, got: "+i);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),i=i+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(i){for(var o={"(":")","[":"]"},s=[],_=0;_<i.length;_++){var $=i[_];if(o[$])s.push(o[$]);else if(goog.object.contains(o,$)&&s.pop()!=$)return!1}return s.length==0},goog.html.SafeStyleSheet.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyleSheet.unwrap(_)};return goog.array.forEach(arguments,s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(i,"<"),"Forbidden '<' character in style sheet string: "+i),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(i){return i instanceof goog.html.SafeStyleSheet&&i.constructor===goog.html.SafeStyleSheet&&i.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=i,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(i){return goog.dom.tags.VOID_TAGS_[i]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(i){this.tagName_=i},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var i=goog.labs.userAgent.util.getNavigator_();return i&&(i=i.userAgent)?i:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(i){goog.labs.userAgent.util.userAgent_=i||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,i)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,i)},goog.labs.userAgent.util.extractVersionTuples=function(i){for(var o,s=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,_=[];o=s.exec(i);)_.push([o[1],o[2],o[3]||void 0]);return _},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function i($){return $=goog.array.find($,_),s[$]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var s={};goog.array.forEach(o,function($){s[$[0]]=$[1]});var _=goog.partial(goog.object.containsKey,s);return goog.labs.userAgent.browser.isOpera()?i(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?i(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?i(["Edg"]):goog.labs.userAgent.browser.isChrome()?i(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(i){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),i)},goog.labs.userAgent.browser.getIEVersion_=function(i){var o=/rv: *([\d\.]*)/.exec(i);if(o&&o[1])return o[1];o="";var s=/MSIE +([\d\.]+)/.exec(i);if(s&&s[1])if(i=/Trident\/(\d.\d)/.exec(i),s[1]=="7.0")if(i&&i[1])switch(i[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=s[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(i){return goog.html.SafeHtml.unwrapTrustedHTML(i).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(i){return i instanceof goog.html.SafeHtml&&i.constructor===goog.html.SafeHtml&&i.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(i){if(i instanceof goog.html.SafeHtml)return i;var o=typeof i=="object",s=null;return o&&i.implementsGoogI18nBidiDirectionalString&&(s=i.getDirection()),i=o&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(i),s)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(i,o,s){return goog.html.SafeHtml.verifyTagName(String(i)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(i),o,s)},goog.html.SafeHtml.verifyTagName=function(i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error("Invalid tag name <"+i+">.");if(i.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+i+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(i,o,s,_){i&&goog.html.TrustedResourceUrl.unwrap(i);var $={};return $.src=i||null,$.srcdoc=o&&goog.html.SafeHtml.unwrap(o),i=goog.html.SafeHtml.combineAttributes($,{sandbox:""},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.createSandboxIframe=function(i,o,s,_){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var $={};return $.src=i?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)):null,$.srcdoc=o||null,$.sandbox="",i=goog.html.SafeHtml.combineAttributes($,{},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(i,o){return goog.html.TrustedResourceUrl.unwrap(i),i=goog.html.SafeHtml.combineAttributes({src:i},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i)},goog.html.SafeHtml.createScript=function(i,o){for(var s in o){var _=s.toLowerCase();if(_=="language"||_=="src"||_=="text"||_=="type")throw Error('Cannot set "'+_+'" attribute')}for(s="",i=goog.array.concat(i),_=0;_<i.length;_++)s+=goog.html.SafeScript.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,i)},goog.html.SafeHtml.createStyle=function(i,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var s="";i=goog.array.concat(i);for(var _=0;_<i.length;_++)s+=goog.html.SafeStyleSheet.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,i)},goog.html.SafeHtml.createMetaRefresh=function(i,o){return i=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+i})},goog.html.SafeHtml.getAttrNameAndValue_=function(i,o,s){if(s instanceof goog.string.Const)s=goog.string.Const.unwrap(s);else if(o.toLowerCase()=="style")s=goog.html.SafeHtml.getStyleValue_(s);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+s+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(s instanceof goog.html.TrustedResourceUrl)s=goog.html.TrustedResourceUrl.unwrap(s);else if(s instanceof goog.html.SafeUrl)s=goog.html.SafeUrl.unwrap(s);else{if(!goog.isString(s))throw Error('Attribute "'+o+'" on tag "'+i+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+s+'" given.');s=goog.html.SafeUrl.sanitize(s).getTypedStringValue()}}return s.implementsGoogStringTypedString&&(s=s.getTypedStringValue()),goog.asserts.assert(goog.isString(s)||goog.isNumber(s),"String or number value expected, got "+typeof s+" with value: "+s),o+'="'+goog.string.internal.htmlEscape(String(s))+'"'},goog.html.SafeHtml.getStyleValue_=function(i){if(!goog.isObject(i))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof i+" given: "+i);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),goog.html.SafeStyle.unwrap(i)},goog.html.SafeHtml.createWithDir=function(i,o,s,_){return(o=goog.html.SafeHtml.create(o,s,_)).dir_=i,o},goog.html.SafeHtml.join=function(i,o){var s=(i=goog.html.SafeHtml.htmlEscape(i)).getDirection(),_=[],$=function(_e){goog.isArray(_e)?goog.array.forEach(_e,$):(_e=goog.html.SafeHtml.htmlEscape(_e),_.push(goog.html.SafeHtml.unwrap(_e)),_e=_e.getDirection(),s==goog.i18n.bidi.Dir.NEUTRAL?s=_e:_e!=goog.i18n.bidi.Dir.NEUTRAL&&s!=_e&&(s=null))};return goog.array.forEach(o,$),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(_.join(goog.html.SafeHtml.unwrap(i)),s)},goog.html.SafeHtml.concat=function(i){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(i,o){var s=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return s.dir_=i,s},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(i,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(i,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(i):i,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(i,o,s){var _=null,$="<"+i+goog.html.SafeHtml.stringifyAttributes(i,o);return goog.isDefAndNotNull(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(i.toLowerCase())?(goog.asserts.assert(!s.length,"Void tag <"+i+"> does not allow content."),$+=">"):(_=goog.html.SafeHtml.concat(s),$+=">"+goog.html.SafeHtml.unwrap(_)+"</"+i+">",_=_.getDirection()),(i=o&&o.dir)&&(_=/^(ltr|rtl|auto)$/i.test(i)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse($,_)},goog.html.SafeHtml.stringifyAttributes=function(i,o){var s="";if(o)for(var _ in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(_))throw Error('Invalid attribute name "'+_+'".');var $=o[_];goog.isDefAndNotNull($)&&(s+=" "+goog.html.SafeHtml.getAttrNameAndValue_(i,_,$))}return s},goog.html.SafeHtml.combineAttributes=function(i,o,s){var _,$={};for(_ in i)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=i[_];for(_ in o)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=o[_];for(_ in s){var _e=_.toLowerCase();if(_e in i)throw Error('Cannot override "'+_e+'" attribute, got "'+_+'" with value "'+s[_]+'"');_e in o&&delete $[_e],$[_]=s[_]}return $},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(i,o,s){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,s||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(i);o&&(!i||!(i instanceof o.Location)&&i instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(i))}return i},goog.dom.asserts.assertIsElementType_=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=goog.dom.asserts.getWindow_(i);s&&s[o]!==void 0&&(i&&(i instanceof s[o]||!(i instanceof s.Location||i instanceof s.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(i)))}return i},goog.dom.asserts.assertIsHTMLAnchorElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(i){if(!goog.isObject(i))return i===void 0?"undefined":i===null?"null":typeof i;try{return i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(i){try{var o=i&&i.ownerDocument,s=o&&(o.defaultView||o.parentWindow);if((s=s||goog.global).Element&&s.Location)return s}catch{}return null},goog.functions={},goog.functions.constant=function(i){return function(){return i}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(i,o){return i},goog.functions.error=function(i){return function(){throw Error(i)}},goog.functions.fail=function(i){return function(){throw i}},goog.functions.lock=function(i,o){return o=o||0,function(){return i.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(i){return function(){return arguments[i]}},goog.functions.partialRight=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=Array.prototype.slice.call(arguments);return _.push.apply(_,s),i.apply(this,_)}},goog.functions.withReturnValue=function(i,o){return goog.functions.sequence(i,goog.functions.constant(o))},goog.functions.equalTo=function(i,o){return function(s){return o?i==s:i===s}},goog.functions.compose=function(i,o){var s=arguments,_=s.length;return function(){var $;_&&($=s[_-1].apply(this,arguments));for(var _e=_-2;0<=_e;_e--)$=s[_e].call(this,$);return $}},goog.functions.sequence=function(i){var o=arguments,s=o.length;return function(){for(var _,$=0;$<s;$++)_=o[$].apply(this,arguments);return _}},goog.functions.and=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(!o[_].apply(this,arguments))return!1;return!0}},goog.functions.or=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(o[_].apply(this,arguments))return!0;return!1}},goog.functions.not=function(i){return function(){return!i.apply(this,arguments)}},goog.functions.create=function(i,o){var s=function(){};return s.prototype=i.prototype,s=new s,i.apply(s,Array.prototype.slice.call(arguments,1)),s},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(i){var o,s=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(s||(o=i(),s=!0),o):i()}},goog.functions.once=function(i){var o=i;return function(){if(o){var s=o;o=null,s()}}},goog.functions.debounce=function(i,o,s){var _=0;return function($){goog.global.clearTimeout(_);var _e=arguments;_=goog.global.setTimeout(function(){i.apply(s,_e)},o)}},goog.functions.throttle=function(i,o,s){var _=0,$=!1,_e=[],tt=function(){_=0,$&&($=!1,j())},j=function(){_=goog.global.setTimeout(tt,o),i.apply(s,_e)};return function(nt){_e=arguments,_?$=!0:j()}},goog.functions.rateLimit=function(i,o,s){var _=0,$=function(){_=0};return function(_e){_||(_=goog.global.setTimeout($,o),i.apply(s,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(i,o,s){i.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(s))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),!(goog.DEBUG&&!i.firstChild)&&(o=i.firstChild.firstChild,i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(i,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;i.lastChild;)i.removeChild(i.lastChild);i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=i.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[s])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+i.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(i,o)},goog.dom.safe.setOuterHtml=function(i,o){i.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(i).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(i,o){i.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(i,o){i.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(i,o){goog.dom.asserts.assertIsHTMLAnchorElement(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLImageElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLAudioElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLVideoElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(i,o){goog.dom.asserts.assertIsHTMLEmbedElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(i,o){goog.dom.asserts.assertIsHTMLFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrcdoc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(i,o,s){goog.dom.asserts.assertIsHTMLLinkElement(i),i.rel=s,goog.string.internal.caseInsensitiveContains(s,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),i.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)):i.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(o):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(i,o){goog.dom.asserts.assertIsHTMLObjectElement(i),i.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(i,o,s,_,$){return i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),(o||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(i),s?goog.string.Const.unwrap(s):"",_,$)},goog.dom.safe.parseFromStringHtml=function(i,o){return goog.dom.safe.parseFromString(i,o,"text/html")},goog.dom.safe.parseFromString=function(i,o,s){return i.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),s)},goog.dom.safe.createImageFromBlob=function(i){if(!/^image\/.*/g.test(i.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(i);return(i=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(i,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),i},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(i,o){for(var s=i.split("%s"),_="",$=Array.prototype.slice.call(arguments,1);$.length&&1<s.length;)_+=s.shift()+$.shift();return _+s.join("%s")},goog.string.collapseWhitespace=function(i){return i.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(i){return i.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(i){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(i))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(i){return!/[^\t\n\r ]/.test(i)},goog.string.isAlpha=function(i){return!/[^a-zA-Z]/.test(i)},goog.string.isNumeric=function(i){return!/[^0-9]/.test(i)},goog.string.isAlphaNumeric=function(i){return!/[^a-zA-Z0-9]/.test(i)},goog.string.isSpace=function(i){return i==" "},goog.string.isUnicodeChar=function(i){return i.length==1&&" "<=i&&"~">=i||""<=i&&"�">=i},goog.string.stripNewlines=function(i){return i.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(i){return i.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(i){return i.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(i){return i.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(i){return i.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(i){return i.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(i){return i.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(i,o,s){if(i==o)return 0;if(!i)return-1;if(!o)return 1;for(var _=i.toLowerCase().match(s),$=o.toLowerCase().match(s),_e=Math.min(_.length,$.length),tt=0;tt<_e;tt++){s=_[tt];var j=$[tt];if(s!=j)return i=parseInt(s,10),!isNaN(i)&&(o=parseInt(j,10),!isNaN(o)&&i-o)?i-o:s<j?-1:1}return _.length!=$.length?_.length-$.length:i<o?-1:1},goog.string.intAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(i){return encodeURIComponent(String(i))},goog.string.urlDecode=function(i){return decodeURIComponent(i.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(i,o){return i=goog.string.internal.htmlEscape(i,o),goog.string.DETECT_DOUBLE_ESCAPING&&(i=i.replace(goog.string.E_RE_,"&#101;")),i},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(i){return goog.string.contains(i,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(i):goog.string.unescapePureXmlEntities_(i):i},goog.string.unescapeEntitiesWithDocument=function(i,o){return goog.string.contains(i,"&")?goog.string.unescapeEntitiesUsingDom_(i,o):i},goog.string.unescapeEntitiesUsingDom_=function(i,o){var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},_=o?o.createElement("div"):goog.global.document.createElement("div");return i.replace(goog.string.HTML_ENTITY_PATTERN_,function($,_e){var tt=s[$];return tt||(_e.charAt(0)=="#"&&(_e=Number("0"+_e.substr(1)),isNaN(_e)||(tt=String.fromCharCode(_e))),tt||(goog.dom.safe.setInnerHtml(_,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),$+" ")),tt=_.firstChild.nodeValue.slice(0,-1)),s[$]=tt)})},goog.string.unescapePureXmlEntities_=function(i){return i.replace(/&([^;]+);/g,function(o,s){switch(s){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return s.charAt(0)!="#"||(s=Number("0"+s.substr(1)),isNaN(s))?o:String.fromCharCode(s)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(i,o){return goog.string.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(i){return i.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(i,o){for(var s=o.length,_=0;_<s;_++){var $=s==1?o:o.charAt(_);if(i.charAt(0)==$&&i.charAt(i.length-1)==$)return i.substring(1,i.length-1)}return i},goog.string.truncate=function(i,o,s){return s&&(i=goog.string.unescapeEntities(i)),i.length>o&&(i=i.substring(0,o-3)+"..."),s&&(i=goog.string.htmlEscape(i)),i},goog.string.truncateMiddle=function(i,o,s,_){if(s&&(i=goog.string.unescapeEntities(i)),_&&i.length>o){_>o&&(_=o);var $=i.length-_;i=i.substring(0,o-_)+"..."+i.substring($)}else i.length>o&&(_=Math.floor(o/2),$=i.length-_,i=i.substring(0,_+o%2)+"..."+i.substring($));return s&&(i=goog.string.htmlEscape(i)),i},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(i){i=String(i);for(var o=['"'],s=0;s<i.length;s++){var _=i.charAt(s),$=_.charCodeAt(0);o[s+1]=goog.string.specialEscapeChars_[_]||(31<$&&127>$?_:goog.string.escapeChar(_))}return o.push('"'),o.join("")},goog.string.escapeString=function(i){for(var o=[],s=0;s<i.length;s++)o[s]=goog.string.escapeChar(i.charAt(s));return o.join("")},goog.string.escapeChar=function(i){if(i in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[i];if(i in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[i]=goog.string.specialEscapeChars_[i];var o=i.charCodeAt(0);if(31<o&&127>o)var s=i;else 256>o?(s="\\x",(16>o||256<o)&&(s+="0")):(s="\\u",4096>o&&(s+="0")),s+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[i]=s},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(i,o){return i&&o?i.split(o).length-1:0},goog.string.removeAt=function(i,o,s){var _=i;return 0<=o&&o<i.length&&0<s&&(_=i.substr(0,o)+i.substr(o+s,i.length-o-s)),_},goog.string.remove=function(i,o){return i.replace(o,"")},goog.string.removeAll=function(i,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,"")},goog.string.replaceAll=function(i,o,s){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,s.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(i){return String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(i,o){return i.repeat(o)}:function(i,o){return Array(o+1).join(i)},goog.string.padNumber=function(i,o,s){return(s=(i=goog.isDef(s)?i.toFixed(s):String(i)).indexOf("."))==-1&&(s=i.length),goog.string.repeat("0",Math.max(0,o-s))+i},goog.string.makeSafe=function(i){return i==null?"":String(i)},goog.string.buildString=function(i){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(i){for(var o=0,s=0;s<i.length;++s)o=31*o+i.charCodeAt(s)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(i){var o=Number(i);return o==0&&goog.string.isEmptyOrWhitespace(i)?NaN:o},goog.string.isLowerCamelCase=function(i){return/^[a-z]+([A-Z][a-z]*)*$/.test(i)},goog.string.isUpperCamelCase=function(i){return/^([A-Z][a-z]*)+$/.test(i)},goog.string.toCamelCase=function(i){return String(i).replace(/\-([a-z])/g,function(o,s){return s.toUpperCase()})},goog.string.toSelectorCase=function(i){return String(i).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(i,o){return o=goog.isString(o)?goog.string.regExpEscape(o):"\\s",i.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(s,_,$){return _+$.toUpperCase()})},goog.string.capitalize=function(i){return String(i.charAt(0)).toUpperCase()+String(i.substr(1)).toLowerCase()},goog.string.parseInt=function(i){return isFinite(i)&&(i=String(i)),goog.isString(i)?/^\s*-?0x/i.test(i)?parseInt(i,16):parseInt(i,10):NaN},goog.string.splitLimit=function(i,o,s){i=i.split(o);for(var _=[];0<s&&i.length;)_.push(i.shift()),s--;return i.length&&_.push(i.join(o)),_},goog.string.lastComponent=function(i,o){if(!o)return i;typeof o=="string"&&(o=[o]);for(var s=-1,_=0;_<o.length;_++)if(o[_]!=""){var $=i.lastIndexOf(o[_]);$>s&&(s=$)}return s==-1?i:i.slice(s+1)},goog.string.editDistance=function(i,o){var s=[],_=[];if(i==o)return 0;if(!i.length||!o.length)return Math.max(i.length,o.length);for(var $=0;$<o.length+1;$++)s[$]=$;for($=0;$<i.length;$++){_[0]=$+1;for(var _e=0;_e<o.length;_e++)_[_e+1]=Math.min(_[_e]+1,s[_e+1]+1,s[_e]+Number(i[$]!=o[_e]));for(_e=0;_e<s.length;_e++)s[_e]=_[_e]}return _[o.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(i=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(i))?i[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(i=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(i))&&i[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(i=(o=/Mac OS X ([0-9_.]+)/).exec(i))?i[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?o=(i=(o=/(?:KaiOS)\/(\S+)/i).exec(i))&&i[1]:goog.labs.userAgent.platform.isAndroid()?o=(i=(o=/Android\s+([^\);]+)(\)|;)/).exec(i))&&i[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(i=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(i))&&i[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),i)},goog.reflect={},goog.reflect.object=function(i,o){return o},goog.reflect.objectProperty=function(i,o){return i},goog.reflect.sinkValue=function(i){return goog.reflect.sinkValue[" "](i),i},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(i,o){try{return goog.reflect.sinkValue(i[o]),!0}catch{}return!1},goog.reflect.cache=function(i,o,s,_){return _=_?_(o):o,Object.prototype.hasOwnProperty.call(i,_)?i[_]:i[_]=s(o)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent();if(i){i=goog.labs.userAgent.util.extractVersionTuples(i);var o,s=goog.labs.userAgent.engine.getEngineTuple_(i);if(s)return s[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(i,"Firefox"):s[1];if((i=i[0])&&(o=i[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(i){if(!goog.labs.userAgent.engine.isEdge())return i[1];for(var o=0;o<i.length;o++){var s=i[o];if(s[0]=="Edge")return s}},goog.labs.userAgent.engine.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),i)},goog.labs.userAgent.engine.getVersionForKey_=function(i,o){return(i=goog.array.find(i,function(s){return o==s[0]}))&&i[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var i=goog.userAgent.getNavigatorTyped();return i&&i.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var i=goog.userAgent.getNavigatorTyped();return!!i&&goog.string.contains(i.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var i="",o=goog.userAgent.getVersionRegexResult_();return o&&(i=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_())!=null&&o>parseFloat(i)?String(o):i},goog.userAgent.getVersionRegexResult_=function(){var i=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(i):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(i):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(i):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0},goog.userAgent.getDocumentMode_=function(){var i=goog.global.document;return i?i.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(i,o){return goog.string.compareVersions(i,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(i){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,i,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,i)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(i){return Number(goog.userAgent.DOCUMENT_MODE)>=i},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(i){return goog.string.contains(goog.crypt.base64.paddingChars_,i)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(i,o){goog.asserts.assert(goog.isArrayLike(i),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var s=[],_=0;_<i.length;_+=3){var $=i[_],_e=_+1<i.length,tt=_e?i[_+1]:0,j=_+2<i.length,nt=j?i[_+2]:0,st=$>>2;$=(3&$)<<4|tt>>4,tt=(15&tt)<<2|nt>>6,nt&=63,j||(nt=64,_e||(tt=64)),s.push(o[st],o[$],o[tt]||"",o[nt]||"")}return s.join("")},goog.crypt.base64.encodeString=function(i,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(i):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(i),o)},goog.crypt.base64.decodeString=function(i,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(i);var s="";return goog.crypt.base64.decodeStringInternal_(i,function(_){s+=String.fromCharCode(_)}),s},goog.crypt.base64.decodeStringToByteArray=function(i,o){var s=[];return goog.crypt.base64.decodeStringInternal_(i,function(_){s.push(_)}),s},goog.crypt.base64.decodeStringToUint8Array=function(i){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=i.length,s=3*o/4;s%3?s=Math.floor(s):goog.crypt.base64.isPadding_(i[o-1])&&(s=goog.crypt.base64.isPadding_(i[o-2])?s-2:s-1);var _=new Uint8Array(s),$=0;return goog.crypt.base64.decodeStringInternal_(i,function(_e){_[$++]=_e}),_.subarray(0,$)},goog.crypt.base64.decodeStringInternal_=function(i,o){function s(nt){for(;_<i.length;){var st=i.charAt(_++),ht=goog.crypt.base64.charToByteMap_[st];if(ht!=null)return ht;if(!goog.string.isEmptyOrWhitespace(st))throw Error("Unknown base64 encoding at char: "+st)}return nt}goog.crypt.base64.init_();for(var _=0;;){var $=s(-1),_e=s(0),tt=s(64),j=s(64);if(j===64&&$===-1)break;o($<<2|_e>>4),tt!=64&&(o(_e<<4&240|tt>>2),j!=64&&o(tt<<6&192|j))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var i=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],s=0;5>s;s++){var _=i.concat(o[s].split(""));goog.crypt.base64.byteToCharMaps_[s]=_;for(var $=0;$<_.length;$++){var _e=_[$],tt=goog.crypt.base64.charToByteMap_[_e];tt===void 0?goog.crypt.base64.charToByteMap_[_e]=$:goog.asserts.assert(tt===$)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(i){var o=i>>>0;i=Math.floor((i-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=i},jspb.utils.splitInt64=function(i){var o=0>i,s=(i=Math.abs(i))>>>0;i=Math.floor((i-s)/jspb.BinaryConstants.TWO_TO_32),i>>>=0,o&&(i=~i>>>0,4294967295<(s=1+(~s>>>0))&&(s=0,4294967295<++i&&(i=0))),jspb.utils.split64Low=s,jspb.utils.split64High=i},jspb.utils.splitZigzag64=function(i){var o=0>i;i=2*Math.abs(i),jspb.utils.splitUint64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;o&&(i==0?s==0?s=i=4294967295:(s--,i=4294967295):i--),jspb.utils.split64Low=i,jspb.utils.split64High=s},jspb.utils.splitFloat32=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)0<1/i?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(i))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(i>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(i<jspb.BinaryConstants.FLOAT32_MIN)i=Math.round(i/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|i)>>>0;else{var s=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-s),i=8388607&Math.round(i*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s+127<<23|i)>>>0}},jspb.utils.splitFloat64=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)jspb.utils.split64High=0<1/i?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(i))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(i>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(i<jspb.BinaryConstants.FLOAT64_MIN){var s=i/Math.pow(2,-1074);i=s/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|i)>>>0,jspb.utils.split64Low=s>>>0}else{var _=0;if(2<=(s=i))for(;2<=s&&1023>_;)_++,s/=2;else for(;1>s&&-1022<_;)s*=2,_--;i=(s=i*Math.pow(2,-_))*jspb.BinaryConstants.TWO_TO_20&1048575,s=s*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|_+1023<<20|i)>>>0,jspb.utils.split64Low=s}},jspb.utils.splitHash64=function(i){var o=i.charCodeAt(0),s=i.charCodeAt(1),_=i.charCodeAt(2),$=i.charCodeAt(3),_e=i.charCodeAt(4),tt=i.charCodeAt(5),j=i.charCodeAt(6);i=i.charCodeAt(7),jspb.utils.split64Low=o+(s<<8)+(_<<16)+($<<24)>>>0,jspb.utils.split64High=_e+(tt<<8)+(j<<16)+(i<<24)>>>0},jspb.utils.joinUint64=function(i,o){return o*jspb.BinaryConstants.TWO_TO_32+(i>>>0)},jspb.utils.joinInt64=function(i,o){var s=2147483648&o;return s&&(o=~o>>>0,(i=1+~i>>>0)==0&&(o=o+1>>>0)),i=jspb.utils.joinUint64(i,o),s?-i:i},jspb.utils.toZigzag64=function(i,o,s){var _=o>>31;return s(i<<1^_,(o<<1|i>>>31)^_)},jspb.utils.joinZigzag64=function(i,o){return jspb.utils.fromZigzag64(i,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(i,o,s){var _=-(1&i);return s((i>>>1|o<<31)^_,o>>>1^_)},jspb.utils.joinFloat32=function(i,o){o=2*(i>>31)+1;var s=i>>>23&255;return i&=8388607,s==255?i?NaN:1/0*o:s==0?o*Math.pow(2,-149)*i:o*Math.pow(2,s-150)*(i+Math.pow(2,23))},jspb.utils.joinFloat64=function(i,o){var s=2*(o>>31)+1,_=o>>>20&2047;return i=jspb.BinaryConstants.TWO_TO_32*(1048575&o)+i,_==2047?i?NaN:1/0*s:_==0?s*Math.pow(2,-1074)*i:s*Math.pow(2,_-1075)*(i+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(i,o){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(i,o){function s($,_e){return $=$?String($):"",_e?"0000000".slice($.length)+$:$}if(2097151>=o)return""+(jspb.BinaryConstants.TWO_TO_32*o+i);var _=(i>>>24|o<<8)>>>0&16777215;return i=(16777215&i)+6777216*_+6710656*(o=o>>16&65535),_+=8147497*o,o*=2,1e7<=i&&(_+=Math.floor(i/1e7),i%=1e7),1e7<=_&&(o+=Math.floor(_/1e7),_%=1e7),s(o,0)+s(_,o)+s(i,1)},jspb.utils.joinSignedDecimalString=function(i,o){var s=2147483648&o;return s&&(o=~o+((i=1+~i>>>0)==0?1:0)>>>0),i=jspb.utils.joinUnsignedDecimalString(i,o),s?"-"+i:i},jspb.utils.hash64ToDecimalString=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(i,s):jspb.utils.joinUnsignedDecimalString(i,s)},jspb.utils.hash64ArrayToDecimalStrings=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]=jspb.utils.hash64ToDecimalString(i[_],o);return s},jspb.utils.decimalStringToHash64=function(i){function o(_e,tt){for(var j=0;8>j&&(_e!==1||0<tt);j++)tt=_e*_[j]+tt,_[j]=255&tt,tt>>>=8}goog.asserts.assert(0<i.length);var s=!1;i[0]==="-"&&(s=!0,i=i.slice(1));for(var _=[0,0,0,0,0,0,0,0],$=0;$<i.length;$++)o(10,i.charCodeAt($)-jspb.utils.ZERO_CHAR_CODE_);return s&&(function(){for(var _e=0;8>_e;_e++)_[_e]=255&~_[_e]}(),o(1,1)),goog.crypt.byteArrayToString(_)},jspb.utils.splitDecimalString=function(i){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i))},jspb.utils.toHexDigit_=function(i){return String.fromCharCode(10>i?jspb.utils.ZERO_CHAR_CODE_+i:jspb.utils.A_CHAR_CODE_-10+i)},jspb.utils.fromHexCharCode_=function(i){return i>=jspb.utils.A_CHAR_CODE_?i-jspb.utils.A_CHAR_CODE_+10:i-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(i){var o=Array(18);o[0]="0",o[1]="x";for(var s=0;8>s;s++){var _=i.charCodeAt(7-s);o[2*s+2]=jspb.utils.toHexDigit_(_>>4),o[2*s+3]=jspb.utils.toHexDigit_(15&_)}return o.join("")},jspb.utils.hexStringToHash64=function(i){i=i.toLowerCase(),goog.asserts.assert(i.length==18),goog.asserts.assert(i[0]=="0"),goog.asserts.assert(i[1]=="x");for(var o="",s=0;8>s;s++){var _=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+2)),$=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+3));o=String.fromCharCode(16*_+$)+o}return o},jspb.utils.hash64ToNumber=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinInt64(i,s):jspb.utils.joinUint64(i,s)},jspb.utils.numberToHash64=function(i){return jspb.utils.splitInt64(i),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(i,o,s){for(var _=0,$=o;$<s;$++)_+=i[$]>>7;return s-o-_},jspb.utils.countVarintFields=function(i,o,s,_){var $=0;if(128>(_=8*_+jspb.BinaryConstants.WireType.VARINT))for(;o<s&&i[o++]==_;)for($++;;){var _e=i[o++];if(!(128&_e))break}else for(;o<s;){for(_e=_;128<_e;){if(i[o]!=(127&_e|128))return $;o++,_e>>=7}if(i[o++]!=_e)break;for($++;128&(_e=i[o++]););}return $},jspb.utils.countFixedFields_=function(i,o,s,_,$){var _e=0;if(128>_)for(;o<s&&i[o++]==_;)_e++,o+=$;else for(;o<s;){for(var tt=_;128<tt;){if(i[o++]!=(127&tt|128))return _e;tt>>=7}if(i[o++]!=tt)break;_e++,o+=$}return _e},jspb.utils.countFixed32Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(i,o,s,_){var $=0;for(_=8*_+jspb.BinaryConstants.WireType.DELIMITED;o<s;){for(var _e=_;128<_e;){if(i[o++]!=(127&_e|128))return $;_e>>=7}if(i[o++]!=_e)break;$++;for(var tt=0,j=1;tt+=(127&(_e=i[o++]))*j,j*=128,(128&_e)!=0;);o+=tt}return $},jspb.utils.debugBytesToTextFormat=function(i){var o='"';if(i){i=jspb.utils.byteSourceToUint8Array(i);for(var s=0;s<i.length;s++)o+="\\x",16>i[s]&&(o+="0"),o+=i[s].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(i){return typeof i=="string"?goog.string.quote(i):i.toString()},jspb.utils.stringToByteArray=function(i){for(var o=new Uint8Array(i.length),s=0;s<i.length;s++){var _=i.charCodeAt(s);if(255<_)throw Error("Conversion error: string contains codepoint outside of byte range");o[s]=_}return o},jspb.utils.byteSourceToUint8Array=function(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer||Buffer!==void 0&&i.constructor===Buffer||i.constructor===Array?new Uint8Array(i):i.constructor===String?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(i,o,s){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,i&&this.setBlock(i,o,s)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(i,o,s){if(jspb.BinaryDecoder.instanceCache_.length){var _=jspb.BinaryDecoder.instanceCache_.pop();return i&&_.setBlock(i,o,s),_}return new jspb.BinaryDecoder(i,o,s)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(i,o,s){this.bytes_=jspb.utils.byteSourceToUint8Array(i),this.start_=o!==void 0?o:0,this.end_=s!==void 0?this.start_+s:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(i){this.end_=i},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(i){this.cursor_=i},jspb.BinaryDecoder.prototype.advance=function(i){this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(i){for(var o=128,s=0,_=0,$=0;4>$&&128<=o;$++)s|=(127&(o=this.bytes_[this.cursor_++]))<<7*$;if(128<=o&&(s|=(127&(o=this.bytes_[this.cursor_++]))<<28,_|=(127&o)>>4),128<=o)for($=0;5>$&&128<=o;$++)_|=(127&(o=this.bytes_[this.cursor_++]))<<7*$+3;if(128>o)return i(s>>>0,_>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(i){return this.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(i){var o=this.bytes_,s=this.cursor_;this.cursor_+=8;for(var _=0,$=0,_e=s+7;_e>=s;_e--)_=_<<8|o[_e],$=$<<8|o[_e+4];return i(_,$)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(i){for(;128<i;)this.cursor_--,i>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var i=this.bytes_,o=i[this.cursor_+0],s=127&o;return 128>o?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+1]))<<7,128>o?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+2]))<<14,128>o?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+3]))<<21,128>o?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(15&(o=i[this.cursor_+4]))<<28,128>o?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),s>>>0):(this.cursor_+=5,128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),s)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var i=this.readUnsignedVarint32();return i>>>1^-(1&i)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readUint16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8|s<<16|_<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(i,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8|s<<16|_<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(i,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var i=this.readUint32();return jspb.utils.joinFloat32(i,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(i,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(i){var o=this.bytes_,s=this.cursor_;i=s+i;for(var _=[],$="";s<i;){var _e=o[s++];if(128>_e)_.push(_e);else{if(192>_e)continue;if(224>_e){var tt=o[s++];_.push((31&_e)<<6|63&tt)}else if(240>_e){tt=o[s++];var j=o[s++];_.push((15&_e)<<12|(63&tt)<<6|63&j)}else 248>_e&&(_e=(7&_e)<<18|(63&(tt=o[s++]))<<12|(63&(j=o[s++]))<<6|63&o[s++],_e-=65536,_.push(55296+(_e>>10&1023),56320+(1023&_e)))}8192<=_.length&&($+=String.fromCharCode.apply(null,_),_.length=0)}return $+=goog.crypt.byteArrayToString(_),this.cursor_=s,$},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var i=this.readUnsignedVarint32();return this.readString(i)},jspb.BinaryDecoder.prototype.readBytes=function(i){if(0>i||this.cursor_+i>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+i);return this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var i=this.bytes_,o=this.cursor_,s=i[o+0],_=i[o+1],$=i[o+2],_e=i[o+3],tt=i[o+4],j=i[o+5],nt=i[o+6];return i=i[o+7],this.cursor_+=8,String.fromCharCode(s,_,$,_e,tt,j,nt,i)},jspb.BinaryReader=function(i,o,s){this.decoder_=jspb.BinaryDecoder.alloc(i,o,s),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(i,o,s){if(jspb.BinaryReader.instanceCache_.length){var _=jspb.BinaryReader.instanceCache_.pop();return i&&_.decoder_.setBlock(i,o,s),_}return new jspb.BinaryReader(i,o,s)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(i,o,s){this.decoder_.setBlock(i,o,s),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(i){this.decoder_.advance(i)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var i=this.decoder_.readUnsignedVarint32(),o=i>>>3;return(i&=7)!=jspb.BinaryConstants.WireType.VARINT&&i!=jspb.BinaryConstants.WireType.FIXED32&&i!=jspb.BinaryConstants.WireType.FIXED64&&i!=jspb.BinaryConstants.WireType.DELIMITED&&i!=jspb.BinaryConstants.WireType.START_GROUP&&i!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",i,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=i,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var i=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==i;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var i=this.decoder_.readUnsignedVarint32();this.decoder_.advance(i)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var i=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=i&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(i,o){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[i]),this.readCallbacks_[i]=o},jspb.BinaryReader.prototype.runReadCallback=function(i){return goog.asserts.assert(this.readCallbacks_!==null),i=this.readCallbacks_[i],goog.asserts.assert(i),i(this)},jspb.BinaryReader.prototype.readAny=function(i){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(i);var o=jspb.BinaryConstants.FieldType;switch(i){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.getEnd(),_=this.decoder_.readUnsignedVarint32();_=this.decoder_.getCursor()+_,this.decoder_.setEnd(_),o(i,this),this.decoder_.setCursor(_),this.decoder_.setEnd(s)},jspb.BinaryReader.prototype.readGroup=function(i,o,s){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==i),s(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),s=o+i;return i=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,i),this.decoder_.setCursor(s),i},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(i)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(i)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(i)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(i)},jspb.BinaryReader.prototype.readPackedField_=function(i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var s=[];this.decoder_.getCursor()<o;)s.push(i.call(this.decoder_));return s},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(i,o){this.arr_=i,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var i=0;i<this.arr_.length;i++){var o=this.arr_[i],s=o[0];this.map_[s.toString()]=new jspb.Map.Entry_(s,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var i,o=this.map_;for(i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var s=o[i].valueWrapper;s&&s.toArray()}}}else{for(this.arr_.length=0,(o=this.stringKeys_()).sort(),i=0;i<o.length;i++){var _=this.map_[o[i]];(s=_.valueWrapper)&&s.toArray(),this.arr_.push([_.key,_.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(i,o){for(var s=this.toArray(),_=[],$=0;$<s.length;$++){var _e=this.map_[s[$][0].toString()];this.wrapEntry_(_e);var tt=_e.valueWrapper;tt?(goog.asserts.assert(o),_.push([_e.key,o(i,tt)])):_.push([_e.key,_e.value])}return _},jspb.Map.fromObject=function(i,o,s){o=new jspb.Map([],o);for(var _=0;_<i.length;_++){var $=i[_][0],_e=s(i[_][1]);o.set($,_e)}return o},jspb.Map.ArrayIteratorIterable_=function(i){this.idx_=0,this.arr_=i},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(i){i=i.toString();var o=this.map_.hasOwnProperty(i);return delete this.map_[i],this.arrClean=!1,o},jspb.Map.prototype.getEntryList=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,_.value])}return i},jspb.Map.prototype.entries=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,this.wrapEntry_(_)])}return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.keys=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.map_[o[s]].key);return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.values=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.wrapEntry_(this.map_[o[s]]));return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.forEach=function(i,o){var s=this.stringKeys_();s.sort();for(var _=0;_<s.length;_++){var $=this.map_[s[_]];i.call(o,this.wrapEntry_($),$.key,this)}},jspb.Map.prototype.set=function(i,o){var s=new jspb.Map.Entry_(i);return this.valueCtor_?(s.valueWrapper=o,s.value=o.toArray()):s.value=o,this.map_[i.toString()]=s,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(i){return this.valueCtor_?(i.valueWrapper||(i.valueWrapper=new this.valueCtor_(i.value)),i.valueWrapper):i.value},jspb.Map.prototype.get=function(i){if(i=this.map_[i.toString()])return this.wrapEntry_(i)},jspb.Map.prototype.has=function(i){return i.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(i,o,s,_,$){var _e=this.stringKeys_();_e.sort();for(var tt=0;tt<_e.length;tt++){var j=this.map_[_e[tt]];o.beginSubMessage(i),s.call(o,1,j.key),this.valueCtor_?_.call(o,2,this.wrapEntry_(j),$):_.call(o,2,j.value),o.endSubMessage()}},jspb.Map.deserializeBinary=function(i,o,s,_,$,_e,tt){for(;o.nextField()&&!o.isEndGroup();){var j=o.getFieldNumber();j==1?_e=s.call(o):j==2&&(i.valueCtor_?(goog.asserts.assert($),tt||(tt=new i.valueCtor_),_.call(o,tt,$)):tt=_.call(o))}goog.asserts.assert(_e!=null),goog.asserts.assert(tt!=null),i.set(_e,tt)},jspb.Map.prototype.stringKeys_=function(){var i,o=this.map_,s=[];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},jspb.Map.Entry_=function(i,o){this.key=i,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(i,o,s,_,$){this.fieldIndex=i,this.fieldName=o,this.ctor=s,this.toObjectFn=_,this.isRepeated=$},jspb.ExtensionFieldBinaryInfo=function(i,o,s,_,$,_e){this.fieldInfo=i,this.binaryReaderFn=o,this.binaryWriterFn=s,this.binaryMessageSerializeFn=_,this.binaryMessageDeserializeFn=$,this.isPacked=_e},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(i,o){return o+i.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(i,o){return o-i.arrayIndexOffset_},jspb.Message.initialize=function(i,o,s,_,$,_e){if(i.wrappers_=null,o||(o=s?[s]:[]),i.messageId_=s?String(s):void 0,i.arrayIndexOffset_=s===0?-1:0,i.array=o,jspb.Message.initPivotAndExtensionObject_(i,_),i.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(i.repeatedFields=$),$)for(o=0;o<$.length;o++)(s=$[o])<i.pivot_?(s=jspb.Message.getIndex_(i,s),i.array[s]=i.array[s]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[s]=i.extensionObject_[s]||jspb.Message.EMPTY_LIST_SENTINEL_);if(_e&&_e.length)for(o=0;o<_e.length;o++)jspb.Message.computeOneofCase(i,_e[o])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(i){return jspb.Message.ASSUME_LOCAL_ARRAYS?i instanceof Array:Array.isArray(i)},jspb.Message.isExtensionObject_=function(i){return!(i===null||typeof i!="object"||jspb.Message.isArray_(i)||jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(i,o){var s=i.array.length,_=-1;if(s&&(_=s-1,s=i.array[_],jspb.Message.isExtensionObject_(s)))return i.pivot_=jspb.Message.getFieldNumber_(i,_),void(i.extensionObject_=s);-1<o?(i.pivot_=Math.max(o,jspb.Message.getFieldNumber_(i,_+1)),i.extensionObject_=null):i.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(i){var o=jspb.Message.getIndex_(i,i.pivot_);i.array[o]||(i.extensionObject_=i.array[o]={})},jspb.Message.toObjectList=function(i,o,s){for(var _=[],$=0;$<i.length;$++)_[$]=o.call(i[$],s,i[$]);return _},jspb.Message.toObjectExtension=function(i,o,s,_,$){for(var _e in s){var tt=s[_e],j=_.call(i,tt);if(j!=null){for(var nt in tt.fieldName)if(tt.fieldName.hasOwnProperty(nt))break;o[nt]=tt.toObjectFn?tt.isRepeated?jspb.Message.toObjectList(j,tt.toObjectFn,$):tt.toObjectFn($,j):j}}},jspb.Message.serializeBinaryExtensions=function(i,o,s,_){for(var $ in s){var _e=s[$],tt=_e.fieldInfo;if(!_e.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var j=_.call(i,tt);if(j!=null)if(tt.isMessageType()){if(!_e.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");_e.binaryWriterFn.call(o,tt.fieldIndex,j,_e.binaryMessageSerializeFn)}else _e.binaryWriterFn.call(o,tt.fieldIndex,j)}},jspb.Message.readBinaryExtension=function(i,o,s,_,$){var _e=s[o.getFieldNumber()];if(_e){if(s=_e.fieldInfo,!_e.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(s.isMessageType()){var tt=new s.ctor;_e.binaryReaderFn.call(o,tt,_e.binaryMessageDeserializeFn)}else tt=_e.binaryReaderFn.call(o);s.isRepeated&&!_e.isPacked?(o=_.call(i,s))?o.push(tt):$.call(i,s,[tt]):$.call(i,s,tt)}else o.skipField()},jspb.Message.getField=function(i,o){if(o<i.pivot_){o=jspb.Message.getIndex_(i,o);var s=i.array[o];return s===jspb.Message.EMPTY_LIST_SENTINEL_?i.array[o]=[]:s}if(i.extensionObject_)return(s=i.extensionObject_[o])===jspb.Message.EMPTY_LIST_SENTINEL_?i.extensionObject_[o]=[]:s},jspb.Message.getRepeatedField=function(i,o){return jspb.Message.getField(i,o)},jspb.Message.getOptionalFloatingPointField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:+i},jspb.Message.getBooleanField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:!!i},jspb.Message.getRepeatedFloatingPointField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=+s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.getRepeatedBooleanField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=!!s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.bytesAsB64=function(i){return i==null||typeof i=="string"?i:jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array?goog.crypt.base64.encodeByteArray(i):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(i)),null)},jspb.Message.bytesAsU8=function(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(i)),null)},jspb.Message.bytesListAsB64=function(i){return jspb.Message.assertConsistentTypes_(i),i.length&&typeof i[0]!="string"?goog.array.map(i,jspb.Message.bytesAsB64):i},jspb.Message.bytesListAsU8=function(i){return jspb.Message.assertConsistentTypes_(i),!i.length||i[0]instanceof Uint8Array?i:goog.array.map(i,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(i){if(goog.DEBUG&&i&&1<i.length){var o=goog.typeOf(i[0]);goog.array.forEach(i,function(s){goog.typeOf(s)!=o&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(s)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(i,o,s){return(i=jspb.Message.getField(i,o))==null?s:i},jspb.Message.getBooleanFieldWithDefault=function(i,o,s){return(i=jspb.Message.getBooleanField(i,o))==null?s:i},jspb.Message.getFloatingPointFieldWithDefault=function(i,o,s){return(i=jspb.Message.getOptionalFloatingPointField(i,o))==null?s:i},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),o in i.wrappers_)return i.wrappers_[o];var $=jspb.Message.getField(i,o);if(!$){if(s)return;$=[],jspb.Message.setField(i,o,$)}return i.wrappers_[o]=new jspb.Map($,_)},jspb.Message.setField=function(i,o,s){return goog.asserts.assertInstanceof(i,jspb.Message),o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=s:(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[o]=s),i},jspb.Message.setProto3IntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3FloatField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3BooleanField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,!1)},jspb.Message.setProto3StringField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3BytesField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3EnumField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3StringIntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"0")},jspb.Message.setFieldIgnoringDefault_=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),s!==_?jspb.Message.setField(i,o,s):o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(i),delete i.extensionObject_[o]),i},jspb.Message.addToRepeatedField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),o=jspb.Message.getRepeatedField(i,o),_!=null?o.splice(_,0,s):o.push(s),i},jspb.Message.setOneofField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),(s=jspb.Message.computeOneofCase(i,s))&&s!==o&&_!==void 0&&(i.wrappers_&&s in i.wrappers_&&(i.wrappers_[s]=void 0),jspb.Message.setField(i,s,void 0)),jspb.Message.setField(i,o,_)},jspb.Message.computeOneofCase=function(i,o){for(var s,_,$=0;$<o.length;$++){var _e=o[$],tt=jspb.Message.getField(i,_e);tt!=null&&(s=_e,_=tt,jspb.Message.setField(i,_e,void 0))}return s?(jspb.Message.setField(i,s,_),s):0},jspb.Message.getWrapperField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){var $=jspb.Message.getField(i,s);(_||$)&&(i.wrappers_[s]=new o($))}return i.wrappers_[s]},jspb.Message.getRepeatedWrapperField=function(i,o,s){return jspb.Message.wrapRepeatedField_(i,o,s),(o=i.wrappers_[s])==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=i.wrappers_[s]=[]),o},jspb.Message.wrapRepeatedField_=function(i,o,s){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){for(var _=jspb.Message.getRepeatedField(i,s),$=[],_e=0;_e<_.length;_e++)$[_e]=new o(_[_e]);i.wrappers_[s]=$}},jspb.Message.setWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var _=s&&s.toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.setOneofWrapperField=function(i,o,s,_){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var $=_&&_.toArray();return i.wrappers_[o]=_,jspb.Message.setOneofField(i,o,s,$)},jspb.Message.setRepeatedWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={}),s=s||[];for(var _=[],$=0;$<s.length;$++)_[$]=s[$].toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.addToRepeatedWrapperField=function(i,o,s,_,$){jspb.Message.wrapRepeatedField_(i,_,o);var _e=i.wrappers_[o];return _e||(_e=i.wrappers_[o]=[]),s=s||new _,i=jspb.Message.getRepeatedField(i,o),$!=null?(_e.splice($,0,s),i.splice($,0,s.toArray())):(_e.push(s),i.push(s.toArray())),s},jspb.Message.toMap=function(i,o,s,_){for(var $={},_e=0;_e<i.length;_e++)$[o.call(i[_e])]=s?s.call(i[_e],_,i[_e]):i[_e];return $},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var i in this.wrappers_){var o=this.wrappers_[i];if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]&&o[s].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(i){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=i.fieldIndex;if(i.isRepeated){if(i.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(s){return new i.ctor(s)})),this.wrappers_[o]}else if(i.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new i.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},jspb.Message.prototype.setExtension=function(i,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var s=i.fieldIndex;return i.isRepeated?(o=o||[],i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=goog.array.map(o,function(_){return _.toArray()})):this.extensionObject_[s]=o):i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=o&&o.toArray()):this.extensionObject_[s]=o,this},jspb.Message.difference=function(i,o){if(!(i instanceof o.constructor))throw Error("Messages have different types.");var s=i.toArray();o=o.toArray();var _=[],$=0,_e=s.length>o.length?s.length:o.length;for(i.getJsPbMessageId()&&(_[0]=i.getJsPbMessageId(),$=1);$<_e;$++)jspb.Message.compareFields(s[$],o[$])||(_[$]=o[$]);return new i.constructor(_)},jspb.Message.equals=function(i,o){return i==o||!(!i||!o)&&i instanceof o.constructor&&jspb.Message.compareFields(i.toArray(),o.toArray())},jspb.Message.compareExtensions=function(i,o){i=i||{},o=o||{};var s,_={};for(s in i)_[s]=0;for(s in o)_[s]=0;for(s in _)if(!jspb.Message.compareFields(i[s],o[s]))return!1;return!0},jspb.Message.compareFields=function(i,o){if(i==o)return!0;if(!goog.isObject(i)||!goog.isObject(o))return!!(typeof i=="number"&&isNaN(i)||typeof o=="number"&&isNaN(o))&&String(i)==String(o);if(i.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i.constructor===Uint8Array){if(i.length!=o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!=o[s])return!1;return!0}if(i.constructor===Array){var _=void 0,$=void 0,_e=Math.max(i.length,o.length);for(s=0;s<_e;s++){var tt=i[s],j=o[s];if(tt&&tt.constructor==Object&&(goog.asserts.assert(_===void 0),goog.asserts.assert(s===i.length-1),_=tt,tt=void 0),j&&j.constructor==Object&&(goog.asserts.assert($===void 0),goog.asserts.assert(s===o.length-1),$=j,j=void 0),!jspb.Message.compareFields(tt,j))return!1}return!_&&!$||(_=_||{},$=$||{},jspb.Message.compareExtensions(_,$))}if(i.constructor===Object)return jspb.Message.compareExtensions(i,o);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(i){return jspb.Message.cloneMessage(i)},jspb.Message.cloneMessage=function(i){return new i.constructor(jspb.Message.clone_(i.toArray()))},jspb.Message.copyInto=function(i,o){goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assertInstanceof(o,jspb.Message),goog.asserts.assert(i.constructor==o.constructor,"Copy source and target message should have the same type."),i=jspb.Message.clone(i);for(var s=o.toArray(),_=i.toArray(),$=s.length=0;$<_.length;$++)s[$]=_[$];o.wrappers_=i.wrappers_,o.extensionObject_=i.extensionObject_},jspb.Message.clone_=function(i){if(Array.isArray(i)){for(var o=Array(i.length),s=0;s<i.length;s++){var _=i[s];_!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)return new Uint8Array(i);for(s in o={},i)(_=i[s])!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_);return o},jspb.Message.registerMessageType=function(i,o){o.messageId=i},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(i,o){this.lo=i,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(i){return new jspb.arith.UInt64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(i){return new jspb.arith.UInt64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(i,o){var s=65535&i,_=65535&o,$=o>>>16;for(o=s*_+65536*(s*$&65535)+65536*((i>>>=16)*_&65535),s=i*$+(s*$>>>16)+(i*_>>>16);4294967296<=o;)o-=4294967296,s+=1;return new jspb.arith.UInt64(o>>>0,s>>>0)},jspb.arith.UInt64.prototype.mul=function(i){var o=jspb.arith.UInt64.mul32x32(this.lo,i);return(i=jspb.arith.UInt64.mul32x32(this.hi,i)).hi=i.lo,i.lo=0,o.add(i)},jspb.arith.UInt64.prototype.div=function(i){if(i==0)return[];var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(this.lo,this.hi);i=new jspb.arith.UInt64(i,0);for(var _=new jspb.arith.UInt64(1,0);!i.msb();)i=i.leftShift(),_=_.leftShift();for(;!_.zero();)0>=i.cmp(s)&&(o=o.add(_),s=s.sub(i)),i=i.rightShift(),_=_.rightShift();return[o,s]},jspb.arith.UInt64.prototype.toString=function(){for(var i="",o=this;!o.zero();){var s=(o=o.div(10))[0];i=o[1].lo+i,o=s}return i==""&&(i="0"),i},jspb.arith.UInt64.fromString=function(i){for(var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(0,0),_=0;_<i.length;_++){if("0">i[_]||"9"<i[_])return null;var $=parseInt(i[_],10);s.lo=$,o=o.mul(10).add(s)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(i,o){this.lo=i,this.hi=o},jspb.arith.Int64.prototype.add=function(i){return new jspb.arith.Int64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(i){return new jspb.arith.Int64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var i=(2147483648&this.hi)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return i&&(o=new jspb.arith.UInt64(0,0).sub(o)),(i?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(i){var o=0<i.length&&i[0]=="-";return o&&(i=i.substring(1)),(i=jspb.arith.UInt64.fromString(i))===null?null:(o&&(i=new jspb.arith.UInt64(0,0).sub(i)),new jspb.arith.Int64(i.lo,i.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var i=this.buffer_;return this.buffer_=[],i},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(i,o){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<i;)this.buffer_.push(127&i|128),i=(i>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(i,o){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(i),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(i){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);127<i;)this.buffer_.push(127&i|128),i>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(i){if(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),0<=i)this.writeUnsignedVarint32(i);else{for(var o=0;9>o;o++)this.buffer_.push(127&i|128),i>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((i<<1^i>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(i){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(i){var o=this;jspb.utils.splitHash64(i),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(s,_){o.writeSplitVarint64(s>>>0,_>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&256>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&65536>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-128<=i&&128>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-32768<=i&&32768>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(+i>=-jspb.BinaryConstants.TWO_TO_63&&+i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT32_MAX&&i<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(i),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT64_MAX&&i<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(i){goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.buffer_.push(i?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(i)},jspb.BinaryEncoder.prototype.writeBytes=function(i){this.buffer_.push.apply(this.buffer_,i)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(i){jspb.utils.splitHash64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(i){jspb.utils.splitHash64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(i){for(var o=this.buffer_.length,s=0;s<i.length;s++){var _=i.charCodeAt(s);if(128>_)this.buffer_.push(_);else if(2048>_)this.buffer_.push(_>>6|192),this.buffer_.push(63&_|128);else if(65536>_)if(55296<=_&&56319>=_&&s+1<i.length){var $=i.charCodeAt(s+1);56320<=$&&57343>=$&&(_=1024*(_-55296)+$-56320+65536,this.buffer_.push(_>>18|240),this.buffer_.push(_>>12&63|128),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128),s++)}else this.buffer_.push(_>>12|224),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128)}return this.buffer_.length-o},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(i){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(i),this.totalLength_+=o.length+i.length},jspb.BinaryWriter.prototype.beginDelimited_=function(i){return this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),i=this.encoder_.end(),this.blocks_.push(i),this.totalLength_+=i.length,i.push(this.totalLength_),i},jspb.BinaryWriter.prototype.endDelimited_=function(i){var o=i.pop();for(o=this.totalLength_+this.encoder_.length()-o,goog.asserts.assert(0<=o);127<o;)i.push(127&o|128),o>>>=7,this.totalLength_++;i.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(i,o,s){this.appendUint8Array_(i.subarray(o,s))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(i,o,s){i!=null&&o!=null&&s!=null&&this.writeSerializedMessage(i,o,s)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var i=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,s=o.length,_=0,$=0;$<s;$++){var _e=o[$];i.set(_e,_),_+=_e.length}return o=this.encoder_.end(),i.set(o,_),_+=o.length,goog.asserts.assert(_==i.length),this.blocks_=[i],i},jspb.BinaryWriter.prototype.getResultBase64String=function(i){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),i)},jspb.BinaryWriter.prototype.beginSubMessage=function(i){this.bookmarks_.push(this.beginDelimited_(i))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(i,o){goog.asserts.assert(1<=i&&i==Math.floor(i)),this.encoder_.writeUnsignedVarint32(8*i+o)},jspb.BinaryWriter.prototype.writeAny=function(i,o,s){var _=jspb.BinaryConstants.FieldType;switch(i){case _.DOUBLE:this.writeDouble(o,s);break;case _.FLOAT:this.writeFloat(o,s);break;case _.INT64:this.writeInt64(o,s);break;case _.UINT64:this.writeUint64(o,s);break;case _.INT32:this.writeInt32(o,s);break;case _.FIXED64:this.writeFixed64(o,s);break;case _.FIXED32:this.writeFixed32(o,s);break;case _.BOOL:this.writeBool(o,s);break;case _.STRING:this.writeString(o,s);break;case _.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case _.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case _.BYTES:this.writeBytes(o,s);break;case _.UINT32:this.writeUint32(o,s);break;case _.ENUM:this.writeEnum(o,s);break;case _.SFIXED32:this.writeSfixed32(o,s);break;case _.SFIXED64:this.writeSfixed64(o,s);break;case _.SINT32:this.writeSint32(o,s);break;case _.SINT64:this.writeSint64(o,s);break;case _.FHASH64:this.writeFixedHash64(o,s);break;case _.VHASH64:this.writeVarintHash64(o,s);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeInt64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeUint64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(i,o))},jspb.BinaryWriter.prototype.writeSint64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(i,o))},jspb.BinaryWriter.prototype.writeSintHash64=function(i,o){o!=null&&this.writeZigzagVarintHash64_(i,o)},jspb.BinaryWriter.prototype.writeSint64String=function(i,o){o!=null&&this.writeZigzagVarint64String_(i,o)},jspb.BinaryWriter.prototype.writeFixed32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},jspb.BinaryWriter.prototype.writeFixed64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},jspb.BinaryWriter.prototype.writeFixed64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},jspb.BinaryWriter.prototype.writeSfixed64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},jspb.BinaryWriter.prototype.writeSfixed64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},jspb.BinaryWriter.prototype.writeDouble=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},jspb.BinaryWriter.prototype.writeBool=function(i,o){o!=null&&(goog.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},jspb.BinaryWriter.prototype.writeEnum=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeString=function(i,o){o!=null&&(i=this.beginDelimited_(i),this.encoder_.writeString(o),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeBytes=function(i,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},jspb.BinaryWriter.prototype.writeMessage=function(i,o,s){o!=null&&(i=this.beginDelimited_(i),s(o,this),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeMessageSet=function(i,o,s){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i),i=this.beginDelimited_(3),s(o,this),this.endDelimited_(i),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(i,o,s){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o,this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,s)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,s)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT);var _=this.encoder_;jspb.utils.toZigzag64(o,s,function($,_e){_.writeSplitVarint64($>>>0,_e>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitFixed64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitZigzagVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64String_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarintHash64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFloat(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeDouble(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBool(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeEnum(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedString=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeString(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBytes(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++){var $=this.beginDelimited_(i);s(o[_],this),this.endDelimited_($)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++)this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o[_],this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixedHash64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeVarintHash64(i,o[s])},jspb.BinaryWriter.prototype.writePackedInt32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitFixed64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitVarint64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=this.encoder_,_e=0;_e<o.length;_e++)jspb.utils.toZigzag64(s(o[_e]),_(o[_e]),function(tt,j){$.writeSplitVarint64(tt>>>0,j>>>0)});this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.Int64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[s]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeUint32(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeUint64(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++){var s=jspb.arith.UInt64.fromString(o[i]);this.encoder_.writeSplitFixed64(s.lo,s.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeInt32(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64String(o[i])},jspb.BinaryWriter.prototype.writePackedFloat=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeFloat(o[i])},jspb.BinaryWriter.prototype.writePackedDouble=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeDouble(o[i])},jspb.BinaryWriter.prototype.writePackedBool=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),i=0;i<o.length;i++)this.encoder_.writeBool(o[i])},jspb.BinaryWriter.prototype.writePackedEnum=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeEnum(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeFixedHash64(o[i])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeVarintHash64(o[s]);this.endDelimited_(i)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(6),__webpack_require__(5).Buffer)},function(i,o,s){const{AbortController:_,AbortSignal:$}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=_,i.exports.AbortSignal=$,i.exports.default=_},function(i,o){var s=function(_){function $(){this.fetch=!1,this.DOMException=_.DOMException}return $.prototype=_,new $}(typeof self<"u"?self:this);(function(_){(function($){var _e="URLSearchParams"in _,tt="Symbol"in _&&"iterator"in Symbol,j="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),nt="FormData"in _,st="ArrayBuffer"in _;if(st)var ht=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_t=ArrayBuffer.isView||function(It){return It&&ht.indexOf(Object.prototype.toString.call(It))>-1};function ft(It){if(typeof It!="string"&&(It=String(It)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(It))throw new TypeError("Invalid character in header field name");return It.toLowerCase()}function dt(It){return typeof It!="string"&&(It=String(It)),It}function ut(It){var Bt={next:function(){var Lt=It.shift();return{done:Lt===void 0,value:Lt}}};return tt&&(Bt[Symbol.iterator]=function(){return Bt}),Bt}function mt(It){this.map={},It instanceof mt?It.forEach(function(Bt,Lt){this.append(Lt,Bt)},this):Array.isArray(It)?It.forEach(function(Bt){this.append(Bt[0],Bt[1])},this):It&&Object.getOwnPropertyNames(It).forEach(function(Bt){this.append(Bt,It[Bt])},this)}function wt(It){if(It.bodyUsed)return Promise.reject(new TypeError("Already read"));It.bodyUsed=!0}function Qt(It){return new Promise(function(Bt,Lt){It.onload=function(){Bt(It.result)},It.onerror=function(){Lt(It.error)}})}function Dt(It){var Bt=new FileReader,Lt=Qt(Bt);return Bt.readAsArrayBuffer(It),Lt}function Et(It){if(It.slice)return It.slice(0);var Bt=new Uint8Array(It.byteLength);return Bt.set(new Uint8Array(It)),Bt.buffer}function xt(){return this.bodyUsed=!1,this._initBody=function(It){var Bt;this._bodyInit=It,It?typeof It=="string"?this._bodyText=It:j&&Blob.prototype.isPrototypeOf(It)?this._bodyBlob=It:nt&&FormData.prototype.isPrototypeOf(It)?this._bodyFormData=It:_e&&URLSearchParams.prototype.isPrototypeOf(It)?this._bodyText=It.toString():st&&j&&(Bt=It)&&DataView.prototype.isPrototypeOf(Bt)?(this._bodyArrayBuffer=Et(It.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):st&&(ArrayBuffer.prototype.isPrototypeOf(It)||_t(It))?this._bodyArrayBuffer=Et(It):this._bodyText=It=Object.prototype.toString.call(It):this._bodyText="",this.headers.get("content-type")||(typeof It=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_e&&URLSearchParams.prototype.isPrototypeOf(It)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j&&(this.blob=function(){var It=wt(this);if(It)return It;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Dt)}),this.text=function(){var It,Bt,Lt,Xt=wt(this);if(Xt)return Xt;if(this._bodyBlob)return It=this._bodyBlob,Bt=new FileReader,Lt=Qt(Bt),Bt.readAsText(It),Lt;if(this._bodyArrayBuffer)return Promise.resolve(function(zt){for(var Pt=new Uint8Array(zt),jt=new Array(Pt.length),Zt=0;Zt<Pt.length;Zt++)jt[Zt]=String.fromCharCode(Pt[Zt]);return jt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},nt&&(this.formData=function(){return this.text().then(nn)}),this.json=function(){return this.text().then(JSON.parse)},this}mt.prototype.append=function(It,Bt){It=ft(It),Bt=dt(Bt);var Lt=this.map[It];this.map[It]=Lt?Lt+", "+Bt:Bt},mt.prototype.delete=function(It){delete this.map[ft(It)]},mt.prototype.get=function(It){return It=ft(It),this.has(It)?this.map[It]:null},mt.prototype.has=function(It){return this.map.hasOwnProperty(ft(It))},mt.prototype.set=function(It,Bt){this.map[ft(It)]=dt(Bt)},mt.prototype.forEach=function(It,Bt){for(var Lt in this.map)this.map.hasOwnProperty(Lt)&&It.call(Bt,this.map[Lt],Lt,this)},mt.prototype.keys=function(){var It=[];return this.forEach(function(Bt,Lt){It.push(Lt)}),ut(It)},mt.prototype.values=function(){var It=[];return this.forEach(function(Bt){It.push(Bt)}),ut(It)},mt.prototype.entries=function(){var It=[];return this.forEach(function(Bt,Lt){It.push([Lt,Bt])}),ut(It)},tt&&(mt.prototype[Symbol.iterator]=mt.prototype.entries);var pt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Vt(It,Bt){var Lt,Xt,zt=(Bt=Bt||{}).body;if(It instanceof Vt){if(It.bodyUsed)throw new TypeError("Already read");this.url=It.url,this.credentials=It.credentials,Bt.headers||(this.headers=new mt(It.headers)),this.method=It.method,this.mode=It.mode,this.signal=It.signal,zt||It._bodyInit==null||(zt=It._bodyInit,It.bodyUsed=!0)}else this.url=String(It);if(this.credentials=Bt.credentials||this.credentials||"same-origin",!Bt.headers&&this.headers||(this.headers=new mt(Bt.headers)),this.method=(Lt=Bt.method||this.method||"GET",Xt=Lt.toUpperCase(),pt.indexOf(Xt)>-1?Xt:Lt),this.mode=Bt.mode||this.mode||null,this.signal=Bt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&zt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(zt)}function nn(It){var Bt=new FormData;return It.trim().split("&").forEach(function(Lt){if(Lt){var Xt=Lt.split("="),zt=Xt.shift().replace(/\+/g," "),Pt=Xt.join("=").replace(/\+/g," ");Bt.append(decodeURIComponent(zt),decodeURIComponent(Pt))}}),Bt}function on(It,Bt){Bt||(Bt={}),this.type="default",this.status=Bt.status===void 0?200:Bt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Bt?Bt.statusText:"OK",this.headers=new mt(Bt.headers),this.url=Bt.url||"",this._initBody(It)}Vt.prototype.clone=function(){return new Vt(this,{body:this._bodyInit})},xt.call(Vt.prototype),xt.call(on.prototype),on.prototype.clone=function(){return new on(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new mt(this.headers),url:this.url})},on.error=function(){var It=new on(null,{status:0,statusText:""});return It.type="error",It};var bt=[301,302,303,307,308];on.redirect=function(It,Bt){if(bt.indexOf(Bt)===-1)throw new RangeError("Invalid status code");return new on(null,{status:Bt,headers:{location:It}})},$.DOMException=_.DOMException;try{new $.DOMException}catch{$.DOMException=function(Bt,Lt){this.message=Bt,this.name=Lt;var Xt=Error(Bt);this.stack=Xt.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function St(It,Bt){return new Promise(function(Lt,Xt){var zt=new Vt(It,Bt);if(zt.signal&&zt.signal.aborted)return Xt(new $.DOMException("Aborted","AbortError"));var Pt=new XMLHttpRequest;function jt(){Pt.abort()}Pt.onload=function(){var Zt,Ct,Ft={status:Pt.status,statusText:Pt.statusText,headers:(Zt=Pt.getAllResponseHeaders()||"",Ct=new mt,Zt.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(tn){var mn=tn.split(":"),yn=mn.shift().trim();if(yn){var vn=mn.join(":").trim();Ct.append(yn,vn)}}),Ct)};Ft.url="responseURL"in Pt?Pt.responseURL:Ft.headers.get("X-Request-URL");var Ht="response"in Pt?Pt.response:Pt.responseText;Lt(new on(Ht,Ft))},Pt.onerror=function(){Xt(new TypeError("Network request failed"))},Pt.ontimeout=function(){Xt(new TypeError("Network request failed"))},Pt.onabort=function(){Xt(new $.DOMException("Aborted","AbortError"))},Pt.open(zt.method,zt.url,!0),zt.credentials==="include"?Pt.withCredentials=!0:zt.credentials==="omit"&&(Pt.withCredentials=!1),"responseType"in Pt&&j&&(Pt.responseType="blob"),zt.headers.forEach(function(Zt,Ct){Pt.setRequestHeader(Ct,Zt)}),zt.signal&&(zt.signal.addEventListener("abort",jt),Pt.onreadystatechange=function(){Pt.readyState===4&&zt.signal.removeEventListener("abort",jt)}),Pt.send(zt._bodyInit===void 0?null:zt._bodyInit)})}St.polyfill=!0,_.fetch||(_.fetch=St,_.Headers=mt,_.Request=Vt,_.Response=on),$.Headers=mt,$.Request=Vt,$.Response=on,$.fetch=St})({})})(s),delete s.fetch.polyfill,(o=s.fetch).default=s.fetch,o.fetch=s.fetch,o.Headers=s.Headers,o.Request=s.Request,o.Response=s.Response,i.exports=o},function(i,o,s){(function(_){const $=s(211),_e=s(52),tt=(j,nt,st)=>({from:tt,EnvVarError:s(52),get:function(ht){if(!ht)return j;if(arguments.length>1)throw new _e("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return $(j,ht,nt||{},st||function(){})},accessors:s(94),logger:s(225)(console.log,j.NODE_ENV)});i.exports=tt(_.env)}).call(this,s(2))},function(i,o,s){var _=s(13),$=s(73),_e=s(3).LEVEL,tt=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(st){j.levels=st.levels,j.parent=st}),this.once("unpipe",function(st){st===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(tt,$),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);var ht=this.level||this.parent&&this.parent.level;if(!ht||this.levels[ht]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,st);var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(st(),_t)throw _t;return}return this.log(ft,st)}return st(null)},tt.prototype._writev=function(j,nt){if(this.logv){var st=j.filter(this._accept,this);return st.length?this.logv(st,nt):nt(null)}for(var ht=0;ht<j.length;ht++)if(this._accept(j[ht]))if(!j[ht].chunk||this.format){var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j[ht].chunk),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(j[ht].callback(),_t)throw nt(null),_t}else this.log(ft,j[ht].callback)}else this.log(j[ht].chunk,j[ht].callback);return nt(null)},tt.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var st=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&st&&!(this.levels[st]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},tt.prototype._nop=function(){}},function(i,o,s){(function(_){const $=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,_e=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new nt}abort(){this.signal.dispatchEvent("abort")}},tt=typeof AbortSignal=="function",j=typeof _e.AbortSignal=="function",nt=tt?AbortSignal:j?_e.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(xt){if(xt==="abort"){this.aborted=!0;const pt={type:xt,target:this};this.onabort(pt),this._listeners.forEach(Vt=>Vt(pt),this)}}onabort(){}addEventListener(xt,pt){xt==="abort"&&this._listeners.push(pt)}removeEventListener(xt,pt){xt==="abort"&&(this._listeners=this._listeners.filter(Vt=>Vt!==pt))}},st=new Set,ht=(xt,pt)=>{const Vt=`LRU_CACHE_OPTION_${xt}`;dt(Vt)&&ut(Vt,`${xt} option`,`options.${pt}`,Et)},_t=(xt,pt)=>{const Vt=`LRU_CACHE_METHOD_${xt}`;if(dt(Vt)){const{prototype:nn}=Et,{get:on}=Object.getOwnPropertyDescriptor(nn,xt);ut(Vt,`${xt} method`,`cache.${pt}()`,on)}},ft=(...xt)=>{typeof _=="object"&&_&&typeof _.emitWarning=="function"?_.emitWarning(...xt):console.error(...xt)},dt=xt=>!st.has(xt),ut=(xt,pt,Vt,nn)=>{st.add(xt),ft(`The ${pt} is deprecated. Please use ${Vt} instead.`,"DeprecationWarning",xt,nn)},mt=xt=>xt&&xt===Math.floor(xt)&&xt>0&&isFinite(xt),wt=xt=>mt(xt)?xt<=Math.pow(2,8)?Uint8Array:xt<=Math.pow(2,16)?Uint16Array:xt<=Math.pow(2,32)?Uint32Array:xt<=Number.MAX_SAFE_INTEGER?Qt:null:null;class Qt extends Array{constructor(pt){super(pt),this.fill(0)}}class Dt{constructor(pt){if(pt===0)return[];const Vt=wt(pt);this.heap=new Vt(pt),this.length=0}push(pt){this.heap[this.length++]=pt}pop(){return this.heap[--this.length]}}class Et{constructor(pt={}){const{max:Vt=0,ttl:nn,ttlResolution:on=1,ttlAutopurge:bt,updateAgeOnGet:St,updateAgeOnHas:It,allowStale:Bt,dispose:Lt,disposeAfter:Xt,noDisposeOnSet:zt,noUpdateTTL:Pt,maxSize:jt=0,maxEntrySize:Zt=0,sizeCalculation:Ct,fetchMethod:Ft,fetchContext:Ht,noDeleteOnFetchRejection:tn,noDeleteOnStaleGet:mn}=pt,{length:yn,maxAge:vn,stale:un}=pt instanceof Et?{}:pt;if(Vt!==0&&!mt(Vt))throw new TypeError("max option must be a nonnegative integer");const rn=Vt?wt(Vt):Array;if(!rn)throw new Error("invalid max value: "+Vt);if(this.max=Vt,this.maxSize=jt,this.maxEntrySize=Zt||this.maxSize,this.sizeCalculation=Ct||yn,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Ft||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=Ht,!this.fetchMethod&&Ht!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Vt).fill(null),this.valList=new Array(Vt).fill(null),this.next=new rn(Vt),this.prev=new rn(Vt),this.head=0,this.tail=0,this.free=new Dt(Vt),this.initialFill=1,this.size=0,typeof Lt=="function"&&(this.dispose=Lt),typeof Xt=="function"?(this.disposeAfter=Xt,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!zt,this.noUpdateTTL=!!Pt,this.noDeleteOnFetchRejection=!!tn,this.maxEntrySize!==0){if(this.maxSize!==0&&!mt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!mt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Bt||!!un,this.noDeleteOnStaleGet=!!mn,this.updateAgeOnGet=!!St,this.updateAgeOnHas=!!It,this.ttlResolution=mt(on)||on===0?on:1,this.ttlAutopurge=!!bt,this.ttl=nn||vn||0,this.ttl){if(!mt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const At="LRU_CACHE_UNBOUNDED";dt(At)&&(st.add(At),ft("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",At,Et))}un&&ht("stale","allowStale"),vn&&ht("maxAge","ttl"),yn&&ht("length","sizeCalculation")}getRemainingTTL(pt){return this.has(pt,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Qt(this.max),this.starts=new Qt(this.max),this.setItemTTL=(nn,on,bt=$.now())=>{if(this.starts[nn]=on!==0?bt:0,this.ttls[nn]=on,on!==0&&this.ttlAutopurge){const St=setTimeout(()=>{this.isStale(nn)&&this.delete(this.keyList[nn])},on+1);St.unref&&St.unref()}},this.updateItemAge=nn=>{this.starts[nn]=this.ttls[nn]!==0?$.now():0};let pt=0;const Vt=()=>{const nn=$.now();if(this.ttlResolution>0){pt=nn;const on=setTimeout(()=>pt=0,this.ttlResolution);on.unref&&on.unref()}return nn};this.getRemainingTTL=nn=>{const on=this.keyMap.get(nn);return on===void 0?0:this.ttls[on]===0||this.starts[on]===0?1/0:this.starts[on]+this.ttls[on]-(pt||Vt())},this.isStale=nn=>this.ttls[nn]!==0&&this.starts[nn]!==0&&(pt||Vt())-this.starts[nn]>this.ttls[nn]}updateItemAge(pt){}setItemTTL(pt,Vt,nn){}isStale(pt){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Qt(this.max),this.removeItemSize=pt=>{this.calculatedSize-=this.sizes[pt],this.sizes[pt]=0},this.requireSize=(pt,Vt,nn,on)=>{if(!mt(nn)){if(!on)throw new TypeError("invalid size value (must be positive integer)");if(typeof on!="function")throw new TypeError("sizeCalculation must be a function");if(nn=on(Vt,pt),!mt(nn))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return nn},this.addItemSize=(pt,Vt)=>{this.sizes[pt]=Vt;const nn=this.maxSize-this.sizes[pt];for(;this.calculatedSize>nn;)this.evict(!0);this.calculatedSize+=this.sizes[pt]}}removeItemSize(pt){}addItemSize(pt,Vt){}requireSize(pt,Vt,nn,on){if(nn||on)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:pt=this.allowStale}={}){if(this.size)for(let Vt=this.tail;this.isValidIndex(Vt)&&(!pt&&this.isStale(Vt)||(yield Vt),Vt!==this.head);)Vt=this.prev[Vt]}*rindexes({allowStale:pt=this.allowStale}={}){if(this.size)for(let Vt=this.head;this.isValidIndex(Vt)&&(!pt&&this.isStale(Vt)||(yield Vt),Vt!==this.tail);)Vt=this.next[Vt]}isValidIndex(pt){return this.keyMap.get(this.keyList[pt])===pt}*entries(){for(const pt of this.indexes())yield[this.keyList[pt],this.valList[pt]]}*rentries(){for(const pt of this.rindexes())yield[this.keyList[pt],this.valList[pt]]}*keys(){for(const pt of this.indexes())yield this.keyList[pt]}*rkeys(){for(const pt of this.rindexes())yield this.keyList[pt]}*values(){for(const pt of this.indexes())yield this.valList[pt]}*rvalues(){for(const pt of this.rindexes())yield this.valList[pt]}[Symbol.iterator](){return this.entries()}find(pt,Vt={}){for(const nn of this.indexes())if(pt(this.valList[nn],this.keyList[nn],this))return this.get(this.keyList[nn],Vt)}forEach(pt,Vt=this){for(const nn of this.indexes())pt.call(Vt,this.valList[nn],this.keyList[nn],this)}rforEach(pt,Vt=this){for(const nn of this.rindexes())pt.call(Vt,this.valList[nn],this.keyList[nn],this)}get prune(){return _t("prune","purgeStale"),this.purgeStale}purgeStale(){let pt=!1;for(const Vt of this.rindexes({allowStale:!0}))this.isStale(Vt)&&(this.delete(this.keyList[Vt]),pt=!0);return pt}dump(){const pt=[];for(const Vt of this.indexes({allowStale:!0})){const nn=this.keyList[Vt],on=this.valList[Vt],bt={value:this.isBackgroundFetch(on)?on.__staleWhileFetching:on};if(this.ttls){bt.ttl=this.ttls[Vt];const St=$.now()-this.starts[Vt];bt.start=Math.floor(Date.now()-St)}this.sizes&&(bt.size=this.sizes[Vt]),pt.unshift([nn,bt])}return pt}load(pt){this.clear();for(const[Vt,nn]of pt){if(nn.start){const on=Date.now()-nn.start;nn.start=$.now()-on}this.set(Vt,nn.value,nn)}}dispose(pt,Vt,nn){}set(pt,Vt,{ttl:nn=this.ttl,start:on,noDisposeOnSet:bt=this.noDisposeOnSet,size:St=0,sizeCalculation:It=this.sizeCalculation,noUpdateTTL:Bt=this.noUpdateTTL}={}){if(St=this.requireSize(pt,Vt,St,It),this.maxEntrySize&&St>this.maxEntrySize)return this;let Lt=this.size===0?void 0:this.keyMap.get(pt);if(Lt===void 0)Lt=this.newIndex(),this.keyList[Lt]=pt,this.valList[Lt]=Vt,this.keyMap.set(pt,Lt),this.next[this.tail]=Lt,this.prev[Lt]=this.tail,this.tail=Lt,this.size++,this.addItemSize(Lt,St),Bt=!1;else{const Xt=this.valList[Lt];Vt!==Xt&&(this.isBackgroundFetch(Xt)?Xt.__abortController.abort():bt||(this.dispose(Xt,pt,"set"),this.disposeAfter&&this.disposed.push([Xt,pt,"set"])),this.removeItemSize(Lt),this.valList[Lt]=Vt,this.addItemSize(Lt,St)),this.moveToTail(Lt)}if(nn===0||this.ttl!==0||this.ttls||this.initializeTTLTracking(),Bt||this.setItemTTL(Lt,nn,on),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const pt=this.valList[this.head];return this.evict(!0),pt}}evict(pt){const Vt=this.head,nn=this.keyList[Vt],on=this.valList[Vt];return this.isBackgroundFetch(on)?on.__abortController.abort():(this.dispose(on,nn,"evict"),this.disposeAfter&&this.disposed.push([on,nn,"evict"])),this.removeItemSize(Vt),pt&&(this.keyList[Vt]=null,this.valList[Vt]=null,this.free.push(Vt)),this.head=this.next[Vt],this.keyMap.delete(nn),this.size--,Vt}has(pt,{updateAgeOnHas:Vt=this.updateAgeOnHas}={}){const nn=this.keyMap.get(pt);return nn!==void 0&&!this.isStale(nn)&&(Vt&&this.updateItemAge(nn),!0)}peek(pt,{allowStale:Vt=this.allowStale}={}){const nn=this.keyMap.get(pt);if(nn!==void 0&&(Vt||!this.isStale(nn))){const on=this.valList[nn];return this.isBackgroundFetch(on)?on.__staleWhileFetching:on}}backgroundFetch(pt,Vt,nn,on){const bt=Vt===void 0?void 0:this.valList[Vt];if(this.isBackgroundFetch(bt))return bt;const St=new _e,It={signal:St.signal,options:nn,context:on},Bt=new Promise(Lt=>Lt(this.fetchMethod(pt,bt,It))).then(Lt=>(St.signal.aborted||this.set(pt,Lt,It.options),Lt),Lt=>{if(this.valList[Vt]===Bt&&(!nn.noDeleteOnFetchRejection||Bt.__staleWhileFetching===void 0?this.delete(pt):this.valList[Vt]=Bt.__staleWhileFetching),Bt.__returned===Bt)throw Lt});return Bt.__abortController=St,Bt.__staleWhileFetching=bt,Bt.__returned=null,Vt===void 0?(this.set(pt,Bt,It.options),Vt=this.keyMap.get(pt)):this.valList[Vt]=Bt,Bt}isBackgroundFetch(pt){return pt&&typeof pt=="object"&&typeof pt.then=="function"&&Object.prototype.hasOwnProperty.call(pt,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(pt,"__returned")&&(pt.__returned===pt||pt.__returned===null)}async fetch(pt,{allowStale:Vt=this.allowStale,updateAgeOnGet:nn=this.updateAgeOnGet,noDeleteOnStaleGet:on=this.noDeleteOnStaleGet,ttl:bt=this.ttl,noDisposeOnSet:St=this.noDisposeOnSet,size:It=0,sizeCalculation:Bt=this.sizeCalculation,noUpdateTTL:Lt=this.noUpdateTTL,noDeleteOnFetchRejection:Xt=this.noDeleteOnFetchRejection,fetchContext:zt=this.fetchContext,forceRefresh:Pt=!1}={}){if(!this.fetchMethod)return this.get(pt,{allowStale:Vt,updateAgeOnGet:nn,noDeleteOnStaleGet:on});const jt={allowStale:Vt,updateAgeOnGet:nn,noDeleteOnStaleGet:on,ttl:bt,noDisposeOnSet:St,size:It,sizeCalculation:Bt,noUpdateTTL:Lt,noDeleteOnFetchRejection:Xt};let Zt=this.keyMap.get(pt);if(Zt===void 0){const Ct=this.backgroundFetch(pt,Zt,jt,zt);return Ct.__returned=Ct}{const Ct=this.valList[Zt];if(this.isBackgroundFetch(Ct))return Vt&&Ct.__staleWhileFetching!==void 0?Ct.__staleWhileFetching:Ct.__returned=Ct;if(!Pt&&!this.isStale(Zt))return this.moveToTail(Zt),nn&&this.updateItemAge(Zt),Ct;const Ft=this.backgroundFetch(pt,Zt,jt,zt);return Vt&&Ft.__staleWhileFetching!==void 0?Ft.__staleWhileFetching:Ft.__returned=Ft}}get(pt,{allowStale:Vt=this.allowStale,updateAgeOnGet:nn=this.updateAgeOnGet,noDeleteOnStaleGet:on=this.noDeleteOnStaleGet}={}){const bt=this.keyMap.get(pt);if(bt!==void 0){const St=this.valList[bt],It=this.isBackgroundFetch(St);return this.isStale(bt)?It?Vt?St.__staleWhileFetching:void 0:(on||this.delete(pt),Vt?St:void 0):It?void 0:(this.moveToTail(bt),nn&&this.updateItemAge(bt),St)}}connect(pt,Vt){this.prev[Vt]=pt,this.next[pt]=Vt}moveToTail(pt){pt!==this.tail&&(pt===this.head?this.head=this.next[pt]:this.connect(this.prev[pt],this.next[pt]),this.connect(this.tail,pt),this.tail=pt)}get del(){return _t("del","delete"),this.delete}delete(pt){let Vt=!1;if(this.size!==0){const nn=this.keyMap.get(pt);if(nn!==void 0)if(Vt=!0,this.size===1)this.clear();else{this.removeItemSize(nn);const on=this.valList[nn];this.isBackgroundFetch(on)?on.__abortController.abort():(this.dispose(on,pt,"delete"),this.disposeAfter&&this.disposed.push([on,pt,"delete"])),this.keyMap.delete(pt),this.keyList[nn]=null,this.valList[nn]=null,nn===this.tail?this.tail=this.prev[nn]:nn===this.head?this.head=this.next[nn]:(this.next[this.prev[nn]]=this.next[nn],this.prev[this.next[nn]]=this.prev[nn]),this.size--,this.free.push(nn)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Vt}clear(){for(const pt of this.rindexes({allowStale:!0})){const Vt=this.valList[pt];if(this.isBackgroundFetch(Vt))Vt.__abortController.abort();else{const nn=this.keyList[pt];this.dispose(Vt,nn,"delete"),this.disposeAfter&&this.disposed.push([Vt,nn,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return _t("reset","clear"),this.clear}get length(){return((pt,Vt)=>{const nn=`LRU_CACHE_PROPERTY_${pt}`;if(dt(nn)){const{prototype:on}=Et,{get:bt}=Object.getOwnPropertyDescriptor(on,pt);ut(nn,`${pt} property`,`cache.${Vt}`,bt)}})("length","size"),this.size}static get AbortController(){return _e}static get AbortSignal(){return nt}}i.exports=Et}).call(this,s(2))},function(i,o,s){var _=s(41).Colorizer;i.exports=function($){return _.addColors($.colors||$),$}},function(i,o,s){var _={};i.exports=_,_.themes={};var $=s(13),_e=_.styles=s(109),tt=Object.defineProperties,j=new RegExp(/[\r\n]+/g);_.supportsColor=s(110).supportsColor,_.enabled===void 0&&(_.enabled=_.supportsColor()!==!1),_.enable=function(){_.enabled=!0},_.disable=function(){_.enabled=!1},_.stripColors=_.strip=function(wt){return(""+wt).replace(/\x1B\[\d+m/g,"")},_.stylize=function(wt,Qt){return _.enabled?_e[Qt].open+wt+_e[Qt].close:wt+""};var nt=/[|\\{}()[\]^$+*?.]/g;function st(wt){var Qt=function Dt(){return dt.apply(Dt,arguments)};return Qt._styles=wt,Qt.__proto__=ft,Qt}var ht,_t=(ht={},_e.grey=_e.gray,Object.keys(_e).forEach(function(wt){_e[wt].closeRe=new RegExp(function(Qt){if(typeof Qt!="string")throw new TypeError("Expected a string");return Qt.replace(nt,"\\$&")}(_e[wt].close),"g"),ht[wt]={get:function(){return st(this._styles.concat(wt))}}}),ht),ft=tt(function(){},_t);function dt(){var wt=Array.prototype.slice.call(arguments),Qt=wt.map(function(Vt){return Vt!==void 0&&Vt.constructor===String?Vt:$.inspect(Vt)}).join(" ");if(!_.enabled||!Qt)return Qt;for(var Dt=Qt.indexOf(`
`)!=-1,Et=this._styles,xt=Et.length;xt--;){var pt=_e[Et[xt]];Qt=pt.open+Qt.replace(pt.closeRe,pt.open)+pt.close,Dt&&(Qt=Qt.replace(j,function(Vt){return pt.close+Vt+pt.open}))}return Qt}_.setTheme=function(wt){if(typeof wt!="string")for(var Qt in wt)(function(Dt){_[Dt]=function(Et){if(typeof wt[Dt]=="object"){var xt=Et;for(var pt in wt[Dt])xt=_[wt[Dt][pt]](xt);return xt}return _[wt[Dt]](Et)}})(Qt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ut=function(wt,Qt){var Dt=Qt.split("");return(Dt=Dt.map(wt)).join("")};for(var mt in _.trap=s(112),_.zalgo=s(113),_.maps={},_.maps.america=s(114)(_),_.maps.zebra=s(115)(_),_.maps.rainbow=s(116)(_),_.maps.random=s(117)(_),_.maps)(function(wt){_[wt]=function(Qt){return ut(_.maps[wt],Qt)}})(mt);tt(_,function(){var wt={};return Object.keys(_t).forEach(function(Qt){wt[Qt]={get:function(){return st([Qt])}}}),wt}())},function(i,o){i.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(s,_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}},function(i,o){var s={};i.exports=s;var _={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(_).forEach(function($){var _e=_[$],tt=s[$]=[];tt.open="\x1B["+_e[0]+"m",tt.close="\x1B["+_e[1]+"m"})},function(i,o,s){(function(_){var $=s(18),_e=s(111),tt=_.env,j=void 0;function nt(st){return function(ht){return ht!==0&&{level:ht,hasBasic:!0,has256:ht>=2,has16m:ht>=3}}(function(ht){if(j===!1)return 0;if(_e("color=16m")||_e("color=full")||_e("color=truecolor"))return 3;if(_e("color=256"))return 2;if(ht&&!ht.isTTY&&j!==!0)return 0;var _t=j?1:0;if(_.platform==="win32"){var ft=$.release().split(".");return Number(_.versions.node.split(".")[0])>=8&&Number(ft[0])>=10&&Number(ft[2])>=10586?Number(ft[2])>=14931?3:2:1}return"CI"in tt?["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(dt){return dt in tt})||tt.CI_NAME==="codeship"?1:_t:"TEAMCITY_VERSION"in tt?/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(tt.TEAMCITY_VERSION)?1:0:"TERM_PROGRAM"in tt?(parseInt("445".split(".")[0],10),2):/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in tt?1:_t}(st))}_e("no-color")||_e("no-colors")||_e("color=false")?j=!1:(_e("color")||_e("colors")||_e("color=true")||_e("color=always"))&&(j=!0),"FORCE_COLOR"in tt&&(j=tt.FORCE_COLOR.length===0||parseInt(tt.FORCE_COLOR,10)!==0),i.exports={supportsColor:nt,stdout:nt(_.stdout),stderr:nt(_.stderr)}}).call(this,s(2))},function(i,o,s){(function(_){i.exports=function($,_e){var tt=(_e=_e||_.argv).indexOf("--"),j=/^-{1,2}/.test($)?"":"--",nt=_e.indexOf(j+$);return nt!==-1&&(tt===-1||nt<tt)}}).call(this,s(2))},function(i,o){i.exports=function(s,_){var $="";s=(s=s||"Run the trap, drop the bass").split("");var _e={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return s.forEach(function(tt){tt=tt.toLowerCase();var j=_e[tt]||[" "],nt=Math.floor(Math.random()*j.length);$+=_e[tt]!==void 0?_e[tt][nt]:tt}),$}},function(i,o){i.exports=function(s,_){s=s||"   he is here   ";var $={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},_e=[].concat($.up,$.down,$.mid);function tt(nt){return Math.floor(Math.random()*nt)}function j(nt){var st=!1;return _e.filter(function(ht){st=ht===nt}),st}return function(nt,st){var ht,_t,ft="";for(_t in(st=st||{}).up=st.up===void 0||st.up,st.mid=st.mid===void 0||st.mid,st.down=st.down===void 0||st.down,st.size=st.size!==void 0?st.size:"maxi",nt=nt.split(""))if(!j(_t)){switch(ft+=nt[_t],ht={up:0,down:0,mid:0},st.size){case"mini":ht.up=tt(8),ht.mid=tt(2),ht.down=tt(8);break;case"maxi":ht.up=tt(16)+3,ht.mid=tt(4)+1,ht.down=tt(64)+3;break;default:ht.up=tt(8)+1,ht.mid=tt(6)/2,ht.down=tt(8)+1}var dt=["up","mid","down"];for(var ut in dt)for(var mt=dt[ut],wt=0;wt<=ht[mt];wt++)st[mt]&&(ft+=$[mt][tt($[mt].length)])}return ft}(s,_)}},function(i,o){i.exports=function(s){return function(_,$,_e){if(_===" ")return _;switch($%3){case 0:return s.red(_);case 1:return s.white(_);case 2:return s.blue(_)}}}},function(i,o){i.exports=function(s){return function(_,$,_e){return $%2==0?_:s.inverse(_)}}},function(i,o){i.exports=function(s){var _=["red","yellow","green","blue","magenta"];return function($,_e,tt){return $===" "?$:s[_[_e++%_.length]]($)}}},function(i,o){i.exports=function(s){var _=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function($,_e,tt){return $===" "?$:s[_[Math.round(Math.random()*(_.length-2))]]($)}}},function(i,o,s){Object.defineProperty(o,"cli",{value:s(119)}),Object.defineProperty(o,"npm",{value:s(120)}),Object.defineProperty(o,"syslog",{value:s(121)})},function(i,o,s){o.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},o.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(i,o,s){o.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},o.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(i,o,s){o.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},o.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(i,o,s){var _=s(12);i.exports=_(function($){return $.message="	".concat($.message),$})},function(i,o,s){function _(_t,ft){if(!(_t instanceof ft))throw new TypeError("Cannot call a class as a function")}function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(41).Colorizer,tt=s(60).Padder,j=s(3),nt=j.configs,st=j.MESSAGE,ht=function(){function _t(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,_t),ut.levels||(ut.levels=nt.npm.levels),this.colorizer=new _e(ut),this.padder=new tt(ut),this.options=ut}var ft,dt;return ft=_t,(dt=[{key:"transform",value:function(ut,mt){return this.colorizer.transform(this.padder.transform(ut,mt),mt),ut[st]="".concat(ut.level,":").concat(ut.message),ut}}])&&$(ft.prototype,dt),_t}();i.exports=function(_t){return new ht(_t)},i.exports.Format=ht},function(i,o,s){var _=s(12);function $(tt){if(tt.every(_e))return function(j){for(var nt=j,st=0;st<tt.length;st++)if(!(nt=tt[st].transform(nt,tt[st].options)))return!1;return nt}}function _e(tt){if(typeof tt.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}i.exports=function(){for(var tt=arguments.length,j=new Array(tt),nt=0;nt<tt;nt++)j[nt]=arguments[nt];var st=_($(j)),ht=st();return ht.Format=st.Format,ht},i.exports.cascade=$},function(i,o,s){(function(_){var $=s(12),_e=s(3).MESSAGE,tt=s(35);function j(nt,st){return st instanceof _?st.toString("base64"):typeof st=="bigint"?st.toString():st}i.exports=$(function(nt){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return nt[_e]=(st.stable?tt.stableStringify:tt)(nt,st.replacer||j,st.space),nt})}).call(this,s(5).Buffer)},function(i,o,s){o.byteLength=function(_t){var ft=st(_t),dt=ft[0],ut=ft[1];return 3*(dt+ut)/4-ut},o.toByteArray=function(_t){for(var ft,dt=st(_t),ut=dt[0],mt=dt[1],wt=new _e(function(xt,pt,Vt){return 3*(pt+Vt)/4-Vt}(0,ut,mt)),Qt=0,Dt=mt>0?ut-4:ut,Et=0;Et<Dt;Et+=4)ft=$[_t.charCodeAt(Et)]<<18|$[_t.charCodeAt(Et+1)]<<12|$[_t.charCodeAt(Et+2)]<<6|$[_t.charCodeAt(Et+3)],wt[Qt++]=ft>>16&255,wt[Qt++]=ft>>8&255,wt[Qt++]=255&ft;return mt===2&&(ft=$[_t.charCodeAt(Et)]<<2|$[_t.charCodeAt(Et+1)]>>4,wt[Qt++]=255&ft),mt===1&&(ft=$[_t.charCodeAt(Et)]<<10|$[_t.charCodeAt(Et+1)]<<4|$[_t.charCodeAt(Et+2)]>>2,wt[Qt++]=ft>>8&255,wt[Qt++]=255&ft),wt},o.fromByteArray=function(_t){for(var ft,dt=_t.length,ut=dt%3,mt=[],wt=0,Qt=dt-ut;wt<Qt;wt+=16383)mt.push(ht(_t,wt,wt+16383>Qt?Qt:wt+16383));return ut===1?(ft=_t[dt-1],mt.push(_[ft>>2]+_[ft<<4&63]+"==")):ut===2&&(ft=(_t[dt-2]<<8)+_t[dt-1],mt.push(_[ft>>10]+_[ft>>4&63]+_[ft<<2&63]+"=")),mt.join("")};for(var _=[],$=[],_e=typeof Uint8Array<"u"?Uint8Array:Array,tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,nt=tt.length;j<nt;++j)_[j]=tt[j],$[tt.charCodeAt(j)]=j;function st(_t){var ft=_t.length;if(ft%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var dt=_t.indexOf("=");return dt===-1&&(dt=ft),[dt,dt===ft?0:4-dt%4]}function ht(_t,ft,dt){for(var ut,mt,wt=[],Qt=ft;Qt<dt;Qt+=3)ut=(_t[Qt]<<16&16711680)+(_t[Qt+1]<<8&65280)+(255&_t[Qt+2]),wt.push(_[(mt=ut)>>18&63]+_[mt>>12&63]+_[mt>>6&63]+_[63&mt]);return wt.join("")}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63},function(i,o){o.read=function(s,_,$,_e,tt){var j,nt,st=8*tt-_e-1,ht=(1<<st)-1,_t=ht>>1,ft=-7,dt=$?tt-1:0,ut=$?-1:1,mt=s[_+dt];for(dt+=ut,j=mt&(1<<-ft)-1,mt>>=-ft,ft+=st;ft>0;j=256*j+s[_+dt],dt+=ut,ft-=8);for(nt=j&(1<<-ft)-1,j>>=-ft,ft+=_e;ft>0;nt=256*nt+s[_+dt],dt+=ut,ft-=8);if(j===0)j=1-_t;else{if(j===ht)return nt?NaN:1/0*(mt?-1:1);nt+=Math.pow(2,_e),j-=_t}return(mt?-1:1)*nt*Math.pow(2,j-_e)},o.write=function(s,_,$,_e,tt,j){var nt,st,ht,_t=8*j-tt-1,ft=(1<<_t)-1,dt=ft>>1,ut=tt===23?Math.pow(2,-24)-Math.pow(2,-77):0,mt=_e?0:j-1,wt=_e?1:-1,Qt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(st=isNaN(_)?1:0,nt=ft):(nt=Math.floor(Math.log(_)/Math.LN2),_*(ht=Math.pow(2,-nt))<1&&(nt--,ht*=2),(_+=nt+dt>=1?ut/ht:ut*Math.pow(2,1-dt))*ht>=2&&(nt++,ht/=2),nt+dt>=ft?(st=0,nt=ft):nt+dt>=1?(st=(_*ht-1)*Math.pow(2,tt),nt+=dt):(st=_*Math.pow(2,dt-1)*Math.pow(2,tt),nt=0));tt>=8;s[$+mt]=255&st,mt+=wt,st/=256,tt-=8);for(nt=nt<<tt|st,_t+=tt;_t>0;s[$+mt]=255&nt,mt+=wt,nt/=256,_t-=8);s[$+mt-wt]|=128*Qt}},function(i,o,s){var _=s(12);i.exports=_(function($,_e){return _e.message?($.message="[".concat(_e.label,"] ").concat($.message),$):($.label=_e.label,$)})},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(tt){var j={};return tt.message&&(j["@message"]=tt.message,delete tt.message),tt.timestamp&&(j["@timestamp"]=tt.timestamp,delete tt.timestamp),j["@fields"]=tt,tt[$]=_e(j),tt})},function(i,o,s){var _=s(12);function $(tt,j,nt){var st,ht,_t,ft=j.reduce(function(ut,mt){return ut[mt]=tt[mt],delete tt[mt],ut},{}),dt=Object.keys(tt).reduce(function(ut,mt){return ut[mt]=tt[mt],delete tt[mt],ut},{});return Object.assign(tt,ft,(_t=dt,(ht=nt)in(st={})?Object.defineProperty(st,ht,{value:_t,enumerable:!0,configurable:!0,writable:!0}):st[ht]=_t,st)),tt}function _e(tt,j,nt){return tt[nt]=j.reduce(function(st,ht){return st[ht]=tt[ht],delete tt[ht],st},{}),tt}i.exports=_(function(tt){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt="metadata";j.key&&(nt=j.key);var st=[];return j.fillExcept||j.fillWith||(st.push("level"),st.push("message")),j.fillExcept&&(st=j.fillExcept),st.length>0?$(tt,st,nt):j.fillWith?_e(tt,j.fillWith,nt):tt})},function(i,o,s){var _=s(13).inspect,$=s(12),_e=s(3),tt=_e.LEVEL,j=_e.MESSAGE,nt=_e.SPLAT;i.exports=$(function(st){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_t=Object.assign({},st);return delete _t[tt],delete _t[j],delete _t[nt],st[j]=_(_t,!1,ht.depth||null,ht.colorize),st})},function(i,o,s){function _(tt,j){for(var nt=0;nt<j.length;nt++){var st=j[nt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(tt,st.key,st)}}var $=s(3).MESSAGE,_e=function(){function tt(st){(function(ht,_t){if(!(ht instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,tt),this.template=st}var j,nt;return j=tt,(nt=[{key:"transform",value:function(st){return st[$]=this.template(st),st}}])&&_(j.prototype,nt),tt}();i.exports=function(tt){return new _e(tt)},i.exports.Printf=i.exports.Format=_e},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(tt){var j=_e(Object.assign({},tt,{level:void 0,message:void 0,splat:void 0})),nt=tt.padding&&tt.padding[tt.level]||"";return tt[$]=j!=="{}"?"".concat(tt.level,":").concat(nt," ").concat(tt.message," ").concat(j):"".concat(tt.level,":").concat(nt," ").concat(tt.message),tt})},function(i,o,s){function _(_t){return function(ft){if(Array.isArray(ft))return $(ft)}(_t)||function(ft){if(typeof Symbol<"u"&&Symbol.iterator in Object(ft))return Array.from(ft)}(_t)||function(ft,dt){if(ft){if(typeof ft=="string")return $(ft,dt);var ut=Object.prototype.toString.call(ft).slice(8,-1);if(ut==="Object"&&ft.constructor&&(ut=ft.constructor.name),ut==="Map"||ut==="Set")return Array.from(ft);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return $(ft,dt)}}(_t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(_t,ft){(ft==null||ft>_t.length)&&(ft=_t.length);for(var dt=0,ut=new Array(ft);dt<ft;dt++)ut[dt]=_t[dt];return ut}function _e(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var tt=s(13),j=s(3).SPLAT,nt=/%[scdjifoO%]/g,st=/%%/g,ht=function(){function _t(ut){(function(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.options=ut}var ft,dt;return ft=_t,(dt=[{key:"_splat",value:function(ut,mt){var wt=ut.message,Qt=ut[j]||ut.splat||[],Dt=wt.match(st),Et=Dt&&Dt.length||0,xt=mt.length-Et-Qt.length,pt=xt<0?Qt.splice(xt,-1*xt):[],Vt=pt.length;if(Vt)for(var nn=0;nn<Vt;nn++)Object.assign(ut,pt[nn]);return ut.message=tt.format.apply(tt,[wt].concat(_(Qt))),ut}},{key:"transform",value:function(ut){var mt=ut.message,wt=ut[j]||ut.splat;if(!wt||!wt.length)return ut;var Qt=mt&&mt.match&&mt.match(nt);if(!Qt&&(wt||wt.length)){var Dt=wt.length>1?wt.splice(0):wt,Et=Dt.length;if(Et)for(var xt=0;xt<Et;xt++)Object.assign(ut,Dt[xt]);return ut}return Qt?this._splat(ut,Qt):ut}}])&&_e(ft.prototype,dt),_t}();i.exports=function(_t){return new ht(_t)}},function(i,o,s){var _=s(136),$=s(12);i.exports=$(function(_e){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tt.format&&(_e.timestamp=typeof tt.format=="function"?tt.format():_.format(new Date,tt.format)),_e.timestamp||(_e.timestamp=new Date().toISOString()),tt.alias&&(_e[tt.alias]=_e.timestamp),_e})},function(i,o,s){s.r(o),s.d(o,"assign",function(){return nt}),s.d(o,"format",function(){return St}),s.d(o,"parse",function(){return It}),s.d(o,"defaultI18n",function(){return ft}),s.d(o,"setGlobalDateI18n",function(){return ut}),s.d(o,"setGlobalDateMasks",function(){return bt});var _=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,$="[^\\s]+",_e=/\[([^]*?)\]/gm;function tt(Lt,Xt){for(var zt=[],Pt=0,jt=Lt.length;Pt<jt;Pt++)zt.push(Lt[Pt].substr(0,Xt));return zt}var j=function(Lt){return function(Xt,zt){var Pt=zt[Lt].map(function(jt){return jt.toLowerCase()}).indexOf(Xt.toLowerCase());return Pt>-1?Pt:null}};function nt(Lt){for(var Xt=[],zt=1;zt<arguments.length;zt++)Xt[zt-1]=arguments[zt];for(var Pt=0,jt=Xt;Pt<jt.length;Pt++){var Zt=jt[Pt];for(var Ct in Zt)Lt[Ct]=Zt[Ct]}return Lt}var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ht=["January","February","March","April","May","June","July","August","September","October","November","December"],_t=tt(ht,3),ft={dayNamesShort:tt(st,3),dayNames:st,monthNamesShort:_t,monthNames:ht,amPm:["am","pm"],DoFn:function(Lt){return Lt+["th","st","nd","rd"][Lt%10>3?0:(Lt-Lt%10!=10?1:0)*Lt%10]}},dt=nt({},ft),ut=function(Lt){return dt=nt(dt,Lt)},mt=function(Lt){return Lt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(Lt,Xt){for(Xt===void 0&&(Xt=2),Lt=String(Lt);Lt.length<Xt;)Lt="0"+Lt;return Lt},Qt={D:function(Lt){return String(Lt.getDate())},DD:function(Lt){return wt(Lt.getDate())},Do:function(Lt,Xt){return Xt.DoFn(Lt.getDate())},d:function(Lt){return String(Lt.getDay())},dd:function(Lt){return wt(Lt.getDay())},ddd:function(Lt,Xt){return Xt.dayNamesShort[Lt.getDay()]},dddd:function(Lt,Xt){return Xt.dayNames[Lt.getDay()]},M:function(Lt){return String(Lt.getMonth()+1)},MM:function(Lt){return wt(Lt.getMonth()+1)},MMM:function(Lt,Xt){return Xt.monthNamesShort[Lt.getMonth()]},MMMM:function(Lt,Xt){return Xt.monthNames[Lt.getMonth()]},YY:function(Lt){return wt(String(Lt.getFullYear()),4).substr(2)},YYYY:function(Lt){return wt(Lt.getFullYear(),4)},h:function(Lt){return String(Lt.getHours()%12||12)},hh:function(Lt){return wt(Lt.getHours()%12||12)},H:function(Lt){return String(Lt.getHours())},HH:function(Lt){return wt(Lt.getHours())},m:function(Lt){return String(Lt.getMinutes())},mm:function(Lt){return wt(Lt.getMinutes())},s:function(Lt){return String(Lt.getSeconds())},ss:function(Lt){return wt(Lt.getSeconds())},S:function(Lt){return String(Math.round(Lt.getMilliseconds()/100))},SS:function(Lt){return wt(Math.round(Lt.getMilliseconds()/10),2)},SSS:function(Lt){return wt(Lt.getMilliseconds(),3)},a:function(Lt,Xt){return Lt.getHours()<12?Xt.amPm[0]:Xt.amPm[1]},A:function(Lt,Xt){return Lt.getHours()<12?Xt.amPm[0].toUpperCase():Xt.amPm[1].toUpperCase()},ZZ:function(Lt){var Xt=Lt.getTimezoneOffset();return(Xt>0?"-":"+")+wt(100*Math.floor(Math.abs(Xt)/60)+Math.abs(Xt)%60,4)},Z:function(Lt){var Xt=Lt.getTimezoneOffset();return(Xt>0?"-":"+")+wt(Math.floor(Math.abs(Xt)/60),2)+":"+wt(Math.abs(Xt)%60,2)}},Dt=function(Lt){return+Lt-1},Et=[null,"[1-9]\\d?"],xt=[null,$],pt=["isPm",$,function(Lt,Xt){var zt=Lt.toLowerCase();return zt===Xt.amPm[0]?0:zt===Xt.amPm[1]?1:null}],Vt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Lt){var Xt=(Lt+"").match(/([+-]|\d\d)/gi);if(Xt){var zt=60*+Xt[1]+parseInt(Xt[2],10);return Xt[0]==="+"?zt:-zt}return 0}],nn={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+$,function(Lt){return parseInt(Lt,10)}],M:["month","[1-9]\\d?",Dt],MM:["month","\\d\\d",Dt],YY:["year","\\d\\d",function(Lt){var Xt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+Lt>68?Xt-1:Xt)+Lt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(Lt){return 100*+Lt}],SS:["millisecond","\\d\\d",function(Lt){return 10*+Lt}],SSS:["millisecond","\\d{3}"],d:Et,dd:Et,ddd:xt,dddd:xt,MMM:["month",$,j("monthNamesShort")],MMMM:["month",$,j("monthNames")],a:pt,A:pt,ZZ:Vt,Z:Vt},on={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},bt=function(Lt){return nt(on,Lt)},St=function(Lt,Xt,zt){if(Xt===void 0&&(Xt=on.default),zt===void 0&&(zt={}),typeof Lt=="number"&&(Lt=new Date(Lt)),Object.prototype.toString.call(Lt)!=="[object Date]"||isNaN(Lt.getTime()))throw new Error("Invalid Date pass to format");var Pt=[];Xt=(Xt=on[Xt]||Xt).replace(_e,function(Zt,Ct){return Pt.push(Ct),"@@@"});var jt=nt(nt({},dt),zt);return(Xt=Xt.replace(_,function(Zt){return Qt[Zt](Lt,jt)})).replace(/@@@/g,function(){return Pt.shift()})};function It(Lt,Xt,zt){if(zt===void 0&&(zt={}),typeof Xt!="string")throw new Error("Invalid format in fecha parse");if(Xt=on[Xt]||Xt,Lt.length>1e3)return null;var Pt={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},jt=[],Zt=[],Ct=Xt.replace(_e,function(hn,Sn){return Zt.push(mt(Sn)),"@@@"}),Ft={},Ht={};Ct=mt(Ct).replace(_,function(hn){var Sn=nn[hn],An=Sn[0],Gn=Sn[1],Qr=Sn[3];if(Ft[An])throw new Error("Invalid format. "+An+" specified twice in format");return Ft[An]=!0,Qr&&(Ht[Qr]=!0),jt.push(Sn),"("+Gn+")"}),Object.keys(Ht).forEach(function(hn){if(!Ft[hn])throw new Error("Invalid format. "+hn+" is required in specified format")}),Ct=Ct.replace(/@@@/g,function(){return Zt.shift()});var tn=Lt.match(new RegExp(Ct,"i"));if(!tn)return null;for(var mn=nt(nt({},dt),zt),yn=1;yn<tn.length;yn++){var vn=jt[yn-1],un=vn[0],rn=vn[2],At=rn?rn(tn[yn],mn):+tn[yn];if(At==null)return null;Pt[un]=At}Pt.isPm===1&&Pt.hour!=null&&+Pt.hour!=12?Pt.hour=+Pt.hour+12:Pt.isPm===0&&+Pt.hour==12&&(Pt.hour=0);for(var Mt=new Date(Pt.year,Pt.month,Pt.day,Pt.hour,Pt.minute,Pt.second,Pt.millisecond),$t=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],pn=(yn=0,$t.length);yn<pn;yn++)if(Ft[$t[yn][0]]&&Pt[$t[yn][0]]!==Mt[$t[yn][1]]())return null;return Pt.timezoneOffset==null?Mt:new Date(Date.UTC(Pt.year,Pt.month,Pt.day,Pt.hour,Pt.minute-Pt.timezoneOffset,Pt.second,Pt.millisecond))}var Bt={format:St,parse:It,defaultI18n:ft,setGlobalDateI18n:ut,setGlobalDateMasks:bt};o.default=Bt},function(i,o,s){var _=s(59),$=s(12),_e=s(3).MESSAGE;i.exports=$(function(tt,j){return j.level!==!1&&(tt.level=_.strip(tt.level)),j.message!==!1&&(tt.message=_.strip(tt.message)),j.raw!==!1&&tt[_e]&&(tt[_e]=_.strip(tt[_e])),tt})},function(i){i.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(i,o,s){Object.defineProperty(o,"Console",{configurable:!0,enumerable:!0,get:function(){return s(140)}}),Object.defineProperty(o,"File",{configurable:!0,enumerable:!0,get:function(){return s(149)}}),Object.defineProperty(o,"Http",{configurable:!0,enumerable:!0,get:function(){return s(189)}}),Object.defineProperty(o,"Stream",{configurable:!0,enumerable:!0,get:function(){return s(201)}})},function(i,o,s){(function(_){function $(wt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(wt)}function _e(wt,Qt){if(!(wt instanceof Qt))throw new TypeError("Cannot call a class as a function")}function tt(wt,Qt){for(var Dt=0;Dt<Qt.length;Dt++){var Et=Qt[Dt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(wt,Et.key,Et)}}function j(wt,Qt){return(j=Object.setPrototypeOf||function(Dt,Et){return Dt.__proto__=Et,Dt})(wt,Qt)}function nt(wt){var Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Dt,Et=ht(wt);if(Qt){var xt=ht(this).constructor;Dt=Reflect.construct(Et,arguments,xt)}else Dt=Et.apply(this,arguments);return st(this,Dt)}}function st(wt,Qt){return!Qt||$(Qt)!=="object"&&typeof Qt!="function"?function(Dt){if(Dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dt}(wt):Qt}function ht(wt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)})(wt)}var _t=s(18),ft=s(3),dt=ft.LEVEL,ut=ft.MESSAGE,mt=s(20);i.exports=function(wt){(function(pt,Vt){if(typeof Vt!="function"&&Vt!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(Vt&&Vt.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Vt&&j(pt,Vt)})(xt,wt);var Qt,Dt,Et=nt(xt);function xt(){var pt,Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _e(this,xt),(pt=Et.call(this,Vt)).name=Vt.name||"console",pt.stderrLevels=pt._stringArrayToSet(Vt.stderrLevels),pt.consoleWarnLevels=pt._stringArrayToSet(Vt.consoleWarnLevels),pt.eol=Vt.eol||_t.EOL,pt.setMaxListeners(30),pt}return Qt=xt,(Dt=[{key:"log",value:function(pt,Vt){var nn=this;return _(function(){return nn.emit("logged",pt)}),this.stderrLevels[pt[dt]]?(console._stderr?console._stderr.write("".concat(pt[ut]).concat(this.eol)):console.error(pt[ut]),void(Vt&&Vt())):this.consoleWarnLevels[pt[dt]]?(console._stderr?console._stderr.write("".concat(pt[ut]).concat(this.eol)):console.warn(pt[ut]),void(Vt&&Vt())):(console._stdout?console._stdout.write("".concat(pt[ut]).concat(this.eol)):console.log(pt[ut]),void(Vt&&Vt()))}},{key:"_stringArrayToSet",value:function(pt,Vt){if(!pt)return{};if(Vt=Vt||"Cannot make set from type other than Array of string elements",!Array.isArray(pt))throw new Error(Vt);return pt.reduce(function(nn,on){if(typeof on!="string")throw new Error(Vt);return nn[on]=!0,nn},{})}}])&&tt(Qt.prototype,Dt),xt}(mt)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_,$){(function(_e,tt){if(!_e.setImmediate){var j,nt,st,ht,_t,ft=1,dt={},ut=!1,mt=_e.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(_e);wt=wt&&wt.setTimeout?wt:_e,{}.toString.call(_e.process)==="[object process]"?j=function(Et){$.nextTick(function(){Dt(Et)})}:function(){if(_e.postMessage&&!_e.importScripts){var Et=!0,xt=_e.onmessage;return _e.onmessage=function(){Et=!1},_e.postMessage("","*"),_e.onmessage=xt,Et}}()?(ht="setImmediate$"+Math.random()+"$",_t=function(Et){Et.source===_e&&typeof Et.data=="string"&&Et.data.indexOf(ht)===0&&Dt(+Et.data.slice(ht.length))},_e.addEventListener?_e.addEventListener("message",_t,!1):_e.attachEvent("onmessage",_t),j=function(Et){_e.postMessage(ht+Et,"*")}):_e.MessageChannel?((st=new MessageChannel).port1.onmessage=function(Et){Dt(Et.data)},j=function(Et){st.port2.postMessage(Et)}):mt&&"onreadystatechange"in mt.createElement("script")?(nt=mt.documentElement,j=function(Et){var xt=mt.createElement("script");xt.onreadystatechange=function(){Dt(Et),xt.onreadystatechange=null,nt.removeChild(xt),xt=null},nt.appendChild(xt)}):j=function(Et){setTimeout(Dt,0,Et)},wt.setImmediate=function(Et){typeof Et!="function"&&(Et=new Function(""+Et));for(var xt=new Array(arguments.length-1),pt=0;pt<xt.length;pt++)xt[pt]=arguments[pt+1];var Vt={callback:Et,args:xt};return dt[ft]=Vt,j(ft),ft++},wt.clearImmediate=Qt}function Qt(Et){delete dt[Et]}function Dt(Et){if(ut)setTimeout(Dt,0,Et);else{var xt=dt[Et];if(xt){ut=!0;try{(function(pt){var Vt=pt.callback,nn=pt.args;switch(nn.length){case 0:Vt();break;case 1:Vt(nn[0]);break;case 2:Vt(nn[0],nn[1]);break;case 3:Vt(nn[0],nn[1],nn[2]);break;default:Vt.apply(void 0,nn)}})(xt)}finally{Qt(Et),ut=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(62)},function(i,o,s){(function(_,$){var _e=s(16);i.exports=xt;var tt,j=s(42);xt.ReadableState=Et,s(21).EventEmitter;var nt=function(Ct,Ft){return Ct.listeners(Ft).length},st=s(63),ht=s(44).Buffer,_t=_.Uint8Array||function(){},ft=Object.create(s(17));ft.inherits=s(7);var dt=s(144),ut=void 0;ut=dt&&dt.debuglog?dt.debuglog("stream"):function(){};var mt,wt=s(145),Qt=s(64);ft.inherits(xt,st);var Dt=["error","close","destroy","pause","resume"];function Et(Ct,Ft){Ct=Ct||{};var Ht=Ft instanceof(tt=tt||s(36));this.objectMode=!!Ct.objectMode,Ht&&(this.objectMode=this.objectMode||!!Ct.readableObjectMode);var tn=Ct.highWaterMark,mn=Ct.readableHighWaterMark,yn=this.objectMode?16:16384;this.highWaterMark=tn||tn===0?tn:Ht&&(mn||mn===0)?mn:yn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ct.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ct.encoding&&(mt||(mt=s(22).StringDecoder),this.decoder=new mt(Ct.encoding),this.encoding=Ct.encoding)}function xt(Ct){if(tt=tt||s(36),!(this instanceof xt))return new xt(Ct);this._readableState=new Et(Ct,this),this.readable=!0,Ct&&(typeof Ct.read=="function"&&(this._read=Ct.read),typeof Ct.destroy=="function"&&(this._destroy=Ct.destroy)),st.call(this)}function pt(Ct,Ft,Ht,tn,mn){var yn,vn=Ct._readableState;return Ft===null?(vn.reading=!1,function(un,rn){if(!rn.ended){if(rn.decoder){var At=rn.decoder.end();At&&At.length&&(rn.buffer.push(At),rn.length+=rn.objectMode?1:At.length)}rn.ended=!0,on(un)}}(Ct,vn)):(mn||(yn=function(un,rn){var At;Mt=rn,ht.isBuffer(Mt)||Mt instanceof _t||typeof rn=="string"||rn===void 0||un.objectMode||(At=new TypeError("Invalid non-string/buffer chunk"));var Mt;return At}(vn,Ft)),yn?Ct.emit("error",yn):vn.objectMode||Ft&&Ft.length>0?(typeof Ft=="string"||vn.objectMode||Object.getPrototypeOf(Ft)===ht.prototype||(Ft=function(un){return ht.from(un)}(Ft)),tn?vn.endEmitted?Ct.emit("error",new Error("stream.unshift() after end event")):Vt(Ct,vn,Ft,!0):vn.ended?Ct.emit("error",new Error("stream.push() after EOF")):(vn.reading=!1,vn.decoder&&!Ht?(Ft=vn.decoder.write(Ft),vn.objectMode||Ft.length!==0?Vt(Ct,vn,Ft,!1):St(Ct,vn)):Vt(Ct,vn,Ft,!1))):tn||(vn.reading=!1)),function(un){return!un.ended&&(un.needReadable||un.length<un.highWaterMark||un.length===0)}(vn)}function Vt(Ct,Ft,Ht,tn){Ft.flowing&&Ft.length===0&&!Ft.sync?(Ct.emit("data",Ht),Ct.read(0)):(Ft.length+=Ft.objectMode?1:Ht.length,tn?Ft.buffer.unshift(Ht):Ft.buffer.push(Ht),Ft.needReadable&&on(Ct)),St(Ct,Ft)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ct){this._readableState&&(this._readableState.destroyed=Ct)}}),xt.prototype.destroy=Qt.destroy,xt.prototype._undestroy=Qt.undestroy,xt.prototype._destroy=function(Ct,Ft){this.push(null),Ft(Ct)},xt.prototype.push=function(Ct,Ft){var Ht,tn=this._readableState;return tn.objectMode?Ht=!0:typeof Ct=="string"&&((Ft=Ft||tn.defaultEncoding)!==tn.encoding&&(Ct=ht.from(Ct,Ft),Ft=""),Ht=!0),pt(this,Ct,Ft,!1,Ht)},xt.prototype.unshift=function(Ct){return pt(this,Ct,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(Ct){return mt||(mt=s(22).StringDecoder),this._readableState.decoder=new mt(Ct),this._readableState.encoding=Ct,this};function nn(Ct,Ft){return Ct<=0||Ft.length===0&&Ft.ended?0:Ft.objectMode?1:Ct!=Ct?Ft.flowing&&Ft.length?Ft.buffer.head.data.length:Ft.length:(Ct>Ft.highWaterMark&&(Ft.highWaterMark=function(Ht){return Ht>=8388608?Ht=8388608:(Ht--,Ht|=Ht>>>1,Ht|=Ht>>>2,Ht|=Ht>>>4,Ht|=Ht>>>8,Ht|=Ht>>>16,Ht++),Ht}(Ct)),Ct<=Ft.length?Ct:Ft.ended?Ft.length:(Ft.needReadable=!0,0))}function on(Ct){var Ft=Ct._readableState;Ft.needReadable=!1,Ft.emittedReadable||(ut("emitReadable",Ft.flowing),Ft.emittedReadable=!0,Ft.sync?_e.nextTick(bt,Ct):bt(Ct))}function bt(Ct){ut("emit readable"),Ct.emit("readable"),Xt(Ct)}function St(Ct,Ft){Ft.readingMore||(Ft.readingMore=!0,_e.nextTick(It,Ct,Ft))}function It(Ct,Ft){for(var Ht=Ft.length;!Ft.reading&&!Ft.flowing&&!Ft.ended&&Ft.length<Ft.highWaterMark&&(ut("maybeReadMore read 0"),Ct.read(0),Ht!==Ft.length);)Ht=Ft.length;Ft.readingMore=!1}function Bt(Ct){ut("readable nexttick read 0"),Ct.read(0)}function Lt(Ct,Ft){Ft.reading||(ut("resume read 0"),Ct.read(0)),Ft.resumeScheduled=!1,Ft.awaitDrain=0,Ct.emit("resume"),Xt(Ct),Ft.flowing&&!Ft.reading&&Ct.read(0)}function Xt(Ct){var Ft=Ct._readableState;for(ut("flow",Ft.flowing);Ft.flowing&&Ct.read()!==null;);}function zt(Ct,Ft){return Ft.length===0?null:(Ft.objectMode?Ht=Ft.buffer.shift():!Ct||Ct>=Ft.length?(Ht=Ft.decoder?Ft.buffer.join(""):Ft.buffer.length===1?Ft.buffer.head.data:Ft.buffer.concat(Ft.length),Ft.buffer.clear()):Ht=function(tn,mn,yn){var vn;return tn<mn.head.data.length?(vn=mn.head.data.slice(0,tn),mn.head.data=mn.head.data.slice(tn)):vn=tn===mn.head.data.length?mn.shift():yn?function(un,rn){var At=rn.head,Mt=1,$t=At.data;for(un-=$t.length;At=At.next;){var pn=At.data,hn=un>pn.length?pn.length:un;if(hn===pn.length?$t+=pn:$t+=pn.slice(0,un),(un-=hn)===0){hn===pn.length?(++Mt,At.next?rn.head=At.next:rn.head=rn.tail=null):(rn.head=At,At.data=pn.slice(hn));break}++Mt}return rn.length-=Mt,$t}(tn,mn):function(un,rn){var At=ht.allocUnsafe(un),Mt=rn.head,$t=1;for(Mt.data.copy(At),un-=Mt.data.length;Mt=Mt.next;){var pn=Mt.data,hn=un>pn.length?pn.length:un;if(pn.copy(At,At.length-un,0,hn),(un-=hn)===0){hn===pn.length?(++$t,Mt.next?rn.head=Mt.next:rn.head=rn.tail=null):(rn.head=Mt,Mt.data=pn.slice(hn));break}++$t}return rn.length-=$t,At}(tn,mn),vn}(Ct,Ft.buffer,Ft.decoder),Ht);var Ht}function Pt(Ct){var Ft=Ct._readableState;if(Ft.length>0)throw new Error('"endReadable()" called on non-empty stream');Ft.endEmitted||(Ft.ended=!0,_e.nextTick(jt,Ft,Ct))}function jt(Ct,Ft){Ct.endEmitted||Ct.length!==0||(Ct.endEmitted=!0,Ft.readable=!1,Ft.emit("end"))}function Zt(Ct,Ft){for(var Ht=0,tn=Ct.length;Ht<tn;Ht++)if(Ct[Ht]===Ft)return Ht;return-1}xt.prototype.read=function(Ct){ut("read",Ct),Ct=parseInt(Ct,10);var Ft=this._readableState,Ht=Ct;if(Ct!==0&&(Ft.emittedReadable=!1),Ct===0&&Ft.needReadable&&(Ft.length>=Ft.highWaterMark||Ft.ended))return ut("read: emitReadable",Ft.length,Ft.ended),Ft.length===0&&Ft.ended?Pt(this):on(this),null;if((Ct=nn(Ct,Ft))===0&&Ft.ended)return Ft.length===0&&Pt(this),null;var tn,mn=Ft.needReadable;return ut("need readable",mn),(Ft.length===0||Ft.length-Ct<Ft.highWaterMark)&&ut("length less than watermark",mn=!0),Ft.ended||Ft.reading?ut("reading or ended",mn=!1):mn&&(ut("do read"),Ft.reading=!0,Ft.sync=!0,Ft.length===0&&(Ft.needReadable=!0),this._read(Ft.highWaterMark),Ft.sync=!1,Ft.reading||(Ct=nn(Ht,Ft))),(tn=Ct>0?zt(Ct,Ft):null)===null?(Ft.needReadable=!0,Ct=0):Ft.length-=Ct,Ft.length===0&&(Ft.ended||(Ft.needReadable=!0),Ht!==Ct&&Ft.ended&&Pt(this)),tn!==null&&this.emit("data",tn),tn},xt.prototype._read=function(Ct){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(Ct,Ft){var Ht=this,tn=this._readableState;switch(tn.pipesCount){case 0:tn.pipes=Ct;break;case 1:tn.pipes=[tn.pipes,Ct];break;default:tn.pipes.push(Ct)}tn.pipesCount+=1,ut("pipe count=%d opts=%j",tn.pipesCount,Ft);var mn=(!Ft||Ft.end!==!1)&&Ct!==$.stdout&&Ct!==$.stderr?vn:Sn;function yn(An,Gn){ut("onunpipe"),An===Ht&&Gn&&Gn.hasUnpiped===!1&&(Gn.hasUnpiped=!0,ut("cleanup"),Ct.removeListener("close",pn),Ct.removeListener("finish",hn),Ct.removeListener("drain",un),Ct.removeListener("error",$t),Ct.removeListener("unpipe",yn),Ht.removeListener("end",vn),Ht.removeListener("end",Sn),Ht.removeListener("data",Mt),rn=!0,!tn.awaitDrain||Ct._writableState&&!Ct._writableState.needDrain||un())}function vn(){ut("onend"),Ct.end()}tn.endEmitted?_e.nextTick(mn):Ht.once("end",mn),Ct.on("unpipe",yn);var un=function(An){return function(){var Gn=An._readableState;ut("pipeOnDrain",Gn.awaitDrain),Gn.awaitDrain&&Gn.awaitDrain--,Gn.awaitDrain===0&&nt(An,"data")&&(Gn.flowing=!0,Xt(An))}}(Ht);Ct.on("drain",un);var rn=!1,At=!1;function Mt(An){ut("ondata"),At=!1,Ct.write(An)!==!1||At||((tn.pipesCount===1&&tn.pipes===Ct||tn.pipesCount>1&&Zt(tn.pipes,Ct)!==-1)&&!rn&&(ut("false write response, pause",Ht._readableState.awaitDrain),Ht._readableState.awaitDrain++,At=!0),Ht.pause())}function $t(An){ut("onerror",An),Sn(),Ct.removeListener("error",$t),nt(Ct,"error")===0&&Ct.emit("error",An)}function pn(){Ct.removeListener("finish",hn),Sn()}function hn(){ut("onfinish"),Ct.removeListener("close",pn),Sn()}function Sn(){ut("unpipe"),Ht.unpipe(Ct)}return Ht.on("data",Mt),function(An,Gn,Qr){if(typeof An.prependListener=="function")return An.prependListener(Gn,Qr);An._events&&An._events[Gn]?j(An._events[Gn])?An._events[Gn].unshift(Qr):An._events[Gn]=[Qr,An._events[Gn]]:An.on(Gn,Qr)}(Ct,"error",$t),Ct.once("close",pn),Ct.once("finish",hn),Ct.emit("pipe",Ht),tn.flowing||(ut("pipe resume"),Ht.resume()),Ct},xt.prototype.unpipe=function(Ct){var Ft=this._readableState,Ht={hasUnpiped:!1};if(Ft.pipesCount===0)return this;if(Ft.pipesCount===1)return Ct&&Ct!==Ft.pipes||(Ct||(Ct=Ft.pipes),Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1,Ct&&Ct.emit("unpipe",this,Ht)),this;if(!Ct){var tn=Ft.pipes,mn=Ft.pipesCount;Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1;for(var yn=0;yn<mn;yn++)tn[yn].emit("unpipe",this,Ht);return this}var vn=Zt(Ft.pipes,Ct);return vn===-1||(Ft.pipes.splice(vn,1),Ft.pipesCount-=1,Ft.pipesCount===1&&(Ft.pipes=Ft.pipes[0]),Ct.emit("unpipe",this,Ht)),this},xt.prototype.on=function(Ct,Ft){var Ht=st.prototype.on.call(this,Ct,Ft);if(Ct==="data")this._readableState.flowing!==!1&&this.resume();else if(Ct==="readable"){var tn=this._readableState;tn.endEmitted||tn.readableListening||(tn.readableListening=tn.needReadable=!0,tn.emittedReadable=!1,tn.reading?tn.length&&on(this):_e.nextTick(Bt,this))}return Ht},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var Ct=this._readableState;return Ct.flowing||(ut("resume"),Ct.flowing=!0,function(Ft,Ht){Ht.resumeScheduled||(Ht.resumeScheduled=!0,_e.nextTick(Lt,Ft,Ht))}(this,Ct)),this},xt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(Ct){var Ft=this,Ht=this._readableState,tn=!1;for(var mn in Ct.on("end",function(){if(ut("wrapped end"),Ht.decoder&&!Ht.ended){var vn=Ht.decoder.end();vn&&vn.length&&Ft.push(vn)}Ft.push(null)}),Ct.on("data",function(vn){ut("wrapped data"),Ht.decoder&&(vn=Ht.decoder.write(vn)),Ht.objectMode&&vn==null||(Ht.objectMode||vn&&vn.length)&&(Ft.push(vn)||(tn=!0,Ct.pause()))}),Ct)this[mn]===void 0&&typeof Ct[mn]=="function"&&(this[mn]=function(vn){return function(){return Ct[vn].apply(Ct,arguments)}}(mn));for(var yn=0;yn<Dt.length;yn++)Ct.on(Dt[yn],this.emit.bind(this,Dt[yn]));return this._read=function(vn){ut("wrapped _read",vn),tn&&(tn=!1,Ct.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=zt}).call(this,s(6),s(2))},function(i,o){},function(i,o,s){var _=s(44).Buffer,$=s(146);i.exports=function(){function _e(){(function(tt,j){if(!(tt instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(tt){var j={data:tt,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(tt){var j={data:tt,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(tt){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=tt+j.data;return nt},_e.prototype.concat=function(tt){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,st,ht=_.allocUnsafe(tt>>>0),_t=this.head,ft=0;_t;)j=_t.data,nt=ht,st=ft,j.copy(nt,st),ft+=_t.data.length,_t=_t.next;return ht},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var st in j)nt[st]=j[st]}function tt(j,nt,st){return $(j,nt,st)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=tt),_e($,tt),tt.from=function(j,nt,st){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,st)},tt.alloc=function(j,nt,st){if(typeof j!="number")throw new TypeError("Argument must be a number");var ht=$(j);return nt!==void 0?typeof st=="string"?ht.fill(nt,st):ht.fill(nt):ht.fill(0),ht},tt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},tt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){var _=s(13),$=s(3).LEVEL,_e=s(20),tt=i.exports=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function nt(st){this.emit("error",st,this.transport)}this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=nt.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(tt,_e),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),st(null)},tt.prototype._writev=function(j,nt){for(var st=0;st<j.length;st++)this._accept(j[st])&&(this.transport.log(j[st].chunk[$],j[st].chunk.message,j[st].chunk,this._nop),j[st].callback());return nt(null)},tt.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},tt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){(function(_,$){function _e(bt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St})(bt)}function tt(bt,St){if(!(bt instanceof St))throw new TypeError("Cannot call a class as a function")}function j(bt,St){for(var It=0;It<St.length;It++){var Bt=St[It];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(bt,Bt.key,Bt)}}function nt(bt,St){return(nt=Object.setPrototypeOf||function(It,Bt){return It.__proto__=Bt,It})(bt,St)}function st(bt){var St=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var It,Bt=ft(bt);if(St){var Lt=ft(this).constructor;It=Reflect.construct(Bt,arguments,Lt)}else It=Bt.apply(this,arguments);return ht(this,It)}}function ht(bt,St){return!St||_e(St)!=="object"&&typeof St!="function"?_t(bt):St}function _t(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function ft(bt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(St){return St.__proto__||Object.getPrototypeOf(St)})(bt)}var dt=s(65),ut=s(56),mt=s(150),wt=s(160),Qt=s(3).MESSAGE,Dt=s(32),Et=Dt.Stream,xt=Dt.PassThrough,pt=s(20),Vt=s(38)("winston:file"),nn=s(18),on=s(188);i.exports=function(bt){(function(Xt,zt){if(typeof zt!="function"&&zt!==null)throw new TypeError("Super expression must either be null or a function");Xt.prototype=Object.create(zt&&zt.prototype,{constructor:{value:Xt,writable:!0,configurable:!0}}),zt&&nt(Xt,zt)})(Lt,bt);var St,It,Bt=st(Lt);function Lt(){var Xt,zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Pt(jt){for(var Zt=arguments.length,Ct=new Array(Zt>1?Zt-1:0),Ft=1;Ft<Zt;Ft++)Ct[Ft-1]=arguments[Ft];Ct.slice(1).forEach(function(Ht){if(zt[Ht])throw new Error("Cannot set ".concat(Ht," and ").concat(jt," together"))})}if(tt(this,Lt),(Xt=Bt.call(this,zt)).name=zt.name||"file",Xt._stream=new xt,Xt._stream.setMaxListeners(30),Xt._onError=Xt._onError.bind(_t(Xt)),zt.filename||zt.dirname)Pt("filename or dirname","stream"),Xt._basename=Xt.filename=zt.filename?ut.basename(zt.filename):"winston.log",Xt.dirname=zt.dirname||ut.dirname(zt.filename),Xt.options=zt.options||{flags:"a"};else{if(!zt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Pt("stream","filename","maxsize"),Xt._dest=Xt._stream.pipe(Xt._setupStream(zt.stream)),Xt.dirname=ut.dirname(Xt._dest.path)}return Xt.maxsize=zt.maxsize||null,Xt.rotationFormat=zt.rotationFormat||!1,Xt.zippedArchive=zt.zippedArchive||!1,Xt.maxFiles=zt.maxFiles||null,Xt.eol=zt.eol||nn.EOL,Xt.tailable=zt.tailable||!1,Xt._size=0,Xt._pendingSize=0,Xt._created=0,Xt._drain=!1,Xt._opening=!1,Xt._ending=!1,Xt.dirname&&Xt._createLogDirIfNotExist(Xt.dirname),Xt.open(),Xt}return St=Lt,(It=[{key:"finishIfEnding",value:function(){var Xt=this;this._ending&&(this._opening?this.once("open",function(){Xt._stream.once("finish",function(){return Xt.emit("finish")}),_(function(){return Xt._stream.end()})}):(this._stream.once("finish",function(){return Xt.emit("finish")}),_(function(){return Xt._stream.end()})))}},{key:"log",value:function(Xt){var zt=this,Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return Pt(),!0;if(this._drain)this._stream.once("drain",function(){zt._drain=!1,zt.log(Xt,Pt)});else{if(!this._rotate){var jt="".concat(Xt[Qt]).concat(this.eol),Zt=$.byteLength(jt);this._pendingSize+=Zt,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var Ct=this._stream.write(jt,Ft.bind(this));return Ct?Pt():(this._drain=!0,this._stream.once("drain",function(){zt._drain=!1,Pt()})),Vt("written",Ct,this._drain),this.finishIfEnding(),Ct}this._stream.once("rotate",function(){zt._rotate=!1,zt.log(Xt,Pt)})}function Ft(){var Ht=this;this._size+=Zt,this._pendingSize-=Zt,Vt("logged %s %s",this._size,jt),this.emit("logged",Xt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return Ht._rotateFile()}))}}},{key:"query",value:function(Xt,zt){typeof Xt=="function"&&(zt=Xt,Xt={}),Xt=function(tn){return(tn=tn||{}).rows=tn.rows||tn.limit||10,tn.start=tn.start||0,tn.until=tn.until||new Date,_e(tn.until)!=="object"&&(tn.until=new Date(tn.until)),tn.from=tn.from||tn.until-864e5,_e(tn.from)!=="object"&&(tn.from=new Date(tn.from)),tn.order=tn.order||"desc",tn}(Xt);var Pt=ut.join(this.dirname,this.filename),jt="",Zt=[],Ct=0,Ft=dt.createReadStream(Pt,{encoding:"utf8"});function Ht(tn,mn){try{var yn=JSON.parse(tn);(function(vn){if(vn&&_e(vn)==="object"){var un=new Date(vn.timestamp);if(!(Xt.from&&un<Xt.from||Xt.until&&un>Xt.until||Xt.level&&Xt.level!==vn.level))return!0}})(yn)&&function(vn){Xt.rows&&Zt.length>=Xt.rows&&Xt.order!=="desc"?Ft.readable&&Ft.destroy():(Xt.fields&&(vn=Xt.fields.reduce(function(un,rn){return un[rn]=vn[rn],un},{})),Xt.order==="desc"&&Zt.length>=Xt.rows&&Zt.shift(),Zt.push(vn))}(yn)}catch(vn){mn||Ft.emit("error",vn)}}Ft.on("error",function(tn){if(Ft.readable&&Ft.destroy(),zt)return tn.code!=="ENOENT"?zt(tn):zt(null,Zt)}),Ft.on("data",function(tn){for(var mn=(tn=(jt+tn).split(/\n+/)).length-1,yn=0;yn<mn;yn++)(!Xt.start||Ct>=Xt.start)&&Ht(tn[yn]),Ct++;jt=tn[mn]}),Ft.on("close",function(){jt&&Ht(jt,!0),Xt.order==="desc"&&(Zt=Zt.reverse()),zt&&zt(null,Zt)})}},{key:"stream",value:function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=ut.join(this.dirname,this.filename),Pt=new Et,jt={file:zt,start:Xt.start};return Pt.destroy=on(jt,function(Zt,Ct){if(Zt)return Pt.emit("error",Zt);try{Pt.emit("data",Ct),Ct=JSON.parse(Ct),Pt.emit("log",Ct)}catch(Ft){Pt.emit("error",Ft)}}),Pt}},{key:"open",value:function(){var Xt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(zt,Pt){if(zt)return Xt.emit("error",zt);Vt("stat done: %s { size: %s }",Xt.filename,Pt),Xt._size=Pt,Xt._dest=Xt._createStream(Xt._stream),Xt._opening=!1,Xt.once("open",function(){Xt._stream.eventNames().includes("rotate")?Xt._stream.emit("rotate"):Xt._rotate=!1})})))}},{key:"stat",value:function(Xt){var zt=this,Pt=this._getFile(),jt=ut.join(this.dirname,Pt);dt.stat(jt,function(Zt,Ct){return Zt&&Zt.code==="ENOENT"?(Vt("ENOENT ok",jt),zt.filename=Pt,Xt(null,0)):Zt?(Vt("err ".concat(Zt.code," ").concat(jt)),Xt(Zt)):!Ct||zt._needsNewFile(Ct.size)?zt._incFile(function(){return zt.stat(Xt)}):(zt.filename=Pt,void Xt(null,Ct.size))})}},{key:"close",value:function(Xt){var zt=this;this._stream&&this._stream.end(function(){Xt&&Xt(),zt.emit("flush"),zt.emit("closed")})}},{key:"_needsNewFile",value:function(Xt){return Xt=Xt||this._size,this.maxsize&&Xt>=this.maxsize}},{key:"_onError",value:function(Xt){this.emit("error",Xt)}},{key:"_setupStream",value:function(Xt){return Xt.on("error",this._onError),Xt}},{key:"_cleanupStream",value:function(Xt){return Xt.removeListener("error",this._onError),Xt}},{key:"_rotateFile",value:function(){var Xt=this;this._incFile(function(){return Xt.open()})}},{key:"_endStream",value:function(){var Xt=this,zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){Xt._cleanupStream(Xt._dest),zt()})):zt()}},{key:"_createStream",value:function(Xt){var zt=this,Pt=ut.join(this.dirname,this.filename);Vt("create stream start",Pt,this.options);var jt=dt.createWriteStream(Pt,this.options).on("error",function(Ct){return Vt(Ct)}).on("close",function(){return Vt("close",jt.path,jt.bytesWritten)}).on("open",function(){Vt("file open ok",Pt),zt.emit("open",Pt),Xt.pipe(jt),zt.rotatedWhileOpening&&(zt._stream=new xt,zt._stream.setMaxListeners(30),zt._rotateFile(),zt.rotatedWhileOpening=!1,zt._cleanupStream(jt),Xt.end())});if(Vt("create stream ok",Pt),this.zippedArchive){var Zt=wt.createGzip();return Zt.pipe(jt),Zt}return jt}},{key:"_incFile",value:function(Xt){Vt("_incFile",this.filename);var zt=ut.extname(this._basename),Pt=ut.basename(this._basename,zt);this.tailable?this._checkMaxFilesTailable(zt,Pt,Xt):(this._created+=1,this._checkMaxFilesIncrementing(zt,Pt,Xt))}},{key:"_getFile",value:function(){var Xt=ut.extname(this._basename),zt=ut.basename(this._basename,Xt),Pt=this.rotationFormat?this.rotationFormat():this._created,jt=!this.tailable&&this._created?"".concat(zt).concat(Pt).concat(Xt):"".concat(zt).concat(Xt);return this.zippedArchive&&!this.tailable?"".concat(jt,".gz"):jt}},{key:"_checkMaxFilesIncrementing",value:function(Xt,zt,Pt){if(!this.maxFiles||this._created<this.maxFiles)return _(Pt);var jt=this._created-this.maxFiles,Zt=jt!==0?jt:"",Ct=this.zippedArchive?".gz":"",Ft="".concat(zt).concat(Zt).concat(Xt).concat(Ct),Ht=ut.join(this.dirname,Ft);dt.unlink(Ht,Pt)}},{key:"_checkMaxFilesTailable",value:function(Xt,zt,Pt){var jt=this,Zt=[];if(this.maxFiles){for(var Ct=this.zippedArchive?".gz":"",Ft=this.maxFiles-1;Ft>1;Ft--)Zt.push(function(Ht,tn){var mn=this,yn="".concat(zt).concat(Ht-1).concat(Xt).concat(Ct),vn=ut.join(this.dirname,yn);dt.exists(vn,function(un){if(!un)return tn(null);yn="".concat(zt).concat(Ht).concat(Xt).concat(Ct),dt.rename(vn,ut.join(mn.dirname,yn),tn)})}.bind(this,Ft));mt(Zt,function(){dt.rename(ut.join(jt.dirname,"".concat(zt).concat(Xt)),ut.join(jt.dirname,"".concat(zt,"1").concat(Xt).concat(Ct)),Pt)})}}},{key:"_createLogDirIfNotExist",value:function(Xt){dt.existsSync(Xt)||dt.mkdirSync(Xt,{recursive:!0})}}])&&j(St.prototype,It),Lt}(pt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt,j){return(0,_.default)($.default,tt,j)};var _=_e(s(151)),$=_e(s(155));function _e(tt){return tt&&tt.__esModule?tt:{default:tt}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=tt(s(45)),$=tt(s(25)),_e=tt(s(30));function tt(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)((j,nt,st)=>{var ht=(0,_.default)(nt)?[]:{};j(nt,(_t,ft,dt)=>{(0,$.default)(_t)((ut,...mt)=>{mt.length<2&&([mt]=mt),ht[ft]=mt,dt(ut)})},_t=>st(_t,ht))},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(st){return(0,_e.isAsync)(st)?function(...ht){const _t=ht.pop();return j(st.apply(this,ht),_t)}:(0,_.default)(function(ht,_t){var ft;try{ft=st.apply(this,ht)}catch(dt){return _t(dt)}if(ft&&typeof ft.then=="function")return j(ft,_t);_t(null,ft)})};var _=tt(s(153)),$=tt(s(154)),_e=s(25);function tt(st){return st&&st.__esModule?st:{default:st}}function j(st,ht){return st.then(_t=>{nt(ht,null,_t)},_t=>{nt(ht,_t&&_t.message?_t:new Error(_t))})}function nt(st,ht,_t){try{st(ht,_t)}catch(ft){(0,$.default)(dt=>{throw dt},ft)}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){var _e=$.pop();return _.call(this,$,_e)}},i.exports=o.default},function(i,o,s){(function(_,$){Object.defineProperty(o,"__esModule",{value:!0}),o.fallback=nt,o.wrap=st;var _e,tt=o.hasSetImmediate=typeof _=="function"&&_,j=o.hasNextTick=typeof $=="object"&&typeof $.nextTick=="function";function nt(ht){setTimeout(ht,0)}function st(ht){return(_t,...ft)=>ht(()=>_t(...ft))}_e=tt?_:j?$.nextTick:nt,o.default=st(_e)}).call(this,s(15).setImmediate,s(2))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=_e(s(66)),$=_e(s(30));function _e(tt){return tt&&tt.__esModule?tt:{default:tt}}o.default=(0,$.default)(function(tt,j,nt){return(0,_.default)(tt,1,j,nt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=st(s(67)),$=st(s(157)),_e=st(s(68)),tt=s(25),j=st(s(159)),nt=st(s(46));function st(ht){return ht&&ht.__esModule?ht:{default:ht}}o.default=ht=>(_t,ft,dt)=>{if(dt=(0,_.default)(dt),ht<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!_t)return dt(null);if((0,tt.isAsyncGenerator)(_t))return(0,j.default)(_t,ht,ft,dt);if((0,tt.isAsyncIterable)(_t))return(0,j.default)(_t[Symbol.asyncIterator](),ht,ft,dt);var ut=(0,$.default)(_t),mt=!1,wt=!1,Qt=0,Dt=!1;function Et(pt,Vt){if(!wt)if(Qt-=1,pt)mt=!0,dt(pt);else if(pt===!1)mt=!0,wt=!0;else{if(Vt===nt.default||mt&&Qt<=0)return mt=!0,dt(null);Dt||xt()}}function xt(){for(Dt=!0;Qt<ht&&!mt;){var pt=ut();if(pt===null)return mt=!0,void(Qt<=0&&dt(null));Qt+=1,ft(pt.value,pt.key,(0,_e.default)(Et))}Dt=!1}xt()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){if((0,_.default)(tt))return function(ft){var dt=-1,ut=ft.length;return function(){return++dt<ut?{value:ft[dt],key:dt}:null}}(tt);var j=(0,$.default)(tt);return j?function(ft){var dt=-1;return function(){var ut=ft.next();return ut.done?null:(dt++,{value:ut.value,key:dt})}}(j):(nt=tt,st=nt?Object.keys(nt):[],ht=-1,_t=st.length,function(){var ft=st[++ht];return ht<_t?{value:nt[ft],key:ft}:null});var nt,st,ht,_t};var _=_e(s(45)),$=_e(s(158));function _e(tt){return tt&&tt.__esModule?tt:{default:tt}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _[Symbol.iterator]&&_[Symbol.iterator]()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt,j,nt,st){let ht=!1,_t=!1,ft=!1,dt=0,ut=0;function mt(){dt>=j||ft||ht||(ft=!0,tt.next().then(({value:Dt,done:Et})=>{if(!_t&&!ht){if(ft=!1,Et)return ht=!0,void(dt<=0&&st(null));dt++,nt(Dt,ut,wt),ut++,mt()}}).catch(Qt))}function wt(Dt,Et){if(dt-=1,!_t)return Dt?Qt(Dt):Dt===!1?(ht=!0,void(_t=!0)):Et===_e.default||ht&&dt<=0?(ht=!0,st(null)):void mt()}function Qt(Dt){_t||(ft=!1,ht=!0,st(Dt))}mt()};var _,$=s(46),_e=(_=$)&&_.__esModule?_:{default:_};i.exports=o.default},function(i,o,s){(function(_){var $=s(5).Buffer,_e=s(161).Transform,tt=s(169),j=s(13),nt=s(74).ok,st=s(5).kMaxLength,ht="Cannot create final Buffer. It would be larger than 0x"+st.toString(16)+" bytes";tt.Z_MIN_WINDOWBITS=8,tt.Z_MAX_WINDOWBITS=15,tt.Z_DEFAULT_WINDOWBITS=15,tt.Z_MIN_CHUNK=64,tt.Z_MAX_CHUNK=1/0,tt.Z_DEFAULT_CHUNK=16384,tt.Z_MIN_MEMLEVEL=1,tt.Z_MAX_MEMLEVEL=9,tt.Z_DEFAULT_MEMLEVEL=8,tt.Z_MIN_LEVEL=-1,tt.Z_MAX_LEVEL=9,tt.Z_DEFAULT_LEVEL=tt.Z_DEFAULT_COMPRESSION;for(var _t=Object.keys(tt),ft=0;ft<_t.length;ft++){var dt=_t[ft];dt.match(/^Z/)&&Object.defineProperty(o,dt,{enumerable:!0,value:tt[dt],writable:!1})}for(var ut={Z_OK:tt.Z_OK,Z_STREAM_END:tt.Z_STREAM_END,Z_NEED_DICT:tt.Z_NEED_DICT,Z_ERRNO:tt.Z_ERRNO,Z_STREAM_ERROR:tt.Z_STREAM_ERROR,Z_DATA_ERROR:tt.Z_DATA_ERROR,Z_MEM_ERROR:tt.Z_MEM_ERROR,Z_BUF_ERROR:tt.Z_BUF_ERROR,Z_VERSION_ERROR:tt.Z_VERSION_ERROR},mt=Object.keys(ut),wt=0;wt<mt.length;wt++){var Qt=mt[wt];ut[ut[Qt]]=Qt}function Dt(zt,Pt,jt){var Zt=[],Ct=0;function Ft(){for(var tn;(tn=zt.read())!==null;)Zt.push(tn),Ct+=tn.length;zt.once("readable",Ft)}function Ht(){var tn,mn=null;Ct>=st?mn=new RangeError(ht):tn=$.concat(Zt,Ct),Zt=[],zt.close(),jt(mn,tn)}zt.on("error",function(tn){zt.removeListener("end",Ht),zt.removeListener("readable",Ft),jt(tn)}),zt.on("end",Ht),zt.end(Pt),Ft()}function Et(zt,Pt){if(typeof Pt=="string"&&(Pt=$.from(Pt)),!$.isBuffer(Pt))throw new TypeError("Not a string or buffer");var jt=zt._finishFlushFlag;return zt._processChunk(Pt,jt)}function xt(zt){if(!(this instanceof xt))return new xt(zt);Bt.call(this,zt,tt.DEFLATE)}function pt(zt){if(!(this instanceof pt))return new pt(zt);Bt.call(this,zt,tt.INFLATE)}function Vt(zt){if(!(this instanceof Vt))return new Vt(zt);Bt.call(this,zt,tt.GZIP)}function nn(zt){if(!(this instanceof nn))return new nn(zt);Bt.call(this,zt,tt.GUNZIP)}function on(zt){if(!(this instanceof on))return new on(zt);Bt.call(this,zt,tt.DEFLATERAW)}function bt(zt){if(!(this instanceof bt))return new bt(zt);Bt.call(this,zt,tt.INFLATERAW)}function St(zt){if(!(this instanceof St))return new St(zt);Bt.call(this,zt,tt.UNZIP)}function It(zt){return zt===tt.Z_NO_FLUSH||zt===tt.Z_PARTIAL_FLUSH||zt===tt.Z_SYNC_FLUSH||zt===tt.Z_FULL_FLUSH||zt===tt.Z_FINISH||zt===tt.Z_BLOCK}function Bt(zt,Pt){var jt=this;if(this._opts=zt=zt||{},this._chunkSize=zt.chunkSize||o.Z_DEFAULT_CHUNK,_e.call(this,zt),zt.flush&&!It(zt.flush))throw new Error("Invalid flush flag: "+zt.flush);if(zt.finishFlush&&!It(zt.finishFlush))throw new Error("Invalid flush flag: "+zt.finishFlush);if(this._flushFlag=zt.flush||tt.Z_NO_FLUSH,this._finishFlushFlag=zt.finishFlush!==void 0?zt.finishFlush:tt.Z_FINISH,zt.chunkSize&&(zt.chunkSize<o.Z_MIN_CHUNK||zt.chunkSize>o.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+zt.chunkSize);if(zt.windowBits&&(zt.windowBits<o.Z_MIN_WINDOWBITS||zt.windowBits>o.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+zt.windowBits);if(zt.level&&(zt.level<o.Z_MIN_LEVEL||zt.level>o.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+zt.level);if(zt.memLevel&&(zt.memLevel<o.Z_MIN_MEMLEVEL||zt.memLevel>o.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+zt.memLevel);if(zt.strategy&&zt.strategy!=o.Z_FILTERED&&zt.strategy!=o.Z_HUFFMAN_ONLY&&zt.strategy!=o.Z_RLE&&zt.strategy!=o.Z_FIXED&&zt.strategy!=o.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+zt.strategy);if(zt.dictionary&&!$.isBuffer(zt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new tt.Zlib(Pt);var Zt=this;this._hadError=!1,this._handle.onerror=function(Ht,tn){Lt(Zt),Zt._hadError=!0;var mn=new Error(Ht);mn.errno=tn,mn.code=o.codes[tn],Zt.emit("error",mn)};var Ct=o.Z_DEFAULT_COMPRESSION;typeof zt.level=="number"&&(Ct=zt.level);var Ft=o.Z_DEFAULT_STRATEGY;typeof zt.strategy=="number"&&(Ft=zt.strategy),this._handle.init(zt.windowBits||o.Z_DEFAULT_WINDOWBITS,Ct,zt.memLevel||o.Z_DEFAULT_MEMLEVEL,Ft,zt.dictionary),this._buffer=$.allocUnsafe(this._chunkSize),this._offset=0,this._level=Ct,this._strategy=Ft,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!jt._handle},configurable:!0,enumerable:!0})}function Lt(zt,Pt){Pt&&_.nextTick(Pt),zt._handle&&(zt._handle.close(),zt._handle=null)}function Xt(zt){zt.emit("close")}Object.defineProperty(o,"codes",{enumerable:!0,value:Object.freeze(ut),writable:!1}),o.Deflate=xt,o.Inflate=pt,o.Gzip=Vt,o.Gunzip=nn,o.DeflateRaw=on,o.InflateRaw=bt,o.Unzip=St,o.createDeflate=function(zt){return new xt(zt)},o.createInflate=function(zt){return new pt(zt)},o.createDeflateRaw=function(zt){return new on(zt)},o.createInflateRaw=function(zt){return new bt(zt)},o.createGzip=function(zt){return new Vt(zt)},o.createGunzip=function(zt){return new nn(zt)},o.createUnzip=function(zt){return new St(zt)},o.deflate=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new xt(Pt),zt,jt)},o.deflateSync=function(zt,Pt){return Et(new xt(Pt),zt)},o.gzip=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new Vt(Pt),zt,jt)},o.gzipSync=function(zt,Pt){return Et(new Vt(Pt),zt)},o.deflateRaw=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new on(Pt),zt,jt)},o.deflateRawSync=function(zt,Pt){return Et(new on(Pt),zt)},o.unzip=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new St(Pt),zt,jt)},o.unzipSync=function(zt,Pt){return Et(new St(Pt),zt)},o.inflate=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new pt(Pt),zt,jt)},o.inflateSync=function(zt,Pt){return Et(new pt(Pt),zt)},o.gunzip=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new nn(Pt),zt,jt)},o.gunzipSync=function(zt,Pt){return Et(new nn(Pt),zt)},o.inflateRaw=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new bt(Pt),zt,jt)},o.inflateRawSync=function(zt,Pt){return Et(new bt(Pt),zt)},j.inherits(Bt,_e),Bt.prototype.params=function(zt,Pt,jt){if(zt<o.Z_MIN_LEVEL||zt>o.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+zt);if(Pt!=o.Z_FILTERED&&Pt!=o.Z_HUFFMAN_ONLY&&Pt!=o.Z_RLE&&Pt!=o.Z_FIXED&&Pt!=o.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Pt);if(this._level!==zt||this._strategy!==Pt){var Zt=this;this.flush(tt.Z_SYNC_FLUSH,function(){nt(Zt._handle,"zlib binding closed"),Zt._handle.params(zt,Pt),Zt._hadError||(Zt._level=zt,Zt._strategy=Pt,jt&&jt())})}else _.nextTick(jt)},Bt.prototype.reset=function(){return nt(this._handle,"zlib binding closed"),this._handle.reset()},Bt.prototype._flush=function(zt){this._transform($.alloc(0),"",zt)},Bt.prototype.flush=function(zt,Pt){var jt=this,Zt=this._writableState;(typeof zt=="function"||zt===void 0&&!Pt)&&(Pt=zt,zt=tt.Z_FULL_FLUSH),Zt.ended?Pt&&_.nextTick(Pt):Zt.ending?Pt&&this.once("end",Pt):Zt.needDrain?Pt&&this.once("drain",function(){return jt.flush(zt,Pt)}):(this._flushFlag=zt,this.write($.alloc(0),"",Pt))},Bt.prototype.close=function(zt){Lt(this,zt),_.nextTick(Xt,this)},Bt.prototype._transform=function(zt,Pt,jt){var Zt,Ct=this._writableState,Ft=(Ct.ending||Ct.ended)&&(!zt||Ct.length===zt.length);return zt===null||$.isBuffer(zt)?this._handle?(Ft?Zt=this._finishFlushFlag:(Zt=this._flushFlag,zt.length>=Ct.length&&(this._flushFlag=this._opts.flush||tt.Z_NO_FLUSH)),void this._processChunk(zt,Zt,jt)):jt(new Error("zlib binding closed")):jt(new Error("invalid input"))},Bt.prototype._processChunk=function(zt,Pt,jt){var Zt=zt&&zt.length,Ct=this._chunkSize-this._offset,Ft=0,Ht=this,tn=typeof jt=="function";if(!tn){var mn,yn=[],vn=0;this.on("error",function($t){mn=$t}),nt(this._handle,"zlib binding closed");do var un=this._handle.writeSync(Pt,zt,Ft,Zt,this._buffer,this._offset,Ct);while(!this._hadError&&Mt(un[0],un[1]));if(this._hadError)throw mn;if(vn>=st)throw Lt(this),new RangeError(ht);var rn=$.concat(yn,vn);return Lt(this),rn}nt(this._handle,"zlib binding closed");var At=this._handle.write(Pt,zt,Ft,Zt,this._buffer,this._offset,Ct);function Mt($t,pn){if(this&&(this.buffer=null,this.callback=null),!Ht._hadError){var hn=Ct-pn;if(nt(hn>=0,"have should not go down"),hn>0){var Sn=Ht._buffer.slice(Ht._offset,Ht._offset+hn);Ht._offset+=hn,tn?Ht.push(Sn):(yn.push(Sn),vn+=Sn.length)}if((pn===0||Ht._offset>=Ht._chunkSize)&&(Ct=Ht._chunkSize,Ht._offset=0,Ht._buffer=$.allocUnsafe(Ht._chunkSize)),pn===0){if(Ft+=Zt-$t,Zt=$t,!tn)return!0;var An=Ht._handle.write(Pt,zt,Ft,Zt,Ht._buffer,Ht._offset,Ht._chunkSize);return An.callback=Mt,void(An.buffer=zt)}if(!tn)return!1;jt()}}At.buffer=zt,At.callback=Mt},j.inherits(xt,Bt),j.inherits(pt,Bt),j.inherits(Vt,Bt),j.inherits(nn,Bt),j.inherits(on,Bt),j.inherits(bt,Bt),j.inherits(St,Bt)}).call(this,s(2))},function(i,o,s){i.exports=$;var _=s(21).EventEmitter;function $(){_.call(this)}s(7)($,_),$.Readable=s(31),$.Writable=s(73),$.Duplex=s(166),$.Transform=s(167),$.PassThrough=s(168),$.Stream=$,$.prototype.pipe=function(_e,tt){var j=this;function nt(mt){_e.writable&&_e.write(mt)===!1&&j.pause&&j.pause()}function st(){j.readable&&j.resume&&j.resume()}j.on("data",nt),_e.on("drain",st),_e._isStdio||tt&&tt.end===!1||(j.on("end",_t),j.on("close",ft));var ht=!1;function _t(){ht||(ht=!0,_e.end())}function ft(){ht||(ht=!0,typeof _e.destroy=="function"&&_e.destroy())}function dt(mt){if(ut(),_.listenerCount(this,"error")===0)throw mt}function ut(){j.removeListener("data",nt),_e.removeListener("drain",st),j.removeListener("end",_t),j.removeListener("close",ft),j.removeListener("error",dt),_e.removeListener("error",dt),j.removeListener("end",ut),j.removeListener("close",ut),_e.removeListener("close",ut)}return j.on("error",dt),_e.on("error",dt),j.on("end",ut),j.on("close",ut),_e.on("close",ut),_e.emit("pipe",j),_e}},function(i,o){},function(i,o,s){var _=s(47).Buffer,$=s(164);i.exports=function(){function _e(){(function(tt,j){if(!(tt instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(tt){var j={data:tt,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(tt){var j={data:tt,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(tt){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=tt+j.data;return nt},_e.prototype.concat=function(tt){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,st,ht=_.allocUnsafe(tt>>>0),_t=this.head,ft=0;_t;)j=_t.data,nt=ht,st=ft,j.copy(nt,st),ft+=_t.data.length,_t=_t.next;return ht},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){i.exports=_e;var _=s(72),$=s(17);function _e(tt){if(!(this instanceof _e))return new _e(tt);_.call(this,tt)}$.inherits=s(7),$.inherits(_e,_),_e.prototype._transform=function(tt,j,nt){nt(null,tt)}},function(i,o,s){i.exports=s(23)},function(i,o,s){i.exports=s(31).Transform},function(i,o,s){i.exports=s(31).PassThrough},function(i,o,s){(function(_,$){var _e=s(74),tt=s(171),j=s(172),nt=s(175),st=s(178);for(var ht in st)o[ht]=st[ht];o.NONE=0,o.DEFLATE=1,o.INFLATE=2,o.GZIP=3,o.GUNZIP=4,o.DEFLATERAW=5,o.INFLATERAW=6,o.UNZIP=7;function _t(ft){if(typeof ft!="number"||ft<o.DEFLATE||ft>o.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ft,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}_t.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,_e(this.init_done,"close before init"),_e(this.mode<=o.UNZIP),this.mode===o.DEFLATE||this.mode===o.GZIP||this.mode===o.DEFLATERAW?j.deflateEnd(this.strm):this.mode!==o.INFLATE&&this.mode!==o.GUNZIP&&this.mode!==o.INFLATERAW&&this.mode!==o.UNZIP||nt.inflateEnd(this.strm),this.mode=o.NONE,this.dictionary=null)},_t.prototype.write=function(ft,dt,ut,mt,wt,Qt,Dt){return this._write(!0,ft,dt,ut,mt,wt,Qt,Dt)},_t.prototype.writeSync=function(ft,dt,ut,mt,wt,Qt,Dt){return this._write(!1,ft,dt,ut,mt,wt,Qt,Dt)},_t.prototype._write=function(ft,dt,ut,mt,wt,Qt,Dt,Et){if(_e.equal(arguments.length,8),_e(this.init_done,"write before init"),_e(this.mode!==o.NONE,"already finalized"),_e.equal(!1,this.write_in_progress,"write already in progress"),_e.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,_e.equal(!1,dt===void 0,"must provide flush value"),this.write_in_progress=!0,dt!==o.Z_NO_FLUSH&&dt!==o.Z_PARTIAL_FLUSH&&dt!==o.Z_SYNC_FLUSH&&dt!==o.Z_FULL_FLUSH&&dt!==o.Z_FINISH&&dt!==o.Z_BLOCK)throw new Error("Invalid flush value");if(ut==null&&(ut=_.alloc(0),wt=0,mt=0),this.strm.avail_in=wt,this.strm.input=ut,this.strm.next_in=mt,this.strm.avail_out=Et,this.strm.output=Qt,this.strm.next_out=Dt,this.flush=dt,!ft)return this._process(),this._checkError()?this._afterSync():void 0;var xt=this;return $.nextTick(function(){xt._process(),xt._after()}),this},_t.prototype._afterSync=function(){var ft=this.strm.avail_out,dt=this.strm.avail_in;return this.write_in_progress=!1,[dt,ft]},_t.prototype._process=function(){var ft=null;switch(this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflate(this.strm,this.flush);break;case o.UNZIP:switch(this.strm.avail_in>0&&(ft=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ft===null)break;if(this.strm.input[ft]!==31){this.mode=o.INFLATE;break}if(this.gzip_id_bytes_read=1,ft++,this.strm.avail_in===1)break;case 1:if(ft===null)break;this.strm.input[ft]===139?(this.gzip_id_bytes_read=2,this.mode=o.GUNZIP):this.mode=o.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:for(this.err=nt.inflate(this.strm,this.flush),this.err===o.Z_NEED_DICT&&this.dictionary&&(this.err=nt.inflateSetDictionary(this.strm,this.dictionary),this.err===o.Z_OK?this.err=nt.inflate(this.strm,this.flush):this.err===o.Z_DATA_ERROR&&(this.err=o.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===o.GUNZIP&&this.err===o.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=nt.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},_t.prototype._checkError=function(){switch(this.err){case o.Z_OK:case o.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===o.Z_FINISH)return this._error("unexpected end of file"),!1;break;case o.Z_STREAM_END:break;case o.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},_t.prototype._after=function(){if(this._checkError()){var ft=this.strm.avail_out,dt=this.strm.avail_in;this.write_in_progress=!1,this.callback(dt,ft),this.pending_close&&this.close()}},_t.prototype._error=function(ft){this.strm.msg&&(ft=this.strm.msg),this.onerror(ft,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},_t.prototype.init=function(ft,dt,ut,mt,wt){_e(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),_e(ft>=8&&ft<=15,"invalid windowBits"),_e(dt>=-1&&dt<=9,"invalid compression level"),_e(ut>=1&&ut<=9,"invalid memlevel"),_e(mt===o.Z_FILTERED||mt===o.Z_HUFFMAN_ONLY||mt===o.Z_RLE||mt===o.Z_FIXED||mt===o.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(dt,ft,ut,mt,wt),this._setDictionary()},_t.prototype.params=function(){throw new Error("deflateParams Not supported")},_t.prototype.reset=function(){this._reset(),this._setDictionary()},_t.prototype._init=function(ft,dt,ut,mt,wt){switch(this.level=ft,this.windowBits=dt,this.memLevel=ut,this.strategy=mt,this.flush=o.Z_NO_FLUSH,this.err=o.Z_OK,this.mode!==o.GZIP&&this.mode!==o.GUNZIP||(this.windowBits+=16),this.mode===o.UNZIP&&(this.windowBits+=32),this.mode!==o.DEFLATERAW&&this.mode!==o.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new tt,this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflateInit2(this.strm,this.level,o.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:case o.UNZIP:this.err=nt.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==o.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},_t.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:this.err=j.deflateSetDictionary(this.strm,this.dictionary)}this.err!==o.Z_OK&&this._error("Failed to set dictionary")}},_t.prototype._reset=function(){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:case o.GZIP:this.err=j.deflateReset(this.strm);break;case o.INFLATE:case o.INFLATERAW:case o.GUNZIP:this.err=nt.inflateReset(this.strm)}this.err!==o.Z_OK&&this._error("Failed to reset stream")},o.Zlib=_t}).call(this,s(5).Buffer,s(2))},function(i,o,s){var _=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;function tt(j){if(j==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(j)}i.exports=function(){try{if(!Object.assign)return!1;var j=new String("abc");if(j[5]="de",Object.getOwnPropertyNames(j)[0]==="5")return!1;for(var nt={},st=0;st<10;st++)nt["_"+String.fromCharCode(st)]=st;if(Object.getOwnPropertyNames(nt).map(function(_t){return nt[_t]}).join("")!=="0123456789")return!1;var ht={};return"abcdefghijklmnopqrst".split("").forEach(function(_t){ht[_t]=_t}),Object.keys(Object.assign({},ht)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(j,nt){for(var st,ht,_t=tt(j),ft=1;ft<arguments.length;ft++){for(var dt in st=Object(arguments[ft]))$.call(st,dt)&&(_t[dt]=st[dt]);if(_){ht=_(st);for(var ut=0;ut<ht.length;ut++)_e.call(st,ht[ut])&&(_t[ht[ut]]=st[ht[ut]])}}return _t}},function(i,o,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(i,o,s){var _,$=s(37),_e=s(173),tt=s(75),j=s(76),nt=s(174);function st(bt,St){return bt.msg=nt[St],St}function ht(bt){return(bt<<1)-(bt>4?9:0)}function _t(bt){for(var St=bt.length;--St>=0;)bt[St]=0}function ft(bt){var St=bt.state,It=St.pending;It>bt.avail_out&&(It=bt.avail_out),It!==0&&($.arraySet(bt.output,St.pending_buf,St.pending_out,It,bt.next_out),bt.next_out+=It,St.pending_out+=It,bt.total_out+=It,bt.avail_out-=It,St.pending-=It,St.pending===0&&(St.pending_out=0))}function dt(bt,St){_e._tr_flush_block(bt,bt.block_start>=0?bt.block_start:-1,bt.strstart-bt.block_start,St),bt.block_start=bt.strstart,ft(bt.strm)}function ut(bt,St){bt.pending_buf[bt.pending++]=St}function mt(bt,St){bt.pending_buf[bt.pending++]=St>>>8&255,bt.pending_buf[bt.pending++]=255&St}function wt(bt,St){var It,Bt,Lt=bt.max_chain_length,Xt=bt.strstart,zt=bt.prev_length,Pt=bt.nice_match,jt=bt.strstart>bt.w_size-262?bt.strstart-(bt.w_size-262):0,Zt=bt.window,Ct=bt.w_mask,Ft=bt.prev,Ht=bt.strstart+258,tn=Zt[Xt+zt-1],mn=Zt[Xt+zt];bt.prev_length>=bt.good_match&&(Lt>>=2),Pt>bt.lookahead&&(Pt=bt.lookahead);do if(Zt[(It=St)+zt]===mn&&Zt[It+zt-1]===tn&&Zt[It]===Zt[Xt]&&Zt[++It]===Zt[Xt+1]){Xt+=2,It++;do;while(Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Xt<Ht);if(Bt=258-(Ht-Xt),Xt=Ht-258,Bt>zt){if(bt.match_start=St,zt=Bt,Bt>=Pt)break;tn=Zt[Xt+zt-1],mn=Zt[Xt+zt]}}while((St=Ft[St&Ct])>jt&&--Lt!=0);return zt<=bt.lookahead?zt:bt.lookahead}function Qt(bt){var St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft=bt.w_size;do{if(Lt=bt.window_size-bt.lookahead-bt.strstart,bt.strstart>=Ft+(Ft-262)){$.arraySet(bt.window,bt.window,Ft,Ft,0),bt.match_start-=Ft,bt.strstart-=Ft,bt.block_start-=Ft,St=It=bt.hash_size;do Bt=bt.head[--St],bt.head[St]=Bt>=Ft?Bt-Ft:0;while(--It);St=It=Ft;do Bt=bt.prev[--St],bt.prev[St]=Bt>=Ft?Bt-Ft:0;while(--It);Lt+=Ft}if(bt.strm.avail_in===0)break;if(zt=bt.strm,Pt=bt.window,jt=bt.strstart+bt.lookahead,Zt=Lt,Ct=void 0,(Ct=zt.avail_in)>Zt&&(Ct=Zt),It=Ct===0?0:(zt.avail_in-=Ct,$.arraySet(Pt,zt.input,zt.next_in,Ct,jt),zt.state.wrap===1?zt.adler=tt(zt.adler,Pt,Ct,jt):zt.state.wrap===2&&(zt.adler=j(zt.adler,Pt,Ct,jt)),zt.next_in+=Ct,zt.total_in+=Ct,Ct),bt.lookahead+=It,bt.lookahead+bt.insert>=3)for(Xt=bt.strstart-bt.insert,bt.ins_h=bt.window[Xt],bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[Xt+1])&bt.hash_mask;bt.insert&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[Xt+3-1])&bt.hash_mask,bt.prev[Xt&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=Xt,Xt++,bt.insert--,!(bt.lookahead+bt.insert<3)););}while(bt.lookahead<262&&bt.strm.avail_in!==0)}function Dt(bt,St){for(var It,Bt;;){if(bt.lookahead<262){if(Qt(bt),bt.lookahead<262&&St===0)return 1;if(bt.lookahead===0)break}if(It=0,bt.lookahead>=3&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart),It!==0&&bt.strstart-It<=bt.w_size-262&&(bt.match_length=wt(bt,It)),bt.match_length>=3)if(Bt=_e._tr_tally(bt,bt.strstart-bt.match_start,bt.match_length-3),bt.lookahead-=bt.match_length,bt.match_length<=bt.max_lazy_match&&bt.lookahead>=3){bt.match_length--;do bt.strstart++,bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart;while(--bt.match_length!=0);bt.strstart++}else bt.strstart+=bt.match_length,bt.match_length=0,bt.ins_h=bt.window[bt.strstart],bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+1])&bt.hash_mask;else Bt=_e._tr_tally(bt,0,bt.window[bt.strstart]),bt.lookahead--,bt.strstart++;if(Bt&&(dt(bt,!1),bt.strm.avail_out===0))return 1}return bt.insert=bt.strstart<2?bt.strstart:2,St===4?(dt(bt,!0),bt.strm.avail_out===0?3:4):bt.last_lit&&(dt(bt,!1),bt.strm.avail_out===0)?1:2}function Et(bt,St){for(var It,Bt,Lt;;){if(bt.lookahead<262){if(Qt(bt),bt.lookahead<262&&St===0)return 1;if(bt.lookahead===0)break}if(It=0,bt.lookahead>=3&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart),bt.prev_length=bt.match_length,bt.prev_match=bt.match_start,bt.match_length=2,It!==0&&bt.prev_length<bt.max_lazy_match&&bt.strstart-It<=bt.w_size-262&&(bt.match_length=wt(bt,It),bt.match_length<=5&&(bt.strategy===1||bt.match_length===3&&bt.strstart-bt.match_start>4096)&&(bt.match_length=2)),bt.prev_length>=3&&bt.match_length<=bt.prev_length){Lt=bt.strstart+bt.lookahead-3,Bt=_e._tr_tally(bt,bt.strstart-1-bt.prev_match,bt.prev_length-3),bt.lookahead-=bt.prev_length-1,bt.prev_length-=2;do++bt.strstart<=Lt&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart);while(--bt.prev_length!=0);if(bt.match_available=0,bt.match_length=2,bt.strstart++,Bt&&(dt(bt,!1),bt.strm.avail_out===0))return 1}else if(bt.match_available){if((Bt=_e._tr_tally(bt,0,bt.window[bt.strstart-1]))&&dt(bt,!1),bt.strstart++,bt.lookahead--,bt.strm.avail_out===0)return 1}else bt.match_available=1,bt.strstart++,bt.lookahead--}return bt.match_available&&(Bt=_e._tr_tally(bt,0,bt.window[bt.strstart-1]),bt.match_available=0),bt.insert=bt.strstart<2?bt.strstart:2,St===4?(dt(bt,!0),bt.strm.avail_out===0?3:4):bt.last_lit&&(dt(bt,!1),bt.strm.avail_out===0)?1:2}function xt(bt,St,It,Bt,Lt){this.good_length=bt,this.max_lazy=St,this.nice_length=It,this.max_chain=Bt,this.func=Lt}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(1146),this.dyn_dtree=new $.Buf16(122),this.bl_tree=new $.Buf16(78),_t(this.dyn_ltree),_t(this.dyn_dtree),_t(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(16),this.heap=new $.Buf16(573),_t(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(573),_t(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Vt(bt){var St;return bt&&bt.state?(bt.total_in=bt.total_out=0,bt.data_type=2,(St=bt.state).pending=0,St.pending_out=0,St.wrap<0&&(St.wrap=-St.wrap),St.status=St.wrap?42:113,bt.adler=St.wrap===2?0:1,St.last_flush=0,_e._tr_init(St),0):st(bt,-2)}function nn(bt){var St,It=Vt(bt);return It===0&&((St=bt.state).window_size=2*St.w_size,_t(St.head),St.max_lazy_match=_[St.level].max_lazy,St.good_match=_[St.level].good_length,St.nice_match=_[St.level].nice_length,St.max_chain_length=_[St.level].max_chain,St.strstart=0,St.block_start=0,St.lookahead=0,St.insert=0,St.match_length=St.prev_length=2,St.match_available=0,St.ins_h=0),It}function on(bt,St,It,Bt,Lt,Xt){if(!bt)return-2;var zt=1;if(St===-1&&(St=6),Bt<0?(zt=0,Bt=-Bt):Bt>15&&(zt=2,Bt-=16),Lt<1||Lt>9||It!==8||Bt<8||Bt>15||St<0||St>9||Xt<0||Xt>4)return st(bt,-2);Bt===8&&(Bt=9);var Pt=new pt;return bt.state=Pt,Pt.strm=bt,Pt.wrap=zt,Pt.gzhead=null,Pt.w_bits=Bt,Pt.w_size=1<<Pt.w_bits,Pt.w_mask=Pt.w_size-1,Pt.hash_bits=Lt+7,Pt.hash_size=1<<Pt.hash_bits,Pt.hash_mask=Pt.hash_size-1,Pt.hash_shift=~~((Pt.hash_bits+3-1)/3),Pt.window=new $.Buf8(2*Pt.w_size),Pt.head=new $.Buf16(Pt.hash_size),Pt.prev=new $.Buf16(Pt.w_size),Pt.lit_bufsize=1<<Lt+6,Pt.pending_buf_size=4*Pt.lit_bufsize,Pt.pending_buf=new $.Buf8(Pt.pending_buf_size),Pt.d_buf=1*Pt.lit_bufsize,Pt.l_buf=3*Pt.lit_bufsize,Pt.level=St,Pt.strategy=Xt,Pt.method=It,nn(bt)}_=[new xt(0,0,0,0,function(bt,St){var It=65535;for(It>bt.pending_buf_size-5&&(It=bt.pending_buf_size-5);;){if(bt.lookahead<=1){if(Qt(bt),bt.lookahead===0&&St===0)return 1;if(bt.lookahead===0)break}bt.strstart+=bt.lookahead,bt.lookahead=0;var Bt=bt.block_start+It;if((bt.strstart===0||bt.strstart>=Bt)&&(bt.lookahead=bt.strstart-Bt,bt.strstart=Bt,dt(bt,!1),bt.strm.avail_out===0)||bt.strstart-bt.block_start>=bt.w_size-262&&(dt(bt,!1),bt.strm.avail_out===0))return 1}return bt.insert=0,St===4?(dt(bt,!0),bt.strm.avail_out===0?3:4):(bt.strstart>bt.block_start&&(dt(bt,!1),bt.strm.avail_out),1)}),new xt(4,4,8,4,Dt),new xt(4,5,16,8,Dt),new xt(4,6,32,32,Dt),new xt(4,4,16,16,Et),new xt(8,16,32,32,Et),new xt(8,16,128,128,Et),new xt(8,32,128,256,Et),new xt(32,128,258,1024,Et),new xt(32,258,258,4096,Et)],o.deflateInit=function(bt,St){return on(bt,St,8,15,8,0)},o.deflateInit2=on,o.deflateReset=nn,o.deflateResetKeep=Vt,o.deflateSetHeader=function(bt,St){return bt&&bt.state?bt.state.wrap!==2?-2:(bt.state.gzhead=St,0):-2},o.deflate=function(bt,St){var It,Bt,Lt,Xt;if(!bt||!bt.state||St>5||St<0)return bt?st(bt,-2):-2;if(Bt=bt.state,!bt.output||!bt.input&&bt.avail_in!==0||Bt.status===666&&St!==4)return st(bt,bt.avail_out===0?-5:-2);if(Bt.strm=bt,It=Bt.last_flush,Bt.last_flush=St,Bt.status===42)if(Bt.wrap===2)bt.adler=0,ut(Bt,31),ut(Bt,139),ut(Bt,8),Bt.gzhead?(ut(Bt,(Bt.gzhead.text?1:0)+(Bt.gzhead.hcrc?2:0)+(Bt.gzhead.extra?4:0)+(Bt.gzhead.name?8:0)+(Bt.gzhead.comment?16:0)),ut(Bt,255&Bt.gzhead.time),ut(Bt,Bt.gzhead.time>>8&255),ut(Bt,Bt.gzhead.time>>16&255),ut(Bt,Bt.gzhead.time>>24&255),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,255&Bt.gzhead.os),Bt.gzhead.extra&&Bt.gzhead.extra.length&&(ut(Bt,255&Bt.gzhead.extra.length),ut(Bt,Bt.gzhead.extra.length>>8&255)),Bt.gzhead.hcrc&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending,0)),Bt.gzindex=0,Bt.status=69):(ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,3),Bt.status=113);else{var zt=8+(Bt.w_bits-8<<4)<<8;zt|=(Bt.strategy>=2||Bt.level<2?0:Bt.level<6?1:Bt.level===6?2:3)<<6,Bt.strstart!==0&&(zt|=32),zt+=31-zt%31,Bt.status=113,mt(Bt,zt),Bt.strstart!==0&&(mt(Bt,bt.adler>>>16),mt(Bt,65535&bt.adler)),bt.adler=1}if(Bt.status===69)if(Bt.gzhead.extra){for(Lt=Bt.pending;Bt.gzindex<(65535&Bt.gzhead.extra.length)&&(Bt.pending!==Bt.pending_buf_size||(Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),ft(bt),Lt=Bt.pending,Bt.pending!==Bt.pending_buf_size));)ut(Bt,255&Bt.gzhead.extra[Bt.gzindex]),Bt.gzindex++;Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),Bt.gzindex===Bt.gzhead.extra.length&&(Bt.gzindex=0,Bt.status=73)}else Bt.status=73;if(Bt.status===73)if(Bt.gzhead.name){Lt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),ft(bt),Lt=Bt.pending,Bt.pending===Bt.pending_buf_size)){Xt=1;break}Xt=Bt.gzindex<Bt.gzhead.name.length?255&Bt.gzhead.name.charCodeAt(Bt.gzindex++):0,ut(Bt,Xt)}while(Xt!==0);Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),Xt===0&&(Bt.gzindex=0,Bt.status=91)}else Bt.status=91;if(Bt.status===91)if(Bt.gzhead.comment){Lt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),ft(bt),Lt=Bt.pending,Bt.pending===Bt.pending_buf_size)){Xt=1;break}Xt=Bt.gzindex<Bt.gzhead.comment.length?255&Bt.gzhead.comment.charCodeAt(Bt.gzindex++):0,ut(Bt,Xt)}while(Xt!==0);Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),Xt===0&&(Bt.status=103)}else Bt.status=103;if(Bt.status===103&&(Bt.gzhead.hcrc?(Bt.pending+2>Bt.pending_buf_size&&ft(bt),Bt.pending+2<=Bt.pending_buf_size&&(ut(Bt,255&bt.adler),ut(Bt,bt.adler>>8&255),bt.adler=0,Bt.status=113)):Bt.status=113),Bt.pending!==0){if(ft(bt),bt.avail_out===0)return Bt.last_flush=-1,0}else if(bt.avail_in===0&&ht(St)<=ht(It)&&St!==4)return st(bt,-5);if(Bt.status===666&&bt.avail_in!==0)return st(bt,-5);if(bt.avail_in!==0||Bt.lookahead!==0||St!==0&&Bt.status!==666){var Pt=Bt.strategy===2?function(jt,Zt){for(var Ct;;){if(jt.lookahead===0&&(Qt(jt),jt.lookahead===0)){if(Zt===0)return 1;break}if(jt.match_length=0,Ct=_e._tr_tally(jt,0,jt.window[jt.strstart]),jt.lookahead--,jt.strstart++,Ct&&(dt(jt,!1),jt.strm.avail_out===0))return 1}return jt.insert=0,Zt===4?(dt(jt,!0),jt.strm.avail_out===0?3:4):jt.last_lit&&(dt(jt,!1),jt.strm.avail_out===0)?1:2}(Bt,St):Bt.strategy===3?function(jt,Zt){for(var Ct,Ft,Ht,tn,mn=jt.window;;){if(jt.lookahead<=258){if(Qt(jt),jt.lookahead<=258&&Zt===0)return 1;if(jt.lookahead===0)break}if(jt.match_length=0,jt.lookahead>=3&&jt.strstart>0&&(Ft=mn[Ht=jt.strstart-1])===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]){tn=jt.strstart+258;do;while(Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ht<tn);jt.match_length=258-(tn-Ht),jt.match_length>jt.lookahead&&(jt.match_length=jt.lookahead)}if(jt.match_length>=3?(Ct=_e._tr_tally(jt,1,jt.match_length-3),jt.lookahead-=jt.match_length,jt.strstart+=jt.match_length,jt.match_length=0):(Ct=_e._tr_tally(jt,0,jt.window[jt.strstart]),jt.lookahead--,jt.strstart++),Ct&&(dt(jt,!1),jt.strm.avail_out===0))return 1}return jt.insert=0,Zt===4?(dt(jt,!0),jt.strm.avail_out===0?3:4):jt.last_lit&&(dt(jt,!1),jt.strm.avail_out===0)?1:2}(Bt,St):_[Bt.level].func(Bt,St);if(Pt!==3&&Pt!==4||(Bt.status=666),Pt===1||Pt===3)return bt.avail_out===0&&(Bt.last_flush=-1),0;if(Pt===2&&(St===1?_e._tr_align(Bt):St!==5&&(_e._tr_stored_block(Bt,0,0,!1),St===3&&(_t(Bt.head),Bt.lookahead===0&&(Bt.strstart=0,Bt.block_start=0,Bt.insert=0))),ft(bt),bt.avail_out===0))return Bt.last_flush=-1,0}return St!==4?0:Bt.wrap<=0?1:(Bt.wrap===2?(ut(Bt,255&bt.adler),ut(Bt,bt.adler>>8&255),ut(Bt,bt.adler>>16&255),ut(Bt,bt.adler>>24&255),ut(Bt,255&bt.total_in),ut(Bt,bt.total_in>>8&255),ut(Bt,bt.total_in>>16&255),ut(Bt,bt.total_in>>24&255)):(mt(Bt,bt.adler>>>16),mt(Bt,65535&bt.adler)),ft(bt),Bt.wrap>0&&(Bt.wrap=-Bt.wrap),Bt.pending!==0?0:1)},o.deflateEnd=function(bt){var St;return bt&&bt.state?(St=bt.state.status)!==42&&St!==69&&St!==73&&St!==91&&St!==103&&St!==113&&St!==666?st(bt,-2):(bt.state=null,St===113?st(bt,-3):0):-2},o.deflateSetDictionary=function(bt,St){var It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct=St.length;if(!bt||!bt.state||(Xt=(It=bt.state).wrap)===2||Xt===1&&It.status!==42||It.lookahead)return-2;for(Xt===1&&(bt.adler=tt(bt.adler,St,Ct,0)),It.wrap=0,Ct>=It.w_size&&(Xt===0&&(_t(It.head),It.strstart=0,It.block_start=0,It.insert=0),Zt=new $.Buf8(It.w_size),$.arraySet(Zt,St,Ct-It.w_size,It.w_size,0),St=Zt,Ct=It.w_size),zt=bt.avail_in,Pt=bt.next_in,jt=bt.input,bt.avail_in=Ct,bt.next_in=0,bt.input=St,Qt(It);It.lookahead>=3;){Bt=It.strstart,Lt=It.lookahead-2;do It.ins_h=(It.ins_h<<It.hash_shift^It.window[Bt+3-1])&It.hash_mask,It.prev[Bt&It.w_mask]=It.head[It.ins_h],It.head[It.ins_h]=Bt,Bt++;while(--Lt);It.strstart=Bt,It.lookahead=2,Qt(It)}return It.strstart+=It.lookahead,It.block_start=It.strstart,It.insert=It.lookahead,It.lookahead=0,It.match_length=It.prev_length=2,It.match_available=0,bt.next_in=Pt,bt.input=jt,bt.avail_in=zt,It.wrap=Xt,0},o.deflateInfo="pako deflate (from Nodeca project)"},function(i,o,s){var _=s(37);function $(Ft){for(var Ht=Ft.length;--Ht>=0;)Ft[Ht]=0}var _e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],st=new Array(576);$(st);var ht=new Array(60);$(ht);var _t=new Array(512);$(_t);var ft=new Array(256);$(ft);var dt=new Array(29);$(dt);var ut,mt,wt,Qt=new Array(30);function Dt(Ft,Ht,tn,mn,yn){this.static_tree=Ft,this.extra_bits=Ht,this.extra_base=tn,this.elems=mn,this.max_length=yn,this.has_stree=Ft&&Ft.length}function Et(Ft,Ht){this.dyn_tree=Ft,this.max_code=0,this.stat_desc=Ht}function xt(Ft){return Ft<256?_t[Ft]:_t[256+(Ft>>>7)]}function pt(Ft,Ht){Ft.pending_buf[Ft.pending++]=255&Ht,Ft.pending_buf[Ft.pending++]=Ht>>>8&255}function Vt(Ft,Ht,tn){Ft.bi_valid>16-tn?(Ft.bi_buf|=Ht<<Ft.bi_valid&65535,pt(Ft,Ft.bi_buf),Ft.bi_buf=Ht>>16-Ft.bi_valid,Ft.bi_valid+=tn-16):(Ft.bi_buf|=Ht<<Ft.bi_valid&65535,Ft.bi_valid+=tn)}function nn(Ft,Ht,tn){Vt(Ft,tn[2*Ht],tn[2*Ht+1])}function on(Ft,Ht){var tn=0;do tn|=1&Ft,Ft>>>=1,tn<<=1;while(--Ht>0);return tn>>>1}function bt(Ft,Ht,tn){var mn,yn,vn=new Array(16),un=0;for(mn=1;mn<=15;mn++)vn[mn]=un=un+tn[mn-1]<<1;for(yn=0;yn<=Ht;yn++){var rn=Ft[2*yn+1];rn!==0&&(Ft[2*yn]=on(vn[rn]++,rn))}}function St(Ft){var Ht;for(Ht=0;Ht<286;Ht++)Ft.dyn_ltree[2*Ht]=0;for(Ht=0;Ht<30;Ht++)Ft.dyn_dtree[2*Ht]=0;for(Ht=0;Ht<19;Ht++)Ft.bl_tree[2*Ht]=0;Ft.dyn_ltree[512]=1,Ft.opt_len=Ft.static_len=0,Ft.last_lit=Ft.matches=0}function It(Ft){Ft.bi_valid>8?pt(Ft,Ft.bi_buf):Ft.bi_valid>0&&(Ft.pending_buf[Ft.pending++]=Ft.bi_buf),Ft.bi_buf=0,Ft.bi_valid=0}function Bt(Ft,Ht,tn,mn){var yn=2*Ht,vn=2*tn;return Ft[yn]<Ft[vn]||Ft[yn]===Ft[vn]&&mn[Ht]<=mn[tn]}function Lt(Ft,Ht,tn){for(var mn=Ft.heap[tn],yn=tn<<1;yn<=Ft.heap_len&&(yn<Ft.heap_len&&Bt(Ht,Ft.heap[yn+1],Ft.heap[yn],Ft.depth)&&yn++,!Bt(Ht,mn,Ft.heap[yn],Ft.depth));)Ft.heap[tn]=Ft.heap[yn],tn=yn,yn<<=1;Ft.heap[tn]=mn}function Xt(Ft,Ht,tn){var mn,yn,vn,un,rn=0;if(Ft.last_lit!==0)do mn=Ft.pending_buf[Ft.d_buf+2*rn]<<8|Ft.pending_buf[Ft.d_buf+2*rn+1],yn=Ft.pending_buf[Ft.l_buf+rn],rn++,mn===0?nn(Ft,yn,Ht):(nn(Ft,(vn=ft[yn])+256+1,Ht),(un=_e[vn])!==0&&Vt(Ft,yn-=dt[vn],un),nn(Ft,vn=xt(--mn),tn),(un=tt[vn])!==0&&Vt(Ft,mn-=Qt[vn],un));while(rn<Ft.last_lit);nn(Ft,256,Ht)}function zt(Ft,Ht){var tn,mn,yn,vn=Ht.dyn_tree,un=Ht.stat_desc.static_tree,rn=Ht.stat_desc.has_stree,At=Ht.stat_desc.elems,Mt=-1;for(Ft.heap_len=0,Ft.heap_max=573,tn=0;tn<At;tn++)vn[2*tn]!==0?(Ft.heap[++Ft.heap_len]=Mt=tn,Ft.depth[tn]=0):vn[2*tn+1]=0;for(;Ft.heap_len<2;)vn[2*(yn=Ft.heap[++Ft.heap_len]=Mt<2?++Mt:0)]=1,Ft.depth[yn]=0,Ft.opt_len--,rn&&(Ft.static_len-=un[2*yn+1]);for(Ht.max_code=Mt,tn=Ft.heap_len>>1;tn>=1;tn--)Lt(Ft,vn,tn);yn=At;do tn=Ft.heap[1],Ft.heap[1]=Ft.heap[Ft.heap_len--],Lt(Ft,vn,1),mn=Ft.heap[1],Ft.heap[--Ft.heap_max]=tn,Ft.heap[--Ft.heap_max]=mn,vn[2*yn]=vn[2*tn]+vn[2*mn],Ft.depth[yn]=(Ft.depth[tn]>=Ft.depth[mn]?Ft.depth[tn]:Ft.depth[mn])+1,vn[2*tn+1]=vn[2*mn+1]=yn,Ft.heap[1]=yn++,Lt(Ft,vn,1);while(Ft.heap_len>=2);Ft.heap[--Ft.heap_max]=Ft.heap[1],function($t,pn){var hn,Sn,An,Gn,Qr,_i,Pr=pn.dyn_tree,po=pn.max_code,jr=pn.stat_desc.static_tree,Yr=pn.stat_desc.has_stree,no=pn.stat_desc.extra_bits,Qo=pn.stat_desc.extra_base,Co=pn.stat_desc.max_length,Jo=0;for(Gn=0;Gn<=15;Gn++)$t.bl_count[Gn]=0;for(Pr[2*$t.heap[$t.heap_max]+1]=0,hn=$t.heap_max+1;hn<573;hn++)(Gn=Pr[2*Pr[2*(Sn=$t.heap[hn])+1]+1]+1)>Co&&(Gn=Co,Jo++),Pr[2*Sn+1]=Gn,Sn>po||($t.bl_count[Gn]++,Qr=0,Sn>=Qo&&(Qr=no[Sn-Qo]),_i=Pr[2*Sn],$t.opt_len+=_i*(Gn+Qr),Yr&&($t.static_len+=_i*(jr[2*Sn+1]+Qr)));if(Jo!==0){do{for(Gn=Co-1;$t.bl_count[Gn]===0;)Gn--;$t.bl_count[Gn]--,$t.bl_count[Gn+1]+=2,$t.bl_count[Co]--,Jo-=2}while(Jo>0);for(Gn=Co;Gn!==0;Gn--)for(Sn=$t.bl_count[Gn];Sn!==0;)(An=$t.heap[--hn])>po||(Pr[2*An+1]!==Gn&&($t.opt_len+=(Gn-Pr[2*An+1])*Pr[2*An],Pr[2*An+1]=Gn),Sn--)}}(Ft,Ht),bt(vn,Mt,Ft.bl_count)}function Pt(Ft,Ht,tn){var mn,yn,vn=-1,un=Ht[1],rn=0,At=7,Mt=4;for(un===0&&(At=138,Mt=3),Ht[2*(tn+1)+1]=65535,mn=0;mn<=tn;mn++)yn=un,un=Ht[2*(mn+1)+1],++rn<At&&yn===un||(rn<Mt?Ft.bl_tree[2*yn]+=rn:yn!==0?(yn!==vn&&Ft.bl_tree[2*yn]++,Ft.bl_tree[32]++):rn<=10?Ft.bl_tree[34]++:Ft.bl_tree[36]++,rn=0,vn=yn,un===0?(At=138,Mt=3):yn===un?(At=6,Mt=3):(At=7,Mt=4))}function jt(Ft,Ht,tn){var mn,yn,vn=-1,un=Ht[1],rn=0,At=7,Mt=4;for(un===0&&(At=138,Mt=3),mn=0;mn<=tn;mn++)if(yn=un,un=Ht[2*(mn+1)+1],!(++rn<At&&yn===un)){if(rn<Mt)do nn(Ft,yn,Ft.bl_tree);while(--rn!=0);else yn!==0?(yn!==vn&&(nn(Ft,yn,Ft.bl_tree),rn--),nn(Ft,16,Ft.bl_tree),Vt(Ft,rn-3,2)):rn<=10?(nn(Ft,17,Ft.bl_tree),Vt(Ft,rn-3,3)):(nn(Ft,18,Ft.bl_tree),Vt(Ft,rn-11,7));rn=0,vn=yn,un===0?(At=138,Mt=3):yn===un?(At=6,Mt=3):(At=7,Mt=4)}}$(Qt);var Zt=!1;function Ct(Ft,Ht,tn,mn){Vt(Ft,0+(mn?1:0),3),function(yn,vn,un,rn){It(yn),rn&&(pt(yn,un),pt(yn,~un)),_.arraySet(yn.pending_buf,yn.window,vn,un,yn.pending),yn.pending+=un}(Ft,Ht,tn,!0)}o._tr_init=function(Ft){Zt||(function(){var Ht,tn,mn,yn,vn,un=new Array(16);for(mn=0,yn=0;yn<28;yn++)for(dt[yn]=mn,Ht=0;Ht<1<<_e[yn];Ht++)ft[mn++]=yn;for(ft[mn-1]=yn,vn=0,yn=0;yn<16;yn++)for(Qt[yn]=vn,Ht=0;Ht<1<<tt[yn];Ht++)_t[vn++]=yn;for(vn>>=7;yn<30;yn++)for(Qt[yn]=vn<<7,Ht=0;Ht<1<<tt[yn]-7;Ht++)_t[256+vn++]=yn;for(tn=0;tn<=15;tn++)un[tn]=0;for(Ht=0;Ht<=143;)st[2*Ht+1]=8,Ht++,un[8]++;for(;Ht<=255;)st[2*Ht+1]=9,Ht++,un[9]++;for(;Ht<=279;)st[2*Ht+1]=7,Ht++,un[7]++;for(;Ht<=287;)st[2*Ht+1]=8,Ht++,un[8]++;for(bt(st,287,un),Ht=0;Ht<30;Ht++)ht[2*Ht+1]=5,ht[2*Ht]=on(Ht,5);ut=new Dt(st,_e,257,286,15),mt=new Dt(ht,tt,0,30,15),wt=new Dt(new Array(0),j,0,19,7)}(),Zt=!0),Ft.l_desc=new Et(Ft.dyn_ltree,ut),Ft.d_desc=new Et(Ft.dyn_dtree,mt),Ft.bl_desc=new Et(Ft.bl_tree,wt),Ft.bi_buf=0,Ft.bi_valid=0,St(Ft)},o._tr_stored_block=Ct,o._tr_flush_block=function(Ft,Ht,tn,mn){var yn,vn,un=0;Ft.level>0?(Ft.strm.data_type===2&&(Ft.strm.data_type=function(rn){var At,Mt=4093624447;for(At=0;At<=31;At++,Mt>>>=1)if(1&Mt&&rn.dyn_ltree[2*At]!==0)return 0;if(rn.dyn_ltree[18]!==0||rn.dyn_ltree[20]!==0||rn.dyn_ltree[26]!==0)return 1;for(At=32;At<256;At++)if(rn.dyn_ltree[2*At]!==0)return 1;return 0}(Ft)),zt(Ft,Ft.l_desc),zt(Ft,Ft.d_desc),un=function(rn){var At;for(Pt(rn,rn.dyn_ltree,rn.l_desc.max_code),Pt(rn,rn.dyn_dtree,rn.d_desc.max_code),zt(rn,rn.bl_desc),At=18;At>=3&&rn.bl_tree[2*nt[At]+1]===0;At--);return rn.opt_len+=3*(At+1)+5+5+4,At}(Ft),yn=Ft.opt_len+3+7>>>3,(vn=Ft.static_len+3+7>>>3)<=yn&&(yn=vn)):yn=vn=tn+5,tn+4<=yn&&Ht!==-1?Ct(Ft,Ht,tn,mn):Ft.strategy===4||vn===yn?(Vt(Ft,2+(mn?1:0),3),Xt(Ft,st,ht)):(Vt(Ft,4+(mn?1:0),3),function(rn,At,Mt,$t){var pn;for(Vt(rn,At-257,5),Vt(rn,Mt-1,5),Vt(rn,$t-4,4),pn=0;pn<$t;pn++)Vt(rn,rn.bl_tree[2*nt[pn]+1],3);jt(rn,rn.dyn_ltree,At-1),jt(rn,rn.dyn_dtree,Mt-1)}(Ft,Ft.l_desc.max_code+1,Ft.d_desc.max_code+1,un+1),Xt(Ft,Ft.dyn_ltree,Ft.dyn_dtree)),St(Ft),mn&&It(Ft)},o._tr_tally=function(Ft,Ht,tn){return Ft.pending_buf[Ft.d_buf+2*Ft.last_lit]=Ht>>>8&255,Ft.pending_buf[Ft.d_buf+2*Ft.last_lit+1]=255&Ht,Ft.pending_buf[Ft.l_buf+Ft.last_lit]=255&tn,Ft.last_lit++,Ht===0?Ft.dyn_ltree[2*tn]++:(Ft.matches++,Ht--,Ft.dyn_ltree[2*(ft[tn]+256+1)]++,Ft.dyn_dtree[2*xt(Ht)]++),Ft.last_lit===Ft.lit_bufsize-1},o._tr_align=function(Ft){Vt(Ft,2,3),nn(Ft,256,st),function(Ht){Ht.bi_valid===16?(pt(Ht,Ht.bi_buf),Ht.bi_buf=0,Ht.bi_valid=0):Ht.bi_valid>=8&&(Ht.pending_buf[Ht.pending++]=255&Ht.bi_buf,Ht.bi_buf>>=8,Ht.bi_valid-=8)}(Ft)}},function(i,o,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(i,o,s){var _=s(37),$=s(75),_e=s(76),tt=s(176),j=s(177);function nt(Et){return(Et>>>24&255)+(Et>>>8&65280)+((65280&Et)<<8)+((255&Et)<<24)}function st(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(Et){var xt;return Et&&Et.state?(xt=Et.state,Et.total_in=Et.total_out=xt.total=0,Et.msg="",xt.wrap&&(Et.adler=1&xt.wrap),xt.mode=1,xt.last=0,xt.havedict=0,xt.dmax=32768,xt.head=null,xt.hold=0,xt.bits=0,xt.lencode=xt.lendyn=new _.Buf32(852),xt.distcode=xt.distdyn=new _.Buf32(592),xt.sane=1,xt.back=-1,0):-2}function _t(Et){var xt;return Et&&Et.state?((xt=Et.state).wsize=0,xt.whave=0,xt.wnext=0,ht(Et)):-2}function ft(Et,xt){var pt,Vt;return Et&&Et.state?(Vt=Et.state,xt<0?(pt=0,xt=-xt):(pt=1+(xt>>4),xt<48&&(xt&=15)),xt&&(xt<8||xt>15)?-2:(Vt.window!==null&&Vt.wbits!==xt&&(Vt.window=null),Vt.wrap=pt,Vt.wbits=xt,_t(Et))):-2}function dt(Et,xt){var pt,Vt;return Et?(Vt=new st,Et.state=Vt,Vt.window=null,(pt=ft(Et,xt))!==0&&(Et.state=null),pt):-2}var ut,mt,wt=!0;function Qt(Et){if(wt){var xt;for(ut=new _.Buf32(512),mt=new _.Buf32(32),xt=0;xt<144;)Et.lens[xt++]=8;for(;xt<256;)Et.lens[xt++]=9;for(;xt<280;)Et.lens[xt++]=7;for(;xt<288;)Et.lens[xt++]=8;for(j(1,Et.lens,0,288,ut,0,Et.work,{bits:9}),xt=0;xt<32;)Et.lens[xt++]=5;j(2,Et.lens,0,32,mt,0,Et.work,{bits:5}),wt=!1}Et.lencode=ut,Et.lenbits=9,Et.distcode=mt,Et.distbits=5}function Dt(Et,xt,pt,Vt){var nn,on=Et.state;return on.window===null&&(on.wsize=1<<on.wbits,on.wnext=0,on.whave=0,on.window=new _.Buf8(on.wsize)),Vt>=on.wsize?(_.arraySet(on.window,xt,pt-on.wsize,on.wsize,0),on.wnext=0,on.whave=on.wsize):((nn=on.wsize-on.wnext)>Vt&&(nn=Vt),_.arraySet(on.window,xt,pt-Vt,nn,on.wnext),(Vt-=nn)?(_.arraySet(on.window,xt,pt-Vt,Vt,0),on.wnext=Vt,on.whave=on.wsize):(on.wnext+=nn,on.wnext===on.wsize&&(on.wnext=0),on.whave<on.wsize&&(on.whave+=nn))),0}o.inflateReset=_t,o.inflateReset2=ft,o.inflateResetKeep=ht,o.inflateInit=function(Et){return dt(Et,15)},o.inflateInit2=dt,o.inflate=function(Et,xt){var pt,Vt,nn,on,bt,St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft,Ht,tn,mn,yn,vn,un,rn,At,Mt=0,$t=new _.Buf8(4),pn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Et||!Et.state||!Et.output||!Et.input&&Et.avail_in!==0)return-2;(pt=Et.state).mode===12&&(pt.mode=13),bt=Et.next_out,nn=Et.output,It=Et.avail_out,on=Et.next_in,Vt=Et.input,St=Et.avail_in,Bt=pt.hold,Lt=pt.bits,Xt=St,zt=It,un=0;e:for(;;)switch(pt.mode){case 1:if(pt.wrap===0){pt.mode=13;break}for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(2&pt.wrap&&Bt===35615){pt.check=0,$t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0),Bt=0,Lt=0,pt.mode=2;break}if(pt.flags=0,pt.head&&(pt.head.done=!1),!(1&pt.wrap)||(((255&Bt)<<8)+(Bt>>8))%31){Et.msg="incorrect header check",pt.mode=30;break}if((15&Bt)!=8){Et.msg="unknown compression method",pt.mode=30;break}if(Lt-=4,vn=8+(15&(Bt>>>=4)),pt.wbits===0)pt.wbits=vn;else if(vn>pt.wbits){Et.msg="invalid window size",pt.mode=30;break}pt.dmax=1<<vn,Et.adler=pt.check=1,pt.mode=512&Bt?10:12,Bt=0,Lt=0;break;case 2:for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(pt.flags=Bt,(255&pt.flags)!=8){Et.msg="unknown compression method",pt.mode=30;break}if(57344&pt.flags){Et.msg="unknown header flags set",pt.mode=30;break}pt.head&&(pt.head.text=Bt>>8&1),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0)),Bt=0,Lt=0,pt.mode=3;case 3:for(;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.head&&(pt.head.time=Bt),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,$t[2]=Bt>>>16&255,$t[3]=Bt>>>24&255,pt.check=_e(pt.check,$t,4,0)),Bt=0,Lt=0,pt.mode=4;case 4:for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.head&&(pt.head.xflags=255&Bt,pt.head.os=Bt>>8),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0)),Bt=0,Lt=0,pt.mode=5;case 5:if(1024&pt.flags){for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.length=Bt,pt.head&&(pt.head.extra_len=Bt),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0)),Bt=0,Lt=0}else pt.head&&(pt.head.extra=null);pt.mode=6;case 6:if(1024&pt.flags&&((Pt=pt.length)>St&&(Pt=St),Pt&&(pt.head&&(vn=pt.head.extra_len-pt.length,pt.head.extra||(pt.head.extra=new Array(pt.head.extra_len)),_.arraySet(pt.head.extra,Vt,on,Pt,vn)),512&pt.flags&&(pt.check=_e(pt.check,Vt,Pt,on)),St-=Pt,on+=Pt,pt.length-=Pt),pt.length))break e;pt.length=0,pt.mode=7;case 7:if(2048&pt.flags){if(St===0)break e;Pt=0;do vn=Vt[on+Pt++],pt.head&&vn&&pt.length<65536&&(pt.head.name+=String.fromCharCode(vn));while(vn&&Pt<St);if(512&pt.flags&&(pt.check=_e(pt.check,Vt,Pt,on)),St-=Pt,on+=Pt,vn)break e}else pt.head&&(pt.head.name=null);pt.length=0,pt.mode=8;case 8:if(4096&pt.flags){if(St===0)break e;Pt=0;do vn=Vt[on+Pt++],pt.head&&vn&&pt.length<65536&&(pt.head.comment+=String.fromCharCode(vn));while(vn&&Pt<St);if(512&pt.flags&&(pt.check=_e(pt.check,Vt,Pt,on)),St-=Pt,on+=Pt,vn)break e}else pt.head&&(pt.head.comment=null);pt.mode=9;case 9:if(512&pt.flags){for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Bt!==(65535&pt.check)){Et.msg="header crc mismatch",pt.mode=30;break}Bt=0,Lt=0}pt.head&&(pt.head.hcrc=pt.flags>>9&1,pt.head.done=!0),Et.adler=pt.check=0,pt.mode=12;break;case 10:for(;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Et.adler=pt.check=nt(Bt),Bt=0,Lt=0,pt.mode=11;case 11:if(pt.havedict===0)return Et.next_out=bt,Et.avail_out=It,Et.next_in=on,Et.avail_in=St,pt.hold=Bt,pt.bits=Lt,2;Et.adler=pt.check=1,pt.mode=12;case 12:if(xt===5||xt===6)break e;case 13:if(pt.last){Bt>>>=7&Lt,Lt-=7&Lt,pt.mode=27;break}for(;Lt<3;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}switch(pt.last=1&Bt,Lt-=1,3&(Bt>>>=1)){case 0:pt.mode=14;break;case 1:if(Qt(pt),pt.mode=20,xt===6){Bt>>>=2,Lt-=2;break e}break;case 2:pt.mode=17;break;case 3:Et.msg="invalid block type",pt.mode=30}Bt>>>=2,Lt-=2;break;case 14:for(Bt>>>=7&Lt,Lt-=7&Lt;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if((65535&Bt)!=(Bt>>>16^65535)){Et.msg="invalid stored block lengths",pt.mode=30;break}if(pt.length=65535&Bt,Bt=0,Lt=0,pt.mode=15,xt===6)break e;case 15:pt.mode=16;case 16:if(Pt=pt.length){if(Pt>St&&(Pt=St),Pt>It&&(Pt=It),Pt===0)break e;_.arraySet(nn,Vt,on,Pt,bt),St-=Pt,on+=Pt,It-=Pt,bt+=Pt,pt.length-=Pt;break}pt.mode=12;break;case 17:for(;Lt<14;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(pt.nlen=257+(31&Bt),Bt>>>=5,Lt-=5,pt.ndist=1+(31&Bt),Bt>>>=5,Lt-=5,pt.ncode=4+(15&Bt),Bt>>>=4,Lt-=4,pt.nlen>286||pt.ndist>30){Et.msg="too many length or distance symbols",pt.mode=30;break}pt.have=0,pt.mode=18;case 18:for(;pt.have<pt.ncode;){for(;Lt<3;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.lens[pn[pt.have++]]=7&Bt,Bt>>>=3,Lt-=3}for(;pt.have<19;)pt.lens[pn[pt.have++]]=0;if(pt.lencode=pt.lendyn,pt.lenbits=7,rn={bits:pt.lenbits},un=j(0,pt.lens,0,19,pt.lencode,0,pt.work,rn),pt.lenbits=rn.bits,un){Et.msg="invalid code lengths set",pt.mode=30;break}pt.have=0,pt.mode=19;case 19:for(;pt.have<pt.nlen+pt.ndist;){for(;Ft=(Mt=pt.lencode[Bt&(1<<pt.lenbits)-1])>>>16&255,Ht=65535&Mt,!((Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Ht<16)Bt>>>=Ct,Lt-=Ct,pt.lens[pt.have++]=Ht;else{if(Ht===16){for(At=Ct+2;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Bt>>>=Ct,Lt-=Ct,pt.have===0){Et.msg="invalid bit length repeat",pt.mode=30;break}vn=pt.lens[pt.have-1],Pt=3+(3&Bt),Bt>>>=2,Lt-=2}else if(Ht===17){for(At=Ct+3;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Lt-=Ct,vn=0,Pt=3+(7&(Bt>>>=Ct)),Bt>>>=3,Lt-=3}else{for(At=Ct+7;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Lt-=Ct,vn=0,Pt=11+(127&(Bt>>>=Ct)),Bt>>>=7,Lt-=7}if(pt.have+Pt>pt.nlen+pt.ndist){Et.msg="invalid bit length repeat",pt.mode=30;break}for(;Pt--;)pt.lens[pt.have++]=vn}}if(pt.mode===30)break;if(pt.lens[256]===0){Et.msg="invalid code -- missing end-of-block",pt.mode=30;break}if(pt.lenbits=9,rn={bits:pt.lenbits},un=j(1,pt.lens,0,pt.nlen,pt.lencode,0,pt.work,rn),pt.lenbits=rn.bits,un){Et.msg="invalid literal/lengths set",pt.mode=30;break}if(pt.distbits=6,pt.distcode=pt.distdyn,rn={bits:pt.distbits},un=j(2,pt.lens,pt.nlen,pt.ndist,pt.distcode,0,pt.work,rn),pt.distbits=rn.bits,un){Et.msg="invalid distances set",pt.mode=30;break}if(pt.mode=20,xt===6)break e;case 20:pt.mode=21;case 21:if(St>=6&&It>=258){Et.next_out=bt,Et.avail_out=It,Et.next_in=on,Et.avail_in=St,pt.hold=Bt,pt.bits=Lt,tt(Et,zt),bt=Et.next_out,nn=Et.output,It=Et.avail_out,on=Et.next_in,Vt=Et.input,St=Et.avail_in,Bt=pt.hold,Lt=pt.bits,pt.mode===12&&(pt.back=-1);break}for(pt.back=0;Ft=(Mt=pt.lencode[Bt&(1<<pt.lenbits)-1])>>>16&255,Ht=65535&Mt,!((Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Ft&&!(240&Ft)){for(tn=Ct,mn=Ft,yn=Ht;Ft=(Mt=pt.lencode[yn+((Bt&(1<<tn+mn)-1)>>tn)])>>>16&255,Ht=65535&Mt,!(tn+(Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Bt>>>=tn,Lt-=tn,pt.back+=tn}if(Bt>>>=Ct,Lt-=Ct,pt.back+=Ct,pt.length=Ht,Ft===0){pt.mode=26;break}if(32&Ft){pt.back=-1,pt.mode=12;break}if(64&Ft){Et.msg="invalid literal/length code",pt.mode=30;break}pt.extra=15&Ft,pt.mode=22;case 22:if(pt.extra){for(At=pt.extra;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.length+=Bt&(1<<pt.extra)-1,Bt>>>=pt.extra,Lt-=pt.extra,pt.back+=pt.extra}pt.was=pt.length,pt.mode=23;case 23:for(;Ft=(Mt=pt.distcode[Bt&(1<<pt.distbits)-1])>>>16&255,Ht=65535&Mt,!((Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(!(240&Ft)){for(tn=Ct,mn=Ft,yn=Ht;Ft=(Mt=pt.distcode[yn+((Bt&(1<<tn+mn)-1)>>tn)])>>>16&255,Ht=65535&Mt,!(tn+(Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Bt>>>=tn,Lt-=tn,pt.back+=tn}if(Bt>>>=Ct,Lt-=Ct,pt.back+=Ct,64&Ft){Et.msg="invalid distance code",pt.mode=30;break}pt.offset=Ht,pt.extra=15&Ft,pt.mode=24;case 24:if(pt.extra){for(At=pt.extra;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.offset+=Bt&(1<<pt.extra)-1,Bt>>>=pt.extra,Lt-=pt.extra,pt.back+=pt.extra}if(pt.offset>pt.dmax){Et.msg="invalid distance too far back",pt.mode=30;break}pt.mode=25;case 25:if(It===0)break e;if(Pt=zt-It,pt.offset>Pt){if((Pt=pt.offset-Pt)>pt.whave&&pt.sane){Et.msg="invalid distance too far back",pt.mode=30;break}Pt>pt.wnext?(Pt-=pt.wnext,jt=pt.wsize-Pt):jt=pt.wnext-Pt,Pt>pt.length&&(Pt=pt.length),Zt=pt.window}else Zt=nn,jt=bt-pt.offset,Pt=pt.length;Pt>It&&(Pt=It),It-=Pt,pt.length-=Pt;do nn[bt++]=Zt[jt++];while(--Pt);pt.length===0&&(pt.mode=21);break;case 26:if(It===0)break e;nn[bt++]=pt.length,It--,pt.mode=21;break;case 27:if(pt.wrap){for(;Lt<32;){if(St===0)break e;St--,Bt|=Vt[on++]<<Lt,Lt+=8}if(zt-=It,Et.total_out+=zt,pt.total+=zt,zt&&(Et.adler=pt.check=pt.flags?_e(pt.check,nn,zt,bt-zt):$(pt.check,nn,zt,bt-zt)),zt=It,(pt.flags?Bt:nt(Bt))!==pt.check){Et.msg="incorrect data check",pt.mode=30;break}Bt=0,Lt=0}pt.mode=28;case 28:if(pt.wrap&&pt.flags){for(;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Bt!==(4294967295&pt.total)){Et.msg="incorrect length check",pt.mode=30;break}Bt=0,Lt=0}pt.mode=29;case 29:un=1;break e;case 30:un=-3;break e;case 31:return-4;case 32:default:return-2}return Et.next_out=bt,Et.avail_out=It,Et.next_in=on,Et.avail_in=St,pt.hold=Bt,pt.bits=Lt,(pt.wsize||zt!==Et.avail_out&&pt.mode<30&&(pt.mode<27||xt!==4))&&Dt(Et,Et.output,Et.next_out,zt-Et.avail_out)?(pt.mode=31,-4):(Xt-=Et.avail_in,zt-=Et.avail_out,Et.total_in+=Xt,Et.total_out+=zt,pt.total+=zt,pt.wrap&&zt&&(Et.adler=pt.check=pt.flags?_e(pt.check,nn,zt,Et.next_out-zt):$(pt.check,nn,zt,Et.next_out-zt)),Et.data_type=pt.bits+(pt.last?64:0)+(pt.mode===12?128:0)+(pt.mode===20||pt.mode===15?256:0),(Xt===0&&zt===0||xt===4)&&un===0&&(un=-5),un)},o.inflateEnd=function(Et){if(!Et||!Et.state)return-2;var xt=Et.state;return xt.window&&(xt.window=null),Et.state=null,0},o.inflateGetHeader=function(Et,xt){var pt;return Et&&Et.state&&2&(pt=Et.state).wrap?(pt.head=xt,xt.done=!1,0):-2},o.inflateSetDictionary=function(Et,xt){var pt,Vt=xt.length;return Et&&Et.state?(pt=Et.state).wrap!==0&&pt.mode!==11?-2:pt.mode===11&&$(1,xt,Vt,0)!==pt.check?-3:Dt(Et,xt,Vt,Vt)?(pt.mode=31,-4):(pt.havedict=1,0):-2},o.inflateInfo="pako inflate (from Nodeca project)"},function(i,o,s){i.exports=function(_,$){var _e,tt,j,nt,st,ht,_t,ft,dt,ut,mt,wt,Qt,Dt,Et,xt,pt,Vt,nn,on,bt,St,It,Bt,Lt;_e=_.state,tt=_.next_in,Bt=_.input,j=tt+(_.avail_in-5),nt=_.next_out,Lt=_.output,st=nt-($-_.avail_out),ht=nt+(_.avail_out-257),_t=_e.dmax,ft=_e.wsize,dt=_e.whave,ut=_e.wnext,mt=_e.window,wt=_e.hold,Qt=_e.bits,Dt=_e.lencode,Et=_e.distcode,xt=(1<<_e.lenbits)-1,pt=(1<<_e.distbits)-1;e:do{Qt<15&&(wt+=Bt[tt++]<<Qt,Qt+=8,wt+=Bt[tt++]<<Qt,Qt+=8),Vt=Dt[wt&xt];t:for(;;){if(wt>>>=nn=Vt>>>24,Qt-=nn,(nn=Vt>>>16&255)===0)Lt[nt++]=65535&Vt;else{if(!(16&nn)){if(!(64&nn)){Vt=Dt[(65535&Vt)+(wt&(1<<nn)-1)];continue t}if(32&nn){_e.mode=12;break e}_.msg="invalid literal/length code",_e.mode=30;break e}on=65535&Vt,(nn&=15)&&(Qt<nn&&(wt+=Bt[tt++]<<Qt,Qt+=8),on+=wt&(1<<nn)-1,wt>>>=nn,Qt-=nn),Qt<15&&(wt+=Bt[tt++]<<Qt,Qt+=8,wt+=Bt[tt++]<<Qt,Qt+=8),Vt=Et[wt&pt];n:for(;;){if(wt>>>=nn=Vt>>>24,Qt-=nn,!(16&(nn=Vt>>>16&255))){if(!(64&nn)){Vt=Et[(65535&Vt)+(wt&(1<<nn)-1)];continue n}_.msg="invalid distance code",_e.mode=30;break e}if(bt=65535&Vt,Qt<(nn&=15)&&(wt+=Bt[tt++]<<Qt,(Qt+=8)<nn&&(wt+=Bt[tt++]<<Qt,Qt+=8)),(bt+=wt&(1<<nn)-1)>_t){_.msg="invalid distance too far back",_e.mode=30;break e}if(wt>>>=nn,Qt-=nn,bt>(nn=nt-st)){if((nn=bt-nn)>dt&&_e.sane){_.msg="invalid distance too far back",_e.mode=30;break e}if(St=0,It=mt,ut===0){if(St+=ft-nn,nn<on){on-=nn;do Lt[nt++]=mt[St++];while(--nn);St=nt-bt,It=Lt}}else if(ut<nn){if(St+=ft+ut-nn,(nn-=ut)<on){on-=nn;do Lt[nt++]=mt[St++];while(--nn);if(St=0,ut<on){on-=nn=ut;do Lt[nt++]=mt[St++];while(--nn);St=nt-bt,It=Lt}}}else if(St+=ut-nn,nn<on){on-=nn;do Lt[nt++]=mt[St++];while(--nn);St=nt-bt,It=Lt}for(;on>2;)Lt[nt++]=It[St++],Lt[nt++]=It[St++],Lt[nt++]=It[St++],on-=3;on&&(Lt[nt++]=It[St++],on>1&&(Lt[nt++]=It[St++]))}else{St=nt-bt;do Lt[nt++]=Lt[St++],Lt[nt++]=Lt[St++],Lt[nt++]=Lt[St++],on-=3;while(on>2);on&&(Lt[nt++]=Lt[St++],on>1&&(Lt[nt++]=Lt[St++]))}break}}break}}while(tt<j&&nt<ht);tt-=on=Qt>>3,wt&=(1<<(Qt-=on<<3))-1,_.next_in=tt,_.next_out=nt,_.avail_in=tt<j?j-tt+5:5-(tt-j),_.avail_out=nt<ht?ht-nt+257:257-(nt-ht),_e.hold=wt,_e.bits=Qt}},function(i,o,s){var _=s(37),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],tt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(nt,st,ht,_t,ft,dt,ut,mt){var wt,Qt,Dt,Et,xt,pt,Vt,nn,on,bt=mt.bits,St=0,It=0,Bt=0,Lt=0,Xt=0,zt=0,Pt=0,jt=0,Zt=0,Ct=0,Ft=null,Ht=0,tn=new _.Buf16(16),mn=new _.Buf16(16),yn=null,vn=0;for(St=0;St<=15;St++)tn[St]=0;for(It=0;It<_t;It++)tn[st[ht+It]]++;for(Xt=bt,Lt=15;Lt>=1&&tn[Lt]===0;Lt--);if(Xt>Lt&&(Xt=Lt),Lt===0)return ft[dt++]=20971520,ft[dt++]=20971520,mt.bits=1,0;for(Bt=1;Bt<Lt&&tn[Bt]===0;Bt++);for(Xt<Bt&&(Xt=Bt),jt=1,St=1;St<=15;St++)if(jt<<=1,(jt-=tn[St])<0)return-1;if(jt>0&&(nt===0||Lt!==1))return-1;for(mn[1]=0,St=1;St<15;St++)mn[St+1]=mn[St]+tn[St];for(It=0;It<_t;It++)st[ht+It]!==0&&(ut[mn[st[ht+It]]++]=It);if(nt===0?(Ft=yn=ut,pt=19):nt===1?(Ft=$,Ht-=257,yn=_e,vn-=257,pt=256):(Ft=tt,yn=j,pt=-1),Ct=0,It=0,St=Bt,xt=dt,zt=Xt,Pt=0,Dt=-1,Et=(Zt=1<<Xt)-1,nt===1&&Zt>852||nt===2&&Zt>592)return 1;for(;;){Vt=St-Pt,ut[It]<pt?(nn=0,on=ut[It]):ut[It]>pt?(nn=yn[vn+ut[It]],on=Ft[Ht+ut[It]]):(nn=96,on=0),wt=1<<St-Pt,Bt=Qt=1<<zt;do ft[xt+(Ct>>Pt)+(Qt-=wt)]=Vt<<24|nn<<16|on|0;while(Qt!==0);for(wt=1<<St-1;Ct&wt;)wt>>=1;if(wt!==0?(Ct&=wt-1,Ct+=wt):Ct=0,It++,--tn[St]==0){if(St===Lt)break;St=st[ht+ut[It]]}if(St>Xt&&(Ct&Et)!==Dt){for(Pt===0&&(Pt=Xt),xt+=Bt,jt=1<<(zt=St-Pt);zt+Pt<Lt&&!((jt-=tn[zt+Pt])<=0);)zt++,jt<<=1;if(Zt+=1<<zt,nt===1&&Zt>852||nt===2&&Zt>592)return 1;ft[Dt=Ct&Et]=Xt<<24|zt<<16|xt-dt|0}}return Ct!==0&&(ft[xt+Ct]=St-Pt<<24|64<<16|0),mt.bits=Xt,0}},function(i,o,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(i,o){},function(i,o,s){function _(st,ht){var _t=Object.keys(st);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(st);ht&&(ft=ft.filter(function(dt){return Object.getOwnPropertyDescriptor(st,dt).enumerable})),_t.push.apply(_t,ft)}return _t}function $(st,ht,_t){return ht in st?Object.defineProperty(st,ht,{value:_t,enumerable:!0,configurable:!0,writable:!0}):st[ht]=_t,st}function _e(st,ht){for(var _t=0;_t<ht.length;_t++){var ft=ht[_t];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(st,ft.key,ft)}}var tt=s(5).Buffer,j=s(181).inspect,nt=j&&j.custom||"inspect";i.exports=function(){function st(){(function(ft,dt){if(!(ft instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,st),this.head=null,this.tail=null,this.length=0}var ht,_t;return ht=st,(_t=[{key:"push",value:function(ft){var dt={data:ft,next:null};this.length>0?this.tail.next=dt:this.head=dt,this.tail=dt,++this.length}},{key:"unshift",value:function(ft){var dt={data:ft,next:this.head};this.length===0&&(this.tail=dt),this.head=dt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ft=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ft}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ft){if(this.length===0)return"";for(var dt=this.head,ut=""+dt.data;dt=dt.next;)ut+=ft+dt.data;return ut}},{key:"concat",value:function(ft){if(this.length===0)return tt.alloc(0);for(var dt,ut,mt,wt=tt.allocUnsafe(ft>>>0),Qt=this.head,Dt=0;Qt;)dt=Qt.data,ut=wt,mt=Dt,tt.prototype.copy.call(dt,ut,mt),Dt+=Qt.data.length,Qt=Qt.next;return wt}},{key:"consume",value:function(ft,dt){var ut;return ft<this.head.data.length?(ut=this.head.data.slice(0,ft),this.head.data=this.head.data.slice(ft)):ut=ft===this.head.data.length?this.shift():dt?this._getString(ft):this._getBuffer(ft),ut}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ft){var dt=this.head,ut=1,mt=dt.data;for(ft-=mt.length;dt=dt.next;){var wt=dt.data,Qt=ft>wt.length?wt.length:ft;if(Qt===wt.length?mt+=wt:mt+=wt.slice(0,ft),(ft-=Qt)==0){Qt===wt.length?(++ut,dt.next?this.head=dt.next:this.head=this.tail=null):(this.head=dt,dt.data=wt.slice(Qt));break}++ut}return this.length-=ut,mt}},{key:"_getBuffer",value:function(ft){var dt=tt.allocUnsafe(ft),ut=this.head,mt=1;for(ut.data.copy(dt),ft-=ut.data.length;ut=ut.next;){var wt=ut.data,Qt=ft>wt.length?wt.length:ft;if(wt.copy(dt,dt.length-ft,0,Qt),(ft-=Qt)==0){Qt===wt.length?(++mt,ut.next?this.head=ut.next:this.head=this.tail=null):(this.head=ut,ut.data=wt.slice(Qt));break}++mt}return this.length-=mt,dt}},{key:nt,value:function(ft,dt){return j(this,function(ut){for(var mt=1;mt<arguments.length;mt++){var wt=arguments[mt]!=null?arguments[mt]:{};mt%2?_(Object(wt),!0).forEach(function(Qt){$(ut,Qt,wt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(wt)):_(Object(wt)).forEach(function(Qt){Object.defineProperty(ut,Qt,Object.getOwnPropertyDescriptor(wt,Qt))})}return ut}({},dt,{depth:0,customInspect:!1}))}}])&&_e(ht.prototype,_t),st}()},function(i,o){},function(i,o,s){(function(_){var $;function _e(Et,xt,pt){return xt in Et?Object.defineProperty(Et,xt,{value:pt,enumerable:!0,configurable:!0,writable:!0}):Et[xt]=pt,Et}var tt=s(49),j=Symbol("lastResolve"),nt=Symbol("lastReject"),st=Symbol("error"),ht=Symbol("ended"),_t=Symbol("lastPromise"),ft=Symbol("handlePromise"),dt=Symbol("stream");function ut(Et,xt){return{value:Et,done:xt}}function mt(Et){var xt=Et[j];if(xt!==null){var pt=Et[dt].read();pt!==null&&(Et[_t]=null,Et[j]=null,Et[nt]=null,xt(ut(pt,!1)))}}function wt(Et){_.nextTick(mt,Et)}var Qt=Object.getPrototypeOf(function(){}),Dt=Object.setPrototypeOf((_e($={get stream(){return this[dt]},next:function(){var Et=this,xt=this[st];if(xt!==null)return Promise.reject(xt);if(this[ht])return Promise.resolve(ut(void 0,!0));if(this[dt].destroyed)return new Promise(function(on,bt){_.nextTick(function(){Et[st]?bt(Et[st]):on(ut(void 0,!0))})});var pt,Vt=this[_t];if(Vt)pt=new Promise(function(on,bt){return function(St,It){on.then(function(){bt[ht]?St(ut(void 0,!0)):bt[ft](St,It)},It)}}(Vt,this));else{var nn=this[dt].read();if(nn!==null)return Promise.resolve(ut(nn,!1));pt=new Promise(this[ft])}return this[_t]=pt,pt}},Symbol.asyncIterator,function(){return this}),_e($,"return",function(){var Et=this;return new Promise(function(xt,pt){Et[dt].destroy(null,function(Vt){Vt?pt(Vt):xt(ut(void 0,!0))})})}),$),Qt);i.exports=function(Et){var xt,pt=Object.create(Dt,(_e(xt={},dt,{value:Et,writable:!0}),_e(xt,j,{value:null,writable:!0}),_e(xt,nt,{value:null,writable:!0}),_e(xt,st,{value:null,writable:!0}),_e(xt,ht,{value:Et._readableState.endEmitted,writable:!0}),_e(xt,ft,{value:function(Vt,nn){var on=pt[dt].read();on?(pt[_t]=null,pt[j]=null,pt[nt]=null,Vt(ut(on,!1))):(pt[j]=Vt,pt[nt]=nn)},writable:!0}),xt));return pt[_t]=null,tt(Et,function(Vt){if(Vt&&Vt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var nn=pt[nt];return nn!==null&&(pt[_t]=null,pt[j]=null,pt[nt]=null,nn(Vt)),void(pt[st]=Vt)}var on=pt[j];on!==null&&(pt[_t]=null,pt[j]=null,pt[nt]=null,on(ut(void 0,!0))),pt[ht]=!0}),Et.on("readable",wt.bind(null,pt)),pt}}).call(this,s(2))},function(i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(i,o,s){i.exports=$;var _=s(82);function $(_e){if(!(this instanceof $))return new $(_e);_.call(this,_e)}s(7)($,_),$.prototype._transform=function(_e,tt,j){j(null,_e)}},function(i,o,s){var _,$=s(26).codes,_e=$.ERR_MISSING_ARGS,tt=$.ERR_STREAM_DESTROYED;function j(ft){if(ft)throw ft}function nt(ft,dt,ut,mt){mt=function(Dt){var Et=!1;return function(){Et||(Et=!0,Dt.apply(void 0,arguments))}}(mt);var wt=!1;ft.on("close",function(){wt=!0}),_===void 0&&(_=s(49)),_(ft,{readable:dt,writable:ut},function(Dt){if(Dt)return mt(Dt);wt=!0,mt()});var Qt=!1;return function(Dt){if(!wt&&!Qt)return Qt=!0,function(Et){return Et.setHeader&&typeof Et.abort=="function"}(ft)?ft.abort():typeof ft.destroy=="function"?ft.destroy():void mt(Dt||new tt("pipe"))}}function st(ft){ft()}function ht(ft,dt){return ft.pipe(dt)}function _t(ft){return ft.length?typeof ft[ft.length-1]!="function"?j:ft.pop():j}i.exports=function(){for(var ft=arguments.length,dt=new Array(ft),ut=0;ut<ft;ut++)dt[ut]=arguments[ut];var mt,wt=_t(dt);if(Array.isArray(dt[0])&&(dt=dt[0]),dt.length<2)throw new _e("streams");var Qt=dt.map(function(Dt,Et){var xt=Et<dt.length-1;return nt(Dt,xt,Et>0,function(pt){mt||(mt=pt),pt&&Qt.forEach(st),xt||(Qt.forEach(st),wt(mt))})});return dt.reduce(ht)}},function(i,o,s){var _=s(187)(function $(_e,tt){return(tt=tt||{}).namespace=_e,tt.prod=!0,tt.dev=!1,tt.force||$.force?$.yep(tt):$.nope(tt)});i.exports=_},function(i,o){var s=[],_=[],$=function(){};function _e(ut){return!~s.indexOf(ut)&&(s.push(ut),!0)}function tt(ut){$=ut}function j(ut){for(var mt=[],wt=0;wt<s.length;wt++)if(s[wt].async)mt.push(s[wt]);else if(s[wt](ut))return!0;return!!mt.length&&new Promise(function(Qt){Promise.all(mt.map(function(Dt){return Dt(ut)})).then(function(Dt){Qt(Dt.some(Boolean))})})}function nt(ut){return!~_.indexOf(ut)&&(_.push(ut),!0)}function st(){$.apply($,arguments)}function ht(ut){for(var mt=0;mt<_.length;mt++)ut=_[mt].apply(_[mt],arguments);return ut}function _t(ut,mt){var wt=Object.prototype.hasOwnProperty;for(var Qt in mt)wt.call(mt,Qt)&&(ut[Qt]=mt[Qt]);return ut}function ft(ut){return ut.enabled=!1,ut.modify=nt,ut.set=tt,ut.use=_e,_t(function(){return!1},ut)}function dt(ut){return ut.enabled=!0,ut.modify=nt,ut.set=tt,ut.use=_e,_t(function(){var mt=Array.prototype.slice.call(arguments,0);return st.call(st,ut,ht(mt,ut)),!0},ut)}i.exports=function(ut){return ut.introduce=_t,ut.enabled=j,ut.process=ht,ut.modify=nt,ut.write=st,ut.nope=ft,ut.yep=dt,ut.set=tt,ut.use=_e,ut}},function(i,o,s){(function(_){var $=s(65),_e=s(22).StringDecoder,tt=s(32).Stream;function j(){}i.exports=function(nt,st){var ht=_.alloc(65536),_t=new _e("utf8"),ft=new tt,dt="",ut=0,mt=0;return nt.start===-1&&delete nt.start,ft.readable=!0,ft.destroy=function(){ft.destroyed=!0,ft.emit("end"),ft.emit("close")},$.open(nt.file,"a+","0644",function(wt,Qt){if(wt)return st?st(wt):ft.emit("error",wt),void ft.destroy();(function Dt(){if(!ft.destroyed)return $.read(Qt,ht,0,ht.length,ut,function(Et,xt){if(Et)return st?st(Et):ft.emit("error",Et),void ft.destroy();if(!xt)return dt&&((nt.start==null||mt>nt.start)&&(st?st(null,dt):ft.emit("line",dt)),mt++,dt=""),setTimeout(Dt,1e3);var pt=_t.write(ht.slice(0,xt));st||ft.emit("data",pt);for(var Vt=(pt=(dt+pt).split(/\n+/)).length-1,nn=0;nn<Vt;nn++)(nt.start==null||mt>nt.start)&&(st?st(null,pt[nn]):ft.emit("line",pt[nn])),mt++;return dt=pt[Vt],ut+=xt,Dt()});$.close(Qt,j)})()}),st?ft.destroy:ft}}).call(this,s(5).Buffer)},function(i,o,s){(function(_,$){function _e(Et){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt})(Et)}function tt(Et,xt){var pt=Object.keys(Et);if(Object.getOwnPropertySymbols){var Vt=Object.getOwnPropertySymbols(Et);xt&&(Vt=Vt.filter(function(nn){return Object.getOwnPropertyDescriptor(Et,nn).enumerable})),pt.push.apply(pt,Vt)}return pt}function j(Et){for(var xt=1;xt<arguments.length;xt++){var pt=arguments[xt]!=null?arguments[xt]:{};xt%2?tt(Object(pt),!0).forEach(function(Vt){nt(Et,Vt,pt[Vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(pt)):tt(Object(pt)).forEach(function(Vt){Object.defineProperty(Et,Vt,Object.getOwnPropertyDescriptor(pt,Vt))})}return Et}function nt(Et,xt,pt){return xt in Et?Object.defineProperty(Et,xt,{value:pt,enumerable:!0,configurable:!0,writable:!0}):Et[xt]=pt,Et}function st(Et,xt){if(!(Et instanceof xt))throw new TypeError("Cannot call a class as a function")}function ht(Et,xt){for(var pt=0;pt<xt.length;pt++){var Vt=xt[pt];Vt.enumerable=Vt.enumerable||!1,Vt.configurable=!0,"value"in Vt&&(Vt.writable=!0),Object.defineProperty(Et,Vt.key,Vt)}}function _t(Et,xt){return(_t=Object.setPrototypeOf||function(pt,Vt){return pt.__proto__=Vt,pt})(Et,xt)}function ft(Et){var xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var pt,Vt=ut(Et);if(xt){var nn=ut(this).constructor;pt=Reflect.construct(Vt,arguments,nn)}else pt=Vt.apply(this,arguments);return dt(this,pt)}}function dt(Et,xt){return!xt||_e(xt)!=="object"&&typeof xt!="function"?function(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}(Et):xt}function ut(Et){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(xt){return xt.__proto__||Object.getPrototypeOf(xt)})(Et)}var mt=s(83),wt=s(200),Qt=s(32).Stream,Dt=s(20);i.exports=function(Et){(function(on,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");on.prototype=Object.create(bt&&bt.prototype,{constructor:{value:on,writable:!0,configurable:!0}}),bt&&_t(on,bt)})(nn,Et);var xt,pt,Vt=ft(nn);function nn(){var on,bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return st(this,nn),(on=Vt.call(this,bt)).options=bt,on.name=bt.name||"http",on.ssl=!!bt.ssl,on.host=bt.host||"localhost",on.port=bt.port,on.auth=bt.auth,on.path=bt.path||"",on.agent=bt.agent,on.headers=bt.headers||{},on.headers["content-type"]="application/json",on.port||(on.port=on.ssl?443:80),on}return xt=nn,(pt=[{key:"log",value:function(on,bt){var St=this;this._request(on,function(It,Bt){Bt&&Bt.statusCode!==200&&(It=new Error("Invalid HTTP Status Code: ".concat(Bt.statusCode))),It?St.emit("warn",It):St.emit("logged",on)}),bt&&_(bt)}},{key:"query",value:function(on,bt){typeof on=="function"&&(bt=on,on={}),(on={method:"query",params:this.normalizeQuery(on)}).params.path&&(on.path=on.params.path,delete on.params.path),on.params.auth&&(on.auth=on.params.auth,delete on.params.auth),this._request(on,function(St,It,Bt){if(It&&It.statusCode!==200&&(St=new Error("Invalid HTTP Status Code: ".concat(It.statusCode))),St)return bt(St);if(typeof Bt=="string")try{Bt=JSON.parse(Bt)}catch(Lt){return bt(Lt)}bt(null,Bt)})}},{key:"stream",value:function(){var on=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},bt=new Qt;(on={method:"stream",params:on}).params.path&&(on.path=on.params.path,delete on.params.path),on.params.auth&&(on.auth=on.params.auth,delete on.params.auth);var St="",It=this._request(on);return bt.destroy=function(){return It.destroy()},It.on("data",function(Bt){for(var Lt=(Bt=(St+Bt).split(/\n+/)).length-1,Xt=0;Xt<Lt;Xt++)try{bt.emit("log",JSON.parse(Bt[Xt]))}catch(zt){bt.emit("error",zt)}St=Bt[Lt]}),It.on("error",function(Bt){return bt.emit("error",Bt)}),bt}},{key:"_request",value:function(on,bt){var St=(on=on||{}).auth||this.auth,It=on.path||this.path||"";delete on.auth,delete on.path;var Bt=Object.assign({},this.headers);St&&St.bearer&&(Bt.Authorization="Bearer ".concat(St.bearer));var Lt=(this.ssl?wt:mt).request(j(j({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(It.replace(/^\//,"")),headers:Bt,auth:St&&St.username&&St.password?"".concat(St.username,":").concat(St.password):"",agent:this.agent}));Lt.on("error",bt),Lt.on("response",function(Xt){return Xt.on("end",function(){return bt(null,Xt)}).resume()}),Lt.end($.from(JSON.stringify(on),"utf8"))}}])&&ht(xt.prototype,pt),nn}(Dt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){(function(_,$,_e){var tt=s(84),j=s(7),nt=s(85),st=s(31),ht=s(191),_t=nt.IncomingMessage,ft=nt.readyStates,dt=i.exports=function(mt){var wt,Qt=this;st.Writable.call(Qt),Qt._opts=mt,Qt._body=[],Qt._headers={},mt.auth&&Qt.setHeader("Authorization","Basic "+new _(mt.auth).toString("base64")),Object.keys(mt.headers).forEach(function(Et){Qt.setHeader(Et,mt.headers[Et])});var Dt=!0;if(mt.mode==="disable-fetch"||"requestTimeout"in mt&&!tt.abortController)Dt=!1,wt=!0;else if(mt.mode==="prefer-streaming")wt=!1;else if(mt.mode==="allow-wrong-content-type")wt=!tt.overrideMimeType;else{if(mt.mode&&mt.mode!=="default"&&mt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Qt._mode=function(Et,xt){return tt.fetch&&xt?"fetch":tt.mozchunkedarraybuffer?"moz-chunked-arraybuffer":tt.msstream?"ms-stream":tt.arraybuffer&&Et?"arraybuffer":tt.vbArray&&Et?"text:vbarray":"text"}(wt,Dt),Qt._fetchTimer=null,Qt.on("finish",function(){Qt._onFinish()})};j(dt,st.Writable),dt.prototype.setHeader=function(mt,wt){var Qt=mt.toLowerCase();ut.indexOf(Qt)===-1&&(this._headers[Qt]={name:mt,value:wt})},dt.prototype.getHeader=function(mt){var wt=this._headers[mt.toLowerCase()];return wt?wt.value:null},dt.prototype.removeHeader=function(mt){delete this._headers[mt.toLowerCase()]},dt.prototype._onFinish=function(){var mt=this;if(!mt._destroyed){var wt=mt._opts,Qt=mt._headers,Dt=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(Dt=tt.arraybuffer?ht(_.concat(mt._body)):tt.blobConstructor?new $.Blob(mt._body.map(function(nn){return ht(nn)}),{type:(Qt["content-type"]||{}).value||""}):_.concat(mt._body).toString());var Et=[];if(Object.keys(Qt).forEach(function(nn){var on=Qt[nn].name,bt=Qt[nn].value;Array.isArray(bt)?bt.forEach(function(St){Et.push([on,St])}):Et.push([on,bt])}),mt._mode==="fetch"){var xt=null;if(tt.abortController){var pt=new AbortController;xt=pt.signal,mt._fetchAbortController=pt,"requestTimeout"in wt&&wt.requestTimeout!==0&&(mt._fetchTimer=$.setTimeout(function(){mt.emit("requestTimeout"),mt._fetchAbortController&&mt._fetchAbortController.abort()},wt.requestTimeout))}$.fetch(mt._opts.url,{method:mt._opts.method,headers:Et,body:Dt||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:xt}).then(function(nn){mt._fetchResponse=nn,mt._connect()},function(nn){$.clearTimeout(mt._fetchTimer),mt._destroyed||mt.emit("error",nn)})}else{var Vt=mt._xhr=new $.XMLHttpRequest;try{Vt.open(mt._opts.method,mt._opts.url,!0)}catch(nn){return void _e.nextTick(function(){mt.emit("error",nn)})}"responseType"in Vt&&(Vt.responseType=mt._mode.split(":")[0]),"withCredentials"in Vt&&(Vt.withCredentials=!!wt.withCredentials),mt._mode==="text"&&"overrideMimeType"in Vt&&Vt.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Vt.timeout=wt.requestTimeout,Vt.ontimeout=function(){mt.emit("requestTimeout")}),Et.forEach(function(nn){Vt.setRequestHeader(nn[0],nn[1])}),mt._response=null,Vt.onreadystatechange=function(){switch(Vt.readyState){case ft.LOADING:case ft.DONE:mt._onXHRProgress()}},mt._mode==="moz-chunked-arraybuffer"&&(Vt.onprogress=function(){mt._onXHRProgress()}),Vt.onerror=function(){mt._destroyed||mt.emit("error",new Error("XHR error"))};try{Vt.send(Dt)}catch(nn){return void _e.nextTick(function(){mt.emit("error",nn)})}}}},dt.prototype._onXHRProgress=function(){(function(mt){try{var wt=mt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},dt.prototype._connect=function(){var mt=this;mt._destroyed||(mt._response=new _t(mt._xhr,mt._fetchResponse,mt._mode,mt._fetchTimer),mt._response.on("error",function(wt){mt.emit("error",wt)}),mt.emit("response",mt._response))},dt.prototype._write=function(mt,wt,Qt){this._body.push(mt),Qt()},dt.prototype.abort=dt.prototype.destroy=function(){this._destroyed=!0,$.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},dt.prototype.end=function(mt,wt,Qt){typeof mt=="function"&&(Qt=mt,mt=void 0),st.Writable.prototype.end.call(this,mt,wt,Qt)},dt.prototype.flushHeaders=function(){},dt.prototype.setTimeout=function(){},dt.prototype.setNoDelay=function(){},dt.prototype.setSocketKeepAlive=function(){};var ut=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,s(5).Buffer,s(6),s(2))},function(i,o,s){var _=s(5).Buffer;i.exports=function($){if($ instanceof Uint8Array){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;if(typeof $.buffer.slice=="function")return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(_.isBuffer($)){for(var _e=new Uint8Array($.length),tt=$.length,j=0;j<tt;j++)_e[j]=$[j];return _e.buffer}throw new Error("Argument must be a Buffer")}},function(i,o){i.exports=function(){for(var _={},$=0;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)s.call(_e,tt)&&(_[tt]=_e[tt])}return _};var s=Object.prototype.hasOwnProperty},function(i,o){i.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(i,o,s){(function(_,$){var _e;(function(tt){o&&o.nodeType,_&&_.nodeType;var j=typeof $=="object"&&$;j.global!==j&&j.window!==j&&j.self;var nt,st=2147483647,ht=/^xn--/,_t=/[^\x20-\x7E]/,ft=/[\x2E\u3002\uFF0E\uFF61]/g,dt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=Math.floor,mt=String.fromCharCode;function wt(bt){throw new RangeError(dt[bt])}function Qt(bt,St){for(var It=bt.length,Bt=[];It--;)Bt[It]=St(bt[It]);return Bt}function Dt(bt,St){var It=bt.split("@"),Bt="";return It.length>1&&(Bt=It[0]+"@",bt=It[1]),Bt+Qt((bt=bt.replace(ft,".")).split("."),St).join(".")}function Et(bt){for(var St,It,Bt=[],Lt=0,Xt=bt.length;Lt<Xt;)(St=bt.charCodeAt(Lt++))>=55296&&St<=56319&&Lt<Xt?(64512&(It=bt.charCodeAt(Lt++)))==56320?Bt.push(((1023&St)<<10)+(1023&It)+65536):(Bt.push(St),Lt--):Bt.push(St);return Bt}function xt(bt){return Qt(bt,function(St){var It="";return St>65535&&(It+=mt((St-=65536)>>>10&1023|55296),St=56320|1023&St),It+=mt(St)}).join("")}function pt(bt,St){return bt+22+75*(bt<26)-((St!=0)<<5)}function Vt(bt,St,It){var Bt=0;for(bt=It?ut(bt/700):bt>>1,bt+=ut(bt/St);bt>455;Bt+=36)bt=ut(bt/35);return ut(Bt+36*bt/(bt+38))}function nn(bt){var St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft,Ht=[],tn=bt.length,mn=0,yn=128,vn=72;for((It=bt.lastIndexOf("-"))<0&&(It=0),Bt=0;Bt<It;++Bt)bt.charCodeAt(Bt)>=128&&wt("not-basic"),Ht.push(bt.charCodeAt(Bt));for(Lt=It>0?It+1:0;Lt<tn;){for(Xt=mn,zt=1,Pt=36;Lt>=tn&&wt("invalid-input"),((jt=(Ft=bt.charCodeAt(Lt++))-48<10?Ft-22:Ft-65<26?Ft-65:Ft-97<26?Ft-97:36)>=36||jt>ut((st-mn)/zt))&&wt("overflow"),mn+=jt*zt,!(jt<(Zt=Pt<=vn?1:Pt>=vn+26?26:Pt-vn));Pt+=36)zt>ut(st/(Ct=36-Zt))&&wt("overflow"),zt*=Ct;vn=Vt(mn-Xt,St=Ht.length+1,Xt==0),ut(mn/St)>st-yn&&wt("overflow"),yn+=ut(mn/St),mn%=St,Ht.splice(mn++,0,yn)}return xt(Ht)}function on(bt){var St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft,Ht,tn,mn,yn,vn=[];for(Ht=(bt=Et(bt)).length,St=128,It=0,Xt=72,zt=0;zt<Ht;++zt)(Ft=bt[zt])<128&&vn.push(mt(Ft));for(Bt=Lt=vn.length,Lt&&vn.push("-");Bt<Ht;){for(Pt=st,zt=0;zt<Ht;++zt)(Ft=bt[zt])>=St&&Ft<Pt&&(Pt=Ft);for(Pt-St>ut((st-It)/(tn=Bt+1))&&wt("overflow"),It+=(Pt-St)*tn,St=Pt,zt=0;zt<Ht;++zt)if((Ft=bt[zt])<St&&++It>st&&wt("overflow"),Ft==St){for(jt=It,Zt=36;!(jt<(Ct=Zt<=Xt?1:Zt>=Xt+26?26:Zt-Xt));Zt+=36)yn=jt-Ct,mn=36-Ct,vn.push(mt(pt(Ct+yn%mn,0))),jt=ut(yn/mn);vn.push(mt(pt(jt,0))),Xt=Vt(It,tn,Bt==Lt),It=0,++Bt}++It,++St}return vn.join("")}nt={version:"1.4.1",ucs2:{decode:Et,encode:xt},decode:nn,encode:on,toASCII:function(bt){return Dt(bt,function(St){return _t.test(St)?"xn--"+on(St):St})},toUnicode:function(bt){return Dt(bt,function(St){return ht.test(St)?nn(St.slice(4).toLowerCase()):St})}},(_e=function(){return nt}.call(o,s,o,_))===void 0||(_.exports=_e)})()}).call(this,s(195)(i),s(6))},function(i,o){i.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(i,o,s){i.exports={isString:function(_){return typeof _=="string"},isObject:function(_){return typeof _=="object"&&_!==null},isNull:function(_){return _===null},isNullOrUndefined:function(_){return _==null}}},function(i,o,s){o.decode=o.parse=s(198),o.encode=o.stringify=s(199)},function(i,o,s){function _(_e,tt){return Object.prototype.hasOwnProperty.call(_e,tt)}i.exports=function(_e,tt,j,nt){tt=tt||"&",j=j||"=";var st={};if(typeof _e!="string"||_e.length===0)return st;var ht=/\+/g;_e=_e.split(tt);var _t=1e3;nt&&typeof nt.maxKeys=="number"&&(_t=nt.maxKeys);var ft=_e.length;_t>0&&ft>_t&&(ft=_t);for(var dt=0;dt<ft;++dt){var ut,mt,wt,Qt,Dt=_e[dt].replace(ht,"%20"),Et=Dt.indexOf(j);Et>=0?(ut=Dt.substr(0,Et),mt=Dt.substr(Et+1)):(ut=Dt,mt=""),wt=decodeURIComponent(ut),Qt=decodeURIComponent(mt),_(st,wt)?$(st[wt])?st[wt].push(Qt):st[wt]=[st[wt],Qt]:st[wt]=Qt}return st};var $=Array.isArray||function(_e){return Object.prototype.toString.call(_e)==="[object Array]"}},function(i,o,s){var _=function(j){switch(typeof j){case"string":return j;case"boolean":return j?"true":"false";case"number":return isFinite(j)?j:"";default:return""}};i.exports=function(j,nt,st,ht){return nt=nt||"&",st=st||"=",j===null&&(j=void 0),typeof j=="object"?_e(tt(j),function(_t){var ft=encodeURIComponent(_(_t))+st;return $(j[_t])?_e(j[_t],function(dt){return ft+encodeURIComponent(_(dt))}).join(nt):ft+encodeURIComponent(_(j[_t]))}).join(nt):ht?encodeURIComponent(_(ht))+st+encodeURIComponent(_(j)):""};var $=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"};function _e(j,nt){if(j.map)return j.map(nt);for(var st=[],ht=0;ht<j.length;ht++)st.push(nt(j[ht],ht));return st}var tt=Object.keys||function(j){var nt=[];for(var st in j)Object.prototype.hasOwnProperty.call(j,st)&&nt.push(st);return nt}},function(i,o,s){var _=s(83),$=s(86),_e=i.exports;for(var tt in _)_.hasOwnProperty(tt)&&(_e[tt]=_[tt]);function j(nt){if(typeof nt=="string"&&(nt=$.parse(nt)),nt.protocol||(nt.protocol="https:"),nt.protocol!=="https:")throw new Error('Protocol "'+nt.protocol+'" not supported. Expected "https:"');return nt}_e.request=function(nt,st){return nt=j(nt),_.request.call(this,nt,st)},_e.get=function(nt,st){return nt=j(nt),_.get.call(this,nt,st)}},function(i,o,s){(function(_){function $(mt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(mt)}function _e(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}function tt(mt,wt){for(var Qt=0;Qt<wt.length;Qt++){var Dt=wt[Qt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(mt,Dt.key,Dt)}}function j(mt,wt){return(j=Object.setPrototypeOf||function(Qt,Dt){return Qt.__proto__=Dt,Qt})(mt,wt)}function nt(mt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,Dt=ht(mt);if(wt){var Et=ht(this).constructor;Qt=Reflect.construct(Dt,arguments,Et)}else Qt=Dt.apply(this,arguments);return st(this,Qt)}}function st(mt,wt){return!wt||$(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(mt):wt}function ht(mt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(mt)}var _t=s(87),ft=s(3).MESSAGE,dt=s(18),ut=s(20);i.exports=function(mt){(function(xt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function");xt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:xt,writable:!0,configurable:!0}}),pt&&j(xt,pt)})(Et,mt);var wt,Qt,Dt=nt(Et);function Et(){var xt,pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e(this,Et),xt=Dt.call(this,pt),!pt.stream||!_t(pt.stream))throw new Error("options.stream is required.");return xt._stream=pt.stream,xt._stream.setMaxListeners(1/0),xt.isObjectMode=pt.stream._writableState.objectMode,xt.eol=pt.eol||dt.EOL,xt}return wt=Et,(Qt=[{key:"log",value:function(xt,pt){var Vt=this;if(_(function(){return Vt.emit("logged",xt)}),this.isObjectMode)return this._stream.write(xt),void(pt&&pt());this._stream.write("".concat(xt[ft]).concat(this.eol)),pt&&pt()}}])&&tt(wt.prototype,Qt),Et}(ut)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_){function $(Bt,Lt,Xt){return Lt in Bt?Object.defineProperty(Bt,Lt,{value:Xt,enumerable:!0,configurable:!0,writable:!0}):Bt[Lt]=Xt,Bt}function _e(Bt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lt){return typeof Lt}:function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt})(Bt)}function tt(Bt,Lt){for(var Xt=0;Xt<Lt.length;Xt++){var zt=Lt[Xt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty(Bt,zt.key,zt)}}function j(Bt,Lt){return(j=Object.setPrototypeOf||function(Xt,zt){return Xt.__proto__=zt,Xt})(Bt,Lt)}function nt(Bt){var Lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Xt,zt=ht(Bt);if(Lt){var Pt=ht(this).constructor;Xt=Reflect.construct(zt,arguments,Pt)}else Xt=zt.apply(this,arguments);return st(this,Xt)}}function st(Bt,Lt){return!Lt||_e(Lt)!=="object"&&typeof Lt!="function"?function(Xt){if(Xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xt}(Bt):Lt}function ht(Bt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(Lt){return Lt.__proto__||Object.getPrototypeOf(Lt)})(Bt)}var _t=s(32),ft=_t.Stream,dt=_t.Transform,ut=s(51),mt=s(3),wt=mt.LEVEL,Qt=mt.SPLAT,Dt=s(87),Et=s(89),xt=s(93),pt=s(206),Vt=s(207),nn=s(61).warn,on=s(50),bt=/%[scdjifoO%]/g,St=function(Bt){(function(jt,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Zt&&j(jt,Zt)})(Pt,Bt);var Lt,Xt,zt=nt(Pt);function Pt(jt){var Zt;return function(Ct,Ft){if(!(Ct instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,Pt),(Zt=zt.call(this,{objectMode:!0})).configure(jt),Zt}return Lt=Pt,(Xt=[{key:"child",value:function(jt){var Zt=this;return Object.create(Zt,{write:{value:function(Ct){var Ft=Object.assign({},jt,Ct);Ct instanceof Error&&(Ft.stack=Ct.stack,Ft.message=Ct.message),Zt.write(Ft)}}})}},{key:"configure",value:function(){var jt=this,Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ct=Zt.silent,Ft=Zt.format,Ht=Zt.defaultMeta,tn=Zt.levels,mn=Zt.level,yn=mn===void 0?"info":mn,vn=Zt.exitOnError,un=vn===void 0||vn,rn=Zt.transports,At=Zt.colors,Mt=Zt.emitErrs,$t=Zt.formatters,pn=Zt.padLevels,hn=Zt.rewriters,Sn=Zt.stripColors,An=Zt.exceptionHandlers,Gn=Zt.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=Ct,this.format=Ft||this.format||s(208)(),this.defaultMeta=Ht||null,this.levels=tn||this.levels||on.npm.levels,this.level=yn,this.exceptions=new Et(this),this.rejections=new xt(this),this.profilers={},this.exitOnError=un,rn&&(rn=Array.isArray(rn)?rn:[rn]).forEach(function(Qr){return jt.add(Qr)}),At||Mt||$t||pn||hn||Sn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));An&&this.exceptions.handle(An),Gn&&this.rejections.handle(Gn)}},{key:"isLevelEnabled",value:function(jt){var Zt=this,Ct=It(this.levels,jt);if(Ct===null)return!1;var Ft=It(this.levels,this.level);return Ft!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(Ht){var tn=It(Zt.levels,Ht.level);return tn===null&&(tn=Ft),tn>=Ct})!==-1:Ft>=Ct)}},{key:"log",value:function(jt,Zt){for(var Ct,Ft,Ht=arguments.length,tn=new Array(Ht>2?Ht-2:0),mn=2;mn<Ht;mn++)tn[mn-2]=arguments[mn];if(arguments.length===1)return jt[wt]=jt.level,this._addDefaultMeta(jt),this.write(jt),this;if(arguments.length===2)return Zt&&_e(Zt)==="object"?(Zt[wt]=Zt.level=jt,this._addDefaultMeta(Zt),this.write(Zt),this):(this.write(($(Ft={},wt,jt),$(Ft,"level",jt),$(Ft,"message",Zt),Ft)),this);var yn=tn[0];if(_e(yn)==="object"&&yn!==null){var vn=Zt&&Zt.match&&Zt.match(bt);if(!vn){var un,rn=Object.assign({},this.defaultMeta,yn,($(un={},wt,jt),$(un,Qt,tn),$(un,"level",jt),$(un,"message",Zt),un));return yn.message&&(rn.message="".concat(rn.message," ").concat(yn.message)),yn.stack&&(rn.stack=yn.stack),this.write(rn),this}}return this.write(Object.assign({},this.defaultMeta,($(Ct={},wt,jt),$(Ct,Qt,tn),$(Ct,"level",jt),$(Ct,"message",Zt),Ct))),this}},{key:"_transform",value:function(jt,Zt,Ct){if(this.silent)return Ct();jt[wt]||(jt[wt]=jt.level),this.levels[jt[wt]]||this.levels[jt[wt]]===0||console.error("[winston] Unknown logger level: %s",jt[wt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",jt);try{this.push(this.format.transform(jt,this.format.options))}catch(Ft){throw Ft}finally{Ct()}}},{key:"_final",value:function(jt){var Zt=this.transports.slice();ut(Zt,function(Ct,Ft){if(!Ct||Ct.finished)return _(Ft);Ct.once("finish",Ft),Ct.end()},jt)}},{key:"add",value:function(jt){var Zt=!Dt(jt)||jt.log.length>2?new pt({transport:jt}):jt;if(!Zt._writableState||!Zt._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Zt),this._onEvent("warn",Zt),this.pipe(Zt),jt.handleExceptions&&this.exceptions.handle(),jt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(jt){if(!jt)return this;var Zt=jt;return(!Dt(jt)||jt.log.length>2)&&(Zt=this.transports.filter(function(Ct){return Ct.transport===jt})[0]),Zt&&this.unpipe(Zt),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){nn.deprecated("setLevels")}},{key:"query",value:function(jt,Zt){typeof jt=="function"&&(Zt=jt,jt={}),jt=jt||{};var Ct={},Ft=Object.assign({},jt.query||{});ut(this.transports.filter(function(Ht){return!!Ht.query}),function(Ht,tn){(function(mn,yn){jt.query&&typeof mn.formatQuery=="function"&&(jt.query=mn.formatQuery(Ft)),mn.query(jt,function(vn,un){if(vn)return yn(vn);typeof mn.formatResults=="function"&&(un=mn.formatResults(un,jt.format)),yn(null,un)})})(Ht,function(mn,yn){tn&&((yn=mn||yn)&&(Ct[Ht.name]=yn),tn()),tn=null})},function(){return Zt(null,Ct)})}},{key:"stream",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=new ft,Ct=[];return Zt._streams=Ct,Zt.destroy=function(){for(var Ft=Ct.length;Ft--;)Ct[Ft].destroy()},this.transports.filter(function(Ft){return!!Ft.stream}).forEach(function(Ft){var Ht=Ft.stream(jt);Ht&&(Ct.push(Ht),Ht.on("log",function(tn){tn.transport=tn.transport||[],tn.transport.push(Ft.name),Zt.emit("log",tn)}),Ht.on("error",function(tn){tn.transport=tn.transport||[],tn.transport.push(Ft.name),Zt.emit("error",tn)}))}),Zt}},{key:"startTimer",value:function(){return new Vt(this)}},{key:"profile",value:function(jt){var Zt=Date.now();if(this.profilers[jt]){var Ct=this.profilers[jt];delete this.profilers[jt];for(var Ft=arguments.length,Ht=new Array(Ft>1?Ft-1:0),tn=1;tn<Ft;tn++)Ht[tn-1]=arguments[tn];typeof Ht[Ht.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Ht.pop());var mn=_e(Ht[Ht.length-1])==="object"?Ht.pop():{};return mn.level=mn.level||"info",mn.durationMs=Zt-Ct,mn.message=mn.message||jt,this.write(mn)}return this.profilers[jt]=Zt,this}},{key:"handleExceptions",value:function(){var jt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(jt=this.exceptions).handle.apply(jt,arguments)}},{key:"unhandleExceptions",value:function(){var jt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(jt=this.exceptions).unhandle.apply(jt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(jt,Zt){Zt["__winston"+jt]||(Zt["__winston"+jt]=function(Ct){jt!=="error"||this.transports.includes(Zt)||this.add(Zt),this.emit(jt,Ct,Zt)}.bind(this),Zt.on(jt,Zt["__winston"+jt]))}},{key:"_addDefaultMeta",value:function(jt){this.defaultMeta&&Object.assign(jt,this.defaultMeta)}}])&&tt(Lt.prototype,Xt),Pt}(dt);function It(Bt,Lt){var Xt=Bt[Lt];return Xt||Xt===0?Xt:null}Object.defineProperty(St.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Bt=this._readableState.pipes;return Array.isArray(Bt)?Bt:[Bt].filter(Boolean)}}),i.exports=St}).call(this,s(15).setImmediate)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=ht(s(45)),$=ht(s(46)),_e=ht(s(66)),tt=ht(s(67)),j=ht(s(68)),nt=ht(s(25)),st=ht(s(30));function ht(dt){return dt&&dt.__esModule?dt:{default:dt}}function _t(dt,ut,mt){mt=(0,tt.default)(mt);var wt=0,Qt=0,{length:Dt}=dt,Et=!1;function xt(pt,Vt){pt===!1&&(Et=!0),Et!==!0&&(pt?mt(pt):++Qt!==Dt&&Vt!==$.default||mt(null))}for(Dt===0&&mt(null);wt<Dt;wt++)ut(dt[wt],wt,(0,j.default)(xt))}function ft(dt,ut,mt){return(0,_e.default)(dt,1/0,ut,mt)}o.default=(0,st.default)(function(dt,ut,mt){return((0,_.default)(dt)?_t:ft)(dt,(0,nt.default)(ut),mt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return($,_e,tt)=>_($,tt)},i.exports=o.default},function(i,o,s){var _=Object.prototype.toString;i.exports=function($){if(typeof $.displayName=="string"&&$.constructor.name)return $.displayName;if(typeof $.name=="string"&&$.name)return $.name;if(typeof $=="object"&&$.constructor&&typeof $.constructor.name=="string")return $.constructor.name;var _e=$.toString(),tt=_.call($).slice(8,-1);return(_e=tt==="Function"?_e.substring(_e.indexOf("(")+1,_e.indexOf(")")):tt)||"anonymous"}},function(i,o,s){const _=s(13),{LEVEL:$}=s(3),_e=s(20),tt=i.exports=function(j={}){if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(nt){this.emit("error",nt,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(tt,_e),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),st(null)},tt.prototype._writev=function(j,nt){for(let st=0;st<j.length;st++)this._accept(j[st])&&(this.transport.log(j[st].chunk[$],j[st].chunk.message,j[st].chunk,this._nop),j[st].callback());return nt(null)},tt.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},tt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){function _(_e){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt})(_e)}function $(_e,tt){for(var j=0;j<tt.length;j++){var nt=tt[j];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}i.exports=function(){function _e(nt){if(function(st,ht){if(!(st instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,_e),!nt)throw new Error("Logger is required for profiling.");this.logger=nt,this.start=Date.now()}var tt,j;return tt=_e,(j=[{key:"done",value:function(){for(var nt=arguments.length,st=new Array(nt),ht=0;ht<nt;ht++)st[ht]=arguments[ht];typeof st[st.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),st.pop());var _t=_(st[st.length-1])==="object"?st.pop():{};return _t.level=_t.level||"info",_t.durationMs=Date.now()-this.start,this.logger.write(_t)}}])&&$(tt.prototype,j),_e}()},function(i,o,s){(function(_){const $=s(209),{MESSAGE:_e}=s(3),tt=s(35);function j(nt,st){return st instanceof _?st.toString("base64"):typeof st=="bigint"?st.toString():st}i.exports=$((nt,st={})=>(nt[_e]=(st.stable?tt.stableStringify:tt)(nt,st.replacer||j,st.space),nt))}).call(this,s(5).Buffer)},function(i,o,s){class _ extends Error{constructor(_e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${_e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,_)}}i.exports=$=>{if($.length>2)throw new _($);function _e(j={}){this.options=j}function tt(j){return new _e(j)}return _e.prototype.transform=$,tt.Format=_e,tt}},function(i,o,s){function _(tt,j){if(!(tt instanceof j))throw new TypeError("Cannot call a class as a function")}function $(tt,j){for(var nt=0;nt<j.length;nt++){var st=j[nt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(tt,st.key,st)}}var _e=s(88);i.exports=function(){function tt(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,tt),this.loggers=new Map,this.options=st}var j,nt;return j=tt,(nt=[{key:"add",value:function(st,ht){var _t=this;if(!this.loggers.has(st)){var ft=(ht=Object.assign({},ht||this.options)).transports||this.options.transports;ht.transports=ft?ft.slice():[];var dt=_e(ht);dt.on("close",function(){return _t._delete(st)}),this.loggers.set(st,dt)}return this.loggers.get(st)}},{key:"get",value:function(st,ht){return this.add(st,ht)}},{key:"has",value:function(st){return!!this.loggers.has(st)}},{key:"close",value:function(st){var ht=this;if(st)return this._removeLogger(st);this.loggers.forEach(function(_t,ft){return ht._removeLogger(ft)})}},{key:"_removeLogger",value:function(st){this.loggers.has(st)&&(this.loggers.get(st).close(),this._delete(st))}},{key:"_delete",value:function(st){this.loggers.delete(st)}}])&&$(j.prototype,nt),tt}()},function(i,o,s){(function(_){const $=s(52),_e=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;i.exports=function(tt,j,nt,st){let ht,_t,ft=!1,dt=!1;const ut=s(94);function mt(Dt){st(j,Dt)}function wt(Dt,Et){let xt=`"${j}" ${Et}`;throw Dt&&(xt=`${xt}`),_t&&(xt=`${xt}. An example of a valid value would be: ${_t}`),new $(xt)}const Qt={convertFromBase64:function(){return mt("marking for base64 conversion"),ft=!0,Qt},default:function(Dt){if(typeof Dt=="number")ht=Dt.toString();else if(Array.isArray(Dt)||typeof Dt=="object"&&Dt!==null)ht=JSON.stringify(Dt);else{if(typeof Dt!="string")throw new $("values passed to default() must be of Number, String, Array, or Object type");ht=Dt}return mt(`setting default value to "${ht}"`),Qt},required:function(Dt){return Dt===void 0?(mt("marked as required"),dt=!0):(mt(`setting required flag to ${Dt}`),dt=Dt),Qt},example:function(Dt){return _t=Dt,Qt}};return Object.entries({...ut,...nt}).forEach(([Dt,Et])=>{Qt[Dt]=function(xt){return function(){let pt=tt[j];if(mt(`will be read from the environment using "${xt.name}" accessor`),pt===void 0)if(ht===void 0&&dt)mt("was not found in the environment, but is required to be set"),wt(void 0,"is a required variable, but it was not set");else{if(ht===void 0)return void mt("was not found in the environment, but is not required. returning undefined");mt(`was not found in the environment, parsing default value "${ht}" instead`),pt=ht}dt&&(mt("verifying variable value is not an empty string"),pt.trim().length===0&&wt(void 0,"is a required variable, but its value was empty")),ft&&(mt("verifying variable is a valid base64 string"),pt.match(_e)||wt(pt,"should be a valid base64 string if using convertFromBase64"),mt("converting from base64 to utf8 string"),pt=_.from(pt,"base64").toString());const Vt=[pt].concat(Array.prototype.slice.call(arguments));try{mt(`passing value "${pt}" to "${xt.name}" accessor`);const nn=xt.apply(xt,Vt);return mt(`parsed successfully, returning ${nn}`),nn}catch(nn){wt(pt,nn.message)}}}(Et)}),Qt}}).call(this,s(5).Buffer)},function(i,o,s){const _=s(33);i.exports=function($,_e){return _e=_e||",",$.length?_($).split(_e).filter(Boolean):[]}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if($!=="false"&&$!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return $!=="false"}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if(["false","0","true","1"].indexOf($)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!($==="0"||$==="false")}},function(i,o,s){const _=s(95);i.exports=function($){var _e=_($);if(_e>65535)throw new Error("cannot assign a port number greater than 65535");return _e}},function(i,o,s){const _=s(33);i.exports=function($,_e){const tt=_($);if(_e.indexOf(tt)<0)throw new Error(`should be one of [${_e.join(", ")}]`);return tt}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative float");return _e}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive float");return _e}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative integer");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(!Array.isArray(_e))throw new Error("should be a parseable JSON Array");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(Array.isArray(_e))throw new Error("should be a parseable JSON Object");return _e}},function(i,o,s){i.exports=function(_,$){try{RegExp(void 0,$)}catch{throw new Error("invalid regexp flags")}try{return new RegExp(_,$)}catch{throw new Error("should be a valid regexp")}}},function(i,o,s){const _=s(96);i.exports=function($){return _($).toString()}},function(i,o,s){const _=s(33),$=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021\u0023-\u005b\u005d-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021-\u005a\u0053-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])+)\])$/;i.exports=function(_e){const tt=_(_e);if(!$.test(tt))throw new Error("should be a valid email address");return tt}},function(i,o,s){i.exports=function(_,$){return function(_e,tt){$&&$.match(/prod|production/)||_(`env-var (${_e}): ${tt}`)}}},function(i,o,s){(function(_){(function(){var $,_e,tt,j,nt,st;typeof performance<"u"&&performance!==null&&performance.now?i.exports=function(){return performance.now()}:_!=null&&_.hrtime?(i.exports=function(){return($()-nt)/1e6},_e=_.hrtime,j=($=function(){var ht;return 1e9*(ht=_e())[0]+ht[1]})(),st=1e9*_.uptime(),nt=j-st):Date.now?(i.exports=function(){return Date.now()-tt},tt=Date.now()):(i.exports=function(){return new Date().getTime()-tt},tt=new Date().getTime())}).call(this)}).call(this,s(2))},function(i,o,s){(function(_){(function($){function _e(j){if((j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+j+"') is invalid.")}function tt(j,nt){if(nt=nt===void 0?{fatal:!1}:nt,(j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+j+"') is invalid.");if(nt.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if($.TextEncoder&&$.TextDecoder)return!1;Object.defineProperty(_e.prototype,"encoding",{value:"utf-8"}),_e.prototype.encode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");nt=0;for(var st=j.length,ht=0,_t=Math.max(32,st+(st>>1)+7),ft=new Uint8Array(_t>>3<<3);nt<st;){var dt=j.charCodeAt(nt++);if(55296<=dt&&56319>=dt){if(nt<st){var ut=j.charCodeAt(nt);(64512&ut)==56320&&(++nt,dt=((1023&dt)<<10)+(1023&ut)+65536)}if(55296<=dt&&56319>=dt)continue}if(ht+4>ft.length&&(_t+=8,_t=(_t*=1+nt/j.length*2)>>3<<3,(ut=new Uint8Array(_t)).set(ft),ft=ut),(4294967168&dt)==0)ft[ht++]=dt;else{if(!(4294965248&dt))ft[ht++]=dt>>6&31|192;else if(!(4294901760&dt))ft[ht++]=dt>>12&15|224,ft[ht++]=dt>>6&63|128;else{if(4292870144&dt)continue;ft[ht++]=dt>>18&7|240,ft[ht++]=dt>>12&63|128,ft[ht++]=dt>>6&63|128}ft[ht++]=63&dt|128}}return ft.slice(0,ht)},Object.defineProperty(tt.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(tt.prototype,"fatal",{value:!1}),Object.defineProperty(tt.prototype,"ignoreBOM",{value:!1}),tt.prototype.decode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");nt=0;for(var st=(j=new Uint8Array(j)).length,ht=[];nt<st;){var _t=j[nt++];if(_t===0)break;if(!(128&_t))ht.push(_t);else if((224&_t)==192){var ft=63&j[nt++];ht.push((31&_t)<<6|ft)}else if((240&_t)==224){ft=63&j[nt++];var dt=63&j[nt++];ht.push((31&_t)<<12|ft<<6|dt)}else(248&_t)==240&&(65535<(_t=(7&_t)<<18|(ft=63&j[nt++])<<12|(dt=63&j[nt++])<<6|63&j[nt++])&&(_t-=65536,ht.push(_t>>>10&1023|55296),_t=56320|1023&_t),ht.push(_t))}return String.fromCharCode.apply(null,ht)},$.TextEncoder=_e,$.TextDecoder=tt})(typeof window<"u"?window:_!==void 0?_:this)}).call(this,s(6))},function(i,o,s){s.r(o),s.d(o,"AuthClient",function(){return _e}),s.d(o,"RtcSignalingClient",function(){return j}),s.d(o,"Credentials",function(){return Lt}),s.d(o,"IRtcStream",function(){}),s.d(o,"SignalingPromiseClient",function(){return Xt.SignalingPromiseClient}),s.d(o,"IRtcClientConfigurationV1",function(){}),s.d(o,"IRtcClientConfiguration",function(){}),s.d(o,"IRtcConnectionStatsInfo",function(){}),s.d(o,"IRtcSendConfiguration",function(){}),s.d(o,"IRtcSessionMetricsMessageCounts",function(){}),s.d(o,"IRtcStreamMessage",function(){}),s.d(o,"IRtcStreamPayload",function(){}),s.d(o,"IStreamControl",function(){}),s.d(o,"RtcClient",function(){return ls}),s.d(o,"RtcClientV1",function(){return nu}),s.d(o,"createRtcStreamMessage",function(){return jr});var _=s(28),$=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class _e extends _.a{adminSignup(Gt,en){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:en,method:"POST",body:JSON.stringify(Gt)})})}login(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(Gt),allowUnsafeRetries:!0})})}loginWithGoogleToken(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(Gt),allowUnsafeRetries:!0})})}refresh(Gt,en){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:Gt,tokenExpirationSeconds:en}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(Gt)})})}forgotPassword(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:Gt})})})}confirmForgotPassword(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(Gt)})})}resendInvitation(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:Gt})})})}changePassword({token:Gt,refreshToken:en,currentPassword:fn,newPassword:En}){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:Gt,method:"POST",body:JSON.stringify({refreshToken:en,currentPassword:fn,newPassword:En})})})}getDeviceCredentials(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:Gt,method:"POST",allowUnsafeRetries:!0})})}impersonate(Gt,en){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:Gt,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:en})})})}createServiceAccount(Gt,en,fn,En){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:Gt,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:en,roleId:fn,tags:En})})})}getFeatures(Gt){return $(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:Gt})).features})}}var tt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class j extends _.a{createPeer(Gt,en){return tt(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:Gt,method:"POST",body:JSON.stringify(en)})})}getPeers(Gt){return tt(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:Gt})).items})}refreshPeer(Gt,en){return tt(this,void 0,void 0,function*(){yield this.fetch(`peers/${en}/refresh`,{token:Gt,method:"POST",allowUnsafeRetries:!0})})}createSession(Gt,en){return tt(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:Gt,method:"POST",body:JSON.stringify(en)})})}refreshSession(Gt,en){return tt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${en}/refresh`,{token:Gt,method:"POST",allowUnsafeRetries:!0})})}deleteSession(Gt,en){return tt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${en}`,{token:Gt,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(Gt){return tt(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:Gt})).items})}getIceServers(Gt){return tt(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:Gt})).items})}addSignals(Gt,en,fn){return tt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${en}/add-signals`,{token:Gt,method:"POST",body:JSON.stringify(fn)})})}takeSignals(Gt,en){return tt(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${en}/take-signals`,{token:Gt,method:"POST"})).items})}}var nt=s(1),st=s(8),ht=s(14),_t=s.n(ht),ft=s(104),dt=s.n(ft),ut=s(0),mt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class wt{constructor(Gt){this.name="LogReporter",this.type="simple",this.message=Gt}send(Gt){return mt(this,void 0,void 0,function*(){var en,fn;ut.a.info(this.message,(en=Gt.reduce((En,xn)=>Object.assign(Object.assign({},En),{[xn.name]:xn.stat}),{}),fn=En=>{const{sum:xn,count:or}=En,ar=xn/or;return Object.assign(Object.assign({},En),{average:ar})},Object.keys(en).reduce((En,xn)=>Object.assign(Object.assign({},En),{[xn]:fn(en[xn])}),{})))})}}var Qt=s(4),Dt=s(39);function Et(cr){return!!cr.match(/^[a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/)}var xt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};function pt({func:cr,delay:Gt,immediate:en}){let fn=!1,En=setTimeout(function or(){return xt(this,void 0,void 0,function*(){if(fn)return;const ar=new Date().getTime();try{xn=cr(),yield xn}finally{if(!fn){const nr=new Date().getTime();En=setTimeout(or,Math.max(Gt-(nr-ar),0))}}})},en?0:Gt),xn=Promise.resolve();return{stop(){return xt(this,void 0,void 0,function*(){fn=!0,clearTimeout(En),yield xn})}}}var Vt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};const nn=s(226),on=!!Qt.c,bt=new class{constructor(cr){this.samplePeriodSeconds=60,this.buffer={},this.reporters=[],this.flushInterval=pt({func:()=>this.flushStats(),delay:this.samplePeriodSeconds*nt.a.second}),this.tags=this.filterTags((cr==null?void 0:cr.tags)||{app:Qt.a,version:Qt.j,namespace:Qt.i,instanceId:Dt.a})}shutdown(){return Vt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(st.a)(2*nt.a.second)})}aggregate(cr,Gt,en){this.addToBuffer(this.buffer,this.encodeKey({metric:cr,tags:this.filterTags(en||{})}),typeof Gt=="number"?{min:Gt,max:Gt,sum:Gt,count:1}:Gt)}increment(cr,Gt){this.aggregate(cr,1,Gt)}timer(cr,Gt,en){return Vt(this,void 0,void 0,function*(){const fn=nn(),En=yield Gt(),xn=nn();return this.aggregate(cr,xn-fn,en),En})}registerStatsReporter(cr){this.reporters.push(cr)}setTag(cr,Gt){const en=this.filterTags({[cr]:Gt});this.tags=Object.assign(Object.assign({},this.tags),en)}addToBuffer(cr,Gt,en){if(cr[Gt]){const{min:fn,max:En,sum:xn,count:or}=cr[Gt];cr[Gt]={min:Math.min(fn,en.min),max:Math.max(En,en.max),sum:xn+en.sum,count:or+en.count}}else cr[Gt]=en}write(cr){return Vt(this,void 0,void 0,function*(){yield Promise.all(this.reporters.map(Gt=>Vt(this,void 0,void 0,function*(){let en;const fn={};switch(Gt.type){case"simple":for(const[xn,or]of Object.entries(cr)){const{metric:ar}=this.decodeKey(xn);this.addToBuffer(fn,this.encodeKey({metric:ar}),or)}en=fn;break;case"tagged":en=cr;break;default:(function(xn){throw new Error(`Unreachable type encountered (${xn})`)})(Gt.type)}const En=Object.entries(en);if(En.length>0)return Gt.send(En.map(([xn,or])=>{const{metric:ar,tags:nr}=this.decodeKey(xn);return{name:ar,tags:Object.assign(Object.assign({},nr),this.tags),stat:or}}),this.samplePeriodSeconds).catch(xn=>{ut.a.debug(`Failed to write stats to ${Gt.name}`,{error:xn})})})))})}flushStats(){return Vt(this,void 0,void 0,function*(){yield this.write(this.buffer),this.buffer={}})}encodeKey(cr){return _t()(Object.assign(Object.assign({},cr),Object.keys(cr.tags||{}).length>0?{tags:cr.tags}:{}))}decodeKey(cr){return JSON.parse(cr)}filterTags(cr){return Object.entries(cr||{}).reduce((Gt,[en,fn])=>(Et(en)&&Et(fn)&&(Gt[en]=fn),Gt),{})}};on||["local","on-prem"].includes(Qt.i)||bt.registerStatsReporter(new wt("stats"));var St=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class It extends class{constructor(Gt){this.options=Gt,this.cache=new dt.a(Object.assign(Object.assign(Object.assign({},Gt.dispose||Gt.disposeAfter?{ttlAutopurge:!0}:{}),Gt),{dispose:(...en)=>{var fn;en[2]==="evict"&&bt.increment("lru-eviction",{name:Gt.name}),(fn=Gt.dispose)===null||fn===void 0||fn.call(Gt,...en)},disposeAfter:(...en)=>{var fn;this.updateStats(),(fn=Gt.disposeAfter)===null||fn===void 0||fn.call(Gt,...en)}})),this.stringify=Gt.fastStringify?JSON.stringify:_t.a}set(Gt,en,fn){const En=this.stringify(Gt);if(!this.cache.set(En,en,{ttl:fn})){const xn=this.cache.sizeCalculation?this.cache.sizeCalculation(en,En):"unknown";throw Error(`Value too large (${xn} > ${this.cache.max})`)}this.updateStats()}get(Gt){const{name:en}=this.options,fn=this.stringify(Gt),En=this.cache.getRemainingTTL(fn);return En<=0?bt.increment("cache-miss",{name:en}):En!==1/0&&bt.aggregate("cache-item-ttl",En,{name:en}),this.cache.get(fn)}delete(Gt){this.cache.delete(this.stringify(Gt))}peek(Gt){return this.cache.peek(this.stringify(Gt))}size(){return this.cache.size}clear(){this.cache.clear()}forEach(Gt){this.cache.forEach(Gt)}purgeStale(){return this.cache.purgeStale()}updateStats(){const{name:Gt}=this.options;bt.aggregate("cache-item-count",this.cache.size,{name:Gt}),this.cache.calculatedSize!==void 0&&bt.aggregate("cache-length",this.cache.calculatedSize,{name:Gt})}}{constructor(Gt){if(super(Gt),this.expireRejectedPromiseValues=Gt.expireRejectedPromiseValues===void 0||Gt.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=Gt.rejectedPromiseValueTtl!==void 0?Gt.rejectedPromiseValueTtl:nt.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(Gt,en,fn){super.set(Gt,en,fn),this.expireRejectedPromiseValues&&en.catch(()=>St(this,void 0,void 0,function*(){yield Object(st.a)(this.rejectedPromiseValueTtl),this.peek(Gt)===en&&this.delete(Gt)}))}}var Bt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class Lt{constructor(Gt,en,fn){this.authClient=Gt,this.email=en,this.password=fn,this.tokenTtlMs=1*nt.a.hour,this.tokenCache=new It({name:"Credentials-tokenCache",max:100,ttl:this.tokenTtlMs-5*nt.a.minute,fastStringify:!0})}getToken(){return Bt(this,void 0,void 0,function*(){let Gt=this.tokenCache.get(this.email);return Gt||(Gt=(()=>Bt(this,void 0,void 0,function*(){const{authentication:en}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/nt.a.second});if(!en)throw new Error("User account not verified.");return en.accessToken}))(),this.tokenCache.set(this.email,Gt)),Gt})}}var Xt=s(97),zt=s(40),Pt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class jt extends zt.a{constructor(Gt){super(Gt)}postLanRtcOffer(Gt){return Pt(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(Gt)})})}}var Zt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};function Ct(cr){return Zt(this,void 0,void 0,function*(){return(yield Promise.all(cr.map(Gt=>Gt.catch(en=>en)))).filter(Gt=>Gt instanceof Error)})}function Ft(cr){if(cr!==void 0)return cr;throw new Error("Value is undefined")}function Ht(cr,Gt){const en=cr.reduce((fn,En)=>[...fn,...En.urls],[]).filter(fn=>tn(fn,Gt)).sort(fn=>mn(fn,"udp")?-1:0).shift();if(en)return Object.assign(Object.assign({},Ft(cr.find(fn=>fn.urls.includes(en)))),{urls:[en]})}function tn(cr,Gt){switch(Gt){case"stun":return/^stuns?:/.test(cr);case"turn":return/^turns?:/.test(cr)}}function mn(cr,Gt){return cr.endsWith(`transport=${Gt}`)}var yn=s(9),vn=s(24),un=s(229),rn=s(29);const At={ordered:!1,maxPacketLifeTime:300*nt.a.millisecond},Mt={ordered:!0},$t={ordered:!0},pn={ordered:!1,maxRetransmits:0},hn={ordered:!1,maxRetransmits:0},Sn=cr=>"received"in cr&&cr.received!==void 0,An=cr=>!("received"in cr)||cr.received===void 0,Gn=2*nt.a.second;function Qr(cr,Gt={}){const en=Array.from(cr.values()),fn=en.filter(Sn),En=fn.length>0,xn=Math.max(...fn.map(Zn=>Zn.received));let or;if(En){const Zn=en.length,On=fn.length,io=fn.map(ur=>ur.received-ur.sent),{standardDeviation:Mn,mean:wn,jitter:Tn}=function(ur){const mr=ur.length;if(mr===0)return{mean:NaN,standardDeviation:-1,jitter:NaN};const hr=ur.reduce((Kr,zr)=>Kr+zr,0)/mr,br=Math.sqrt(ur.map(Kr=>Math.pow(Kr-hr,2)).reduce((Kr,zr)=>Kr+zr)/mr);let Nr=0;for(let Kr=1;Kr<mr;++Kr)Nr+=Math.abs(ur[Kr]-ur[Kr-1]);return{mean:hr,standardDeviation:br,jitter:Nr/(mr-1)}}(io),zn=en.filter(ur=>ur.sent<xn-Gn),Kn=zn.filter(An),lr=Kn.length===0?0:Kn.length/zn.length;or={pingsSent:Zn,pongsReceived:On,average:wn,standardDeviation:Mn,jitter:Tn,max:Math.max(...io),min:Math.min(...io),loss:lr}}else or=null;const{temporalNow:ar=Date.now()}=Gt,nr=(En?xn:ar)-4*Gn;return Array.from(cr.entries()).forEach(Zn=>{const[On,io]=Zn;io.sent<nr&&cr.delete(On)}),or}function _i({entityId:cr,streamName:Gt,streamType:en}){return`${cr}.${Gt}.${en}`}var Pr=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class po{constructor(Gt,en){this.sessionId=Gt,this.connection=en,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=Gt,this.connection=en}updateRemoteMessagesCounts(Gt){if(Gt.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const en of Gt.payload.streamsInfo.items)this.counts.remoteSent.set(en.streamId,en.sentCount),this.counts.remoteReceived.set(en.streamId,en.receivedCount)}}getLocalStreamsInfo(Gt){const{localSent:en,localReceived:fn}=this.counts;return{items:[...new Set([...en.keys(),...fn.keys()])].map(En=>{var xn,or;return{streamId:En,sentCount:(xn=en.get(En))!==null&&xn!==void 0?xn:0,receivedCount:(or=fn.get(En))!==null&&or!==void 0?or:0}}),timestamp:Gt}}incrementLocalSent(Gt){const{localSent:en}=this.counts,fn=_i(Gt.header.stream);en.set(fn,(en.get(fn)||0)+1)}incrementLocalReceived(Gt){const{localReceived:en}=this.counts,fn=_i(Gt.header.stream),En=en.get(fn)||0;if(En===0){const{streamName:xn,streamType:or}=Gt.header.stream;ut.a.debug("RTC client received first message for stream",{streamName:xn,streamType:or})}en.set(fn,En+1)}uploadMetrics(){return Pr(this,void 0,void 0,function*(){const{sessionId:Gt}=this,en=yield this.connection.peerConnection.getStats(),fn={};en.forEach(Zn=>fn[Zn.id]=Zn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},fn),{sessionId:Gt}));const{localSent:En,localReceived:xn,remoteSent:or,remoteReceived:ar}=this.counts,nr=[...new Set([...En.keys(),...xn.keys()])].reduce((Zn,On)=>{const io=En.get(On),Mn=xn.get(On),wn=or.get(On),Tn=ar.get(On);return Object.assign(Object.assign({},Zn),{[`local-${On}-sent`]:io,[`local-${On}-received`]:Mn,[`remote-${On}-sent`]:wn,[`remote-${On}-received`]:Tn})},{sessionId:Gt});ut.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},nr))})}}function jr(cr,Gt,en){return{header:{stream:cr,created:Date.now(),frameId:en||""},payload:Gt}}function Yr(cr){return new Set(["disconnected","failed","closed"]).has(cr.iceConnectionState)}function no(cr){switch(cr.header.stream.streamType){case"twist":{const{twist:Gt}=cr.payload;if(!Gt)throw Error("twist not in payload of RTC message with type twist");return{header:cr.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},Gt.linear),angular:Object.assign({x:0,y:0,z:0},Gt.angular)}}}}case"pose":{const{pose:Gt}=cr.payload;if(!Gt)throw Error("pose not in payload of RTC message with type pose");return{header:cr.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},Gt.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Gt.rotation)}}}}case"pose-with-covariance":{const{poseWithCovariance:Gt}=cr.payload;if(!Gt)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const en=new Array(36).fill(0);return Gt.covariance.forEach((fn,En)=>{if(En>=36)throw Error("covariance contains more than 36 elements");en[En]=fn}),{header:cr.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},Gt.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Gt.pose.rotation)},covariance:en}}}}case"point":{const{point:Gt}=cr.payload;if(!Gt)throw Error("point not in payload of RTC message with type point");return{header:cr.header,payload:{point:Object.assign({x:0,y:0,z:0},Gt)}}}default:return cr}}var Qo=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class Co{constructor(Gt,en,fn){this.peerConnection=Gt,this.config=en,this.dataChannelNotifier=fn,this.connectTimeoutMs=20*nt.a.second,this.iceGatheringTimeoutMs=15*nt.a.second,this.pingUpdateTimeoutMs=1*nt.a.second,this.pingV2UpdateTimeoutMs=250*nt.a.millisecond,this.pingV2MetricsGatherTimeoutMs=1*nt.a.second,this.streamsInfoUpdateTimeoutMs=2*nt.a.second,this.reassemblyTimeoutMs=500*nt.a.millisecond,this.reassemblyTableCleanupMs=1*nt.a.second,this.heartbeatTimeoutMs=20*nt.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1,this.pingV2Map=new Map,this.sendPingV2=()=>{const{latestTryOnceStreamChannel:xn}=this;if(!xn)return;const or=new Date().getTime(),ar=Object(un.a)();this.sendSystemMessage(xn,{type:"ping-v2",payload:{timestamp:or,id:ar}}),this.pingV2Map.set(ar,{sent:or})},this.gatherPingV2Metrics=()=>{const xn=Qr(this.pingV2Map);xn&&(this.pingInfo=xn,bt.aggregate("rtc-ping-average",xn.average),bt.aggregate("rtc-ping-loss",xn.loss),bt.aggregate("rtc-jitter",xn.jitter))};const{isOffer:En}=en.baseConfig;En?this.initializeChannels(Gt):Gt.ondatachannel=xn=>{switch(xn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=xn.channel;break;case"stream.reliable":this.reliableStreamChannel=xn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=xn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=xn.channel;break;case"heartbeat":return void(this.heartbeatChannel=xn.channel);default:return void this.dataChannelNotifier(xn.channel)}this.setupChannel(xn.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:xn}=this;xn&&this.sendSystemMessage(xn,{type:"ping"})},this.pingUpdateTimeoutMs),this.pingV2UpdateTimeout=setInterval(this.sendPingV2,this.pingV2UpdateTimeoutMs),this.pingV2MetricsGatherTimeout=setInterval(this.gatherPingV2Metrics,this.pingV2MetricsGatherTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:xn}=this;xn&&this.sendSystemMessage(xn,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const xn=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((or,ar,nr)=>{xn>ar+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(or)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:xn}=this;xn&&xn.readyState==="open"&&xn.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(Gt){return Qo(this,void 0,void 0,function*(){const{peerConnection:en}=this,{track:fn}=this.config.baseConfig,En=(()=>{try{return JSON.parse(Gt.getPayload())}catch{return}})();if(!En)return void ut.a.error("Received unparseable signal.");ut.a.debug("Handling signal",{description:En});const{sdp:xn,type:or}=En;if(!xn||!or)return void ut.a.warn("Received non-SDP signal");const{signalingState:ar,connectionState:nr}=en;if(ar!=="stable"||nr!=="connected")if(en.remoteDescription)ut.a.warn(`Received SDP after remote description was set: ${xn}`);else{if(or==="offer"){if(ar!=="stable")return void ut.a.warn("Received offer SDP when signaling is ongoing.");yield en.setRemoteDescription(En);const Zn=yield en.createAnswer();yield en.setLocalDescription(Zn);const On=Gt.clone();return fn==null||fn("Answer Received",On),On.setPayload(JSON.stringify(Zn)),On.setReceiverId(Gt.getSenderId()),On.setSenderId(Gt.getReceiverId()),On}if(or==="answer"){if(ar==="stable")return void ut.a.warn("Received answer SDP when signaling hasn't started.");yield en.setRemoteDescription(En)}}else ut.a.warn(`Received SDP when already connected: ${xn}`)})}send(Gt,en){const fn=this.getChannelFromLabel(en.channelLabel);fn?this.sendOnChannel(fn,Gt):ut.a.warn("Send called with unexpected channel label",{channelLabel:en.channelLabel})}controlRemoteStream(Gt){this.sendSystemMessage(Ft(this.reliableStreamChannel),{type:"stream-control",streamControl:Gt})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:Gt,latestTtlStreamChannel:en,latestTryOnceStreamChannel:fn,latestReliableStreamChannel:En}=this;return(Gt==null?void 0:Gt.readyState)==="open"&&(en==null?void 0:en.readyState)==="open"&&(fn==null?void 0:fn.readyState)==="open"&&(En==null?void 0:En.readyState)==="open"}close(){return Qo(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),Jo(this.pingUpdateTimeout),Jo(this.pingV2UpdateTimeout),Jo(this.pingV2MetricsGatherTimeout),Jo(this.reassemblyTableCleanupTimeout),Jo(this.streamsInfoUpdateTimeout),Jo(this.heartbeatTimeout);const{peerConnection:Gt,reliableStreamChannel:en,latestTtlStreamChannel:fn,latestTryOnceStreamChannel:En,latestReliableStreamChannel:xn}=this;Gt.close(),en==null||en.close(),fn==null||fn.close(),En==null||En.close(),xn==null||xn.close()})}getPing(){return this.pingTimeMs}getPingInfo(){return this.pingInfo}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var Gt;return(Gt=this.config.remoteConfig)===null||Gt===void 0?void 0:Gt.sessionCreatedTimestamp}setSessionCreatedTimestamp(Gt){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=Gt)}getSessionId(){var Gt;return(Gt=this.config.remoteConfig)===null||Gt===void 0?void 0:Gt.sessionId}setSessionId(Gt){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=Gt,this.sessionMetrics=new po(Gt,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var Gt;return(Gt=this.config.baseConfig)===null||Gt===void 0?void 0:Gt.remoteDeviceId}setRemoteDeviceId(Gt){this.config.baseConfig.remoteDeviceId=Gt}getSessionMetricsMessageCounts(){var Gt;return(Gt=this.sessionMetrics)===null||Gt===void 0?void 0:Gt.counts}getConnectionStatsInfo(){return Qo(this,void 0,void 0,function*(){const{peerConnection:Gt}=this;if(!Gt)return;const en=yield Gt.getStats(null),fn=[];en.forEach(nr=>{fn.push(nr)});const En=fn.find(nr=>nr.type==="transport");if(!En)return;const xn=fn.find(nr=>(nr.type==="candidate-pair"||nr.type==="candidatepair")&&nr.id===En.selectedCandidatePairId);if(!xn)return;const or=fn.find(nr=>nr.id===xn.localCandidateId),ar=fn.find(nr=>nr.id===xn.remoteCandidateId);return or&&ar&&(or.address=or.address||or.ip,ar.address=ar.address||ar.ip,or.address!==void 0&&ar.address!==void 0)?{transport:En,localCandidate:or,remoteCandidate:ar}:void 0})}initializeChannels(Gt){this.heartbeatChannel=Gt.createDataChannel("heartbeat",hn),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=Gt.createDataChannel("stream.latest-ttl",At),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=Gt.createDataChannel("stream.reliable",Mt),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=Gt.createDataChannel("stream.latest-reliable",$t),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=Gt.createDataChannel("stream.latest-try-once",pn),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var Gt,en,fn;return Qo(this,void 0,void 0,function*(){const{gotOffer:En}=this,{peerConnection:xn,config:or}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const ar=(Gt=this.config.remoteConfig)===null||Gt===void 0?void 0:Gt.sessionId;if(En)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Yr(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");const nr=or.baseConfig.track;xn.onicecandidate=()=>{this.hasIceCandidate=!0},xn.oniceconnectionstatechange=()=>Qo(this,void 0,void 0,function*(){const wn=xn.iceConnectionState;if(wn==="connected"||wn==="completed"){const Tn=yield this.getConnectionStatsInfo(),zn=Tn?function(Kn){const lr=Kn.localCandidate.candidateType,ur=Kn.remoteCandidate.candidateType;return lr==="host"&&ur==="host"?"local":lr==="relay"||ur==="relay"?"TURN":"STUN"}(Tn):void 0;ut.a.info(`ICE connection state changed to ${wn}`,{sessionId:ar,connectionStatsInfo:Tn,iceMode:zn}),nr==null||nr("ICE connection state change",{iceConnectionState:wn,sessionId:ar,connectionStatsInfo:Tn,iceMode:zn})}}),yield xn.setLocalDescription(yield xn.createOffer());const Zn=new Date().getTime();for(;;){const wn=new Date().getTime()-Zn;if(wn>this.connectTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(wn>this.iceGatheringTimeoutMs&&this.hasIceCandidate){ut.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn}),nr==null||nr("ICE gathering partially completed",{sessionId:ar,iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn});break}if(xn.iceGatheringState==="complete"){ut.a.debug("ICE gathering complete",{iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn}),nr==null||nr("ICE gathering completed",{sessionId:ar,iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn});break}yield Object(st.a)(.1*nt.a.second)}const On=(en=this.peerConnection.getConfiguration().iceServers)!==null&&en!==void 0?en:[];for(const wn of On)wn.credentialType=void 0;const io=JSON.stringify(On),Mn=new yn.Signal;return Mn.setPayload(JSON.stringify(xn.localDescription)),Mn.setSenderId(this.config.baseConfig.localPeerId),Mn.setReceiverId(this.config.baseConfig.remotePeerId),Mn.setIceServers(io),Mn.setIceTransportPolicy((fn=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&fn!==void 0?fn:"all"),this.config.baseConfig.sessionType!==void 0?Mn.setSessionType(this.config.baseConfig.sessionType):Mn.setSessionType(yn.SessionType.TELEOP),ut.a.debug("Sending offer signal with description",{description:Mn.getPayload()}),Mn})}getLanOffer(){return Qo(this,void 0,void 0,function*(){const{peerConnection:Gt,gotOffer:en}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(en)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Yr(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");yield Gt.setLocalDescription(yield Gt.createOffer());const fn=new Date().getTime();for(;;){if(new Date().getTime()-fn>this.iceGatheringTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(Gt.iceGatheringState==="complete")break;yield Object(st.a)(.1*nt.a.second)}const En=Gt.localDescription;if(En)return ut.a.debug("Sending LAN offer signal with description",{description:En}),En;ut.a.error("Failed to generate LAN offer description")})}handleLanAnswer(Gt){return Qo(this,void 0,void 0,function*(){const{peerConnection:en}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield en.setRemoteDescription(Gt)})}getChannelFromLabel(Gt){switch(Gt){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Gt,en){let fn;try{fn=Object(rn.encode)(JSON.stringify(en))}catch(En){return void ut.a.warn("Failed to encode RTC message",{error:En})}try{Gt.send(fn),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(en)}catch(En){ut.a.warn("Failed to send message to channel",{error:En,channel:Gt.label})}}channelNotRecognized(Gt){return Gt!==this.latestTtlStreamChannel&&Gt!==this.latestReliableStreamChannel&&Gt!==this.latestTryOnceStreamChannel&&Gt!==this.reliableStreamChannel}setupChannel(Gt){Gt.onmessage=en=>{if(this.channelNotRecognized(Gt))return void ut.a.warn("Received message on unrecognized data channel.");let fn;try{fn=JSON.parse(Object(rn.decode)(en.data))}catch(En){return void ut.a.warn("Received unparseable message on RTC stream data channel",{error:En,channel:Gt.label})}fn.communicationType==="message-chunk"?this.receiveChannelMessageChunk(Gt,fn):this.receiveChannelMessage(Gt,fn)},Gt.onerror=en=>{ut.a.warn(`Channel error: ${en.error}`,{error:en.error,sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onclose=()=>{const en={bufferedAmount:Gt.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Gt.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",en):ut.a.debug("Channel closed",en)}}receiveChannelMessage(Gt,en){const{config:fn}=this,{remotePeerId:En}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),en=no(en),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(en),this.handleSystemMessage(Gt,en)||(Gt===this.latestTryOnceStreamChannel||Gt===this.latestTtlStreamChannel||Gt===this.latestReliableStreamChannel)&&!this.isLatestMessage(en)||fn.baseConfig.receive(En,en)}receiveChannelMessageChunk(Gt,en){const fn=this.reassemblyTable.get(en.id)||[];if(fn.push(en),fn.length===en.total){const En=function(xn){const or=xn.sort((ar,nr)=>ar.seq<nr.seq?-1:1).map(ar=>ar.part).reduce((ar,nr)=>ar+nr);try{return JSON.parse(or)}catch{return void ut.a.warn("Could not reassemble RTC message chunks")}}(fn);return En&&this.receiveChannelMessage(Gt,En),void this.reassemblyTable.delete(en.id)}this.reassemblyTable.set(en.id,fn),this.reassemblyTableLastTimestamp.set(en.id,new Date().getTime())}handleSystemMessage(Gt,en){var fn,En;const{config:xn}=this,{baseConfig:or}=xn,{remotePeerId:ar}=or;switch(en.header.stream.streamType){case"ping":return this.sendSystemMessage(Gt,{type:"pong",timestamp:Ft(en.payload.ping)}),!0;case"pong":{const nr=new Date().getTime()-Ft(en.payload.pong);return this.pingTimeMs=nr,bt.aggregate("rtc-ping-time",nr),!0}case"ping-v2":return this.sendPingV2(),!0;case"pong-v2":{const nr=Ft(en.payload.pongV2),Zn=this.pingV2Map.get(nr.id);return(Zn==null?void 0:Zn.sent)!==nr.timestamp?(ut.a.warn("Pong timestamp doesn't match stored value",{currentEntry:Zn,pong:nr}),!0):(this.pingV2Map.set(nr.id,{sent:nr.timestamp,received:new Date().getTime()}),!0)}case"streams-info":{const{sessionMetrics:nr}=this,Zn=(fn=en.payload.streamsInfo)===null||fn===void 0?void 0:fn.timestamp;return!!Zn&&(nr==null||nr.updateRemoteMessagesCounts(en),(En=or.onStreamsInfoUpdate)===null||En===void 0||En.call(or,ar,Zn),!0)}case"stream-control":return!0;default:return!1}}sendSystemMessage(Gt,en){var fn;const{localUserId:En,localPeerId:xn}=this.config.baseConfig;if(Gt.readyState!=="open")return;const or={entityId:En??xn,streamName:`$.${en.type}`,streamType:en.type};let ar;switch(en.type){case"ping":ar={ping:new Date().getTime()};break;case"pong":ar={pong:en.timestamp};break;case"ping-v2":ar={pingV2:en.payload};break;case"pong-v2":ar={pongV2:en.payload};break;case"stream-control":ar={streamControl:en.streamControl};break;case"streams-info":ar={streamsInfo:(fn=this.sessionMetrics)===null||fn===void 0?void 0:fn.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(Gt,jr(or,ar))}isLatestMessage(Gt){const en=_i(Gt.header.stream),fn=(this.streamLatestTimestamp.get(en)||0)<=Gt.header.created;return fn&&this.streamLatestTimestamp.set(en,Gt.header.created),fn}}function Jo(cr){cr&&clearInterval(cr)}function es(cr){var Gt,en;return{userId:(Gt=cr.getUserId())===null||Gt===void 0?void 0:Gt.getValue(),deviceId:(en=cr.getDeviceId())===null||en===void 0?void 0:en.getValue(),organizationId:cr.getOrganizationId(),id:cr.getPeerId(),capabilities:[],capabilitySet:{}}}var xo=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class ls{constructor(Gt){this.config=Gt,this.grpcCallDeadline=5*nt.a.second,this.refreshIntervalDelayMs=2*nt.a.second,this.iceServersTtl=30*nt.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:en}=this;this.refreshInterval=pt({func:()=>xo(this,void 0,void 0,function*(){try{yield this.update()}catch(fn){ut.a.warn("RTC refresh failed",{error:fn})}}),delay:en,immediate:!0})}send(Gt,en,fn){const En=this.getActiveConnection(Gt);En?En.isReady()?En.send(en,fn):ut.a.warn("Send called with unready connection."):ut.a.warn("Send called with no connection.")}controlRemoteStream(Gt,en){const fn=this.getActiveConnection(Gt);fn?fn.isReady()?fn.controlRemoteStream(en):ut.a.warn("controlRemoteStream called with unready connection."):ut.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return xo(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(st.a)(.1*nt.a.second);return es(this.localPeer)})}connect(Gt,en){var fn,En,xn;return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:or,signalingClient:ar}=this.config,{localPeer:nr,receiveSignalStream:Zn,iceServers:On}=this;if(!nr||!Zn||!On)return void ut.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(Gt))return void ut.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(Gt))return void ut.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(Gt,!0);const io=function(ur,mr,hr){const{rtcIceTransportPolicies:br,rtcIceServerProtocol:Nr,useAllServers:Kr}=mr||{},zr=ur.map(So=>Object.assign(Object.assign({},So),{urls:So.urls.filter(Bo=>{const Ao=(br===void 0||br.some(No=>tn(Bo,No)))&&(Nr===void 0||mn(Bo,Nr));return Ao||ut.a.debug(`Ignoring ICE server: ${Bo}`,{organizationId:hr}),Ao})})).filter(({urls:So})=>So.filter(Bo=>Bo).length>0);return Kr?zr:[Ht(zr,"stun"),Ht(zr,"turn")].filter(So=>So!==void 0).map(So=>Ft(So))}(On,en);ut.a.debug("Received ICE servers:",On),ut.a.debug("Using ICE servers:",io);const Mn=new Co(yield this.createRTCPeerConnection(io),{baseConfig:{isOffer:!0,isLan:!1,receive:(ur,mr)=>this.config.receive(ur,mr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(ur,mr)=>{var hr,br;return(br=(hr=this.config).onStreamsInfoUpdate)===null||br===void 0?void 0:br.call(hr,ur,mr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(fn=nr.getUserId())===null||fn===void 0?void 0:fn.getValue(),localPeerId:nr.getPeerId(),remotePeerId:Gt,sessionType:this.config.sessionType},remoteConfig:{}},ur=>this.onCustomDataChannel(Gt,ur)),wn=yield Mn.getOffer();if(!wn)return ut.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(Gt);ut.a.debug("Sending offer."),or==null||or("Sending offer",wn);const Tn=new yn.SendSignalRequest;Tn.setSignal(wn);const zn=yield(()=>xo(this,void 0,void 0,function*(){try{return yield ar.sendSignal(Tn,yield this.getMetadata({}))}catch(ur){ut.a.warn("Error when sending signal",{error:ur})}}))();if(!this.isOutgoingConnection.get(Gt))return void ut.a.debug("No offer set after receiving offer signal response.");ut.a.debug("Offer sent.");const Kn=(En=zn==null?void 0:zn.getSessionId())===null||En===void 0?void 0:En.getValue(),lr=(xn=zn==null?void 0:zn.getSessionCreatedTimestamp())===null||xn===void 0?void 0:xn.getValue();return Kn&&lr?(Mn.setSessionId(Kn),Mn.setSessionCreatedTimestamp(lr),this.isOutgoingConnection.delete(Gt),this.connections.push(Mn),this.isConnectionInitiator.set(Mn,!0),this.setupHandlers(Mn),Kn):(ut.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(Gt))})}connectLan(Gt){var en,fn;return xo(this,void 0,void 0,function*(){const En=new jt(Gt),xn=new Co(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(Zn,On)=>this.config.receive(Zn,On),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Zn,On)=>{var io,Mn;return(Mn=(io=this.config).onStreamsInfoUpdate)===null||Mn===void 0?void 0:Mn.call(io,Zn,On)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(fn=(en=this.localPeer)===null||en===void 0?void 0:en.getUserId())===null||fn===void 0?void 0:fn.getValue(),localPeerId:"lan_client",remotePeerId:Gt}},Zn=>this.onCustomDataChannel(Gt,Zn)),or=yield xn.getLanOffer();if(!or)return ut.a.warn("Could not generate LAN offer"),!1;const ar=yield En.postLanRtcOffer({offer:JSON.stringify(or)}),nr=new RTCSessionDescription(JSON.parse(ar.answer));return yield xn.handleLanAnswer(nr),this.localConnections.push(xn),this.isConnectionInitiator.set(xn,!0),Object(un.a)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(Gt,en,fn,En,xn){const or=this.getActiveConnection(Gt);if(or&&this.isConnectionInitiator.has(or)){const nr=or.peerConnection.createDataChannel("custom."+en,fn);return En&&(nr.binaryType="arraybuffer"),xn(Gt,nr),()=>{}}const ar=(nr,Zn)=>{Gt===nr&&Zn.label==="custom."+en&&xn(Gt,Zn)};return this.peerDataChannelListeners.push(ar),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(nr=>nr!==ar)}}onCustomDataChannel(Gt,en){this.peerDataChannelListeners.forEach(fn=>fn(Gt,en))}getConnectionStatus(Gt){if(this.isOutgoingConnection.get(Gt))return"connecting";const en=this.getActiveConnection(Gt);return en?en.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(Gt){return xo(this,void 0,void 0,function*(){const en=this.getActiveConnection(Gt);if(en)return yield en.getConnectionStatsInfo()})}disconnect(Gt){return xo(this,void 0,void 0,function*(){const en=this.getActiveConnection(Gt);en&&(yield en.close())})}getPeers(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,en=yield(()=>xo(this,void 0,void 0,function*(){try{return yield Gt.getPeers(new yn.GetPeersRequest,yield this.getMetadata({}))}catch(xn){ut.a.warn("Error when getting peers",{error:xn})}}))();if(!en)return[];const fn=en.getPeersList();if(!fn)return[];const En=xn=>{var or,ar;return(ar=(or=xn.getPeerCreatedTimestamp())===null||or===void 0?void 0:or.getValue())!==null&&ar!==void 0?ar:0};return fn.sort((xn,or)=>En(or)-En(xn)).map(xn=>es(xn))})}getSessions(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,en=yield(()=>xo(this,void 0,void 0,function*(){try{return yield Gt.getPeers(new yn.GetPeersRequest,yield this.getMetadata({}))}catch(xn){ut.a.warn("Error when getting peers",{error:xn})}}))();if(!en)return{};const fn=en.getPeersList(),En={};for(const xn of fn)En[xn.getPeerId()]=xn.getSessionIdsList();return En})}getPing(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getPingInfo(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getPingInfo();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getLastMessageTimestamp();ut.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getSessionMetricsMessageCounts();ut.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:Gt,receiveSignalStream:en,iceServers:fn}=this;return!!(Gt&&en&&fn)}shutdown(){return xo(this,void 0,void 0,function*(){ut.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const Gt=this.connections;this.connections=[],yield this.closeConnections(Gt);const{localPeer:en}=this;if(!en||this.config.lanOnlyMode)return;const{signalingClient:fn}=this.config;yield(()=>xo(this,void 0,void 0,function*(){try{const En=new yn.DeletePeerRequest;En.setPeerId(en.getPeerId()),yield fn.deletePeer(En,yield this.getMetadata({}))}catch(En){return void ut.a.warn("Error deleting local peer",{error:En})}}))()})}createPeer(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,en=yield(()=>xo(this,void 0,void 0,function*(){try{return yield Gt.createPeer(new yn.CreatePeerRequest,yield this.getMetadata({}))}catch(En){throw new Error(`Was not able to create peer: ${JSON.stringify(En)}`)}}))(),fn=en==null?void 0:en.getPeer();if(!fn)throw new Error("Response did not provide peer.");return this.localPeer=fn})}createReceiveSignalStream(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,{localPeer:en,iceServers:fn}=this;if(!en||!fn)return;const{receiveSignalStream:En}=this;En&&En.cancel();const xn=new yn.ReceiveSignalStreamRequest;xn.setPeerId(en.getPeerId());const or=yield(()=>xo(this,void 0,void 0,function*(){try{return Gt.receiveSignalStream(xn,yield this.getMetadata({hasDeadline:!1}))}catch(ar){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(ar)}`)}}))();if(!or)throw new Error("Response did not provide stream.");return or.on("data",ar=>xo(this,void 0,void 0,function*(){var nr,Zn,On,io;const Mn=ar.getSignal(),wn=(nr=Mn==null?void 0:Mn.getSessionId())===null||nr===void 0?void 0:nr.getValue(),Tn=Mn==null?void 0:Mn.getSenderId(),zn=Mn==null?void 0:Mn.getReceiverId(),Kn=(Zn=Mn==null?void 0:Mn.getSessionCreatedTimestamp())===null||Zn===void 0?void 0:Zn.getValue();if(!(Mn&&wn&&Tn&&zn&&Kn))return void ut.a.warn("Received signal with missing information.");const lr=this.getActiveConnection(Tn);if(lr)if(lr.getSessionId()!==wn){if(ut.a.debug("Received signal: different session for a peer we're already connected to."),(lr.getSessionCreatedTimestamp()||0)>Kn)return;const ur=new Co(yield this.createRTCPeerConnection(fn),{baseConfig:{isOffer:!1,isLan:!1,receive:(mr,hr)=>this.config.receive(mr,hr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(mr,hr)=>{var br,Nr;return(Nr=(br=this.config).onStreamsInfoUpdate)===null||Nr===void 0?void 0:Nr.call(br,mr,hr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:en.getPeerId(),localUserId:(io=en.getUserId())===null||io===void 0?void 0:io.getValue(),remotePeerId:Tn},remoteConfig:{sessionId:wn,sessionCreatedTimestamp:Kn}},mr=>this.onCustomDataChannel(Tn,mr));yield ur.handleSignal(Mn),this.connections.push(ur)}else ut.a.debug("Received signal: for an existing connection."),yield lr.handleSignal(Mn);else{ut.a.debug("Received signal: new connection.");const ur=new Co(yield this.createRTCPeerConnection(fn),{baseConfig:{isOffer:!1,isLan:!1,receive:(mr,hr)=>this.config.receive(mr,hr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(mr,hr)=>{var br,Nr;return(Nr=(br=this.config).onStreamsInfoUpdate)===null||Nr===void 0?void 0:Nr.call(br,mr,hr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:en.getPeerId(),localUserId:(On=en.getUserId())===null||On===void 0?void 0:On.getValue(),remotePeerId:Tn},remoteConfig:{sessionId:wn,sessionCreatedTimestamp:Kn}},mr=>this.onCustomDataChannel(Tn,mr));yield ur.handleSignal(Mn),this.connections.push(ur)}})),or.on("end",()=>{or.cancel(),this.receiveSignalStream=void 0}),or.on("error",ar=>{switch(ar.code){case vn.StatusCode.CANCELLED:case vn.StatusCode.UNAVAILABLE:case vn.StatusCode.UNKNOWN:ut.a.debug("Receive signal stream error",{error:ar});break;case vn.StatusCode.UNAUTHENTICATED:ut.a.warn("Receive signal stream error",{error:ar});break;default:ut.a.error("Receive signal stream error",{error:ar})}or.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=or})}createRTCPeerConnection(Gt){var en;return xo(this,void 0,void 0,function*(){const fn=(en=this.config.alternateRTCPeerConnection)!==null&&en!==void 0?en:window.RTCPeerConnection;if(!fn)throw function(){const{userAgent:En}=navigator;return En.includes("Firefox/")?"Firefox":En.includes("Edg/")?"Edge":En.includes("Chrome/")?"Chrome":En.includes("Safari/")?"Safari":En.includes("MSIE/")||En.includes("Trident/")?"IE":"Other"}()!=="Chrome"?new Error("WebRTC is not enabled. Please try again with the latest version of Google Chrome."):new Error("WebRTC is not enabled. Please ensure WebRTC is not disabled by ad blocking software.");return new fn({iceServers:Gt})})}closeConnections(Gt){return xo(this,void 0,void 0,function*(){const en=yield Ct(Gt.map(fn=>xo(this,void 0,void 0,function*(){yield fn.close()})));for(const fn of en)ut.a.warn("Request to close session failed",{error:fn})})}getActiveConnection(Gt){return this.getConnections().find(en=>en.getRemotePeerId()===Gt&&en.isActive())}update(){var Gt;return xo(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(ar=>ar.isActive()),this.config.lanOnlyMode)return;const{signalingClient:en}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(ar=>!ar.isActive())),this.connections=this.connections.filter(ar=>ar.isActive());const{localPeer:fn}=this,En=this.connections.filter(ar=>ar.getSessionId).map(ar=>Ft(ar.getSessionId()));fn.setSessionIdsList(En);const xn=new yn.RefreshPeerRequest;xn.setPeer(fn);try{yield en.refreshPeer(xn,yield this.getMetadata({}))}catch(ar){ar.code===vn.StatusCode.NOT_FOUND?(ut.a.warn("Peer expired, creating new peer",{peerId:fn.getPeerId()}),yield this.reset()):ut.a.warn("Error calling RefreshPeer",{error:ar})}const or=yield this.getPeers();for(const ar of this.connections)ar.setRemoteDeviceId((Gt=or.find(nr=>nr.id===ar.getRemotePeerId()))===null||Gt===void 0?void 0:Gt.deviceId)})}reset(){return xo(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:Gt,iceServersTtl:en}=this,fn=new Date().getTime();if(!Gt||fn-Gt>en)try{const En=(yield this.config.signalingClient.getIceServers(new yn.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(En),this.iceServersLastUpdate=fn}catch(En){ut.a.warn("Error in updateIceServers",{error:En})}})}setupHandlers(Gt){const{peerConnection:en}=Gt,fn=Gt.getSessionCreatedTimestamp();en.onconnectionstatechange=()=>xo(this,void 0,void 0,function*(){const En=en.connectionState;if(fn)switch(En){case"connected":bt.aggregate("rtc-connect-time",new Date().getTime()-fn);break;case"failed":bt.increment("rtc-connect-failed")}})}getMetadata(Gt){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:en}=this.config,{grpcCallDeadline:fn}=this,{hasDeadline:En}=Gt,xn=En===!1?void 0:new Date().getTime()+fn;return{authorization:yield en(),deadline:xn}})}}var Ds=s(10),hs=s(11),Hl=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class Ll{constructor(Gt,en){this.sessionId=Gt,this.connection=en,this.sentMessagesCounts=new Map,this.receivedMessagesCounts=new Map,this.sessionId=Gt,this.connection=en}incrementMessageSent(Gt){const en=_i(Gt.header.stream);this.sentMessagesCounts.set(en,(this.sentMessagesCounts.get(en)||0)+1)}incrementMessageReceived(Gt){const en=_i(Gt.header.stream);this.receivedMessagesCounts.set(en,(this.receivedMessagesCounts.get(en)||0)+1)}uploadMetrics(){return Hl(this,void 0,void 0,function*(){const{sessionId:Gt}=this,en=yield this.connection.peerConnection.getStats(),fn={};en.forEach(xn=>fn[xn.id]=xn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},fn),{sessionId:Gt}));const En=[...new Set(Array.from(this.sentMessagesCounts.keys()).concat(Array.from(this.receivedMessagesCounts.keys())))].reduce((xn,or)=>{const ar=this.sentMessagesCounts.get(or),nr=this.receivedMessagesCounts.get(or);return Object.assign(Object.assign({},xn),{[`${or}-sent`]:ar,[`${or}-received`]:nr})},{sessionId:Gt});ut.a.debug("rtc-message-report",En)})}}function Ls(cr,Gt){return _i(cr)===_i(Gt)}var Us=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class cu{constructor(Gt,en){this.peerConnection=Gt,this.config=en,this.connectTimeoutMs=10*nt.a.second,this.gatherIceTimeoutMs=5*nt.a.second,this.pingUpdateTimeoutMs=2*nt.a.second,this.streamLatestTimestamp=new Map,this.closeCalled=!1,this.connectCalled=!1,this.sentOffer=!1,this.receivedIceCandidate=!1;const{isOffer:fn}=en;fn?this.initializeChannels(Gt):Gt.ondatachannel=En=>{switch(En.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=En.channel;break;case"stream.reliable":this.reliableStreamChannel=En.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=En.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=En.channel}this.setupChannel(En.channel)},this.sessionMetrics=new Ll(this.getSessionId(),this)}connect(){return Us(this,void 0,void 0,function*(){if(this.connectCalled)return;this.connectCalled=!0,this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:En}=this;En&&this.sendSystemMessage(En,{type:"ping"})},this.pingUpdateTimeoutMs),this.connectTimeout=setTimeout(()=>Us(this,void 0,void 0,function*(){this.isReady()||(ut.a.warn("RTC connect timed out, closing connection"),yield this.close())}),this.connectTimeoutMs);const{peerConnection:Gt,config:{isOffer:en,sessionId:fn}}=this;if(en){const En=yield Gt.createOffer();yield Gt.setLocalDescription(En)}en&&(this.gatherIceTimeout=setTimeout(()=>Us(this,void 0,void 0,function*(){this.sentOffer||(ut.a.warn("ICE gathering timed out"),this.receivedIceCandidate?(ut.a.warn("Attempting to connect with partial ICE candidate pool"),yield this.sendOffer()):yield this.close())}),this.gatherIceTimeoutMs),Gt.onicecandidate=En=>Us(this,void 0,void 0,function*(){En.candidate?this.receivedIceCandidate=!0:yield this.sendOffer()}),Gt.onicegatheringstatechange=()=>Us(this,void 0,void 0,function*(){Gt.iceGatheringState==="complete"&&(yield this.sendOffer())}),Gt.onnegotiationneeded=()=>{ut.a.debug("Negotiation needed",{sessionId:fn})})})}handleSignal(Gt){return Us(this,void 0,void 0,function*(){const{peerConnection:en,config:{sessionId:fn,sendSignal:En}}=this,{description:xn}=JSON.parse(Gt.payload);if(ut.a.debug("Handling signal",{sessionId:fn,description:JSON.stringify(xn)}),xn)if(en.signalingState!=="stable"||en.connectionState!=="connected")if(en.remoteDescription)ut.a.warn(`Received SDP signal during negotiation when remote description is already set: ${JSON.stringify(Gt)}`);else if(xn.type==="offer"){yield en.setRemoteDescription(xn);const or=yield en.createAnswer();yield en.setLocalDescription(or),yield En({payload:JSON.stringify({description:or})})}else xn.type==="answer"&&(yield en.setRemoteDescription(xn));else ut.a.warn(`Received SDP signal when signaling is stable and connected: ${JSON.stringify(Gt)}`);else ut.a.warn(`Received non-SDP signal: ${JSON.stringify(Gt)}`)})}send(Gt,en){const fn=this.getChannelFromLabel(en.channelLabel);fn?this.sendOnChannel(fn,Gt):ut.a.warn("Send called with unexpected channel label",{channelLabel:en.channelLabel})}controlRemoteStream(Gt){this.sendSystemMessage(Ft(this.reliableStreamChannel),{type:"stream-control",streamControl:Gt})}isActive(){return new Set(["new","connecting","connected"]).has(this.peerConnection.connectionState)}isReady(){const{peerConnection:Gt,latestTtlStreamChannel:en,reliableStreamChannel:fn,latestTryOnceStreamChannel:En}=this;return!!(fn&&en&&En)&&Gt.connectionState==="connected"&&fn.readyState==="open"&&en.readyState==="open"&&En.readyState==="open"}isClosed(){const{peerConnection:Gt,reliableStreamChannel:en,latestTryOnceStreamChannel:fn,latestTtlStreamChannel:En}=this;return!(Gt.connectionState!=="closed"||en!==void 0&&en.readyState!=="closed"||fn!==void 0&&fn.readyState!=="closed"||En!==void 0&&En.readyState!=="closed")}needsClosing(){const{peerConnection:Gt,latestTtlStreamChannel:en,reliableStreamChannel:fn,latestTryOnceStreamChannel:En}=this;if(this.isClosed())return!1;const xn=new Set(["closing","closed"]),or=ar=>ar&&xn.has(ar.readyState);return Yr(Gt)||or(en)||or(fn)||or(En)}close(){return Us(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield this.sessionMetrics.uploadMetrics(),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.connectTimeout&&clearTimeout(this.connectTimeout),this.gatherIceTimeout&&clearTimeout(this.gatherIceTimeout),this.peerConnection.close())})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionId(){return this.config.sessionId}getRemotePeer(){return this.config.remotePeer}initializeChannels(Gt){this.latestTtlStreamChannel=Gt.createDataChannel("stream.latest-ttl",At),this.reliableStreamChannel=Gt.createDataChannel("stream.reliable",Mt),this.latestReliableStreamChannel=Gt.createDataChannel("stream.latest-reliable",$t),this.latestTryOnceStreamChannel=Gt.createDataChannel("stream.latest-try-once",pn),this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}sendOffer(){return Us(this,void 0,void 0,function*(){if(this.sentOffer||(this.sentOffer=!0,Yr(this.peerConnection)))return;const{peerConnection:Gt,config:{sendSignal:en}}=this,fn=yield Gt.createOffer();yield Gt.setLocalDescription(fn);const En={payload:JSON.stringify({description:fn})};yield en(En)})}getChannelFromLabel(Gt){switch(Gt){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Gt,en){let fn;try{fn=Object(rn.encode)(JSON.stringify(en))}catch(En){return void ut.a.warn("Failed to encode RTC message",{error:En})}try{Gt.send(fn),this.sessionMetrics.incrementMessageSent(en)}catch(En){ut.a.warn("Failed to send message to channel",{error:En,channel:Gt.label})}}channelNotRecognized(Gt){return Gt!==this.latestTtlStreamChannel&&Gt!==this.latestReliableStreamChannel&&Gt!==this.latestTryOnceStreamChannel&&Gt!==this.reliableStreamChannel}setupChannel(Gt){Gt.onmessage=en=>{if(this.channelNotRecognized(Gt))return void ut.a.warn("Received message on unrecognized data channel.");let fn;try{fn=JSON.parse(Object(rn.decode)(en.data))}catch(En){return void ut.a.warn("Received unparseable RTC message",{error:En,channel:Gt.label})}if(this.lastMessageTimestamp=new Date().getTime(),fn=no(fn),this.sessionMetrics.incrementMessageReceived(fn),!this.handleSystemMessage(Gt,fn)){if(!this.hasCapabilities(fn))return void ut.a.warn("Received RTC message that was not within the capability scope of the connection.");(Gt===this.latestTryOnceStreamChannel||Gt===this.latestTtlStreamChannel||Gt===this.latestReliableStreamChannel)&&!this.isLatestMessage(fn)||this.config.receive(this.config.remotePeer.id,fn)}},Gt.onerror=en=>{ut.a.warn(`Channel error: ${en.error}`,{error:en.error,sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onclose=()=>{const en={bufferedAmount:Gt.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Gt.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",en):ut.a.debug("Channel closed",en)}}handleSystemMessage(Gt,en){switch(en.header.stream.streamType){case"ping":return this.sendSystemMessage(Gt,{type:"pong",timestamp:Ft(en.payload.ping)}),!0;case"pong":{const fn=new Date().getTime()-Ft(en.payload.pong);return this.pingTimeMs=fn,bt.aggregate("rtc-ping-time",fn),!0}case"stream-control":return!0;default:return!1}}sendSystemMessage(Gt,en){if(Gt.readyState!=="open")return;const fn={entityId:Ft(this.config.localPeer.deviceId||this.config.localPeer.userId),streamName:`$.${en.type}`,streamType:en.type};let En;switch(en.type){case"ping":En={ping:new Date().getTime()};break;case"pong":En={pong:en.timestamp};break;case"stream-control":En={streamControl:en.streamControl}}this.sendOnChannel(Gt,jr(fn,En))}hasCapabilities(Gt){var en,fn;const{localPeer:En,remotePeer:xn}=this.config,or=(en=En.capabilitySet.streaming)===null||en===void 0?void 0:en.streams,ar=or&&or.some(On=>On.receive&&Ls(On.stream,Gt.header.stream)),nr=(fn=xn.capabilitySet.streaming)===null||fn===void 0?void 0:fn.streams,Zn=nr&&nr.some(On=>On.send&&Ls(On.stream,Gt.header.stream));return ar||Zn}isLatestMessage(Gt){const en=_i(Gt.header.stream),fn=(this.streamLatestTimestamp.get(en)||0)<=Gt.header.created;return fn&&this.streamLatestTimestamp.set(en,Gt.header.created),fn}}var Po=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class nu{constructor(Gt){this.config=Gt,this.connections=[],this.connectingSessions=new Map,this.updateInterval=pt({func:()=>Po(this,void 0,void 0,function*(){try{yield this.update()}catch(en){ut.a.warn("RTC update failed",{error:en})}}),delay:250*nt.a.millisecond,immediate:!0}),this.localPeer=this.createPeer()}send(Gt,en,fn){const En=this.getActiveConnection(Gt);En?En.isReady()?En.send(en,fn):ut.a.warn("Attempted to send with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to send with no active connection to that peer.")}controlRemoteStream(Gt,en){const fn=this.getActiveConnection(Gt);fn?fn.isReady()?fn.controlRemoteStream(en):ut.a.warn("Attempted to control remote stream with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to control remote stream with no active connection to that peer.")}connect(Gt){return Po(this,void 0,void 0,function*(){const en=yield this.getLocalPeer();if(this.getActiveConnection(Gt))return void ut.a.warn("Attempted to connect to peer with an already active connection.");let fn;try{fn=yield this.config.signalingClient.createSession(yield this.config.getToken(),{offerPeerId:en.id,answerPeerId:Gt})}catch(En){Object(Ds.a)(En,hs.a,xn=>xn.statusCode===404),ut.a.warn("Attempted to connect to peer that does not exist.")}if(fn)for(this.connectingSessions.set(fn.id,new Date().getTime()),yield this.connectToSession(fn);;)switch(yield Object(st.a)(.1),this.getConnectionStatus(Gt)){case"connecting":continue;case"connected":return fn.id;case"disconnected":return}})}getConnectionStatus(Gt){const en=this.getActiveConnection(Gt);return en?en.isReady()?"connected":"connecting":"disconnected"}getIceMode(Gt){const en=this.getActiveConnection(Gt);if(en)return en.iceMode}disconnect(Gt){return Po(this,void 0,void 0,function*(){const en=this.getActiveConnection(Gt);en&&(yield this.closeConnection(en))})}getLocalPeer(){return Po(this,void 0,void 0,function*(){return yield this.localPeer})}getPeers(){return Po(this,void 0,void 0,function*(){return yield this.config.signalingClient.getPeers(yield this.config.getToken())})}getPing(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getLastMessageTimestamp();ut.a.warn("Attempted to get ping time from inactive peer.")}shutdown(){return Po(this,void 0,void 0,function*(){yield this.updateInterval.stop();const Gt=this.connections;this.connections=[],yield this.closeConnections(Gt)})}closeConnection(Gt){return Po(this,void 0,void 0,function*(){this.connectingSessions.delete(Gt.getSessionId()),yield Gt.close();try{yield this.config.signalingClient.deleteSession(yield this.config.getToken(),Gt.getSessionId())}catch(en){Object(Ds.a)(en,hs.a,fn=>fn.statusCode===404)}})}getSessions(){return Po(this,void 0,void 0,function*(){const Gt=yield this.getLocalPeer();return(yield this.config.signalingClient.getSessions(yield this.config.getToken())).filter(en=>en.offer.peer.id===Gt.id||en.answer.peer.id===Gt.id)})}createPeer(){return Po(this,void 0,void 0,function*(){return yield this.config.signalingClient.createPeer(yield this.config.getToken(),{capabilitySet:this.config.capabilitySet||{}})})}createRTCPeerConnection(Gt={}){return Po(this,void 0,void 0,function*(){return new(this.config.alternateRTCPeerConnection||RTCPeerConnection)(Object.assign({iceServers:yield this.config.signalingClient.getIceServers(yield this.config.getToken())},Gt))})}closeConnections(Gt){return Po(this,void 0,void 0,function*(){const en=yield Ct(Gt.map(fn=>Po(this,void 0,void 0,function*(){yield this.closeConnection(fn)})));for(const fn of en)ut.a.warn("Request to close session failed",{error:fn})})}reset(){return Po(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.connectingSessions=new Map,this.localPeer=this.createPeer(),yield this.localPeer})}getActiveConnection(Gt){return this.connections.find(en=>en.getRemotePeer().id===Gt&&en.isActive())}update(){return Po(this,void 0,void 0,function*(){const Gt=yield this.getLocalPeer();try{yield this.config.signalingClient.refreshPeer(yield this.config.getToken(),Gt.id)}catch(en){Object(Ds.a)(en,hs.a,fn=>fn.statusCode===404),ut.a.warn("Peer expired, creating new peer",{peerId:Gt.id}),yield this.reset()}yield this.handleSessions(yield this.getSessions())})}handleSessions(Gt){return Po(this,void 0,void 0,function*(){yield this.syncConnectionsAndSessions(Gt);const en=Gt.map(fn=>({session:fn,connection:this.connections.find(En=>En.getSessionId()===fn.id)}));yield Promise.all(en.map(({session:fn,connection:En})=>Po(this,void 0,void 0,function*(){return yield this.maintainConnection(fn,En)})))})}syncConnectionsAndSessions(Gt){return Po(this,void 0,void 0,function*(){const en=new Set(Gt.map(xn=>xn.id)),fn=xn=>en.has(xn.getSessionId())||this.connectingSessions.has(xn.getSessionId());this.connections=this.connections.filter(xn=>fn(xn));const En=this.connections.filter(xn=>!fn(xn)||xn.needsClosing());yield Promise.all(En.map(xn=>Po(this,void 0,void 0,function*(){yield this.closeConnection(xn)})))})}maintainConnection(Gt,en){return Po(this,void 0,void 0,function*(){const fn=yield this.getLocalPeer(),En=Gt.offer.peer.id===fn.id;if(en){if(en.isReady())try{yield this.config.signalingClient.refreshSession(yield this.config.getToken(),Gt.id)}catch(xn){Object(Ds.a)(xn,hs.a,or=>or.statusCode===404),ut.a.debug("Refresh session not found",{sessionId:Gt.id})}else if(en.isActive())try{yield this.consumeSignals(en)}catch(xn){ut.a.warn("Failed to ingest signals, closing connection",{error:xn}),yield this.closeConnection(en)}}else{if(En)return;yield this.connectToSession(Gt)}})}connectToSession(Gt){return Po(this,void 0,void 0,function*(){const en=yield this.getLocalPeer(),fn=Gt.offer.peer.id===en.id,En=yield this.createRTCPeerConnection(),xn=new cu(En,{localPeer:fn?Gt.offer.peer:Gt.answer.peer,remotePeer:fn?Gt.answer.peer:Gt.offer.peer,sessionId:Gt.id,isOffer:fn,sendSignal:or=>this.sendSignal(Gt.id,or),receive:(or,ar)=>this.config.receive(or,ar)});if(this.connections.find(or=>or.getSessionId()===Gt.id))return ut.a.warn("connectToSession called on a session that already has a connection.",{sessionId:Gt.id}),void(yield xn.close());this.setupHandlers(xn),this.connections.push(xn);try{yield xn.connect()}catch(or){ut.a.warn("Failed to handle negotiation, closing connection",{error:or}),yield this.closeConnection(xn)}})}setupHandlers(Gt){const{peerConnection:en}=Gt,fn=Gt.getSessionId();en.onconnectionstatechange=()=>Po(this,void 0,void 0,function*(){const En=this.connectingSessions.get(fn);if(En===void 0)return;const xn=en.connectionState;switch(Yr(en)&&this.connectingSessions.delete(fn),xn){case"connected":{this.connectingSessions.delete(fn);const or=new Date().getTime()-En;bt.aggregate("rtc-connect-time",or);break}case"failed":bt.increment("rtc-connect-failed"),yield this.closeConnection(Gt)}})}consumeSignals(Gt){return Po(this,void 0,void 0,function*(){let en=[];try{en=yield this.config.signalingClient.takeSignals(yield this.config.getToken(),Gt.getSessionId())}catch(fn){Object(Ds.a)(fn,hs.a,En=>En.statusCode===404)}for(const fn of en)yield Gt.handleSignal(fn)})}sendSignal(Gt,en){return Po(this,void 0,void 0,function*(){try{yield this.config.signalingClient.addSignals(yield this.config.getToken(),Gt,{signals:[en]})}catch(fn){Object(Ds.a)(fn,hs.a,En=>En.statusCode===404)}})}}},function(i,o,s){var _={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $;const _e=new Uint8Array(16);function tt(){if(!$&&($=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(_e)}const j=[];for(let st=0;st<256;++st)j.push((st+256).toString(16).slice(1));function nt(st,ht=0){return(j[st[ht+0]]+j[st[ht+1]]+j[st[ht+2]]+j[st[ht+3]]+"-"+j[st[ht+4]]+j[st[ht+5]]+"-"+j[st[ht+6]]+j[st[ht+7]]+"-"+j[st[ht+8]]+j[st[ht+9]]+"-"+j[st[ht+10]]+j[st[ht+11]]+j[st[ht+12]]+j[st[ht+13]]+j[st[ht+14]]+j[st[ht+15]]).toLowerCase()}o.a=function(st,ht,_t){if(_.randomUUID&&!ht&&!st)return _.randomUUID();const ft=(st=st||{}).random||(st.rng||tt)();if(ft[6]=15&ft[6]|64,ft[8]=63&ft[8]|128,ht){_t=_t||0;for(let dt=0;dt<16;++dt)ht[_t+dt]=ft[dt];return ht}return nt(ft)}},,function(i,o,s){s.r(o),s.d(o,"LogClient",function(){return j});var _=s(28),$=s(10),_e=s(11),tt=function(nt,st,ht,_t){return new(ht||(ht=Promise))(function(ft,dt){function ut(Qt){try{wt(_t.next(Qt))}catch(Dt){dt(Dt)}}function mt(Qt){try{wt(_t.throw(Qt))}catch(Dt){dt(Dt)}}function wt(Qt){var Dt;Qt.done?ft(Qt.value):(Dt=Qt.value,Dt instanceof ht?Dt:new ht(function(Et){Et(Dt)})).then(ut,mt)}wt((_t=_t.apply(nt,st||[])).next())})};class j extends _.a{log(st){return tt(this,void 0,void 0,function*(){const ht=j.token;try{yield this.fetch("logs",{token:ht,method:"POST",body:JSON.stringify({logs:st}),allowUnsafeRetries:!0})}catch(_t){Object($.a)(_t,_e.a,ft=>ft.statusCode===401&&ht!==void 0),j.token===ht&&delete j.token,yield this.log(st)}})}}}])})})(dist$1);function defined$2(i,o){if(i!==void 0)return i;throw new Error(o||"Value is undefined")}let FORMANT_API_URL$1="https://api.formant.io";typeof window<"u"&&(FORMANT_API_URL$1=window.FORMANT_API_URL||FORMANT_API_URL$1);let urlParams$2$1=new URLSearchParams("");typeof window<"u"&&(urlParams$2$1=new URLSearchParams(window.location.search));const envDev$1=urlParams$2$1.get("formant_dev");envDev$1&&(FORMANT_API_URL$1="https://api-dev.formant.io");const envStage$1=urlParams$2$1.get("formant_stage");envStage$1&&(FORMANT_API_URL$1="https://api-stage.formant.io");const envLocal$1=urlParams$2$1.get("formant_local");envLocal$1&&(FORMANT_API_URL$1="https://api.formant.local");let App$2=class{static sendAppMessage(o){window.parent.postMessage(o,"*")}static getCurrentModuleContext(){let o=new URLSearchParams("");return typeof window<"u"&&(o=new URLSearchParams(window.location.search)),o.get("module")}static async getCurrentModuleConfiguration(){let o=new URLSearchParams("");typeof window<"u"&&(o=new URLSearchParams(window.location.search));const s=o.get("configuration");return s===null||s.trim()===""?void 0:(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/module-configurations/`+s,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).configuration}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(o){this.sendAppMessage({type:"go_to_time",time:o.getTime()})}static goToDevice(o){this.sendAppMessage({type:"go_to_device",deviceId:o})}static showMessage(o){this.sendAppMessage({type:"show_message",message:o})}static requestModuleData(){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:o})}static setModuleDateTimeRange(o,s){const _=this.getCurrentModuleContext();if(!_)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:_,before:o,after:s||0})}static refreshAuthToken(){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:o})}static sendChannelData(o,s){const _=this.getCurrentModuleContext();if(!_)throw new Error("No module context");this.sendAppMessage({type:"send_channel_data",source:_,channel:o,data:s})}static setupModuleMenus(o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:s,menus:o})}static addMenuListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="module_menu_item_clicked"&&o(_.menu)})}static addAccessTokenRefreshListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="auth_token"&&o(_.token)})}static addModuleDataListener(o){const s=this.getCurrentModuleContext();s&&this.sendAppMessage({type:"request_module_data",module:s}),window.addEventListener("message",_=>{const $=_.data;$.type==="module_data"&&o({streams:$.streams,time:$.time,queryRange:$.queryRange})})}static addModuleConfigurationListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="module_configuration"&&o(_)})}static addChannelDataListener(o,s){window.addEventListener("message",_=>{const $=_.data;$.type==="channel_data"&&$.channel===o&&s({source:$.source,data:$.data})})}static requestOverviewDevices(o){this.sendAppMessage({type:"request_devices"}),window.addEventListener("message",s=>{const _=s.data;o(_)})}};const _Authentication$1=class{static async login(o,s){try{const _=await fetch(`${FORMANT_API_URL$1}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:o,password:s}),headers:{"Content-Type":"application/json"}}),$=await _.json();if(_.status!==200)throw new Error($.message);return await _Authentication$1.loginWithToken($.authentication.accessToken,$.authentication.refreshToken),$.authentication}catch(_){return _Authentication$1.waitingForAuth.forEach($=>$(!1)),_Authentication$1.waitingForAuth=[],Promise.reject(_)}}static async loginWithToken(o,s){const _=JSON.parse(atob(o.split(".")[1]));try{let $;if(_Authentication$1.isShareToken=_["formant:claims"]&&_["formant:claims"].type=="share",_["formant:claims"]&&(_Authentication$1.currentOrganization=_["formant:claims"].organizationId),_["custom:organization_id"]&&(_Authentication$1.currentOrganization=_["custom:organization_id"]),_Authentication$1.isShareToken||($=_.sub),_["formant:claims"]&&_["formant:claims"].userId&&($=_["formant:claims"].userId),$){const _e=await fetch(`${FORMANT_API_URL$1}/v1/admin/users/${$}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}),tt=await _e.json();if(_e.status!==200)throw new Error(tt.message);_Authentication$1.currentUser=tt}_Authentication$1.token=o,_Authentication$1.waitingForAuth.forEach(_e=>_e(!0))}catch($){console.error($),_Authentication$1.waitingForAuth.forEach(_e=>_e(!1))}_Authentication$1.waitingForAuth=[],s&&(_Authentication$1.refreshToken=s,setInterval(async()=>{if(_Authentication$1.refreshToken){const _e=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication$1.refreshToken})})).json();_Authentication$1.token=_e.authentication.accessToken}},1e3*60*60))}static isAuthenticated(){return _Authentication$1.token!==void 0}static getCurrentUser(){return _Authentication$1.currentUser}static async waitTilAuthenticated(){return _Authentication$1.token!==void 0?!0:new Promise(o=>{_Authentication$1.waitingForAuth.push(function(s){o(s)})})}static async listenForRefresh(){App$2.addAccessTokenRefreshListener(o=>{this.loginWithToken(o)}),setInterval(async()=>{App$2.refreshAuthToken()},1e3*60*60)}};let Authentication$1=_Authentication$1;__publicField$2(Authentication$1,"token");__publicField$2(Authentication$1,"refreshToken");__publicField$2(Authentication$1,"currentUser");__publicField$2(Authentication$1,"currentOrganization");__publicField$2(Authentication$1,"isShareToken",!1);__publicField$2(Authentication$1,"defaultDeviceId");__publicField$2(Authentication$1,"waitingForAuth",[]);function delay$1(i){return new Promise(o=>setTimeout(o,i))}let DataChannel$1=class{constructor(o){__publicField$2(this,"ready",!1),__publicField$2(this,"listeners",[]),__publicField$2(this,"openListeners",[]),__publicField$2(this,"closeListeners",[]),__publicField$2(this,"errorListeners",[]),__publicField$2(this,"binaryListeners",[]),__publicField$2(this,"error"),__publicField$2(this,"decoder",new TextDecoder),this.dataChannel=o,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0,this.openListeners.forEach(s=>s())},this.dataChannel.onclose=()=>{this.ready=!1,this.closeListeners.forEach(s=>s())},this.dataChannel.onerror=s=>{console.error(s),this.error="An error occurred in DataChannel",this.errorListeners.forEach(_=>_(s))},this.dataChannel.onmessage=s=>{this.listeners.forEach(_=>{const $=new Uint8Array(s.data),_e=this.decoder.decode($);_(_e)}),this.binaryListeners.forEach(_=>{_(new Uint8Array(s.data))})}}addOpenListener(o){this.openListeners.push(o)}removeOpenListener(o){this.openListeners=this.openListeners.filter(s=>s!==o)}addCloseListener(o){this.closeListeners.push(o)}removeCloseListener(o){this.closeListeners=this.closeListeners.filter(s=>s!==o)}addErrorListener(o){this.errorListeners.push(o)}removeErrorListener(o){this.errorListeners=this.errorListeners.filter(s=>s!==o)}async waitTilReady(){return this.ready?!0:new Promise((s,_)=>{let $=window.setInterval(()=>{this.ready&&(window.clearInterval($),s(!0)),this.error&&_(this.error)},10)})}send(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}sendBinary(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}addListener(o){this.listeners.push(o)}removeListener(o){const s=this.listeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(s,1)}addBinaryListener(o){this.binaryListeners.push(o)}removeBinaryListener(o){const s=this.binaryListeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(s,1)}},CaptureStream$1=class{constructor(o){__publicField$2(this,"token"),this.captureSession=o}async ingestJSON(o){if(!this.token){const _=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=_.token}await fetch(`${FORMANT_API_URL$1}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(o)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}},Manipulator$1=class{constructor(o,s){__publicField$2(this,"currentListeners",[]),__publicField$2(this,"onRealtimeMessage",(_,$)=>{$.payload.jointState&&this.currentListeners.forEach(_e=>{$.payload.jointState&&_e($.payload.jointState)})}),this.device=o,this.config=s}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(o){this.currentListeners.push(o)}},RequestDataChannel$1=class{constructor(o,s,_){__publicField$2(this,"channel"),__publicField$2(this,"requestIdToResponseMap",new Map),this.device=o,this.channel_name=s,this.timeout=_}addOpenListener(o){defined$2(this.channel,"channel not initalized").addOpenListener(o)}removeOpenListener(o){defined$2(this.channel,"channel not initalized").removeOpenListener(o)}addCloseListener(o){defined$2(this.channel,"channel not initalized").addCloseListener(o)}removeCloseListener(o){defined$2(this.channel,"channel not initalized").removeCloseListener(o)}addErrorListener(o){defined$2(this.channel,"channel not initalized").addErrorListener(o)}removeErrorListener(o){defined$2(this.channel,"channel not initalized").removeErrorListener(o)}},BinaryRequestDataChannel$1=class extends RequestDataChannel$1{constructor(){super(...arguments),__publicField$2(this,"RESPONSE_SUCCESS_BYTE",0),__publicField$2(this,"decoder",new TextDecoder)}generateBinaryId(){const o=new Uint8Array(16);for(let s=0;s<o.length;s++)o[s]=Math.floor(Math.random()*256);return o}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(o=>{const _=o.slice(0,16).toString();if(_.length===0)throw new Error("Invalid response");const $=o.slice(16);if($.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,$)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateBinaryId(),tt=_e.toString();_.set(tt,!0),s.sendBinary(new Uint8Array([..._e,...o]));const j=new Date().getTime();for(;new Date().getTime()<j+$;)if(await delay$1(50),_.has(tt)){const nt=_.get(tt);if(nt!==!0){_.delete(tt);const st=nt[0]===this.RESPONSE_SUCCESS_BYTE,ht=nt.slice(1);if(st)return ht;throw console.error({name:"AdapterError",message:this.decoder.decode(ht)}),new Error("Binary request datachannel adapter error")}}throw _.delete(tt),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Binary request data channel request timed out")}},TextRequestDataChannel$1=class extends RequestDataChannel$1{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(o=>{const s=JSON.parse(o),{id:_,data:$,error:_e}=s;if(!_)throw new Error("Invalid response");if(!$&&!_e)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,s)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateTextId();_.set(_e,!0),s.send(JSON.stringify({id:_e,data:o}));const tt=new Date().getTime();for(;new Date().getTime()<tt+$;)if(await delay$1(50),_.has(_e)){const j=_.get(_e);if(j!==!0){_.delete(_e);const{data:nt,error:st}=j;if(nt)return nt;if(st)throw console.error({name:"AdapterError",message:st}),new Error("Text request datachannel adapter error")}}throw _.delete(_e),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Text request datachannel request timed out")}};const urlParams$1$1=new URLSearchParams(window.location.search),rtcClientVersion$1=urlParams$1$1.get("rtc_client");let Device$1=class{constructor(o,s,_){__publicField$2(this,"rtcClient"),__publicField$2(this,"remoteDevicePeerId"),__publicField$2(this,"realtimeListeners",[]),__publicField$2(this,"handleMessage",($,_e)=>{this.realtimeListeners.forEach(tt=>tt($,_e))}),this.id=o,this.name=s,this.organizationId=_}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}async getConfiguration(){let o=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}});const s=await o.json();if(!s.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const _=s.state.reportedConfiguration.version;return o=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}/configurations/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),(await o.json()).document}async getFileUrl(o){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).fileUrls}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{let s;if(rtcClientVersion$1==="1"?s=new dist$1.exports.RtcClientV1({signalingClient:new dist$1.exports.RtcSignalingClient(FORMANT_API_URL$1+"/v1/signaling"),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:this.handleMessage}):s=new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:this.handleMessage,sessionType:o}),s.isReady)for(;!s.isReady();)await delay$1(100);const $=(await s.getPeers()).find(_e=>_e.deviceId===this.id);if(!$)throw new Error("Cannot find peer, is the robot offline?");for(this.remoteDevicePeerId=$.id,await s.connect(this.remoteDevicePeerId);s.getConnectionStatus(this.remoteDevicePeerId)!=="connected";)await delay$1(100);this.rtcClient=s}}async sendRealtimeMessage(o,s={channelLabel:"stream.reliable"}){const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer();_.send(defined$2($).id,o,s)}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeAudioStreams(){var o,s,_,$,_e,tt;const j=await this.getConfiguration(),nt=[];for(const st of(s=(o=j.teleop)==null?void 0:o.hardwareStreams)!=null?s:[])st.rtcStreamType==="audio-chunk"&&nt.push({name:st.name});for(const st of($=(_=j.teleop)==null?void 0:_.rosStreams)!=null?$:[])st.topicType=="audio_common_msgs/AudioData"&&nt.push({name:st.topicName});for(const st of(tt=(_e=j.teleop)==null?void 0:_e.customStreams)!=null?tt:[])st.rtcStreamType==="audio-chunk"&&nt.push({name:st.name});return nt}async getRealtimeVideoStreams(){var o,s,_,$,_e,tt;const j=await this.getConfiguration(),nt=[];for(const st of(s=(o=j.teleop)==null?void 0:o.hardwareStreams)!=null?s:[])st.rtcStreamType==="h264-video-frame"&&nt.push({name:st.name});for(const st of($=(_=j.teleop)==null?void 0:_.rosStreams)!=null?$:[])st.topicType=="formant/H264VideoFrame"&&nt.push({name:st.topicName});for(const st of(tt=(_e=j.teleop)==null?void 0:_e.customStreams)!=null?tt:[])st.rtcStreamType==="h264-video-frame"&&nt.push({name:st.name});return nt}async getRealtimeManipulators(){var o;const s=await this.getConfiguration(),_=[];for(const $ of(o=s.teleop.rosStreams)!=null?o:[])$.topicType=="sensor_msgs/JointState"&&_.push(new Manipulator$1(this,{currentJointStateStream:{name:$.topicName},plannedJointStateStream:$.plannedTopic?{name:$.plannedTopic}:void 0,planValidStream:$.planValidTopic?{name:$.planValidTopic}:void 0,endEffectorStream:$.endEffectorTopic?{name:$.endEffectorTopic}:void 0,endEffectorLinkName:$.endEffectorLinkName,baseReferenceFrame:$.baseReferenceFrame,localFrame:$.localFrame}));return _}async startListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async changeStreamAudioType(o,s){const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer();_.controlRemoteStream(defined$2($).id,{streamName:o,setAudioFormat:s})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const s=(await defined$2(this.rtcClient,"Realtime connection has not been started").getPeers()).find(_=>_.deviceId===this.id);return defined$2(s,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){let o=await Fleet$2.getPeers(),s=await Fleet$2.getRealtimeSessions(),_=o.find($=>$.deviceId===this.id);return _?s[_.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(_=>({name:_.name,id:_.id,command:_.command,description:_.description,parameterEnabled:_.parameterEnabled,parameterValue:_.parameterValue,parameterMeta:_.parameterMeta,enabled:_.enabled}))}async sendCommand(o,s,_,$){var _e;const j=(await this.getAvailableCommands()).find(ht=>ht.name===o);if(!j)throw new Error(`Could not find command with name "${o}"`);let nt;if(s===void 0)if(j.parameterEnabled&&j.parameterValue)nt=j.parameterValue;else throw new Error("Command has no default parameter value, you must provide one");else nt=s;let st={value:nt,scrubberTime:(_||new Date).toISOString(),meta:{...j.parameterMeta,...$}};await fetch(`${FORMANT_API_URL$1}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:j.id,organizationId:this.organizationId,deviceId:this.id,command:j.command,parameter:st,userId:(_e=Authentication$1.currentUser)==null?void 0:_e.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})}async createCustomDataChannel(o,s){if(rtcClientVersion$1==="1")throw new Error("createCustomDataChannel is not supported in rtcClientVersion 1");const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(tt=>{_.createCustomDataChannel(defined$2($).id,o,{ordered:!0,...s},!1,(j,nt)=>{const st=new DataChannel$1(nt);tt(st)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel$1(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel$1(this,o,s)}async createCaptureStream(o){const _=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:o,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();return new CaptureStream$1(_)}async getTelemetry(o,s,_,$){return await Fleet$2.getTelemetry(this.id,o,s,_,$)}async getTelemetryStreams(){var o,s;const _=await this.getConfiguration(),$=await fetch(`${FORMANT_API_URL$1}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),_e=[],tt=[];return(s=(o=_.telemetry)==null?void 0:o.streams)==null||s.forEach(st=>{st.disabled!==!0&&_e.push(st.name),st.onDemand===!0&&tt.push(st.name)}),console.log(tt),(await $.json()).items.filter(st=>!_e.includes(st)).map(st=>({name:st,onDemand:tt.includes(st)}))}async createInterventionRequest(o,s,_,$){return await(await fetch(`${FORMANT_API_URL$1}/v1/admin/intervention-requests`,{method:"POST",body:JSON.stringify({message:o,interventionType:s,time:new Date().toISOString(),deviceId:this.id,tags:$,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}async addInterventionResponse(o,s,_){return await(await fetch(`${FORMANT_API_URL$1}/v1/admin/intervention-responses`,{method:"POST",body:JSON.stringify({interventionId:o,interventionType:s,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()}},PeerDevice$1=class{constructor(o){__publicField$2(this,"rtcClient"),__publicField$2(this,"remoteDevicePeerId"),__publicField$2(this,"realtimeListeners",[]),__publicField$2(this,"id"),__publicField$2(this,"handleMessage",(s,_)=>{this.realtimeListeners.forEach($=>$(s,_))}),this.peerUrl=o}async getLatestTelemetry(){const s=await(await fetch(`${this.peerUrl}/telemetry`)).json();return Object.entries(s).map(([$,_e])=>({deviceId:this.id,streamName:$,streamType:"json",currentValue:_e,currentValueTime:_e.timestamp,tags:{}}))}async getDeviceId(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.id}async getConfiguration(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.document}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const s=new dist$1.exports.RtcClient({lanOnlyMode:!0,receive:this.handleMessage,sessionType:o});for(await s.connectLan(this.peerUrl);s.getConnectionStatus(this.peerUrl)!=="connected";)await delay$1(100);this.rtcClient=s}}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeVideoStreams(){var o,s,_;const $=await this.getConfiguration(),_e=[];for(const tt of(o=$.teleop.hardwareStreams)!=null?o:[])tt.rtcStreamType==="h264-video-frame"&&_e.push({name:tt.name});for(const tt of(s=$.teleop.rosStreams)!=null?s:[])tt.topicType=="formant/H264VideoFrame"&&_e.push({name:tt.topicName});for(const tt of(_=$.teleop.customStreams)!=null?_:[])tt.rtcStreamType==="h264-video-frame"&&_e.push({name:tt.name});return _e}async getRealtimeManipulators(){var o;const s=await this.getConfiguration(),_=[];for(const $ of(o=s.teleop.rosStreams)!=null?o:[])$.topicType=="sensor_msgs/JointState"&&_.push(new Manipulator$1(this,{currentJointStateStream:{name:$.topicName},plannedJointStateStream:$.plannedTopic?{name:$.plannedTopic}:void 0,planValidStream:$.planValidTopic?{name:$.planValidTopic}:void 0,endEffectorStream:$.endEffectorTopic?{name:$.endEffectorTopic}:void 0,endEffectorLinkName:$.endEffectorLinkName,baseReferenceFrame:$.baseReferenceFrame,localFrame:$.localFrame}));return _}async startListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$2(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$2(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){return{id:this.peerUrl,organizationId:"",deviceId:this.id,capabilities:[],capabilitySet:{}}}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async createCustomDataChannel(o,s){const _=defined$2(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(tt=>{_.createCustomDataChannel(defined$2($).id,o,{ordered:!0,...s},!1,(j,nt)=>{const st=new DataChannel$1(nt);tt(st)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel$1(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel$1(this,o,s)}};const _Fleet$2=class{static async setDefaultDevice(o){_Fleet$2.defaultDeviceId=o}static async getCurrentDevice(){if(!Authentication$1.token)throw new Error("Not authenticated");if(!_Fleet$2.defaultDeviceId)throw new Error("No known default device");const $=(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.find(tt=>tt.id===_Fleet$2.defaultDeviceId).name,_e=new Device$1(_Fleet$2.defaultDeviceId,$,defined$2(Authentication$1.currentOrganization));return _Fleet$2.knownContext.push(new WeakRef(_e)),_e}static async getPeerDevice(o){const s=new PeerDevice$1(o);return s.id=await s.getDeviceId(),s}static async getDevice(o){if(!Authentication$1.token)throw new Error("Not authenticated");const _=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json(),$=_.name,_e=new Device$1(o,$,_.organizationId);return _Fleet$2.knownContext.push(new WeakRef(_e)),_e}static async getDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const s=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();return s.items,s.items.map(_=>new Device$1(_.id,_.name,_.organizationId))}static async queryDevices(o){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map($=>new Device$1($.id,$.name,$.organizationId))}static async getOnlineDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const _=(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items;return(await _Fleet$2.getDevices()).filter(_e=>_.includes(_e.id))}static async getPeers(){if(!Authentication$1.token)throw new Error("Not authenticated");return await new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication$1.token)throw new Error("Not authenticated");return await new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const _=(await(await fetch(`${FORMANT_API_URL$1}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(_e=>_e.deviceId);return(await _Fleet$2.getDevices()).filter(_e=>_.includes(_e.id))}static async getLatestTelemetry(o){let s=o;return o&&!Array.isArray(o)&&(o=[o]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:s}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getTelemetry(o,s,_,$,_e){let tt=o;Array.isArray(o)||(tt=[o]);let j=s;return Array.isArray(s)||(j=[s]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:tt,end:$.toISOString(),names:j,start:_.toISOString(),tags:_e}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getFileUrl(o){const _=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();if(_.fileUrls.length===0)throw new Error("File not found");return _.fileUrls[0]}static async queryTelemetry(o){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async aggregateTelemetry(o){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).aggregates}static async queryEvents(o){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getEvent(o){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/events/query/id=${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getInterventions(){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getCurrentGroup(){if(!Authentication$1.token)throw new Error("Not authenticated");let o=new URLSearchParams("");typeof window<"u"&&(o=new URLSearchParams(window.location.search));const s=o.get("group");if(s===null||s.trim()==="")return;const _=await fetch(`${FORMANT_API_URL$1}/v1/admin/groups/`+s,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),{tagKey:$,tagValue:_e}=await _.json();return await this.queryDevices({tags:{[$]:[_e]},enabled:!0,type:"default"})}};let Fleet$2=_Fleet$2;__publicField$2(Fleet$2,"defaultDeviceId");__publicField$2(Fleet$2,"knownContext",[]);let urlParams$3=new URLSearchParams("");typeof window<"u"&&(urlParams$3=new URLSearchParams(window.location.search));const urlDevice$1=urlParams$3.get("device");urlDevice$1&&Fleet$2.setDefaultDevice(urlDevice$1);const urlAuth$1=urlParams$3.get("auth");urlAuth$1&&Authentication$1.loginWithToken(urlAuth$1);const moduleName$1=urlParams$3.get("module");moduleName$1&&Authentication$1.listenForRefresh();dist$1.exports.IRtcSendConfiguration;dist$1.exports.IRtcStreamMessage;dist$1.exports.IRtcStreamPayload;function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends$2.apply(this,arguments)}function isPlainObject$1(i){return i!==null&&typeof i=="object"&&i.constructor===Object}function deepClone(i){if(!isPlainObject$1(i))return i;const o={};return Object.keys(i).forEach(s=>{o[s]=deepClone(i[s])}),o}function deepmerge(i,o,s={clone:!0}){const _=s.clone?_extends$2({},i):i;return isPlainObject$1(i)&&isPlainObject$1(o)&&Object.keys(o).forEach($=>{$!=="__proto__"&&(isPlainObject$1(o[$])&&$ in i&&isPlainObject$1(i[$])?_[$]=deepmerge(i[$],o[$],s):s.clone?_[$]=isPlainObject$1(o[$])?deepClone(o[$]):o[$]:_[$]=o[$])}),_}function formatMuiErrorMessage(i){let o="https://mui.com/production-error/?code="+i;for(let s=1;s<arguments.length;s+=1)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+i+"; visit "+o+" for the full message."}function capitalize(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage(7));return i.charAt(0).toUpperCase()+i.slice(1)}function resolveProps(i,o){const s=_extends$2({},o);return Object.keys(i).forEach(_=>{if(_.toString().match(/^(components|slots)$/))s[_]=_extends$2({},i[_],s[_]);else if(_.toString().match(/^(componentsProps|slotProps)$/)){const $=i[_]||{},_e=o[_];s[_]={},!_e||!Object.keys(_e)?s[_]=$:!$||!Object.keys($)?s[_]=_e:(s[_]=_extends$2({},_e),Object.keys($).forEach(tt=>{s[_][tt]=resolveProps($[tt],_e[tt])}))}else s[_]===void 0&&(s[_]=i[_])}),s}function composeClasses$1(i,o,s){const _={};return Object.keys(i).forEach($=>{_[$]=i[$].reduce((_e,tt)=>(tt&&(_e.push(o(tt)),s&&s[tt]&&_e.push(s[tt])),_e),[]).join(" ")}),_}const defaultGenerator$1=i=>i,createClassNameGenerator$1=()=>{let i=defaultGenerator$1;return{configure(o){i=o},generate(o){return i(o)},reset(){i=defaultGenerator$1}}},ClassNameGenerator$2=createClassNameGenerator$1(),ClassNameGenerator$3=ClassNameGenerator$2,globalStateClassesMapping$1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass$1(i,o,s="Mui"){const _=globalStateClassesMapping$1[o];return _?`${s}-${_}`:`${ClassNameGenerator$3.generate(i)}-${o}`}function generateUtilityClasses$1(i,o,s="Mui"){const _={};return o.forEach($=>{_[$]=generateUtilityClass$1(i,$,s)}),_}function memoize$2(i){var o=Object.create(null);return function(s){return o[s]===void 0&&(o[s]=i(s)),o[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91});function sheetForTag(i){if(i.sheet)return i.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===i)return document.styleSheets[o]}function createStyleElement(i){var o=document.createElement("style");return o.setAttribute("data-emotion",i.key),i.nonce!==void 0&&o.setAttribute("nonce",i.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function i(s){var _=this;this._insertTag=function($){var _e;_.tags.length===0?_.insertionPoint?_e=_.insertionPoint.nextSibling:_.prepend?_e=_.container.firstChild:_e=_.before:_e=_.tags[_.tags.length-1].nextSibling,_.container.insertBefore($,_e),_.tags.push($)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var o=i.prototype;return o.hydrate=function(_){_.forEach(this._insertTag)},o.insert=function(_){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var $=this.tags[this.tags.length-1];if(this.isSpeedy){var _e=sheetForTag($);try{_e.insertRule(_,_e.cssRules.length)}catch{}}else $.appendChild(document.createTextNode(_));this.ctr++},o.flush=function(){this.tags.forEach(function(_){return _.parentNode&&_.parentNode.removeChild(_)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from$1=String.fromCharCode,assign=Object.assign;function hash(i,o){return charat(i,0)^45?(((o<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,o){return(i=o.exec(i))?i[0]:i}function replace(i,o,s){return i.replace(o,s)}function indexof(i,o){return i.indexOf(o)}function charat(i,o){return i.charCodeAt(o)|0}function substr(i,o,s){return i.slice(o,s)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,o){return o.push(i),i}function combine(i,o){return i.map(o).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(i,o,s,_,$,_e,tt){return{value:i,root:o,parent:s,type:_,props:$,children:_e,line,column,length:tt,return:""}}function copy(i,o){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},o)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(i,o){return substr(characters,i,o)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position$1=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$1-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$1;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$1}function commenter(i,o){for(;next()&&i+character!==47+10;)if(i+character===42+42&&peek()===47)break;return"/*"+slice(o,position$1-1)+"*"+from$1(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position$1)}function compile(i){return dealloc(parse$1("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$1(i,o,s,_,$,_e,tt,j,nt){for(var st=0,ht=0,_t=tt,ft=0,dt=0,ut=0,mt=1,wt=1,Qt=1,Dt=0,Et="",xt=$,pt=_e,Vt=_,nn=Et;wt;)switch(ut=Dt,Dt=next()){case 40:if(ut!=108&&charat(nn,_t-1)==58){indexof(nn+=replace(delimit(Dt),"&","&\f"),"&\f")!=-1&&(Qt=-1);break}case 34:case 39:case 91:nn+=delimit(Dt);break;case 9:case 10:case 13:case 32:nn+=whitespace(ut);break;case 92:nn+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,s),nt);break;default:nn+="/"}break;case 123*mt:j[st++]=strlen(nn)*Qt;case 125*mt:case 59:case 0:switch(Dt){case 0:case 125:wt=0;case 59+ht:dt>0&&strlen(nn)-_t&&append(dt>32?declaration(nn+";",_,s,_t-1):declaration(replace(nn," ","")+";",_,s,_t-2),nt);break;case 59:nn+=";";default:if(append(Vt=ruleset(nn,o,s,st,ht,$,j,Et,xt=[],pt=[],_t),_e),Dt===123)if(ht===0)parse$1(nn,o,Vt,Vt,xt,_e,_t,j,pt);else switch(ft===99&&charat(nn,3)===110?100:ft){case 100:case 109:case 115:parse$1(i,Vt,Vt,_&&append(ruleset(i,Vt,Vt,0,0,$,j,Et,$,xt=[],_t),pt),$,pt,_t,j,_?xt:pt);break;default:parse$1(nn,Vt,Vt,Vt,[""],pt,0,j,pt)}}st=ht=dt=0,mt=Qt=1,Et=nn="",_t=tt;break;case 58:_t=1+strlen(nn),dt=ut;default:if(mt<1){if(Dt==123)--mt;else if(Dt==125&&mt++==0&&prev()==125)continue}switch(nn+=from$1(Dt),Dt*mt){case 38:Qt=ht>0?1:(nn+="\f",-1);break;case 44:j[st++]=(strlen(nn)-1)*Qt,Qt=1;break;case 64:peek()===45&&(nn+=delimit(next())),ft=peek(),ht=_t=strlen(Et=nn+=identifier(caret())),Dt++;break;case 45:ut===45&&strlen(nn)==2&&(mt=0)}}return _e}function ruleset(i,o,s,_,$,_e,tt,j,nt,st,ht){for(var _t=$-1,ft=$===0?_e:[""],dt=sizeof(ft),ut=0,mt=0,wt=0;ut<_;++ut)for(var Qt=0,Dt=substr(i,_t+1,_t=abs(mt=tt[ut])),Et=i;Qt<dt;++Qt)(Et=trim(mt>0?ft[Qt]+" "+Dt:replace(Dt,/&\f/g,ft[Qt])))&&(nt[wt++]=Et);return node(i,o,s,$===0?RULESET:j,nt,st,ht)}function comment(i,o,s){return node(i,o,s,COMMENT,from$1(char()),substr(i,2,-2),0)}function declaration(i,o,s,_){return node(i,o,s,DECLARATION,substr(i,0,_),substr(i,_+1,-1),_)}function serialize(i,o){for(var s="",_=sizeof(i),$=0;$<_;$++)s+=o(i[$],$,i,o)||"";return s}function stringify(i,o,s,_){switch(i.type){case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,_)+"}";case RULESET:i.value=i.props.join(",")}return strlen(s=serialize(i.children,_))?i.return=i.value+"{"+s+"}":""}function middleware(i){var o=sizeof(i);return function(s,_,$,_e){for(var tt="",j=0;j<o;j++)tt+=i[j](s,_,$,_e)||"";return tt}}function rulesheet(i){return function(o){o.root||(o=o.return)&&i(o)}}var identifierWithPointTracking=function i(o,s,_){for(var $=0,_e=0;$=_e,_e=peek(),$===38&&_e===12&&(s[_]=1),!token(_e);)next();return slice(o,position$1)},toRules=function i(o,s){var _=-1,$=44;do switch(token($)){case 0:$===38&&peek()===12&&(s[_]=1),o[_]+=identifierWithPointTracking(position$1-1,s,_);break;case 2:o[_]+=delimit($);break;case 4:if($===44){o[++_]=peek()===58?"&\f":"",s[_]=o[_].length;break}default:o[_]+=from$1($)}while($=next());return o},getRules=function i(o,s){return dealloc(toRules(alloc(o),s))},fixedElements=new WeakMap,compat=function i(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var s=o.value,_=o.parent,$=o.column===_.column&&o.line===_.line;_.type!=="rule";)if(_=_.parent,!_)return;if(!(o.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(_))&&!$){fixedElements.set(o,!0);for(var _e=[],tt=getRules(s,_e),j=_.props,nt=0,st=0;nt<tt.length;nt++)for(var ht=0;ht<j.length;ht++,st++)o.props[st]=_e[nt]?tt[nt].replace(/&\f/g,j[ht]):j[ht]+" "+tt[nt]}}},removeLabel=function i(o){if(o.type==="decl"){var s=o.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(i,o){switch(hash(i,o)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-o>6)switch(charat(i,o+1)){case 109:if(charat(i,o+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,o+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),o)+i:i}break;case 4949:if(charat(i,o+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,o+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function i(o,s,_,$){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],$);case RULESET:if(o.length)return combine(o.props,function(_e){switch(match(_e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(_e,/:(read-\w+)/,":"+MOZ+"$1")]})],$);case"::placeholder":return serialize([copy(o,{props:[replace(_e,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(_e,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(_e,/:(plac\w+)/,MS+"input-$1")]})],$)}return""})}},defaultStylisPlugins=[prefixer],createCache=function i(o){var s=o.key;if(s==="css"){var _=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(_,function(mt){var wt=mt.getAttribute("data-emotion");wt.indexOf(" ")!==-1&&(document.head.appendChild(mt),mt.setAttribute("data-s",""))})}var $=o.stylisPlugins||defaultStylisPlugins,_e={},tt,j=[];tt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(mt){for(var wt=mt.getAttribute("data-emotion").split(" "),Qt=1;Qt<wt.length;Qt++)_e[wt[Qt]]=!0;j.push(mt)});var nt,st=[compat,removeLabel];{var ht,_t=[stringify,rulesheet(function(mt){ht.insert(mt)})],ft=middleware(st.concat($,_t)),dt=function(wt){return serialize(compile(wt),ft)};nt=function(wt,Qt,Dt,Et){ht=Dt,dt(wt?wt+"{"+Qt.styles+"}":Qt.styles),Et&&(ut.inserted[Qt.name]=!0)}}var ut={key:s,sheet:new StyleSheet({key:s,container:tt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:_e,registered:{},insert:nt};return ut.sheet.hydrate(j),ut},reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(i){reactIsExports=i}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k$1=b?Symbol.for("react.context"):60110,l$1=b?Symbol.for("react.async_mode"):60111,m$1=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q$1=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case c:switch(i=i.type,i){case l$1:case m$1:case e:case g:case f$1:case p$1:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case n$1:case t:case r$1:case h:return i;default:return o}}case d:return o}}}function A(i){return z(i)===m$1}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l$1};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(i){return z(i)===k$1};reactIs_production_min.isContextProvider=function(i){return z(i)===h};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c};reactIs_production_min.isForwardRef=function(i){return z(i)===n$1};reactIs_production_min.isFragment=function(i){return z(i)===e};reactIs_production_min.isLazy=function(i){return z(i)===t};reactIs_production_min.isMemo=function(i){return z(i)===r$1};reactIs_production_min.isPortal=function(i){return z(i)===d};reactIs_production_min.isProfiler=function(i){return z(i)===g};reactIs_production_min.isStrictMode=function(i){return z(i)===f$1};reactIs_production_min.isSuspense=function(i){return z(i)===p$1};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m$1||i===g||i===f$1||i===p$1||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t||i.$$typeof===r$1||i.$$typeof===h||i.$$typeof===k$1||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)};reactIs_production_min.typeOf=z;(function(i){i.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(i,o,s){var _="";return s.split(" ").forEach(function($){i[$]!==void 0?o.push(i[$]+";"):_+=$+" "}),_}var registerStyles=function i(o,s,_){var $=o.key+"-"+s.name;(_===!1||isBrowser$1===!1)&&o.registered[$]===void 0&&(o.registered[$]=s.styles)},insertStyles=function i(o,s,_){registerStyles(o,s,_);var $=o.key+"-"+s.name;if(o.inserted[s.name]===void 0){var _e=s;do o.insert(s===_e?"."+$:"",_e,o.sheet,!0),_e=_e.next;while(_e!==void 0)}};function murmur2(i){for(var o=0,s,_=0,$=i.length;$>=4;++_,$-=4)s=i.charCodeAt(_)&255|(i.charCodeAt(++_)&255)<<8|(i.charCodeAt(++_)&255)<<16|(i.charCodeAt(++_)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,o=(s&65535)*1540483477+((s>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch($){case 3:o^=(i.charCodeAt(_+2)&255)<<16;case 2:o^=(i.charCodeAt(_+1)&255)<<8;case 1:o^=i.charCodeAt(_)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function i(o){return o.charCodeAt(1)===45},isProcessableValue=function i(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$2(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function i(o,s){switch(o){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(_,$,_e){return cursor={name:$,styles:_e,next:cursor},$})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,o,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var _=s.next;if(_!==void 0)for(;_!==void 0;)cursor={name:_.name,styles:_.styles,next:cursor},_=_.next;var $=s.styles+";";return $}return createStringFromObject(i,o,s)}case"function":{if(i!==void 0){var _e=cursor,tt=s(i);return cursor=_e,handleInterpolation(i,o,tt)}break}}if(o==null)return s;var j=o[s];return j!==void 0?j:s}function createStringFromObject(i,o,s){var _="";if(Array.isArray(s))for(var $=0;$<s.length;$++)_+=handleInterpolation(i,o,s[$])+";";else for(var _e in s){var tt=s[_e];if(typeof tt!="object")o!=null&&o[tt]!==void 0?_+=_e+"{"+o[tt]+"}":isProcessableValue(tt)&&(_+=processStyleName(_e)+":"+processStyleValue(_e,tt)+";");else if(Array.isArray(tt)&&typeof tt[0]=="string"&&(o==null||o[tt[0]]===void 0))for(var j=0;j<tt.length;j++)isProcessableValue(tt[j])&&(_+=processStyleName(_e)+":"+processStyleValue(_e,tt[j])+";");else{var nt=handleInterpolation(i,o,tt);switch(_e){case"animation":case"animationName":{_+=processStyleName(_e)+":"+nt+";";break}default:_+=_e+"{"+nt+"}"}}}return _}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function i(o,s,_){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var $=!0,_e="";cursor=void 0;var tt=o[0];tt==null||tt.raw===void 0?($=!1,_e+=handleInterpolation(_,s,tt)):_e+=tt[0];for(var j=1;j<o.length;j++)_e+=handleInterpolation(_,s,o[j]),$&&(_e+=tt[j]);labelPattern.lastIndex=0;for(var nt="",st;(st=labelPattern.exec(_e))!==null;)nt+="-"+st[1];var ht=murmur2(_e)+nt;return{name:ht,styles:_e,next:cursor}},syncFallback=function i(o){return o()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function i(o){return reactExports.forwardRef(function(s,_){var $=reactExports.useContext(EmotionCacheContext);return o(s,$,_)})},ThemeContext$4=reactExports.createContext({}),Global=withEmotionCache(function(i,o){var s=i.styles,_=serializeStyles([s],void 0,reactExports.useContext(ThemeContext$4)),$=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var _e=o.key+"-global",tt=new o.sheet.constructor({key:_e,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),j=!1,nt=document.querySelector('style[data-emotion="'+_e+" "+_.name+'"]');return o.sheet.tags.length&&(tt.before=o.sheet.tags[0]),nt!==null&&(j=!0,nt.setAttribute("data-emotion",_e),tt.hydrate([nt])),$.current=[tt,j],function(){tt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var _e=$.current,tt=_e[0],j=_e[1];if(j){_e[1]=!1;return}if(_.next!==void 0&&insertStyles(o,_.next,!0),tt.tags.length){var nt=tt.tags[tt.tags.length-1].nextElementSibling;tt.before=nt,tt.flush()}o.insert("",_,tt,!1)},[o,_.name]),null}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function i(o){return o!=="theme"},getDefaultShouldForwardProp=function i(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function i(o,s,_){var $;if(s){var _e=s.shouldForwardProp;$=o.__emotion_forwardProp&&_e?function(tt){return o.__emotion_forwardProp(tt)&&_e(tt)}:_e}return typeof $!="function"&&_&&($=o.__emotion_forwardProp),$},Insertion=function i(o){var s=o.cache,_=o.serialized,$=o.isStringTag;return registerStyles(s,_,$),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,_,$)}),null},createStyled$2=function i(o,s){var _=o.__emotion_real===o,$=_&&o.__emotion_base||o,_e,tt;s!==void 0&&(_e=s.label,tt=s.target);var j=composeShouldForwardProps(o,s,_),nt=j||getDefaultShouldForwardProp($),st=!nt("as");return function(){var ht=arguments,_t=_&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(_e!==void 0&&_t.push("label:"+_e+";"),ht[0]==null||ht[0].raw===void 0)_t.push.apply(_t,ht);else{_t.push(ht[0][0]);for(var ft=ht.length,dt=1;dt<ft;dt++)_t.push(ht[dt],ht[0][dt])}var ut=withEmotionCache(function(mt,wt,Qt){var Dt=st&&mt.as||$,Et="",xt=[],pt=mt;if(mt.theme==null){pt={};for(var Vt in mt)pt[Vt]=mt[Vt];pt.theme=reactExports.useContext(ThemeContext$4)}typeof mt.className=="string"?Et=getRegisteredStyles(wt.registered,xt,mt.className):mt.className!=null&&(Et=mt.className+" ");var nn=serializeStyles(_t.concat(xt),wt.registered,pt);Et+=wt.key+"-"+nn.name,tt!==void 0&&(Et+=" "+tt);var on=st&&j===void 0?getDefaultShouldForwardProp(Dt):nt,bt={};for(var St in mt)st&&St==="as"||on(St)&&(bt[St]=mt[St]);return bt.className=Et,bt.ref=Qt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:wt,serialized:nn,isStringTag:typeof Dt=="string"}),reactExports.createElement(Dt,bt))});return ut.displayName=_e!==void 0?_e:"Styled("+(typeof $=="string"?$:$.displayName||$.name||"Component")+")",ut.defaultProps=o.defaultProps,ut.__emotion_real=ut,ut.__emotion_base=$,ut.__emotion_styles=_t,ut.__emotion_forwardProp=j,Object.defineProperty(ut,"toString",{value:function(){return"."+tt}}),ut.withComponent=function(mt,wt){return i(mt,_extends$2({},s,wt,{shouldForwardProp:composeShouldForwardProps(ut,wt,!0)})).apply(void 0,_t)},ut}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$2.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});function isEmpty$4(i){return i==null||Object.keys(i).length===0}function GlobalStyles$1(i){const{styles:o,defaultTheme:s={}}=i;return jsx(Global,{styles:typeof o=="function"?$=>o(isEmpty$4($)?s:$):o})}/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$5(i,o){return newStyled(i,o)}const internal_processStyles=(i,o)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=o(i.__emotion_styles))};function merge$2(i,o){return o?deepmerge(i,o,{clone:!1}):i}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints$1={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values$1[i]}px)`};function handleBreakpoints$1(i,o,s){const _=i.theme||{};if(Array.isArray(o)){const _e=_.breakpoints||defaultBreakpoints$1;return o.reduce((tt,j,nt)=>(tt[_e.up(_e.keys[nt])]=s(o[nt]),tt),{})}if(typeof o=="object"){const _e=_.breakpoints||defaultBreakpoints$1;return Object.keys(o).reduce((tt,j)=>{if(Object.keys(_e.values||values$1).indexOf(j)!==-1){const nt=_e.up(j);tt[nt]=s(o[j],j)}else{const nt=j;tt[nt]=o[nt]}return tt},{})}return s(o)}function createEmptyBreakpointObject$1(i={}){var o;return((o=i.keys)==null?void 0:o.reduce((_,$)=>{const _e=i.up($);return _[_e]={},_},{}))||{}}function removeUnusedBreakpoints$1(i,o){return i.reduce((s,_)=>{const $=s[_];return(!$||Object.keys($).length===0)&&delete s[_],s},o)}function getPath$1(i,o,s=!0){if(!o||typeof o!="string")return null;if(i&&i.vars&&s){const _=`vars.${o}`.split(".").reduce(($,_e)=>$&&$[_e]?$[_e]:null,i);if(_!=null)return _}return o.split(".").reduce((_,$)=>_&&_[$]!=null?_[$]:null,i)}function getStyleValue(i,o,s,_=s){let $;return typeof i=="function"?$=i(s):Array.isArray(i)?$=i[s]||_:$=getPath$1(i,s)||_,o&&($=o($,_,i)),$}function style$3(i){const{prop:o,cssProperty:s=i.prop,themeKey:_,transform:$}=i,_e=tt=>{if(tt[o]==null)return null;const j=tt[o],nt=tt.theme,st=getPath$1(nt,_)||{};return handleBreakpoints$1(tt,j,_t=>{let ft=getStyleValue(st,$,_t);return _t===ft&&typeof _t=="string"&&(ft=getStyleValue(st,$,`${o}${_t==="default"?"":capitalize(_t)}`,_t)),s===!1?ft:{[s]:ft}})};return _e.propTypes={},_e.filterProps=[o],_e}function compose$1(...i){const o=i.reduce((_,$)=>($.filterProps.forEach(_e=>{_[_e]=$}),_),{}),s=_=>Object.keys(_).reduce(($,_e)=>o[_e]?merge$2($,o[_e](_)):$,{});return s.propTypes={},s.filterProps=i.reduce((_,$)=>_.concat($.filterProps),[]),s}function memoize$1(i){const o={};return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}const properties$1={m:"margin",p:"padding"},directions$1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases$1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties$1=memoize$1(i=>{if(i.length>2)if(aliases$1[i])i=aliases$1[i];else return[i];const[o,s]=i.split(""),_=properties$1[o],$=directions$1[s]||"";return Array.isArray($)?$.map(_e=>_+_e):[_+$]}),marginKeys$1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys$1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys$1,...paddingKeys$1];function createUnaryUnit$1(i,o,s,_){var $;const _e=($=getPath$1(i,o,!1))!=null?$:s;return typeof _e=="number"?tt=>typeof tt=="string"?tt:_e*tt:Array.isArray(_e)?tt=>typeof tt=="string"?tt:_e[tt]:typeof _e=="function"?_e:()=>{}}function createUnarySpacing$1(i){return createUnaryUnit$1(i,"spacing",8)}function getValue$2(i,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),_=i(s);return o>=0?_:typeof _=="number"?-_:`-${_}`}function getStyleFromPropValue$1(i,o){return s=>i.reduce((_,$)=>(_[$]=getValue$2(o,s),_),{})}function resolveCssProperty$1(i,o,s,_){if(o.indexOf(s)===-1)return null;const $=getCssProperties$1(s),_e=getStyleFromPropValue$1($,_),tt=i[s];return handleBreakpoints$1(i,tt,_e)}function style$2(i,o){const s=createUnarySpacing$1(i.theme);return Object.keys(i).map(_=>resolveCssProperty$1(i,o,_,s)).reduce(merge$2,{})}function margin(i){return style$2(i,marginKeys$1)}margin.propTypes={};margin.filterProps=marginKeys$1;function padding(i){return style$2(i,paddingKeys$1)}padding.propTypes={};padding.filterProps=paddingKeys$1;function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}const border$1=style$3({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop$1=style$3({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight$1=style$3({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom$1=style$3({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft$1=style$3({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor$1=style$3({prop:"borderColor",themeKey:"palette"}),borderTopColor$1=style$3({prop:"borderTopColor",themeKey:"palette"}),borderRightColor$1=style$3({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor$1=style$3({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor$1=style$3({prop:"borderLeftColor",themeKey:"palette"}),borderRadius$1=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const o=createUnaryUnit$1(i.theme,"shape.borderRadius",4),s=_=>({borderRadius:getValue$2(o,_)});return handleBreakpoints$1(i,i.borderRadius,s)}return null};borderRadius$1.propTypes={};borderRadius$1.filterProps=["borderRadius"];compose$1(border$1,borderTop$1,borderRight$1,borderBottom$1,borderLeft$1,borderColor$1,borderTopColor$1,borderRightColor$1,borderBottomColor$1,borderLeftColor$1,borderRadius$1);const gap$1=i=>{if(i.gap!==void 0&&i.gap!==null){const o=createUnaryUnit$1(i.theme,"spacing",8),s=_=>({gap:getValue$2(o,_)});return handleBreakpoints$1(i,i.gap,s)}return null};gap$1.propTypes={};gap$1.filterProps=["gap"];const columnGap$1=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const o=createUnaryUnit$1(i.theme,"spacing",8),s=_=>({columnGap:getValue$2(o,_)});return handleBreakpoints$1(i,i.columnGap,s)}return null};columnGap$1.propTypes={};columnGap$1.filterProps=["columnGap"];const rowGap$1=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const o=createUnaryUnit$1(i.theme,"spacing",8),s=_=>({rowGap:getValue$2(o,_)});return handleBreakpoints$1(i,i.rowGap,s)}return null};rowGap$1.propTypes={};rowGap$1.filterProps=["rowGap"];const gridColumn$1=style$3({prop:"gridColumn"}),gridRow$1=style$3({prop:"gridRow"}),gridAutoFlow$1=style$3({prop:"gridAutoFlow"}),gridAutoColumns$1=style$3({prop:"gridAutoColumns"}),gridAutoRows$1=style$3({prop:"gridAutoRows"}),gridTemplateColumns$1=style$3({prop:"gridTemplateColumns"}),gridTemplateRows$1=style$3({prop:"gridTemplateRows"}),gridTemplateAreas$1=style$3({prop:"gridTemplateAreas"}),gridArea$1=style$3({prop:"gridArea"});compose$1(gap$1,columnGap$1,rowGap$1,gridColumn$1,gridRow$1,gridAutoFlow$1,gridAutoColumns$1,gridAutoRows$1,gridTemplateColumns$1,gridTemplateRows$1,gridTemplateAreas$1,gridArea$1);function paletteTransform(i,o){return o==="grey"?o:i}const color$2=style$3({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor$1=style$3({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor$1=style$3({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color$2,bgcolor$1,backgroundColor$1);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width$1=style$3({prop:"width",transform:sizingTransform}),maxWidth$1=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const o=s=>{var _,$,_e;return{maxWidth:((_=i.theme)==null||($=_.breakpoints)==null||(_e=$.values)==null?void 0:_e[s])||values$1[s]||sizingTransform(s)}};return handleBreakpoints$1(i,i.maxWidth,o)}return null};maxWidth$1.filterProps=["maxWidth"];const minWidth$1=style$3({prop:"minWidth",transform:sizingTransform}),height$1=style$3({prop:"height",transform:sizingTransform}),maxHeight$1=style$3({prop:"maxHeight",transform:sizingTransform}),minHeight$1=style$3({prop:"minHeight",transform:sizingTransform});style$3({prop:"size",cssProperty:"width",transform:sizingTransform});style$3({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing$1=style$3({prop:"boxSizing"});compose$1(width$1,maxWidth$1,minWidth$1,height$1,maxHeight$1,minHeight$1,boxSizing$1);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius$1},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap$1},rowGap:{style:rowGap$1},columnGap:{style:columnGap$1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth$1},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys$1(...i){const o=i.reduce((_,$)=>_.concat(Object.keys($)),[]),s=new Set(o);return i.every(_=>s.size===Object.keys(_).length)}function callIfFn$1(i,o){return typeof i=="function"?i(o):i}function unstable_createStyleFunctionSx$1(){function i(s,_,$,_e){const tt={[s]:_,theme:$},j=_e[s];if(!j)return{[s]:_};const{cssProperty:nt=s,themeKey:st,transform:ht,style:_t}=j;if(_==null)return null;const ft=getPath$1($,st)||{};return _t?_t(tt):handleBreakpoints$1(tt,_,ut=>{let mt=getStyleValue(ft,ht,ut);return ut===mt&&typeof ut=="string"&&(mt=getStyleValue(ft,ht,`${s}${ut==="default"?"":capitalize(ut)}`,ut)),nt===!1?mt:{[nt]:mt}})}function o(s){var _;const{sx:$,theme:_e={}}=s||{};if(!$)return null;const tt=(_=_e.unstable_sxConfig)!=null?_:defaultSxConfig$1;function j(nt){let st=nt;if(typeof nt=="function")st=nt(_e);else if(typeof nt!="object")return nt;if(!st)return null;const ht=createEmptyBreakpointObject$1(_e.breakpoints),_t=Object.keys(ht);let ft=ht;return Object.keys(st).forEach(dt=>{const ut=callIfFn$1(st[dt],_e);if(ut!=null)if(typeof ut=="object")if(tt[dt])ft=merge$2(ft,i(dt,ut,_e,tt));else{const mt=handleBreakpoints$1({theme:_e},ut,wt=>({[dt]:wt}));objectsHaveSameKeys$1(mt,ut)?ft[dt]=o({sx:ut,theme:_e}):ft=merge$2(ft,mt)}else ft=merge$2(ft,i(dt,ut,_e,tt))}),removeUnusedBreakpoints$1(_t,ft)}return Array.isArray($)?$.map(j):j($)}return o}const styleFunctionSx$1=unstable_createStyleFunctionSx$1();styleFunctionSx$1.filterProps=["sx"];const styleFunctionSx$2=styleFunctionSx$1;function _objectWithoutPropertiesLoose$2(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,_e;for(_e=0;_e<_.length;_e++)$=_[_e],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}const _excluded$i=["sx"],splitProps=i=>{var o,s;const _={systemProps:{},otherProps:{}},$=(o=i==null||(s=i.theme)==null?void 0:s.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(i).forEach(_e=>{$[_e]?_.systemProps[_e]=i[_e]:_.otherProps[_e]=i[_e]}),_};function extendSxProp(i){const{sx:o}=i,s=_objectWithoutPropertiesLoose$2(i,_excluded$i),{systemProps:_,otherProps:$}=splitProps(s);let _e;return Array.isArray(o)?_e=[_,...o]:typeof o=="function"?_e=(...tt)=>{const j=o(...tt);return isPlainObject$1(j)?_extends$2({},_,j):_}:_e=_extends$2({},_,o),_extends$2({},$,{sx:_e})}function r(i){var o,s,_="";if(typeof i=="string"||typeof i=="number")_+=i;else if(typeof i=="object")if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]&&(s=r(i[o]))&&(_&&(_+=" "),_+=s);else for(o in i)i[o]&&(_&&(_+=" "),_+=o);return _}function clsx$1(){for(var i,o,s=0,_="";s<arguments.length;)(i=arguments[s++])&&(o=r(i))&&(_&&(_+=" "),_+=o);return _}const _excluded$h=["values","unit","step"],sortBreakpointsValues$1=i=>{const o=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return o.sort((s,_)=>s.val-_.val),o.reduce((s,_)=>_extends$2({},s,{[_.key]:_.val}),{})};function createBreakpoints$1(i){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:_=5}=i,$=_objectWithoutPropertiesLoose$2(i,_excluded$h),_e=sortBreakpointsValues$1(o),tt=Object.keys(_e);function j(ft){return`@media (min-width:${typeof o[ft]=="number"?o[ft]:ft}${s})`}function nt(ft){return`@media (max-width:${(typeof o[ft]=="number"?o[ft]:ft)-_/100}${s})`}function st(ft,dt){const ut=tt.indexOf(dt);return`@media (min-width:${typeof o[ft]=="number"?o[ft]:ft}${s}) and (max-width:${(ut!==-1&&typeof o[tt[ut]]=="number"?o[tt[ut]]:dt)-_/100}${s})`}function ht(ft){return tt.indexOf(ft)+1<tt.length?st(ft,tt[tt.indexOf(ft)+1]):j(ft)}function _t(ft){const dt=tt.indexOf(ft);return dt===0?j(tt[1]):dt===tt.length-1?nt(tt[dt]):st(ft,tt[tt.indexOf(ft)+1]).replace("@media","@media not all and")}return _extends$2({keys:tt,values:_e,up:j,down:nt,between:st,only:ht,not:_t,unit:s},$)}const shape$2={borderRadius:4},shape$3=shape$2;function createSpacing$1(i=8){if(i.mui)return i;const o=createUnarySpacing$1({spacing:i}),s=(..._)=>(_.length===0?[1]:_).map(_e=>{const tt=o(_e);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return s.mui=!0,s}const _excluded$g=["breakpoints","palette","spacing","shape"];function createTheme$3(i={},...o){const{breakpoints:s={},palette:_={},spacing:$,shape:_e={}}=i,tt=_objectWithoutPropertiesLoose$2(i,_excluded$g),j=createBreakpoints$1(s),nt=createSpacing$1($);let st=deepmerge({breakpoints:j,direction:"ltr",components:{},palette:_extends$2({mode:"light"},_),spacing:nt,shape:_extends$2({},shape$3,_e)},tt);return st=o.reduce((ht,_t)=>deepmerge(ht,_t),st),st.unstable_sxConfig=_extends$2({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),st.unstable_sx=function(_t){return styleFunctionSx$2({sx:_t,theme:this})},st}const ThemeContext$2=reactExports.createContext(null),ThemeContext$3=ThemeContext$2;function useTheme$5(){return reactExports.useContext(ThemeContext$3)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(i,o){return typeof o=="function"?o(i):_extends$2({},i,o)}function ThemeProvider$1(i){const{children:o,theme:s}=i,_=useTheme$5(),$=reactExports.useMemo(()=>{const _e=_===null?s:mergeOuterLocalTheme(_,s);return _e!=null&&(_e[nested]=_!==null),_e},[s,_]);return jsx(ThemeContext$3.Provider,{value:$,children:o})}function isObjectEmpty$1(i){return Object.keys(i).length===0}function useTheme$4(i=null){const o=useTheme$5();return!o||isObjectEmpty$1(o)?i:o}const systemDefaultTheme$3=createTheme$3();function useTheme$3(i=systemDefaultTheme$3){return useTheme$4(i)}const _excluded$f=["variant"];function isEmpty$3(i){return i.length===0}function propsToClassKey$1(i){const{variant:o}=i,s=_objectWithoutPropertiesLoose$2(i,_excluded$f);let _=o||"";return Object.keys(s).sort().forEach($=>{$==="color"?_+=isEmpty$3(_)?i[$]:capitalize(i[$]):_+=`${isEmpty$3(_)?$:capitalize($)}${capitalize(i[$].toString())}`}),_}const _excluded$e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2$1=["theme"],_excluded3$1=["theme"];function isEmpty$2(i){return Object.keys(i).length===0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}const getStyleOverrides$1=(i,o)=>o.components&&o.components[i]&&o.components[i].styleOverrides?o.components[i].styleOverrides:null,getVariantStyles$1=(i,o)=>{let s=[];o&&o.components&&o.components[i]&&o.components[i].variants&&(s=o.components[i].variants);const _={};return s.forEach($=>{const _e=propsToClassKey$1($.props);_[_e]=$.style}),_},variantsResolver$1=(i,o,s,_)=>{var $,_e;const{ownerState:tt={}}=i,j=[],nt=s==null||($=s.components)==null||(_e=$[_])==null?void 0:_e.variants;return nt&&nt.forEach(st=>{let ht=!0;Object.keys(st.props).forEach(_t=>{tt[_t]!==st.props[_t]&&i[_t]!==st.props[_t]&&(ht=!1)}),ht&&j.push(o[propsToClassKey$1(st.props)])}),j};function shouldForwardProp$1(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const systemDefaultTheme$2=createTheme$3();function createStyled$1(i={}){const{defaultTheme:o=systemDefaultTheme$2,rootShouldForwardProp:s=shouldForwardProp$1,slotShouldForwardProp:_=shouldForwardProp$1}=i,$=_e=>{const tt=isEmpty$2(_e.theme)?o:_e.theme;return styleFunctionSx$2(_extends$2({},_e,{theme:tt}))};return $.__mui_systemSx=!0,(_e,tt={})=>{internal_processStyles(_e,Et=>Et.filter(xt=>!(xt!=null&&xt.__mui_systemSx)));const{name:j,slot:nt,skipVariantsResolver:st,skipSx:ht,overridesResolver:_t}=tt,ft=_objectWithoutPropertiesLoose$2(tt,_excluded$e),dt=st!==void 0?st:nt&&nt!=="Root"||!1,ut=ht||!1;let mt,wt=shouldForwardProp$1;nt==="Root"?wt=s:nt?wt=_:isStringTag(_e)&&(wt=void 0);const Qt=styled$5(_e,_extends$2({shouldForwardProp:wt,label:mt},ft)),Dt=(Et,...xt)=>{const pt=xt?xt.map(bt=>typeof bt=="function"&&bt.__emotion_real!==bt?St=>{let{theme:It}=St,Bt=_objectWithoutPropertiesLoose$2(St,_excluded2$1);return bt(_extends$2({theme:isEmpty$2(It)?o:It},Bt))}:bt):[];let Vt=Et;j&&_t&&pt.push(bt=>{const St=isEmpty$2(bt.theme)?o:bt.theme,It=getStyleOverrides$1(j,St);if(It){const Bt={};return Object.entries(It).forEach(([Lt,Xt])=>{Bt[Lt]=typeof Xt=="function"?Xt(_extends$2({},bt,{theme:St})):Xt}),_t(bt,Bt)}return null}),j&&!dt&&pt.push(bt=>{const St=isEmpty$2(bt.theme)?o:bt.theme;return variantsResolver$1(bt,getVariantStyles$1(j,St),St,j)}),ut||pt.push($);const nn=pt.length-xt.length;if(Array.isArray(Et)&&nn>0){const bt=new Array(nn).fill("");Vt=[...Et,...bt],Vt.raw=[...Et.raw,...bt]}else typeof Et=="function"&&Et.__emotion_real!==Et&&(Vt=bt=>{let{theme:St}=bt,It=_objectWithoutPropertiesLoose$2(bt,_excluded3$1);return Et(_extends$2({theme:isEmpty$2(St)?o:St},It))});return Qt(Vt,...pt)};return Qt.withConfig&&(Dt.withConfig=Qt.withConfig),Dt}}function getThemeProps$1(i){const{theme:o,name:s,props:_}=i;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?_:resolveProps(o.components[s].defaultProps,_)}function useThemeProps$3({props:i,name:o,defaultTheme:s}){const _=useTheme$3(s);return getThemeProps$1({theme:_,name:o,props:i})}function clamp$1(i,o=0,s=1){return Math.min(Math.max(o,i),s)}function hexToRgb$1(i){i=i.slice(1);const o=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(o);return s&&s[0].length===1&&(s=s.map(_=>_+_)),s?`rgb${s.length===4?"a":""}(${s.map((_,$)=>$<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor$1(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor$1(hexToRgb$1(i));const o=i.indexOf("("),s=i.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,i));let _=i.substring(o+1,i.length-1),$;if(s==="color"){if(_=_.split(" "),$=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(10,$))}else _=_.split(",");return _=_.map(_e=>parseFloat(_e)),{type:s,values:_,colorSpace:$}}function recomposeColor$1(i){const{type:o,colorSpace:s}=i;let{values:_}=i;return o.indexOf("rgb")!==-1?_=_.map(($,_e)=>_e<3?parseInt($,10):$):o.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),o.indexOf("color")!==-1?_=`${s} ${_.join(" ")}`:_=`${_.join(", ")}`,`${o}(${_})`}function hslToRgb$1(i){i=decomposeColor$1(i);const{values:o}=i,s=o[0],_=o[1]/100,$=o[2]/100,_e=_*Math.min($,1-$),tt=(st,ht=(st+s/30)%12)=>$-_e*Math.max(Math.min(ht-3,9-ht,1),-1);let j="rgb";const nt=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return i.type==="hsla"&&(j+="a",nt.push(o[3])),recomposeColor$1({type:j,values:nt})}function getLuminance$1(i){i=decomposeColor$1(i);let o=i.type==="hsl"||i.type==="hsla"?decomposeColor$1(hslToRgb$1(i)).values:i.values;return o=o.map(s=>(i.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio$1(i,o){const s=getLuminance$1(i),_=getLuminance$1(o);return(Math.max(s,_)+.05)/(Math.min(s,_)+.05)}function darken$1(i,o){if(i=decomposeColor$1(i),o=clamp$1(o),i.type.indexOf("hsl")!==-1)i.values[2]*=1-o;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]*=1-o;return recomposeColor$1(i)}function lighten$1(i,o){if(i=decomposeColor$1(i),o=clamp$1(o),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*o;else if(i.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(255-i.values[s])*o;else if(i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(1-i.values[s])*o;return recomposeColor$1(i)}const EMPTY_THEME={};function InnerThemeProvider(i){const o=useTheme$3();return jsx(ThemeContext$4.Provider,{value:typeof o=="object"?o:EMPTY_THEME,children:i.children})}function ThemeProvider(i){const{children:o,theme:s}=i;return jsx(ThemeProvider$1,{theme:s,children:jsx(InnerThemeProvider,{children:o})})}function createMixins$1(i,o){return _extends$2({toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}}},o)}const common$2={black:"#000",white:"#fff"},common$3=common$2,grey$2={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$3=grey$2,purple$2={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$3=purple$2,red$2={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$3=red$2,orange$2={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$3=orange$2,blue$2={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$3=blue$2,lightBlue$2={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$3=lightBlue$2,green$2={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$3=green$2,_excluded$d=["mode","contrastThreshold","tonalOffset"],light$1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$3.white,default:common$3.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark$1={text:{primary:common$3.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$3.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark$1(i,o,s,_){const $=_.light||_,_e=_.dark||_*1.5;i[o]||(i.hasOwnProperty(s)?i[o]=i[s]:o==="light"?i.light=lighten$1(i.main,$):o==="dark"&&(i.dark=darken$1(i.main,_e)))}function getDefaultPrimary$1(i="light"){return i==="dark"?{main:blue$3[200],light:blue$3[50],dark:blue$3[400]}:{main:blue$3[700],light:blue$3[400],dark:blue$3[800]}}function getDefaultSecondary$1(i="light"){return i==="dark"?{main:purple$3[200],light:purple$3[50],dark:purple$3[400]}:{main:purple$3[500],light:purple$3[300],dark:purple$3[700]}}function getDefaultError$1(i="light"){return i==="dark"?{main:red$3[500],light:red$3[300],dark:red$3[700]}:{main:red$3[700],light:red$3[400],dark:red$3[800]}}function getDefaultInfo$1(i="light"){return i==="dark"?{main:lightBlue$3[400],light:lightBlue$3[300],dark:lightBlue$3[700]}:{main:lightBlue$3[700],light:lightBlue$3[500],dark:lightBlue$3[900]}}function getDefaultSuccess$1(i="light"){return i==="dark"?{main:green$3[400],light:green$3[300],dark:green$3[700]}:{main:green$3[800],light:green$3[500],dark:green$3[900]}}function getDefaultWarning$1(i="light"){return i==="dark"?{main:orange$3[400],light:orange$3[300],dark:orange$3[700]}:{main:"#ed6c02",light:orange$3[500],dark:orange$3[900]}}function createPalette$1(i){const{mode:o="light",contrastThreshold:s=3,tonalOffset:_=.2}=i,$=_objectWithoutPropertiesLoose$2(i,_excluded$d),_e=i.primary||getDefaultPrimary$1(o),tt=i.secondary||getDefaultSecondary$1(o),j=i.error||getDefaultError$1(o),nt=i.info||getDefaultInfo$1(o),st=i.success||getDefaultSuccess$1(o),ht=i.warning||getDefaultWarning$1(o);function _t(mt){return getContrastRatio$1(mt,dark$1.text.primary)>=s?dark$1.text.primary:light$1.text.primary}const ft=({color:mt,name:wt,mainShade:Qt=500,lightShade:Dt=300,darkShade:Et=700})=>{if(mt=_extends$2({},mt),!mt.main&&mt[Qt]&&(mt.main=mt[Qt]),!mt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,wt?` (${wt})`:"",Qt));if(typeof mt.main!="string")throw new Error(formatMuiErrorMessage(12,wt?` (${wt})`:"",JSON.stringify(mt.main)));return addLightOrDark$1(mt,"light",Dt,_),addLightOrDark$1(mt,"dark",Et,_),mt.contrastText||(mt.contrastText=_t(mt.main)),mt},dt={dark:dark$1,light:light$1};return deepmerge(_extends$2({common:_extends$2({},common$3),mode:o,primary:ft({color:_e,name:"primary"}),secondary:ft({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ft({color:j,name:"error"}),warning:ft({color:ht,name:"warning"}),info:ft({color:nt,name:"info"}),success:ft({color:st,name:"success"}),grey:grey$3,contrastThreshold:s,getContrastText:_t,augmentColor:ft,tonalOffset:_},dt[o]),$)}const _excluded$c=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$2(i){return Math.round(i*1e5)/1e5}const caseAllCaps$1={textTransform:"uppercase"},defaultFontFamily$1='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography$1(i,o){const s=typeof o=="function"?o(i):o,{fontFamily:_=defaultFontFamily$1,fontSize:$=14,fontWeightLight:_e=300,fontWeightRegular:tt=400,fontWeightMedium:j=500,fontWeightBold:nt=700,htmlFontSize:st=16,allVariants:ht,pxToRem:_t}=s,ft=_objectWithoutPropertiesLoose$2(s,_excluded$c),dt=$/14,ut=_t||(Qt=>`${Qt/st*dt}rem`),mt=(Qt,Dt,Et,xt,pt)=>_extends$2({fontFamily:_,fontWeight:Qt,fontSize:ut(Dt),lineHeight:Et},_===defaultFontFamily$1?{letterSpacing:`${round$2(xt/Dt)}em`}:{},pt,ht),wt={h1:mt(_e,96,1.167,-1.5),h2:mt(_e,60,1.2,-.5),h3:mt(tt,48,1.167,0),h4:mt(tt,34,1.235,.25),h5:mt(tt,24,1.334,0),h6:mt(j,20,1.6,.15),subtitle1:mt(tt,16,1.75,.15),subtitle2:mt(j,14,1.57,.1),body1:mt(tt,16,1.5,.15),body2:mt(tt,14,1.43,.15),button:mt(j,14,1.75,.4,caseAllCaps$1),caption:mt(tt,12,1.66,.4),overline:mt(tt,12,2.66,1,caseAllCaps$1)};return deepmerge(_extends$2({htmlFontSize:st,pxToRem:ut,fontFamily:_,fontSize:$,fontWeightLight:_e,fontWeightRegular:tt,fontWeightMedium:j,fontWeightBold:nt},wt),ft,{clone:!1})}const shadowKeyUmbraOpacity$1=.2,shadowKeyPenumbraOpacity$1=.14,shadowAmbientShadowOpacity$1=.12;function createShadow$1(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity$1})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity$1})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity$1})`].join(",")}const shadows$3=["none",createShadow$1(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow$1(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow$1(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow$1(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow$1(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow$1(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow$1(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow$1(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow$1(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow$1(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow$1(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow$1(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow$1(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow$1(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow$1(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow$1(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow$1(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow$1(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow$1(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow$1(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow$1(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow$1(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow$1(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow$1(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$4=shadows$3,_excluded$b=["duration","easing","delay"],easing$1={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs$1(i){return`${Math.round(i)}ms`}function getAutoHeightDuration$1(i){if(!i)return 0;const o=i/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions$1(i){const o=_extends$2({},easing$1,i.easing),s=_extends$2({},duration$1,i.duration);return _extends$2({getAutoHeightDuration:getAutoHeightDuration$1,create:($=["all"],_e={})=>{const{duration:tt=s.standard,easing:j=o.easeInOut,delay:nt=0}=_e;return _objectWithoutPropertiesLoose$2(_e,_excluded$b),(Array.isArray($)?$:[$]).map(st=>`${st} ${typeof tt=="string"?tt:formatMs$1(tt)} ${j} ${typeof nt=="string"?nt:formatMs$1(nt)}`).join(",")}},i,{easing:o,duration:s})}const zIndex$3={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$4=zIndex$3,_excluded$a=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme$2(i={},...o){const{mixins:s={},palette:_={},transitions:$={},typography:_e={}}=i,tt=_objectWithoutPropertiesLoose$2(i,_excluded$a);if(i.vars)throw new Error(formatMuiErrorMessage(18));const j=createPalette$1(_),nt=createTheme$3(i);let st=deepmerge(nt,{mixins:createMixins$1(nt.breakpoints,s),palette:j,shadows:shadows$4.slice(),typography:createTypography$1(j,_e),transitions:createTransitions$1($),zIndex:_extends$2({},zIndex$4)});return st=deepmerge(st,tt),st=o.reduce((ht,_t)=>deepmerge(ht,_t),st),st.unstable_sxConfig=_extends$2({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),st.unstable_sx=function(_t){return styleFunctionSx$2({sx:_t,theme:this})},st}const defaultTheme$3=createTheme$2(),defaultTheme$4=defaultTheme$3;function useThemeProps$2({props:i,name:o}){return useThemeProps$3({props:i,name:o,defaultTheme:defaultTheme$4})}function GlobalStyles(i){return jsx(GlobalStyles$1,_extends$2({},i,{defaultTheme:defaultTheme$4}))}const html$1=(i,o)=>_extends$2({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&!i.vars&&{colorScheme:i.palette.mode}),body$1=i=>_extends$2({color:(i.vars||i).palette.text.primary},i.typography.body1,{backgroundColor:(i.vars||i).palette.background.default,"@media print":{backgroundColor:(i.vars||i).palette.common.white}}),styles=(i,o=!1)=>{var s,_;const $={};o&&i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([j,nt])=>{var st;$[i.getColorSchemeSelector(j).replace(/\s*&/,"")]={colorScheme:(st=nt.palette)==null?void 0:st.mode}});let _e=_extends$2({html:html$1(i,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:i.typography.fontWeightBold},body:_extends$2({margin:0},body$1(i),{"&::backdrop":{backgroundColor:(i.vars||i).palette.background.default}})},$);const tt=(s=i.components)==null||(_=s.MuiCssBaseline)==null?void 0:_.styleOverrides;return tt&&(_e=[_e,tt]),_e};function CssBaseline(i){const o=useThemeProps$2({props:i,name:"MuiCssBaseline"}),{children:s,enableColorScheme:_=!1}=o;return jsxs(reactExports.Fragment,{children:[jsx(GlobalStyles,{styles:$=>styles($,_)}),s]})}const rootShouldForwardProp$1=i=>shouldForwardProp$1(i)&&i!=="classes",styled$3=createStyled$1({defaultTheme:defaultTheme$4,rootShouldForwardProp:rootShouldForwardProp$1}),styled$4=styled$3;function _setPrototypeOf$1(i,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},_setPrototypeOf$1(i,o)}function _inheritsLoose(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,_setPrototypeOf$1(i,o)}function getTypographyUtilityClass(i){return generateUtilityClass$1("MuiTypography",i)}generateUtilityClasses$1("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$9=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$1=i=>{const{align:o,gutterBottom:s,noWrap:_,paragraph:$,variant:_e,classes:tt}=i,j={root:["root",_e,i.align!=="inherit"&&`align${capitalize(o)}`,s&&"gutterBottom",_&&"noWrap",$&&"paragraph"]};return composeClasses$1(j,getTypographyUtilityClass,tt)},TypographyRoot=styled$4("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,o)=>{const{ownerState:s}=i;return[o.root,s.variant&&o[s.variant],s.align!=="inherit"&&o[`align${capitalize(s.align)}`],s.noWrap&&o.noWrap,s.gutterBottom&&o.gutterBottom,s.paragraph&&o.paragraph]}})(({theme:i,ownerState:o})=>_extends$2({margin:0},o.variant&&i.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=i=>colorTransformations[i]||i,Typography=reactExports.forwardRef(function i(o,s){const _=useThemeProps$2({props:o,name:"MuiTypography"}),$=transformDeprecatedColors(_.color),_e=extendSxProp(_extends$2({},_,{color:$})),{align:tt="inherit",className:j,component:nt,gutterBottom:st=!1,noWrap:ht=!1,paragraph:_t=!1,variant:ft="body1",variantMapping:dt=defaultVariantMapping}=_e,ut=_objectWithoutPropertiesLoose$2(_e,_excluded$9),mt=_extends$2({},_e,{align:tt,color:$,className:j,component:nt,gutterBottom:st,noWrap:ht,paragraph:_t,variant:ft,variantMapping:dt}),wt=nt||(_t?"p":dt[ft]||defaultVariantMapping[ft])||"span",Qt=useUtilityClasses$1(mt);return jsx(TypographyRoot,_extends$2({as:wt,ref:s,ownerState:mt,className:clsx$1(Qt.root,j)},ut))}),Typography$1=Typography;var __defProp3=Object.defineProperty,__defProps2=Object.defineProperties,__getOwnPropDescs2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp3=(i,o,s)=>o in i?__defProp3(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__spreadValues2=(i,o)=>{for(var s in o||(o={}))__hasOwnProp2.call(o,s)&&__defNormalProp3(i,s,o[s]);if(__getOwnPropSymbols2)for(var s of __getOwnPropSymbols2(o))__propIsEnum2.call(o,s)&&__defNormalProp3(i,s,o[s]);return i},__spreadProps2=(i,o)=>__defProps2(i,__getOwnPropDescs2(o)),__publicField3=(i,o,s)=>(__defNormalProp3(i,typeof o!="symbol"?o+"":o,s),s);function _objectWithoutPropertiesLoose$1(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,_e;for(_e=0;_e<_.length;_e++)$=_[_e],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}function _extends$1(){return _extends$1=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends$1.apply(this,arguments)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function toVal(i){var o,s,_="";if(typeof i=="string"||typeof i=="number")_+=i;else if(typeof i=="object")if(Array.isArray(i))for(o=0;o<i.length;o++)i[o]&&(s=toVal(i[o]))&&(_&&(_+=" "),_+=s);else for(o in i)i[o]&&(_&&(_+=" "),_+=o);return _}function clsx(){for(var i=0,o,s,_="";i<arguments.length;)(o=arguments[i++])&&(s=toVal(o))&&(_&&(_+=" "),_+=s);return _}function composeClasses(i,o,s){const _={};return Object.keys(i).forEach($=>{_[$]=i[$].reduce((_e,tt)=>(tt&&(s&&s[tt]&&_e.push(s[tt]),_e.push(o(tt))),_e),[]).join(" ")}),_}const defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(o){i=o},generate(o){return i(o)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();var ClassNameGenerator$1=ClassNameGenerator;const globalStateClassesMapping={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function generateUtilityClass(i,o){return globalStateClassesMapping[o]||`${ClassNameGenerator$1.generate(i)}-${o}`}function generateUtilityClasses(i,o){const s={};return o.forEach(_=>{s[_]=generateUtilityClass(i,_)}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=React$1,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(i,o,s){var _,$={},_e=null,tt=null;s!==void 0&&(_e=""+s),o.key!==void 0&&(_e=""+o.key),o.ref!==void 0&&(tt=o.ref);for(_ in o)m.call(o,_)&&!p.hasOwnProperty(_)&&($[_]=o[_]);if(i&&i.defaultProps)for(_ in o=i.defaultProps,o)$[_]===void 0&&($[_]=o[_]);return{$$typeof:k,type:i,key:_e,ref:tt,props:$,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;/** @license MUI v5.6.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(i,o){return newStyled(i,o)}function merge$1(i,o){return o?deepmerge(i,o,{clone:!1}):i}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values[i]}px)`};function handleBreakpoints(i,o,s){const _=i.theme||{};if(Array.isArray(o)){const _e=_.breakpoints||defaultBreakpoints;return o.reduce((tt,j,nt)=>(tt[_e.up(_e.keys[nt])]=s(o[nt]),tt),{})}if(typeof o=="object"){const _e=_.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((tt,j)=>{if(Object.keys(_e.values||values).indexOf(j)!==-1){const nt=_e.up(j);tt[nt]=s(o[j],j)}else{const nt=j;tt[nt]=o[nt]}return tt},{})}return s(o)}function createEmptyBreakpointObject(i={}){var o;return(i==null||(o=i.keys)==null?void 0:o.reduce((_,$)=>{const _e=i.up($);return _[_e]={},_},{}))||{}}function removeUnusedBreakpoints(i,o){return i.reduce((s,_)=>{const $=s[_];return(!$||Object.keys($).length===0)&&delete s[_],s},o)}function getPath(i,o){return!o||typeof o!="string"?null:o.split(".").reduce((s,_)=>s&&s[_]?s[_]:null,i)}function getValue$1(i,o,s,_=s){let $;return typeof i=="function"?$=i(s):Array.isArray(i)?$=i[s]||_:$=getPath(i,s)||_,o&&($=o($)),$}function style$1(i){const{prop:o,cssProperty:s=i.prop,themeKey:_,transform:$}=i,_e=tt=>{if(tt[o]==null)return null;const j=tt[o],nt=tt.theme,st=getPath(nt,_)||{};return handleBreakpoints(tt,j,_t=>{let ft=getValue$1(st,$,_t);return _t===ft&&typeof _t=="string"&&(ft=getValue$1(st,$,`${o}${_t==="default"?"":capitalize(_t)}`,_t)),s===!1?ft:{[s]:ft}})};return _e.propTypes={},_e.filterProps=[o],_e}function compose(...i){const o=i.reduce((_,$)=>($.filterProps.forEach(_e=>{_[_e]=$}),_),{}),s=_=>Object.keys(_).reduce(($,_e)=>o[_e]?merge$1($,o[_e](_)):$,{});return s.propTypes={},s.filterProps=i.reduce((_,$)=>_.concat($.filterProps),[]),s}function memoize(i){const o={};return s=>(o[s]===void 0&&(o[s]=i(s)),o[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[o,s]=i.split(""),_=properties[o],$=directions[s]||"";return Array.isArray($)?$.map(_e=>_+_e):[_+$]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],spacingKeys=[...marginKeys,...paddingKeys];function createUnaryUnit(i,o,s,_){const $=getPath(i,o)||s;return typeof $=="number"?_e=>typeof _e=="string"?_e:$*_e:Array.isArray($)?_e=>typeof _e=="string"?_e:$[_e]:typeof $=="function"?$:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,o){if(typeof o=="string"||o==null)return o;const s=Math.abs(o),_=i(s);return o>=0?_:typeof _=="number"?-_:`-${_}`}function getStyleFromPropValue(i,o){return s=>i.reduce((_,$)=>(_[$]=getValue(o,s),_),{})}function resolveCssProperty(i,o,s,_){if(o.indexOf(s)===-1)return null;const $=getCssProperties(s),_e=getStyleFromPropValue($,_),tt=i[s];return handleBreakpoints(i,tt,_e)}function style(i,o){const s=createUnarySpacing(i.theme);return Object.keys(i).map(_=>resolveCssProperty(i,o,_,s)).reduce(merge$1,{})}function spacing(i){return style(i,spacingKeys)}spacing.propTypes={};spacing.filterProps=spacingKeys;function getBorder(i){return typeof i!="number"?i:`${i}px solid`}const border=style$1({prop:"border",themeKey:"borders",transform:getBorder}),borderTop=style$1({prop:"borderTop",themeKey:"borders",transform:getBorder}),borderRight=style$1({prop:"borderRight",themeKey:"borders",transform:getBorder}),borderBottom=style$1({prop:"borderBottom",themeKey:"borders",transform:getBorder}),borderLeft=style$1({prop:"borderLeft",themeKey:"borders",transform:getBorder}),borderColor=style$1({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$1({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$1({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$1({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$1({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const o=createUnaryUnit(i.theme,"shape.borderRadius",4),s=_=>({borderRadius:getValue(o,_)});return handleBreakpoints(i,i.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];const borders=compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);var borders$1=borders;const displayPrint=style$1({prop:"displayPrint",cssProperty:!1,transform:i=>({"@media print":{display:i}})}),displayRaw=style$1({prop:"display"}),overflow=style$1({prop:"overflow"}),textOverflow=style$1({prop:"textOverflow"}),visibility=style$1({prop:"visibility"}),whiteSpace=style$1({prop:"whiteSpace"});var display=compose(displayPrint,displayRaw,overflow,textOverflow,visibility,whiteSpace);const flexBasis=style$1({prop:"flexBasis"}),flexDirection=style$1({prop:"flexDirection"}),flexWrap=style$1({prop:"flexWrap"}),justifyContent=style$1({prop:"justifyContent"}),alignItems=style$1({prop:"alignItems"}),alignContent=style$1({prop:"alignContent"}),order=style$1({prop:"order"}),flex=style$1({prop:"flex"}),flexGrow=style$1({prop:"flexGrow"}),flexShrink=style$1({prop:"flexShrink"}),alignSelf=style$1({prop:"alignSelf"}),justifyItems=style$1({prop:"justifyItems"}),justifySelf=style$1({prop:"justifySelf"}),flexbox=compose(flexBasis,flexDirection,flexWrap,justifyContent,alignItems,alignContent,order,flex,flexGrow,flexShrink,alignSelf,justifyItems,justifySelf);var flexbox$1=flexbox;const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({gap:getValue(o,_)});return handleBreakpoints(i,i.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({columnGap:getValue(o,_)});return handleBreakpoints(i,i.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const o=createUnaryUnit(i.theme,"spacing",8),s=_=>({rowGap:getValue(o,_)});return handleBreakpoints(i,i.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"}),grid=compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);var grid$1=grid;const color$1=style$1({prop:"color",themeKey:"palette"}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette"}),palette=compose(color$1,bgcolor,backgroundColor);var palette$1=palette;const position=style$1({prop:"position"}),zIndex$2=style$1({prop:"zIndex",themeKey:"zIndex"}),top=style$1({prop:"top"}),right=style$1({prop:"right"}),bottom=style$1({prop:"bottom"}),left=style$1({prop:"left"});var positions$1=compose(position,zIndex$2,top,right,bottom,left);const boxShadow=style$1({prop:"boxShadow",themeKey:"shadows"});var shadows$2=boxShadow;function transform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$1({prop:"width",transform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const o=s=>{var _,$,_e;return{maxWidth:((_=i.theme)==null||($=_.breakpoints)==null||(_e=$.values)==null?void 0:_e[s])||values[s]||transform(s)}};return handleBreakpoints(i,i.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform}),height=style$1({prop:"height",transform}),maxHeight=style$1({prop:"maxHeight",transform}),minHeight=style$1({prop:"minHeight",transform});style$1({prop:"size",cssProperty:"width",transform});style$1({prop:"size",cssProperty:"height",transform});const boxSizing=style$1({prop:"boxSizing"}),sizing=compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);var sizing$1=sizing;const fontFamily=style$1({prop:"fontFamily",themeKey:"typography"}),fontSize=style$1({prop:"fontSize",themeKey:"typography"}),fontStyle=style$1({prop:"fontStyle",themeKey:"typography"}),fontWeight=style$1({prop:"fontWeight",themeKey:"typography"}),letterSpacing=style$1({prop:"letterSpacing"}),textTransform=style$1({prop:"textTransform"}),lineHeight=style$1({prop:"lineHeight"}),textAlign=style$1({prop:"textAlign"}),typographyVariant=style$1({prop:"typography",cssProperty:!1,themeKey:"typography"}),typography=compose(typographyVariant,fontFamily,fontSize,fontStyle,fontWeight,letterSpacing,lineHeight,textAlign,textTransform);var typography$1=typography;const filterPropsMapping={borders:borders$1.filterProps,display:display.filterProps,flexbox:flexbox$1.filterProps,grid:grid$1.filterProps,positions:positions$1.filterProps,palette:palette$1.filterProps,shadows:shadows$2.filterProps,sizing:sizing$1.filterProps,spacing:spacing.filterProps,typography:typography$1.filterProps},styleFunctionMapping={borders:borders$1,display,flexbox:flexbox$1,grid:grid$1,positions:positions$1,palette:palette$1,shadows:shadows$2,sizing:sizing$1,spacing,typography:typography$1};Object.keys(filterPropsMapping).reduce((i,o)=>(filterPropsMapping[o].forEach(s=>{i[s]=styleFunctionMapping[o]}),i),{});function objectsHaveSameKeys(...i){const o=i.reduce((_,$)=>_.concat(Object.keys($)),[]),s=new Set(o);return i.every(_=>s.size===Object.keys(_).length)}function callIfFn(i,o){return typeof i=="function"?i(o):i}function unstable_createStyleFunctionSx(i=styleFunctionMapping){const o=Object.keys(i).reduce(($,_e)=>(i[_e].filterProps.forEach(tt=>{$[tt]=i[_e]}),$),{});function s($,_e,tt){const j={[$]:_e,theme:tt},nt=o[$];return nt?nt(j):{[$]:_e}}function _($){const{sx:_e,theme:tt={}}=$||{};if(!_e)return null;function j(nt){let st=nt;if(typeof nt=="function")st=nt(tt);else if(typeof nt!="object")return nt;if(!st)return null;const ht=createEmptyBreakpointObject(tt.breakpoints),_t=Object.keys(ht);let ft=ht;return Object.keys(st).forEach(dt=>{const ut=callIfFn(st[dt],tt);if(ut!=null)if(typeof ut=="object")if(o[dt])ft=merge$1(ft,s(dt,ut,tt));else{const mt=handleBreakpoints({theme:tt},ut,wt=>({[dt]:wt}));objectsHaveSameKeys(mt,ut)?ft[dt]=_({sx:ut,theme:tt}):ft=merge$1(ft,mt)}else ft=merge$1(ft,s(dt,ut,tt))}),removeUnusedBreakpoints(_t,ft)}return Array.isArray(_e)?_e.map(j):j(_e)}return _}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];var defaultStyleFunctionSx=styleFunctionSx;const _excluded$8=["values","unit","step"],sortBreakpointsValues=i=>{const o=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return o.sort((s,_)=>s.val-_.val),o.reduce((s,_)=>_extends$1({},s,{[_.key]:_.val}),{})};function createBreakpoints(i){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:_=5}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$8),_e=sortBreakpointsValues(o),tt=Object.keys(_e);function j(ft){return`@media (min-width:${typeof o[ft]=="number"?o[ft]:ft}${s})`}function nt(ft){return`@media (max-width:${(typeof o[ft]=="number"?o[ft]:ft)-_/100}${s})`}function st(ft,dt){const ut=tt.indexOf(dt);return`@media (min-width:${typeof o[ft]=="number"?o[ft]:ft}${s}) and (max-width:${(ut!==-1&&typeof o[tt[ut]]=="number"?o[tt[ut]]:dt)-_/100}${s})`}function ht(ft){return tt.indexOf(ft)+1<tt.length?st(ft,tt[tt.indexOf(ft)+1]):j(ft)}function _t(ft){const dt=tt.indexOf(ft);return dt===0?j(tt[1]):dt===tt.length-1?nt(tt[dt]):st(ft,tt[tt.indexOf(ft)+1]).replace("@media","@media not all and")}return _extends$1({keys:tt,values:_e,up:j,down:nt,between:st,only:ht,not:_t,unit:s},$)}const shape={borderRadius:4};var shape$1=shape;function createSpacing(i=8){if(i.mui)return i;const o=createUnarySpacing({spacing:i}),s=(..._)=>(_.length===0?[1]:_).map(_e=>{const tt=o(_e);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return s.mui=!0,s}const _excluded$7=["breakpoints","palette","spacing","shape"];function createTheme$1(i={},...o){const{breakpoints:s={},palette:_={},spacing:$,shape:_e={}}=i,tt=_objectWithoutPropertiesLoose$1(i,_excluded$7),j=createBreakpoints(s),nt=createSpacing($);let st=deepmerge({breakpoints:j,direction:"ltr",components:{},palette:_extends$1({mode:"light"},_),spacing:nt,shape:_extends$1({},shape$1,_e)},tt);return st=o.reduce((ht,_t)=>deepmerge(ht,_t),st),st}const ThemeContext=reactExports.createContext(null);var ThemeContext$1=ThemeContext;function useTheme$2(){return reactExports.useContext(ThemeContext$1)}function isObjectEmpty(i){return Object.keys(i).length===0}function useTheme$1(i=null){const o=useTheme$2();return!o||isObjectEmpty(o)?i:o}const systemDefaultTheme$1=createTheme$1();function useTheme(i=systemDefaultTheme$1){return useTheme$1(i)}const _excluded$6=["variant"];function isEmpty$1(i){return i.length===0}function propsToClassKey(i){const{variant:o}=i,s=_objectWithoutPropertiesLoose$1(i,_excluded$6);let _=o||"";return Object.keys(s).sort().forEach($=>{$==="color"?_+=isEmpty$1(_)?i[$]:capitalize(i[$]):_+=`${isEmpty$1(_)?$:capitalize($)}${capitalize(i[$].toString())}`}),_}const _excluded$5=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2=["theme"],_excluded3=["theme"];function isEmpty(i){return Object.keys(i).length===0}const getStyleOverrides=(i,o)=>o.components&&o.components[i]&&o.components[i].styleOverrides?o.components[i].styleOverrides:null,getVariantStyles=(i,o)=>{let s=[];o&&o.components&&o.components[i]&&o.components[i].variants&&(s=o.components[i].variants);const _={};return s.forEach($=>{const _e=propsToClassKey($.props);_[_e]=$.style}),_},variantsResolver=(i,o,s,_)=>{var $,_e;const{ownerState:tt={}}=i,j=[],nt=s==null||($=s.components)==null||(_e=$[_])==null?void 0:_e.variants;return nt&&nt.forEach(st=>{let ht=!0;Object.keys(st.props).forEach(_t=>{tt[_t]!==st.props[_t]&&i[_t]!==st.props[_t]&&(ht=!1)}),ht&&j.push(o[propsToClassKey(st.props)])}),j};function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(i={}){const{defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:s=shouldForwardProp,slotShouldForwardProp:_=shouldForwardProp,styleFunctionSx:$=defaultStyleFunctionSx}=i;return(_e,tt={})=>{const{name:j,slot:nt,skipVariantsResolver:st,skipSx:ht,overridesResolver:_t}=tt,ft=_objectWithoutPropertiesLoose$1(tt,_excluded$5),dt=st!==void 0?st:nt&&nt!=="Root"||!1,ut=ht||!1;let mt,wt=shouldForwardProp;nt==="Root"?wt=s:nt&&(wt=_);const Qt=styled$2(_e,_extends$1({shouldForwardProp:wt,label:mt},ft)),Dt=(Et,...xt)=>{const pt=xt?xt.map(bt=>typeof bt=="function"&&bt.__emotion_real!==bt?St=>{let{theme:It}=St,Bt=_objectWithoutPropertiesLoose$1(St,_excluded2);return bt(_extends$1({theme:isEmpty(It)?o:It},Bt))}:bt):[];let Vt=Et;j&&_t&&pt.push(bt=>{const St=isEmpty(bt.theme)?o:bt.theme,It=getStyleOverrides(j,St);if(It){const Bt={};return Object.entries(It).forEach(([Lt,Xt])=>{Bt[Lt]=typeof Xt=="function"?Xt(bt):Xt}),_t(bt,Bt)}return null}),j&&!dt&&pt.push(bt=>{const St=isEmpty(bt.theme)?o:bt.theme;return variantsResolver(bt,getVariantStyles(j,St),St,j)}),ut||pt.push(bt=>{const St=isEmpty(bt.theme)?o:bt.theme;return $(_extends$1({},bt,{theme:St}))});const nn=pt.length-xt.length;if(Array.isArray(Et)&&nn>0){const bt=new Array(nn).fill("");Vt=[...Et,...bt],Vt.raw=[...Et.raw,...bt]}else typeof Et=="function"&&Et.__emotion_real!==Et&&(Vt=bt=>{let{theme:St}=bt,It=_objectWithoutPropertiesLoose$1(bt,_excluded3);return Et(_extends$1({theme:isEmpty(St)?o:St},It))});return Qt(Vt,...pt)};return Qt.withConfig&&(Dt.withConfig=Qt.withConfig),Dt}}function getThemeProps(i){const{theme:o,name:s,props:_}=i;return!o||!o.components||!o.components[s]||!o.components[s].defaultProps?_:resolveProps(o.components[s].defaultProps,_)}function useThemeProps$1({props:i,name:o,defaultTheme:s}){const _=useTheme(s);return getThemeProps({theme:_,name:o,props:i})}function clamp(i,o=0,s=1){return Math.min(Math.max(o,i),s)}function hexToRgb(i){i=i.slice(1);const o=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(o);return s&&s[0].length===1&&(s=s.map(_=>_+_)),s?`rgb${s.length===4?"a":""}(${s.map((_,$)=>$<3?parseInt(_,16):Math.round(parseInt(_,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb(i));const o=i.indexOf("("),s=i.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,i));let _=i.substring(o+1,i.length-1),$;if(s==="color"){if(_=_.split(" "),$=_.shift(),_.length===4&&_[3].charAt(0)==="/"&&(_[3]=_[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(10,$))}else _=_.split(",");return _=_.map(_e=>parseFloat(_e)),{type:s,values:_,colorSpace:$}}function recomposeColor(i){const{type:o,colorSpace:s}=i;let{values:_}=i;return o.indexOf("rgb")!==-1?_=_.map(($,_e)=>_e<3?parseInt($,10):$):o.indexOf("hsl")!==-1&&(_[1]=`${_[1]}%`,_[2]=`${_[2]}%`),o.indexOf("color")!==-1?_=`${s} ${_.join(" ")}`:_=`${_.join(", ")}`,`${o}(${_})`}function hslToRgb(i){i=decomposeColor(i);const{values:o}=i,s=o[0],_=o[1]/100,$=o[2]/100,_e=_*Math.min($,1-$),tt=(st,ht=(st+s/30)%12)=>$-_e*Math.max(Math.min(ht-3,9-ht,1),-1);let j="rgb";const nt=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return i.type==="hsla"&&(j+="a",nt.push(o[3])),recomposeColor({type:j,values:nt})}function getLuminance(i){i=decomposeColor(i);let o=i.type==="hsl"?decomposeColor(hslToRgb(i)).values:i.values;return o=o.map(s=>(i.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(i,o){const s=getLuminance(i),_=getLuminance(o);return(Math.max(s,_)+.05)/(Math.min(s,_)+.05)}function darken(i,o){if(i=decomposeColor(i),o=clamp(o),i.type.indexOf("hsl")!==-1)i.values[2]*=1-o;else if(i.type.indexOf("rgb")!==-1||i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]*=1-o;return recomposeColor(i)}function lighten(i,o){if(i=decomposeColor(i),o=clamp(o),i.type.indexOf("hsl")!==-1)i.values[2]+=(100-i.values[2])*o;else if(i.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(255-i.values[s])*o;else if(i.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)i.values[s]+=(1-i.values[s])*o;return recomposeColor(i)}function createMixins(i,o,s){return _extends$1({toolbar:{minHeight:56,[`${i.up("xs")} and (orientation: landscape)`]:{minHeight:48},[i.up("sm")]:{minHeight:64}}},s)}const common={black:"#000",white:"#fff"};var common$1=common;const grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var grey$1=grey;const purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var purple$1=purple;const red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var red$1=red;const orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var orange$1=orange;const blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var blue$1=blue;const lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var lightBlue$1=lightBlue;const green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var green$1=green;const _excluded$4=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(i,o,s,_){const $=_.light||_,_e=_.dark||_*1.5;i[o]||(i.hasOwnProperty(s)?i[o]=i[s]:o==="light"?i.light=lighten(i.main,$):o==="dark"&&(i.dark=darken(i.main,_e)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(i){const{mode:o="light",contrastThreshold:s=3,tonalOffset:_=.2}=i,$=_objectWithoutPropertiesLoose$1(i,_excluded$4),_e=i.primary||getDefaultPrimary(o),tt=i.secondary||getDefaultSecondary(o),j=i.error||getDefaultError(o),nt=i.info||getDefaultInfo(o),st=i.success||getDefaultSuccess(o),ht=i.warning||getDefaultWarning(o);function _t(mt){return getContrastRatio(mt,dark.text.primary)>=s?dark.text.primary:light.text.primary}const ft=({color:mt,name:wt,mainShade:Qt=500,lightShade:Dt=300,darkShade:Et=700})=>{if(mt=_extends$1({},mt),!mt.main&&mt[Qt]&&(mt.main=mt[Qt]),!mt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,wt?` (${wt})`:"",Qt));if(typeof mt.main!="string")throw new Error(formatMuiErrorMessage(12,wt?` (${wt})`:"",JSON.stringify(mt.main)));return addLightOrDark(mt,"light",Dt,_),addLightOrDark(mt,"dark",Et,_),mt.contrastText||(mt.contrastText=_t(mt.main)),mt},dt={dark,light};return deepmerge(_extends$1({common:common$1,mode:o,primary:ft({color:_e,name:"primary"}),secondary:ft({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ft({color:j,name:"error"}),warning:ft({color:ht,name:"warning"}),info:ft({color:nt,name:"info"}),success:ft({color:st,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:_t,augmentColor:ft,tonalOffset:_},dt[o]),$)}const _excluded$3=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,o){const s=typeof o=="function"?o(i):o,{fontFamily:_=defaultFontFamily,fontSize:$=14,fontWeightLight:_e=300,fontWeightRegular:tt=400,fontWeightMedium:j=500,fontWeightBold:nt=700,htmlFontSize:st=16,allVariants:ht,pxToRem:_t}=s,ft=_objectWithoutPropertiesLoose$1(s,_excluded$3),dt=$/14,ut=_t||(Qt=>`${Qt/st*dt}rem`),mt=(Qt,Dt,Et,xt,pt)=>_extends$1({fontFamily:_,fontWeight:Qt,fontSize:ut(Dt),lineHeight:Et},_===defaultFontFamily?{letterSpacing:`${round$1(xt/Dt)}em`}:{},pt,ht),wt={h1:mt(_e,96,1.167,-1.5),h2:mt(_e,60,1.2,-.5),h3:mt(tt,48,1.167,0),h4:mt(tt,34,1.235,.25),h5:mt(tt,24,1.334,0),h6:mt(j,20,1.6,.15),subtitle1:mt(tt,16,1.75,.15),subtitle2:mt(j,14,1.57,.1),body1:mt(tt,16,1.5,.15),body2:mt(tt,14,1.43,.15),button:mt(j,14,1.75,.4,caseAllCaps),caption:mt(tt,12,1.66,.4),overline:mt(tt,12,2.66,1,caseAllCaps)};return deepmerge(_extends$1({htmlFontSize:st,pxToRem:ut,fontFamily:_,fontSize:$,fontWeightLight:_e,fontWeightRegular:tt,fontWeightMedium:j,fontWeightBold:nt},wt),ft,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];var shadows$1=shadows;const _excluded$2=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const o=i/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(i){const o=_extends$1({},easing,i.easing),s=_extends$1({},duration$3,i.duration);return _extends$1({getAutoHeightDuration,create:($=["all"],_e={})=>{const{duration:tt=s.standard,easing:j=o.easeInOut,delay:nt=0}=_e;return _objectWithoutPropertiesLoose$1(_e,_excluded$2),(Array.isArray($)?$:[$]).map(st=>`${st} ${typeof tt=="string"?tt:formatMs(tt)} ${j} ${typeof nt=="string"?nt:formatMs(nt)}`).join(",")}},i,{easing:o,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var zIndex$1=zIndex;const _excluded$1=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(i={},...o){const{mixins:s={},palette:_={},transitions:$={},typography:_e={}}=i,tt=_objectWithoutPropertiesLoose$1(i,_excluded$1),j=createPalette(_),nt=createTheme$1(i);let st=deepmerge(nt,{mixins:createMixins(nt.breakpoints,nt.spacing,s),palette:j,shadows:shadows$1.slice(),typography:createTypography(j,_e),transitions:createTransitions($),zIndex:_extends$1({},zIndex$1)});return st=deepmerge(st,tt),st=o.reduce((ht,_t)=>deepmerge(ht,_t),st),st}const defaultTheme$1=createTheme();var defaultTheme$2=defaultTheme$1;function useThemeProps({props:i,name:o}){return useThemeProps$1({props:i,name:o,defaultTheme:defaultTheme$2})}const rootShouldForwardProp=i=>shouldForwardProp(i)&&i!=="classes",styled=createStyled({defaultTheme:defaultTheme$2,rootShouldForwardProp});var styled$1=styled;const html=(i,o)=>_extends$1({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&{colorScheme:i.palette.mode}),body=i=>_extends$1({color:i.palette.text.primary},i.typography.body1,{backgroundColor:i.palette.background.default,"@media print":{backgroundColor:i.palette.common.white}});function getScopedCssBaselineUtilityClass(i){return generateUtilityClass("MuiScopedCssBaseline",i)}generateUtilityClasses("MuiScopedCssBaseline",["root"]);const _excluded=["className","component","enableColorScheme"],useUtilityClasses=i=>{const{classes:o}=i;return composeClasses({root:["root"]},getScopedCssBaselineUtilityClass,o)},ScopedCssBaselineRoot=styled$1("div",{name:"MuiScopedCssBaseline",slot:"Root",overridesResolver:(i,o)=>o.root})(({theme:i,ownerState:o})=>_extends$1({},html(i,o.enableColorScheme),body(i),{"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:i.typography.fontWeightBold}})),ScopedCssBaseline=reactExports.forwardRef(function i(o,s){const _=useThemeProps({props:o,name:"MuiScopedCssBaseline"}),{className:$,component:_e="div"}=_,tt=_objectWithoutPropertiesLoose$1(_,_excluded),j=_extends$1({},_,{component:_e}),nt=useUtilityClasses(j);return jsxRuntime.exports.jsx(ScopedCssBaselineRoot,_extends$1({as:_e,className:clsx(nt.root,$),ref:s,ownerState:j},tt))});var ScopedCssBaseline$1=ScopedCssBaseline;const baseTheme=createTheme$2({typography:{fontFamily:"'Moderat', 'Inter', 'Source Sans Pro', sans-serif",h1:{fontStyle:"normal",fontWeight:"normal",fontSize:"2rem",lineHeight:"2.5rem",letterSpacing:0},h2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1.5rem",lineHeight:"2.125rem",letterSpacing:"0.069rem",fontFeatureSettings:'"zero" on'},h3:{fontStyle:"normal",fontWeight:500,fontSize:"1.125rem",lineHeight:"1.688rem",letterSpacing:"0.069rem"},h4:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.375rem",letterSpacing:"0.069rem",textTransform:"uppercase"},h5:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.125rem",letterSpacing:"0.038rem",textTransform:"uppercase"},h6:{fontStyle:"normal",fontWeight:"normal",fontSize:"0.625rem",lineHeight:"0.938rem",letterSpacing:"0.063rem"},body1:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on'},body2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on',fontVariantNumeric:"tabular-nums"},button:{fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053.rem",textTransform:"uppercase"}}}),lightPalette={palette:{mode:"light",success:{main:"#34dea9",dark:"#2d8376"},info:{main:"#297ceb",dark:"#256faf",light:"#3BABFF"},error:{main:"#fd76a7",dark:"#7f5072"},warning:{main:"#ffb179",dark:"#94645f"},primary:{main:"#657197",light:"#BAC4E2",dark:"#3B4668"},secondary:{main:"#3babff",dark:"#76a7dc"},background:{default:"#FFFFFF",paper:"#F1F3F9"},common:{black:"#ffffff",white:"#000000"}}},darkPalette={palette:{mode:"dark",primary:{main:"#657197",dark:"#3B4668",light:"#BAC4E2",contrastText:"#ffffff"},secondary:{main:"#18d2ff",light:"#18d2ff",dark:"#256faf"},background:{default:"#2d3855",paper:"#2d3855"},common:{black:"#000000",white:"#ffffff"},text:{primary:"#bac4e2"},error:{main:"#ea719d",dark:"#7F5072"},warning:{main:"#a961e4",dark:"#564A94"},info:{main:"#20a0ff",dark:"#256FAF"},success:{main:"#2ec495",dark:"#2D8376"}}};function createComponents(i){const o={components:{MuiCssBaseline:{styleOverrides:{body:{"&::-webkit-scrollbar, & *::-webkit-scrollbar":{background:"transparent",width:"0.5rem",height:"0.5rem"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{background:i.palette.primary.light,borderRadius:"0.25rem"},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:i.palette.primary.light},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:i.palette.primary.light}}}},MuiLink:{styleOverrides:{root:{color:i.palette.secondary.main}}},MuiDialogActions:{styleOverrides:{root:{padding:baseTheme.spacing(3)}}},MuiInputLabel:{styleOverrides:{root:{color:i.palette.primary.light,"&.Mui-focused":{color:i.palette.secondary.main}},outlined:{borderRadius:4,padding:"0.125rem 0.375rem","&.Mui-focused":{backgroundColor:"#2d3855"}}}},MuiFilledInput:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderTop:"1px solid transparent",":before":{borderBottom:`1px dotted ${i.palette.primary.light}`},"&.Mui-focused":{background:i.palette.common.black,border:`1px solid ${i.palette.secondary.main}`,borderBottom:"none",borderTop:`1px solid ${i.palette.secondary.main}`},":after":{borderBottom:`1px solid ${i.palette.secondary.main}`}}}},MuiOutlinedInput:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:`1px dotted ${i.palette.primary.light}`,"&.Mui-focused":{border:`1px solid ${i.palette.secondary.main}`,backgroundColor:i.palette.common.black}},notchedOutline:{border:"transparent"},input:{"&:-webkit-autofill":{"-webkit-box-shadow":`0 0 0 100px ${i.palette.primary.dark} inset`,"-webkit-text-fill-color":i.palette.primary.light}}}},MuiFormHelperText:{styleOverrides:{root:{color:i.palette.error.main}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"white",padding:baseTheme.spacing(1.2)}}},MuiDialogTitle:{styleOverrides:{root:__spreadValues2({color:i.palette.common.white,fontStyle:"normal",fontWeight:500},baseTheme.typography.h3)}},MuiDialogContentText:{styleOverrides:{root:{color:i.palette.primary.light}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{willChange:"background-color , color , border-color , box-shadow",transition:"background-color 200ms ease-in-out 0ms , color 200ms ease-in-out 0ms , border-color 200ms ease-in-out 0ms , box-shadow 200ms ease-in-out 0ms",borderRadius:40,boxShadow:`0 0 0 0rem ${i.palette.primary.main}`,"&.Mui-disabled":{color:i.palette.primary.main}},sizeSmall:{height:"1.25rem",fontWeight:500,fontSize:"0.688rem",lineHeight:"0.825rem",letterSpacing:"0.047rem"},sizeMedium:{height:"1.813rem",fontWeight:500},sizeLarge:{height:"2.563rem",fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053rem"},containedPrimary:{background:i.palette.primary.light,color:i.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${i.palette.primary.light}`,background:i.palette.primary.light}}},containedSecondary:{color:i.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${i.palette.secondary.main}`,background:i.palette.secondary.main}}},outlinedPrimary:{color:i.palette.primary.light}}},MuiDialog:{styleOverrides:{paper:{background:i.palette.background.paper}}},MuiNativeSelect:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,borderTop:"1px solid transparent"},icon:{color:i.palette.primary.light}}},MuiSelect:{styleOverrides:{icon:{color:i.palette.primary.light}}},MuiSnackbarContent:{styleOverrides:{root:{backgroundColor:i.palette.primary.dark,color:i.palette.primary.light}}},MuiSwitch:{styleOverrides:{switchBase:{"&.Mui-checked+.MuiSwitch-track":{backgroundColor:i.palette.common.black},"&.Mui-checked .MuiSwitch-thumb":{backgroundColor:i.palette.secondary.main}},thumb:{backgroundColor:i.palette.primary.light},track:{backgroundColor:i.palette.common.black}}}}};return createTheme$2(i,o)}const darkTheme=createComponents(createTheme$2(baseTheme,darkPalette)),lightTheme=createComponents(createTheme$2(baseTheme,lightPalette)),defaultTheme=darkTheme;function toInteger(i){if(i===null||i===!0||i===!1)return NaN;var o=Number(i);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}function requiredArgs(i,o){if(o.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+o.length+" present")}function _typeof$1(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(i)}function toDate(i){requiredArgs(1,arguments);var o=Object.prototype.toString.call(i);return i instanceof Date||_typeof$1(i)==="object"&&o==="[object Date]"?new Date(i.getTime()):typeof i=="number"||o==="[object Number]"?new Date(i):((typeof i=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addMilliseconds(i,o){requiredArgs(2,arguments);var s=toDate(i).getTime(),_=toInteger(o);return new Date(s+_)}var MILLISECONDS_IN_MINUTE=6e4;function addMinutes(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*MILLISECONDS_IN_MINUTE)}function addSeconds(i,o){requiredArgs(2,arguments);var s=toInteger(o);return addMilliseconds(i,s*1e3)}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function i(o){return o<0?Math.ceil(o):Math.floor(o)}},defaultRoundingMethod="trunc";function getRoundingMethod(i){return i?roundingMap[i]:roundingMap[defaultRoundingMethod]}function startOfMinute(i){requiredArgs(1,arguments);var o=toDate(i);return o.setSeconds(0,0),o}function roundToNearestMinutes(i,o){var s;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var _=toInteger((s=o==null?void 0:o.nearestTo)!==null&&s!==void 0?s:1);if(_<1||_>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var $=toDate(i),_e=$.getSeconds(),tt=$.getMinutes()+_e/60,j=getRoundingMethod(o==null?void 0:o.roundingMethod),nt=j(tt/_)*_,st=tt%_,ht=Math.round(st/_)*_;return new Date($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),nt+ht)}var __defProp$1=Object.defineProperty,__defNormalProp$1=(i,o,s)=>o in i?__defProp$1(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField$1=(i,o,s)=>(__defNormalProp$1(i,typeof o!="symbol"?o+"":o,s),s),dist={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(i,o){module.exports=o()})(window,function(){return function(i){function o(st){for(var ht,_t,ft=st[0],dt=st[1],ut=0,mt=[];ut<ft.length;ut++)_t=ft[ut],Object.prototype.hasOwnProperty.call(_,_t)&&_[_t]&&mt.push(_[_t][0]),_[_t]=0;for(ht in dt)Object.prototype.hasOwnProperty.call(dt,ht)&&(i[ht]=dt[ht]);for(nt&&nt(st);mt.length;)mt.shift()()}var s={},_={0:0};function $(st){if(s[st])return s[st].exports;var ht=s[st]={i:st,l:!1,exports:{}};return i[st].call(ht.exports,ht,ht.exports,$),ht.l=!0,ht.exports}$.e=function(){return Promise.resolve()},$.m=i,$.c=s,$.d=function(st,ht,_t){$.o(st,ht)||Object.defineProperty(st,ht,{enumerable:!0,get:_t})},$.r=function(st){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})},$.t=function(st,ht){if(1&ht&&(st=$(st)),8&ht||4&ht&&typeof st=="object"&&st&&st.__esModule)return st;var _t=Object.create(null);if($.r(_t),Object.defineProperty(_t,"default",{enumerable:!0,value:st}),2&ht&&typeof st!="string")for(var ft in st)$.d(_t,ft,function(dt){return st[dt]}.bind(null,ft));return _t},$.n=function(st){var ht=st&&st.__esModule?function(){return st.default}:function(){return st};return $.d(ht,"a",ht),ht},$.o=function(st,ht){return Object.prototype.hasOwnProperty.call(st,ht)},$.p="",$.oe=function(st){throw console.error(st),st};var _e=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],tt=_e.push.bind(_e);_e.push=o,_e=_e.slice();for(var j=0;j<_e.length;j++)o(_e[j]);var nt=tt;return $($.s=228)}([function(i,o,s){s.d(o,"a",function(){return rn});var _=s(14),$=s.n(_),_e=s(18),tt=s(56),j=s(19);const nt=Math.pow(2,20),st=nt;function ht(Mt,$t){if($t.length<Mt)throw new TypeError(Mt+" argument"+(Mt>1?"s":"")+" required, but only "+$t.length+" present")}function _t(Mt){if(Mt===null||Mt===!0||Mt===!1)return NaN;var $t=Number(Mt);return isNaN($t)?$t:$t<0?Math.ceil($t):Math.floor($t)}var ft={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ut=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wt(Mt){var $t,pn={},hn=Mt.split(ft.dateTimeDelimiter);if(hn.length>2)return pn;if(/:/.test(hn[0])?$t=hn[0]:(pn.date=hn[0],$t=hn[1],ft.timeZoneDelimiter.test(pn.date)&&(pn.date=Mt.split(ft.timeZoneDelimiter)[0],$t=Mt.substr(pn.date.length,Mt.length))),$t){var Sn=ft.timezone.exec($t);Sn?(pn.time=$t.replace(Sn[1],""),pn.timezone=Sn[1]):pn.time=$t}return pn}function Qt(Mt,$t){var pn=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+$t)+"})|(\\d{2}|[+-]\\d{"+(2+$t)+"})$)"),hn=Mt.match(pn);if(!hn)return{year:NaN,restDateString:""};var Sn=hn[1]?parseInt(hn[1]):null,An=hn[2]?parseInt(hn[2]):null;return{year:An===null?Sn:100*An,restDateString:Mt.slice((hn[1]||hn[2]).length)}}function Dt(Mt,$t){if($t===null)return new Date(NaN);var pn=Mt.match(dt);if(!pn)return new Date(NaN);var hn=!!pn[4],Sn=Et(pn[1]),An=Et(pn[2])-1,Gn=Et(pn[3]),Qr=Et(pn[4]),_i=Et(pn[5])-1;if(hn)return function(po,jr,Yr){return jr>=1&&jr<=53&&Yr>=0&&Yr<=6}(0,Qr,_i)?function(po,jr,Yr){var no=new Date(0);no.setUTCFullYear(po,0,4);var Qo=no.getUTCDay()||7,Co=7*(jr-1)+Yr+1-Qo;return no.setUTCDate(no.getUTCDate()+Co),no}($t,Qr,_i):new Date(NaN);var Pr=new Date(0);return function(po,jr,Yr){return jr>=0&&jr<=11&&Yr>=1&&Yr<=(nn[jr]||(on(po)?29:28))}($t,An,Gn)&&function(po,jr){return jr>=1&&jr<=(on(po)?366:365)}($t,Sn)?(Pr.setUTCFullYear($t,An,Math.max(Sn,Gn)),Pr):new Date(NaN)}function Et(Mt){return Mt?parseInt(Mt):1}function xt(Mt){var $t=Mt.match(ut);if(!$t)return NaN;var pn=pt($t[1]),hn=pt($t[2]),Sn=pt($t[3]);return function(An,Gn,Qr){return An===24?Gn===0&&Qr===0:Qr>=0&&Qr<60&&Gn>=0&&Gn<60&&An>=0&&An<25}(pn,hn,Sn)?36e5*pn+6e4*hn+1e3*Sn:NaN}function pt(Mt){return Mt&&parseFloat(Mt.replace(",","."))||0}function Vt(Mt){if(Mt==="Z")return 0;var $t=Mt.match(mt);if(!$t)return 0;var pn=$t[1]==="+"?-1:1,hn=parseInt($t[2]),Sn=$t[3]&&parseInt($t[3])||0;return function(An,Gn){return Gn>=0&&Gn<=59}(0,Sn)?pn*(36e5*hn+6e4*Sn):NaN}var nn=[31,null,31,30,31,30,31,31,30,31,30,31];function on(Mt){return Mt%400==0||Mt%4==0&&Mt%100!=0}function bt(Mt){return ht(1,arguments),Mt instanceof Date||typeof Mt=="object"&&Object.prototype.toString.call(Mt)==="[object Date]"}function St(Mt){ht(1,arguments);var $t=Object.prototype.toString.call(Mt);return Mt instanceof Date||typeof Mt=="object"&&$t==="[object Date]"?new Date(Mt.getTime()):typeof Mt=="number"||$t==="[object Number]"?new Date(Mt):(typeof Mt!="string"&&$t!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function It(Mt){const $t=function(pn,hn){var Sn;ht(1,arguments);var An=_t((Sn=hn==null?void 0:hn.additionalDigits)!==null&&Sn!==void 0?Sn:2);if(An!==2&&An!==1&&An!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(typeof pn!="string"&&Object.prototype.toString.call(pn)!=="[object String]")return new Date(NaN);var Gn,Qr=wt(pn);if(Qr.date){var _i=Qt(Qr.date,An);Gn=Dt(_i.restDateString,_i.year)}if(!Gn||isNaN(Gn.getTime()))return new Date(NaN);var Pr,po=Gn.getTime(),jr=0;if(Qr.time&&(jr=xt(Qr.time),isNaN(jr)))return new Date(NaN);if(!Qr.timezone){var Yr=new Date(po+jr),no=new Date(0);return no.setFullYear(Yr.getUTCFullYear(),Yr.getUTCMonth(),Yr.getUTCDate()),no.setHours(Yr.getUTCHours(),Yr.getUTCMinutes(),Yr.getUTCSeconds(),Yr.getUTCMilliseconds()),no}return Pr=Vt(Qr.timezone),isNaN(Pr)?new Date(NaN):new Date(po+jr+Pr)}(Mt);if(!function(pn){if(ht(1,arguments),!bt(pn)&&typeof pn!="number")return!1;var hn=St(pn);return!isNaN(Number(hn))}($t))throw new Error(`Invalid ISO 8601 date string (${Mt})`);return $t}var Bt=s(4),Lt=s(34);function Xt(Mt){return $()(Mt,{cycles:!0})}var zt=function(Mt,$t){var pn={};for(var hn in Mt)Object.prototype.hasOwnProperty.call(Mt,hn)&&$t.indexOf(hn)<0&&(pn[hn]=Mt[hn]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Sn=0;for(hn=Object.getOwnPropertySymbols(Mt);Sn<hn.length;Sn++)$t.indexOf(hn[Sn])<0&&Object.prototype.propertyIsEnumerable.call(Mt,hn[Sn])&&(pn[hn[Sn]]=Mt[hn[Sn]])}return pn};function Pt(Mt,$t={}){const pn=Qr=>$t.redacted!==!1?Object(Lt.a)(Qr):Qr;if(!Mt.stack)return{message:Xt(pn(Mt))};const{name:hn,message:Sn,stack:An}=Mt,Gn=zt(Mt,["name","message","stack"]);return{name:hn,message:Sn!==void 0?Sn:Xt(pn(Mt)),stack:An,meta:Gn&&Object.keys(Gn).length===0?void 0:pn(Gn)}}function jt(Mt,$t={}){const{message:pn,stack:hn,meta:Sn}=Pt(Mt,$t);return`${hn||pn||""}${Sn&&Object.keys(Sn).length>0?` -- ${Xt(Sn)}`:""}`}var Zt=s(39),Ct=s(103),Ft=s.n(Ct),Ht=function(Mt,$t,pn,hn){return new(pn||(pn=Promise))(function(Sn,An){function Gn(Pr){try{_i(hn.next(Pr))}catch(po){An(po)}}function Qr(Pr){try{_i(hn.throw(Pr))}catch(po){An(po)}}function _i(Pr){var po;Pr.done?Sn(Pr.value):(po=Pr.value,po instanceof pn?po:new pn(function(jr){jr(po)})).then(Gn,Qr)}_i((hn=hn.apply(Mt,$t||[])).next())})},tn=function(Mt,$t){var pn={};for(var hn in Mt)Object.prototype.hasOwnProperty.call(Mt,hn)&&$t.indexOf(hn)<0&&(pn[hn]=Mt[hn]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Sn=0;for(hn=Object.getOwnPropertySymbols(Mt);Sn<hn.length;Sn++)$t.indexOf(hn[Sn])<0&&Object.prototype.propertyIsEnumerable.call(Mt,hn[Sn])&&(pn[hn[Sn]]=Mt[hn[Sn]])}return pn};class mn extends Ft.a{constructor($t,pn){super(),this.endpoint=$t,this.metadata=pn,this.logClient=this.getLogClient()}getLogClient(){return Ht(this,void 0,void 0,function*(){const{LogClient:$t}=yield Promise.resolve().then(s.bind(null,231));return new $t(this.endpoint)})}log($t,pn){return Ht(this,void 0,void 0,function*(){const{level:hn,message:Sn,error:An}=$t,Gn=tn($t,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:hn,message:`${Sn}`.substring(0,1e3),error:An!==void 0?Pt(An):void 0,meta:Object.assign(Object.assign({},Gn),this.metadata)}])}catch(Qr){console.error(`Failed to log to log-api: ${jt(Qr)}`)}pn()})}}var yn=function(Mt,$t){var pn={};for(var hn in Mt)Object.prototype.hasOwnProperty.call(Mt,hn)&&$t.indexOf(hn)<0&&(pn[hn]=Mt[hn]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Sn=0;for(hn=Object.getOwnPropertySymbols(Mt);Sn<hn.length;Sn++)$t.indexOf(hn[Sn])<0&&Object.prototype.propertyIsEnumerable.call(Mt,hn[Sn])&&(pn[hn[Sn]]=Mt[hn[Sn]])}return pn};const vn={app:Bt.a,namespace:Bt.i,buildTag:Bt.b,instanceId:Zt.a},un=Bt.e?j.format.printf(Mt=>{var{timestamp:$t,level:pn,message:hn,error:Sn}=Mt,An=yn(Mt,["timestamp","level","message","error"]);const Gn=Object.assign(Object.assign({timestamp:$t?It($t).getTime():new Date().getTime(),level:pn.toUpperCase(),message:hn},Sn?{error:Pt(Sn)}:{}),{meta:Object.assign(Object.assign({},vn),An)});return $()(Gn,{cycles:!0})}):j.format.printf(Mt=>{var{timestamp:$t,level:pn,message:hn,error:Sn}=Mt,An=yn(Mt,["timestamp","level","message","error"]);let Gn=`${$t||new Date().toISOString()} ${pn.toUpperCase()}: ${hn} `;return Object.keys(An).length>0&&(Gn+=$()(An,{cycles:!0})),Sn&&(Gn+=`
${jt(Sn)}`),Gn}),rn=Object(j.createLogger)({level:Bt.f});if(Bt.g&&rn.add(new j.transports.Console({format:un,level:"debug"})),Bt.d&&rn.add(new mn(Bt.d,vn)),Bt.h){const Mt=tt.resolve(_e.tmpdir(),`silly-${Bt.a}.log`);rn.debug("Logging silly logs to file",{filename:Mt}),rn.add(new j.transports.File({filename:Mt,maxsize:1*st,maxFiles:10,format:j.format.combine((At="silly",Object(j.format)($t=>$t.level===At&&$t)()),un),level:"silly"}))}var At},function(i,o,s){s.d(o,"a",function(){return _});const _={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(i,o){var s,_,$=i.exports={};function _e(){throw new Error("setTimeout has not been defined")}function tt(){throw new Error("clearTimeout has not been defined")}function j(wt){if(s===setTimeout)return setTimeout(wt,0);if((s===_e||!s)&&setTimeout)return s=setTimeout,setTimeout(wt,0);try{return s(wt,0)}catch{try{return s.call(null,wt,0)}catch{return s.call(this,wt,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:_e}catch{s=_e}try{_=typeof clearTimeout=="function"?clearTimeout:tt}catch{_=tt}})();var nt,st=[],ht=!1,_t=-1;function ft(){ht&&nt&&(ht=!1,nt.length?st=nt.concat(st):_t=-1,st.length&&dt())}function dt(){if(!ht){var wt=j(ft);ht=!0;for(var Qt=st.length;Qt;){for(nt=st,st=[];++_t<Qt;)nt&&nt[_t].run();_t=-1,Qt=st.length}nt=null,ht=!1,function(Dt){if(_===clearTimeout)return clearTimeout(Dt);if((_===tt||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(Dt);try{_(Dt)}catch{try{return _.call(null,Dt)}catch{return _.call(this,Dt)}}}(wt)}}function ut(wt,Qt){this.fun=wt,this.array=Qt}function mt(){}$.nextTick=function(wt){var Qt=new Array(arguments.length-1);if(arguments.length>1)for(var Dt=1;Dt<arguments.length;Dt++)Qt[Dt-1]=arguments[Dt];st.push(new ut(wt,Qt)),st.length!==1||ht||j(dt)},ut.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=mt,$.addListener=mt,$.once=mt,$.off=mt,$.removeListener=mt,$.removeAllListeners=mt,$.emit=mt,$.prependListener=mt,$.prependOnceListener=mt,$.listeners=function(wt){return[]},$.binding=function(wt){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(wt){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},function(i,o,s){Object.defineProperty(o,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(o,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(o,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(o,"configs",{value:s(118)})},function(i,o,s){(function(_){s.d(o,"a",function(){return tt}),s.d(o,"i",function(){return j}),s.d(o,"j",function(){return nt}),s.d(o,"b",function(){return st}),s.d(o,"f",function(){return ht}),s.d(o,"e",function(){return _t}),s.d(o,"g",function(){return ft}),s.d(o,"d",function(){return dt}),s.d(o,"c",function(){return ut}),s.d(o,"h",function(){return mt});var $=s(102);const _e=$.from({ENVIRONMENT:_.env.ENV,API_ENDPOINT:_.env.API_ENDPOINT,APP:"realtime-sdk",APP_PATH:_.env.APP_PATH,BUILD_TAG:_.env.BUILD_TAG,ENABLE_SELF_SERVE:_.env.ENABLE_SELF_SERVE,ENABLE_SENTRY:_.env.ENABLE_SENTRY,ENABLE_SENTRY_PROFILING:_.env.ENABLE_SENTRY_PROFILING,GIT_COMMIT:_.env.GIT_COMMIT,JEST_WORKER_ID:_.env.JEST_WORKER_ID,LOG_API_ENDPOINT:_.env.LOG_API_ENDPOINT,LOG_JSON:"false",LOG_LEVEL:_.env.LOG_LEVEL,LOG_TO_CONSOLE:_.env.LOG_TO_CONSOLE,LOG_TO_FILE:_.env.LOG_TO_FILE,NAMESPACE:"production",SENTRY_DSN:_.env.SENTRY_DSN,SHEET_EXPORT_MAX_ROW_COUNT:_.env.SHEET_EXPORT_MAX_ROW_COUNT,STABLE_AGENT_VERSION:_.env.STABLE_AGENT_VERSION,VERSION:_.env.VERSION}),tt=(_e.get("ENVIRONMENT").default("").asString(),_e.get("APP").default("").asString()),j=(_e.get("APP_PATH").default("").asString(),_e.get("API_ENDPOINT").default("").asString(),_e.get("NAMESPACE").default("").asString()),nt=_e.get("VERSION").default("").asString(),st=_e.get("BUILD_TAG").default("").asString(),ht=(_e.get("GIT_COMMIT").default("").asString(),_e.get("ENABLE_SENTRY").default("false").asBool(),_e.get("ENABLE_SENTRY_PROFILING").default("false").asBool(),_e.get("SENTRY_DSN").default("").asString(),_e.get("LOG_LEVEL").default("debug").asString()),_t=_e.get("LOG_JSON").default("true").asBool(),ft=_e.get("LOG_TO_CONSOLE").default("true").asBool(),dt=(_e.get("STABLE_AGENT_VERSION").default("").asString(),_e.get("LOG_API_ENDPOINT").asString()),ut=_e.get("JEST_WORKER_ID").asString(),mt=(_e.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),_e.get("LOG_TO_FILE").default("false").asBoolStrict());_e.get("ENABLE_SELF_SERVE").default("true").asBoolStrict()}).call(this,s(2))},function(i,o,s){(function(_){var $=s(126),_e=s(127),tt=s(42);function j(){return st.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function nt(At,Mt){if(j()<Mt)throw new RangeError("Invalid typed array length");return st.TYPED_ARRAY_SUPPORT?(At=new Uint8Array(Mt)).__proto__=st.prototype:(At===null&&(At=new st(Mt)),At.length=Mt),At}function st(At,Mt,$t){if(!(st.TYPED_ARRAY_SUPPORT||this instanceof st))return new st(At,Mt,$t);if(typeof At=="number"){if(typeof Mt=="string")throw new Error("If encoding is specified then the first argument must be a string");return ft(this,At)}return ht(this,At,Mt,$t)}function ht(At,Mt,$t,pn){if(typeof Mt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Mt instanceof ArrayBuffer?function(hn,Sn,An,Gn){if(Sn.byteLength,An<0||Sn.byteLength<An)throw new RangeError("'offset' is out of bounds");if(Sn.byteLength<An+(Gn||0))throw new RangeError("'length' is out of bounds");return Sn=An===void 0&&Gn===void 0?new Uint8Array(Sn):Gn===void 0?new Uint8Array(Sn,An):new Uint8Array(Sn,An,Gn),st.TYPED_ARRAY_SUPPORT?(hn=Sn).__proto__=st.prototype:hn=dt(hn,Sn),hn}(At,Mt,$t,pn):typeof Mt=="string"?function(hn,Sn,An){if(typeof An=="string"&&An!==""||(An="utf8"),!st.isEncoding(An))throw new TypeError('"encoding" must be a valid string encoding');var Gn=0|mt(Sn,An),Qr=(hn=nt(hn,Gn)).write(Sn,An);return Qr!==Gn&&(hn=hn.slice(0,Qr)),hn}(At,Mt,$t):function(hn,Sn){if(st.isBuffer(Sn)){var An=0|ut(Sn.length);return(hn=nt(hn,An)).length===0||Sn.copy(hn,0,0,An),hn}if(Sn){if(typeof ArrayBuffer<"u"&&Sn.buffer instanceof ArrayBuffer||"length"in Sn)return typeof Sn.length!="number"||(Gn=Sn.length)!=Gn?nt(hn,0):dt(hn,Sn);if(Sn.type==="Buffer"&&tt(Sn.data))return dt(hn,Sn.data)}var Gn;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(At,Mt)}function _t(At){if(typeof At!="number")throw new TypeError('"size" argument must be a number');if(At<0)throw new RangeError('"size" argument must not be negative')}function ft(At,Mt){if(_t(Mt),At=nt(At,Mt<0?0:0|ut(Mt)),!st.TYPED_ARRAY_SUPPORT)for(var $t=0;$t<Mt;++$t)At[$t]=0;return At}function dt(At,Mt){var $t=Mt.length<0?0:0|ut(Mt.length);At=nt(At,$t);for(var pn=0;pn<$t;pn+=1)At[pn]=255&Mt[pn];return At}function ut(At){if(At>=j())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j().toString(16)+" bytes");return 0|At}function mt(At,Mt){if(st.isBuffer(At))return At.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(At)||At instanceof ArrayBuffer))return At.byteLength;typeof At!="string"&&(At=""+At);var $t=At.length;if($t===0)return 0;for(var pn=!1;;)switch(Mt){case"ascii":case"latin1":case"binary":return $t;case"utf8":case"utf-8":case void 0:return vn(At).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$t;case"hex":return $t>>>1;case"base64":return un(At).length;default:if(pn)return vn(At).length;Mt=(""+Mt).toLowerCase(),pn=!0}}function wt(At,Mt,$t){var pn=!1;if((Mt===void 0||Mt<0)&&(Mt=0),Mt>this.length||(($t===void 0||$t>this.length)&&($t=this.length),$t<=0)||($t>>>=0)<=(Mt>>>=0))return"";for(At||(At="utf8");;)switch(At){case"hex":return Xt(this,Mt,$t);case"utf8":case"utf-8":return It(this,Mt,$t);case"ascii":return Bt(this,Mt,$t);case"latin1":case"binary":return Lt(this,Mt,$t);case"base64":return St(this,Mt,$t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zt(this,Mt,$t);default:if(pn)throw new TypeError("Unknown encoding: "+At);At=(At+"").toLowerCase(),pn=!0}}function Qt(At,Mt,$t){var pn=At[Mt];At[Mt]=At[$t],At[$t]=pn}function Dt(At,Mt,$t,pn,hn){if(At.length===0)return-1;if(typeof $t=="string"?(pn=$t,$t=0):$t>2147483647?$t=2147483647:$t<-2147483648&&($t=-2147483648),$t=+$t,isNaN($t)&&($t=hn?0:At.length-1),$t<0&&($t=At.length+$t),$t>=At.length){if(hn)return-1;$t=At.length-1}else if($t<0){if(!hn)return-1;$t=0}if(typeof Mt=="string"&&(Mt=st.from(Mt,pn)),st.isBuffer(Mt))return Mt.length===0?-1:Et(At,Mt,$t,pn,hn);if(typeof Mt=="number")return Mt&=255,st.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?hn?Uint8Array.prototype.indexOf.call(At,Mt,$t):Uint8Array.prototype.lastIndexOf.call(At,Mt,$t):Et(At,[Mt],$t,pn,hn);throw new TypeError("val must be string, number or Buffer")}function Et(At,Mt,$t,pn,hn){var Sn,An=1,Gn=At.length,Qr=Mt.length;if(pn!==void 0&&((pn=String(pn).toLowerCase())==="ucs2"||pn==="ucs-2"||pn==="utf16le"||pn==="utf-16le")){if(At.length<2||Mt.length<2)return-1;An=2,Gn/=2,Qr/=2,$t/=2}function _i(Yr,no){return An===1?Yr[no]:Yr.readUInt16BE(no*An)}if(hn){var Pr=-1;for(Sn=$t;Sn<Gn;Sn++)if(_i(At,Sn)===_i(Mt,Pr===-1?0:Sn-Pr)){if(Pr===-1&&(Pr=Sn),Sn-Pr+1===Qr)return Pr*An}else Pr!==-1&&(Sn-=Sn-Pr),Pr=-1}else for($t+Qr>Gn&&($t=Gn-Qr),Sn=$t;Sn>=0;Sn--){for(var po=!0,jr=0;jr<Qr;jr++)if(_i(At,Sn+jr)!==_i(Mt,jr)){po=!1;break}if(po)return Sn}return-1}function xt(At,Mt,$t,pn){$t=Number($t)||0;var hn=At.length-$t;pn?(pn=Number(pn))>hn&&(pn=hn):pn=hn;var Sn=Mt.length;if(Sn%2!=0)throw new TypeError("Invalid hex string");pn>Sn/2&&(pn=Sn/2);for(var An=0;An<pn;++An){var Gn=parseInt(Mt.substr(2*An,2),16);if(isNaN(Gn))return An;At[$t+An]=Gn}return An}function pt(At,Mt,$t,pn){return rn(vn(Mt,At.length-$t),At,$t,pn)}function Vt(At,Mt,$t,pn){return rn(function(hn){for(var Sn=[],An=0;An<hn.length;++An)Sn.push(255&hn.charCodeAt(An));return Sn}(Mt),At,$t,pn)}function nn(At,Mt,$t,pn){return Vt(At,Mt,$t,pn)}function on(At,Mt,$t,pn){return rn(un(Mt),At,$t,pn)}function bt(At,Mt,$t,pn){return rn(function(hn,Sn){for(var An,Gn,Qr,_i=[],Pr=0;Pr<hn.length&&!((Sn-=2)<0);++Pr)An=hn.charCodeAt(Pr),Gn=An>>8,Qr=An%256,_i.push(Qr),_i.push(Gn);return _i}(Mt,At.length-$t),At,$t,pn)}function St(At,Mt,$t){return Mt===0&&$t===At.length?$.fromByteArray(At):$.fromByteArray(At.slice(Mt,$t))}function It(At,Mt,$t){$t=Math.min(At.length,$t);for(var pn=[],hn=Mt;hn<$t;){var Sn,An,Gn,Qr,_i=At[hn],Pr=null,po=_i>239?4:_i>223?3:_i>191?2:1;if(hn+po<=$t)switch(po){case 1:_i<128&&(Pr=_i);break;case 2:(192&(Sn=At[hn+1]))==128&&(Qr=(31&_i)<<6|63&Sn)>127&&(Pr=Qr);break;case 3:Sn=At[hn+1],An=At[hn+2],(192&Sn)==128&&(192&An)==128&&(Qr=(15&_i)<<12|(63&Sn)<<6|63&An)>2047&&(Qr<55296||Qr>57343)&&(Pr=Qr);break;case 4:Sn=At[hn+1],An=At[hn+2],Gn=At[hn+3],(192&Sn)==128&&(192&An)==128&&(192&Gn)==128&&(Qr=(15&_i)<<18|(63&Sn)<<12|(63&An)<<6|63&Gn)>65535&&Qr<1114112&&(Pr=Qr)}Pr===null?(Pr=65533,po=1):Pr>65535&&(Pr-=65536,pn.push(Pr>>>10&1023|55296),Pr=56320|1023&Pr),pn.push(Pr),hn+=po}return function(jr){var Yr=jr.length;if(Yr<=4096)return String.fromCharCode.apply(String,jr);for(var no="",Qo=0;Qo<Yr;)no+=String.fromCharCode.apply(String,jr.slice(Qo,Qo+=4096));return no}(pn)}o.Buffer=st,o.SlowBuffer=function(At){return+At!=At&&(At=0),st.alloc(+At)},o.INSPECT_MAX_BYTES=50,st.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var At=new Uint8Array(1);return At.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},At.foo()===42&&typeof At.subarray=="function"&&At.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=j(),st.poolSize=8192,st._augment=function(At){return At.__proto__=st.prototype,At},st.from=function(At,Mt,$t){return ht(null,At,Mt,$t)},st.TYPED_ARRAY_SUPPORT&&(st.prototype.__proto__=Uint8Array.prototype,st.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&st[Symbol.species]===st&&Object.defineProperty(st,Symbol.species,{value:null,configurable:!0})),st.alloc=function(At,Mt,$t){return function(pn,hn,Sn,An){return _t(hn),hn<=0?nt(pn,hn):Sn!==void 0?typeof An=="string"?nt(pn,hn).fill(Sn,An):nt(pn,hn).fill(Sn):nt(pn,hn)}(null,At,Mt,$t)},st.allocUnsafe=function(At){return ft(null,At)},st.allocUnsafeSlow=function(At){return ft(null,At)},st.isBuffer=function(At){return!(At==null||!At._isBuffer)},st.compare=function(At,Mt){if(!st.isBuffer(At)||!st.isBuffer(Mt))throw new TypeError("Arguments must be Buffers");if(At===Mt)return 0;for(var $t=At.length,pn=Mt.length,hn=0,Sn=Math.min($t,pn);hn<Sn;++hn)if(At[hn]!==Mt[hn]){$t=At[hn],pn=Mt[hn];break}return $t<pn?-1:pn<$t?1:0},st.isEncoding=function(At){switch(String(At).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(At,Mt){if(!tt(At))throw new TypeError('"list" argument must be an Array of Buffers');if(At.length===0)return st.alloc(0);var $t;if(Mt===void 0)for(Mt=0,$t=0;$t<At.length;++$t)Mt+=At[$t].length;var pn=st.allocUnsafe(Mt),hn=0;for($t=0;$t<At.length;++$t){var Sn=At[$t];if(!st.isBuffer(Sn))throw new TypeError('"list" argument must be an Array of Buffers');Sn.copy(pn,hn),hn+=Sn.length}return pn},st.byteLength=mt,st.prototype._isBuffer=!0,st.prototype.swap16=function(){var At=this.length;if(At%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Mt=0;Mt<At;Mt+=2)Qt(this,Mt,Mt+1);return this},st.prototype.swap32=function(){var At=this.length;if(At%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Mt=0;Mt<At;Mt+=4)Qt(this,Mt,Mt+3),Qt(this,Mt+1,Mt+2);return this},st.prototype.swap64=function(){var At=this.length;if(At%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Mt=0;Mt<At;Mt+=8)Qt(this,Mt,Mt+7),Qt(this,Mt+1,Mt+6),Qt(this,Mt+2,Mt+5),Qt(this,Mt+3,Mt+4);return this},st.prototype.toString=function(){var At=0|this.length;return At===0?"":arguments.length===0?It(this,0,At):wt.apply(this,arguments)},st.prototype.equals=function(At){if(!st.isBuffer(At))throw new TypeError("Argument must be a Buffer");return this===At||st.compare(this,At)===0},st.prototype.inspect=function(){var At="",Mt=o.INSPECT_MAX_BYTES;return this.length>0&&(At=this.toString("hex",0,Mt).match(/.{2}/g).join(" "),this.length>Mt&&(At+=" ... ")),"<Buffer "+At+">"},st.prototype.compare=function(At,Mt,$t,pn,hn){if(!st.isBuffer(At))throw new TypeError("Argument must be a Buffer");if(Mt===void 0&&(Mt=0),$t===void 0&&($t=At?At.length:0),pn===void 0&&(pn=0),hn===void 0&&(hn=this.length),Mt<0||$t>At.length||pn<0||hn>this.length)throw new RangeError("out of range index");if(pn>=hn&&Mt>=$t)return 0;if(pn>=hn)return-1;if(Mt>=$t)return 1;if(this===At)return 0;for(var Sn=(hn>>>=0)-(pn>>>=0),An=($t>>>=0)-(Mt>>>=0),Gn=Math.min(Sn,An),Qr=this.slice(pn,hn),_i=At.slice(Mt,$t),Pr=0;Pr<Gn;++Pr)if(Qr[Pr]!==_i[Pr]){Sn=Qr[Pr],An=_i[Pr];break}return Sn<An?-1:An<Sn?1:0},st.prototype.includes=function(At,Mt,$t){return this.indexOf(At,Mt,$t)!==-1},st.prototype.indexOf=function(At,Mt,$t){return Dt(this,At,Mt,$t,!0)},st.prototype.lastIndexOf=function(At,Mt,$t){return Dt(this,At,Mt,$t,!1)},st.prototype.write=function(At,Mt,$t,pn){if(Mt===void 0)pn="utf8",$t=this.length,Mt=0;else if($t===void 0&&typeof Mt=="string")pn=Mt,$t=this.length,Mt=0;else{if(!isFinite(Mt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Mt|=0,isFinite($t)?($t|=0,pn===void 0&&(pn="utf8")):(pn=$t,$t=void 0)}var hn=this.length-Mt;if(($t===void 0||$t>hn)&&($t=hn),At.length>0&&($t<0||Mt<0)||Mt>this.length)throw new RangeError("Attempt to write outside buffer bounds");pn||(pn="utf8");for(var Sn=!1;;)switch(pn){case"hex":return xt(this,At,Mt,$t);case"utf8":case"utf-8":return pt(this,At,Mt,$t);case"ascii":return Vt(this,At,Mt,$t);case"latin1":case"binary":return nn(this,At,Mt,$t);case"base64":return on(this,At,Mt,$t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,At,Mt,$t);default:if(Sn)throw new TypeError("Unknown encoding: "+pn);pn=(""+pn).toLowerCase(),Sn=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(At,Mt,$t){var pn="";$t=Math.min(At.length,$t);for(var hn=Mt;hn<$t;++hn)pn+=String.fromCharCode(127&At[hn]);return pn}function Lt(At,Mt,$t){var pn="";$t=Math.min(At.length,$t);for(var hn=Mt;hn<$t;++hn)pn+=String.fromCharCode(At[hn]);return pn}function Xt(At,Mt,$t){var pn=At.length;(!Mt||Mt<0)&&(Mt=0),(!$t||$t<0||$t>pn)&&($t=pn);for(var hn="",Sn=Mt;Sn<$t;++Sn)hn+=yn(At[Sn]);return hn}function zt(At,Mt,$t){for(var pn=At.slice(Mt,$t),hn="",Sn=0;Sn<pn.length;Sn+=2)hn+=String.fromCharCode(pn[Sn]+256*pn[Sn+1]);return hn}function Pt(At,Mt,$t){if(At%1!=0||At<0)throw new RangeError("offset is not uint");if(At+Mt>$t)throw new RangeError("Trying to access beyond buffer length")}function jt(At,Mt,$t,pn,hn,Sn){if(!st.isBuffer(At))throw new TypeError('"buffer" argument must be a Buffer instance');if(Mt>hn||Mt<Sn)throw new RangeError('"value" argument is out of bounds');if($t+pn>At.length)throw new RangeError("Index out of range")}function Zt(At,Mt,$t,pn){Mt<0&&(Mt=65535+Mt+1);for(var hn=0,Sn=Math.min(At.length-$t,2);hn<Sn;++hn)At[$t+hn]=(Mt&255<<8*(pn?hn:1-hn))>>>8*(pn?hn:1-hn)}function Ct(At,Mt,$t,pn){Mt<0&&(Mt=4294967295+Mt+1);for(var hn=0,Sn=Math.min(At.length-$t,4);hn<Sn;++hn)At[$t+hn]=Mt>>>8*(pn?hn:3-hn)&255}function Ft(At,Mt,$t,pn,hn,Sn){if($t+pn>At.length)throw new RangeError("Index out of range");if($t<0)throw new RangeError("Index out of range")}function Ht(At,Mt,$t,pn,hn){return hn||Ft(At,0,$t,4),_e.write(At,Mt,$t,pn,23,4),$t+4}function tn(At,Mt,$t,pn,hn){return hn||Ft(At,0,$t,8),_e.write(At,Mt,$t,pn,52,8),$t+8}st.prototype.slice=function(At,Mt){var $t,pn=this.length;if((At=~~At)<0?(At+=pn)<0&&(At=0):At>pn&&(At=pn),(Mt=Mt===void 0?pn:~~Mt)<0?(Mt+=pn)<0&&(Mt=0):Mt>pn&&(Mt=pn),Mt<At&&(Mt=At),st.TYPED_ARRAY_SUPPORT)($t=this.subarray(At,Mt)).__proto__=st.prototype;else{var hn=Mt-At;$t=new st(hn,void 0);for(var Sn=0;Sn<hn;++Sn)$t[Sn]=this[Sn+At]}return $t},st.prototype.readUIntLE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=this[At],hn=1,Sn=0;++Sn<Mt&&(hn*=256);)pn+=this[At+Sn]*hn;return pn},st.prototype.readUIntBE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=this[At+--Mt],hn=1;Mt>0&&(hn*=256);)pn+=this[At+--Mt]*hn;return pn},st.prototype.readUInt8=function(At,Mt){return Mt||Pt(At,1,this.length),this[At]},st.prototype.readUInt16LE=function(At,Mt){return Mt||Pt(At,2,this.length),this[At]|this[At+1]<<8},st.prototype.readUInt16BE=function(At,Mt){return Mt||Pt(At,2,this.length),this[At]<<8|this[At+1]},st.prototype.readUInt32LE=function(At,Mt){return Mt||Pt(At,4,this.length),(this[At]|this[At+1]<<8|this[At+2]<<16)+16777216*this[At+3]},st.prototype.readUInt32BE=function(At,Mt){return Mt||Pt(At,4,this.length),16777216*this[At]+(this[At+1]<<16|this[At+2]<<8|this[At+3])},st.prototype.readIntLE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=this[At],hn=1,Sn=0;++Sn<Mt&&(hn*=256);)pn+=this[At+Sn]*hn;return pn>=(hn*=128)&&(pn-=Math.pow(2,8*Mt)),pn},st.prototype.readIntBE=function(At,Mt,$t){At|=0,Mt|=0,$t||Pt(At,Mt,this.length);for(var pn=Mt,hn=1,Sn=this[At+--pn];pn>0&&(hn*=256);)Sn+=this[At+--pn]*hn;return Sn>=(hn*=128)&&(Sn-=Math.pow(2,8*Mt)),Sn},st.prototype.readInt8=function(At,Mt){return Mt||Pt(At,1,this.length),128&this[At]?-1*(255-this[At]+1):this[At]},st.prototype.readInt16LE=function(At,Mt){Mt||Pt(At,2,this.length);var $t=this[At]|this[At+1]<<8;return 32768&$t?4294901760|$t:$t},st.prototype.readInt16BE=function(At,Mt){Mt||Pt(At,2,this.length);var $t=this[At+1]|this[At]<<8;return 32768&$t?4294901760|$t:$t},st.prototype.readInt32LE=function(At,Mt){return Mt||Pt(At,4,this.length),this[At]|this[At+1]<<8|this[At+2]<<16|this[At+3]<<24},st.prototype.readInt32BE=function(At,Mt){return Mt||Pt(At,4,this.length),this[At]<<24|this[At+1]<<16|this[At+2]<<8|this[At+3]},st.prototype.readFloatLE=function(At,Mt){return Mt||Pt(At,4,this.length),_e.read(this,At,!0,23,4)},st.prototype.readFloatBE=function(At,Mt){return Mt||Pt(At,4,this.length),_e.read(this,At,!1,23,4)},st.prototype.readDoubleLE=function(At,Mt){return Mt||Pt(At,8,this.length),_e.read(this,At,!0,52,8)},st.prototype.readDoubleBE=function(At,Mt){return Mt||Pt(At,8,this.length),_e.read(this,At,!1,52,8)},st.prototype.writeUIntLE=function(At,Mt,$t,pn){At=+At,Mt|=0,$t|=0,pn||jt(this,At,Mt,$t,Math.pow(2,8*$t)-1,0);var hn=1,Sn=0;for(this[Mt]=255&At;++Sn<$t&&(hn*=256);)this[Mt+Sn]=At/hn&255;return Mt+$t},st.prototype.writeUIntBE=function(At,Mt,$t,pn){At=+At,Mt|=0,$t|=0,pn||jt(this,At,Mt,$t,Math.pow(2,8*$t)-1,0);var hn=$t-1,Sn=1;for(this[Mt+hn]=255&At;--hn>=0&&(Sn*=256);)this[Mt+hn]=At/Sn&255;return Mt+$t},st.prototype.writeUInt8=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,1,255,0),st.TYPED_ARRAY_SUPPORT||(At=Math.floor(At)),this[Mt]=255&At,Mt+1},st.prototype.writeUInt16LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,65535,0),st.TYPED_ARRAY_SUPPORT?(this[Mt]=255&At,this[Mt+1]=At>>>8):Zt(this,At,Mt,!0),Mt+2},st.prototype.writeUInt16BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,65535,0),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>8,this[Mt+1]=255&At):Zt(this,At,Mt,!1),Mt+2},st.prototype.writeUInt32LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,4294967295,0),st.TYPED_ARRAY_SUPPORT?(this[Mt+3]=At>>>24,this[Mt+2]=At>>>16,this[Mt+1]=At>>>8,this[Mt]=255&At):Ct(this,At,Mt,!0),Mt+4},st.prototype.writeUInt32BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,4294967295,0),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>24,this[Mt+1]=At>>>16,this[Mt+2]=At>>>8,this[Mt+3]=255&At):Ct(this,At,Mt,!1),Mt+4},st.prototype.writeIntLE=function(At,Mt,$t,pn){if(At=+At,Mt|=0,!pn){var hn=Math.pow(2,8*$t-1);jt(this,At,Mt,$t,hn-1,-hn)}var Sn=0,An=1,Gn=0;for(this[Mt]=255&At;++Sn<$t&&(An*=256);)At<0&&Gn===0&&this[Mt+Sn-1]!==0&&(Gn=1),this[Mt+Sn]=(At/An>>0)-Gn&255;return Mt+$t},st.prototype.writeIntBE=function(At,Mt,$t,pn){if(At=+At,Mt|=0,!pn){var hn=Math.pow(2,8*$t-1);jt(this,At,Mt,$t,hn-1,-hn)}var Sn=$t-1,An=1,Gn=0;for(this[Mt+Sn]=255&At;--Sn>=0&&(An*=256);)At<0&&Gn===0&&this[Mt+Sn+1]!==0&&(Gn=1),this[Mt+Sn]=(At/An>>0)-Gn&255;return Mt+$t},st.prototype.writeInt8=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,1,127,-128),st.TYPED_ARRAY_SUPPORT||(At=Math.floor(At)),At<0&&(At=255+At+1),this[Mt]=255&At,Mt+1},st.prototype.writeInt16LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,32767,-32768),st.TYPED_ARRAY_SUPPORT?(this[Mt]=255&At,this[Mt+1]=At>>>8):Zt(this,At,Mt,!0),Mt+2},st.prototype.writeInt16BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,2,32767,-32768),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>8,this[Mt+1]=255&At):Zt(this,At,Mt,!1),Mt+2},st.prototype.writeInt32LE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,2147483647,-2147483648),st.TYPED_ARRAY_SUPPORT?(this[Mt]=255&At,this[Mt+1]=At>>>8,this[Mt+2]=At>>>16,this[Mt+3]=At>>>24):Ct(this,At,Mt,!0),Mt+4},st.prototype.writeInt32BE=function(At,Mt,$t){return At=+At,Mt|=0,$t||jt(this,At,Mt,4,2147483647,-2147483648),At<0&&(At=4294967295+At+1),st.TYPED_ARRAY_SUPPORT?(this[Mt]=At>>>24,this[Mt+1]=At>>>16,this[Mt+2]=At>>>8,this[Mt+3]=255&At):Ct(this,At,Mt,!1),Mt+4},st.prototype.writeFloatLE=function(At,Mt,$t){return Ht(this,At,Mt,!0,$t)},st.prototype.writeFloatBE=function(At,Mt,$t){return Ht(this,At,Mt,!1,$t)},st.prototype.writeDoubleLE=function(At,Mt,$t){return tn(this,At,Mt,!0,$t)},st.prototype.writeDoubleBE=function(At,Mt,$t){return tn(this,At,Mt,!1,$t)},st.prototype.copy=function(At,Mt,$t,pn){if($t||($t=0),pn||pn===0||(pn=this.length),Mt>=At.length&&(Mt=At.length),Mt||(Mt=0),pn>0&&pn<$t&&(pn=$t),pn===$t||At.length===0||this.length===0)return 0;if(Mt<0)throw new RangeError("targetStart out of bounds");if($t<0||$t>=this.length)throw new RangeError("sourceStart out of bounds");if(pn<0)throw new RangeError("sourceEnd out of bounds");pn>this.length&&(pn=this.length),At.length-Mt<pn-$t&&(pn=At.length-Mt+$t);var hn,Sn=pn-$t;if(this===At&&$t<Mt&&Mt<pn)for(hn=Sn-1;hn>=0;--hn)At[hn+Mt]=this[hn+$t];else if(Sn<1e3||!st.TYPED_ARRAY_SUPPORT)for(hn=0;hn<Sn;++hn)At[hn+Mt]=this[hn+$t];else Uint8Array.prototype.set.call(At,this.subarray($t,$t+Sn),Mt);return Sn},st.prototype.fill=function(At,Mt,$t,pn){if(typeof At=="string"){if(typeof Mt=="string"?(pn=Mt,Mt=0,$t=this.length):typeof $t=="string"&&(pn=$t,$t=this.length),At.length===1){var hn=At.charCodeAt(0);hn<256&&(At=hn)}if(pn!==void 0&&typeof pn!="string")throw new TypeError("encoding must be a string");if(typeof pn=="string"&&!st.isEncoding(pn))throw new TypeError("Unknown encoding: "+pn)}else typeof At=="number"&&(At&=255);if(Mt<0||this.length<Mt||this.length<$t)throw new RangeError("Out of range index");if($t<=Mt)return this;var Sn;if(Mt>>>=0,$t=$t===void 0?this.length:$t>>>0,At||(At=0),typeof At=="number")for(Sn=Mt;Sn<$t;++Sn)this[Sn]=At;else{var An=st.isBuffer(At)?At:vn(new st(At,pn).toString()),Gn=An.length;for(Sn=0;Sn<$t-Mt;++Sn)this[Sn+Mt]=An[Sn%Gn]}return this};var mn=/[^+\/0-9A-Za-z-_]/g;function yn(At){return At<16?"0"+At.toString(16):At.toString(16)}function vn(At,Mt){var $t;Mt=Mt||1/0;for(var pn=At.length,hn=null,Sn=[],An=0;An<pn;++An){if(($t=At.charCodeAt(An))>55295&&$t<57344){if(!hn){if($t>56319){(Mt-=3)>-1&&Sn.push(239,191,189);continue}if(An+1===pn){(Mt-=3)>-1&&Sn.push(239,191,189);continue}hn=$t;continue}if($t<56320){(Mt-=3)>-1&&Sn.push(239,191,189),hn=$t;continue}$t=65536+(hn-55296<<10|$t-56320)}else hn&&(Mt-=3)>-1&&Sn.push(239,191,189);if(hn=null,$t<128){if((Mt-=1)<0)break;Sn.push($t)}else if($t<2048){if((Mt-=2)<0)break;Sn.push($t>>6|192,63&$t|128)}else if($t<65536){if((Mt-=3)<0)break;Sn.push($t>>12|224,$t>>6&63|128,63&$t|128)}else{if(!($t<1114112))throw new Error("Invalid code point");if((Mt-=4)<0)break;Sn.push($t>>18|240,$t>>12&63|128,$t>>6&63|128,63&$t|128)}}return Sn}function un(At){return $.toByteArray(function(Mt){if((Mt=function($t){return $t.trim?$t.trim():$t.replace(/^\s+|\s+$/g,"")}(Mt).replace(mn,"")).length<2)return"";for(;Mt.length%4!=0;)Mt+="=";return Mt}(At))}function rn(At,Mt,$t,pn){for(var hn=0;hn<pn&&!(hn+$t>=Mt.length||hn>=At.length);++hn)Mt[hn+$t]=At[hn];return hn}}).call(this,s(6))},function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){_&&(s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(s,_){if(_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}}},function(i,o,s){s.d(o,"a",function(){return _});const _=$=>new Promise(_e=>setTimeout(_e,$||0))},function(i,o,s){var _=s(99),$=_,_e=Function("return this")(),tt=s(98);$.object.extend(proto,tt),$.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetHealthResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.Peer",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,_e),$.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,_e),$.exportSymbol("proto.v1.signaling.api.SessionType",null,_e),$.exportSymbol("proto.v1.signaling.api.Signal",null,_e),proto.v1.signaling.api.Peer=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.Peer,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.Signal,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.GetHealthRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthRequest.displayName="proto.v1.signaling.api.GetHealthRequest"),proto.v1.signaling.api.GetHealthResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetHealthResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetHealthResponse.displayName="proto.v1.signaling.api.GetHealthResponse"),proto.v1.signaling.api.CreatePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.CreatePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.DeletePeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.RefreshPeerResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetPeersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(j){_.Message.initialize(this,j,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},$.inherits(proto.v1.signaling.api.GetPeersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.GetIceServersResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.SendSignalResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(j){_.Message.initialize(this,j,0,-1,null,null)},$.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,_.Message),$.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(j){return proto.v1.signaling.api.Peer.toObject(j,this)},proto.v1.signaling.api.Peer.toObject=function(j,nt){var st,ht={peerId:_.Message.getFieldWithDefault(nt,1,""),organizationId:_.Message.getFieldWithDefault(nt,2,""),userId:(st=nt.getUserId())&&tt.StringValue.toObject(j,st),deviceId:(st=nt.getDeviceId())&&tt.StringValue.toObject(j,st),sessionIdsList:(st=_.Message.getRepeatedField(nt,5))==null?void 0:st,peerCreatedTimestamp:(st=nt.getPeerCreatedTimestamp())&&tt.Int64Value.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.Peer.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setPeerId(st);break;case 2:st=nt.readString(),j.setOrganizationId(st);break;case 3:st=new tt.StringValue,nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setUserId(st);break;case 4:st=new tt.StringValue,nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setDeviceId(st);break;case 5:st=nt.readString(),j.addSessionIds(st);break;case 6:st=new tt.Int64Value,nt.readMessage(st,tt.Int64Value.deserializeBinaryFromReader),j.setPeerCreatedTimestamp(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(j,nt){var st=void 0;(st=j.getPeerId()).length>0&&nt.writeString(1,st),(st=j.getOrganizationId()).length>0&&nt.writeString(2,st),(st=j.getUserId())!=null&&nt.writeMessage(3,st,tt.StringValue.serializeBinaryToWriter),(st=j.getDeviceId())!=null&&nt.writeMessage(4,st,tt.StringValue.serializeBinaryToWriter),(st=j.getSessionIdsList()).length>0&&nt.writeRepeatedString(5,st),(st=j.getPeerCreatedTimestamp())!=null&&nt.writeMessage(6,st,tt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return _.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(j){return _.Message.setProto3StringField(this,2,j)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return _.Message.getWrapperField(this,tt.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(j){return _.Message.setWrapperField(this,3,j)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return _.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return _.Message.getWrapperField(this,tt.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(j){return _.Message.setWrapperField(this,4,j)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return _.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return _.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(j){return _.Message.setField(this,5,j||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(j,nt){return _.Message.addToRepeatedField(this,5,j,nt)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return _.Message.getWrapperField(this,tt.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(j){return _.Message.setWrapperField(this,6,j)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return _.Message.getField(this,6)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(j){return proto.v1.signaling.api.Signal.toObject(j,this)},proto.v1.signaling.api.Signal.toObject=function(j,nt){var st,ht={sessionId:(st=nt.getSessionId())&&tt.StringValue.toObject(j,st),sessionCreatedTimestamp:(st=nt.getSessionCreatedTimestamp())&&tt.Int64Value.toObject(j,st),senderId:_.Message.getFieldWithDefault(nt,3,""),receiverId:_.Message.getFieldWithDefault(nt,4,""),payload:_.Message.getFieldWithDefault(nt,5,""),iceServers:_.Message.getFieldWithDefault(nt,6,""),iceTransportPolicy:_.Message.getFieldWithDefault(nt,7,""),sessionType:_.Message.getFieldWithDefault(nt,8,0)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.Signal.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new tt.StringValue;nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setSessionId(st);break;case 2:st=new tt.Int64Value,nt.readMessage(st,tt.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(st);break;case 3:st=nt.readString(),j.setSenderId(st);break;case 4:st=nt.readString(),j.setReceiverId(st);break;case 5:st=nt.readString(),j.setPayload(st);break;case 6:st=nt.readString(),j.setIceServers(st);break;case 7:st=nt.readString(),j.setIceTransportPolicy(st);break;case 8:st=nt.readEnum(),j.setSessionType(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(j,nt){var st=void 0;(st=j.getSessionId())!=null&&nt.writeMessage(1,st,tt.StringValue.serializeBinaryToWriter),(st=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,st,tt.Int64Value.serializeBinaryToWriter),(st=j.getSenderId()).length>0&&nt.writeString(3,st),(st=j.getReceiverId()).length>0&&nt.writeString(4,st),(st=j.getPayload()).length>0&&nt.writeString(5,st),(st=j.getIceServers()).length>0&&nt.writeString(6,st),(st=j.getIceTransportPolicy()).length>0&&nt.writeString(7,st),(st=j.getSessionType())!==0&&nt.writeEnum(8,st)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return _.Message.getWrapperField(this,tt.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,tt.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return _.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(j){return _.Message.setProto3StringField(this,3,j)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return _.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(j){return _.Message.setProto3StringField(this,4,j)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return _.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(j){return _.Message.setProto3StringField(this,5,j)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,6,j)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return _.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(j){return _.Message.setProto3StringField(this,7,j)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return _.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(j){return _.Message.setProto3EnumField(this,8,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthRequest.toObject(j,this)},proto.v1.signaling.api.GetHealthRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetHealthRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetHealthRequest;return proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetHealthRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetHealthRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetHealthResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetHealthResponse.toObject(j,this)},proto.v1.signaling.api.GetHealthResponse.toObject=function(j,nt){var st={version:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetHealthResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetHealthResponse;return proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetHealthResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setVersion(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetHealthResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetHealthResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getVersion()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.GetHealthResponse.prototype.getVersion=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetHealthResponse.prototype.setVersion=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerRequest.toObject(j,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.CreatePeerResponse.toObject(j,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(j,nt){var st,ht={peer:(st=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Peer;nt.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeer())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerRequest.toObject(j,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(j,nt){var st={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setPeerId(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeerId()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.DeletePeerResponse.toObject(j,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerRequest.toObject(j,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(j,nt){var st,ht={peer:(st=nt.getPeer())&&proto.v1.signaling.api.Peer.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Peer;nt.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.setPeer(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeer())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(j){return proto.v1.signaling.api.RefreshPeerResponse.toObject(j,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersRequest.toObject(j,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(j,nt){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetPeersResponse.toObject(j,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(j,nt){var st={peersList:_.Message.toObjectList(nt.getPeersList(),proto.v1.signaling.api.Peer.toObject,j)};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Peer;nt.readMessage(st,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),j.addPeers(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeersList()).length>0&&nt.writeRepeatedMessage(1,st,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return _.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(j){return _.Message.setRepeatedWrapperField(this,1,j)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(j,nt){return _.Message.addToRepeatedWrapperField(this,1,j,proto.v1.signaling.api.Peer,nt)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersRequest.toObject(j,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(j,nt){var st={};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)nt.getFieldNumber(),nt.skipField();return j},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(j,nt){},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(j){return proto.v1.signaling.api.GetIceServersResponse.toObject(j,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(j,nt){var st={iceServers:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setIceServers(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getIceServers()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalRequest.toObject(j,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(j,nt){var st,ht={signal:(st=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Signal;nt.readMessage(st,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getSignal())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(j){return proto.v1.signaling.api.SendSignalResponse.toObject(j,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(j,nt){var st,ht={sessionId:(st=nt.getSessionId())&&tt.StringValue.toObject(j,st),sessionCreatedTimestamp:(st=nt.getSessionCreatedTimestamp())&&tt.Int64Value.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new tt.StringValue;nt.readMessage(st,tt.StringValue.deserializeBinaryFromReader),j.setSessionId(st);break;case 2:st=new tt.Int64Value,nt.readMessage(st,tt.Int64Value.deserializeBinaryFromReader),j.setSessionCreatedTimestamp(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(j,nt){var st=void 0;(st=j.getSessionId())!=null&&nt.writeMessage(1,st,tt.StringValue.serializeBinaryToWriter),(st=j.getSessionCreatedTimestamp())!=null&&nt.writeMessage(2,st,tt.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return _.Message.getWrapperField(this,tt.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return _.Message.getWrapperField(this,tt.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(j){return _.Message.setWrapperField(this,2,j)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return _.Message.getField(this,2)!=null},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(j,nt){var st={peerId:_.Message.getFieldWithDefault(nt,1,"")};return j&&(st.$jspbMessageInstance=nt),st}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=nt.readString();j.setPeerId(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(j,nt){var st;(st=j.getPeerId()).length>0&&nt.writeString(1,st)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(j){return _.Message.setProto3StringField(this,1,j)},_.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(j){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(j,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(j,nt){var st,ht={signal:(st=nt.getSignal())&&proto.v1.signaling.api.Signal.toObject(j,st)};return j&&(ht.$jspbMessageInstance=nt),ht}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(j){var nt=new _.BinaryReader(j),st=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(st,nt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(j,nt){for(;nt.nextField()&&!nt.isEndGroup();)switch(nt.getFieldNumber()){case 1:var st=new proto.v1.signaling.api.Signal;nt.readMessage(st,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),j.setSignal(st);break;default:nt.skipField()}return j},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var j=new _.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,j),j.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(j,nt){var st;(st=j.getSignal())!=null&&nt.writeMessage(1,st,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return _.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(j){return _.Message.setWrapperField(this,1,j)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return _.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2,OBSERVE:3},$.object.extend(o,proto.v1.signaling.api)},function(i,o,s){function _($,_e,tt=()=>!0){if($ instanceof _e&&tt($))return $;throw $}s.d(o,"a",function(){return _})},function(i,o,s){s.d(o,"a",function(){return $});var _=s(34);class $ extends Error{constructor(tt,j,nt,st,ht={},_t){super(`Unexpected response (${nt}) for ${tt} ${j}: ${JSON.stringify(_t?Object(_.a)([..._t.entries()].reduce((ft,[dt,ut])=>(ft[dt]=ut,ft),{})):{})} -- ${JSON.stringify(Object(_.a)(st))}`),this.method=tt,this.url=j,this.statusCode=nt,this.body=st,this.validationErrors=ht,this.headers=_t}}},function(i,o,s){function _(ft){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt})(ft)}function $(ft,dt){return!dt||_(dt)!=="object"&&typeof dt!="function"?_e(ft):dt}function _e(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}function tt(ft){var dt=typeof Map=="function"?new Map:void 0;return(tt=function(ut){if(ut===null||(mt=ut,Function.toString.call(mt).indexOf("[native code]")===-1))return ut;var mt;if(typeof ut!="function")throw new TypeError("Super expression must either be null or a function");if(dt!==void 0){if(dt.has(ut))return dt.get(ut);dt.set(ut,wt)}function wt(){return j(ut,arguments,ht(this).constructor)}return wt.prototype=Object.create(ut.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),st(wt,ut)})(ft)}function j(ft,dt,ut){return(j=nt()?Reflect.construct:function(mt,wt,Qt){var Dt=[null];Dt.push.apply(Dt,wt);var Et=new(Function.bind.apply(mt,Dt));return Qt&&st(Et,Qt.prototype),Et}).apply(null,arguments)}function nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function st(ft,dt){return(st=Object.setPrototypeOf||function(ut,mt){return ut.__proto__=mt,ut})(ft,dt)}function ht(ft){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(dt){return dt.__proto__||Object.getPrototypeOf(dt)})(ft)}var _t=function(ft){(function(Qt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),Dt&&st(Qt,Dt)})(wt,ft);var dt,ut,mt=(dt=wt,ut=nt(),function(){var Qt,Dt=ht(dt);if(ut){var Et=ht(this).constructor;Qt=Reflect.construct(Dt,arguments,Et)}else Qt=Dt.apply(this,arguments);return $(this,Qt)});function wt(Qt){var Dt;return function(Et,xt){if(!(Et instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,wt),Dt=mt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Qt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(_e(Dt),wt),Dt}return wt}(tt(Error));i.exports=function(ft){if(ft.length>2)throw new _t(ft);function dt(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=mt}function ut(mt){return new dt(mt)}return dt.prototype.transform=ft,ut.Format=dt,ut}},function(i,o,s){(function(_){var $=Object.getOwnPropertyDescriptors||function(Pt){for(var jt=Object.keys(Pt),Zt={},Ct=0;Ct<jt.length;Ct++)Zt[jt[Ct]]=Object.getOwnPropertyDescriptor(Pt,jt[Ct]);return Zt},_e=/%[sdj%]/g;o.format=function(Pt){if(!Dt(Pt)){for(var jt=[],Zt=0;Zt<arguments.length;Zt++)jt.push(nt(arguments[Zt]));return jt.join(" ")}Zt=1;for(var Ct=arguments,Ft=Ct.length,Ht=String(Pt).replace(_e,function(mn){if(mn==="%%")return"%";if(Zt>=Ft)return mn;switch(mn){case"%s":return String(Ct[Zt++]);case"%d":return Number(Ct[Zt++]);case"%j":try{return JSON.stringify(Ct[Zt++])}catch{return"[Circular]"}default:return mn}}),tn=Ct[Zt];Zt<Ft;tn=Ct[++Zt])wt(tn)||!pt(tn)?Ht+=" "+tn:Ht+=" "+nt(tn);return Ht},o.deprecate=function(Pt,jt){if(_!==void 0&&_.noDeprecation===!0)return Pt;if(_===void 0)return function(){return o.deprecate(Pt,jt).apply(this,arguments)};var Zt=!1;return function(){if(!Zt){if(_.throwDeprecation)throw new Error(jt);_.traceDeprecation?console.trace(jt):console.error(jt),Zt=!0}return Pt.apply(this,arguments)}};var tt,j={};function nt(Pt,jt){var Zt={seen:[],stylize:ht};return arguments.length>=3&&(Zt.depth=arguments[2]),arguments.length>=4&&(Zt.colors=arguments[3]),mt(jt)?Zt.showHidden=jt:jt&&o._extend(Zt,jt),Et(Zt.showHidden)&&(Zt.showHidden=!1),Et(Zt.depth)&&(Zt.depth=2),Et(Zt.colors)&&(Zt.colors=!1),Et(Zt.customInspect)&&(Zt.customInspect=!0),Zt.colors&&(Zt.stylize=st),_t(Zt,Pt,Zt.depth)}function st(Pt,jt){var Zt=nt.styles[jt];return Zt?"\x1B["+nt.colors[Zt][0]+"m"+Pt+"\x1B["+nt.colors[Zt][1]+"m":Pt}function ht(Pt,jt){return Pt}function _t(Pt,jt,Zt){if(Pt.customInspect&&jt&&on(jt.inspect)&&jt.inspect!==o.inspect&&(!jt.constructor||jt.constructor.prototype!==jt)){var Ct=jt.inspect(Zt,Pt);return Dt(Ct)||(Ct=_t(Pt,Ct,Zt)),Ct}var Ft=function(At,Mt){if(Et(Mt))return At.stylize("undefined","undefined");if(Dt(Mt)){var $t="'"+JSON.stringify(Mt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return At.stylize($t,"string")}if(Qt(Mt))return At.stylize(""+Mt,"number");if(mt(Mt))return At.stylize(""+Mt,"boolean");if(wt(Mt))return At.stylize("null","null")}(Pt,jt);if(Ft)return Ft;var Ht=Object.keys(jt),tn=function(At){var Mt={};return At.forEach(function($t,pn){Mt[$t]=!0}),Mt}(Ht);if(Pt.showHidden&&(Ht=Object.getOwnPropertyNames(jt)),nn(jt)&&(Ht.indexOf("message")>=0||Ht.indexOf("description")>=0))return ft(jt);if(Ht.length===0){if(on(jt)){var mn=jt.name?": "+jt.name:"";return Pt.stylize("[Function"+mn+"]","special")}if(xt(jt))return Pt.stylize(RegExp.prototype.toString.call(jt),"regexp");if(Vt(jt))return Pt.stylize(Date.prototype.toString.call(jt),"date");if(nn(jt))return ft(jt)}var yn,vn="",un=!1,rn=["{","}"];return ut(jt)&&(un=!0,rn=["[","]"]),on(jt)&&(vn=" [Function"+(jt.name?": "+jt.name:"")+"]"),xt(jt)&&(vn=" "+RegExp.prototype.toString.call(jt)),Vt(jt)&&(vn=" "+Date.prototype.toUTCString.call(jt)),nn(jt)&&(vn=" "+ft(jt)),Ht.length!==0||un&&jt.length!=0?Zt<0?xt(jt)?Pt.stylize(RegExp.prototype.toString.call(jt),"regexp"):Pt.stylize("[Object]","special"):(Pt.seen.push(jt),yn=un?function(At,Mt,$t,pn,hn){for(var Sn=[],An=0,Gn=Mt.length;An<Gn;++An)Lt(Mt,String(An))?Sn.push(dt(At,Mt,$t,pn,String(An),!0)):Sn.push("");return hn.forEach(function(Qr){Qr.match(/^\d+$/)||Sn.push(dt(At,Mt,$t,pn,Qr,!0))}),Sn}(Pt,jt,Zt,tn,Ht):Ht.map(function(At){return dt(Pt,jt,Zt,tn,At,un)}),Pt.seen.pop(),function(At,Mt,$t){return At.reduce(function(pn,hn){return hn.indexOf(`
`)>=0,pn+hn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$t[0]+(Mt===""?"":Mt+`
 `)+" "+At.join(`,
  `)+" "+$t[1]:$t[0]+Mt+" "+At.join(", ")+" "+$t[1]}(yn,vn,rn)):rn[0]+vn+rn[1]}function ft(Pt){return"["+Error.prototype.toString.call(Pt)+"]"}function dt(Pt,jt,Zt,Ct,Ft,Ht){var tn,mn,yn;if((yn=Object.getOwnPropertyDescriptor(jt,Ft)||{value:jt[Ft]}).get?mn=yn.set?Pt.stylize("[Getter/Setter]","special"):Pt.stylize("[Getter]","special"):yn.set&&(mn=Pt.stylize("[Setter]","special")),Lt(Ct,Ft)||(tn="["+Ft+"]"),mn||(Pt.seen.indexOf(yn.value)<0?(mn=wt(Zt)?_t(Pt,yn.value,null):_t(Pt,yn.value,Zt-1)).indexOf(`
`)>-1&&(mn=Ht?mn.split(`
`).map(function(vn){return"  "+vn}).join(`
`).substr(2):`
`+mn.split(`
`).map(function(vn){return"   "+vn}).join(`
`)):mn=Pt.stylize("[Circular]","special")),Et(tn)){if(Ht&&Ft.match(/^\d+$/))return mn;(tn=JSON.stringify(""+Ft)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tn=tn.substr(1,tn.length-2),tn=Pt.stylize(tn,"name")):(tn=tn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tn=Pt.stylize(tn,"string"))}return tn+": "+mn}function ut(Pt){return Array.isArray(Pt)}function mt(Pt){return typeof Pt=="boolean"}function wt(Pt){return Pt===null}function Qt(Pt){return typeof Pt=="number"}function Dt(Pt){return typeof Pt=="string"}function Et(Pt){return Pt===void 0}function xt(Pt){return pt(Pt)&&bt(Pt)==="[object RegExp]"}function pt(Pt){return typeof Pt=="object"&&Pt!==null}function Vt(Pt){return pt(Pt)&&bt(Pt)==="[object Date]"}function nn(Pt){return pt(Pt)&&(bt(Pt)==="[object Error]"||Pt instanceof Error)}function on(Pt){return typeof Pt=="function"}function bt(Pt){return Object.prototype.toString.call(Pt)}function St(Pt){return Pt<10?"0"+Pt.toString(10):Pt.toString(10)}o.debuglog=function(Pt){if(Et(tt)&&(tt=_.env.NODE_DEBUG||""),Pt=Pt.toUpperCase(),!j[Pt])if(new RegExp("\\b"+Pt+"\\b","i").test(tt)){var jt=_.pid;j[Pt]=function(){var Zt=o.format.apply(o,arguments);console.error("%s %d: %s",Pt,jt,Zt)}}else j[Pt]=function(){};return j[Pt]},o.inspect=nt,nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=ut,o.isBoolean=mt,o.isNull=wt,o.isNullOrUndefined=function(Pt){return Pt==null},o.isNumber=Qt,o.isString=Dt,o.isSymbol=function(Pt){return typeof Pt=="symbol"},o.isUndefined=Et,o.isRegExp=xt,o.isObject=pt,o.isDate=Vt,o.isError=nn,o.isFunction=on,o.isPrimitive=function(Pt){return Pt===null||typeof Pt=="boolean"||typeof Pt=="number"||typeof Pt=="string"||typeof Pt=="symbol"||Pt===void 0},o.isBuffer=s(107);var It=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bt(){var Pt=new Date,jt=[St(Pt.getHours()),St(Pt.getMinutes()),St(Pt.getSeconds())].join(":");return[Pt.getDate(),It[Pt.getMonth()],jt].join(" ")}function Lt(Pt,jt){return Object.prototype.hasOwnProperty.call(Pt,jt)}o.log=function(){console.log("%s - %s",Bt(),o.format.apply(o,arguments))},o.inherits=s(108),o._extend=function(Pt,jt){if(!jt||!pt(jt))return Pt;for(var Zt=Object.keys(jt),Ct=Zt.length;Ct--;)Pt[Zt[Ct]]=jt[Zt[Ct]];return Pt};var Xt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function zt(Pt,jt){if(!Pt){var Zt=new Error("Promise was rejected with a falsy value");Zt.reason=Pt,Pt=Zt}return jt(Pt)}o.promisify=function(Pt){if(typeof Pt!="function")throw new TypeError('The "original" argument must be of type Function');if(Xt&&Pt[Xt]){var jt;if(typeof(jt=Pt[Xt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(jt,Xt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),jt}function jt(){for(var Zt,Ct,Ft=new Promise(function(mn,yn){Zt=mn,Ct=yn}),Ht=[],tn=0;tn<arguments.length;tn++)Ht.push(arguments[tn]);Ht.push(function(mn,yn){mn?Ct(mn):Zt(yn)});try{Pt.apply(this,Ht)}catch(mn){Ct(mn)}return Ft}return Object.setPrototypeOf(jt,Object.getPrototypeOf(Pt)),Xt&&Object.defineProperty(jt,Xt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(jt,$(Pt))},o.promisify.custom=Xt,o.callbackify=function(Pt){if(typeof Pt!="function")throw new TypeError('The "original" argument must be of type Function');function jt(){for(var Zt=[],Ct=0;Ct<arguments.length;Ct++)Zt.push(arguments[Ct]);var Ft=Zt.pop();if(typeof Ft!="function")throw new TypeError("The last argument must be of type Function");var Ht=this,tn=function(){return Ft.apply(Ht,arguments)};Pt.apply(this,Zt).then(function(mn){_.nextTick(tn,null,mn)},function(mn){_.nextTick(zt,mn,tn)})}return Object.setPrototypeOf(jt,Object.getPrototypeOf(Pt)),Object.defineProperties(jt,$(Pt)),jt}}).call(this,s(2))},function(i,o,s){i.exports=function(_,$){$||($={}),typeof $=="function"&&($={cmp:$});var _e,tt=typeof $.cycles=="boolean"&&$.cycles,j=$.cmp&&(_e=$.cmp,function(st){return function(ht,_t){var ft={key:ht,value:st[ht]},dt={key:_t,value:st[_t]};return _e(ft,dt)}}),nt=[];return function st(ht){if(ht&&ht.toJSON&&typeof ht.toJSON=="function"&&(ht=ht.toJSON()),ht!==void 0){if(typeof ht=="number")return isFinite(ht)?""+ht:"null";if(typeof ht!="object")return JSON.stringify(ht);var _t,ft;if(Array.isArray(ht)){for(ft="[",_t=0;_t<ht.length;_t++)_t&&(ft+=","),ft+=st(ht[_t])||"null";return ft+"]"}if(ht===null)return"null";if(nt.indexOf(ht)!==-1){if(tt)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var dt=nt.push(ht)-1,ut=Object.keys(ht).sort(j&&j(ht));for(ft="",_t=0;_t<ut.length;_t++){var mt=ut[_t],wt=st(ht[mt]);wt&&(ft&&(ft+=","),ft+=JSON.stringify(mt)+":"+wt)}return nt.splice(dt,1),"{"+ft+"}"}}(_)}},function(i,o,s){(function(_){var $=_!==void 0&&_||typeof self<"u"&&self||window,_e=Function.prototype.apply;function tt(j,nt){this._id=j,this._clearFn=nt}o.setTimeout=function(){return new tt(_e.call(setTimeout,$,arguments),clearTimeout)},o.setInterval=function(){return new tt(_e.call(setInterval,$,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(j){j&&j.close()},tt.prototype.unref=tt.prototype.ref=function(){},tt.prototype.close=function(){this._clearFn.call($,this._id)},o.enroll=function(j,nt){clearTimeout(j._idleTimeoutId),j._idleTimeout=nt},o.unenroll=function(j){clearTimeout(j._idleTimeoutId),j._idleTimeout=-1},o._unrefActive=o.active=function(j){clearTimeout(j._idleTimeoutId);var nt=j._idleTimeout;nt>=0&&(j._idleTimeoutId=setTimeout(function(){j._onTimeout&&j._onTimeout()},nt))},s(141),o.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,s(6))},function(i,o,s){(function(_){_===void 0||!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?i.exports={nextTick:function($,_e,tt,j){if(typeof $!="function")throw new TypeError('"callback" argument must be a function');var nt,st,ht=arguments.length;switch(ht){case 0:case 1:return _.nextTick($);case 2:return _.nextTick(function(){$.call(null,_e)});case 3:return _.nextTick(function(){$.call(null,_e,tt)});case 4:return _.nextTick(function(){$.call(null,_e,tt,j)});default:for(nt=new Array(ht-1),st=0;st<nt.length;)nt[st++]=arguments[st];return _.nextTick(function(){$.apply(null,nt)})}}}:i.exports=_}).call(this,s(2))},function(i,o,s){(function(_){function $(_e){return Object.prototype.toString.call(_e)}o.isArray=function(_e){return Array.isArray?Array.isArray(_e):$(_e)==="[object Array]"},o.isBoolean=function(_e){return typeof _e=="boolean"},o.isNull=function(_e){return _e===null},o.isNullOrUndefined=function(_e){return _e==null},o.isNumber=function(_e){return typeof _e=="number"},o.isString=function(_e){return typeof _e=="string"},o.isSymbol=function(_e){return typeof _e=="symbol"},o.isUndefined=function(_e){return _e===void 0},o.isRegExp=function(_e){return $(_e)==="[object RegExp]"},o.isObject=function(_e){return typeof _e=="object"&&_e!==null},o.isDate=function(_e){return $(_e)==="[object Date]"},o.isError=function(_e){return $(_e)==="[object Error]"||_e instanceof Error},o.isFunction=function(_e){return typeof _e=="function"},o.isPrimitive=function(_e){return _e===null||typeof _e=="boolean"||typeof _e=="number"||typeof _e=="string"||typeof _e=="symbol"||_e===void 0},o.isBuffer=_.isBuffer}).call(this,s(5).Buffer)},function(i,o){o.endianness=function(){return"LE"},o.hostname=function(){return typeof location<"u"?location.hostname:""},o.loadavg=function(){return[]},o.uptime=function(){return 0},o.freemem=function(){return Number.MAX_VALUE},o.totalmem=function(){return Number.MAX_VALUE},o.cpus=function(){return[]},o.type=function(){return"Browser"},o.release=function(){return typeof navigator<"u"?navigator.appVersion:""},o.networkInterfaces=o.getNetworkInterfaces=function(){return{}},o.arch=function(){return"javascript"},o.platform=function(){return"browser"},o.tmpdir=o.tmpDir=function(){return"/tmp"},o.EOL=`
`,o.homedir=function(){return"/"}},function(i,o,s){var _=s(58),$=s(61).warn,_e=o;_e.version=s(138).version,_e.transports=s(139),_e.config=s(50),_e.addColors=_.levels,_e.format=_.format,_e.createLogger=s(88),_e.ExceptionHandler=s(89),_e.RejectionHandler=s(93),_e.Container=s(210),_e.Transport=s(20),_e.loggers=new _e.Container;var tt=_e.createLogger();Object.keys(_e.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(j){return _e[j]=function(){return tt[j].apply(tt,arguments)}}),Object.defineProperty(_e,"level",{get:function(){return tt.level},set:function(j){tt.level=j}}),Object.defineProperty(_e,"exceptions",{get:function(){return tt.exceptions}}),["exitOnError"].forEach(function(j){Object.defineProperty(_e,j,{get:function(){return tt[j]},set:function(nt){tt[j]=nt}})}),Object.defineProperty(_e,"default",{get:function(){return{exceptionHandlers:tt.exceptionHandlers,rejectionHandlers:tt.rejectionHandlers,transports:tt.transports}}}),$.deprecated(_e,"setLevels"),$.forFunctions(_e,"useFormat",["cli"]),$.forProperties(_e,"useFormat",["padLevels","stripColors"]),$.forFunctions(_e,"deprecated",["addRewriter","addFilter","clone","extend"]),$.forProperties(_e,"deprecated",["emitErrs","levelLength"]),$.moved(_e,"createLogger","Logger")},function(i,o,s){var _=s(13),$=s(142),_e=s(3).LEVEL,tt=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.handleRejections=nt.handleRejections,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(st){j.levels=st.levels,j.parent=st}),this.once("unpipe",function(st){st===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(tt,$),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);var ht=this.level||this.parent&&this.parent.level;if(!ht||this.levels[ht]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,st);var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(st(),_t)throw _t;return}return this.log(ft,st)}return st(null)},tt.prototype._writev=function(j,nt){if(this.logv){var st=j.filter(this._accept,this);return st.length?this.logv(st,nt):nt(null)}for(var ht=0;ht<j.length;ht++)if(this._accept(j[ht]))if(!j[ht].chunk||this.format){var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j[ht].chunk),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(j[ht].callback(),_t)throw nt(null),_t}else this.log(ft,j[ht].callback)}else this.log(j[ht].chunk,j[ht].callback);return nt(null)},tt.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var st=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&st&&!(this.levels[st]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},tt.prototype._nop=function(){},i.exports.LegacyTransportStream=s(148)},function(i,o,s){var _,$=typeof Reflect=="object"?Reflect:null,_e=$&&typeof $.apply=="function"?$.apply:function(wt,Qt,Dt){return Function.prototype.apply.call(wt,Qt,Dt)};_=$&&typeof $.ownKeys=="function"?$.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var tt=Number.isNaN||function(wt){return wt!=wt};function j(){j.init.call(this)}i.exports=j,j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var nt=10;function st(wt){return wt._maxListeners===void 0?j.defaultMaxListeners:wt._maxListeners}function ht(wt,Qt,Dt,Et){var xt,pt,Vt,nn;if(typeof Dt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Dt);if((pt=wt._events)===void 0?(pt=wt._events=Object.create(null),wt._eventsCount=0):(pt.newListener!==void 0&&(wt.emit("newListener",Qt,Dt.listener?Dt.listener:Dt),pt=wt._events),Vt=pt[Qt]),Vt===void 0)Vt=pt[Qt]=Dt,++wt._eventsCount;else if(typeof Vt=="function"?Vt=pt[Qt]=Et?[Dt,Vt]:[Vt,Dt]:Et?Vt.unshift(Dt):Vt.push(Dt),(xt=st(wt))>0&&Vt.length>xt&&!Vt.warned){Vt.warned=!0;var on=new Error("Possible EventEmitter memory leak detected. "+Vt.length+" "+String(Qt)+" listeners added. Use emitter.setMaxListeners() to increase limit");on.name="MaxListenersExceededWarning",on.emitter=wt,on.type=Qt,on.count=Vt.length,nn=on,console&&console.warn&&console.warn(nn)}return wt}function _t(){for(var wt=[],Qt=0;Qt<arguments.length;Qt++)wt.push(arguments[Qt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,_e(this.listener,this.target,wt))}function ft(wt,Qt,Dt){var Et={fired:!1,wrapFn:void 0,target:wt,type:Qt,listener:Dt},xt=_t.bind(Et);return xt.listener=Dt,Et.wrapFn=xt,xt}function dt(wt,Qt,Dt){var Et=wt._events;if(Et===void 0)return[];var xt=Et[Qt];return xt===void 0?[]:typeof xt=="function"?Dt?[xt.listener||xt]:[xt]:Dt?function(pt){for(var Vt=new Array(pt.length),nn=0;nn<Vt.length;++nn)Vt[nn]=pt[nn].listener||pt[nn];return Vt}(xt):mt(xt,xt.length)}function ut(wt){var Qt=this._events;if(Qt!==void 0){var Dt=Qt[wt];if(typeof Dt=="function")return 1;if(Dt!==void 0)return Dt.length}return 0}function mt(wt,Qt){for(var Dt=new Array(Qt),Et=0;Et<Qt;++Et)Dt[Et]=wt[Et];return Dt}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return nt},set:function(wt){if(typeof wt!="number"||wt<0||tt(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");nt=wt}}),j.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||tt(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},j.prototype.getMaxListeners=function(){return st(this)},j.prototype.emit=function(wt){for(var Qt=[],Dt=1;Dt<arguments.length;Dt++)Qt.push(arguments[Dt]);var Et=wt==="error",xt=this._events;if(xt!==void 0)Et=Et&&xt.error===void 0;else if(!Et)return!1;if(Et){var pt;if(Qt.length>0&&(pt=Qt[0]),pt instanceof Error)throw pt;var Vt=new Error("Unhandled error."+(pt?" ("+pt.message+")":""));throw Vt.context=pt,Vt}var nn=xt[wt];if(nn===void 0)return!1;if(typeof nn=="function")_e(nn,this,Qt);else{var on=nn.length,bt=mt(nn,on);for(Dt=0;Dt<on;++Dt)_e(bt[Dt],this,Qt)}return!0},j.prototype.addListener=function(wt,Qt){return ht(this,wt,Qt,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(wt,Qt){return ht(this,wt,Qt,!0)},j.prototype.once=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.on(wt,ft(this,wt,Qt)),this},j.prototype.prependOnceListener=function(wt,Qt){if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);return this.prependListener(wt,ft(this,wt,Qt)),this},j.prototype.removeListener=function(wt,Qt){var Dt,Et,xt,pt,Vt;if(typeof Qt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qt);if((Et=this._events)===void 0)return this;if((Dt=Et[wt])===void 0)return this;if(Dt===Qt||Dt.listener===Qt)--this._eventsCount==0?this._events=Object.create(null):(delete Et[wt],Et.removeListener&&this.emit("removeListener",wt,Dt.listener||Qt));else if(typeof Dt!="function"){for(xt=-1,pt=Dt.length-1;pt>=0;pt--)if(Dt[pt]===Qt||Dt[pt].listener===Qt){Vt=Dt[pt].listener,xt=pt;break}if(xt<0)return this;xt===0?Dt.shift():function(nn,on){for(;on+1<nn.length;on++)nn[on]=nn[on+1];nn.pop()}(Dt,xt),Dt.length===1&&(Et[wt]=Dt[0]),Et.removeListener!==void 0&&this.emit("removeListener",wt,Vt||Qt)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(wt){var Qt,Dt,Et;if((Dt=this._events)===void 0)return this;if(Dt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Dt[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Dt[wt]),this;if(arguments.length===0){var xt,pt=Object.keys(Dt);for(Et=0;Et<pt.length;++Et)(xt=pt[Et])!=="removeListener"&&this.removeAllListeners(xt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Qt=Dt[wt])=="function")this.removeListener(wt,Qt);else if(Qt!==void 0)for(Et=Qt.length-1;Et>=0;Et--)this.removeListener(wt,Qt[Et]);return this},j.prototype.listeners=function(wt){return dt(this,wt,!0)},j.prototype.rawListeners=function(wt){return dt(this,wt,!1)},j.listenerCount=function(wt,Qt){return typeof wt.listenerCount=="function"?wt.listenerCount(Qt):ut.call(wt,Qt)},j.prototype.listenerCount=ut,j.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},function(i,o,s){var _=s(147).Buffer,$=_.isEncoding||function(ut){switch((ut=""+ut)&&ut.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _e(ut){var mt;switch(this.encoding=function(wt){var Qt=function(Dt){if(!Dt)return"utf8";for(var Et;;)switch(Dt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Dt;default:if(Et)return;Dt=(""+Dt).toLowerCase(),Et=!0}}(wt);if(typeof Qt!="string"&&(_.isEncoding===$||!$(wt)))throw new Error("Unknown encoding: "+wt);return Qt||wt}(ut),this.encoding){case"utf16le":this.text=nt,this.end=st,mt=4;break;case"utf8":this.fillLast=j,mt=4;break;case"base64":this.text=ht,this.end=_t,mt=3;break;default:return this.write=ft,void(this.end=dt)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(mt)}function tt(ut){return ut<=127?0:ut>>5==6?2:ut>>4==14?3:ut>>3==30?4:ut>>6==2?-1:-2}function j(ut){var mt=this.lastTotal-this.lastNeed,wt=function(Qt,Dt,Et){if((192&Dt[0])!=128)return Qt.lastNeed=0,"�";if(Qt.lastNeed>1&&Dt.length>1){if((192&Dt[1])!=128)return Qt.lastNeed=1,"�";if(Qt.lastNeed>2&&Dt.length>2&&(192&Dt[2])!=128)return Qt.lastNeed=2,"�"}}(this,ut);return wt!==void 0?wt:this.lastNeed<=ut.length?(ut.copy(this.lastChar,mt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ut.copy(this.lastChar,mt,0,ut.length),void(this.lastNeed-=ut.length))}function nt(ut,mt){if((ut.length-mt)%2==0){var wt=ut.toString("utf16le",mt);if(wt){var Qt=wt.charCodeAt(wt.length-1);if(Qt>=55296&&Qt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ut[ut.length-1],ut.toString("utf16le",mt,ut.length-1)}function st(ut){var mt=ut&&ut.length?this.write(ut):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return mt+this.lastChar.toString("utf16le",0,wt)}return mt}function ht(ut,mt){var wt=(ut.length-mt)%3;return wt===0?ut.toString("base64",mt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=ut[ut.length-1]:(this.lastChar[0]=ut[ut.length-2],this.lastChar[1]=ut[ut.length-1]),ut.toString("base64",mt,ut.length-wt))}function _t(ut){var mt=ut&&ut.length?this.write(ut):"";return this.lastNeed?mt+this.lastChar.toString("base64",0,3-this.lastNeed):mt}function ft(ut){return ut.toString(this.encoding)}function dt(ut){return ut&&ut.length?this.write(ut):""}o.StringDecoder=_e,_e.prototype.write=function(ut){if(ut.length===0)return"";var mt,wt;if(this.lastNeed){if((mt=this.fillLast(ut))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<ut.length?mt?mt+this.text(ut,wt):this.text(ut,wt):mt||""},_e.prototype.end=function(ut){var mt=ut&&ut.length?this.write(ut):"";return this.lastNeed?mt+"�":mt},_e.prototype.text=function(ut,mt){var wt=function(Dt,Et,xt){var pt=Et.length-1;if(pt<xt)return 0;var Vt=tt(Et[pt]);return Vt>=0?(Vt>0&&(Dt.lastNeed=Vt-1),Vt):--pt<xt||Vt===-2?0:(Vt=tt(Et[pt]))>=0?(Vt>0&&(Dt.lastNeed=Vt-2),Vt):--pt<xt||Vt===-2?0:(Vt=tt(Et[pt]))>=0?(Vt>0&&(Vt===2?Vt=0:Dt.lastNeed=Vt-3),Vt):0}(this,ut,mt);if(!this.lastNeed)return ut.toString("utf8",mt);this.lastTotal=wt;var Qt=ut.length-(wt-this.lastNeed);return ut.copy(this.lastChar,0,Qt),ut.toString("utf8",mt,Qt)},_e.prototype.fillLast=function(ut){if(this.lastNeed<=ut.length)return ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ut.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ut.length),this.lastNeed-=ut.length}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var mt=[];for(var wt in ut)mt.push(wt);return mt};i.exports=_t;var _e=s(17);_e.inherits=s(7);var tt=s(69),j=s(48);_e.inherits(_t,tt);for(var nt=$(j.prototype),st=0;st<nt.length;st++){var ht=nt[st];_t.prototype[ht]||(_t.prototype[ht]=j.prototype[ht])}function _t(ut){if(!(this instanceof _t))return new _t(ut);tt.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ft)}function ft(){this.allowHalfOpen||this._writableState.ended||_.nextTick(dt,this)}function dt(ut){ut.end()}Object.defineProperty(_t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_t.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),_t.prototype._destroy=function(ut,mt){this.push(null),this.end(),_.nextTick(mt,ut)}},function(i,o,s){(function(_){function $(Wt){var ln=0;return function(){return ln<Wt.length?{done:!1,value:Wt[ln++]}:{done:!0}}}var _e=typeof Object.defineProperties=="function"?Object.defineProperty:function(Wt,ln,bn){Wt!=Array.prototype&&Wt!=Object.prototype&&(Wt[ln]=bn.value)},tt=function(Wt){Wt=[typeof window=="object"&&window,typeof self=="object"&&self,typeof _=="object"&&_,Wt];for(var ln=0;ln<Wt.length;++ln){var bn=Wt[ln];if(bn&&bn.Math==Math)return bn}throw Error("Cannot find global object")}(this);function j(Wt,ln){if(ln){var bn=tt;Wt=Wt.split(".");for(var Cn=0;Cn<Wt.length-1;Cn++){var Wn=Wt[Cn];Wn in bn||(bn[Wn]={}),bn=bn[Wn]}(ln=ln(Cn=bn[Wt=Wt[Wt.length-1]]))!=Cn&&ln!=null&&_e(bn,Wt,{configurable:!0,writable:!0,value:ln})}}function nt(Wt){var ln=typeof Symbol<"u"&&Symbol.iterator&&Wt[Symbol.iterator];return ln?ln.call(Wt):{next:$(Wt)}}j("Object.is",function(Wt){return Wt||function(ln,bn){return ln===bn?ln!==0||1/ln==1/bn:ln!=ln&&bn!=bn}}),j("Array.prototype.includes",function(Wt){return Wt||function(ln,bn){var Cn=this;Cn instanceof String&&(Cn=String(Cn));var Wn=Cn.length;for(0>(bn=bn||0)&&(bn=Math.max(bn+Wn,0));bn<Wn;bn++){var sr=Cn[bn];if(sr===ln||Object.is(sr,ln))return!0}return!1}}),j("Promise",function(Wt){function ln(Dn){this.b=0,this.c=void 0,this.a=[];var qn=this.f();try{Dn(qn.resolve,qn.reject)}catch(Br){qn.reject(Br)}}function bn(){this.a=null}function Cn(Dn){return Dn instanceof ln?Dn:new ln(function(qn){qn(Dn)})}if(Wt)return Wt;bn.prototype.b=function(Dn){if(this.a==null){this.a=[];var qn=this;this.c(function(){qn.g()})}this.a.push(Dn)};var Wn=tt.setTimeout;bn.prototype.c=function(Dn){Wn(Dn,0)},bn.prototype.g=function(){for(;this.a&&this.a.length;){var Dn=this.a;this.a=[];for(var qn=0;qn<Dn.length;++qn){var Br=Dn[qn];Dn[qn]=null;try{Br()}catch(Er){this.f(Er)}}}this.a=null},bn.prototype.f=function(Dn){this.c(function(){throw Dn})},ln.prototype.f=function(){function Dn(Er){return function(Lr){Br||(Br=!0,Er.call(qn,Lr))}}var qn=this,Br=!1;return{resolve:Dn(this.m),reject:Dn(this.g)}},ln.prototype.m=function(Dn){if(Dn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Dn instanceof ln)this.o(Dn);else{e:switch(typeof Dn){case"object":var qn=Dn!=null;break e;case"function":qn=!0;break e;default:qn=!1}qn?this.l(Dn):this.h(Dn)}},ln.prototype.l=function(Dn){var qn=void 0;try{qn=Dn.then}catch(Br){return void this.g(Br)}typeof qn=="function"?this.u(qn,Dn):this.h(Dn)},ln.prototype.g=function(Dn){this.i(2,Dn)},ln.prototype.h=function(Dn){this.i(1,Dn)},ln.prototype.i=function(Dn,qn){if(this.b!=0)throw Error("Cannot settle("+Dn+", "+qn+"): Promise already settled in state"+this.b);this.b=Dn,this.c=qn,this.j()},ln.prototype.j=function(){if(this.a!=null){for(var Dn=0;Dn<this.a.length;++Dn)sr.b(this.a[Dn]);this.a=null}};var sr=new bn;return ln.prototype.o=function(Dn){var qn=this.f();Dn.w(qn.resolve,qn.reject)},ln.prototype.u=function(Dn,qn){var Br=this.f();try{Dn.call(qn,Br.resolve,Br.reject)}catch(Er){Br.reject(Er)}},ln.prototype.then=function(Dn,qn){function Br(go,Eo){return typeof go=="function"?function(Go){try{Er(go(Go))}catch(qo){Lr(qo)}}:Eo}var Er,Lr,Vo=new ln(function(go,Eo){Er=go,Lr=Eo});return this.w(Br(Dn,Er),Br(qn,Lr)),Vo},ln.prototype.catch=function(Dn){return this.then(void 0,Dn)},ln.prototype.w=function(Dn,qn){function Br(){switch(Er.b){case 1:Dn(Er.c);break;case 2:qn(Er.c);break;default:throw Error("Unexpected state: "+Er.b)}}var Er=this;this.a==null?sr.b(Br):this.a.push(Br)},ln.resolve=Cn,ln.reject=function(Dn){return new ln(function(qn,Br){Br(Dn)})},ln.race=function(Dn){return new ln(function(qn,Br){for(var Er=nt(Dn),Lr=Er.next();!Lr.done;Lr=Er.next())Cn(Lr.value).w(qn,Br)})},ln.all=function(Dn){var qn=nt(Dn),Br=qn.next();return Br.done?Cn([]):new ln(function(Er,Lr){function Vo(Go){return function(qo){go[Go]=qo,--Eo==0&&Er(go)}}var go=[],Eo=0;do go.push(void 0),Eo++,Cn(Br.value).w(Vo(go.length-1),Lr),Br=qn.next();while(!Br.done)})},ln});var st=st||{},ht=this||self;function _t(Wt,ln){Wt=Wt.split("."),ln=ln||ht;for(var bn=0;bn<Wt.length;bn++)if((ln=ln[Wt[bn]])==null)return null;return ln}function ft(){}function dt(Wt){var ln=typeof Wt;if(ln=="object"){if(!Wt)return"null";if(Wt instanceof Array)return"array";if(Wt instanceof Object)return ln;var bn=Object.prototype.toString.call(Wt);if(bn=="[object Window]")return"object";if(bn=="[object Array]"||typeof Wt.length=="number"&&Wt.splice!==void 0&&Wt.propertyIsEnumerable!==void 0&&!Wt.propertyIsEnumerable("splice"))return"array";if(bn=="[object Function]"||Wt.call!==void 0&&Wt.propertyIsEnumerable!==void 0&&!Wt.propertyIsEnumerable("call"))return"function"}else if(ln=="function"&&Wt.call===void 0)return"object";return ln}function ut(Wt){var ln=typeof Wt;return ln=="object"&&Wt!=null||ln=="function"}function mt(Wt,ln,bn){return Wt.call.apply(Wt.bind,arguments)}function wt(Wt,ln,bn){if(!Wt)throw Error();if(2<arguments.length){var Cn=Array.prototype.slice.call(arguments,2);return function(){var Wn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Wn,Cn),Wt.apply(ln,Wn)}}return function(){return Wt.apply(ln,arguments)}}function Qt(Wt,ln,bn){return(Qt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mt:wt).apply(null,arguments)}function Dt(Wt,ln){function bn(){}bn.prototype=ln.prototype,Wt.S=ln.prototype,Wt.prototype=new bn,Wt.prototype.constructor=Wt}function Et(){this.a={}}function xt(Wt,ln,bn,Cn){this.f=Wt,this.c=ln,this.b=bn,this.a=Cn}function pt(Wt,ln,bn,Cn){bn=bn===void 0?{}:bn,this.c=Wt,this.a=bn,this.b=ln,this.f=Cn===void 0?null:Cn}function Vt(Wt,ln,bn,Cn,Wn,sr){this.name=Wt,this.a=Wn,this.b=sr}function nn(Wt,ln,bn){bn=bn===void 0?{}:bn;var Cn=Cn===void 0?new Et:Cn;return new xt(ln,Wt,bn,Cn)}function on(Wt,ln,bn,Cn){return Cn instanceof Vt?Cn:new Vt(Wt,bn,Cn.b||ln.constructor,Cn.f,Cn.a,Cn.c)}function bt(Wt){this.a=Wt}function St(Wt){switch(Wt){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function It(Wt){if(Error.captureStackTrace)Error.captureStackTrace(this,It);else{var ln=Error().stack;ln&&(this.stack=ln)}Wt&&(this.message=String(Wt))}function Bt(Wt,ln){for(var bn="",Cn=(Wt=Wt.split("%s")).length-1,Wn=0;Wn<Cn;Wn++)bn+=Wt[Wn]+(Wn<ln.length?ln[Wn]:"%s");It.call(this,bn+Wt[Cn])}function Lt(){this.j=null,this.i=[],this.l=0,this.b=Xt,this.f=this.a=this.h=0,this.c=null,this.g=0}Et.prototype.get=function(Wt){return this.a[Wt]},Et.prototype.f=function(){return Object.keys(this.a)},xt.prototype.getRequestMessage=function(){return this.f},xt.prototype.getMethodDescriptor=function(){return this.c},xt.prototype.getMetadata=function(){return this.b},xt.prototype.getCallOptions=function(){return this.a},pt.prototype.getResponseMessage=function(){return this.c},pt.prototype.getMetadata=function(){return this.a},pt.prototype.getMethodDescriptor=function(){return this.b},pt.prototype.getStatus=function(){return this.f},bt.prototype.on=function(Wt,ln){return Wt=="data"||Wt=="error"?this:this.a.on(Wt,ln)},bt.prototype.removeListener=function(Wt,ln){return this.a.removeListener(Wt,ln)},bt.prototype.cancel=function(){this.a.cancel()},Dt(It,Error),It.prototype.name="CustomError",Dt(Bt,It),Bt.prototype.name="AssertionError";var Xt=0,zt=1,Pt=2,jt=3,Zt=0,Ct=128;function Ft(Wt,ln,bn,Cn){throw Wt.b=jt,Wt.j="The stream is broken @"+Wt.l+"/"+bn+". Error: "+Cn+`. With input:
`+ln,Error(Wt.j)}var Ht=Array.prototype.indexOf?function(Wt,ln){return Array.prototype.indexOf.call(Wt,ln,void 0)}:function(Wt,ln){if(typeof Wt=="string")return typeof ln!="string"||ln.length!=1?-1:Wt.indexOf(ln,0);for(var bn=0;bn<Wt.length;bn++)if(bn in Wt&&Wt[bn]===ln)return bn;return-1},tn,mn=String.prototype.trim?function(Wt){return Wt.trim()}:function(Wt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(Wt)[1]};function yn(Wt,ln){return Wt.indexOf(ln)!=-1}function vn(Wt,ln){return Wt<ln?-1:Wt>ln?1:0}e:{var un=ht.navigator;if(un){var rn=un.userAgent;if(rn){tn=rn;break e}}tn=""}var At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mt(Wt){var ln=1;Wt=Wt.split(":");for(var bn=[];0<ln&&Wt.length;)bn.push(Wt.shift()),ln--;return Wt.length&&bn.push(Wt.join(":")),bn}function $t(Wt){return $t[" "](Wt),Wt}$t[" "]=ft;var pn,hn,Sn=yn(tn,"Opera"),An=yn(tn,"Trident")||yn(tn,"MSIE"),Gn=yn(tn,"Edge"),Qr=yn(tn,"Gecko")&&!(yn(tn.toLowerCase(),"webkit")&&!yn(tn,"Edge"))&&!(yn(tn,"Trident")||yn(tn,"MSIE"))&&!yn(tn,"Edge"),_i=yn(tn.toLowerCase(),"webkit")&&!yn(tn,"Edge");function Pr(){var Wt=ht.document;return Wt?Wt.documentMode:void 0}e:{var po="",jr=(hn=tn,Qr?/rv:([^\);]+)(\)|;)/.exec(hn):Gn?/Edge\/([\d\.]+)/.exec(hn):An?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hn):_i?/WebKit\/(\S+)/.exec(hn):Sn?/(?:Version)[ \/]?(\S+)/.exec(hn):void 0);if(jr&&(po=jr?jr[1]:""),An){var Yr=Pr();if(Yr!=null&&Yr>parseFloat(po)){pn=String(Yr);break e}}pn=po}var no,Qo={};function Co(Wt){return function(ln,bn){var Cn=Qo;return Object.prototype.hasOwnProperty.call(Cn,ln)?Cn[ln]:Cn[ln]=bn(ln)}(Wt,function(){for(var ln=0,bn=mn(String(pn)).split("."),Cn=mn(String(Wt)).split("."),Wn=Math.max(bn.length,Cn.length),sr=0;ln==0&&sr<Wn;sr++){var Dn=bn[sr]||"",qn=Cn[sr]||"";do{if(Dn=/(\d*)(\D*)(.*)/.exec(Dn)||["","","",""],qn=/(\d*)(\D*)(.*)/.exec(qn)||["","","",""],Dn[0].length==0&&qn[0].length==0)break;ln=vn(Dn[1].length==0?0:parseInt(Dn[1],10),qn[1].length==0?0:parseInt(qn[1],10))||vn(Dn[2].length==0,qn[2].length==0)||vn(Dn[2],qn[2]),Dn=Dn[3],qn=qn[3]}while(ln==0)}return 0<=ln})}if(ht.document&&An){var Jo=Pr();no=Jo||parseInt(pn,10)||void 0}else no=void 0;var es=no;function xo(){this.F=this.F}xo.prototype.F=!1;var ls,Ds=Object.freeze||function(Wt){return Wt};(ls=!An)||(ls=9<=Number(es));var hs=ls,Hl=An&&!Co("9"),Ll=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var Wt=!1,ln=Object.defineProperty({},"passive",{get:function(){Wt=!0}});try{ht.addEventListener("test",ft,ln),ht.removeEventListener("test",ft,ln)}catch{}return Wt}();function Ls(Wt,ln){this.type=Wt,this.a=this.target=ln,this.defaultPrevented=!1}function Us(Wt,ln){if(Ls.call(this,Wt?Wt.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,Wt){var bn=this.type=Wt.type,Cn=Wt.changedTouches&&Wt.changedTouches.length?Wt.changedTouches[0]:null;if(this.target=Wt.target||Wt.srcElement,this.a=ln,ln=Wt.relatedTarget){if(Qr){e:{try{$t(ln.nodeName);var Wn=!0;break e}catch{}Wn=!1}Wn||(ln=null)}}else bn=="mouseover"?ln=Wt.fromElement:bn=="mouseout"&&(ln=Wt.toElement);this.relatedTarget=ln,Cn?(this.clientX=Cn.clientX!==void 0?Cn.clientX:Cn.pageX,this.clientY=Cn.clientY!==void 0?Cn.clientY:Cn.pageY,this.screenX=Cn.screenX||0,this.screenY=Cn.screenY||0):(this.clientX=Wt.clientX!==void 0?Wt.clientX:Wt.pageX,this.clientY=Wt.clientY!==void 0?Wt.clientY:Wt.pageY,this.screenX=Wt.screenX||0,this.screenY=Wt.screenY||0),this.button=Wt.button,this.key=Wt.key||"",this.ctrlKey=Wt.ctrlKey,this.altKey=Wt.altKey,this.shiftKey=Wt.shiftKey,this.metaKey=Wt.metaKey,this.pointerId=Wt.pointerId||0,this.pointerType=typeof Wt.pointerType=="string"?Wt.pointerType:cu[Wt.pointerType]||"",this.c=Wt,Wt.defaultPrevented&&this.b()}}Ls.prototype.b=function(){this.defaultPrevented=!0},Dt(Us,Ls);var cu=Ds({2:"touch",3:"pen",4:"mouse"});Us.prototype.b=function(){Us.S.b.call(this);var Wt=this.c;if(Wt.preventDefault)Wt.preventDefault();else if(Wt.returnValue=!1,Hl)try{(Wt.ctrlKey||112<=Wt.keyCode&&123>=Wt.keyCode)&&(Wt.keyCode=-1)}catch{}};var Po="closure_listenable_"+(1e6*Math.random()|0),nu=0;function cr(Wt,ln,bn,Cn,Wn){this.listener=Wt,this.proxy=null,this.src=ln,this.type=bn,this.capture=!!Cn,this.A=Wn,this.key=++nu,this.s=this.v=!1}function Gt(Wt){Wt.s=!0,Wt.listener=null,Wt.proxy=null,Wt.src=null,Wt.A=null}function en(Wt){this.src=Wt,this.a={},this.b=0}function fn(Wt,ln){var bn=ln.type;if(bn in Wt.a){var Cn,Wn=Wt.a[bn],sr=Ht(Wn,ln);(Cn=0<=sr)&&Array.prototype.splice.call(Wn,sr,1),Cn&&(Gt(ln),Wt.a[bn].length==0&&(delete Wt.a[bn],Wt.b--))}}function En(Wt,ln,bn,Cn){for(var Wn=0;Wn<Wt.length;++Wn){var sr=Wt[Wn];if(!sr.s&&sr.listener==ln&&sr.capture==!!bn&&sr.A==Cn)return Wn}return-1}en.prototype.add=function(Wt,ln,bn,Cn,Wn){var sr=Wt.toString();(Wt=this.a[sr])||(Wt=this.a[sr]=[],this.b++);var Dn=En(Wt,ln,Cn,Wn);return-1<Dn?(ln=Wt[Dn],bn||(ln.v=!1)):((ln=new cr(ln,this.src,sr,!!Cn,Wn)).v=bn,Wt.push(ln)),ln};var xn="closure_lm_"+(1e6*Math.random()|0),or={};function ar(Wt,ln,bn,Cn,Wn){if(Cn&&Cn.once)(function Dn(qn,Br,Er,Lr,Vo){if(Array.isArray(Br))for(var go=0;go<Br.length;go++)Dn(qn,Br[go],Er,Lr,Vo);else Er=Kn(Er),qn&&qn[Po]?qn.f.add(String(Br),Er,!0,ut(Lr)?!!Lr.capture:!!Lr,Vo):nr(qn,Br,Er,!0,Lr,Vo)})(Wt,ln,bn,Cn,Wn);else if(Array.isArray(ln))for(var sr=0;sr<ln.length;sr++)ar(Wt,ln[sr],bn,Cn,Wn);else bn=Kn(bn),Wt&&Wt[Po]?Wt.f.add(String(ln),bn,!1,ut(Cn)?!!Cn.capture:!!Cn,Wn):nr(Wt,ln,bn,!1,Cn,Wn)}function nr(Wt,ln,bn,Cn,Wn,sr){if(!ln)throw Error("Invalid event type");var Dn=ut(Wn)?!!Wn.capture:!!Wn,qn=Tn(Wt);if(qn||(Wt[xn]=qn=new en(Wt)),!(bn=qn.add(ln,bn,Cn,Dn,sr)).proxy)if(Cn=function(){var Br=wn,Er=hs?function(Lr){return Br.call(Er.src,Er.listener,Lr)}:function(Lr){if(!(Lr=Br.call(Er.src,Er.listener,Lr)))return Lr};return Er}(),bn.proxy=Cn,Cn.src=Wt,Cn.listener=bn,Wt.addEventListener)Ll||(Wn=Dn),Wn===void 0&&(Wn=!1),Wt.addEventListener(ln.toString(),Cn,Wn);else if(Wt.attachEvent)Wt.attachEvent(On(ln.toString()),Cn);else{if(!Wt.addListener||!Wt.removeListener)throw Error("addEventListener and attachEvent are unavailable.");Wt.addListener(Cn)}}function Zn(Wt){if(typeof Wt!="number"&&Wt&&!Wt.s){var ln=Wt.src;if(ln&&ln[Po])fn(ln.f,Wt);else{var bn=Wt.type,Cn=Wt.proxy;ln.removeEventListener?ln.removeEventListener(bn,Cn,Wt.capture):ln.detachEvent?ln.detachEvent(On(bn),Cn):ln.addListener&&ln.removeListener&&ln.removeListener(Cn),(bn=Tn(ln))?(fn(bn,Wt),bn.b==0&&(bn.src=null,ln[xn]=null)):Gt(Wt)}}}function On(Wt){return Wt in or?or[Wt]:or[Wt]="on"+Wt}function io(Wt,ln,bn,Cn){var Wn=!0;if((Wt=Tn(Wt))&&(ln=Wt.a[ln.toString()]))for(ln=ln.concat(),Wt=0;Wt<ln.length;Wt++){var sr=ln[Wt];sr&&sr.capture==bn&&!sr.s&&(sr=Mn(sr,Cn),Wn=Wn&&sr!==!1)}return Wn}function Mn(Wt,ln){var bn=Wt.listener,Cn=Wt.A||Wt.src;return Wt.v&&Zn(Wt),bn.call(Cn,ln)}function wn(Wt,ln){if(Wt.s)return!0;if(!hs){var bn=ln||_t("window.event");ln=new Us(bn,this);var Cn=!0;if(!(0>bn.keyCode||bn.returnValue!=null)){e:{var Wn=!1;if(bn.keyCode==0)try{bn.keyCode=-1;break e}catch{Wn=!0}(Wn||bn.returnValue==null)&&(bn.returnValue=!0)}for(bn=[],Wn=ln.a;Wn;Wn=Wn.parentNode)bn.push(Wn);for(Wt=Wt.type,Wn=bn.length-1;0<=Wn;Wn--){ln.a=bn[Wn];var sr=io(bn[Wn],Wt,!0,ln);Cn=Cn&&sr}for(Wn=0;Wn<bn.length;Wn++)ln.a=bn[Wn],sr=io(bn[Wn],Wt,!1,ln),Cn=Cn&&sr}return Cn}return Mn(Wt,new Us(ln,this))}function Tn(Wt){return(Wt=Wt[xn])instanceof en?Wt:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(Wt){return dt(Wt)=="function"?Wt:(Wt[zn]||(Wt[zn]=function(ln){return Wt.handleEvent(ln)}),Wt[zn])}function lr(){xo.call(this),this.f=new en(this),this.N=this}function ur(Wt,ln){Wt=Wt.N;var bn=ln.type||ln;if(typeof ln=="string")ln=new Ls(ln,Wt);else if(ln instanceof Ls)ln.target=ln.target||Wt;else{var Cn=ln;(function(Wn,sr){for(var Dn,qn,Br=1;Br<arguments.length;Br++){for(Dn in qn=arguments[Br])Wn[Dn]=qn[Dn];for(var Er=0;Er<At.length;Er++)Dn=At[Er],Object.prototype.hasOwnProperty.call(qn,Dn)&&(Wn[Dn]=qn[Dn])}})(ln=new Ls(bn,Wt),Cn)}mr(Wt=ln.a=Wt,bn,!0,ln),mr(Wt,bn,!1,ln)}function mr(Wt,ln,bn,Cn){if(ln=Wt.f.a[String(ln)]){ln=ln.concat();for(var Wn=!0,sr=0;sr<ln.length;++sr){var Dn=ln[sr];if(Dn&&!Dn.s&&Dn.capture==bn){var qn=Dn.listener,Br=Dn.A||Dn.src;Dn.v&&fn(Wt.f,Dn),Wn=qn.call(Br,Cn)!==!1&&Wn}}}}function hr(Wt,ln,bn){if(dt(Wt)=="function")bn&&(Wt=Qt(Wt,bn));else{if(!Wt||typeof Wt.handleEvent!="function")throw Error("Invalid listener argument");Wt=Qt(Wt.handleEvent,Wt)}return 2147483647<Number(ln)?-1:ht.setTimeout(Wt,ln||0)}function br(Wt,ln,bn){this.reset(Wt,ln,bn,void 0,void 0)}Dt(lr,xo),lr.prototype[Po]=!0,lr.prototype.addEventListener=function(Wt,ln,bn,Cn){ar(this,Wt,ln,bn,Cn)},lr.prototype.removeEventListener=function(Wt,ln,bn,Cn){(function Wn(sr,Dn,qn,Br,Er){if(Array.isArray(Dn))for(var Lr=0;Lr<Dn.length;Lr++)Wn(sr,Dn[Lr],qn,Br,Er);else Br=ut(Br)?!!Br.capture:!!Br,qn=Kn(qn),sr&&sr[Po]?(sr=sr.f,(Dn=String(Dn).toString())in sr.a&&-1<(qn=En(Lr=sr.a[Dn],qn,Br,Er))&&(Gt(Lr[qn]),Array.prototype.splice.call(Lr,qn,1),Lr.length==0&&(delete sr.a[Dn],sr.b--))):sr&&(sr=Tn(sr))&&(Dn=sr.a[Dn.toString()],sr=-1,Dn&&(sr=En(Dn,qn,Br,Er)),(qn=-1<sr?Dn[sr]:null)&&Zn(qn))})(this,Wt,ln,bn,Cn)},br.prototype.a=null;function Nr(Wt){this.f=Wt,this.b=this.c=this.a=null}function Kr(Wt,ln){this.name=Wt,this.value=ln}br.prototype.reset=function(Wt,ln,bn,Cn,Wn){delete this.a},Kr.prototype.toString=function(){return this.name};var zr=new Kr("SEVERE",1e3),So=new Kr("CONFIG",700),Bo=new Kr("FINE",500);function Ao(Wt){return Wt.c?Wt.c:Wt.a?Ao(Wt.a):(function(ln,bn){throw new Bt("Failure"+(ln?": "+ln:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Nr.prototype.log=function(Wt,ln,bn){if(Wt.value>=Ao(this).value)for(dt(ln)=="function"&&(ln=ln()),Wt=new br(Wt,String(ln),this.f),bn&&(Wt.a=bn),bn=this;bn;)bn=bn.a};var No,Xo={},fs=null;function Uo(Wt,ln){Wt&&Wt.log(Bo,ln,void 0)}function ws(){}function bs(Wt){var ln;return(ln=Wt.a)||(ln={},Ir(Wt)&&(ln[0]=!0,ln[1]=!0),ln=Wt.a=ln),ln}function Ru(){}function hu(Wt){return(Wt=Ir(Wt))?new ActiveXObject(Wt):new XMLHttpRequest}function Ir(Wt){if(!Wt.b&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var ln=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],bn=0;bn<ln.length;bn++){var Cn=ln[bn];try{return new ActiveXObject(Cn),Wt.b=Cn}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Wt.b}function _a(Wt,ln){this.b={},this.a=[],this.c=0;var bn=arguments.length;if(1<bn){if(bn%2)throw Error("Uneven number of arguments");for(var Cn=0;Cn<bn;Cn+=2)this.set(arguments[Cn],arguments[Cn+1])}else Wt&&du(this,Wt)}function Js(Wt){if(Wt.c!=Wt.a.length){for(var ln=0,bn=0;ln<Wt.a.length;){var Cn=Wt.a[ln];ru(Wt.b,Cn)&&(Wt.a[bn++]=Cn),ln++}Wt.a.length=bn}if(Wt.c!=Wt.a.length){var Wn={};for(bn=ln=0;ln<Wt.a.length;)ru(Wn,Cn=Wt.a[ln])||(Wt.a[bn++]=Cn,Wn[Cn]=1),ln++;Wt.a.length=bn}}function du(Wt,ln){if(ln instanceof _a)for(var bn=ln.f(),Cn=0;Cn<bn.length;Cn++)Wt.set(bn[Cn],ln.get(bn[Cn]));else for(bn in ln)Wt.set(bn,ln[bn])}function ru(Wt,ln){return Object.prototype.hasOwnProperty.call(Wt,ln)}ws.prototype.a=null,Dt(Ru,ws),No=new Ru,_a.prototype.f=function(){return Js(this),this.a.concat()},_a.prototype.get=function(Wt,ln){return ru(this.b,Wt)?this.b[Wt]:ln},_a.prototype.set=function(Wt,ln){ru(this.b,Wt)||(this.c++,this.a.push(Wt)),this.b[Wt]=ln},_a.prototype.forEach=function(Wt,ln){for(var bn=this.f(),Cn=0;Cn<bn.length;Cn++){var Wn=bn[Cn],sr=this.get(Wn);Wt.call(ln,sr,Wn,this)}};var wu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ul(Wt){lr.call(this),this.headers=new _a,this.D=Wt||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=rm,this.B=this.H=!1}Dt(Ul,lr);var rm="",rp=Ul.prototype,mo=function Wt(ln){var bn;if(fs||(fs=new Nr(""),Xo[""]=fs,fs.c=So),!(bn=Xo[ln])){bn=new Nr(ln);var Cn=ln.lastIndexOf("."),Wn=ln.substr(Cn+1);(Cn=Wt(ln.substr(0,Cn))).b||(Cn.b={}),Cn.b[Wn]=bn,bn.a=Cn,Xo[ln]=bn}return bn}("goog.net.XhrIo");rp.b=mo;var rs=/^https?$/i,ss=["POST","PUT"];function Bu(Wt,ln,bn){if(Wt.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Wt.o+"; newUri="+ln);Wt.o=ln,Wt.i="",Wt.g=0,Wt.J="POST",Wt.G=!1,Wt.c=!0,Wt.a=Wt.D?hu(Wt.D):hu(No),Wt.C=Wt.D?bs(Wt.D):bs(No),Wt.a.onreadystatechange=Qt(Wt.K,Wt);try{Uo(Wt.b,Os(Wt,"Opening Xhr")),Wt.I=!0,Wt.a.open("POST",String(ln),!0),Wt.I=!1}catch(sr){return Uo(Wt.b,Os(Wt,"Error opening Xhr: "+sr.message)),void Ko(Wt,sr)}ln=bn||"";var Cn=function(sr){e:{for(var Dn=ip,qn=sr.length,Br=typeof sr=="string"?sr.split(""):sr,Er=0;Er<qn;Er++)if(Er in Br&&Dn.call(void 0,Br[Er],Er,sr)){Dn=Er;break e}Dn=-1}return 0>Dn?null:typeof sr=="string"?sr.charAt(Dn):sr[Dn]}((bn=new _a(Wt.headers)).f()),Wn=ht.FormData&&ln instanceof ht.FormData;!(0<=Ht(ss,"POST"))||Cn||Wn||bn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),bn.forEach(function(sr,Dn){this.a.setRequestHeader(Dn,sr)},Wt),Wt.j&&(Wt.a.responseType=Wt.j),"withCredentials"in Wt.a&&Wt.a.withCredentials!==Wt.H&&(Wt.a.withCredentials=Wt.H);try{Cl(Wt),0<Wt.l&&(Wt.B=function(sr){return An&&Co(9)&&typeof sr.timeout=="number"&&sr.ontimeout!==void 0}(Wt.a),Uo(Wt.b,Os(Wt,"Will abort after "+Wt.l+"ms if incomplete, xhr2 "+Wt.B)),Wt.B?(Wt.a.timeout=Wt.l,Wt.a.ontimeout=Qt(Wt.L,Wt)):Wt.u=hr(Wt.L,Wt.l,Wt)),Uo(Wt.b,Os(Wt,"Sending request")),Wt.m=!0,Wt.a.send(ln),Wt.m=!1}catch(sr){Uo(Wt.b,Os(Wt,"Send error: "+sr.message)),Ko(Wt,sr)}}function ip(Wt){return Wt.toLowerCase()=="content-type"}function Ko(Wt,ln){Wt.c=!1,Wt.a&&(Wt.h=!0,Wt.a.abort(),Wt.h=!1),Wt.i=ln,Wt.g=5,Wu(Wt),fu(Wt)}function Wu(Wt){Wt.G||(Wt.G=!0,ur(Wt,"complete"),ur(Wt,"error"))}function Lu(Wt){if(Wt.c&&st!==void 0){if(Wt.C[1]&&ps(Wt)==4&&Wt.getStatus()==2)Uo(Wt.b,Os(Wt,"Local request error detected and ignored"));else if(Wt.m&&ps(Wt)==4)hr(Wt.K,0,Wt);else if(ur(Wt,"readystatechange"),ps(Wt)==4){Uo(Wt.b,Os(Wt,"Request complete")),Wt.c=!1;try{var ln,bn=Wt.getStatus();e:switch(bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Cn=!0;break e;default:Cn=!1}if(!(ln=Cn)){var Wn;if(Wn=bn===0){var sr=String(Wt.o).match(wu)[1]||null;if(!sr&&ht.self&&ht.self.location){var Dn=ht.self.location.protocol;sr=Dn.substr(0,Dn.length-1)}Wn=!rs.test(sr?sr.toLowerCase():"")}ln=Wn}if(ln)ur(Wt,"complete"),ur(Wt,"success");else{Wt.g=6;try{var qn=2<ps(Wt)?Wt.a.statusText:""}catch(Br){Uo(Wt.b,"Can not get status: "+Br.message),qn=""}Wt.i=qn+" ["+Wt.getStatus()+"]",Wu(Wt)}}finally{fu(Wt)}}}}function fu(Wt){if(Wt.a){Cl(Wt);var ln=Wt.a,bn=Wt.C[0]?ft:null;Wt.a=null,Wt.C=null,ur(Wt,"ready");try{ln.onreadystatechange=bn}catch(Cn){(Wt=Wt.b)&&Wt.log(zr,"Problem encountered resetting onreadystatechange: "+Cn.message,void 0)}}}function Cl(Wt){Wt.a&&Wt.B&&(Wt.a.ontimeout=null),Wt.u&&(ht.clearTimeout(Wt.u),Wt.u=null)}function ps(Wt){return Wt.a?Wt.a.readyState:0}function Tm(Wt,ln){if(Wt.a&&ps(Wt)==4)return(Wt=Wt.a.getResponseHeader(ln))===null?void 0:Wt}function Os(Wt,ln){return ln+" ["+Wt.J+" "+Wt.o+" "+Wt.getStatus()+"]"}Ul.prototype.L=function(){st!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Uo(this.b,Os(this,this.i)),ur(this,"timeout"),this.abort(8))},Ul.prototype.abort=function(Wt){this.a&&this.c&&(Uo(this.b,Os(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=Wt||7,ur(this,"complete"),ur(this,"abort"),fu(this))},Ul.prototype.K=function(){this.F||(this.I||this.m||this.h?Lu(this):this.O())},Ul.prototype.O=function(){Lu(this)},Ul.prototype.getStatus=function(){try{return 2<ps(this)?this.a.status:-1}catch{return-1}};var Ju={},Xs=null;function ju(Wt){var ln=Wt.length,bn=3*ln/4;bn%3?bn=Math.floor(bn):yn("=.",Wt[ln-1])&&(bn=yn("=.",Wt[ln-2])?bn-2:bn-1);var Cn=new Uint8Array(bn),Wn=0;return function(sr,Dn){function qn(Eo){for(;Br<sr.length;){var Go=sr.charAt(Br++),qo=Xs[Go];if(qo!=null)return qo;if(!/^[\s\xa0]*$/.test(Go))throw Error("Unknown base64 encoding at char: "+Go)}return Eo}op();for(var Br=0;;){var Er=qn(-1),Lr=qn(0),Vo=qn(64),go=qn(64);if(go===64&&Er===-1)break;Dn(Er<<2|Lr>>4),Vo!=64&&(Dn(Lr<<4&240|Vo>>2),go!=64&&Dn(Vo<<6&192|go))}}(Wt,function(sr){Cn[Wn++]=sr}),Cn.subarray(0,Wn)}function op(){if(!Xs){Xs={};for(var Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ln=["+/=","+/","-_=","-_.","-_"],bn=0;5>bn;bn++){var Cn=Wt.concat(ln[bn].split(""));Ju[bn]=Cn;for(var Wn=0;Wn<Cn.length;Wn++){var sr=Cn[Wn];Xs[sr]===void 0&&(Xs[sr]=Wn)}}}}var Ip=["content-type","grpc-status","grpc-message"];function Ks(Wt){this.a=Wt.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new Lt;var ln=this;ar(this.a,"readystatechange",function(){var bn=ln.a;if(bn=bn.a?bn.a.getResponseHeader("Content-Type"):null){if((bn=bn.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){bn=ln.a;try{var Cn=bn.a?bn.a.responseText:""}catch(Er){Uo(bn.b,"Can not get responseText: "+Er.message),Cn=""}if(Cn=(bn=Cn||"").length-bn.length%4,(bn=bn.substr(ln.i,Cn-ln.i)).length==0)return;ln.i=Cn,bn=ju(bn)}else{if(bn.lastIndexOf("application/grpc",0)!=0)return void Bl(ln,{code:2,message:"Unknown Content-type received.",metadata:{}});bn=new Uint8Array(function(Er){try{if(!Er.a)return null;if("response"in Er.a)return Er.a.response;switch(Er.j){case rm:case"text":return Er.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in Er.a)return Er.a.mozResponseArrayBuffer}var Lr=Er.b;return Lr&&Lr.log(zr,"Response type "+Er.j+" is not supported on this browser",void 0),null}catch(Vo){return Uo(Er.b,"Can not get response: "+Vo.message),null}}(ln.a))}Cn=null;try{Cn=function(Er,Lr){function Vo(iu){Ro.f++,Ro.a=(Ro.a<<8)+iu,Ro.f==4&&(Ro.b=Pt,Ro.g=0,typeof Uint8Array<"u"?Ro.c=new Uint8Array(Ro.a):Ro.c=Array(Ro.a),Ro.a==0&&Eo())}function go(iu){Ro.c[Ro.g++]=iu,Ro.g==Ro.a&&Eo()}function Eo(){var iu={};iu[Ro.h]=Ro.c,Ro.i.push(iu),Ro.b=Xt}var Go,qo,Ro=Er,Sl=0;for(Go=Lr instanceof Uint8Array||Lr instanceof Array?Lr:new Uint8Array(Lr);Sl<Go.length;){switch(Ro.b){case jt:Ft(Ro,Go,Sl,"stream already broken");break;case Xt:(qo=Go[Sl])==Zt||qo==Ct?Ro.h=qo:Ft(Ro,Go,Sl,"invalid frame byte"),Ro.b=zt,Ro.a=0,Ro.f=0;break;case zt:Vo(Go[Sl]);break;case Pt:go(Go[Sl]);break;default:throw Error("unexpected parser state: "+Ro.b)}Ro.l++,Sl++}return Er=Ro.i,Ro.i=[],0<Er.length?Er:null}(ln.m,bn)}catch{Bl(ln,{code:2,message:"Error in parsing response body",metadata:{}})}if(Cn)for(bn=0;bn<Cn.length;bn++){if(Zt in Cn[bn]){var Wn=Cn[bn][Zt];if(Wn)try{var sr=ln.l(Wn);if(sr){Wn=ln;for(var Dn=sr,qn=0;qn<Wn.b.length;qn++)Wn.b[qn](Dn)}}catch{Bl(ln,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(Ct in Cn[bn]&&0<Cn[bn][Ct].length){for(Wn="",Dn=0;Dn<Cn[bn][Ct].length;Dn++)Wn+=String.fromCharCode(Cn[bn][Ct][Dn]);for(Wn=Wn.trim().split(`\r
`),Dn={},qn=0;qn<Wn.length;qn++){var Br=Wn[qn].indexOf(":");Dn[Wn[qn].substring(0,Br).trim()]=Wn[qn].substring(Br+1).trim()}Wn=Dn,Dn=0,qn="","grpc-status"in Wn&&(Dn=Wn["grpc-status"],delete Wn["grpc-status"]),"grpc-message"in Wn&&(qn=Wn["grpc-message"],delete Wn["grpc-message"]),Bl(ln,{code:Number(Dn),message:qn,metadata:Wn})}}}}),ar(this.a,"complete",function(){var bn=ln.a.g,Cn="",Wn={},sr=function(qn){var Br={};qn=(qn.a&&ps(qn)==4&&qn.a.getAllResponseHeaders()||"").split(`\r
`);for(var Er=0;Er<qn.length;Er++)if(!/^[\s\xa0]*$/.test(qn[Er])){var Lr=Mt(qn[Er]),Vo=Lr[0];if(typeof(Lr=Lr[1])=="string"){Lr=Lr.trim();var go=Br[Vo]||[];Br[Vo]=go,go.push(Lr)}}return function(Eo,Go){var qo,Ro={};for(qo in Eo)Ro[qo]=Go.call(void 0,Eo[qo],qo,Eo);return Ro}(Br,function(Eo){return Eo.join(", ")})}(ln.a);if(Object.keys(sr).forEach(function(qn){Ip.includes(qn)||(Wn[qn]=sr[qn])}),function(qn,Br){for(var Er=0;Er<qn.g.length;Er++)qn.g[Er](Br)}(ln,Wn),bn!=0){switch(bn){case 7:var Dn=10;break;case 8:Dn=4;break;case 6:Dn=function(qn){switch(qn){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(ln.a.getStatus());break;default:Dn=14}Dn==10&&ln.j||Bl(ln,{code:Dn,message:St(bn),metadata:{}})}else bn=!1,"grpc-status"in sr&&(Dn=Tm(ln.a,"grpc-status"),"grpc-message"in sr&&(Cn=Tm(ln.a,"grpc-message")),Number(Dn)!=0&&(Bl(ln,{code:Number(Dn),message:Cn,metadata:sr}),bn=!0)),bn||function(qn){for(var Br=0;Br<qn.c.length;Br++)qn.c[Br]()}(ln)})}function Yl(Wt,ln){-1<(ln=Wt.indexOf(ln))&&Wt.splice(ln,1)}function Bl(Wt,ln){if(ln.code!=0)for(var bn={code:ln.code,message:decodeURIComponent(ln.message||""),metadata:ln.metadata},Cn=0;Cn<Wt.f.length;Cn++)Wt.f[Cn](bn);for(ln={code:ln.code,details:decodeURIComponent(ln.message||""),metadata:ln.metadata},bn=0;bn<Wt.h.length;bn++)Wt.h[bn](ln)}function gs(Wt){this.a=_t("format",Wt)||"text",this.f=_t("suppressCorsPreflight",Wt)||!1,this.c=_t("withCredentials",Wt)||!1,this.b=_t("streamInterceptors",Wt)||[],this.g=_t("unaryInterceptors",Wt)||[]}function Is(Wt,ln,bn){var Cn=ln.getMethodDescriptor(),Wn=bn+Cn.name;(bn=new Ul).H=Wt.c;var sr=new Ks({T:bn});if(sr.l=Cn.b,du(bn.headers,ln.getMetadata()),Wt.a=="text"?(bn.headers.set("Content-Type","application/grpc-web-text"),bn.headers.set("Accept","application/grpc-web-text")):bn.headers.set("Content-Type","application/grpc-web+proto"),bn.headers.set("X-User-Agent","grpc-web-javascript/0.1"),bn.headers.set("X-Grpc-Web","1"),ru(bn.headers.b,"deadline")){var Dn=bn.headers.get("deadline");Dn=Math.round(Dn-new Date().getTime());var qn=bn.headers;ru(qn.b,"deadline")&&(delete qn.b.deadline,qn.c--,qn.a.length>2*qn.c&&Js(qn)),1/0===Dn&&(Dn=0),0<Dn&&bn.headers.set("grpc-timeout",Dn+"m")}if(Wt.f){Js(qn=bn.headers),Dn={};for(var Br=0;Br<qn.a.length;Br++){var Er=qn.a[Br];Dn[Er]=qn.b[Er]}(qn=bn.headers).b={},qn.a.length=0,qn.c=0;e:{for(Lr in Dn){var Lr=!1;break e}Lr=!0}Lr||(Dn=function(Eo){var Go="";return function(qo,Ro){for(var Sl in qo)Ro.call(void 0,qo[Sl],Sl,qo)}(Eo,function(qo,Ro){Go+=Ro,Go+=":",Go+=qo,Go+=`\r
`}),Go}(Dn),typeof Wn=="string"?(Lr=encodeURIComponent("$httpHeaders"),(Lr+=Dn=Dn!=null?"="+encodeURIComponent(String(Dn)):"")&&(0>(Dn=Wn.indexOf("#"))&&(Dn=Wn.length),0>(qn=Wn.indexOf("?"))||qn>Dn?(qn=Dn,Br=""):Br=Wn.substring(qn+1,Dn),Dn=(Wn=[Wn.substr(0,qn),Br,Wn.substr(Dn)])[1],Wn[1]=Lr?Dn?Dn+"&"+Lr:Lr:Dn,Wn=Wn[0]+(Wn[1]?"?"+Wn[1]:"")+Wn[2])):Wn.a("$httpHeaders",Dn))}for(Cn=(ln=(0,Cn.a)(ln.getRequestMessage())).length,Lr=[0,0,0,0],Dn=new Uint8Array(5+Cn),qn=3;0<=qn;qn--)Lr[qn]=Cn%256,Cn>>>=8;if(Dn.set(new Uint8Array(Lr),1),Dn.set(ln,5),ln=Dn,Wt.a=="text"){var Vo;for(Wt=ln,Vo===void 0&&(Vo=0),op(),Vo=Ju[Vo],ln=[],Cn=0;Cn<Wt.length;Cn+=3){Er=Wt[Cn];var go=(Lr=Cn+1<Wt.length)?Wt[Cn+1]:0;qn=Er>>2,Er=(3&Er)<<4|go>>4,go=(15&go)<<2|(Br=(Dn=Cn+2<Wt.length)?Wt[Cn+2]:0)>>6,Br&=63,Dn||(Br=64,Lr||(go=64)),ln.push(Vo[qn],Vo[Er],Vo[go]||"",Vo[Br]||"")}ln=ln.join("")}else Wt.a=="binary"&&(bn.j="arraybuffer");return Bu(bn,Wn,ln),sr}function Pp(Wt,ln,bn){var Cn=null,Wn=!1;Wt.on("data",function(sr){Cn=sr}),Wt.on("error",function(sr){sr.code==0||Wn||(Wn=!0,ln(sr,null))}),Wt.on("status",function(sr){sr.code==0||Wn?bn&&ln(null,null,sr):(Wn=!0,ln({code:sr.code,message:sr.details,metadata:sr.metadata},null))}),bn&&Wt.on("metadata",function(sr){ln(null,null,null,sr)}),Wt.on("end",function(){Wn||(Cn==null?ln({code:2,message:"Incomplete response"}):ln(null,Cn)),bn&&ln(null,null)})}function sp(Wt,ln){var bn=Wt;return ln.forEach(function(Cn){var Wn=bn;bn=function(sr){return Cn.intercept(sr,Wn)}}),bn}Ks.prototype.on=function(Wt,ln){return Wt=="data"?this.b.push(ln):Wt=="status"?this.h.push(ln):Wt=="metadata"?this.g.push(ln):Wt=="end"?this.c.push(ln):Wt=="error"&&this.f.push(ln),this},Ks.prototype.removeListener=function(Wt,ln){return Wt=="data"?Yl(this.b,ln):Wt=="status"?Yl(this.h,ln):Wt=="metadata"?Yl(this.g,ln):Wt=="end"?Yl(this.c,ln):Wt=="error"&&Yl(this.f,ln),this},Ks.prototype.cancel=function(){this.j=!0,this.a.abort()},Ks.prototype.cancel=Ks.prototype.cancel,Ks.prototype.removeListener=Ks.prototype.removeListener,Ks.prototype.on=Ks.prototype.on,gs.prototype.P=function(Wt,ln,bn,Cn,Wn){var sr=this;Cn=on(Wt,ln,"unary",Cn);var Dn=Wt.substr(0,Wt.length-Cn.name.length);return Pp(Wt=sp(function(qn){return Is(sr,qn,Dn)},this.b).call(this,nn(Cn,ln,bn)),Wn,!1),new bt(Wt)},gs.prototype.M=function(Wt,ln,bn,Cn){var Wn=this;Cn=on(Wt,ln,"unary",Cn);var sr=Wt.substr(0,Wt.length-Cn.name.length);return sp(function(Dn){return new Promise(function(qn,Br){var Er,Lr,Vo;Pp(Is(Wn,Dn,sr),function(go,Eo,Go,qo){go?Br(go):Eo?Vo=Eo:Go?Lr=Go:qo?Er=qo:(go=Dn.getMethodDescriptor(),qn(new pt(Vo,go,Eo=(Eo=Er)===void 0?{}:Eo,Lr===void 0?null:Lr)))},!0)})},this.g).call(this,nn(Cn,ln,bn)).then(function(Dn){return Dn.getResponseMessage()})},gs.prototype.unaryCall=function(Wt,ln,bn,Cn){return this.M(Wt,ln,bn,Cn)},gs.prototype.R=function(Wt,ln,bn,Cn){var Wn=this;Cn=on(Wt,ln,"server_streaming",Cn);var sr=Wt.substr(0,Wt.length-Cn.name.length);return sp(function(Dn){return Is(Wn,Dn,sr)},this.b).call(this,nn(Cn,ln,bn))},gs.prototype.serverStreaming=gs.prototype.R,gs.prototype.unaryCall=gs.prototype.unaryCall,gs.prototype.thenableCall=gs.prototype.M,gs.prototype.rpcCall=gs.prototype.P,i.exports.AbstractClientBase={MethodInfo:function(Wt,ln,bn,Cn,Wn){this.name=Cn,this.b=Wn,this.f=Wt,this.a=ln,this.c=bn}},i.exports.GrpcWebClientBase=gs,i.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},i.exports.MethodDescriptor=Vt,i.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,s(6))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.isAsyncIterable=o.isAsyncGenerator=o.isAsync=void 0;var _,$=s(152),_e=(_=$)&&_.__esModule?_:{default:_};function tt(j){return j[Symbol.toStringTag]==="AsyncFunction"}o.default=function(j){if(typeof j!="function")throw new Error("expected a function");return tt(j)?(0,_e.default)(j):j},o.isAsync=tt,o.isAsyncGenerator=function(j){return j[Symbol.toStringTag]==="AsyncGenerator"},o.isAsyncIterable=function(j){return typeof j[Symbol.asyncIterator]=="function"}},function(i,o,s){var _={};function $(tt,j,nt){nt||(nt=Error);var st=function(ht){var _t,ft;function dt(ut,mt,wt){return ht.call(this,function(Qt,Dt,Et){return typeof j=="string"?j:j(Qt,Dt,Et)}(ut,mt,wt))||this}return ft=ht,(_t=dt).prototype=Object.create(ft.prototype),_t.prototype.constructor=_t,_t.__proto__=ft,dt}(nt);st.prototype.name=nt.name,st.prototype.code=tt,_[tt]=st}function _e(tt,j){if(Array.isArray(tt)){var nt=tt.length;return tt=tt.map(function(st){return String(st)}),nt>2?"one of ".concat(j," ").concat(tt.slice(0,nt-1).join(", "),", or ")+tt[nt-1]:nt===2?"one of ".concat(j," ").concat(tt[0]," or ").concat(tt[1]):"of ".concat(j," ").concat(tt[0])}return"of ".concat(j," ").concat(String(tt))}$("ERR_INVALID_OPT_VALUE",function(tt,j){return'The value "'+j+'" is invalid for option "'+tt+'"'},TypeError),$("ERR_INVALID_ARG_TYPE",function(tt,j,nt){var st,ht,_t;if(typeof j=="string"&&(ht="not ",j.substr(0,ht.length)===ht)?(st="must not be",j=j.replace(/^not /,"")):st="must be",function(dt,ut,mt){return(mt===void 0||mt>dt.length)&&(mt=dt.length),dt.substring(mt-ut.length,mt)===ut}(tt," argument"))_t="The ".concat(tt," ").concat(st," ").concat(_e(j,"type"));else{var ft=function(dt,ut,mt){return typeof mt!="number"&&(mt=0),!(mt+ut.length>dt.length)&&dt.indexOf(ut,mt)!==-1}(tt,".")?"property":"argument";_t='The "'.concat(tt,'" ').concat(ft," ").concat(st," ").concat(_e(j,"type"))}return _t+=". Received type ".concat(typeof nt)},TypeError),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),$("ERR_METHOD_NOT_IMPLEMENTED",function(tt){return"The "+tt+" method is not implemented"}),$("ERR_STREAM_PREMATURE_CLOSE","Premature close"),$("ERR_STREAM_DESTROYED",function(tt){return"Cannot call "+tt+" after a stream was destroyed"}),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),$("ERR_STREAM_WRITE_AFTER_END","write after end"),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_UNKNOWN_ENCODING",function(tt){return"Unknown encoding: "+tt},TypeError),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=_},function(i,o,s){(function(_){var $=Object.keys||function(dt){var ut=[];for(var mt in dt)ut.push(mt);return ut};i.exports=ht;var _e=s(77),tt=s(81);s(7)(ht,_e);for(var j=$(tt.prototype),nt=0;nt<j.length;nt++){var st=j[nt];ht.prototype[st]||(ht.prototype[st]=tt.prototype[st])}function ht(dt){if(!(this instanceof ht))return new ht(dt);_e.call(this,dt),tt.call(this,dt),this.allowHalfOpen=!0,dt&&(dt.readable===!1&&(this.readable=!1),dt.writable===!1&&(this.writable=!1),dt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_t)))}function _t(){this._writableState.ended||_.nextTick(ft,this)}function ft(dt){dt.end()}Object.defineProperty(ht.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ht.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ht.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ht.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(dt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=dt,this._writableState.destroyed=dt)}})}).call(this,s(2))},function(i,o,s){s.d(o,"a",function(){return tt});var _=s(40),$=s(4);const _e={"app-id":["app-id must match formant/*"]};class tt extends _.a{constructor(nt,st={}){super(nt,Object.assign({validateHeaders:ht=>`${ht.get("app-id")}`.startsWith("formant/")?{}:_e},st)),this.endpoint=nt}getHeaders(){return Object.assign(Object.assign({},tt.headers),{"App-ID":`formant/${$.a}`,"App-Version":$.j})}}tt.headers={}},function(i,o,s){s(227),i.exports={encode:_=>new TextEncoder().encode(_),decode:_=>new TextDecoder().decode(_)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_,$=_.length){if(!$)throw new Error("arity is undefined");return function(..._e){return typeof _e[$-1]=="function"?_.apply(this,_e):new Promise((tt,j)=>{_e[$-1]=(nt,...st)=>{if(nt)return j(nt);tt(st.length>1?st:st[0])},_.apply(this,_e)})}},i.exports=o.default},function(i,o,s){(o=i.exports=s(69)).Stream=o,o.Readable=o,o.Writable=s(48),o.Duplex=s(23),o.Transform=s(72),o.PassThrough=s(165)},function(i,o,s){(o=i.exports=s(77)).Stream=o,o.Readable=o,o.Writable=s(81),o.Duplex=s(27),o.Transform=s(82),o.PassThrough=s(184),o.finished=s(49),o.pipeline=s(185)},function(i,o,s){i.exports=function(_){return _}},function(i,o,s){s.d(o,"a",function(){return $});const _=["password","secret","token","key","buffer"];function $(_e,tt=new Set){return tt.has(_e)?"[ RECURSIVE ]":!(j=_e)||typeof j!="object"&&typeof j!="function"?_e:(tt.add(_e),Object.keys(_e).reduce((nt,st)=>(nt[st]=_.some(ht=>st.toLowerCase().includes(ht.toLowerCase()))?"[ REDACTED ]":$(_e[st],tt),nt),{}));var j}},function(i,o){i.exports=_,_.default=_,_.stable=_e,_.stableStringify=_e;var s=[];function _(tt,j,nt){(function _t(ft,dt,ut,mt){var wt;if(typeof ft=="object"&&ft!==null){for(wt=0;wt<ut.length;wt++)if(ut[wt]===ft)return mt[dt]="[Circular]",void s.push([mt,dt,ft]);if(ut.push(ft),Array.isArray(ft))for(wt=0;wt<ft.length;wt++)_t(ft[wt],wt,ut,ft);else{var Qt=Object.keys(ft);for(wt=0;wt<Qt.length;wt++){var Dt=Qt[wt];_t(ft[Dt],Dt,ut,ft)}}ut.pop()}})(tt,"",[],void 0);for(var st=JSON.stringify(tt,j,nt);s.length!==0;){var ht=s.pop();ht[0][ht[1]]=ht[2]}return st}function $(tt,j){return tt<j?-1:tt>j?1:0}function _e(tt,j,nt){for(var st=function ft(dt,ut,mt,wt){var Qt;if(typeof dt=="object"&&dt!==null){for(Qt=0;Qt<mt.length;Qt++)if(mt[Qt]===dt)return wt[ut]="[Circular]",void s.push([wt,ut,dt]);if(typeof dt.toJSON=="function")return;if(mt.push(dt),Array.isArray(dt))for(Qt=0;Qt<dt.length;Qt++)ft(dt[Qt],Qt,mt,dt);else{var Dt={},Et=Object.keys(dt).sort($);for(Qt=0;Qt<Et.length;Qt++){var xt=Et[Qt];ft(dt[xt],xt,mt,dt),Dt[xt]=dt[xt]}if(wt===void 0)return Dt;s.push([wt,ut,dt]),wt[ut]=Dt}mt.pop()}}(tt,"",[],void 0)||tt,ht=JSON.stringify(st,j,nt);s.length!==0;){var _t=s.pop();_t[0][_t[1]]=_t[2]}return ht}},function(i,o,s){var _=s(16),$=Object.keys||function(ut){var mt=[];for(var wt in ut)mt.push(wt);return mt};i.exports=_t;var _e=Object.create(s(17));_e.inherits=s(7);var tt=s(143),j=s(62);_e.inherits(_t,tt);for(var nt=$(j.prototype),st=0;st<nt.length;st++){var ht=nt[st];_t.prototype[ht]||(_t.prototype[ht]=j.prototype[ht])}function _t(ut){if(!(this instanceof _t))return new _t(ut);tt.call(this,ut),j.call(this,ut),ut&&ut.readable===!1&&(this.readable=!1),ut&&ut.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ut&&ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ft)}function ft(){this.allowHalfOpen||this._writableState.ended||_.nextTick(dt,this)}function dt(ut){ut.end()}Object.defineProperty(_t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(_t.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}}),_t.prototype._destroy=function(ut,mt){this.push(null),this.end(),_.nextTick(mt,ut)}},function(i,o,s){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(j,nt){return Object.prototype.hasOwnProperty.call(j,nt)}o.assign=function(j){for(var nt=Array.prototype.slice.call(arguments,1);nt.length;){var st=nt.shift();if(st){if(typeof st!="object")throw new TypeError(st+"must be non-object");for(var ht in st)$(st,ht)&&(j[ht]=st[ht])}}return j},o.shrinkBuf=function(j,nt){return j.length===nt?j:j.subarray?j.subarray(0,nt):(j.length=nt,j)};var _e={arraySet:function(j,nt,st,ht,_t){if(nt.subarray&&j.subarray)j.set(nt.subarray(st,st+ht),_t);else for(var ft=0;ft<ht;ft++)j[_t+ft]=nt[st+ft]},flattenChunks:function(j){var nt,st,ht,_t,ft,dt;for(ht=0,nt=0,st=j.length;nt<st;nt++)ht+=j[nt].length;for(dt=new Uint8Array(ht),_t=0,nt=0,st=j.length;nt<st;nt++)ft=j[nt],dt.set(ft,_t),_t+=ft.length;return dt}},tt={arraySet:function(j,nt,st,ht,_t){for(var ft=0;ft<ht;ft++)j[_t+ft]=nt[st+ft]},flattenChunks:function(j){return[].concat.apply([],j)}};o.setTyped=function(j){j?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,_e)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,tt))},o.setTyped(_)},function(i,o,s){i.exports=s(186)},function(i,o,s){s.d(o,"a",function(){return $});var _=s(229);const $=Object(_.a)()},function(i,o,s){s.d(o,"a",function(){return Qt});var _=s(1),$=s(100),_e=s.n($),tt=s(101),j=s.n(tt);class nt extends Error{constructor(Et,xt,pt){super(`Connection failure: ${Et.message}`),this.cause=Et,this.url=xt,this.retryable=pt}}var st=s(8),ht=s(0),_t=s(10),ft=s(11);class dt extends Error{constructor(Et,xt){super(`Invalid headers (${JSON.stringify(Et)}) for response: ${xt.message}`),this.validationErrors=Et,this.responseError=xt}}var ut=function(Dt,Et,xt,pt){return new(xt||(xt=Promise))(function(Vt,nn){function on(It){try{St(pt.next(It))}catch(Bt){nn(Bt)}}function bt(It){try{St(pt.throw(It))}catch(Bt){nn(Bt)}}function St(It){var Bt;It.done?Vt(It.value):(Bt=It.value,Bt instanceof xt?Bt:new xt(function(Lt){Lt(Bt)})).then(on,bt)}St((pt=pt.apply(Dt,Et||[])).next())})},mt=function(Dt,Et){var xt={};for(var pt in Dt)Object.prototype.hasOwnProperty.call(Dt,pt)&&Et.indexOf(pt)<0&&(xt[pt]=Dt[pt]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Vt=0;for(pt=Object.getOwnPropertySymbols(Dt);Vt<pt.length;Vt++)Et.indexOf(pt[Vt])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pt[Vt])&&(xt[pt[Vt]]=Dt[pt[Vt]])}return xt};const wt=new Set(["GET","HEAD","PUT","QUERY","DELETE","OPTIONS","TRACE"]);class Qt{constructor(Et,xt={}){if(this.endpoint=Et,this.validateHeaders=pt=>xt.validateHeaders?xt.validateHeaders(pt):{},this.verbose=xt.verbose!==!1,xt.retries!==void 0&&!(xt.retries>=0))throw new Error("retries must be positive or zero");if(this.configuredRetries=xt.retries,xt.timeoutMs!==void 0&&!(xt.timeoutMs>0))throw new Error("timeoutMs must be positive");if(this.timeoutMs=xt.timeoutMs,xt.maxBackoffDelayMs!==void 0&&!(xt.maxBackoffDelayMs>0))throw new Error("maxBackoffDelayMs must be positive");this.maxBackoffDelayMs=xt.maxBackoffDelayMs||30*_.a.second}getRetries(){return this.configuredRetries!==void 0?this.configuredRetries:this.getConstructor().retries}getHeaders(){return{}}fetch(Et,xt={}){return ut(this,void 0,void 0,function*(){return(yield this.fetchVerbose(Et,xt)).body})}fetchVerbose(Et,xt={}){return ut(this,void 0,void 0,function*(){let pt=100*_.a.millisecond,Vt=0;const nn=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,on=nn?()=>Math.max(nn-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(Et,xt,on)}catch(bt){const St=Object(_t.a)(bt,nt);if((on==null?void 0:on())===0||Vt===this.getRetries()||!St.retryable)throw St;Vt++,pt=Math.min(...on?[on()]:[],pt*(2+.1*(Math.random()-.5)),this.maxBackoffDelayMs),yield Object(st.a)(pt),this.verbose&&ht.a.warn(`Connection failure, retrying. Error: ${bt.cause.message}`,{url:bt.url,error:bt.cause,attempt:Vt})}})}doFetch(Et,xt,pt){return ut(this,void 0,void 0,function*(){const{token:Vt,json:nn,allowUnsafeRetries:on}=xt,bt=mt(xt,["token","json","allowUnsafeRetries"]),St=(bt.method||"GET").toUpperCase(),It=this.endpoint!==void 0?`${this.endpoint}${Et?`/${Et}`:""}`:Et,Bt=new _e.a;let Lt;if(pt){const Xt=pt();Xt>0?Lt=setTimeout(()=>{Bt.abort()},Xt):Bt.abort()}try{let Xt;yield Promise.race([this.getConstructor().waitForConnectivity(),new Promise(Ht=>{Xt=setTimeout(Ht,pt?Math.min(_.a.minute,pt()):_.a.minute)})]),Xt&&clearTimeout(Xt);const zt=yield j()(It,Object.assign(Object.assign({},bt),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},nn!==!1?{"Content-Type":"application/json"}:{}),this.getHeaders()),bt.headers||{}),Vt!==void 0?{Authorization:`Bearer ${Vt}`}:{}),signal:Bt.signal})),Pt=zt.headers.get("content-type")||"",jt=Pt&&Pt.startsWith("application/json"),Zt=jt?yield zt.json():yield zt.text(),Ct=()=>new ft.a(St,It,zt.status,Zt,Zt&&Zt.validationErrors||{},zt.headers);if(!zt.ok)throw this.verbose&&ht.a[zt.status>=500?"warn":"info"]("Response error",{method:St,url:It,statusCode:zt.status}),Ct();const Ft=this.validateHeaders(zt.headers);if(Object.keys(Ft).length!==0)throw new dt(Ft,Ct());if(zt.status===204)return{body:void 0,headers:zt.headers};if(nn&&!jt)throw new Error(`Response is not JSON: ${JSON.stringify(Zt)}`);return{body:Zt,headers:zt.headers}}catch(Xt){const zt=on||wt.has(St);if(Xt.message==="Network request failed")throw new nt(Xt,It,zt);if(Xt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Ct=>Ct===Xt.code))throw new nt(Xt,It,!0);if(Xt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Ct=>Ct===Xt.code))throw new nt(Xt,It,zt);if(Xt.name==="AbortError")throw new nt(Xt,It,zt);const Pt=Object(_t.a)(Xt,ft.a),{statusCode:jt}=Pt;if(jt===408||jt===429||jt===502||jt===503||jt===504)throw this.verbose&&!zt&&ht.a.warn("Potentially unsafe retry"),new nt(Xt,It,!0);const Zt=this.validateHeaders(Pt.headers);throw Object.keys(Zt).length!==0?new dt(Zt,Pt):(yield this.getConstructor().onResponseError(Pt),Xt)}finally{Lt&&clearTimeout(Lt)}})}getConstructor(){return Object.getPrototypeOf(this).constructor}}Qt.retries=8,Qt.waitForConnectivity=()=>ut(void 0,void 0,void 0,function*(){}),Qt.onResponseError=()=>ut(void 0,void 0,void 0,function*(){})},function(i,o,s){function _(_t,ft){if(!(_t instanceof ft))throw new TypeError("Cannot call a class as a function")}function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(59),tt=s(3),j=tt.LEVEL,nt=tt.MESSAGE;_e.enabled=!0;var st=/\s+/,ht=function(){function _t(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,_t),mt.colors&&this.addColors(mt.colors),this.options=mt}var ft,dt,ut;return ft=_t,ut=[{key:"addColors",value:function(mt){var wt=Object.keys(mt).reduce(function(Qt,Dt){return Qt[Dt]=st.test(mt[Dt])?mt[Dt].split(st):mt[Dt],Qt},{});return _t.allColors=Object.assign({},_t.allColors||{},wt),_t.allColors}}],(dt=[{key:"addColors",value:function(mt){return _t.addColors(mt)}},{key:"colorize",value:function(mt,wt,Qt){if(Qt===void 0&&(Qt=wt),!Array.isArray(_t.allColors[mt]))return _e[_t.allColors[mt]](Qt);for(var Dt=0,Et=_t.allColors[mt].length;Dt<Et;Dt++)Qt=_e[_t.allColors[mt][Dt]](Qt);return Qt}},{key:"transform",value:function(mt,wt){return wt.all&&typeof mt[nt]=="string"&&(mt[nt]=this.colorize(mt[j],mt.level,mt[nt])),(wt.level||wt.all||!wt.message)&&(mt.level=this.colorize(mt[j],mt.level)),(wt.all||wt.message)&&(mt.message=this.colorize(mt[j],mt.level,mt.message)),mt}}])&&$(ft.prototype,dt),ut&&$(ft,ut),_t}();i.exports=function(_t){return new ht(_t)},i.exports.Colorizer=i.exports.Format=ht},function(i,o){var s={}.toString;i.exports=Array.isArray||function(_){return s.call(_)=="[object Array]"}},function(i,o,s){(function(_){function $(_e){try{if(!_.localStorage)return!1}catch{return!1}var tt=_.localStorage[_e];return tt!=null&&String(tt).toLowerCase()==="true"}i.exports=function(_e,tt){if($("noDeprecation"))return _e;var j=!1;return function(){if(!j){if($("throwDeprecation"))throw new Error(tt);$("traceDeprecation")?console.trace(tt):console.warn(tt),j=!0}return _e.apply(this,arguments)}}}).call(this,s(6))},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var st in j)nt[st]=j[st]}function tt(j,nt,st){return $(j,nt,st)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=tt),_e($,tt),tt.from=function(j,nt,st){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,st)},tt.alloc=function(j,nt,st){if(typeof j!="number")throw new TypeError("Argument must be a number");var ht=$(j);return nt!==void 0?typeof st=="string"?ht.fill(nt,st):ht.fill(nt):ht.fill(0),ht},tt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},tt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _&&typeof _.length=="number"&&_.length>=0&&_.length%1==0},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default={},i.exports=o.default},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var st in j)nt[st]=j[st]}function tt(j,nt,st){return $(j,nt,st)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=tt),_e($,tt),tt.from=function(j,nt,st){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,st)},tt.alloc=function(j,nt,st){if(typeof j!="number")throw new TypeError("Argument must be a number");var ht=$(j);return nt!==void 0?typeof st=="string"?ht.fill(nt,st):ht.fill(nt):ht.fill(0),ht},tt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},tt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){(function(_,$,_e){var tt=s(16);function j(St){var It=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,Lt,Xt){var zt=Bt.entry;for(Bt.entry=null;zt;){var Pt=zt.callback;Lt.pendingcb--,Pt(Xt),zt=zt.next}Lt.corkedRequestsFree?Lt.corkedRequestsFree.next=Bt:Lt.corkedRequestsFree=Bt})(It,St)}}i.exports=Et;var nt,st=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:tt.nextTick;Et.WritableState=Dt;var ht=s(17);ht.inherits=s(7);var _t={deprecate:s(43)},ft=s(70),dt=s(47).Buffer,ut=_e.Uint8Array||function(){},mt,wt=s(71);function Qt(){}function Dt(St,It){nt=nt||s(23),St=St||{};var Bt=It instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var Lt=St.highWaterMark,Xt=St.writableHighWaterMark,zt=this.objectMode?16:16384;this.highWaterMark=Lt||Lt===0?Lt:Bt&&(Xt||Xt===0)?Xt:zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Pt=St.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){(function(Zt,Ct){var Ft=Zt._writableState,Ht=Ft.sync,tn=Ft.writecb;if(function(yn){yn.writing=!1,yn.writecb=null,yn.length-=yn.writelen,yn.writelen=0}(Ft),Ct)(function(yn,vn,un,rn,At){--vn.pendingcb,un?(tt.nextTick(At,rn),tt.nextTick(bt,yn,vn),yn._writableState.errorEmitted=!0,yn.emit("error",rn)):(At(rn),yn._writableState.errorEmitted=!0,yn.emit("error",rn),bt(yn,vn))})(Zt,Ft,Ht,Ct,tn);else{var mn=nn(Ft);mn||Ft.corked||Ft.bufferProcessing||!Ft.bufferedRequest||Vt(Zt,Ft),Ht?st(pt,Zt,Ft,mn,tn):pt(Zt,Ft,mn,tn)}})(It,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function Et(St){if(nt=nt||s(23),!(mt.call(Et,this)||this instanceof nt))return new Et(St);this._writableState=new Dt(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),ft.call(this)}function xt(St,It,Bt,Lt,Xt,zt,Pt){It.writelen=Lt,It.writecb=Pt,It.writing=!0,It.sync=!0,Bt?St._writev(Xt,It.onwrite):St._write(Xt,zt,It.onwrite),It.sync=!1}function pt(St,It,Bt,Lt){Bt||function(Xt,zt){zt.length===0&&zt.needDrain&&(zt.needDrain=!1,Xt.emit("drain"))}(St,It),It.pendingcb--,Lt(),bt(St,It)}function Vt(St,It){It.bufferProcessing=!0;var Bt=It.bufferedRequest;if(St._writev&&Bt&&Bt.next){var Lt=It.bufferedRequestCount,Xt=new Array(Lt),zt=It.corkedRequestsFree;zt.entry=Bt;for(var Pt=0,jt=!0;Bt;)Xt[Pt]=Bt,Bt.isBuf||(jt=!1),Bt=Bt.next,Pt+=1;Xt.allBuffers=jt,xt(St,It,!0,It.length,Xt,"",zt.finish),It.pendingcb++,It.lastBufferedRequest=null,zt.next?(It.corkedRequestsFree=zt.next,zt.next=null):It.corkedRequestsFree=new j(It),It.bufferedRequestCount=0}else{for(;Bt;){var Zt=Bt.chunk,Ct=Bt.encoding,Ft=Bt.callback;if(xt(St,It,!1,It.objectMode?1:Zt.length,Zt,Ct,Ft),Bt=Bt.next,It.bufferedRequestCount--,It.writing)break}Bt===null&&(It.lastBufferedRequest=null)}It.bufferedRequest=Bt,It.bufferProcessing=!1}function nn(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function on(St,It){St._final(function(Bt){It.pendingcb--,Bt&&St.emit("error",Bt),It.prefinished=!0,St.emit("prefinish"),bt(St,It)})}function bt(St,It){var Bt=nn(It);return Bt&&(function(Lt,Xt){Xt.prefinished||Xt.finalCalled||(typeof Lt._final=="function"?(Xt.pendingcb++,Xt.finalCalled=!0,tt.nextTick(on,Lt,Xt)):(Xt.prefinished=!0,Lt.emit("prefinish")))}(St,It),It.pendingcb===0&&(It.finished=!0,St.emit("finish"))),Bt}ht.inherits(Et,ft),Dt.prototype.getBuffer=function(){for(var St=this.bufferedRequest,It=[];St;)It.push(St),St=St.next;return It},function(){try{Object.defineProperty(Dt.prototype,"buffer",{get:_t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(St){return!!mt.call(this,St)||this===Et&&St&&St._writableState instanceof Dt}})):mt=function(St){return St instanceof this},Et.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Et.prototype.write=function(St,It,Bt){var Lt,Xt=this._writableState,zt=!1,Pt=!Xt.objectMode&&(Lt=St,dt.isBuffer(Lt)||Lt instanceof ut);return Pt&&!dt.isBuffer(St)&&(St=function(jt){return dt.from(jt)}(St)),typeof It=="function"&&(Bt=It,It=null),Pt?It="buffer":It||(It=Xt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),Xt.ended?function(jt,Zt){var Ct=new Error("write after end");jt.emit("error",Ct),tt.nextTick(Zt,Ct)}(this,Bt):(Pt||function(jt,Zt,Ct,Ft){var Ht=!0,tn=!1;return Ct===null?tn=new TypeError("May not write null values to stream"):typeof Ct=="string"||Ct===void 0||Zt.objectMode||(tn=new TypeError("Invalid non-string/buffer chunk")),tn&&(jt.emit("error",tn),tt.nextTick(Ft,tn),Ht=!1),Ht}(this,Xt,St,Bt))&&(Xt.pendingcb++,zt=function(jt,Zt,Ct,Ft,Ht,tn){if(!Ct){var mn=function(rn,At,Mt){return rn.objectMode||rn.decodeStrings===!1||typeof At!="string"||(At=dt.from(At,Mt)),At}(Zt,Ft,Ht);Ft!==mn&&(Ct=!0,Ht="buffer",Ft=mn)}var yn=Zt.objectMode?1:Ft.length;Zt.length+=yn;var vn=Zt.length<Zt.highWaterMark;if(vn||(Zt.needDrain=!0),Zt.writing||Zt.corked){var un=Zt.lastBufferedRequest;Zt.lastBufferedRequest={chunk:Ft,encoding:Ht,isBuf:Ct,callback:tn,next:null},un?un.next=Zt.lastBufferedRequest:Zt.bufferedRequest=Zt.lastBufferedRequest,Zt.bufferedRequestCount+=1}else xt(jt,Zt,!1,yn,Ft,Ht,tn);return vn}(this,Xt,Pt,St,It,Bt)),zt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Vt(this,St))},Et.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(St,It,Bt){Bt(new Error("_write() is not implemented"))},Et.prototype._writev=null,Et.prototype.end=function(St,It,Bt){var Lt=this._writableState;typeof St=="function"?(Bt=St,St=null,It=null):typeof It=="function"&&(Bt=It,It=null),St!=null&&this.write(St,It),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||Lt.finished||function(Xt,zt,Pt){zt.ending=!0,bt(Xt,zt),Pt&&(zt.finished?tt.nextTick(Pt):Xt.once("finish",Pt)),zt.ended=!0,Xt.writable=!1}(this,Lt,Bt)},Object.defineProperty(Et.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),Et.prototype.destroy=wt.destroy,Et.prototype._undestroy=wt.undestroy,Et.prototype._destroy=function(St,It){this.end(),It(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){var _=s(26).codes.ERR_STREAM_PREMATURE_CLOSE;function $(){}i.exports=function _e(tt,j,nt){if(typeof j=="function")return _e(tt,null,j);j||(j={}),nt=function(Et){var xt=!1;return function(){if(!xt){xt=!0;for(var pt=arguments.length,Vt=new Array(pt),nn=0;nn<pt;nn++)Vt[nn]=arguments[nn];Et.apply(this,Vt)}}}(nt||$);var st=j.readable||j.readable!==!1&&tt.readable,ht=j.writable||j.writable!==!1&&tt.writable,_t=function(){tt.writable||dt()},ft=tt._writableState&&tt._writableState.finished,dt=function(){ht=!1,ft=!0,st||nt.call(tt)},ut=tt._readableState&&tt._readableState.endEmitted,mt=function(){st=!1,ut=!0,ht||nt.call(tt)},wt=function(Et){nt.call(tt,Et)},Qt=function(){var Et;return st&&!ut?(tt._readableState&&tt._readableState.ended||(Et=new _),nt.call(tt,Et)):ht&&!ft?(tt._writableState&&tt._writableState.ended||(Et=new _),nt.call(tt,Et)):void 0},Dt=function(){tt.req.on("finish",dt)};return function(Et){return Et.setHeader&&typeof Et.abort=="function"}(tt)?(tt.on("complete",dt),tt.on("abort",Qt),tt.req?Dt():tt.on("request",Dt)):ht&&!tt._writableState&&(tt.on("end",_t),tt.on("close",_t)),tt.on("end",mt),tt.on("finish",dt),j.error!==!1&&tt.on("error",wt),tt.on("close",Qt),function(){tt.removeListener("complete",dt),tt.removeListener("abort",Qt),tt.removeListener("request",Dt),tt.req&&tt.req.removeListener("finish",dt),tt.removeListener("end",_t),tt.removeListener("close",_t),tt.removeListener("finish",dt),tt.removeListener("end",mt),tt.removeListener("error",wt),tt.removeListener("close",Qt)}}},function(i,o,s){var _=s(58),$=s(3).configs;o.cli=_.levels($.cli),o.npm=_.levels($.npm),o.syslog=_.levels($.syslog),o.addColors=_.levels},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=j(s(203)),$=j(s(204)),_e=j(s(25)),tt=j(s(30));function j(nt){return nt&&nt.__esModule?nt:{default:nt}}o.default=(0,tt.default)(function(nt,st,ht){return(0,_.default)(nt,(0,$.default)((0,_e.default)(st)),ht)},3),i.exports=o.default},function(i,o,s){class _ extends Error{constructor(_e,...tt){super(`env-var: ${_e}`,...tt),Error.captureStackTrace&&Error.captureStackTrace(this,_),this.name="EnvVarError"}}i.exports=_},function(i,o,s){i.exports=function(_){const $=parseInt(_,10);if(isNaN($)||$.toString(10)!==_)throw new Error("should be a valid integer");return $}},function(i,o,s){i.exports=function(_){const $=parseFloat(_);if(isNaN($)||$.toString()!==_)throw new Error("should be a valid float");return $}},function(i,o,s){i.exports=function(_){try{return JSON.parse(_)}catch{throw new Error("should be valid (parseable) JSON")}}},function(i,o,s){(function(_){function $(j,nt){for(var st=0,ht=j.length-1;ht>=0;ht--){var _t=j[ht];_t==="."?j.splice(ht,1):_t===".."?(j.splice(ht,1),st++):st&&(j.splice(ht,1),st--)}if(nt)for(;st--;st)j.unshift("..");return j}function _e(j,nt){if(j.filter)return j.filter(nt);for(var st=[],ht=0;ht<j.length;ht++)nt(j[ht],ht,j)&&st.push(j[ht]);return st}o.resolve=function(){for(var j="",nt=!1,st=arguments.length-1;st>=-1&&!nt;st--){var ht=st>=0?arguments[st]:_.cwd();if(typeof ht!="string")throw new TypeError("Arguments to path.resolve must be strings");ht&&(j=ht+"/"+j,nt=ht.charAt(0)==="/")}return(nt?"/":"")+(j=$(_e(j.split("/"),function(_t){return!!_t}),!nt).join("/"))||"."},o.normalize=function(j){var nt=o.isAbsolute(j),st=tt(j,-1)==="/";return(j=$(_e(j.split("/"),function(ht){return!!ht}),!nt).join("/"))||nt||(j="."),j&&st&&(j+="/"),(nt?"/":"")+j},o.isAbsolute=function(j){return j.charAt(0)==="/"},o.join=function(){var j=Array.prototype.slice.call(arguments,0);return o.normalize(_e(j,function(nt,st){if(typeof nt!="string")throw new TypeError("Arguments to path.join must be strings");return nt}).join("/"))},o.relative=function(j,nt){function st(wt){for(var Qt=0;Qt<wt.length&&wt[Qt]==="";Qt++);for(var Dt=wt.length-1;Dt>=0&&wt[Dt]==="";Dt--);return Qt>Dt?[]:wt.slice(Qt,Dt-Qt+1)}j=o.resolve(j).substr(1),nt=o.resolve(nt).substr(1);for(var ht=st(j.split("/")),_t=st(nt.split("/")),ft=Math.min(ht.length,_t.length),dt=ft,ut=0;ut<ft;ut++)if(ht[ut]!==_t[ut]){dt=ut;break}var mt=[];for(ut=dt;ut<ht.length;ut++)mt.push("..");return(mt=mt.concat(_t.slice(dt))).join("/")},o.sep="/",o.delimiter=":",o.dirname=function(j){if(typeof j!="string"&&(j+=""),j.length===0)return".";for(var nt=j.charCodeAt(0),st=nt===47,ht=-1,_t=!0,ft=j.length-1;ft>=1;--ft)if((nt=j.charCodeAt(ft))===47){if(!_t){ht=ft;break}}else _t=!1;return ht===-1?st?"/":".":st&&ht===1?"/":j.slice(0,ht)},o.basename=function(j,nt){var st=function(ht){typeof ht!="string"&&(ht+="");var _t,ft=0,dt=-1,ut=!0;for(_t=ht.length-1;_t>=0;--_t)if(ht.charCodeAt(_t)===47){if(!ut){ft=_t+1;break}}else dt===-1&&(ut=!1,dt=_t+1);return dt===-1?"":ht.slice(ft,dt)}(j);return nt&&st.substr(-1*nt.length)===nt&&(st=st.substr(0,st.length-nt.length)),st},o.extname=function(j){typeof j!="string"&&(j+="");for(var nt=-1,st=0,ht=-1,_t=!0,ft=0,dt=j.length-1;dt>=0;--dt){var ut=j.charCodeAt(dt);if(ut!==47)ht===-1&&(_t=!1,ht=dt+1),ut===46?nt===-1?nt=dt:ft!==1&&(ft=1):nt!==-1&&(ft=-1);else if(!_t){st=dt+1;break}}return nt===-1||ht===-1||ft===0||ft===1&&nt===ht-1&&nt===st+1?"":j.slice(nt,ht)};var tt="ab".substr(-1)==="b"?function(j,nt,st){return j.substr(nt,st)}:function(j,nt,st){return nt<0&&(nt=j.length+nt),j.substr(nt,st)}}).call(this,s(2))},,function(i,o,s){var _=o.format=s(12);o.levels=s(105),Object.defineProperty(_,"align",{value:s(122)}),Object.defineProperty(_,"cli",{value:s(123)}),Object.defineProperty(_,"combine",{value:s(124)}),Object.defineProperty(_,"colorize",{value:s(41)}),Object.defineProperty(_,"json",{value:s(125)}),Object.defineProperty(_,"label",{value:s(128)}),Object.defineProperty(_,"logstash",{value:s(129)}),Object.defineProperty(_,"metadata",{value:s(130)}),Object.defineProperty(_,"padLevels",{value:s(60)}),Object.defineProperty(_,"prettyPrint",{value:s(131)}),Object.defineProperty(_,"printf",{value:s(132)}),Object.defineProperty(_,"simple",{value:s(133)}),Object.defineProperty(_,"splat",{value:s(134)}),Object.defineProperty(_,"timestamp",{value:s(135)}),Object.defineProperty(_,"uncolorize",{value:s(137)})},function(i,o,s){var _=s(106);i.exports=_},function(i,o,s){function _(ft){return function(dt){if(Array.isArray(dt))return $(dt)}(ft)||function(dt){if(typeof Symbol<"u"&&Symbol.iterator in Object(dt))return Array.from(dt)}(ft)||function(dt,ut){if(dt){if(typeof dt=="string")return $(dt,ut);var mt=Object.prototype.toString.call(dt).slice(8,-1);if(mt==="Object"&&dt.constructor&&(mt=dt.constructor.name),mt==="Map"||mt==="Set")return Array.from(dt);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return $(dt,ut)}}(ft)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(ft,dt){(dt==null||dt>ft.length)&&(dt=ft.length);for(var ut=0,mt=new Array(dt);ut<dt;ut++)mt[ut]=ft[ut];return mt}function _e(ft,dt){if(!(ft instanceof dt))throw new TypeError("Cannot call a class as a function")}function tt(ft,dt){for(var ut=0;ut<dt.length;ut++){var mt=dt[ut];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ft,mt.key,mt)}}var j=s(3),nt=j.configs,st=j.LEVEL,ht=j.MESSAGE,_t=function(){function ft(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:nt.npm.levels};_e(this,ft),this.paddings=ft.paddingForLevels(wt.levels,wt.filler),this.options=wt}var dt,ut,mt;return dt=ft,mt=[{key:"getLongestLevel",value:function(wt){var Qt=Object.keys(wt).map(function(Dt){return Dt.length});return Math.max.apply(Math,_(Qt))}},{key:"paddingForLevel",value:function(wt,Qt,Dt){var Et=Dt+1-wt.length,xt=Math.floor(Et/Qt.length);return"".concat(Qt).concat(Qt.repeat(xt)).slice(0,Et)}},{key:"paddingForLevels",value:function(wt){var Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",Dt=ft.getLongestLevel(wt);return Object.keys(wt).reduce(function(Et,xt){return Et[xt]=ft.paddingForLevel(xt,Qt,Dt),Et},{})}}],(ut=[{key:"transform",value:function(wt,Qt){return wt.message="".concat(this.paddings[wt[st]]).concat(wt.message),wt[ht]&&(wt[ht]="".concat(this.paddings[wt[st]]).concat(wt[ht])),wt}}])&&tt(dt.prototype,ut),mt&&tt(dt,mt),ft}();i.exports=function(ft){return new _t(ft)},i.exports.Padder=i.exports.Format=_t},function(i,o,s){var _=s(13).format;o.warn={deprecated:function($){return function(){throw new Error(_("{ %s } was removed in winston@3.0.0.",$))}},useFormat:function($){return function(){throw new Error([_("{ %s } was removed in winston@3.0.0.",$),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function($,_e,tt){tt.forEach(function(j){$[j]=o.warn[_e](j)})},moved:function($,_e,tt){function j(){return function(){throw new Error([_("winston.%s was moved in winston@3.0.0.",tt),_("Use a winston.%s instead.",_e)].join(`
`))}}Object.defineProperty($,tt,{get:j,set:j})},forProperties:function($,_e,tt){tt.forEach(function(j){var nt=o.warn[_e](j);Object.defineProperty($,j,{get:nt,set:nt})})}}},function(i,o,s){(function(_,$,_e){var tt=s(16);function j(St){var It=this;this.next=null,this.entry=null,this.finish=function(){(function(Bt,Lt,Xt){var zt=Bt.entry;for(Bt.entry=null;zt;){var Pt=zt.callback;Lt.pendingcb--,Pt(Xt),zt=zt.next}Lt.corkedRequestsFree?Lt.corkedRequestsFree.next=Bt:Lt.corkedRequestsFree=Bt})(It,St)}}i.exports=Et;var nt,st=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?$:tt.nextTick;Et.WritableState=Dt;var ht=Object.create(s(17));ht.inherits=s(7);var _t={deprecate:s(43)},ft=s(63),dt=s(44).Buffer,ut=_e.Uint8Array||function(){},mt,wt=s(64);function Qt(){}function Dt(St,It){nt=nt||s(36),St=St||{};var Bt=It instanceof nt;this.objectMode=!!St.objectMode,Bt&&(this.objectMode=this.objectMode||!!St.writableObjectMode);var Lt=St.highWaterMark,Xt=St.writableHighWaterMark,zt=this.objectMode?16:16384;this.highWaterMark=Lt||Lt===0?Lt:Bt&&(Xt||Xt===0)?Xt:zt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Pt=St.decodeStrings===!1;this.decodeStrings=!Pt,this.defaultEncoding=St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){(function(Zt,Ct){var Ft=Zt._writableState,Ht=Ft.sync,tn=Ft.writecb;if(function(yn){yn.writing=!1,yn.writecb=null,yn.length-=yn.writelen,yn.writelen=0}(Ft),Ct)(function(yn,vn,un,rn,At){--vn.pendingcb,un?(tt.nextTick(At,rn),tt.nextTick(bt,yn,vn),yn._writableState.errorEmitted=!0,yn.emit("error",rn)):(At(rn),yn._writableState.errorEmitted=!0,yn.emit("error",rn),bt(yn,vn))})(Zt,Ft,Ht,Ct,tn);else{var mn=nn(Ft);mn||Ft.corked||Ft.bufferProcessing||!Ft.bufferedRequest||Vt(Zt,Ft),Ht?st(pt,Zt,Ft,mn,tn):pt(Zt,Ft,mn,tn)}})(It,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function Et(St){if(nt=nt||s(36),!(mt.call(Et,this)||this instanceof nt))return new Et(St);this._writableState=new Dt(St,this),this.writable=!0,St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final)),ft.call(this)}function xt(St,It,Bt,Lt,Xt,zt,Pt){It.writelen=Lt,It.writecb=Pt,It.writing=!0,It.sync=!0,Bt?St._writev(Xt,It.onwrite):St._write(Xt,zt,It.onwrite),It.sync=!1}function pt(St,It,Bt,Lt){Bt||function(Xt,zt){zt.length===0&&zt.needDrain&&(zt.needDrain=!1,Xt.emit("drain"))}(St,It),It.pendingcb--,Lt(),bt(St,It)}function Vt(St,It){It.bufferProcessing=!0;var Bt=It.bufferedRequest;if(St._writev&&Bt&&Bt.next){var Lt=It.bufferedRequestCount,Xt=new Array(Lt),zt=It.corkedRequestsFree;zt.entry=Bt;for(var Pt=0,jt=!0;Bt;)Xt[Pt]=Bt,Bt.isBuf||(jt=!1),Bt=Bt.next,Pt+=1;Xt.allBuffers=jt,xt(St,It,!0,It.length,Xt,"",zt.finish),It.pendingcb++,It.lastBufferedRequest=null,zt.next?(It.corkedRequestsFree=zt.next,zt.next=null):It.corkedRequestsFree=new j(It),It.bufferedRequestCount=0}else{for(;Bt;){var Zt=Bt.chunk,Ct=Bt.encoding,Ft=Bt.callback;if(xt(St,It,!1,It.objectMode?1:Zt.length,Zt,Ct,Ft),Bt=Bt.next,It.bufferedRequestCount--,It.writing)break}Bt===null&&(It.lastBufferedRequest=null)}It.bufferedRequest=Bt,It.bufferProcessing=!1}function nn(St){return St.ending&&St.length===0&&St.bufferedRequest===null&&!St.finished&&!St.writing}function on(St,It){St._final(function(Bt){It.pendingcb--,Bt&&St.emit("error",Bt),It.prefinished=!0,St.emit("prefinish"),bt(St,It)})}function bt(St,It){var Bt=nn(It);return Bt&&(function(Lt,Xt){Xt.prefinished||Xt.finalCalled||(typeof Lt._final=="function"?(Xt.pendingcb++,Xt.finalCalled=!0,tt.nextTick(on,Lt,Xt)):(Xt.prefinished=!0,Lt.emit("prefinish")))}(St,It),It.pendingcb===0&&(It.finished=!0,St.emit("finish"))),Bt}ht.inherits(Et,ft),Dt.prototype.getBuffer=function(){for(var St=this.bufferedRequest,It=[];St;)It.push(St),St=St.next;return It},function(){try{Object.defineProperty(Dt.prototype,"buffer",{get:_t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(St){return!!mt.call(this,St)||this===Et&&St&&St._writableState instanceof Dt}})):mt=function(St){return St instanceof this},Et.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Et.prototype.write=function(St,It,Bt){var Lt,Xt=this._writableState,zt=!1,Pt=!Xt.objectMode&&(Lt=St,dt.isBuffer(Lt)||Lt instanceof ut);return Pt&&!dt.isBuffer(St)&&(St=function(jt){return dt.from(jt)}(St)),typeof It=="function"&&(Bt=It,It=null),Pt?It="buffer":It||(It=Xt.defaultEncoding),typeof Bt!="function"&&(Bt=Qt),Xt.ended?function(jt,Zt){var Ct=new Error("write after end");jt.emit("error",Ct),tt.nextTick(Zt,Ct)}(this,Bt):(Pt||function(jt,Zt,Ct,Ft){var Ht=!0,tn=!1;return Ct===null?tn=new TypeError("May not write null values to stream"):typeof Ct=="string"||Ct===void 0||Zt.objectMode||(tn=new TypeError("Invalid non-string/buffer chunk")),tn&&(jt.emit("error",tn),tt.nextTick(Ft,tn),Ht=!1),Ht}(this,Xt,St,Bt))&&(Xt.pendingcb++,zt=function(jt,Zt,Ct,Ft,Ht,tn){if(!Ct){var mn=function(rn,At,Mt){return rn.objectMode||rn.decodeStrings===!1||typeof At!="string"||(At=dt.from(At,Mt)),At}(Zt,Ft,Ht);Ft!==mn&&(Ct=!0,Ht="buffer",Ft=mn)}var yn=Zt.objectMode?1:Ft.length;Zt.length+=yn;var vn=Zt.length<Zt.highWaterMark;if(vn||(Zt.needDrain=!0),Zt.writing||Zt.corked){var un=Zt.lastBufferedRequest;Zt.lastBufferedRequest={chunk:Ft,encoding:Ht,isBuf:Ct,callback:tn,next:null},un?un.next=Zt.lastBufferedRequest:Zt.bufferedRequest=Zt.lastBufferedRequest,Zt.bufferedRequestCount+=1}else xt(jt,Zt,!1,yn,Ft,Ht,tn);return vn}(this,Xt,Pt,St,It,Bt)),zt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var St=this._writableState;St.corked&&(St.corked--,St.writing||St.corked||St.finished||St.bufferProcessing||!St.bufferedRequest||Vt(this,St))},Et.prototype.setDefaultEncoding=function(St){if(typeof St=="string"&&(St=St.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((St+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+St);return this._writableState.defaultEncoding=St,this},Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(St,It,Bt){Bt(new Error("_write() is not implemented"))},Et.prototype._writev=null,Et.prototype.end=function(St,It,Bt){var Lt=this._writableState;typeof St=="function"?(Bt=St,St=null,It=null):typeof It=="function"&&(Bt=It,It=null),St!=null&&this.write(St,It),Lt.corked&&(Lt.corked=1,this.uncork()),Lt.ending||Lt.finished||function(Xt,zt,Pt){zt.ending=!0,bt(Xt,zt),Pt&&(zt.finished?tt.nextTick(Pt):Xt.once("finish",Pt)),zt.ended=!0,Xt.writable=!1}(this,Lt,Bt)},Object.defineProperty(Et.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(St){this._writableState&&(this._writableState.destroyed=St)}}),Et.prototype.destroy=wt.destroy,Et.prototype._undestroy=wt.undestroy,Et.prototype._destroy=function(St,It){this.end(),It(St)}}).call(this,s(2),s(15).setImmediate,s(6))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,tt){_e.emit("error",tt)}i.exports={destroy:function(_e,tt){var j=this,nt=this._readableState&&this._readableState.destroyed,st=this._writableState&&this._writableState.destroyed;return nt||st?(tt?tt(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ht){!tt&&ht?(_.nextTick($,j,ht),j._writableState&&(j._writableState.errorEmitted=!0)):tt&&tt(ht)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o){},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=tt(s(156)),$=tt(s(25)),_e=tt(s(30));function tt(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)(function(j,nt,st,ht){return(0,_.default)(nt)(j,(0,$.default)(st),ht)},4),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){function $(..._e){if(_!==null){var tt=_;_=null,tt.apply(this,_e)}}return Object.assign($,_),$},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){if(_===null)throw new Error("Callback was already called.");var _e=_;_=null,_e.apply(this,$)}},i.exports=o.default},function(i,o,s){(function(_,$){var _e=s(16);i.exports=xt;var tt,j=s(42);xt.ReadableState=Et,s(21).EventEmitter;var nt=function(Ct,Ft){return Ct.listeners(Ft).length},st=s(70),ht=s(47).Buffer,_t=_.Uint8Array||function(){},ft=s(17);ft.inherits=s(7);var dt=s(162),ut=void 0;ut=dt&&dt.debuglog?dt.debuglog("stream"):function(){};var mt,wt=s(163),Qt=s(71);ft.inherits(xt,st);var Dt=["error","close","destroy","pause","resume"];function Et(Ct,Ft){Ct=Ct||{};var Ht=Ft instanceof(tt=tt||s(23));this.objectMode=!!Ct.objectMode,Ht&&(this.objectMode=this.objectMode||!!Ct.readableObjectMode);var tn=Ct.highWaterMark,mn=Ct.readableHighWaterMark,yn=this.objectMode?16:16384;this.highWaterMark=tn||tn===0?tn:Ht&&(mn||mn===0)?mn:yn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ct.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ct.encoding&&(mt||(mt=s(22).StringDecoder),this.decoder=new mt(Ct.encoding),this.encoding=Ct.encoding)}function xt(Ct){if(tt=tt||s(23),!(this instanceof xt))return new xt(Ct);this._readableState=new Et(Ct,this),this.readable=!0,Ct&&(typeof Ct.read=="function"&&(this._read=Ct.read),typeof Ct.destroy=="function"&&(this._destroy=Ct.destroy)),st.call(this)}function pt(Ct,Ft,Ht,tn,mn){var yn,vn=Ct._readableState;return Ft===null?(vn.reading=!1,function(un,rn){if(!rn.ended){if(rn.decoder){var At=rn.decoder.end();At&&At.length&&(rn.buffer.push(At),rn.length+=rn.objectMode?1:At.length)}rn.ended=!0,on(un)}}(Ct,vn)):(mn||(yn=function(un,rn){var At;Mt=rn,ht.isBuffer(Mt)||Mt instanceof _t||typeof rn=="string"||rn===void 0||un.objectMode||(At=new TypeError("Invalid non-string/buffer chunk"));var Mt;return At}(vn,Ft)),yn?Ct.emit("error",yn):vn.objectMode||Ft&&Ft.length>0?(typeof Ft=="string"||vn.objectMode||Object.getPrototypeOf(Ft)===ht.prototype||(Ft=function(un){return ht.from(un)}(Ft)),tn?vn.endEmitted?Ct.emit("error",new Error("stream.unshift() after end event")):Vt(Ct,vn,Ft,!0):vn.ended?Ct.emit("error",new Error("stream.push() after EOF")):(vn.reading=!1,vn.decoder&&!Ht?(Ft=vn.decoder.write(Ft),vn.objectMode||Ft.length!==0?Vt(Ct,vn,Ft,!1):St(Ct,vn)):Vt(Ct,vn,Ft,!1))):tn||(vn.reading=!1)),function(un){return!un.ended&&(un.needReadable||un.length<un.highWaterMark||un.length===0)}(vn)}function Vt(Ct,Ft,Ht,tn){Ft.flowing&&Ft.length===0&&!Ft.sync?(Ct.emit("data",Ht),Ct.read(0)):(Ft.length+=Ft.objectMode?1:Ht.length,tn?Ft.buffer.unshift(Ht):Ft.buffer.push(Ht),Ft.needReadable&&on(Ct)),St(Ct,Ft)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ct){this._readableState&&(this._readableState.destroyed=Ct)}}),xt.prototype.destroy=Qt.destroy,xt.prototype._undestroy=Qt.undestroy,xt.prototype._destroy=function(Ct,Ft){this.push(null),Ft(Ct)},xt.prototype.push=function(Ct,Ft){var Ht,tn=this._readableState;return tn.objectMode?Ht=!0:typeof Ct=="string"&&((Ft=Ft||tn.defaultEncoding)!==tn.encoding&&(Ct=ht.from(Ct,Ft),Ft=""),Ht=!0),pt(this,Ct,Ft,!1,Ht)},xt.prototype.unshift=function(Ct){return pt(this,Ct,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(Ct){return mt||(mt=s(22).StringDecoder),this._readableState.decoder=new mt(Ct),this._readableState.encoding=Ct,this};function nn(Ct,Ft){return Ct<=0||Ft.length===0&&Ft.ended?0:Ft.objectMode?1:Ct!=Ct?Ft.flowing&&Ft.length?Ft.buffer.head.data.length:Ft.length:(Ct>Ft.highWaterMark&&(Ft.highWaterMark=function(Ht){return Ht>=8388608?Ht=8388608:(Ht--,Ht|=Ht>>>1,Ht|=Ht>>>2,Ht|=Ht>>>4,Ht|=Ht>>>8,Ht|=Ht>>>16,Ht++),Ht}(Ct)),Ct<=Ft.length?Ct:Ft.ended?Ft.length:(Ft.needReadable=!0,0))}function on(Ct){var Ft=Ct._readableState;Ft.needReadable=!1,Ft.emittedReadable||(ut("emitReadable",Ft.flowing),Ft.emittedReadable=!0,Ft.sync?_e.nextTick(bt,Ct):bt(Ct))}function bt(Ct){ut("emit readable"),Ct.emit("readable"),Xt(Ct)}function St(Ct,Ft){Ft.readingMore||(Ft.readingMore=!0,_e.nextTick(It,Ct,Ft))}function It(Ct,Ft){for(var Ht=Ft.length;!Ft.reading&&!Ft.flowing&&!Ft.ended&&Ft.length<Ft.highWaterMark&&(ut("maybeReadMore read 0"),Ct.read(0),Ht!==Ft.length);)Ht=Ft.length;Ft.readingMore=!1}function Bt(Ct){ut("readable nexttick read 0"),Ct.read(0)}function Lt(Ct,Ft){Ft.reading||(ut("resume read 0"),Ct.read(0)),Ft.resumeScheduled=!1,Ft.awaitDrain=0,Ct.emit("resume"),Xt(Ct),Ft.flowing&&!Ft.reading&&Ct.read(0)}function Xt(Ct){var Ft=Ct._readableState;for(ut("flow",Ft.flowing);Ft.flowing&&Ct.read()!==null;);}function zt(Ct,Ft){return Ft.length===0?null:(Ft.objectMode?Ht=Ft.buffer.shift():!Ct||Ct>=Ft.length?(Ht=Ft.decoder?Ft.buffer.join(""):Ft.buffer.length===1?Ft.buffer.head.data:Ft.buffer.concat(Ft.length),Ft.buffer.clear()):Ht=function(tn,mn,yn){var vn;return tn<mn.head.data.length?(vn=mn.head.data.slice(0,tn),mn.head.data=mn.head.data.slice(tn)):vn=tn===mn.head.data.length?mn.shift():yn?function(un,rn){var At=rn.head,Mt=1,$t=At.data;for(un-=$t.length;At=At.next;){var pn=At.data,hn=un>pn.length?pn.length:un;if(hn===pn.length?$t+=pn:$t+=pn.slice(0,un),(un-=hn)===0){hn===pn.length?(++Mt,At.next?rn.head=At.next:rn.head=rn.tail=null):(rn.head=At,At.data=pn.slice(hn));break}++Mt}return rn.length-=Mt,$t}(tn,mn):function(un,rn){var At=ht.allocUnsafe(un),Mt=rn.head,$t=1;for(Mt.data.copy(At),un-=Mt.data.length;Mt=Mt.next;){var pn=Mt.data,hn=un>pn.length?pn.length:un;if(pn.copy(At,At.length-un,0,hn),(un-=hn)===0){hn===pn.length?(++$t,Mt.next?rn.head=Mt.next:rn.head=rn.tail=null):(rn.head=Mt,Mt.data=pn.slice(hn));break}++$t}return rn.length-=$t,At}(tn,mn),vn}(Ct,Ft.buffer,Ft.decoder),Ht);var Ht}function Pt(Ct){var Ft=Ct._readableState;if(Ft.length>0)throw new Error('"endReadable()" called on non-empty stream');Ft.endEmitted||(Ft.ended=!0,_e.nextTick(jt,Ft,Ct))}function jt(Ct,Ft){Ct.endEmitted||Ct.length!==0||(Ct.endEmitted=!0,Ft.readable=!1,Ft.emit("end"))}function Zt(Ct,Ft){for(var Ht=0,tn=Ct.length;Ht<tn;Ht++)if(Ct[Ht]===Ft)return Ht;return-1}xt.prototype.read=function(Ct){ut("read",Ct),Ct=parseInt(Ct,10);var Ft=this._readableState,Ht=Ct;if(Ct!==0&&(Ft.emittedReadable=!1),Ct===0&&Ft.needReadable&&(Ft.length>=Ft.highWaterMark||Ft.ended))return ut("read: emitReadable",Ft.length,Ft.ended),Ft.length===0&&Ft.ended?Pt(this):on(this),null;if((Ct=nn(Ct,Ft))===0&&Ft.ended)return Ft.length===0&&Pt(this),null;var tn,mn=Ft.needReadable;return ut("need readable",mn),(Ft.length===0||Ft.length-Ct<Ft.highWaterMark)&&ut("length less than watermark",mn=!0),Ft.ended||Ft.reading?ut("reading or ended",mn=!1):mn&&(ut("do read"),Ft.reading=!0,Ft.sync=!0,Ft.length===0&&(Ft.needReadable=!0),this._read(Ft.highWaterMark),Ft.sync=!1,Ft.reading||(Ct=nn(Ht,Ft))),(tn=Ct>0?zt(Ct,Ft):null)===null?(Ft.needReadable=!0,Ct=0):Ft.length-=Ct,Ft.length===0&&(Ft.ended||(Ft.needReadable=!0),Ht!==Ct&&Ft.ended&&Pt(this)),tn!==null&&this.emit("data",tn),tn},xt.prototype._read=function(Ct){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(Ct,Ft){var Ht=this,tn=this._readableState;switch(tn.pipesCount){case 0:tn.pipes=Ct;break;case 1:tn.pipes=[tn.pipes,Ct];break;default:tn.pipes.push(Ct)}tn.pipesCount+=1,ut("pipe count=%d opts=%j",tn.pipesCount,Ft);var mn=(!Ft||Ft.end!==!1)&&Ct!==$.stdout&&Ct!==$.stderr?vn:Sn;function yn(An,Gn){ut("onunpipe"),An===Ht&&Gn&&Gn.hasUnpiped===!1&&(Gn.hasUnpiped=!0,ut("cleanup"),Ct.removeListener("close",pn),Ct.removeListener("finish",hn),Ct.removeListener("drain",un),Ct.removeListener("error",$t),Ct.removeListener("unpipe",yn),Ht.removeListener("end",vn),Ht.removeListener("end",Sn),Ht.removeListener("data",Mt),rn=!0,!tn.awaitDrain||Ct._writableState&&!Ct._writableState.needDrain||un())}function vn(){ut("onend"),Ct.end()}tn.endEmitted?_e.nextTick(mn):Ht.once("end",mn),Ct.on("unpipe",yn);var un=function(An){return function(){var Gn=An._readableState;ut("pipeOnDrain",Gn.awaitDrain),Gn.awaitDrain&&Gn.awaitDrain--,Gn.awaitDrain===0&&nt(An,"data")&&(Gn.flowing=!0,Xt(An))}}(Ht);Ct.on("drain",un);var rn=!1,At=!1;function Mt(An){ut("ondata"),At=!1,Ct.write(An)!==!1||At||((tn.pipesCount===1&&tn.pipes===Ct||tn.pipesCount>1&&Zt(tn.pipes,Ct)!==-1)&&!rn&&(ut("false write response, pause",Ht._readableState.awaitDrain),Ht._readableState.awaitDrain++,At=!0),Ht.pause())}function $t(An){ut("onerror",An),Sn(),Ct.removeListener("error",$t),nt(Ct,"error")===0&&Ct.emit("error",An)}function pn(){Ct.removeListener("finish",hn),Sn()}function hn(){ut("onfinish"),Ct.removeListener("close",pn),Sn()}function Sn(){ut("unpipe"),Ht.unpipe(Ct)}return Ht.on("data",Mt),function(An,Gn,Qr){if(typeof An.prependListener=="function")return An.prependListener(Gn,Qr);An._events&&An._events[Gn]?j(An._events[Gn])?An._events[Gn].unshift(Qr):An._events[Gn]=[Qr,An._events[Gn]]:An.on(Gn,Qr)}(Ct,"error",$t),Ct.once("close",pn),Ct.once("finish",hn),Ct.emit("pipe",Ht),tn.flowing||(ut("pipe resume"),Ht.resume()),Ct},xt.prototype.unpipe=function(Ct){var Ft=this._readableState,Ht={hasUnpiped:!1};if(Ft.pipesCount===0)return this;if(Ft.pipesCount===1)return Ct&&Ct!==Ft.pipes||(Ct||(Ct=Ft.pipes),Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1,Ct&&Ct.emit("unpipe",this,Ht)),this;if(!Ct){var tn=Ft.pipes,mn=Ft.pipesCount;Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1;for(var yn=0;yn<mn;yn++)tn[yn].emit("unpipe",this,Ht);return this}var vn=Zt(Ft.pipes,Ct);return vn===-1||(Ft.pipes.splice(vn,1),Ft.pipesCount-=1,Ft.pipesCount===1&&(Ft.pipes=Ft.pipes[0]),Ct.emit("unpipe",this,Ht)),this},xt.prototype.on=function(Ct,Ft){var Ht=st.prototype.on.call(this,Ct,Ft);if(Ct==="data")this._readableState.flowing!==!1&&this.resume();else if(Ct==="readable"){var tn=this._readableState;tn.endEmitted||tn.readableListening||(tn.readableListening=tn.needReadable=!0,tn.emittedReadable=!1,tn.reading?tn.length&&on(this):_e.nextTick(Bt,this))}return Ht},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var Ct=this._readableState;return Ct.flowing||(ut("resume"),Ct.flowing=!0,function(Ft,Ht){Ht.resumeScheduled||(Ht.resumeScheduled=!0,_e.nextTick(Lt,Ft,Ht))}(this,Ct)),this},xt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(Ct){var Ft=this,Ht=this._readableState,tn=!1;for(var mn in Ct.on("end",function(){if(ut("wrapped end"),Ht.decoder&&!Ht.ended){var vn=Ht.decoder.end();vn&&vn.length&&Ft.push(vn)}Ft.push(null)}),Ct.on("data",function(vn){ut("wrapped data"),Ht.decoder&&(vn=Ht.decoder.write(vn)),Ht.objectMode&&vn==null||(Ht.objectMode||vn&&vn.length)&&(Ft.push(vn)||(tn=!0,Ct.pause()))}),Ct)this[mn]===void 0&&typeof Ct[mn]=="function"&&(this[mn]=function(vn){return function(){return Ct[vn].apply(Ct,arguments)}}(mn));for(var yn=0;yn<Dt.length;yn++)Ct.on(Dt[yn],this.emit.bind(this,Dt[yn]));return this._read=function(vn){ut("wrapped _read",vn),tn&&(tn=!1,Ct.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=zt}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){var _=s(16);function $(_e,tt){_e.emit("error",tt)}i.exports={destroy:function(_e,tt){var j=this,nt=this._readableState&&this._readableState.destroyed,st=this._writableState&&this._writableState.destroyed;return nt||st?(tt?tt(_e):!_e||this._writableState&&this._writableState.errorEmitted||_.nextTick($,this,_e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(_e||null,function(ht){!tt&&ht?(_.nextTick($,j,ht),j._writableState&&(j._writableState.errorEmitted=!0)):tt&&tt(ht)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(i,o,s){i.exports=tt;var _=s(23),$=s(17);function _e(st,ht){var _t=this._transformState;_t.transforming=!1;var ft=_t.writecb;if(!ft)return this.emit("error",new Error("write callback called multiple times"));_t.writechunk=null,_t.writecb=null,ht!=null&&this.push(ht),ft(st);var dt=this._readableState;dt.reading=!1,(dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}function tt(st){if(!(this instanceof tt))return new tt(st);_.call(this,st),this._transformState={afterTransform:_e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,st&&(typeof st.transform=="function"&&(this._transform=st.transform),typeof st.flush=="function"&&(this._flush=st.flush)),this.on("prefinish",j)}function j(){var st=this;typeof this._flush=="function"?this._flush(function(ht,_t){nt(st,ht,_t)}):nt(this,null,null)}function nt(st,ht,_t){if(ht)return st.emit("error",ht);if(_t!=null&&st.push(_t),st._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(st._transformState.transforming)throw new Error("Calling transform done when still transforming");return st.push(null)}$.inherits=s(7),$.inherits(tt,_),tt.prototype.push=function(st,ht){return this._transformState.needTransform=!1,_.prototype.push.call(this,st,ht)},tt.prototype._transform=function(st,ht,_t){throw new Error("_transform() is not implemented")},tt.prototype._write=function(st,ht,_t){var ft=this._transformState;if(ft.writecb=_t,ft.writechunk=st,ft.writeencoding=ht,!ft.transforming){var dt=this._readableState;(ft.needTransform||dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}},tt.prototype._read=function(st){var ht=this._transformState;ht.writechunk!==null&&ht.writecb&&!ht.transforming?(ht.transforming=!0,this._transform(ht.writechunk,ht.writeencoding,ht.afterTransform)):ht.needTransform=!0},tt.prototype._destroy=function(st,ht){var _t=this;_.prototype._destroy.call(this,st,function(ft){ht(ft),_t.emit("close")})}},function(i,o,s){i.exports=s(48)},function(i,o,s){(function(_){var $=s(170);function _e(bt,St){if(bt===St)return 0;for(var It=bt.length,Bt=St.length,Lt=0,Xt=Math.min(It,Bt);Lt<Xt;++Lt)if(bt[Lt]!==St[Lt]){It=bt[Lt],Bt=St[Lt];break}return It<Bt?-1:Bt<It?1:0}function tt(bt){return _.Buffer&&typeof _.Buffer.isBuffer=="function"?_.Buffer.isBuffer(bt):!(bt==null||!bt._isBuffer)}var j=s(13),nt=Object.prototype.hasOwnProperty,st=Array.prototype.slice,ht=function(){}.name==="foo";function _t(bt){return Object.prototype.toString.call(bt)}function ft(bt){return!tt(bt)&&typeof _.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(bt):!!bt&&(bt instanceof DataView||!!(bt.buffer&&bt.buffer instanceof ArrayBuffer)))}var dt=i.exports=Et,ut=/\s*function\s+([^\(\s]*)\s*/;function mt(bt){if(j.isFunction(bt)){if(ht)return bt.name;var St=bt.toString().match(ut);return St&&St[1]}}function wt(bt,St){return typeof bt=="string"?bt.length<St?bt:bt.slice(0,St):bt}function Qt(bt){if(ht||!j.isFunction(bt))return j.inspect(bt);var St=mt(bt);return"[Function"+(St?": "+St:"")+"]"}function Dt(bt,St,It,Bt,Lt){throw new dt.AssertionError({message:It,actual:bt,expected:St,operator:Bt,stackStartFunction:Lt})}function Et(bt,St){bt||Dt(bt,!0,St,"==",dt.ok)}function xt(bt,St,It,Bt){if(bt===St)return!0;if(tt(bt)&&tt(St))return _e(bt,St)===0;if(j.isDate(bt)&&j.isDate(St))return bt.getTime()===St.getTime();if(j.isRegExp(bt)&&j.isRegExp(St))return bt.source===St.source&&bt.global===St.global&&bt.multiline===St.multiline&&bt.lastIndex===St.lastIndex&&bt.ignoreCase===St.ignoreCase;if(bt!==null&&typeof bt=="object"||St!==null&&typeof St=="object"){if(ft(bt)&&ft(St)&&_t(bt)===_t(St)&&!(bt instanceof Float32Array||bt instanceof Float64Array))return _e(new Uint8Array(bt.buffer),new Uint8Array(St.buffer))===0;if(tt(bt)!==tt(St))return!1;var Lt=(Bt=Bt||{actual:[],expected:[]}).actual.indexOf(bt);return Lt!==-1&&Lt===Bt.expected.indexOf(St)||(Bt.actual.push(bt),Bt.expected.push(St),function(Xt,zt,Pt,jt){if(Xt==null||zt==null)return!1;if(j.isPrimitive(Xt)||j.isPrimitive(zt))return Xt===zt;if(Pt&&Object.getPrototypeOf(Xt)!==Object.getPrototypeOf(zt))return!1;var Zt=pt(Xt),Ct=pt(zt);if(Zt&&!Ct||!Zt&&Ct)return!1;if(Zt)return Xt=st.call(Xt),zt=st.call(zt),xt(Xt,zt,Pt);var Ft,Ht,tn=on(Xt),mn=on(zt);if(tn.length!==mn.length)return!1;for(tn.sort(),mn.sort(),Ht=tn.length-1;Ht>=0;Ht--)if(tn[Ht]!==mn[Ht])return!1;for(Ht=tn.length-1;Ht>=0;Ht--)if(Ft=tn[Ht],!xt(Xt[Ft],zt[Ft],Pt,jt))return!1;return!0}(bt,St,It,Bt))}return It?bt===St:bt==St}function pt(bt){return Object.prototype.toString.call(bt)=="[object Arguments]"}function Vt(bt,St){if(!bt||!St)return!1;if(Object.prototype.toString.call(St)=="[object RegExp]")return St.test(bt);try{if(bt instanceof St)return!0}catch{}return!Error.isPrototypeOf(St)&&St.call({},bt)===!0}function nn(bt,St,It,Bt){var Lt;if(typeof St!="function")throw new TypeError('"block" argument must be a function');typeof It=="string"&&(Bt=It,It=null),Lt=function(Pt){var jt;try{Pt()}catch(Zt){jt=Zt}return jt}(St),Bt=(It&&It.name?" ("+It.name+").":".")+(Bt?" "+Bt:"."),bt&&!Lt&&Dt(Lt,It,"Missing expected exception"+Bt);var Xt=typeof Bt=="string",zt=!bt&&Lt&&!It;if((!bt&&j.isError(Lt)&&Xt&&Vt(Lt,It)||zt)&&Dt(Lt,It,"Got unwanted exception"+Bt),bt&&Lt&&It&&!Vt(Lt,It)||!bt&&Lt)throw Lt}dt.AssertionError=function(bt){this.name="AssertionError",this.actual=bt.actual,this.expected=bt.expected,this.operator=bt.operator,bt.message?(this.message=bt.message,this.generatedMessage=!1):(this.message=function(Pt){return wt(Qt(Pt.actual),128)+" "+Pt.operator+" "+wt(Qt(Pt.expected),128)}(this),this.generatedMessage=!0);var St=bt.stackStartFunction||Dt;if(Error.captureStackTrace)Error.captureStackTrace(this,St);else{var It=new Error;if(It.stack){var Bt=It.stack,Lt=mt(St),Xt=Bt.indexOf(`
`+Lt);if(Xt>=0){var zt=Bt.indexOf(`
`,Xt+1);Bt=Bt.substring(zt+1)}this.stack=Bt}}},j.inherits(dt.AssertionError,Error),dt.fail=Dt,dt.ok=Et,dt.equal=function(bt,St,It){bt!=St&&Dt(bt,St,It,"==",dt.equal)},dt.notEqual=function(bt,St,It){bt==St&&Dt(bt,St,It,"!=",dt.notEqual)},dt.deepEqual=function(bt,St,It){xt(bt,St,!1)||Dt(bt,St,It,"deepEqual",dt.deepEqual)},dt.deepStrictEqual=function(bt,St,It){xt(bt,St,!0)||Dt(bt,St,It,"deepStrictEqual",dt.deepStrictEqual)},dt.notDeepEqual=function(bt,St,It){xt(bt,St,!1)&&Dt(bt,St,It,"notDeepEqual",dt.notDeepEqual)},dt.notDeepStrictEqual=function bt(St,It,Bt){xt(St,It,!0)&&Dt(St,It,Bt,"notDeepStrictEqual",bt)},dt.strictEqual=function(bt,St,It){bt!==St&&Dt(bt,St,It,"===",dt.strictEqual)},dt.notStrictEqual=function(bt,St,It){bt===St&&Dt(bt,St,It,"!==",dt.notStrictEqual)},dt.throws=function(bt,St,It){nn(!0,bt,St,It)},dt.doesNotThrow=function(bt,St,It){nn(!1,bt,St,It)},dt.ifError=function(bt){if(bt)throw bt},dt.strict=$(function bt(St,It){St||Dt(St,!0,It,"==",bt)},dt,{equal:dt.strictEqual,deepEqual:dt.deepStrictEqual,notEqual:dt.notStrictEqual,notDeepEqual:dt.notDeepStrictEqual}),dt.strict.strict=dt.strict;var on=Object.keys||function(bt){var St=[];for(var It in bt)nt.call(bt,It)&&St.push(It);return St}}).call(this,s(6))},function(i,o,s){i.exports=function(_,$,_e,tt){for(var j=65535&_|0,nt=_>>>16&65535|0,st=0;_e!==0;){_e-=st=_e>2e3?2e3:_e;do nt=nt+(j=j+$[tt++]|0)|0;while(--st);j%=65521,nt%=65521}return j|nt<<16|0}},function(i,o,s){var _=function(){for(var $,_e=[],tt=0;tt<256;tt++){$=tt;for(var j=0;j<8;j++)$=1&$?3988292384^$>>>1:$>>>1;_e[tt]=$}return _e}();i.exports=function($,_e,tt,j){var nt=_,st=j+tt;$^=-1;for(var ht=j;ht<st;ht++)$=$>>>8^nt[255&($^_e[ht])];return-1^$}},function(i,o,s){(function(_,$){var _e;i.exports=St,St.ReadableState=bt,s(21).EventEmitter;var tt=function(un,rn){return un.listeners(rn).length},j=s(78),nt=s(5).Buffer,st=_.Uint8Array||function(){},ht,_t=s(179);ht=_t&&_t.debuglog?_t.debuglog("stream"):function(){};var ft,dt,ut,mt=s(180),wt=s(79),Qt=s(80).getHighWaterMark,Dt=s(26).codes,Et=Dt.ERR_INVALID_ARG_TYPE,xt=Dt.ERR_STREAM_PUSH_AFTER_EOF,pt=Dt.ERR_METHOD_NOT_IMPLEMENTED,Vt=Dt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s(7)(St,j);var nn=wt.errorOrDestroy,on=["error","close","destroy","pause","resume"];function bt(un,rn,At){_e=_e||s(27),un=un||{},typeof At!="boolean"&&(At=rn instanceof _e),this.objectMode=!!un.objectMode,At&&(this.objectMode=this.objectMode||!!un.readableObjectMode),this.highWaterMark=Qt(this,un,"readableHighWaterMark",At),this.buffer=new mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=un.emitClose!==!1,this.autoDestroy=!!un.autoDestroy,this.destroyed=!1,this.defaultEncoding=un.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,un.encoding&&(ft||(ft=s(22).StringDecoder),this.decoder=new ft(un.encoding),this.encoding=un.encoding)}function St(un){if(_e=_e||s(27),!(this instanceof St))return new St(un);var rn=this instanceof _e;this._readableState=new bt(un,this,rn),this.readable=!0,un&&(typeof un.read=="function"&&(this._read=un.read),typeof un.destroy=="function"&&(this._destroy=un.destroy)),j.call(this)}function It(un,rn,At,Mt,$t){ht("readableAddChunk",rn);var pn,hn=un._readableState;if(rn===null)hn.reading=!1,function(Sn,An){if(ht("onEofChunk"),!An.ended){if(An.decoder){var Gn=An.decoder.end();Gn&&Gn.length&&(An.buffer.push(Gn),An.length+=An.objectMode?1:Gn.length)}An.ended=!0,An.sync?Xt(Sn):(An.needReadable=!1,An.emittedReadable||(An.emittedReadable=!0,zt(Sn)))}}(un,hn);else if($t||(pn=function(Sn,An){var Gn;Qr=An,nt.isBuffer(Qr)||Qr instanceof st||typeof An=="string"||An===void 0||Sn.objectMode||(Gn=new Et("chunk",["string","Buffer","Uint8Array"],An));var Qr;return Gn}(hn,rn)),pn)nn(un,pn);else if(hn.objectMode||rn&&rn.length>0)if(typeof rn=="string"||hn.objectMode||Object.getPrototypeOf(rn)===nt.prototype||(rn=function(Sn){return nt.from(Sn)}(rn)),Mt)hn.endEmitted?nn(un,new Vt):Bt(un,hn,rn,!0);else if(hn.ended)nn(un,new xt);else{if(hn.destroyed)return!1;hn.reading=!1,hn.decoder&&!At?(rn=hn.decoder.write(rn),hn.objectMode||rn.length!==0?Bt(un,hn,rn,!1):Pt(un,hn)):Bt(un,hn,rn,!1)}else Mt||(hn.reading=!1,Pt(un,hn));return!hn.ended&&(hn.length<hn.highWaterMark||hn.length===0)}function Bt(un,rn,At,Mt){rn.flowing&&rn.length===0&&!rn.sync?(rn.awaitDrain=0,un.emit("data",At)):(rn.length+=rn.objectMode?1:At.length,Mt?rn.buffer.unshift(At):rn.buffer.push(At),rn.needReadable&&Xt(un)),Pt(un,rn)}Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(un){this._readableState&&(this._readableState.destroyed=un)}}),St.prototype.destroy=wt.destroy,St.prototype._undestroy=wt.undestroy,St.prototype._destroy=function(un,rn){rn(un)},St.prototype.push=function(un,rn){var At,Mt=this._readableState;return Mt.objectMode?At=!0:typeof un=="string"&&((rn=rn||Mt.defaultEncoding)!==Mt.encoding&&(un=nt.from(un,rn),rn=""),At=!0),It(this,un,rn,!1,At)},St.prototype.unshift=function(un){return It(this,un,null,!0,!1)},St.prototype.isPaused=function(){return this._readableState.flowing===!1},St.prototype.setEncoding=function(un){ft||(ft=s(22).StringDecoder);var rn=new ft(un);this._readableState.decoder=rn,this._readableState.encoding=this._readableState.decoder.encoding;for(var At=this._readableState.buffer.head,Mt="";At!==null;)Mt+=rn.write(At.data),At=At.next;return this._readableState.buffer.clear(),Mt!==""&&this._readableState.buffer.push(Mt),this._readableState.length=Mt.length,this};function Lt(un,rn){return un<=0||rn.length===0&&rn.ended?0:rn.objectMode?1:un!=un?rn.flowing&&rn.length?rn.buffer.head.data.length:rn.length:(un>rn.highWaterMark&&(rn.highWaterMark=function(At){return At>=1073741824?At=1073741824:(At--,At|=At>>>1,At|=At>>>2,At|=At>>>4,At|=At>>>8,At|=At>>>16,At++),At}(un)),un<=rn.length?un:rn.ended?rn.length:(rn.needReadable=!0,0))}function Xt(un){var rn=un._readableState;ht("emitReadable",rn.needReadable,rn.emittedReadable),rn.needReadable=!1,rn.emittedReadable||(ht("emitReadable",rn.flowing),rn.emittedReadable=!0,$.nextTick(zt,un))}function zt(un){var rn=un._readableState;ht("emitReadable_",rn.destroyed,rn.length,rn.ended),rn.destroyed||!rn.length&&!rn.ended||(un.emit("readable"),rn.emittedReadable=!1),rn.needReadable=!rn.flowing&&!rn.ended&&rn.length<=rn.highWaterMark,Ht(un)}function Pt(un,rn){rn.readingMore||(rn.readingMore=!0,$.nextTick(jt,un,rn))}function jt(un,rn){for(;!rn.reading&&!rn.ended&&(rn.length<rn.highWaterMark||rn.flowing&&rn.length===0);){var At=rn.length;if(ht("maybeReadMore read 0"),un.read(0),At===rn.length)break}rn.readingMore=!1}function Zt(un){var rn=un._readableState;rn.readableListening=un.listenerCount("readable")>0,rn.resumeScheduled&&!rn.paused?rn.flowing=!0:un.listenerCount("data")>0&&un.resume()}function Ct(un){ht("readable nexttick read 0"),un.read(0)}function Ft(un,rn){ht("resume",rn.reading),rn.reading||un.read(0),rn.resumeScheduled=!1,un.emit("resume"),Ht(un),rn.flowing&&!rn.reading&&un.read(0)}function Ht(un){var rn=un._readableState;for(ht("flow",rn.flowing);rn.flowing&&un.read()!==null;);}function tn(un,rn){return rn.length===0?null:(rn.objectMode?At=rn.buffer.shift():!un||un>=rn.length?(At=rn.decoder?rn.buffer.join(""):rn.buffer.length===1?rn.buffer.first():rn.buffer.concat(rn.length),rn.buffer.clear()):At=rn.buffer.consume(un,rn.decoder),At);var At}function mn(un){var rn=un._readableState;ht("endReadable",rn.endEmitted),rn.endEmitted||(rn.ended=!0,$.nextTick(yn,rn,un))}function yn(un,rn){if(ht("endReadableNT",un.endEmitted,un.length),!un.endEmitted&&un.length===0&&(un.endEmitted=!0,rn.readable=!1,rn.emit("end"),un.autoDestroy)){var At=rn._writableState;(!At||At.autoDestroy&&At.finished)&&rn.destroy()}}function vn(un,rn){for(var At=0,Mt=un.length;At<Mt;At++)if(un[At]===rn)return At;return-1}St.prototype.read=function(un){ht("read",un),un=parseInt(un,10);var rn=this._readableState,At=un;if(un!==0&&(rn.emittedReadable=!1),un===0&&rn.needReadable&&((rn.highWaterMark!==0?rn.length>=rn.highWaterMark:rn.length>0)||rn.ended))return ht("read: emitReadable",rn.length,rn.ended),rn.length===0&&rn.ended?mn(this):Xt(this),null;if((un=Lt(un,rn))===0&&rn.ended)return rn.length===0&&mn(this),null;var Mt,$t=rn.needReadable;return ht("need readable",$t),(rn.length===0||rn.length-un<rn.highWaterMark)&&ht("length less than watermark",$t=!0),rn.ended||rn.reading?ht("reading or ended",$t=!1):$t&&(ht("do read"),rn.reading=!0,rn.sync=!0,rn.length===0&&(rn.needReadable=!0),this._read(rn.highWaterMark),rn.sync=!1,rn.reading||(un=Lt(At,rn))),(Mt=un>0?tn(un,rn):null)===null?(rn.needReadable=rn.length<=rn.highWaterMark,un=0):(rn.length-=un,rn.awaitDrain=0),rn.length===0&&(rn.ended||(rn.needReadable=!0),At!==un&&rn.ended&&mn(this)),Mt!==null&&this.emit("data",Mt),Mt},St.prototype._read=function(un){nn(this,new pt("_read()"))},St.prototype.pipe=function(un,rn){var At=this,Mt=this._readableState;switch(Mt.pipesCount){case 0:Mt.pipes=un;break;case 1:Mt.pipes=[Mt.pipes,un];break;default:Mt.pipes.push(un)}Mt.pipesCount+=1,ht("pipe count=%d opts=%j",Mt.pipesCount,rn);var $t=(!rn||rn.end!==!1)&&un!==$.stdout&&un!==$.stderr?hn:po;function pn(jr,Yr){ht("onunpipe"),jr===At&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,ht("cleanup"),un.removeListener("close",_i),un.removeListener("finish",Pr),un.removeListener("drain",Sn),un.removeListener("error",Qr),un.removeListener("unpipe",pn),At.removeListener("end",hn),At.removeListener("end",po),At.removeListener("data",Gn),An=!0,!Mt.awaitDrain||un._writableState&&!un._writableState.needDrain||Sn())}function hn(){ht("onend"),un.end()}Mt.endEmitted?$.nextTick($t):At.once("end",$t),un.on("unpipe",pn);var Sn=function(jr){return function(){var Yr=jr._readableState;ht("pipeOnDrain",Yr.awaitDrain),Yr.awaitDrain&&Yr.awaitDrain--,Yr.awaitDrain===0&&tt(jr,"data")&&(Yr.flowing=!0,Ht(jr))}}(At);un.on("drain",Sn);var An=!1;function Gn(jr){ht("ondata");var Yr=un.write(jr);ht("dest.write",Yr),Yr===!1&&((Mt.pipesCount===1&&Mt.pipes===un||Mt.pipesCount>1&&vn(Mt.pipes,un)!==-1)&&!An&&(ht("false write response, pause",Mt.awaitDrain),Mt.awaitDrain++),At.pause())}function Qr(jr){ht("onerror",jr),po(),un.removeListener("error",Qr),tt(un,"error")===0&&nn(un,jr)}function _i(){un.removeListener("finish",Pr),po()}function Pr(){ht("onfinish"),un.removeListener("close",_i),po()}function po(){ht("unpipe"),At.unpipe(un)}return At.on("data",Gn),function(jr,Yr,no){if(typeof jr.prependListener=="function")return jr.prependListener(Yr,no);jr._events&&jr._events[Yr]?Array.isArray(jr._events[Yr])?jr._events[Yr].unshift(no):jr._events[Yr]=[no,jr._events[Yr]]:jr.on(Yr,no)}(un,"error",Qr),un.once("close",_i),un.once("finish",Pr),un.emit("pipe",At),Mt.flowing||(ht("pipe resume"),At.resume()),un},St.prototype.unpipe=function(un){var rn=this._readableState,At={hasUnpiped:!1};if(rn.pipesCount===0)return this;if(rn.pipesCount===1)return un&&un!==rn.pipes||(un||(un=rn.pipes),rn.pipes=null,rn.pipesCount=0,rn.flowing=!1,un&&un.emit("unpipe",this,At)),this;if(!un){var Mt=rn.pipes,$t=rn.pipesCount;rn.pipes=null,rn.pipesCount=0,rn.flowing=!1;for(var pn=0;pn<$t;pn++)Mt[pn].emit("unpipe",this,{hasUnpiped:!1});return this}var hn=vn(rn.pipes,un);return hn===-1||(rn.pipes.splice(hn,1),rn.pipesCount-=1,rn.pipesCount===1&&(rn.pipes=rn.pipes[0]),un.emit("unpipe",this,At)),this},St.prototype.on=function(un,rn){var At=j.prototype.on.call(this,un,rn),Mt=this._readableState;return un==="data"?(Mt.readableListening=this.listenerCount("readable")>0,Mt.flowing!==!1&&this.resume()):un==="readable"&&(Mt.endEmitted||Mt.readableListening||(Mt.readableListening=Mt.needReadable=!0,Mt.flowing=!1,Mt.emittedReadable=!1,ht("on readable",Mt.length,Mt.reading),Mt.length?Xt(this):Mt.reading||$.nextTick(Ct,this))),At},St.prototype.addListener=St.prototype.on,St.prototype.removeListener=function(un,rn){var At=j.prototype.removeListener.call(this,un,rn);return un==="readable"&&$.nextTick(Zt,this),At},St.prototype.removeAllListeners=function(un){var rn=j.prototype.removeAllListeners.apply(this,arguments);return un!=="readable"&&un!==void 0||$.nextTick(Zt,this),rn},St.prototype.resume=function(){var un=this._readableState;return un.flowing||(ht("resume"),un.flowing=!un.readableListening,function(rn,At){At.resumeScheduled||(At.resumeScheduled=!0,$.nextTick(Ft,rn,At))}(this,un)),un.paused=!1,this},St.prototype.pause=function(){return ht("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ht("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},St.prototype.wrap=function(un){var rn=this,At=this._readableState,Mt=!1;for(var $t in un.on("end",function(){if(ht("wrapped end"),At.decoder&&!At.ended){var hn=At.decoder.end();hn&&hn.length&&rn.push(hn)}rn.push(null)}),un.on("data",function(hn){ht("wrapped data"),At.decoder&&(hn=At.decoder.write(hn)),At.objectMode&&hn==null||(At.objectMode||hn&&hn.length)&&(rn.push(hn)||(Mt=!0,un.pause()))}),un)this[$t]===void 0&&typeof un[$t]=="function"&&(this[$t]=function(hn){return function(){return un[hn].apply(un,arguments)}}($t));for(var pn=0;pn<on.length;pn++)un.on(on[pn],this.emit.bind(this,on[pn]));return this._read=function(hn){ht("wrapped _read",hn),Mt&&(Mt=!1,un.resume())},this},typeof Symbol=="function"&&(St.prototype[Symbol.asyncIterator]=function(){return dt===void 0&&(dt=s(182)),dt(this)}),Object.defineProperty(St.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(St.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(St.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(un){this._readableState&&(this._readableState.flowing=un)}}),St._fromList=tn,Object.defineProperty(St.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(St.from=function(un,rn){return ut===void 0&&(ut=s(183)),ut(St,un,rn)})}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(21).EventEmitter},function(i,o,s){(function(_){function $(j,nt){tt(j,nt),_e(j)}function _e(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function tt(j,nt){j.emit("error",nt)}i.exports={destroy:function(j,nt){var st=this,ht=this._readableState&&this._readableState.destroyed,_t=this._writableState&&this._writableState.destroyed;return ht||_t?(nt?nt(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_.nextTick(tt,this,j)):_.nextTick(tt,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(ft){!nt&&ft?st._writableState?st._writableState.errorEmitted?_.nextTick(_e,st):(st._writableState.errorEmitted=!0,_.nextTick($,st,ft)):_.nextTick($,st,ft):nt?(_.nextTick(_e,st),nt(ft)):_.nextTick(_e,st)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(j,nt){var st=j._readableState,ht=j._writableState;st&&st.autoDestroy||ht&&ht.autoDestroy?j.destroy(nt):j.emit("error",nt)}}}).call(this,s(2))},function(i,o,s){var _=s(26).codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function($,_e,tt,j){var nt=function(st,ht,_t){return st.highWaterMark!=null?st.highWaterMark:ht?st[_t]:null}(_e,j,tt);if(nt!=null){if(!isFinite(nt)||Math.floor(nt)!==nt||nt<0)throw new _(j?tt:"highWaterMark",nt);return Math.floor(nt)}return $.objectMode?16:16384}}},function(i,o,s){(function(_,$){function _e(jt){var Zt=this;this.next=null,this.entry=null,this.finish=function(){(function(Ct,Ft,Ht){var tn=Ct.entry;for(Ct.entry=null;tn;){var mn=tn.callback;Ft.pendingcb--,mn(Ht),tn=tn.next}Ft.corkedRequestsFree.next=Ct})(Zt,jt)}}var tt;i.exports=St,St.WritableState=bt;var j={deprecate:s(43)},nt=s(78),st=s(5).Buffer,ht=_.Uint8Array||function(){},_t,ft=s(79),dt=s(80).getHighWaterMark,ut=s(26).codes,mt=ut.ERR_INVALID_ARG_TYPE,wt=ut.ERR_METHOD_NOT_IMPLEMENTED,Qt=ut.ERR_MULTIPLE_CALLBACK,Dt=ut.ERR_STREAM_CANNOT_PIPE,Et=ut.ERR_STREAM_DESTROYED,xt=ut.ERR_STREAM_NULL_VALUES,pt=ut.ERR_STREAM_WRITE_AFTER_END,Vt=ut.ERR_UNKNOWN_ENCODING,nn=ft.errorOrDestroy;function on(){}function bt(jt,Zt,Ct){tt=tt||s(27),jt=jt||{},typeof Ct!="boolean"&&(Ct=Zt instanceof tt),this.objectMode=!!jt.objectMode,Ct&&(this.objectMode=this.objectMode||!!jt.writableObjectMode),this.highWaterMark=dt(this,jt,"writableHighWaterMark",Ct),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ft=jt.decodeStrings===!1;this.decodeStrings=!Ft,this.defaultEncoding=jt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ht){(function(tn,mn){var yn=tn._writableState,vn=yn.sync,un=yn.writecb;if(typeof un!="function")throw new Qt;if(function(At){At.writing=!1,At.writecb=null,At.length-=At.writelen,At.writelen=0}(yn),mn)(function(At,Mt,$t,pn,hn){--Mt.pendingcb,$t?($.nextTick(hn,pn),$.nextTick(Pt,At,Mt),At._writableState.errorEmitted=!0,nn(At,pn)):(hn(pn),At._writableState.errorEmitted=!0,nn(At,pn),Pt(At,Mt))})(tn,yn,vn,mn,un);else{var rn=Xt(yn)||tn.destroyed;rn||yn.corked||yn.bufferProcessing||!yn.bufferedRequest||Lt(tn,yn),vn?$.nextTick(Bt,tn,yn,rn,un):Bt(tn,yn,rn,un)}})(Zt,Ht)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=jt.emitClose!==!1,this.autoDestroy=!!jt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _e(this)}function St(jt){var Zt=this instanceof(tt=tt||s(27));if(!Zt&&!_t.call(St,this))return new St(jt);this._writableState=new bt(jt,this,Zt),this.writable=!0,jt&&(typeof jt.write=="function"&&(this._write=jt.write),typeof jt.writev=="function"&&(this._writev=jt.writev),typeof jt.destroy=="function"&&(this._destroy=jt.destroy),typeof jt.final=="function"&&(this._final=jt.final)),nt.call(this)}function It(jt,Zt,Ct,Ft,Ht,tn,mn){Zt.writelen=Ft,Zt.writecb=mn,Zt.writing=!0,Zt.sync=!0,Zt.destroyed?Zt.onwrite(new Et("write")):Ct?jt._writev(Ht,Zt.onwrite):jt._write(Ht,tn,Zt.onwrite),Zt.sync=!1}function Bt(jt,Zt,Ct,Ft){Ct||function(Ht,tn){tn.length===0&&tn.needDrain&&(tn.needDrain=!1,Ht.emit("drain"))}(jt,Zt),Zt.pendingcb--,Ft(),Pt(jt,Zt)}function Lt(jt,Zt){Zt.bufferProcessing=!0;var Ct=Zt.bufferedRequest;if(jt._writev&&Ct&&Ct.next){var Ft=Zt.bufferedRequestCount,Ht=new Array(Ft),tn=Zt.corkedRequestsFree;tn.entry=Ct;for(var mn=0,yn=!0;Ct;)Ht[mn]=Ct,Ct.isBuf||(yn=!1),Ct=Ct.next,mn+=1;Ht.allBuffers=yn,It(jt,Zt,!0,Zt.length,Ht,"",tn.finish),Zt.pendingcb++,Zt.lastBufferedRequest=null,tn.next?(Zt.corkedRequestsFree=tn.next,tn.next=null):Zt.corkedRequestsFree=new _e(Zt),Zt.bufferedRequestCount=0}else{for(;Ct;){var vn=Ct.chunk,un=Ct.encoding,rn=Ct.callback;if(It(jt,Zt,!1,Zt.objectMode?1:vn.length,vn,un,rn),Ct=Ct.next,Zt.bufferedRequestCount--,Zt.writing)break}Ct===null&&(Zt.lastBufferedRequest=null)}Zt.bufferedRequest=Ct,Zt.bufferProcessing=!1}function Xt(jt){return jt.ending&&jt.length===0&&jt.bufferedRequest===null&&!jt.finished&&!jt.writing}function zt(jt,Zt){jt._final(function(Ct){Zt.pendingcb--,Ct&&nn(jt,Ct),Zt.prefinished=!0,jt.emit("prefinish"),Pt(jt,Zt)})}function Pt(jt,Zt){var Ct=Xt(Zt);if(Ct&&(function(Ht,tn){tn.prefinished||tn.finalCalled||(typeof Ht._final!="function"||tn.destroyed?(tn.prefinished=!0,Ht.emit("prefinish")):(tn.pendingcb++,tn.finalCalled=!0,$.nextTick(zt,Ht,tn)))}(jt,Zt),Zt.pendingcb===0&&(Zt.finished=!0,jt.emit("finish"),Zt.autoDestroy))){var Ft=jt._readableState;(!Ft||Ft.autoDestroy&&Ft.endEmitted)&&jt.destroy()}return Ct}s(7)(St,nt),bt.prototype.getBuffer=function(){for(var jt=this.bufferedRequest,Zt=[];jt;)Zt.push(jt),jt=jt.next;return Zt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_t=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(jt){return!!_t.call(this,jt)||this===St&&jt&&jt._writableState instanceof bt}})):_t=function(jt){return jt instanceof this},St.prototype.pipe=function(){nn(this,new Dt)},St.prototype.write=function(jt,Zt,Ct){var Ft,Ht=this._writableState,tn=!1,mn=!Ht.objectMode&&(Ft=jt,st.isBuffer(Ft)||Ft instanceof ht);return mn&&!st.isBuffer(jt)&&(jt=function(yn){return st.from(yn)}(jt)),typeof Zt=="function"&&(Ct=Zt,Zt=null),mn?Zt="buffer":Zt||(Zt=Ht.defaultEncoding),typeof Ct!="function"&&(Ct=on),Ht.ending?function(yn,vn){var un=new pt;nn(yn,un),$.nextTick(vn,un)}(this,Ct):(mn||function(yn,vn,un,rn){var At;return un===null?At=new xt:typeof un=="string"||vn.objectMode||(At=new mt("chunk",["string","Buffer"],un)),!At||(nn(yn,At),$.nextTick(rn,At),!1)}(this,Ht,jt,Ct))&&(Ht.pendingcb++,tn=function(yn,vn,un,rn,At,Mt){if(!un){var $t=function(An,Gn,Qr){return An.objectMode||An.decodeStrings===!1||typeof Gn!="string"||(Gn=st.from(Gn,Qr)),Gn}(vn,rn,At);rn!==$t&&(un=!0,At="buffer",rn=$t)}var pn=vn.objectMode?1:rn.length;vn.length+=pn;var hn=vn.length<vn.highWaterMark;if(hn||(vn.needDrain=!0),vn.writing||vn.corked){var Sn=vn.lastBufferedRequest;vn.lastBufferedRequest={chunk:rn,encoding:At,isBuf:un,callback:Mt,next:null},Sn?Sn.next=vn.lastBufferedRequest:vn.bufferedRequest=vn.lastBufferedRequest,vn.bufferedRequestCount+=1}else It(yn,vn,!1,pn,rn,At,Mt);return hn}(this,Ht,mn,jt,Zt,Ct)),tn},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var jt=this._writableState;jt.corked&&(jt.corked--,jt.writing||jt.corked||jt.bufferProcessing||!jt.bufferedRequest||Lt(this,jt))},St.prototype.setDefaultEncoding=function(jt){if(typeof jt=="string"&&(jt=jt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((jt+"").toLowerCase())>-1))throw new Vt(jt);return this._writableState.defaultEncoding=jt,this},Object.defineProperty(St.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(jt,Zt,Ct){Ct(new wt("_write()"))},St.prototype._writev=null,St.prototype.end=function(jt,Zt,Ct){var Ft=this._writableState;return typeof jt=="function"?(Ct=jt,jt=null,Zt=null):typeof Zt=="function"&&(Ct=Zt,Zt=null),jt!=null&&this.write(jt,Zt),Ft.corked&&(Ft.corked=1,this.uncork()),Ft.ending||function(Ht,tn,mn){tn.ending=!0,Pt(Ht,tn),mn&&(tn.finished?$.nextTick(mn):Ht.once("finish",mn)),tn.ended=!0,Ht.writable=!1}(this,Ft,Ct),this},Object.defineProperty(St.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(St.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(jt){this._writableState&&(this._writableState.destroyed=jt)}}),St.prototype.destroy=ft.destroy,St.prototype._undestroy=ft.undestroy,St.prototype._destroy=function(jt,Zt){Zt(jt)}}).call(this,s(6),s(2))},function(i,o,s){i.exports=ht;var _=s(26).codes,$=_.ERR_METHOD_NOT_IMPLEMENTED,_e=_.ERR_MULTIPLE_CALLBACK,tt=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,j=_.ERR_TRANSFORM_WITH_LENGTH_0,nt=s(27);function st(dt,ut){var mt=this._transformState;mt.transforming=!1;var wt=mt.writecb;if(wt===null)return this.emit("error",new _e);mt.writechunk=null,mt.writecb=null,ut!=null&&this.push(ut),wt(dt);var Qt=this._readableState;Qt.reading=!1,(Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}function ht(dt){if(!(this instanceof ht))return new ht(dt);nt.call(this,dt),this._transformState={afterTransform:st.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,dt&&(typeof dt.transform=="function"&&(this._transform=dt.transform),typeof dt.flush=="function"&&(this._flush=dt.flush)),this.on("prefinish",_t)}function _t(){var dt=this;typeof this._flush!="function"||this._readableState.destroyed?ft(this,null,null):this._flush(function(ut,mt){ft(dt,ut,mt)})}function ft(dt,ut,mt){if(ut)return dt.emit("error",ut);if(mt!=null&&dt.push(mt),dt._writableState.length)throw new j;if(dt._transformState.transforming)throw new tt;return dt.push(null)}s(7)(ht,nt),ht.prototype.push=function(dt,ut){return this._transformState.needTransform=!1,nt.prototype.push.call(this,dt,ut)},ht.prototype._transform=function(dt,ut,mt){mt(new $("_transform()"))},ht.prototype._write=function(dt,ut,mt){var wt=this._transformState;if(wt.writecb=mt,wt.writechunk=dt,wt.writeencoding=ut,!wt.transforming){var Qt=this._readableState;(wt.needTransform||Qt.needReadable||Qt.length<Qt.highWaterMark)&&this._read(Qt.highWaterMark)}},ht.prototype._read=function(dt){var ut=this._transformState;ut.writechunk===null||ut.transforming?ut.needTransform=!0:(ut.transforming=!0,this._transform(ut.writechunk,ut.writeencoding,ut.afterTransform))},ht.prototype._destroy=function(dt,ut){nt.prototype._destroy.call(this,dt,function(mt){ut(mt)})}},function(i,o,s){(function(_){var $=s(190),_e=s(85),tt=s(192),j=s(193),nt=s(86),st=o;st.request=function(ht,_t){ht=typeof ht=="string"?nt.parse(ht):tt(ht);var ft=_.location.protocol.search(/^https?:$/)===-1?"http:":"",dt=ht.protocol||ft,ut=ht.hostname||ht.host,mt=ht.port,wt=ht.path||"/";ut&&ut.indexOf(":")!==-1&&(ut="["+ut+"]"),ht.url=(ut?dt+"//"+ut:"")+(mt?":"+mt:"")+wt,ht.method=(ht.method||"GET").toUpperCase(),ht.headers=ht.headers||{};var Qt=new $(ht);return _t&&Qt.on("response",_t),Qt},st.get=function(ht,_t){var ft=st.request(ht,_t);return ft.end(),ft},st.ClientRequest=$,st.IncomingMessage=_e.IncomingMessage,st.Agent=function(){},st.Agent.defaultMaxSockets=4,st.globalAgent=new st.Agent,st.STATUS_CODES=j,st.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,s(6))},function(i,o,s){(function(_){o.fetch=st(_.fetch)&&st(_.ReadableStream),o.writableStream=st(_.WritableStream),o.abortController=st(_.AbortController),o.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),o.blobConstructor=!0}catch{}var $;function _e(){if($!==void 0)return $;if(_.XMLHttpRequest){$=new _.XMLHttpRequest;try{$.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{$=null}}else $=null;return $}function tt(ht){var _t=_e();if(!_t)return!1;try{return _t.responseType=ht,_t.responseType===ht}catch{}return!1}var j=_.ArrayBuffer!==void 0,nt=j&&st(_.ArrayBuffer.prototype.slice);function st(ht){return typeof ht=="function"}o.arraybuffer=o.fetch||j&&tt("arraybuffer"),o.msstream=!o.fetch&&nt&&tt("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&j&&tt("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!_e()&&st(_e().overrideMimeType),o.vbArray=st(_.VBArray),$=null}).call(this,s(6))},function(i,o,s){(function(_,$,_e){var tt=s(84),j=s(7),nt=s(31),st=o.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ht=o.IncomingMessage=function(_t,ft,dt,ut){var mt=this;if(nt.Readable.call(mt),mt._mode=dt,mt.headers={},mt.rawHeaders=[],mt.trailers={},mt.rawTrailers=[],mt.on("end",function(){_.nextTick(function(){mt.emit("close")})}),dt==="fetch"){if(mt._fetchResponse=ft,mt.url=ft.url,mt.statusCode=ft.status,mt.statusMessage=ft.statusText,ft.headers.forEach(function(xt,pt){mt.headers[pt.toLowerCase()]=xt,mt.rawHeaders.push(pt,xt)}),tt.writableStream){var wt=new WritableStream({write:function(xt){return new Promise(function(pt,Vt){mt._destroyed?Vt():mt.push(new $(xt))?pt():mt._resumeFetch=pt})},close:function(){_e.clearTimeout(ut),mt._destroyed||mt.push(null)},abort:function(xt){mt._destroyed||mt.emit("error",xt)}});try{return void ft.body.pipeTo(wt).catch(function(xt){_e.clearTimeout(ut),mt._destroyed||mt.emit("error",xt)})}catch{}}var Qt=ft.body.getReader();(function xt(){Qt.read().then(function(pt){if(!mt._destroyed){if(pt.done)return _e.clearTimeout(ut),void mt.push(null);mt.push(new $(pt.value)),xt()}}).catch(function(pt){_e.clearTimeout(ut),mt._destroyed||mt.emit("error",pt)})})()}else if(mt._xhr=_t,mt._pos=0,mt.url=_t.responseURL,mt.statusCode=_t.status,mt.statusMessage=_t.statusText,_t.getAllResponseHeaders().split(/\r?\n/).forEach(function(xt){var pt=xt.match(/^([^:]+):\s*(.*)/);if(pt){var Vt=pt[1].toLowerCase();Vt==="set-cookie"?(mt.headers[Vt]===void 0&&(mt.headers[Vt]=[]),mt.headers[Vt].push(pt[2])):mt.headers[Vt]!==void 0?mt.headers[Vt]+=", "+pt[2]:mt.headers[Vt]=pt[2],mt.rawHeaders.push(pt[1],pt[2])}}),mt._charset="x-user-defined",!tt.overrideMimeType){var Dt=mt.rawHeaders["mime-type"];if(Dt){var Et=Dt.match(/;\s*charset=([^;])(;|$)/);Et&&(mt._charset=Et[1].toLowerCase())}mt._charset||(mt._charset="utf-8")}};j(ht,nt.Readable),ht.prototype._read=function(){var _t=this._resumeFetch;_t&&(this._resumeFetch=null,_t())},ht.prototype._onXHRProgress=function(){var _t=this,ft=_t._xhr,dt=null;switch(_t._mode){case"text:vbarray":if(ft.readyState!==st.DONE)break;try{dt=new _e.VBArray(ft.responseBody).toArray()}catch{}if(dt!==null){_t.push(new $(dt));break}case"text":try{dt=ft.responseText}catch{_t._mode="text:vbarray";break}if(dt.length>_t._pos){var ut=dt.substr(_t._pos);if(_t._charset==="x-user-defined"){for(var mt=new $(ut.length),wt=0;wt<ut.length;wt++)mt[wt]=255&ut.charCodeAt(wt);_t.push(mt)}else _t.push(ut,_t._charset);_t._pos=dt.length}break;case"arraybuffer":if(ft.readyState!==st.DONE||!ft.response)break;dt=ft.response,_t.push(new $(new Uint8Array(dt)));break;case"moz-chunked-arraybuffer":if(dt=ft.response,ft.readyState!==st.LOADING||!dt)break;_t.push(new $(new Uint8Array(dt)));break;case"ms-stream":if(dt=ft.response,ft.readyState!==st.LOADING)break;var Qt=new _e.MSStreamReader;Qt.onprogress=function(){Qt.result.byteLength>_t._pos&&(_t.push(new $(new Uint8Array(Qt.result.slice(_t._pos)))),_t._pos=Qt.result.byteLength)},Qt.onload=function(){_t.push(null)},Qt.readAsArrayBuffer(dt)}_t._xhr.readyState===st.DONE&&_t._mode!=="ms-stream"&&_t.push(null)}}).call(this,s(2),s(5).Buffer,s(6))},function(i,o,s){var _=s(194),$=s(196);function _e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=Et,o.resolve=function(xt,pt){return Et(xt,!1,!0).resolve(pt)},o.resolveObject=function(xt,pt){return xt?Et(xt,!1,!0).resolveObject(pt):pt},o.format=function(xt){return $.isString(xt)&&(xt=Et(xt)),xt instanceof _e?xt.format():_e.prototype.format.call(xt)},o.Url=_e;var tt=/^([a-z0-9.+-]+:)/i,j=/:[0-9]*$/,nt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,st=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ht=["'"].concat(st),_t=["%","/","?",";","#"].concat(ht),ft=["/","?","#"],dt=/^[+a-z0-9A-Z_-]{0,63}$/,ut=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Qt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Dt=s(197);function Et(xt,pt,Vt){if(xt&&$.isObject(xt)&&xt instanceof _e)return xt;var nn=new _e;return nn.parse(xt,pt,Vt),nn}_e.prototype.parse=function(xt,pt,Vt){if(!$.isString(xt))throw new TypeError("Parameter 'url' must be a string, not "+typeof xt);var nn=xt.indexOf("?"),on=nn!==-1&&nn<xt.indexOf("#")?"?":"#",bt=xt.split(on);bt[0]=bt[0].replace(/\\/g,"/");var St=xt=bt.join(on);if(St=St.trim(),!Vt&&xt.split("#").length===1){var It=nt.exec(St);if(It)return this.path=St,this.href=St,this.pathname=It[1],It[2]?(this.search=It[2],this.query=pt?Dt.parse(this.search.substr(1)):this.search.substr(1)):pt&&(this.search="",this.query={}),this}var Bt=tt.exec(St);if(Bt){var Lt=(Bt=Bt[0]).toLowerCase();this.protocol=Lt,St=St.substr(Bt.length)}if(Vt||Bt||St.match(/^\/\/[^@\/]+@[^@\/]+/)){var Xt=St.substr(0,2)==="//";!Xt||Bt&&wt[Bt]||(St=St.substr(2),this.slashes=!0)}if(!wt[Bt]&&(Xt||Bt&&!Qt[Bt])){for(var zt,Pt,jt=-1,Zt=0;Zt<ft.length;Zt++)(Ct=St.indexOf(ft[Zt]))!==-1&&(jt===-1||Ct<jt)&&(jt=Ct);for((Pt=jt===-1?St.lastIndexOf("@"):St.lastIndexOf("@",jt))!==-1&&(zt=St.slice(0,Pt),St=St.slice(Pt+1),this.auth=decodeURIComponent(zt)),jt=-1,Zt=0;Zt<_t.length;Zt++){var Ct;(Ct=St.indexOf(_t[Zt]))!==-1&&(jt===-1||Ct<jt)&&(jt=Ct)}jt===-1&&(jt=St.length),this.host=St.slice(0,jt),St=St.slice(jt),this.parseHost(),this.hostname=this.hostname||"";var Ft=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Ft)for(var Ht=this.hostname.split(/\./),tn=(Zt=0,Ht.length);Zt<tn;Zt++){var mn=Ht[Zt];if(mn&&!mn.match(dt)){for(var yn="",vn=0,un=mn.length;vn<un;vn++)mn.charCodeAt(vn)>127?yn+="x":yn+=mn[vn];if(!yn.match(dt)){var rn=Ht.slice(0,Zt),At=Ht.slice(Zt+1),Mt=mn.match(ut);Mt&&(rn.push(Mt[1]),At.unshift(Mt[2])),At.length&&(St="/"+At.join(".")+St),this.hostname=rn.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Ft||(this.hostname=_.toASCII(this.hostname));var $t=this.port?":"+this.port:"",pn=this.hostname||"";this.host=pn+$t,this.href+=this.host,Ft&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),St[0]!=="/"&&(St="/"+St))}if(!mt[Lt])for(Zt=0,tn=ht.length;Zt<tn;Zt++){var hn=ht[Zt];if(St.indexOf(hn)!==-1){var Sn=encodeURIComponent(hn);Sn===hn&&(Sn=escape(hn)),St=St.split(hn).join(Sn)}}var An=St.indexOf("#");An!==-1&&(this.hash=St.substr(An),St=St.slice(0,An));var Gn=St.indexOf("?");if(Gn!==-1?(this.search=St.substr(Gn),this.query=St.substr(Gn+1),pt&&(this.query=Dt.parse(this.query)),St=St.slice(0,Gn)):pt&&(this.search="",this.query={}),St&&(this.pathname=St),Qt[Lt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$t=this.pathname||"";var Qr=this.search||"";this.path=$t+Qr}return this.href=this.format(),this},_e.prototype.format=function(){var xt=this.auth||"";xt&&(xt=(xt=encodeURIComponent(xt)).replace(/%3A/i,":"),xt+="@");var pt=this.protocol||"",Vt=this.pathname||"",nn=this.hash||"",on=!1,bt="";this.host?on=xt+this.host:this.hostname&&(on=xt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(on+=":"+this.port)),this.query&&$.isObject(this.query)&&Object.keys(this.query).length&&(bt=Dt.stringify(this.query));var St=this.search||bt&&"?"+bt||"";return pt&&pt.substr(-1)!==":"&&(pt+=":"),this.slashes||(!pt||Qt[pt])&&on!==!1?(on="//"+(on||""),Vt&&Vt.charAt(0)!=="/"&&(Vt="/"+Vt)):on||(on=""),nn&&nn.charAt(0)!=="#"&&(nn="#"+nn),St&&St.charAt(0)!=="?"&&(St="?"+St),pt+on+(Vt=Vt.replace(/[?#]/g,function(It){return encodeURIComponent(It)}))+(St=St.replace("#","%23"))+nn},_e.prototype.resolve=function(xt){return this.resolveObject(Et(xt,!1,!0)).format()},_e.prototype.resolveObject=function(xt){if($.isString(xt)){var pt=new _e;pt.parse(xt,!1,!0),xt=pt}for(var Vt=new _e,nn=Object.keys(this),on=0;on<nn.length;on++){var bt=nn[on];Vt[bt]=this[bt]}if(Vt.hash=xt.hash,xt.href==="")return Vt.href=Vt.format(),Vt;if(xt.slashes&&!xt.protocol){for(var St=Object.keys(xt),It=0;It<St.length;It++){var Bt=St[It];Bt!=="protocol"&&(Vt[Bt]=xt[Bt])}return Qt[Vt.protocol]&&Vt.hostname&&!Vt.pathname&&(Vt.path=Vt.pathname="/"),Vt.href=Vt.format(),Vt}if(xt.protocol&&xt.protocol!==Vt.protocol){if(!Qt[xt.protocol]){for(var Lt=Object.keys(xt),Xt=0;Xt<Lt.length;Xt++){var zt=Lt[Xt];Vt[zt]=xt[zt]}return Vt.href=Vt.format(),Vt}if(Vt.protocol=xt.protocol,xt.host||wt[xt.protocol])Vt.pathname=xt.pathname;else{for(var Pt=(xt.pathname||"").split("/");Pt.length&&!(xt.host=Pt.shift()););xt.host||(xt.host=""),xt.hostname||(xt.hostname=""),Pt[0]!==""&&Pt.unshift(""),Pt.length<2&&Pt.unshift(""),Vt.pathname=Pt.join("/")}if(Vt.search=xt.search,Vt.query=xt.query,Vt.host=xt.host||"",Vt.auth=xt.auth,Vt.hostname=xt.hostname||xt.host,Vt.port=xt.port,Vt.pathname||Vt.search){var jt=Vt.pathname||"",Zt=Vt.search||"";Vt.path=jt+Zt}return Vt.slashes=Vt.slashes||xt.slashes,Vt.href=Vt.format(),Vt}var Ct=Vt.pathname&&Vt.pathname.charAt(0)==="/",Ft=xt.host||xt.pathname&&xt.pathname.charAt(0)==="/",Ht=Ft||Ct||Vt.host&&xt.pathname,tn=Ht,mn=Vt.pathname&&Vt.pathname.split("/")||[],yn=(Pt=xt.pathname&&xt.pathname.split("/")||[],Vt.protocol&&!Qt[Vt.protocol]);if(yn&&(Vt.hostname="",Vt.port=null,Vt.host&&(mn[0]===""?mn[0]=Vt.host:mn.unshift(Vt.host)),Vt.host="",xt.protocol&&(xt.hostname=null,xt.port=null,xt.host&&(Pt[0]===""?Pt[0]=xt.host:Pt.unshift(xt.host)),xt.host=null),Ht=Ht&&(Pt[0]===""||mn[0]==="")),Ft)Vt.host=xt.host||xt.host===""?xt.host:Vt.host,Vt.hostname=xt.hostname||xt.hostname===""?xt.hostname:Vt.hostname,Vt.search=xt.search,Vt.query=xt.query,mn=Pt;else if(Pt.length)mn||(mn=[]),mn.pop(),mn=mn.concat(Pt),Vt.search=xt.search,Vt.query=xt.query;else if(!$.isNullOrUndefined(xt.search))return yn&&(Vt.hostname=Vt.host=mn.shift(),(Mt=!!(Vt.host&&Vt.host.indexOf("@")>0)&&Vt.host.split("@"))&&(Vt.auth=Mt.shift(),Vt.host=Vt.hostname=Mt.shift())),Vt.search=xt.search,Vt.query=xt.query,$.isNull(Vt.pathname)&&$.isNull(Vt.search)||(Vt.path=(Vt.pathname?Vt.pathname:"")+(Vt.search?Vt.search:"")),Vt.href=Vt.format(),Vt;if(!mn.length)return Vt.pathname=null,Vt.search?Vt.path="/"+Vt.search:Vt.path=null,Vt.href=Vt.format(),Vt;for(var vn=mn.slice(-1)[0],un=(Vt.host||xt.host||mn.length>1)&&(vn==="."||vn==="..")||vn==="",rn=0,At=mn.length;At>=0;At--)(vn=mn[At])==="."?mn.splice(At,1):vn===".."?(mn.splice(At,1),rn++):rn&&(mn.splice(At,1),rn--);if(!Ht&&!tn)for(;rn--;rn)mn.unshift("..");!Ht||mn[0]===""||mn[0]&&mn[0].charAt(0)==="/"||mn.unshift(""),un&&mn.join("/").substr(-1)!=="/"&&mn.push("");var Mt,$t=mn[0]===""||mn[0]&&mn[0].charAt(0)==="/";return yn&&(Vt.hostname=Vt.host=$t?"":mn.length?mn.shift():"",(Mt=!!(Vt.host&&Vt.host.indexOf("@")>0)&&Vt.host.split("@"))&&(Vt.auth=Mt.shift(),Vt.host=Vt.hostname=Mt.shift())),(Ht=Ht||Vt.host&&mn.length)&&!$t&&mn.unshift(""),mn.length?Vt.pathname=mn.join("/"):(Vt.pathname=null,Vt.path=null),$.isNull(Vt.pathname)&&$.isNull(Vt.search)||(Vt.path=(Vt.pathname?Vt.pathname:"")+(Vt.search?Vt.search:"")),Vt.auth=xt.auth||Vt.auth,Vt.slashes=Vt.slashes||xt.slashes,Vt.href=Vt.format(),Vt},_e.prototype.parseHost=function(){var xt=this.host,pt=j.exec(xt);pt&&((pt=pt[0])!==":"&&(this.port=pt.substr(1)),xt=xt.substr(0,xt.length-pt.length)),xt&&(this.hostname=xt)}},function(i,o,s){const _=$=>$!==null&&typeof $=="object"&&typeof $.pipe=="function";_.writable=$=>_($)&&$.writable!==!1&&typeof $._write=="function"&&typeof $._writableState=="object",_.readable=$=>_($)&&$.readable!==!1&&typeof $._read=="function"&&typeof $._readableState=="object",_.duplex=$=>_.writable($)&&_.readable($),_.transform=$=>_.duplex($)&&typeof $._transform=="function"&&typeof $._transformState=="object",i.exports=_},function(i,o,s){function _(mt){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(mt)}function $(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}function _e(mt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),wt&&tt(mt,wt)}function tt(mt,wt){return(tt=Object.setPrototypeOf||function(Qt,Dt){return Qt.__proto__=Dt,Qt})(mt,wt)}function j(mt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,Dt=st(mt);if(wt){var Et=st(this).constructor;Qt=Reflect.construct(Dt,arguments,Et)}else Qt=Dt.apply(this,arguments);return nt(this,Qt)}}function nt(mt,wt){return!wt||_(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(mt):wt}function st(mt){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(mt)}var ht=s(3).LEVEL,_t=s(50),ft=s(202),dt=s(38)("winston:create-logger");function ut(mt){return"is"+mt.charAt(0).toUpperCase()+mt.slice(1)+"Enabled"}i.exports=function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mt.levels=mt.levels||_t.npm.levels;var wt=function(Dt){_e(xt,Dt);var Et=j(xt);function xt(pt){return $(this,xt),Et.call(this,pt)}return xt}(ft),Qt=new wt(mt);return Object.keys(mt.levels).forEach(function(Dt){dt('Define prototype method for "%s"',Dt),Dt!=="log"?(wt.prototype[Dt]=function(){for(var Et=this||Qt,xt=arguments.length,pt=new Array(xt),Vt=0;Vt<xt;Vt++)pt[Vt]=arguments[Vt];if(pt.length===1){var nn=pt[0],on=nn&&nn.message&&nn||{message:nn};return on.level=on[ht]=Dt,Et._addDefaultMeta(on),Et.write(on),this||Qt}return pt.length===0?(Et.log(Dt,""),Et):Et.log.apply(Et,[Dt].concat(pt))},wt.prototype[ut(Dt)]=function(){return(this||Qt).isLevelEnabled(Dt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Qt}},function(i,o,s){(function(_){function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(18),tt=s(51),j=s(38)("winston:exception"),nt=s(90),st=s(91),ht=s(92);i.exports=function(){function _t(ut){if(function(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,_t),!ut)throw new Error("Logger is required to handle exceptions");this.logger=ut,this.handlers=new Map}var ft,dt;return ft=_t,(dt=[{key:"handle",value:function(){for(var ut=this,mt=arguments.length,wt=new Array(mt),Qt=0;Qt<mt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(Dt){if(Array.isArray(Dt))return Dt.forEach(function(Et){return ut._addHandler(Et)});ut._addHandler(Dt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),_.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(mt){return ut.logger.unpipe(mt)}))}},{key:"getAllInfo",value:function(ut){var mt=ut.message;return mt||typeof ut!="string"||(mt=ut),{error:ut,level:"error",message:["uncaughtException: ".concat(mt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?st.parse(ut):st.get()).map(function(mt){return{column:mt.getColumnNumber(),file:mt.getFileName(),function:mt.getFunctionName(),line:mt.getLineNumber(),method:mt.getMethodName(),native:mt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleExceptions=!0;var mt=new ht(ut);this.handlers.set(ut,mt),this.logger.pipe(mt)}}},{key:"_uncaughtException",value:function(ut){var mt,wt=this.getAllInfo(ut),Qt=this._getExceptionHandlers(),Dt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function Et(){j("doExit",Dt),j("process._exiting",_._exiting),Dt&&!_._exiting&&(mt&&clearTimeout(mt),_.exit(1))}if(!Qt.length&&Dt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),Dt=!1),!Qt||Qt.length===0)return _.nextTick(Et);tt(Qt,function(xt,pt){var Vt=nt(pt),nn=xt.transport||xt;function on(bt){return function(){j(bt),Vt()}}nn._ending=!0,nn.once("finish",on("finished")),nn.once("error",on("error"))},function(){return Dt&&Et()}),this.logger.log(wt),Dt&&(mt=setTimeout(Et,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleExceptions})}}])&&$(ft.prototype,dt),_t}()}).call(this,s(2))},function(i,o,s){var _=s(205);i.exports=function($){var _e,tt=0;function j(){return tt||(tt=1,_e=$.apply(this,arguments),$=null),_e}return j.displayName=_($),j}},function(i,o){function s(_){for(var $ in _)this[$]=_[$]}o.get=function(_){var $=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var _e={},tt=Error.prepareStackTrace;Error.prepareStackTrace=function(nt,st){return st},Error.captureStackTrace(_e,_||o.get);var j=_e.stack;return Error.prepareStackTrace=tt,Error.stackTraceLimit=$,j},o.parse=function(_){if(!_.stack)return[];var $=this;return _.stack.split(`
`).slice(1).map(function(_e){if(_e.match(/^\s*[-]{4,}$/))return $._createParsedCallSite({fileName:_e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var tt=_e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(tt){var j=null,nt=null,st=null,ht=null,_t=null,ft=tt[5]==="native";if(tt[1]){var dt=(st=tt[1]).lastIndexOf(".");if(st[dt-1]=="."&&dt--,dt>0){j=st.substr(0,dt),nt=st.substr(dt+1);var ut=j.indexOf(".Module");ut>0&&(st=st.substr(ut+1),j=j.substr(0,ut))}ht=null}nt&&(ht=j,_t=nt),nt==="<anonymous>"&&(_t=null,st=null);var mt={fileName:tt[2]||null,lineNumber:parseInt(tt[3],10)||null,functionName:st,typeName:ht,methodName:_t,columnNumber:parseInt(tt[4],10)||null,native:ft};return $._createParsedCallSite(mt)}}).filter(function(_e){return!!_e})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(_){s.prototype[_]=null,s.prototype["get"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),["topLevel","eval","native","constructor"].forEach(function(_){s.prototype[_]=!1,s.prototype["is"+_[0].toUpperCase()+_.substr(1)]=function(){return this[_]}}),o._createParsedCallSite=function(_){return new s(_)}},function(i,o,s){function _(ht){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t})(ht)}function $(ht,_t){for(var ft=0;ft<_t.length;ft++){var dt=_t[ft];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ht,dt.key,dt)}}function _e(ht,_t){return(_e=Object.setPrototypeOf||function(ft,dt){return ft.__proto__=dt,ft})(ht,_t)}function tt(ht){var _t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ft,dt=nt(ht);if(_t){var ut=nt(this).constructor;ft=Reflect.construct(dt,arguments,ut)}else ft=dt.apply(this,arguments);return j(this,ft)}}function j(ht,_t){return!_t||_(_t)!=="object"&&typeof _t!="function"?function(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}(ht):_t}function nt(ht){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(_t){return _t.__proto__||Object.getPrototypeOf(_t)})(ht)}var st=s(32).Writable;i.exports=function(ht){(function(mt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),wt&&_e(mt,wt)})(ut,ht);var _t,ft,dt=tt(ut);function ut(mt){var wt;if(function(Qt,Dt){if(!(Qt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,ut),wt=dt.call(this,{objectMode:!0}),!mt)throw new Error("ExceptionStream requires a TransportStream instance.");return wt.handleExceptions=!0,wt.transport=mt,wt}return _t=ut,(ft=[{key:"_write",value:function(mt,wt,Qt){return mt.exception?this.transport.log(mt,Qt):(Qt(),!0)}}])&&$(_t.prototype,ft),ut}(st)},function(i,o,s){(function(_){function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(18),tt=s(51),j=s(38)("winston:rejection"),nt=s(90),st=s(91),ht=s(92);i.exports=function(){function _t(ut){if(function(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,_t),!ut)throw new Error("Logger is required to handle rejections");this.logger=ut,this.handlers=new Map}var ft,dt;return ft=_t,(dt=[{key:"handle",value:function(){for(var ut=this,mt=arguments.length,wt=new Array(mt),Qt=0;Qt<mt;Qt++)wt[Qt]=arguments[Qt];wt.forEach(function(Dt){if(Array.isArray(Dt))return Dt.forEach(function(Et){return ut._addHandler(Et)});ut._addHandler(Dt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),_.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var ut=this;this.catcher&&(_.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(mt){return ut.logger.unpipe(mt)}))}},{key:"getAllInfo",value:function(ut){var mt=ut.message;return mt||typeof ut!="string"||(mt=ut),{error:ut,level:"error",message:["unhandledRejection: ".concat(mt||"(no error message)"),ut.stack||"  No stack trace"].join(`
`),stack:ut.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ut)}}},{key:"getProcessInfo",value:function(){return{pid:_.pid,uid:_.getuid?_.getuid():null,gid:_.getgid?_.getgid():null,cwd:_.cwd(),execPath:_.execPath,version:_.version,argv:_.argv,memoryUsage:_.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:_e.loadavg(),uptime:_e.uptime()}}},{key:"getTrace",value:function(ut){return(ut?st.parse(ut):st.get()).map(function(mt){return{column:mt.getColumnNumber(),file:mt.getFileName(),function:mt.getFunctionName(),line:mt.getLineNumber(),method:mt.getMethodName(),native:mt.isNative()}})}},{key:"_addHandler",value:function(ut){if(!this.handlers.has(ut)){ut.handleRejections=!0;var mt=new ht(ut);this.handlers.set(ut,mt),this.logger.pipe(mt)}}},{key:"_unhandledRejection",value:function(ut){var mt,wt=this.getAllInfo(ut),Qt=this._getRejectionHandlers(),Dt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ut):this.logger.exitOnError;function Et(){j("doExit",Dt),j("process._exiting",_._exiting),Dt&&!_._exiting&&(mt&&clearTimeout(mt),_.exit(1))}if(!Qt.length&&Dt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),Dt=!1),!Qt||Qt.length===0)return _.nextTick(Et);tt(Qt,function(xt,pt){var Vt=nt(pt),nn=xt.transport||xt;function on(bt){return function(){j(bt),Vt()}}nn._ending=!0,nn.once("finish",on("finished")),nn.once("error",on("error"))},function(){return Dt&&Et()}),this.logger.log(wt),Dt&&(mt=setTimeout(Et,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(ut){return(ut.transport||ut).handleRejections})}}])&&$(ft.prototype,dt),_t}()}).call(this,s(2))},function(i,o,s){i.exports={asArray:s(212),asBoolStrict:s(213),asBool:s(214),asPortNumber:s(215),asEnum:s(216),asFloatNegative:s(217),asFloatPositive:s(218),asFloat:s(54),asIntNegative:s(219),asIntPositive:s(95),asInt:s(53),asJsonArray:s(220),asJsonObject:s(221),asJson:s(55),asRegExp:s(222),asString:s(33),asUrlObject:s(96),asUrlString:s(223),asEmailString:s(224)}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive integer");return _e}},function(i,o,s){const _=s(33);i.exports=function($){const _e=_($);try{return new URL(_e)}catch{throw new Error("should be a valid URL")}}},function(i,o,s){const _={};_.web=s(24),s(98);const $={v1:{}};$.v1.signaling={},$.v1.signaling.api=s(9),$.v1.signaling.api.SignalingClient=function(dt,ut,mt){mt||(mt={}),mt.format="text",this.client_=new _.web.GrpcWebClientBase(mt),this.hostname_=dt},$.v1.signaling.api.SignalingPromiseClient=function(dt,ut,mt){mt||(mt={}),mt.format="text",this.client_=new _.web.GrpcWebClientBase(mt),this.hostname_=dt};const _e=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetHealth",_.web.MethodType.UNARY,$.v1.signaling.api.GetHealthRequest,$.v1.signaling.api.GetHealthResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetHealthResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetHealthResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getHealth=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",dt,ut||{},_e,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getHealth=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetHealth",dt,ut||{},_e)};const tt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",_.web.MethodType.UNARY,$.v1.signaling.api.CreatePeerRequest,$.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.CreatePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.createPeer=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ut||{},tt,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ut||{},tt)};const j=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",_.web.MethodType.UNARY,$.v1.signaling.api.DeletePeerRequest,$.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.DeletePeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.deletePeer=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ut||{},j,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ut||{},j)};const nt=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",_.web.MethodType.UNARY,$.v1.signaling.api.RefreshPeerRequest,$.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.RefreshPeerResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ut||{},nt,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ut||{},nt)};const st=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",_.web.MethodType.UNARY,$.v1.signaling.api.GetPeersRequest,$.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetPeersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getPeers=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ut||{},st,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ut||{},st)};const ht=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",_.web.MethodType.UNARY,$.v1.signaling.api.GetIceServersRequest,$.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.GetIceServersResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.getIceServers=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ut||{},ht,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ut||{},ht)};const _t=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",_.web.MethodType.UNARY,$.v1.signaling.api.SendSignalRequest,$.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.SendSignalResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.sendSignal=function(dt,ut,mt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ut||{},_t,mt)},$.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(dt,ut){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ut||{},_t)};const ft=new _.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",_.web.MethodType.SERVER_STREAMING,$.v1.signaling.api.ReceiveSignalStreamRequest,$.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new _.web.AbstractClientBase.MethodInfo($.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},$.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),$.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(dt,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ut||{},ft)},$.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(dt,ut){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ut||{},ft)},i.exports=$.v1.signaling.api},function(i,o,s){var _=s(99),$=_,_e=Function("return this")();$.exportSymbol("proto.google.protobuf.BoolValue",null,_e),$.exportSymbol("proto.google.protobuf.BytesValue",null,_e),$.exportSymbol("proto.google.protobuf.DoubleValue",null,_e),$.exportSymbol("proto.google.protobuf.FloatValue",null,_e),$.exportSymbol("proto.google.protobuf.Int32Value",null,_e),$.exportSymbol("proto.google.protobuf.Int64Value",null,_e),$.exportSymbol("proto.google.protobuf.StringValue",null,_e),$.exportSymbol("proto.google.protobuf.UInt32Value",null,_e),$.exportSymbol("proto.google.protobuf.UInt64Value",null,_e),proto.google.protobuf.DoubleValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.DoubleValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.FloatValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.Int64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt64Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.Int32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.UInt32Value,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.BoolValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.StringValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(tt){_.Message.initialize(this,tt,0,-1,null,null)},$.inherits(proto.google.protobuf.BytesValue,_.Message),$.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(tt){return proto.google.protobuf.DoubleValue.toObject(tt,this)},proto.google.protobuf.DoubleValue.toObject=function(tt,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.DoubleValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readDouble();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeDouble(1,nt)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(tt){return _.Message.setProto3FloatField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(tt){return proto.google.protobuf.FloatValue.toObject(tt,this)},proto.google.protobuf.FloatValue.toObject=function(tt,j){var nt={value:_.Message.getFloatingPointFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.FloatValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readFloat();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeFloat(1,nt)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return _.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(tt){return _.Message.setProto3FloatField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(tt){return proto.google.protobuf.Int64Value.toObject(tt,this)},proto.google.protobuf.Int64Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int64Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt64();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeInt64(1,nt)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(tt){return proto.google.protobuf.UInt64Value.toObject(tt,this)},proto.google.protobuf.UInt64Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt64Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint64();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeUint64(1,nt)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(tt){return proto.google.protobuf.Int32Value.toObject(tt,this)},proto.google.protobuf.Int32Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.Int32Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readInt32();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeInt32(1,nt)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(tt){return proto.google.protobuf.UInt32Value.toObject(tt,this)},proto.google.protobuf.UInt32Value.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,0)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.UInt32Value.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readUint32();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())!==0&&j.writeUint32(1,nt)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(tt){return _.Message.setProto3IntField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(tt){return proto.google.protobuf.BoolValue.toObject(tt,this)},proto.google.protobuf.BoolValue.toObject=function(tt,j){var nt={value:_.Message.getBooleanFieldWithDefault(j,1,!1)};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BoolValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBool();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue())&&j.writeBool(1,nt)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return _.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(tt){return _.Message.setProto3BooleanField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(tt){return proto.google.protobuf.StringValue.toObject(tt,this)},proto.google.protobuf.StringValue.toObject=function(tt,j){var nt={value:_.Message.getFieldWithDefault(j,1,"")};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.StringValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readString();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue()).length>0&&j.writeString(1,nt)},proto.google.protobuf.StringValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(tt){return _.Message.setProto3StringField(this,1,tt)},_.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(tt){return proto.google.protobuf.BytesValue.toObject(tt,this)},proto.google.protobuf.BytesValue.toObject=function(tt,j){var nt={value:j.getValue_asB64()};return tt&&(nt.$jspbMessageInstance=j),nt}),proto.google.protobuf.BytesValue.deserializeBinary=function(tt){var j=new _.BinaryReader(tt),nt=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(nt,j)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(tt,j){for(;j.nextField()&&!j.isEndGroup();)switch(j.getFieldNumber()){case 1:var nt=j.readBytes();tt.setValue(nt);break;default:j.skipField()}return tt},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var tt=new _.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,tt),tt.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(tt,j){var nt;(nt=tt.getValue_asU8()).length>0&&j.writeBytes(1,nt)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return _.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return _.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return _.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(tt){return _.Message.setProto3BytesField(this,1,tt)},$.object.extend(o,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(i,o,s){i instanceof String&&(i=String(i));for(var _=i.length,$=0;$<_;$++){var _e=i[$];if(o.call(s,_e,$,i))return{i:$,v:_e}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,s){i!=Array.prototype&&i!=Object.prototype&&(i[o]=s.value)},$jscomp.getGlobal=function(i){return typeof window<"u"&&window===i?i:global!==void 0&&global!=null?global:i},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(i,o,s,_){if(o){for(s=$jscomp.global,i=i.split("."),_=0;_<i.length-1;_++){var $=i[_];$ in s||(s[$]={}),s=s[$]}(o=o(_=s[i=i[i.length-1]]))!=_&&o!=null&&$jscomp.defineProperty(s,i,{configurable:!0,writable:!0,value:o})}},$jscomp.polyfill("Array.prototype.findIndex",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).i}},"es6","es3"),$jscomp.checkStringArgs=function(i,o,s){if(i==null)throw new TypeError("The 'this' value for String.prototype."+s+" must not be null or undefined");if(o instanceof RegExp)throw new TypeError("First argument to String.prototype."+s+" must not be a regular expression");return i+""},$jscomp.polyfill("String.prototype.endsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"endsWith");o+="",s===void 0&&(s=_.length),s=Math.max(0,Math.min(0|s,_.length));for(var $=o.length;0<$&&0<s;)if(_[--s]!=o[--$])return!1;return 0>=$}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(i){return i||function(o,s){return $jscomp.findInternal(this,o,s).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(i){return i||function(o,s){var _=$jscomp.checkStringArgs(this,o,"startsWith");o+="";var $=_.length,_e=o.length;s=Math.max(0,Math.min(0|s,_.length));for(var tt=0;tt<_e&&s<$;)if(_[s++]!=o[tt++])return!1;return tt>=_e}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(i){return i||function(o){var s=$jscomp.checkStringArgs(this,null,"repeat");if(0>o||1342177279<o)throw new RangeError("Invalid count value");o|=0;for(var _="";o;)1&o&&(_+=s),(o>>>=1)&&(s+=s);return _}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(i){return i!==void 0},goog.isString=function(i){return typeof i=="string"},goog.isBoolean=function(i){return typeof i=="boolean"},goog.isNumber=function(i){return typeof i=="number"},goog.exportPath_=function(i,o,s){i=i.split("."),s=s||goog.global,i[0]in s||s.execScript===void 0||s.execScript("var "+i[0]);for(var _;i.length&&(_=i.shift());)!i.length&&goog.isDef(o)?s[_]=o:s=s[_]&&s[_]!==Object.prototype[_]?s[_]:s[_]={}},goog.define=function(i,o){return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(i){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(i)},goog.constructNamespace_=function(i,o){goog.exportPath_(i,o)},goog.getScriptNonce=function(i){return i&&i!=goog.global?goog.getScriptNonce_(i.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(i)?i:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(i){if(!goog.isString(i)||!i||i.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+i+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=i},goog.module.get=function(i){return goog.module.getInternal_(i)},goog.module.getInternal_=function(i){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var i=goog.global.$jscomp;return!!i&&typeof i.getCurrentModulePath=="function"&&!!i.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(i){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=i;else{var o=goog.global.$jscomp;if(!o||typeof o.getCurrentModulePath!="function")throw Error('Module with namespace "'+i+'" has been loaded incorrectly.');o=o.require(o.getCurrentModulePath()),goog.loadedModules_[i]={exports:o,type:goog.ModuleType.ES6,moduleId:i}}},goog.setTestOnly=function(i){if(goog.DISALLOW_TEST_ONLY_CODE)throw i=i||"",Error("Importing test-only code into non-debug environment"+(i?": "+i:"."))},goog.forwardDeclare=function(i){},goog.getObjectByName=function(i,o){i=i.split("."),o=o||goog.global;for(var s=0;s<i.length;s++)if(o=o[i[s]],!goog.isDefAndNotNull(o))return null;return o},goog.globalize=function(i,o){for(var s in o=o||goog.global,i)o[s]=i[s]},goog.addDependency=function(i,o,s,_){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(i){goog.global.console&&goog.global.console.error(i)},goog.require=function(i){},goog.requireType=function(i){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(i){i.instance_=void 0,i.getInstance=function(){return i.instance_?i.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=i),i.instance_=new i)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(i){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(i){return"(function(){"+i+`
;})();
`},goog.loadModule=function(i){var o=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(i))var s=i.call(void 0,{});else{if(!goog.isString(i))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(i=goog.workaroundSafari10EvalBug(i)),s=goog.loadModuleFromSource_.call(void 0,i)}var _=goog.moduleLoaderState_.moduleName;if(!goog.isString(_)||!_)throw Error('Invalid module name "'+_+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_,s):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof s=="object"&&s!=null&&Object.seal(s),goog.loadedModules_[_]={exports:s,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=o}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(i){i=i.split("/");for(var o=0;o<i.length;)i[o]=="."?i.splice(o,1):o&&i[o]==".."&&i[o-1]&&i[o-1]!=".."?i.splice(--o,2):o++;return i.join("/")},goog.loadFileSync_=function(i){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(i);try{var o=new goog.global.XMLHttpRequest;return o.open("get",i,!1),o.send(),o.status==0||o.status==200?o.responseText:null}catch{return null}},goog.transpile_=function(i,o,s){var _=goog.global.$jscomp;_||(goog.global.$jscomp=_={});var $=_.transpile;if(!$){var _e=goog.basePath+goog.TRANSPILER,tt=goog.loadFileSync_(_e);if(tt){if(function(){(0,eval)(tt+`
//# sourceURL=`+_e)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,$=(_=goog.global.$jscomp).transpile}}return $||($=_.transpile=function(j,nt){return goog.logToConsole_(nt+" requires transpilation but no transpiler was found."),j}),$(i,o,s)},goog.typeOf=function(i){var o=typeof i;if(o=="object"){if(!i)return"null";if(i instanceof Array)return"array";if(i instanceof Object)return o;var s=Object.prototype.toString.call(i);if(s=="[object Window]")return"object";if(s=="[object Array]"||typeof i.length=="number"&&i.splice!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("splice"))return"array";if(s=="[object Function]"||i.call!==void 0&&i.propertyIsEnumerable!==void 0&&!i.propertyIsEnumerable("call"))return"function"}else if(o=="function"&&i.call===void 0)return"object";return o},goog.isNull=function(i){return i===null},goog.isDefAndNotNull=function(i){return i!=null},goog.isArray=function(i){return goog.typeOf(i)=="array"},goog.isArrayLike=function(i){var o=goog.typeOf(i);return o=="array"||o=="object"&&typeof i.length=="number"},goog.isDateLike=function(i){return goog.isObject(i)&&typeof i.getFullYear=="function"},goog.isFunction=function(i){return goog.typeOf(i)=="function"},goog.isObject=function(i){var o=typeof i;return o=="object"&&i!=null||o=="function"},goog.getUid=function(i){return i[goog.UID_PROPERTY_]||(i[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(i){return!!i[goog.UID_PROPERTY_]},goog.removeUid=function(i){i!==null&&"removeAttribute"in i&&i.removeAttribute(goog.UID_PROPERTY_);try{delete i[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(typeof i.clone=="function")return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.cloneObject(i[s]);return o}return i},goog.bindNative_=function(i,o,s){return i.call.apply(i.bind,arguments)},goog.bindJs_=function(i,o,s){if(!i)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,_),i.apply(o,$)}}return function(){return i.apply(o,arguments)}},goog.bind=function(i,o,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=s.slice();return _.push.apply(_,arguments),i.apply(this,_)}},goog.mixin=function(i,o){for(var s in o)i[s]=o[s]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(i){if(goog.global.execScript)goog.global.execScript(i,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(i);else{var o=goog.global.document,s=o.createElement("SCRIPT");s.type="text/javascript",s.defer=!1,s.appendChild(o.createTextNode(i)),o.head.appendChild(s),o.head.removeChild(s)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(i,o){if(String(i).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+i);var s=function($){return goog.cssNameMapping_[$]||$},_=function($){$=$.split("-");for(var _e=[],tt=0;tt<$.length;tt++)_e.push(s($[tt]));return _e.join("-")};return _=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?s:_:function($){return $},i=o?i+"-"+_(o):_(i),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(i):i},goog.setCssNameMapping=function(i,o){goog.cssNameMapping_=i,goog.cssNameMappingStyle_=o},goog.getMsg=function(i,o,s){return s&&s.html&&(i=i.replace(/</g,"&lt;")),o&&(i=i.replace(/\{\$([^}]+)}/g,function(_,$){return o!=null&&$ in o?o[$]:_})),i},goog.getMsgWithFallback=function(i,o){return i},goog.exportSymbol=function(i,o,s){goog.exportPath_(i,o,s)},goog.exportProperty=function(i,o,s){i[o]=s},goog.inherits=function(i,o){function s(){}s.prototype=o.prototype,i.superClass_=o.prototype,i.prototype=new s,i.prototype.constructor=i,i.base=function(_,$,_e){for(var tt=Array(arguments.length-2),j=2;j<arguments.length;j++)tt[j-2]=arguments[j];return o.prototype[$].apply(_,tt)}},goog.base=function(i,o,s){var _=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!_)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(_.superClass_!==void 0){for(var $=Array(arguments.length-1),_e=1;_e<arguments.length;_e++)$[_e-1]=arguments[_e];return _.superClass_.constructor.apply(i,$)}if(typeof o!="string"&&typeof o!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for($=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];_e=!1;for(var tt=i.constructor.prototype;tt;tt=Object.getPrototypeOf(tt))if(tt[o]===_)_e=!0;else if(_e)return tt[o].apply(i,$);if(i[o]===_)return i.constructor.prototype[o].apply(i,$);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(i){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");i.call(goog.global)},goog.defineClass=function(i,o){var s=o.constructor,_=o.statics;return s&&s!=Object.prototype.constructor||(s=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),s=goog.defineClass.createSealingConstructor_(s,i),i&&goog.inherits(s,i),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(s.prototype,o),_!=null&&(_ instanceof Function?_(s):goog.defineClass.applyProperties_(s,_)),s},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(i,o){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return i;var s=!goog.defineClass.isUnsealable_(o),_=function(){var $=i.apply(this,arguments)||this;return $[goog.UID_PROPERTY_]=$[goog.UID_PROPERTY_],this.constructor===_&&s&&Object.seal instanceof Function&&Object.seal($),$};return _},goog.defineClass.isUnsealable_=function(i){return i&&i.prototype&&i.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s]);for(var _=0;_<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_++)s=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},goog.tagUnsealableClass=function(i){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(i){return i},goog.createTrustedTypesPolicy=function(i){var o=null;if(typeof TrustedTypes>"u"||!TrustedTypes.createPolicy)return o;try{o=TrustedTypes.createPolicy(i,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(s){goog.logToConsole_(s.message)}return o},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(i){var o=jspb.BinaryConstants.FieldType,s=jspb.BinaryConstants.WireType;switch(i){case o.INT32:case o.INT64:case o.UINT32:case o.UINT64:case o.SINT32:case o.SINT64:case o.BOOL:case o.ENUM:case o.VHASH64:return s.VARINT;case o.DOUBLE:case o.FIXED64:case o.SFIXED64:case o.FHASH64:return s.FIXED64;case o.STRING:case o.MESSAGE:case o.BYTES:return s.DELIMITED;case o.FLOAT:case o.FIXED32:case o.SFIXED32:return s.FIXED32;default:return s.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(i){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(i,o){goog.debug.Error.call(this,goog.asserts.subs_(i,o)),this.messagePattern=i},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(i){throw i},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(i,o){for(var s="",_=(i=i.split("%s")).length-1,$=0;$<_;$++)s+=i[$]+($<o.length?o[$]:"%s");return s+i[_]},goog.asserts.doAssertFailure_=function(i,o,s,_){var $="Assertion failed";if(s){$+=": "+s;var _e=_}else i&&($+=": "+i,_e=o);i=new goog.asserts.AssertionError(""+$,_e||[]),goog.asserts.errorHandler_(i)},goog.asserts.setErrorHandler=function(i){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=i)},goog.asserts.assert=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!i&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertExists=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&i==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.fail=function(i,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(i)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertString=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(i)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertFunction=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(i)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObject=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(i)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertArray=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(i)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertBoolean=function(i,o,s){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(i)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertElement=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(i)&&i.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(i),i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertInstanceof=function(i,o,s,_){return!goog.asserts.ENABLE_ASSERTS||i instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(i)],s,Array.prototype.slice.call(arguments,3)),i},goog.asserts.assertFinite=function(i,o,s){return!goog.asserts.ENABLE_ASSERTS||typeof i=="number"&&isFinite(i)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[i],o,Array.prototype.slice.call(arguments,2)),i},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var i in Object.prototype)goog.asserts.fail(i+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(i){return i[i.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.indexOf.call(i,o,s)}:function(i,o,s){if(s=s==null?0:0>s?Math.max(0,i.length+s):s,goog.isString(i))return goog.isString(o)&&o.length==1?i.indexOf(o,s):-1;for(;s<i.length;s++)if(s in i&&i[s]===o)return s;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.lastIndexOf.call(i,o,s??i.length-1)}:function(i,o,s){if(0>(s=s??i.length-1)&&(s=Math.max(0,i.length+s)),goog.isString(i))return goog.isString(o)&&o.length==1?i.lastIndexOf(o,s):-1;for(;0<=s;s--)if(s in i&&i[s]===o)return s;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(i,o,s){goog.asserts.assert(i.length!=null),Array.prototype.forEach.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)_e in $&&o.call(s,$[_e],_e,i)},goog.array.forEachRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;--_)_ in $&&o.call(s,$[_],_,i)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.filter.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=[],_e=0,tt=goog.isString(i)?i.split(""):i,j=0;j<_;j++)if(j in tt){var nt=tt[j];o.call(s,nt,j,i)&&($[_e++]=nt)}return $},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.map.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=Array(_),_e=goog.isString(i)?i.split(""):i,tt=0;tt<_;tt++)tt in _e&&($[tt]=o.call(s,_e[tt],tt,i));return $},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduce.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEach(i,function(_e,tt){$=o.call(_,$,_e,tt,i)}),$},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(i,o,s,_){return goog.asserts.assert(i.length!=null),goog.asserts.assert(o!=null),_&&(o=goog.bind(o,_)),Array.prototype.reduceRight.call(i,o,s)}:function(i,o,s,_){var $=s;return goog.array.forEachRight(i,function(_e,tt){$=o.call(_,$,_e,tt,i)}),$},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.some.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(i,o,s){return goog.asserts.assert(i.length!=null),Array.prototype.every.call(i,o,s)}:function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&!o.call(s,$[_e],_e,i))return!1;return!0},goog.array.count=function(i,o,s){var _=0;return goog.array.forEach(i,function($,_e,tt){o.call(s,$,_e,tt)&&++_},s),_},goog.array.find=function(i,o,s){return 0>(o=goog.array.findIndex(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndex=function(i,o,s){for(var _=i.length,$=goog.isString(i)?i.split(""):i,_e=0;_e<_;_e++)if(_e in $&&o.call(s,$[_e],_e,i))return _e;return-1},goog.array.findRight=function(i,o,s){return 0>(o=goog.array.findIndexRight(i,o,s))?null:goog.isString(i)?i.charAt(o):i[o]},goog.array.findIndexRight=function(i,o,s){var _=i.length,$=goog.isString(i)?i.split(""):i;for(--_;0<=_;_--)if(_ in $&&o.call(s,$[_],_,i))return _;return-1},goog.array.contains=function(i,o){return 0<=goog.array.indexOf(i,o)},goog.array.isEmpty=function(i){return i.length==0},goog.array.clear=function(i){if(!goog.isArray(i))for(var o=i.length-1;0<=o;o--)delete i[o];i.length=0},goog.array.insert=function(i,o){goog.array.contains(i,o)||i.push(o)},goog.array.insertAt=function(i,o,s){goog.array.splice(i,s,0,o)},goog.array.insertArrayAt=function(i,o,s){goog.partial(goog.array.splice,i,s,0).apply(null,o)},goog.array.insertBefore=function(i,o,s){var _;arguments.length==2||0>(_=goog.array.indexOf(i,s))?i.push(o):goog.array.insertAt(i,o,_)},goog.array.remove=function(i,o){var s;return(s=0<=(o=goog.array.indexOf(i,o)))&&goog.array.removeAt(i,o),s},goog.array.removeLast=function(i,o){return 0<=(o=goog.array.lastIndexOf(i,o))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAt=function(i,o){return goog.asserts.assert(i.length!=null),Array.prototype.splice.call(i,o,1).length==1},goog.array.removeIf=function(i,o,s){return 0<=(o=goog.array.findIndex(i,o,s))&&(goog.array.removeAt(i,o),!0)},goog.array.removeAllIf=function(i,o,s){var _=0;return goog.array.forEachRight(i,function($,_e){o.call(s,$,_e,i)&&goog.array.removeAt(i,_e)&&_++}),_},goog.array.concat=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(i){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(i){var o=i.length;if(0<o){for(var s=Array(o),_=0;_<o;_++)s[_]=i[_];return s}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(i,o){for(var s=1;s<arguments.length;s++){var _=arguments[s];if(goog.isArrayLike(_)){var $=i.length||0,_e=_.length||0;i.length=$+_e;for(var tt=0;tt<_e;tt++)i[$+tt]=_[tt]}else i.push(_)}},goog.array.splice=function(i,o,s,_){return goog.asserts.assert(i.length!=null),Array.prototype.splice.apply(i,goog.array.slice(arguments,1))},goog.array.slice=function(i,o,s){return goog.asserts.assert(i.length!=null),2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,s)},goog.array.removeDuplicates=function(i,o,s){o=o||i;var _=function(nt){return goog.isObject(nt)?"o"+goog.getUid(nt):(typeof nt).charAt(0)+nt};s=s||_,_={};for(var $=0,_e=0;_e<i.length;){var tt=i[_e++],j=s(tt);Object.prototype.hasOwnProperty.call(_,j)||(_[j]=!0,o[$++]=tt)}o.length=$},goog.array.binarySearch=function(i,o,s){return goog.array.binarySearch_(i,s||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(i,o,s){return goog.array.binarySearch_(i,o,!0,void 0,s)},goog.array.binarySearch_=function(i,o,s,_,$){for(var _e,tt=0,j=i.length;tt<j;){var nt=tt+j>>1,st=s?o.call($,i[nt],nt,i):o(_,i[nt]);0<st?tt=nt+1:(j=nt,_e=!st)}return _e?tt:~tt},goog.array.sort=function(i,o){i.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]={index:_,value:i[_]};var $=o||goog.array.defaultCompare;for(goog.array.sort(s,function(_e,tt){return $(_e.value,tt.value)||_e.index-tt.index}),_=0;_<i.length;_++)i[_]=s[_].value},goog.array.sortByKey=function(i,o,s){var _=s||goog.array.defaultCompare;goog.array.sort(i,function($,_e){return _(o($),o(_e))})},goog.array.sortObjectsByKey=function(i,o,s){goog.array.sortByKey(i,function(_){return _[o]},s)},goog.array.isSorted=function(i,o,s){o=o||goog.array.defaultCompare;for(var _=1;_<i.length;_++){var $=o(i[_-1],i[_]);if(0<$||$==0&&s)return!1}return!0},goog.array.equals=function(i,o,s){if(!goog.isArrayLike(i)||!goog.isArrayLike(o)||i.length!=o.length)return!1;var _=i.length;s=s||goog.array.defaultCompareEquality;for(var $=0;$<_;$++)if(!s(i[$],o[$]))return!1;return!0},goog.array.compare3=function(i,o,s){s=s||goog.array.defaultCompare;for(var _=Math.min(i.length,o.length),$=0;$<_;$++){var _e=s(i[$],o[$]);if(_e!=0)return _e}return goog.array.defaultCompare(i.length,o.length)},goog.array.defaultCompare=function(i,o){return i>o?1:i<o?-1:0},goog.array.inverseDefaultCompare=function(i,o){return-goog.array.defaultCompare(i,o)},goog.array.defaultCompareEquality=function(i,o){return i===o},goog.array.binaryInsert=function(i,o,s){return 0>(s=goog.array.binarySearch(i,o,s))&&(goog.array.insertAt(i,o,-(s+1)),!0)},goog.array.binaryRemove=function(i,o,s){return 0<=(o=goog.array.binarySearch(i,o,s))&&goog.array.removeAt(i,o)},goog.array.bucket=function(i,o,s){for(var _={},$=0;$<i.length;$++){var _e=i[$],tt=o.call(s,_e,$,i);goog.isDef(tt)&&(_[tt]||(_[tt]=[])).push(_e)}return _},goog.array.toObject=function(i,o,s){var _={};return goog.array.forEach(i,function($,_e){_[o.call(s,$,_e,i)]=$}),_},goog.array.range=function(i,o,s){var _=[],$=0,_e=i;if(o!==void 0&&($=i,_e=o),0>(s=s||1)*(_e-$))return[];if(0<s)for(i=$;i<_e;i+=s)_.push(i);else for(i=$;i>_e;i+=s)_.push(i);return _},goog.array.repeat=function(i,o){for(var s=[],_=0;_<o;_++)s[_]=i;return s},goog.array.flatten=function(i){for(var o=[],s=0;s<arguments.length;s++){var _=arguments[s];if(goog.isArray(_))for(var $=0;$<_.length;$+=8192){var _e=goog.array.slice(_,$,$+8192);_e=goog.array.flatten.apply(null,_e);for(var tt=0;tt<_e.length;tt++)o.push(_e[tt])}else o.push(_)}return o},goog.array.rotate=function(i,o){return goog.asserts.assert(i.length!=null),i.length&&(0<(o%=i.length)?Array.prototype.unshift.apply(i,i.splice(-o,o)):0>o&&Array.prototype.push.apply(i,i.splice(0,-o))),i},goog.array.moveItem=function(i,o,s){goog.asserts.assert(0<=o&&o<i.length),goog.asserts.assert(0<=s&&s<i.length),o=Array.prototype.splice.call(i,o,1),Array.prototype.splice.call(i,s,0,o[0])},goog.array.zip=function(i){if(!arguments.length)return[];for(var o=[],s=arguments[0].length,_=1;_<arguments.length;_++)arguments[_].length<s&&(s=arguments[_].length);for(_=0;_<s;_++){for(var $=[],_e=0;_e<arguments.length;_e++)$.push(arguments[_e][_]);o.push($)}return o},goog.array.shuffle=function(i,o){o=o||Math.random;for(var s=i.length-1;0<s;s--){var _=Math.floor(o()*(s+1)),$=i[s];i[s]=i[_],i[_]=$}},goog.array.copyByIndex=function(i,o){var s=[];return goog.array.forEach(o,function(_){s.push(i[_])}),s},goog.array.concatMap=function(i,o,s){return goog.array.concat.apply([],goog.array.map(i,o,s))},goog.crypt={},goog.crypt.stringToByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);255<$&&(o[s++]=255&$,$>>=8),o[s++]=$}return o},goog.crypt.byteArrayToString=function(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var o="",s=0;s<i.length;s+=8192){var _=goog.array.slice(i,s,s+8192);o+=String.fromCharCode.apply(null,_)}return o},goog.crypt.byteArrayToHex=function(i,o){return goog.array.map(i,function(s){return 1<(s=s.toString(16)).length?s:"0"+s}).join(o||"")},goog.crypt.hexToByteArray=function(i){goog.asserts.assert(i.length%2==0,"Key string length must be multiple of 2");for(var o=[],s=0;s<i.length;s+=2)o.push(parseInt(i.substring(s,s+2),16));return o},goog.crypt.stringToUtf8ByteArray=function(i){for(var o=[],s=0,_=0;_<i.length;_++){var $=i.charCodeAt(_);128>$?o[s++]=$:(2048>$?o[s++]=$>>6|192:((64512&$)==55296&&_+1<i.length&&(64512&i.charCodeAt(_+1))==56320?($=65536+((1023&$)<<10)+(1023&i.charCodeAt(++_)),o[s++]=$>>18|240,o[s++]=$>>12&63|128):o[s++]=$>>12|224,o[s++]=$>>6&63|128),o[s++]=63&$|128)}return o},goog.crypt.utf8ByteArrayToString=function(i){for(var o=[],s=0,_=0;s<i.length;){var $=i[s++];if(128>$)o[_++]=String.fromCharCode($);else if(191<$&&224>$){var _e=i[s++];o[_++]=String.fromCharCode((31&$)<<6|63&_e)}else if(239<$&&365>$){_e=i[s++];var tt=i[s++];$=((7&$)<<18|(63&_e)<<12|(63&tt)<<6|63&i[s++])-65536,o[_++]=String.fromCharCode(55296+($>>10)),o[_++]=String.fromCharCode(56320+(1023&$))}else _e=i[s++],tt=i[s++],o[_++]=String.fromCharCode((15&$)<<12|(63&_e)<<6|63&tt)}return o.join("")},goog.crypt.xorByteArray=function(i,o){goog.asserts.assert(i.length==o.length,"XOR array lengths must match");for(var s=[],_=0;_<i.length;_++)s.push(i[_]^o[_]);return s},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(i,o){return i.lastIndexOf(o,0)==0},goog.string.internal.endsWith=function(i,o){var s=i.length-o.length;return 0<=s&&i.indexOf(o,s)==s},goog.string.internal.caseInsensitiveStartsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(0,o.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(i,o){return goog.string.internal.caseInsensitiveCompare(o,i.substr(i.length-o.length,o.length))==0},goog.string.internal.caseInsensitiveEquals=function(i,o){return i.toLowerCase()==o.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(i){return/^[\s\xa0]*$/.test(i)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},goog.string.internal.caseInsensitiveCompare=function(i,o){return(i=String(i).toLowerCase())<(o=String(o).toLowerCase())?-1:i==o?0:1},goog.string.internal.newLineToBr=function(i,o){return i.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.internal.htmlEscape=function(i,o){if(o)i=i.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(i))return i;i.indexOf("&")!=-1&&(i=i.replace(goog.string.internal.AMP_RE_,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(goog.string.internal.LT_RE_,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(goog.string.internal.GT_RE_,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(goog.string.internal.QUOT_RE_,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(goog.string.internal.NULL_RE_,"&#0;"))}return i},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(i,o){return goog.string.internal.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.internal.contains=function(i,o){return i.indexOf(o)!=-1},goog.string.internal.caseInsensitiveContains=function(i,o){return goog.string.internal.contains(i.toLowerCase(),o.toLowerCase())},goog.string.internal.compareVersions=function(i,o){var s=0;i=goog.string.internal.trim(String(i)).split("."),o=goog.string.internal.trim(String(o)).split(".");for(var _=Math.max(i.length,o.length),$=0;s==0&&$<_;$++){var _e=i[$]||"",tt=o[$]||"";do{if(_e=/(\d*)(\D*)(.*)/.exec(_e)||["","","",""],tt=/(\d*)(\D*)(.*)/.exec(tt)||["","","",""],_e[0].length==0&&tt[0].length==0)break;s=_e[1].length==0?0:parseInt(_e[1],10);var j=tt[1].length==0?0:parseInt(tt[1],10);s=goog.string.internal.compareElements_(s,j)||goog.string.internal.compareElements_(_e[2].length==0,tt[2].length==0)||goog.string.internal.compareElements_(_e[2],tt[2]),_e=_e[3],tt=tt[3]}while(s==0)}return s},goog.string.internal.compareElements_=function(i,o){return i<o?-1:i>o?1:0},goog.string.TypedString=function(){},goog.string.Const=function(i,o){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=i===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&o||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(i){return i instanceof goog.string.Const&&i.constructor===goog.string.Const&&i.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?i.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+i+"'"),"type_error:Const")},goog.string.Const.from=function(i){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,i)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(i){return goog.fs.url.getUrlObject_().createObjectURL(i)},goog.fs.url.revokeObjectUrl=function(i){goog.fs.url.getUrlObject_().revokeObjectURL(i)},goog.fs.url.getUrlObject_=function(){var i=goog.fs.url.findUrlObject_();if(i!=null)return i;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(i,o){return typeof i=="number"?0<i?goog.i18n.bidi.Dir.LTR:0>i?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:i==null?null:i?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\uD801\uD804-\uD839\uD83C-\uDBFF豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\uD802-\uD803\uD83A-\uD83Bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(i,o){return o?i.replace(goog.i18n.bidi.htmlSkipReg_,""):i},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(i,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(i,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(i){return goog.i18n.bidi.rtlRe_.test(i)},goog.i18n.bidi.isLtrChar=function(i){return goog.i18n.bidi.ltrRe_.test(i)},goog.i18n.bidi.isNeutralChar=function(i){return!goog.i18n.bidi.isLtrChar(i)&&!goog.i18n.bidi.isRtlChar(i)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(i,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(i,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(i,o){return i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o),goog.i18n.bidi.isRequiredLtrRe_.test(i)||!goog.i18n.bidi.hasAnyLtr(i)&&!goog.i18n.bidi.hasAnyRtl(i)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(i,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(i,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(i,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(i){return goog.i18n.bidi.rtlLocalesRe_.test(i)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(i,o){return o=(o===void 0?goog.i18n.bidi.hasAnyRtl(i):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,i.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+i+"</span>"},goog.i18n.bidi.enforceRtlInText=function(i){return goog.i18n.bidi.Format.RLE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(i){return i.charAt(0)=="<"?i.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+i+"</span>"},goog.i18n.bidi.enforceLtrInText=function(i){return goog.i18n.bidi.Format.LRE+i+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(i){return i.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(i){return i.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(i,o){var s=0,_=0,$=!1;for(i=goog.i18n.bidi.stripHtmlIfNeeded_(i,o).split(goog.i18n.bidi.wordSeparatorRe_),o=0;o<i.length;o++){var _e=i[o];goog.i18n.bidi.startsWithRtl(_e)?(s++,_++):goog.i18n.bidi.isRequiredLtrRe_.test(_e)?$=!0:goog.i18n.bidi.hasAnyLtr(_e)?_++:goog.i18n.bidi.hasNumeralsRe_.test(_e)&&($=!0)}return _==0?$?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:s/_>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(i,o){return goog.i18n.bidi.estimateDirection(i,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(i,o){i&&(o=goog.i18n.bidi.toDir(o))&&(i.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,i.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(i,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:i.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:i.dir="rtl";break;default:i.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(i,o){var s=goog.html.TrustedResourceUrl.unwrap(this),_=(s=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(s))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(s[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",s[2]||"",i)+goog.html.TrustedResourceUrl.stringifyParams_("#",_,o))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(i){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(i){return i instanceof goog.html.TrustedResourceUrl&&i.constructor===goog.html.TrustedResourceUrl&&i.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(i){return i.trustedURL_?i.trustedURL_:goog.html.TrustedResourceUrl.unwrap(i)},goog.html.TrustedResourceUrl.format=function(i,o){var s=goog.string.Const.unwrap(i);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(s))throw Error("Invalid TrustedResourceUrl format: "+s);return i=s.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(_,$){if(!Object.prototype.hasOwnProperty.call(o,$))throw Error('Found marker, "'+$+'", in format string, "'+s+'", but no valid label mapping found in args: '+JSON.stringify(o));return(_=o[$])instanceof goog.string.Const?goog.string.Const.unwrap(_):encodeURIComponent(String(_))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(i,o,s,_){return goog.html.TrustedResourceUrl.format(i,o).cloneWithParams(s,_)},goog.html.TrustedResourceUrl.fromConstant=function(i){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.TrustedResourceUrl.fromConstants=function(i){for(var o="",s=0;s<i.length;s++)o+=goog.string.Const.unwrap(i[s]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(i):i,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(o.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i)),o},goog.html.TrustedResourceUrl.stringifyParams_=function(i,o,s){if(s==null)return o;if(goog.isString(s))return s?i+encodeURIComponent(s):"";for(var _ in s){var $=s[_];$=goog.isArray($)?$:[$];for(var _e=0;_e<$.length;_e++){var tt=$[_e];tt!=null&&(o||(o=i),o+=(o.length>i.length?"&":"")+encodeURIComponent(_)+"="+encodeURIComponent(String(tt)))}}return o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(i){return goog.html.SafeUrl.unwrapTrustedURL(i).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(i){return i instanceof goog.html.SafeUrl&&i.constructor===goog.html.SafeUrl&&i.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(i))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(i){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(i)},goog.html.SafeUrl.fromBlob=function(i){return i=goog.html.SAFE_MIME_TYPE_PATTERN_.test(i.type)?goog.fs.url.createObjectUrl(i):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(i){var o=(i=i.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?i:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"tel:")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(i){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(i))||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"fb-messenger://share")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromWhatsAppUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"whatsapp://send")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromSmsUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(i){var o=i.indexOf("#");if(0<o&&(i=i.substring(0,o)),!(o=i.match(/[?&]body=/gi)))return!0;if(1<o.length)return!1;if(!(i=i.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(i)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(i)},goog.html.SafeUrl.fromSshUrl=function(i){return goog.string.internal.caseInsensitiveStartsWith(i,"ssh://")||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(i,o){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,i,o)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(i,o,s){return(i=i.exec(o))?(i=i[1],(s instanceof goog.string.Const?[goog.string.Const.unwrap(s)]:s.map(function(_){return goog.string.Const.unwrap(_)})).indexOf(i)==-1&&(o=goog.html.SafeUrl.INNOCUOUS_STRING)):o=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeUrl.fromTrustedResourceUrl=function(i){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(i))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(i){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SAFE_URL_PATTERN_.test(i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(i,o){return i instanceof goog.html.SafeUrl?i:(i=typeof i=="object"&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),o&&/^data:/i.test(i)&&(o=goog.html.SafeUrl.fromDataUrl(i)).getTypedStringValue()==i?o:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(i),"%s does not match the safe URL pattern",i)||(i=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(i){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(i):i,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(i,";"),"Last character of style string is not ';': "+i),goog.asserts.assert(goog.string.internal.contains(i,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+i),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(i){return i instanceof goog.html.SafeStyle&&i.constructor===goog.html.SafeStyle&&i.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=i,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(i){var o,s="";for(o in i){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var _=i[o];_!=null&&(s+=o+":"+(_=goog.isArray(_)?goog.array.map(_,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(_))+";")}return s?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(s):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(i){if(i instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(i).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(i=i instanceof goog.string.Const?goog.string.Const.unwrap(i):goog.html.SafeStyle.sanitizePropertyValueString_(String(i)),/[{;}]/.test(i))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[i]);return i},goog.html.SafeStyle.sanitizePropertyValueString_=function(i){var o=i.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.COMMENT_RE_.test(i)?(goog.asserts.fail("String value disallows comments, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(i)?goog.html.SafeStyle.hasBalancedSquareBrackets_(i)?goog.html.SafeStyle.sanitizeUrl_(i):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+i),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(i){for(var o=!0,s=!0,_=0;_<i.length;_++){var $=i.charAt(_);$=="'"&&s?o=!o:$=='"'&&o&&(s=!s)}return o&&s},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(i){for(var o=!0,s=/^[-_a-zA-Z0-9]$/,_=0;_<i.length;_++){var $=i.charAt(_);if($=="]"){if(o)return!1;o=!0}else if($=="["){if(!o)return!1;o=!1}else if(!o&&!s.test($))return!1}return o},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(i){return i.replace(goog.html.SafeStyle.URL_RE_,function(o,s,_,$){var _e="";return _=_.replace(/^(['"])(.*)\1$/,function(tt,j,nt){return _e=j,nt}),o=goog.html.SafeUrl.sanitize(_).getTypedStringValue(),s+_e+o+_e+$})},goog.html.SafeStyle.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyle.unwrap(_)};return goog.array.forEach(arguments,s),o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeScript.fromConstantAndArgs=function(i,o){for(var s=[],_=1;_<arguments.length;_++)s.push(goog.html.SafeScript.stringify_(arguments[_]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(i)+")("+s.join(", ")+");")},goog.html.SafeScript.fromJson=function(i){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(i))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(i){return goog.html.SafeScript.unwrapTrustedScript(i).toString()},goog.html.SafeScript.unwrapTrustedScript=function(i){return i instanceof goog.html.SafeScript&&i.constructor===goog.html.SafeScript&&i.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(i){return JSON.stringify(i).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(i):i,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(i,o){return i===o?i!==0||1/i==1/o:i!=i&&o!=o},goog.object.forEach=function(i,o,s){for(var _ in i)o.call(s,i[_],_,i)},goog.object.filter=function(i,o,s){var _,$={};for(_ in i)o.call(s,i[_],_,i)&&($[_]=i[_]);return $},goog.object.map=function(i,o,s){var _,$={};for(_ in i)$[_]=o.call(s,i[_],_,i);return $},goog.object.some=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return!0;return!1},goog.object.every=function(i,o,s){for(var _ in i)if(!o.call(s,i[_],_,i))return!1;return!0},goog.object.getCount=function(i){var o,s=0;for(o in i)s++;return s},goog.object.getAnyKey=function(i){for(var o in i)return o},goog.object.getAnyValue=function(i){for(var o in i)return i[o]},goog.object.contains=function(i,o){return goog.object.containsValue(i,o)},goog.object.getValues=function(i){var o,s=[],_=0;for(o in i)s[_++]=i[o];return s},goog.object.getKeys=function(i){var o,s=[],_=0;for(o in i)s[_++]=o;return s},goog.object.getValueByKeys=function(i,o){var s=goog.isArrayLike(o),_=s?o:arguments;for(s=s?0:1;s<_.length;s++){if(i==null)return;i=i[_[s]]}return i},goog.object.containsKey=function(i,o){return i!==null&&o in i},goog.object.containsValue=function(i,o){for(var s in i)if(i[s]==o)return!0;return!1},goog.object.findKey=function(i,o,s){for(var _ in i)if(o.call(s,i[_],_,i))return _},goog.object.findValue=function(i,o,s){return(o=goog.object.findKey(i,o,s))&&i[o]},goog.object.isEmpty=function(i){for(var o in i)return!1;return!0},goog.object.clear=function(i){for(var o in i)delete i[o]},goog.object.remove=function(i,o){var s;return(s=o in i)&&delete i[o],s},goog.object.add=function(i,o,s){if(i!==null&&o in i)throw Error('The object already contains the key "'+o+'"');goog.object.set(i,o,s)},goog.object.get=function(i,o,s){return i!==null&&o in i?i[o]:s},goog.object.set=function(i,o,s){i[o]=s},goog.object.setIfUndefined=function(i,o,s){return o in i?i[o]:i[o]=s},goog.object.setWithReturnValueIfNotSet=function(i,o,s){return o in i?i[o]:(s=s(),i[o]=s)},goog.object.equals=function(i,o){for(var s in i)if(!(s in o)||i[s]!==o[s])return!1;for(var _ in o)if(!(_ in i))return!1;return!0},goog.object.clone=function(i){var o,s={};for(o in i)s[o]=i[o];return s},goog.object.unsafeClone=function(i){var o=goog.typeOf(i);if(o=="object"||o=="array"){if(goog.isFunction(i.clone))return i.clone();for(var s in o=o=="array"?[]:{},i)o[s]=goog.object.unsafeClone(i[s]);return o}return i},goog.object.transpose=function(i){var o,s={};for(o in i)s[i[o]]=o;return s},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(i,o){for(var s,_,$=1;$<arguments.length;$++){for(s in _=arguments[$])i[s]=_[s];for(var _e=0;_e<goog.object.PROTOTYPE_FIELDS_.length;_e++)s=goog.object.PROTOTYPE_FIELDS_[_e],Object.prototype.hasOwnProperty.call(_,s)&&(i[s]=_[s])}},goog.object.create=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(o%2)throw Error("Uneven number of arguments");for(var s={},_=0;_<o;_+=2)s[arguments[_]]=arguments[_+1];return s},goog.object.createSet=function(i){var o=arguments.length;if(o==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var s={},_=0;_<o;_++)s[arguments[_]]=!0;return s},goog.object.createImmutableView=function(i){var o=i;return Object.isFrozen&&!Object.isFrozen(i)&&(o=Object.create(i),Object.freeze(o)),o},goog.object.isImmutableView=function(i){return!!Object.isFrozen&&Object.isFrozen(i)},goog.object.getAllPropertyNames=function(i,o,s){if(!i)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(i);for(var _={};i&&(i!==Object.prototype||o)&&(i!==Function.prototype||s);){for(var $=Object.getOwnPropertyNames(i),_e=0;_e<$.length;_e++)_[$[_e]]=!0;i=Object.getPrototypeOf(i)}return goog.object.getKeys(_)},goog.object.getSuperClass=function(i){return(i=Object.getPrototypeOf(i.prototype))&&i.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(i,o){if(goog.string.internal.contains(i,"<"))throw Error("Selector does not allow '<', got: "+i);var s=i.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(s))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+i);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(s))throw Error("() and [] in selector must be balanced, got: "+i);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),i=i+"{"+goog.html.SafeStyle.unwrap(o).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(i){for(var o={"(":")","[":"]"},s=[],_=0;_<i.length;_++){var $=i[_];if(o[$])s.push(o[$]);else if(goog.object.contains(o,$)&&s.pop()!=$)return!1}return s.length==0},goog.html.SafeStyleSheet.concat=function(i){var o="",s=function(_){goog.isArray(_)?goog.array.forEach(_,s):o+=goog.html.SafeStyleSheet.unwrap(_)};return goog.array.forEach(arguments,s),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.fromConstant=function(i){return(i=goog.string.Const.unwrap(i)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(i,"<"),"Forbidden '<' character in style sheet string: "+i),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(i){return i instanceof goog.html.SafeStyleSheet&&i.constructor===goog.html.SafeStyleSheet&&i.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(i){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(i)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=i,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(i){return goog.dom.tags.VOID_TAGS_[i]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(i){this.tagName_=i},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var i=goog.labs.userAgent.util.getNavigator_();return i&&(i=i.userAgent)?i:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(i){goog.labs.userAgent.util.userAgent_=i||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(o,i)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(i){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(o,i)},goog.labs.userAgent.util.extractVersionTuples=function(i){for(var o,s=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,_=[];o=s.exec(i);)_.push([o[1],o[2],o[3]||void 0]);return _},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function i($){return $=goog.array.find($,_),s[$]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var s={};goog.array.forEach(o,function($){s[$[0]]=$[1]});var _=goog.partial(goog.object.containsKey,s);return goog.labs.userAgent.browser.isOpera()?i(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?i(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?i(["Edg"]):goog.labs.userAgent.browser.isChrome()?i(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(i){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),i)},goog.labs.userAgent.browser.getIEVersion_=function(i){var o=/rv: *([\d\.]*)/.exec(i);if(o&&o[1])return o[1];o="";var s=/MSIE +([\d\.]+)/.exec(i);if(s&&s[1])if(i=/Trident\/(\d.\d)/.exec(i),s[1]=="7.0")if(i&&i[1])switch(i[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=s[1];return o},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(i){return goog.html.SafeHtml.unwrapTrustedHTML(i).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(i){return i instanceof goog.html.SafeHtml&&i.constructor===goog.html.SafeHtml&&i.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?i.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+i+"' of type "+goog.typeOf(i)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(i){if(i instanceof goog.html.SafeHtml)return i;var o=typeof i=="object",s=null;return o&&i.implementsGoogI18nBidiDirectionalString&&(s=i.getDirection()),i=o&&i.implementsGoogStringTypedString?i.getTypedStringValue():String(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(i),s)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(i){return i instanceof goog.html.SafeHtml?i:(i=goog.html.SafeHtml.htmlEscape(i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(i)),i.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(i,o,s){return goog.html.SafeHtml.verifyTagName(String(i)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(i),o,s)},goog.html.SafeHtml.verifyTagName=function(i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error("Invalid tag name <"+i+">.");if(i.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+i+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(i,o,s,_){i&&goog.html.TrustedResourceUrl.unwrap(i);var $={};return $.src=i||null,$.srcdoc=o&&goog.html.SafeHtml.unwrap(o),i=goog.html.SafeHtml.combineAttributes($,{sandbox:""},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.createSandboxIframe=function(i,o,s,_){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var $={};return $.src=i?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)):null,$.srcdoc=o||null,$.sandbox="",i=goog.html.SafeHtml.combineAttributes($,{},s),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",i,_)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(i,o){return goog.html.TrustedResourceUrl.unwrap(i),i=goog.html.SafeHtml.combineAttributes({src:i},{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i)},goog.html.SafeHtml.createScript=function(i,o){for(var s in o){var _=s.toLowerCase();if(_=="language"||_=="src"||_=="text"||_=="type")throw Error('Cannot set "'+_+'" attribute')}for(s="",i=goog.array.concat(i),_=0;_<i.length;_++)s+=goog.html.SafeScript.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,i)},goog.html.SafeHtml.createStyle=function(i,o){o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o);var s="";i=goog.array.concat(i);for(var _=0;_<i.length;_++)s+=goog.html.SafeStyleSheet.unwrap(i[_]);return i=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,i)},goog.html.SafeHtml.createMetaRefresh=function(i,o){return i=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(i)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+i})},goog.html.SafeHtml.getAttrNameAndValue_=function(i,o,s){if(s instanceof goog.string.Const)s=goog.string.Const.unwrap(s);else if(o.toLowerCase()=="style")s=goog.html.SafeHtml.getStyleValue_(s);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+s+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(s instanceof goog.html.TrustedResourceUrl)s=goog.html.TrustedResourceUrl.unwrap(s);else if(s instanceof goog.html.SafeUrl)s=goog.html.SafeUrl.unwrap(s);else{if(!goog.isString(s))throw Error('Attribute "'+o+'" on tag "'+i+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+s+'" given.');s=goog.html.SafeUrl.sanitize(s).getTypedStringValue()}}return s.implementsGoogStringTypedString&&(s=s.getTypedStringValue()),goog.asserts.assert(goog.isString(s)||goog.isNumber(s),"String or number value expected, got "+typeof s+" with value: "+s),o+'="'+goog.string.internal.htmlEscape(String(s))+'"'},goog.html.SafeHtml.getStyleValue_=function(i){if(!goog.isObject(i))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof i+" given: "+i);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),goog.html.SafeStyle.unwrap(i)},goog.html.SafeHtml.createWithDir=function(i,o,s,_){return(o=goog.html.SafeHtml.create(o,s,_)).dir_=i,o},goog.html.SafeHtml.join=function(i,o){var s=(i=goog.html.SafeHtml.htmlEscape(i)).getDirection(),_=[],$=function(_e){goog.isArray(_e)?goog.array.forEach(_e,$):(_e=goog.html.SafeHtml.htmlEscape(_e),_.push(goog.html.SafeHtml.unwrap(_e)),_e=_e.getDirection(),s==goog.i18n.bidi.Dir.NEUTRAL?s=_e:_e!=goog.i18n.bidi.Dir.NEUTRAL&&s!=_e&&(s=null))};return goog.array.forEach(o,$),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(_.join(goog.html.SafeHtml.unwrap(i)),s)},goog.html.SafeHtml.concat=function(i){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(i,o){var s=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return s.dir_=i,s},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(i,o){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(i,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(i,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(i):i,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(i,o,s){var _=null,$="<"+i+goog.html.SafeHtml.stringifyAttributes(i,o);return goog.isDefAndNotNull(s)?goog.isArray(s)||(s=[s]):s=[],goog.dom.tags.isVoidTag(i.toLowerCase())?(goog.asserts.assert(!s.length,"Void tag <"+i+"> does not allow content."),$+=">"):(_=goog.html.SafeHtml.concat(s),$+=">"+goog.html.SafeHtml.unwrap(_)+"</"+i+">",_=_.getDirection()),(i=o&&o.dir)&&(_=/^(ltr|rtl|auto)$/i.test(i)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse($,_)},goog.html.SafeHtml.stringifyAttributes=function(i,o){var s="";if(o)for(var _ in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(_))throw Error('Invalid attribute name "'+_+'".');var $=o[_];goog.isDefAndNotNull($)&&(s+=" "+goog.html.SafeHtml.getAttrNameAndValue_(i,_,$))}return s},goog.html.SafeHtml.combineAttributes=function(i,o,s){var _,$={};for(_ in i)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=i[_];for(_ in o)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),$[_]=o[_];for(_ in s){var _e=_.toLowerCase();if(_e in i)throw Error('Cannot override "'+_e+'" attribute, got "'+_+'" with value "'+s[_]+'"');_e in o&&delete $[_e],$[_]=s[_]}return $},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(i,o,s){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,s||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(i,o){return goog.asserts.assertString(goog.string.Const.unwrap(i),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(i)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(i);o&&(!i||!(i instanceof o.Location)&&i instanceof o.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(i))}return i},goog.dom.asserts.assertIsElementType_=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=goog.dom.asserts.getWindow_(i);s&&s[o]!==void 0&&(i&&(i instanceof s[o]||!(i instanceof s.Location||i instanceof s.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(i)))}return i},goog.dom.asserts.assertIsHTMLAnchorElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(i){return goog.dom.asserts.assertIsElementType_(i,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(i){if(!goog.isObject(i))return i===void 0?"undefined":i===null?"null":typeof i;try{return i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(i){try{var o=i&&i.ownerDocument,s=o&&(o.defaultView||o.parentWindow);if((s=s||goog.global).Element&&s.Location)return s}catch{}return null},goog.functions={},goog.functions.constant=function(i){return function(){return i}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(i,o){return i},goog.functions.error=function(i){return function(){throw Error(i)}},goog.functions.fail=function(i){return function(){throw i}},goog.functions.lock=function(i,o){return o=o||0,function(){return i.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(i){return function(){return arguments[i]}},goog.functions.partialRight=function(i,o){var s=Array.prototype.slice.call(arguments,1);return function(){var _=Array.prototype.slice.call(arguments);return _.push.apply(_,s),i.apply(this,_)}},goog.functions.withReturnValue=function(i,o){return goog.functions.sequence(i,goog.functions.constant(o))},goog.functions.equalTo=function(i,o){return function(s){return o?i==s:i===s}},goog.functions.compose=function(i,o){var s=arguments,_=s.length;return function(){var $;_&&($=s[_-1].apply(this,arguments));for(var _e=_-2;0<=_e;_e--)$=s[_e].call(this,$);return $}},goog.functions.sequence=function(i){var o=arguments,s=o.length;return function(){for(var _,$=0;$<s;$++)_=o[$].apply(this,arguments);return _}},goog.functions.and=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(!o[_].apply(this,arguments))return!1;return!0}},goog.functions.or=function(i){var o=arguments,s=o.length;return function(){for(var _=0;_<s;_++)if(o[_].apply(this,arguments))return!0;return!1}},goog.functions.not=function(i){return function(){return!i.apply(this,arguments)}},goog.functions.create=function(i,o){var s=function(){};return s.prototype=i.prototype,s=new s,i.apply(s,Array.prototype.slice.call(arguments,1)),s},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(i){var o,s=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(s||(o=i(),s=!0),o):i()}},goog.functions.once=function(i){var o=i;return function(){if(o){var s=o;o=null,s()}}},goog.functions.debounce=function(i,o,s){var _=0;return function($){goog.global.clearTimeout(_);var _e=arguments;_=goog.global.setTimeout(function(){i.apply(s,_e)},o)}},goog.functions.throttle=function(i,o,s){var _=0,$=!1,_e=[],tt=function(){_=0,$&&($=!1,j())},j=function(){_=goog.global.setTimeout(tt,o),i.apply(s,_e)};return function(nt){_e=arguments,_?$=!0:j()}},goog.functions.rateLimit=function(i,o,s){var _=0,$=function(){_=0};return function(_e){_||(_=goog.global.setTimeout($,o),i.apply(s,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(i,o,s){i.insertAdjacentHTML(o,goog.html.SafeHtml.unwrapTrustedHTML(s))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),!(goog.DEBUG&&!i.firstChild)&&(o=i.firstChild.firstChild,i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!o.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(i,o){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;i.lastChild;)i.removeChild(i.lastChild);i.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setInnerHtml=function(i,o){if(goog.asserts.ENABLE_ASSERTS){var s=i.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[s])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+i.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(i,o)},goog.dom.safe.setOuterHtml=function(i,o){i.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setFormElementAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLFormElement(i).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLButtonElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(i,o){o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),goog.dom.asserts.assertIsHTMLInputElement(i).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(i,o){i.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(i,o){i.write(goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.setAnchorHref=function(i,o){goog.dom.asserts.assertIsHTMLAnchorElement(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLImageElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:image\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLAudioElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:audio\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(i,o){if(goog.dom.asserts.assertIsHTMLVideoElement(i),!(o instanceof goog.html.SafeUrl)){var s=/^data:video\//i.test(o);o=goog.html.SafeUrl.sanitizeAssertUnchanged(o,s)}i.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(i,o){goog.dom.asserts.assertIsHTMLEmbedElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setFrameSrc=function(i,o){goog.dom.asserts.assertIsHTMLFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)},goog.dom.safe.setIframeSrcdoc=function(i,o){goog.dom.asserts.assertIsHTMLIFrameElement(i),i.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(o)},goog.dom.safe.setLinkHrefAndRel=function(i,o,s){goog.dom.asserts.assertIsHTMLLinkElement(i),i.rel=s,goog.string.internal.caseInsensitiveContains(s,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),i.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(o)):i.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(o):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(o))},goog.dom.safe.setObjectData=function(i,o){goog.dom.asserts.assertIsHTMLObjectElement(i),i.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o)},goog.dom.safe.setScriptSrc=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(i,o){goog.dom.asserts.assertIsHTMLScriptElement(i),i.text=goog.html.SafeScript.unwrapTrustedScript(o),(o=goog.getScriptNonce())&&i.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(i,o){goog.dom.asserts.assertIsLocation(i),o=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o),i.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(i,o,s,_,$){return i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),(o||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(i),s?goog.string.Const.unwrap(s):"",_,$)},goog.dom.safe.parseFromStringHtml=function(i,o){return goog.dom.safe.parseFromString(i,o,"text/html")},goog.dom.safe.parseFromString=function(i,o,s){return i.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(o),s)},goog.dom.safe.createImageFromBlob=function(i){if(!/^image\/.*/g.test(i.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var o=goog.global.URL.createObjectURL(i);return(i=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(o)},goog.dom.safe.setImageSrc(i,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),o)),i},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(i,o){for(var s=i.split("%s"),_="",$=Array.prototype.slice.call(arguments,1);$.length&&1<s.length;)_+=s.shift()+$.shift();return _+s.join("%s")},goog.string.collapseWhitespace=function(i){return i.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(i){return i.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(i){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(i))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(i){return!/[^\t\n\r ]/.test(i)},goog.string.isAlpha=function(i){return!/[^a-zA-Z]/.test(i)},goog.string.isNumeric=function(i){return!/[^0-9]/.test(i)},goog.string.isAlphaNumeric=function(i){return!/[^a-zA-Z0-9]/.test(i)},goog.string.isSpace=function(i){return i==" "},goog.string.isUnicodeChar=function(i){return i.length==1&&" "<=i&&"~">=i||""<=i&&"�">=i},goog.string.stripNewlines=function(i){return i.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(i){return i.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(i){return i.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(i){return i.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(i){return i.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(i){return i.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(i){return i.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(i,o,s){if(i==o)return 0;if(!i)return-1;if(!o)return 1;for(var _=i.toLowerCase().match(s),$=o.toLowerCase().match(s),_e=Math.min(_.length,$.length),tt=0;tt<_e;tt++){s=_[tt];var j=$[tt];if(s!=j)return i=parseInt(s,10),!isNaN(i)&&(o=parseInt(j,10),!isNaN(o)&&i-o)?i-o:s<j?-1:1}return _.length!=$.length?_.length-$.length:i<o?-1:1},goog.string.intAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(i,o){return goog.string.numberAwareCompare_(i,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(i){return encodeURIComponent(String(i))},goog.string.urlDecode=function(i){return decodeURIComponent(i.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(i,o){return i=goog.string.internal.htmlEscape(i,o),goog.string.DETECT_DOUBLE_ESCAPING&&(i=i.replace(goog.string.E_RE_,"&#101;")),i},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(i){return goog.string.contains(i,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(i):goog.string.unescapePureXmlEntities_(i):i},goog.string.unescapeEntitiesWithDocument=function(i,o){return goog.string.contains(i,"&")?goog.string.unescapeEntitiesUsingDom_(i,o):i},goog.string.unescapeEntitiesUsingDom_=function(i,o){var s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},_=o?o.createElement("div"):goog.global.document.createElement("div");return i.replace(goog.string.HTML_ENTITY_PATTERN_,function($,_e){var tt=s[$];return tt||(_e.charAt(0)=="#"&&(_e=Number("0"+_e.substr(1)),isNaN(_e)||(tt=String.fromCharCode(_e))),tt||(goog.dom.safe.setInnerHtml(_,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),$+" ")),tt=_.firstChild.nodeValue.slice(0,-1)),s[$]=tt)})},goog.string.unescapePureXmlEntities_=function(i){return i.replace(/&([^;]+);/g,function(o,s){switch(s){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return s.charAt(0)!="#"||(s=Number("0"+s.substr(1)),isNaN(s))?o:String.fromCharCode(s)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(i,o){return goog.string.newLineToBr(i.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(i){return i.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(i,o){for(var s=o.length,_=0;_<s;_++){var $=s==1?o:o.charAt(_);if(i.charAt(0)==$&&i.charAt(i.length-1)==$)return i.substring(1,i.length-1)}return i},goog.string.truncate=function(i,o,s){return s&&(i=goog.string.unescapeEntities(i)),i.length>o&&(i=i.substring(0,o-3)+"..."),s&&(i=goog.string.htmlEscape(i)),i},goog.string.truncateMiddle=function(i,o,s,_){if(s&&(i=goog.string.unescapeEntities(i)),_&&i.length>o){_>o&&(_=o);var $=i.length-_;i=i.substring(0,o-_)+"..."+i.substring($)}else i.length>o&&(_=Math.floor(o/2),$=i.length-_,i=i.substring(0,_+o%2)+"..."+i.substring($));return s&&(i=goog.string.htmlEscape(i)),i},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(i){i=String(i);for(var o=['"'],s=0;s<i.length;s++){var _=i.charAt(s),$=_.charCodeAt(0);o[s+1]=goog.string.specialEscapeChars_[_]||(31<$&&127>$?_:goog.string.escapeChar(_))}return o.push('"'),o.join("")},goog.string.escapeString=function(i){for(var o=[],s=0;s<i.length;s++)o[s]=goog.string.escapeChar(i.charAt(s));return o.join("")},goog.string.escapeChar=function(i){if(i in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[i];if(i in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[i]=goog.string.specialEscapeChars_[i];var o=i.charCodeAt(0);if(31<o&&127>o)var s=i;else 256>o?(s="\\x",(16>o||256<o)&&(s+="0")):(s="\\u",4096>o&&(s+="0")),s+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[i]=s},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(i,o){return i&&o?i.split(o).length-1:0},goog.string.removeAt=function(i,o,s){var _=i;return 0<=o&&o<i.length&&0<s&&(_=i.substr(0,o)+i.substr(o+s,i.length-o-s)),_},goog.string.remove=function(i,o){return i.replace(o,"")},goog.string.removeAll=function(i,o){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,"")},goog.string.replaceAll=function(i,o,s){return o=new RegExp(goog.string.regExpEscape(o),"g"),i.replace(o,s.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(i){return String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(i,o){return i.repeat(o)}:function(i,o){return Array(o+1).join(i)},goog.string.padNumber=function(i,o,s){return(s=(i=goog.isDef(s)?i.toFixed(s):String(i)).indexOf("."))==-1&&(s=i.length),goog.string.repeat("0",Math.max(0,o-s))+i},goog.string.makeSafe=function(i){return i==null?"":String(i)},goog.string.buildString=function(i){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(i){for(var o=0,s=0;s<i.length;++s)o=31*o+i.charCodeAt(s)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(i){var o=Number(i);return o==0&&goog.string.isEmptyOrWhitespace(i)?NaN:o},goog.string.isLowerCamelCase=function(i){return/^[a-z]+([A-Z][a-z]*)*$/.test(i)},goog.string.isUpperCamelCase=function(i){return/^([A-Z][a-z]*)+$/.test(i)},goog.string.toCamelCase=function(i){return String(i).replace(/\-([a-z])/g,function(o,s){return s.toUpperCase()})},goog.string.toSelectorCase=function(i){return String(i).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(i,o){return o=goog.isString(o)?goog.string.regExpEscape(o):"\\s",i.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(s,_,$){return _+$.toUpperCase()})},goog.string.capitalize=function(i){return String(i.charAt(0)).toUpperCase()+String(i.substr(1)).toLowerCase()},goog.string.parseInt=function(i){return isFinite(i)&&(i=String(i)),goog.isString(i)?/^\s*-?0x/i.test(i)?parseInt(i,16):parseInt(i,10):NaN},goog.string.splitLimit=function(i,o,s){i=i.split(o);for(var _=[];0<s&&i.length;)_.push(i.shift()),s--;return i.length&&_.push(i.join(o)),_},goog.string.lastComponent=function(i,o){if(!o)return i;typeof o=="string"&&(o=[o]);for(var s=-1,_=0;_<o.length;_++)if(o[_]!=""){var $=i.lastIndexOf(o[_]);$>s&&(s=$)}return s==-1?i:i.slice(s+1)},goog.string.editDistance=function(i,o){var s=[],_=[];if(i==o)return 0;if(!i.length||!o.length)return Math.max(i.length,o.length);for(var $=0;$<o.length+1;$++)s[$]=$;for($=0;$<i.length;$++){_[0]=$+1;for(var _e=0;_e<o.length;_e++)_[_e+1]=Math.min(_[_e]+1,s[_e+1]+1,s[_e]+Number(i[$]!=o[_e]));for(_e=0;_e<s.length;_e++)s[_e]=_[_e]}return _[o.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(i=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(i))?i[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(i=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(i))&&i[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(i=(o=/Mac OS X ([0-9_.]+)/).exec(i))?i[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?o=(i=(o=/(?:KaiOS)\/(\S+)/i).exec(i))&&i[1]:goog.labs.userAgent.platform.isAndroid()?o=(i=(o=/Android\s+([^\);]+)(\)|;)/).exec(i))&&i[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(i=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(i))&&i[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),i)},goog.reflect={},goog.reflect.object=function(i,o){return o},goog.reflect.objectProperty=function(i,o){return i},goog.reflect.sinkValue=function(i){return goog.reflect.sinkValue[" "](i),i},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(i,o){try{return goog.reflect.sinkValue(i[o]),!0}catch{}return!1},goog.reflect.cache=function(i,o,s,_){return _=_?_(o):o,Object.prototype.hasOwnProperty.call(i,_)?i[_]:i[_]=s(o)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var i=goog.labs.userAgent.util.getUserAgent();if(i){i=goog.labs.userAgent.util.extractVersionTuples(i);var o,s=goog.labs.userAgent.engine.getEngineTuple_(i);if(s)return s[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(i,"Firefox"):s[1];if((i=i[0])&&(o=i[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(i){if(!goog.labs.userAgent.engine.isEdge())return i[1];for(var o=0;o<i.length;o++){var s=i[o];if(s[0]=="Edge")return s}},goog.labs.userAgent.engine.isVersionOrHigher=function(i){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),i)},goog.labs.userAgent.engine.getVersionForKey_=function(i,o){return(i=goog.array.find(i,function(s){return o==s[0]}))&&i[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var i=goog.userAgent.getNavigatorTyped();return i&&i.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var i=goog.userAgent.getNavigatorTyped();return!!i&&goog.string.contains(i.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var i="",o=goog.userAgent.getVersionRegexResult_();return o&&(i=o?o[1]:""),goog.userAgent.IE&&(o=goog.userAgent.getDocumentMode_())!=null&&o>parseFloat(i)?String(o):i},goog.userAgent.getVersionRegexResult_=function(){var i=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(i):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(i):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(i):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0},goog.userAgent.getDocumentMode_=function(){var i=goog.global.document;return i?i.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(i,o){return goog.string.compareVersions(i,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(i){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,i,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,i)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(i){return Number(goog.userAgent.DOCUMENT_MODE)>=i},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(i){return goog.string.contains(goog.crypt.base64.paddingChars_,i)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(i,o){goog.asserts.assert(goog.isArrayLike(i),"encodeByteArray takes an array as a parameter"),o===void 0&&(o=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),o=goog.crypt.base64.byteToCharMaps_[o];for(var s=[],_=0;_<i.length;_+=3){var $=i[_],_e=_+1<i.length,tt=_e?i[_+1]:0,j=_+2<i.length,nt=j?i[_+2]:0,st=$>>2;$=(3&$)<<4|tt>>4,tt=(15&tt)<<2|nt>>6,nt&=63,j||(nt=64,_e||(tt=64)),s.push(o[st],o[$],o[tt]||"",o[nt]||"")}return s.join("")},goog.crypt.base64.encodeString=function(i,o){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!o?goog.global.btoa(i):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(i),o)},goog.crypt.base64.decodeString=function(i,o){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!o)return goog.global.atob(i);var s="";return goog.crypt.base64.decodeStringInternal_(i,function(_){s+=String.fromCharCode(_)}),s},goog.crypt.base64.decodeStringToByteArray=function(i,o){var s=[];return goog.crypt.base64.decodeStringInternal_(i,function(_){s.push(_)}),s},goog.crypt.base64.decodeStringToUint8Array=function(i){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var o=i.length,s=3*o/4;s%3?s=Math.floor(s):goog.crypt.base64.isPadding_(i[o-1])&&(s=goog.crypt.base64.isPadding_(i[o-2])?s-2:s-1);var _=new Uint8Array(s),$=0;return goog.crypt.base64.decodeStringInternal_(i,function(_e){_[$++]=_e}),_.subarray(0,$)},goog.crypt.base64.decodeStringInternal_=function(i,o){function s(nt){for(;_<i.length;){var st=i.charAt(_++),ht=goog.crypt.base64.charToByteMap_[st];if(ht!=null)return ht;if(!goog.string.isEmptyOrWhitespace(st))throw Error("Unknown base64 encoding at char: "+st)}return nt}goog.crypt.base64.init_();for(var _=0;;){var $=s(-1),_e=s(0),tt=s(64),j=s(64);if(j===64&&$===-1)break;o($<<2|_e>>4),tt!=64&&(o(_e<<4&240|tt>>2),j!=64&&o(tt<<6&192|j))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var i=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),o=["+/=","+/","-_=","-_.","-_"],s=0;5>s;s++){var _=i.concat(o[s].split(""));goog.crypt.base64.byteToCharMaps_[s]=_;for(var $=0;$<_.length;$++){var _e=_[$],tt=goog.crypt.base64.charToByteMap_[_e];tt===void 0?goog.crypt.base64.charToByteMap_[_e]=$:goog.asserts.assert(tt===$)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(i){var o=i>>>0;i=Math.floor((i-o)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=o,jspb.utils.split64High=i},jspb.utils.splitInt64=function(i){var o=0>i,s=(i=Math.abs(i))>>>0;i=Math.floor((i-s)/jspb.BinaryConstants.TWO_TO_32),i>>>=0,o&&(i=~i>>>0,4294967295<(s=1+(~s>>>0))&&(s=0,4294967295<++i&&(i=0))),jspb.utils.split64Low=s,jspb.utils.split64High=i},jspb.utils.splitZigzag64=function(i){var o=0>i;i=2*Math.abs(i),jspb.utils.splitUint64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;o&&(i==0?s==0?s=i=4294967295:(s--,i=4294967295):i--),jspb.utils.split64Low=i,jspb.utils.split64High=s},jspb.utils.splitFloat32=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)0<1/i?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(i))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(i>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|2139095040)>>>0;else if(i<jspb.BinaryConstants.FLOAT32_MIN)i=Math.round(i/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|i)>>>0;else{var s=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-s),i=8388607&Math.round(i*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(o<<31|s+127<<23|i)>>>0}},jspb.utils.splitFloat64=function(i){var o=0>i?1:0;if((i=o?-i:i)===0)jspb.utils.split64High=0<1/i?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(i))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(i>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(o<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(i<jspb.BinaryConstants.FLOAT64_MIN){var s=i/Math.pow(2,-1074);i=s/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(o<<31|i)>>>0,jspb.utils.split64Low=s>>>0}else{var _=0;if(2<=(s=i))for(;2<=s&&1023>_;)_++,s/=2;else for(;1>s&&-1022<_;)s*=2,_--;i=(s=i*Math.pow(2,-_))*jspb.BinaryConstants.TWO_TO_20&1048575,s=s*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(o<<31|_+1023<<20|i)>>>0,jspb.utils.split64Low=s}},jspb.utils.splitHash64=function(i){var o=i.charCodeAt(0),s=i.charCodeAt(1),_=i.charCodeAt(2),$=i.charCodeAt(3),_e=i.charCodeAt(4),tt=i.charCodeAt(5),j=i.charCodeAt(6);i=i.charCodeAt(7),jspb.utils.split64Low=o+(s<<8)+(_<<16)+($<<24)>>>0,jspb.utils.split64High=_e+(tt<<8)+(j<<16)+(i<<24)>>>0},jspb.utils.joinUint64=function(i,o){return o*jspb.BinaryConstants.TWO_TO_32+(i>>>0)},jspb.utils.joinInt64=function(i,o){var s=2147483648&o;return s&&(o=~o>>>0,(i=1+~i>>>0)==0&&(o=o+1>>>0)),i=jspb.utils.joinUint64(i,o),s?-i:i},jspb.utils.toZigzag64=function(i,o,s){var _=o>>31;return s(i<<1^_,(o<<1|i>>>31)^_)},jspb.utils.joinZigzag64=function(i,o){return jspb.utils.fromZigzag64(i,o,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(i,o,s){var _=-(1&i);return s((i>>>1|o<<31)^_,o>>>1^_)},jspb.utils.joinFloat32=function(i,o){o=2*(i>>31)+1;var s=i>>>23&255;return i&=8388607,s==255?i?NaN:1/0*o:s==0?o*Math.pow(2,-149)*i:o*Math.pow(2,s-150)*(i+Math.pow(2,23))},jspb.utils.joinFloat64=function(i,o){var s=2*(o>>31)+1,_=o>>>20&2047;return i=jspb.BinaryConstants.TWO_TO_32*(1048575&o)+i,_==2047?i?NaN:1/0*s:_==0?s*Math.pow(2,-1074)*i:s*Math.pow(2,_-1075)*(i+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(i,o){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(i,o){function s($,_e){return $=$?String($):"",_e?"0000000".slice($.length)+$:$}if(2097151>=o)return""+(jspb.BinaryConstants.TWO_TO_32*o+i);var _=(i>>>24|o<<8)>>>0&16777215;return i=(16777215&i)+6777216*_+6710656*(o=o>>16&65535),_+=8147497*o,o*=2,1e7<=i&&(_+=Math.floor(i/1e7),i%=1e7),1e7<=_&&(o+=Math.floor(_/1e7),_%=1e7),s(o,0)+s(_,o)+s(i,1)},jspb.utils.joinSignedDecimalString=function(i,o){var s=2147483648&o;return s&&(o=~o+((i=1+~i>>>0)==0?1:0)>>>0),i=jspb.utils.joinUnsignedDecimalString(i,o),s?"-"+i:i},jspb.utils.hash64ToDecimalString=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinSignedDecimalString(i,s):jspb.utils.joinUnsignedDecimalString(i,s)},jspb.utils.hash64ArrayToDecimalStrings=function(i,o){for(var s=Array(i.length),_=0;_<i.length;_++)s[_]=jspb.utils.hash64ToDecimalString(i[_],o);return s},jspb.utils.decimalStringToHash64=function(i){function o(_e,tt){for(var j=0;8>j&&(_e!==1||0<tt);j++)tt=_e*_[j]+tt,_[j]=255&tt,tt>>>=8}goog.asserts.assert(0<i.length);var s=!1;i[0]==="-"&&(s=!0,i=i.slice(1));for(var _=[0,0,0,0,0,0,0,0],$=0;$<i.length;$++)o(10,i.charCodeAt($)-jspb.utils.ZERO_CHAR_CODE_);return s&&(function(){for(var _e=0;8>_e;_e++)_[_e]=255&~_[_e]}(),o(1,1)),goog.crypt.byteArrayToString(_)},jspb.utils.splitDecimalString=function(i){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i))},jspb.utils.toHexDigit_=function(i){return String.fromCharCode(10>i?jspb.utils.ZERO_CHAR_CODE_+i:jspb.utils.A_CHAR_CODE_-10+i)},jspb.utils.fromHexCharCode_=function(i){return i>=jspb.utils.A_CHAR_CODE_?i-jspb.utils.A_CHAR_CODE_+10:i-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(i){var o=Array(18);o[0]="0",o[1]="x";for(var s=0;8>s;s++){var _=i.charCodeAt(7-s);o[2*s+2]=jspb.utils.toHexDigit_(_>>4),o[2*s+3]=jspb.utils.toHexDigit_(15&_)}return o.join("")},jspb.utils.hexStringToHash64=function(i){i=i.toLowerCase(),goog.asserts.assert(i.length==18),goog.asserts.assert(i[0]=="0"),goog.asserts.assert(i[1]=="x");for(var o="",s=0;8>s;s++){var _=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+2)),$=jspb.utils.fromHexCharCode_(i.charCodeAt(2*s+3));o=String.fromCharCode(16*_+$)+o}return o},jspb.utils.hash64ToNumber=function(i,o){jspb.utils.splitHash64(i),i=jspb.utils.split64Low;var s=jspb.utils.split64High;return o?jspb.utils.joinInt64(i,s):jspb.utils.joinUint64(i,s)},jspb.utils.numberToHash64=function(i){return jspb.utils.splitInt64(i),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(i,o,s){for(var _=0,$=o;$<s;$++)_+=i[$]>>7;return s-o-_},jspb.utils.countVarintFields=function(i,o,s,_){var $=0;if(128>(_=8*_+jspb.BinaryConstants.WireType.VARINT))for(;o<s&&i[o++]==_;)for($++;;){var _e=i[o++];if(!(128&_e))break}else for(;o<s;){for(_e=_;128<_e;){if(i[o]!=(127&_e|128))return $;o++,_e>>=7}if(i[o++]!=_e)break;for($++;128&(_e=i[o++]););}return $},jspb.utils.countFixedFields_=function(i,o,s,_,$){var _e=0;if(128>_)for(;o<s&&i[o++]==_;)_e++,o+=$;else for(;o<s;){for(var tt=_;128<tt;){if(i[o++]!=(127&tt|128))return _e;tt>>=7}if(i[o++]!=tt)break;_e++,o+=$}return _e},jspb.utils.countFixed32Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(i,o,s,_){return jspb.utils.countFixedFields_(i,o,s,8*_+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(i,o,s,_){var $=0;for(_=8*_+jspb.BinaryConstants.WireType.DELIMITED;o<s;){for(var _e=_;128<_e;){if(i[o++]!=(127&_e|128))return $;_e>>=7}if(i[o++]!=_e)break;$++;for(var tt=0,j=1;tt+=(127&(_e=i[o++]))*j,j*=128,(128&_e)!=0;);o+=tt}return $},jspb.utils.debugBytesToTextFormat=function(i){var o='"';if(i){i=jspb.utils.byteSourceToUint8Array(i);for(var s=0;s<i.length;s++)o+="\\x",16>i[s]&&(o+="0"),o+=i[s].toString(16)}return o+'"'},jspb.utils.debugScalarToTextFormat=function(i){return typeof i=="string"?goog.string.quote(i):i.toString()},jspb.utils.stringToByteArray=function(i){for(var o=new Uint8Array(i.length),s=0;s<i.length;s++){var _=i.charCodeAt(s);if(255<_)throw Error("Conversion error: string contains codepoint outside of byte range");o[s]=_}return o},jspb.utils.byteSourceToUint8Array=function(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer||Buffer!==void 0&&i.constructor===Buffer||i.constructor===Array?new Uint8Array(i):i.constructor===String?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(i,o,s){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,i&&this.setBlock(i,o,s)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(i,o,s){if(jspb.BinaryDecoder.instanceCache_.length){var _=jspb.BinaryDecoder.instanceCache_.pop();return i&&_.setBlock(i,o,s),_}return new jspb.BinaryDecoder(i,o,s)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(i,o,s){this.bytes_=jspb.utils.byteSourceToUint8Array(i),this.start_=o!==void 0?o:0,this.end_=s!==void 0?this.start_+s:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(i){this.end_=i},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(i){this.cursor_=i},jspb.BinaryDecoder.prototype.advance=function(i){this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(i){for(var o=128,s=0,_=0,$=0;4>$&&128<=o;$++)s|=(127&(o=this.bytes_[this.cursor_++]))<<7*$;if(128<=o&&(s|=(127&(o=this.bytes_[this.cursor_++]))<<28,_|=(127&o)>>4),128<=o)for($=0;5>$&&128<=o;$++)_|=(127&(o=this.bytes_[this.cursor_++]))<<7*$+3;if(128>o)return i(s>>>0,_>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(i){return this.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(i){var o=this.bytes_,s=this.cursor_;this.cursor_+=8;for(var _=0,$=0,_e=s+7;_e>=s;_e--)_=_<<8|o[_e],$=$<<8|o[_e+4];return i(_,$)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(i){for(;128<i;)this.cursor_--,i>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var i=this.bytes_,o=i[this.cursor_+0],s=127&o;return 128>o?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+1]))<<7,128>o?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+2]))<<14,128>o?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(127&(o=i[this.cursor_+3]))<<21,128>o?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),s):(s|=(15&(o=i[this.cursor_+4]))<<28,128>o?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),s>>>0):(this.cursor_+=5,128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&128<=i[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),s)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var i=this.readUnsignedVarint32();return i>>>1^-(1&i)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readUint16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8|s<<16|_<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUint64(i,o)},jspb.BinaryDecoder.prototype.readUint64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinUnsignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readInt8=function(){var i=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),i<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(i<<0|o<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var i=this.bytes_[this.cursor_+0],o=this.bytes_[this.cursor_+1],s=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),i<<0|o<<8|s<<16|_<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinInt64(i,o)},jspb.BinaryDecoder.prototype.readInt64String=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinSignedDecimalString(i,o)},jspb.BinaryDecoder.prototype.readFloat=function(){var i=this.readUint32();return jspb.utils.joinFloat32(i,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var i=this.readUint32(),o=this.readUint32();return jspb.utils.joinFloat64(i,o)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(i){var o=this.bytes_,s=this.cursor_;i=s+i;for(var _=[],$="";s<i;){var _e=o[s++];if(128>_e)_.push(_e);else{if(192>_e)continue;if(224>_e){var tt=o[s++];_.push((31&_e)<<6|63&tt)}else if(240>_e){tt=o[s++];var j=o[s++];_.push((15&_e)<<12|(63&tt)<<6|63&j)}else 248>_e&&(_e=(7&_e)<<18|(63&(tt=o[s++]))<<12|(63&(j=o[s++]))<<6|63&o[s++],_e-=65536,_.push(55296+(_e>>10&1023),56320+(1023&_e)))}8192<=_.length&&($+=String.fromCharCode.apply(null,_),_.length=0)}return $+=goog.crypt.byteArrayToString(_),this.cursor_=s,$},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var i=this.readUnsignedVarint32();return this.readString(i)},jspb.BinaryDecoder.prototype.readBytes=function(i){if(0>i||this.cursor_+i>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var o=this.bytes_.subarray(this.cursor_,this.cursor_+i);return this.cursor_+=i,goog.asserts.assert(this.cursor_<=this.end_),o},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var i=this.bytes_,o=this.cursor_,s=i[o+0],_=i[o+1],$=i[o+2],_e=i[o+3],tt=i[o+4],j=i[o+5],nt=i[o+6];return i=i[o+7],this.cursor_+=8,String.fromCharCode(s,_,$,_e,tt,j,nt,i)},jspb.BinaryReader=function(i,o,s){this.decoder_=jspb.BinaryDecoder.alloc(i,o,s),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(i,o,s){if(jspb.BinaryReader.instanceCache_.length){var _=jspb.BinaryReader.instanceCache_.pop();return i&&_.decoder_.setBlock(i,o,s),_}return new jspb.BinaryReader(i,o,s)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(i,o,s){this.decoder_.setBlock(i,o,s),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(i){this.decoder_.advance(i)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var i=this.decoder_.readUnsignedVarint32(),o=i>>>3;return(i&=7)!=jspb.BinaryConstants.WireType.VARINT&&i!=jspb.BinaryConstants.WireType.FIXED32&&i!=jspb.BinaryConstants.WireType.FIXED64&&i!=jspb.BinaryConstants.WireType.DELIMITED&&i!=jspb.BinaryConstants.WireType.START_GROUP&&i!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",i,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=o,this.nextWireType_=i,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var i=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==i;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var i=this.decoder_.readUnsignedVarint32();this.decoder_.advance(i)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var i=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=i&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(i,o){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[i]),this.readCallbacks_[i]=o},jspb.BinaryReader.prototype.runReadCallback=function(i){return goog.asserts.assert(this.readCallbacks_!==null),i=this.readCallbacks_[i],goog.asserts.assert(i),i(this)},jspb.BinaryReader.prototype.readAny=function(i){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(i);var o=jspb.BinaryConstants.FieldType;switch(i){case o.DOUBLE:return this.readDouble();case o.FLOAT:return this.readFloat();case o.INT64:return this.readInt64();case o.UINT64:return this.readUint64();case o.INT32:return this.readInt32();case o.FIXED64:return this.readFixed64();case o.FIXED32:return this.readFixed32();case o.BOOL:return this.readBool();case o.STRING:return this.readString();case o.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case o.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case o.BYTES:return this.readBytes();case o.UINT32:return this.readUint32();case o.ENUM:return this.readEnum();case o.SFIXED32:return this.readSfixed32();case o.SFIXED64:return this.readSfixed64();case o.SINT32:return this.readSint32();case o.SINT64:return this.readSint64();case o.FHASH64:return this.readFixedHash64();case o.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var s=this.decoder_.getEnd(),_=this.decoder_.readUnsignedVarint32();_=this.decoder_.getCursor()+_,this.decoder_.setEnd(_),o(i,this),this.decoder_.setCursor(_),this.decoder_.setEnd(s)},jspb.BinaryReader.prototype.readGroup=function(i,o,s){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==i),s(o,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32(),o=this.decoder_.getCursor(),s=o+i;return i=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),o,i),this.decoder_.setCursor(s),i},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(i)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(i)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(i)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(o,s){return jspb.utils.fromZigzag64(o,s,i)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(i){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(i)},jspb.BinaryReader.prototype.readPackedField_=function(i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.readUnsignedVarint32();o=this.decoder_.getCursor()+o;for(var s=[];this.decoder_.getCursor()<o;)s.push(i.call(this.decoder_));return s},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(i,o){this.arr_=i,this.valueCtor_=o,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var i=0;i<this.arr_.length;i++){var o=this.arr_[i],s=o[0];this.map_[s.toString()]=new jspb.Map.Entry_(s,o[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var i,o=this.map_;for(i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var s=o[i].valueWrapper;s&&s.toArray()}}}else{for(this.arr_.length=0,(o=this.stringKeys_()).sort(),i=0;i<o.length;i++){var _=this.map_[o[i]];(s=_.valueWrapper)&&s.toArray(),this.arr_.push([_.key,_.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(i,o){for(var s=this.toArray(),_=[],$=0;$<s.length;$++){var _e=this.map_[s[$][0].toString()];this.wrapEntry_(_e);var tt=_e.valueWrapper;tt?(goog.asserts.assert(o),_.push([_e.key,o(i,tt)])):_.push([_e.key,_e.value])}return _},jspb.Map.fromObject=function(i,o,s){o=new jspb.Map([],o);for(var _=0;_<i.length;_++){var $=i[_][0],_e=s(i[_][1]);o.set($,_e)}return o},jspb.Map.ArrayIteratorIterable_=function(i){this.idx_=0,this.arr_=i},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(i){i=i.toString();var o=this.map_.hasOwnProperty(i);return delete this.map_[i],this.arrClean=!1,o},jspb.Map.prototype.getEntryList=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,_.value])}return i},jspb.Map.prototype.entries=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++){var _=this.map_[o[s]];i.push([_.key,this.wrapEntry_(_)])}return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.keys=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.map_[o[s]].key);return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.values=function(){var i=[],o=this.stringKeys_();o.sort();for(var s=0;s<o.length;s++)i.push(this.wrapEntry_(this.map_[o[s]]));return new jspb.Map.ArrayIteratorIterable_(i)},jspb.Map.prototype.forEach=function(i,o){var s=this.stringKeys_();s.sort();for(var _=0;_<s.length;_++){var $=this.map_[s[_]];i.call(o,this.wrapEntry_($),$.key,this)}},jspb.Map.prototype.set=function(i,o){var s=new jspb.Map.Entry_(i);return this.valueCtor_?(s.valueWrapper=o,s.value=o.toArray()):s.value=o,this.map_[i.toString()]=s,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(i){return this.valueCtor_?(i.valueWrapper||(i.valueWrapper=new this.valueCtor_(i.value)),i.valueWrapper):i.value},jspb.Map.prototype.get=function(i){if(i=this.map_[i.toString()])return this.wrapEntry_(i)},jspb.Map.prototype.has=function(i){return i.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(i,o,s,_,$){var _e=this.stringKeys_();_e.sort();for(var tt=0;tt<_e.length;tt++){var j=this.map_[_e[tt]];o.beginSubMessage(i),s.call(o,1,j.key),this.valueCtor_?_.call(o,2,this.wrapEntry_(j),$):_.call(o,2,j.value),o.endSubMessage()}},jspb.Map.deserializeBinary=function(i,o,s,_,$,_e,tt){for(;o.nextField()&&!o.isEndGroup();){var j=o.getFieldNumber();j==1?_e=s.call(o):j==2&&(i.valueCtor_?(goog.asserts.assert($),tt||(tt=new i.valueCtor_),_.call(o,tt,$)):tt=_.call(o))}goog.asserts.assert(_e!=null),goog.asserts.assert(tt!=null),i.set(_e,tt)},jspb.Map.prototype.stringKeys_=function(){var i,o=this.map_,s=[];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},jspb.Map.Entry_=function(i,o){this.key=i,this.value=o,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(i,o,s,_,$){this.fieldIndex=i,this.fieldName=o,this.ctor=s,this.toObjectFn=_,this.isRepeated=$},jspb.ExtensionFieldBinaryInfo=function(i,o,s,_,$,_e){this.fieldInfo=i,this.binaryReaderFn=o,this.binaryWriterFn=s,this.binaryMessageSerializeFn=_,this.binaryMessageDeserializeFn=$,this.isPacked=_e},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(i,o){return o+i.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(i,o){return o-i.arrayIndexOffset_},jspb.Message.initialize=function(i,o,s,_,$,_e){if(i.wrappers_=null,o||(o=s?[s]:[]),i.messageId_=s?String(s):void 0,i.arrayIndexOffset_=s===0?-1:0,i.array=o,jspb.Message.initPivotAndExtensionObject_(i,_),i.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(i.repeatedFields=$),$)for(o=0;o<$.length;o++)(s=$[o])<i.pivot_?(s=jspb.Message.getIndex_(i,s),i.array[s]=i.array[s]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[s]=i.extensionObject_[s]||jspb.Message.EMPTY_LIST_SENTINEL_);if(_e&&_e.length)for(o=0;o<_e.length;o++)jspb.Message.computeOneofCase(i,_e[o])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(i){return jspb.Message.ASSUME_LOCAL_ARRAYS?i instanceof Array:Array.isArray(i)},jspb.Message.isExtensionObject_=function(i){return!(i===null||typeof i!="object"||jspb.Message.isArray_(i)||jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(i,o){var s=i.array.length,_=-1;if(s&&(_=s-1,s=i.array[_],jspb.Message.isExtensionObject_(s)))return i.pivot_=jspb.Message.getFieldNumber_(i,_),void(i.extensionObject_=s);-1<o?(i.pivot_=Math.max(o,jspb.Message.getFieldNumber_(i,_+1)),i.extensionObject_=null):i.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(i){var o=jspb.Message.getIndex_(i,i.pivot_);i.array[o]||(i.extensionObject_=i.array[o]={})},jspb.Message.toObjectList=function(i,o,s){for(var _=[],$=0;$<i.length;$++)_[$]=o.call(i[$],s,i[$]);return _},jspb.Message.toObjectExtension=function(i,o,s,_,$){for(var _e in s){var tt=s[_e],j=_.call(i,tt);if(j!=null){for(var nt in tt.fieldName)if(tt.fieldName.hasOwnProperty(nt))break;o[nt]=tt.toObjectFn?tt.isRepeated?jspb.Message.toObjectList(j,tt.toObjectFn,$):tt.toObjectFn($,j):j}}},jspb.Message.serializeBinaryExtensions=function(i,o,s,_){for(var $ in s){var _e=s[$],tt=_e.fieldInfo;if(!_e.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var j=_.call(i,tt);if(j!=null)if(tt.isMessageType()){if(!_e.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");_e.binaryWriterFn.call(o,tt.fieldIndex,j,_e.binaryMessageSerializeFn)}else _e.binaryWriterFn.call(o,tt.fieldIndex,j)}},jspb.Message.readBinaryExtension=function(i,o,s,_,$){var _e=s[o.getFieldNumber()];if(_e){if(s=_e.fieldInfo,!_e.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(s.isMessageType()){var tt=new s.ctor;_e.binaryReaderFn.call(o,tt,_e.binaryMessageDeserializeFn)}else tt=_e.binaryReaderFn.call(o);s.isRepeated&&!_e.isPacked?(o=_.call(i,s))?o.push(tt):$.call(i,s,[tt]):$.call(i,s,tt)}else o.skipField()},jspb.Message.getField=function(i,o){if(o<i.pivot_){o=jspb.Message.getIndex_(i,o);var s=i.array[o];return s===jspb.Message.EMPTY_LIST_SENTINEL_?i.array[o]=[]:s}if(i.extensionObject_)return(s=i.extensionObject_[o])===jspb.Message.EMPTY_LIST_SENTINEL_?i.extensionObject_[o]=[]:s},jspb.Message.getRepeatedField=function(i,o){return jspb.Message.getField(i,o)},jspb.Message.getOptionalFloatingPointField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:+i},jspb.Message.getBooleanField=function(i,o){return(i=jspb.Message.getField(i,o))==null?i:!!i},jspb.Message.getRepeatedFloatingPointField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=+s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.getRepeatedBooleanField=function(i,o){var s=jspb.Message.getRepeatedField(i,o);if(i.convertedPrimitiveFields_||(i.convertedPrimitiveFields_={}),!i.convertedPrimitiveFields_[o]){for(var _=0;_<s.length;_++)s[_]=!!s[_];i.convertedPrimitiveFields_[o]=!0}return s},jspb.Message.bytesAsB64=function(i){return i==null||typeof i=="string"?i:jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array?goog.crypt.base64.encodeByteArray(i):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(i)),null)},jspb.Message.bytesAsU8=function(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?goog.crypt.base64.decodeStringToUint8Array(i):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(i)),null)},jspb.Message.bytesListAsB64=function(i){return jspb.Message.assertConsistentTypes_(i),i.length&&typeof i[0]!="string"?goog.array.map(i,jspb.Message.bytesAsB64):i},jspb.Message.bytesListAsU8=function(i){return jspb.Message.assertConsistentTypes_(i),!i.length||i[0]instanceof Uint8Array?i:goog.array.map(i,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(i){if(goog.DEBUG&&i&&1<i.length){var o=goog.typeOf(i[0]);goog.array.forEach(i,function(s){goog.typeOf(s)!=o&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(s)+" expected "+o)})}},jspb.Message.getFieldWithDefault=function(i,o,s){return(i=jspb.Message.getField(i,o))==null?s:i},jspb.Message.getBooleanFieldWithDefault=function(i,o,s){return(i=jspb.Message.getBooleanField(i,o))==null?s:i},jspb.Message.getFloatingPointFieldWithDefault=function(i,o,s){return(i=jspb.Message.getOptionalFloatingPointField(i,o))==null?s:i},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),o in i.wrappers_)return i.wrappers_[o];var $=jspb.Message.getField(i,o);if(!$){if(s)return;$=[],jspb.Message.setField(i,o,$)}return i.wrappers_[o]=new jspb.Map($,_)},jspb.Message.setField=function(i,o,s){return goog.asserts.assertInstanceof(i,jspb.Message),o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=s:(jspb.Message.maybeInitEmptyExtensionObject_(i),i.extensionObject_[o]=s),i},jspb.Message.setProto3IntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3FloatField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3BooleanField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,!1)},jspb.Message.setProto3StringField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3BytesField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"")},jspb.Message.setProto3EnumField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,0)},jspb.Message.setProto3StringIntField=function(i,o,s){return jspb.Message.setFieldIgnoringDefault_(i,o,s,"0")},jspb.Message.setFieldIgnoringDefault_=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),s!==_?jspb.Message.setField(i,o,s):o<i.pivot_?i.array[jspb.Message.getIndex_(i,o)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(i),delete i.extensionObject_[o]),i},jspb.Message.addToRepeatedField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),o=jspb.Message.getRepeatedField(i,o),_!=null?o.splice(_,0,s):o.push(s),i},jspb.Message.setOneofField=function(i,o,s,_){return goog.asserts.assertInstanceof(i,jspb.Message),(s=jspb.Message.computeOneofCase(i,s))&&s!==o&&_!==void 0&&(i.wrappers_&&s in i.wrappers_&&(i.wrappers_[s]=void 0),jspb.Message.setField(i,s,void 0)),jspb.Message.setField(i,o,_)},jspb.Message.computeOneofCase=function(i,o){for(var s,_,$=0;$<o.length;$++){var _e=o[$],tt=jspb.Message.getField(i,_e);tt!=null&&(s=_e,_=tt,jspb.Message.setField(i,_e,void 0))}return s?(jspb.Message.setField(i,s,_),s):0},jspb.Message.getWrapperField=function(i,o,s,_){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){var $=jspb.Message.getField(i,s);(_||$)&&(i.wrappers_[s]=new o($))}return i.wrappers_[s]},jspb.Message.getRepeatedWrapperField=function(i,o,s){return jspb.Message.wrapRepeatedField_(i,o,s),(o=i.wrappers_[s])==jspb.Message.EMPTY_LIST_SENTINEL_&&(o=i.wrappers_[s]=[]),o},jspb.Message.wrapRepeatedField_=function(i,o,s){if(i.wrappers_||(i.wrappers_={}),!i.wrappers_[s]){for(var _=jspb.Message.getRepeatedField(i,s),$=[],_e=0;_e<_.length;_e++)$[_e]=new o(_[_e]);i.wrappers_[s]=$}},jspb.Message.setWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var _=s&&s.toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.setOneofWrapperField=function(i,o,s,_){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={});var $=_&&_.toArray();return i.wrappers_[o]=_,jspb.Message.setOneofField(i,o,s,$)},jspb.Message.setRepeatedWrapperField=function(i,o,s){goog.asserts.assertInstanceof(i,jspb.Message),i.wrappers_||(i.wrappers_={}),s=s||[];for(var _=[],$=0;$<s.length;$++)_[$]=s[$].toArray();return i.wrappers_[o]=s,jspb.Message.setField(i,o,_)},jspb.Message.addToRepeatedWrapperField=function(i,o,s,_,$){jspb.Message.wrapRepeatedField_(i,_,o);var _e=i.wrappers_[o];return _e||(_e=i.wrappers_[o]=[]),s=s||new _,i=jspb.Message.getRepeatedField(i,o),$!=null?(_e.splice($,0,s),i.splice($,0,s.toArray())):(_e.push(s),i.push(s.toArray())),s},jspb.Message.toMap=function(i,o,s,_){for(var $={},_e=0;_e<i.length;_e++)$[o.call(i[_e])]=s?s.call(i[_e],_,i[_e]):i[_e];return $},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var i in this.wrappers_){var o=this.wrappers_[i];if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]&&o[s].toArray();else o&&o.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(i){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var o=i.fieldIndex;if(i.isRepeated){if(i.isMessageType())return this.wrappers_[o]||(this.wrappers_[o]=goog.array.map(this.extensionObject_[o]||[],function(s){return new i.ctor(s)})),this.wrappers_[o]}else if(i.isMessageType())return!this.wrappers_[o]&&this.extensionObject_[o]&&(this.wrappers_[o]=new i.ctor(this.extensionObject_[o])),this.wrappers_[o];return this.extensionObject_[o]}},jspb.Message.prototype.setExtension=function(i,o){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var s=i.fieldIndex;return i.isRepeated?(o=o||[],i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=goog.array.map(o,function(_){return _.toArray()})):this.extensionObject_[s]=o):i.isMessageType()?(this.wrappers_[s]=o,this.extensionObject_[s]=o&&o.toArray()):this.extensionObject_[s]=o,this},jspb.Message.difference=function(i,o){if(!(i instanceof o.constructor))throw Error("Messages have different types.");var s=i.toArray();o=o.toArray();var _=[],$=0,_e=s.length>o.length?s.length:o.length;for(i.getJsPbMessageId()&&(_[0]=i.getJsPbMessageId(),$=1);$<_e;$++)jspb.Message.compareFields(s[$],o[$])||(_[$]=o[$]);return new i.constructor(_)},jspb.Message.equals=function(i,o){return i==o||!(!i||!o)&&i instanceof o.constructor&&jspb.Message.compareFields(i.toArray(),o.toArray())},jspb.Message.compareExtensions=function(i,o){i=i||{},o=o||{};var s,_={};for(s in i)_[s]=0;for(s in o)_[s]=0;for(s in _)if(!jspb.Message.compareFields(i[s],o[s]))return!1;return!0},jspb.Message.compareFields=function(i,o){if(i==o)return!0;if(!goog.isObject(i)||!goog.isObject(o))return!!(typeof i=="number"&&isNaN(i)||typeof o=="number"&&isNaN(o))&&String(i)==String(o);if(i.constructor!=o.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i.constructor===Uint8Array){if(i.length!=o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!=o[s])return!1;return!0}if(i.constructor===Array){var _=void 0,$=void 0,_e=Math.max(i.length,o.length);for(s=0;s<_e;s++){var tt=i[s],j=o[s];if(tt&&tt.constructor==Object&&(goog.asserts.assert(_===void 0),goog.asserts.assert(s===i.length-1),_=tt,tt=void 0),j&&j.constructor==Object&&(goog.asserts.assert($===void 0),goog.asserts.assert(s===o.length-1),$=j,j=void 0),!jspb.Message.compareFields(tt,j))return!1}return!_&&!$||(_=_||{},$=$||{},jspb.Message.compareExtensions(_,$))}if(i.constructor===Object)return jspb.Message.compareExtensions(i,o);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(i){return jspb.Message.cloneMessage(i)},jspb.Message.cloneMessage=function(i){return new i.constructor(jspb.Message.clone_(i.toArray()))},jspb.Message.copyInto=function(i,o){goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assertInstanceof(o,jspb.Message),goog.asserts.assert(i.constructor==o.constructor,"Copy source and target message should have the same type."),i=jspb.Message.clone(i);for(var s=o.toArray(),_=i.toArray(),$=s.length=0;$<_.length;$++)s[$]=_[$];o.wrappers_=i.wrappers_,o.extensionObject_=i.extensionObject_},jspb.Message.clone_=function(i){if(Array.isArray(i)){for(var o=Array(i.length),s=0;s<i.length;s++){var _=i[s];_!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_)}return o}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&i instanceof Uint8Array)return new Uint8Array(i);for(s in o={},i)(_=i[s])!=null&&(o[s]=typeof _=="object"?jspb.Message.clone_(goog.asserts.assert(_)):_);return o},jspb.Message.registerMessageType=function(i,o){o.messageId=i},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(i,o){this.lo=i,this.hi=o},jspb.arith.UInt64.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(i){return new jspb.arith.UInt64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(i){return new jspb.arith.UInt64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(i,o){var s=65535&i,_=65535&o,$=o>>>16;for(o=s*_+65536*(s*$&65535)+65536*((i>>>=16)*_&65535),s=i*$+(s*$>>>16)+(i*_>>>16);4294967296<=o;)o-=4294967296,s+=1;return new jspb.arith.UInt64(o>>>0,s>>>0)},jspb.arith.UInt64.prototype.mul=function(i){var o=jspb.arith.UInt64.mul32x32(this.lo,i);return(i=jspb.arith.UInt64.mul32x32(this.hi,i)).hi=i.lo,i.lo=0,o.add(i)},jspb.arith.UInt64.prototype.div=function(i){if(i==0)return[];var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(this.lo,this.hi);i=new jspb.arith.UInt64(i,0);for(var _=new jspb.arith.UInt64(1,0);!i.msb();)i=i.leftShift(),_=_.leftShift();for(;!_.zero();)0>=i.cmp(s)&&(o=o.add(_),s=s.sub(i)),i=i.rightShift(),_=_.rightShift();return[o,s]},jspb.arith.UInt64.prototype.toString=function(){for(var i="",o=this;!o.zero();){var s=(o=o.div(10))[0];i=o[1].lo+i,o=s}return i==""&&(i="0"),i},jspb.arith.UInt64.fromString=function(i){for(var o=new jspb.arith.UInt64(0,0),s=new jspb.arith.UInt64(0,0),_=0;_<i.length;_++){if("0">i[_]||"9"<i[_])return null;var $=parseInt(i[_],10);s.lo=$,o=o.mul(10).add(s)}return o},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(i,o){this.lo=i,this.hi=o},jspb.arith.Int64.prototype.add=function(i){return new jspb.arith.Int64((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(i){return new jspb.arith.Int64((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var i=(2147483648&this.hi)!=0,o=new jspb.arith.UInt64(this.lo,this.hi);return i&&(o=new jspb.arith.UInt64(0,0).sub(o)),(i?"-":"")+o.toString()},jspb.arith.Int64.fromString=function(i){var o=0<i.length&&i[0]=="-";return o&&(i=i.substring(1)),(i=jspb.arith.UInt64.fromString(i))===null?null:(o&&(i=new jspb.arith.UInt64(0,0).sub(i)),new jspb.arith.Int64(i.lo,i.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var i=this.buffer_;return this.buffer_=[],i},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(i,o){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32);0<o||127<i;)this.buffer_.push(127&i|128),i=(i>>>7|o<<25)>>>0,o>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(i,o){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(o==Math.floor(o)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(i),this.writeUint32(o)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(i){for(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);127<i;)this.buffer_.push(127&i|128),i>>>=7;this.buffer_.push(i)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(i){if(goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),0<=i)this.writeUnsignedVarint32(i);else{for(var o=0;9>o;o++)this.buffer_.push(127&i|128),i>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((i<<1^i>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(i){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(i){var o=this;jspb.utils.splitHash64(i),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(s,_){o.writeSplitVarint64(s>>>0,_>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&256>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&65536>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-128<=i&&128>i),this.buffer_.push(i>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(-32768<=i&&32768>i),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(i>>>0&255),this.buffer_.push(i>>>8&255),this.buffer_.push(i>>>16&255),this.buffer_.push(i>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(i),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(+i>=-jspb.BinaryConstants.TWO_TO_63&&+i<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(i)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT32_MAX&&i<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(i),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(i){goog.asserts.assert(1/0===i||-1/0===i||isNaN(i)||i>=-jspb.BinaryConstants.FLOAT64_MAX&&i<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(i){goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.buffer_.push(i?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(i){goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(i)},jspb.BinaryEncoder.prototype.writeBytes=function(i){this.buffer_.push.apply(this.buffer_,i)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(i){jspb.utils.splitHash64(i),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(i){jspb.utils.splitHash64(i),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(i){for(var o=this.buffer_.length,s=0;s<i.length;s++){var _=i.charCodeAt(s);if(128>_)this.buffer_.push(_);else if(2048>_)this.buffer_.push(_>>6|192),this.buffer_.push(63&_|128);else if(65536>_)if(55296<=_&&56319>=_&&s+1<i.length){var $=i.charCodeAt(s+1);56320<=$&&57343>=$&&(_=1024*(_-55296)+$-56320+65536,this.buffer_.push(_>>18|240),this.buffer_.push(_>>12&63|128),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128),s++)}else this.buffer_.push(_>>12|224),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128)}return this.buffer_.length-o},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(i){var o=this.encoder_.end();this.blocks_.push(o),this.blocks_.push(i),this.totalLength_+=o.length+i.length},jspb.BinaryWriter.prototype.beginDelimited_=function(i){return this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),i=this.encoder_.end(),this.blocks_.push(i),this.totalLength_+=i.length,i.push(this.totalLength_),i},jspb.BinaryWriter.prototype.endDelimited_=function(i){var o=i.pop();for(o=this.totalLength_+this.encoder_.length()-o,goog.asserts.assert(0<=o);127<o;)i.push(127&o|128),o>>>=7,this.totalLength_++;i.push(o),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(i,o,s){this.appendUint8Array_(i.subarray(o,s))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(i,o,s){i!=null&&o!=null&&s!=null&&this.writeSerializedMessage(i,o,s)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var i=new Uint8Array(this.totalLength_+this.encoder_.length()),o=this.blocks_,s=o.length,_=0,$=0;$<s;$++){var _e=o[$];i.set(_e,_),_+=_e.length}return o=this.encoder_.end(),i.set(o,_),_+=o.length,goog.asserts.assert(_==i.length),this.blocks_=[i],i},jspb.BinaryWriter.prototype.getResultBase64String=function(i){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),i)},jspb.BinaryWriter.prototype.beginSubMessage=function(i){this.bookmarks_.push(this.beginDelimited_(i))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(i,o){goog.asserts.assert(1<=i&&i==Math.floor(i)),this.encoder_.writeUnsignedVarint32(8*i+o)},jspb.BinaryWriter.prototype.writeAny=function(i,o,s){var _=jspb.BinaryConstants.FieldType;switch(i){case _.DOUBLE:this.writeDouble(o,s);break;case _.FLOAT:this.writeFloat(o,s);break;case _.INT64:this.writeInt64(o,s);break;case _.UINT64:this.writeUint64(o,s);break;case _.INT32:this.writeInt32(o,s);break;case _.FIXED64:this.writeFixed64(o,s);break;case _.FIXED32:this.writeFixed32(o,s);break;case _.BOOL:this.writeBool(o,s);break;case _.STRING:this.writeString(o,s);break;case _.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case _.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case _.BYTES:this.writeBytes(o,s);break;case _.UINT32:this.writeUint32(o,s);break;case _.ENUM:this.writeEnum(o,s);break;case _.SFIXED32:this.writeSfixed32(o,s);break;case _.SFIXED64:this.writeSfixed64(o,s);break;case _.SINT32:this.writeSint32(o,s);break;case _.SINT64:this.writeSint64(o,s);break;case _.FHASH64:this.writeFixedHash64(o,s);break;case _.VHASH64:this.writeVarintHash64(o,s);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(o))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(o))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(o))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(o))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(o))},jspb.BinaryWriter.prototype.writeInt32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeInt64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeInt64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeUint32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint32String=function(i,o){o!=null&&(o=parseInt(o,10),goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(i,o))},jspb.BinaryWriter.prototype.writeUint64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(i,o))},jspb.BinaryWriter.prototype.writeUint64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSint32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(i,o))},jspb.BinaryWriter.prototype.writeSint64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(i,o))},jspb.BinaryWriter.prototype.writeSintHash64=function(i,o){o!=null&&this.writeZigzagVarintHash64_(i,o)},jspb.BinaryWriter.prototype.writeSint64String=function(i,o){o!=null&&this.writeZigzagVarint64String_(i,o)},jspb.BinaryWriter.prototype.writeFixed32=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(o))},jspb.BinaryWriter.prototype.writeFixed64=function(i,o){o!=null&&(goog.asserts.assert(0<=o&&o<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(o))},jspb.BinaryWriter.prototype.writeFixed64String=function(i,o){o!=null&&(o=jspb.arith.UInt64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(o))},jspb.BinaryWriter.prototype.writeSfixed64=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_63&&o<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(o))},jspb.BinaryWriter.prototype.writeSfixed64String=function(i,o){o!=null&&(o=jspb.arith.Int64.fromString(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o.lo,o.hi))},jspb.BinaryWriter.prototype.writeFloat=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(o))},jspb.BinaryWriter.prototype.writeDouble=function(i,o){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(o))},jspb.BinaryWriter.prototype.writeBool=function(i,o){o!=null&&(goog.asserts.assert(typeof o=="boolean"||typeof o=="number"),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(o))},jspb.BinaryWriter.prototype.writeEnum=function(i,o){o!=null&&(goog.asserts.assert(o>=-jspb.BinaryConstants.TWO_TO_31&&o<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(o))},jspb.BinaryWriter.prototype.writeString=function(i,o){o!=null&&(i=this.beginDelimited_(i),this.encoder_.writeString(o),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeBytes=function(i,o){o!=null&&(o=jspb.utils.byteSourceToUint8Array(o),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),this.appendUint8Array_(o))},jspb.BinaryWriter.prototype.writeMessage=function(i,o,s){o!=null&&(i=this.beginDelimited_(i),s(o,this),this.endDelimited_(i))},jspb.BinaryWriter.prototype.writeMessageSet=function(i,o,s){o!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i),i=this.beginDelimited_(3),s(o,this),this.endDelimited_(i),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(i,o,s){o!=null&&(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o,this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(o))},jspb.BinaryWriter.prototype.writeVarintHash64=function(i,o){o!=null&&(goog.asserts.assert(o.length==8),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(o))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(o,s)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(o,s)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(i,o,s){this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.VARINT);var _=this.encoder_;jspb.utils.toZigzag64(o,s,function($,_e){_.writeSplitVarint64($>>>0,_e>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitFixed64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(i,o,s,_){if(o!=null)for(var $=0;$<o.length;$++)this.writeSplitZigzagVarint64(i,s(o[$]),_(o[$]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeInt64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint32String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUnsignedVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeUint64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint32_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarint64String_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeZigzagVarintHash64_(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed32(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeSfixed64String(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFloat(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeDouble(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBool(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeEnum(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedString=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeString(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeBytes(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++){var $=this.beginDelimited_(i);s(o[_],this),this.endDelimited_($)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(i,o,s){if(o!=null)for(var _=0;_<o.length;_++)this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.START_GROUP),s(o[_],this),this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeFixedHash64(i,o[s])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(i,o){if(o!=null)for(var s=0;s<o.length;s++)this.writeVarintHash64(i,o[s])},jspb.BinaryWriter.prototype.writePackedInt32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeSignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitFixed64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=0;$<o.length;$++)this.encoder_.writeSplitVarint64(s(o[$]),_(o[$]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(i,o,s,_){if(o!=null){i=this.beginDelimited_(i);for(var $=this.encoder_,_e=0;_e<o.length;_e++)jspb.utils.toZigzag64(s(o[_e]),_(o[_e]),function(tt,j){$.writeSplitVarint64(tt>>>0,j>>>0)});this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.Int64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint32(parseInt(o[s],10));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeUnsignedVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++){var _=jspb.arith.UInt64.fromString(o[s]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint32=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint32(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarint64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(o[s]));this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeZigzagVarintHash64(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeUint32(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeUint64(o[i])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++){var s=jspb.arith.UInt64.fromString(o[i]);this.encoder_.writeSplitFixed64(s.lo,s.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeInt32(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64(o[i])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeInt64String(o[i])},jspb.BinaryWriter.prototype.writePackedFloat=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*o.length),i=0;i<o.length;i++)this.encoder_.writeFloat(o[i])},jspb.BinaryWriter.prototype.writePackedDouble=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeDouble(o[i])},jspb.BinaryWriter.prototype.writePackedBool=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(o.length),i=0;i<o.length;i++)this.encoder_.writeBool(o[i])},jspb.BinaryWriter.prototype.writePackedEnum=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeEnum(o[s]);this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(i,o){if(o!=null&&o.length)for(this.writeFieldHeader_(i,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*o.length),i=0;i<o.length;i++)this.encoder_.writeFixedHash64(o[i])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(i,o){if(o!=null&&o.length){i=this.beginDelimited_(i);for(var s=0;s<o.length;s++)this.encoder_.writeVarintHash64(o[s]);this.endDelimited_(i)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(6),__webpack_require__(5).Buffer)},function(i,o,s){const{AbortController:_,AbortSignal:$}=typeof self<"u"?self:typeof window<"u"?window:void 0;i.exports=_,i.exports.AbortSignal=$,i.exports.default=_},function(i,o){var s=function(_){function $(){this.fetch=!1,this.DOMException=_.DOMException}return $.prototype=_,new $}(typeof self<"u"?self:this);(function(_){(function($){var _e="URLSearchParams"in _,tt="Symbol"in _&&"iterator"in Symbol,j="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),nt="FormData"in _,st="ArrayBuffer"in _;if(st)var ht=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_t=ArrayBuffer.isView||function(It){return It&&ht.indexOf(Object.prototype.toString.call(It))>-1};function ft(It){if(typeof It!="string"&&(It=String(It)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(It))throw new TypeError("Invalid character in header field name");return It.toLowerCase()}function dt(It){return typeof It!="string"&&(It=String(It)),It}function ut(It){var Bt={next:function(){var Lt=It.shift();return{done:Lt===void 0,value:Lt}}};return tt&&(Bt[Symbol.iterator]=function(){return Bt}),Bt}function mt(It){this.map={},It instanceof mt?It.forEach(function(Bt,Lt){this.append(Lt,Bt)},this):Array.isArray(It)?It.forEach(function(Bt){this.append(Bt[0],Bt[1])},this):It&&Object.getOwnPropertyNames(It).forEach(function(Bt){this.append(Bt,It[Bt])},this)}function wt(It){if(It.bodyUsed)return Promise.reject(new TypeError("Already read"));It.bodyUsed=!0}function Qt(It){return new Promise(function(Bt,Lt){It.onload=function(){Bt(It.result)},It.onerror=function(){Lt(It.error)}})}function Dt(It){var Bt=new FileReader,Lt=Qt(Bt);return Bt.readAsArrayBuffer(It),Lt}function Et(It){if(It.slice)return It.slice(0);var Bt=new Uint8Array(It.byteLength);return Bt.set(new Uint8Array(It)),Bt.buffer}function xt(){return this.bodyUsed=!1,this._initBody=function(It){var Bt;this._bodyInit=It,It?typeof It=="string"?this._bodyText=It:j&&Blob.prototype.isPrototypeOf(It)?this._bodyBlob=It:nt&&FormData.prototype.isPrototypeOf(It)?this._bodyFormData=It:_e&&URLSearchParams.prototype.isPrototypeOf(It)?this._bodyText=It.toString():st&&j&&(Bt=It)&&DataView.prototype.isPrototypeOf(Bt)?(this._bodyArrayBuffer=Et(It.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):st&&(ArrayBuffer.prototype.isPrototypeOf(It)||_t(It))?this._bodyArrayBuffer=Et(It):this._bodyText=It=Object.prototype.toString.call(It):this._bodyText="",this.headers.get("content-type")||(typeof It=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_e&&URLSearchParams.prototype.isPrototypeOf(It)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},j&&(this.blob=function(){var It=wt(this);if(It)return It;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Dt)}),this.text=function(){var It,Bt,Lt,Xt=wt(this);if(Xt)return Xt;if(this._bodyBlob)return It=this._bodyBlob,Bt=new FileReader,Lt=Qt(Bt),Bt.readAsText(It),Lt;if(this._bodyArrayBuffer)return Promise.resolve(function(zt){for(var Pt=new Uint8Array(zt),jt=new Array(Pt.length),Zt=0;Zt<Pt.length;Zt++)jt[Zt]=String.fromCharCode(Pt[Zt]);return jt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},nt&&(this.formData=function(){return this.text().then(nn)}),this.json=function(){return this.text().then(JSON.parse)},this}mt.prototype.append=function(It,Bt){It=ft(It),Bt=dt(Bt);var Lt=this.map[It];this.map[It]=Lt?Lt+", "+Bt:Bt},mt.prototype.delete=function(It){delete this.map[ft(It)]},mt.prototype.get=function(It){return It=ft(It),this.has(It)?this.map[It]:null},mt.prototype.has=function(It){return this.map.hasOwnProperty(ft(It))},mt.prototype.set=function(It,Bt){this.map[ft(It)]=dt(Bt)},mt.prototype.forEach=function(It,Bt){for(var Lt in this.map)this.map.hasOwnProperty(Lt)&&It.call(Bt,this.map[Lt],Lt,this)},mt.prototype.keys=function(){var It=[];return this.forEach(function(Bt,Lt){It.push(Lt)}),ut(It)},mt.prototype.values=function(){var It=[];return this.forEach(function(Bt){It.push(Bt)}),ut(It)},mt.prototype.entries=function(){var It=[];return this.forEach(function(Bt,Lt){It.push([Lt,Bt])}),ut(It)},tt&&(mt.prototype[Symbol.iterator]=mt.prototype.entries);var pt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Vt(It,Bt){var Lt,Xt,zt=(Bt=Bt||{}).body;if(It instanceof Vt){if(It.bodyUsed)throw new TypeError("Already read");this.url=It.url,this.credentials=It.credentials,Bt.headers||(this.headers=new mt(It.headers)),this.method=It.method,this.mode=It.mode,this.signal=It.signal,zt||It._bodyInit==null||(zt=It._bodyInit,It.bodyUsed=!0)}else this.url=String(It);if(this.credentials=Bt.credentials||this.credentials||"same-origin",!Bt.headers&&this.headers||(this.headers=new mt(Bt.headers)),this.method=(Lt=Bt.method||this.method||"GET",Xt=Lt.toUpperCase(),pt.indexOf(Xt)>-1?Xt:Lt),this.mode=Bt.mode||this.mode||null,this.signal=Bt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&zt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(zt)}function nn(It){var Bt=new FormData;return It.trim().split("&").forEach(function(Lt){if(Lt){var Xt=Lt.split("="),zt=Xt.shift().replace(/\+/g," "),Pt=Xt.join("=").replace(/\+/g," ");Bt.append(decodeURIComponent(zt),decodeURIComponent(Pt))}}),Bt}function on(It,Bt){Bt||(Bt={}),this.type="default",this.status=Bt.status===void 0?200:Bt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Bt?Bt.statusText:"OK",this.headers=new mt(Bt.headers),this.url=Bt.url||"",this._initBody(It)}Vt.prototype.clone=function(){return new Vt(this,{body:this._bodyInit})},xt.call(Vt.prototype),xt.call(on.prototype),on.prototype.clone=function(){return new on(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new mt(this.headers),url:this.url})},on.error=function(){var It=new on(null,{status:0,statusText:""});return It.type="error",It};var bt=[301,302,303,307,308];on.redirect=function(It,Bt){if(bt.indexOf(Bt)===-1)throw new RangeError("Invalid status code");return new on(null,{status:Bt,headers:{location:It}})},$.DOMException=_.DOMException;try{new $.DOMException}catch{$.DOMException=function(Bt,Lt){this.message=Bt,this.name=Lt;var Xt=Error(Bt);this.stack=Xt.stack},$.DOMException.prototype=Object.create(Error.prototype),$.DOMException.prototype.constructor=$.DOMException}function St(It,Bt){return new Promise(function(Lt,Xt){var zt=new Vt(It,Bt);if(zt.signal&&zt.signal.aborted)return Xt(new $.DOMException("Aborted","AbortError"));var Pt=new XMLHttpRequest;function jt(){Pt.abort()}Pt.onload=function(){var Zt,Ct,Ft={status:Pt.status,statusText:Pt.statusText,headers:(Zt=Pt.getAllResponseHeaders()||"",Ct=new mt,Zt.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(tn){var mn=tn.split(":"),yn=mn.shift().trim();if(yn){var vn=mn.join(":").trim();Ct.append(yn,vn)}}),Ct)};Ft.url="responseURL"in Pt?Pt.responseURL:Ft.headers.get("X-Request-URL");var Ht="response"in Pt?Pt.response:Pt.responseText;Lt(new on(Ht,Ft))},Pt.onerror=function(){Xt(new TypeError("Network request failed"))},Pt.ontimeout=function(){Xt(new TypeError("Network request failed"))},Pt.onabort=function(){Xt(new $.DOMException("Aborted","AbortError"))},Pt.open(zt.method,zt.url,!0),zt.credentials==="include"?Pt.withCredentials=!0:zt.credentials==="omit"&&(Pt.withCredentials=!1),"responseType"in Pt&&j&&(Pt.responseType="blob"),zt.headers.forEach(function(Zt,Ct){Pt.setRequestHeader(Ct,Zt)}),zt.signal&&(zt.signal.addEventListener("abort",jt),Pt.onreadystatechange=function(){Pt.readyState===4&&zt.signal.removeEventListener("abort",jt)}),Pt.send(zt._bodyInit===void 0?null:zt._bodyInit)})}St.polyfill=!0,_.fetch||(_.fetch=St,_.Headers=mt,_.Request=Vt,_.Response=on),$.Headers=mt,$.Request=Vt,$.Response=on,$.fetch=St})({})})(s),delete s.fetch.polyfill,(o=s.fetch).default=s.fetch,o.fetch=s.fetch,o.Headers=s.Headers,o.Request=s.Request,o.Response=s.Response,i.exports=o},function(i,o,s){(function(_){const $=s(211),_e=s(52),tt=(j,nt,st)=>({from:tt,EnvVarError:s(52),get:function(ht){if(!ht)return j;if(arguments.length>1)throw new _e("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return $(j,ht,nt||{},st||function(){})},accessors:s(94),logger:s(225)(console.log,j.NODE_ENV)});i.exports=tt(_.env)}).call(this,s(2))},function(i,o,s){var _=s(13),$=s(73),_e=s(3).LEVEL,tt=i.exports=function(){var j=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.call(this,{objectMode:!0,highWaterMark:nt.highWaterMark}),this.format=nt.format,this.level=nt.level,this.handleExceptions=nt.handleExceptions,this.silent=nt.silent,nt.log&&(this.log=nt.log),nt.logv&&(this.logv=nt.logv),nt.close&&(this.close=nt.close),this.once("pipe",function(st){j.levels=st.levels,j.parent=st}),this.once("unpipe",function(st){st===j.parent&&(j.parent=null,j.close&&j.close())})};_.inherits(tt,$),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);var ht=this.level||this.parent&&this.parent.level;if(!ht||this.levels[ht]>=this.levels[j[_e]]){if(j&&!this.format)return this.log(j,st);var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(st(),_t)throw _t;return}return this.log(ft,st)}return st(null)},tt.prototype._writev=function(j,nt){if(this.logv){var st=j.filter(this._accept,this);return st.length?this.logv(st,nt):nt(null)}for(var ht=0;ht<j.length;ht++)if(this._accept(j[ht]))if(!j[ht].chunk||this.format){var _t=void 0,ft=void 0;try{ft=this.format.transform(Object.assign({},j[ht].chunk),this.format.options)}catch(dt){_t=dt}if(_t||!ft){if(j[ht].callback(),_t)throw nt(null),_t}else this.log(ft,j[ht].callback)}else this.log(j[ht].chunk,j[ht].callback);return nt(null)},tt.prototype._accept=function(j){var nt=j.chunk;if(this.silent)return!1;var st=this.level||this.parent&&this.parent.level;return!(nt.exception!==!0&&st&&!(this.levels[st]>=this.levels[nt[_e]])||!this.handleExceptions&&nt.exception===!0)},tt.prototype._nop=function(){}},function(i,o,s){(function(_){const $=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,_e=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new nt}abort(){this.signal.dispatchEvent("abort")}},tt=typeof AbortSignal=="function",j=typeof _e.AbortSignal=="function",nt=tt?AbortSignal:j?_e.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(xt){if(xt==="abort"){this.aborted=!0;const pt={type:xt,target:this};this.onabort(pt),this._listeners.forEach(Vt=>Vt(pt),this)}}onabort(){}addEventListener(xt,pt){xt==="abort"&&this._listeners.push(pt)}removeEventListener(xt,pt){xt==="abort"&&(this._listeners=this._listeners.filter(Vt=>Vt!==pt))}},st=new Set,ht=(xt,pt)=>{const Vt=`LRU_CACHE_OPTION_${xt}`;dt(Vt)&&ut(Vt,`${xt} option`,`options.${pt}`,Et)},_t=(xt,pt)=>{const Vt=`LRU_CACHE_METHOD_${xt}`;if(dt(Vt)){const{prototype:nn}=Et,{get:on}=Object.getOwnPropertyDescriptor(nn,xt);ut(Vt,`${xt} method`,`cache.${pt}()`,on)}},ft=(...xt)=>{typeof _=="object"&&_&&typeof _.emitWarning=="function"?_.emitWarning(...xt):console.error(...xt)},dt=xt=>!st.has(xt),ut=(xt,pt,Vt,nn)=>{st.add(xt),ft(`The ${pt} is deprecated. Please use ${Vt} instead.`,"DeprecationWarning",xt,nn)},mt=xt=>xt&&xt===Math.floor(xt)&&xt>0&&isFinite(xt),wt=xt=>mt(xt)?xt<=Math.pow(2,8)?Uint8Array:xt<=Math.pow(2,16)?Uint16Array:xt<=Math.pow(2,32)?Uint32Array:xt<=Number.MAX_SAFE_INTEGER?Qt:null:null;class Qt extends Array{constructor(pt){super(pt),this.fill(0)}}class Dt{constructor(pt){if(pt===0)return[];const Vt=wt(pt);this.heap=new Vt(pt),this.length=0}push(pt){this.heap[this.length++]=pt}pop(){return this.heap[--this.length]}}class Et{constructor(pt={}){const{max:Vt=0,ttl:nn,ttlResolution:on=1,ttlAutopurge:bt,updateAgeOnGet:St,updateAgeOnHas:It,allowStale:Bt,dispose:Lt,disposeAfter:Xt,noDisposeOnSet:zt,noUpdateTTL:Pt,maxSize:jt=0,maxEntrySize:Zt=0,sizeCalculation:Ct,fetchMethod:Ft,fetchContext:Ht,noDeleteOnFetchRejection:tn,noDeleteOnStaleGet:mn}=pt,{length:yn,maxAge:vn,stale:un}=pt instanceof Et?{}:pt;if(Vt!==0&&!mt(Vt))throw new TypeError("max option must be a nonnegative integer");const rn=Vt?wt(Vt):Array;if(!rn)throw new Error("invalid max value: "+Vt);if(this.max=Vt,this.maxSize=jt,this.maxEntrySize=Zt||this.maxSize,this.sizeCalculation=Ct||yn,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Ft||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=Ht,!this.fetchMethod&&Ht!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(Vt).fill(null),this.valList=new Array(Vt).fill(null),this.next=new rn(Vt),this.prev=new rn(Vt),this.head=0,this.tail=0,this.free=new Dt(Vt),this.initialFill=1,this.size=0,typeof Lt=="function"&&(this.dispose=Lt),typeof Xt=="function"?(this.disposeAfter=Xt,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!zt,this.noUpdateTTL=!!Pt,this.noDeleteOnFetchRejection=!!tn,this.maxEntrySize!==0){if(this.maxSize!==0&&!mt(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!mt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!Bt||!!un,this.noDeleteOnStaleGet=!!mn,this.updateAgeOnGet=!!St,this.updateAgeOnHas=!!It,this.ttlResolution=mt(on)||on===0?on:1,this.ttlAutopurge=!!bt,this.ttl=nn||vn||0,this.ttl){if(!mt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const At="LRU_CACHE_UNBOUNDED";dt(At)&&(st.add(At),ft("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",At,Et))}un&&ht("stale","allowStale"),vn&&ht("maxAge","ttl"),yn&&ht("length","sizeCalculation")}getRemainingTTL(pt){return this.has(pt,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Qt(this.max),this.starts=new Qt(this.max),this.setItemTTL=(nn,on,bt=$.now())=>{if(this.starts[nn]=on!==0?bt:0,this.ttls[nn]=on,on!==0&&this.ttlAutopurge){const St=setTimeout(()=>{this.isStale(nn)&&this.delete(this.keyList[nn])},on+1);St.unref&&St.unref()}},this.updateItemAge=nn=>{this.starts[nn]=this.ttls[nn]!==0?$.now():0};let pt=0;const Vt=()=>{const nn=$.now();if(this.ttlResolution>0){pt=nn;const on=setTimeout(()=>pt=0,this.ttlResolution);on.unref&&on.unref()}return nn};this.getRemainingTTL=nn=>{const on=this.keyMap.get(nn);return on===void 0?0:this.ttls[on]===0||this.starts[on]===0?1/0:this.starts[on]+this.ttls[on]-(pt||Vt())},this.isStale=nn=>this.ttls[nn]!==0&&this.starts[nn]!==0&&(pt||Vt())-this.starts[nn]>this.ttls[nn]}updateItemAge(pt){}setItemTTL(pt,Vt,nn){}isStale(pt){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Qt(this.max),this.removeItemSize=pt=>{this.calculatedSize-=this.sizes[pt],this.sizes[pt]=0},this.requireSize=(pt,Vt,nn,on)=>{if(!mt(nn)){if(!on)throw new TypeError("invalid size value (must be positive integer)");if(typeof on!="function")throw new TypeError("sizeCalculation must be a function");if(nn=on(Vt,pt),!mt(nn))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return nn},this.addItemSize=(pt,Vt)=>{this.sizes[pt]=Vt;const nn=this.maxSize-this.sizes[pt];for(;this.calculatedSize>nn;)this.evict(!0);this.calculatedSize+=this.sizes[pt]}}removeItemSize(pt){}addItemSize(pt,Vt){}requireSize(pt,Vt,nn,on){if(nn||on)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:pt=this.allowStale}={}){if(this.size)for(let Vt=this.tail;this.isValidIndex(Vt)&&(!pt&&this.isStale(Vt)||(yield Vt),Vt!==this.head);)Vt=this.prev[Vt]}*rindexes({allowStale:pt=this.allowStale}={}){if(this.size)for(let Vt=this.head;this.isValidIndex(Vt)&&(!pt&&this.isStale(Vt)||(yield Vt),Vt!==this.tail);)Vt=this.next[Vt]}isValidIndex(pt){return this.keyMap.get(this.keyList[pt])===pt}*entries(){for(const pt of this.indexes())yield[this.keyList[pt],this.valList[pt]]}*rentries(){for(const pt of this.rindexes())yield[this.keyList[pt],this.valList[pt]]}*keys(){for(const pt of this.indexes())yield this.keyList[pt]}*rkeys(){for(const pt of this.rindexes())yield this.keyList[pt]}*values(){for(const pt of this.indexes())yield this.valList[pt]}*rvalues(){for(const pt of this.rindexes())yield this.valList[pt]}[Symbol.iterator](){return this.entries()}find(pt,Vt={}){for(const nn of this.indexes())if(pt(this.valList[nn],this.keyList[nn],this))return this.get(this.keyList[nn],Vt)}forEach(pt,Vt=this){for(const nn of this.indexes())pt.call(Vt,this.valList[nn],this.keyList[nn],this)}rforEach(pt,Vt=this){for(const nn of this.rindexes())pt.call(Vt,this.valList[nn],this.keyList[nn],this)}get prune(){return _t("prune","purgeStale"),this.purgeStale}purgeStale(){let pt=!1;for(const Vt of this.rindexes({allowStale:!0}))this.isStale(Vt)&&(this.delete(this.keyList[Vt]),pt=!0);return pt}dump(){const pt=[];for(const Vt of this.indexes({allowStale:!0})){const nn=this.keyList[Vt],on=this.valList[Vt],bt={value:this.isBackgroundFetch(on)?on.__staleWhileFetching:on};if(this.ttls){bt.ttl=this.ttls[Vt];const St=$.now()-this.starts[Vt];bt.start=Math.floor(Date.now()-St)}this.sizes&&(bt.size=this.sizes[Vt]),pt.unshift([nn,bt])}return pt}load(pt){this.clear();for(const[Vt,nn]of pt){if(nn.start){const on=Date.now()-nn.start;nn.start=$.now()-on}this.set(Vt,nn.value,nn)}}dispose(pt,Vt,nn){}set(pt,Vt,{ttl:nn=this.ttl,start:on,noDisposeOnSet:bt=this.noDisposeOnSet,size:St=0,sizeCalculation:It=this.sizeCalculation,noUpdateTTL:Bt=this.noUpdateTTL}={}){if(St=this.requireSize(pt,Vt,St,It),this.maxEntrySize&&St>this.maxEntrySize)return this;let Lt=this.size===0?void 0:this.keyMap.get(pt);if(Lt===void 0)Lt=this.newIndex(),this.keyList[Lt]=pt,this.valList[Lt]=Vt,this.keyMap.set(pt,Lt),this.next[this.tail]=Lt,this.prev[Lt]=this.tail,this.tail=Lt,this.size++,this.addItemSize(Lt,St),Bt=!1;else{const Xt=this.valList[Lt];Vt!==Xt&&(this.isBackgroundFetch(Xt)?Xt.__abortController.abort():bt||(this.dispose(Xt,pt,"set"),this.disposeAfter&&this.disposed.push([Xt,pt,"set"])),this.removeItemSize(Lt),this.valList[Lt]=Vt,this.addItemSize(Lt,St)),this.moveToTail(Lt)}if(nn===0||this.ttl!==0||this.ttls||this.initializeTTLTracking(),Bt||this.setItemTTL(Lt,nn,on),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const pt=this.valList[this.head];return this.evict(!0),pt}}evict(pt){const Vt=this.head,nn=this.keyList[Vt],on=this.valList[Vt];return this.isBackgroundFetch(on)?on.__abortController.abort():(this.dispose(on,nn,"evict"),this.disposeAfter&&this.disposed.push([on,nn,"evict"])),this.removeItemSize(Vt),pt&&(this.keyList[Vt]=null,this.valList[Vt]=null,this.free.push(Vt)),this.head=this.next[Vt],this.keyMap.delete(nn),this.size--,Vt}has(pt,{updateAgeOnHas:Vt=this.updateAgeOnHas}={}){const nn=this.keyMap.get(pt);return nn!==void 0&&!this.isStale(nn)&&(Vt&&this.updateItemAge(nn),!0)}peek(pt,{allowStale:Vt=this.allowStale}={}){const nn=this.keyMap.get(pt);if(nn!==void 0&&(Vt||!this.isStale(nn))){const on=this.valList[nn];return this.isBackgroundFetch(on)?on.__staleWhileFetching:on}}backgroundFetch(pt,Vt,nn,on){const bt=Vt===void 0?void 0:this.valList[Vt];if(this.isBackgroundFetch(bt))return bt;const St=new _e,It={signal:St.signal,options:nn,context:on},Bt=new Promise(Lt=>Lt(this.fetchMethod(pt,bt,It))).then(Lt=>(St.signal.aborted||this.set(pt,Lt,It.options),Lt),Lt=>{if(this.valList[Vt]===Bt&&(!nn.noDeleteOnFetchRejection||Bt.__staleWhileFetching===void 0?this.delete(pt):this.valList[Vt]=Bt.__staleWhileFetching),Bt.__returned===Bt)throw Lt});return Bt.__abortController=St,Bt.__staleWhileFetching=bt,Bt.__returned=null,Vt===void 0?(this.set(pt,Bt,It.options),Vt=this.keyMap.get(pt)):this.valList[Vt]=Bt,Bt}isBackgroundFetch(pt){return pt&&typeof pt=="object"&&typeof pt.then=="function"&&Object.prototype.hasOwnProperty.call(pt,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(pt,"__returned")&&(pt.__returned===pt||pt.__returned===null)}async fetch(pt,{allowStale:Vt=this.allowStale,updateAgeOnGet:nn=this.updateAgeOnGet,noDeleteOnStaleGet:on=this.noDeleteOnStaleGet,ttl:bt=this.ttl,noDisposeOnSet:St=this.noDisposeOnSet,size:It=0,sizeCalculation:Bt=this.sizeCalculation,noUpdateTTL:Lt=this.noUpdateTTL,noDeleteOnFetchRejection:Xt=this.noDeleteOnFetchRejection,fetchContext:zt=this.fetchContext,forceRefresh:Pt=!1}={}){if(!this.fetchMethod)return this.get(pt,{allowStale:Vt,updateAgeOnGet:nn,noDeleteOnStaleGet:on});const jt={allowStale:Vt,updateAgeOnGet:nn,noDeleteOnStaleGet:on,ttl:bt,noDisposeOnSet:St,size:It,sizeCalculation:Bt,noUpdateTTL:Lt,noDeleteOnFetchRejection:Xt};let Zt=this.keyMap.get(pt);if(Zt===void 0){const Ct=this.backgroundFetch(pt,Zt,jt,zt);return Ct.__returned=Ct}{const Ct=this.valList[Zt];if(this.isBackgroundFetch(Ct))return Vt&&Ct.__staleWhileFetching!==void 0?Ct.__staleWhileFetching:Ct.__returned=Ct;if(!Pt&&!this.isStale(Zt))return this.moveToTail(Zt),nn&&this.updateItemAge(Zt),Ct;const Ft=this.backgroundFetch(pt,Zt,jt,zt);return Vt&&Ft.__staleWhileFetching!==void 0?Ft.__staleWhileFetching:Ft.__returned=Ft}}get(pt,{allowStale:Vt=this.allowStale,updateAgeOnGet:nn=this.updateAgeOnGet,noDeleteOnStaleGet:on=this.noDeleteOnStaleGet}={}){const bt=this.keyMap.get(pt);if(bt!==void 0){const St=this.valList[bt],It=this.isBackgroundFetch(St);return this.isStale(bt)?It?Vt?St.__staleWhileFetching:void 0:(on||this.delete(pt),Vt?St:void 0):It?void 0:(this.moveToTail(bt),nn&&this.updateItemAge(bt),St)}}connect(pt,Vt){this.prev[Vt]=pt,this.next[pt]=Vt}moveToTail(pt){pt!==this.tail&&(pt===this.head?this.head=this.next[pt]:this.connect(this.prev[pt],this.next[pt]),this.connect(this.tail,pt),this.tail=pt)}get del(){return _t("del","delete"),this.delete}delete(pt){let Vt=!1;if(this.size!==0){const nn=this.keyMap.get(pt);if(nn!==void 0)if(Vt=!0,this.size===1)this.clear();else{this.removeItemSize(nn);const on=this.valList[nn];this.isBackgroundFetch(on)?on.__abortController.abort():(this.dispose(on,pt,"delete"),this.disposeAfter&&this.disposed.push([on,pt,"delete"])),this.keyMap.delete(pt),this.keyList[nn]=null,this.valList[nn]=null,nn===this.tail?this.tail=this.prev[nn]:nn===this.head?this.head=this.next[nn]:(this.next[this.prev[nn]]=this.next[nn],this.prev[this.next[nn]]=this.prev[nn]),this.size--,this.free.push(nn)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return Vt}clear(){for(const pt of this.rindexes({allowStale:!0})){const Vt=this.valList[pt];if(this.isBackgroundFetch(Vt))Vt.__abortController.abort();else{const nn=this.keyList[pt];this.dispose(Vt,nn,"delete"),this.disposeAfter&&this.disposed.push([Vt,nn,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return _t("reset","clear"),this.clear}get length(){return((pt,Vt)=>{const nn=`LRU_CACHE_PROPERTY_${pt}`;if(dt(nn)){const{prototype:on}=Et,{get:bt}=Object.getOwnPropertyDescriptor(on,pt);ut(nn,`${pt} property`,`cache.${Vt}`,bt)}})("length","size"),this.size}static get AbortController(){return _e}static get AbortSignal(){return nt}}i.exports=Et}).call(this,s(2))},function(i,o,s){var _=s(41).Colorizer;i.exports=function($){return _.addColors($.colors||$),$}},function(i,o,s){var _={};i.exports=_,_.themes={};var $=s(13),_e=_.styles=s(109),tt=Object.defineProperties,j=new RegExp(/[\r\n]+/g);_.supportsColor=s(110).supportsColor,_.enabled===void 0&&(_.enabled=_.supportsColor()!==!1),_.enable=function(){_.enabled=!0},_.disable=function(){_.enabled=!1},_.stripColors=_.strip=function(wt){return(""+wt).replace(/\x1B\[\d+m/g,"")},_.stylize=function(wt,Qt){return _.enabled?_e[Qt].open+wt+_e[Qt].close:wt+""};var nt=/[|\\{}()[\]^$+*?.]/g;function st(wt){var Qt=function Dt(){return dt.apply(Dt,arguments)};return Qt._styles=wt,Qt.__proto__=ft,Qt}var ht,_t=(ht={},_e.grey=_e.gray,Object.keys(_e).forEach(function(wt){_e[wt].closeRe=new RegExp(function(Qt){if(typeof Qt!="string")throw new TypeError("Expected a string");return Qt.replace(nt,"\\$&")}(_e[wt].close),"g"),ht[wt]={get:function(){return st(this._styles.concat(wt))}}}),ht),ft=tt(function(){},_t);function dt(){var wt=Array.prototype.slice.call(arguments),Qt=wt.map(function(Vt){return Vt!==void 0&&Vt.constructor===String?Vt:$.inspect(Vt)}).join(" ");if(!_.enabled||!Qt)return Qt;for(var Dt=Qt.indexOf(`
`)!=-1,Et=this._styles,xt=Et.length;xt--;){var pt=_e[Et[xt]];Qt=pt.open+Qt.replace(pt.closeRe,pt.open)+pt.close,Dt&&(Qt=Qt.replace(j,function(Vt){return pt.close+Vt+pt.open}))}return Qt}_.setTheme=function(wt){if(typeof wt!="string")for(var Qt in wt)(function(Dt){_[Dt]=function(Et){if(typeof wt[Dt]=="object"){var xt=Et;for(var pt in wt[Dt])xt=_[wt[Dt][pt]](xt);return xt}return _[wt[Dt]](Et)}})(Qt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ut=function(wt,Qt){var Dt=Qt.split("");return(Dt=Dt.map(wt)).join("")};for(var mt in _.trap=s(112),_.zalgo=s(113),_.maps={},_.maps.america=s(114)(_),_.maps.zebra=s(115)(_),_.maps.rainbow=s(116)(_),_.maps.random=s(117)(_),_.maps)(function(wt){_[wt]=function(Qt){return ut(_.maps[wt],Qt)}})(mt);tt(_,function(){var wt={};return Object.keys(_t).forEach(function(Qt){wt[Qt]={get:function(){return st([Qt])}}}),wt}())},function(i,o){i.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(i,o){typeof Object.create=="function"?i.exports=function(s,_){s.super_=_,s.prototype=Object.create(_.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(s,_){s.super_=_;var $=function(){};$.prototype=_.prototype,s.prototype=new $,s.prototype.constructor=s}},function(i,o){var s={};i.exports=s;var _={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(_).forEach(function($){var _e=_[$],tt=s[$]=[];tt.open="\x1B["+_e[0]+"m",tt.close="\x1B["+_e[1]+"m"})},function(i,o,s){(function(_){var $=s(18),_e=s(111),tt=_.env,j=void 0;function nt(st){return function(ht){return ht!==0&&{level:ht,hasBasic:!0,has256:ht>=2,has16m:ht>=3}}(function(ht){if(j===!1)return 0;if(_e("color=16m")||_e("color=full")||_e("color=truecolor"))return 3;if(_e("color=256"))return 2;if(ht&&!ht.isTTY&&j!==!0)return 0;var _t=j?1:0;if(_.platform==="win32"){var ft=$.release().split(".");return Number(_.versions.node.split(".")[0])>=8&&Number(ft[0])>=10&&Number(ft[2])>=10586?Number(ft[2])>=14931?3:2:1}return"CI"in tt?["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(dt){return dt in tt})||tt.CI_NAME==="codeship"?1:_t:"TEAMCITY_VERSION"in tt?/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(tt.TEAMCITY_VERSION)?1:0:"TERM_PROGRAM"in tt?(parseInt("445".split(".")[0],10),2):/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in tt?1:_t}(st))}_e("no-color")||_e("no-colors")||_e("color=false")?j=!1:(_e("color")||_e("colors")||_e("color=true")||_e("color=always"))&&(j=!0),"FORCE_COLOR"in tt&&(j=tt.FORCE_COLOR.length===0||parseInt(tt.FORCE_COLOR,10)!==0),i.exports={supportsColor:nt,stdout:nt(_.stdout),stderr:nt(_.stderr)}}).call(this,s(2))},function(i,o,s){(function(_){i.exports=function($,_e){var tt=(_e=_e||_.argv).indexOf("--"),j=/^-{1,2}/.test($)?"":"--",nt=_e.indexOf(j+$);return nt!==-1&&(tt===-1||nt<tt)}}).call(this,s(2))},function(i,o){i.exports=function(s,_){var $="";s=(s=s||"Run the trap, drop the bass").split("");var _e={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return s.forEach(function(tt){tt=tt.toLowerCase();var j=_e[tt]||[" "],nt=Math.floor(Math.random()*j.length);$+=_e[tt]!==void 0?_e[tt][nt]:tt}),$}},function(i,o){i.exports=function(s,_){s=s||"   he is here   ";var $={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},_e=[].concat($.up,$.down,$.mid);function tt(nt){return Math.floor(Math.random()*nt)}function j(nt){var st=!1;return _e.filter(function(ht){st=ht===nt}),st}return function(nt,st){var ht,_t,ft="";for(_t in(st=st||{}).up=st.up===void 0||st.up,st.mid=st.mid===void 0||st.mid,st.down=st.down===void 0||st.down,st.size=st.size!==void 0?st.size:"maxi",nt=nt.split(""))if(!j(_t)){switch(ft+=nt[_t],ht={up:0,down:0,mid:0},st.size){case"mini":ht.up=tt(8),ht.mid=tt(2),ht.down=tt(8);break;case"maxi":ht.up=tt(16)+3,ht.mid=tt(4)+1,ht.down=tt(64)+3;break;default:ht.up=tt(8)+1,ht.mid=tt(6)/2,ht.down=tt(8)+1}var dt=["up","mid","down"];for(var ut in dt)for(var mt=dt[ut],wt=0;wt<=ht[mt];wt++)st[mt]&&(ft+=$[mt][tt($[mt].length)])}return ft}(s,_)}},function(i,o){i.exports=function(s){return function(_,$,_e){if(_===" ")return _;switch($%3){case 0:return s.red(_);case 1:return s.white(_);case 2:return s.blue(_)}}}},function(i,o){i.exports=function(s){return function(_,$,_e){return $%2==0?_:s.inverse(_)}}},function(i,o){i.exports=function(s){var _=["red","yellow","green","blue","magenta"];return function($,_e,tt){return $===" "?$:s[_[_e++%_.length]]($)}}},function(i,o){i.exports=function(s){var _=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function($,_e,tt){return $===" "?$:s[_[Math.round(Math.random()*(_.length-2))]]($)}}},function(i,o,s){Object.defineProperty(o,"cli",{value:s(119)}),Object.defineProperty(o,"npm",{value:s(120)}),Object.defineProperty(o,"syslog",{value:s(121)})},function(i,o,s){o.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},o.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(i,o,s){o.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},o.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(i,o,s){o.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},o.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(i,o,s){var _=s(12);i.exports=_(function($){return $.message="	".concat($.message),$})},function(i,o,s){function _(_t,ft){if(!(_t instanceof ft))throw new TypeError("Cannot call a class as a function")}function $(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var _e=s(41).Colorizer,tt=s(60).Padder,j=s(3),nt=j.configs,st=j.MESSAGE,ht=function(){function _t(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,_t),ut.levels||(ut.levels=nt.npm.levels),this.colorizer=new _e(ut),this.padder=new tt(ut),this.options=ut}var ft,dt;return ft=_t,(dt=[{key:"transform",value:function(ut,mt){return this.colorizer.transform(this.padder.transform(ut,mt),mt),ut[st]="".concat(ut.level,":").concat(ut.message),ut}}])&&$(ft.prototype,dt),_t}();i.exports=function(_t){return new ht(_t)},i.exports.Format=ht},function(i,o,s){var _=s(12);function $(tt){if(tt.every(_e))return function(j){for(var nt=j,st=0;st<tt.length;st++)if(!(nt=tt[st].transform(nt,tt[st].options)))return!1;return nt}}function _e(tt){if(typeof tt.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}i.exports=function(){for(var tt=arguments.length,j=new Array(tt),nt=0;nt<tt;nt++)j[nt]=arguments[nt];var st=_($(j)),ht=st();return ht.Format=st.Format,ht},i.exports.cascade=$},function(i,o,s){(function(_){var $=s(12),_e=s(3).MESSAGE,tt=s(35);function j(nt,st){return st instanceof _?st.toString("base64"):typeof st=="bigint"?st.toString():st}i.exports=$(function(nt){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return nt[_e]=(st.stable?tt.stableStringify:tt)(nt,st.replacer||j,st.space),nt})}).call(this,s(5).Buffer)},function(i,o,s){o.byteLength=function(_t){var ft=st(_t),dt=ft[0],ut=ft[1];return 3*(dt+ut)/4-ut},o.toByteArray=function(_t){for(var ft,dt=st(_t),ut=dt[0],mt=dt[1],wt=new _e(function(xt,pt,Vt){return 3*(pt+Vt)/4-Vt}(0,ut,mt)),Qt=0,Dt=mt>0?ut-4:ut,Et=0;Et<Dt;Et+=4)ft=$[_t.charCodeAt(Et)]<<18|$[_t.charCodeAt(Et+1)]<<12|$[_t.charCodeAt(Et+2)]<<6|$[_t.charCodeAt(Et+3)],wt[Qt++]=ft>>16&255,wt[Qt++]=ft>>8&255,wt[Qt++]=255&ft;return mt===2&&(ft=$[_t.charCodeAt(Et)]<<2|$[_t.charCodeAt(Et+1)]>>4,wt[Qt++]=255&ft),mt===1&&(ft=$[_t.charCodeAt(Et)]<<10|$[_t.charCodeAt(Et+1)]<<4|$[_t.charCodeAt(Et+2)]>>2,wt[Qt++]=ft>>8&255,wt[Qt++]=255&ft),wt},o.fromByteArray=function(_t){for(var ft,dt=_t.length,ut=dt%3,mt=[],wt=0,Qt=dt-ut;wt<Qt;wt+=16383)mt.push(ht(_t,wt,wt+16383>Qt?Qt:wt+16383));return ut===1?(ft=_t[dt-1],mt.push(_[ft>>2]+_[ft<<4&63]+"==")):ut===2&&(ft=(_t[dt-2]<<8)+_t[dt-1],mt.push(_[ft>>10]+_[ft>>4&63]+_[ft<<2&63]+"=")),mt.join("")};for(var _=[],$=[],_e=typeof Uint8Array<"u"?Uint8Array:Array,tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,nt=tt.length;j<nt;++j)_[j]=tt[j],$[tt.charCodeAt(j)]=j;function st(_t){var ft=_t.length;if(ft%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var dt=_t.indexOf("=");return dt===-1&&(dt=ft),[dt,dt===ft?0:4-dt%4]}function ht(_t,ft,dt){for(var ut,mt,wt=[],Qt=ft;Qt<dt;Qt+=3)ut=(_t[Qt]<<16&16711680)+(_t[Qt+1]<<8&65280)+(255&_t[Qt+2]),wt.push(_[(mt=ut)>>18&63]+_[mt>>12&63]+_[mt>>6&63]+_[63&mt]);return wt.join("")}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63},function(i,o){o.read=function(s,_,$,_e,tt){var j,nt,st=8*tt-_e-1,ht=(1<<st)-1,_t=ht>>1,ft=-7,dt=$?tt-1:0,ut=$?-1:1,mt=s[_+dt];for(dt+=ut,j=mt&(1<<-ft)-1,mt>>=-ft,ft+=st;ft>0;j=256*j+s[_+dt],dt+=ut,ft-=8);for(nt=j&(1<<-ft)-1,j>>=-ft,ft+=_e;ft>0;nt=256*nt+s[_+dt],dt+=ut,ft-=8);if(j===0)j=1-_t;else{if(j===ht)return nt?NaN:1/0*(mt?-1:1);nt+=Math.pow(2,_e),j-=_t}return(mt?-1:1)*nt*Math.pow(2,j-_e)},o.write=function(s,_,$,_e,tt,j){var nt,st,ht,_t=8*j-tt-1,ft=(1<<_t)-1,dt=ft>>1,ut=tt===23?Math.pow(2,-24)-Math.pow(2,-77):0,mt=_e?0:j-1,wt=_e?1:-1,Qt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(st=isNaN(_)?1:0,nt=ft):(nt=Math.floor(Math.log(_)/Math.LN2),_*(ht=Math.pow(2,-nt))<1&&(nt--,ht*=2),(_+=nt+dt>=1?ut/ht:ut*Math.pow(2,1-dt))*ht>=2&&(nt++,ht/=2),nt+dt>=ft?(st=0,nt=ft):nt+dt>=1?(st=(_*ht-1)*Math.pow(2,tt),nt+=dt):(st=_*Math.pow(2,dt-1)*Math.pow(2,tt),nt=0));tt>=8;s[$+mt]=255&st,mt+=wt,st/=256,tt-=8);for(nt=nt<<tt|st,_t+=tt;_t>0;s[$+mt]=255&nt,mt+=wt,nt/=256,_t-=8);s[$+mt-wt]|=128*Qt}},function(i,o,s){var _=s(12);i.exports=_(function($,_e){return _e.message?($.message="[".concat(_e.label,"] ").concat($.message),$):($.label=_e.label,$)})},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(tt){var j={};return tt.message&&(j["@message"]=tt.message,delete tt.message),tt.timestamp&&(j["@timestamp"]=tt.timestamp,delete tt.timestamp),j["@fields"]=tt,tt[$]=_e(j),tt})},function(i,o,s){var _=s(12);function $(tt,j,nt){var st,ht,_t,ft=j.reduce(function(ut,mt){return ut[mt]=tt[mt],delete tt[mt],ut},{}),dt=Object.keys(tt).reduce(function(ut,mt){return ut[mt]=tt[mt],delete tt[mt],ut},{});return Object.assign(tt,ft,(_t=dt,(ht=nt)in(st={})?Object.defineProperty(st,ht,{value:_t,enumerable:!0,configurable:!0,writable:!0}):st[ht]=_t,st)),tt}function _e(tt,j,nt){return tt[nt]=j.reduce(function(st,ht){return st[ht]=tt[ht],delete tt[ht],st},{}),tt}i.exports=_(function(tt){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt="metadata";j.key&&(nt=j.key);var st=[];return j.fillExcept||j.fillWith||(st.push("level"),st.push("message")),j.fillExcept&&(st=j.fillExcept),st.length>0?$(tt,st,nt):j.fillWith?_e(tt,j.fillWith,nt):tt})},function(i,o,s){var _=s(13).inspect,$=s(12),_e=s(3),tt=_e.LEVEL,j=_e.MESSAGE,nt=_e.SPLAT;i.exports=$(function(st){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_t=Object.assign({},st);return delete _t[tt],delete _t[j],delete _t[nt],st[j]=_(_t,!1,ht.depth||null,ht.colorize),st})},function(i,o,s){function _(tt,j){for(var nt=0;nt<j.length;nt++){var st=j[nt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(tt,st.key,st)}}var $=s(3).MESSAGE,_e=function(){function tt(st){(function(ht,_t){if(!(ht instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,tt),this.template=st}var j,nt;return j=tt,(nt=[{key:"transform",value:function(st){return st[$]=this.template(st),st}}])&&_(j.prototype,nt),tt}();i.exports=function(tt){return new _e(tt)},i.exports.Printf=i.exports.Format=_e},function(i,o,s){var _=s(12),$=s(3).MESSAGE,_e=s(35);i.exports=_(function(tt){var j=_e(Object.assign({},tt,{level:void 0,message:void 0,splat:void 0})),nt=tt.padding&&tt.padding[tt.level]||"";return tt[$]=j!=="{}"?"".concat(tt.level,":").concat(nt," ").concat(tt.message," ").concat(j):"".concat(tt.level,":").concat(nt," ").concat(tt.message),tt})},function(i,o,s){function _(_t){return function(ft){if(Array.isArray(ft))return $(ft)}(_t)||function(ft){if(typeof Symbol<"u"&&Symbol.iterator in Object(ft))return Array.from(ft)}(_t)||function(ft,dt){if(ft){if(typeof ft=="string")return $(ft,dt);var ut=Object.prototype.toString.call(ft).slice(8,-1);if(ut==="Object"&&ft.constructor&&(ut=ft.constructor.name),ut==="Map"||ut==="Set")return Array.from(ft);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return $(ft,dt)}}(_t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $(_t,ft){(ft==null||ft>_t.length)&&(ft=_t.length);for(var dt=0,ut=new Array(ft);dt<ft;dt++)ut[dt]=_t[dt];return ut}function _e(_t,ft){for(var dt=0;dt<ft.length;dt++){var ut=ft[dt];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(_t,ut.key,ut)}}var tt=s(13),j=s(3).SPLAT,nt=/%[scdjifoO%]/g,st=/%%/g,ht=function(){function _t(ut){(function(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.options=ut}var ft,dt;return ft=_t,(dt=[{key:"_splat",value:function(ut,mt){var wt=ut.message,Qt=ut[j]||ut.splat||[],Dt=wt.match(st),Et=Dt&&Dt.length||0,xt=mt.length-Et-Qt.length,pt=xt<0?Qt.splice(xt,-1*xt):[],Vt=pt.length;if(Vt)for(var nn=0;nn<Vt;nn++)Object.assign(ut,pt[nn]);return ut.message=tt.format.apply(tt,[wt].concat(_(Qt))),ut}},{key:"transform",value:function(ut){var mt=ut.message,wt=ut[j]||ut.splat;if(!wt||!wt.length)return ut;var Qt=mt&&mt.match&&mt.match(nt);if(!Qt&&(wt||wt.length)){var Dt=wt.length>1?wt.splice(0):wt,Et=Dt.length;if(Et)for(var xt=0;xt<Et;xt++)Object.assign(ut,Dt[xt]);return ut}return Qt?this._splat(ut,Qt):ut}}])&&_e(ft.prototype,dt),_t}();i.exports=function(_t){return new ht(_t)}},function(i,o,s){var _=s(136),$=s(12);i.exports=$(function(_e){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tt.format&&(_e.timestamp=typeof tt.format=="function"?tt.format():_.format(new Date,tt.format)),_e.timestamp||(_e.timestamp=new Date().toISOString()),tt.alias&&(_e[tt.alias]=_e.timestamp),_e})},function(i,o,s){s.r(o),s.d(o,"assign",function(){return nt}),s.d(o,"format",function(){return St}),s.d(o,"parse",function(){return It}),s.d(o,"defaultI18n",function(){return ft}),s.d(o,"setGlobalDateI18n",function(){return ut}),s.d(o,"setGlobalDateMasks",function(){return bt});var _=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,$="[^\\s]+",_e=/\[([^]*?)\]/gm;function tt(Lt,Xt){for(var zt=[],Pt=0,jt=Lt.length;Pt<jt;Pt++)zt.push(Lt[Pt].substr(0,Xt));return zt}var j=function(Lt){return function(Xt,zt){var Pt=zt[Lt].map(function(jt){return jt.toLowerCase()}).indexOf(Xt.toLowerCase());return Pt>-1?Pt:null}};function nt(Lt){for(var Xt=[],zt=1;zt<arguments.length;zt++)Xt[zt-1]=arguments[zt];for(var Pt=0,jt=Xt;Pt<jt.length;Pt++){var Zt=jt[Pt];for(var Ct in Zt)Lt[Ct]=Zt[Ct]}return Lt}var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ht=["January","February","March","April","May","June","July","August","September","October","November","December"],_t=tt(ht,3),ft={dayNamesShort:tt(st,3),dayNames:st,monthNamesShort:_t,monthNames:ht,amPm:["am","pm"],DoFn:function(Lt){return Lt+["th","st","nd","rd"][Lt%10>3?0:(Lt-Lt%10!=10?1:0)*Lt%10]}},dt=nt({},ft),ut=function(Lt){return dt=nt(dt,Lt)},mt=function(Lt){return Lt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(Lt,Xt){for(Xt===void 0&&(Xt=2),Lt=String(Lt);Lt.length<Xt;)Lt="0"+Lt;return Lt},Qt={D:function(Lt){return String(Lt.getDate())},DD:function(Lt){return wt(Lt.getDate())},Do:function(Lt,Xt){return Xt.DoFn(Lt.getDate())},d:function(Lt){return String(Lt.getDay())},dd:function(Lt){return wt(Lt.getDay())},ddd:function(Lt,Xt){return Xt.dayNamesShort[Lt.getDay()]},dddd:function(Lt,Xt){return Xt.dayNames[Lt.getDay()]},M:function(Lt){return String(Lt.getMonth()+1)},MM:function(Lt){return wt(Lt.getMonth()+1)},MMM:function(Lt,Xt){return Xt.monthNamesShort[Lt.getMonth()]},MMMM:function(Lt,Xt){return Xt.monthNames[Lt.getMonth()]},YY:function(Lt){return wt(String(Lt.getFullYear()),4).substr(2)},YYYY:function(Lt){return wt(Lt.getFullYear(),4)},h:function(Lt){return String(Lt.getHours()%12||12)},hh:function(Lt){return wt(Lt.getHours()%12||12)},H:function(Lt){return String(Lt.getHours())},HH:function(Lt){return wt(Lt.getHours())},m:function(Lt){return String(Lt.getMinutes())},mm:function(Lt){return wt(Lt.getMinutes())},s:function(Lt){return String(Lt.getSeconds())},ss:function(Lt){return wt(Lt.getSeconds())},S:function(Lt){return String(Math.round(Lt.getMilliseconds()/100))},SS:function(Lt){return wt(Math.round(Lt.getMilliseconds()/10),2)},SSS:function(Lt){return wt(Lt.getMilliseconds(),3)},a:function(Lt,Xt){return Lt.getHours()<12?Xt.amPm[0]:Xt.amPm[1]},A:function(Lt,Xt){return Lt.getHours()<12?Xt.amPm[0].toUpperCase():Xt.amPm[1].toUpperCase()},ZZ:function(Lt){var Xt=Lt.getTimezoneOffset();return(Xt>0?"-":"+")+wt(100*Math.floor(Math.abs(Xt)/60)+Math.abs(Xt)%60,4)},Z:function(Lt){var Xt=Lt.getTimezoneOffset();return(Xt>0?"-":"+")+wt(Math.floor(Math.abs(Xt)/60),2)+":"+wt(Math.abs(Xt)%60,2)}},Dt=function(Lt){return+Lt-1},Et=[null,"[1-9]\\d?"],xt=[null,$],pt=["isPm",$,function(Lt,Xt){var zt=Lt.toLowerCase();return zt===Xt.amPm[0]?0:zt===Xt.amPm[1]?1:null}],Vt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Lt){var Xt=(Lt+"").match(/([+-]|\d\d)/gi);if(Xt){var zt=60*+Xt[1]+parseInt(Xt[2],10);return Xt[0]==="+"?zt:-zt}return 0}],nn={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+$,function(Lt){return parseInt(Lt,10)}],M:["month","[1-9]\\d?",Dt],MM:["month","\\d\\d",Dt],YY:["year","\\d\\d",function(Lt){var Xt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+Lt>68?Xt-1:Xt)+Lt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(Lt){return 100*+Lt}],SS:["millisecond","\\d\\d",function(Lt){return 10*+Lt}],SSS:["millisecond","\\d{3}"],d:Et,dd:Et,ddd:xt,dddd:xt,MMM:["month",$,j("monthNamesShort")],MMMM:["month",$,j("monthNames")],a:pt,A:pt,ZZ:Vt,Z:Vt},on={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},bt=function(Lt){return nt(on,Lt)},St=function(Lt,Xt,zt){if(Xt===void 0&&(Xt=on.default),zt===void 0&&(zt={}),typeof Lt=="number"&&(Lt=new Date(Lt)),Object.prototype.toString.call(Lt)!=="[object Date]"||isNaN(Lt.getTime()))throw new Error("Invalid Date pass to format");var Pt=[];Xt=(Xt=on[Xt]||Xt).replace(_e,function(Zt,Ct){return Pt.push(Ct),"@@@"});var jt=nt(nt({},dt),zt);return(Xt=Xt.replace(_,function(Zt){return Qt[Zt](Lt,jt)})).replace(/@@@/g,function(){return Pt.shift()})};function It(Lt,Xt,zt){if(zt===void 0&&(zt={}),typeof Xt!="string")throw new Error("Invalid format in fecha parse");if(Xt=on[Xt]||Xt,Lt.length>1e3)return null;var Pt={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},jt=[],Zt=[],Ct=Xt.replace(_e,function(hn,Sn){return Zt.push(mt(Sn)),"@@@"}),Ft={},Ht={};Ct=mt(Ct).replace(_,function(hn){var Sn=nn[hn],An=Sn[0],Gn=Sn[1],Qr=Sn[3];if(Ft[An])throw new Error("Invalid format. "+An+" specified twice in format");return Ft[An]=!0,Qr&&(Ht[Qr]=!0),jt.push(Sn),"("+Gn+")"}),Object.keys(Ht).forEach(function(hn){if(!Ft[hn])throw new Error("Invalid format. "+hn+" is required in specified format")}),Ct=Ct.replace(/@@@/g,function(){return Zt.shift()});var tn=Lt.match(new RegExp(Ct,"i"));if(!tn)return null;for(var mn=nt(nt({},dt),zt),yn=1;yn<tn.length;yn++){var vn=jt[yn-1],un=vn[0],rn=vn[2],At=rn?rn(tn[yn],mn):+tn[yn];if(At==null)return null;Pt[un]=At}Pt.isPm===1&&Pt.hour!=null&&+Pt.hour!=12?Pt.hour=+Pt.hour+12:Pt.isPm===0&&+Pt.hour==12&&(Pt.hour=0);for(var Mt=new Date(Pt.year,Pt.month,Pt.day,Pt.hour,Pt.minute,Pt.second,Pt.millisecond),$t=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],pn=(yn=0,$t.length);yn<pn;yn++)if(Ft[$t[yn][0]]&&Pt[$t[yn][0]]!==Mt[$t[yn][1]]())return null;return Pt.timezoneOffset==null?Mt:new Date(Date.UTC(Pt.year,Pt.month,Pt.day,Pt.hour,Pt.minute-Pt.timezoneOffset,Pt.second,Pt.millisecond))}var Bt={format:St,parse:It,defaultI18n:ft,setGlobalDateI18n:ut,setGlobalDateMasks:bt};o.default=Bt},function(i,o,s){var _=s(59),$=s(12),_e=s(3).MESSAGE;i.exports=$(function(tt,j){return j.level!==!1&&(tt.level=_.strip(tt.level)),j.message!==!1&&(tt.message=_.strip(tt.message)),j.raw!==!1&&tt[_e]&&(tt[_e]=_.strip(tt[_e])),tt})},function(i){i.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(i,o,s){Object.defineProperty(o,"Console",{configurable:!0,enumerable:!0,get:function(){return s(140)}}),Object.defineProperty(o,"File",{configurable:!0,enumerable:!0,get:function(){return s(149)}}),Object.defineProperty(o,"Http",{configurable:!0,enumerable:!0,get:function(){return s(189)}}),Object.defineProperty(o,"Stream",{configurable:!0,enumerable:!0,get:function(){return s(201)}})},function(i,o,s){(function(_){function $(wt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(wt)}function _e(wt,Qt){if(!(wt instanceof Qt))throw new TypeError("Cannot call a class as a function")}function tt(wt,Qt){for(var Dt=0;Dt<Qt.length;Dt++){var Et=Qt[Dt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(wt,Et.key,Et)}}function j(wt,Qt){return(j=Object.setPrototypeOf||function(Dt,Et){return Dt.__proto__=Et,Dt})(wt,Qt)}function nt(wt){var Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Dt,Et=ht(wt);if(Qt){var xt=ht(this).constructor;Dt=Reflect.construct(Et,arguments,xt)}else Dt=Et.apply(this,arguments);return st(this,Dt)}}function st(wt,Qt){return!Qt||$(Qt)!=="object"&&typeof Qt!="function"?function(Dt){if(Dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dt}(wt):Qt}function ht(wt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)})(wt)}var _t=s(18),ft=s(3),dt=ft.LEVEL,ut=ft.MESSAGE,mt=s(20);i.exports=function(wt){(function(pt,Vt){if(typeof Vt!="function"&&Vt!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(Vt&&Vt.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Vt&&j(pt,Vt)})(xt,wt);var Qt,Dt,Et=nt(xt);function xt(){var pt,Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _e(this,xt),(pt=Et.call(this,Vt)).name=Vt.name||"console",pt.stderrLevels=pt._stringArrayToSet(Vt.stderrLevels),pt.consoleWarnLevels=pt._stringArrayToSet(Vt.consoleWarnLevels),pt.eol=Vt.eol||_t.EOL,pt.setMaxListeners(30),pt}return Qt=xt,(Dt=[{key:"log",value:function(pt,Vt){var nn=this;return _(function(){return nn.emit("logged",pt)}),this.stderrLevels[pt[dt]]?(console._stderr?console._stderr.write("".concat(pt[ut]).concat(this.eol)):console.error(pt[ut]),void(Vt&&Vt())):this.consoleWarnLevels[pt[dt]]?(console._stderr?console._stderr.write("".concat(pt[ut]).concat(this.eol)):console.warn(pt[ut]),void(Vt&&Vt())):(console._stdout?console._stdout.write("".concat(pt[ut]).concat(this.eol)):console.log(pt[ut]),void(Vt&&Vt()))}},{key:"_stringArrayToSet",value:function(pt,Vt){if(!pt)return{};if(Vt=Vt||"Cannot make set from type other than Array of string elements",!Array.isArray(pt))throw new Error(Vt);return pt.reduce(function(nn,on){if(typeof on!="string")throw new Error(Vt);return nn[on]=!0,nn},{})}}])&&tt(Qt.prototype,Dt),xt}(mt)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_,$){(function(_e,tt){if(!_e.setImmediate){var j,nt,st,ht,_t,ft=1,dt={},ut=!1,mt=_e.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(_e);wt=wt&&wt.setTimeout?wt:_e,{}.toString.call(_e.process)==="[object process]"?j=function(Et){$.nextTick(function(){Dt(Et)})}:function(){if(_e.postMessage&&!_e.importScripts){var Et=!0,xt=_e.onmessage;return _e.onmessage=function(){Et=!1},_e.postMessage("","*"),_e.onmessage=xt,Et}}()?(ht="setImmediate$"+Math.random()+"$",_t=function(Et){Et.source===_e&&typeof Et.data=="string"&&Et.data.indexOf(ht)===0&&Dt(+Et.data.slice(ht.length))},_e.addEventListener?_e.addEventListener("message",_t,!1):_e.attachEvent("onmessage",_t),j=function(Et){_e.postMessage(ht+Et,"*")}):_e.MessageChannel?((st=new MessageChannel).port1.onmessage=function(Et){Dt(Et.data)},j=function(Et){st.port2.postMessage(Et)}):mt&&"onreadystatechange"in mt.createElement("script")?(nt=mt.documentElement,j=function(Et){var xt=mt.createElement("script");xt.onreadystatechange=function(){Dt(Et),xt.onreadystatechange=null,nt.removeChild(xt),xt=null},nt.appendChild(xt)}):j=function(Et){setTimeout(Dt,0,Et)},wt.setImmediate=function(Et){typeof Et!="function"&&(Et=new Function(""+Et));for(var xt=new Array(arguments.length-1),pt=0;pt<xt.length;pt++)xt[pt]=arguments[pt+1];var Vt={callback:Et,args:xt};return dt[ft]=Vt,j(ft),ft++},wt.clearImmediate=Qt}function Qt(Et){delete dt[Et]}function Dt(Et){if(ut)setTimeout(Dt,0,Et);else{var xt=dt[Et];if(xt){ut=!0;try{(function(pt){var Vt=pt.callback,nn=pt.args;switch(nn.length){case 0:Vt();break;case 1:Vt(nn[0]);break;case 2:Vt(nn[0],nn[1]);break;case 3:Vt(nn[0],nn[1],nn[2]);break;default:Vt.apply(void 0,nn)}})(xt)}finally{Qt(Et),ut=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,s(6),s(2))},function(i,o,s){i.exports=s(62)},function(i,o,s){(function(_,$){var _e=s(16);i.exports=xt;var tt,j=s(42);xt.ReadableState=Et,s(21).EventEmitter;var nt=function(Ct,Ft){return Ct.listeners(Ft).length},st=s(63),ht=s(44).Buffer,_t=_.Uint8Array||function(){},ft=Object.create(s(17));ft.inherits=s(7);var dt=s(144),ut=void 0;ut=dt&&dt.debuglog?dt.debuglog("stream"):function(){};var mt,wt=s(145),Qt=s(64);ft.inherits(xt,st);var Dt=["error","close","destroy","pause","resume"];function Et(Ct,Ft){Ct=Ct||{};var Ht=Ft instanceof(tt=tt||s(36));this.objectMode=!!Ct.objectMode,Ht&&(this.objectMode=this.objectMode||!!Ct.readableObjectMode);var tn=Ct.highWaterMark,mn=Ct.readableHighWaterMark,yn=this.objectMode?16:16384;this.highWaterMark=tn||tn===0?tn:Ht&&(mn||mn===0)?mn:yn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ct.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ct.encoding&&(mt||(mt=s(22).StringDecoder),this.decoder=new mt(Ct.encoding),this.encoding=Ct.encoding)}function xt(Ct){if(tt=tt||s(36),!(this instanceof xt))return new xt(Ct);this._readableState=new Et(Ct,this),this.readable=!0,Ct&&(typeof Ct.read=="function"&&(this._read=Ct.read),typeof Ct.destroy=="function"&&(this._destroy=Ct.destroy)),st.call(this)}function pt(Ct,Ft,Ht,tn,mn){var yn,vn=Ct._readableState;return Ft===null?(vn.reading=!1,function(un,rn){if(!rn.ended){if(rn.decoder){var At=rn.decoder.end();At&&At.length&&(rn.buffer.push(At),rn.length+=rn.objectMode?1:At.length)}rn.ended=!0,on(un)}}(Ct,vn)):(mn||(yn=function(un,rn){var At;Mt=rn,ht.isBuffer(Mt)||Mt instanceof _t||typeof rn=="string"||rn===void 0||un.objectMode||(At=new TypeError("Invalid non-string/buffer chunk"));var Mt;return At}(vn,Ft)),yn?Ct.emit("error",yn):vn.objectMode||Ft&&Ft.length>0?(typeof Ft=="string"||vn.objectMode||Object.getPrototypeOf(Ft)===ht.prototype||(Ft=function(un){return ht.from(un)}(Ft)),tn?vn.endEmitted?Ct.emit("error",new Error("stream.unshift() after end event")):Vt(Ct,vn,Ft,!0):vn.ended?Ct.emit("error",new Error("stream.push() after EOF")):(vn.reading=!1,vn.decoder&&!Ht?(Ft=vn.decoder.write(Ft),vn.objectMode||Ft.length!==0?Vt(Ct,vn,Ft,!1):St(Ct,vn)):Vt(Ct,vn,Ft,!1))):tn||(vn.reading=!1)),function(un){return!un.ended&&(un.needReadable||un.length<un.highWaterMark||un.length===0)}(vn)}function Vt(Ct,Ft,Ht,tn){Ft.flowing&&Ft.length===0&&!Ft.sync?(Ct.emit("data",Ht),Ct.read(0)):(Ft.length+=Ft.objectMode?1:Ht.length,tn?Ft.buffer.unshift(Ht):Ft.buffer.push(Ht),Ft.needReadable&&on(Ct)),St(Ct,Ft)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ct){this._readableState&&(this._readableState.destroyed=Ct)}}),xt.prototype.destroy=Qt.destroy,xt.prototype._undestroy=Qt.undestroy,xt.prototype._destroy=function(Ct,Ft){this.push(null),Ft(Ct)},xt.prototype.push=function(Ct,Ft){var Ht,tn=this._readableState;return tn.objectMode?Ht=!0:typeof Ct=="string"&&((Ft=Ft||tn.defaultEncoding)!==tn.encoding&&(Ct=ht.from(Ct,Ft),Ft=""),Ht=!0),pt(this,Ct,Ft,!1,Ht)},xt.prototype.unshift=function(Ct){return pt(this,Ct,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(Ct){return mt||(mt=s(22).StringDecoder),this._readableState.decoder=new mt(Ct),this._readableState.encoding=Ct,this};function nn(Ct,Ft){return Ct<=0||Ft.length===0&&Ft.ended?0:Ft.objectMode?1:Ct!=Ct?Ft.flowing&&Ft.length?Ft.buffer.head.data.length:Ft.length:(Ct>Ft.highWaterMark&&(Ft.highWaterMark=function(Ht){return Ht>=8388608?Ht=8388608:(Ht--,Ht|=Ht>>>1,Ht|=Ht>>>2,Ht|=Ht>>>4,Ht|=Ht>>>8,Ht|=Ht>>>16,Ht++),Ht}(Ct)),Ct<=Ft.length?Ct:Ft.ended?Ft.length:(Ft.needReadable=!0,0))}function on(Ct){var Ft=Ct._readableState;Ft.needReadable=!1,Ft.emittedReadable||(ut("emitReadable",Ft.flowing),Ft.emittedReadable=!0,Ft.sync?_e.nextTick(bt,Ct):bt(Ct))}function bt(Ct){ut("emit readable"),Ct.emit("readable"),Xt(Ct)}function St(Ct,Ft){Ft.readingMore||(Ft.readingMore=!0,_e.nextTick(It,Ct,Ft))}function It(Ct,Ft){for(var Ht=Ft.length;!Ft.reading&&!Ft.flowing&&!Ft.ended&&Ft.length<Ft.highWaterMark&&(ut("maybeReadMore read 0"),Ct.read(0),Ht!==Ft.length);)Ht=Ft.length;Ft.readingMore=!1}function Bt(Ct){ut("readable nexttick read 0"),Ct.read(0)}function Lt(Ct,Ft){Ft.reading||(ut("resume read 0"),Ct.read(0)),Ft.resumeScheduled=!1,Ft.awaitDrain=0,Ct.emit("resume"),Xt(Ct),Ft.flowing&&!Ft.reading&&Ct.read(0)}function Xt(Ct){var Ft=Ct._readableState;for(ut("flow",Ft.flowing);Ft.flowing&&Ct.read()!==null;);}function zt(Ct,Ft){return Ft.length===0?null:(Ft.objectMode?Ht=Ft.buffer.shift():!Ct||Ct>=Ft.length?(Ht=Ft.decoder?Ft.buffer.join(""):Ft.buffer.length===1?Ft.buffer.head.data:Ft.buffer.concat(Ft.length),Ft.buffer.clear()):Ht=function(tn,mn,yn){var vn;return tn<mn.head.data.length?(vn=mn.head.data.slice(0,tn),mn.head.data=mn.head.data.slice(tn)):vn=tn===mn.head.data.length?mn.shift():yn?function(un,rn){var At=rn.head,Mt=1,$t=At.data;for(un-=$t.length;At=At.next;){var pn=At.data,hn=un>pn.length?pn.length:un;if(hn===pn.length?$t+=pn:$t+=pn.slice(0,un),(un-=hn)===0){hn===pn.length?(++Mt,At.next?rn.head=At.next:rn.head=rn.tail=null):(rn.head=At,At.data=pn.slice(hn));break}++Mt}return rn.length-=Mt,$t}(tn,mn):function(un,rn){var At=ht.allocUnsafe(un),Mt=rn.head,$t=1;for(Mt.data.copy(At),un-=Mt.data.length;Mt=Mt.next;){var pn=Mt.data,hn=un>pn.length?pn.length:un;if(pn.copy(At,At.length-un,0,hn),(un-=hn)===0){hn===pn.length?(++$t,Mt.next?rn.head=Mt.next:rn.head=rn.tail=null):(rn.head=Mt,Mt.data=pn.slice(hn));break}++$t}return rn.length-=$t,At}(tn,mn),vn}(Ct,Ft.buffer,Ft.decoder),Ht);var Ht}function Pt(Ct){var Ft=Ct._readableState;if(Ft.length>0)throw new Error('"endReadable()" called on non-empty stream');Ft.endEmitted||(Ft.ended=!0,_e.nextTick(jt,Ft,Ct))}function jt(Ct,Ft){Ct.endEmitted||Ct.length!==0||(Ct.endEmitted=!0,Ft.readable=!1,Ft.emit("end"))}function Zt(Ct,Ft){for(var Ht=0,tn=Ct.length;Ht<tn;Ht++)if(Ct[Ht]===Ft)return Ht;return-1}xt.prototype.read=function(Ct){ut("read",Ct),Ct=parseInt(Ct,10);var Ft=this._readableState,Ht=Ct;if(Ct!==0&&(Ft.emittedReadable=!1),Ct===0&&Ft.needReadable&&(Ft.length>=Ft.highWaterMark||Ft.ended))return ut("read: emitReadable",Ft.length,Ft.ended),Ft.length===0&&Ft.ended?Pt(this):on(this),null;if((Ct=nn(Ct,Ft))===0&&Ft.ended)return Ft.length===0&&Pt(this),null;var tn,mn=Ft.needReadable;return ut("need readable",mn),(Ft.length===0||Ft.length-Ct<Ft.highWaterMark)&&ut("length less than watermark",mn=!0),Ft.ended||Ft.reading?ut("reading or ended",mn=!1):mn&&(ut("do read"),Ft.reading=!0,Ft.sync=!0,Ft.length===0&&(Ft.needReadable=!0),this._read(Ft.highWaterMark),Ft.sync=!1,Ft.reading||(Ct=nn(Ht,Ft))),(tn=Ct>0?zt(Ct,Ft):null)===null?(Ft.needReadable=!0,Ct=0):Ft.length-=Ct,Ft.length===0&&(Ft.ended||(Ft.needReadable=!0),Ht!==Ct&&Ft.ended&&Pt(this)),tn!==null&&this.emit("data",tn),tn},xt.prototype._read=function(Ct){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(Ct,Ft){var Ht=this,tn=this._readableState;switch(tn.pipesCount){case 0:tn.pipes=Ct;break;case 1:tn.pipes=[tn.pipes,Ct];break;default:tn.pipes.push(Ct)}tn.pipesCount+=1,ut("pipe count=%d opts=%j",tn.pipesCount,Ft);var mn=(!Ft||Ft.end!==!1)&&Ct!==$.stdout&&Ct!==$.stderr?vn:Sn;function yn(An,Gn){ut("onunpipe"),An===Ht&&Gn&&Gn.hasUnpiped===!1&&(Gn.hasUnpiped=!0,ut("cleanup"),Ct.removeListener("close",pn),Ct.removeListener("finish",hn),Ct.removeListener("drain",un),Ct.removeListener("error",$t),Ct.removeListener("unpipe",yn),Ht.removeListener("end",vn),Ht.removeListener("end",Sn),Ht.removeListener("data",Mt),rn=!0,!tn.awaitDrain||Ct._writableState&&!Ct._writableState.needDrain||un())}function vn(){ut("onend"),Ct.end()}tn.endEmitted?_e.nextTick(mn):Ht.once("end",mn),Ct.on("unpipe",yn);var un=function(An){return function(){var Gn=An._readableState;ut("pipeOnDrain",Gn.awaitDrain),Gn.awaitDrain&&Gn.awaitDrain--,Gn.awaitDrain===0&&nt(An,"data")&&(Gn.flowing=!0,Xt(An))}}(Ht);Ct.on("drain",un);var rn=!1,At=!1;function Mt(An){ut("ondata"),At=!1,Ct.write(An)!==!1||At||((tn.pipesCount===1&&tn.pipes===Ct||tn.pipesCount>1&&Zt(tn.pipes,Ct)!==-1)&&!rn&&(ut("false write response, pause",Ht._readableState.awaitDrain),Ht._readableState.awaitDrain++,At=!0),Ht.pause())}function $t(An){ut("onerror",An),Sn(),Ct.removeListener("error",$t),nt(Ct,"error")===0&&Ct.emit("error",An)}function pn(){Ct.removeListener("finish",hn),Sn()}function hn(){ut("onfinish"),Ct.removeListener("close",pn),Sn()}function Sn(){ut("unpipe"),Ht.unpipe(Ct)}return Ht.on("data",Mt),function(An,Gn,Qr){if(typeof An.prependListener=="function")return An.prependListener(Gn,Qr);An._events&&An._events[Gn]?j(An._events[Gn])?An._events[Gn].unshift(Qr):An._events[Gn]=[Qr,An._events[Gn]]:An.on(Gn,Qr)}(Ct,"error",$t),Ct.once("close",pn),Ct.once("finish",hn),Ct.emit("pipe",Ht),tn.flowing||(ut("pipe resume"),Ht.resume()),Ct},xt.prototype.unpipe=function(Ct){var Ft=this._readableState,Ht={hasUnpiped:!1};if(Ft.pipesCount===0)return this;if(Ft.pipesCount===1)return Ct&&Ct!==Ft.pipes||(Ct||(Ct=Ft.pipes),Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1,Ct&&Ct.emit("unpipe",this,Ht)),this;if(!Ct){var tn=Ft.pipes,mn=Ft.pipesCount;Ft.pipes=null,Ft.pipesCount=0,Ft.flowing=!1;for(var yn=0;yn<mn;yn++)tn[yn].emit("unpipe",this,Ht);return this}var vn=Zt(Ft.pipes,Ct);return vn===-1||(Ft.pipes.splice(vn,1),Ft.pipesCount-=1,Ft.pipesCount===1&&(Ft.pipes=Ft.pipes[0]),Ct.emit("unpipe",this,Ht)),this},xt.prototype.on=function(Ct,Ft){var Ht=st.prototype.on.call(this,Ct,Ft);if(Ct==="data")this._readableState.flowing!==!1&&this.resume();else if(Ct==="readable"){var tn=this._readableState;tn.endEmitted||tn.readableListening||(tn.readableListening=tn.needReadable=!0,tn.emittedReadable=!1,tn.reading?tn.length&&on(this):_e.nextTick(Bt,this))}return Ht},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var Ct=this._readableState;return Ct.flowing||(ut("resume"),Ct.flowing=!0,function(Ft,Ht){Ht.resumeScheduled||(Ht.resumeScheduled=!0,_e.nextTick(Lt,Ft,Ht))}(this,Ct)),this},xt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(Ct){var Ft=this,Ht=this._readableState,tn=!1;for(var mn in Ct.on("end",function(){if(ut("wrapped end"),Ht.decoder&&!Ht.ended){var vn=Ht.decoder.end();vn&&vn.length&&Ft.push(vn)}Ft.push(null)}),Ct.on("data",function(vn){ut("wrapped data"),Ht.decoder&&(vn=Ht.decoder.write(vn)),Ht.objectMode&&vn==null||(Ht.objectMode||vn&&vn.length)&&(Ft.push(vn)||(tn=!0,Ct.pause()))}),Ct)this[mn]===void 0&&typeof Ct[mn]=="function"&&(this[mn]=function(vn){return function(){return Ct[vn].apply(Ct,arguments)}}(mn));for(var yn=0;yn<Dt.length;yn++)Ct.on(Dt[yn],this.emit.bind(this,Dt[yn]));return this._read=function(vn){ut("wrapped _read",vn),tn&&(tn=!1,Ct.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=zt}).call(this,s(6),s(2))},function(i,o){},function(i,o,s){var _=s(44).Buffer,$=s(146);i.exports=function(){function _e(){(function(tt,j){if(!(tt instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(tt){var j={data:tt,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(tt){var j={data:tt,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(tt){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=tt+j.data;return nt},_e.prototype.concat=function(tt){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,st,ht=_.allocUnsafe(tt>>>0),_t=this.head,ft=0;_t;)j=_t.data,nt=ht,st=ft,j.copy(nt,st),ft+=_t.data.length,_t=_t.next;return ht},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){var _=s(5),$=_.Buffer;function _e(j,nt){for(var st in j)nt[st]=j[st]}function tt(j,nt,st){return $(j,nt,st)}$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?i.exports=_:(_e(_,o),o.Buffer=tt),_e($,tt),tt.from=function(j,nt,st){if(typeof j=="number")throw new TypeError("Argument must not be a number");return $(j,nt,st)},tt.alloc=function(j,nt,st){if(typeof j!="number")throw new TypeError("Argument must be a number");var ht=$(j);return nt!==void 0?typeof st=="string"?ht.fill(nt,st):ht.fill(nt):ht.fill(0),ht},tt.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return $(j)},tt.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(j)}},function(i,o,s){var _=s(13),$=s(3).LEVEL,_e=s(20),tt=i.exports=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function nt(st){this.emit("error",st,this.transport)}this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=nt.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(tt,_e),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),st(null)},tt.prototype._writev=function(j,nt){for(var st=0;st<j.length;st++)this._accept(j[st])&&(this.transport.log(j[st].chunk[$],j[st].chunk.message,j[st].chunk,this._nop),j[st].callback());return nt(null)},tt.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},tt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){(function(_,$){function _e(bt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St})(bt)}function tt(bt,St){if(!(bt instanceof St))throw new TypeError("Cannot call a class as a function")}function j(bt,St){for(var It=0;It<St.length;It++){var Bt=St[It];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(bt,Bt.key,Bt)}}function nt(bt,St){return(nt=Object.setPrototypeOf||function(It,Bt){return It.__proto__=Bt,It})(bt,St)}function st(bt){var St=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var It,Bt=ft(bt);if(St){var Lt=ft(this).constructor;It=Reflect.construct(Bt,arguments,Lt)}else It=Bt.apply(this,arguments);return ht(this,It)}}function ht(bt,St){return!St||_e(St)!=="object"&&typeof St!="function"?_t(bt):St}function _t(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function ft(bt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(St){return St.__proto__||Object.getPrototypeOf(St)})(bt)}var dt=s(65),ut=s(56),mt=s(150),wt=s(160),Qt=s(3).MESSAGE,Dt=s(32),Et=Dt.Stream,xt=Dt.PassThrough,pt=s(20),Vt=s(38)("winston:file"),nn=s(18),on=s(188);i.exports=function(bt){(function(Xt,zt){if(typeof zt!="function"&&zt!==null)throw new TypeError("Super expression must either be null or a function");Xt.prototype=Object.create(zt&&zt.prototype,{constructor:{value:Xt,writable:!0,configurable:!0}}),zt&&nt(Xt,zt)})(Lt,bt);var St,It,Bt=st(Lt);function Lt(){var Xt,zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Pt(jt){for(var Zt=arguments.length,Ct=new Array(Zt>1?Zt-1:0),Ft=1;Ft<Zt;Ft++)Ct[Ft-1]=arguments[Ft];Ct.slice(1).forEach(function(Ht){if(zt[Ht])throw new Error("Cannot set ".concat(Ht," and ").concat(jt," together"))})}if(tt(this,Lt),(Xt=Bt.call(this,zt)).name=zt.name||"file",Xt._stream=new xt,Xt._stream.setMaxListeners(30),Xt._onError=Xt._onError.bind(_t(Xt)),zt.filename||zt.dirname)Pt("filename or dirname","stream"),Xt._basename=Xt.filename=zt.filename?ut.basename(zt.filename):"winston.log",Xt.dirname=zt.dirname||ut.dirname(zt.filename),Xt.options=zt.options||{flags:"a"};else{if(!zt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Pt("stream","filename","maxsize"),Xt._dest=Xt._stream.pipe(Xt._setupStream(zt.stream)),Xt.dirname=ut.dirname(Xt._dest.path)}return Xt.maxsize=zt.maxsize||null,Xt.rotationFormat=zt.rotationFormat||!1,Xt.zippedArchive=zt.zippedArchive||!1,Xt.maxFiles=zt.maxFiles||null,Xt.eol=zt.eol||nn.EOL,Xt.tailable=zt.tailable||!1,Xt._size=0,Xt._pendingSize=0,Xt._created=0,Xt._drain=!1,Xt._opening=!1,Xt._ending=!1,Xt.dirname&&Xt._createLogDirIfNotExist(Xt.dirname),Xt.open(),Xt}return St=Lt,(It=[{key:"finishIfEnding",value:function(){var Xt=this;this._ending&&(this._opening?this.once("open",function(){Xt._stream.once("finish",function(){return Xt.emit("finish")}),_(function(){return Xt._stream.end()})}):(this._stream.once("finish",function(){return Xt.emit("finish")}),_(function(){return Xt._stream.end()})))}},{key:"log",value:function(Xt){var zt=this,Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return Pt(),!0;if(this._drain)this._stream.once("drain",function(){zt._drain=!1,zt.log(Xt,Pt)});else{if(!this._rotate){var jt="".concat(Xt[Qt]).concat(this.eol),Zt=$.byteLength(jt);this._pendingSize+=Zt,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var Ct=this._stream.write(jt,Ft.bind(this));return Ct?Pt():(this._drain=!0,this._stream.once("drain",function(){zt._drain=!1,Pt()})),Vt("written",Ct,this._drain),this.finishIfEnding(),Ct}this._stream.once("rotate",function(){zt._rotate=!1,zt.log(Xt,Pt)})}function Ft(){var Ht=this;this._size+=Zt,this._pendingSize-=Zt,Vt("logged %s %s",this._size,jt),this.emit("logged",Xt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return Ht._rotateFile()}))}}},{key:"query",value:function(Xt,zt){typeof Xt=="function"&&(zt=Xt,Xt={}),Xt=function(tn){return(tn=tn||{}).rows=tn.rows||tn.limit||10,tn.start=tn.start||0,tn.until=tn.until||new Date,_e(tn.until)!=="object"&&(tn.until=new Date(tn.until)),tn.from=tn.from||tn.until-864e5,_e(tn.from)!=="object"&&(tn.from=new Date(tn.from)),tn.order=tn.order||"desc",tn}(Xt);var Pt=ut.join(this.dirname,this.filename),jt="",Zt=[],Ct=0,Ft=dt.createReadStream(Pt,{encoding:"utf8"});function Ht(tn,mn){try{var yn=JSON.parse(tn);(function(vn){if(vn&&_e(vn)==="object"){var un=new Date(vn.timestamp);if(!(Xt.from&&un<Xt.from||Xt.until&&un>Xt.until||Xt.level&&Xt.level!==vn.level))return!0}})(yn)&&function(vn){Xt.rows&&Zt.length>=Xt.rows&&Xt.order!=="desc"?Ft.readable&&Ft.destroy():(Xt.fields&&(vn=Xt.fields.reduce(function(un,rn){return un[rn]=vn[rn],un},{})),Xt.order==="desc"&&Zt.length>=Xt.rows&&Zt.shift(),Zt.push(vn))}(yn)}catch(vn){mn||Ft.emit("error",vn)}}Ft.on("error",function(tn){if(Ft.readable&&Ft.destroy(),zt)return tn.code!=="ENOENT"?zt(tn):zt(null,Zt)}),Ft.on("data",function(tn){for(var mn=(tn=(jt+tn).split(/\n+/)).length-1,yn=0;yn<mn;yn++)(!Xt.start||Ct>=Xt.start)&&Ht(tn[yn]),Ct++;jt=tn[mn]}),Ft.on("close",function(){jt&&Ht(jt,!0),Xt.order==="desc"&&(Zt=Zt.reverse()),zt&&zt(null,Zt)})}},{key:"stream",value:function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zt=ut.join(this.dirname,this.filename),Pt=new Et,jt={file:zt,start:Xt.start};return Pt.destroy=on(jt,function(Zt,Ct){if(Zt)return Pt.emit("error",Zt);try{Pt.emit("data",Ct),Ct=JSON.parse(Ct),Pt.emit("log",Ct)}catch(Ft){Pt.emit("error",Ft)}}),Pt}},{key:"open",value:function(){var Xt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(zt,Pt){if(zt)return Xt.emit("error",zt);Vt("stat done: %s { size: %s }",Xt.filename,Pt),Xt._size=Pt,Xt._dest=Xt._createStream(Xt._stream),Xt._opening=!1,Xt.once("open",function(){Xt._stream.eventNames().includes("rotate")?Xt._stream.emit("rotate"):Xt._rotate=!1})})))}},{key:"stat",value:function(Xt){var zt=this,Pt=this._getFile(),jt=ut.join(this.dirname,Pt);dt.stat(jt,function(Zt,Ct){return Zt&&Zt.code==="ENOENT"?(Vt("ENOENT ok",jt),zt.filename=Pt,Xt(null,0)):Zt?(Vt("err ".concat(Zt.code," ").concat(jt)),Xt(Zt)):!Ct||zt._needsNewFile(Ct.size)?zt._incFile(function(){return zt.stat(Xt)}):(zt.filename=Pt,void Xt(null,Ct.size))})}},{key:"close",value:function(Xt){var zt=this;this._stream&&this._stream.end(function(){Xt&&Xt(),zt.emit("flush"),zt.emit("closed")})}},{key:"_needsNewFile",value:function(Xt){return Xt=Xt||this._size,this.maxsize&&Xt>=this.maxsize}},{key:"_onError",value:function(Xt){this.emit("error",Xt)}},{key:"_setupStream",value:function(Xt){return Xt.on("error",this._onError),Xt}},{key:"_cleanupStream",value:function(Xt){return Xt.removeListener("error",this._onError),Xt}},{key:"_rotateFile",value:function(){var Xt=this;this._incFile(function(){return Xt.open()})}},{key:"_endStream",value:function(){var Xt=this,zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){Xt._cleanupStream(Xt._dest),zt()})):zt()}},{key:"_createStream",value:function(Xt){var zt=this,Pt=ut.join(this.dirname,this.filename);Vt("create stream start",Pt,this.options);var jt=dt.createWriteStream(Pt,this.options).on("error",function(Ct){return Vt(Ct)}).on("close",function(){return Vt("close",jt.path,jt.bytesWritten)}).on("open",function(){Vt("file open ok",Pt),zt.emit("open",Pt),Xt.pipe(jt),zt.rotatedWhileOpening&&(zt._stream=new xt,zt._stream.setMaxListeners(30),zt._rotateFile(),zt.rotatedWhileOpening=!1,zt._cleanupStream(jt),Xt.end())});if(Vt("create stream ok",Pt),this.zippedArchive){var Zt=wt.createGzip();return Zt.pipe(jt),Zt}return jt}},{key:"_incFile",value:function(Xt){Vt("_incFile",this.filename);var zt=ut.extname(this._basename),Pt=ut.basename(this._basename,zt);this.tailable?this._checkMaxFilesTailable(zt,Pt,Xt):(this._created+=1,this._checkMaxFilesIncrementing(zt,Pt,Xt))}},{key:"_getFile",value:function(){var Xt=ut.extname(this._basename),zt=ut.basename(this._basename,Xt),Pt=this.rotationFormat?this.rotationFormat():this._created,jt=!this.tailable&&this._created?"".concat(zt).concat(Pt).concat(Xt):"".concat(zt).concat(Xt);return this.zippedArchive&&!this.tailable?"".concat(jt,".gz"):jt}},{key:"_checkMaxFilesIncrementing",value:function(Xt,zt,Pt){if(!this.maxFiles||this._created<this.maxFiles)return _(Pt);var jt=this._created-this.maxFiles,Zt=jt!==0?jt:"",Ct=this.zippedArchive?".gz":"",Ft="".concat(zt).concat(Zt).concat(Xt).concat(Ct),Ht=ut.join(this.dirname,Ft);dt.unlink(Ht,Pt)}},{key:"_checkMaxFilesTailable",value:function(Xt,zt,Pt){var jt=this,Zt=[];if(this.maxFiles){for(var Ct=this.zippedArchive?".gz":"",Ft=this.maxFiles-1;Ft>1;Ft--)Zt.push(function(Ht,tn){var mn=this,yn="".concat(zt).concat(Ht-1).concat(Xt).concat(Ct),vn=ut.join(this.dirname,yn);dt.exists(vn,function(un){if(!un)return tn(null);yn="".concat(zt).concat(Ht).concat(Xt).concat(Ct),dt.rename(vn,ut.join(mn.dirname,yn),tn)})}.bind(this,Ft));mt(Zt,function(){dt.rename(ut.join(jt.dirname,"".concat(zt).concat(Xt)),ut.join(jt.dirname,"".concat(zt,"1").concat(Xt).concat(Ct)),Pt)})}}},{key:"_createLogDirIfNotExist",value:function(Xt){dt.existsSync(Xt)||dt.mkdirSync(Xt,{recursive:!0})}}])&&j(St.prototype,It),Lt}(pt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt,j){return(0,_.default)($.default,tt,j)};var _=_e(s(151)),$=_e(s(155));function _e(tt){return tt&&tt.__esModule?tt:{default:tt}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=tt(s(45)),$=tt(s(25)),_e=tt(s(30));function tt(j){return j&&j.__esModule?j:{default:j}}o.default=(0,_e.default)((j,nt,st)=>{var ht=(0,_.default)(nt)?[]:{};j(nt,(_t,ft,dt)=>{(0,$.default)(_t)((ut,...mt)=>{mt.length<2&&([mt]=mt),ht[ft]=mt,dt(ut)})},_t=>st(_t,ht))},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(st){return(0,_e.isAsync)(st)?function(...ht){const _t=ht.pop();return j(st.apply(this,ht),_t)}:(0,_.default)(function(ht,_t){var ft;try{ft=st.apply(this,ht)}catch(dt){return _t(dt)}if(ft&&typeof ft.then=="function")return j(ft,_t);_t(null,ft)})};var _=tt(s(153)),$=tt(s(154)),_e=s(25);function tt(st){return st&&st.__esModule?st:{default:st}}function j(st,ht){return st.then(_t=>{nt(ht,null,_t)},_t=>{nt(ht,_t&&_t.message?_t:new Error(_t))})}function nt(st,ht,_t){try{st(ht,_t)}catch(ft){(0,$.default)(dt=>{throw dt},ft)}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return function(...$){var _e=$.pop();return _.call(this,$,_e)}},i.exports=o.default},function(i,o,s){(function(_,$){Object.defineProperty(o,"__esModule",{value:!0}),o.fallback=nt,o.wrap=st;var _e,tt=o.hasSetImmediate=typeof _=="function"&&_,j=o.hasNextTick=typeof $=="object"&&typeof $.nextTick=="function";function nt(ht){setTimeout(ht,0)}function st(ht){return(_t,...ft)=>ht(()=>_t(...ft))}_e=tt?_:j?$.nextTick:nt,o.default=st(_e)}).call(this,s(15).setImmediate,s(2))},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=_e(s(66)),$=_e(s(30));function _e(tt){return tt&&tt.__esModule?tt:{default:tt}}o.default=(0,$.default)(function(tt,j,nt){return(0,_.default)(tt,1,j,nt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=st(s(67)),$=st(s(157)),_e=st(s(68)),tt=s(25),j=st(s(159)),nt=st(s(46));function st(ht){return ht&&ht.__esModule?ht:{default:ht}}o.default=ht=>(_t,ft,dt)=>{if(dt=(0,_.default)(dt),ht<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!_t)return dt(null);if((0,tt.isAsyncGenerator)(_t))return(0,j.default)(_t,ht,ft,dt);if((0,tt.isAsyncIterable)(_t))return(0,j.default)(_t[Symbol.asyncIterator](),ht,ft,dt);var ut=(0,$.default)(_t),mt=!1,wt=!1,Qt=0,Dt=!1;function Et(pt,Vt){if(!wt)if(Qt-=1,pt)mt=!0,dt(pt);else if(pt===!1)mt=!0,wt=!0;else{if(Vt===nt.default||mt&&Qt<=0)return mt=!0,dt(null);Dt||xt()}}function xt(){for(Dt=!0;Qt<ht&&!mt;){var pt=ut();if(pt===null)return mt=!0,void(Qt<=0&&dt(null));Qt+=1,ft(pt.value,pt.key,(0,_e.default)(Et))}Dt=!1}xt()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt){if((0,_.default)(tt))return function(ft){var dt=-1,ut=ft.length;return function(){return++dt<ut?{value:ft[dt],key:dt}:null}}(tt);var j=(0,$.default)(tt);return j?function(ft){var dt=-1;return function(){var ut=ft.next();return ut.done?null:(dt++,{value:ut.value,key:dt})}}(j):(nt=tt,st=nt?Object.keys(nt):[],ht=-1,_t=st.length,function(){var ft=st[++ht];return ht<_t?{value:nt[ft],key:ft}:null});var nt,st,ht,_t};var _=_e(s(45)),$=_e(s(158));function _e(tt){return tt&&tt.__esModule?tt:{default:tt}}i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return _[Symbol.iterator]&&_[Symbol.iterator]()},i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(tt,j,nt,st){let ht=!1,_t=!1,ft=!1,dt=0,ut=0;function mt(){dt>=j||ft||ht||(ft=!0,tt.next().then(({value:Dt,done:Et})=>{if(!_t&&!ht){if(ft=!1,Et)return ht=!0,void(dt<=0&&st(null));dt++,nt(Dt,ut,wt),ut++,mt()}}).catch(Qt))}function wt(Dt,Et){if(dt-=1,!_t)return Dt?Qt(Dt):Dt===!1?(ht=!0,void(_t=!0)):Et===_e.default||ht&&dt<=0?(ht=!0,st(null)):void mt()}function Qt(Dt){_t||(ft=!1,ht=!0,st(Dt))}mt()};var _,$=s(46),_e=(_=$)&&_.__esModule?_:{default:_};i.exports=o.default},function(i,o,s){(function(_){var $=s(5).Buffer,_e=s(161).Transform,tt=s(169),j=s(13),nt=s(74).ok,st=s(5).kMaxLength,ht="Cannot create final Buffer. It would be larger than 0x"+st.toString(16)+" bytes";tt.Z_MIN_WINDOWBITS=8,tt.Z_MAX_WINDOWBITS=15,tt.Z_DEFAULT_WINDOWBITS=15,tt.Z_MIN_CHUNK=64,tt.Z_MAX_CHUNK=1/0,tt.Z_DEFAULT_CHUNK=16384,tt.Z_MIN_MEMLEVEL=1,tt.Z_MAX_MEMLEVEL=9,tt.Z_DEFAULT_MEMLEVEL=8,tt.Z_MIN_LEVEL=-1,tt.Z_MAX_LEVEL=9,tt.Z_DEFAULT_LEVEL=tt.Z_DEFAULT_COMPRESSION;for(var _t=Object.keys(tt),ft=0;ft<_t.length;ft++){var dt=_t[ft];dt.match(/^Z/)&&Object.defineProperty(o,dt,{enumerable:!0,value:tt[dt],writable:!1})}for(var ut={Z_OK:tt.Z_OK,Z_STREAM_END:tt.Z_STREAM_END,Z_NEED_DICT:tt.Z_NEED_DICT,Z_ERRNO:tt.Z_ERRNO,Z_STREAM_ERROR:tt.Z_STREAM_ERROR,Z_DATA_ERROR:tt.Z_DATA_ERROR,Z_MEM_ERROR:tt.Z_MEM_ERROR,Z_BUF_ERROR:tt.Z_BUF_ERROR,Z_VERSION_ERROR:tt.Z_VERSION_ERROR},mt=Object.keys(ut),wt=0;wt<mt.length;wt++){var Qt=mt[wt];ut[ut[Qt]]=Qt}function Dt(zt,Pt,jt){var Zt=[],Ct=0;function Ft(){for(var tn;(tn=zt.read())!==null;)Zt.push(tn),Ct+=tn.length;zt.once("readable",Ft)}function Ht(){var tn,mn=null;Ct>=st?mn=new RangeError(ht):tn=$.concat(Zt,Ct),Zt=[],zt.close(),jt(mn,tn)}zt.on("error",function(tn){zt.removeListener("end",Ht),zt.removeListener("readable",Ft),jt(tn)}),zt.on("end",Ht),zt.end(Pt),Ft()}function Et(zt,Pt){if(typeof Pt=="string"&&(Pt=$.from(Pt)),!$.isBuffer(Pt))throw new TypeError("Not a string or buffer");var jt=zt._finishFlushFlag;return zt._processChunk(Pt,jt)}function xt(zt){if(!(this instanceof xt))return new xt(zt);Bt.call(this,zt,tt.DEFLATE)}function pt(zt){if(!(this instanceof pt))return new pt(zt);Bt.call(this,zt,tt.INFLATE)}function Vt(zt){if(!(this instanceof Vt))return new Vt(zt);Bt.call(this,zt,tt.GZIP)}function nn(zt){if(!(this instanceof nn))return new nn(zt);Bt.call(this,zt,tt.GUNZIP)}function on(zt){if(!(this instanceof on))return new on(zt);Bt.call(this,zt,tt.DEFLATERAW)}function bt(zt){if(!(this instanceof bt))return new bt(zt);Bt.call(this,zt,tt.INFLATERAW)}function St(zt){if(!(this instanceof St))return new St(zt);Bt.call(this,zt,tt.UNZIP)}function It(zt){return zt===tt.Z_NO_FLUSH||zt===tt.Z_PARTIAL_FLUSH||zt===tt.Z_SYNC_FLUSH||zt===tt.Z_FULL_FLUSH||zt===tt.Z_FINISH||zt===tt.Z_BLOCK}function Bt(zt,Pt){var jt=this;if(this._opts=zt=zt||{},this._chunkSize=zt.chunkSize||o.Z_DEFAULT_CHUNK,_e.call(this,zt),zt.flush&&!It(zt.flush))throw new Error("Invalid flush flag: "+zt.flush);if(zt.finishFlush&&!It(zt.finishFlush))throw new Error("Invalid flush flag: "+zt.finishFlush);if(this._flushFlag=zt.flush||tt.Z_NO_FLUSH,this._finishFlushFlag=zt.finishFlush!==void 0?zt.finishFlush:tt.Z_FINISH,zt.chunkSize&&(zt.chunkSize<o.Z_MIN_CHUNK||zt.chunkSize>o.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+zt.chunkSize);if(zt.windowBits&&(zt.windowBits<o.Z_MIN_WINDOWBITS||zt.windowBits>o.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+zt.windowBits);if(zt.level&&(zt.level<o.Z_MIN_LEVEL||zt.level>o.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+zt.level);if(zt.memLevel&&(zt.memLevel<o.Z_MIN_MEMLEVEL||zt.memLevel>o.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+zt.memLevel);if(zt.strategy&&zt.strategy!=o.Z_FILTERED&&zt.strategy!=o.Z_HUFFMAN_ONLY&&zt.strategy!=o.Z_RLE&&zt.strategy!=o.Z_FIXED&&zt.strategy!=o.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+zt.strategy);if(zt.dictionary&&!$.isBuffer(zt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new tt.Zlib(Pt);var Zt=this;this._hadError=!1,this._handle.onerror=function(Ht,tn){Lt(Zt),Zt._hadError=!0;var mn=new Error(Ht);mn.errno=tn,mn.code=o.codes[tn],Zt.emit("error",mn)};var Ct=o.Z_DEFAULT_COMPRESSION;typeof zt.level=="number"&&(Ct=zt.level);var Ft=o.Z_DEFAULT_STRATEGY;typeof zt.strategy=="number"&&(Ft=zt.strategy),this._handle.init(zt.windowBits||o.Z_DEFAULT_WINDOWBITS,Ct,zt.memLevel||o.Z_DEFAULT_MEMLEVEL,Ft,zt.dictionary),this._buffer=$.allocUnsafe(this._chunkSize),this._offset=0,this._level=Ct,this._strategy=Ft,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!jt._handle},configurable:!0,enumerable:!0})}function Lt(zt,Pt){Pt&&_.nextTick(Pt),zt._handle&&(zt._handle.close(),zt._handle=null)}function Xt(zt){zt.emit("close")}Object.defineProperty(o,"codes",{enumerable:!0,value:Object.freeze(ut),writable:!1}),o.Deflate=xt,o.Inflate=pt,o.Gzip=Vt,o.Gunzip=nn,o.DeflateRaw=on,o.InflateRaw=bt,o.Unzip=St,o.createDeflate=function(zt){return new xt(zt)},o.createInflate=function(zt){return new pt(zt)},o.createDeflateRaw=function(zt){return new on(zt)},o.createInflateRaw=function(zt){return new bt(zt)},o.createGzip=function(zt){return new Vt(zt)},o.createGunzip=function(zt){return new nn(zt)},o.createUnzip=function(zt){return new St(zt)},o.deflate=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new xt(Pt),zt,jt)},o.deflateSync=function(zt,Pt){return Et(new xt(Pt),zt)},o.gzip=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new Vt(Pt),zt,jt)},o.gzipSync=function(zt,Pt){return Et(new Vt(Pt),zt)},o.deflateRaw=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new on(Pt),zt,jt)},o.deflateRawSync=function(zt,Pt){return Et(new on(Pt),zt)},o.unzip=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new St(Pt),zt,jt)},o.unzipSync=function(zt,Pt){return Et(new St(Pt),zt)},o.inflate=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new pt(Pt),zt,jt)},o.inflateSync=function(zt,Pt){return Et(new pt(Pt),zt)},o.gunzip=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new nn(Pt),zt,jt)},o.gunzipSync=function(zt,Pt){return Et(new nn(Pt),zt)},o.inflateRaw=function(zt,Pt,jt){return typeof Pt=="function"&&(jt=Pt,Pt={}),Dt(new bt(Pt),zt,jt)},o.inflateRawSync=function(zt,Pt){return Et(new bt(Pt),zt)},j.inherits(Bt,_e),Bt.prototype.params=function(zt,Pt,jt){if(zt<o.Z_MIN_LEVEL||zt>o.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+zt);if(Pt!=o.Z_FILTERED&&Pt!=o.Z_HUFFMAN_ONLY&&Pt!=o.Z_RLE&&Pt!=o.Z_FIXED&&Pt!=o.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Pt);if(this._level!==zt||this._strategy!==Pt){var Zt=this;this.flush(tt.Z_SYNC_FLUSH,function(){nt(Zt._handle,"zlib binding closed"),Zt._handle.params(zt,Pt),Zt._hadError||(Zt._level=zt,Zt._strategy=Pt,jt&&jt())})}else _.nextTick(jt)},Bt.prototype.reset=function(){return nt(this._handle,"zlib binding closed"),this._handle.reset()},Bt.prototype._flush=function(zt){this._transform($.alloc(0),"",zt)},Bt.prototype.flush=function(zt,Pt){var jt=this,Zt=this._writableState;(typeof zt=="function"||zt===void 0&&!Pt)&&(Pt=zt,zt=tt.Z_FULL_FLUSH),Zt.ended?Pt&&_.nextTick(Pt):Zt.ending?Pt&&this.once("end",Pt):Zt.needDrain?Pt&&this.once("drain",function(){return jt.flush(zt,Pt)}):(this._flushFlag=zt,this.write($.alloc(0),"",Pt))},Bt.prototype.close=function(zt){Lt(this,zt),_.nextTick(Xt,this)},Bt.prototype._transform=function(zt,Pt,jt){var Zt,Ct=this._writableState,Ft=(Ct.ending||Ct.ended)&&(!zt||Ct.length===zt.length);return zt===null||$.isBuffer(zt)?this._handle?(Ft?Zt=this._finishFlushFlag:(Zt=this._flushFlag,zt.length>=Ct.length&&(this._flushFlag=this._opts.flush||tt.Z_NO_FLUSH)),void this._processChunk(zt,Zt,jt)):jt(new Error("zlib binding closed")):jt(new Error("invalid input"))},Bt.prototype._processChunk=function(zt,Pt,jt){var Zt=zt&&zt.length,Ct=this._chunkSize-this._offset,Ft=0,Ht=this,tn=typeof jt=="function";if(!tn){var mn,yn=[],vn=0;this.on("error",function($t){mn=$t}),nt(this._handle,"zlib binding closed");do var un=this._handle.writeSync(Pt,zt,Ft,Zt,this._buffer,this._offset,Ct);while(!this._hadError&&Mt(un[0],un[1]));if(this._hadError)throw mn;if(vn>=st)throw Lt(this),new RangeError(ht);var rn=$.concat(yn,vn);return Lt(this),rn}nt(this._handle,"zlib binding closed");var At=this._handle.write(Pt,zt,Ft,Zt,this._buffer,this._offset,Ct);function Mt($t,pn){if(this&&(this.buffer=null,this.callback=null),!Ht._hadError){var hn=Ct-pn;if(nt(hn>=0,"have should not go down"),hn>0){var Sn=Ht._buffer.slice(Ht._offset,Ht._offset+hn);Ht._offset+=hn,tn?Ht.push(Sn):(yn.push(Sn),vn+=Sn.length)}if((pn===0||Ht._offset>=Ht._chunkSize)&&(Ct=Ht._chunkSize,Ht._offset=0,Ht._buffer=$.allocUnsafe(Ht._chunkSize)),pn===0){if(Ft+=Zt-$t,Zt=$t,!tn)return!0;var An=Ht._handle.write(Pt,zt,Ft,Zt,Ht._buffer,Ht._offset,Ht._chunkSize);return An.callback=Mt,void(An.buffer=zt)}if(!tn)return!1;jt()}}At.buffer=zt,At.callback=Mt},j.inherits(xt,Bt),j.inherits(pt,Bt),j.inherits(Vt,Bt),j.inherits(nn,Bt),j.inherits(on,Bt),j.inherits(bt,Bt),j.inherits(St,Bt)}).call(this,s(2))},function(i,o,s){i.exports=$;var _=s(21).EventEmitter;function $(){_.call(this)}s(7)($,_),$.Readable=s(31),$.Writable=s(73),$.Duplex=s(166),$.Transform=s(167),$.PassThrough=s(168),$.Stream=$,$.prototype.pipe=function(_e,tt){var j=this;function nt(mt){_e.writable&&_e.write(mt)===!1&&j.pause&&j.pause()}function st(){j.readable&&j.resume&&j.resume()}j.on("data",nt),_e.on("drain",st),_e._isStdio||tt&&tt.end===!1||(j.on("end",_t),j.on("close",ft));var ht=!1;function _t(){ht||(ht=!0,_e.end())}function ft(){ht||(ht=!0,typeof _e.destroy=="function"&&_e.destroy())}function dt(mt){if(ut(),_.listenerCount(this,"error")===0)throw mt}function ut(){j.removeListener("data",nt),_e.removeListener("drain",st),j.removeListener("end",_t),j.removeListener("close",ft),j.removeListener("error",dt),_e.removeListener("error",dt),j.removeListener("end",ut),j.removeListener("close",ut),_e.removeListener("close",ut)}return j.on("error",dt),_e.on("error",dt),j.on("end",ut),j.on("close",ut),_e.on("close",ut),_e.emit("pipe",j),_e}},function(i,o){},function(i,o,s){var _=s(47).Buffer,$=s(164);i.exports=function(){function _e(){(function(tt,j){if(!(tt instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_e),this.head=null,this.tail=null,this.length=0}return _e.prototype.push=function(tt){var j={data:tt,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length},_e.prototype.unshift=function(tt){var j={data:tt,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length},_e.prototype.shift=function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}},_e.prototype.clear=function(){this.head=this.tail=null,this.length=0},_e.prototype.join=function(tt){if(this.length===0)return"";for(var j=this.head,nt=""+j.data;j=j.next;)nt+=tt+j.data;return nt},_e.prototype.concat=function(tt){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var j,nt,st,ht=_.allocUnsafe(tt>>>0),_t=this.head,ft=0;_t;)j=_t.data,nt=ht,st=ft,j.copy(nt,st),ft+=_t.data.length,_t=_t.next;return ht},_e}(),$&&$.inspect&&$.inspect.custom&&(i.exports.prototype[$.inspect.custom]=function(){var _e=$.inspect({length:this.length});return this.constructor.name+" "+_e})},function(i,o){},function(i,o,s){i.exports=_e;var _=s(72),$=s(17);function _e(tt){if(!(this instanceof _e))return new _e(tt);_.call(this,tt)}$.inherits=s(7),$.inherits(_e,_),_e.prototype._transform=function(tt,j,nt){nt(null,tt)}},function(i,o,s){i.exports=s(23)},function(i,o,s){i.exports=s(31).Transform},function(i,o,s){i.exports=s(31).PassThrough},function(i,o,s){(function(_,$){var _e=s(74),tt=s(171),j=s(172),nt=s(175),st=s(178);for(var ht in st)o[ht]=st[ht];o.NONE=0,o.DEFLATE=1,o.INFLATE=2,o.GZIP=3,o.GUNZIP=4,o.DEFLATERAW=5,o.INFLATERAW=6,o.UNZIP=7;function _t(ft){if(typeof ft!="number"||ft<o.DEFLATE||ft>o.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ft,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}_t.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,_e(this.init_done,"close before init"),_e(this.mode<=o.UNZIP),this.mode===o.DEFLATE||this.mode===o.GZIP||this.mode===o.DEFLATERAW?j.deflateEnd(this.strm):this.mode!==o.INFLATE&&this.mode!==o.GUNZIP&&this.mode!==o.INFLATERAW&&this.mode!==o.UNZIP||nt.inflateEnd(this.strm),this.mode=o.NONE,this.dictionary=null)},_t.prototype.write=function(ft,dt,ut,mt,wt,Qt,Dt){return this._write(!0,ft,dt,ut,mt,wt,Qt,Dt)},_t.prototype.writeSync=function(ft,dt,ut,mt,wt,Qt,Dt){return this._write(!1,ft,dt,ut,mt,wt,Qt,Dt)},_t.prototype._write=function(ft,dt,ut,mt,wt,Qt,Dt,Et){if(_e.equal(arguments.length,8),_e(this.init_done,"write before init"),_e(this.mode!==o.NONE,"already finalized"),_e.equal(!1,this.write_in_progress,"write already in progress"),_e.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,_e.equal(!1,dt===void 0,"must provide flush value"),this.write_in_progress=!0,dt!==o.Z_NO_FLUSH&&dt!==o.Z_PARTIAL_FLUSH&&dt!==o.Z_SYNC_FLUSH&&dt!==o.Z_FULL_FLUSH&&dt!==o.Z_FINISH&&dt!==o.Z_BLOCK)throw new Error("Invalid flush value");if(ut==null&&(ut=_.alloc(0),wt=0,mt=0),this.strm.avail_in=wt,this.strm.input=ut,this.strm.next_in=mt,this.strm.avail_out=Et,this.strm.output=Qt,this.strm.next_out=Dt,this.flush=dt,!ft)return this._process(),this._checkError()?this._afterSync():void 0;var xt=this;return $.nextTick(function(){xt._process(),xt._after()}),this},_t.prototype._afterSync=function(){var ft=this.strm.avail_out,dt=this.strm.avail_in;return this.write_in_progress=!1,[dt,ft]},_t.prototype._process=function(){var ft=null;switch(this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflate(this.strm,this.flush);break;case o.UNZIP:switch(this.strm.avail_in>0&&(ft=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ft===null)break;if(this.strm.input[ft]!==31){this.mode=o.INFLATE;break}if(this.gzip_id_bytes_read=1,ft++,this.strm.avail_in===1)break;case 1:if(ft===null)break;this.strm.input[ft]===139?(this.gzip_id_bytes_read=2,this.mode=o.GUNZIP):this.mode=o.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:for(this.err=nt.inflate(this.strm,this.flush),this.err===o.Z_NEED_DICT&&this.dictionary&&(this.err=nt.inflateSetDictionary(this.strm,this.dictionary),this.err===o.Z_OK?this.err=nt.inflate(this.strm,this.flush):this.err===o.Z_DATA_ERROR&&(this.err=o.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===o.GUNZIP&&this.err===o.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=nt.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},_t.prototype._checkError=function(){switch(this.err){case o.Z_OK:case o.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===o.Z_FINISH)return this._error("unexpected end of file"),!1;break;case o.Z_STREAM_END:break;case o.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},_t.prototype._after=function(){if(this._checkError()){var ft=this.strm.avail_out,dt=this.strm.avail_in;this.write_in_progress=!1,this.callback(dt,ft),this.pending_close&&this.close()}},_t.prototype._error=function(ft){this.strm.msg&&(ft=this.strm.msg),this.onerror(ft,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},_t.prototype.init=function(ft,dt,ut,mt,wt){_e(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),_e(ft>=8&&ft<=15,"invalid windowBits"),_e(dt>=-1&&dt<=9,"invalid compression level"),_e(ut>=1&&ut<=9,"invalid memlevel"),_e(mt===o.Z_FILTERED||mt===o.Z_HUFFMAN_ONLY||mt===o.Z_RLE||mt===o.Z_FIXED||mt===o.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(dt,ft,ut,mt,wt),this._setDictionary()},_t.prototype.params=function(){throw new Error("deflateParams Not supported")},_t.prototype.reset=function(){this._reset(),this._setDictionary()},_t.prototype._init=function(ft,dt,ut,mt,wt){switch(this.level=ft,this.windowBits=dt,this.memLevel=ut,this.strategy=mt,this.flush=o.Z_NO_FLUSH,this.err=o.Z_OK,this.mode!==o.GZIP&&this.mode!==o.GUNZIP||(this.windowBits+=16),this.mode===o.UNZIP&&(this.windowBits+=32),this.mode!==o.DEFLATERAW&&this.mode!==o.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new tt,this.mode){case o.DEFLATE:case o.GZIP:case o.DEFLATERAW:this.err=j.deflateInit2(this.strm,this.level,o.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case o.INFLATE:case o.GUNZIP:case o.INFLATERAW:case o.UNZIP:this.err=nt.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==o.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},_t.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:this.err=j.deflateSetDictionary(this.strm,this.dictionary)}this.err!==o.Z_OK&&this._error("Failed to set dictionary")}},_t.prototype._reset=function(){switch(this.err=o.Z_OK,this.mode){case o.DEFLATE:case o.DEFLATERAW:case o.GZIP:this.err=j.deflateReset(this.strm);break;case o.INFLATE:case o.INFLATERAW:case o.GUNZIP:this.err=nt.inflateReset(this.strm)}this.err!==o.Z_OK&&this._error("Failed to reset stream")},o.Zlib=_t}).call(this,s(5).Buffer,s(2))},function(i,o,s){var _=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;function tt(j){if(j==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(j)}i.exports=function(){try{if(!Object.assign)return!1;var j=new String("abc");if(j[5]="de",Object.getOwnPropertyNames(j)[0]==="5")return!1;for(var nt={},st=0;st<10;st++)nt["_"+String.fromCharCode(st)]=st;if(Object.getOwnPropertyNames(nt).map(function(_t){return nt[_t]}).join("")!=="0123456789")return!1;var ht={};return"abcdefghijklmnopqrst".split("").forEach(function(_t){ht[_t]=_t}),Object.keys(Object.assign({},ht)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(j,nt){for(var st,ht,_t=tt(j),ft=1;ft<arguments.length;ft++){for(var dt in st=Object(arguments[ft]))$.call(st,dt)&&(_t[dt]=st[dt]);if(_){ht=_(st);for(var ut=0;ut<ht.length;ut++)_e.call(st,ht[ut])&&(_t[ht[ut]]=st[ht[ut]])}}return _t}},function(i,o,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(i,o,s){var _,$=s(37),_e=s(173),tt=s(75),j=s(76),nt=s(174);function st(bt,St){return bt.msg=nt[St],St}function ht(bt){return(bt<<1)-(bt>4?9:0)}function _t(bt){for(var St=bt.length;--St>=0;)bt[St]=0}function ft(bt){var St=bt.state,It=St.pending;It>bt.avail_out&&(It=bt.avail_out),It!==0&&($.arraySet(bt.output,St.pending_buf,St.pending_out,It,bt.next_out),bt.next_out+=It,St.pending_out+=It,bt.total_out+=It,bt.avail_out-=It,St.pending-=It,St.pending===0&&(St.pending_out=0))}function dt(bt,St){_e._tr_flush_block(bt,bt.block_start>=0?bt.block_start:-1,bt.strstart-bt.block_start,St),bt.block_start=bt.strstart,ft(bt.strm)}function ut(bt,St){bt.pending_buf[bt.pending++]=St}function mt(bt,St){bt.pending_buf[bt.pending++]=St>>>8&255,bt.pending_buf[bt.pending++]=255&St}function wt(bt,St){var It,Bt,Lt=bt.max_chain_length,Xt=bt.strstart,zt=bt.prev_length,Pt=bt.nice_match,jt=bt.strstart>bt.w_size-262?bt.strstart-(bt.w_size-262):0,Zt=bt.window,Ct=bt.w_mask,Ft=bt.prev,Ht=bt.strstart+258,tn=Zt[Xt+zt-1],mn=Zt[Xt+zt];bt.prev_length>=bt.good_match&&(Lt>>=2),Pt>bt.lookahead&&(Pt=bt.lookahead);do if(Zt[(It=St)+zt]===mn&&Zt[It+zt-1]===tn&&Zt[It]===Zt[Xt]&&Zt[++It]===Zt[Xt+1]){Xt+=2,It++;do;while(Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Zt[++Xt]===Zt[++It]&&Xt<Ht);if(Bt=258-(Ht-Xt),Xt=Ht-258,Bt>zt){if(bt.match_start=St,zt=Bt,Bt>=Pt)break;tn=Zt[Xt+zt-1],mn=Zt[Xt+zt]}}while((St=Ft[St&Ct])>jt&&--Lt!=0);return zt<=bt.lookahead?zt:bt.lookahead}function Qt(bt){var St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft=bt.w_size;do{if(Lt=bt.window_size-bt.lookahead-bt.strstart,bt.strstart>=Ft+(Ft-262)){$.arraySet(bt.window,bt.window,Ft,Ft,0),bt.match_start-=Ft,bt.strstart-=Ft,bt.block_start-=Ft,St=It=bt.hash_size;do Bt=bt.head[--St],bt.head[St]=Bt>=Ft?Bt-Ft:0;while(--It);St=It=Ft;do Bt=bt.prev[--St],bt.prev[St]=Bt>=Ft?Bt-Ft:0;while(--It);Lt+=Ft}if(bt.strm.avail_in===0)break;if(zt=bt.strm,Pt=bt.window,jt=bt.strstart+bt.lookahead,Zt=Lt,Ct=void 0,(Ct=zt.avail_in)>Zt&&(Ct=Zt),It=Ct===0?0:(zt.avail_in-=Ct,$.arraySet(Pt,zt.input,zt.next_in,Ct,jt),zt.state.wrap===1?zt.adler=tt(zt.adler,Pt,Ct,jt):zt.state.wrap===2&&(zt.adler=j(zt.adler,Pt,Ct,jt)),zt.next_in+=Ct,zt.total_in+=Ct,Ct),bt.lookahead+=It,bt.lookahead+bt.insert>=3)for(Xt=bt.strstart-bt.insert,bt.ins_h=bt.window[Xt],bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[Xt+1])&bt.hash_mask;bt.insert&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[Xt+3-1])&bt.hash_mask,bt.prev[Xt&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=Xt,Xt++,bt.insert--,!(bt.lookahead+bt.insert<3)););}while(bt.lookahead<262&&bt.strm.avail_in!==0)}function Dt(bt,St){for(var It,Bt;;){if(bt.lookahead<262){if(Qt(bt),bt.lookahead<262&&St===0)return 1;if(bt.lookahead===0)break}if(It=0,bt.lookahead>=3&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart),It!==0&&bt.strstart-It<=bt.w_size-262&&(bt.match_length=wt(bt,It)),bt.match_length>=3)if(Bt=_e._tr_tally(bt,bt.strstart-bt.match_start,bt.match_length-3),bt.lookahead-=bt.match_length,bt.match_length<=bt.max_lazy_match&&bt.lookahead>=3){bt.match_length--;do bt.strstart++,bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart;while(--bt.match_length!=0);bt.strstart++}else bt.strstart+=bt.match_length,bt.match_length=0,bt.ins_h=bt.window[bt.strstart],bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+1])&bt.hash_mask;else Bt=_e._tr_tally(bt,0,bt.window[bt.strstart]),bt.lookahead--,bt.strstart++;if(Bt&&(dt(bt,!1),bt.strm.avail_out===0))return 1}return bt.insert=bt.strstart<2?bt.strstart:2,St===4?(dt(bt,!0),bt.strm.avail_out===0?3:4):bt.last_lit&&(dt(bt,!1),bt.strm.avail_out===0)?1:2}function Et(bt,St){for(var It,Bt,Lt;;){if(bt.lookahead<262){if(Qt(bt),bt.lookahead<262&&St===0)return 1;if(bt.lookahead===0)break}if(It=0,bt.lookahead>=3&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart),bt.prev_length=bt.match_length,bt.prev_match=bt.match_start,bt.match_length=2,It!==0&&bt.prev_length<bt.max_lazy_match&&bt.strstart-It<=bt.w_size-262&&(bt.match_length=wt(bt,It),bt.match_length<=5&&(bt.strategy===1||bt.match_length===3&&bt.strstart-bt.match_start>4096)&&(bt.match_length=2)),bt.prev_length>=3&&bt.match_length<=bt.prev_length){Lt=bt.strstart+bt.lookahead-3,Bt=_e._tr_tally(bt,bt.strstart-1-bt.prev_match,bt.prev_length-3),bt.lookahead-=bt.prev_length-1,bt.prev_length-=2;do++bt.strstart<=Lt&&(bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[bt.strstart+3-1])&bt.hash_mask,It=bt.prev[bt.strstart&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=bt.strstart);while(--bt.prev_length!=0);if(bt.match_available=0,bt.match_length=2,bt.strstart++,Bt&&(dt(bt,!1),bt.strm.avail_out===0))return 1}else if(bt.match_available){if((Bt=_e._tr_tally(bt,0,bt.window[bt.strstart-1]))&&dt(bt,!1),bt.strstart++,bt.lookahead--,bt.strm.avail_out===0)return 1}else bt.match_available=1,bt.strstart++,bt.lookahead--}return bt.match_available&&(Bt=_e._tr_tally(bt,0,bt.window[bt.strstart-1]),bt.match_available=0),bt.insert=bt.strstart<2?bt.strstart:2,St===4?(dt(bt,!0),bt.strm.avail_out===0?3:4):bt.last_lit&&(dt(bt,!1),bt.strm.avail_out===0)?1:2}function xt(bt,St,It,Bt,Lt){this.good_length=bt,this.max_lazy=St,this.nice_length=It,this.max_chain=Bt,this.func=Lt}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(1146),this.dyn_dtree=new $.Buf16(122),this.bl_tree=new $.Buf16(78),_t(this.dyn_ltree),_t(this.dyn_dtree),_t(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(16),this.heap=new $.Buf16(573),_t(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(573),_t(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Vt(bt){var St;return bt&&bt.state?(bt.total_in=bt.total_out=0,bt.data_type=2,(St=bt.state).pending=0,St.pending_out=0,St.wrap<0&&(St.wrap=-St.wrap),St.status=St.wrap?42:113,bt.adler=St.wrap===2?0:1,St.last_flush=0,_e._tr_init(St),0):st(bt,-2)}function nn(bt){var St,It=Vt(bt);return It===0&&((St=bt.state).window_size=2*St.w_size,_t(St.head),St.max_lazy_match=_[St.level].max_lazy,St.good_match=_[St.level].good_length,St.nice_match=_[St.level].nice_length,St.max_chain_length=_[St.level].max_chain,St.strstart=0,St.block_start=0,St.lookahead=0,St.insert=0,St.match_length=St.prev_length=2,St.match_available=0,St.ins_h=0),It}function on(bt,St,It,Bt,Lt,Xt){if(!bt)return-2;var zt=1;if(St===-1&&(St=6),Bt<0?(zt=0,Bt=-Bt):Bt>15&&(zt=2,Bt-=16),Lt<1||Lt>9||It!==8||Bt<8||Bt>15||St<0||St>9||Xt<0||Xt>4)return st(bt,-2);Bt===8&&(Bt=9);var Pt=new pt;return bt.state=Pt,Pt.strm=bt,Pt.wrap=zt,Pt.gzhead=null,Pt.w_bits=Bt,Pt.w_size=1<<Pt.w_bits,Pt.w_mask=Pt.w_size-1,Pt.hash_bits=Lt+7,Pt.hash_size=1<<Pt.hash_bits,Pt.hash_mask=Pt.hash_size-1,Pt.hash_shift=~~((Pt.hash_bits+3-1)/3),Pt.window=new $.Buf8(2*Pt.w_size),Pt.head=new $.Buf16(Pt.hash_size),Pt.prev=new $.Buf16(Pt.w_size),Pt.lit_bufsize=1<<Lt+6,Pt.pending_buf_size=4*Pt.lit_bufsize,Pt.pending_buf=new $.Buf8(Pt.pending_buf_size),Pt.d_buf=1*Pt.lit_bufsize,Pt.l_buf=3*Pt.lit_bufsize,Pt.level=St,Pt.strategy=Xt,Pt.method=It,nn(bt)}_=[new xt(0,0,0,0,function(bt,St){var It=65535;for(It>bt.pending_buf_size-5&&(It=bt.pending_buf_size-5);;){if(bt.lookahead<=1){if(Qt(bt),bt.lookahead===0&&St===0)return 1;if(bt.lookahead===0)break}bt.strstart+=bt.lookahead,bt.lookahead=0;var Bt=bt.block_start+It;if((bt.strstart===0||bt.strstart>=Bt)&&(bt.lookahead=bt.strstart-Bt,bt.strstart=Bt,dt(bt,!1),bt.strm.avail_out===0)||bt.strstart-bt.block_start>=bt.w_size-262&&(dt(bt,!1),bt.strm.avail_out===0))return 1}return bt.insert=0,St===4?(dt(bt,!0),bt.strm.avail_out===0?3:4):(bt.strstart>bt.block_start&&(dt(bt,!1),bt.strm.avail_out),1)}),new xt(4,4,8,4,Dt),new xt(4,5,16,8,Dt),new xt(4,6,32,32,Dt),new xt(4,4,16,16,Et),new xt(8,16,32,32,Et),new xt(8,16,128,128,Et),new xt(8,32,128,256,Et),new xt(32,128,258,1024,Et),new xt(32,258,258,4096,Et)],o.deflateInit=function(bt,St){return on(bt,St,8,15,8,0)},o.deflateInit2=on,o.deflateReset=nn,o.deflateResetKeep=Vt,o.deflateSetHeader=function(bt,St){return bt&&bt.state?bt.state.wrap!==2?-2:(bt.state.gzhead=St,0):-2},o.deflate=function(bt,St){var It,Bt,Lt,Xt;if(!bt||!bt.state||St>5||St<0)return bt?st(bt,-2):-2;if(Bt=bt.state,!bt.output||!bt.input&&bt.avail_in!==0||Bt.status===666&&St!==4)return st(bt,bt.avail_out===0?-5:-2);if(Bt.strm=bt,It=Bt.last_flush,Bt.last_flush=St,Bt.status===42)if(Bt.wrap===2)bt.adler=0,ut(Bt,31),ut(Bt,139),ut(Bt,8),Bt.gzhead?(ut(Bt,(Bt.gzhead.text?1:0)+(Bt.gzhead.hcrc?2:0)+(Bt.gzhead.extra?4:0)+(Bt.gzhead.name?8:0)+(Bt.gzhead.comment?16:0)),ut(Bt,255&Bt.gzhead.time),ut(Bt,Bt.gzhead.time>>8&255),ut(Bt,Bt.gzhead.time>>16&255),ut(Bt,Bt.gzhead.time>>24&255),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,255&Bt.gzhead.os),Bt.gzhead.extra&&Bt.gzhead.extra.length&&(ut(Bt,255&Bt.gzhead.extra.length),ut(Bt,Bt.gzhead.extra.length>>8&255)),Bt.gzhead.hcrc&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending,0)),Bt.gzindex=0,Bt.status=69):(ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,0),ut(Bt,Bt.level===9?2:Bt.strategy>=2||Bt.level<2?4:0),ut(Bt,3),Bt.status=113);else{var zt=8+(Bt.w_bits-8<<4)<<8;zt|=(Bt.strategy>=2||Bt.level<2?0:Bt.level<6?1:Bt.level===6?2:3)<<6,Bt.strstart!==0&&(zt|=32),zt+=31-zt%31,Bt.status=113,mt(Bt,zt),Bt.strstart!==0&&(mt(Bt,bt.adler>>>16),mt(Bt,65535&bt.adler)),bt.adler=1}if(Bt.status===69)if(Bt.gzhead.extra){for(Lt=Bt.pending;Bt.gzindex<(65535&Bt.gzhead.extra.length)&&(Bt.pending!==Bt.pending_buf_size||(Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),ft(bt),Lt=Bt.pending,Bt.pending!==Bt.pending_buf_size));)ut(Bt,255&Bt.gzhead.extra[Bt.gzindex]),Bt.gzindex++;Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),Bt.gzindex===Bt.gzhead.extra.length&&(Bt.gzindex=0,Bt.status=73)}else Bt.status=73;if(Bt.status===73)if(Bt.gzhead.name){Lt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),ft(bt),Lt=Bt.pending,Bt.pending===Bt.pending_buf_size)){Xt=1;break}Xt=Bt.gzindex<Bt.gzhead.name.length?255&Bt.gzhead.name.charCodeAt(Bt.gzindex++):0,ut(Bt,Xt)}while(Xt!==0);Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),Xt===0&&(Bt.gzindex=0,Bt.status=91)}else Bt.status=91;if(Bt.status===91)if(Bt.gzhead.comment){Lt=Bt.pending;do{if(Bt.pending===Bt.pending_buf_size&&(Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),ft(bt),Lt=Bt.pending,Bt.pending===Bt.pending_buf_size)){Xt=1;break}Xt=Bt.gzindex<Bt.gzhead.comment.length?255&Bt.gzhead.comment.charCodeAt(Bt.gzindex++):0,ut(Bt,Xt)}while(Xt!==0);Bt.gzhead.hcrc&&Bt.pending>Lt&&(bt.adler=j(bt.adler,Bt.pending_buf,Bt.pending-Lt,Lt)),Xt===0&&(Bt.status=103)}else Bt.status=103;if(Bt.status===103&&(Bt.gzhead.hcrc?(Bt.pending+2>Bt.pending_buf_size&&ft(bt),Bt.pending+2<=Bt.pending_buf_size&&(ut(Bt,255&bt.adler),ut(Bt,bt.adler>>8&255),bt.adler=0,Bt.status=113)):Bt.status=113),Bt.pending!==0){if(ft(bt),bt.avail_out===0)return Bt.last_flush=-1,0}else if(bt.avail_in===0&&ht(St)<=ht(It)&&St!==4)return st(bt,-5);if(Bt.status===666&&bt.avail_in!==0)return st(bt,-5);if(bt.avail_in!==0||Bt.lookahead!==0||St!==0&&Bt.status!==666){var Pt=Bt.strategy===2?function(jt,Zt){for(var Ct;;){if(jt.lookahead===0&&(Qt(jt),jt.lookahead===0)){if(Zt===0)return 1;break}if(jt.match_length=0,Ct=_e._tr_tally(jt,0,jt.window[jt.strstart]),jt.lookahead--,jt.strstart++,Ct&&(dt(jt,!1),jt.strm.avail_out===0))return 1}return jt.insert=0,Zt===4?(dt(jt,!0),jt.strm.avail_out===0?3:4):jt.last_lit&&(dt(jt,!1),jt.strm.avail_out===0)?1:2}(Bt,St):Bt.strategy===3?function(jt,Zt){for(var Ct,Ft,Ht,tn,mn=jt.window;;){if(jt.lookahead<=258){if(Qt(jt),jt.lookahead<=258&&Zt===0)return 1;if(jt.lookahead===0)break}if(jt.match_length=0,jt.lookahead>=3&&jt.strstart>0&&(Ft=mn[Ht=jt.strstart-1])===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]){tn=jt.strstart+258;do;while(Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ft===mn[++Ht]&&Ht<tn);jt.match_length=258-(tn-Ht),jt.match_length>jt.lookahead&&(jt.match_length=jt.lookahead)}if(jt.match_length>=3?(Ct=_e._tr_tally(jt,1,jt.match_length-3),jt.lookahead-=jt.match_length,jt.strstart+=jt.match_length,jt.match_length=0):(Ct=_e._tr_tally(jt,0,jt.window[jt.strstart]),jt.lookahead--,jt.strstart++),Ct&&(dt(jt,!1),jt.strm.avail_out===0))return 1}return jt.insert=0,Zt===4?(dt(jt,!0),jt.strm.avail_out===0?3:4):jt.last_lit&&(dt(jt,!1),jt.strm.avail_out===0)?1:2}(Bt,St):_[Bt.level].func(Bt,St);if(Pt!==3&&Pt!==4||(Bt.status=666),Pt===1||Pt===3)return bt.avail_out===0&&(Bt.last_flush=-1),0;if(Pt===2&&(St===1?_e._tr_align(Bt):St!==5&&(_e._tr_stored_block(Bt,0,0,!1),St===3&&(_t(Bt.head),Bt.lookahead===0&&(Bt.strstart=0,Bt.block_start=0,Bt.insert=0))),ft(bt),bt.avail_out===0))return Bt.last_flush=-1,0}return St!==4?0:Bt.wrap<=0?1:(Bt.wrap===2?(ut(Bt,255&bt.adler),ut(Bt,bt.adler>>8&255),ut(Bt,bt.adler>>16&255),ut(Bt,bt.adler>>24&255),ut(Bt,255&bt.total_in),ut(Bt,bt.total_in>>8&255),ut(Bt,bt.total_in>>16&255),ut(Bt,bt.total_in>>24&255)):(mt(Bt,bt.adler>>>16),mt(Bt,65535&bt.adler)),ft(bt),Bt.wrap>0&&(Bt.wrap=-Bt.wrap),Bt.pending!==0?0:1)},o.deflateEnd=function(bt){var St;return bt&&bt.state?(St=bt.state.status)!==42&&St!==69&&St!==73&&St!==91&&St!==103&&St!==113&&St!==666?st(bt,-2):(bt.state=null,St===113?st(bt,-3):0):-2},o.deflateSetDictionary=function(bt,St){var It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct=St.length;if(!bt||!bt.state||(Xt=(It=bt.state).wrap)===2||Xt===1&&It.status!==42||It.lookahead)return-2;for(Xt===1&&(bt.adler=tt(bt.adler,St,Ct,0)),It.wrap=0,Ct>=It.w_size&&(Xt===0&&(_t(It.head),It.strstart=0,It.block_start=0,It.insert=0),Zt=new $.Buf8(It.w_size),$.arraySet(Zt,St,Ct-It.w_size,It.w_size,0),St=Zt,Ct=It.w_size),zt=bt.avail_in,Pt=bt.next_in,jt=bt.input,bt.avail_in=Ct,bt.next_in=0,bt.input=St,Qt(It);It.lookahead>=3;){Bt=It.strstart,Lt=It.lookahead-2;do It.ins_h=(It.ins_h<<It.hash_shift^It.window[Bt+3-1])&It.hash_mask,It.prev[Bt&It.w_mask]=It.head[It.ins_h],It.head[It.ins_h]=Bt,Bt++;while(--Lt);It.strstart=Bt,It.lookahead=2,Qt(It)}return It.strstart+=It.lookahead,It.block_start=It.strstart,It.insert=It.lookahead,It.lookahead=0,It.match_length=It.prev_length=2,It.match_available=0,bt.next_in=Pt,bt.input=jt,bt.avail_in=zt,It.wrap=Xt,0},o.deflateInfo="pako deflate (from Nodeca project)"},function(i,o,s){var _=s(37);function $(Ft){for(var Ht=Ft.length;--Ht>=0;)Ft[Ht]=0}var _e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],st=new Array(576);$(st);var ht=new Array(60);$(ht);var _t=new Array(512);$(_t);var ft=new Array(256);$(ft);var dt=new Array(29);$(dt);var ut,mt,wt,Qt=new Array(30);function Dt(Ft,Ht,tn,mn,yn){this.static_tree=Ft,this.extra_bits=Ht,this.extra_base=tn,this.elems=mn,this.max_length=yn,this.has_stree=Ft&&Ft.length}function Et(Ft,Ht){this.dyn_tree=Ft,this.max_code=0,this.stat_desc=Ht}function xt(Ft){return Ft<256?_t[Ft]:_t[256+(Ft>>>7)]}function pt(Ft,Ht){Ft.pending_buf[Ft.pending++]=255&Ht,Ft.pending_buf[Ft.pending++]=Ht>>>8&255}function Vt(Ft,Ht,tn){Ft.bi_valid>16-tn?(Ft.bi_buf|=Ht<<Ft.bi_valid&65535,pt(Ft,Ft.bi_buf),Ft.bi_buf=Ht>>16-Ft.bi_valid,Ft.bi_valid+=tn-16):(Ft.bi_buf|=Ht<<Ft.bi_valid&65535,Ft.bi_valid+=tn)}function nn(Ft,Ht,tn){Vt(Ft,tn[2*Ht],tn[2*Ht+1])}function on(Ft,Ht){var tn=0;do tn|=1&Ft,Ft>>>=1,tn<<=1;while(--Ht>0);return tn>>>1}function bt(Ft,Ht,tn){var mn,yn,vn=new Array(16),un=0;for(mn=1;mn<=15;mn++)vn[mn]=un=un+tn[mn-1]<<1;for(yn=0;yn<=Ht;yn++){var rn=Ft[2*yn+1];rn!==0&&(Ft[2*yn]=on(vn[rn]++,rn))}}function St(Ft){var Ht;for(Ht=0;Ht<286;Ht++)Ft.dyn_ltree[2*Ht]=0;for(Ht=0;Ht<30;Ht++)Ft.dyn_dtree[2*Ht]=0;for(Ht=0;Ht<19;Ht++)Ft.bl_tree[2*Ht]=0;Ft.dyn_ltree[512]=1,Ft.opt_len=Ft.static_len=0,Ft.last_lit=Ft.matches=0}function It(Ft){Ft.bi_valid>8?pt(Ft,Ft.bi_buf):Ft.bi_valid>0&&(Ft.pending_buf[Ft.pending++]=Ft.bi_buf),Ft.bi_buf=0,Ft.bi_valid=0}function Bt(Ft,Ht,tn,mn){var yn=2*Ht,vn=2*tn;return Ft[yn]<Ft[vn]||Ft[yn]===Ft[vn]&&mn[Ht]<=mn[tn]}function Lt(Ft,Ht,tn){for(var mn=Ft.heap[tn],yn=tn<<1;yn<=Ft.heap_len&&(yn<Ft.heap_len&&Bt(Ht,Ft.heap[yn+1],Ft.heap[yn],Ft.depth)&&yn++,!Bt(Ht,mn,Ft.heap[yn],Ft.depth));)Ft.heap[tn]=Ft.heap[yn],tn=yn,yn<<=1;Ft.heap[tn]=mn}function Xt(Ft,Ht,tn){var mn,yn,vn,un,rn=0;if(Ft.last_lit!==0)do mn=Ft.pending_buf[Ft.d_buf+2*rn]<<8|Ft.pending_buf[Ft.d_buf+2*rn+1],yn=Ft.pending_buf[Ft.l_buf+rn],rn++,mn===0?nn(Ft,yn,Ht):(nn(Ft,(vn=ft[yn])+256+1,Ht),(un=_e[vn])!==0&&Vt(Ft,yn-=dt[vn],un),nn(Ft,vn=xt(--mn),tn),(un=tt[vn])!==0&&Vt(Ft,mn-=Qt[vn],un));while(rn<Ft.last_lit);nn(Ft,256,Ht)}function zt(Ft,Ht){var tn,mn,yn,vn=Ht.dyn_tree,un=Ht.stat_desc.static_tree,rn=Ht.stat_desc.has_stree,At=Ht.stat_desc.elems,Mt=-1;for(Ft.heap_len=0,Ft.heap_max=573,tn=0;tn<At;tn++)vn[2*tn]!==0?(Ft.heap[++Ft.heap_len]=Mt=tn,Ft.depth[tn]=0):vn[2*tn+1]=0;for(;Ft.heap_len<2;)vn[2*(yn=Ft.heap[++Ft.heap_len]=Mt<2?++Mt:0)]=1,Ft.depth[yn]=0,Ft.opt_len--,rn&&(Ft.static_len-=un[2*yn+1]);for(Ht.max_code=Mt,tn=Ft.heap_len>>1;tn>=1;tn--)Lt(Ft,vn,tn);yn=At;do tn=Ft.heap[1],Ft.heap[1]=Ft.heap[Ft.heap_len--],Lt(Ft,vn,1),mn=Ft.heap[1],Ft.heap[--Ft.heap_max]=tn,Ft.heap[--Ft.heap_max]=mn,vn[2*yn]=vn[2*tn]+vn[2*mn],Ft.depth[yn]=(Ft.depth[tn]>=Ft.depth[mn]?Ft.depth[tn]:Ft.depth[mn])+1,vn[2*tn+1]=vn[2*mn+1]=yn,Ft.heap[1]=yn++,Lt(Ft,vn,1);while(Ft.heap_len>=2);Ft.heap[--Ft.heap_max]=Ft.heap[1],function($t,pn){var hn,Sn,An,Gn,Qr,_i,Pr=pn.dyn_tree,po=pn.max_code,jr=pn.stat_desc.static_tree,Yr=pn.stat_desc.has_stree,no=pn.stat_desc.extra_bits,Qo=pn.stat_desc.extra_base,Co=pn.stat_desc.max_length,Jo=0;for(Gn=0;Gn<=15;Gn++)$t.bl_count[Gn]=0;for(Pr[2*$t.heap[$t.heap_max]+1]=0,hn=$t.heap_max+1;hn<573;hn++)(Gn=Pr[2*Pr[2*(Sn=$t.heap[hn])+1]+1]+1)>Co&&(Gn=Co,Jo++),Pr[2*Sn+1]=Gn,Sn>po||($t.bl_count[Gn]++,Qr=0,Sn>=Qo&&(Qr=no[Sn-Qo]),_i=Pr[2*Sn],$t.opt_len+=_i*(Gn+Qr),Yr&&($t.static_len+=_i*(jr[2*Sn+1]+Qr)));if(Jo!==0){do{for(Gn=Co-1;$t.bl_count[Gn]===0;)Gn--;$t.bl_count[Gn]--,$t.bl_count[Gn+1]+=2,$t.bl_count[Co]--,Jo-=2}while(Jo>0);for(Gn=Co;Gn!==0;Gn--)for(Sn=$t.bl_count[Gn];Sn!==0;)(An=$t.heap[--hn])>po||(Pr[2*An+1]!==Gn&&($t.opt_len+=(Gn-Pr[2*An+1])*Pr[2*An],Pr[2*An+1]=Gn),Sn--)}}(Ft,Ht),bt(vn,Mt,Ft.bl_count)}function Pt(Ft,Ht,tn){var mn,yn,vn=-1,un=Ht[1],rn=0,At=7,Mt=4;for(un===0&&(At=138,Mt=3),Ht[2*(tn+1)+1]=65535,mn=0;mn<=tn;mn++)yn=un,un=Ht[2*(mn+1)+1],++rn<At&&yn===un||(rn<Mt?Ft.bl_tree[2*yn]+=rn:yn!==0?(yn!==vn&&Ft.bl_tree[2*yn]++,Ft.bl_tree[32]++):rn<=10?Ft.bl_tree[34]++:Ft.bl_tree[36]++,rn=0,vn=yn,un===0?(At=138,Mt=3):yn===un?(At=6,Mt=3):(At=7,Mt=4))}function jt(Ft,Ht,tn){var mn,yn,vn=-1,un=Ht[1],rn=0,At=7,Mt=4;for(un===0&&(At=138,Mt=3),mn=0;mn<=tn;mn++)if(yn=un,un=Ht[2*(mn+1)+1],!(++rn<At&&yn===un)){if(rn<Mt)do nn(Ft,yn,Ft.bl_tree);while(--rn!=0);else yn!==0?(yn!==vn&&(nn(Ft,yn,Ft.bl_tree),rn--),nn(Ft,16,Ft.bl_tree),Vt(Ft,rn-3,2)):rn<=10?(nn(Ft,17,Ft.bl_tree),Vt(Ft,rn-3,3)):(nn(Ft,18,Ft.bl_tree),Vt(Ft,rn-11,7));rn=0,vn=yn,un===0?(At=138,Mt=3):yn===un?(At=6,Mt=3):(At=7,Mt=4)}}$(Qt);var Zt=!1;function Ct(Ft,Ht,tn,mn){Vt(Ft,0+(mn?1:0),3),function(yn,vn,un,rn){It(yn),rn&&(pt(yn,un),pt(yn,~un)),_.arraySet(yn.pending_buf,yn.window,vn,un,yn.pending),yn.pending+=un}(Ft,Ht,tn,!0)}o._tr_init=function(Ft){Zt||(function(){var Ht,tn,mn,yn,vn,un=new Array(16);for(mn=0,yn=0;yn<28;yn++)for(dt[yn]=mn,Ht=0;Ht<1<<_e[yn];Ht++)ft[mn++]=yn;for(ft[mn-1]=yn,vn=0,yn=0;yn<16;yn++)for(Qt[yn]=vn,Ht=0;Ht<1<<tt[yn];Ht++)_t[vn++]=yn;for(vn>>=7;yn<30;yn++)for(Qt[yn]=vn<<7,Ht=0;Ht<1<<tt[yn]-7;Ht++)_t[256+vn++]=yn;for(tn=0;tn<=15;tn++)un[tn]=0;for(Ht=0;Ht<=143;)st[2*Ht+1]=8,Ht++,un[8]++;for(;Ht<=255;)st[2*Ht+1]=9,Ht++,un[9]++;for(;Ht<=279;)st[2*Ht+1]=7,Ht++,un[7]++;for(;Ht<=287;)st[2*Ht+1]=8,Ht++,un[8]++;for(bt(st,287,un),Ht=0;Ht<30;Ht++)ht[2*Ht+1]=5,ht[2*Ht]=on(Ht,5);ut=new Dt(st,_e,257,286,15),mt=new Dt(ht,tt,0,30,15),wt=new Dt(new Array(0),j,0,19,7)}(),Zt=!0),Ft.l_desc=new Et(Ft.dyn_ltree,ut),Ft.d_desc=new Et(Ft.dyn_dtree,mt),Ft.bl_desc=new Et(Ft.bl_tree,wt),Ft.bi_buf=0,Ft.bi_valid=0,St(Ft)},o._tr_stored_block=Ct,o._tr_flush_block=function(Ft,Ht,tn,mn){var yn,vn,un=0;Ft.level>0?(Ft.strm.data_type===2&&(Ft.strm.data_type=function(rn){var At,Mt=4093624447;for(At=0;At<=31;At++,Mt>>>=1)if(1&Mt&&rn.dyn_ltree[2*At]!==0)return 0;if(rn.dyn_ltree[18]!==0||rn.dyn_ltree[20]!==0||rn.dyn_ltree[26]!==0)return 1;for(At=32;At<256;At++)if(rn.dyn_ltree[2*At]!==0)return 1;return 0}(Ft)),zt(Ft,Ft.l_desc),zt(Ft,Ft.d_desc),un=function(rn){var At;for(Pt(rn,rn.dyn_ltree,rn.l_desc.max_code),Pt(rn,rn.dyn_dtree,rn.d_desc.max_code),zt(rn,rn.bl_desc),At=18;At>=3&&rn.bl_tree[2*nt[At]+1]===0;At--);return rn.opt_len+=3*(At+1)+5+5+4,At}(Ft),yn=Ft.opt_len+3+7>>>3,(vn=Ft.static_len+3+7>>>3)<=yn&&(yn=vn)):yn=vn=tn+5,tn+4<=yn&&Ht!==-1?Ct(Ft,Ht,tn,mn):Ft.strategy===4||vn===yn?(Vt(Ft,2+(mn?1:0),3),Xt(Ft,st,ht)):(Vt(Ft,4+(mn?1:0),3),function(rn,At,Mt,$t){var pn;for(Vt(rn,At-257,5),Vt(rn,Mt-1,5),Vt(rn,$t-4,4),pn=0;pn<$t;pn++)Vt(rn,rn.bl_tree[2*nt[pn]+1],3);jt(rn,rn.dyn_ltree,At-1),jt(rn,rn.dyn_dtree,Mt-1)}(Ft,Ft.l_desc.max_code+1,Ft.d_desc.max_code+1,un+1),Xt(Ft,Ft.dyn_ltree,Ft.dyn_dtree)),St(Ft),mn&&It(Ft)},o._tr_tally=function(Ft,Ht,tn){return Ft.pending_buf[Ft.d_buf+2*Ft.last_lit]=Ht>>>8&255,Ft.pending_buf[Ft.d_buf+2*Ft.last_lit+1]=255&Ht,Ft.pending_buf[Ft.l_buf+Ft.last_lit]=255&tn,Ft.last_lit++,Ht===0?Ft.dyn_ltree[2*tn]++:(Ft.matches++,Ht--,Ft.dyn_ltree[2*(ft[tn]+256+1)]++,Ft.dyn_dtree[2*xt(Ht)]++),Ft.last_lit===Ft.lit_bufsize-1},o._tr_align=function(Ft){Vt(Ft,2,3),nn(Ft,256,st),function(Ht){Ht.bi_valid===16?(pt(Ht,Ht.bi_buf),Ht.bi_buf=0,Ht.bi_valid=0):Ht.bi_valid>=8&&(Ht.pending_buf[Ht.pending++]=255&Ht.bi_buf,Ht.bi_buf>>=8,Ht.bi_valid-=8)}(Ft)}},function(i,o,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(i,o,s){var _=s(37),$=s(75),_e=s(76),tt=s(176),j=s(177);function nt(Et){return(Et>>>24&255)+(Et>>>8&65280)+((65280&Et)<<8)+((255&Et)<<24)}function st(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ht(Et){var xt;return Et&&Et.state?(xt=Et.state,Et.total_in=Et.total_out=xt.total=0,Et.msg="",xt.wrap&&(Et.adler=1&xt.wrap),xt.mode=1,xt.last=0,xt.havedict=0,xt.dmax=32768,xt.head=null,xt.hold=0,xt.bits=0,xt.lencode=xt.lendyn=new _.Buf32(852),xt.distcode=xt.distdyn=new _.Buf32(592),xt.sane=1,xt.back=-1,0):-2}function _t(Et){var xt;return Et&&Et.state?((xt=Et.state).wsize=0,xt.whave=0,xt.wnext=0,ht(Et)):-2}function ft(Et,xt){var pt,Vt;return Et&&Et.state?(Vt=Et.state,xt<0?(pt=0,xt=-xt):(pt=1+(xt>>4),xt<48&&(xt&=15)),xt&&(xt<8||xt>15)?-2:(Vt.window!==null&&Vt.wbits!==xt&&(Vt.window=null),Vt.wrap=pt,Vt.wbits=xt,_t(Et))):-2}function dt(Et,xt){var pt,Vt;return Et?(Vt=new st,Et.state=Vt,Vt.window=null,(pt=ft(Et,xt))!==0&&(Et.state=null),pt):-2}var ut,mt,wt=!0;function Qt(Et){if(wt){var xt;for(ut=new _.Buf32(512),mt=new _.Buf32(32),xt=0;xt<144;)Et.lens[xt++]=8;for(;xt<256;)Et.lens[xt++]=9;for(;xt<280;)Et.lens[xt++]=7;for(;xt<288;)Et.lens[xt++]=8;for(j(1,Et.lens,0,288,ut,0,Et.work,{bits:9}),xt=0;xt<32;)Et.lens[xt++]=5;j(2,Et.lens,0,32,mt,0,Et.work,{bits:5}),wt=!1}Et.lencode=ut,Et.lenbits=9,Et.distcode=mt,Et.distbits=5}function Dt(Et,xt,pt,Vt){var nn,on=Et.state;return on.window===null&&(on.wsize=1<<on.wbits,on.wnext=0,on.whave=0,on.window=new _.Buf8(on.wsize)),Vt>=on.wsize?(_.arraySet(on.window,xt,pt-on.wsize,on.wsize,0),on.wnext=0,on.whave=on.wsize):((nn=on.wsize-on.wnext)>Vt&&(nn=Vt),_.arraySet(on.window,xt,pt-Vt,nn,on.wnext),(Vt-=nn)?(_.arraySet(on.window,xt,pt-Vt,Vt,0),on.wnext=Vt,on.whave=on.wsize):(on.wnext+=nn,on.wnext===on.wsize&&(on.wnext=0),on.whave<on.wsize&&(on.whave+=nn))),0}o.inflateReset=_t,o.inflateReset2=ft,o.inflateResetKeep=ht,o.inflateInit=function(Et){return dt(Et,15)},o.inflateInit2=dt,o.inflate=function(Et,xt){var pt,Vt,nn,on,bt,St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft,Ht,tn,mn,yn,vn,un,rn,At,Mt=0,$t=new _.Buf8(4),pn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Et||!Et.state||!Et.output||!Et.input&&Et.avail_in!==0)return-2;(pt=Et.state).mode===12&&(pt.mode=13),bt=Et.next_out,nn=Et.output,It=Et.avail_out,on=Et.next_in,Vt=Et.input,St=Et.avail_in,Bt=pt.hold,Lt=pt.bits,Xt=St,zt=It,un=0;e:for(;;)switch(pt.mode){case 1:if(pt.wrap===0){pt.mode=13;break}for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(2&pt.wrap&&Bt===35615){pt.check=0,$t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0),Bt=0,Lt=0,pt.mode=2;break}if(pt.flags=0,pt.head&&(pt.head.done=!1),!(1&pt.wrap)||(((255&Bt)<<8)+(Bt>>8))%31){Et.msg="incorrect header check",pt.mode=30;break}if((15&Bt)!=8){Et.msg="unknown compression method",pt.mode=30;break}if(Lt-=4,vn=8+(15&(Bt>>>=4)),pt.wbits===0)pt.wbits=vn;else if(vn>pt.wbits){Et.msg="invalid window size",pt.mode=30;break}pt.dmax=1<<vn,Et.adler=pt.check=1,pt.mode=512&Bt?10:12,Bt=0,Lt=0;break;case 2:for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(pt.flags=Bt,(255&pt.flags)!=8){Et.msg="unknown compression method",pt.mode=30;break}if(57344&pt.flags){Et.msg="unknown header flags set",pt.mode=30;break}pt.head&&(pt.head.text=Bt>>8&1),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0)),Bt=0,Lt=0,pt.mode=3;case 3:for(;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.head&&(pt.head.time=Bt),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,$t[2]=Bt>>>16&255,$t[3]=Bt>>>24&255,pt.check=_e(pt.check,$t,4,0)),Bt=0,Lt=0,pt.mode=4;case 4:for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.head&&(pt.head.xflags=255&Bt,pt.head.os=Bt>>8),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0)),Bt=0,Lt=0,pt.mode=5;case 5:if(1024&pt.flags){for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.length=Bt,pt.head&&(pt.head.extra_len=Bt),512&pt.flags&&($t[0]=255&Bt,$t[1]=Bt>>>8&255,pt.check=_e(pt.check,$t,2,0)),Bt=0,Lt=0}else pt.head&&(pt.head.extra=null);pt.mode=6;case 6:if(1024&pt.flags&&((Pt=pt.length)>St&&(Pt=St),Pt&&(pt.head&&(vn=pt.head.extra_len-pt.length,pt.head.extra||(pt.head.extra=new Array(pt.head.extra_len)),_.arraySet(pt.head.extra,Vt,on,Pt,vn)),512&pt.flags&&(pt.check=_e(pt.check,Vt,Pt,on)),St-=Pt,on+=Pt,pt.length-=Pt),pt.length))break e;pt.length=0,pt.mode=7;case 7:if(2048&pt.flags){if(St===0)break e;Pt=0;do vn=Vt[on+Pt++],pt.head&&vn&&pt.length<65536&&(pt.head.name+=String.fromCharCode(vn));while(vn&&Pt<St);if(512&pt.flags&&(pt.check=_e(pt.check,Vt,Pt,on)),St-=Pt,on+=Pt,vn)break e}else pt.head&&(pt.head.name=null);pt.length=0,pt.mode=8;case 8:if(4096&pt.flags){if(St===0)break e;Pt=0;do vn=Vt[on+Pt++],pt.head&&vn&&pt.length<65536&&(pt.head.comment+=String.fromCharCode(vn));while(vn&&Pt<St);if(512&pt.flags&&(pt.check=_e(pt.check,Vt,Pt,on)),St-=Pt,on+=Pt,vn)break e}else pt.head&&(pt.head.comment=null);pt.mode=9;case 9:if(512&pt.flags){for(;Lt<16;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Bt!==(65535&pt.check)){Et.msg="header crc mismatch",pt.mode=30;break}Bt=0,Lt=0}pt.head&&(pt.head.hcrc=pt.flags>>9&1,pt.head.done=!0),Et.adler=pt.check=0,pt.mode=12;break;case 10:for(;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Et.adler=pt.check=nt(Bt),Bt=0,Lt=0,pt.mode=11;case 11:if(pt.havedict===0)return Et.next_out=bt,Et.avail_out=It,Et.next_in=on,Et.avail_in=St,pt.hold=Bt,pt.bits=Lt,2;Et.adler=pt.check=1,pt.mode=12;case 12:if(xt===5||xt===6)break e;case 13:if(pt.last){Bt>>>=7&Lt,Lt-=7&Lt,pt.mode=27;break}for(;Lt<3;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}switch(pt.last=1&Bt,Lt-=1,3&(Bt>>>=1)){case 0:pt.mode=14;break;case 1:if(Qt(pt),pt.mode=20,xt===6){Bt>>>=2,Lt-=2;break e}break;case 2:pt.mode=17;break;case 3:Et.msg="invalid block type",pt.mode=30}Bt>>>=2,Lt-=2;break;case 14:for(Bt>>>=7&Lt,Lt-=7&Lt;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if((65535&Bt)!=(Bt>>>16^65535)){Et.msg="invalid stored block lengths",pt.mode=30;break}if(pt.length=65535&Bt,Bt=0,Lt=0,pt.mode=15,xt===6)break e;case 15:pt.mode=16;case 16:if(Pt=pt.length){if(Pt>St&&(Pt=St),Pt>It&&(Pt=It),Pt===0)break e;_.arraySet(nn,Vt,on,Pt,bt),St-=Pt,on+=Pt,It-=Pt,bt+=Pt,pt.length-=Pt;break}pt.mode=12;break;case 17:for(;Lt<14;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(pt.nlen=257+(31&Bt),Bt>>>=5,Lt-=5,pt.ndist=1+(31&Bt),Bt>>>=5,Lt-=5,pt.ncode=4+(15&Bt),Bt>>>=4,Lt-=4,pt.nlen>286||pt.ndist>30){Et.msg="too many length or distance symbols",pt.mode=30;break}pt.have=0,pt.mode=18;case 18:for(;pt.have<pt.ncode;){for(;Lt<3;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.lens[pn[pt.have++]]=7&Bt,Bt>>>=3,Lt-=3}for(;pt.have<19;)pt.lens[pn[pt.have++]]=0;if(pt.lencode=pt.lendyn,pt.lenbits=7,rn={bits:pt.lenbits},un=j(0,pt.lens,0,19,pt.lencode,0,pt.work,rn),pt.lenbits=rn.bits,un){Et.msg="invalid code lengths set",pt.mode=30;break}pt.have=0,pt.mode=19;case 19:for(;pt.have<pt.nlen+pt.ndist;){for(;Ft=(Mt=pt.lencode[Bt&(1<<pt.lenbits)-1])>>>16&255,Ht=65535&Mt,!((Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Ht<16)Bt>>>=Ct,Lt-=Ct,pt.lens[pt.have++]=Ht;else{if(Ht===16){for(At=Ct+2;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Bt>>>=Ct,Lt-=Ct,pt.have===0){Et.msg="invalid bit length repeat",pt.mode=30;break}vn=pt.lens[pt.have-1],Pt=3+(3&Bt),Bt>>>=2,Lt-=2}else if(Ht===17){for(At=Ct+3;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Lt-=Ct,vn=0,Pt=3+(7&(Bt>>>=Ct)),Bt>>>=3,Lt-=3}else{for(At=Ct+7;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Lt-=Ct,vn=0,Pt=11+(127&(Bt>>>=Ct)),Bt>>>=7,Lt-=7}if(pt.have+Pt>pt.nlen+pt.ndist){Et.msg="invalid bit length repeat",pt.mode=30;break}for(;Pt--;)pt.lens[pt.have++]=vn}}if(pt.mode===30)break;if(pt.lens[256]===0){Et.msg="invalid code -- missing end-of-block",pt.mode=30;break}if(pt.lenbits=9,rn={bits:pt.lenbits},un=j(1,pt.lens,0,pt.nlen,pt.lencode,0,pt.work,rn),pt.lenbits=rn.bits,un){Et.msg="invalid literal/lengths set",pt.mode=30;break}if(pt.distbits=6,pt.distcode=pt.distdyn,rn={bits:pt.distbits},un=j(2,pt.lens,pt.nlen,pt.ndist,pt.distcode,0,pt.work,rn),pt.distbits=rn.bits,un){Et.msg="invalid distances set",pt.mode=30;break}if(pt.mode=20,xt===6)break e;case 20:pt.mode=21;case 21:if(St>=6&&It>=258){Et.next_out=bt,Et.avail_out=It,Et.next_in=on,Et.avail_in=St,pt.hold=Bt,pt.bits=Lt,tt(Et,zt),bt=Et.next_out,nn=Et.output,It=Et.avail_out,on=Et.next_in,Vt=Et.input,St=Et.avail_in,Bt=pt.hold,Lt=pt.bits,pt.mode===12&&(pt.back=-1);break}for(pt.back=0;Ft=(Mt=pt.lencode[Bt&(1<<pt.lenbits)-1])>>>16&255,Ht=65535&Mt,!((Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Ft&&!(240&Ft)){for(tn=Ct,mn=Ft,yn=Ht;Ft=(Mt=pt.lencode[yn+((Bt&(1<<tn+mn)-1)>>tn)])>>>16&255,Ht=65535&Mt,!(tn+(Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Bt>>>=tn,Lt-=tn,pt.back+=tn}if(Bt>>>=Ct,Lt-=Ct,pt.back+=Ct,pt.length=Ht,Ft===0){pt.mode=26;break}if(32&Ft){pt.back=-1,pt.mode=12;break}if(64&Ft){Et.msg="invalid literal/length code",pt.mode=30;break}pt.extra=15&Ft,pt.mode=22;case 22:if(pt.extra){for(At=pt.extra;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.length+=Bt&(1<<pt.extra)-1,Bt>>>=pt.extra,Lt-=pt.extra,pt.back+=pt.extra}pt.was=pt.length,pt.mode=23;case 23:for(;Ft=(Mt=pt.distcode[Bt&(1<<pt.distbits)-1])>>>16&255,Ht=65535&Mt,!((Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(!(240&Ft)){for(tn=Ct,mn=Ft,yn=Ht;Ft=(Mt=pt.distcode[yn+((Bt&(1<<tn+mn)-1)>>tn)])>>>16&255,Ht=65535&Mt,!(tn+(Ct=Mt>>>24)<=Lt);){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}Bt>>>=tn,Lt-=tn,pt.back+=tn}if(Bt>>>=Ct,Lt-=Ct,pt.back+=Ct,64&Ft){Et.msg="invalid distance code",pt.mode=30;break}pt.offset=Ht,pt.extra=15&Ft,pt.mode=24;case 24:if(pt.extra){for(At=pt.extra;Lt<At;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}pt.offset+=Bt&(1<<pt.extra)-1,Bt>>>=pt.extra,Lt-=pt.extra,pt.back+=pt.extra}if(pt.offset>pt.dmax){Et.msg="invalid distance too far back",pt.mode=30;break}pt.mode=25;case 25:if(It===0)break e;if(Pt=zt-It,pt.offset>Pt){if((Pt=pt.offset-Pt)>pt.whave&&pt.sane){Et.msg="invalid distance too far back",pt.mode=30;break}Pt>pt.wnext?(Pt-=pt.wnext,jt=pt.wsize-Pt):jt=pt.wnext-Pt,Pt>pt.length&&(Pt=pt.length),Zt=pt.window}else Zt=nn,jt=bt-pt.offset,Pt=pt.length;Pt>It&&(Pt=It),It-=Pt,pt.length-=Pt;do nn[bt++]=Zt[jt++];while(--Pt);pt.length===0&&(pt.mode=21);break;case 26:if(It===0)break e;nn[bt++]=pt.length,It--,pt.mode=21;break;case 27:if(pt.wrap){for(;Lt<32;){if(St===0)break e;St--,Bt|=Vt[on++]<<Lt,Lt+=8}if(zt-=It,Et.total_out+=zt,pt.total+=zt,zt&&(Et.adler=pt.check=pt.flags?_e(pt.check,nn,zt,bt-zt):$(pt.check,nn,zt,bt-zt)),zt=It,(pt.flags?Bt:nt(Bt))!==pt.check){Et.msg="incorrect data check",pt.mode=30;break}Bt=0,Lt=0}pt.mode=28;case 28:if(pt.wrap&&pt.flags){for(;Lt<32;){if(St===0)break e;St--,Bt+=Vt[on++]<<Lt,Lt+=8}if(Bt!==(4294967295&pt.total)){Et.msg="incorrect length check",pt.mode=30;break}Bt=0,Lt=0}pt.mode=29;case 29:un=1;break e;case 30:un=-3;break e;case 31:return-4;case 32:default:return-2}return Et.next_out=bt,Et.avail_out=It,Et.next_in=on,Et.avail_in=St,pt.hold=Bt,pt.bits=Lt,(pt.wsize||zt!==Et.avail_out&&pt.mode<30&&(pt.mode<27||xt!==4))&&Dt(Et,Et.output,Et.next_out,zt-Et.avail_out)?(pt.mode=31,-4):(Xt-=Et.avail_in,zt-=Et.avail_out,Et.total_in+=Xt,Et.total_out+=zt,pt.total+=zt,pt.wrap&&zt&&(Et.adler=pt.check=pt.flags?_e(pt.check,nn,zt,Et.next_out-zt):$(pt.check,nn,zt,Et.next_out-zt)),Et.data_type=pt.bits+(pt.last?64:0)+(pt.mode===12?128:0)+(pt.mode===20||pt.mode===15?256:0),(Xt===0&&zt===0||xt===4)&&un===0&&(un=-5),un)},o.inflateEnd=function(Et){if(!Et||!Et.state)return-2;var xt=Et.state;return xt.window&&(xt.window=null),Et.state=null,0},o.inflateGetHeader=function(Et,xt){var pt;return Et&&Et.state&&2&(pt=Et.state).wrap?(pt.head=xt,xt.done=!1,0):-2},o.inflateSetDictionary=function(Et,xt){var pt,Vt=xt.length;return Et&&Et.state?(pt=Et.state).wrap!==0&&pt.mode!==11?-2:pt.mode===11&&$(1,xt,Vt,0)!==pt.check?-3:Dt(Et,xt,Vt,Vt)?(pt.mode=31,-4):(pt.havedict=1,0):-2},o.inflateInfo="pako inflate (from Nodeca project)"},function(i,o,s){i.exports=function(_,$){var _e,tt,j,nt,st,ht,_t,ft,dt,ut,mt,wt,Qt,Dt,Et,xt,pt,Vt,nn,on,bt,St,It,Bt,Lt;_e=_.state,tt=_.next_in,Bt=_.input,j=tt+(_.avail_in-5),nt=_.next_out,Lt=_.output,st=nt-($-_.avail_out),ht=nt+(_.avail_out-257),_t=_e.dmax,ft=_e.wsize,dt=_e.whave,ut=_e.wnext,mt=_e.window,wt=_e.hold,Qt=_e.bits,Dt=_e.lencode,Et=_e.distcode,xt=(1<<_e.lenbits)-1,pt=(1<<_e.distbits)-1;e:do{Qt<15&&(wt+=Bt[tt++]<<Qt,Qt+=8,wt+=Bt[tt++]<<Qt,Qt+=8),Vt=Dt[wt&xt];t:for(;;){if(wt>>>=nn=Vt>>>24,Qt-=nn,(nn=Vt>>>16&255)===0)Lt[nt++]=65535&Vt;else{if(!(16&nn)){if(!(64&nn)){Vt=Dt[(65535&Vt)+(wt&(1<<nn)-1)];continue t}if(32&nn){_e.mode=12;break e}_.msg="invalid literal/length code",_e.mode=30;break e}on=65535&Vt,(nn&=15)&&(Qt<nn&&(wt+=Bt[tt++]<<Qt,Qt+=8),on+=wt&(1<<nn)-1,wt>>>=nn,Qt-=nn),Qt<15&&(wt+=Bt[tt++]<<Qt,Qt+=8,wt+=Bt[tt++]<<Qt,Qt+=8),Vt=Et[wt&pt];n:for(;;){if(wt>>>=nn=Vt>>>24,Qt-=nn,!(16&(nn=Vt>>>16&255))){if(!(64&nn)){Vt=Et[(65535&Vt)+(wt&(1<<nn)-1)];continue n}_.msg="invalid distance code",_e.mode=30;break e}if(bt=65535&Vt,Qt<(nn&=15)&&(wt+=Bt[tt++]<<Qt,(Qt+=8)<nn&&(wt+=Bt[tt++]<<Qt,Qt+=8)),(bt+=wt&(1<<nn)-1)>_t){_.msg="invalid distance too far back",_e.mode=30;break e}if(wt>>>=nn,Qt-=nn,bt>(nn=nt-st)){if((nn=bt-nn)>dt&&_e.sane){_.msg="invalid distance too far back",_e.mode=30;break e}if(St=0,It=mt,ut===0){if(St+=ft-nn,nn<on){on-=nn;do Lt[nt++]=mt[St++];while(--nn);St=nt-bt,It=Lt}}else if(ut<nn){if(St+=ft+ut-nn,(nn-=ut)<on){on-=nn;do Lt[nt++]=mt[St++];while(--nn);if(St=0,ut<on){on-=nn=ut;do Lt[nt++]=mt[St++];while(--nn);St=nt-bt,It=Lt}}}else if(St+=ut-nn,nn<on){on-=nn;do Lt[nt++]=mt[St++];while(--nn);St=nt-bt,It=Lt}for(;on>2;)Lt[nt++]=It[St++],Lt[nt++]=It[St++],Lt[nt++]=It[St++],on-=3;on&&(Lt[nt++]=It[St++],on>1&&(Lt[nt++]=It[St++]))}else{St=nt-bt;do Lt[nt++]=Lt[St++],Lt[nt++]=Lt[St++],Lt[nt++]=Lt[St++],on-=3;while(on>2);on&&(Lt[nt++]=Lt[St++],on>1&&(Lt[nt++]=Lt[St++]))}break}}break}}while(tt<j&&nt<ht);tt-=on=Qt>>3,wt&=(1<<(Qt-=on<<3))-1,_.next_in=tt,_.next_out=nt,_.avail_in=tt<j?j-tt+5:5-(tt-j),_.avail_out=nt<ht?ht-nt+257:257-(nt-ht),_e.hold=wt,_e.bits=Qt}},function(i,o,s){var _=s(37),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],tt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(nt,st,ht,_t,ft,dt,ut,mt){var wt,Qt,Dt,Et,xt,pt,Vt,nn,on,bt=mt.bits,St=0,It=0,Bt=0,Lt=0,Xt=0,zt=0,Pt=0,jt=0,Zt=0,Ct=0,Ft=null,Ht=0,tn=new _.Buf16(16),mn=new _.Buf16(16),yn=null,vn=0;for(St=0;St<=15;St++)tn[St]=0;for(It=0;It<_t;It++)tn[st[ht+It]]++;for(Xt=bt,Lt=15;Lt>=1&&tn[Lt]===0;Lt--);if(Xt>Lt&&(Xt=Lt),Lt===0)return ft[dt++]=20971520,ft[dt++]=20971520,mt.bits=1,0;for(Bt=1;Bt<Lt&&tn[Bt]===0;Bt++);for(Xt<Bt&&(Xt=Bt),jt=1,St=1;St<=15;St++)if(jt<<=1,(jt-=tn[St])<0)return-1;if(jt>0&&(nt===0||Lt!==1))return-1;for(mn[1]=0,St=1;St<15;St++)mn[St+1]=mn[St]+tn[St];for(It=0;It<_t;It++)st[ht+It]!==0&&(ut[mn[st[ht+It]]++]=It);if(nt===0?(Ft=yn=ut,pt=19):nt===1?(Ft=$,Ht-=257,yn=_e,vn-=257,pt=256):(Ft=tt,yn=j,pt=-1),Ct=0,It=0,St=Bt,xt=dt,zt=Xt,Pt=0,Dt=-1,Et=(Zt=1<<Xt)-1,nt===1&&Zt>852||nt===2&&Zt>592)return 1;for(;;){Vt=St-Pt,ut[It]<pt?(nn=0,on=ut[It]):ut[It]>pt?(nn=yn[vn+ut[It]],on=Ft[Ht+ut[It]]):(nn=96,on=0),wt=1<<St-Pt,Bt=Qt=1<<zt;do ft[xt+(Ct>>Pt)+(Qt-=wt)]=Vt<<24|nn<<16|on|0;while(Qt!==0);for(wt=1<<St-1;Ct&wt;)wt>>=1;if(wt!==0?(Ct&=wt-1,Ct+=wt):Ct=0,It++,--tn[St]==0){if(St===Lt)break;St=st[ht+ut[It]]}if(St>Xt&&(Ct&Et)!==Dt){for(Pt===0&&(Pt=Xt),xt+=Bt,jt=1<<(zt=St-Pt);zt+Pt<Lt&&!((jt-=tn[zt+Pt])<=0);)zt++,jt<<=1;if(Zt+=1<<zt,nt===1&&Zt>852||nt===2&&Zt>592)return 1;ft[Dt=Ct&Et]=Xt<<24|zt<<16|xt-dt|0}}return Ct!==0&&(ft[xt+Ct]=St-Pt<<24|64<<16|0),mt.bits=Xt,0}},function(i,o,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(i,o){},function(i,o,s){function _(st,ht){var _t=Object.keys(st);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(st);ht&&(ft=ft.filter(function(dt){return Object.getOwnPropertyDescriptor(st,dt).enumerable})),_t.push.apply(_t,ft)}return _t}function $(st,ht,_t){return ht in st?Object.defineProperty(st,ht,{value:_t,enumerable:!0,configurable:!0,writable:!0}):st[ht]=_t,st}function _e(st,ht){for(var _t=0;_t<ht.length;_t++){var ft=ht[_t];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(st,ft.key,ft)}}var tt=s(5).Buffer,j=s(181).inspect,nt=j&&j.custom||"inspect";i.exports=function(){function st(){(function(ft,dt){if(!(ft instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,st),this.head=null,this.tail=null,this.length=0}var ht,_t;return ht=st,(_t=[{key:"push",value:function(ft){var dt={data:ft,next:null};this.length>0?this.tail.next=dt:this.head=dt,this.tail=dt,++this.length}},{key:"unshift",value:function(ft){var dt={data:ft,next:this.head};this.length===0&&(this.tail=dt),this.head=dt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ft=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ft}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ft){if(this.length===0)return"";for(var dt=this.head,ut=""+dt.data;dt=dt.next;)ut+=ft+dt.data;return ut}},{key:"concat",value:function(ft){if(this.length===0)return tt.alloc(0);for(var dt,ut,mt,wt=tt.allocUnsafe(ft>>>0),Qt=this.head,Dt=0;Qt;)dt=Qt.data,ut=wt,mt=Dt,tt.prototype.copy.call(dt,ut,mt),Dt+=Qt.data.length,Qt=Qt.next;return wt}},{key:"consume",value:function(ft,dt){var ut;return ft<this.head.data.length?(ut=this.head.data.slice(0,ft),this.head.data=this.head.data.slice(ft)):ut=ft===this.head.data.length?this.shift():dt?this._getString(ft):this._getBuffer(ft),ut}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ft){var dt=this.head,ut=1,mt=dt.data;for(ft-=mt.length;dt=dt.next;){var wt=dt.data,Qt=ft>wt.length?wt.length:ft;if(Qt===wt.length?mt+=wt:mt+=wt.slice(0,ft),(ft-=Qt)==0){Qt===wt.length?(++ut,dt.next?this.head=dt.next:this.head=this.tail=null):(this.head=dt,dt.data=wt.slice(Qt));break}++ut}return this.length-=ut,mt}},{key:"_getBuffer",value:function(ft){var dt=tt.allocUnsafe(ft),ut=this.head,mt=1;for(ut.data.copy(dt),ft-=ut.data.length;ut=ut.next;){var wt=ut.data,Qt=ft>wt.length?wt.length:ft;if(wt.copy(dt,dt.length-ft,0,Qt),(ft-=Qt)==0){Qt===wt.length?(++mt,ut.next?this.head=ut.next:this.head=this.tail=null):(this.head=ut,ut.data=wt.slice(Qt));break}++mt}return this.length-=mt,dt}},{key:nt,value:function(ft,dt){return j(this,function(ut){for(var mt=1;mt<arguments.length;mt++){var wt=arguments[mt]!=null?arguments[mt]:{};mt%2?_(Object(wt),!0).forEach(function(Qt){$(ut,Qt,wt[Qt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(wt)):_(Object(wt)).forEach(function(Qt){Object.defineProperty(ut,Qt,Object.getOwnPropertyDescriptor(wt,Qt))})}return ut}({},dt,{depth:0,customInspect:!1}))}}])&&_e(ht.prototype,_t),st}()},function(i,o){},function(i,o,s){(function(_){var $;function _e(Et,xt,pt){return xt in Et?Object.defineProperty(Et,xt,{value:pt,enumerable:!0,configurable:!0,writable:!0}):Et[xt]=pt,Et}var tt=s(49),j=Symbol("lastResolve"),nt=Symbol("lastReject"),st=Symbol("error"),ht=Symbol("ended"),_t=Symbol("lastPromise"),ft=Symbol("handlePromise"),dt=Symbol("stream");function ut(Et,xt){return{value:Et,done:xt}}function mt(Et){var xt=Et[j];if(xt!==null){var pt=Et[dt].read();pt!==null&&(Et[_t]=null,Et[j]=null,Et[nt]=null,xt(ut(pt,!1)))}}function wt(Et){_.nextTick(mt,Et)}var Qt=Object.getPrototypeOf(function(){}),Dt=Object.setPrototypeOf((_e($={get stream(){return this[dt]},next:function(){var Et=this,xt=this[st];if(xt!==null)return Promise.reject(xt);if(this[ht])return Promise.resolve(ut(void 0,!0));if(this[dt].destroyed)return new Promise(function(on,bt){_.nextTick(function(){Et[st]?bt(Et[st]):on(ut(void 0,!0))})});var pt,Vt=this[_t];if(Vt)pt=new Promise(function(on,bt){return function(St,It){on.then(function(){bt[ht]?St(ut(void 0,!0)):bt[ft](St,It)},It)}}(Vt,this));else{var nn=this[dt].read();if(nn!==null)return Promise.resolve(ut(nn,!1));pt=new Promise(this[ft])}return this[_t]=pt,pt}},Symbol.asyncIterator,function(){return this}),_e($,"return",function(){var Et=this;return new Promise(function(xt,pt){Et[dt].destroy(null,function(Vt){Vt?pt(Vt):xt(ut(void 0,!0))})})}),$),Qt);i.exports=function(Et){var xt,pt=Object.create(Dt,(_e(xt={},dt,{value:Et,writable:!0}),_e(xt,j,{value:null,writable:!0}),_e(xt,nt,{value:null,writable:!0}),_e(xt,st,{value:null,writable:!0}),_e(xt,ht,{value:Et._readableState.endEmitted,writable:!0}),_e(xt,ft,{value:function(Vt,nn){var on=pt[dt].read();on?(pt[_t]=null,pt[j]=null,pt[nt]=null,Vt(ut(on,!1))):(pt[j]=Vt,pt[nt]=nn)},writable:!0}),xt));return pt[_t]=null,tt(Et,function(Vt){if(Vt&&Vt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var nn=pt[nt];return nn!==null&&(pt[_t]=null,pt[j]=null,pt[nt]=null,nn(Vt)),void(pt[st]=Vt)}var on=pt[j];on!==null&&(pt[_t]=null,pt[j]=null,pt[nt]=null,on(ut(void 0,!0))),pt[ht]=!0}),Et.on("readable",wt.bind(null,pt)),pt}}).call(this,s(2))},function(i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(i,o,s){i.exports=$;var _=s(82);function $(_e){if(!(this instanceof $))return new $(_e);_.call(this,_e)}s(7)($,_),$.prototype._transform=function(_e,tt,j){j(null,_e)}},function(i,o,s){var _,$=s(26).codes,_e=$.ERR_MISSING_ARGS,tt=$.ERR_STREAM_DESTROYED;function j(ft){if(ft)throw ft}function nt(ft,dt,ut,mt){mt=function(Dt){var Et=!1;return function(){Et||(Et=!0,Dt.apply(void 0,arguments))}}(mt);var wt=!1;ft.on("close",function(){wt=!0}),_===void 0&&(_=s(49)),_(ft,{readable:dt,writable:ut},function(Dt){if(Dt)return mt(Dt);wt=!0,mt()});var Qt=!1;return function(Dt){if(!wt&&!Qt)return Qt=!0,function(Et){return Et.setHeader&&typeof Et.abort=="function"}(ft)?ft.abort():typeof ft.destroy=="function"?ft.destroy():void mt(Dt||new tt("pipe"))}}function st(ft){ft()}function ht(ft,dt){return ft.pipe(dt)}function _t(ft){return ft.length?typeof ft[ft.length-1]!="function"?j:ft.pop():j}i.exports=function(){for(var ft=arguments.length,dt=new Array(ft),ut=0;ut<ft;ut++)dt[ut]=arguments[ut];var mt,wt=_t(dt);if(Array.isArray(dt[0])&&(dt=dt[0]),dt.length<2)throw new _e("streams");var Qt=dt.map(function(Dt,Et){var xt=Et<dt.length-1;return nt(Dt,xt,Et>0,function(pt){mt||(mt=pt),pt&&Qt.forEach(st),xt||(Qt.forEach(st),wt(mt))})});return dt.reduce(ht)}},function(i,o,s){var _=s(187)(function $(_e,tt){return(tt=tt||{}).namespace=_e,tt.prod=!0,tt.dev=!1,tt.force||$.force?$.yep(tt):$.nope(tt)});i.exports=_},function(i,o){var s=[],_=[],$=function(){};function _e(ut){return!~s.indexOf(ut)&&(s.push(ut),!0)}function tt(ut){$=ut}function j(ut){for(var mt=[],wt=0;wt<s.length;wt++)if(s[wt].async)mt.push(s[wt]);else if(s[wt](ut))return!0;return!!mt.length&&new Promise(function(Qt){Promise.all(mt.map(function(Dt){return Dt(ut)})).then(function(Dt){Qt(Dt.some(Boolean))})})}function nt(ut){return!~_.indexOf(ut)&&(_.push(ut),!0)}function st(){$.apply($,arguments)}function ht(ut){for(var mt=0;mt<_.length;mt++)ut=_[mt].apply(_[mt],arguments);return ut}function _t(ut,mt){var wt=Object.prototype.hasOwnProperty;for(var Qt in mt)wt.call(mt,Qt)&&(ut[Qt]=mt[Qt]);return ut}function ft(ut){return ut.enabled=!1,ut.modify=nt,ut.set=tt,ut.use=_e,_t(function(){return!1},ut)}function dt(ut){return ut.enabled=!0,ut.modify=nt,ut.set=tt,ut.use=_e,_t(function(){var mt=Array.prototype.slice.call(arguments,0);return st.call(st,ut,ht(mt,ut)),!0},ut)}i.exports=function(ut){return ut.introduce=_t,ut.enabled=j,ut.process=ht,ut.modify=nt,ut.write=st,ut.nope=ft,ut.yep=dt,ut.set=tt,ut.use=_e,ut}},function(i,o,s){(function(_){var $=s(65),_e=s(22).StringDecoder,tt=s(32).Stream;function j(){}i.exports=function(nt,st){var ht=_.alloc(65536),_t=new _e("utf8"),ft=new tt,dt="",ut=0,mt=0;return nt.start===-1&&delete nt.start,ft.readable=!0,ft.destroy=function(){ft.destroyed=!0,ft.emit("end"),ft.emit("close")},$.open(nt.file,"a+","0644",function(wt,Qt){if(wt)return st?st(wt):ft.emit("error",wt),void ft.destroy();(function Dt(){if(!ft.destroyed)return $.read(Qt,ht,0,ht.length,ut,function(Et,xt){if(Et)return st?st(Et):ft.emit("error",Et),void ft.destroy();if(!xt)return dt&&((nt.start==null||mt>nt.start)&&(st?st(null,dt):ft.emit("line",dt)),mt++,dt=""),setTimeout(Dt,1e3);var pt=_t.write(ht.slice(0,xt));st||ft.emit("data",pt);for(var Vt=(pt=(dt+pt).split(/\n+/)).length-1,nn=0;nn<Vt;nn++)(nt.start==null||mt>nt.start)&&(st?st(null,pt[nn]):ft.emit("line",pt[nn])),mt++;return dt=pt[Vt],ut+=xt,Dt()});$.close(Qt,j)})()}),st?ft.destroy:ft}}).call(this,s(5).Buffer)},function(i,o,s){(function(_,$){function _e(Et){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt})(Et)}function tt(Et,xt){var pt=Object.keys(Et);if(Object.getOwnPropertySymbols){var Vt=Object.getOwnPropertySymbols(Et);xt&&(Vt=Vt.filter(function(nn){return Object.getOwnPropertyDescriptor(Et,nn).enumerable})),pt.push.apply(pt,Vt)}return pt}function j(Et){for(var xt=1;xt<arguments.length;xt++){var pt=arguments[xt]!=null?arguments[xt]:{};xt%2?tt(Object(pt),!0).forEach(function(Vt){nt(Et,Vt,pt[Vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(pt)):tt(Object(pt)).forEach(function(Vt){Object.defineProperty(Et,Vt,Object.getOwnPropertyDescriptor(pt,Vt))})}return Et}function nt(Et,xt,pt){return xt in Et?Object.defineProperty(Et,xt,{value:pt,enumerable:!0,configurable:!0,writable:!0}):Et[xt]=pt,Et}function st(Et,xt){if(!(Et instanceof xt))throw new TypeError("Cannot call a class as a function")}function ht(Et,xt){for(var pt=0;pt<xt.length;pt++){var Vt=xt[pt];Vt.enumerable=Vt.enumerable||!1,Vt.configurable=!0,"value"in Vt&&(Vt.writable=!0),Object.defineProperty(Et,Vt.key,Vt)}}function _t(Et,xt){return(_t=Object.setPrototypeOf||function(pt,Vt){return pt.__proto__=Vt,pt})(Et,xt)}function ft(Et){var xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var pt,Vt=ut(Et);if(xt){var nn=ut(this).constructor;pt=Reflect.construct(Vt,arguments,nn)}else pt=Vt.apply(this,arguments);return dt(this,pt)}}function dt(Et,xt){return!xt||_e(xt)!=="object"&&typeof xt!="function"?function(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}(Et):xt}function ut(Et){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(xt){return xt.__proto__||Object.getPrototypeOf(xt)})(Et)}var mt=s(83),wt=s(200),Qt=s(32).Stream,Dt=s(20);i.exports=function(Et){(function(on,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");on.prototype=Object.create(bt&&bt.prototype,{constructor:{value:on,writable:!0,configurable:!0}}),bt&&_t(on,bt)})(nn,Et);var xt,pt,Vt=ft(nn);function nn(){var on,bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return st(this,nn),(on=Vt.call(this,bt)).options=bt,on.name=bt.name||"http",on.ssl=!!bt.ssl,on.host=bt.host||"localhost",on.port=bt.port,on.auth=bt.auth,on.path=bt.path||"",on.agent=bt.agent,on.headers=bt.headers||{},on.headers["content-type"]="application/json",on.port||(on.port=on.ssl?443:80),on}return xt=nn,(pt=[{key:"log",value:function(on,bt){var St=this;this._request(on,function(It,Bt){Bt&&Bt.statusCode!==200&&(It=new Error("Invalid HTTP Status Code: ".concat(Bt.statusCode))),It?St.emit("warn",It):St.emit("logged",on)}),bt&&_(bt)}},{key:"query",value:function(on,bt){typeof on=="function"&&(bt=on,on={}),(on={method:"query",params:this.normalizeQuery(on)}).params.path&&(on.path=on.params.path,delete on.params.path),on.params.auth&&(on.auth=on.params.auth,delete on.params.auth),this._request(on,function(St,It,Bt){if(It&&It.statusCode!==200&&(St=new Error("Invalid HTTP Status Code: ".concat(It.statusCode))),St)return bt(St);if(typeof Bt=="string")try{Bt=JSON.parse(Bt)}catch(Lt){return bt(Lt)}bt(null,Bt)})}},{key:"stream",value:function(){var on=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},bt=new Qt;(on={method:"stream",params:on}).params.path&&(on.path=on.params.path,delete on.params.path),on.params.auth&&(on.auth=on.params.auth,delete on.params.auth);var St="",It=this._request(on);return bt.destroy=function(){return It.destroy()},It.on("data",function(Bt){for(var Lt=(Bt=(St+Bt).split(/\n+/)).length-1,Xt=0;Xt<Lt;Xt++)try{bt.emit("log",JSON.parse(Bt[Xt]))}catch(zt){bt.emit("error",zt)}St=Bt[Lt]}),It.on("error",function(Bt){return bt.emit("error",Bt)}),bt}},{key:"_request",value:function(on,bt){var St=(on=on||{}).auth||this.auth,It=on.path||this.path||"";delete on.auth,delete on.path;var Bt=Object.assign({},this.headers);St&&St.bearer&&(Bt.Authorization="Bearer ".concat(St.bearer));var Lt=(this.ssl?wt:mt).request(j(j({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(It.replace(/^\//,"")),headers:Bt,auth:St&&St.username&&St.password?"".concat(St.username,":").concat(St.password):"",agent:this.agent}));Lt.on("error",bt),Lt.on("response",function(Xt){return Xt.on("end",function(){return bt(null,Xt)}).resume()}),Lt.end($.from(JSON.stringify(on),"utf8"))}}])&&ht(xt.prototype,pt),nn}(Dt)}).call(this,s(15).setImmediate,s(5).Buffer)},function(i,o,s){(function(_,$,_e){var tt=s(84),j=s(7),nt=s(85),st=s(31),ht=s(191),_t=nt.IncomingMessage,ft=nt.readyStates,dt=i.exports=function(mt){var wt,Qt=this;st.Writable.call(Qt),Qt._opts=mt,Qt._body=[],Qt._headers={},mt.auth&&Qt.setHeader("Authorization","Basic "+new _(mt.auth).toString("base64")),Object.keys(mt.headers).forEach(function(Et){Qt.setHeader(Et,mt.headers[Et])});var Dt=!0;if(mt.mode==="disable-fetch"||"requestTimeout"in mt&&!tt.abortController)Dt=!1,wt=!0;else if(mt.mode==="prefer-streaming")wt=!1;else if(mt.mode==="allow-wrong-content-type")wt=!tt.overrideMimeType;else{if(mt.mode&&mt.mode!=="default"&&mt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Qt._mode=function(Et,xt){return tt.fetch&&xt?"fetch":tt.mozchunkedarraybuffer?"moz-chunked-arraybuffer":tt.msstream?"ms-stream":tt.arraybuffer&&Et?"arraybuffer":tt.vbArray&&Et?"text:vbarray":"text"}(wt,Dt),Qt._fetchTimer=null,Qt.on("finish",function(){Qt._onFinish()})};j(dt,st.Writable),dt.prototype.setHeader=function(mt,wt){var Qt=mt.toLowerCase();ut.indexOf(Qt)===-1&&(this._headers[Qt]={name:mt,value:wt})},dt.prototype.getHeader=function(mt){var wt=this._headers[mt.toLowerCase()];return wt?wt.value:null},dt.prototype.removeHeader=function(mt){delete this._headers[mt.toLowerCase()]},dt.prototype._onFinish=function(){var mt=this;if(!mt._destroyed){var wt=mt._opts,Qt=mt._headers,Dt=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(Dt=tt.arraybuffer?ht(_.concat(mt._body)):tt.blobConstructor?new $.Blob(mt._body.map(function(nn){return ht(nn)}),{type:(Qt["content-type"]||{}).value||""}):_.concat(mt._body).toString());var Et=[];if(Object.keys(Qt).forEach(function(nn){var on=Qt[nn].name,bt=Qt[nn].value;Array.isArray(bt)?bt.forEach(function(St){Et.push([on,St])}):Et.push([on,bt])}),mt._mode==="fetch"){var xt=null;if(tt.abortController){var pt=new AbortController;xt=pt.signal,mt._fetchAbortController=pt,"requestTimeout"in wt&&wt.requestTimeout!==0&&(mt._fetchTimer=$.setTimeout(function(){mt.emit("requestTimeout"),mt._fetchAbortController&&mt._fetchAbortController.abort()},wt.requestTimeout))}$.fetch(mt._opts.url,{method:mt._opts.method,headers:Et,body:Dt||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:xt}).then(function(nn){mt._fetchResponse=nn,mt._connect()},function(nn){$.clearTimeout(mt._fetchTimer),mt._destroyed||mt.emit("error",nn)})}else{var Vt=mt._xhr=new $.XMLHttpRequest;try{Vt.open(mt._opts.method,mt._opts.url,!0)}catch(nn){return void _e.nextTick(function(){mt.emit("error",nn)})}"responseType"in Vt&&(Vt.responseType=mt._mode.split(":")[0]),"withCredentials"in Vt&&(Vt.withCredentials=!!wt.withCredentials),mt._mode==="text"&&"overrideMimeType"in Vt&&Vt.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Vt.timeout=wt.requestTimeout,Vt.ontimeout=function(){mt.emit("requestTimeout")}),Et.forEach(function(nn){Vt.setRequestHeader(nn[0],nn[1])}),mt._response=null,Vt.onreadystatechange=function(){switch(Vt.readyState){case ft.LOADING:case ft.DONE:mt._onXHRProgress()}},mt._mode==="moz-chunked-arraybuffer"&&(Vt.onprogress=function(){mt._onXHRProgress()}),Vt.onerror=function(){mt._destroyed||mt.emit("error",new Error("XHR error"))};try{Vt.send(Dt)}catch(nn){return void _e.nextTick(function(){mt.emit("error",nn)})}}}},dt.prototype._onXHRProgress=function(){(function(mt){try{var wt=mt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},dt.prototype._connect=function(){var mt=this;mt._destroyed||(mt._response=new _t(mt._xhr,mt._fetchResponse,mt._mode,mt._fetchTimer),mt._response.on("error",function(wt){mt.emit("error",wt)}),mt.emit("response",mt._response))},dt.prototype._write=function(mt,wt,Qt){this._body.push(mt),Qt()},dt.prototype.abort=dt.prototype.destroy=function(){this._destroyed=!0,$.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},dt.prototype.end=function(mt,wt,Qt){typeof mt=="function"&&(Qt=mt,mt=void 0),st.Writable.prototype.end.call(this,mt,wt,Qt)},dt.prototype.flushHeaders=function(){},dt.prototype.setTimeout=function(){},dt.prototype.setNoDelay=function(){},dt.prototype.setSocketKeepAlive=function(){};var ut=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,s(5).Buffer,s(6),s(2))},function(i,o,s){var _=s(5).Buffer;i.exports=function($){if($ instanceof Uint8Array){if($.byteOffset===0&&$.byteLength===$.buffer.byteLength)return $.buffer;if(typeof $.buffer.slice=="function")return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)}if(_.isBuffer($)){for(var _e=new Uint8Array($.length),tt=$.length,j=0;j<tt;j++)_e[j]=$[j];return _e.buffer}throw new Error("Argument must be a Buffer")}},function(i,o){i.exports=function(){for(var _={},$=0;$<arguments.length;$++){var _e=arguments[$];for(var tt in _e)s.call(_e,tt)&&(_[tt]=_e[tt])}return _};var s=Object.prototype.hasOwnProperty},function(i,o){i.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(i,o,s){(function(_,$){var _e;(function(tt){o&&o.nodeType,_&&_.nodeType;var j=typeof $=="object"&&$;j.global!==j&&j.window!==j&&j.self;var nt,st=2147483647,ht=/^xn--/,_t=/[^\x20-\x7E]/,ft=/[\x2E\u3002\uFF0E\uFF61]/g,dt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ut=Math.floor,mt=String.fromCharCode;function wt(bt){throw new RangeError(dt[bt])}function Qt(bt,St){for(var It=bt.length,Bt=[];It--;)Bt[It]=St(bt[It]);return Bt}function Dt(bt,St){var It=bt.split("@"),Bt="";return It.length>1&&(Bt=It[0]+"@",bt=It[1]),Bt+Qt((bt=bt.replace(ft,".")).split("."),St).join(".")}function Et(bt){for(var St,It,Bt=[],Lt=0,Xt=bt.length;Lt<Xt;)(St=bt.charCodeAt(Lt++))>=55296&&St<=56319&&Lt<Xt?(64512&(It=bt.charCodeAt(Lt++)))==56320?Bt.push(((1023&St)<<10)+(1023&It)+65536):(Bt.push(St),Lt--):Bt.push(St);return Bt}function xt(bt){return Qt(bt,function(St){var It="";return St>65535&&(It+=mt((St-=65536)>>>10&1023|55296),St=56320|1023&St),It+=mt(St)}).join("")}function pt(bt,St){return bt+22+75*(bt<26)-((St!=0)<<5)}function Vt(bt,St,It){var Bt=0;for(bt=It?ut(bt/700):bt>>1,bt+=ut(bt/St);bt>455;Bt+=36)bt=ut(bt/35);return ut(Bt+36*bt/(bt+38))}function nn(bt){var St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft,Ht=[],tn=bt.length,mn=0,yn=128,vn=72;for((It=bt.lastIndexOf("-"))<0&&(It=0),Bt=0;Bt<It;++Bt)bt.charCodeAt(Bt)>=128&&wt("not-basic"),Ht.push(bt.charCodeAt(Bt));for(Lt=It>0?It+1:0;Lt<tn;){for(Xt=mn,zt=1,Pt=36;Lt>=tn&&wt("invalid-input"),((jt=(Ft=bt.charCodeAt(Lt++))-48<10?Ft-22:Ft-65<26?Ft-65:Ft-97<26?Ft-97:36)>=36||jt>ut((st-mn)/zt))&&wt("overflow"),mn+=jt*zt,!(jt<(Zt=Pt<=vn?1:Pt>=vn+26?26:Pt-vn));Pt+=36)zt>ut(st/(Ct=36-Zt))&&wt("overflow"),zt*=Ct;vn=Vt(mn-Xt,St=Ht.length+1,Xt==0),ut(mn/St)>st-yn&&wt("overflow"),yn+=ut(mn/St),mn%=St,Ht.splice(mn++,0,yn)}return xt(Ht)}function on(bt){var St,It,Bt,Lt,Xt,zt,Pt,jt,Zt,Ct,Ft,Ht,tn,mn,yn,vn=[];for(Ht=(bt=Et(bt)).length,St=128,It=0,Xt=72,zt=0;zt<Ht;++zt)(Ft=bt[zt])<128&&vn.push(mt(Ft));for(Bt=Lt=vn.length,Lt&&vn.push("-");Bt<Ht;){for(Pt=st,zt=0;zt<Ht;++zt)(Ft=bt[zt])>=St&&Ft<Pt&&(Pt=Ft);for(Pt-St>ut((st-It)/(tn=Bt+1))&&wt("overflow"),It+=(Pt-St)*tn,St=Pt,zt=0;zt<Ht;++zt)if((Ft=bt[zt])<St&&++It>st&&wt("overflow"),Ft==St){for(jt=It,Zt=36;!(jt<(Ct=Zt<=Xt?1:Zt>=Xt+26?26:Zt-Xt));Zt+=36)yn=jt-Ct,mn=36-Ct,vn.push(mt(pt(Ct+yn%mn,0))),jt=ut(yn/mn);vn.push(mt(pt(jt,0))),Xt=Vt(It,tn,Bt==Lt),It=0,++Bt}++It,++St}return vn.join("")}nt={version:"1.4.1",ucs2:{decode:Et,encode:xt},decode:nn,encode:on,toASCII:function(bt){return Dt(bt,function(St){return _t.test(St)?"xn--"+on(St):St})},toUnicode:function(bt){return Dt(bt,function(St){return ht.test(St)?nn(St.slice(4).toLowerCase()):St})}},(_e=function(){return nt}.call(o,s,o,_))===void 0||(_.exports=_e)})()}).call(this,s(195)(i),s(6))},function(i,o){i.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(i,o,s){i.exports={isString:function(_){return typeof _=="string"},isObject:function(_){return typeof _=="object"&&_!==null},isNull:function(_){return _===null},isNullOrUndefined:function(_){return _==null}}},function(i,o,s){o.decode=o.parse=s(198),o.encode=o.stringify=s(199)},function(i,o,s){function _(_e,tt){return Object.prototype.hasOwnProperty.call(_e,tt)}i.exports=function(_e,tt,j,nt){tt=tt||"&",j=j||"=";var st={};if(typeof _e!="string"||_e.length===0)return st;var ht=/\+/g;_e=_e.split(tt);var _t=1e3;nt&&typeof nt.maxKeys=="number"&&(_t=nt.maxKeys);var ft=_e.length;_t>0&&ft>_t&&(ft=_t);for(var dt=0;dt<ft;++dt){var ut,mt,wt,Qt,Dt=_e[dt].replace(ht,"%20"),Et=Dt.indexOf(j);Et>=0?(ut=Dt.substr(0,Et),mt=Dt.substr(Et+1)):(ut=Dt,mt=""),wt=decodeURIComponent(ut),Qt=decodeURIComponent(mt),_(st,wt)?$(st[wt])?st[wt].push(Qt):st[wt]=[st[wt],Qt]:st[wt]=Qt}return st};var $=Array.isArray||function(_e){return Object.prototype.toString.call(_e)==="[object Array]"}},function(i,o,s){var _=function(j){switch(typeof j){case"string":return j;case"boolean":return j?"true":"false";case"number":return isFinite(j)?j:"";default:return""}};i.exports=function(j,nt,st,ht){return nt=nt||"&",st=st||"=",j===null&&(j=void 0),typeof j=="object"?_e(tt(j),function(_t){var ft=encodeURIComponent(_(_t))+st;return $(j[_t])?_e(j[_t],function(dt){return ft+encodeURIComponent(_(dt))}).join(nt):ft+encodeURIComponent(_(j[_t]))}).join(nt):ht?encodeURIComponent(_(ht))+st+encodeURIComponent(_(j)):""};var $=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"};function _e(j,nt){if(j.map)return j.map(nt);for(var st=[],ht=0;ht<j.length;ht++)st.push(nt(j[ht],ht));return st}var tt=Object.keys||function(j){var nt=[];for(var st in j)Object.prototype.hasOwnProperty.call(j,st)&&nt.push(st);return nt}},function(i,o,s){var _=s(83),$=s(86),_e=i.exports;for(var tt in _)_.hasOwnProperty(tt)&&(_e[tt]=_[tt]);function j(nt){if(typeof nt=="string"&&(nt=$.parse(nt)),nt.protocol||(nt.protocol="https:"),nt.protocol!=="https:")throw new Error('Protocol "'+nt.protocol+'" not supported. Expected "https:"');return nt}_e.request=function(nt,st){return nt=j(nt),_.request.call(this,nt,st)},_e.get=function(nt,st){return nt=j(nt),_.get.call(this,nt,st)}},function(i,o,s){(function(_){function $(mt){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(mt)}function _e(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}function tt(mt,wt){for(var Qt=0;Qt<wt.length;Qt++){var Dt=wt[Qt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(mt,Dt.key,Dt)}}function j(mt,wt){return(j=Object.setPrototypeOf||function(Qt,Dt){return Qt.__proto__=Dt,Qt})(mt,wt)}function nt(mt){var wt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Qt,Dt=ht(mt);if(wt){var Et=ht(this).constructor;Qt=Reflect.construct(Dt,arguments,Et)}else Qt=Dt.apply(this,arguments);return st(this,Qt)}}function st(mt,wt){return!wt||$(wt)!=="object"&&typeof wt!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(mt):wt}function ht(mt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(mt)}var _t=s(87),ft=s(3).MESSAGE,dt=s(18),ut=s(20);i.exports=function(mt){(function(xt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function");xt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:xt,writable:!0,configurable:!0}}),pt&&j(xt,pt)})(Et,mt);var wt,Qt,Dt=nt(Et);function Et(){var xt,pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_e(this,Et),xt=Dt.call(this,pt),!pt.stream||!_t(pt.stream))throw new Error("options.stream is required.");return xt._stream=pt.stream,xt._stream.setMaxListeners(1/0),xt.isObjectMode=pt.stream._writableState.objectMode,xt.eol=pt.eol||dt.EOL,xt}return wt=Et,(Qt=[{key:"log",value:function(xt,pt){var Vt=this;if(_(function(){return Vt.emit("logged",xt)}),this.isObjectMode)return this._stream.write(xt),void(pt&&pt());this._stream.write("".concat(xt[ft]).concat(this.eol)),pt&&pt()}}])&&tt(wt.prototype,Qt),Et}(ut)}).call(this,s(15).setImmediate)},function(i,o,s){(function(_){function $(Bt,Lt,Xt){return Lt in Bt?Object.defineProperty(Bt,Lt,{value:Xt,enumerable:!0,configurable:!0,writable:!0}):Bt[Lt]=Xt,Bt}function _e(Bt){return(_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lt){return typeof Lt}:function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt})(Bt)}function tt(Bt,Lt){for(var Xt=0;Xt<Lt.length;Xt++){var zt=Lt[Xt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty(Bt,zt.key,zt)}}function j(Bt,Lt){return(j=Object.setPrototypeOf||function(Xt,zt){return Xt.__proto__=zt,Xt})(Bt,Lt)}function nt(Bt){var Lt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Xt,zt=ht(Bt);if(Lt){var Pt=ht(this).constructor;Xt=Reflect.construct(zt,arguments,Pt)}else Xt=zt.apply(this,arguments);return st(this,Xt)}}function st(Bt,Lt){return!Lt||_e(Lt)!=="object"&&typeof Lt!="function"?function(Xt){if(Xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xt}(Bt):Lt}function ht(Bt){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(Lt){return Lt.__proto__||Object.getPrototypeOf(Lt)})(Bt)}var _t=s(32),ft=_t.Stream,dt=_t.Transform,ut=s(51),mt=s(3),wt=mt.LEVEL,Qt=mt.SPLAT,Dt=s(87),Et=s(89),xt=s(93),pt=s(206),Vt=s(207),nn=s(61).warn,on=s(50),bt=/%[scdjifoO%]/g,St=function(Bt){(function(jt,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Zt&&j(jt,Zt)})(Pt,Bt);var Lt,Xt,zt=nt(Pt);function Pt(jt){var Zt;return function(Ct,Ft){if(!(Ct instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,Pt),(Zt=zt.call(this,{objectMode:!0})).configure(jt),Zt}return Lt=Pt,(Xt=[{key:"child",value:function(jt){var Zt=this;return Object.create(Zt,{write:{value:function(Ct){var Ft=Object.assign({},jt,Ct);Ct instanceof Error&&(Ft.stack=Ct.stack,Ft.message=Ct.message),Zt.write(Ft)}}})}},{key:"configure",value:function(){var jt=this,Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ct=Zt.silent,Ft=Zt.format,Ht=Zt.defaultMeta,tn=Zt.levels,mn=Zt.level,yn=mn===void 0?"info":mn,vn=Zt.exitOnError,un=vn===void 0||vn,rn=Zt.transports,At=Zt.colors,Mt=Zt.emitErrs,$t=Zt.formatters,pn=Zt.padLevels,hn=Zt.rewriters,Sn=Zt.stripColors,An=Zt.exceptionHandlers,Gn=Zt.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=Ct,this.format=Ft||this.format||s(208)(),this.defaultMeta=Ht||null,this.levels=tn||this.levels||on.npm.levels,this.level=yn,this.exceptions=new Et(this),this.rejections=new xt(this),this.profilers={},this.exitOnError=un,rn&&(rn=Array.isArray(rn)?rn:[rn]).forEach(function(Qr){return jt.add(Qr)}),At||Mt||$t||pn||hn||Sn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));An&&this.exceptions.handle(An),Gn&&this.rejections.handle(Gn)}},{key:"isLevelEnabled",value:function(jt){var Zt=this,Ct=It(this.levels,jt);if(Ct===null)return!1;var Ft=It(this.levels,this.level);return Ft!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(Ht){var tn=It(Zt.levels,Ht.level);return tn===null&&(tn=Ft),tn>=Ct})!==-1:Ft>=Ct)}},{key:"log",value:function(jt,Zt){for(var Ct,Ft,Ht=arguments.length,tn=new Array(Ht>2?Ht-2:0),mn=2;mn<Ht;mn++)tn[mn-2]=arguments[mn];if(arguments.length===1)return jt[wt]=jt.level,this._addDefaultMeta(jt),this.write(jt),this;if(arguments.length===2)return Zt&&_e(Zt)==="object"?(Zt[wt]=Zt.level=jt,this._addDefaultMeta(Zt),this.write(Zt),this):(this.write(($(Ft={},wt,jt),$(Ft,"level",jt),$(Ft,"message",Zt),Ft)),this);var yn=tn[0];if(_e(yn)==="object"&&yn!==null){var vn=Zt&&Zt.match&&Zt.match(bt);if(!vn){var un,rn=Object.assign({},this.defaultMeta,yn,($(un={},wt,jt),$(un,Qt,tn),$(un,"level",jt),$(un,"message",Zt),un));return yn.message&&(rn.message="".concat(rn.message," ").concat(yn.message)),yn.stack&&(rn.stack=yn.stack),this.write(rn),this}}return this.write(Object.assign({},this.defaultMeta,($(Ct={},wt,jt),$(Ct,Qt,tn),$(Ct,"level",jt),$(Ct,"message",Zt),Ct))),this}},{key:"_transform",value:function(jt,Zt,Ct){if(this.silent)return Ct();jt[wt]||(jt[wt]=jt.level),this.levels[jt[wt]]||this.levels[jt[wt]]===0||console.error("[winston] Unknown logger level: %s",jt[wt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",jt);try{this.push(this.format.transform(jt,this.format.options))}catch(Ft){throw Ft}finally{Ct()}}},{key:"_final",value:function(jt){var Zt=this.transports.slice();ut(Zt,function(Ct,Ft){if(!Ct||Ct.finished)return _(Ft);Ct.once("finish",Ft),Ct.end()},jt)}},{key:"add",value:function(jt){var Zt=!Dt(jt)||jt.log.length>2?new pt({transport:jt}):jt;if(!Zt._writableState||!Zt._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Zt),this._onEvent("warn",Zt),this.pipe(Zt),jt.handleExceptions&&this.exceptions.handle(),jt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(jt){if(!jt)return this;var Zt=jt;return(!Dt(jt)||jt.log.length>2)&&(Zt=this.transports.filter(function(Ct){return Ct.transport===jt})[0]),Zt&&this.unpipe(Zt),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){nn.deprecated("setLevels")}},{key:"query",value:function(jt,Zt){typeof jt=="function"&&(Zt=jt,jt={}),jt=jt||{};var Ct={},Ft=Object.assign({},jt.query||{});ut(this.transports.filter(function(Ht){return!!Ht.query}),function(Ht,tn){(function(mn,yn){jt.query&&typeof mn.formatQuery=="function"&&(jt.query=mn.formatQuery(Ft)),mn.query(jt,function(vn,un){if(vn)return yn(vn);typeof mn.formatResults=="function"&&(un=mn.formatResults(un,jt.format)),yn(null,un)})})(Ht,function(mn,yn){tn&&((yn=mn||yn)&&(Ct[Ht.name]=yn),tn()),tn=null})},function(){return Zt(null,Ct)})}},{key:"stream",value:function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=new ft,Ct=[];return Zt._streams=Ct,Zt.destroy=function(){for(var Ft=Ct.length;Ft--;)Ct[Ft].destroy()},this.transports.filter(function(Ft){return!!Ft.stream}).forEach(function(Ft){var Ht=Ft.stream(jt);Ht&&(Ct.push(Ht),Ht.on("log",function(tn){tn.transport=tn.transport||[],tn.transport.push(Ft.name),Zt.emit("log",tn)}),Ht.on("error",function(tn){tn.transport=tn.transport||[],tn.transport.push(Ft.name),Zt.emit("error",tn)}))}),Zt}},{key:"startTimer",value:function(){return new Vt(this)}},{key:"profile",value:function(jt){var Zt=Date.now();if(this.profilers[jt]){var Ct=this.profilers[jt];delete this.profilers[jt];for(var Ft=arguments.length,Ht=new Array(Ft>1?Ft-1:0),tn=1;tn<Ft;tn++)Ht[tn-1]=arguments[tn];typeof Ht[Ht.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Ht.pop());var mn=_e(Ht[Ht.length-1])==="object"?Ht.pop():{};return mn.level=mn.level||"info",mn.durationMs=Zt-Ct,mn.message=mn.message||jt,this.write(mn)}return this.profilers[jt]=Zt,this}},{key:"handleExceptions",value:function(){var jt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(jt=this.exceptions).handle.apply(jt,arguments)}},{key:"unhandleExceptions",value:function(){var jt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(jt=this.exceptions).unhandle.apply(jt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(jt,Zt){Zt["__winston"+jt]||(Zt["__winston"+jt]=function(Ct){jt!=="error"||this.transports.includes(Zt)||this.add(Zt),this.emit(jt,Ct,Zt)}.bind(this),Zt.on(jt,Zt["__winston"+jt]))}},{key:"_addDefaultMeta",value:function(jt){this.defaultMeta&&Object.assign(jt,this.defaultMeta)}}])&&tt(Lt.prototype,Xt),Pt}(dt);function It(Bt,Lt){var Xt=Bt[Lt];return Xt||Xt===0?Xt:null}Object.defineProperty(St.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Bt=this._readableState.pipes;return Array.isArray(Bt)?Bt:[Bt].filter(Boolean)}}),i.exports=St}).call(this,s(15).setImmediate)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var _=ht(s(45)),$=ht(s(46)),_e=ht(s(66)),tt=ht(s(67)),j=ht(s(68)),nt=ht(s(25)),st=ht(s(30));function ht(dt){return dt&&dt.__esModule?dt:{default:dt}}function _t(dt,ut,mt){mt=(0,tt.default)(mt);var wt=0,Qt=0,{length:Dt}=dt,Et=!1;function xt(pt,Vt){pt===!1&&(Et=!0),Et!==!0&&(pt?mt(pt):++Qt!==Dt&&Vt!==$.default||mt(null))}for(Dt===0&&mt(null);wt<Dt;wt++)ut(dt[wt],wt,(0,j.default)(xt))}function ft(dt,ut,mt){return(0,_e.default)(dt,1/0,ut,mt)}o.default=(0,st.default)(function(dt,ut,mt){return((0,_.default)(dt)?_t:ft)(dt,(0,nt.default)(ut),mt)},3),i.exports=o.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(_){return($,_e,tt)=>_($,tt)},i.exports=o.default},function(i,o,s){var _=Object.prototype.toString;i.exports=function($){if(typeof $.displayName=="string"&&$.constructor.name)return $.displayName;if(typeof $.name=="string"&&$.name)return $.name;if(typeof $=="object"&&$.constructor&&typeof $.constructor.name=="string")return $.constructor.name;var _e=$.toString(),tt=_.call($).slice(8,-1);return(_e=tt==="Function"?_e.substring(_e.indexOf("(")+1,_e.indexOf(")")):tt)||"anonymous"}},function(i,o,s){const _=s(13),{LEVEL:$}=s(3),_e=s(20),tt=i.exports=function(j={}){if(_e.call(this,j),!j.transport||typeof j.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=j.transport,this.level=this.level||j.transport.level,this.handleExceptions=this.handleExceptions||j.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(nt){this.emit("error",nt,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};_.inherits(tt,_e),tt.prototype._write=function(j,nt,st){if(this.silent||j.exception===!0&&!this.handleExceptions)return st(null);(!this.level||this.levels[this.level]>=this.levels[j[$]])&&this.transport.log(j[$],j.message,j,this._nop),st(null)},tt.prototype._writev=function(j,nt){for(let st=0;st<j.length;st++)this._accept(j[st])&&(this.transport.log(j[st].chunk[$],j[st].chunk.message,j[st].chunk,this._nop),j[st].callback());return nt(null)},tt.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},tt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(i,o,s){function _(_e){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt})(_e)}function $(_e,tt){for(var j=0;j<tt.length;j++){var nt=tt[j];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}i.exports=function(){function _e(nt){if(function(st,ht){if(!(st instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,_e),!nt)throw new Error("Logger is required for profiling.");this.logger=nt,this.start=Date.now()}var tt,j;return tt=_e,(j=[{key:"done",value:function(){for(var nt=arguments.length,st=new Array(nt),ht=0;ht<nt;ht++)st[ht]=arguments[ht];typeof st[st.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),st.pop());var _t=_(st[st.length-1])==="object"?st.pop():{};return _t.level=_t.level||"info",_t.durationMs=Date.now()-this.start,this.logger.write(_t)}}])&&$(tt.prototype,j),_e}()},function(i,o,s){(function(_){const $=s(209),{MESSAGE:_e}=s(3),tt=s(35);function j(nt,st){return st instanceof _?st.toString("base64"):typeof st=="bigint"?st.toString():st}i.exports=$((nt,st={})=>(nt[_e]=(st.stable?tt.stableStringify:tt)(nt,st.replacer||j,st.space),nt))}).call(this,s(5).Buffer)},function(i,o,s){class _ extends Error{constructor(_e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${_e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,_)}}i.exports=$=>{if($.length>2)throw new _($);function _e(j={}){this.options=j}function tt(j){return new _e(j)}return _e.prototype.transform=$,tt.Format=_e,tt}},function(i,o,s){function _(tt,j){if(!(tt instanceof j))throw new TypeError("Cannot call a class as a function")}function $(tt,j){for(var nt=0;nt<j.length;nt++){var st=j[nt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(tt,st.key,st)}}var _e=s(88);i.exports=function(){function tt(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,tt),this.loggers=new Map,this.options=st}var j,nt;return j=tt,(nt=[{key:"add",value:function(st,ht){var _t=this;if(!this.loggers.has(st)){var ft=(ht=Object.assign({},ht||this.options)).transports||this.options.transports;ht.transports=ft?ft.slice():[];var dt=_e(ht);dt.on("close",function(){return _t._delete(st)}),this.loggers.set(st,dt)}return this.loggers.get(st)}},{key:"get",value:function(st,ht){return this.add(st,ht)}},{key:"has",value:function(st){return!!this.loggers.has(st)}},{key:"close",value:function(st){var ht=this;if(st)return this._removeLogger(st);this.loggers.forEach(function(_t,ft){return ht._removeLogger(ft)})}},{key:"_removeLogger",value:function(st){this.loggers.has(st)&&(this.loggers.get(st).close(),this._delete(st))}},{key:"_delete",value:function(st){this.loggers.delete(st)}}])&&$(j.prototype,nt),tt}()},function(i,o,s){(function(_){const $=s(52),_e=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;i.exports=function(tt,j,nt,st){let ht,_t,ft=!1,dt=!1;const ut=s(94);function mt(Dt){st(j,Dt)}function wt(Dt,Et){let xt=`"${j}" ${Et}`;throw Dt&&(xt=`${xt}`),_t&&(xt=`${xt}. An example of a valid value would be: ${_t}`),new $(xt)}const Qt={convertFromBase64:function(){return mt("marking for base64 conversion"),ft=!0,Qt},default:function(Dt){if(typeof Dt=="number")ht=Dt.toString();else if(Array.isArray(Dt)||typeof Dt=="object"&&Dt!==null)ht=JSON.stringify(Dt);else{if(typeof Dt!="string")throw new $("values passed to default() must be of Number, String, Array, or Object type");ht=Dt}return mt(`setting default value to "${ht}"`),Qt},required:function(Dt){return Dt===void 0?(mt("marked as required"),dt=!0):(mt(`setting required flag to ${Dt}`),dt=Dt),Qt},example:function(Dt){return _t=Dt,Qt}};return Object.entries(__spreadValues2(__spreadValues2({},ut),nt)).forEach(([Dt,Et])=>{Qt[Dt]=function(xt){return function(){let pt=tt[j];if(mt(`will be read from the environment using "${xt.name}" accessor`),pt===void 0)if(ht===void 0&&dt)mt("was not found in the environment, but is required to be set"),wt(void 0,"is a required variable, but it was not set");else{if(ht===void 0)return void mt("was not found in the environment, but is not required. returning undefined");mt(`was not found in the environment, parsing default value "${ht}" instead`),pt=ht}dt&&(mt("verifying variable value is not an empty string"),pt.trim().length===0&&wt(void 0,"is a required variable, but its value was empty")),ft&&(mt("verifying variable is a valid base64 string"),pt.match(_e)||wt(pt,"should be a valid base64 string if using convertFromBase64"),mt("converting from base64 to utf8 string"),pt=_.from(pt,"base64").toString());const Vt=[pt].concat(Array.prototype.slice.call(arguments));try{mt(`passing value "${pt}" to "${xt.name}" accessor`);const nn=xt.apply(xt,Vt);return mt(`parsed successfully, returning ${nn}`),nn}catch(nn){wt(pt,nn.message)}}}(Et)}),Qt}}).call(this,s(5).Buffer)},function(i,o,s){const _=s(33);i.exports=function($,_e){return _e=_e||",",$.length?_($).split(_e).filter(Boolean):[]}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if($!=="false"&&$!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return $!=="false"}},function(i,o,s){i.exports=function(_){const $=_.toLowerCase();if(["false","0","true","1"].indexOf($)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!($==="0"||$==="false")}},function(i,o,s){const _=s(95);i.exports=function($){var _e=_($);if(_e>65535)throw new Error("cannot assign a port number greater than 65535");return _e}},function(i,o,s){const _=s(33);i.exports=function($,_e){const tt=_($);if(_e.indexOf(tt)<0)throw new Error(`should be one of [${_e.join(", ")}]`);return tt}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative float");return _e}},function(i,o,s){const _=s(54);i.exports=function($){const _e=_($);if(_e<0)throw new Error("should be a positive float");return _e}},function(i,o,s){const _=s(53);i.exports=function($){const _e=_($);if(_e>0)throw new Error("should be a negative integer");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(!Array.isArray(_e))throw new Error("should be a parseable JSON Array");return _e}},function(i,o,s){const _=s(55);i.exports=function($){var _e=_($);if(Array.isArray(_e))throw new Error("should be a parseable JSON Object");return _e}},function(i,o,s){i.exports=function(_,$){try{RegExp(void 0,$)}catch{throw new Error("invalid regexp flags")}try{return new RegExp(_,$)}catch{throw new Error("should be a valid regexp")}}},function(i,o,s){const _=s(96);i.exports=function($){return _($).toString()}},function(i,o,s){const _=s(33),$=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021\u0023-\u005b\u005d-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\u0001-\u0008\u000b\u000c\u000e-\u001f\u0021-\u005a\u0053-\u007f]|\\[\u0001-\u0009\u000b\u000c\u000e-\u007f])+)\])$/;i.exports=function(_e){const tt=_(_e);if(!$.test(tt))throw new Error("should be a valid email address");return tt}},function(i,o,s){i.exports=function(_,$){return function(_e,tt){$&&$.match(/prod|production/)||_(`env-var (${_e}): ${tt}`)}}},function(i,o,s){(function(_){(function(){var $,_e,tt,j,nt,st;typeof performance<"u"&&performance!==null&&performance.now?i.exports=function(){return performance.now()}:_!=null&&_.hrtime?(i.exports=function(){return($()-nt)/1e6},_e=_.hrtime,j=($=function(){var ht;return 1e9*(ht=_e())[0]+ht[1]})(),st=1e9*_.uptime(),nt=j-st):Date.now?(i.exports=function(){return Date.now()-tt},tt=Date.now()):(i.exports=function(){return new Date().getTime()-tt},tt=new Date().getTime())}).call(this)}).call(this,s(2))},function(i,o,s){(function(_){(function($){function _e(j){if((j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+j+"') is invalid.")}function tt(j,nt){if(nt=nt===void 0?{fatal:!1}:nt,(j=j===void 0?"utf-8":j)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+j+"') is invalid.");if(nt.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if($.TextEncoder&&$.TextDecoder)return!1;Object.defineProperty(_e.prototype,"encoding",{value:"utf-8"}),_e.prototype.encode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");nt=0;for(var st=j.length,ht=0,_t=Math.max(32,st+(st>>1)+7),ft=new Uint8Array(_t>>3<<3);nt<st;){var dt=j.charCodeAt(nt++);if(55296<=dt&&56319>=dt){if(nt<st){var ut=j.charCodeAt(nt);(64512&ut)==56320&&(++nt,dt=((1023&dt)<<10)+(1023&ut)+65536)}if(55296<=dt&&56319>=dt)continue}if(ht+4>ft.length&&(_t+=8,_t=(_t*=1+nt/j.length*2)>>3<<3,(ut=new Uint8Array(_t)).set(ft),ft=ut),(4294967168&dt)==0)ft[ht++]=dt;else{if(!(4294965248&dt))ft[ht++]=dt>>6&31|192;else if(!(4294901760&dt))ft[ht++]=dt>>12&15|224,ft[ht++]=dt>>6&63|128;else{if(4292870144&dt)continue;ft[ht++]=dt>>18&7|240,ft[ht++]=dt>>12&63|128,ft[ht++]=dt>>6&63|128}ft[ht++]=63&dt|128}}return ft.slice(0,ht)},Object.defineProperty(tt.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(tt.prototype,"fatal",{value:!1}),Object.defineProperty(tt.prototype,"ignoreBOM",{value:!1}),tt.prototype.decode=function(j,nt){if((nt=nt===void 0?{stream:!1}:nt).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");nt=0;for(var st=(j=new Uint8Array(j)).length,ht=[];nt<st;){var _t=j[nt++];if(_t===0)break;if(!(128&_t))ht.push(_t);else if((224&_t)==192){var ft=63&j[nt++];ht.push((31&_t)<<6|ft)}else if((240&_t)==224){ft=63&j[nt++];var dt=63&j[nt++];ht.push((31&_t)<<12|ft<<6|dt)}else(248&_t)==240&&(65535<(_t=(7&_t)<<18|(ft=63&j[nt++])<<12|(dt=63&j[nt++])<<6|63&j[nt++])&&(_t-=65536,ht.push(_t>>>10&1023|55296),_t=56320|1023&_t),ht.push(_t))}return String.fromCharCode.apply(null,ht)},$.TextEncoder=_e,$.TextDecoder=tt})(typeof window<"u"?window:_!==void 0?_:this)}).call(this,s(6))},function(i,o,s){s.r(o),s.d(o,"AuthClient",function(){return _e}),s.d(o,"RtcSignalingClient",function(){return j}),s.d(o,"Credentials",function(){return Lt}),s.d(o,"IRtcStream",function(){}),s.d(o,"SignalingPromiseClient",function(){return Xt.SignalingPromiseClient}),s.d(o,"IRtcClientConfigurationV1",function(){}),s.d(o,"IRtcClientConfiguration",function(){}),s.d(o,"IRtcConnectionStatsInfo",function(){}),s.d(o,"IRtcSendConfiguration",function(){}),s.d(o,"IRtcSessionMetricsMessageCounts",function(){}),s.d(o,"IRtcStreamMessage",function(){}),s.d(o,"IRtcStreamPayload",function(){}),s.d(o,"IStreamControl",function(){}),s.d(o,"RtcClient",function(){return ls}),s.d(o,"RtcClientV1",function(){return nu}),s.d(o,"createRtcStreamMessage",function(){return jr});var _=s(28),$=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class _e extends _.a{adminSignup(Gt,en){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:en,method:"POST",body:JSON.stringify(Gt)})})}login(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(Gt),allowUnsafeRetries:!0})})}loginWithGoogleToken(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(Gt),allowUnsafeRetries:!0})})}refresh(Gt,en){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:Gt,tokenExpirationSeconds:en}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(Gt)})})}forgotPassword(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:Gt})})})}confirmForgotPassword(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(Gt)})})}resendInvitation(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:Gt})})})}changePassword({token:Gt,refreshToken:en,currentPassword:fn,newPassword:En}){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:Gt,method:"POST",body:JSON.stringify({refreshToken:en,currentPassword:fn,newPassword:En})})})}getDeviceCredentials(Gt){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:Gt,method:"POST",allowUnsafeRetries:!0})})}impersonate(Gt,en){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:Gt,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:en})})})}createServiceAccount(Gt,en,fn,En){return $(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:Gt,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:en,roleId:fn,tags:En})})})}getFeatures(Gt){return $(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:Gt})).features})}}var tt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class j extends _.a{createPeer(Gt,en){return tt(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:Gt,method:"POST",body:JSON.stringify(en)})})}getPeers(Gt){return tt(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:Gt})).items})}refreshPeer(Gt,en){return tt(this,void 0,void 0,function*(){yield this.fetch(`peers/${en}/refresh`,{token:Gt,method:"POST",allowUnsafeRetries:!0})})}createSession(Gt,en){return tt(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:Gt,method:"POST",body:JSON.stringify(en)})})}refreshSession(Gt,en){return tt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${en}/refresh`,{token:Gt,method:"POST",allowUnsafeRetries:!0})})}deleteSession(Gt,en){return tt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${en}`,{token:Gt,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(Gt){return tt(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:Gt})).items})}getIceServers(Gt){return tt(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:Gt})).items})}addSignals(Gt,en,fn){return tt(this,void 0,void 0,function*(){yield this.fetch(`sessions/${en}/add-signals`,{token:Gt,method:"POST",body:JSON.stringify(fn)})})}takeSignals(Gt,en){return tt(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${en}/take-signals`,{token:Gt,method:"POST"})).items})}}var nt=s(1),st=s(8),ht=s(14),_t=s.n(ht),ft=s(104),dt=s.n(ft),ut=s(0),mt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class wt{constructor(Gt){this.name="LogReporter",this.type="simple",this.message=Gt}send(Gt){return mt(this,void 0,void 0,function*(){var en,fn;ut.a.info(this.message,(en=Gt.reduce((En,xn)=>Object.assign(Object.assign({},En),{[xn.name]:xn.stat}),{}),fn=En=>{const{sum:xn,count:or}=En,ar=xn/or;return Object.assign(Object.assign({},En),{average:ar})},Object.keys(en).reduce((En,xn)=>Object.assign(Object.assign({},En),{[xn]:fn(en[xn])}),{})))})}}var Qt=s(4),Dt=s(39);function Et(cr){return!!cr.match(/^[a-zA-Z0-9-_.,:?'"()@\/\\#$+ ]{1,255}$/)}var xt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};function pt({func:cr,delay:Gt,immediate:en}){let fn=!1,En=setTimeout(function or(){return xt(this,void 0,void 0,function*(){if(fn)return;const ar=new Date().getTime();try{xn=cr(),yield xn}finally{if(!fn){const nr=new Date().getTime();En=setTimeout(or,Math.max(Gt-(nr-ar),0))}}})},en?0:Gt),xn=Promise.resolve();return{stop(){return xt(this,void 0,void 0,function*(){fn=!0,clearTimeout(En),yield xn})}}}var Vt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};const nn=s(226),on=!!Qt.c,bt=new class{constructor(cr){this.samplePeriodSeconds=60,this.buffer={},this.reporters=[],this.flushInterval=pt({func:()=>this.flushStats(),delay:this.samplePeriodSeconds*nt.a.second}),this.tags=this.filterTags((cr==null?void 0:cr.tags)||{app:Qt.a,version:Qt.j,namespace:Qt.i,instanceId:Dt.a})}shutdown(){return Vt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(st.a)(2*nt.a.second)})}aggregate(cr,Gt,en){this.addToBuffer(this.buffer,this.encodeKey({metric:cr,tags:this.filterTags(en||{})}),typeof Gt=="number"?{min:Gt,max:Gt,sum:Gt,count:1}:Gt)}increment(cr,Gt){this.aggregate(cr,1,Gt)}timer(cr,Gt,en){return Vt(this,void 0,void 0,function*(){const fn=nn(),En=yield Gt(),xn=nn();return this.aggregate(cr,xn-fn,en),En})}registerStatsReporter(cr){this.reporters.push(cr)}setTag(cr,Gt){const en=this.filterTags({[cr]:Gt});this.tags=Object.assign(Object.assign({},this.tags),en)}addToBuffer(cr,Gt,en){if(cr[Gt]){const{min:fn,max:En,sum:xn,count:or}=cr[Gt];cr[Gt]={min:Math.min(fn,en.min),max:Math.max(En,en.max),sum:xn+en.sum,count:or+en.count}}else cr[Gt]=en}write(cr){return Vt(this,void 0,void 0,function*(){yield Promise.all(this.reporters.map(Gt=>Vt(this,void 0,void 0,function*(){let en;const fn={};switch(Gt.type){case"simple":for(const[xn,or]of Object.entries(cr)){const{metric:ar}=this.decodeKey(xn);this.addToBuffer(fn,this.encodeKey({metric:ar}),or)}en=fn;break;case"tagged":en=cr;break;default:(function(xn){throw new Error(`Unreachable type encountered (${xn})`)})(Gt.type)}const En=Object.entries(en);if(En.length>0)return Gt.send(En.map(([xn,or])=>{const{metric:ar,tags:nr}=this.decodeKey(xn);return{name:ar,tags:Object.assign(Object.assign({},nr),this.tags),stat:or}}),this.samplePeriodSeconds).catch(xn=>{ut.a.debug(`Failed to write stats to ${Gt.name}`,{error:xn})})})))})}flushStats(){return Vt(this,void 0,void 0,function*(){yield this.write(this.buffer),this.buffer={}})}encodeKey(cr){return _t()(Object.assign(Object.assign({},cr),Object.keys(cr.tags||{}).length>0?{tags:cr.tags}:{}))}decodeKey(cr){return JSON.parse(cr)}filterTags(cr){return Object.entries(cr||{}).reduce((Gt,[en,fn])=>(Et(en)&&Et(fn)&&(Gt[en]=fn),Gt),{})}};on||["local","on-prem"].includes(Qt.i)||bt.registerStatsReporter(new wt("stats"));var St=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class It extends class{constructor(Gt){this.options=Gt,this.cache=new dt.a(Object.assign(Object.assign(Object.assign({},Gt.dispose||Gt.disposeAfter?{ttlAutopurge:!0}:{}),Gt),{dispose:(...en)=>{var fn;en[2]==="evict"&&bt.increment("lru-eviction",{name:Gt.name}),(fn=Gt.dispose)===null||fn===void 0||fn.call(Gt,...en)},disposeAfter:(...en)=>{var fn;this.updateStats(),(fn=Gt.disposeAfter)===null||fn===void 0||fn.call(Gt,...en)}})),this.stringify=Gt.fastStringify?JSON.stringify:_t.a}set(Gt,en,fn){const En=this.stringify(Gt);if(!this.cache.set(En,en,{ttl:fn})){const xn=this.cache.sizeCalculation?this.cache.sizeCalculation(en,En):"unknown";throw Error(`Value too large (${xn} > ${this.cache.max})`)}this.updateStats()}get(Gt){const{name:en}=this.options,fn=this.stringify(Gt),En=this.cache.getRemainingTTL(fn);return En<=0?bt.increment("cache-miss",{name:en}):En!==1/0&&bt.aggregate("cache-item-ttl",En,{name:en}),this.cache.get(fn)}delete(Gt){this.cache.delete(this.stringify(Gt))}peek(Gt){return this.cache.peek(this.stringify(Gt))}size(){return this.cache.size}clear(){this.cache.clear()}forEach(Gt){this.cache.forEach(Gt)}purgeStale(){return this.cache.purgeStale()}updateStats(){const{name:Gt}=this.options;bt.aggregate("cache-item-count",this.cache.size,{name:Gt}),this.cache.calculatedSize!==void 0&&bt.aggregate("cache-length",this.cache.calculatedSize,{name:Gt})}}{constructor(Gt){if(super(Gt),this.expireRejectedPromiseValues=Gt.expireRejectedPromiseValues===void 0||Gt.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=Gt.rejectedPromiseValueTtl!==void 0?Gt.rejectedPromiseValueTtl:nt.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(Gt,en,fn){super.set(Gt,en,fn),this.expireRejectedPromiseValues&&en.catch(()=>St(this,void 0,void 0,function*(){yield Object(st.a)(this.rejectedPromiseValueTtl),this.peek(Gt)===en&&this.delete(Gt)}))}}var Bt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class Lt{constructor(Gt,en,fn){this.authClient=Gt,this.email=en,this.password=fn,this.tokenTtlMs=1*nt.a.hour,this.tokenCache=new It({name:"Credentials-tokenCache",max:100,ttl:this.tokenTtlMs-5*nt.a.minute,fastStringify:!0})}getToken(){return Bt(this,void 0,void 0,function*(){let Gt=this.tokenCache.get(this.email);return Gt||(Gt=(()=>Bt(this,void 0,void 0,function*(){const{authentication:en}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/nt.a.second});if(!en)throw new Error("User account not verified.");return en.accessToken}))(),this.tokenCache.set(this.email,Gt)),Gt})}}var Xt=s(97),zt=s(40),Pt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class jt extends zt.a{constructor(Gt){super(Gt)}postLanRtcOffer(Gt){return Pt(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(Gt)})})}}var Zt=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};function Ct(cr){return Zt(this,void 0,void 0,function*(){return(yield Promise.all(cr.map(Gt=>Gt.catch(en=>en)))).filter(Gt=>Gt instanceof Error)})}function Ft(cr){if(cr!==void 0)return cr;throw new Error("Value is undefined")}function Ht(cr,Gt){const en=cr.reduce((fn,En)=>[...fn,...En.urls],[]).filter(fn=>tn(fn,Gt)).sort(fn=>mn(fn,"udp")?-1:0).shift();if(en)return Object.assign(Object.assign({},Ft(cr.find(fn=>fn.urls.includes(en)))),{urls:[en]})}function tn(cr,Gt){switch(Gt){case"stun":return/^stuns?:/.test(cr);case"turn":return/^turns?:/.test(cr)}}function mn(cr,Gt){return cr.endsWith(`transport=${Gt}`)}var yn=s(9),vn=s(24),un=s(229),rn=s(29);const At={ordered:!1,maxPacketLifeTime:300*nt.a.millisecond},Mt={ordered:!0},$t={ordered:!0},pn={ordered:!1,maxRetransmits:0},hn={ordered:!1,maxRetransmits:0},Sn=cr=>"received"in cr&&cr.received!==void 0,An=cr=>!("received"in cr)||cr.received===void 0,Gn=2*nt.a.second;function Qr(cr,Gt={}){const en=Array.from(cr.values()),fn=en.filter(Sn),En=fn.length>0,xn=Math.max(...fn.map(Zn=>Zn.received));let or;if(En){const Zn=en.length,On=fn.length,io=fn.map(ur=>ur.received-ur.sent),{standardDeviation:Mn,mean:wn,jitter:Tn}=function(ur){const mr=ur.length;if(mr===0)return{mean:NaN,standardDeviation:-1,jitter:NaN};const hr=ur.reduce((Kr,zr)=>Kr+zr,0)/mr,br=Math.sqrt(ur.map(Kr=>Math.pow(Kr-hr,2)).reduce((Kr,zr)=>Kr+zr)/mr);let Nr=0;for(let Kr=1;Kr<mr;++Kr)Nr+=Math.abs(ur[Kr]-ur[Kr-1]);return{mean:hr,standardDeviation:br,jitter:Nr/(mr-1)}}(io),zn=en.filter(ur=>ur.sent<xn-Gn),Kn=zn.filter(An),lr=Kn.length===0?0:Kn.length/zn.length;or={pingsSent:Zn,pongsReceived:On,average:wn,standardDeviation:Mn,jitter:Tn,max:Math.max(...io),min:Math.min(...io),loss:lr}}else or=null;const{temporalNow:ar=Date.now()}=Gt,nr=(En?xn:ar)-4*Gn;return Array.from(cr.entries()).forEach(Zn=>{const[On,io]=Zn;io.sent<nr&&cr.delete(On)}),or}function _i({entityId:cr,streamName:Gt,streamType:en}){return`${cr}.${Gt}.${en}`}var Pr=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class po{constructor(Gt,en){this.sessionId=Gt,this.connection=en,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=Gt,this.connection=en}updateRemoteMessagesCounts(Gt){if(Gt.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const en of Gt.payload.streamsInfo.items)this.counts.remoteSent.set(en.streamId,en.sentCount),this.counts.remoteReceived.set(en.streamId,en.receivedCount)}}getLocalStreamsInfo(Gt){const{localSent:en,localReceived:fn}=this.counts;return{items:[...new Set([...en.keys(),...fn.keys()])].map(En=>{var xn,or;return{streamId:En,sentCount:(xn=en.get(En))!==null&&xn!==void 0?xn:0,receivedCount:(or=fn.get(En))!==null&&or!==void 0?or:0}}),timestamp:Gt}}incrementLocalSent(Gt){const{localSent:en}=this.counts,fn=_i(Gt.header.stream);en.set(fn,(en.get(fn)||0)+1)}incrementLocalReceived(Gt){const{localReceived:en}=this.counts,fn=_i(Gt.header.stream),En=en.get(fn)||0;if(En===0){const{streamName:xn,streamType:or}=Gt.header.stream;ut.a.debug("RTC client received first message for stream",{streamName:xn,streamType:or})}en.set(fn,En+1)}uploadMetrics(){return Pr(this,void 0,void 0,function*(){const{sessionId:Gt}=this,en=yield this.connection.peerConnection.getStats(),fn={};en.forEach(Zn=>fn[Zn.id]=Zn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},fn),{sessionId:Gt}));const{localSent:En,localReceived:xn,remoteSent:or,remoteReceived:ar}=this.counts,nr=[...new Set([...En.keys(),...xn.keys()])].reduce((Zn,On)=>{const io=En.get(On),Mn=xn.get(On),wn=or.get(On),Tn=ar.get(On);return Object.assign(Object.assign({},Zn),{[`local-${On}-sent`]:io,[`local-${On}-received`]:Mn,[`remote-${On}-sent`]:wn,[`remote-${On}-received`]:Tn})},{sessionId:Gt});ut.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},nr))})}}function jr(cr,Gt,en){return{header:{stream:cr,created:Date.now(),frameId:en||""},payload:Gt}}function Yr(cr){return new Set(["disconnected","failed","closed"]).has(cr.iceConnectionState)}function no(cr){switch(cr.header.stream.streamType){case"twist":{const{twist:Gt}=cr.payload;if(!Gt)throw Error("twist not in payload of RTC message with type twist");return{header:cr.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},Gt.linear),angular:Object.assign({x:0,y:0,z:0},Gt.angular)}}}}case"pose":{const{pose:Gt}=cr.payload;if(!Gt)throw Error("pose not in payload of RTC message with type pose");return{header:cr.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},Gt.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Gt.rotation)}}}}case"pose-with-covariance":{const{poseWithCovariance:Gt}=cr.payload;if(!Gt)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const en=new Array(36).fill(0);return Gt.covariance.forEach((fn,En)=>{if(En>=36)throw Error("covariance contains more than 36 elements");en[En]=fn}),{header:cr.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},Gt.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Gt.pose.rotation)},covariance:en}}}}case"point":{const{point:Gt}=cr.payload;if(!Gt)throw Error("point not in payload of RTC message with type point");return{header:cr.header,payload:{point:Object.assign({x:0,y:0,z:0},Gt)}}}default:return cr}}var Qo=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class Co{constructor(Gt,en,fn){this.peerConnection=Gt,this.config=en,this.dataChannelNotifier=fn,this.connectTimeoutMs=20*nt.a.second,this.iceGatheringTimeoutMs=15*nt.a.second,this.pingUpdateTimeoutMs=1*nt.a.second,this.pingV2UpdateTimeoutMs=250*nt.a.millisecond,this.pingV2MetricsGatherTimeoutMs=1*nt.a.second,this.streamsInfoUpdateTimeoutMs=2*nt.a.second,this.reassemblyTimeoutMs=500*nt.a.millisecond,this.reassemblyTableCleanupMs=1*nt.a.second,this.heartbeatTimeoutMs=20*nt.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1,this.pingV2Map=new Map,this.sendPingV2=()=>{const{latestTryOnceStreamChannel:xn}=this;if(!xn)return;const or=new Date().getTime(),ar=Object(un.a)();this.sendSystemMessage(xn,{type:"ping-v2",payload:{timestamp:or,id:ar}}),this.pingV2Map.set(ar,{sent:or})},this.gatherPingV2Metrics=()=>{const xn=Qr(this.pingV2Map);xn&&(this.pingInfo=xn,bt.aggregate("rtc-ping-average",xn.average),bt.aggregate("rtc-ping-loss",xn.loss),bt.aggregate("rtc-jitter",xn.jitter))};const{isOffer:En}=en.baseConfig;En?this.initializeChannels(Gt):Gt.ondatachannel=xn=>{switch(xn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=xn.channel;break;case"stream.reliable":this.reliableStreamChannel=xn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=xn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=xn.channel;break;case"heartbeat":return void(this.heartbeatChannel=xn.channel);default:return void this.dataChannelNotifier(xn.channel)}this.setupChannel(xn.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:xn}=this;xn&&this.sendSystemMessage(xn,{type:"ping"})},this.pingUpdateTimeoutMs),this.pingV2UpdateTimeout=setInterval(this.sendPingV2,this.pingV2UpdateTimeoutMs),this.pingV2MetricsGatherTimeout=setInterval(this.gatherPingV2Metrics,this.pingV2MetricsGatherTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:xn}=this;xn&&this.sendSystemMessage(xn,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const xn=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((or,ar,nr)=>{xn>ar+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(or)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:xn}=this;xn&&xn.readyState==="open"&&xn.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(Gt){return Qo(this,void 0,void 0,function*(){const{peerConnection:en}=this,{track:fn}=this.config.baseConfig,En=(()=>{try{return JSON.parse(Gt.getPayload())}catch{return}})();if(!En)return void ut.a.error("Received unparseable signal.");ut.a.debug("Handling signal",{description:En});const{sdp:xn,type:or}=En;if(!xn||!or)return void ut.a.warn("Received non-SDP signal");const{signalingState:ar,connectionState:nr}=en;if(ar!=="stable"||nr!=="connected")if(en.remoteDescription)ut.a.warn(`Received SDP after remote description was set: ${xn}`);else{if(or==="offer"){if(ar!=="stable")return void ut.a.warn("Received offer SDP when signaling is ongoing.");yield en.setRemoteDescription(En);const Zn=yield en.createAnswer();yield en.setLocalDescription(Zn);const On=Gt.clone();return fn==null||fn("Answer Received",On),On.setPayload(JSON.stringify(Zn)),On.setReceiverId(Gt.getSenderId()),On.setSenderId(Gt.getReceiverId()),On}if(or==="answer"){if(ar==="stable")return void ut.a.warn("Received answer SDP when signaling hasn't started.");yield en.setRemoteDescription(En)}}else ut.a.warn(`Received SDP when already connected: ${xn}`)})}send(Gt,en){const fn=this.getChannelFromLabel(en.channelLabel);fn?this.sendOnChannel(fn,Gt):ut.a.warn("Send called with unexpected channel label",{channelLabel:en.channelLabel})}controlRemoteStream(Gt){this.sendSystemMessage(Ft(this.reliableStreamChannel),{type:"stream-control",streamControl:Gt})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:Gt,latestTtlStreamChannel:en,latestTryOnceStreamChannel:fn,latestReliableStreamChannel:En}=this;return(Gt==null?void 0:Gt.readyState)==="open"&&(en==null?void 0:en.readyState)==="open"&&(fn==null?void 0:fn.readyState)==="open"&&(En==null?void 0:En.readyState)==="open"}close(){return Qo(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),Jo(this.pingUpdateTimeout),Jo(this.pingV2UpdateTimeout),Jo(this.pingV2MetricsGatherTimeout),Jo(this.reassemblyTableCleanupTimeout),Jo(this.streamsInfoUpdateTimeout),Jo(this.heartbeatTimeout);const{peerConnection:Gt,reliableStreamChannel:en,latestTtlStreamChannel:fn,latestTryOnceStreamChannel:En,latestReliableStreamChannel:xn}=this;Gt.close(),en==null||en.close(),fn==null||fn.close(),En==null||En.close(),xn==null||xn.close()})}getPing(){return this.pingTimeMs}getPingInfo(){return this.pingInfo}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var Gt;return(Gt=this.config.remoteConfig)===null||Gt===void 0?void 0:Gt.sessionCreatedTimestamp}setSessionCreatedTimestamp(Gt){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=Gt)}getSessionId(){var Gt;return(Gt=this.config.remoteConfig)===null||Gt===void 0?void 0:Gt.sessionId}setSessionId(Gt){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=Gt,this.sessionMetrics=new po(Gt,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var Gt;return(Gt=this.config.baseConfig)===null||Gt===void 0?void 0:Gt.remoteDeviceId}setRemoteDeviceId(Gt){this.config.baseConfig.remoteDeviceId=Gt}getSessionMetricsMessageCounts(){var Gt;return(Gt=this.sessionMetrics)===null||Gt===void 0?void 0:Gt.counts}getConnectionStatsInfo(){return Qo(this,void 0,void 0,function*(){const{peerConnection:Gt}=this;if(!Gt)return;const en=yield Gt.getStats(null),fn=[];en.forEach(nr=>{fn.push(nr)});const En=fn.find(nr=>nr.type==="transport");if(!En)return;const xn=fn.find(nr=>(nr.type==="candidate-pair"||nr.type==="candidatepair")&&nr.id===En.selectedCandidatePairId);if(!xn)return;const or=fn.find(nr=>nr.id===xn.localCandidateId),ar=fn.find(nr=>nr.id===xn.remoteCandidateId);return or&&ar&&(or.address=or.address||or.ip,ar.address=ar.address||ar.ip,or.address!==void 0&&ar.address!==void 0)?{transport:En,localCandidate:or,remoteCandidate:ar}:void 0})}initializeChannels(Gt){this.heartbeatChannel=Gt.createDataChannel("heartbeat",hn),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=Gt.createDataChannel("stream.latest-ttl",At),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=Gt.createDataChannel("stream.reliable",Mt),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=Gt.createDataChannel("stream.latest-reliable",$t),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=Gt.createDataChannel("stream.latest-try-once",pn),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var Gt,en,fn;return Qo(this,void 0,void 0,function*(){const{gotOffer:En}=this,{peerConnection:xn,config:or}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const ar=(Gt=this.config.remoteConfig)===null||Gt===void 0?void 0:Gt.sessionId;if(En)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Yr(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");const nr=or.baseConfig.track;xn.onicecandidate=()=>{this.hasIceCandidate=!0},xn.oniceconnectionstatechange=()=>Qo(this,void 0,void 0,function*(){const wn=xn.iceConnectionState;if(wn==="connected"||wn==="completed"){const Tn=yield this.getConnectionStatsInfo(),zn=Tn?function(Kn){const lr=Kn.localCandidate.candidateType,ur=Kn.remoteCandidate.candidateType;return lr==="host"&&ur==="host"?"local":lr==="relay"||ur==="relay"?"TURN":"STUN"}(Tn):void 0;ut.a.info(`ICE connection state changed to ${wn}`,{sessionId:ar,connectionStatsInfo:Tn,iceMode:zn}),nr==null||nr("ICE connection state change",{iceConnectionState:wn,sessionId:ar,connectionStatsInfo:Tn,iceMode:zn})}}),yield xn.setLocalDescription(yield xn.createOffer());const Zn=new Date().getTime();for(;;){const wn=new Date().getTime()-Zn;if(wn>this.connectTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(wn>this.iceGatheringTimeoutMs&&this.hasIceCandidate){ut.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn}),nr==null||nr("ICE gathering partially completed",{sessionId:ar,iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn});break}if(xn.iceGatheringState==="complete"){ut.a.debug("ICE gathering complete",{iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn}),nr==null||nr("ICE gathering completed",{sessionId:ar,iceTransportPolicy:xn.getConfiguration().iceTransportPolicy,waitTime:wn});break}yield Object(st.a)(.1*nt.a.second)}const On=(en=this.peerConnection.getConfiguration().iceServers)!==null&&en!==void 0?en:[];for(const wn of On)wn.credentialType=void 0;const io=JSON.stringify(On),Mn=new yn.Signal;return Mn.setPayload(JSON.stringify(xn.localDescription)),Mn.setSenderId(this.config.baseConfig.localPeerId),Mn.setReceiverId(this.config.baseConfig.remotePeerId),Mn.setIceServers(io),Mn.setIceTransportPolicy((fn=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&fn!==void 0?fn:"all"),this.config.baseConfig.sessionType!==void 0?Mn.setSessionType(this.config.baseConfig.sessionType):Mn.setSessionType(yn.SessionType.TELEOP),ut.a.debug("Sending offer signal with description",{description:Mn.getPayload()}),Mn})}getLanOffer(){return Qo(this,void 0,void 0,function*(){const{peerConnection:Gt,gotOffer:en}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(en)return void ut.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Yr(this.peerConnection))return void ut.a.debug("Failed to generate offer because the peer connection was inactive.");yield Gt.setLocalDescription(yield Gt.createOffer());const fn=new Date().getTime();for(;;){if(new Date().getTime()-fn>this.iceGatheringTimeoutMs)return void ut.a.debug("Failed to generate offer because ICE gathering timed out.");if(Gt.iceGatheringState==="complete")break;yield Object(st.a)(.1*nt.a.second)}const En=Gt.localDescription;if(En)return ut.a.debug("Sending LAN offer signal with description",{description:En}),En;ut.a.error("Failed to generate LAN offer description")})}handleLanAnswer(Gt){return Qo(this,void 0,void 0,function*(){const{peerConnection:en}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield en.setRemoteDescription(Gt)})}getChannelFromLabel(Gt){switch(Gt){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Gt,en){let fn;try{fn=Object(rn.encode)(JSON.stringify(en))}catch(En){return void ut.a.warn("Failed to encode RTC message",{error:En})}try{Gt.send(fn),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(en)}catch(En){ut.a.warn("Failed to send message to channel",{error:En,channel:Gt.label})}}channelNotRecognized(Gt){return Gt!==this.latestTtlStreamChannel&&Gt!==this.latestReliableStreamChannel&&Gt!==this.latestTryOnceStreamChannel&&Gt!==this.reliableStreamChannel}setupChannel(Gt){Gt.onmessage=en=>{if(this.channelNotRecognized(Gt))return void ut.a.warn("Received message on unrecognized data channel.");let fn;try{fn=JSON.parse(Object(rn.decode)(en.data))}catch(En){return void ut.a.warn("Received unparseable message on RTC stream data channel",{error:En,channel:Gt.label})}fn.communicationType==="message-chunk"?this.receiveChannelMessageChunk(Gt,fn):this.receiveChannelMessage(Gt,fn)},Gt.onerror=en=>{ut.a.warn(`Channel error: ${en.error}`,{error:en.error,sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onclose=()=>{const en={bufferedAmount:Gt.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Gt.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",en):ut.a.debug("Channel closed",en)}}receiveChannelMessage(Gt,en){const{config:fn}=this,{remotePeerId:En}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),en=no(en),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(en),this.handleSystemMessage(Gt,en)||(Gt===this.latestTryOnceStreamChannel||Gt===this.latestTtlStreamChannel||Gt===this.latestReliableStreamChannel)&&!this.isLatestMessage(en)||fn.baseConfig.receive(En,en)}receiveChannelMessageChunk(Gt,en){const fn=this.reassemblyTable.get(en.id)||[];if(fn.push(en),fn.length===en.total){const En=function(xn){const or=xn.sort((ar,nr)=>ar.seq<nr.seq?-1:1).map(ar=>ar.part).reduce((ar,nr)=>ar+nr);try{return JSON.parse(or)}catch{return void ut.a.warn("Could not reassemble RTC message chunks")}}(fn);return En&&this.receiveChannelMessage(Gt,En),void this.reassemblyTable.delete(en.id)}this.reassemblyTable.set(en.id,fn),this.reassemblyTableLastTimestamp.set(en.id,new Date().getTime())}handleSystemMessage(Gt,en){var fn,En;const{config:xn}=this,{baseConfig:or}=xn,{remotePeerId:ar}=or;switch(en.header.stream.streamType){case"ping":return this.sendSystemMessage(Gt,{type:"pong",timestamp:Ft(en.payload.ping)}),!0;case"pong":{const nr=new Date().getTime()-Ft(en.payload.pong);return this.pingTimeMs=nr,bt.aggregate("rtc-ping-time",nr),!0}case"ping-v2":return this.sendPingV2(),!0;case"pong-v2":{const nr=Ft(en.payload.pongV2),Zn=this.pingV2Map.get(nr.id);return(Zn==null?void 0:Zn.sent)!==nr.timestamp?(ut.a.warn("Pong timestamp doesn't match stored value",{currentEntry:Zn,pong:nr}),!0):(this.pingV2Map.set(nr.id,{sent:nr.timestamp,received:new Date().getTime()}),!0)}case"streams-info":{const{sessionMetrics:nr}=this,Zn=(fn=en.payload.streamsInfo)===null||fn===void 0?void 0:fn.timestamp;return!!Zn&&(nr==null||nr.updateRemoteMessagesCounts(en),(En=or.onStreamsInfoUpdate)===null||En===void 0||En.call(or,ar,Zn),!0)}case"stream-control":return!0;default:return!1}}sendSystemMessage(Gt,en){var fn;const{localUserId:En,localPeerId:xn}=this.config.baseConfig;if(Gt.readyState!=="open")return;const or={entityId:En??xn,streamName:`$.${en.type}`,streamType:en.type};let ar;switch(en.type){case"ping":ar={ping:new Date().getTime()};break;case"pong":ar={pong:en.timestamp};break;case"ping-v2":ar={pingV2:en.payload};break;case"pong-v2":ar={pongV2:en.payload};break;case"stream-control":ar={streamControl:en.streamControl};break;case"streams-info":ar={streamsInfo:(fn=this.sessionMetrics)===null||fn===void 0?void 0:fn.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(Gt,jr(or,ar))}isLatestMessage(Gt){const en=_i(Gt.header.stream),fn=(this.streamLatestTimestamp.get(en)||0)<=Gt.header.created;return fn&&this.streamLatestTimestamp.set(en,Gt.header.created),fn}}function Jo(cr){cr&&clearInterval(cr)}function es(cr){var Gt,en;return{userId:(Gt=cr.getUserId())===null||Gt===void 0?void 0:Gt.getValue(),deviceId:(en=cr.getDeviceId())===null||en===void 0?void 0:en.getValue(),organizationId:cr.getOrganizationId(),id:cr.getPeerId(),capabilities:[],capabilitySet:{}}}var xo=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class ls{constructor(Gt){this.config=Gt,this.grpcCallDeadline=5*nt.a.second,this.refreshIntervalDelayMs=2*nt.a.second,this.iceServersTtl=30*nt.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:en}=this;this.refreshInterval=pt({func:()=>xo(this,void 0,void 0,function*(){try{yield this.update()}catch(fn){ut.a.warn("RTC refresh failed",{error:fn})}}),delay:en,immediate:!0})}send(Gt,en,fn){const En=this.getActiveConnection(Gt);En?En.isReady()?En.send(en,fn):ut.a.warn("Send called with unready connection."):ut.a.warn("Send called with no connection.")}controlRemoteStream(Gt,en){const fn=this.getActiveConnection(Gt);fn?fn.isReady()?fn.controlRemoteStream(en):ut.a.warn("controlRemoteStream called with unready connection."):ut.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return xo(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(st.a)(.1*nt.a.second);return es(this.localPeer)})}connect(Gt,en){var fn,En,xn;return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:or,signalingClient:ar}=this.config,{localPeer:nr,receiveSignalStream:Zn,iceServers:On}=this;if(!nr||!Zn||!On)return void ut.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(Gt))return void ut.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(Gt))return void ut.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(Gt,!0);const io=function(ur,mr,hr){const{rtcIceTransportPolicies:br,rtcIceServerProtocol:Nr,useAllServers:Kr}=mr||{},zr=ur.map(So=>Object.assign(Object.assign({},So),{urls:So.urls.filter(Bo=>{const Ao=(br===void 0||br.some(No=>tn(Bo,No)))&&(Nr===void 0||mn(Bo,Nr));return Ao||ut.a.debug(`Ignoring ICE server: ${Bo}`,{organizationId:hr}),Ao})})).filter(({urls:So})=>So.filter(Bo=>Bo).length>0);return Kr?zr:[Ht(zr,"stun"),Ht(zr,"turn")].filter(So=>So!==void 0).map(So=>Ft(So))}(On,en);ut.a.debug("Received ICE servers:",On),ut.a.debug("Using ICE servers:",io);const Mn=new Co(yield this.createRTCPeerConnection(io),{baseConfig:{isOffer:!0,isLan:!1,receive:(ur,mr)=>this.config.receive(ur,mr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(ur,mr)=>{var hr,br;return(br=(hr=this.config).onStreamsInfoUpdate)===null||br===void 0?void 0:br.call(hr,ur,mr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(fn=nr.getUserId())===null||fn===void 0?void 0:fn.getValue(),localPeerId:nr.getPeerId(),remotePeerId:Gt,sessionType:this.config.sessionType},remoteConfig:{}},ur=>this.onCustomDataChannel(Gt,ur)),wn=yield Mn.getOffer();if(!wn)return ut.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(Gt);ut.a.debug("Sending offer."),or==null||or("Sending offer",wn);const Tn=new yn.SendSignalRequest;Tn.setSignal(wn);const zn=yield(()=>xo(this,void 0,void 0,function*(){try{return yield ar.sendSignal(Tn,yield this.getMetadata({}))}catch(ur){ut.a.warn("Error when sending signal",{error:ur})}}))();if(!this.isOutgoingConnection.get(Gt))return void ut.a.debug("No offer set after receiving offer signal response.");ut.a.debug("Offer sent.");const Kn=(En=zn==null?void 0:zn.getSessionId())===null||En===void 0?void 0:En.getValue(),lr=(xn=zn==null?void 0:zn.getSessionCreatedTimestamp())===null||xn===void 0?void 0:xn.getValue();return Kn&&lr?(Mn.setSessionId(Kn),Mn.setSessionCreatedTimestamp(lr),this.isOutgoingConnection.delete(Gt),this.connections.push(Mn),this.isConnectionInitiator.set(Mn,!0),this.setupHandlers(Mn),Kn):(ut.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(Gt))})}connectLan(Gt){var en,fn;return xo(this,void 0,void 0,function*(){const En=new jt(Gt),xn=new Co(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(Zn,On)=>this.config.receive(Zn,On),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Zn,On)=>{var io,Mn;return(Mn=(io=this.config).onStreamsInfoUpdate)===null||Mn===void 0?void 0:Mn.call(io,Zn,On)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(fn=(en=this.localPeer)===null||en===void 0?void 0:en.getUserId())===null||fn===void 0?void 0:fn.getValue(),localPeerId:"lan_client",remotePeerId:Gt}},Zn=>this.onCustomDataChannel(Gt,Zn)),or=yield xn.getLanOffer();if(!or)return ut.a.warn("Could not generate LAN offer"),!1;const ar=yield En.postLanRtcOffer({offer:JSON.stringify(or)}),nr=new RTCSessionDescription(JSON.parse(ar.answer));return yield xn.handleLanAnswer(nr),this.localConnections.push(xn),this.isConnectionInitiator.set(xn,!0),Object(un.a)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(Gt,en,fn,En,xn){const or=this.getActiveConnection(Gt);if(or&&this.isConnectionInitiator.has(or)){const nr=or.peerConnection.createDataChannel("custom."+en,fn);return En&&(nr.binaryType="arraybuffer"),xn(Gt,nr),()=>{}}const ar=(nr,Zn)=>{Gt===nr&&Zn.label==="custom."+en&&xn(Gt,Zn)};return this.peerDataChannelListeners.push(ar),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(nr=>nr!==ar)}}onCustomDataChannel(Gt,en){this.peerDataChannelListeners.forEach(fn=>fn(Gt,en))}getConnectionStatus(Gt){if(this.isOutgoingConnection.get(Gt))return"connecting";const en=this.getActiveConnection(Gt);return en?en.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(Gt){return xo(this,void 0,void 0,function*(){const en=this.getActiveConnection(Gt);if(en)return yield en.getConnectionStatsInfo()})}disconnect(Gt){return xo(this,void 0,void 0,function*(){const en=this.getActiveConnection(Gt);en&&(yield en.close())})}getPeers(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,en=yield(()=>xo(this,void 0,void 0,function*(){try{return yield Gt.getPeers(new yn.GetPeersRequest,yield this.getMetadata({}))}catch(xn){ut.a.warn("Error when getting peers",{error:xn})}}))();if(!en)return[];const fn=en.getPeersList();if(!fn)return[];const En=xn=>{var or,ar;return(ar=(or=xn.getPeerCreatedTimestamp())===null||or===void 0?void 0:or.getValue())!==null&&ar!==void 0?ar:0};return fn.sort((xn,or)=>En(or)-En(xn)).map(xn=>es(xn))})}getSessions(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,en=yield(()=>xo(this,void 0,void 0,function*(){try{return yield Gt.getPeers(new yn.GetPeersRequest,yield this.getMetadata({}))}catch(xn){ut.a.warn("Error when getting peers",{error:xn})}}))();if(!en)return{};const fn=en.getPeersList(),En={};for(const xn of fn)En[xn.getPeerId()]=xn.getSessionIdsList();return En})}getPing(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getPingInfo(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getPingInfo();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getLastMessageTimestamp();ut.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getSessionMetricsMessageCounts();ut.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:Gt,receiveSignalStream:en,iceServers:fn}=this;return!!(Gt&&en&&fn)}shutdown(){return xo(this,void 0,void 0,function*(){ut.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const Gt=this.connections;this.connections=[],yield this.closeConnections(Gt);const{localPeer:en}=this;if(!en||this.config.lanOnlyMode)return;const{signalingClient:fn}=this.config;yield(()=>xo(this,void 0,void 0,function*(){try{const En=new yn.DeletePeerRequest;En.setPeerId(en.getPeerId()),yield fn.deletePeer(En,yield this.getMetadata({}))}catch(En){return void ut.a.warn("Error deleting local peer",{error:En})}}))()})}createPeer(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,en=yield(()=>xo(this,void 0,void 0,function*(){try{return yield Gt.createPeer(new yn.CreatePeerRequest,yield this.getMetadata({}))}catch(En){throw new Error(`Was not able to create peer: ${JSON.stringify(En)}`)}}))(),fn=en==null?void 0:en.getPeer();if(!fn)throw new Error("Response did not provide peer.");return this.localPeer=fn})}createReceiveSignalStream(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:Gt}=this.config,{localPeer:en,iceServers:fn}=this;if(!en||!fn)return;const{receiveSignalStream:En}=this;En&&En.cancel();const xn=new yn.ReceiveSignalStreamRequest;xn.setPeerId(en.getPeerId());const or=yield(()=>xo(this,void 0,void 0,function*(){try{return Gt.receiveSignalStream(xn,yield this.getMetadata({hasDeadline:!1}))}catch(ar){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(ar)}`)}}))();if(!or)throw new Error("Response did not provide stream.");return or.on("data",ar=>xo(this,void 0,void 0,function*(){var nr,Zn,On,io;const Mn=ar.getSignal(),wn=(nr=Mn==null?void 0:Mn.getSessionId())===null||nr===void 0?void 0:nr.getValue(),Tn=Mn==null?void 0:Mn.getSenderId(),zn=Mn==null?void 0:Mn.getReceiverId(),Kn=(Zn=Mn==null?void 0:Mn.getSessionCreatedTimestamp())===null||Zn===void 0?void 0:Zn.getValue();if(!(Mn&&wn&&Tn&&zn&&Kn))return void ut.a.warn("Received signal with missing information.");const lr=this.getActiveConnection(Tn);if(lr)if(lr.getSessionId()!==wn){if(ut.a.debug("Received signal: different session for a peer we're already connected to."),(lr.getSessionCreatedTimestamp()||0)>Kn)return;const ur=new Co(yield this.createRTCPeerConnection(fn),{baseConfig:{isOffer:!1,isLan:!1,receive:(mr,hr)=>this.config.receive(mr,hr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(mr,hr)=>{var br,Nr;return(Nr=(br=this.config).onStreamsInfoUpdate)===null||Nr===void 0?void 0:Nr.call(br,mr,hr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:en.getPeerId(),localUserId:(io=en.getUserId())===null||io===void 0?void 0:io.getValue(),remotePeerId:Tn},remoteConfig:{sessionId:wn,sessionCreatedTimestamp:Kn}},mr=>this.onCustomDataChannel(Tn,mr));yield ur.handleSignal(Mn),this.connections.push(ur)}else ut.a.debug("Received signal: for an existing connection."),yield lr.handleSignal(Mn);else{ut.a.debug("Received signal: new connection.");const ur=new Co(yield this.createRTCPeerConnection(fn),{baseConfig:{isOffer:!1,isLan:!1,receive:(mr,hr)=>this.config.receive(mr,hr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(mr,hr)=>{var br,Nr;return(Nr=(br=this.config).onStreamsInfoUpdate)===null||Nr===void 0?void 0:Nr.call(br,mr,hr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:en.getPeerId(),localUserId:(On=en.getUserId())===null||On===void 0?void 0:On.getValue(),remotePeerId:Tn},remoteConfig:{sessionId:wn,sessionCreatedTimestamp:Kn}},mr=>this.onCustomDataChannel(Tn,mr));yield ur.handleSignal(Mn),this.connections.push(ur)}})),or.on("end",()=>{or.cancel(),this.receiveSignalStream=void 0}),or.on("error",ar=>{switch(ar.code){case vn.StatusCode.CANCELLED:case vn.StatusCode.UNAVAILABLE:case vn.StatusCode.UNKNOWN:ut.a.debug("Receive signal stream error",{error:ar});break;case vn.StatusCode.UNAUTHENTICATED:ut.a.warn("Receive signal stream error",{error:ar});break;default:ut.a.error("Receive signal stream error",{error:ar})}or.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=or})}createRTCPeerConnection(Gt){var en;return xo(this,void 0,void 0,function*(){const fn=(en=this.config.alternateRTCPeerConnection)!==null&&en!==void 0?en:window.RTCPeerConnection;if(!fn)throw function(){const{userAgent:En}=navigator;return En.includes("Firefox/")?"Firefox":En.includes("Edg/")?"Edge":En.includes("Chrome/")?"Chrome":En.includes("Safari/")?"Safari":En.includes("MSIE/")||En.includes("Trident/")?"IE":"Other"}()!=="Chrome"?new Error("WebRTC is not enabled. Please try again with the latest version of Google Chrome."):new Error("WebRTC is not enabled. Please ensure WebRTC is not disabled by ad blocking software.");return new fn({iceServers:Gt})})}closeConnections(Gt){return xo(this,void 0,void 0,function*(){const en=yield Ct(Gt.map(fn=>xo(this,void 0,void 0,function*(){yield fn.close()})));for(const fn of en)ut.a.warn("Request to close session failed",{error:fn})})}getActiveConnection(Gt){return this.getConnections().find(en=>en.getRemotePeerId()===Gt&&en.isActive())}update(){var Gt;return xo(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(ar=>ar.isActive()),this.config.lanOnlyMode)return;const{signalingClient:en}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(ar=>!ar.isActive())),this.connections=this.connections.filter(ar=>ar.isActive());const{localPeer:fn}=this,En=this.connections.filter(ar=>ar.getSessionId).map(ar=>Ft(ar.getSessionId()));fn.setSessionIdsList(En);const xn=new yn.RefreshPeerRequest;xn.setPeer(fn);try{yield en.refreshPeer(xn,yield this.getMetadata({}))}catch(ar){ar.code===vn.StatusCode.NOT_FOUND?(ut.a.warn("Peer expired, creating new peer",{peerId:fn.getPeerId()}),yield this.reset()):ut.a.warn("Error calling RefreshPeer",{error:ar})}const or=yield this.getPeers();for(const ar of this.connections)ar.setRemoteDeviceId((Gt=or.find(nr=>nr.id===ar.getRemotePeerId()))===null||Gt===void 0?void 0:Gt.deviceId)})}reset(){return xo(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:Gt,iceServersTtl:en}=this,fn=new Date().getTime();if(!Gt||fn-Gt>en)try{const En=(yield this.config.signalingClient.getIceServers(new yn.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(En),this.iceServersLastUpdate=fn}catch(En){ut.a.warn("Error in updateIceServers",{error:En})}})}setupHandlers(Gt){const{peerConnection:en}=Gt,fn=Gt.getSessionCreatedTimestamp();en.onconnectionstatechange=()=>xo(this,void 0,void 0,function*(){const En=en.connectionState;if(fn)switch(En){case"connected":bt.aggregate("rtc-connect-time",new Date().getTime()-fn);break;case"failed":bt.increment("rtc-connect-failed")}})}getMetadata(Gt){return xo(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:en}=this.config,{grpcCallDeadline:fn}=this,{hasDeadline:En}=Gt,xn=En===!1?void 0:new Date().getTime()+fn;return{authorization:yield en(),deadline:xn}})}}var Ds=s(10),hs=s(11),Hl=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class Ll{constructor(Gt,en){this.sessionId=Gt,this.connection=en,this.sentMessagesCounts=new Map,this.receivedMessagesCounts=new Map,this.sessionId=Gt,this.connection=en}incrementMessageSent(Gt){const en=_i(Gt.header.stream);this.sentMessagesCounts.set(en,(this.sentMessagesCounts.get(en)||0)+1)}incrementMessageReceived(Gt){const en=_i(Gt.header.stream);this.receivedMessagesCounts.set(en,(this.receivedMessagesCounts.get(en)||0)+1)}uploadMetrics(){return Hl(this,void 0,void 0,function*(){const{sessionId:Gt}=this,en=yield this.connection.peerConnection.getStats(),fn={};en.forEach(xn=>fn[xn.id]=xn),ut.a.debug("rtc-stats",Object.assign(Object.assign({},fn),{sessionId:Gt}));const En=[...new Set(Array.from(this.sentMessagesCounts.keys()).concat(Array.from(this.receivedMessagesCounts.keys())))].reduce((xn,or)=>{const ar=this.sentMessagesCounts.get(or),nr=this.receivedMessagesCounts.get(or);return Object.assign(Object.assign({},xn),{[`${or}-sent`]:ar,[`${or}-received`]:nr})},{sessionId:Gt});ut.a.debug("rtc-message-report",En)})}}function Ls(cr,Gt){return _i(cr)===_i(Gt)}var Us=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class cu{constructor(Gt,en){this.peerConnection=Gt,this.config=en,this.connectTimeoutMs=10*nt.a.second,this.gatherIceTimeoutMs=5*nt.a.second,this.pingUpdateTimeoutMs=2*nt.a.second,this.streamLatestTimestamp=new Map,this.closeCalled=!1,this.connectCalled=!1,this.sentOffer=!1,this.receivedIceCandidate=!1;const{isOffer:fn}=en;fn?this.initializeChannels(Gt):Gt.ondatachannel=En=>{switch(En.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=En.channel;break;case"stream.reliable":this.reliableStreamChannel=En.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=En.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=En.channel}this.setupChannel(En.channel)},this.sessionMetrics=new Ll(this.getSessionId(),this)}connect(){return Us(this,void 0,void 0,function*(){if(this.connectCalled)return;this.connectCalled=!0,this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:En}=this;En&&this.sendSystemMessage(En,{type:"ping"})},this.pingUpdateTimeoutMs),this.connectTimeout=setTimeout(()=>Us(this,void 0,void 0,function*(){this.isReady()||(ut.a.warn("RTC connect timed out, closing connection"),yield this.close())}),this.connectTimeoutMs);const{peerConnection:Gt,config:{isOffer:en,sessionId:fn}}=this;if(en){const En=yield Gt.createOffer();yield Gt.setLocalDescription(En)}en&&(this.gatherIceTimeout=setTimeout(()=>Us(this,void 0,void 0,function*(){this.sentOffer||(ut.a.warn("ICE gathering timed out"),this.receivedIceCandidate?(ut.a.warn("Attempting to connect with partial ICE candidate pool"),yield this.sendOffer()):yield this.close())}),this.gatherIceTimeoutMs),Gt.onicecandidate=En=>Us(this,void 0,void 0,function*(){En.candidate?this.receivedIceCandidate=!0:yield this.sendOffer()}),Gt.onicegatheringstatechange=()=>Us(this,void 0,void 0,function*(){Gt.iceGatheringState==="complete"&&(yield this.sendOffer())}),Gt.onnegotiationneeded=()=>{ut.a.debug("Negotiation needed",{sessionId:fn})})})}handleSignal(Gt){return Us(this,void 0,void 0,function*(){const{peerConnection:en,config:{sessionId:fn,sendSignal:En}}=this,{description:xn}=JSON.parse(Gt.payload);if(ut.a.debug("Handling signal",{sessionId:fn,description:JSON.stringify(xn)}),xn)if(en.signalingState!=="stable"||en.connectionState!=="connected")if(en.remoteDescription)ut.a.warn(`Received SDP signal during negotiation when remote description is already set: ${JSON.stringify(Gt)}`);else if(xn.type==="offer"){yield en.setRemoteDescription(xn);const or=yield en.createAnswer();yield en.setLocalDescription(or),yield En({payload:JSON.stringify({description:or})})}else xn.type==="answer"&&(yield en.setRemoteDescription(xn));else ut.a.warn(`Received SDP signal when signaling is stable and connected: ${JSON.stringify(Gt)}`);else ut.a.warn(`Received non-SDP signal: ${JSON.stringify(Gt)}`)})}send(Gt,en){const fn=this.getChannelFromLabel(en.channelLabel);fn?this.sendOnChannel(fn,Gt):ut.a.warn("Send called with unexpected channel label",{channelLabel:en.channelLabel})}controlRemoteStream(Gt){this.sendSystemMessage(Ft(this.reliableStreamChannel),{type:"stream-control",streamControl:Gt})}isActive(){return new Set(["new","connecting","connected"]).has(this.peerConnection.connectionState)}isReady(){const{peerConnection:Gt,latestTtlStreamChannel:en,reliableStreamChannel:fn,latestTryOnceStreamChannel:En}=this;return!!(fn&&en&&En)&&Gt.connectionState==="connected"&&fn.readyState==="open"&&en.readyState==="open"&&En.readyState==="open"}isClosed(){const{peerConnection:Gt,reliableStreamChannel:en,latestTryOnceStreamChannel:fn,latestTtlStreamChannel:En}=this;return!(Gt.connectionState!=="closed"||en!==void 0&&en.readyState!=="closed"||fn!==void 0&&fn.readyState!=="closed"||En!==void 0&&En.readyState!=="closed")}needsClosing(){const{peerConnection:Gt,latestTtlStreamChannel:en,reliableStreamChannel:fn,latestTryOnceStreamChannel:En}=this;if(this.isClosed())return!1;const xn=new Set(["closing","closed"]),or=ar=>ar&&xn.has(ar.readyState);return Yr(Gt)||or(en)||or(fn)||or(En)}close(){return Us(this,void 0,void 0,function*(){this.closeCalled||(this.closeCalled=!0,yield this.sessionMetrics.uploadMetrics(),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.connectTimeout&&clearTimeout(this.connectTimeout),this.gatherIceTimeout&&clearTimeout(this.gatherIceTimeout),this.peerConnection.close())})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionId(){return this.config.sessionId}getRemotePeer(){return this.config.remotePeer}initializeChannels(Gt){this.latestTtlStreamChannel=Gt.createDataChannel("stream.latest-ttl",At),this.reliableStreamChannel=Gt.createDataChannel("stream.reliable",Mt),this.latestReliableStreamChannel=Gt.createDataChannel("stream.latest-reliable",$t),this.latestTryOnceStreamChannel=Gt.createDataChannel("stream.latest-try-once",pn),this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}sendOffer(){return Us(this,void 0,void 0,function*(){if(this.sentOffer||(this.sentOffer=!0,Yr(this.peerConnection)))return;const{peerConnection:Gt,config:{sendSignal:en}}=this,fn=yield Gt.createOffer();yield Gt.setLocalDescription(fn);const En={payload:JSON.stringify({description:fn})};yield en(En)})}getChannelFromLabel(Gt){switch(Gt){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Gt,en){let fn;try{fn=Object(rn.encode)(JSON.stringify(en))}catch(En){return void ut.a.warn("Failed to encode RTC message",{error:En})}try{Gt.send(fn),this.sessionMetrics.incrementMessageSent(en)}catch(En){ut.a.warn("Failed to send message to channel",{error:En,channel:Gt.label})}}channelNotRecognized(Gt){return Gt!==this.latestTtlStreamChannel&&Gt!==this.latestReliableStreamChannel&&Gt!==this.latestTryOnceStreamChannel&&Gt!==this.reliableStreamChannel}setupChannel(Gt){Gt.onmessage=en=>{if(this.channelNotRecognized(Gt))return void ut.a.warn("Received message on unrecognized data channel.");let fn;try{fn=JSON.parse(Object(rn.decode)(en.data))}catch(En){return void ut.a.warn("Received unparseable RTC message",{error:En,channel:Gt.label})}if(this.lastMessageTimestamp=new Date().getTime(),fn=no(fn),this.sessionMetrics.incrementMessageReceived(fn),!this.handleSystemMessage(Gt,fn)){if(!this.hasCapabilities(fn))return void ut.a.warn("Received RTC message that was not within the capability scope of the connection.");(Gt===this.latestTryOnceStreamChannel||Gt===this.latestTtlStreamChannel||Gt===this.latestReliableStreamChannel)&&!this.isLatestMessage(fn)||this.config.receive(this.config.remotePeer.id,fn)}},Gt.onerror=en=>{ut.a.warn(`Channel error: ${en.error}`,{error:en.error,sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onopen=()=>{ut.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Gt.label})},Gt.onclose=()=>{const en={bufferedAmount:Gt.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Gt.label};this.closeCalled===!1?ut.a.debug("Unexpected channel closed",en):ut.a.debug("Channel closed",en)}}handleSystemMessage(Gt,en){switch(en.header.stream.streamType){case"ping":return this.sendSystemMessage(Gt,{type:"pong",timestamp:Ft(en.payload.ping)}),!0;case"pong":{const fn=new Date().getTime()-Ft(en.payload.pong);return this.pingTimeMs=fn,bt.aggregate("rtc-ping-time",fn),!0}case"stream-control":return!0;default:return!1}}sendSystemMessage(Gt,en){if(Gt.readyState!=="open")return;const fn={entityId:Ft(this.config.localPeer.deviceId||this.config.localPeer.userId),streamName:`$.${en.type}`,streamType:en.type};let En;switch(en.type){case"ping":En={ping:new Date().getTime()};break;case"pong":En={pong:en.timestamp};break;case"stream-control":En={streamControl:en.streamControl}}this.sendOnChannel(Gt,jr(fn,En))}hasCapabilities(Gt){var en,fn;const{localPeer:En,remotePeer:xn}=this.config,or=(en=En.capabilitySet.streaming)===null||en===void 0?void 0:en.streams,ar=or&&or.some(On=>On.receive&&Ls(On.stream,Gt.header.stream)),nr=(fn=xn.capabilitySet.streaming)===null||fn===void 0?void 0:fn.streams,Zn=nr&&nr.some(On=>On.send&&Ls(On.stream,Gt.header.stream));return ar||Zn}isLatestMessage(Gt){const en=_i(Gt.header.stream),fn=(this.streamLatestTimestamp.get(en)||0)<=Gt.header.created;return fn&&this.streamLatestTimestamp.set(en,Gt.header.created),fn}}var Po=function(cr,Gt,en,fn){return new(en||(en=Promise))(function(En,xn){function or(Zn){try{nr(fn.next(Zn))}catch(On){xn(On)}}function ar(Zn){try{nr(fn.throw(Zn))}catch(On){xn(On)}}function nr(Zn){var On;Zn.done?En(Zn.value):(On=Zn.value,On instanceof en?On:new en(function(io){io(On)})).then(or,ar)}nr((fn=fn.apply(cr,Gt||[])).next())})};class nu{constructor(Gt){this.config=Gt,this.connections=[],this.connectingSessions=new Map,this.updateInterval=pt({func:()=>Po(this,void 0,void 0,function*(){try{yield this.update()}catch(en){ut.a.warn("RTC update failed",{error:en})}}),delay:250*nt.a.millisecond,immediate:!0}),this.localPeer=this.createPeer()}send(Gt,en,fn){const En=this.getActiveConnection(Gt);En?En.isReady()?En.send(en,fn):ut.a.warn("Attempted to send with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to send with no active connection to that peer.")}controlRemoteStream(Gt,en){const fn=this.getActiveConnection(Gt);fn?fn.isReady()?fn.controlRemoteStream(en):ut.a.warn("Attempted to control remote stream with an active connection to that peer which was not yet ready."):ut.a.warn("Attempted to control remote stream with no active connection to that peer.")}connect(Gt){return Po(this,void 0,void 0,function*(){const en=yield this.getLocalPeer();if(this.getActiveConnection(Gt))return void ut.a.warn("Attempted to connect to peer with an already active connection.");let fn;try{fn=yield this.config.signalingClient.createSession(yield this.config.getToken(),{offerPeerId:en.id,answerPeerId:Gt})}catch(En){Object(Ds.a)(En,hs.a,xn=>xn.statusCode===404),ut.a.warn("Attempted to connect to peer that does not exist.")}if(fn)for(this.connectingSessions.set(fn.id,new Date().getTime()),yield this.connectToSession(fn);;)switch(yield Object(st.a)(.1),this.getConnectionStatus(Gt)){case"connecting":continue;case"connected":return fn.id;case"disconnected":return}})}getConnectionStatus(Gt){const en=this.getActiveConnection(Gt);return en?en.isReady()?"connected":"connecting":"disconnected"}getIceMode(Gt){const en=this.getActiveConnection(Gt);if(en)return en.iceMode}disconnect(Gt){return Po(this,void 0,void 0,function*(){const en=this.getActiveConnection(Gt);en&&(yield this.closeConnection(en))})}getLocalPeer(){return Po(this,void 0,void 0,function*(){return yield this.localPeer})}getPeers(){return Po(this,void 0,void 0,function*(){return yield this.config.signalingClient.getPeers(yield this.config.getToken())})}getPing(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getPing();ut.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Gt){const en=this.getActiveConnection(Gt);if(en)return en.getLastMessageTimestamp();ut.a.warn("Attempted to get ping time from inactive peer.")}shutdown(){return Po(this,void 0,void 0,function*(){yield this.updateInterval.stop();const Gt=this.connections;this.connections=[],yield this.closeConnections(Gt)})}closeConnection(Gt){return Po(this,void 0,void 0,function*(){this.connectingSessions.delete(Gt.getSessionId()),yield Gt.close();try{yield this.config.signalingClient.deleteSession(yield this.config.getToken(),Gt.getSessionId())}catch(en){Object(Ds.a)(en,hs.a,fn=>fn.statusCode===404)}})}getSessions(){return Po(this,void 0,void 0,function*(){const Gt=yield this.getLocalPeer();return(yield this.config.signalingClient.getSessions(yield this.config.getToken())).filter(en=>en.offer.peer.id===Gt.id||en.answer.peer.id===Gt.id)})}createPeer(){return Po(this,void 0,void 0,function*(){return yield this.config.signalingClient.createPeer(yield this.config.getToken(),{capabilitySet:this.config.capabilitySet||{}})})}createRTCPeerConnection(Gt={}){return Po(this,void 0,void 0,function*(){return new(this.config.alternateRTCPeerConnection||RTCPeerConnection)(Object.assign({iceServers:yield this.config.signalingClient.getIceServers(yield this.config.getToken())},Gt))})}closeConnections(Gt){return Po(this,void 0,void 0,function*(){const en=yield Ct(Gt.map(fn=>Po(this,void 0,void 0,function*(){yield this.closeConnection(fn)})));for(const fn of en)ut.a.warn("Request to close session failed",{error:fn})})}reset(){return Po(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.connectingSessions=new Map,this.localPeer=this.createPeer(),yield this.localPeer})}getActiveConnection(Gt){return this.connections.find(en=>en.getRemotePeer().id===Gt&&en.isActive())}update(){return Po(this,void 0,void 0,function*(){const Gt=yield this.getLocalPeer();try{yield this.config.signalingClient.refreshPeer(yield this.config.getToken(),Gt.id)}catch(en){Object(Ds.a)(en,hs.a,fn=>fn.statusCode===404),ut.a.warn("Peer expired, creating new peer",{peerId:Gt.id}),yield this.reset()}yield this.handleSessions(yield this.getSessions())})}handleSessions(Gt){return Po(this,void 0,void 0,function*(){yield this.syncConnectionsAndSessions(Gt);const en=Gt.map(fn=>({session:fn,connection:this.connections.find(En=>En.getSessionId()===fn.id)}));yield Promise.all(en.map(({session:fn,connection:En})=>Po(this,void 0,void 0,function*(){return yield this.maintainConnection(fn,En)})))})}syncConnectionsAndSessions(Gt){return Po(this,void 0,void 0,function*(){const en=new Set(Gt.map(xn=>xn.id)),fn=xn=>en.has(xn.getSessionId())||this.connectingSessions.has(xn.getSessionId());this.connections=this.connections.filter(xn=>fn(xn));const En=this.connections.filter(xn=>!fn(xn)||xn.needsClosing());yield Promise.all(En.map(xn=>Po(this,void 0,void 0,function*(){yield this.closeConnection(xn)})))})}maintainConnection(Gt,en){return Po(this,void 0,void 0,function*(){const fn=yield this.getLocalPeer(),En=Gt.offer.peer.id===fn.id;if(en){if(en.isReady())try{yield this.config.signalingClient.refreshSession(yield this.config.getToken(),Gt.id)}catch(xn){Object(Ds.a)(xn,hs.a,or=>or.statusCode===404),ut.a.debug("Refresh session not found",{sessionId:Gt.id})}else if(en.isActive())try{yield this.consumeSignals(en)}catch(xn){ut.a.warn("Failed to ingest signals, closing connection",{error:xn}),yield this.closeConnection(en)}}else{if(En)return;yield this.connectToSession(Gt)}})}connectToSession(Gt){return Po(this,void 0,void 0,function*(){const en=yield this.getLocalPeer(),fn=Gt.offer.peer.id===en.id,En=yield this.createRTCPeerConnection(),xn=new cu(En,{localPeer:fn?Gt.offer.peer:Gt.answer.peer,remotePeer:fn?Gt.answer.peer:Gt.offer.peer,sessionId:Gt.id,isOffer:fn,sendSignal:or=>this.sendSignal(Gt.id,or),receive:(or,ar)=>this.config.receive(or,ar)});if(this.connections.find(or=>or.getSessionId()===Gt.id))return ut.a.warn("connectToSession called on a session that already has a connection.",{sessionId:Gt.id}),void(yield xn.close());this.setupHandlers(xn),this.connections.push(xn);try{yield xn.connect()}catch(or){ut.a.warn("Failed to handle negotiation, closing connection",{error:or}),yield this.closeConnection(xn)}})}setupHandlers(Gt){const{peerConnection:en}=Gt,fn=Gt.getSessionId();en.onconnectionstatechange=()=>Po(this,void 0,void 0,function*(){const En=this.connectingSessions.get(fn);if(En===void 0)return;const xn=en.connectionState;switch(Yr(en)&&this.connectingSessions.delete(fn),xn){case"connected":{this.connectingSessions.delete(fn);const or=new Date().getTime()-En;bt.aggregate("rtc-connect-time",or);break}case"failed":bt.increment("rtc-connect-failed"),yield this.closeConnection(Gt)}})}consumeSignals(Gt){return Po(this,void 0,void 0,function*(){let en=[];try{en=yield this.config.signalingClient.takeSignals(yield this.config.getToken(),Gt.getSessionId())}catch(fn){Object(Ds.a)(fn,hs.a,En=>En.statusCode===404)}for(const fn of en)yield Gt.handleSignal(fn)})}sendSignal(Gt,en){return Po(this,void 0,void 0,function*(){try{yield this.config.signalingClient.addSignals(yield this.config.getToken(),Gt,{signals:[en]})}catch(fn){Object(Ds.a)(fn,hs.a,En=>En.statusCode===404)}})}}},function(i,o,s){var _={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $;const _e=new Uint8Array(16);function tt(){if(!$&&($=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(_e)}const j=[];for(let st=0;st<256;++st)j.push((st+256).toString(16).slice(1));function nt(st,ht=0){return(j[st[ht+0]]+j[st[ht+1]]+j[st[ht+2]]+j[st[ht+3]]+"-"+j[st[ht+4]]+j[st[ht+5]]+"-"+j[st[ht+6]]+j[st[ht+7]]+"-"+j[st[ht+8]]+j[st[ht+9]]+"-"+j[st[ht+10]]+j[st[ht+11]]+j[st[ht+12]]+j[st[ht+13]]+j[st[ht+14]]+j[st[ht+15]]).toLowerCase()}o.a=function(st,ht,_t){if(_.randomUUID&&!ht&&!st)return _.randomUUID();const ft=(st=st||{}).random||(st.rng||tt)();if(ft[6]=15&ft[6]|64,ft[8]=63&ft[8]|128,ht){_t=_t||0;for(let dt=0;dt<16;++dt)ht[_t+dt]=ft[dt];return ht}return nt(ft)}},,function(i,o,s){s.r(o),s.d(o,"LogClient",function(){return j});var _=s(28),$=s(10),_e=s(11),tt=function(nt,st,ht,_t){return new(ht||(ht=Promise))(function(ft,dt){function ut(Qt){try{wt(_t.next(Qt))}catch(Dt){dt(Dt)}}function mt(Qt){try{wt(_t.throw(Qt))}catch(Dt){dt(Dt)}}function wt(Qt){var Dt;Qt.done?ft(Qt.value):(Dt=Qt.value,Dt instanceof ht?Dt:new ht(function(Et){Et(Dt)})).then(ut,mt)}wt((_t=_t.apply(nt,st||[])).next())})};class j extends _.a{log(st){return tt(this,void 0,void 0,function*(){const ht=j.token;try{yield this.fetch("logs",{token:ht,method:"POST",body:JSON.stringify({logs:st}),allowUnsafeRetries:!0})}catch(_t){Object($.a)(_t,_e.a,ft=>ft.statusCode===401&&ht!==void 0),j.token===ht&&delete j.token,yield this.log(st)}})}}}])})})(dist);function defined$1(i,o){if(i!==void 0)return i;throw new Error(o||"Value is undefined")}let FORMANT_API_URL="https://api.formant.io";typeof window<"u"&&(FORMANT_API_URL=window.FORMANT_API_URL||FORMANT_API_URL);let urlParams$2=new URLSearchParams("");typeof window<"u"&&(urlParams$2=new URLSearchParams(window.location.search));const envDev=urlParams$2.get("formant_dev");envDev&&(FORMANT_API_URL="https://api-dev.formant.io");const envStage=urlParams$2.get("formant_stage");envStage&&(FORMANT_API_URL="https://api-stage.formant.io");const envLocal=urlParams$2.get("formant_local");envLocal&&(FORMANT_API_URL="https://api.formant.local");function delay(i){return new Promise(o=>setTimeout(o,i))}class DataChannel{constructor(o){__publicField$1(this,"ready",!1),__publicField$1(this,"listeners",[]),__publicField$1(this,"openListeners",[]),__publicField$1(this,"closeListeners",[]),__publicField$1(this,"errorListeners",[]),__publicField$1(this,"binaryListeners",[]),__publicField$1(this,"error"),__publicField$1(this,"decoder",new TextDecoder),this.dataChannel=o,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0,this.openListeners.forEach(s=>s())},this.dataChannel.onclose=()=>{this.ready=!1,this.closeListeners.forEach(s=>s())},this.dataChannel.onerror=s=>{console.error(s),this.error="An error occurred in DataChannel",this.errorListeners.forEach(_=>_(s))},this.dataChannel.onmessage=s=>{this.listeners.forEach(_=>{const $=new Uint8Array(s.data),_e=this.decoder.decode($);_(_e)}),this.binaryListeners.forEach(_=>{_(new Uint8Array(s.data))})}}addOpenListener(o){this.openListeners.push(o)}removeOpenListener(o){this.openListeners=this.openListeners.filter(s=>s!==o)}addCloseListener(o){this.closeListeners.push(o)}removeCloseListener(o){this.closeListeners=this.closeListeners.filter(s=>s!==o)}addErrorListener(o){this.errorListeners.push(o)}removeErrorListener(o){this.errorListeners=this.errorListeners.filter(s=>s!==o)}async waitTilReady(){return this.ready?!0:new Promise((s,_)=>{let $=window.setInterval(()=>{this.ready&&(window.clearInterval($),s(!0)),this.error&&_(this.error)},10)})}send(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}sendBinary(o){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(o)}addListener(o){this.listeners.push(o)}removeListener(o){const s=this.listeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(s,1)}addBinaryListener(o){this.binaryListeners.push(o)}removeBinaryListener(o){const s=this.binaryListeners.indexOf(o);if(s===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(s,1)}}class CaptureStream{constructor(o){__publicField$1(this,"token"),this.captureSession=o}async ingestJSON(o){if(!this.token){const _=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=_.token}await fetch(`${FORMANT_API_URL}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(o)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator{constructor(o,s){__publicField$1(this,"currentListeners",[]),__publicField$1(this,"onRealtimeMessage",(_,$)=>{$.payload.jointState&&this.currentListeners.forEach(_e=>{$.payload.jointState&&_e($.payload.jointState)})}),this.device=o,this.config=s}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(o){this.currentListeners.push(o)}}class RequestDataChannel{constructor(o,s,_){__publicField$1(this,"channel"),__publicField$1(this,"requestIdToResponseMap",new Map),this.device=o,this.channel_name=s,this.timeout=_}addOpenListener(o){defined$1(this.channel,"channel not initalized").addOpenListener(o)}removeOpenListener(o){defined$1(this.channel,"channel not initalized").removeOpenListener(o)}addCloseListener(o){defined$1(this.channel,"channel not initalized").addCloseListener(o)}removeCloseListener(o){defined$1(this.channel,"channel not initalized").removeCloseListener(o)}addErrorListener(o){defined$1(this.channel,"channel not initalized").addErrorListener(o)}removeErrorListener(o){defined$1(this.channel,"channel not initalized").removeErrorListener(o)}}class BinaryRequestDataChannel extends RequestDataChannel{constructor(){super(...arguments),__publicField$1(this,"RESPONSE_SUCCESS_BYTE",0),__publicField$1(this,"decoder",new TextDecoder)}generateBinaryId(){const o=new Uint8Array(16);for(let s=0;s<o.length;s++)o[s]=Math.floor(Math.random()*256);return o}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(o=>{const _=o.slice(0,16).toString();if(_.length===0)throw new Error("Invalid response");const $=o.slice(16);if($.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,$)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateBinaryId(),tt=_e.toString();_.set(tt,!0),s.sendBinary(new Uint8Array([..._e,...o]));const j=new Date().getTime();for(;new Date().getTime()<j+$;)if(await delay(50),_.has(tt)){const nt=_.get(tt);if(nt!==!0){_.delete(tt);const st=nt[0]===this.RESPONSE_SUCCESS_BYTE,ht=nt.slice(1);if(st)return ht;throw console.error({name:"AdapterError",message:this.decoder.decode(ht)}),new Error("Binary request datachannel adapter error")}}throw _.delete(tt),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Binary request data channel request timed out")}}class TextRequestDataChannel extends RequestDataChannel{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(o=>{const s=JSON.parse(o),{id:_,data:$,error:_e}=s;if(!_)throw new Error("Invalid response");if(!$&&!_e)throw new Error("Invalid response");this.requestIdToResponseMap.has(_)&&this.requestIdToResponseMap.set(_,s)})}async request(o){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:s,requestIdToResponseMap:_,timeout:$}=this;await s.waitTilReady();const _e=this.generateTextId();_.set(_e,!0),s.send(JSON.stringify({id:_e,data:o}));const tt=new Date().getTime();for(;new Date().getTime()<tt+$;)if(await delay(50),_.has(_e)){const j=_.get(_e);if(j!==!0){_.delete(_e);const{data:nt,error:st}=j;if(nt)return nt;if(st)throw console.error({name:"AdapterError",message:st}),new Error("Text request datachannel adapter error")}}throw _.delete(_e),console.error({name:"TimeoutError",message:`Request timed out after ${$/1e3} seconds`}),new Error("Text request datachannel request timed out")}}const urlParams$1=new URLSearchParams(window.location.search),rtcClientVersion=urlParams$1.get("rtc_client");class Device{constructor(o,s,_){__publicField$1(this,"rtcClient"),__publicField$1(this,"remoteDevicePeerId"),__publicField$1(this,"realtimeListeners",[]),__publicField$1(this,"handleMessage",($,_e)=>{this.realtimeListeners.forEach(tt=>tt($,_e))}),this.id=o,this.name=s,this.organizationId=_}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async getConfiguration(){let o=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}});const s=await o.json();if(!s.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const _=s.state.reportedConfiguration.version;return o=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}/configurations/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),(await o.json()).document}async getFileUrl(o){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[o]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{let s;if(rtcClientVersion==="1"?s=new dist.exports.RtcClientV1({signalingClient:new dist.exports.RtcSignalingClient(FORMANT_API_URL+"/v1/signaling"),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:this.handleMessage}):s=new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:this.handleMessage,sessionType:o}),s.isReady)for(;!s.isReady();)await delay(100);const $=(await s.getPeers()).find(_e=>_e.deviceId===this.id);if(!$)throw new Error("Cannot find peer, is the robot offline?");for(this.remoteDevicePeerId=$.id,await s.connect(this.remoteDevicePeerId);s.getConnectionStatus(this.remoteDevicePeerId)!=="connected";)await delay(100);this.rtcClient=s}}async sendRealtimeMessage(o,s={channelLabel:"stream.reliable"}){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer();_.send(defined$1($).id,o,s)}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeAudioStreams(){var o,s,_,$,_e,tt;const j=await this.getConfiguration(),nt=[];for(const st of(s=(o=j.teleop)==null?void 0:o.hardwareStreams)!=null?s:[])st.rtcStreamType==="audio-chunk"&&nt.push({name:st.name});for(const st of($=(_=j.teleop)==null?void 0:_.rosStreams)!=null?$:[])st.topicType=="audio_common_msgs/AudioData"&&nt.push({name:st.topicName});for(const st of(tt=(_e=j.teleop)==null?void 0:_e.customStreams)!=null?tt:[])st.rtcStreamType==="audio-chunk"&&nt.push({name:st.name});return nt}async getRealtimeVideoStreams(){var o,s,_,$,_e,tt;const j=await this.getConfiguration(),nt=[];for(const st of(s=(o=j.teleop)==null?void 0:o.hardwareStreams)!=null?s:[])st.rtcStreamType==="h264-video-frame"&&nt.push({name:st.name});for(const st of($=(_=j.teleop)==null?void 0:_.rosStreams)!=null?$:[])st.topicType=="formant/H264VideoFrame"&&nt.push({name:st.topicName});for(const st of(tt=(_e=j.teleop)==null?void 0:_e.customStreams)!=null?tt:[])st.rtcStreamType==="h264-video-frame"&&nt.push({name:st.name});return nt}async getRealtimeManipulators(){var o;const s=await this.getConfiguration(),_=[];for(const $ of(o=s.teleop.rosStreams)!=null?o:[])$.topicType=="sensor_msgs/JointState"&&_.push(new Manipulator(this,{currentJointStateStream:{name:$.topicName},plannedJointStateStream:$.plannedTopic?{name:$.plannedTopic}:void 0,planValidStream:$.planValidTopic?{name:$.planValidTopic}:void 0,endEffectorStream:$.endEffectorTopic?{name:$.endEffectorTopic}:void 0,endEffectorLinkName:$.endEffectorLinkName,baseReferenceFrame:$.baseReferenceFrame,localFrame:$.localFrame}));return _}async startListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async changeStreamAudioType(o,s){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer();_.controlRemoteStream(defined$1($).id,{streamName:o,setAudioFormat:s})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const s=(await defined$1(this.rtcClient,"Realtime connection has not been started").getPeers()).find(_=>_.deviceId===this.id);return defined$1(s,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){let o=await Fleet.getPeers(),s=await Fleet.getRealtimeSessions(),_=o.find($=>$.deviceId===this.id);return _?s[_.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(_=>({name:_.name,id:_.id,command:_.command,description:_.description,parameterEnabled:_.parameterEnabled,parameterValue:_.parameterValue,parameterMeta:_.parameterMeta,enabled:_.enabled}))}async sendCommand(o,s,_,$){var _e;const j=(await this.getAvailableCommands()).find(ht=>ht.name===o);if(!j)throw new Error(`Could not find command with name "${o}"`);let nt;if(s===void 0)if(j.parameterEnabled&&j.parameterValue)nt=j.parameterValue;else throw new Error("Command has no default parameter value, you must provide one");else nt=s;let st={value:nt,scrubberTime:(_||new Date).toISOString(),meta:__spreadValues2(__spreadValues2({},j.parameterMeta),$)};await fetch(`${FORMANT_API_URL}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:j.id,organizationId:this.organizationId,deviceId:this.id,command:j.command,parameter:st,userId:(_e=Authentication.currentUser)==null?void 0:_e.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})}async createCustomDataChannel(o,s){if(rtcClientVersion==="1")throw new Error("createCustomDataChannel is not supported in rtcClientVersion 1");const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(tt=>{_.createCustomDataChannel(defined$1($).id,o,__spreadValues2({ordered:!0},s),!1,(j,nt)=>{const st=new DataChannel(nt);tt(st)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel(this,o,s)}async createCaptureStream(o){const _=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:o,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return new CaptureStream(_)}async getTelemetry(o,s,_,$){return await Fleet.getTelemetry(this.id,o,s,_,$)}async getTelemetryStreams(){var o,s;const _=await this.getConfiguration(),$=await fetch(`${FORMANT_API_URL}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),_e=[],tt=[];return(s=(o=_.telemetry)==null?void 0:o.streams)==null||s.forEach(st=>{st.disabled!==!0&&_e.push(st.name),st.onDemand===!0&&tt.push(st.name)}),console.log(tt),(await $.json()).items.filter(st=>!_e.includes(st)).map(st=>({name:st,onDemand:tt.includes(st)}))}async createInterventionRequest(o,s,_,$){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"POST",body:JSON.stringify({message:o,interventionType:s,time:new Date().toISOString(),deviceId:this.id,tags:$,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}async addInterventionResponse(o,s,_){return await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-responses`,{method:"POST",body:JSON.stringify({interventionId:o,interventionType:s,data:_}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()}}class PeerDevice{constructor(o){__publicField$1(this,"rtcClient"),__publicField$1(this,"remoteDevicePeerId"),__publicField$1(this,"realtimeListeners",[]),__publicField$1(this,"id"),__publicField$1(this,"handleMessage",(s,_)=>{this.realtimeListeners.forEach($=>$(s,_))}),this.peerUrl=o}async getLatestTelemetry(){const s=await(await fetch(`${this.peerUrl}/telemetry`)).json();return Object.entries(s).map(([$,_e])=>({deviceId:this.id,streamName:$,streamType:"json",currentValue:_e,currentValueTime:_e.timestamp,tags:{}}))}async getDeviceId(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.id}async getConfiguration(){return(await(await fetch(`${this.peerUrl}/configuration`)).json()).agent_config.document}getRealtimeStatus(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getConnectionStatus(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}getRealtimePing(){if(this.rtcClient&&this.remoteDevicePeerId)return this.rtcClient.getPing(this.remoteDevicePeerId);throw new Error("Realtime connection hasn't been started")}async startRealtimeConnection(o){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const s=new dist.exports.RtcClient({lanOnlyMode:!0,receive:this.handleMessage,sessionType:o});for(await s.connectLan(this.peerUrl);s.getConnectionStatus(this.peerUrl)!=="connected";)await delay(100);this.rtcClient=s}}addRealtimeListener(o){this.realtimeListeners.push(o)}removeRealtimeListener(o){const s=this.realtimeListeners.indexOf(o);if(s===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(s,1)}async getRealtimeVideoStreams(){var o,s,_;const $=await this.getConfiguration(),_e=[];for(const tt of(o=$.teleop.hardwareStreams)!=null?o:[])tt.rtcStreamType==="h264-video-frame"&&_e.push({name:tt.name});for(const tt of(s=$.teleop.rosStreams)!=null?s:[])tt.topicType=="formant/H264VideoFrame"&&_e.push({name:tt.topicName});for(const tt of(_=$.teleop.customStreams)!=null?_:[])tt.rtcStreamType==="h264-video-frame"&&_e.push({name:tt.name});return _e}async getRealtimeManipulators(){var o;const s=await this.getConfiguration(),_=[];for(const $ of(o=s.teleop.rosStreams)!=null?o:[])$.topicType=="sensor_msgs/JointState"&&_.push(new Manipulator(this,{currentJointStateStream:{name:$.topicName},plannedJointStateStream:$.plannedTopic?{name:$.plannedTopic}:void 0,planValidStream:$.planValidTopic?{name:$.planValidTopic}:void 0,endEffectorStream:$.endEffectorTopic?{name:$.endEffectorTopic}:void 0,endEffectorLinkName:$.endEffectorLinkName,baseReferenceFrame:$.baseReferenceFrame,localFrame:$.localFrame}));return _}async startListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(o){const s=defined$1(this.rtcClient,"Realtime connection has not been started"),_=await this.getRemotePeer();s.controlRemoteStream(defined$1(_).id,{streamName:o,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){return{id:this.peerUrl,organizationId:"",deviceId:this.id,capabilities:[],capabilitySet:{}}}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async createCustomDataChannel(o,s){const _=defined$1(this.rtcClient,"Realtime connection has not been started"),$=await this.getRemotePeer(),_e=await new Promise(tt=>{_.createCustomDataChannel(defined$1($).id,o,__spreadValues2({ordered:!0},s),!1,(j,nt)=>{const st=new DataChannel(nt);tt(st)})});return await _e.waitTilReady(),_e}createCustomRequestDataChannel(o,s=3e3){return new TextRequestDataChannel(this,o,s)}createCustomBinaryRequestDataChannel(o,s=3e3){return new BinaryRequestDataChannel(this,o,s)}}const _Fleet$1=class{static async setDefaultDevice(i){_Fleet$1.defaultDeviceId=i}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!_Fleet$1.defaultDeviceId)throw new Error("No known default device");const _=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(_e=>_e.id===_Fleet$1.defaultDeviceId).name,$=new Device(_Fleet$1.defaultDeviceId,_,defined$1(Authentication.currentOrganization));return _Fleet$1.knownContext.push(new WeakRef($)),$}static async getPeerDevice(i){const o=new PeerDevice(i);return o.id=await o.getDeviceId(),o}static async getDevice(i){if(!Authentication.token)throw new Error("Not authenticated");const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),_=s.name,$=new Device(i,_,s.organizationId);return _Fleet$1.knownContext.push(new WeakRef($)),$}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return o.items,o.items.map(s=>new Device(s.id,s.name,s.organizationId))}static async queryDevices(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(_=>new Device(_.id,_.name,_.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await _Fleet$1.getDevices()).filter($=>s.includes($.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map($=>$.deviceId);return(await _Fleet$1.getDevices()).filter($=>s.includes($.id))}static async getLatestTelemetry(i){let o=i;return i&&!Array.isArray(i)&&(i=[i]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(i,o,s,_,$){let _e=i;Array.isArray(i)||(_e=[i]);let tt=o;return Array.isArray(o)||(tt=[o]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:_e,end:_.toISOString(),names:tt,start:s.toISOString(),tags:$}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(i){const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(s.fileUrls.length===0)throw new Error("File not found");return s.fileUrls[0]}static async queryTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async aggregateTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).aggregates}static async queryEvents(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getEvent(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query/id=${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getInterventions(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getCurrentGroup(){if(!Authentication.token)throw new Error("Not authenticated");let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("group");if(o===null||o.trim()==="")return;const s=await fetch(`${FORMANT_API_URL}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),{tagKey:_,tagValue:$}=await s.json();return await this.queryDevices({tags:{[_]:[$]},enabled:!0,type:"default"})}static async getAnnotationCount(i){const o=i.tagKey;return delete i.tagKey,delete i.aggregate,(await this.queryEvents(__spreadProps2(__spreadValues2({},i),{eventTypes:["annotation"]}))).filter(_e=>!!_e.tags&&Object.keys(_e.tags).includes(o)).reduce((_e,tt)=>{const j=tt.tags[o];return j in _e?(_e[j]+=1,_e):(_e[j]=1,_e)},{})}};let Fleet$1=_Fleet$1;__publicField$1(Fleet$1,"defaultDeviceId");__publicField$1(Fleet$1,"knownContext",[]);const millisecond$2=1,second$2=1e3,minute$2=60*second$2,hour$2=60*minute$2,day$2=24*hour$2,week$2=7*day$2,month$2=30*day$2,year$2=365*day$2,duration$2={millisecond:millisecond$2,second:second$2,minute:minute$2,hour:hour$2,day:day$2,week:week$2,month:month$2,year:year$2};function filterDataByType(i,o){return i.filter(s=>s.type===o)}function filterDataByTime(i,o,s){const _=o.getTime(),$=s.getTime();return i.map(_e=>__spreadProps2(__spreadValues2({},_e),{points:_e.points.filter(([tt])=>tt>=_&&tt<$)})).filter(({points:_e})=>_e.length>0)}function fork(i){}class StoreCache{constructor({capacity:o,timeout:s}={}){__publicField$1(this,"entries",new Map),__publicField$1(this,"metadata",new Map),__publicField$1(this,"capacity"),__publicField$1(this,"timeout"),this.capacity=o||1e4,this.timeout=s||duration$2.minute}get(o,s){const _=this.keyToCacheKey(o),$=this.entries.get(_),_e=this.metadata.get(_);return($===void 0||_e&&(_e==null?void 0:_e.expiration.getTime())<Date.now())&&!(_e!=null&&_e.generating)&&s&&this.generate(o,s()),$===void 0&&_e&&_e.lastValue!==void 0?_e.lastValue:$}set(o,s){const _=this.keyToCacheKey(o);this.metadata.set(_,{generating:!1,expiration:new Date(Date.now()+this.timeout),lastValue:s}),this.entries.set(_,s),this.metadata.size>this.capacity&&this.deleteOldestEntry()}clear(){this.entries.clear(),[...this.metadata.values()].forEach(o=>o.generating=!1)}clearKey(o){this.metadata.delete(o),this.entries.delete(o)}keyToCacheKey(o){return JSON.stringify(o)}deleteOldestEntry(){if(this.metadata.size<1)return;const[o]=[...this.metadata.entries()].reduce(([s,_],[$,_e])=>_e.expiration.getTime()<_.expiration.getTime()?[$,_e]:[s,_]);this.clearKey(o)}generate(o,s){const _=this.keyToCacheKey(o),$=this.metadata.get(_)||{};this.metadata.set(_,__spreadProps2(__spreadValues2({},$),{generating:!0,expiration:new Date(Date.now()+this.timeout)})),setTimeout(()=>{s.then(_e=>{const tt=this.metadata.get(_);!(tt!=null&&tt.generating)||this.set(o,_e)})},0)}}class QueryStore{constructor(){__publicField$1(this,"queryStoreCache",new StoreCache({capacity:1e4,timeout:20*duration$2.second})),__publicField$1(this,"liveQueryStoreCache",new StoreCache({capacity:1e4,timeout:200*duration$2.millisecond}))}moduleQuery(o,s,_,$,_e,tt=!1){const j=__spreadProps2(__spreadValues2({},o),{names:[s],types:[_]}),nt=this.query(j,$,_e,tt);return nt===void 0||nt==="too much data"?nt:filterDataByType(nt,_)}query(o,s,_,$=!1){const _e=__spreadProps2(__spreadValues2({},o),{start:startOfMinute(s).toISOString(),end:$?_.toISOString():addMinutes(roundToNearestMinutes(_),1).toISOString(),latestOnly:$}),tt=_>addSeconds(new Date,-20);let j;return tt?j=this.liveQueryCache(_e):j=this.queryCache(_e),!j||j==="too much data"||$?j:filterDataByTime(j,s,_)}queryCache(o){return this.queryStoreCache.get(o,async()=>{try{return await Fleet$1.queryTelemetry(o)}catch(s){throw s}})}liveQueryCache(o){return this.liveQueryStoreCache.get(o,async()=>{try{return await Fleet$1.queryTelemetry(o)}catch(s){throw s}})}}const queryStore=new QueryStore;let App$1=class{static sendAppMessage(o){window.parent.postMessage(o,"*")}static getCurrentModuleContext(){let o=new URLSearchParams("");return typeof window<"u"&&(o=new URLSearchParams(window.location.search)),o.get("module")}static async getCurrentModuleConfiguration(){let o=new URLSearchParams("");typeof window<"u"&&(o=new URLSearchParams(window.location.search));const s=o.get("configuration");return s===null||s.trim()===""?void 0:(await(await fetch(`${FORMANT_API_URL}/v1/admin/module-configurations/`+s,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).configuration}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(o){this.sendAppMessage({type:"go_to_time",time:o.getTime()})}static goToDevice(o){this.sendAppMessage({type:"go_to_device",deviceId:o})}static showMessage(o){this.sendAppMessage({type:"show_message",message:o})}static requestModuleData(){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:o})}static setModuleDateTimeRange(o,s){const _=this.getCurrentModuleContext();if(!_)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:_,before:o,after:s||0})}static refreshAuthToken(){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:o})}static sendChannelData(o,s){const _=this.getCurrentModuleContext();if(!_)throw new Error("No module context");this.sendAppMessage({type:"send_channel_data",source:_,channel:o,data:s})}static setupModuleMenus(o){const s=this.getCurrentModuleContext();if(!s)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:s,menus:o})}static addMenuListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="module_menu_item_clicked"&&o(_.menu)})}static addAccessTokenRefreshListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="auth_token"&&o(_.token)})}static addModuleDataListener(o){const s=this.getCurrentModuleContext();s&&this.sendAppMessage({type:"request_module_data",module:s}),window.addEventListener("message",_=>{const $=_.data;$.type==="module_data"&&o({streams:$.streams,time:$.time,queryRange:$.queryRange})})}static addStreamListener(o,s,_){const $=_e=>{const tt=_e.data;if(tt.type==="module_data"){const{start:j,end:nt}=tt.queryRange;_(queryStore.moduleQuery({},o,s,new Date(j),new Date(nt),!1))}};return window.addEventListener("message",$),()=>window.removeEventListener("message",$)}static addModuleConfigurationListener(o){window.addEventListener("message",s=>{const _=s.data;_.type==="module_configuration"&&o(_)})}static addChannelDataListener(o,s){window.addEventListener("message",_=>{const $=_.data;$.type==="channel_data"&&$.channel===o&&s({source:$.source,data:$.data})})}static requestOverviewDevices(o){this.sendAppMessage({type:"request_devices"}),window.addEventListener("message",s=>{const _=s.data;o(_)})}static async prompt(o,s){return new Promise(_=>{const $=Math.random().toString();this.sendAppMessage({type:"prompt",promptId:$,schema:o,okText:s==null?void 0:s.okText,cancelText:s==null?void 0:s.cancelText});const _e=tt=>{const j=tt.data;j.type==="prompt_response"&&j.promptId===$&&_(j.data),window.removeEventListener("message",_e)};window.addEventListener("message",_e)})}};const _Authentication=class{static async login(i,o){try{const s=await fetch(`${FORMANT_API_URL}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:i,password:o}),headers:{"Content-Type":"application/json"}}),_=await s.json();if(s.status!==200)throw new Error(_.message);return await _Authentication.loginWithToken(_.authentication.accessToken,_.authentication.refreshToken),_.authentication}catch(s){return _Authentication.waitingForAuth.forEach(_=>_(!1)),_Authentication.waitingForAuth=[],Promise.reject(s)}}static async loginWithToken(i,o){const s=JSON.parse(atob(i.split(".")[1]));try{let _;if(_Authentication.isShareToken=s["formant:claims"]&&s["formant:claims"].type=="share",s["formant:claims"]&&(_Authentication.currentOrganization=s["formant:claims"].organizationId),s["custom:organization_id"]&&(_Authentication.currentOrganization=s["custom:organization_id"]),_Authentication.isShareToken||(_=s.sub),s["formant:claims"]&&s["formant:claims"].userId&&(_=s["formant:claims"].userId),_){const $=await fetch(`${FORMANT_API_URL}/v1/admin/users/${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}}),_e=await $.json();if($.status!==200)throw new Error(_e.message);_Authentication.currentUser=_e}_Authentication.token=i,_Authentication.waitingForAuth.forEach($=>$(!0))}catch(_){console.error(_),_Authentication.waitingForAuth.forEach($=>$(!1))}_Authentication.waitingForAuth=[],o&&(_Authentication.refreshToken=o,setInterval(async()=>{if(_Authentication.refreshToken){const $=await(await fetch(`${FORMANT_API_URL}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication.refreshToken})})).json();_Authentication.token=$.authentication.accessToken}},1e3*60*60))}static isAuthenticated(){return _Authentication.token!==void 0}static getCurrentUser(){return _Authentication.currentUser}static async waitTilAuthenticated(){return _Authentication.token!==void 0?!0:new Promise(i=>{_Authentication.waitingForAuth.push(function(o){i(o)})})}static async listenForRefresh(){App$1.addAccessTokenRefreshListener(i=>{this.loginWithToken(i)}),setInterval(async()=>{App$1.refreshAuthToken()},1e3*60*60)}};let Authentication=_Authentication;__publicField$1(Authentication,"token");__publicField$1(Authentication,"refreshToken");__publicField$1(Authentication,"currentUser");__publicField$1(Authentication,"currentOrganization");__publicField$1(Authentication,"isShareToken",!1);__publicField$1(Authentication,"defaultDeviceId");__publicField$1(Authentication,"waitingForAuth",[]);const _Fleet=class{static async setDefaultDevice(i){_Fleet.defaultDeviceId=i}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!_Fleet.defaultDeviceId)throw new Error("No known default device");const _=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(_e=>_e.id===_Fleet.defaultDeviceId).name,$=new Device(_Fleet.defaultDeviceId,_,defined$1(Authentication.currentOrganization));return _Fleet.knownContext.push(new WeakRef($)),$}static async getPeerDevice(i){const o=new PeerDevice(i);return o.id=await o.getDeviceId(),o}static async getDevice(i){if(!Authentication.token)throw new Error("Not authenticated");const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),_=s.name,$=new Device(i,_,s.organizationId);return _Fleet.knownContext.push(new WeakRef($)),$}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return o.items,o.items.map(s=>new Device(s.id,s.name,s.organizationId))}static async queryDevices(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(_=>new Device(_.id,_.name,_.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await _Fleet.getDevices()).filter($=>s.includes($.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined$1(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const s=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map($=>$.deviceId);return(await _Fleet.getDevices()).filter($=>s.includes($.id))}static async getLatestTelemetry(i){let o=i;return i&&!Array.isArray(i)&&(i=[i]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:o}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(i,o,s,_,$){let _e=i;Array.isArray(i)||(_e=[i]);let tt=o;return Array.isArray(o)||(tt=[o]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:_e,end:_.toISOString(),names:tt,start:s.toISOString(),tags:$}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(i){const s=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(s.fileUrls.length===0)throw new Error("File not found");return s.fileUrls[0]}static async queryTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async aggregateTelemetry(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).aggregates}static async queryEvents(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getEvent(i){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query/id=${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getInterventions(){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/intervention-requests`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getCurrentGroup(){if(!Authentication.token)throw new Error("Not authenticated");let i=new URLSearchParams("");typeof window<"u"&&(i=new URLSearchParams(window.location.search));const o=i.get("group");if(o===null||o.trim()==="")return;const s=await fetch(`${FORMANT_API_URL}/v1/admin/groups/`+o,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),{tagKey:_,tagValue:$}=await s.json();return await this.queryDevices({tags:{[_]:[$]},enabled:!0,type:"default"})}static async getAnnotationCount(i){const o=i.tagKey;return delete i.tagKey,delete i.aggregate,(await this.queryEvents(__spreadProps2(__spreadValues2({},i),{eventTypes:["annotation"]}))).filter(_e=>!!_e.tags&&Object.keys(_e.tags).includes(o)).reduce((_e,tt)=>{const j=tt.tags[o];return j in _e?(_e[j]+=1,_e):(_e[j]=1,_e)},{})}};let Fleet=_Fleet;__publicField$1(Fleet,"defaultDeviceId");__publicField$1(Fleet,"knownContext",[]);let urlParams=new URLSearchParams("");typeof window<"u"&&(urlParams=new URLSearchParams(window.location.search));const urlDevice=urlParams.get("device");urlDevice&&Fleet.setDefaultDevice(urlDevice);const urlAuth=urlParams.get("auth");urlAuth&&Authentication.loginWithToken(urlAuth);const moduleName=urlParams.get("module");moduleName&&Authentication.listenForRefresh();dist.exports.IRtcSendConfiguration;dist.exports.IRtcStreamMessage;dist.exports.IRtcStreamPayload;const useDevice=i=>{const[o,s]=reactExports.useState();reactExports.useEffect(()=>{_()},[]);const _=async()=>{try{if(await Authentication.waitTilAuthenticated()){if(i){const _e=await Fleet.getDevice(i);s(_e);return}const $=await Fleet.getCurrentDevice();s($)}}catch{throw new Error("Authentication failed, please authenticate and try again")}};return o},authenticate=async i=>{try{if(await Authentication.waitTilAuthenticated())return i()}catch(o){throw o}},handleParse=(i,o)=>o?JSON.parse(i):i,getCurrentConfiguration=async(i,o)=>{await authenticate(async()=>{try{const s=await App$1.getCurrentModuleConfiguration();if(!s)return;const _=handleParse(s,o);i(_),App$1.addModuleConfigurationListener($=>{const _e=handleParse($.configuration,o);i(_e)})}catch(s){throw s}})},useConfiguration=i=>{const[o,s]=reactExports.useState("");return reactExports.useEffect(()=>{getCurrentConfiguration(s,i==null?void 0:i.parse)},[]),o},getScrubberTime=async i=>{await authenticate(async()=>{App$1.addModuleDataListener(o=>i(o.time))})},useScruberTime=()=>{const[i,o]=reactExports.useState();return reactExports.useEffect(()=>{getScrubberTime(o)},[]),i};function useFormant(){return reactExports.useContext(FormantContext)}const FormantContext=reactExports.createContext(void 0);function FormantProvider({theme:i,children:o,parseConfiguration:s,scoped:_=!1}){const $=useConfiguration({parse:!!s}),_e=createTheme$2(i==="dark"?darkTheme:i==="light"?lightTheme:defaultTheme),tt={configuration:$},j=_?ScopedCssBaseline$1:CssBaseline;return reactExports.createElement(ThemeProvider,{theme:_e},reactExports.createElement(j,null,reactExports.createElement(FormantContext.Provider,{value:tt},o)))}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,o){(function(){var s,_="4.17.21",$=200,_e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",tt="Expected a function",j="Invalid `variable` option passed into `_.template`",nt="__lodash_hash_undefined__",st=500,ht="__lodash_placeholder__",_t=1,ft=2,dt=4,ut=1,mt=2,wt=1,Qt=2,Dt=4,Et=8,xt=16,pt=32,Vt=64,nn=128,on=256,bt=512,St=30,It="...",Bt=800,Lt=16,Xt=1,zt=2,Pt=3,jt=1/0,Zt=9007199254740991,Ct=17976931348623157e292,Ft=0/0,Ht=4294967295,tn=Ht-1,mn=Ht>>>1,yn=[["ary",nn],["bind",wt],["bindKey",Qt],["curry",Et],["curryRight",xt],["flip",bt],["partial",pt],["partialRight",Vt],["rearg",on]],vn="[object Arguments]",un="[object Array]",rn="[object AsyncFunction]",At="[object Boolean]",Mt="[object Date]",$t="[object DOMException]",pn="[object Error]",hn="[object Function]",Sn="[object GeneratorFunction]",An="[object Map]",Gn="[object Number]",Qr="[object Null]",_i="[object Object]",Pr="[object Promise]",po="[object Proxy]",jr="[object RegExp]",Yr="[object Set]",no="[object String]",Qo="[object Symbol]",Co="[object Undefined]",Jo="[object WeakMap]",es="[object WeakSet]",xo="[object ArrayBuffer]",ls="[object DataView]",Ds="[object Float32Array]",hs="[object Float64Array]",Hl="[object Int8Array]",Ll="[object Int16Array]",Ls="[object Int32Array]",Us="[object Uint8Array]",cu="[object Uint8ClampedArray]",Po="[object Uint16Array]",nu="[object Uint32Array]",cr=/\b__p \+= '';/g,Gt=/\b(__p \+=) '' \+/g,en=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fn=/&(?:amp|lt|gt|quot|#39);/g,En=/[&<>"']/g,xn=RegExp(fn.source),or=RegExp(En.source),ar=/<%-([\s\S]+?)%>/g,nr=/<%([\s\S]+?)%>/g,Zn=/<%=([\s\S]+?)%>/g,On=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,io=/^\w*$/,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wn=/[\\^$.*+?()[\]{}|]/g,Tn=RegExp(wn.source),zn=/^\s+/,Kn=/\s/,lr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ur=/\{\n\/\* \[wrapped with (.+)\] \*/,mr=/,? & /,hr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,br=/[()=,{}\[\]\/\s]/,Nr=/\\(\\)?/g,Kr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zr=/\w*$/,So=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,Ao=/^\[object .+?Constructor\]$/,No=/^0o[0-7]+$/i,Xo=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Uo=/($^)/,ws=/['\n\r\u2028\u2029\\]/g,bs="\\ud800-\\udfff",Ru="\\u0300-\\u036f",hu="\\ufe20-\\ufe2f",Ir="\\u20d0-\\u20ff",_a=Ru+hu+Ir,Js="\\u2700-\\u27bf",du="a-z\\xdf-\\xf6\\xf8-\\xff",ru="\\xac\\xb1\\xd7\\xf7",wu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ul="\\u2000-\\u206f",rm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rp="A-Z\\xc0-\\xd6\\xd8-\\xde",mo="\\ufe0e\\ufe0f",rs=ru+wu+Ul+rm,ss="['’]",Bu="["+bs+"]",ip="["+rs+"]",Ko="["+_a+"]",Wu="\\d+",Lu="["+Js+"]",fu="["+du+"]",Cl="[^"+bs+rs+Wu+Js+du+rp+"]",ps="\\ud83c[\\udffb-\\udfff]",Tm="(?:"+Ko+"|"+ps+")",Os="[^"+bs+"]",Ju="(?:\\ud83c[\\udde6-\\uddff]){2}",Xs="[\\ud800-\\udbff][\\udc00-\\udfff]",ju="["+rp+"]",op="\\u200d",Ip="(?:"+fu+"|"+Cl+")",Ks="(?:"+ju+"|"+Cl+")",Yl="(?:"+ss+"(?:d|ll|m|re|s|t|ve))?",Bl="(?:"+ss+"(?:D|LL|M|RE|S|T|VE))?",gs=Tm+"?",Is="["+mo+"]?",Pp="(?:"+op+"(?:"+[Os,Ju,Xs].join("|")+")"+Is+gs+")*",sp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ln=Is+gs+Pp,bn="(?:"+[Lu,Ju,Xs].join("|")+")"+ln,Cn="(?:"+[Os+Ko+"?",Ko,Ju,Xs,Bu].join("|")+")",Wn=RegExp(ss,"g"),sr=RegExp(Ko,"g"),Dn=RegExp(ps+"(?="+ps+")|"+Cn+ln,"g"),qn=RegExp([ju+"?"+fu+"+"+Yl+"(?="+[ip,ju,"$"].join("|")+")",Ks+"+"+Bl+"(?="+[ip,ju+Ip,"$"].join("|")+")",ju+"?"+Ip+"+"+Yl,ju+"+"+Bl,Wt,sp,Wu,bn].join("|"),"g"),Br=RegExp("["+op+bs+_a+mo+"]"),Er=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vo=-1,go={};go[Ds]=go[hs]=go[Hl]=go[Ll]=go[Ls]=go[Us]=go[cu]=go[Po]=go[nu]=!0,go[vn]=go[un]=go[xo]=go[At]=go[ls]=go[Mt]=go[pn]=go[hn]=go[An]=go[Gn]=go[_i]=go[jr]=go[Yr]=go[no]=go[Jo]=!1;var Eo={};Eo[vn]=Eo[un]=Eo[xo]=Eo[ls]=Eo[At]=Eo[Mt]=Eo[Ds]=Eo[hs]=Eo[Hl]=Eo[Ll]=Eo[Ls]=Eo[An]=Eo[Gn]=Eo[_i]=Eo[jr]=Eo[Yr]=Eo[no]=Eo[Qo]=Eo[Us]=Eo[cu]=Eo[Po]=Eo[nu]=!0,Eo[pn]=Eo[hn]=Eo[Jo]=!1;var Go={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ro={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},iu=parseFloat,Qm=parseInt,zu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,t0=typeof self=="object"&&self&&self.Object===Object&&self,Fl=zu||t0||Function("return this")(),By=o&&!o.nodeType&&o,Up=By&&!0&&i&&!i.nodeType&&i,ap=Up&&Up.exports===By,n0=ap&&zu.process,pu=function(){try{var Tr=Up&&Up.require&&Up.require("util").types;return Tr||n0&&n0.binding&&n0.binding("util")}catch{}}(),a_=pu&&pu.isArrayBuffer,r0=pu&&pu.isDate,l_=pu&&pu.isMap,i0=pu&&pu.isRegExp,o0=pu&&pu.isSet,im=pu&&pu.isTypedArray;function gu(Tr,Xr,Wr){switch(Wr.length){case 0:return Tr.call(Xr);case 1:return Tr.call(Xr,Wr[0]);case 2:return Tr.call(Xr,Wr[0],Wr[1]);case 3:return Tr.call(Xr,Wr[0],Wr[1],Wr[2])}return Tr.apply(Xr,Wr)}function u_(Tr,Xr,Wr,Oo){for(var ds=-1,Ms=Tr==null?0:Tr.length;++ds<Ms;){var Tl=Tr[ds];Xr(Oo,Tl,Wr(Tl),Tr)}return Oo}function mu(Tr,Xr){for(var Wr=-1,Oo=Tr==null?0:Tr.length;++Wr<Oo&&Xr(Tr[Wr],Wr,Tr)!==!1;);return Tr}function c_(Tr,Xr){for(var Wr=Tr==null?0:Tr.length;Wr--&&Xr(Tr[Wr],Wr,Tr)!==!1;);return Tr}function lp(Tr,Xr){for(var Wr=-1,Oo=Tr==null?0:Tr.length;++Wr<Oo;)if(!Xr(Tr[Wr],Wr,Tr))return!1;return!0}function ys(Tr,Xr){for(var Wr=-1,Oo=Tr==null?0:Tr.length,ds=0,Ms=[];++Wr<Oo;){var Tl=Tr[Wr];Xr(Tl,Wr,Tr)&&(Ms[ds++]=Tl)}return Ms}function om(Tr,Xr){var Wr=Tr==null?0:Tr.length;return!!Wr&&cp(Tr,Xr,0)>-1}function Gm(Tr,Xr,Wr){for(var Oo=-1,ds=Tr==null?0:Tr.length;++Oo<ds;)if(Wr(Xr,Tr[Oo]))return!0;return!1}function na(Tr,Xr){for(var Wr=-1,Oo=Tr==null?0:Tr.length,ds=Array(Oo);++Wr<Oo;)ds[Wr]=Xr(Tr[Wr],Wr,Tr);return ds}function up(Tr,Xr){for(var Wr=-1,Oo=Xr.length,ds=Tr.length;++Wr<Oo;)Tr[ds+Wr]=Xr[Wr];return Tr}function s0(Tr,Xr,Wr,Oo){var ds=-1,Ms=Tr==null?0:Tr.length;for(Oo&&Ms&&(Wr=Tr[++ds]);++ds<Ms;)Wr=Xr(Wr,Tr[ds],ds,Tr);return Wr}function a0(Tr,Xr,Wr,Oo){var ds=Tr==null?0:Tr.length;for(Oo&&ds&&(Wr=Tr[--ds]);ds--;)Wr=Xr(Wr,Tr[ds],ds,Tr);return Wr}function Ey(Tr,Xr){for(var Wr=-1,Oo=Tr==null?0:Tr.length;++Wr<Oo;)if(Xr(Tr[Wr],Wr,Tr))return!0;return!1}var l0=Hm("length");function Ty(Tr){return Tr.split("")}function sm(Tr){return Tr.match(hr)||[]}function xm(Tr,Xr,Wr){var Oo;return Wr(Tr,function(ds,Ms,Tl){if(Xr(ds,Ms,Tl))return Oo=Ms,!1}),Oo}function Ss(Tr,Xr,Wr,Oo){for(var ds=Tr.length,Ms=Wr+(Oo?1:-1);Oo?Ms--:++Ms<ds;)if(Xr(Tr[Ms],Ms,Tr))return Ms;return-1}function cp(Tr,Xr,Wr){return Xr===Xr?uv(Tr,Xr,Wr):Ss(Tr,d_,Wr)}function h_(Tr,Xr,Wr,Oo){for(var ds=Wr-1,Ms=Tr.length;++ds<Ms;)if(Oo(Tr[ds],Xr))return ds;return-1}function d_(Tr){return Tr!==Tr}function f_(Tr,Xr){var Wr=Tr==null?0:Tr.length;return Wr?Qy(Tr,Xr)/Wr:Ft}function Hm(Tr){return function(Xr){return Xr==null?s:Xr[Tr]}}function u0(Tr){return function(Xr){return Tr==null?s:Tr[Xr]}}function p_(Tr,Xr,Wr,Oo,ds){return ds(Tr,function(Ms,Tl,qs){Wr=Oo?(Oo=!1,Ms):Xr(Wr,Ms,Tl,qs)}),Wr}function av(Tr,Xr){var Wr=Tr.length;for(Tr.sort(Xr);Wr--;)Tr[Wr]=Tr[Wr].value;return Tr}function Qy(Tr,Xr){for(var Wr,Oo=-1,ds=Tr.length;++Oo<ds;){var Ms=Xr(Tr[Oo]);Ms!==s&&(Wr=Wr===s?Ms:Wr+Ms)}return Wr}function Ym(Tr,Xr){for(var Wr=-1,Oo=Array(Tr);++Wr<Tr;)Oo[Wr]=Xr(Wr);return Oo}function g_(Tr,Xr){return na(Xr,function(Wr){return[Wr,Tr[Wr]]})}function xy(Tr){return Tr&&Tr.slice(0,cv(Tr)+1).replace(zn,"")}function yu(Tr){return function(Xr){return Tr(Xr)}}function c0(Tr,Xr){return na(Xr,function(Wr){return Tr[Wr]})}function Ay(Tr,Xr){return Tr.has(Xr)}function $m(Tr,Xr){for(var Wr=-1,Oo=Tr.length;++Wr<Oo&&cp(Xr,Tr[Wr],0)>-1;);return Wr}function Xm(Tr,Xr){for(var Wr=Tr.length;Wr--&&cp(Xr,Tr[Wr],0)>-1;);return Wr}function lv(Tr,Xr){for(var Wr=Tr.length,Oo=0;Wr--;)Tr[Wr]===Xr&&++Oo;return Oo}var h0=u0(Go),d0=u0(qo);function bp(Tr){return"\\"+Sl[Tr]}function m_(Tr,Xr){return Tr==null?s:Tr[Xr]}function Am(Tr){return Br.test(Tr)}function y_(Tr){return Er.test(Tr)}function __(Tr){for(var Xr,Wr=[];!(Xr=Tr.next()).done;)Wr.push(Xr.value);return Wr}function qm(Tr){var Xr=-1,Wr=Array(Tr.size);return Tr.forEach(function(Oo,ds){Wr[++Xr]=[ds,Oo]}),Wr}function v_(Tr,Xr){return function(Wr){return Tr(Xr(Wr))}}function Fp(Tr,Xr){for(var Wr=-1,Oo=Tr.length,ds=0,Ms=[];++Wr<Oo;){var Tl=Tr[Wr];(Tl===Xr||Tl===ht)&&(Tr[Wr]=ht,Ms[ds++]=Wr)}return Ms}function f0(Tr){var Xr=-1,Wr=Array(Tr.size);return Tr.forEach(function(Oo){Wr[++Xr]=Oo}),Wr}function Cy(Tr){var Xr=-1,Wr=Array(Tr.size);return Tr.forEach(function(Oo){Wr[++Xr]=[Oo,Oo]}),Wr}function uv(Tr,Xr,Wr){for(var Oo=Wr-1,ds=Tr.length;++Oo<ds;)if(Tr[Oo]===Xr)return Oo;return-1}function p0(Tr,Xr,Wr){for(var Oo=Wr+1;Oo--;)if(Tr[Oo]===Xr)return Oo;return Oo}function Km(Tr){return Am(Tr)?m0(Tr):l0(Tr)}function ku(Tr){return Am(Tr)?U_(Tr):Ty(Tr)}function cv(Tr){for(var Xr=Tr.length;Xr--&&Kn.test(Tr.charAt(Xr)););return Xr}var g0=u0(Ro);function m0(Tr){for(var Xr=Dn.lastIndex=0;Dn.test(Tr);)++Xr;return Xr}function U_(Tr){return Tr.match(Dn)||[]}function b_(Tr){return Tr.match(qn)||[]}var ey=function Tr(Xr){Xr=Xr==null?Fl:ty.defaults(Fl.Object(),Xr,ty.pick(Fl,Lr));var Wr=Xr.Array,Oo=Xr.Date,ds=Xr.Error,Ms=Xr.Function,Tl=Xr.Math,qs=Xr.Object,y0=Xr.RegExp,hv=Xr.String,Eu=Xr.TypeError,Sp=Wr.prototype,ny=Ms.prototype,am=qs.prototype,Zu=Xr["__core-js_shared__"],Wp=ny.toString,js=am.hasOwnProperty,Rp=0,Ts=function(){var yt=/[^.]+$/.exec(Zu&&Zu.keys&&Zu.keys.IE_PROTO||"");return yt?"Symbol(src)_1."+yt:""}(),Gu=am.toString,BU=Wp.call(qs),dv=Fl._,ry=y0("^"+Wp.call(js).replace(wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_0=ap?Xr.Buffer:s,wp=Xr.Symbol,iy=Xr.Uint8Array,v0=_0?_0.allocUnsafe:s,lm=v_(qs.getPrototypeOf,qs),oy=qs.create,um=am.propertyIsEnumerable,Cm=Sp.splice,ky=wp?wp.isConcatSpreadable:s,Lp=wp?wp.iterator:s,_u=wp?wp.toStringTag:s,cm=function(){try{var yt=Nu(qs,"defineProperty");return yt({},"",{}),yt}catch{}}(),Fo=Xr.clearTimeout!==Fl.clearTimeout&&Xr.clearTimeout,Vu=Oo&&Oo.now!==Fl.Date.now&&Oo.now,F_=Xr.setTimeout!==Fl.setTimeout&&Xr.setTimeout,Vy=Tl.ceil,sy=Tl.floor,hp=qs.getOwnPropertySymbols,fv=_0?_0.isBuffer:s,My=Xr.isFinite,S_=Sp.join,U0=v_(qs.keys,qs),Vl=Tl.max,Ml=Tl.min,Jp=Oo.now,Mu=Xr.parseInt,Ny=Tl.random,pv=Sp.reverse,ay=Nu(Xr,"DataView"),km=Nu(Xr,"Map"),b0=Nu(Xr,"Promise"),jp=Nu(Xr,"Set"),hm=Nu(Xr,"WeakMap"),zp=Nu(qs,"create"),Dy=hm&&new hm,Vm={},F0=em(ay),gv=em(km),R_=em(b0),Mm=em(jp),mv=em(hm),Nm=wp?wp.prototype:s,Zp=Nm?Nm.valueOf:s,S0=Nm?Nm.toString:s;function Jn(yt){if(Il(yt)&&!_s(yt)&&!(yt instanceof Bs)){if(yt instanceof Tu)return yt;if(js.call(yt,"__wrapped__"))return bm(yt)}return new Tu(yt)}var dm=function(){function yt(){}return function(Tt){if(!xl(Tt))return{};if(oy)return oy(Tt);yt.prototype=Tt;var Kt=new yt;return yt.prototype=s,Kt}}();function Jl(){}function Tu(yt,Tt){this.__wrapped__=yt,this.__actions__=[],this.__chain__=!!Tt,this.__index__=0,this.__values__=s}Jn.templateSettings={escape:ar,evaluate:nr,interpolate:Zn,variable:"",imports:{_:Jn}},Jn.prototype=Jl.prototype,Jn.prototype.constructor=Jn,Tu.prototype=dm(Jl.prototype),Tu.prototype.constructor=Tu;function Bs(yt){this.__wrapped__=yt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ht,this.__views__=[]}function EU(){var yt=new Bs(this.__wrapped__);return yt.__actions__=Xu(this.__actions__),yt.__dir__=this.__dir__,yt.__filtered__=this.__filtered__,yt.__iteratees__=Xu(this.__iteratees__),yt.__takeCount__=this.__takeCount__,yt.__views__=Xu(this.__views__),yt}function TU(){if(this.__filtered__){var yt=new Bs(this);yt.__dir__=-1,yt.__filtered__=!0}else yt=this.clone(),yt.__dir__*=-1;return yt}function Gp(){var yt=this.__wrapped__.value(),Tt=this.__dir__,Kt=_s(yt),Un=Tt<0,Vn=Kt?yt.length:0,$n=JF(0,Vn,this.__views__),yr=$n.start,Sr=$n.end,Ar=Sr-yr,ro=Un?Sr:yr-1,qr=this.__iteratees__,ao=qr.length,To=0,Io=Ml(Ar,this.__takeCount__);if(!Kt||!Un&&Vn==Ar&&Io==Ar)return CU(yt,this.__actions__);var Yo=[];e:for(;Ar--&&To<Io;){ro+=Tt;for(var vs=-1,as=yt[ro];++vs<ao;){var Qs=qr[vs],ks=Qs.iteratee,Ou=Qs.type,Iu=ks(as);if(Ou==zt)as=Iu;else if(!Iu){if(Ou==Xt)continue e;break e}}Yo[To++]=as}return Yo}Bs.prototype=dm(Jl.prototype),Bs.prototype.constructor=Bs;function Hp(yt){var Tt=-1,Kt=yt==null?0:yt.length;for(this.clear();++Tt<Kt;){var Un=yt[Tt];this.set(Un[0],Un[1])}}function ly(){this.__data__=zp?zp(null):{},this.size=0}function Bp(yt){var Tt=this.has(yt)&&delete this.__data__[yt];return this.size-=Tt?1:0,Tt}function R0(yt){var Tt=this.__data__;if(zp){var Kt=Tt[yt];return Kt===nt?s:Kt}return js.call(Tt,yt)?Tt[yt]:s}function wo(yt){var Tt=this.__data__;return zp?Tt[yt]!==s:js.call(Tt,yt)}function yv(yt,Tt){var Kt=this.__data__;return this.size+=this.has(yt)?0:1,Kt[yt]=zp&&Tt===s?nt:Tt,this}Hp.prototype.clear=ly,Hp.prototype.delete=Bp,Hp.prototype.get=R0,Hp.prototype.has=wo,Hp.prototype.set=yv;function Ep(yt){var Tt=-1,Kt=yt==null?0:yt.length;for(this.clear();++Tt<Kt;){var Un=yt[Tt];this.set(Un[0],Un[1])}}function Oy(){this.__data__=[],this.size=0}function fm(yt){var Tt=this.__data__,Kt=Dm(Tt,yt);if(Kt<0)return!1;var Un=Tt.length-1;return Kt==Un?Tt.pop():Cm.call(Tt,Kt,1),--this.size,!0}function _v(yt){var Tt=this.__data__,Kt=Dm(Tt,yt);return Kt<0?s:Tt[Kt][1]}function vv(yt){return Dm(this.__data__,yt)>-1}function Iy(yt,Tt){var Kt=this.__data__,Un=Dm(Kt,yt);return Un<0?(++this.size,Kt.push([yt,Tt])):Kt[Un][1]=Tt,this}Ep.prototype.clear=Oy,Ep.prototype.delete=fm,Ep.prototype.get=_v,Ep.prototype.has=vv,Ep.prototype.set=Iy;function Tp(yt){var Tt=-1,Kt=yt==null?0:yt.length;for(this.clear();++Tt<Kt;){var Un=yt[Tt];this.set(Un[0],Un[1])}}function w_(){this.size=0,this.__data__={hash:new Hp,map:new(km||Ep),string:new Hp}}function Uv(yt){var Tt=D_(this,yt).delete(yt);return this.size-=Tt?1:0,Tt}function B_(yt){return D_(this,yt).get(yt)}function Py(yt){return D_(this,yt).has(yt)}function w0(yt,Tt){var Kt=D_(this,yt),Un=Kt.size;return Kt.set(yt,Tt),this.size+=Kt.size==Un?0:1,this}Tp.prototype.clear=w_,Tp.prototype.delete=Uv,Tp.prototype.get=B_,Tp.prototype.has=Py,Tp.prototype.set=w0;function dp(yt){var Tt=-1,Kt=yt==null?0:yt.length;for(this.__data__=new Tp;++Tt<Kt;)this.add(yt[Tt])}function B0(yt){return this.__data__.set(yt,nt),this}function E0(yt){return this.__data__.has(yt)}dp.prototype.add=dp.prototype.push=B0,dp.prototype.has=E0;function Hu(yt){var Tt=this.__data__=new Ep(yt);this.size=Tt.size}function bv(){this.__data__=new Ep,this.size=0}function E_(yt){var Tt=this.__data__,Kt=Tt.delete(yt);return this.size=Tt.size,Kt}function Fv(yt){return this.__data__.get(yt)}function Sv(yt){return this.__data__.has(yt)}function T_(yt,Tt){var Kt=this.__data__;if(Kt instanceof Ep){var Un=Kt.__data__;if(!km||Un.length<$-1)return Un.push([yt,Tt]),this.size=++Kt.size,this;Kt=this.__data__=new Tp(Un)}return Kt.set(yt,Tt),this.size=Kt.size,this}Hu.prototype.clear=bv,Hu.prototype.delete=E_,Hu.prototype.get=Fv,Hu.prototype.has=Sv,Hu.prototype.set=T_;function Wy(yt,Tt){var Kt=_s(yt),Un=!Kt&&_y(yt),Vn=!Kt&&!Un&&vy(yt),$n=!Kt&&!Un&&!Vn&&H0(yt),yr=Kt||Un||Vn||$n,Sr=yr?Ym(yt.length,hv):[],Ar=Sr.length;for(var ro in yt)(Tt||js.call(yt,ro))&&!(yr&&(ro=="length"||Vn&&(ro=="offset"||ro=="parent")||$n&&(ro=="buffer"||ro=="byteLength"||ro=="byteOffset")||Um(ro,Ar)))&&Sr.push(ro);return Sr}function Q_(yt){var Tt=yt.length;return Tt?yt[Xl(0,Tt-1)]:s}function Rv(yt,Tt){return Wv(Xu(yt),kt(Tt,0,yt.length))}function wv(yt){return Wv(Xu(yt))}function Ly(yt,Tt,Kt){(Kt!==s&&!_d(yt[Tt],Kt)||Kt===s&&!(Tt in yt))&&lt(yt,Tt,Kt)}function uy(yt,Tt,Kt){var Un=yt[Tt];(!(js.call(yt,Tt)&&_d(Un,Kt))||Kt===s&&!(Tt in yt))&&lt(yt,Tt,Kt)}function Dm(yt,Tt){for(var Kt=yt.length;Kt--;)if(_d(yt[Kt][0],Tt))return Kt;return-1}function Jy(yt,Tt,Kt,Un){return Fn(yt,function(Vn,$n,yr){Tt(Un,Vn,Kt(Vn),yr)}),Un}function gt(yt,Tt){return yt&&mm(Tt,eu(Tt),yt)}function ot(yt,Tt){return yt&&mm(Tt,Du(Tt),yt)}function lt(yt,Tt,Kt){Tt=="__proto__"&&cm?cm(yt,Tt,{configurable:!0,enumerable:!0,value:Kt,writable:!0}):yt[Tt]=Kt}function Ut(yt,Tt){for(var Kt=-1,Un=Tt.length,Vn=Wr(Un),$n=yt==null;++Kt<Un;)Vn[Kt]=$n?s:aU(yt,Tt[Kt]);return Vn}function kt(yt,Tt,Kt){return yt===yt&&(Kt!==s&&(yt=yt<=Kt?yt:Kt),Tt!==s&&(yt=yt>=Tt?yt:Tt)),yt}function Ot(yt,Tt,Kt,Un,Vn,$n){var yr,Sr=Tt&_t,Ar=Tt&ft,ro=Tt&dt;if(Kt&&(yr=Vn?Kt(yt,Un,Vn,$n):Kt(yt)),yr!==s)return yr;if(!xl(yt))return yt;var qr=_s(yt);if(qr){if(yr=m1(yt),!Sr)return Xu(yt,yr)}else{var ao=lu(yt),To=ao==hn||ao==Sn;if(vy(yt))return NU(yt,Sr);if(ao==_i||ao==vn||To&&!Vn){if(yr=Ar||To?{}:Nv(yt),!Sr)return Ar?WU(yt,ot(yr,yt)):f1(yt,gt(yr,yt))}else{if(!Eo[ao])return Vn?yt:{};yr=y1(yt,ao,Sr)}}$n||($n=new Hu);var Io=$n.get(yt);if(Io)return Io;$n.set(yt,yr),kS(yt)?yt.forEach(function(as){yr.add(Ot(as,Tt,Kt,as,yt,$n))}):G0(yt)&&yt.forEach(function(as,Qs){yr.set(Qs,Ot(as,Tt,Kt,Qs,yt,$n))});var Yo=ro?Ar?N_:py:Ar?Du:eu,vs=qr?s:Yo(yt);return mu(vs||yt,function(as,Qs){vs&&(Qs=as,as=yt[Qs]),uy(yr,Qs,Ot(as,Tt,Kt,Qs,yt,$n))}),yr}function qt(yt){var Tt=eu(yt);return function(Kt){return an(Kt,yt,Tt)}}function an(yt,Tt,Kt){var Un=Kt.length;if(yt==null)return!Un;for(yt=qs(yt);Un--;){var Vn=Kt[Un],$n=Tt[Vn],yr=yt[Vn];if(yr===s&&!(Vn in yt)||!$n(yr))return!1}return!0}function cn(yt,Tt,Kt){if(typeof yt!="function")throw new Eu(tt);return Zy(function(){yt.apply(s,Kt)},Tt)}function _n(yt,Tt,Kt,Un){var Vn=-1,$n=om,yr=!0,Sr=yt.length,Ar=[],ro=Tt.length;if(!Sr)return Ar;Kt&&(Tt=na(Tt,yu(Kt))),Un?($n=Gm,yr=!1):Tt.length>=$&&($n=Ay,yr=!1,Tt=new dp(Tt));e:for(;++Vn<Sr;){var qr=yt[Vn],ao=Kt==null?qr:Kt(qr);if(qr=Un||qr!==0?qr:0,yr&&ao===ao){for(var To=ro;To--;)if(Tt[To]===ao)continue e;Ar.push(qr)}else $n(Tt,ao,Un)||Ar.push(qr)}return Ar}var Fn=ym(Hn),Qn=ym(dr,!0);function Nn(yt,Tt){var Kt=!0;return Fn(yt,function(Un,Vn,$n){return Kt=!!Tt(Un,Vn,$n),Kt}),Kt}function Yn(yt,Tt,Kt){for(var Un=-1,Vn=yt.length;++Un<Vn;){var $n=yt[Un],yr=Tt($n);if(yr!=null&&(Sr===s?yr===yr&&!_p(yr):Kt(yr,Sr)))var Sr=yr,Ar=$n}return Ar}function jn(yt,Tt,Kt,Un){var Vn=yt.length;for(Kt=Rs(Kt),Kt<0&&(Kt=-Kt>Vn?0:Vn+Kt),Un=Un===s||Un>Vn?Vn:Rs(Un),Un<0&&(Un+=Vn),Un=Kt>Un?0:VS(Un);Kt<Un;)yt[Kt++]=Tt;return yt}function Xn(yt,Tt){var Kt=[];return Fn(yt,function(Un,Vn,$n){Tt(Un,Vn,$n)&&Kt.push(Un)}),Kt}function Pn(yt,Tt,Kt,Un,Vn){var $n=-1,yr=yt.length;for(Kt||(Kt=jF),Vn||(Vn=[]);++$n<yr;){var Sr=yt[$n];Tt>0&&Kt(Sr)?Tt>1?Pn(Sr,Tt-1,Kt,Un,Vn):up(Vn,Sr):Un||(Vn[Vn.length]=Sr)}return Vn}var In=Ap(),er=Ap(!0);function Hn(yt,Tt){return yt&&In(yt,Tt,eu)}function dr(yt,Tt){return yt&&er(yt,Tt,eu)}function gr(yt,Tt){return ys(Tt,function(Kt){return Lm(yt[Kt])})}function tr(yt,Tt){Tt=hy(Tt,yt);for(var Kt=0,Un=Tt.length;yt!=null&&Kt<Un;)yt=yt[_g(Tt[Kt++])];return Kt&&Kt==Un?yt:s}function vr(yt,Tt,Kt){var Un=Tt(yt);return _s(yt)?Un:up(Un,Kt(yt))}function wr(yt){return yt==null?yt===s?Co:Qr:_u&&_u in qs(yt)?jy(yt):YF(yt)}function Mr(yt,Tt){return yt>Tt}function kr(yt,Tt){return yt!=null&&js.call(yt,Tt)}function oo(yt,Tt){return yt!=null&&Tt in qs(yt)}function Rr(yt,Tt,Kt){return yt>=Ml(Tt,Kt)&&yt<Vl(Tt,Kt)}function Zr(yt,Tt,Kt){for(var Un=Kt?Gm:om,Vn=yt[0].length,$n=yt.length,yr=$n,Sr=Wr($n),Ar=1/0,ro=[];yr--;){var qr=yt[yr];yr&&Tt&&(qr=na(qr,yu(Tt))),Ar=Ml(qr.length,Ar),Sr[yr]=!Kt&&(Tt||Vn>=120&&qr.length>=120)?new dp(yr&&qr):s}qr=yt[0];var ao=-1,To=Sr[0];e:for(;++ao<Vn&&ro.length<Ar;){var Io=qr[ao],Yo=Tt?Tt(Io):Io;if(Io=Kt||Io!==0?Io:0,!(To?Ay(To,Yo):Un(ro,Yo,Kt))){for(yr=$n;--yr;){var vs=Sr[yr];if(!(vs?Ay(vs,Yo):Un(yt[yr],Yo,Kt)))continue e}To&&To.push(Yo),ro.push(Io)}}return ro}function Gr(yt,Tt,Kt,Un){return Hn(yt,function(Vn,$n,yr){Tt(Un,Kt(Vn),$n,yr)}),Un}function xr(yt,Tt,Kt){Tt=hy(Tt,yt),yt=Pv(yt,Tt);var Un=yt==null?yt:yt[_g(_c(Tt))];return Un==null?s:gu(Un,yt,Kt)}function Fr(yt){return Il(yt)&&wr(yt)==vn}function yo(yt){return Il(yt)&&wr(yt)==xo}function uo(yt){return Il(yt)&&wr(yt)==Mt}function fo(yt,Tt,Kt,Un,Vn){return yt===Tt?!0:yt==null||Tt==null||!Il(yt)&&!Il(Tt)?yt!==yt&&Tt!==Tt:co(yt,Tt,Kt,Un,fo,Vn)}function co(yt,Tt,Kt,Un,Vn,$n){var yr=_s(yt),Sr=_s(Tt),Ar=yr?un:lu(yt),ro=Sr?un:lu(Tt);Ar=Ar==vn?_i:Ar,ro=ro==vn?_i:ro;var qr=Ar==_i,ao=ro==_i,To=Ar==ro;if(To&&vy(yt)){if(!vy(Tt))return!1;yr=!0,qr=!1}if(To&&!qr)return $n||($n=new Hu),yr||H0(yt)?Kl(yt,Tt,Kt,Un,Vn,$n):LF(yt,Tt,Ar,Kt,Un,Vn,$n);if(!(Kt&ut)){var Io=qr&&js.call(yt,"__wrapped__"),Yo=ao&&js.call(Tt,"__wrapped__");if(Io||Yo){var vs=Io?yt.value():yt,as=Yo?Tt.value():Tt;return $n||($n=new Hu),Vn(vs,as,Kt,Un,$n)}}return To?($n||($n=new Hu),_m(yt,Tt,Kt,Un,Vn,$n)):!1}function ko(yt){return Il(yt)&&lu(yt)==An}function Lo(yt,Tt,Kt,Un){var Vn=Kt.length,$n=Vn,yr=!Un;if(yt==null)return!$n;for(yt=qs(yt);Vn--;){var Sr=Kt[Vn];if(yr&&Sr[2]?Sr[1]!==yt[Sr[0]]:!(Sr[0]in yt))return!1}for(;++Vn<$n;){Sr=Kt[Vn];var Ar=Sr[0],ro=yt[Ar],qr=Sr[1];if(yr&&Sr[2]){if(ro===s&&!(Ar in yt))return!1}else{var ao=new Hu;if(Un)var To=Un(ro,qr,Ar,yt,Tt,ao);if(!(To===s?fo(qr,ro,ut|mt,Un,ao):To))return!1}}return!0}function Wo(yt){if(!xl(yt)||Ov(yt))return!1;var Tt=Lm(yt)?ry:Ao;return Tt.test(em(yt))}function Do(yt){return Il(yt)&&wr(yt)==jr}function ho(yt){return Il(yt)&&lu(yt)==Yr}function $o(yt){return Il(yt)&&Uy(yt.length)&&!!go[wr(yt)]}function us(yt){return typeof yt=="function"?yt:yt==null?ep:typeof yt=="object"?_s(yt)?fp(yt[0],yt[1]):ou(yt):o1(yt)}function Ns(yt){if(!V0(yt))return U0(yt);var Tt=[];for(var Kt in qs(yt))js.call(yt,Kt)&&Kt!="constructor"&&Tt.push(Kt);return Tt}function Ps(yt){if(!xl(yt))return HF(yt);var Tt=V0(yt),Kt=[];for(var Un in yt)Un=="constructor"&&(Tt||!js.call(yt,Un))||Kt.push(Un);return Kt}function As(yt,Tt){return yt<Tt}function Nl(yt,Tt){var Kt=-1,Un=_f(yt)?Wr(yt.length):[];return Fn(yt,function(Vn,$n,yr){Un[++Kt]=Tt(Vn,$n,yr)}),Un}function ou(yt){var Tt=JU(yt);return Tt.length==1&&Tt[0][2]?GF(Tt[0][0],Tt[0][1]):function(Kt){return Kt===yt||Lo(Kt,yt,Tt)}}function fp(yt,Tt){return Dv(yt)&&ZF(Tt)?GF(_g(yt),Tt):function(Kt){var Un=aU(Kt,yt);return Un===s&&Un===Tt?lU(Kt,yt):fo(Tt,Un,ut|mt)}}function Ws(yt,Tt,Kt,Un,Vn){yt!==Tt&&In(Tt,function($n,yr){if(Vn||(Vn=new Hu),xl($n))$a(yt,Tt,yr,Kt,Ws,Un,Vn);else{var Sr=Un?Un(zy(yt,yr),$n,yr+"",yt,Tt,Vn):s;Sr===s&&(Sr=$n),Ly(yt,yr,Sr)}},Du)}function $a(yt,Tt,Kt,Un,Vn,$n,yr){var Sr=zy(yt,Kt),Ar=zy(Tt,Kt),ro=yr.get(Ar);if(ro){Ly(yt,Kt,ro);return}var qr=$n?$n(Sr,Ar,Kt+"",yt,Tt,yr):s,ao=qr===s;if(ao){var To=_s(Ar),Io=!To&&vy(Ar),Yo=!To&&!Io&&H0(Ar);qr=Ar,To||Io||Yo?_s(Sr)?qr=Sr:Zl(Sr)?qr=Xu(Sr):Io?(ao=!1,qr=NU(Ar,!0)):Yo?(ao=!1,qr=A_(Ar,!0)):qr=[]:Rm(Ar)||_y(Ar)?(qr=Sr,_y(Sr)?qr=oU(Sr):(!xl(Sr)||Lm(Sr))&&(qr=Nv(Ar))):ao=!1}ao&&(yr.set(Ar,qr),Vn(qr,Ar,Un,$n,yr),yr.delete(Ar)),Ly(yt,Kt,qr)}function Cs(yt,Tt){var Kt=yt.length;if(Kt)return Tt+=Tt<0?Kt:0,Um(Tt,Kt)?yt[Tt]:s}function El(yt,Tt,Kt){Tt.length?Tt=na(Tt,function($n){return _s($n)?function(yr){return tr(yr,$n.length===1?$n[0]:$n)}:$n}):Tt=[ep];var Un=-1;Tt=na(Tt,yu(ts()));var Vn=Nl(yt,function($n,yr,Sr){var Ar=na(Tt,function(ro){return ro($n)});return{criteria:Ar,index:++Un,value:$n}});return av(Vn,function($n,yr){return Cv($n,yr,Kt)})}function su(yt,Tt){return zs(yt,Tt,function(Kt,Un){return lU(yt,Un)})}function zs(yt,Tt,Kt){for(var Un=-1,Vn=Tt.length,$n={};++Un<Vn;){var yr=Tt[Un],Sr=tr(yt,yr);Kt(Sr,yr)&&vu($n,hy(yr,yt),Sr)}return $n}function Qu(yt){return function(Tt){return tr(Tt,yt)}}function Yp(yt,Tt,Kt,Un){var Vn=Un?h_:cp,$n=-1,yr=Tt.length,Sr=yt;for(yt===Tt&&(Tt=Xu(Tt)),Kt&&(Sr=na(yt,yu(Kt)));++$n<yr;)for(var Ar=0,ro=Tt[$n],qr=Kt?Kt(ro):ro;(Ar=Vn(Sr,qr,Ar,Un))>-1;)Sr!==yt&&Cm.call(Sr,Ar,1),Cm.call(yt,Ar,1);return yt}function Yu(yt,Tt){for(var Kt=yt?Tt.length:0,Un=Kt-1;Kt--;){var Vn=Tt[Kt];if(Kt==Un||Vn!==$n){var $n=Vn;Um(Vn)?Cm.call(yt,Vn,1):Tv(yt,Vn)}}return yt}function Xl(yt,Tt){return yt+sy(Ny()*(Tt-yt+1))}function cy(yt,Tt,Kt,Un){for(var Vn=-1,$n=Vl(Vy((Tt-yt)/(Kt||1)),0),yr=Wr($n);$n--;)yr[Un?$n:++Vn]=yt,yt+=Kt;return yr}function Qp(yt,Tt){var Kt="";if(!yt||Tt<1||Tt>Zt)return Kt;do Tt%2&&(Kt+=yt),Tt=sy(Tt/2),Tt&&(yt+=yt);while(Tt);return Kt}function Ho(yt,Tt){return N0(Kp(yt,Tt,ep),yt+"")}function xp(yt){return Q_(q0(yt))}function pm(yt,Tt){var Kt=q0(yt);return Wv(Kt,kt(Tt,0,Kt.length))}function vu(yt,Tt,Kt,Un){if(!xl(yt))return yt;Tt=hy(Tt,yt);for(var Vn=-1,$n=Tt.length,yr=$n-1,Sr=yt;Sr!=null&&++Vn<$n;){var Ar=_g(Tt[Vn]),ro=Kt;if(Ar==="__proto__"||Ar==="constructor"||Ar==="prototype")return yt;if(Vn!=yr){var qr=Sr[Ar];ro=Un?Un(qr,Ar,Sr):s,ro===s&&(ro=xl(qr)?qr:Um(Tt[Vn+1])?[]:{})}uy(Sr,Ar,ro),Sr=Sr[Ar]}return yt}var T0=Dy?function(yt,Tt){return Dy.set(yt,Tt),yt}:ep,Bv=cm?function(yt,Tt){return cm(yt,"toString",{configurable:!0,enumerable:!1,value:gU(Tt),writable:!0})}:ep;function NF(yt){return Wv(q0(yt))}function pp(yt,Tt,Kt){var Un=-1,Vn=yt.length;Tt<0&&(Tt=-Tt>Vn?0:Vn+Tt),Kt=Kt>Vn?Vn:Kt,Kt<0&&(Kt+=Vn),Vn=Tt>Kt?0:Kt-Tt>>>0,Tt>>>=0;for(var $n=Wr(Vn);++Un<Vn;)$n[Un]=yt[Un+Tt];return $n}function DF(yt,Tt){var Kt;return Fn(yt,function(Un,Vn,$n){return Kt=Tt(Un,Vn,$n),!Kt}),!!Kt}function Q0(yt,Tt,Kt){var Un=0,Vn=yt==null?Un:yt.length;if(typeof Tt=="number"&&Tt===Tt&&Vn<=mn){for(;Un<Vn;){var $n=Un+Vn>>>1,yr=yt[$n];yr!==null&&!_p(yr)&&(Kt?yr<=Tt:yr<Tt)?Un=$n+1:Vn=$n}return Vn}return Ev(yt,Tt,ep,Kt)}function Ev(yt,Tt,Kt,Un){var Vn=0,$n=yt==null?0:yt.length;if($n===0)return 0;Tt=Kt(Tt);for(var yr=Tt!==Tt,Sr=Tt===null,Ar=_p(Tt),ro=Tt===s;Vn<$n;){var qr=sy((Vn+$n)/2),ao=Kt(yt[qr]),To=ao!==s,Io=ao===null,Yo=ao===ao,vs=_p(ao);if(yr)var as=Un||Yo;else ro?as=Yo&&(Un||To):Sr?as=Yo&&To&&(Un||!Io):Ar?as=Yo&&To&&!Io&&(Un||!vs):Io||vs?as=!1:as=Un?ao<=Tt:ao<Tt;as?Vn=qr+1:$n=qr}return Ml($n,tn)}function QU(yt,Tt){for(var Kt=-1,Un=yt.length,Vn=0,$n=[];++Kt<Un;){var yr=yt[Kt],Sr=Tt?Tt(yr):yr;if(!Kt||!_d(Sr,Ar)){var Ar=Sr;$n[Vn++]=yr===0?0:yr}}return $n}function xU(yt){return typeof yt=="number"?yt:_p(yt)?Ft:+yt}function $u(yt){if(typeof yt=="string")return yt;if(_s(yt))return na(yt,$u)+"";if(_p(yt))return S0?S0.call(yt):"";var Tt=yt+"";return Tt=="0"&&1/yt==-jt?"-0":Tt}function Om(yt,Tt,Kt){var Un=-1,Vn=om,$n=yt.length,yr=!0,Sr=[],Ar=Sr;if(Kt)yr=!1,Vn=Gm;else if($n>=$){var ro=Tt?null:WF(yt);if(ro)return f0(ro);yr=!1,Vn=Ay,Ar=new dp}else Ar=Tt?[]:Sr;e:for(;++Un<$n;){var qr=yt[Un],ao=Tt?Tt(qr):qr;if(qr=Kt||qr!==0?qr:0,yr&&ao===ao){for(var To=Ar.length;To--;)if(Ar[To]===ao)continue e;Tt&&Ar.push(ao),Sr.push(qr)}else Vn(Ar,ao,Kt)||(Ar!==Sr&&Ar.push(ao),Sr.push(qr))}return Sr}function Tv(yt,Tt){return Tt=hy(Tt,yt),yt=Pv(yt,Tt),yt==null||delete yt[_g(_c(Tt))]}function AU(yt,Tt,Kt,Un){return vu(yt,Tt,Kt(tr(yt,Tt)),Un)}function x_(yt,Tt,Kt,Un){for(var Vn=yt.length,$n=Un?Vn:-1;(Un?$n--:++$n<Vn)&&Tt(yt[$n],$n,yt););return Kt?pp(yt,Un?0:$n,Un?$n+1:Vn):pp(yt,Un?$n+1:0,Un?Vn:$n)}function CU(yt,Tt){var Kt=yt;return Kt instanceof Bs&&(Kt=Kt.value()),s0(Tt,function(Un,Vn){return Vn.func.apply(Vn.thisArg,up([Un],Vn.args))},Kt)}function Qv(yt,Tt,Kt){var Un=yt.length;if(Un<2)return Un?Om(yt[0]):[];for(var Vn=-1,$n=Wr(Un);++Vn<Un;)for(var yr=yt[Vn],Sr=-1;++Sr<Un;)Sr!=Vn&&($n[Vn]=_n($n[Vn]||yr,yt[Sr],Tt,Kt));return Om(Pn($n,1),Tt,Kt)}function kU(yt,Tt,Kt){for(var Un=-1,Vn=yt.length,$n=Tt.length,yr={};++Un<Vn;){var Sr=Un<$n?Tt[Un]:s;Kt(yr,yt[Un],Sr)}return yr}function xv(yt){return Zl(yt)?yt:[]}function VU(yt){return typeof yt=="function"?yt:ep}function hy(yt,Tt){return _s(yt)?yt:Dv(yt,Tt)?[yt]:Lv(Hs(yt))}var x0=Ho;function Im(yt,Tt,Kt){var Un=yt.length;return Kt=Kt===s?Un:Kt,!Tt&&Kt>=Un?yt:pp(yt,Tt,Kt)}var MU=Fo||function(yt){return Fl.clearTimeout(yt)};function NU(yt,Tt){if(Tt)return yt.slice();var Kt=yt.length,Un=v0?v0(Kt):new yt.constructor(Kt);return yt.copy(Un),Un}function DU(yt){var Tt=new yt.constructor(yt.byteLength);return new iy(Tt).set(new iy(yt)),Tt}function Av(yt,Tt){var Kt=Tt?DU(yt.buffer):yt.buffer;return new yt.constructor(Kt,yt.byteOffset,yt.byteLength)}function OF(yt){var Tt=new yt.constructor(yt.source,zr.exec(yt));return Tt.lastIndex=yt.lastIndex,Tt}function OU(yt){return Zp?qs(Zp.call(yt)):{}}function A_(yt,Tt){var Kt=Tt?DU(yt.buffer):yt.buffer;return new yt.constructor(Kt,yt.byteOffset,yt.length)}function gm(yt,Tt){if(yt!==Tt){var Kt=yt!==s,Un=yt===null,Vn=yt===yt,$n=_p(yt),yr=Tt!==s,Sr=Tt===null,Ar=Tt===Tt,ro=_p(Tt);if(!Sr&&!ro&&!$n&&yt>Tt||$n&&yr&&Ar&&!Sr&&!ro||Un&&yr&&Ar||!Kt&&Ar||!Vn)return 1;if(!Un&&!$n&&!ro&&yt<Tt||ro&&Kt&&Vn&&!Un&&!$n||Sr&&Kt&&Vn||!yr&&Vn||!Ar)return-1}return 0}function Cv(yt,Tt,Kt){for(var Un=-1,Vn=yt.criteria,$n=Tt.criteria,yr=Vn.length,Sr=Kt.length;++Un<yr;){var Ar=gm(Vn[Un],$n[Un]);if(Ar){if(Un>=Sr)return Ar;var ro=Kt[Un];return Ar*(ro=="desc"?-1:1)}}return yt.index-Tt.index}function IU(yt,Tt,Kt,Un){for(var Vn=-1,$n=yt.length,yr=Kt.length,Sr=-1,Ar=Tt.length,ro=Vl($n-yr,0),qr=Wr(Ar+ro),ao=!Un;++Sr<Ar;)qr[Sr]=Tt[Sr];for(;++Vn<yr;)(ao||Vn<$n)&&(qr[Kt[Vn]]=yt[Vn]);for(;ro--;)qr[Sr++]=yt[Vn++];return qr}function PU(yt,Tt,Kt,Un){for(var Vn=-1,$n=yt.length,yr=-1,Sr=Kt.length,Ar=-1,ro=Tt.length,qr=Vl($n-Sr,0),ao=Wr(qr+ro),To=!Un;++Vn<qr;)ao[Vn]=yt[Vn];for(var Io=Vn;++Ar<ro;)ao[Io+Ar]=Tt[Ar];for(;++yr<Sr;)(To||Vn<$n)&&(ao[Io+Kt[yr]]=yt[Vn++]);return ao}function Xu(yt,Tt){var Kt=-1,Un=yt.length;for(Tt||(Tt=Wr(Un));++Kt<Un;)Tt[Kt]=yt[Kt];return Tt}function mm(yt,Tt,Kt,Un){var Vn=!Kt;Kt||(Kt={});for(var $n=-1,yr=Tt.length;++$n<yr;){var Sr=Tt[$n],Ar=Un?Un(Kt[Sr],yt[Sr],Sr,Kt,yt):s;Ar===s&&(Ar=yt[Sr]),Vn?lt(Kt,Sr,Ar):uy(Kt,Sr,Ar)}return Kt}function f1(yt,Tt){return mm(yt,k0(yt),Tt)}function WU(yt,Tt){return mm(yt,O_(yt),Tt)}function dy(yt,Tt){return function(Kt,Un){var Vn=_s(Kt)?u_:Jy,$n=Tt?Tt():{};return Vn(Kt,yt,ts(Un,2),$n)}}function $p(yt){return Ho(function(Tt,Kt){var Un=-1,Vn=Kt.length,$n=Vn>1?Kt[Vn-1]:s,yr=Vn>2?Kt[2]:s;for($n=yt.length>3&&typeof $n=="function"?(Vn--,$n):s,yr&&zl(Kt[0],Kt[1],yr)&&($n=Vn<3?s:$n,Vn=1),Tt=qs(Tt);++Un<Vn;){var Sr=Kt[Un];Sr&&yt(Tt,Sr,Un,$n)}return Tt})}function ym(yt,Tt){return function(Kt,Un){if(Kt==null)return Kt;if(!_f(Kt))return yt(Kt,Un);for(var Vn=Kt.length,$n=Tt?Vn:-1,yr=qs(Kt);(Tt?$n--:++$n<Vn)&&Un(yr[$n],$n,yr)!==!1;);return Kt}}function Ap(yt){return function(Tt,Kt,Un){for(var Vn=-1,$n=qs(Tt),yr=Un(Tt),Sr=yr.length;Sr--;){var Ar=yr[yt?Sr:++Vn];if(Kt($n[Ar],Ar,$n)===!1)break}return Tt}}function fy(yt,Tt,Kt){var Un=Tt&wt,Vn=C_(yt);function $n(){var yr=this&&this!==Fl&&this instanceof $n?Vn:yt;return yr.apply(Un?Kt:this,arguments)}return $n}function Pm(yt){return function(Tt){Tt=Hs(Tt);var Kt=Am(Tt)?ku(Tt):s,Un=Kt?Kt[0]:Tt.charAt(0),Vn=Kt?Im(Kt,1).join(""):Tt.slice(1);return Un[yt]()+Vn}}function Cp(yt){return function(Tt){return s0(n_(UF(Tt).replace(Wn,"")),yt,"")}}function C_(yt){return function(){var Tt=arguments;switch(Tt.length){case 0:return new yt;case 1:return new yt(Tt[0]);case 2:return new yt(Tt[0],Tt[1]);case 3:return new yt(Tt[0],Tt[1],Tt[2]);case 4:return new yt(Tt[0],Tt[1],Tt[2],Tt[3]);case 5:return new yt(Tt[0],Tt[1],Tt[2],Tt[3],Tt[4]);case 6:return new yt(Tt[0],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5]);case 7:return new yt(Tt[0],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5],Tt[6])}var Kt=dm(yt.prototype),Un=yt.apply(Kt,Tt);return xl(Un)?Un:Kt}}function p1(yt,Tt,Kt){var Un=C_(yt);function Vn(){for(var $n=arguments.length,yr=Wr($n),Sr=$n,Ar=C0(Vn);Sr--;)yr[Sr]=arguments[Sr];var ro=$n<3&&yr[0]!==Ar&&yr[$n-1]!==Ar?[]:Fp(yr,Ar);if($n-=ro.length,$n<Kt)return M_(yt,Tt,k_,Vn.placeholder,s,yr,ro,s,s,Kt-$n);var qr=this&&this!==Fl&&this instanceof Vn?Un:yt;return gu(qr,this,yr)}return Vn}function IF(yt){return function(Tt,Kt,Un){var Vn=qs(Tt);if(!_f(Tt)){var $n=ts(Kt,3);Tt=eu(Tt),Kt=function(Sr){return $n(Vn[Sr],Sr,Vn)}}var yr=yt(Tt,Kt,Un);return yr>-1?Vn[$n?Tt[yr]:yr]:s}}function PF(yt){return vm(function(Tt){var Kt=Tt.length,Un=Kt,Vn=Tu.prototype.thru;for(yt&&Tt.reverse();Un--;){var $n=Tt[Un];if(typeof $n!="function")throw new Eu(tt);if(Vn&&!yr&&A0($n)=="wrapper")var yr=new Tu([],!0)}for(Un=yr?Un:Kt;++Un<Kt;){$n=Tt[Un];var Sr=A0($n),Ar=Sr=="wrapper"?Mv($n):s;Ar&&gy(Ar[0])&&Ar[1]==(nn|Et|pt|on)&&!Ar[4].length&&Ar[9]==1?yr=yr[A0(Ar[0])].apply(yr,Ar[3]):yr=$n.length==1&&gy($n)?yr[Sr]():yr.thru($n)}return function(){var ro=arguments,qr=ro[0];if(yr&&ro.length==1&&_s(qr))return yr.plant(qr).value();for(var ao=0,To=Kt?Tt[ao].apply(this,ro):qr;++ao<Kt;)To=Tt[ao].call(this,To);return To}})}function k_(yt,Tt,Kt,Un,Vn,$n,yr,Sr,Ar,ro){var qr=Tt&nn,ao=Tt&wt,To=Tt&Qt,Io=Tt&(Et|xt),Yo=Tt&bt,vs=To?s:C_(yt);function as(){for(var Qs=arguments.length,ks=Wr(Qs),Ou=Qs;Ou--;)ks[Ou]=arguments[Ou];if(Io)var Iu=C0(as),tp=lv(ks,Iu);if(Un&&(ks=IU(ks,Un,Vn,Io)),$n&&(ks=PU(ks,$n,yr,Io)),Qs-=tp,Io&&Qs<ro){var Pl=Fp(ks,Iu);return M_(yt,Tt,k_,as.placeholder,Kt,ks,Pl,Sr,Ar,ro-Qs)}var Np=ao?Kt:this,Em=To?Np[yt]:yt;return Qs=ks.length,Sr?ks=M0(ks,Sr):Yo&&Qs>1&&ks.reverse(),qr&&Ar<Qs&&(ks.length=Ar),this&&this!==Fl&&this instanceof as&&(Em=vs||C_(Em)),Em.apply(Np,ks)}return as}function V_(yt,Tt){return function(Kt,Un){return Gr(Kt,yt,Tt(Un),{})}}function qu(yt,Tt){return function(Kt,Un){var Vn;if(Kt===s&&Un===s)return Tt;if(Kt!==s&&(Vn=Kt),Un!==s){if(Vn===s)return Un;typeof Kt=="string"||typeof Un=="string"?(Kt=$u(Kt),Un=$u(Un)):(Kt=xU(Kt),Un=xU(Un)),Vn=yt(Kt,Un)}return Vn}}function LU(yt){return vm(function(Tt){return Tt=na(Tt,yu(ts())),Ho(function(Kt){var Un=this;return yt(Tt,function(Vn){return gu(Vn,Un,Kt)})})})}function kv(yt,Tt){Tt=Tt===s?" ":$u(Tt);var Kt=Tt.length;if(Kt<2)return Kt?Qp(Tt,yt):Tt;var Un=Qp(Tt,Vy(yt/Km(Tt)));return Am(Tt)?Im(ku(Un),0,yt).join(""):Un.slice(0,yt)}function Dl(yt,Tt,Kt,Un){var Vn=Tt&wt,$n=C_(yt);function yr(){for(var Sr=-1,Ar=arguments.length,ro=-1,qr=Un.length,ao=Wr(qr+Ar),To=this&&this!==Fl&&this instanceof yr?$n:yt;++ro<qr;)ao[ro]=Un[ro];for(;Ar--;)ao[ro++]=arguments[++Sr];return gu(To,Vn?Kt:this,ao)}return yr}function zo(yt){return function(Tt,Kt,Un){return Un&&typeof Un!="number"&&zl(Tt,Kt,Un)&&(Kt=Un=s),Tt=wm(Tt),Kt===s?(Kt=Tt,Tt=0):Kt=wm(Kt),Un=Un===s?Tt<Kt?1:-1:wm(Un),cy(Tt,Kt,Un,yt)}}function Xp(yt){return function(Tt,Kt){return typeof Tt=="string"&&typeof Kt=="string"||(Tt=Mp(Tt),Kt=Mp(Kt)),yt(Tt,Kt)}}function M_(yt,Tt,Kt,Un,Vn,$n,yr,Sr,Ar,ro){var qr=Tt&Et,ao=qr?yr:s,To=qr?s:yr,Io=qr?$n:s,Yo=qr?s:$n;Tt|=qr?pt:Vt,Tt&=~(qr?Vt:pt),Tt&Dt||(Tt&=~(wt|Qt));var vs=[yt,Tt,Vn,Io,ao,Yo,To,Sr,Ar,ro],as=Kt.apply(s,vs);return gy(yt)&&my(as,vs),as.placeholder=Un,ZU(as,yt,Tt)}function Es(yt){var Tt=Tl[yt];return function(Kt,Un){if(Kt=Mp(Kt),Un=Un==null?0:Ml(Rs(Un),292),Un&&My(Kt)){var Vn=(Hs(Kt)+"e").split("e"),$n=Tt(Vn[0]+"e"+(+Vn[1]+Un));return Vn=(Hs($n)+"e").split("e"),+(Vn[0]+"e"+(+Vn[1]-Un))}return Tt(Kt)}}var WF=jp&&1/f0(new jp([,-0]))[1]==jt?function(yt){return new jp(yt)}:Ky;function Vv(yt){return function(Tt){var Kt=lu(Tt);return Kt==An?qm(Tt):Kt==Yr?Cy(Tt):g_(Tt,yt(Tt))}}function au(yt,Tt,Kt,Un,Vn,$n,yr,Sr){var Ar=Tt&Qt;if(!Ar&&typeof yt!="function")throw new Eu(tt);var ro=Un?Un.length:0;if(ro||(Tt&=~(pt|Vt),Un=Vn=s),yr=yr===s?yr:Vl(Rs(yr),0),Sr=Sr===s?Sr:Rs(Sr),ro-=Vn?Vn.length:0,Tt&Vt){var qr=Un,ao=Vn;Un=Vn=s}var To=Ar?s:Mv(yt),Io=[yt,Tt,Kt,Un,Vn,qr,ao,$n,yr,Sr];if(To&&Ku(Io,To),yt=Io[0],Tt=Io[1],Kt=Io[2],Un=Io[3],Vn=Io[4],Sr=Io[9]=Io[9]===s?Ar?0:yt.length:Vl(Io[9]-ro,0),!Sr&&Tt&(Et|xt)&&(Tt&=~(Et|xt)),!Tt||Tt==wt)var Yo=fy(yt,Tt,Kt);else Tt==Et||Tt==xt?Yo=p1(yt,Tt,Sr):(Tt==pt||Tt==(wt|pt))&&!Vn.length?Yo=Dl(yt,Tt,Kt,Un):Yo=k_.apply(s,Io);var vs=To?T0:my;return ZU(vs(Yo,Io),yt,Tt)}function qp(yt,Tt,Kt,Un){return yt===s||_d(yt,am[Kt])&&!js.call(Un,Kt)?Tt:yt}function gp(yt,Tt,Kt,Un,Vn,$n){return xl(yt)&&xl(Tt)&&($n.set(Tt,yt),Ws(yt,Tt,s,gp,$n),$n.delete(Tt)),yt}function mp(yt){return Rm(yt)?s:yt}function Kl(yt,Tt,Kt,Un,Vn,$n){var yr=Kt&ut,Sr=yt.length,Ar=Tt.length;if(Sr!=Ar&&!(yr&&Ar>Sr))return!1;var ro=$n.get(yt),qr=$n.get(Tt);if(ro&&qr)return ro==Tt&&qr==yt;var ao=-1,To=!0,Io=Kt&mt?new dp:s;for($n.set(yt,Tt),$n.set(Tt,yt);++ao<Sr;){var Yo=yt[ao],vs=Tt[ao];if(Un)var as=yr?Un(vs,Yo,ao,Tt,yt,$n):Un(Yo,vs,ao,yt,Tt,$n);if(as!==s){if(as)continue;To=!1;break}if(Io){if(!Ey(Tt,function(Qs,ks){if(!Ay(Io,ks)&&(Yo===Qs||Vn(Yo,Qs,Kt,Un,$n)))return Io.push(ks)})){To=!1;break}}else if(!(Yo===vs||Vn(Yo,vs,Kt,Un,$n))){To=!1;break}}return $n.delete(yt),$n.delete(Tt),To}function LF(yt,Tt,Kt,Un,Vn,$n,yr){switch(Kt){case ls:if(yt.byteLength!=Tt.byteLength||yt.byteOffset!=Tt.byteOffset)return!1;yt=yt.buffer,Tt=Tt.buffer;case xo:return!(yt.byteLength!=Tt.byteLength||!$n(new iy(yt),new iy(Tt)));case At:case Mt:case Gn:return _d(+yt,+Tt);case pn:return yt.name==Tt.name&&yt.message==Tt.message;case jr:case no:return yt==Tt+"";case An:var Sr=qm;case Yr:var Ar=Un&ut;if(Sr||(Sr=f0),yt.size!=Tt.size&&!Ar)return!1;var ro=yr.get(yt);if(ro)return ro==Tt;Un|=mt,yr.set(yt,Tt);var qr=Kl(Sr(yt),Sr(Tt),Un,Vn,$n,yr);return yr.delete(yt),qr;case Qo:if(Zp)return Zp.call(yt)==Zp.call(Tt)}return!1}function _m(yt,Tt,Kt,Un,Vn,$n){var yr=Kt&ut,Sr=py(yt),Ar=Sr.length,ro=py(Tt),qr=ro.length;if(Ar!=qr&&!yr)return!1;for(var ao=Ar;ao--;){var To=Sr[ao];if(!(yr?To in Tt:js.call(Tt,To)))return!1}var Io=$n.get(yt),Yo=$n.get(Tt);if(Io&&Yo)return Io==Tt&&Yo==yt;var vs=!0;$n.set(yt,Tt),$n.set(Tt,yt);for(var as=yr;++ao<Ar;){To=Sr[ao];var Qs=yt[To],ks=Tt[To];if(Un)var Ou=yr?Un(ks,Qs,To,Tt,yt,$n):Un(Qs,ks,To,yt,Tt,$n);if(!(Ou===s?Qs===ks||Vn(Qs,ks,Kt,Un,$n):Ou)){vs=!1;break}as||(as=To=="constructor")}if(vs&&!as){var Iu=yt.constructor,tp=Tt.constructor;Iu!=tp&&"constructor"in yt&&"constructor"in Tt&&!(typeof Iu=="function"&&Iu instanceof Iu&&typeof tp=="function"&&tp instanceof tp)&&(vs=!1)}return $n.delete(yt),$n.delete(Tt),vs}function vm(yt){return N0(Kp(yt,s,qF),yt+"")}function py(yt){return vr(yt,eu,k0)}function N_(yt){return vr(yt,Du,O_)}var Mv=Dy?function(yt){return Dy.get(yt)}:Ky;function A0(yt){for(var Tt=yt.name+"",Kt=Vm[Tt],Un=js.call(Vm,Tt)?Kt.length:0;Un--;){var Vn=Kt[Un],$n=Vn.func;if($n==null||$n==yt)return Vn.name}return Tt}function C0(yt){var Tt=js.call(Jn,"placeholder")?Jn:yt;return Tt.placeholder}function ts(){var yt=Jn.iteratee||BF;return yt=yt===BF?us:yt,arguments.length?yt(arguments[0],arguments[1]):yt}function D_(yt,Tt){var Kt=yt.__data__;return _1(Tt)?Kt[typeof Tt=="string"?"string":"hash"]:Kt.map}function JU(yt){for(var Tt=eu(yt),Kt=Tt.length;Kt--;){var Un=Tt[Kt],Vn=yt[Un];Tt[Kt]=[Un,Vn,ZF(Vn)]}return Tt}function Nu(yt,Tt){var Kt=m_(yt,Tt);return Wo(Kt)?Kt:s}function jy(yt){var Tt=js.call(yt,_u),Kt=yt[_u];try{yt[_u]=s;var Un=!0}catch{}var Vn=Gu.call(yt);return Un&&(Tt?yt[_u]=Kt:delete yt[_u]),Vn}var k0=hp?function(yt){return yt==null?[]:(yt=qs(yt),ys(hp(yt),function(Tt){return um.call(yt,Tt)}))}:_U,O_=hp?function(yt){for(var Tt=[];yt;)up(Tt,k0(yt)),yt=lm(yt);return Tt}:_U,lu=wr;(ay&&lu(new ay(new ArrayBuffer(1)))!=ls||km&&lu(new km)!=An||b0&&lu(b0.resolve())!=Pr||jp&&lu(new jp)!=Yr||hm&&lu(new hm)!=Jo)&&(lu=function(yt){var Tt=wr(yt),Kt=Tt==_i?yt.constructor:s,Un=Kt?em(Kt):"";if(Un)switch(Un){case F0:return ls;case gv:return An;case R_:return Pr;case Mm:return Yr;case mv:return Jo}return Tt});function JF(yt,Tt,Kt){for(var Un=-1,Vn=Kt.length;++Un<Vn;){var $n=Kt[Un],yr=$n.size;switch($n.type){case"drop":yt+=yr;break;case"dropRight":Tt-=yr;break;case"take":Tt=Ml(Tt,yt+yr);break;case"takeRight":yt=Vl(yt,Tt-yr);break}}return{start:yt,end:Tt}}function g1(yt){var Tt=yt.match(ur);return Tt?Tt[1].split(mr):[]}function jU(yt,Tt,Kt){Tt=hy(Tt,yt);for(var Un=-1,Vn=Tt.length,$n=!1;++Un<Vn;){var yr=_g(Tt[Un]);if(!($n=yt!=null&&Kt(yt,yr)))break;yt=yt[yr]}return $n||++Un!=Vn?$n:(Vn=yt==null?0:yt.length,!!Vn&&Uy(Vn)&&Um(yr,Vn)&&(_s(yt)||_y(yt)))}function m1(yt){var Tt=yt.length,Kt=new yt.constructor(Tt);return Tt&&typeof yt[0]=="string"&&js.call(yt,"index")&&(Kt.index=yt.index,Kt.input=yt.input),Kt}function Nv(yt){return typeof yt.constructor=="function"&&!V0(yt)?dm(lm(yt)):{}}function y1(yt,Tt,Kt){var Un=yt.constructor;switch(Tt){case xo:return DU(yt);case At:case Mt:return new Un(+yt);case ls:return Av(yt,Kt);case Ds:case hs:case Hl:case Ll:case Ls:case Us:case cu:case Po:case nu:return A_(yt,Kt);case An:return new Un;case Gn:case no:return new Un(yt);case jr:return OF(yt);case Yr:return new Un;case Qo:return OU(yt)}}function zU(yt,Tt){var Kt=Tt.length;if(!Kt)return yt;var Un=Kt-1;return Tt[Un]=(Kt>1?"& ":"")+Tt[Un],Tt=Tt.join(Kt>2?", ":" "),yt.replace(lr,`{
/* [wrapped with `+Tt+`] */
`)}function jF(yt){return _s(yt)||_y(yt)||!!(ky&&yt&&yt[ky])}function Um(yt,Tt){var Kt=typeof yt;return Tt=Tt??Zt,!!Tt&&(Kt=="number"||Kt!="symbol"&&Xo.test(yt))&&yt>-1&&yt%1==0&&yt<Tt}function zl(yt,Tt,Kt){if(!xl(Kt))return!1;var Un=typeof Tt;return(Un=="number"?_f(Kt)&&Um(Tt,Kt.length):Un=="string"&&Tt in Kt)?_d(Kt[Tt],yt):!1}function Dv(yt,Tt){if(_s(yt))return!1;var Kt=typeof yt;return Kt=="number"||Kt=="symbol"||Kt=="boolean"||yt==null||_p(yt)?!0:io.test(yt)||!On.test(yt)||Tt!=null&&yt in qs(Tt)}function _1(yt){var Tt=typeof yt;return Tt=="string"||Tt=="number"||Tt=="symbol"||Tt=="boolean"?yt!=="__proto__":yt===null}function gy(yt){var Tt=A0(yt),Kt=Jn[Tt];if(typeof Kt!="function"||!(Tt in Bs.prototype))return!1;if(yt===Kt)return!0;var Un=Mv(Kt);return!!Un&&yt===Un[0]}function Ov(yt){return!!Ts&&Ts in yt}var zF=Zu?Lm:vU;function V0(yt){var Tt=yt&&yt.constructor,Kt=typeof Tt=="function"&&Tt.prototype||am;return yt===Kt}function ZF(yt){return yt===yt&&!xl(yt)}function GF(yt,Tt){return function(Kt){return Kt==null?!1:Kt[yt]===Tt&&(Tt!==s||yt in qs(Kt))}}function Iv(yt){var Tt=H_(yt,function(Un){return Kt.size===st&&Kt.clear(),Un}),Kt=Tt.cache;return Tt}function Ku(yt,Tt){var Kt=yt[1],Un=Tt[1],Vn=Kt|Un,$n=Vn<(wt|Qt|nn),yr=Un==nn&&Kt==Et||Un==nn&&Kt==on&&yt[7].length<=Tt[8]||Un==(nn|on)&&Tt[7].length<=Tt[8]&&Kt==Et;if(!($n||yr))return yt;Un&wt&&(yt[2]=Tt[2],Vn|=Kt&wt?0:Dt);var Sr=Tt[3];if(Sr){var Ar=yt[3];yt[3]=Ar?IU(Ar,Sr,Tt[4]):Sr,yt[4]=Ar?Fp(yt[3],ht):Tt[4]}return Sr=Tt[5],Sr&&(Ar=yt[5],yt[5]=Ar?PU(Ar,Sr,Tt[6]):Sr,yt[6]=Ar?Fp(yt[5],ht):Tt[6]),Sr=Tt[7],Sr&&(yt[7]=Sr),Un&nn&&(yt[8]=yt[8]==null?Tt[8]:Ml(yt[8],Tt[8])),yt[9]==null&&(yt[9]=Tt[9]),yt[0]=Tt[0],yt[1]=Vn,yt}function HF(yt){var Tt=[];if(yt!=null)for(var Kt in qs(yt))Tt.push(Kt);return Tt}function YF(yt){return Gu.call(yt)}function Kp(yt,Tt,Kt){return Tt=Vl(Tt===s?yt.length-1:Tt,0),function(){for(var Un=arguments,Vn=-1,$n=Vl(Un.length-Tt,0),yr=Wr($n);++Vn<$n;)yr[Vn]=Un[Tt+Vn];Vn=-1;for(var Sr=Wr(Tt+1);++Vn<Tt;)Sr[Vn]=Un[Vn];return Sr[Tt]=Kt(yr),gu(yt,this,Sr)}}function Pv(yt,Tt){return Tt.length<2?yt:tr(yt,pp(Tt,0,-1))}function M0(yt,Tt){for(var Kt=yt.length,Un=Ml(Tt.length,Kt),Vn=Xu(yt);Un--;){var $n=Tt[Un];yt[Un]=Um($n,Kt)?Vn[$n]:s}return yt}function zy(yt,Tt){if(!(Tt==="constructor"&&typeof yt[Tt]=="function")&&Tt!="__proto__")return yt[Tt]}var my=GU(T0),Zy=F_||function(yt,Tt){return Fl.setTimeout(yt,Tt)},N0=GU(Bv);function ZU(yt,Tt,Kt){var Un=Tt+"";return N0(yt,zU(Un,D0(g1(Un),Kt)))}function GU(yt){var Tt=0,Kt=0;return function(){var Un=Jp(),Vn=Lt-(Un-Kt);if(Kt=Un,Vn>0){if(++Tt>=Bt)return arguments[0]}else Tt=0;return yt.apply(s,arguments)}}function Wv(yt,Tt){var Kt=-1,Un=yt.length,Vn=Un-1;for(Tt=Tt===s?Un:Tt;++Kt<Tt;){var $n=Xl(Kt,Vn),yr=yt[$n];yt[$n]=yt[Kt],yt[Kt]=yr}return yt.length=Tt,yt}var Lv=Iv(function(yt){var Tt=[];return yt.charCodeAt(0)===46&&Tt.push(""),yt.replace(Mn,function(Kt,Un,Vn,$n){Tt.push(Vn?$n.replace(Nr,"$1"):Un||Kt)}),Tt});function _g(yt){if(typeof yt=="string"||_p(yt))return yt;var Tt=yt+"";return Tt=="0"&&1/yt==-jt?"-0":Tt}function em(yt){if(yt!=null){try{return Wp.call(yt)}catch{}try{return yt+""}catch{}}return""}function D0(yt,Tt){return mu(yn,function(Kt){var Un="_."+Kt[0];Tt&Kt[1]&&!om(yt,Un)&&yt.push(Un)}),yt.sort()}function bm(yt){if(yt instanceof Bs)return yt.clone();var Tt=new Tu(yt.__wrapped__,yt.__chain__);return Tt.__actions__=Xu(yt.__actions__),Tt.__index__=yt.__index__,Tt.__values__=yt.__values__,Tt}function HU(yt,Tt,Kt){(Kt?zl(yt,Tt,Kt):Tt===s)?Tt=1:Tt=Vl(Rs(Tt),0);var Un=yt==null?0:yt.length;if(!Un||Tt<1)return[];for(var Vn=0,$n=0,yr=Wr(Vy(Un/Tt));Vn<Un;)yr[$n++]=pp(yt,Vn,Vn+=Tt);return yr}function $F(yt){for(var Tt=-1,Kt=yt==null?0:yt.length,Un=0,Vn=[];++Tt<Kt;){var $n=yt[Tt];$n&&(Vn[Un++]=$n)}return Vn}function I_(){var yt=arguments.length;if(!yt)return[];for(var Tt=Wr(yt-1),Kt=arguments[0],Un=yt;Un--;)Tt[Un-1]=arguments[Un];return up(_s(Kt)?Xu(Kt):[Kt],Pn(Tt,1))}var P_=Ho(function(yt,Tt){return Zl(yt)?_n(yt,Pn(Tt,1,Zl,!0)):[]}),yp=Ho(function(yt,Tt){var Kt=_c(Tt);return Zl(Kt)&&(Kt=s),Zl(yt)?_n(yt,Pn(Tt,1,Zl,!0),ts(Kt,2)):[]}),W_=Ho(function(yt,Tt){var Kt=_c(Tt);return Zl(Kt)&&(Kt=s),Zl(yt)?_n(yt,Pn(Tt,1,Zl,!0),s,Kt):[]});function xu(yt,Tt,Kt){var Un=yt==null?0:yt.length;return Un?(Tt=Kt||Tt===s?1:Rs(Tt),pp(yt,Tt<0?0:Tt,Un)):[]}function kp(yt,Tt,Kt){var Un=yt==null?0:yt.length;return Un?(Tt=Kt||Tt===s?1:Rs(Tt),Tt=Un-Tt,pp(yt,0,Tt<0?0:Tt)):[]}function YU(yt,Tt){return yt&&yt.length?x_(yt,ts(Tt,3),!0,!0):[]}function Ol(yt,Tt){return yt&&yt.length?x_(yt,ts(Tt,3),!0):[]}function XF(yt,Tt,Kt,Un){var Vn=yt==null?0:yt.length;return Vn?(Kt&&typeof Kt!="number"&&zl(yt,Tt,Kt)&&(Kt=0,Un=Vn),jn(yt,Tt,Kt,Un)):[]}function O0(yt,Tt,Kt){var Un=yt==null?0:yt.length;if(!Un)return-1;var Vn=Kt==null?0:Rs(Kt);return Vn<0&&(Vn=Vl(Un+Vn,0)),Ss(yt,ts(Tt,3),Vn)}function Vp(yt,Tt,Kt){var Un=yt==null?0:yt.length;if(!Un)return-1;var Vn=Un-1;return Kt!==s&&(Vn=Rs(Kt),Vn=Kt<0?Vl(Un+Vn,0):Ml(Vn,Un-1)),Ss(yt,ts(Tt,3),Vn,!0)}function qF(yt){var Tt=yt==null?0:yt.length;return Tt?Pn(yt,1):[]}function v1(yt){var Tt=yt==null?0:yt.length;return Tt?Pn(yt,jt):[]}function KF(yt,Tt){var Kt=yt==null?0:yt.length;return Kt?(Tt=Tt===s?1:Rs(Tt),Pn(yt,Tt)):[]}function eS(yt){for(var Tt=-1,Kt=yt==null?0:yt.length,Un={};++Tt<Kt;){var Vn=yt[Tt];Un[Vn[0]]=Vn[1]}return Un}function yy(yt){return yt&&yt.length?yt[0]:s}function tS(yt,Tt,Kt){var Un=yt==null?0:yt.length;if(!Un)return-1;var Vn=Kt==null?0:Rs(Kt);return Vn<0&&(Vn=Vl(Un+Vn,0)),cp(yt,Tt,Vn)}function nS(yt){var Tt=yt==null?0:yt.length;return Tt?pp(yt,0,-1):[]}var rS=Ho(function(yt){var Tt=na(yt,xv);return Tt.length&&Tt[0]===yt[0]?Zr(Tt):[]}),iS=Ho(function(yt){var Tt=_c(yt),Kt=na(yt,xv);return Tt===_c(Kt)?Tt=s:Kt.pop(),Kt.length&&Kt[0]===yt[0]?Zr(Kt,ts(Tt,2)):[]}),U1=Ho(function(yt){var Tt=_c(yt),Kt=na(yt,xv);return Tt=typeof Tt=="function"?Tt:s,Tt&&Kt.pop(),Kt.length&&Kt[0]===yt[0]?Zr(Kt,s,Tt):[]});function $U(yt,Tt){return yt==null?"":S_.call(yt,Tt)}function _c(yt){var Tt=yt==null?0:yt.length;return Tt?yt[Tt-1]:s}function XU(yt,Tt,Kt){var Un=yt==null?0:yt.length;if(!Un)return-1;var Vn=Un;return Kt!==s&&(Vn=Rs(Kt),Vn=Vn<0?Vl(Un+Vn,0):Ml(Vn,Un-1)),Tt===Tt?p0(yt,Tt,Vn):Ss(yt,d_,Vn,!0)}function Au(yt,Tt){return yt&&yt.length?Cs(yt,Rs(Tt)):s}var oS=Ho(sS);function sS(yt,Tt){return yt&&yt.length&&Tt&&Tt.length?Yp(yt,Tt):yt}function aS(yt,Tt,Kt){return yt&&yt.length&&Tt&&Tt.length?Yp(yt,Tt,ts(Kt,2)):yt}function b1(yt,Tt,Kt){return yt&&yt.length&&Tt&&Tt.length?Yp(yt,Tt,s,Kt):yt}var F1=vm(function(yt,Tt){var Kt=yt==null?0:yt.length,Un=Ut(yt,Tt);return Yu(yt,na(Tt,function(Vn){return Um(Vn,Kt)?+Vn:Vn}).sort(gm)),Un});function lS(yt,Tt){var Kt=[];if(!(yt&&yt.length))return Kt;var Un=-1,Vn=[],$n=yt.length;for(Tt=ts(Tt,3);++Un<$n;){var yr=yt[Un];Tt(yr,Un,yt)&&(Kt.push(yr),Vn.push(Un))}return Yu(yt,Vn),Kt}function Jv(yt){return yt==null?yt:pv.call(yt)}function uS(yt,Tt,Kt){var Un=yt==null?0:yt.length;return Un?(Kt&&typeof Kt!="number"&&zl(yt,Tt,Kt)?(Tt=0,Kt=Un):(Tt=Tt==null?0:Rs(Tt),Kt=Kt===s?Un:Rs(Kt)),pp(yt,Tt,Kt)):[]}function qU(yt,Tt){return Q0(yt,Tt)}function Wm(yt,Tt,Kt){return Ev(yt,Tt,ts(Kt,2))}function _h(yt,Tt){var Kt=yt==null?0:yt.length;if(Kt){var Un=Q0(yt,Tt);if(Un<Kt&&_d(yt[Un],Tt))return Un}return-1}function S1(yt,Tt){return Q0(yt,Tt,!0)}function KU(yt,Tt,Kt){return Ev(yt,Tt,ts(Kt,2),!0)}function R1(yt,Tt){var Kt=yt==null?0:yt.length;if(Kt){var Un=Q0(yt,Tt,!0)-1;if(_d(yt[Un],Tt))return Un}return-1}function w1(yt){return yt&&yt.length?QU(yt):[]}function B1(yt,Tt){return yt&&yt.length?QU(yt,ts(Tt,2)):[]}function L_(yt){var Tt=yt==null?0:yt.length;return Tt?pp(yt,1,Tt):[]}function jv(yt,Tt,Kt){return yt&&yt.length?(Tt=Kt||Tt===s?1:Rs(Tt),pp(yt,0,Tt<0?0:Tt)):[]}function cS(yt,Tt,Kt){var Un=yt==null?0:yt.length;return Un?(Tt=Kt||Tt===s?1:Rs(Tt),Tt=Un-Tt,pp(yt,Tt<0?0:Tt,Un)):[]}function Gy(yt,Tt){return yt&&yt.length?x_(yt,ts(Tt,3),!1,!0):[]}function J_(yt,Tt){return yt&&yt.length?x_(yt,ts(Tt,3)):[]}var E1=Ho(function(yt){return Om(Pn(yt,1,Zl,!0))}),T1=Ho(function(yt){var Tt=_c(yt);return Zl(Tt)&&(Tt=s),Om(Pn(yt,1,Zl,!0),ts(Tt,2))}),Q1=Ho(function(yt){var Tt=_c(yt);return Tt=typeof Tt=="function"?Tt:s,Om(Pn(yt,1,Zl,!0),s,Tt)});function x1(yt){return yt&&yt.length?Om(yt):[]}function A1(yt,Tt){return yt&&yt.length?Om(yt,ts(Tt,2)):[]}function C1(yt,Tt){return Tt=typeof Tt=="function"?Tt:s,yt&&yt.length?Om(yt,s,Tt):[]}function _b(yt){if(!(yt&&yt.length))return[];var Tt=0;return yt=ys(yt,function(Kt){if(Zl(Kt))return Tt=Vl(Kt.length,Tt),!0}),Ym(Tt,function(Kt){return na(yt,Hm(Kt))})}function zv(yt,Tt){if(!(yt&&yt.length))return[];var Kt=_b(yt);return Tt==null?Kt:na(Kt,function(Un){return gu(Tt,s,Un)})}var k1=Ho(function(yt,Tt){return Zl(yt)?_n(yt,Tt):[]}),I0=Ho(function(yt){return Qv(ys(yt,Zl))}),V1=Ho(function(yt){var Tt=_c(yt);return Zl(Tt)&&(Tt=s),Qv(ys(yt,Zl),ts(Tt,2))}),Ql=Ho(function(yt){var Tt=_c(yt);return Tt=typeof Tt=="function"?Tt:s,Qv(ys(yt,Zl),s,Tt)}),Zv=Ho(_b);function hS(yt,Tt){return kU(yt||[],Tt||[],uy)}function Gv(yt,Tt){return kU(yt||[],Tt||[],vu)}var Hv=Ho(function(yt){var Tt=yt.length,Kt=Tt>1?yt[Tt-1]:s;return Kt=typeof Kt=="function"?(yt.pop(),Kt):s,zv(yt,Kt)});function P0(yt){var Tt=Jn(yt);return Tt.__chain__=!0,Tt}function dS(yt,Tt){return Tt(yt),yt}function j_(yt,Tt){return Tt(yt)}var z_=vm(function(yt){var Tt=yt.length,Kt=Tt?yt[0]:0,Un=this.__wrapped__,Vn=function($n){return Ut($n,yt)};return Tt>1||this.__actions__.length||!(Un instanceof Bs)||!Um(Kt)?this.thru(Vn):(Un=Un.slice(Kt,+Kt+(Tt?1:0)),Un.__actions__.push({func:j_,args:[Vn],thisArg:s}),new Tu(Un,this.__chain__).thru(function($n){return Tt&&!$n.length&&$n.push(s),$n}))});function eF(){return P0(this)}function tF(){return new Tu(this.value(),this.__chain__)}function M1(){this.__values__===s&&(this.__values__=Yy(this.value()));var yt=this.__index__>=this.__values__.length,Tt=yt?s:this.__values__[this.__index__++];return{done:yt,value:Tt}}function fS(){return this}function Z_(yt){for(var Tt,Kt=this;Kt instanceof Jl;){var Un=bm(Kt);Un.__index__=0,Un.__values__=s,Tt?Vn.__wrapped__=Un:Tt=Un;var Vn=Un;Kt=Kt.__wrapped__}return Vn.__wrapped__=yt,Tt}function N1(){var yt=this.__wrapped__;if(yt instanceof Bs){var Tt=yt;return this.__actions__.length&&(Tt=new Bs(this)),Tt=Tt.reverse(),Tt.__actions__.push({func:j_,args:[Jv],thisArg:s}),new Tu(Tt,this.__chain__)}return this.thru(Jv)}function nF(){return CU(this.__wrapped__,this.__actions__)}var D1=dy(function(yt,Tt,Kt){js.call(yt,Kt)?++yt[Kt]:lt(yt,Kt,1)});function rF(yt,Tt,Kt){var Un=_s(yt)?lp:Nn;return Kt&&zl(yt,Tt,Kt)&&(Tt=s),Un(yt,ts(Tt,3))}function iF(yt,Tt){var Kt=_s(yt)?ys:Xn;return Kt(yt,ts(Tt,3))}var Yv=IF(O0),O1=IF(Vp);function I1(yt,Tt){return Pn(Xv(yt,Tt),1)}function P1(yt,Tt){return Pn(Xv(yt,Tt),jt)}function W1(yt,Tt,Kt){return Kt=Kt===s?1:Rs(Kt),Pn(Xv(yt,Tt),Kt)}function pS(yt,Tt){var Kt=_s(yt)?mu:Fn;return Kt(yt,ts(Tt,3))}function gS(yt,Tt){var Kt=_s(yt)?c_:Qn;return Kt(yt,ts(Tt,3))}var $v=dy(function(yt,Tt,Kt){js.call(yt,Kt)?yt[Kt].push(Tt):lt(yt,Kt,[Tt])});function L1(yt,Tt,Kt,Un){yt=_f(yt)?yt:q0(yt),Kt=Kt&&!Un?Rs(Kt):0;var Vn=yt.length;return Kt<0&&(Kt=Vl(Vn+Kt,0)),rU(yt)?Kt<=Vn&&yt.indexOf(Tt,Kt)>-1:!!Vn&&cp(yt,Tt,Kt)>-1}var mS=Ho(function(yt,Tt,Kt){var Un=-1,Vn=typeof Tt=="function",$n=_f(yt)?Wr(yt.length):[];return Fn(yt,function(yr){$n[++Un]=Vn?gu(Tt,yr,Kt):xr(yr,Tt,Kt)}),$n}),W0=dy(function(yt,Tt,Kt){lt(yt,Kt,Tt)});function Xv(yt,Tt){var Kt=_s(yt)?na:Nl;return Kt(yt,ts(Tt,3))}function J1(yt,Tt,Kt,Un){return yt==null?[]:(_s(Tt)||(Tt=Tt==null?[]:[Tt]),Kt=Un?s:Kt,_s(Kt)||(Kt=Kt==null?[]:[Kt]),El(yt,Tt,Kt))}var j1=dy(function(yt,Tt,Kt){yt[Kt?0:1].push(Tt)},function(){return[[],[]]});function yS(yt,Tt,Kt){var Un=_s(yt)?s0:p_,Vn=arguments.length<3;return Un(yt,ts(Tt,4),Kt,Vn,Fn)}function _S(yt,Tt,Kt){var Un=_s(yt)?a0:p_,Vn=arguments.length<3;return Un(yt,ts(Tt,4),Kt,Vn,Qn)}function z1(yt,Tt){var Kt=_s(yt)?ys:Xn;return Kt(yt,tU(ts(Tt,3)))}function Z1(yt){var Tt=_s(yt)?Q_:xp;return Tt(yt)}function G1(yt,Tt,Kt){(Kt?zl(yt,Tt,Kt):Tt===s)?Tt=1:Tt=Rs(Tt);var Un=_s(yt)?Rv:pm;return Un(yt,Tt)}function oF(yt){var Tt=_s(yt)?wv:NF;return Tt(yt)}function qv(yt){if(yt==null)return 0;if(_f(yt))return rU(yt)?Km(yt):yt.length;var Tt=lu(yt);return Tt==An||Tt==Yr?yt.size:Ns(yt).length}function Kv(yt,Tt,Kt){var Un=_s(yt)?Ey:DF;return Kt&&zl(yt,Tt,Kt)&&(Tt=s),Un(yt,ts(Tt,3))}var H1=Ho(function(yt,Tt){if(yt==null)return[];var Kt=Tt.length;return Kt>1&&zl(yt,Tt[0],Tt[1])?Tt=[]:Kt>2&&zl(Tt[0],Tt[1],Tt[2])&&(Tt=[Tt[0]]),El(yt,Pn(Tt,1),[])}),eU=Vu||function(){return Fl.Date.now()};function G_(yt,Tt){if(typeof Tt!="function")throw new Eu(tt);return yt=Rs(yt),function(){if(--yt<1)return Tt.apply(this,arguments)}}function L0(yt,Tt,Kt){return Tt=Kt?s:Tt,Tt=yt&&Tt==null?yt.length:Tt,au(yt,nn,s,s,s,s,Tt)}function sF(yt,Tt){var Kt;if(typeof Tt!="function")throw new Eu(tt);return yt=Rs(yt),function(){return--yt>0&&(Kt=Tt.apply(this,arguments)),yt<=1&&(Tt=s),Kt}}var Hy=Ho(function(yt,Tt,Kt){var Un=wt;if(Kt.length){var Vn=Fp(Kt,C0(Hy));Un|=pt}return au(yt,Un,Tt,Kt,Vn)}),aF=Ho(function(yt,Tt,Kt){var Un=wt|Qt;if(Kt.length){var Vn=Fp(Kt,C0(aF));Un|=pt}return au(Tt,Un,yt,Kt,Vn)});function vS(yt,Tt,Kt){Tt=Kt?s:Tt;var Un=au(yt,Et,s,s,s,s,s,Tt);return Un.placeholder=vS.placeholder,Un}function lF(yt,Tt,Kt){Tt=Kt?s:Tt;var Un=au(yt,xt,s,s,s,s,s,Tt);return Un.placeholder=lF.placeholder,Un}function uF(yt,Tt,Kt){var Un,Vn,$n,yr,Sr,Ar,ro=0,qr=!1,ao=!1,To=!0;if(typeof yt!="function")throw new Eu(tt);Tt=Mp(Tt)||0,xl(Kt)&&(qr=!!Kt.leading,ao="maxWait"in Kt,$n=ao?Vl(Mp(Kt.maxWait)||0,Tt):$n,To="trailing"in Kt?!!Kt.trailing:To);function Io(Pl){var Np=Un,Em=Vn;return Un=Vn=s,ro=Pl,yr=yt.apply(Em,Np),yr}function Yo(Pl){return ro=Pl,Sr=Zy(Qs,Tt),qr?Io(Pl):yr}function vs(Pl){var Np=Pl-Ar,Em=Pl-ro,AF=Tt-Np;return ao?Ml(AF,$n-Em):AF}function as(Pl){var Np=Pl-Ar,Em=Pl-ro;return Ar===s||Np>=Tt||Np<0||ao&&Em>=$n}function Qs(){var Pl=eU();if(as(Pl))return ks(Pl);Sr=Zy(Qs,vs(Pl))}function ks(Pl){return Sr=s,To&&Un?Io(Pl):(Un=Vn=s,yr)}function Ou(){Sr!==s&&MU(Sr),ro=0,Un=Ar=Vn=Sr=s}function Iu(){return Sr===s?yr:ks(eU())}function tp(){var Pl=eU(),Np=as(Pl);if(Un=arguments,Vn=this,Ar=Pl,Np){if(Sr===s)return Yo(Ar);if(ao)return MU(Sr),Sr=Zy(Qs,Tt),Io(Ar)}return Sr===s&&(Sr=Zy(Qs,Tt)),yr}return tp.cancel=Ou,tp.flush=Iu,tp}var US=Ho(function(yt,Tt){return cn(yt,1,Tt)}),bS=Ho(function(yt,Tt,Kt){return cn(yt,Mp(Tt)||0,Kt)});function FS(yt){return au(yt,bt)}function H_(yt,Tt){if(typeof yt!="function"||Tt!=null&&typeof Tt!="function")throw new Eu(tt);var Kt=function(){var Un=arguments,Vn=Tt?Tt.apply(this,Un):Un[0],$n=Kt.cache;if($n.has(Vn))return $n.get(Vn);var yr=yt.apply(this,Un);return Kt.cache=$n.set(Vn,yr)||$n,yr};return Kt.cache=new(H_.Cache||Tp),Kt}H_.Cache=Tp;function tU(yt){if(typeof yt!="function")throw new Eu(tt);return function(){var Tt=arguments;switch(Tt.length){case 0:return!yt.call(this);case 1:return!yt.call(this,Tt[0]);case 2:return!yt.call(this,Tt[0],Tt[1]);case 3:return!yt.call(this,Tt[0],Tt[1],Tt[2])}return!yt.apply(this,Tt)}}function Y1(yt){return sF(2,yt)}var SS=x0(function(yt,Tt){Tt=Tt.length==1&&_s(Tt[0])?na(Tt[0],yu(ts())):na(Pn(Tt,1),yu(ts()));var Kt=Tt.length;return Ho(function(Un){for(var Vn=-1,$n=Ml(Un.length,Kt);++Vn<$n;)Un[Vn]=Tt[Vn].call(this,Un[Vn]);return gu(yt,this,Un)})}),J0=Ho(function(yt,Tt){var Kt=Fp(Tt,C0(J0));return au(yt,pt,s,Tt,Kt)}),cF=Ho(function(yt,Tt){var Kt=Fp(Tt,C0(cF));return au(yt,Vt,s,Tt,Kt)}),Cu=vm(function(yt,Tt){return au(yt,on,s,s,s,Tt)});function Y_(yt,Tt){if(typeof yt!="function")throw new Eu(tt);return Tt=Tt===s?Tt:Rs(Tt),Ho(yt,Tt)}function j0(yt,Tt){if(typeof yt!="function")throw new Eu(tt);return Tt=Tt==null?0:Vl(Rs(Tt),0),Ho(function(Kt){var Un=Kt[Tt],Vn=Im(Kt,0,Tt);return Un&&up(Vn,Un),gu(yt,this,Vn)})}function $_(yt,Tt,Kt){var Un=!0,Vn=!0;if(typeof yt!="function")throw new Eu(tt);return xl(Kt)&&(Un="leading"in Kt?!!Kt.leading:Un,Vn="trailing"in Kt?!!Kt.trailing:Vn),uF(yt,Tt,{leading:Un,maxWait:Tt,trailing:Vn})}function RS(yt){return L0(yt,1)}function wS(yt,Tt){return J0(VU(Tt),yt)}function $1(){if(!arguments.length)return[];var yt=arguments[0];return _s(yt)?yt:[yt]}function X1(yt){return Ot(yt,dt)}function q1(yt,Tt){return Tt=typeof Tt=="function"?Tt:s,Ot(yt,dt,Tt)}function K1(yt){return Ot(yt,_t|dt)}function eR(yt,Tt){return Tt=typeof Tt=="function"?Tt:s,Ot(yt,_t|dt,Tt)}function tR(yt,Tt){return Tt==null||an(yt,Tt,eu(Tt))}function _d(yt,Tt){return yt===Tt||yt!==yt&&Tt!==Tt}var nR=Xp(Mr),BS=Xp(function(yt,Tt){return yt>=Tt}),_y=Fr(function(){return arguments}())?Fr:function(yt){return Il(yt)&&js.call(yt,"callee")&&!um.call(yt,"callee")},_s=Wr.isArray,rR=a_?yu(a_):yo;function _f(yt){return yt!=null&&Uy(yt.length)&&!Lm(yt)}function Zl(yt){return Il(yt)&&_f(yt)}function iR(yt){return yt===!0||yt===!1||Il(yt)&&wr(yt)==At}var vy=fv||vU,ES=r0?yu(r0):uo;function oR(yt){return Il(yt)&&yt.nodeType===1&&!Rm(yt)}function uu(yt){if(yt==null)return!0;if(_f(yt)&&(_s(yt)||typeof yt=="string"||typeof yt.splice=="function"||vy(yt)||H0(yt)||_y(yt)))return!yt.length;var Tt=lu(yt);if(Tt==An||Tt==Yr)return!yt.size;if(V0(yt))return!Ns(yt).length;for(var Kt in yt)if(js.call(yt,Kt))return!1;return!0}function Fm(yt,Tt){return fo(yt,Tt)}function hF(yt,Tt,Kt){Kt=typeof Kt=="function"?Kt:s;var Un=Kt?Kt(yt,Tt):s;return Un===s?fo(yt,Tt,s,Kt):!!Un}function z0(yt){if(!Il(yt))return!1;var Tt=wr(yt);return Tt==pn||Tt==$t||typeof yt.message=="string"&&typeof yt.name=="string"&&!Rm(yt)}function Z0(yt){return typeof yt=="number"&&My(yt)}function Lm(yt){if(!xl(yt))return!1;var Tt=wr(yt);return Tt==hn||Tt==Sn||Tt==rn||Tt==po}function TS(yt){return typeof yt=="number"&&yt==Rs(yt)}function Uy(yt){return typeof yt=="number"&&yt>-1&&yt%1==0&&yt<=Zt}function xl(yt){var Tt=typeof yt;return yt!=null&&(Tt=="object"||Tt=="function")}function Il(yt){return yt!=null&&typeof yt=="object"}var G0=l_?yu(l_):ko;function QS(yt,Tt){return yt===Tt||Lo(yt,Tt,JU(Tt))}function xS(yt,Tt,Kt){return Kt=typeof Kt=="function"?Kt:s,Lo(yt,Tt,JU(Tt),Kt)}function Gs(yt){return Sm(yt)&&yt!=+yt}function dF(yt){if(zF(yt))throw new ds(_e);return Wo(yt)}function AS(yt){return yt===null}function CS(yt){return yt==null}function Sm(yt){return typeof yt=="number"||Il(yt)&&wr(yt)==Gn}function Rm(yt){if(!Il(yt)||wr(yt)!=_i)return!1;var Tt=lm(yt);if(Tt===null)return!0;var Kt=js.call(Tt,"constructor")&&Tt.constructor;return typeof Kt=="function"&&Kt instanceof Kt&&Wp.call(Kt)==BU}var nU=i0?yu(i0):Do;function sR(yt){return TS(yt)&&yt>=-Zt&&yt<=Zt}var kS=o0?yu(o0):ho;function rU(yt){return typeof yt=="string"||!_s(yt)&&Il(yt)&&wr(yt)==no}function _p(yt){return typeof yt=="symbol"||Il(yt)&&wr(yt)==Qo}var H0=im?yu(im):$o;function aR(yt){return yt===s}function lR(yt){return Il(yt)&&lu(yt)==Jo}function uR(yt){return Il(yt)&&wr(yt)==es}var cR=Xp(As),iU=Xp(function(yt,Tt){return yt<=Tt});function Yy(yt){if(!yt)return[];if(_f(yt))return rU(yt)?ku(yt):Xu(yt);if(Lp&&yt[Lp])return __(yt[Lp]());var Tt=lu(yt),Kt=Tt==An?qm:Tt==Yr?f0:q0;return Kt(yt)}function wm(yt){if(!yt)return yt===0?yt:0;if(yt=Mp(yt),yt===jt||yt===-jt){var Tt=yt<0?-1:1;return Tt*Ct}return yt===yt?yt:0}function Rs(yt){var Tt=wm(yt),Kt=Tt%1;return Tt===Tt?Kt?Tt-Kt:Tt:0}function VS(yt){return yt?kt(Rs(yt),0,Ht):0}function Mp(yt){if(typeof yt=="number")return yt;if(_p(yt))return Ft;if(xl(yt)){var Tt=typeof yt.valueOf=="function"?yt.valueOf():yt;yt=xl(Tt)?Tt+"":Tt}if(typeof yt!="string")return yt===0?yt:+yt;yt=xy(yt);var Kt=Bo.test(yt);return Kt||No.test(yt)?Qm(yt.slice(2),Kt?2:8):So.test(yt)?Ft:+yt}function oU(yt){return mm(yt,Du(yt))}function fF(yt){return yt?kt(Rs(yt),-Zt,Zt):yt===0?yt:0}function Hs(yt){return yt==null?"":$u(yt)}var vp=$p(function(yt,Tt){if(V0(Tt)||_f(Tt)){mm(Tt,eu(Tt),yt);return}for(var Kt in Tt)js.call(Tt,Kt)&&uy(yt,Kt,Tt[Kt])}),Y0=$p(function(yt,Tt){mm(Tt,Du(Tt),yt)}),Jm=$p(function(yt,Tt,Kt,Un){mm(Tt,Du(Tt),yt,Un)}),pF=$p(function(yt,Tt,Kt,Un){mm(Tt,eu(Tt),yt,Un)}),sU=vm(Ut);function hR(yt,Tt){var Kt=dm(yt);return Tt==null?Kt:gt(Kt,Tt)}var NS=Ho(function(yt,Tt){yt=qs(yt);var Kt=-1,Un=Tt.length,Vn=Un>2?Tt[2]:s;for(Vn&&zl(Tt[0],Tt[1],Vn)&&(Un=1);++Kt<Un;)for(var $n=Tt[Kt],yr=Du($n),Sr=-1,Ar=yr.length;++Sr<Ar;){var ro=yr[Sr],qr=yt[ro];(qr===s||_d(qr,am[ro])&&!js.call(yt,ro))&&(yt[ro]=$n[ro])}return yt}),DS=Ho(function(yt){return yt.push(s,gp),gu(uU,s,yt)});function dR(yt,Tt){return xm(yt,ts(Tt,3),Hn)}function OS(yt,Tt){return xm(yt,ts(Tt,3),dr)}function IS(yt,Tt){return yt==null?yt:In(yt,ts(Tt,3),Du)}function gF(yt,Tt){return yt==null?yt:er(yt,ts(Tt,3),Du)}function PS(yt,Tt){return yt&&Hn(yt,ts(Tt,3))}function fR(yt,Tt){return yt&&dr(yt,ts(Tt,3))}function WS(yt){return yt==null?[]:gr(yt,eu(yt))}function jm(yt){return yt==null?[]:gr(yt,Du(yt))}function aU(yt,Tt,Kt){var Un=yt==null?s:tr(yt,Tt);return Un===s?Kt:Un}function LS(yt,Tt){return yt!=null&&jU(yt,Tt,kr)}function lU(yt,Tt){return yt!=null&&jU(yt,Tt,oo)}var JS=V_(function(yt,Tt,Kt){Tt!=null&&typeof Tt.toString!="function"&&(Tt=Gu.call(Tt)),yt[Tt]=Kt},gU(ep)),pR=V_(function(yt,Tt,Kt){Tt!=null&&typeof Tt.toString!="function"&&(Tt=Gu.call(Tt)),js.call(yt,Tt)?yt[Tt].push(Kt):yt[Tt]=[Kt]},ts),gR=Ho(xr);function eu(yt){return _f(yt)?Wy(yt):Ns(yt)}function Du(yt){return _f(yt)?Wy(yt,!0):Ps(yt)}function X_(yt,Tt){var Kt={};return Tt=ts(Tt,3),Hn(yt,function(Un,Vn,$n){lt(Kt,Tt(Un,Vn,$n),Un)}),Kt}function jS(yt,Tt){var Kt={};return Tt=ts(Tt,3),Hn(yt,function(Un,Vn,$n){lt(Kt,Vn,Tt(Un,Vn,$n))}),Kt}var zS=$p(function(yt,Tt,Kt){Ws(yt,Tt,Kt)}),uU=$p(function(yt,Tt,Kt,Un){Ws(yt,Tt,Kt,Un)}),$0=vm(function(yt,Tt){var Kt={};if(yt==null)return Kt;var Un=!1;Tt=na(Tt,function($n){return $n=hy($n,yt),Un||(Un=$n.length>1),$n}),mm(yt,N_(yt),Kt),Un&&(Kt=Ot(Kt,_t|ft|dt,mp));for(var Vn=Tt.length;Vn--;)Tv(Kt,Tt[Vn]);return Kt});function ZS(yt,Tt){return mF(yt,tU(ts(Tt)))}var cU=vm(function(yt,Tt){return yt==null?{}:su(yt,Tt)});function mF(yt,Tt){if(yt==null)return{};var Kt=na(N_(yt),function(Un){return[Un]});return Tt=ts(Tt),zs(yt,Kt,function(Un,Vn){return Tt(Un,Vn[0])})}function hU(yt,Tt,Kt){Tt=hy(Tt,yt);var Un=-1,Vn=Tt.length;for(Vn||(Vn=1,yt=s);++Un<Vn;){var $n=yt==null?s:yt[_g(Tt[Un])];$n===s&&(Un=Vn,$n=Kt),yt=Lm($n)?$n.call(yt):$n}return yt}function dU(yt,Tt,Kt){return yt==null?yt:vu(yt,Tt,Kt)}function mR(yt,Tt,Kt,Un){return Un=typeof Un=="function"?Un:s,yt==null?yt:vu(yt,Tt,Kt,Un)}var GS=Vv(eu),HS=Vv(Du);function yR(yt,Tt,Kt){var Un=_s(yt),Vn=Un||vy(yt)||H0(yt);if(Tt=ts(Tt,4),Kt==null){var $n=yt&&yt.constructor;Vn?Kt=Un?new $n:[]:xl(yt)?Kt=Lm($n)?dm(lm(yt)):{}:Kt={}}return(Vn?mu:Hn)(yt,function(yr,Sr,Ar){return Tt(Kt,yr,Sr,Ar)}),Kt}function _R(yt,Tt){return yt==null?!0:Tv(yt,Tt)}function X0(yt,Tt,Kt){return yt==null?yt:AU(yt,Tt,VU(Kt))}function yF(yt,Tt,Kt,Un){return Un=typeof Un=="function"?Un:s,yt==null?yt:AU(yt,Tt,VU(Kt),Un)}function q0(yt){return yt==null?[]:c0(yt,eu(yt))}function YS(yt){return yt==null?[]:c0(yt,Du(yt))}function vR(yt,Tt,Kt){return Kt===s&&(Kt=Tt,Tt=s),Kt!==s&&(Kt=Mp(Kt),Kt=Kt===Kt?Kt:0),Tt!==s&&(Tt=Mp(Tt),Tt=Tt===Tt?Tt:0),kt(Mp(yt),Tt,Kt)}function _F(yt,Tt,Kt){return Tt=wm(Tt),Kt===s?(Kt=Tt,Tt=0):Kt=wm(Kt),yt=Mp(yt),Rr(yt,Tt,Kt)}function UR(yt,Tt,Kt){if(Kt&&typeof Kt!="boolean"&&zl(yt,Tt,Kt)&&(Tt=Kt=s),Kt===s&&(typeof Tt=="boolean"?(Kt=Tt,Tt=s):typeof yt=="boolean"&&(Kt=yt,yt=s)),yt===s&&Tt===s?(yt=0,Tt=1):(yt=wm(yt),Tt===s?(Tt=yt,yt=0):Tt=wm(Tt)),yt>Tt){var Un=yt;yt=Tt,Tt=Un}if(Kt||yt%1||Tt%1){var Vn=Ny();return Ml(yt+Vn*(Tt-yt+iu("1e-"+((Vn+"").length-1))),Tt)}return Xl(yt,Tt)}var by=Cp(function(yt,Tt,Kt){return Tt=Tt.toLowerCase(),yt+(Kt?vF(Tt):Tt)});function vF(yt){return Xy(Hs(yt).toLowerCase())}function UF(yt){return yt=Hs(yt),yt&&yt.replace(fs,h0).replace(sr,"")}function fU(yt,Tt,Kt){yt=Hs(yt),Tt=$u(Tt);var Un=yt.length;Kt=Kt===s?Un:kt(Rs(Kt),0,Un);var Vn=Kt;return Kt-=Tt.length,Kt>=0&&yt.slice(Kt,Vn)==Tt}function bF(yt){return yt=Hs(yt),yt&&or.test(yt)?yt.replace(En,d0):yt}function bR(yt){return yt=Hs(yt),yt&&Tn.test(yt)?yt.replace(wn,"\\$&"):yt}var FR=Cp(function(yt,Tt,Kt){return yt+(Kt?"-":"")+Tt.toLowerCase()}),$S=Cp(function(yt,Tt,Kt){return yt+(Kt?" ":"")+Tt.toLowerCase()}),XS=Pm("toLowerCase");function q_(yt,Tt,Kt){yt=Hs(yt),Tt=Rs(Tt);var Un=Tt?Km(yt):0;if(!Tt||Un>=Tt)return yt;var Vn=(Tt-Un)/2;return kv(sy(Vn),Kt)+yt+kv(Vy(Vn),Kt)}function zm(yt,Tt,Kt){yt=Hs(yt),Tt=Rs(Tt);var Un=Tt?Km(yt):0;return Tt&&Un<Tt?yt+kv(Tt-Un,Kt):yt}function FF(yt,Tt,Kt){yt=Hs(yt),Tt=Rs(Tt);var Un=Tt?Km(yt):0;return Tt&&Un<Tt?kv(Tt-Un,Kt)+yt:yt}function K0(yt,Tt,Kt){return Kt||Tt==null?Tt=0:Tt&&(Tt=+Tt),Mu(Hs(yt).replace(zn,""),Tt||0)}function e_(yt,Tt,Kt){return(Kt?zl(yt,Tt,Kt):Tt===s)?Tt=1:Tt=Rs(Tt),Qp(Hs(yt),Tt)}function tm(){var yt=arguments,Tt=Hs(yt[0]);return yt.length<3?Tt:Tt.replace(yt[1],yt[2])}var nm=Cp(function(yt,Tt,Kt){return yt+(Kt?"_":"")+Tt.toLowerCase()});function SR(yt,Tt,Kt){return Kt&&typeof Kt!="number"&&zl(yt,Tt,Kt)&&(Tt=Kt=s),Kt=Kt===s?Ht:Kt>>>0,Kt?(yt=Hs(yt),yt&&(typeof Tt=="string"||Tt!=null&&!nU(Tt))&&(Tt=$u(Tt),!Tt&&Am(yt))?Im(ku(yt),0,Kt):yt.split(Tt,Kt)):[]}var qS=Cp(function(yt,Tt,Kt){return yt+(Kt?" ":"")+Xy(Tt)});function RR(yt,Tt,Kt){return yt=Hs(yt),Kt=Kt==null?0:kt(Rs(Kt),0,yt.length),Tt=$u(Tt),yt.slice(Kt,Kt+Tt.length)==Tt}function SF(yt,Tt,Kt){var Un=Jn.templateSettings;Kt&&zl(yt,Tt,Kt)&&(Tt=s),yt=Hs(yt),Tt=Jm({},Tt,Un,qp);var Vn=Jm({},Tt.imports,Un.imports,qp),$n=eu(Vn),yr=c0(Vn,$n),Sr,Ar,ro=0,qr=Tt.interpolate||Uo,ao="__p += '",To=y0((Tt.escape||Uo).source+"|"+qr.source+"|"+(qr===Zn?Kr:Uo).source+"|"+(Tt.evaluate||Uo).source+"|$","g"),Io="//# sourceURL="+(js.call(Tt,"sourceURL")?(Tt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vo+"]")+`
`;yt.replace(To,function(as,Qs,ks,Ou,Iu,tp){return ks||(ks=Ou),ao+=yt.slice(ro,tp).replace(ws,bp),Qs&&(Sr=!0,ao+=`' +
__e(`+Qs+`) +
'`),Iu&&(Ar=!0,ao+=`';
`+Iu+`;
__p += '`),ks&&(ao+=`' +
((__t = (`+ks+`)) == null ? '' : __t) +
'`),ro=tp+as.length,as}),ao+=`';
`;var Yo=js.call(Tt,"variable")&&Tt.variable;if(!Yo)ao=`with (obj) {
`+ao+`
}
`;else if(br.test(Yo))throw new ds(j);ao=(Ar?ao.replace(cr,""):ao).replace(Gt,"$1").replace(en,"$1;"),ao="function("+(Yo||"obj")+`) {
`+(Yo?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Sr?", __e = _.escape":"")+(Ar?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ao+`return __p
}`;var vs=K_(function(){return Ms($n,Io+"return "+ao).apply(s,yr)});if(vs.source=ao,z0(vs))throw vs;return vs}function Bm(yt){return Hs(yt).toLowerCase()}function $y(yt){return Hs(yt).toUpperCase()}function KS(yt,Tt,Kt){if(yt=Hs(yt),yt&&(Kt||Tt===s))return xy(yt);if(!yt||!(Tt=$u(Tt)))return yt;var Un=ku(yt),Vn=ku(Tt),$n=$m(Un,Vn),yr=Xm(Un,Vn)+1;return Im(Un,$n,yr).join("")}function e1(yt,Tt,Kt){if(yt=Hs(yt),yt&&(Kt||Tt===s))return yt.slice(0,cv(yt)+1);if(!yt||!(Tt=$u(Tt)))return yt;var Un=ku(yt),Vn=Xm(Un,ku(Tt))+1;return Im(Un,0,Vn).join("")}function wR(yt,Tt,Kt){if(yt=Hs(yt),yt&&(Kt||Tt===s))return yt.replace(zn,"");if(!yt||!(Tt=$u(Tt)))return yt;var Un=ku(yt),Vn=$m(Un,ku(Tt));return Im(Un,Vn).join("")}function pU(yt,Tt){var Kt=St,Un=It;if(xl(Tt)){var Vn="separator"in Tt?Tt.separator:Vn;Kt="length"in Tt?Rs(Tt.length):Kt,Un="omission"in Tt?$u(Tt.omission):Un}yt=Hs(yt);var $n=yt.length;if(Am(yt)){var yr=ku(yt);$n=yr.length}if(Kt>=$n)return yt;var Sr=Kt-Km(Un);if(Sr<1)return Un;var Ar=yr?Im(yr,0,Sr).join(""):yt.slice(0,Sr);if(Vn===s)return Ar+Un;if(yr&&(Sr+=Ar.length-Sr),nU(Vn)){if(yt.slice(Sr).search(Vn)){var ro,qr=Ar;for(Vn.global||(Vn=y0(Vn.source,Hs(zr.exec(Vn))+"g")),Vn.lastIndex=0;ro=Vn.exec(qr);)var ao=ro.index;Ar=Ar.slice(0,ao===s?Sr:ao)}}else if(yt.indexOf($u(Vn),Sr)!=Sr){var To=Ar.lastIndexOf(Vn);To>-1&&(Ar=Ar.slice(0,To))}return Ar+Un}function RF(yt){return yt=Hs(yt),yt&&xn.test(yt)?yt.replace(fn,g0):yt}var t_=Cp(function(yt,Tt,Kt){return yt+(Kt?" ":"")+Tt.toUpperCase()}),Xy=Pm("toUpperCase");function n_(yt,Tt,Kt){return yt=Hs(yt),Tt=Kt?s:Tt,Tt===s?y_(yt)?b_(yt):sm(yt):yt.match(Tt)||[]}var K_=Ho(function(yt,Tt){try{return gu(yt,s,Tt)}catch(Kt){return z0(Kt)?Kt:new ds(Kt)}}),t1=vm(function(yt,Tt){return mu(Tt,function(Kt){Kt=_g(Kt),lt(yt,Kt,Hy(yt[Kt],yt))}),yt});function ev(yt){var Tt=yt==null?0:yt.length,Kt=ts();return yt=Tt?na(yt,function(Un){if(typeof Un[1]!="function")throw new Eu(tt);return[Kt(Un[0]),Un[1]]}):[],Ho(function(Un){for(var Vn=-1;++Vn<Tt;){var $n=yt[Vn];if(gu($n[0],this,Un))return gu($n[1],this,Un)}})}function wF(yt){return qt(Ot(yt,_t))}function gU(yt){return function(){return yt}}function r_(yt,Tt){return yt==null||yt!==yt?Tt:yt}var n1=PF(),r1=PF(!0);function ep(yt){return yt}function BF(yt){return us(typeof yt=="function"?yt:Ot(yt,_t))}function i1(yt){return ou(Ot(yt,_t))}function qy(yt,Tt){return fp(yt,Ot(Tt,_t))}var BR=Ho(function(yt,Tt){return function(Kt){return xr(Kt,yt,Tt)}}),Fy=Ho(function(yt,Tt){return function(Kt){return xr(yt,Kt,Tt)}});function EF(yt,Tt,Kt){var Un=eu(Tt),Vn=gr(Tt,Un);Kt==null&&!(xl(Tt)&&(Vn.length||!Un.length))&&(Kt=Tt,Tt=yt,yt=this,Vn=gr(Tt,eu(Tt)));var $n=!(xl(Kt)&&"chain"in Kt)||!!Kt.chain,yr=Lm(yt);return mu(Vn,function(Sr){var Ar=Tt[Sr];yt[Sr]=Ar,yr&&(yt.prototype[Sr]=function(){var ro=this.__chain__;if($n||ro){var qr=yt(this.__wrapped__),ao=qr.__actions__=Xu(this.__actions__);return ao.push({func:Ar,args:arguments,thisArg:yt}),qr.__chain__=ro,qr}return Ar.apply(yt,up([this.value()],arguments))})}),yt}function tv(){return Fl._===this&&(Fl._=dv),this}function Ky(){}function nv(yt){return yt=Rs(yt),Ho(function(Tt){return Cs(Tt,yt)})}var rv=LU(na),mU=LU(lp),ER=LU(Ey);function o1(yt){return Dv(yt)?Hm(_g(yt)):Qu(yt)}function i_(yt){return function(Tt){return yt==null?s:tr(yt,Tt)}}var yU=zo(),TR=zo(!0);function _U(){return[]}function vU(){return!1}function QR(){return{}}function s1(){return""}function xR(){return!0}function a1(yt,Tt){if(yt=Rs(yt),yt<1||yt>Zt)return[];var Kt=Ht,Un=Ml(yt,Ht);Tt=ts(Tt),yt-=Ht;for(var Vn=Ym(Un,Tt);++Kt<yt;)Tt(Kt);return Vn}function AR(yt){return _s(yt)?na(yt,_g):_p(yt)?[yt]:Xu(Lv(Hs(yt)))}function l1(yt){var Tt=++Rp;return Hs(yt)+Tt}var CR=qu(function(yt,Tt){return yt+Tt},0),kR=Es("ceil"),UU=qu(function(yt,Tt){return yt/Tt},1),bU=Es("floor");function FU(yt){return yt&&yt.length?Yn(yt,ep,Mr):s}function VR(yt,Tt){return yt&&yt.length?Yn(yt,ts(Tt,2),Mr):s}function TF(yt){return f_(yt,ep)}function QF(yt,Tt){return f_(yt,ts(Tt,2))}function Sy(yt){return yt&&yt.length?Yn(yt,ep,As):s}function MR(yt,Tt){return yt&&yt.length?Yn(yt,ts(Tt,2),As):s}var xF=qu(function(yt,Tt){return yt*Tt},1),u1=Es("round"),SU=qu(function(yt,Tt){return yt-Tt},0);function NR(yt){return yt&&yt.length?Qy(yt,ep):0}function DR(yt,Tt){return yt&&yt.length?Qy(yt,ts(Tt,2)):0}return Jn.after=G_,Jn.ary=L0,Jn.assign=vp,Jn.assignIn=Y0,Jn.assignInWith=Jm,Jn.assignWith=pF,Jn.at=sU,Jn.before=sF,Jn.bind=Hy,Jn.bindAll=t1,Jn.bindKey=aF,Jn.castArray=$1,Jn.chain=P0,Jn.chunk=HU,Jn.compact=$F,Jn.concat=I_,Jn.cond=ev,Jn.conforms=wF,Jn.constant=gU,Jn.countBy=D1,Jn.create=hR,Jn.curry=vS,Jn.curryRight=lF,Jn.debounce=uF,Jn.defaults=NS,Jn.defaultsDeep=DS,Jn.defer=US,Jn.delay=bS,Jn.difference=P_,Jn.differenceBy=yp,Jn.differenceWith=W_,Jn.drop=xu,Jn.dropRight=kp,Jn.dropRightWhile=YU,Jn.dropWhile=Ol,Jn.fill=XF,Jn.filter=iF,Jn.flatMap=I1,Jn.flatMapDeep=P1,Jn.flatMapDepth=W1,Jn.flatten=qF,Jn.flattenDeep=v1,Jn.flattenDepth=KF,Jn.flip=FS,Jn.flow=n1,Jn.flowRight=r1,Jn.fromPairs=eS,Jn.functions=WS,Jn.functionsIn=jm,Jn.groupBy=$v,Jn.initial=nS,Jn.intersection=rS,Jn.intersectionBy=iS,Jn.intersectionWith=U1,Jn.invert=JS,Jn.invertBy=pR,Jn.invokeMap=mS,Jn.iteratee=BF,Jn.keyBy=W0,Jn.keys=eu,Jn.keysIn=Du,Jn.map=Xv,Jn.mapKeys=X_,Jn.mapValues=jS,Jn.matches=i1,Jn.matchesProperty=qy,Jn.memoize=H_,Jn.merge=zS,Jn.mergeWith=uU,Jn.method=BR,Jn.methodOf=Fy,Jn.mixin=EF,Jn.negate=tU,Jn.nthArg=nv,Jn.omit=$0,Jn.omitBy=ZS,Jn.once=Y1,Jn.orderBy=J1,Jn.over=rv,Jn.overArgs=SS,Jn.overEvery=mU,Jn.overSome=ER,Jn.partial=J0,Jn.partialRight=cF,Jn.partition=j1,Jn.pick=cU,Jn.pickBy=mF,Jn.property=o1,Jn.propertyOf=i_,Jn.pull=oS,Jn.pullAll=sS,Jn.pullAllBy=aS,Jn.pullAllWith=b1,Jn.pullAt=F1,Jn.range=yU,Jn.rangeRight=TR,Jn.rearg=Cu,Jn.reject=z1,Jn.remove=lS,Jn.rest=Y_,Jn.reverse=Jv,Jn.sampleSize=G1,Jn.set=dU,Jn.setWith=mR,Jn.shuffle=oF,Jn.slice=uS,Jn.sortBy=H1,Jn.sortedUniq=w1,Jn.sortedUniqBy=B1,Jn.split=SR,Jn.spread=j0,Jn.tail=L_,Jn.take=jv,Jn.takeRight=cS,Jn.takeRightWhile=Gy,Jn.takeWhile=J_,Jn.tap=dS,Jn.throttle=$_,Jn.thru=j_,Jn.toArray=Yy,Jn.toPairs=GS,Jn.toPairsIn=HS,Jn.toPath=AR,Jn.toPlainObject=oU,Jn.transform=yR,Jn.unary=RS,Jn.union=E1,Jn.unionBy=T1,Jn.unionWith=Q1,Jn.uniq=x1,Jn.uniqBy=A1,Jn.uniqWith=C1,Jn.unset=_R,Jn.unzip=_b,Jn.unzipWith=zv,Jn.update=X0,Jn.updateWith=yF,Jn.values=q0,Jn.valuesIn=YS,Jn.without=k1,Jn.words=n_,Jn.wrap=wS,Jn.xor=I0,Jn.xorBy=V1,Jn.xorWith=Ql,Jn.zip=Zv,Jn.zipObject=hS,Jn.zipObjectDeep=Gv,Jn.zipWith=Hv,Jn.entries=GS,Jn.entriesIn=HS,Jn.extend=Y0,Jn.extendWith=Jm,EF(Jn,Jn),Jn.add=CR,Jn.attempt=K_,Jn.camelCase=by,Jn.capitalize=vF,Jn.ceil=kR,Jn.clamp=vR,Jn.clone=X1,Jn.cloneDeep=K1,Jn.cloneDeepWith=eR,Jn.cloneWith=q1,Jn.conformsTo=tR,Jn.deburr=UF,Jn.defaultTo=r_,Jn.divide=UU,Jn.endsWith=fU,Jn.eq=_d,Jn.escape=bF,Jn.escapeRegExp=bR,Jn.every=rF,Jn.find=Yv,Jn.findIndex=O0,Jn.findKey=dR,Jn.findLast=O1,Jn.findLastIndex=Vp,Jn.findLastKey=OS,Jn.floor=bU,Jn.forEach=pS,Jn.forEachRight=gS,Jn.forIn=IS,Jn.forInRight=gF,Jn.forOwn=PS,Jn.forOwnRight=fR,Jn.get=aU,Jn.gt=nR,Jn.gte=BS,Jn.has=LS,Jn.hasIn=lU,Jn.head=yy,Jn.identity=ep,Jn.includes=L1,Jn.indexOf=tS,Jn.inRange=_F,Jn.invoke=gR,Jn.isArguments=_y,Jn.isArray=_s,Jn.isArrayBuffer=rR,Jn.isArrayLike=_f,Jn.isArrayLikeObject=Zl,Jn.isBoolean=iR,Jn.isBuffer=vy,Jn.isDate=ES,Jn.isElement=oR,Jn.isEmpty=uu,Jn.isEqual=Fm,Jn.isEqualWith=hF,Jn.isError=z0,Jn.isFinite=Z0,Jn.isFunction=Lm,Jn.isInteger=TS,Jn.isLength=Uy,Jn.isMap=G0,Jn.isMatch=QS,Jn.isMatchWith=xS,Jn.isNaN=Gs,Jn.isNative=dF,Jn.isNil=CS,Jn.isNull=AS,Jn.isNumber=Sm,Jn.isObject=xl,Jn.isObjectLike=Il,Jn.isPlainObject=Rm,Jn.isRegExp=nU,Jn.isSafeInteger=sR,Jn.isSet=kS,Jn.isString=rU,Jn.isSymbol=_p,Jn.isTypedArray=H0,Jn.isUndefined=aR,Jn.isWeakMap=lR,Jn.isWeakSet=uR,Jn.join=$U,Jn.kebabCase=FR,Jn.last=_c,Jn.lastIndexOf=XU,Jn.lowerCase=$S,Jn.lowerFirst=XS,Jn.lt=cR,Jn.lte=iU,Jn.max=FU,Jn.maxBy=VR,Jn.mean=TF,Jn.meanBy=QF,Jn.min=Sy,Jn.minBy=MR,Jn.stubArray=_U,Jn.stubFalse=vU,Jn.stubObject=QR,Jn.stubString=s1,Jn.stubTrue=xR,Jn.multiply=xF,Jn.nth=Au,Jn.noConflict=tv,Jn.noop=Ky,Jn.now=eU,Jn.pad=q_,Jn.padEnd=zm,Jn.padStart=FF,Jn.parseInt=K0,Jn.random=UR,Jn.reduce=yS,Jn.reduceRight=_S,Jn.repeat=e_,Jn.replace=tm,Jn.result=hU,Jn.round=u1,Jn.runInContext=Tr,Jn.sample=Z1,Jn.size=qv,Jn.snakeCase=nm,Jn.some=Kv,Jn.sortedIndex=qU,Jn.sortedIndexBy=Wm,Jn.sortedIndexOf=_h,Jn.sortedLastIndex=S1,Jn.sortedLastIndexBy=KU,Jn.sortedLastIndexOf=R1,Jn.startCase=qS,Jn.startsWith=RR,Jn.subtract=SU,Jn.sum=NR,Jn.sumBy=DR,Jn.template=SF,Jn.times=a1,Jn.toFinite=wm,Jn.toInteger=Rs,Jn.toLength=VS,Jn.toLower=Bm,Jn.toNumber=Mp,Jn.toSafeInteger=fF,Jn.toString=Hs,Jn.toUpper=$y,Jn.trim=KS,Jn.trimEnd=e1,Jn.trimStart=wR,Jn.truncate=pU,Jn.unescape=RF,Jn.uniqueId=l1,Jn.upperCase=t_,Jn.upperFirst=Xy,Jn.each=pS,Jn.eachRight=gS,Jn.first=yy,EF(Jn,function(){var yt={};return Hn(Jn,function(Tt,Kt){js.call(Jn.prototype,Kt)||(yt[Kt]=Tt)}),yt}(),{chain:!1}),Jn.VERSION=_,mu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(yt){Jn[yt].placeholder=Jn}),mu(["drop","take"],function(yt,Tt){Bs.prototype[yt]=function(Kt){Kt=Kt===s?1:Vl(Rs(Kt),0);var Un=this.__filtered__&&!Tt?new Bs(this):this.clone();return Un.__filtered__?Un.__takeCount__=Ml(Kt,Un.__takeCount__):Un.__views__.push({size:Ml(Kt,Ht),type:yt+(Un.__dir__<0?"Right":"")}),Un},Bs.prototype[yt+"Right"]=function(Kt){return this.reverse()[yt](Kt).reverse()}}),mu(["filter","map","takeWhile"],function(yt,Tt){var Kt=Tt+1,Un=Kt==Xt||Kt==Pt;Bs.prototype[yt]=function(Vn){var $n=this.clone();return $n.__iteratees__.push({iteratee:ts(Vn,3),type:Kt}),$n.__filtered__=$n.__filtered__||Un,$n}}),mu(["head","last"],function(yt,Tt){var Kt="take"+(Tt?"Right":"");Bs.prototype[yt]=function(){return this[Kt](1).value()[0]}}),mu(["initial","tail"],function(yt,Tt){var Kt="drop"+(Tt?"":"Right");Bs.prototype[yt]=function(){return this.__filtered__?new Bs(this):this[Kt](1)}}),Bs.prototype.compact=function(){return this.filter(ep)},Bs.prototype.find=function(yt){return this.filter(yt).head()},Bs.prototype.findLast=function(yt){return this.reverse().find(yt)},Bs.prototype.invokeMap=Ho(function(yt,Tt){return typeof yt=="function"?new Bs(this):this.map(function(Kt){return xr(Kt,yt,Tt)})}),Bs.prototype.reject=function(yt){return this.filter(tU(ts(yt)))},Bs.prototype.slice=function(yt,Tt){yt=Rs(yt);var Kt=this;return Kt.__filtered__&&(yt>0||Tt<0)?new Bs(Kt):(yt<0?Kt=Kt.takeRight(-yt):yt&&(Kt=Kt.drop(yt)),Tt!==s&&(Tt=Rs(Tt),Kt=Tt<0?Kt.dropRight(-Tt):Kt.take(Tt-yt)),Kt)},Bs.prototype.takeRightWhile=function(yt){return this.reverse().takeWhile(yt).reverse()},Bs.prototype.toArray=function(){return this.take(Ht)},Hn(Bs.prototype,function(yt,Tt){var Kt=/^(?:filter|find|map|reject)|While$/.test(Tt),Un=/^(?:head|last)$/.test(Tt),Vn=Jn[Un?"take"+(Tt=="last"?"Right":""):Tt],$n=Un||/^find/.test(Tt);Vn&&(Jn.prototype[Tt]=function(){var yr=this.__wrapped__,Sr=Un?[1]:arguments,Ar=yr instanceof Bs,ro=Sr[0],qr=Ar||_s(yr),ao=function(Qs){var ks=Vn.apply(Jn,up([Qs],Sr));return Un&&To?ks[0]:ks};qr&&Kt&&typeof ro=="function"&&ro.length!=1&&(Ar=qr=!1);var To=this.__chain__,Io=!!this.__actions__.length,Yo=$n&&!To,vs=Ar&&!Io;if(!$n&&qr){yr=vs?yr:new Bs(this);var as=yt.apply(yr,Sr);return as.__actions__.push({func:j_,args:[ao],thisArg:s}),new Tu(as,To)}return Yo&&vs?yt.apply(this,Sr):(as=this.thru(ao),Yo?Un?as.value()[0]:as.value():as)})}),mu(["pop","push","shift","sort","splice","unshift"],function(yt){var Tt=Sp[yt],Kt=/^(?:push|sort|unshift)$/.test(yt)?"tap":"thru",Un=/^(?:pop|shift)$/.test(yt);Jn.prototype[yt]=function(){var Vn=arguments;if(Un&&!this.__chain__){var $n=this.value();return Tt.apply(_s($n)?$n:[],Vn)}return this[Kt](function(yr){return Tt.apply(_s(yr)?yr:[],Vn)})}}),Hn(Bs.prototype,function(yt,Tt){var Kt=Jn[Tt];if(Kt){var Un=Kt.name+"";js.call(Vm,Un)||(Vm[Un]=[]),Vm[Un].push({name:Tt,func:Kt})}}),Vm[k_(s,Qt).name]=[{name:"wrapper",func:s}],Bs.prototype.clone=EU,Bs.prototype.reverse=TU,Bs.prototype.value=Gp,Jn.prototype.at=z_,Jn.prototype.chain=eF,Jn.prototype.commit=tF,Jn.prototype.next=M1,Jn.prototype.plant=Z_,Jn.prototype.reverse=N1,Jn.prototype.toJSON=Jn.prototype.valueOf=Jn.prototype.value=nF,Jn.prototype.first=Jn.prototype.head,Lp&&(Jn.prototype[Lp]=fS),Jn},ty=ey();Up?((Up.exports=ty)._=ty,By._=ty):Fl._=ty}).call(commonjsGlobal)})(lodash,lodash.exports);var lib={},uaParser_min={exports:{}};(function(i,o){(function(s,_){var $="1.0.2",_e="",tt="?",j="function",nt="undefined",st="object",ht="string",_t="major",ft="model",dt="name",ut="type",mt="vendor",wt="version",Qt="architecture",Dt="console",Et="mobile",xt="tablet",pt="smarttv",Vt="wearable",nn="embedded",on=255,bt="Amazon",St="Apple",It="ASUS",Bt="BlackBerry",Lt="Browser",Xt="Chrome",zt="Edge",Pt="Firefox",jt="Google",Zt="Huawei",Ct="LG",Ft="Microsoft",Ht="Motorola",tn="Opera",mn="Samsung",yn="Sony",vn="Xiaomi",un="Zebra",rn="Facebook",At=function(no,Qo){var Co={};for(var Jo in no)Qo[Jo]&&Qo[Jo].length%2===0?Co[Jo]=Qo[Jo].concat(no[Jo]):Co[Jo]=no[Jo];return Co},Mt=function(no){for(var Qo={},Co=0;Co<no.length;Co++)Qo[no[Co].toUpperCase()]=no[Co];return Qo},$t=function(no,Qo){return typeof no===ht?pn(Qo).indexOf(pn(no))!==-1:!1},pn=function(no){return no.toLowerCase()},hn=function(no){return typeof no===ht?no.replace(/[^\d\.]/g,_e).split(".")[0]:_},Sn=function(no,Qo){if(typeof no===ht)return no=no.replace(/^\s\s*/,_e).replace(/\s\s*$/,_e),typeof Qo===nt?no:no.substring(0,on)},An=function(no,Qo){for(var Co=0,Jo,es,xo,ls,Ds,hs;Co<Qo.length&&!Ds;){var Hl=Qo[Co],Ll=Qo[Co+1];for(Jo=es=0;Jo<Hl.length&&!Ds;)if(Ds=Hl[Jo++].exec(no),Ds)for(xo=0;xo<Ll.length;xo++)hs=Ds[++es],ls=Ll[xo],typeof ls===st&&ls.length>0?ls.length===2?typeof ls[1]==j?this[ls[0]]=ls[1].call(this,hs):this[ls[0]]=ls[1]:ls.length===3?typeof ls[1]===j&&!(ls[1].exec&&ls[1].test)?this[ls[0]]=hs?ls[1].call(this,hs,ls[2]):_:this[ls[0]]=hs?hs.replace(ls[1],ls[2]):_:ls.length===4&&(this[ls[0]]=hs?ls[3].call(this,hs.replace(ls[1],ls[2])):_):this[ls]=hs||_;Co+=2}},Gn=function(no,Qo){for(var Co in Qo)if(typeof Qo[Co]===st&&Qo[Co].length>0){for(var Jo=0;Jo<Qo[Co].length;Jo++)if($t(Qo[Co][Jo],no))return Co===tt?_:Co}else if($t(Qo[Co],no))return Co===tt?_:Co;return no},Qr={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},_i={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Pr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[wt,[dt,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[wt,[dt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[dt,wt],[/opios[\/ ]+([\w\.]+)/i],[wt,[dt,tn+" Mini"]],[/\bopr\/([\w\.]+)/i],[wt,[dt,tn]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[dt,wt],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[wt,[dt,"UC"+Lt]],[/\bqbcore\/([\w\.]+)/i],[wt,[dt,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[wt,[dt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[wt,[dt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[wt,[dt,"IE"]],[/yabrowser\/([\w\.]+)/i],[wt,[dt,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[dt,/(.+)/,"$1 Secure "+Lt],wt],[/\bfocus\/([\w\.]+)/i],[wt,[dt,Pt+" Focus"]],[/\bopt\/([\w\.]+)/i],[wt,[dt,tn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[wt,[dt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[wt,[dt,"Dolphin"]],[/coast\/([\w\.]+)/i],[wt,[dt,tn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[wt,[dt,"MIUI "+Lt]],[/fxios\/([-\w\.]+)/i],[wt,[dt,Pt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[dt,"360 "+Lt]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[dt,/(.+)/,"$1 "+Lt],wt],[/(comodo_dragon)\/([\w\.]+)/i],[[dt,/_/g," "],wt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[dt,wt],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[dt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[dt,rn],wt],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[dt,wt],[/\bgsa\/([\w\.]+) .*safari\//i],[wt,[dt,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[wt,[dt,Xt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[dt,Xt+" WebView"],wt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[wt,[dt,"Android "+Lt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[dt,wt],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[wt,[dt,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[wt,dt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[dt,[wt,Gn,Qr]],[/(webkit|khtml)\/([\w\.]+)/i],[dt,wt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[dt,"Netscape"],wt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[wt,[dt,Pt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[dt,wt]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Qt,"amd64"]],[/(ia32(?=;))/i],[[Qt,pn]],[/((?:i[346]|x)86)[;\)]/i],[[Qt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Qt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Qt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Qt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Qt,/ower/,_e,pn]],[/(sun4\w)[;\)]/i],[[Qt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Qt,pn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ft,[mt,mn],[ut,xt]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[ft,[mt,mn],[ut,Et]],[/\((ip(?:hone|od)[\w ]*);/i],[ft,[mt,St],[ut,Et]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[ft,[mt,St],[ut,xt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[ft,[mt,Zt],[ut,xt]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[ft,[mt,Zt],[ut,Et]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[ft,/_/g," "],[mt,vn],[ut,Et]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[ft,/_/g," "],[mt,vn],[ut,xt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ft,[mt,"OPPO"],[ut,Et]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ft,[mt,"Vivo"],[ut,Et]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[ft,[mt,"Realme"],[ut,Et]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[ft,[mt,Ht],[ut,Et]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ft,[mt,Ht],[ut,xt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ft,[mt,Ct],[ut,xt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[ft,[mt,Ct],[ut,Et]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[ft,[mt,"Lenovo"],[ut,xt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[ft,/_/g," "],[mt,"Nokia"],[ut,Et]],[/(pixel c)\b/i],[ft,[mt,jt],[ut,xt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[ft,[mt,jt],[ut,Et]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ft,[mt,yn],[ut,Et]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ft,"Xperia Tablet"],[mt,yn],[ut,xt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ft,[mt,"OnePlus"],[ut,Et]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ft,[mt,bt],[ut,xt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ft,/(.+)/g,"Fire Phone $1"],[mt,bt],[ut,Et]],[/(playbook);[-\w\),; ]+(rim)/i],[ft,mt,[ut,xt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[ft,[mt,Bt],[ut,Et]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ft,[mt,It],[ut,xt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ft,[mt,It],[ut,Et]],[/(nexus 9)/i],[ft,[mt,"HTC"],[ut,xt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[mt,[ft,/_/g," "],[ut,Et]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ft,[mt,"Acer"],[ut,xt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ft,[mt,"Meizu"],[ut,Et]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ft,[mt,"Sharp"],[ut,Et]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[mt,ft,[ut,Et]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[mt,ft,[ut,xt]],[/(surface duo)/i],[ft,[mt,Ft],[ut,xt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ft,[mt,"Fairphone"],[ut,Et]],[/(u304aa)/i],[ft,[mt,"AT&T"],[ut,Et]],[/\bsie-(\w*)/i],[ft,[mt,"Siemens"],[ut,Et]],[/\b(rct\w+) b/i],[ft,[mt,"RCA"],[ut,xt]],[/\b(venue[\d ]{2,7}) b/i],[ft,[mt,"Dell"],[ut,xt]],[/\b(q(?:mv|ta)\w+) b/i],[ft,[mt,"Verizon"],[ut,xt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[ft,[mt,"Barnes & Noble"],[ut,xt]],[/\b(tm\d{3}\w+) b/i],[ft,[mt,"NuVision"],[ut,xt]],[/\b(k88) b/i],[ft,[mt,"ZTE"],[ut,xt]],[/\b(nx\d{3}j) b/i],[ft,[mt,"ZTE"],[ut,Et]],[/\b(gen\d{3}) b.+49h/i],[ft,[mt,"Swiss"],[ut,Et]],[/\b(zur\d{3}) b/i],[ft,[mt,"Swiss"],[ut,xt]],[/\b((zeki)?tb.*\b) b/i],[ft,[mt,"Zeki"],[ut,xt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[mt,"Dragon Touch"],ft,[ut,xt]],[/\b(ns-?\w{0,9}) b/i],[ft,[mt,"Insignia"],[ut,xt]],[/\b((nxa|next)-?\w{0,9}) b/i],[ft,[mt,"NextBook"],[ut,xt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[mt,"Voice"],ft,[ut,Et]],[/\b(lvtel\-)?(v1[12]) b/i],[[mt,"LvTel"],ft,[ut,Et]],[/\b(ph-1) /i],[ft,[mt,"Essential"],[ut,Et]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[ft,[mt,"Envizen"],[ut,xt]],[/\b(trio[-\w\. ]+) b/i],[ft,[mt,"MachSpeed"],[ut,xt]],[/\btu_(1491) b/i],[ft,[mt,"Rotor"],[ut,xt]],[/(shield[\w ]+) b/i],[ft,[mt,"Nvidia"],[ut,xt]],[/(sprint) (\w+)/i],[mt,ft,[ut,Et]],[/(kin\.[onetw]{3})/i],[[ft,/\./g," "],[mt,Ft],[ut,Et]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ft,[mt,un],[ut,xt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ft,[mt,un],[ut,Et]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[mt,ft,[ut,Dt]],[/droid.+; (shield) bui/i],[ft,[mt,"Nvidia"],[ut,Dt]],[/(playstation [345portablevi]+)/i],[ft,[mt,yn],[ut,Dt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ft,[mt,Ft],[ut,Dt]],[/smart-tv.+(samsung)/i],[mt,[ut,pt]],[/hbbtv.+maple;(\d+)/i],[[ft,/^/,"SmartTV"],[mt,mn],[ut,pt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[mt,Ct],[ut,pt]],[/(apple) ?tv/i],[mt,[ft,St+" TV"],[ut,pt]],[/crkey/i],[[ft,Xt+"cast"],[mt,jt],[ut,pt]],[/droid.+aft(\w)( bui|\))/i],[ft,[mt,bt],[ut,pt]],[/\(dtv[\);].+(aquos)/i],[ft,[mt,"Sharp"],[ut,pt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[mt,Sn],[ft,Sn],[ut,pt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[ut,pt]],[/((pebble))app/i],[mt,ft,[ut,Vt]],[/droid.+; (glass) \d/i],[ft,[mt,jt],[ut,Vt]],[/droid.+; (wt63?0{2,3})\)/i],[ft,[mt,un],[ut,Vt]],[/(quest( 2)?)/i],[ft,[mt,rn],[ut,Vt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[mt,[ut,nn]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[ft,[ut,Et]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[ft,[ut,xt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[ut,xt]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[ut,Et]],[/(android[-\w\. ]{0,9});.+buil/i],[ft,[mt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[wt,[dt,zt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[wt,[dt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[dt,wt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[wt,dt]],os:[[/microsoft (windows) (vista|xp)/i],[dt,wt],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[dt,[wt,Gn,_i]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[dt,"Windows"],[wt,Gn,_i]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[wt,/_/g,"."],[dt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[dt,"Mac OS"],[wt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[wt,dt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[dt,wt],[/\(bb(10);/i],[wt,[dt,Bt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[wt,[dt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[wt,[dt,Pt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[wt,[dt,"webOS"]],[/crkey\/([\d\.]+)/i],[wt,[dt,Xt+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[dt,"Chromium OS"],wt],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[dt,wt],[/(sunos) ?([\w\.\d]*)/i],[[dt,"Solaris"],wt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[dt,wt]]},po=function(no,Qo){if(typeof no===st&&(Qo=no,no=_),!(this instanceof po))return new po(no,Qo).getResult();var Co=no||(typeof s!==nt&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:_e),Jo=Qo?At(Pr,Qo):Pr;return this.getBrowser=function(){var es={};return es[dt]=_,es[wt]=_,An.call(es,Co,Jo.browser),es.major=hn(es.version),es},this.getCPU=function(){var es={};return es[Qt]=_,An.call(es,Co,Jo.cpu),es},this.getDevice=function(){var es={};return es[mt]=_,es[ft]=_,es[ut]=_,An.call(es,Co,Jo.device),es},this.getEngine=function(){var es={};return es[dt]=_,es[wt]=_,An.call(es,Co,Jo.engine),es},this.getOS=function(){var es={};return es[dt]=_,es[wt]=_,An.call(es,Co,Jo.os),es},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Co},this.setUA=function(es){return Co=typeof es===ht&&es.length>on?Sn(es,on):es,this},this.setUA(Co),this};po.VERSION=$,po.BROWSER=Mt([dt,wt,_t]),po.CPU=Mt([Qt]),po.DEVICE=Mt([ft,mt,ut,Dt,Et,pt,xt,Vt,nn]),po.ENGINE=po.OS=Mt([dt,wt]),i.exports&&(o=i.exports=po),o.UAParser=po;var jr=typeof s!==nt&&(s.jQuery||s.Zepto);if(jr&&!jr.ua){var Yr=new po;jr.ua=Yr.getResult(),jr.ua.get=function(){return Yr.getUA()},jr.ua.set=function(no){Yr.setUA(no);var Qo=Yr.getResult();for(var Co in Qo)jr.ua[Co]=Qo[Co]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser_min,uaParser_min.exports);Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(i){return i&&typeof i=="object"&&"default"in i?i.default:i}var React=React$1,React__default=_interopDefault(React),UAParser=uaParser_min.exports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function i(o){return ClientUAInstance.setUA(o)},parseUserAgent=function i(o){if(!o){console.error("No userAgent string was provided");return}var s=new UAParser(o);return{UA:s,browser:s.getBrowser(),cpu:s.getCPU(),device:s.getDevice(),engine:s.getEngine(),os:s.getOS(),ua:s.getUA(),setUserAgent:function($){return s.setUA($)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function($){return Object.getOwnPropertyDescriptor(i,$).enumerable})),s.push.apply(s,_)}return s}function _objectSpread2(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(s),!0).forEach(function(_){_defineProperty(i,_,s[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(s,_))})}return i}function _typeof(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var s=0;s<o.length;s++){var _=o[s];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_.key,_)}}function _createClass(i,o,s){return o&&_defineProperties(i.prototype,o),s&&_defineProperties(i,s),i}function _defineProperty(i,o,s){return o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function _extends(){return _extends=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(i[_]=s[_])}return i},_extends.apply(this,arguments)}function _inherits(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&_setPrototypeOf(i,o)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(i)}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf||function(_,$){return _.__proto__=$,_},_setPrototypeOf(i,o)}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var s={},_=Object.keys(i),$,_e;for(_e=0;_e<_.length;_e++)$=_[_e],!(o.indexOf($)>=0)&&(s[$]=i[$]);return s}function _objectWithoutProperties(i,o){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,o),_,$;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(i);for($=0;$<_e.length;$++)_=_e[$],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(s[_]=i[_])}return s}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _possibleConstructorReturn(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _slicedToArray(i,o){return _arrayWithHoles(i)||_iterableToArrayLimit(i,o)||_unsupportedIterableToArray(i,o)||_nonIterableRest()}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _iterableToArrayLimit(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var _=[],$=!0,_e=!1,tt,j;try{for(s=s.call(i);!($=(tt=s.next()).done)&&(_.push(tt.value),!(o&&_.length===o));$=!0);}catch(nt){_e=!0,j=nt}finally{try{!$&&s.return!=null&&s.return()}finally{if(_e)throw j}}return _}}function _unsupportedIterableToArray(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(i,o)}}function _arrayLikeToArray(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,_=new Array(o);s<o;s++)_[s]=i[s];return _}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function i(o){switch(o){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function i(o){return setUa(o)},setDefaults=function i(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return o||s},getNavigatorInstance=function i(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function i(o){var s=getNavigatorInstance();return s&&s.platform&&(s.platform.indexOf(o)!==-1||s.platform==="MacIntel"&&s.maxTouchPoints>1&&!window.MSStream)},browserPayload=function i(o,s,_,$,_e){return{isBrowser:o,browserMajorVersion:setDefaults(s.major),browserFullVersion:setDefaults(s.version),browserName:setDefaults(s.name),engineName:setDefaults(_.name),engineVersion:setDefaults(_.version),osName:setDefaults($.name),osVersion:setDefaults($.version),userAgent:setDefaults(_e)}},mobilePayload=function i(o,s,_,$){return _objectSpread2({},o,{vendor:setDefaults(s.vendor),model:setDefaults(s.model),os:setDefaults(_.name),osVersion:setDefaults(_.version),ua:setDefaults($)})},smartTvPayload=function i(o,s,_,$){return{isSmartTV:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},consolePayload=function i(o,s,_,$){return{isConsole:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},wearablePayload=function i(o,s,_,$){return{isWearable:o,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(_.name),osVersion:setDefaults(_.version),userAgent:setDefaults($)}},embeddedPayload=function i(o,s,_,$,_e){return{isEmbedded:o,vendor:setDefaults(s.vendor),model:setDefaults(s.model),engineName:setDefaults(_.name),engineVersion:setDefaults(_.version),osName:setDefaults($.name),osVersion:setDefaults($.version),userAgent:setDefaults(_e)}};function deviceDetect(i){var o=i?parseUserAgent(i):UAHelper,s=o.device,_=o.browser,$=o.engine,_e=o.os,tt=o.ua,j=checkDeviceType(s.type),nt=j.isBrowser,st=j.isMobile,ht=j.isTablet,_t=j.isSmartTV,ft=j.isConsole,dt=j.isWearable,ut=j.isEmbedded;if(nt)return browserPayload(nt,_,$,_e,tt);if(_t)return smartTvPayload(_t,$,_e,tt);if(ft)return consolePayload(ft,$,_e,tt);if(st||ht)return mobilePayload(j,s,_e,tt);if(dt)return wearablePayload(dt,$,_e,tt);if(ut)return embeddedPayload(ut,s,$,_e,tt)}var isMobileType=function i(o){var s=o.type;return s===DeviceTypes.Mobile},isTabletType=function i(o){var s=o.type;return s===DeviceTypes.Tablet},isMobileAndTabletType=function i(o){var s=o.type;return s===DeviceTypes.Mobile||s===DeviceTypes.Tablet},isSmartTVType=function i(o){var s=o.type;return s===DeviceTypes.SmartTv},isBrowserType=function i(o){var s=o.type;return s===DeviceTypes.Browser},isWearableType=function i(o){var s=o.type;return s===DeviceTypes.Wearable},isConsoleType=function i(o){var s=o.type;return s===DeviceTypes.Console},isEmbeddedType=function i(o){var s=o.type;return s===DeviceTypes.Embedded},getMobileVendor=function i(o){var s=o.vendor;return setDefaults(s)},getMobileModel=function i(o){var s=o.model;return setDefaults(s)},getDeviceType=function i(o){var s=o.type;return setDefaults(s,"browser")},isAndroidType=function i(o){var s=o.name;return s===OsTypes.Android},isWindowsType=function i(o){var s=o.name;return s===OsTypes.Windows},isMacOsType=function i(o){var s=o.name;return s===OsTypes.MAC_OS},isWinPhoneType=function i(o){var s=o.name;return s===OsTypes.WindowsPhone},isIOSType=function i(o){var s=o.name;return s===OsTypes.IOS},getOsVersion=function i(o){var s=o.version;return setDefaults(s)},getOsName=function i(o){var s=o.name;return setDefaults(s)},isChromeType=function i(o){var s=o.name;return s===BrowserTypes.Chrome},isFirefoxType=function i(o){var s=o.name;return s===BrowserTypes.Firefox},isChromiumType=function i(o){var s=o.name;return s===BrowserTypes.Chromium},isEdgeType=function i(o){var s=o.name;return s===BrowserTypes.Edge},isYandexType=function i(o){var s=o.name;return s===BrowserTypes.Yandex},isSafariType=function i(o){var s=o.name;return s===BrowserTypes.Safari||s===BrowserTypes.MobileSafari},isMobileSafariType=function i(o){var s=o.name;return s===BrowserTypes.MobileSafari},isOperaType=function i(o){var s=o.name;return s===BrowserTypes.Opera},isIEType=function i(o){var s=o.name;return s===BrowserTypes.InternetExplorer||s===BrowserTypes.Ie},isMIUIType=function i(o){var s=o.name;return s===BrowserTypes.MIUI},isSamsungBrowserType=function i(o){var s=o.name;return s===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function i(o){var s=o.version;return setDefaults(s)},getBrowserVersion=function i(o){var s=o.major;return setDefaults(s)},getBrowserName=function i(o){var s=o.name;return setDefaults(s)},getEngineName=function i(o){var s=o.name;return setDefaults(s)},getEngineVersion=function i(o){var s=o.version;return setDefaults(s)},isElectronType=function i(){var o=getNavigatorInstance(),s=o&&o.userAgent&&o.userAgent.toLowerCase();return typeof s=="string"?/electron/.test(s):!1},isEdgeChromiumType=function i(o){return typeof o=="string"&&o.indexOf("Edg/")!==-1},getIOS13=function i(){var o=getNavigatorInstance();return o&&(/iPad|iPhone|iPod/.test(o.platform)||o.platform==="MacIntel"&&o.maxTouchPoints>1)&&!window.MSStream},getIPad13=function i(){return isIOS13Check("iPad")},getIphone13=function i(){return isIOS13Check("iPhone")},getIPod13=function i(){return isIOS13Check("iPod")},getUseragent=function i(o){return setDefaults(o)};function buildSelectorsObject(i){var o=i||UAHelper,s=o.device,_=o.browser,$=o.os,_e=o.engine,tt=o.ua;return{isSmartTV:isSmartTVType(s),isConsole:isConsoleType(s),isWearable:isWearableType(s),isEmbedded:isEmbeddedType(s),isMobileSafari:isMobileSafariType(_)||getIPad13(),isChromium:isChromiumType(_),isMobile:isMobileAndTabletType(s)||getIPad13(),isMobileOnly:isMobileType(s),isTablet:isTabletType(s)||getIPad13(),isBrowser:isBrowserType(s),isDesktop:isBrowserType(s),isAndroid:isAndroidType($),isWinPhone:isWinPhoneType($),isIOS:isIOSType($)||getIPad13(),isChrome:isChromeType(_),isFirefox:isFirefoxType(_),isSafari:isSafariType(_),isOpera:isOperaType(_),isIE:isIEType(_),osVersion:getOsVersion($),osName:getOsName($),fullBrowserVersion:getBrowserFullVersion(_),browserVersion:getBrowserVersion(_),browserName:getBrowserName(_),mobileVendor:getMobileVendor(s),mobileModel:getMobileModel(s),engineName:getEngineName(_e),engineVersion:getEngineVersion(_e),getUA:getUseragent(tt),isEdge:isEdgeType(_)||isEdgeChromiumType(tt),isYandex:isYandexType(_),deviceType:getDeviceType(s),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(tt),isLegacyEdge:isEdgeType(_)&&!isEdgeChromiumType(tt),isWindows:isWindowsType($),isMacOs:isMacOsType($),isMIUI:isMIUIType(_),isSamsungBrowser:isSamsungBrowserType(_)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function i(o){if(!o||typeof o!="string"){console.error("No valid user agent string was provided");return}var s=parseUserAgent(o),_=s.device,$=s.browser,_e=s.os,tt=s.engine,j=s.ua;return buildSelectorsObject({device:_,browser:$,os:_e,engine:tt,ua:j})},AndroidView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isAndroid?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},BrowserView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isBrowser?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},IEView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIE?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},IOSView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isIOS?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},MobileView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isMobile?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},TabletView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isTablet?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},WinPhoneView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWinPhone?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},MobileOnlyView=function i(o){var s=o.renderWithFragment,_=o.children;o.viewClassName,o.style;var $=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},SmartTVView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isSmartTV?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},ConsoleView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isConsole?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},WearableView=function i(o){var s=o.renderWithFragment,_=o.children,$=_objectWithoutProperties(o,["renderWithFragment","children"]);return isWearable?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",$,_):null},CustomView=function i(o){var s=o.renderWithFragment,_=o.children;o.viewClassName,o.style;var $=o.condition,_e=_objectWithoutProperties(o,["renderWithFragment","children","viewClassName","style","condition"]);return $?s?React__default.createElement(React.Fragment,null,_):React__default.createElement("div",_e,_):null};function withOrientationChange(i){return function(o){_inherits(s,o);function s(_){var $;return _classCallCheck(this,s),$=_possibleConstructorReturn(this,_getPrototypeOf(s).call(this,_)),$.isEventListenerAdded=!1,$.handleOrientationChange=$.handleOrientationChange.bind(_assertThisInitialized($)),$.onOrientationChange=$.onOrientationChange.bind(_assertThisInitialized($)),$.onPageLoad=$.onPageLoad.bind(_assertThisInitialized($)),$.state={isLandscape:!1,isPortrait:!1},$}return _createClass(s,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var $=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:$===0,isLandscape:$===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(i,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),s}(React__default.Component)}function useMobileOrientation(){var i=React.useState(function(){var _e=window.innerWidth>window.innerHeight?90:0;return{isPortrait:_e===0,isLandscape:_e===90,orientation:_e===0?"portrait":"landscape"}}),o=_slicedToArray(i,2),s=o[0],_=o[1],$=React.useCallback(function(){var _e=window.innerWidth>window.innerHeight?90:0,tt={isPortrait:_e===0,isLandscape:_e===90,orientation:_e===0?"portrait":"landscape"};s.orientation!==tt.orientation&&_(tt)},[s.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&($(),window.addEventListener("load",$,!1),window.addEventListener("resize",$,!1)),function(){window.removeEventListener("resize",$,!1),window.removeEventListener("load",$,!1)}},[$]),s}function useDeviceData(i){var o=i||window.navigator.userAgent;return parseUserAgent(o)}function useDeviceSelectors(i){var o=i||window.navigator.userAgent,s=useDeviceData(o),_=buildSelectorsObject(s);return[_,s]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(i){return i+.5|0}const lim=(i,o,s)=>Math.max(Math.min(i,s),o);function p2b(i){return lim(round(i*2.55),0,255)}function n2b(i){return lim(round(i*255),0,255)}function b2n(i){return lim(round(i/2.55)/100,0,1)}function n2p(i){return lim(round(i*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=i=>hex[i&15],h2=i=>hex[(i&240)>>4]+hex[i&15],eq=i=>(i&240)>>4===(i&15),isShort=i=>eq(i.r)&&eq(i.g)&&eq(i.b)&&eq(i.a);function hexParse(i){var o=i.length,s;return i[0]==="#"&&(o===4||o===5?s={r:255&map$1[i[1]]*17,g:255&map$1[i[2]]*17,b:255&map$1[i[3]]*17,a:o===5?map$1[i[4]]*17:255}:(o===7||o===9)&&(s={r:map$1[i[1]]<<4|map$1[i[2]],g:map$1[i[3]]<<4|map$1[i[4]],b:map$1[i[5]]<<4|map$1[i[6]],a:o===9?map$1[i[7]]<<4|map$1[i[8]]:255})),s}const alpha=(i,o)=>i<255?o(i):"";function hexString(i){var o=isShort(i)?h1:h2;return i?"#"+o(i.r)+o(i.g)+o(i.b)+alpha(i.a,o):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(i,o,s){const _=o*Math.min(s,1-s),$=(_e,tt=(_e+i/30)%12)=>s-_*Math.max(Math.min(tt-3,9-tt,1),-1);return[$(0),$(8),$(4)]}function hsv2rgbn(i,o,s){const _=($,_e=($+i/60)%6)=>s-s*o*Math.max(Math.min(_e,4-_e,1),0);return[_(5),_(3),_(1)]}function hwb2rgbn(i,o,s){const _=hsl2rgbn(i,1,.5);let $;for(o+s>1&&($=1/(o+s),o*=$,s*=$),$=0;$<3;$++)_[$]*=1-o-s,_[$]+=o;return _}function hueValue(i,o,s,_,$){return i===$?(o-s)/_+(o<s?6:0):o===$?(s-i)/_+2:(i-o)/_+4}function rgb2hsl(i){const s=i.r/255,_=i.g/255,$=i.b/255,_e=Math.max(s,_,$),tt=Math.min(s,_,$),j=(_e+tt)/2;let nt,st,ht;return _e!==tt&&(ht=_e-tt,st=j>.5?ht/(2-_e-tt):ht/(_e+tt),nt=hueValue(s,_,$,ht,_e),nt=nt*60+.5),[nt|0,st||0,j]}function calln(i,o,s,_){return(Array.isArray(o)?i(o[0],o[1],o[2]):i(o,s,_)).map(n2b)}function hsl2rgb(i,o,s){return calln(hsl2rgbn,i,o,s)}function hwb2rgb(i,o,s){return calln(hwb2rgbn,i,o,s)}function hsv2rgb(i,o,s){return calln(hsv2rgbn,i,o,s)}function hue(i){return(i%360+360)%360}function hueParse(i){const o=HUE_RE.exec(i);let s=255,_;if(!o)return;o[5]!==_&&(s=o[6]?p2b(+o[5]):n2b(+o[5]));const $=hue(+o[2]),_e=+o[3]/100,tt=+o[4]/100;return o[1]==="hwb"?_=hwb2rgb($,_e,tt):o[1]==="hsv"?_=hsv2rgb($,_e,tt):_=hsl2rgb($,_e,tt),{r:_[0],g:_[1],b:_[2],a:s}}function rotate(i,o){var s=rgb2hsl(i);s[0]=hue(s[0]+o),s=hsl2rgb(s),i.r=s[0],i.g=s[1],i.b=s[2]}function hslString(i){if(!i)return;const o=rgb2hsl(i),s=o[0],_=n2p(o[1]),$=n2p(o[2]);return i.a<255?`hsla(${s}, ${_}%, ${$}%, ${b2n(i.a)})`:`hsl(${s}, ${_}%, ${$}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const i={},o=Object.keys(names$1),s=Object.keys(map$2);let _,$,_e,tt,j;for(_=0;_<o.length;_++){for(tt=j=o[_],$=0;$<s.length;$++)_e=s[$],j=j.replace(_e,map$2[_e]);_e=parseInt(names$1[tt],16),i[j]=[_e>>16&255,_e>>8&255,_e&255]}return i}let names;function nameParse(i){names||(names=unpack(),names.transparent=[0,0,0,0]);const o=names[i.toLowerCase()];return o&&{r:o[0],g:o[1],b:o[2],a:o.length===4?o[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(i){const o=RGB_RE.exec(i);let s=255,_,$,_e;if(o){if(o[7]!==_){const tt=+o[7];s=o[8]?p2b(tt):lim(tt*255,0,255)}return _=+o[1],$=+o[3],_e=+o[5],_=255&(o[2]?p2b(_):lim(_,0,255)),$=255&(o[4]?p2b($):lim($,0,255)),_e=255&(o[6]?p2b(_e):lim(_e,0,255)),{r:_,g:$,b:_e,a:s}}}function rgbString(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${b2n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const to=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,from=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function interpolate$1(i,o,s){const _=from(b2n(i.r)),$=from(b2n(i.g)),_e=from(b2n(i.b));return{r:n2b(to(_+s*(from(b2n(o.r))-_))),g:n2b(to($+s*(from(b2n(o.g))-$))),b:n2b(to(_e+s*(from(b2n(o.b))-_e))),a:i.a+s*(o.a-i.a)}}function modHSL(i,o,s){if(i){let _=rgb2hsl(i);_[o]=Math.max(0,Math.min(_[o]+_[o]*s,o===0?360:1)),_=hsl2rgb(_),i.r=_[0],i.g=_[1],i.b=_[2]}}function clone$1(i,o){return i&&Object.assign(o||{},i)}function fromObject(i){var o={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(o={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(o.a=n2b(i[3]))):(o=clone$1(i,{r:0,g:0,b:0,a:1}),o.a=n2b(o.a)),o}function functionParse(i){return i.charAt(0)==="r"?rgbParse(i):hueParse(i)}class Color{constructor(o){if(o instanceof Color)return o;const s=typeof o;let _;s==="object"?_=fromObject(o):s==="string"&&(_=hexParse(o)||nameParse(o)||functionParse(o)),this._rgb=_,this._valid=!!_}get valid(){return this._valid}get rgb(){var o=clone$1(this._rgb);return o&&(o.a=b2n(o.a)),o}set rgb(o){this._rgb=fromObject(o)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(o,s){if(o){const _=this.rgb,$=o.rgb;let _e;const tt=s===_e?.5:s,j=2*tt-1,nt=_.a-$.a,st=((j*nt===-1?j:(j+nt)/(1+j*nt))+1)/2;_e=1-st,_.r=255&st*_.r+_e*$.r+.5,_.g=255&st*_.g+_e*$.g+.5,_.b=255&st*_.b+_e*$.b+.5,_.a=tt*_.a+(1-tt)*$.a,this.rgb=_}return this}interpolate(o,s){return o&&(this._rgb=interpolate$1(this._rgb,o._rgb,s)),this}clone(){return new Color(this.rgb)}alpha(o){return this._rgb.a=n2b(o),this}clearer(o){const s=this._rgb;return s.a*=1-o,this}greyscale(){const o=this._rgb,s=round(o.r*.3+o.g*.59+o.b*.11);return o.r=o.g=o.b=s,this}opaquer(o){const s=this._rgb;return s.a*=1+o,this}negate(){const o=this._rgb;return o.r=255-o.r,o.g=255-o.g,o.b=255-o.b,this}lighten(o){return modHSL(this._rgb,2,o),this}darken(o){return modHSL(this._rgb,2,-o),this}saturate(o){return modHSL(this._rgb,1,o),this}desaturate(o){return modHSL(this._rgb,1,-o),this}rotate(o){return rotate(this._rgb,o),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let i=0;return()=>i++})();function isNullOrUndef(i){return i===null||typeof i>"u"}function isArray(i){if(Array.isArray&&Array.isArray(i))return!0;const o=Object.prototype.toString.call(i);return o.slice(0,7)==="[object"&&o.slice(-6)==="Array]"}function isObject(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function isNumberFinite(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function finiteOrDefault(i,o){return isNumberFinite(i)?i:o}function valueOrDefault(i,o){return typeof i>"u"?o:i}const toPercentage=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/o,toDimension=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*o:+i;function callback(i,o,s){if(i&&typeof i.call=="function")return i.apply(s,o)}function each(i,o,s,_){let $,_e,tt;if(isArray(i))if(_e=i.length,_)for($=_e-1;$>=0;$--)o.call(s,i[$],$);else for($=0;$<_e;$++)o.call(s,i[$],$);else if(isObject(i))for(tt=Object.keys(i),_e=tt.length,$=0;$<_e;$++)o.call(s,i[tt[$]],tt[$])}function _elementsEqual(i,o){let s,_,$,_e;if(!i||!o||i.length!==o.length)return!1;for(s=0,_=i.length;s<_;++s)if($=i[s],_e=o[s],$.datasetIndex!==_e.datasetIndex||$.index!==_e.index)return!1;return!0}function clone(i){if(isArray(i))return i.map(clone);if(isObject(i)){const o=Object.create(null),s=Object.keys(i),_=s.length;let $=0;for(;$<_;++$)o[s[$]]=clone(i[s[$]]);return o}return i}function isValidKey(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function _merger(i,o,s,_){if(!isValidKey(i))return;const $=o[i],_e=s[i];isObject($)&&isObject(_e)?merge($,_e,_):o[i]=clone(_e)}function merge(i,o,s){const _=isArray(o)?o:[o],$=_.length;if(!isObject(i))return i;s=s||{};const _e=s.merger||_merger;let tt;for(let j=0;j<$;++j){if(tt=_[j],!isObject(tt))continue;const nt=Object.keys(tt);for(let st=0,ht=nt.length;st<ht;++st)_e(nt[st],i,tt,s)}return i}function mergeIf(i,o){return merge(i,o,{merger:_mergerIf})}function _mergerIf(i,o,s){if(!isValidKey(i))return;const _=o[i],$=s[i];isObject(_)&&isObject($)?mergeIf(_,$):Object.prototype.hasOwnProperty.call(o,i)||(o[i]=clone($))}const keyResolvers={"":i=>i,x:i=>i.x,y:i=>i.y};function _splitKey(i){const o=i.split("."),s=[];let _="";for(const $ of o)_+=$,_.endsWith("\\")?_=_.slice(0,-1)+".":(s.push(_),_="");return s}function _getKeyResolver(i){const o=_splitKey(i);return s=>{for(const _ of o){if(_==="")break;s=s&&s[_]}return s}}function resolveObjectKey(i,o){return(keyResolvers[o]||(keyResolvers[o]=_getKeyResolver(o)))(i)}function _capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}const defined=i=>typeof i<"u",isFunction=i=>typeof i=="function",setsEqual=(i,o)=>{if(i.size!==o.size)return!1;for(const s of i)if(!o.has(s))return!1;return!0};function _isClickEvent(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(i,o,s){return Math.abs(i-o)<s}function niceNum(i){const o=Math.round(i);i=almostEquals(i,o,i/1e3)?o:i;const s=Math.pow(10,Math.floor(log10(i))),_=i/s;return(_<=1?1:_<=2?2:_<=5?5:10)*s}function _factorize(i){const o=[],s=Math.sqrt(i);let _;for(_=1;_<s;_++)i%_===0&&(o.push(_),o.push(i/_));return s===(s|0)&&o.push(s),o.sort(($,_e)=>$-_e).pop(),o}function isNumber(i){return!isNaN(parseFloat(i))&&isFinite(i)}function almostWhole(i,o){const s=Math.round(i);return s-o<=i&&s+o>=i}function _setMinAndMaxByKey(i,o,s){let _,$,_e;for(_=0,$=i.length;_<$;_++)_e=i[_][s],isNaN(_e)||(o.min=Math.min(o.min,_e),o.max=Math.max(o.max,_e))}function toRadians(i){return i*(PI/180)}function toDegrees(i){return i*(180/PI)}function _decimalPlaces(i){if(!isNumberFinite(i))return;let o=1,s=0;for(;Math.round(i*o)/o!==i;)o*=10,s++;return s}function getAngleFromPoint(i,o){const s=o.x-i.x,_=o.y-i.y,$=Math.sqrt(s*s+_*_);let _e=Math.atan2(_,s);return _e<-.5*PI&&(_e+=TAU),{angle:_e,distance:$}}function distanceBetweenPoints(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))}function _angleDiff(i,o){return(i-o+PITAU)%TAU-PI}function _normalizeAngle(i){return(i%TAU+TAU)%TAU}function _angleBetween(i,o,s,_){const $=_normalizeAngle(i),_e=_normalizeAngle(o),tt=_normalizeAngle(s),j=_normalizeAngle(_e-$),nt=_normalizeAngle(tt-$),st=_normalizeAngle($-_e),ht=_normalizeAngle($-tt);return $===_e||$===tt||_&&_e===tt||j>nt&&st<ht}function _limitValue(i,o,s){return Math.max(o,Math.min(s,i))}function _int16Range(i){return _limitValue(i,-32768,32767)}function _isBetween(i,o,s,_=1e-6){return i>=Math.min(o,s)-_&&i<=Math.max(o,s)+_}function _lookup(i,o,s){s=s||(tt=>i[tt]<o);let _=i.length-1,$=0,_e;for(;_-$>1;)_e=$+_>>1,s(_e)?$=_e:_=_e;return{lo:$,hi:_}}const _lookupByKey=(i,o,s,_)=>_lookup(i,s,_?$=>{const _e=i[$][o];return _e<s||_e===s&&i[$+1][o]===s}:$=>i[$][o]<s),_rlookupByKey=(i,o,s)=>_lookup(i,s,_=>i[_][o]>=s);function _filterBetween(i,o,s){let _=0,$=i.length;for(;_<$&&i[_]<o;)_++;for(;$>_&&i[$-1]>s;)$--;return _>0||$<i.length?i.slice(_,$):i}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(i,o){if(i._chartjs){i._chartjs.listeners.push(o);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),arrayEvents.forEach(s=>{const _="_onData"+_capitalize(s),$=i[s];Object.defineProperty(i,s,{configurable:!0,enumerable:!1,value(..._e){const tt=$.apply(this,_e);return i._chartjs.listeners.forEach(j=>{typeof j[_]=="function"&&j[_](..._e)}),tt}})})}function unlistenArrayEvents(i,o){const s=i._chartjs;if(!s)return;const _=s.listeners,$=_.indexOf(o);$!==-1&&_.splice($,1),!(_.length>0)&&(arrayEvents.forEach(_e=>{delete i[_e]}),delete i._chartjs)}function _arrayUnique(i){const o=new Set;let s,_;for(s=0,_=i.length;s<_;++s)o.add(i[s]);return o.size===_?i:Array.from(o)}const requestAnimFrame=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function throttled(i,o){let s=[],_=!1;return function(...$){s=$,_||(_=!0,requestAnimFrame.call(window,()=>{_=!1,i.apply(o,s)}))}}function debounce(i,o){let s;return function(..._){return o?(clearTimeout(s),s=setTimeout(i,o,_)):i.apply(this,_),o}}const _toLeftRightCenter=i=>i==="start"?"left":i==="end"?"right":"center",_alignStartEnd=(i,o,s)=>i==="start"?o:i==="end"?s:(o+s)/2,_textX=(i,o,s,_)=>i===(_?"left":"right")?s:i==="center"?(o+s)/2:o;function _getStartAndCountOfVisiblePoints(i,o,s){const _=o.length;let $=0,_e=_;if(i._sorted){const{iScale:tt,_parsed:j}=i,nt=tt.axis,{min:st,max:ht,minDefined:_t,maxDefined:ft}=tt.getUserBounds();_t&&($=_limitValue(Math.min(_lookupByKey(j,tt.axis,st).lo,s?_:_lookupByKey(o,nt,tt.getPixelForValue(st)).lo),0,_-1)),ft?_e=_limitValue(Math.max(_lookupByKey(j,tt.axis,ht,!0).hi+1,s?0:_lookupByKey(o,nt,tt.getPixelForValue(ht),!0).hi+1),$,_)-$:_e=_-$}return{start:$,count:_e}}function _scaleRangesChanged(i){const{xScale:o,yScale:s,_scaleRanges:_}=i,$={xmin:o.min,xmax:o.max,ymin:s.min,ymax:s.max};if(!_)return i._scaleRanges=$,!0;const _e=_.xmin!==o.min||_.xmax!==o.max||_.ymin!==s.min||_.ymax!==s.max;return Object.assign(_,$),_e}const atEdge=i=>i===0||i===1,elasticIn=(i,o,s)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-o)*TAU/s)),elasticOut=(i,o,s)=>Math.pow(2,-10*i)*Math.sin((i-o)*TAU/s)+1,effects={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*HALF_PI)+1,easeOutSine:i=>Math.sin(i*HALF_PI),easeInOutSine:i=>-.5*(Math.cos(PI*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>atEdge(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>atEdge(i)?i:elasticIn(i,.075,.3),easeOutElastic:i=>atEdge(i)?i:elasticOut(i,.075,.3),easeInOutElastic(i){return atEdge(i)?i:i<.5?.5*elasticIn(i*2,.1125,.45):.5+.5*elasticOut(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let o=1.70158;return(i/=.5)<1?.5*(i*i*(((o*=1.525)+1)*i-o)):.5*((i-=2)*i*(((o*=1.525)+1)*i+o)+2)},easeInBounce:i=>1-effects.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?effects.easeInBounce(i*2)*.5:effects.easeOutBounce(i*2-1)*.5+.5};function isPatternOrGradient(i){if(i&&typeof i=="object"){const o=i.toString();return o==="[object CanvasPattern]"||o==="[object CanvasGradient]"}return!1}function color(i){return isPatternOrGradient(i)?i:new Color(i)}function getHoverColor(i){return isPatternOrGradient(i)?i:new Color(i).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors$1=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:o=>o!=="onProgress"&&o!=="onComplete"&&o!=="fn"}),i.set("animations",{colors:{type:"color",properties:colors$1},numbers:{type:"number",properties:numbers}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:o=>o|0}}}})}function applyLayoutsDefaults(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(i,o){o=o||{};const s=i+JSON.stringify(o);let _=intlCache.get(s);return _||(_=new Intl.NumberFormat(i,o),intlCache.set(s,_)),_}function formatNumber(i,o,s){return getNumberFormat(o,s).format(i)}const formatters={values(i){return isArray(i)?i:""+i},numeric(i,o,s){if(i===0)return"0";const _=this.chart.options.locale;let $,_e=i;if(s.length>1){const st=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(st<1e-4||st>1e15)&&($="scientific"),_e=calculateDelta(i,s)}const tt=log10(Math.abs(_e)),j=Math.max(Math.min(-1*Math.floor(tt),20),0),nt={notation:$,minimumFractionDigits:j,maximumFractionDigits:j};return Object.assign(nt,this.options.ticks.format),formatNumber(i,_,nt)},logarithmic(i,o,s){if(i===0)return"0";const _=s[o].significand||i/Math.pow(10,Math.floor(log10(i)));return[1,2,3,5,10,15].includes(_)||o>.8*s.length?formatters.numeric.call(this,i,o,s):""}};function calculateDelta(i,o){let s=o.length>3?o[2].value-o[1].value:o[1].value-o[0].value;return Math.abs(s)>=1&&i!==Math.floor(i)&&(s=i-Math.floor(i)),s}var Ticks={formatters};function applyScaleDefaults(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(o,s)=>s.lineWidth,tickColor:(o,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:o=>!o.startsWith("before")&&!o.startsWith("after")&&o!=="callback"&&o!=="parser",_indexable:o=>o!=="borderDash"&&o!=="tickBorderDash"&&o!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:o=>o!=="backdropPadding"&&o!=="callback",_indexable:o=>o!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(i,o){if(!o)return i;const s=o.split(".");for(let _=0,$=s.length;_<$;++_){const _e=s[_];i=i[_e]||(i[_e]=Object.create(null))}return i}function set(i,o,s){return typeof o=="string"?merge(getScope$1(i,o),s):merge(getScope$1(i,""),o)}class Defaults{constructor(o,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_=>_.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_,$)=>getHoverColor($.backgroundColor),this.hoverBorderColor=(_,$)=>getHoverColor($.borderColor),this.hoverColor=(_,$)=>getHoverColor($.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(o),this.apply(s)}set(o,s){return set(this,o,s)}get(o){return getScope$1(this,o)}describe(o,s){return set(descriptors,o,s)}override(o,s){return set(overrides,o,s)}route(o,s,_,$){const _e=getScope$1(this,o),tt=getScope$1(this,_),j="_"+s;Object.defineProperties(_e,{[j]:{value:_e[s],writable:!0},[s]:{enumerable:!0,get(){const nt=this[j],st=tt[$];return isObject(nt)?Object.assign({},st,nt):valueOrDefault(nt,st)},set(nt){this[j]=nt}}})}apply(o){o.forEach(s=>s(this))}}var defaults=new Defaults({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(i){return!i||isNullOrUndef(i.size)||isNullOrUndef(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function _measureText(i,o,s,_,$){let _e=o[$];return _e||(_e=o[$]=i.measureText($).width,s.push($)),_e>_&&(_=_e),_}function _longestText(i,o,s,_){_=_||{};let $=_.data=_.data||{},_e=_.garbageCollect=_.garbageCollect||[];_.font!==o&&($=_.data={},_e=_.garbageCollect=[],_.font=o),i.save(),i.font=o;let tt=0;const j=s.length;let nt,st,ht,_t,ft;for(nt=0;nt<j;nt++)if(_t=s[nt],_t!=null&&isArray(_t)!==!0)tt=_measureText(i,$,_e,tt,_t);else if(isArray(_t))for(st=0,ht=_t.length;st<ht;st++)ft=_t[st],ft!=null&&!isArray(ft)&&(tt=_measureText(i,$,_e,tt,ft));i.restore();const dt=_e.length/2;if(dt>s.length){for(nt=0;nt<dt;nt++)delete $[_e[nt]];_e.splice(0,dt)}return tt}function _alignPixel(i,o,s){const _=i.currentDevicePixelRatio,$=s!==0?Math.max(s/2,.5):0;return Math.round((o-$)*_)/_+$}function clearCanvas(i,o){o=o||i.getContext("2d"),o.save(),o.resetTransform(),o.clearRect(0,0,i.width,i.height),o.restore()}function drawPoint(i,o,s,_){drawPointLegend(i,o,s,_,null)}function drawPointLegend(i,o,s,_,$){let _e,tt,j,nt,st,ht,_t,ft;const dt=o.pointStyle,ut=o.rotation,mt=o.radius;let wt=(ut||0)*RAD_PER_DEG;if(dt&&typeof dt=="object"&&(_e=dt.toString(),_e==="[object HTMLImageElement]"||_e==="[object HTMLCanvasElement]")){i.save(),i.translate(s,_),i.rotate(wt),i.drawImage(dt,-dt.width/2,-dt.height/2,dt.width,dt.height),i.restore();return}if(!(isNaN(mt)||mt<=0)){switch(i.beginPath(),dt){default:$?i.ellipse(s,_,$/2,mt,0,0,TAU):i.arc(s,_,mt,0,TAU),i.closePath();break;case"triangle":ht=$?$/2:mt,i.moveTo(s+Math.sin(wt)*ht,_-Math.cos(wt)*mt),wt+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(wt)*ht,_-Math.cos(wt)*mt),wt+=TWO_THIRDS_PI,i.lineTo(s+Math.sin(wt)*ht,_-Math.cos(wt)*mt),i.closePath();break;case"rectRounded":st=mt*.516,nt=mt-st,tt=Math.cos(wt+QUARTER_PI)*nt,_t=Math.cos(wt+QUARTER_PI)*($?$/2-st:nt),j=Math.sin(wt+QUARTER_PI)*nt,ft=Math.sin(wt+QUARTER_PI)*($?$/2-st:nt),i.arc(s-_t,_-j,st,wt-PI,wt-HALF_PI),i.arc(s+ft,_-tt,st,wt-HALF_PI,wt),i.arc(s+_t,_+j,st,wt,wt+HALF_PI),i.arc(s-ft,_+tt,st,wt+HALF_PI,wt+PI),i.closePath();break;case"rect":if(!ut){nt=Math.SQRT1_2*mt,ht=$?$/2:nt,i.rect(s-ht,_-nt,2*ht,2*nt);break}wt+=QUARTER_PI;case"rectRot":_t=Math.cos(wt)*($?$/2:mt),tt=Math.cos(wt)*mt,j=Math.sin(wt)*mt,ft=Math.sin(wt)*($?$/2:mt),i.moveTo(s-_t,_-j),i.lineTo(s+ft,_-tt),i.lineTo(s+_t,_+j),i.lineTo(s-ft,_+tt),i.closePath();break;case"crossRot":wt+=QUARTER_PI;case"cross":_t=Math.cos(wt)*($?$/2:mt),tt=Math.cos(wt)*mt,j=Math.sin(wt)*mt,ft=Math.sin(wt)*($?$/2:mt),i.moveTo(s-_t,_-j),i.lineTo(s+_t,_+j),i.moveTo(s+ft,_-tt),i.lineTo(s-ft,_+tt);break;case"star":_t=Math.cos(wt)*($?$/2:mt),tt=Math.cos(wt)*mt,j=Math.sin(wt)*mt,ft=Math.sin(wt)*($?$/2:mt),i.moveTo(s-_t,_-j),i.lineTo(s+_t,_+j),i.moveTo(s+ft,_-tt),i.lineTo(s-ft,_+tt),wt+=QUARTER_PI,_t=Math.cos(wt)*($?$/2:mt),tt=Math.cos(wt)*mt,j=Math.sin(wt)*mt,ft=Math.sin(wt)*($?$/2:mt),i.moveTo(s-_t,_-j),i.lineTo(s+_t,_+j),i.moveTo(s+ft,_-tt),i.lineTo(s-ft,_+tt);break;case"line":tt=$?$/2:Math.cos(wt)*mt,j=Math.sin(wt)*mt,i.moveTo(s-tt,_-j),i.lineTo(s+tt,_+j);break;case"dash":i.moveTo(s,_),i.lineTo(s+Math.cos(wt)*($?$/2:mt),_+Math.sin(wt)*mt);break;case!1:i.closePath();break}i.fill(),o.borderWidth>0&&i.stroke()}}function _isPointInArea(i,o,s){return s=s||.5,!o||i&&i.x>o.left-s&&i.x<o.right+s&&i.y>o.top-s&&i.y<o.bottom+s}function clipArea(i,o){i.save(),i.beginPath(),i.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),i.clip()}function unclipArea(i){i.restore()}function _steppedLineTo(i,o,s,_,$){if(!o)return i.lineTo(s.x,s.y);if($==="middle"){const _e=(o.x+s.x)/2;i.lineTo(_e,o.y),i.lineTo(_e,s.y)}else $==="after"!=!!_?i.lineTo(o.x,s.y):i.lineTo(s.x,o.y);i.lineTo(s.x,s.y)}function _bezierCurveTo(i,o,s,_){if(!o)return i.lineTo(s.x,s.y);i.bezierCurveTo(_?o.cp1x:o.cp2x,_?o.cp1y:o.cp2y,_?s.cp2x:s.cp1x,_?s.cp2y:s.cp1y,s.x,s.y)}function renderText(i,o,s,_,$,_e={}){const tt=isArray(o)?o:[o],j=_e.strokeWidth>0&&_e.strokeColor!=="";let nt,st;for(i.save(),i.font=$.string,setRenderOpts(i,_e),nt=0;nt<tt.length;++nt)st=tt[nt],_e.backdrop&&drawBackdrop(i,_e.backdrop),j&&(_e.strokeColor&&(i.strokeStyle=_e.strokeColor),isNullOrUndef(_e.strokeWidth)||(i.lineWidth=_e.strokeWidth),i.strokeText(st,s,_,_e.maxWidth)),i.fillText(st,s,_,_e.maxWidth),decorateText(i,s,_,st,_e),_+=$.lineHeight;i.restore()}function setRenderOpts(i,o){o.translation&&i.translate(o.translation[0],o.translation[1]),isNullOrUndef(o.rotation)||i.rotate(o.rotation),o.color&&(i.fillStyle=o.color),o.textAlign&&(i.textAlign=o.textAlign),o.textBaseline&&(i.textBaseline=o.textBaseline)}function decorateText(i,o,s,_,$){if($.strikethrough||$.underline){const _e=i.measureText(_),tt=o-_e.actualBoundingBoxLeft,j=o+_e.actualBoundingBoxRight,nt=s-_e.actualBoundingBoxAscent,st=s+_e.actualBoundingBoxDescent,ht=$.strikethrough?(nt+st)/2:st;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=$.decorationWidth||2,i.moveTo(tt,ht),i.lineTo(j,ht),i.stroke()}}function drawBackdrop(i,o){const s=i.fillStyle;i.fillStyle=o.color,i.fillRect(o.left,o.top,o.width,o.height),i.fillStyle=s}function addRoundedRectPath(i,o){const{x:s,y:_,w:$,h:_e,radius:tt}=o;i.arc(s+tt.topLeft,_+tt.topLeft,tt.topLeft,-HALF_PI,PI,!0),i.lineTo(s,_+_e-tt.bottomLeft),i.arc(s+tt.bottomLeft,_+_e-tt.bottomLeft,tt.bottomLeft,PI,HALF_PI,!0),i.lineTo(s+$-tt.bottomRight,_+_e),i.arc(s+$-tt.bottomRight,_+_e-tt.bottomRight,tt.bottomRight,HALF_PI,0,!0),i.lineTo(s+$,_+tt.topRight),i.arc(s+$-tt.topRight,_+tt.topRight,tt.topRight,0,-HALF_PI,!0),i.lineTo(s+tt.topLeft,_)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(i,o){const s=(""+i).match(LINE_HEIGHT);if(!s||s[1]==="normal")return o*1.2;switch(i=+s[2],s[3]){case"px":return i;case"%":i/=100;break}return o*i}const numberOrZero=i=>+i||0;function _readValueToProps(i,o){const s={},_=isObject(o),$=_?Object.keys(o):o,_e=isObject(i)?_?tt=>valueOrDefault(i[tt],i[o[tt]]):tt=>i[tt]:()=>i;for(const tt of $)s[tt]=numberOrZero(_e(tt));return s}function toTRBL(i){return _readValueToProps(i,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(i){return _readValueToProps(i,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(i){const o=toTRBL(i);return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function toFont(i,o){i=i||{},o=o||defaults.font;let s=valueOrDefault(i.size,o.size);typeof s=="string"&&(s=parseInt(s,10));let _=valueOrDefault(i.style,o.style);_&&!(""+_).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+_+'"'),_=void 0);const $={family:valueOrDefault(i.family,o.family),lineHeight:toLineHeight(valueOrDefault(i.lineHeight,o.lineHeight),s),size:s,style:_,weight:valueOrDefault(i.weight,o.weight),string:""};return $.string=toFontString($),$}function resolve(i,o,s,_){let $=!0,_e,tt,j;for(_e=0,tt=i.length;_e<tt;++_e)if(j=i[_e],j!==void 0&&(o!==void 0&&typeof j=="function"&&(j=j(o),$=!1),s!==void 0&&isArray(j)&&(j=j[s%j.length],$=!1),j!==void 0))return _&&!$&&(_.cacheable=!1),j}function _addGrace(i,o,s){const{min:_,max:$}=i,_e=toDimension(o,($-_)/2),tt=(j,nt)=>s&&j===0?0:j+nt;return{min:tt(_,-Math.abs(_e)),max:tt($,_e)}}function createContext(i,o){return Object.assign(Object.create(i),o)}function _createResolver(i,o=[""],s=i,_,$=()=>i[0]){defined(_)||(_=_resolve("_fallback",i));const _e={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:_,_getTarget:$,override:tt=>_createResolver([tt,...i],o,s,_)};return new Proxy(_e,{deleteProperty(tt,j){return delete tt[j],delete tt._keys,delete i[0][j],!0},get(tt,j){return _cached(tt,j,()=>_resolveWithPrefixes(j,o,i,tt))},getOwnPropertyDescriptor(tt,j){return Reflect.getOwnPropertyDescriptor(tt._scopes[0],j)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(tt,j){return getKeysFromAllScopes(tt).includes(j)},ownKeys(tt){return getKeysFromAllScopes(tt)},set(tt,j,nt){const st=tt._storage||(tt._storage=$());return tt[j]=st[j]=nt,delete tt._keys,!0}})}function _attachContext(i,o,s,_){const $={_cacheable:!1,_proxy:i,_context:o,_subProxy:s,_stack:new Set,_descriptors:_descriptors(i,_),setContext:_e=>_attachContext(i,_e,s,_),override:_e=>_attachContext(i.override(_e),o,s,_)};return new Proxy($,{deleteProperty(_e,tt){return delete _e[tt],delete i[tt],!0},get(_e,tt,j){return _cached(_e,tt,()=>_resolveWithContext(_e,tt,j))},getOwnPropertyDescriptor(_e,tt){return _e._descriptors.allKeys?Reflect.has(i,tt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,tt)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(_e,tt){return Reflect.has(i,tt)},ownKeys(){return Reflect.ownKeys(i)},set(_e,tt,j){return i[tt]=j,delete _e[tt],!0}})}function _descriptors(i,o={scriptable:!0,indexable:!0}){const{_scriptable:s=o.scriptable,_indexable:_=o.indexable,_allKeys:$=o.allKeys}=i;return{allKeys:$,scriptable:s,indexable:_,isScriptable:isFunction(s)?s:()=>s,isIndexable:isFunction(_)?_:()=>_}}const readKey=(i,o)=>i?i+_capitalize(o):o,needsSubResolver=(i,o)=>isObject(o)&&i!=="adapters"&&(Object.getPrototypeOf(o)===null||o.constructor===Object);function _cached(i,o,s){if(Object.prototype.hasOwnProperty.call(i,o))return i[o];const _=s();return i[o]=_,_}function _resolveWithContext(i,o,s){const{_proxy:_,_context:$,_subProxy:_e,_descriptors:tt}=i;let j=_[o];return isFunction(j)&&tt.isScriptable(o)&&(j=_resolveScriptable(o,j,i,s)),isArray(j)&&j.length&&(j=_resolveArray(o,j,i,tt.isIndexable)),needsSubResolver(o,j)&&(j=_attachContext(j,$,_e&&_e[o],tt)),j}function _resolveScriptable(i,o,s,_){const{_proxy:$,_context:_e,_subProxy:tt,_stack:j}=s;if(j.has(i))throw new Error("Recursion detected: "+Array.from(j).join("->")+"->"+i);return j.add(i),o=o(_e,tt||_),j.delete(i),needsSubResolver(i,o)&&(o=createSubResolver($._scopes,$,i,o)),o}function _resolveArray(i,o,s,_){const{_proxy:$,_context:_e,_subProxy:tt,_descriptors:j}=s;if(defined(_e.index)&&_(i))o=o[_e.index%o.length];else if(isObject(o[0])){const nt=o,st=$._scopes.filter(ht=>ht!==nt);o=[];for(const ht of nt){const _t=createSubResolver(st,$,i,ht);o.push(_attachContext(_t,_e,tt&&tt[i],j))}}return o}function resolveFallback(i,o,s){return isFunction(i)?i(o,s):i}const getScope=(i,o)=>i===!0?o:typeof i=="string"?resolveObjectKey(o,i):void 0;function addScopes(i,o,s,_,$){for(const _e of o){const tt=getScope(s,_e);if(tt){i.add(tt);const j=resolveFallback(tt._fallback,s,$);if(defined(j)&&j!==s&&j!==_)return j}else if(tt===!1&&defined(_)&&s!==_)return null}return!1}function createSubResolver(i,o,s,_){const $=o._rootScopes,_e=resolveFallback(o._fallback,s,_),tt=[...i,...$],j=new Set;j.add(_);let nt=addScopesFromKey(j,tt,s,_e||s,_);return nt===null||defined(_e)&&_e!==s&&(nt=addScopesFromKey(j,tt,_e,nt,_),nt===null)?!1:_createResolver(Array.from(j),[""],$,_e,()=>subGetTarget(o,s,_))}function addScopesFromKey(i,o,s,_,$){for(;s;)s=addScopes(i,o,s,_,$);return s}function subGetTarget(i,o,s){const _=i._getTarget();o in _||(_[o]={});const $=_[o];return isArray($)&&isObject(s)?s:$||{}}function _resolveWithPrefixes(i,o,s,_){let $;for(const _e of o)if($=_resolve(readKey(_e,i),s),defined($))return needsSubResolver(i,$)?createSubResolver(s,_,i,$):$}function _resolve(i,o){for(const s of o){if(!s)continue;const _=s[i];if(defined(_))return _}}function getKeysFromAllScopes(i){let o=i._keys;return o||(o=i._keys=resolveKeysFromAllScopes(i._scopes)),o}function resolveKeysFromAllScopes(i){const o=new Set;for(const s of i)for(const _ of Object.keys(s).filter($=>!$.startsWith("_")))o.add(_);return Array.from(o)}function _parseObjectDataRadialScale(i,o,s,_){const{iScale:$}=i,{key:_e="r"}=this._parsing,tt=new Array(_);let j,nt,st,ht;for(j=0,nt=_;j<nt;++j)st=j+s,ht=o[st],tt[j]={r:$.parse(resolveObjectKey(ht,_e),st)};return tt}const EPSILON=Number.EPSILON||1e-14,getPoint=(i,o)=>o<i.length&&!i[o].skip&&i[o],getValueAxis=i=>i==="x"?"y":"x";function splineCurve(i,o,s,_){const $=i.skip?o:i,_e=o,tt=s.skip?o:s,j=distanceBetweenPoints(_e,$),nt=distanceBetweenPoints(tt,_e);let st=j/(j+nt),ht=nt/(j+nt);st=isNaN(st)?0:st,ht=isNaN(ht)?0:ht;const _t=_*st,ft=_*ht;return{previous:{x:_e.x-_t*(tt.x-$.x),y:_e.y-_t*(tt.y-$.y)},next:{x:_e.x+ft*(tt.x-$.x),y:_e.y+ft*(tt.y-$.y)}}}function monotoneAdjust(i,o,s){const _=i.length;let $,_e,tt,j,nt,st=getPoint(i,0);for(let ht=0;ht<_-1;++ht)if(nt=st,st=getPoint(i,ht+1),!(!nt||!st)){if(almostEquals(o[ht],0,EPSILON)){s[ht]=s[ht+1]=0;continue}$=s[ht]/o[ht],_e=s[ht+1]/o[ht],j=Math.pow($,2)+Math.pow(_e,2),!(j<=9)&&(tt=3/Math.sqrt(j),s[ht]=$*tt*o[ht],s[ht+1]=_e*tt*o[ht])}}function monotoneCompute(i,o,s="x"){const _=getValueAxis(s),$=i.length;let _e,tt,j,nt=getPoint(i,0);for(let st=0;st<$;++st){if(tt=j,j=nt,nt=getPoint(i,st+1),!j)continue;const ht=j[s],_t=j[_];tt&&(_e=(ht-tt[s])/3,j[`cp1${s}`]=ht-_e,j[`cp1${_}`]=_t-_e*o[st]),nt&&(_e=(nt[s]-ht)/3,j[`cp2${s}`]=ht+_e,j[`cp2${_}`]=_t+_e*o[st])}}function splineCurveMonotone(i,o="x"){const s=getValueAxis(o),_=i.length,$=Array(_).fill(0),_e=Array(_);let tt,j,nt,st=getPoint(i,0);for(tt=0;tt<_;++tt)if(j=nt,nt=st,st=getPoint(i,tt+1),!!nt){if(st){const ht=st[o]-nt[o];$[tt]=ht!==0?(st[s]-nt[s])/ht:0}_e[tt]=j?st?sign($[tt-1])!==sign($[tt])?0:($[tt-1]+$[tt])/2:$[tt-1]:$[tt]}monotoneAdjust(i,$,_e),monotoneCompute(i,_e,o)}function capControlPoint(i,o,s){return Math.max(Math.min(i,s),o)}function capBezierPoints(i,o){let s,_,$,_e,tt,j=_isPointInArea(i[0],o);for(s=0,_=i.length;s<_;++s)tt=_e,_e=j,j=s<_-1&&_isPointInArea(i[s+1],o),_e&&($=i[s],tt&&($.cp1x=capControlPoint($.cp1x,o.left,o.right),$.cp1y=capControlPoint($.cp1y,o.top,o.bottom)),j&&($.cp2x=capControlPoint($.cp2x,o.left,o.right),$.cp2y=capControlPoint($.cp2y,o.top,o.bottom)))}function _updateBezierControlPoints(i,o,s,_,$){let _e,tt,j,nt;if(o.spanGaps&&(i=i.filter(st=>!st.skip)),o.cubicInterpolationMode==="monotone")splineCurveMonotone(i,$);else{let st=_?i[i.length-1]:i[0];for(_e=0,tt=i.length;_e<tt;++_e)j=i[_e],nt=splineCurve(st,j,i[Math.min(_e+1,tt-(_?0:1))%tt],o.tension),j.cp1x=nt.previous.x,j.cp1y=nt.previous.y,j.cp2x=nt.next.x,j.cp2y=nt.next.y,st=j}o.capBezierPoints&&capBezierPoints(i,s)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(i){let o=i.parentNode;return o&&o.toString()==="[object ShadowRoot]"&&(o=o.host),o}function parseMaxStyle(i,o,s){let _;return typeof i=="string"?(_=parseInt(i,10),i.indexOf("%")!==-1&&(_=_/100*o.parentNode[s])):_=i,_}const getComputedStyle=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function getStyle(i,o){return getComputedStyle(i).getPropertyValue(o)}const positions=["top","right","bottom","left"];function getPositionedStyle(i,o,s){const _={};s=s?"-"+s:"";for(let $=0;$<4;$++){const _e=positions[$];_[_e]=parseFloat(i[o+"-"+_e+s])||0}return _.width=_.left+_.right,_.height=_.top+_.bottom,_}const useOffsetPos=(i,o,s)=>(i>0||o>0)&&(!s||!s.shadowRoot);function getCanvasPosition(i,o){const s=i.touches,_=s&&s.length?s[0]:i,{offsetX:$,offsetY:_e}=_;let tt=!1,j,nt;if(useOffsetPos($,_e,i.target))j=$,nt=_e;else{const st=o.getBoundingClientRect();j=_.clientX-st.left,nt=_.clientY-st.top,tt=!0}return{x:j,y:nt,box:tt}}function getRelativePosition(i,o){if("native"in i)return i;const{canvas:s,currentDevicePixelRatio:_}=o,$=getComputedStyle(s),_e=$.boxSizing==="border-box",tt=getPositionedStyle($,"padding"),j=getPositionedStyle($,"border","width"),{x:nt,y:st,box:ht}=getCanvasPosition(i,s),_t=tt.left+(ht&&j.left),ft=tt.top+(ht&&j.top);let{width:dt,height:ut}=o;return _e&&(dt-=tt.width+j.width,ut-=tt.height+j.height),{x:Math.round((nt-_t)/dt*s.width/_),y:Math.round((st-ft)/ut*s.height/_)}}function getContainerSize(i,o,s){let _,$;if(o===void 0||s===void 0){const _e=_getParentNode(i);if(!_e)o=i.clientWidth,s=i.clientHeight;else{const tt=_e.getBoundingClientRect(),j=getComputedStyle(_e),nt=getPositionedStyle(j,"border","width"),st=getPositionedStyle(j,"padding");o=tt.width-st.width-nt.width,s=tt.height-st.height-nt.height,_=parseMaxStyle(j.maxWidth,_e,"clientWidth"),$=parseMaxStyle(j.maxHeight,_e,"clientHeight")}}return{width:o,height:s,maxWidth:_||INFINITY,maxHeight:$||INFINITY}}const round1=i=>Math.round(i*10)/10;function getMaximumSize(i,o,s,_){const $=getComputedStyle(i),_e=getPositionedStyle($,"margin"),tt=parseMaxStyle($.maxWidth,i,"clientWidth")||INFINITY,j=parseMaxStyle($.maxHeight,i,"clientHeight")||INFINITY,nt=getContainerSize(i,o,s);let{width:st,height:ht}=nt;if($.boxSizing==="content-box"){const ft=getPositionedStyle($,"border","width"),dt=getPositionedStyle($,"padding");st-=dt.width+ft.width,ht-=dt.height+ft.height}return st=Math.max(0,st-_e.width),ht=Math.max(0,_?st/_:ht-_e.height),st=round1(Math.min(st,tt,nt.maxWidth)),ht=round1(Math.min(ht,j,nt.maxHeight)),st&&!ht&&(ht=round1(st/2)),(o!==void 0||s!==void 0)&&_&&nt.height&&ht>nt.height&&(ht=nt.height,st=round1(Math.floor(ht*_))),{width:st,height:ht}}function retinaScale(i,o,s){const _=o||1,$=Math.floor(i.height*_),_e=Math.floor(i.width*_);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const tt=i.canvas;return tt.style&&(s||!tt.style.height&&!tt.style.width)&&(tt.style.height=`${i.height}px`,tt.style.width=`${i.width}px`),i.currentDevicePixelRatio!==_||tt.height!==$||tt.width!==_e?(i.currentDevicePixelRatio=_,tt.height=$,tt.width=_e,i.ctx.setTransform(_,0,0,_,0,0),!0):!1}const supportsEventListenerOptions=function(){let i=!1;try{const o={get passive(){return i=!0,!1}};window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{}return i}();function readUsedSize(i,o){const s=getStyle(i,o),_=s&&s.match(/^(\d+)(\.\d+)?px$/);return _?+_[1]:void 0}function _pointInLine(i,o,s,_){return{x:i.x+s*(o.x-i.x),y:i.y+s*(o.y-i.y)}}function _steppedInterpolation(i,o,s,_){return{x:i.x+s*(o.x-i.x),y:_==="middle"?s<.5?i.y:o.y:_==="after"?s<1?i.y:o.y:s>0?o.y:i.y}}function _bezierInterpolation(i,o,s,_){const $={x:i.cp2x,y:i.cp2y},_e={x:o.cp1x,y:o.cp1y},tt=_pointInLine(i,$,s),j=_pointInLine($,_e,s),nt=_pointInLine(_e,o,s),st=_pointInLine(tt,j,s),ht=_pointInLine(j,nt,s);return _pointInLine(st,ht,s)}const getRightToLeftAdapter=function(i,o){return{x(s){return i+i+o-s},setWidth(s){o=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,_){return s-_},leftForLtr(s,_){return s-_}}},getLeftToRightAdapter=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,o){return i+o},leftForLtr(i,o){return i}}};function getRtlAdapter(i,o,s){return i?getRightToLeftAdapter(o,s):getLeftToRightAdapter()}function overrideTextDirection(i,o){let s,_;(o==="ltr"||o==="rtl")&&(s=i.canvas.style,_=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",o,"important"),i.prevTextDirection=_)}function restoreTextDirection(i,o){o!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",o[0],o[1]))}function propertyFn(i){return i==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(o,s)=>o-s,normalize:o=>o}}function normalizeSegment({start:i,end:o,count:s,loop:_,style:$}){return{start:i%s,end:o%s,loop:_&&(o-i+1)%s===0,style:$}}function getSegment(i,o,s){const{property:_,start:$,end:_e}=s,{between:tt,normalize:j}=propertyFn(_),nt=o.length;let{start:st,end:ht,loop:_t}=i,ft,dt;if(_t){for(st+=nt,ht+=nt,ft=0,dt=nt;ft<dt&&tt(j(o[st%nt][_]),$,_e);++ft)st--,ht--;st%=nt,ht%=nt}return ht<st&&(ht+=nt),{start:st,end:ht,loop:_t,style:i.style}}function _boundSegment(i,o,s){if(!s)return[i];const{property:_,start:$,end:_e}=s,tt=o.length,{compare:j,between:nt,normalize:st}=propertyFn(_),{start:ht,end:_t,loop:ft,style:dt}=getSegment(i,o,s),ut=[];let mt=!1,wt=null,Qt,Dt,Et;const xt=()=>nt($,Et,Qt)&&j($,Et)!==0,pt=()=>j(_e,Qt)===0||nt(_e,Et,Qt),Vt=()=>mt||xt(),nn=()=>!mt||pt();for(let on=ht,bt=ht;on<=_t;++on)Dt=o[on%tt],!Dt.skip&&(Qt=st(Dt[_]),Qt!==Et&&(mt=nt(Qt,$,_e),wt===null&&Vt()&&(wt=j(Qt,$)===0?on:bt),wt!==null&&nn()&&(ut.push(normalizeSegment({start:wt,end:on,loop:ft,count:tt,style:dt})),wt=null),bt=on,Et=Qt));return wt!==null&&ut.push(normalizeSegment({start:wt,end:_t,loop:ft,count:tt,style:dt})),ut}function _boundSegments(i,o){const s=[],_=i.segments;for(let $=0;$<_.length;$++){const _e=_boundSegment(_[$],i.points,o);_e.length&&s.push(..._e)}return s}function findStartAndEnd(i,o,s,_){let $=0,_e=o-1;if(s&&!_)for(;$<o&&!i[$].skip;)$++;for(;$<o&&i[$].skip;)$++;for($%=o,s&&(_e+=$);_e>$&&i[_e%o].skip;)_e--;return _e%=o,{start:$,end:_e}}function solidSegments(i,o,s,_){const $=i.length,_e=[];let tt=o,j=i[o],nt;for(nt=o+1;nt<=s;++nt){const st=i[nt%$];st.skip||st.stop?j.skip||(_=!1,_e.push({start:o%$,end:(nt-1)%$,loop:_}),o=tt=st.stop?nt:null):(tt=nt,j.skip&&(o=nt)),j=st}return tt!==null&&_e.push({start:o%$,end:tt%$,loop:_}),_e}function _computeSegments(i,o){const s=i.points,_=i.options.spanGaps,$=s.length;if(!$)return[];const _e=!!i._loop,{start:tt,end:j}=findStartAndEnd(s,$,_e,_);if(_===!0)return splitByStyles(i,[{start:tt,end:j,loop:_e}],s,o);const nt=j<tt?j+$:j,st=!!i._fullLoop&&tt===0&&j===$-1;return splitByStyles(i,solidSegments(s,tt,nt,st),s,o)}function splitByStyles(i,o,s,_){return!_||!_.setContext||!s?o:doSplitByStyles(i,o,s,_)}function doSplitByStyles(i,o,s,_){const $=i._chart.getContext(),_e=readStyle(i.options),{_datasetIndex:tt,options:{spanGaps:j}}=i,nt=s.length,st=[];let ht=_e,_t=o[0].start,ft=_t;function dt(ut,mt,wt,Qt){const Dt=j?-1:1;if(ut!==mt){for(ut+=nt;s[ut%nt].skip;)ut-=Dt;for(;s[mt%nt].skip;)mt+=Dt;ut%nt!==mt%nt&&(st.push({start:ut%nt,end:mt%nt,loop:wt,style:Qt}),ht=Qt,_t=mt%nt)}}for(const ut of o){_t=j?_t:ut.start;let mt=s[_t%nt],wt;for(ft=_t+1;ft<=ut.end;ft++){const Qt=s[ft%nt];wt=readStyle(_.setContext(createContext($,{type:"segment",p0:mt,p1:Qt,p0DataIndex:(ft-1)%nt,p1DataIndex:ft%nt,datasetIndex:tt}))),styleChanged(wt,ht)&&dt(_t,ft-1,ut.loop,ht),mt=Qt,ht=wt}_t<ft-1&&dt(_t,ft-1,ut.loop,ht)}return st}function readStyle(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function styleChanged(i,o){return o&&JSON.stringify(i)!==JSON.stringify(o)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(o,s,_,$){const _e=s.listeners[$],tt=s.duration;_e.forEach(j=>j({chart:o,initial:s.initial,numSteps:tt,currentStep:Math.min(_-s.start,tt)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(o=Date.now()){let s=0;this._charts.forEach((_,$)=>{if(!_.running||!_.items.length)return;const _e=_.items;let tt=_e.length-1,j=!1,nt;for(;tt>=0;--tt)nt=_e[tt],nt._active?(nt._total>_.duration&&(_.duration=nt._total),nt.tick(o),j=!0):(_e[tt]=_e[_e.length-1],_e.pop());j&&($.draw(),this._notify($,_,o,"progress")),_e.length||(_.running=!1,this._notify($,_,o,"complete"),_.initial=!1),s+=_e.length}),this._lastDate=o,s===0&&(this._running=!1)}_getAnims(o){const s=this._charts;let _=s.get(o);return _||(_={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(o,_)),_}listen(o,s,_){this._getAnims(o).listeners[s].push(_)}add(o,s){!s||!s.length||this._getAnims(o).items.push(...s)}has(o){return this._getAnims(o).items.length>0}start(o){const s=this._charts.get(o);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((_,$)=>Math.max(_,$._duration),0),this._refresh())}running(o){if(!this._running)return!1;const s=this._charts.get(o);return!(!s||!s.running||!s.items.length)}stop(o){const s=this._charts.get(o);if(!s||!s.items.length)return;const _=s.items;let $=_.length-1;for(;$>=0;--$)_[$].cancel();s.items=[],this._notify(o,s,Date.now(),"complete")}remove(o){return this._charts.delete(o)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(i,o,s){return s>.5?o:i},color(i,o,s){const _=color(i||transparent),$=_.valid&&color(o||transparent);return $&&$.valid?$.mix(_,s).hexString():o},number(i,o,s){return i+(o-i)*s}};class Animation{constructor(o,s,_,$){const _e=s[_];$=resolve([o.to,$,_e,o.from]);const tt=resolve([o.from,_e,$]);this._active=!0,this._fn=o.fn||interpolators[o.type||typeof tt],this._easing=effects[o.easing]||effects.linear,this._start=Math.floor(Date.now()+(o.delay||0)),this._duration=this._total=Math.floor(o.duration),this._loop=!!o.loop,this._target=s,this._prop=_,this._from=tt,this._to=$,this._promises=void 0}active(){return this._active}update(o,s,_){if(this._active){this._notify(!1);const $=this._target[this._prop],_e=_-this._start,tt=this._duration-_e;this._start=_,this._duration=Math.floor(Math.max(tt,o.duration)),this._total+=_e,this._loop=!!o.loop,this._to=resolve([o.to,s,$,o.from]),this._from=resolve([o.from,$,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(o){const s=o-this._start,_=this._duration,$=this._prop,_e=this._from,tt=this._loop,j=this._to;let nt;if(this._active=_e!==j&&(tt||s<_),!this._active){this._target[$]=j,this._notify(!0);return}if(s<0){this._target[$]=_e;return}nt=s/_%2,nt=tt&&nt>1?2-nt:nt,nt=this._easing(Math.min(1,Math.max(0,nt))),this._target[$]=this._fn(_e,j,nt)}wait(){const o=this._promises||(this._promises=[]);return new Promise((s,_)=>{o.push({res:s,rej:_})})}_notify(o){const s=o?"res":"rej",_=this._promises||[];for(let $=0;$<_.length;$++)_[$][s]()}}class Animations{constructor(o,s){this._chart=o,this._properties=new Map,this.configure(s)}configure(o){if(!isObject(o))return;const s=Object.keys(defaults.animation),_=this._properties;Object.getOwnPropertyNames(o).forEach($=>{const _e=o[$];if(!isObject(_e))return;const tt={};for(const j of s)tt[j]=_e[j];(isArray(_e.properties)&&_e.properties||[$]).forEach(j=>{(j===$||!_.has(j))&&_.set(j,tt)})})}_animateOptions(o,s){const _=s.options,$=resolveTargetOptions(o,_);if(!$)return[];const _e=this._createAnimations($,_);return _.$shared&&awaitAll(o.options.$animations,_).then(()=>{o.options=_},()=>{}),_e}_createAnimations(o,s){const _=this._properties,$=[],_e=o.$animations||(o.$animations={}),tt=Object.keys(s),j=Date.now();let nt;for(nt=tt.length-1;nt>=0;--nt){const st=tt[nt];if(st.charAt(0)==="$")continue;if(st==="options"){$.push(...this._animateOptions(o,s));continue}const ht=s[st];let _t=_e[st];const ft=_.get(st);if(_t)if(ft&&_t.active()){_t.update(ft,ht,j);continue}else _t.cancel();if(!ft||!ft.duration){o[st]=ht;continue}_e[st]=_t=new Animation(ft,o,st,ht),$.push(_t)}return $}update(o,s){if(this._properties.size===0){Object.assign(o,s);return}const _=this._createAnimations(o,s);if(_.length)return animator.add(this._chart,_),!0}}function awaitAll(i,o){const s=[],_=Object.keys(o);for(let $=0;$<_.length;$++){const _e=i[_[$]];_e&&_e.active()&&s.push(_e.wait())}return Promise.all(s)}function resolveTargetOptions(i,o){if(!o)return;let s=i.options;if(!s){i.options=o;return}return s.$shared&&(i.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function scaleClip(i,o){const s=i&&i.options||{},_=s.reverse,$=s.min===void 0?o:0,_e=s.max===void 0?o:0;return{start:_?_e:$,end:_?$:_e}}function defaultClip(i,o,s){if(s===!1)return!1;const _=scaleClip(i,s),$=scaleClip(o,s);return{top:$.end,right:_.end,bottom:$.start,left:_.start}}function toClip(i){let o,s,_,$;return isObject(i)?(o=i.top,s=i.right,_=i.bottom,$=i.left):o=s=_=$=i,{top:o,right:s,bottom:_,left:$,disabled:i===!1}}function getSortedDatasetIndices(i,o){const s=[],_=i._getSortedDatasetMetas(o);let $,_e;for($=0,_e=_.length;$<_e;++$)s.push(_[$].index);return s}function applyStack(i,o,s,_={}){const $=i.keys,_e=_.mode==="single";let tt,j,nt,st;if(o!==null){for(tt=0,j=$.length;tt<j;++tt){if(nt=+$[tt],nt===s){if(_.all)continue;break}st=i.values[nt],isNumberFinite(st)&&(_e||o===0||sign(o)===sign(st))&&(o+=st)}return o}}function convertObjectDataToArray(i){const o=Object.keys(i),s=new Array(o.length);let _,$,_e;for(_=0,$=o.length;_<$;++_)_e=o[_],s[_]={x:_e,y:i[_e]};return s}function isStacked(i,o){const s=i&&i.options.stacked;return s||s===void 0&&o.stack!==void 0}function getStackKey(i,o,s){return`${i.id}.${o.id}.${s.stack||s.type}`}function getUserBounds(i){const{min:o,max:s,minDefined:_,maxDefined:$}=i.getUserBounds();return{min:_?o:Number.NEGATIVE_INFINITY,max:$?s:Number.POSITIVE_INFINITY}}function getOrCreateStack(i,o,s){const _=i[o]||(i[o]={});return _[s]||(_[s]={})}function getLastIndexInStack(i,o,s,_){for(const $ of o.getMatchingVisibleMetas(_).reverse()){const _e=i[$.index];if(s&&_e>0||!s&&_e<0)return $.index}return null}function updateStacks(i,o){const{chart:s,_cachedMeta:_}=i,$=s._stacks||(s._stacks={}),{iScale:_e,vScale:tt,index:j}=_,nt=_e.axis,st=tt.axis,ht=getStackKey(_e,tt,_),_t=o.length;let ft;for(let dt=0;dt<_t;++dt){const ut=o[dt],{[nt]:mt,[st]:wt}=ut,Qt=ut._stacks||(ut._stacks={});ft=Qt[st]=getOrCreateStack($,ht,mt),ft[j]=wt,ft._top=getLastIndexInStack(ft,tt,!0,_.type),ft._bottom=getLastIndexInStack(ft,tt,!1,_.type);const Dt=ft._visualValues||(ft._visualValues={});Dt[j]=wt}}function getFirstScaleId(i,o){const s=i.scales;return Object.keys(s).filter(_=>s[_].axis===o).shift()}function createDatasetContext(i,o){return createContext(i,{active:!1,dataset:void 0,datasetIndex:o,index:o,mode:"default",type:"dataset"})}function createDataContext(i,o,s){return createContext(i,{active:!1,dataIndex:o,parsed:void 0,raw:void 0,element:s,index:o,mode:"default",type:"data"})}function clearStacks(i,o){const s=i.controller.index,_=i.vScale&&i.vScale.axis;if(_){o=o||i._parsed;for(const $ of o){const _e=$._stacks;if(!_e||_e[_]===void 0||_e[_][s]===void 0)return;delete _e[_][s],_e[_]._visualValues!==void 0&&_e[_]._visualValues[s]!==void 0&&delete _e[_]._visualValues[s]}}}const isDirectUpdateMode=i=>i==="reset"||i==="none",cloneIfNotShared=(i,o)=>o?i:Object.assign({},i),createStack=(i,o,s)=>i&&!o.hidden&&o._stacked&&{keys:getSortedDatasetIndices(s,!0),values:null};class DatasetController{constructor(o,s){this.chart=o,this._ctx=o.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const o=this._cachedMeta;this.configure(),this.linkScales(),o._stacked=isStacked(o.vScale,o),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(o){this.index!==o&&clearStacks(this._cachedMeta),this.index=o}linkScales(){const o=this.chart,s=this._cachedMeta,_=this.getDataset(),$=(_t,ft,dt,ut)=>_t==="x"?ft:_t==="r"?ut:dt,_e=s.xAxisID=valueOrDefault(_.xAxisID,getFirstScaleId(o,"x")),tt=s.yAxisID=valueOrDefault(_.yAxisID,getFirstScaleId(o,"y")),j=s.rAxisID=valueOrDefault(_.rAxisID,getFirstScaleId(o,"r")),nt=s.indexAxis,st=s.iAxisID=$(nt,_e,tt,j),ht=s.vAxisID=$(nt,tt,_e,j);s.xScale=this.getScaleForId(_e),s.yScale=this.getScaleForId(tt),s.rScale=this.getScaleForId(j),s.iScale=this.getScaleForId(st),s.vScale=this.getScaleForId(ht)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(o){return this.chart.scales[o]}_getOtherScale(o){const s=this._cachedMeta;return o===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const o=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),o._stacked&&clearStacks(o)}_dataCheck(){const o=this.getDataset(),s=o.data||(o.data=[]),_=this._data;if(isObject(s))this._data=convertObjectDataToArray(s);else if(_!==s){if(_){unlistenArrayEvents(_,this);const $=this._cachedMeta;clearStacks($),$._parsed=[]}s&&Object.isExtensible(s)&&listenArrayEvents(s,this),this._syncList=[],this._data=s}}addElements(){const o=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(o.dataset=new this.datasetElementType)}buildOrUpdateElements(o){const s=this._cachedMeta,_=this.getDataset();let $=!1;this._dataCheck();const _e=s._stacked;s._stacked=isStacked(s.vScale,s),s.stack!==_.stack&&($=!0,clearStacks(s),s.stack=_.stack),this._resyncElements(o),($||_e!==s._stacked)&&updateStacks(this,s._parsed)}configure(){const o=this.chart.config,s=o.datasetScopeKeys(this._type),_=o.getOptionScopes(this.getDataset(),s,!0);this.options=o.createResolver(_,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(o,s){const{_cachedMeta:_,_data:$}=this,{iScale:_e,_stacked:tt}=_,j=_e.axis;let nt=o===0&&s===$.length?!0:_._sorted,st=o>0&&_._parsed[o-1],ht,_t,ft;if(this._parsing===!1)_._parsed=$,_._sorted=!0,ft=$;else{isArray($[o])?ft=this.parseArrayData(_,$,o,s):isObject($[o])?ft=this.parseObjectData(_,$,o,s):ft=this.parsePrimitiveData(_,$,o,s);const dt=()=>_t[j]===null||st&&_t[j]<st[j];for(ht=0;ht<s;++ht)_._parsed[ht+o]=_t=ft[ht],nt&&(dt()&&(nt=!1),st=_t);_._sorted=nt}tt&&updateStacks(this,ft)}parsePrimitiveData(o,s,_,$){const{iScale:_e,vScale:tt}=o,j=_e.axis,nt=tt.axis,st=_e.getLabels(),ht=_e===tt,_t=new Array($);let ft,dt,ut;for(ft=0,dt=$;ft<dt;++ft)ut=ft+_,_t[ft]={[j]:ht||_e.parse(st[ut],ut),[nt]:tt.parse(s[ut],ut)};return _t}parseArrayData(o,s,_,$){const{xScale:_e,yScale:tt}=o,j=new Array($);let nt,st,ht,_t;for(nt=0,st=$;nt<st;++nt)ht=nt+_,_t=s[ht],j[nt]={x:_e.parse(_t[0],ht),y:tt.parse(_t[1],ht)};return j}parseObjectData(o,s,_,$){const{xScale:_e,yScale:tt}=o,{xAxisKey:j="x",yAxisKey:nt="y"}=this._parsing,st=new Array($);let ht,_t,ft,dt;for(ht=0,_t=$;ht<_t;++ht)ft=ht+_,dt=s[ft],st[ht]={x:_e.parse(resolveObjectKey(dt,j),ft),y:tt.parse(resolveObjectKey(dt,nt),ft)};return st}getParsed(o){return this._cachedMeta._parsed[o]}getDataElement(o){return this._cachedMeta.data[o]}applyStack(o,s,_){const $=this.chart,_e=this._cachedMeta,tt=s[o.axis],j={keys:getSortedDatasetIndices($,!0),values:s._stacks[o.axis]._visualValues};return applyStack(j,tt,_e.index,{mode:_})}updateRangeFromParsed(o,s,_,$){const _e=_[s.axis];let tt=_e===null?NaN:_e;const j=$&&_._stacks[s.axis];$&&j&&($.values=j,tt=applyStack($,_e,this._cachedMeta.index)),o.min=Math.min(o.min,tt),o.max=Math.max(o.max,tt)}getMinMax(o,s){const _=this._cachedMeta,$=_._parsed,_e=_._sorted&&o===_.iScale,tt=$.length,j=this._getOtherScale(o),nt=createStack(s,_,this.chart),st={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ht,max:_t}=getUserBounds(j);let ft,dt;function ut(){dt=$[ft];const mt=dt[j.axis];return!isNumberFinite(dt[o.axis])||ht>mt||_t<mt}for(ft=0;ft<tt&&!(!ut()&&(this.updateRangeFromParsed(st,o,dt,nt),_e));++ft);if(_e){for(ft=tt-1;ft>=0;--ft)if(!ut()){this.updateRangeFromParsed(st,o,dt,nt);break}}return st}getAllParsedValues(o){const s=this._cachedMeta._parsed,_=[];let $,_e,tt;for($=0,_e=s.length;$<_e;++$)tt=s[$][o.axis],isNumberFinite(tt)&&_.push(tt);return _}getMaxOverflow(){return!1}getLabelAndValue(o){const s=this._cachedMeta,_=s.iScale,$=s.vScale,_e=this.getParsed(o);return{label:_?""+_.getLabelForValue(_e[_.axis]):"",value:$?""+$.getLabelForValue(_e[$.axis]):""}}_update(o){const s=this._cachedMeta;this.update(o||"default"),s._clip=toClip(valueOrDefault(this.options.clip,defaultClip(s.xScale,s.yScale,this.getMaxOverflow())))}update(o){}draw(){const o=this._ctx,s=this.chart,_=this._cachedMeta,$=_.data||[],_e=s.chartArea,tt=[],j=this._drawStart||0,nt=this._drawCount||$.length-j,st=this.options.drawActiveElementsOnTop;let ht;for(_.dataset&&_.dataset.draw(o,_e,j,nt),ht=j;ht<j+nt;++ht){const _t=$[ht];_t.hidden||(_t.active&&st?tt.push(_t):_t.draw(o,_e))}for(ht=0;ht<tt.length;++ht)tt[ht].draw(o,_e)}getStyle(o,s){const _=s?"active":"default";return o===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_):this.resolveDataElementOptions(o||0,_)}getContext(o,s,_){const $=this.getDataset();let _e;if(o>=0&&o<this._cachedMeta.data.length){const tt=this._cachedMeta.data[o];_e=tt.$context||(tt.$context=createDataContext(this.getContext(),o,tt)),_e.parsed=this.getParsed(o),_e.raw=$.data[o],_e.index=_e.dataIndex=o}else _e=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),_e.dataset=$,_e.index=_e.datasetIndex=this.index;return _e.active=!!s,_e.mode=_,_e}resolveDatasetElementOptions(o){return this._resolveElementOptions(this.datasetElementType.id,o)}resolveDataElementOptions(o,s){return this._resolveElementOptions(this.dataElementType.id,s,o)}_resolveElementOptions(o,s="default",_){const $=s==="active",_e=this._cachedDataOpts,tt=o+"-"+s,j=_e[tt],nt=this.enableOptionSharing&&defined(_);if(j)return cloneIfNotShared(j,nt);const st=this.chart.config,ht=st.datasetElementScopeKeys(this._type,o),_t=$?[`${o}Hover`,"hover",o,""]:[o,""],ft=st.getOptionScopes(this.getDataset(),ht),dt=Object.keys(defaults.elements[o]),ut=()=>this.getContext(_,$,s),mt=st.resolveNamedOptions(ft,dt,ut,_t);return mt.$shared&&(mt.$shared=nt,_e[tt]=Object.freeze(cloneIfNotShared(mt,nt))),mt}_resolveAnimations(o,s,_){const $=this.chart,_e=this._cachedDataOpts,tt=`animation-${s}`,j=_e[tt];if(j)return j;let nt;if($.options.animation!==!1){const ht=this.chart.config,_t=ht.datasetAnimationScopeKeys(this._type,s),ft=ht.getOptionScopes(this.getDataset(),_t);nt=ht.createResolver(ft,this.getContext(o,_,s))}const st=new Animations($,nt&&nt.animations);return nt&&nt._cacheable&&(_e[tt]=Object.freeze(st)),st}getSharedOptions(o){if(o.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},o))}includeOptions(o,s){return!s||isDirectUpdateMode(o)||this.chart._animationsDisabled}_getSharedOptions(o,s){const _=this.resolveDataElementOptions(o,s),$=this._sharedOptions,_e=this.getSharedOptions(_),tt=this.includeOptions(s,_e)||_e!==$;return this.updateSharedOptions(_e,s,_),{sharedOptions:_e,includeOptions:tt}}updateElement(o,s,_,$){isDirectUpdateMode($)?Object.assign(o,_):this._resolveAnimations(s,$).update(o,_)}updateSharedOptions(o,s,_){o&&!isDirectUpdateMode(s)&&this._resolveAnimations(void 0,s).update(o,_)}_setStyle(o,s,_,$){o.active=$;const _e=this.getStyle(s,$);this._resolveAnimations(s,_,$).update(o,{options:!$&&this.getSharedOptions(_e)||_e})}removeHoverStyle(o,s,_){this._setStyle(o,_,"active",!1)}setHoverStyle(o,s,_){this._setStyle(o,_,"active",!0)}_removeDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!1)}_setDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!0)}_resyncElements(o){const s=this._data,_=this._cachedMeta.data;for(const[j,nt,st]of this._syncList)this[j](nt,st);this._syncList=[];const $=_.length,_e=s.length,tt=Math.min(_e,$);tt&&this.parse(0,tt),_e>$?this._insertElements($,_e-$,o):_e<$&&this._removeElements(_e,$-_e)}_insertElements(o,s,_=!0){const $=this._cachedMeta,_e=$.data,tt=o+s;let j;const nt=st=>{for(st.length+=s,j=st.length-1;j>=tt;j--)st[j]=st[j-s]};for(nt(_e),j=o;j<tt;++j)_e[j]=new this.dataElementType;this._parsing&&nt($._parsed),this.parse(o,s),_&&this.updateElements(_e,o,s,"reset")}updateElements(o,s,_,$){}_removeElements(o,s){const _=this._cachedMeta;if(this._parsing){const $=_._parsed.splice(o,s);_._stacked&&clearStacks(_,$)}_.data.splice(o,s)}_sync(o){if(this._parsing)this._syncList.push(o);else{const[s,_,$]=o;this[s](_,$)}this.chart._dataChanges.push([this.index,...o])}_onDataPush(){const o=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-o,o])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(o,s){s&&this._sync(["_removeElements",o,s]);const _=arguments.length-2;_&&this._sync(["_insertElements",o,_])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}__publicField3(DatasetController,"defaults",{});__publicField3(DatasetController,"datasetElementType",null);__publicField3(DatasetController,"dataElementType",null);function getAllScaleValues(i,o){if(!i._cache.$bar){const s=i.getMatchingVisibleMetas(o);let _=[];for(let $=0,_e=s.length;$<_e;$++)_=_.concat(s[$].controller.getAllParsedValues(i));i._cache.$bar=_arrayUnique(_.sort(($,_e)=>$-_e))}return i._cache.$bar}function computeMinSampleSize(i){const o=i.iScale,s=getAllScaleValues(o,i.type);let _=o._length,$,_e,tt,j;const nt=()=>{tt===32767||tt===-32768||(defined(j)&&(_=Math.min(_,Math.abs(tt-j)||_)),j=tt)};for($=0,_e=s.length;$<_e;++$)tt=o.getPixelForValue(s[$]),nt();for(j=void 0,$=0,_e=o.ticks.length;$<_e;++$)tt=o.getPixelForTick($),nt();return _}function computeFitCategoryTraits(i,o,s,_){const $=s.barThickness;let _e,tt;return isNullOrUndef($)?(_e=o.min*s.categoryPercentage,tt=s.barPercentage):(_e=$*_,tt=1),{chunk:_e/_,ratio:tt,start:o.pixels[i]-_e/2}}function computeFlexCategoryTraits(i,o,s,_){const $=o.pixels,_e=$[i];let tt=i>0?$[i-1]:null,j=i<$.length-1?$[i+1]:null;const nt=s.categoryPercentage;tt===null&&(tt=_e-(j===null?o.end-o.start:j-_e)),j===null&&(j=_e+_e-tt);const st=_e-(_e-Math.min(tt,j))/2*nt;return{chunk:Math.abs(j-tt)/2*nt/_,ratio:s.barPercentage,start:st}}function parseFloatBar(i,o,s,_){const $=s.parse(i[0],_),_e=s.parse(i[1],_),tt=Math.min($,_e),j=Math.max($,_e);let nt=tt,st=j;Math.abs(tt)>Math.abs(j)&&(nt=j,st=tt),o[s.axis]=st,o._custom={barStart:nt,barEnd:st,start:$,end:_e,min:tt,max:j}}function parseValue(i,o,s,_){return isArray(i)?parseFloatBar(i,o,s,_):o[s.axis]=s.parse(i,_),o}function parseArrayOrPrimitive(i,o,s,_){const $=i.iScale,_e=i.vScale,tt=$.getLabels(),j=$===_e,nt=[];let st,ht,_t,ft;for(st=s,ht=s+_;st<ht;++st)ft=o[st],_t={},_t[$.axis]=j||$.parse(tt[st],st),nt.push(parseValue(ft,_t,_e,st));return nt}function isFloatBar(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function barSign(i,o,s){return i!==0?sign(i):(o.isHorizontal()?1:-1)*(o.min>=s?1:-1)}function borderProps(i){let o,s,_,$,_e;return i.horizontal?(o=i.base>i.x,s="left",_="right"):(o=i.base<i.y,s="bottom",_="top"),o?($="end",_e="start"):($="start",_e="end"),{start:s,end:_,reverse:o,top:$,bottom:_e}}function setBorderSkipped(i,o,s,_){let $=o.borderSkipped;const _e={};if(!$){i.borderSkipped=_e;return}if($===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:tt,end:j,reverse:nt,top:st,bottom:ht}=borderProps(i);$==="middle"&&s&&(i.enableBorderRadius=!0,(s._top||0)===_?$=st:(s._bottom||0)===_?$=ht:(_e[parseEdge(ht,tt,j,nt)]=!0,$=st)),_e[parseEdge($,tt,j,nt)]=!0,i.borderSkipped=_e}function parseEdge(i,o,s,_){return _?(i=swap(i,o,s),i=startEnd(i,s,o)):i=startEnd(i,o,s),i}function swap(i,o,s){return i===o?s:i===s?o:i}function startEnd(i,o,s){return i==="start"?o:i==="end"?s:i}function setInflateAmount(i,{inflateAmount:o},s){i.inflateAmount=o==="auto"?s===1?.33:0:o}class BarController extends DatasetController{parsePrimitiveData(o,s,_,$){return parseArrayOrPrimitive(o,s,_,$)}parseArrayData(o,s,_,$){return parseArrayOrPrimitive(o,s,_,$)}parseObjectData(o,s,_,$){const{iScale:_e,vScale:tt}=o,{xAxisKey:j="x",yAxisKey:nt="y"}=this._parsing,st=_e.axis==="x"?j:nt,ht=tt.axis==="x"?j:nt,_t=[];let ft,dt,ut,mt;for(ft=_,dt=_+$;ft<dt;++ft)mt=s[ft],ut={},ut[_e.axis]=_e.parse(resolveObjectKey(mt,st),ft),_t.push(parseValue(resolveObjectKey(mt,ht),ut,tt,ft));return _t}updateRangeFromParsed(o,s,_,$){super.updateRangeFromParsed(o,s,_,$);const _e=_._custom;_e&&s===this._cachedMeta.vScale&&(o.min=Math.min(o.min,_e.min),o.max=Math.max(o.max,_e.max))}getMaxOverflow(){return 0}getLabelAndValue(o){const s=this._cachedMeta,{iScale:_,vScale:$}=s,_e=this.getParsed(o),tt=_e._custom,j=isFloatBar(tt)?"["+tt.start+", "+tt.end+"]":""+$.getLabelForValue(_e[$.axis]);return{label:""+_.getLabelForValue(_e[_.axis]),value:j}}initialize(){this.enableOptionSharing=!0,super.initialize();const o=this._cachedMeta;o.stack=this.getDataset().stack}update(o){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,o)}updateElements(o,s,_,$){const _e=$==="reset",{index:tt,_cachedMeta:{vScale:j}}=this,nt=j.getBasePixel(),st=j.isHorizontal(),ht=this._getRuler(),{sharedOptions:_t,includeOptions:ft}=this._getSharedOptions(s,$);for(let dt=s;dt<s+_;dt++){const ut=this.getParsed(dt),mt=_e||isNullOrUndef(ut[j.axis])?{base:nt,head:nt}:this._calculateBarValuePixels(dt),wt=this._calculateBarIndexPixels(dt,ht),Qt=(ut._stacks||{})[j.axis],Dt={horizontal:st,base:mt.base,enableBorderRadius:!Qt||isFloatBar(ut._custom)||tt===Qt._top||tt===Qt._bottom,x:st?mt.head:wt.center,y:st?wt.center:mt.head,height:st?wt.size:Math.abs(mt.size),width:st?Math.abs(mt.size):wt.size};ft&&(Dt.options=_t||this.resolveDataElementOptions(dt,o[dt].active?"active":$));const Et=Dt.options||o[dt].options;setBorderSkipped(Dt,Et,Qt,tt),setInflateAmount(Dt,Et,ht.ratio),this.updateElement(o[dt],dt,Dt,$)}}_getStacks(o,s){const{iScale:_}=this._cachedMeta,$=_.getMatchingVisibleMetas(this._type).filter(nt=>nt.controller.options.grouped),_e=_.options.stacked,tt=[],j=nt=>{const st=nt.controller.getParsed(s),ht=st&&st[nt.vScale.axis];if(isNullOrUndef(ht)||isNaN(ht))return!0};for(const nt of $)if(!(s!==void 0&&j(nt))&&((_e===!1||tt.indexOf(nt.stack)===-1||_e===void 0&&nt.stack===void 0)&&tt.push(nt.stack),nt.index===o))break;return tt.length||tt.push(void 0),tt}_getStackCount(o){return this._getStacks(void 0,o).length}_getStackIndex(o,s,_){const $=this._getStacks(o,_),_e=s!==void 0?$.indexOf(s):-1;return _e===-1?$.length-1:_e}_getRuler(){const o=this.options,s=this._cachedMeta,_=s.iScale,$=[];let _e,tt;for(_e=0,tt=s.data.length;_e<tt;++_e)$.push(_.getPixelForValue(this.getParsed(_e)[_.axis],_e));const j=o.barThickness;return{min:j||computeMinSampleSize(s),pixels:$,start:_._startPixel,end:_._endPixel,stackCount:this._getStackCount(),scale:_,grouped:o.grouped,ratio:j?1:o.categoryPercentage*o.barPercentage}}_calculateBarValuePixels(o){const{_cachedMeta:{vScale:s,_stacked:_,index:$},options:{base:_e,minBarLength:tt}}=this,j=_e||0,nt=this.getParsed(o),st=nt._custom,ht=isFloatBar(st);let _t=nt[s.axis],ft=0,dt=_?this.applyStack(s,nt,_):_t,ut,mt;dt!==_t&&(ft=dt-_t,dt=_t),ht&&(_t=st.barStart,dt=st.barEnd-st.barStart,_t!==0&&sign(_t)!==sign(st.barEnd)&&(ft=0),ft+=_t);const wt=!isNullOrUndef(_e)&&!ht?_e:ft;let Qt=s.getPixelForValue(wt);if(this.chart.getDataVisibility(o)?ut=s.getPixelForValue(ft+dt):ut=Qt,mt=ut-Qt,Math.abs(mt)<tt){mt=barSign(mt,s,j)*tt,_t===j&&(Qt-=mt/2);const Dt=s.getPixelForDecimal(0),Et=s.getPixelForDecimal(1),xt=Math.min(Dt,Et),pt=Math.max(Dt,Et);Qt=Math.max(Math.min(Qt,pt),xt),ut=Qt+mt,_&&!ht&&(nt._stacks[s.axis]._visualValues[$]=s.getValueForPixel(ut)-s.getValueForPixel(Qt))}if(Qt===s.getPixelForValue(j)){const Dt=sign(mt)*s.getLineWidthForValue(j)/2;Qt+=Dt,mt-=Dt}return{size:mt,base:Qt,head:ut,center:ut+mt/2}}_calculateBarIndexPixels(o,s){const _=s.scale,$=this.options,_e=$.skipNull,tt=valueOrDefault($.maxBarThickness,1/0);let j,nt;if(s.grouped){const st=_e?this._getStackCount(o):s.stackCount,ht=$.barThickness==="flex"?computeFlexCategoryTraits(o,s,$,st):computeFitCategoryTraits(o,s,$,st),_t=this._getStackIndex(this.index,this._cachedMeta.stack,_e?o:void 0);j=ht.start+ht.chunk*_t+ht.chunk/2,nt=Math.min(tt,ht.chunk*ht.ratio)}else j=_.getPixelForValue(this.getParsed(o)[_.axis],o),nt=Math.min(tt,s.min*s.ratio);return{base:j-nt/2,head:j+nt/2,center:j,size:nt}}draw(){const o=this._cachedMeta,s=o.vScale,_=o.data,$=_.length;let _e=0;for(;_e<$;++_e)this.getParsed(_e)[s.axis]!==null&&_[_e].draw(this._ctx)}}__publicField3(BarController,"id","bar");__publicField3(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}});__publicField3(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(o,s,_,$){const _e=super.parsePrimitiveData(o,s,_,$);for(let tt=0;tt<_e.length;tt++)_e[tt]._custom=this.resolveDataElementOptions(tt+_).radius;return _e}parseArrayData(o,s,_,$){const _e=super.parseArrayData(o,s,_,$);for(let tt=0;tt<_e.length;tt++){const j=s[_+tt];_e[tt]._custom=valueOrDefault(j[2],this.resolveDataElementOptions(tt+_).radius)}return _e}parseObjectData(o,s,_,$){const _e=super.parseObjectData(o,s,_,$);for(let tt=0;tt<_e.length;tt++){const j=s[_+tt];_e[tt]._custom=valueOrDefault(j&&j.r&&+j.r,this.resolveDataElementOptions(tt+_).radius)}return _e}getMaxOverflow(){const o=this._cachedMeta.data;let s=0;for(let _=o.length-1;_>=0;--_)s=Math.max(s,o[_].size(this.resolveDataElementOptions(_))/2);return s>0&&s}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart.data.labels||[],{xScale:$,yScale:_e}=s,tt=this.getParsed(o),j=$.getLabelForValue(tt.x),nt=_e.getLabelForValue(tt.y),st=tt._custom;return{label:_[o]||"",value:"("+j+", "+nt+(st?", "+st:"")+")"}}update(o){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,o)}updateElements(o,s,_,$){const _e=$==="reset",{iScale:tt,vScale:j}=this._cachedMeta,{sharedOptions:nt,includeOptions:st}=this._getSharedOptions(s,$),ht=tt.axis,_t=j.axis;for(let ft=s;ft<s+_;ft++){const dt=o[ft],ut=!_e&&this.getParsed(ft),mt={},wt=mt[ht]=_e?tt.getPixelForDecimal(.5):tt.getPixelForValue(ut[ht]),Qt=mt[_t]=_e?j.getBasePixel():j.getPixelForValue(ut[_t]);mt.skip=isNaN(wt)||isNaN(Qt),st&&(mt.options=nt||this.resolveDataElementOptions(ft,dt.active?"active":$),_e&&(mt.options.radius=0)),this.updateElement(dt,ft,mt,$)}}resolveDataElementOptions(o,s){const _=this.getParsed(o);let $=super.resolveDataElementOptions(o,s);$.$shared&&($=Object.assign({},$,{$shared:!1}));const _e=$.radius;return s!=="active"&&($.radius=0),$.radius+=valueOrDefault(_&&_._custom,_e),$}}__publicField3(BubbleController,"id","bubble");__publicField3(BubbleController,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}});__publicField3(BubbleController,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function getRatioAndOffset(i,o,s){let _=1,$=1,_e=0,tt=0;if(o<TAU){const j=i,nt=j+o,st=Math.cos(j),ht=Math.sin(j),_t=Math.cos(nt),ft=Math.sin(nt),dt=(Et,xt,pt)=>_angleBetween(Et,j,nt,!0)?1:Math.max(xt,xt*s,pt,pt*s),ut=(Et,xt,pt)=>_angleBetween(Et,j,nt,!0)?-1:Math.min(xt,xt*s,pt,pt*s),mt=dt(0,st,_t),wt=dt(HALF_PI,ht,ft),Qt=ut(PI,st,_t),Dt=ut(PI+HALF_PI,ht,ft);_=(mt-Qt)/2,$=(wt-Dt)/2,_e=-(mt+Qt)/2,tt=-(wt+Dt)/2}return{ratioX:_,ratioY:$,offsetX:_e,offsetY:tt}}class DoughnutController extends DatasetController{constructor(o,s){super(o,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(o,s){const _=this.getDataset().data,$=this._cachedMeta;if(this._parsing===!1)$._parsed=_;else{let _e=nt=>+_[nt];if(isObject(_[o])){const{key:nt="value"}=this._parsing;_e=st=>+resolveObjectKey(_[st],nt)}let tt,j;for(tt=o,j=o+s;tt<j;++tt)$._parsed[tt]=_e(tt)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let o=TAU,s=-TAU;for(let _=0;_<this.chart.data.datasets.length;++_)if(this.chart.isDatasetVisible(_)&&this.chart.getDatasetMeta(_).type===this._type){const $=this.chart.getDatasetMeta(_).controller,_e=$._getRotation(),tt=$._getCircumference();o=Math.min(o,_e),s=Math.max(s,_e+tt)}return{rotation:o,circumference:s-o}}update(o){const s=this.chart,{chartArea:_}=s,$=this._cachedMeta,_e=$.data,tt=this.getMaxBorderWidth()+this.getMaxOffset(_e)+this.options.spacing,j=Math.max((Math.min(_.width,_.height)-tt)/2,0),nt=Math.min(toPercentage(this.options.cutout,j),1),st=this._getRingWeight(this.index),{circumference:ht,rotation:_t}=this._getRotationExtents(),{ratioX:ft,ratioY:dt,offsetX:ut,offsetY:mt}=getRatioAndOffset(_t,ht,nt),wt=(_.width-tt)/ft,Qt=(_.height-tt)/dt,Dt=Math.max(Math.min(wt,Qt)/2,0),Et=toDimension(this.options.radius,Dt),xt=Math.max(Et*nt,0),pt=(Et-xt)/this._getVisibleDatasetWeightTotal();this.offsetX=ut*Et,this.offsetY=mt*Et,$.total=this.calculateTotal(),this.outerRadius=Et-pt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-pt*st,0),this.updateElements(_e,0,_e.length,o)}_circumference(o,s){const _=this.options,$=this._cachedMeta,_e=this._getCircumference();return s&&_.animation.animateRotate||!this.chart.getDataVisibility(o)||$._parsed[o]===null||$.data[o].hidden?0:this.calculateCircumference($._parsed[o]*_e/TAU)}updateElements(o,s,_,$){const _e=$==="reset",tt=this.chart,j=tt.chartArea,st=tt.options.animation,ht=(j.left+j.right)/2,_t=(j.top+j.bottom)/2,ft=_e&&st.animateScale,dt=ft?0:this.innerRadius,ut=ft?0:this.outerRadius,{sharedOptions:mt,includeOptions:wt}=this._getSharedOptions(s,$);let Qt=this._getRotation(),Dt;for(Dt=0;Dt<s;++Dt)Qt+=this._circumference(Dt,_e);for(Dt=s;Dt<s+_;++Dt){const Et=this._circumference(Dt,_e),xt=o[Dt],pt={x:ht+this.offsetX,y:_t+this.offsetY,startAngle:Qt,endAngle:Qt+Et,circumference:Et,outerRadius:ut,innerRadius:dt};wt&&(pt.options=mt||this.resolveDataElementOptions(Dt,xt.active?"active":$)),Qt+=Et,this.updateElement(xt,Dt,pt,$)}}calculateTotal(){const o=this._cachedMeta,s=o.data;let _=0,$;for($=0;$<s.length;$++){const _e=o._parsed[$];_e!==null&&!isNaN(_e)&&this.chart.getDataVisibility($)&&!s[$].hidden&&(_+=Math.abs(_e))}return _}calculateCircumference(o){const s=this._cachedMeta.total;return s>0&&!isNaN(o)?TAU*(Math.abs(o)/s):0}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart,$=_.data.labels||[],_e=formatNumber(s._parsed[o],_.options.locale);return{label:$[o]||"",value:_e}}getMaxBorderWidth(o){let s=0;const _=this.chart;let $,_e,tt,j,nt;if(!o){for($=0,_e=_.data.datasets.length;$<_e;++$)if(_.isDatasetVisible($)){tt=_.getDatasetMeta($),o=tt.data,j=tt.controller;break}}if(!o)return 0;for($=0,_e=o.length;$<_e;++$)nt=j.resolveDataElementOptions($),nt.borderAlign!=="inner"&&(s=Math.max(s,nt.borderWidth||0,nt.hoverBorderWidth||0));return s}getMaxOffset(o){let s=0;for(let _=0,$=o.length;_<$;++_){const _e=this.resolveDataElementOptions(_);s=Math.max(s,_e.offset||0,_e.hoverOffset||0)}return s}_getRingWeightOffset(o){let s=0;for(let _=0;_<o;++_)this.chart.isDatasetVisible(_)&&(s+=this._getRingWeight(_));return s}_getRingWeight(o){return Math.max(valueOrDefault(this.chart.data.datasets[o].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}__publicField3(DoughnutController,"id","doughnut");__publicField3(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"});__publicField3(DoughnutController,"descriptors",{_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"});__publicField3(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const o=i.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:s,color:_}}=i.legend.options;return o.labels.map(($,_e)=>{const j=i.getDatasetMeta(0).controller.getStyle(_e);return{text:$,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:_,lineWidth:j.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(_e),index:_e}})}return[]}},onClick(i,o,s){s.chart.toggleDataVisibility(o.index),s.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(o){const s=this._cachedMeta,{dataset:_,data:$=[],_dataset:_e}=s,tt=this.chart._animationsDisabled;let{start:j,count:nt}=_getStartAndCountOfVisiblePoints(s,$,tt);this._drawStart=j,this._drawCount=nt,_scaleRangesChanged(s)&&(j=0,nt=$.length),_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!_e._decimated,_.points=$;const st=this.resolveDatasetElementOptions(o);this.options.showLine||(st.borderWidth=0),st.segment=this.options.segment,this.updateElement(_,void 0,{animated:!tt,options:st},o),this.updateElements($,j,nt,o)}updateElements(o,s,_,$){const _e=$==="reset",{iScale:tt,vScale:j,_stacked:nt,_dataset:st}=this._cachedMeta,{sharedOptions:ht,includeOptions:_t}=this._getSharedOptions(s,$),ft=tt.axis,dt=j.axis,{spanGaps:ut,segment:mt}=this.options,wt=isNumber(ut)?ut:Number.POSITIVE_INFINITY,Qt=this.chart._animationsDisabled||_e||$==="none",Dt=s+_,Et=o.length;let xt=s>0&&this.getParsed(s-1);for(let pt=0;pt<Et;++pt){const Vt=o[pt],nn=Qt?Vt:{};if(pt<s||pt>=Dt){nn.skip=!0;continue}const on=this.getParsed(pt),bt=isNullOrUndef(on[dt]),St=nn[ft]=tt.getPixelForValue(on[ft],pt),It=nn[dt]=_e||bt?j.getBasePixel():j.getPixelForValue(nt?this.applyStack(j,on,nt):on[dt],pt);nn.skip=isNaN(St)||isNaN(It)||bt,nn.stop=pt>0&&Math.abs(on[ft]-xt[ft])>wt,mt&&(nn.parsed=on,nn.raw=st.data[pt]),_t&&(nn.options=ht||this.resolveDataElementOptions(pt,Vt.active?"active":$)),Qt||this.updateElement(Vt,pt,nn,$),xt=on}}getMaxOverflow(){const o=this._cachedMeta,s=o.dataset,_=s.options&&s.options.borderWidth||0,$=o.data||[];if(!$.length)return _;const _e=$[0].size(this.resolveDataElementOptions(0)),tt=$[$.length-1].size(this.resolveDataElementOptions($.length-1));return Math.max(_,_e,tt)/2}draw(){const o=this._cachedMeta;o.dataset.updateControlPoints(this.chart.chartArea,o.iScale.axis),super.draw()}}__publicField3(LineController,"id","line");__publicField3(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1});__publicField3(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(o,s){super(o,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(o){const s=this._cachedMeta,_=this.chart,$=_.data.labels||[],_e=formatNumber(s._parsed[o].r,_.options.locale);return{label:$[o]||"",value:_e}}parseObjectData(o,s,_,$){return _parseObjectDataRadialScale.bind(this)(o,s,_,$)}update(o){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,o)}getMinMax(){const o=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return o.data.forEach((_,$)=>{const _e=this.getParsed($).r;!isNaN(_e)&&this.chart.getDataVisibility($)&&(_e<s.min&&(s.min=_e),_e>s.max&&(s.max=_e))}),s}_updateRadius(){const o=this.chart,s=o.chartArea,_=o.options,$=Math.min(s.right-s.left,s.bottom-s.top),_e=Math.max($/2,0),tt=Math.max(_.cutoutPercentage?_e/100*_.cutoutPercentage:1,0),j=(_e-tt)/o.getVisibleDatasetCount();this.outerRadius=_e-j*this.index,this.innerRadius=this.outerRadius-j}updateElements(o,s,_,$){const _e=$==="reset",tt=this.chart,nt=tt.options.animation,st=this._cachedMeta.rScale,ht=st.xCenter,_t=st.yCenter,ft=st.getIndexAngle(0)-.5*PI;let dt=ft,ut;const mt=360/this.countVisibleElements();for(ut=0;ut<s;++ut)dt+=this._computeAngle(ut,$,mt);for(ut=s;ut<s+_;ut++){const wt=o[ut];let Qt=dt,Dt=dt+this._computeAngle(ut,$,mt),Et=tt.getDataVisibility(ut)?st.getDistanceFromCenterForValue(this.getParsed(ut).r):0;dt=Dt,_e&&(nt.animateScale&&(Et=0),nt.animateRotate&&(Qt=Dt=ft));const xt={x:ht,y:_t,innerRadius:0,outerRadius:Et,startAngle:Qt,endAngle:Dt,options:this.resolveDataElementOptions(ut,wt.active?"active":$)};this.updateElement(wt,ut,xt,$)}}countVisibleElements(){const o=this._cachedMeta;let s=0;return o.data.forEach((_,$)=>{!isNaN(this.getParsed($).r)&&this.chart.getDataVisibility($)&&s++}),s}_computeAngle(o,s,_){return this.chart.getDataVisibility(o)?toRadians(this.resolveDataElementOptions(o,s).angle||_):0}}__publicField3(PolarAreaController,"id","polarArea");__publicField3(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0});__publicField3(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const o=i.data;if(o.labels.length&&o.datasets.length){const{labels:{pointStyle:s,color:_}}=i.legend.options;return o.labels.map(($,_e)=>{const j=i.getDatasetMeta(0).controller.getStyle(_e);return{text:$,fillStyle:j.backgroundColor,strokeStyle:j.borderColor,fontColor:_,lineWidth:j.borderWidth,pointStyle:s,hidden:!i.getDataVisibility(_e),index:_e}})}return[]}},onClick(i,o,s){s.chart.toggleDataVisibility(o.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}__publicField3(PieController,"id","pie");__publicField3(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class RadarController extends DatasetController{getLabelAndValue(o){const s=this._cachedMeta.vScale,_=this.getParsed(o);return{label:s.getLabels()[o],value:""+s.getLabelForValue(_[s.axis])}}parseObjectData(o,s,_,$){return _parseObjectDataRadialScale.bind(this)(o,s,_,$)}update(o){const s=this._cachedMeta,_=s.dataset,$=s.data||[],_e=s.iScale.getLabels();if(_.points=$,o!=="resize"){const tt=this.resolveDatasetElementOptions(o);this.options.showLine||(tt.borderWidth=0);const j={_loop:!0,_fullLoop:_e.length===$.length,options:tt};this.updateElement(_,void 0,j,o)}this.updateElements($,0,$.length,o)}updateElements(o,s,_,$){const _e=this._cachedMeta.rScale,tt=$==="reset";for(let j=s;j<s+_;j++){const nt=o[j],st=this.resolveDataElementOptions(j,nt.active?"active":$),ht=_e.getPointPositionForValue(j,this.getParsed(j).r),_t=tt?_e.xCenter:ht.x,ft=tt?_e.yCenter:ht.y,dt={x:_t,y:ft,angle:ht.angle,skip:isNaN(_t)||isNaN(ft),options:st};this.updateElement(nt,j,dt,$)}}}__publicField3(RadarController,"id","radar");__publicField3(RadarController,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}});__publicField3(RadarController,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ScatterController extends DatasetController{getLabelAndValue(o){const s=this._cachedMeta,_=this.chart.data.labels||[],{xScale:$,yScale:_e}=s,tt=this.getParsed(o),j=$.getLabelForValue(tt.x),nt=_e.getLabelForValue(tt.y);return{label:_[o]||"",value:"("+j+", "+nt+")"}}update(o){const s=this._cachedMeta,{data:_=[]}=s,$=this.chart._animationsDisabled;let{start:_e,count:tt}=_getStartAndCountOfVisiblePoints(s,_,$);if(this._drawStart=_e,this._drawCount=tt,_scaleRangesChanged(s)&&(_e=0,tt=_.length),this.options.showLine){const{dataset:j,_dataset:nt}=s;j._chart=this.chart,j._datasetIndex=this.index,j._decimated=!!nt._decimated,j.points=_;const st=this.resolveDatasetElementOptions(o);st.segment=this.options.segment,this.updateElement(j,void 0,{animated:!$,options:st},o)}this.updateElements(_,_e,tt,o)}addElements(){const{showLine:o}=this.options;!this.datasetElementType&&o&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(o,s,_,$){const _e=$==="reset",{iScale:tt,vScale:j,_stacked:nt,_dataset:st}=this._cachedMeta,ht=this.resolveDataElementOptions(s,$),_t=this.getSharedOptions(ht),ft=this.includeOptions($,_t),dt=tt.axis,ut=j.axis,{spanGaps:mt,segment:wt}=this.options,Qt=isNumber(mt)?mt:Number.POSITIVE_INFINITY,Dt=this.chart._animationsDisabled||_e||$==="none";let Et=s>0&&this.getParsed(s-1);for(let xt=s;xt<s+_;++xt){const pt=o[xt],Vt=this.getParsed(xt),nn=Dt?pt:{},on=isNullOrUndef(Vt[ut]),bt=nn[dt]=tt.getPixelForValue(Vt[dt],xt),St=nn[ut]=_e||on?j.getBasePixel():j.getPixelForValue(nt?this.applyStack(j,Vt,nt):Vt[ut],xt);nn.skip=isNaN(bt)||isNaN(St)||on,nn.stop=xt>0&&Math.abs(Vt[dt]-Et[dt])>Qt,wt&&(nn.parsed=Vt,nn.raw=st.data[xt]),ft&&(nn.options=_t||this.resolveDataElementOptions(xt,pt.active?"active":$)),Dt||this.updateElement(pt,xt,nn,$),Et=Vt}this.updateSharedOptions(_t,$,ht)}getMaxOverflow(){const o=this._cachedMeta,s=o.data||[];if(!this.options.showLine){let j=0;for(let nt=s.length-1;nt>=0;--nt)j=Math.max(j,s[nt].size(this.resolveDataElementOptions(nt))/2);return j>0&&j}const _=o.dataset,$=_.options&&_.options.borderWidth||0;if(!s.length)return $;const _e=s[0].size(this.resolveDataElementOptions(0)),tt=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max($,_e,tt)/2}}__publicField3(ScatterController,"id","scatter");__publicField3(ScatterController,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1});__publicField3(ScatterController,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(o){Object.assign(DateAdapterBase.prototype,o)}constructor(o){this.options=o||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(i,o,s,_){const{controller:$,data:_e,_sorted:tt}=i,j=$._cachedMeta.iScale;if(j&&o===j.axis&&o!=="r"&&tt&&_e.length){const nt=j._reversePixels?_rlookupByKey:_lookupByKey;if(_){if($._sharedOptions){const st=_e[0],ht=typeof st.getRange=="function"&&st.getRange(o);if(ht){const _t=nt(_e,o,s-ht),ft=nt(_e,o,s+ht);return{lo:_t.lo,hi:ft.hi}}}}else return nt(_e,o,s)}return{lo:0,hi:_e.length-1}}function evaluateInteractionItems(i,o,s,_,$){const _e=i.getSortedVisibleDatasetMetas(),tt=s[o];for(let j=0,nt=_e.length;j<nt;++j){const{index:st,data:ht}=_e[j],{lo:_t,hi:ft}=binarySearch(_e[j],o,tt,$);for(let dt=_t;dt<=ft;++dt){const ut=ht[dt];ut.skip||_(ut,st,dt)}}}function getDistanceMetricForAxis(i){const o=i.indexOf("x")!==-1,s=i.indexOf("y")!==-1;return function(_,$){const _e=o?Math.abs(_.x-$.x):0,tt=s?Math.abs(_.y-$.y):0;return Math.sqrt(Math.pow(_e,2)+Math.pow(tt,2))}}function getIntersectItems(i,o,s,_,$){const _e=[];return!$&&!i.isPointInArea(o)||evaluateInteractionItems(i,s,o,function(j,nt,st){!$&&!_isPointInArea(j,i.chartArea,0)||j.inRange(o.x,o.y,_)&&_e.push({element:j,datasetIndex:nt,index:st})},!0),_e}function getNearestRadialItems(i,o,s,_){let $=[];function _e(tt,j,nt){const{startAngle:st,endAngle:ht}=tt.getProps(["startAngle","endAngle"],_),{angle:_t}=getAngleFromPoint(tt,{x:o.x,y:o.y});_angleBetween(_t,st,ht)&&$.push({element:tt,datasetIndex:j,index:nt})}return evaluateInteractionItems(i,s,o,_e),$}function getNearestCartesianItems(i,o,s,_,$,_e){let tt=[];const j=getDistanceMetricForAxis(s);let nt=Number.POSITIVE_INFINITY;function st(ht,_t,ft){const dt=ht.inRange(o.x,o.y,$);if(_&&!dt)return;const ut=ht.getCenterPoint($);if(!(!!_e||i.isPointInArea(ut))&&!dt)return;const wt=j(o,ut);wt<nt?(tt=[{element:ht,datasetIndex:_t,index:ft}],nt=wt):wt===nt&&tt.push({element:ht,datasetIndex:_t,index:ft})}return evaluateInteractionItems(i,s,o,st),tt}function getNearestItems(i,o,s,_,$,_e){return!_e&&!i.isPointInArea(o)?[]:s==="r"&&!_?getNearestRadialItems(i,o,s,$):getNearestCartesianItems(i,o,s,_,$,_e)}function getAxisItems(i,o,s,_,$){const _e=[],tt=s==="x"?"inXRange":"inYRange";let j=!1;return evaluateInteractionItems(i,s,o,(nt,st,ht)=>{nt[tt](o[s],$)&&(_e.push({element:nt,datasetIndex:st,index:ht}),j=j||nt.inRange(o.x,o.y,$))}),_&&!j?[]:_e}var Interaction={evaluateInteractionItems,modes:{index(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"x",tt=s.includeInvisible||!1,j=s.intersect?getIntersectItems(i,$,_e,_,tt):getNearestItems(i,$,_e,!1,_,tt),nt=[];return j.length?(i.getSortedVisibleDatasetMetas().forEach(st=>{const ht=j[0].index,_t=st.data[ht];_t&&!_t.skip&&nt.push({element:_t,datasetIndex:st.index,index:ht})}),nt):[]},dataset(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"xy",tt=s.includeInvisible||!1;let j=s.intersect?getIntersectItems(i,$,_e,_,tt):getNearestItems(i,$,_e,!1,_,tt);if(j.length>0){const nt=j[0].datasetIndex,st=i.getDatasetMeta(nt).data;j=[];for(let ht=0;ht<st.length;++ht)j.push({element:st[ht],datasetIndex:nt,index:ht})}return j},point(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"xy",tt=s.includeInvisible||!1;return getIntersectItems(i,$,_e,_,tt)},nearest(i,o,s,_){const $=getRelativePosition(o,i),_e=s.axis||"xy",tt=s.includeInvisible||!1;return getNearestItems(i,$,_e,s.intersect,_,tt)},x(i,o,s,_){const $=getRelativePosition(o,i);return getAxisItems(i,$,"x",s.intersect,_)},y(i,o,s,_){const $=getRelativePosition(o,i);return getAxisItems(i,$,"y",s.intersect,_)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(i,o){return i.filter(s=>s.pos===o)}function filterDynamicPositionByAxis(i,o){return i.filter(s=>STATIC_POSITIONS.indexOf(s.pos)===-1&&s.box.axis===o)}function sortByWeight(i,o){return i.sort((s,_)=>{const $=o?_:s,_e=o?s:_;return $.weight===_e.weight?$.index-_e.index:$.weight-_e.weight})}function wrapBoxes(i){const o=[];let s,_,$,_e,tt,j;for(s=0,_=(i||[]).length;s<_;++s)$=i[s],{position:_e,options:{stack:tt,stackWeight:j=1}}=$,o.push({index:s,box:$,pos:_e,horizontal:$.isHorizontal(),weight:$.weight,stack:tt&&_e+tt,stackWeight:j});return o}function buildStacks(i){const o={};for(const s of i){const{stack:_,pos:$,stackWeight:_e}=s;if(!_||!STATIC_POSITIONS.includes($))continue;const tt=o[_]||(o[_]={count:0,placed:0,weight:0,size:0});tt.count++,tt.weight+=_e}return o}function setLayoutDims(i,o){const s=buildStacks(i),{vBoxMaxWidth:_,hBoxMaxHeight:$}=o;let _e,tt,j;for(_e=0,tt=i.length;_e<tt;++_e){j=i[_e];const{fullSize:nt}=j.box,st=s[j.stack],ht=st&&j.stackWeight/st.weight;j.horizontal?(j.width=ht?ht*_:nt&&o.availableWidth,j.height=$):(j.width=_,j.height=ht?ht*$:nt&&o.availableHeight)}return s}function buildLayoutBoxes(i){const o=wrapBoxes(i),s=sortByWeight(o.filter(st=>st.box.fullSize),!0),_=sortByWeight(filterByPosition(o,"left"),!0),$=sortByWeight(filterByPosition(o,"right")),_e=sortByWeight(filterByPosition(o,"top"),!0),tt=sortByWeight(filterByPosition(o,"bottom")),j=filterDynamicPositionByAxis(o,"x"),nt=filterDynamicPositionByAxis(o,"y");return{fullSize:s,leftAndTop:_.concat(_e),rightAndBottom:$.concat(nt).concat(tt).concat(j),chartArea:filterByPosition(o,"chartArea"),vertical:_.concat($).concat(nt),horizontal:_e.concat(tt).concat(j)}}function getCombinedMax(i,o,s,_){return Math.max(i[s],o[s])+Math.max(i[_],o[_])}function updateMaxPadding(i,o){i.top=Math.max(i.top,o.top),i.left=Math.max(i.left,o.left),i.bottom=Math.max(i.bottom,o.bottom),i.right=Math.max(i.right,o.right)}function updateDims(i,o,s,_){const{pos:$,box:_e}=s,tt=i.maxPadding;if(!isObject($)){s.size&&(i[$]-=s.size);const _t=_[s.stack]||{size:0,count:1};_t.size=Math.max(_t.size,s.horizontal?_e.height:_e.width),s.size=_t.size/_t.count,i[$]+=s.size}_e.getPadding&&updateMaxPadding(tt,_e.getPadding());const j=Math.max(0,o.outerWidth-getCombinedMax(tt,i,"left","right")),nt=Math.max(0,o.outerHeight-getCombinedMax(tt,i,"top","bottom")),st=j!==i.w,ht=nt!==i.h;return i.w=j,i.h=nt,s.horizontal?{same:st,other:ht}:{same:ht,other:st}}function handleMaxPadding(i){const o=i.maxPadding;function s(_){const $=Math.max(o[_]-i[_],0);return i[_]+=$,$}i.y+=s("top"),i.x+=s("left"),s("right"),s("bottom")}function getMargins(i,o){const s=o.maxPadding;function _($){const _e={left:0,top:0,right:0,bottom:0};return $.forEach(tt=>{_e[tt]=Math.max(o[tt],s[tt])}),_e}return _(i?["left","right"]:["top","bottom"])}function fitBoxes(i,o,s,_){const $=[];let _e,tt,j,nt,st,ht;for(_e=0,tt=i.length,st=0;_e<tt;++_e){j=i[_e],nt=j.box,nt.update(j.width||o.w,j.height||o.h,getMargins(j.horizontal,o));const{same:_t,other:ft}=updateDims(o,s,j,_);st|=_t&&$.length,ht=ht||ft,nt.fullSize||$.push(j)}return st&&fitBoxes($,o,s,_)||ht}function setBoxDims(i,o,s,_,$){i.top=s,i.left=o,i.right=o+_,i.bottom=s+$,i.width=_,i.height=$}function placeBoxes(i,o,s,_){const $=s.padding;let{x:_e,y:tt}=o;for(const j of i){const nt=j.box,st=_[j.stack]||{count:1,placed:0,weight:1},ht=j.stackWeight/st.weight||1;if(j.horizontal){const _t=o.w*ht,ft=st.size||nt.height;defined(st.start)&&(tt=st.start),nt.fullSize?setBoxDims(nt,$.left,tt,s.outerWidth-$.right-$.left,ft):setBoxDims(nt,o.left+st.placed,tt,_t,ft),st.start=tt,st.placed+=_t,tt=nt.bottom}else{const _t=o.h*ht,ft=st.size||nt.width;defined(st.start)&&(_e=st.start),nt.fullSize?setBoxDims(nt,_e,$.top,ft,s.outerHeight-$.bottom-$.top):setBoxDims(nt,_e,o.top+st.placed,ft,_t),st.start=_e,st.placed+=_t,_e=nt.right}}o.x=_e,o.y=tt}var layouts={addBox(i,o){i.boxes||(i.boxes=[]),o.fullSize=o.fullSize||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw(s){o.draw(s)}}]},i.boxes.push(o)},removeBox(i,o){const s=i.boxes?i.boxes.indexOf(o):-1;s!==-1&&i.boxes.splice(s,1)},configure(i,o,s){o.fullSize=s.fullSize,o.position=s.position,o.weight=s.weight},update(i,o,s,_){if(!i)return;const $=toPadding(i.options.layout.padding),_e=Math.max(o-$.width,0),tt=Math.max(s-$.height,0),j=buildLayoutBoxes(i.boxes),nt=j.vertical,st=j.horizontal;each(i.boxes,mt=>{typeof mt.beforeLayout=="function"&&mt.beforeLayout()});const ht=nt.reduce((mt,wt)=>wt.box.options&&wt.box.options.display===!1?mt:mt+1,0)||1,_t=Object.freeze({outerWidth:o,outerHeight:s,padding:$,availableWidth:_e,availableHeight:tt,vBoxMaxWidth:_e/2/ht,hBoxMaxHeight:tt/2}),ft=Object.assign({},$);updateMaxPadding(ft,toPadding(_));const dt=Object.assign({maxPadding:ft,w:_e,h:tt,x:$.left,y:$.top},$),ut=setLayoutDims(nt.concat(st),_t);fitBoxes(j.fullSize,dt,_t,ut),fitBoxes(nt,dt,_t,ut),fitBoxes(st,dt,_t,ut)&&fitBoxes(nt,dt,_t,ut),handleMaxPadding(dt),placeBoxes(j.leftAndTop,dt,_t,ut),dt.x+=dt.w,dt.y+=dt.h,placeBoxes(j.rightAndBottom,dt,_t,ut),i.chartArea={left:dt.left,top:dt.top,right:dt.left+dt.w,bottom:dt.top+dt.h,height:dt.h,width:dt.w},each(j.chartArea,mt=>{const wt=mt.box;Object.assign(wt,i.chartArea),wt.update(dt.w,dt.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(o,s){}releaseContext(o){return!1}addEventListener(o,s,_){}removeEventListener(o,s,_){}getDevicePixelRatio(){return 1}getMaximumSize(o,s,_,$){return s=Math.max(0,s||o.width),_=_||o.height,{width:s,height:Math.max(0,$?Math.floor(s/$):_)}}isAttached(o){return!0}updateConfig(o){}}class BasicPlatform extends BasePlatform{acquireContext(o){return o&&o.getContext&&o.getContext("2d")||null}updateConfig(o){o.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=i=>i===null||i==="";function initCanvas(i,o){const s=i.style,_=i.getAttribute("height"),$=i.getAttribute("width");if(i[EXPANDO_KEY]={initial:{height:_,width:$,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",isNullOrEmpty($)){const _e=readUsedSize(i,"width");_e!==void 0&&(i.width=_e)}if(isNullOrEmpty(_))if(i.style.height==="")i.height=i.width/(o||2);else{const _e=readUsedSize(i,"height");_e!==void 0&&(i.height=_e)}return i}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(i,o,s){i.addEventListener(o,s,eventListenerOptions)}function removeListener(i,o,s){i.canvas.removeEventListener(o,s,eventListenerOptions)}function fromNativeEvent(i,o){const s=EVENT_TYPES[i.type]||i.type,{x:_,y:$}=getRelativePosition(i,o);return{type:s,chart:o,native:i,x:_!==void 0?_:null,y:$!==void 0?$:null}}function nodeListContains(i,o){for(const s of i)if(s===o||s.contains(o))return!0}function createAttachObserver(i,o,s){const _=i.canvas,$=new MutationObserver(_e=>{let tt=!1;for(const j of _e)tt=tt||nodeListContains(j.addedNodes,_),tt=tt&&!nodeListContains(j.removedNodes,_);tt&&s()});return $.observe(document,{childList:!0,subtree:!0}),$}function createDetachObserver(i,o,s){const _=i.canvas,$=new MutationObserver(_e=>{let tt=!1;for(const j of _e)tt=tt||nodeListContains(j.removedNodes,_),tt=tt&&!nodeListContains(j.addedNodes,_);tt&&s()});return $.observe(document,{childList:!0,subtree:!0}),$}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const i=window.devicePixelRatio;i!==oldDevicePixelRatio&&(oldDevicePixelRatio=i,drpListeningCharts.forEach((o,s)=>{s.currentDevicePixelRatio!==i&&o()}))}function listenDevicePixelRatioChanges(i,o){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(i,o)}function unlistenDevicePixelRatioChanges(i){drpListeningCharts.delete(i),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(i,o,s){const _=i.canvas,$=_&&_getParentNode(_);if(!$)return;const _e=throttled((j,nt)=>{const st=$.clientWidth;s(j,nt),st<$.clientWidth&&s()},window),tt=new ResizeObserver(j=>{const nt=j[0],st=nt.contentRect.width,ht=nt.contentRect.height;st===0&&ht===0||_e(st,ht)});return tt.observe($),listenDevicePixelRatioChanges(i,_e),tt}function releaseObserver(i,o,s){s&&s.disconnect(),o==="resize"&&unlistenDevicePixelRatioChanges(i)}function createProxyAndListen(i,o,s){const _=i.canvas,$=throttled(_e=>{i.ctx!==null&&s(fromNativeEvent(_e,i))},i);return addListener(_,o,$),$}class DomPlatform extends BasePlatform{acquireContext(o,s){const _=o&&o.getContext&&o.getContext("2d");return _&&_.canvas===o?(initCanvas(o,s),_):null}releaseContext(o){const s=o.canvas;if(!s[EXPANDO_KEY])return!1;const _=s[EXPANDO_KEY].initial;["height","width"].forEach(_e=>{const tt=_[_e];isNullOrUndef(tt)?s.removeAttribute(_e):s.setAttribute(_e,tt)});const $=_.style||{};return Object.keys($).forEach(_e=>{s.style[_e]=$[_e]}),s.width=s.width,delete s[EXPANDO_KEY],!0}addEventListener(o,s,_){this.removeEventListener(o,s);const $=o.$proxies||(o.$proxies={}),tt={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[s]||createProxyAndListen;$[s]=tt(o,s,_)}removeEventListener(o,s){const _=o.$proxies||(o.$proxies={}),$=_[s];if(!$)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[s]||removeListener)(o,s,$),_[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(o,s,_,$){return getMaximumSize(o,s,_,$)}isAttached(o){const s=_getParentNode(o);return!!(s&&s.isConnected)}}function _detectPlatform(i){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){__publicField3(this,"active",!1)}tooltipPosition(o){const{x:s,y:_}=this.getProps(["x","y"],o);return{x:s,y:_}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(o,s){const _=this.$animations;if(!s||!_)return this;const $={};return o.forEach(_e=>{$[_e]=_[_e]&&_[_e].active()?_[_e]._to:this[_e]}),$}}__publicField3(Element,"defaults",{});__publicField3(Element,"defaultRoutes");function autoSkip(i,o){const s=i.options.ticks,_=determineMaxTicks(i),$=Math.min(s.maxTicksLimit||_,_),_e=s.major.enabled?getMajorIndices(o):[],tt=_e.length,j=_e[0],nt=_e[tt-1],st=[];if(tt>$)return skipMajors(o,st,_e,tt/$),st;const ht=calculateSpacing(_e,o,$);if(tt>0){let _t,ft;const dt=tt>1?Math.round((nt-j)/(tt-1)):null;for(skip(o,st,ht,isNullOrUndef(dt)?0:j-dt,j),_t=0,ft=tt-1;_t<ft;_t++)skip(o,st,ht,_e[_t],_e[_t+1]);return skip(o,st,ht,nt,isNullOrUndef(dt)?o.length:nt+dt),st}return skip(o,st,ht),st}function determineMaxTicks(i){const o=i.options.offset,s=i._tickSize(),_=i._length/s+(o?0:1),$=i._maxLength/s;return Math.floor(Math.min(_,$))}function calculateSpacing(i,o,s){const _=getEvenSpacing(i),$=o.length/s;if(!_)return Math.max($,1);const _e=_factorize(_);for(let tt=0,j=_e.length-1;tt<j;tt++){const nt=_e[tt];if(nt>$)return nt}return Math.max($,1)}function getMajorIndices(i){const o=[];let s,_;for(s=0,_=i.length;s<_;s++)i[s].major&&o.push(s);return o}function skipMajors(i,o,s,_){let $=0,_e=s[0],tt;for(_=Math.ceil(_),tt=0;tt<i.length;tt++)tt===_e&&(o.push(i[tt]),$++,_e=s[$*_])}function skip(i,o,s,_,$){const _e=valueOrDefault(_,0),tt=Math.min(valueOrDefault($,i.length),i.length);let j=0,nt,st,ht;for(s=Math.ceil(s),$&&(nt=$-_,s=nt/Math.floor(nt/s)),ht=_e;ht<0;)j++,ht=Math.round(_e+j*s);for(st=Math.max(_e,0);st<tt;st++)st===ht&&(o.push(i[st]),j++,ht=Math.round(_e+j*s))}function getEvenSpacing(i){const o=i.length;let s,_;if(o<2)return!1;for(_=i[0],s=1;s<o;++s)if(i[s]-i[s-1]!==_)return!1;return _}const reverseAlign=i=>i==="left"?"right":i==="right"?"left":i,offsetFromEdge=(i,o,s)=>o==="top"||o==="left"?i[o]+s:i[o]-s;function sample(i,o){const s=[],_=i.length/o,$=i.length;let _e=0;for(;_e<$;_e+=_)s.push(i[Math.floor(_e)]);return s}function getPixelForGridLine(i,o,s){const _=i.ticks.length,$=Math.min(o,_-1),_e=i._startPixel,tt=i._endPixel,j=1e-6;let nt=i.getPixelForTick($),st;if(!(s&&(_===1?st=Math.max(nt-_e,tt-nt):o===0?st=(i.getPixelForTick(1)-nt)/2:st=(nt-i.getPixelForTick($-1))/2,nt+=$<o?st:-st,nt<_e-j||nt>tt+j)))return nt}function garbageCollect(i,o){each(i,s=>{const _=s.gc,$=_.length/2;let _e;if($>o){for(_e=0;_e<$;++_e)delete s.data[_[_e]];_.splice(0,$)}})}function getTickMarkLength(i){return i.drawTicks?i.tickLength:0}function getTitleHeight(i,o){if(!i.display)return 0;const s=toFont(i.font,o),_=toPadding(i.padding);return(isArray(i.text)?i.text.length:1)*s.lineHeight+_.height}function createScaleContext(i,o){return createContext(i,{scale:o,type:"scale"})}function createTickContext(i,o,s){return createContext(i,{tick:s,index:o,type:"tick"})}function titleAlign(i,o,s){let _=_toLeftRightCenter(i);return(s&&o!=="right"||!s&&o==="right")&&(_=reverseAlign(_)),_}function titleArgs(i,o,s,_){const{top:$,left:_e,bottom:tt,right:j,chart:nt}=i,{chartArea:st,scales:ht}=nt;let _t=0,ft,dt,ut;const mt=tt-$,wt=j-_e;if(i.isHorizontal()){if(dt=_alignStartEnd(_,_e,j),isObject(s)){const Qt=Object.keys(s)[0],Dt=s[Qt];ut=ht[Qt].getPixelForValue(Dt)+mt-o}else s==="center"?ut=(st.bottom+st.top)/2+mt-o:ut=offsetFromEdge(i,s,o);ft=j-_e}else{if(isObject(s)){const Qt=Object.keys(s)[0],Dt=s[Qt];dt=ht[Qt].getPixelForValue(Dt)-wt+o}else s==="center"?dt=(st.left+st.right)/2-wt+o:dt=offsetFromEdge(i,s,o);ut=_alignStartEnd(_,tt,$),_t=s==="left"?-HALF_PI:HALF_PI}return{titleX:dt,titleY:ut,maxWidth:ft,rotation:_t}}class Scale extends Element{constructor(o){super(),this.id=o.id,this.type=o.type,this.options=void 0,this.ctx=o.ctx,this.chart=o.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(o){this.options=o.setContext(this.getContext()),this.axis=o.axis,this._userMin=this.parse(o.min),this._userMax=this.parse(o.max),this._suggestedMin=this.parse(o.suggestedMin),this._suggestedMax=this.parse(o.suggestedMax)}parse(o,s){return o}getUserBounds(){let{_userMin:o,_userMax:s,_suggestedMin:_,_suggestedMax:$}=this;return o=finiteOrDefault(o,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),_=finiteOrDefault(_,Number.POSITIVE_INFINITY),$=finiteOrDefault($,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(o,_),max:finiteOrDefault(s,$),minDefined:isNumberFinite(o),maxDefined:isNumberFinite(s)}}getMinMax(o){let{min:s,max:_,minDefined:$,maxDefined:_e}=this.getUserBounds(),tt;if($&&_e)return{min:s,max:_};const j=this.getMatchingVisibleMetas();for(let nt=0,st=j.length;nt<st;++nt)tt=j[nt].controller.getMinMax(this,o),$||(s=Math.min(s,tt.min)),_e||(_=Math.max(_,tt.max));return s=_e&&s>_?_:s,_=$&&s>_?s:_,{min:finiteOrDefault(s,finiteOrDefault(_,s)),max:finiteOrDefault(_,finiteOrDefault(s,_))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]}getLabelItems(o=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(o))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(o,s,_){const{beginAtZero:$,grace:_e,ticks:tt}=this.options,j=tt.sampleSize;this.beforeUpdate(),this.maxWidth=o,this.maxHeight=s,this._margins=_=Object.assign({left:0,right:0,top:0,bottom:0},_),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_.left+_.right:this.height+_.top+_.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,_e,$),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const nt=j<this.ticks.length;this._convertTicksToLabels(nt?sample(this.ticks,j):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),tt.display&&(tt.autoSkip||tt.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),nt&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let o=this.options.reverse,s,_;this.isHorizontal()?(s=this.left,_=this.right):(s=this.top,_=this.bottom,o=!o),this._startPixel=s,this._endPixel=_,this._reversePixels=o,this._length=_-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(o){this.chart.notifyPlugins(o,this.getContext()),callback(this.options[o],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(o){const s=this.options.ticks;let _,$,_e;for(_=0,$=o.length;_<$;_++)_e=o[_],_e.label=callback(s.callback,[_e.value,_,o],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const o=this.options,s=o.ticks,_=this.ticks.length,$=s.minRotation||0,_e=s.maxRotation;let tt=$,j,nt,st;if(!this._isVisible()||!s.display||$>=_e||_<=1||!this.isHorizontal()){this.labelRotation=$;return}const ht=this._getLabelSizes(),_t=ht.widest.width,ft=ht.highest.height,dt=_limitValue(this.chart.width-_t,0,this.maxWidth);j=o.offset?this.maxWidth/_:dt/(_-1),_t+6>j&&(j=dt/(_-(o.offset?.5:1)),nt=this.maxHeight-getTickMarkLength(o.grid)-s.padding-getTitleHeight(o.title,this.chart.options.font),st=Math.sqrt(_t*_t+ft*ft),tt=toDegrees(Math.min(Math.asin(_limitValue((ht.highest.height+6)/j,-1,1)),Math.asin(_limitValue(nt/st,-1,1))-Math.asin(_limitValue(ft/st,-1,1)))),tt=Math.max($,Math.min(_e,tt))),this.labelRotation=tt}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const o={width:0,height:0},{chart:s,options:{ticks:_,title:$,grid:_e}}=this,tt=this._isVisible(),j=this.isHorizontal();if(tt){const nt=getTitleHeight($,s.options.font);if(j?(o.width=this.maxWidth,o.height=getTickMarkLength(_e)+nt):(o.height=this.maxHeight,o.width=getTickMarkLength(_e)+nt),_.display&&this.ticks.length){const{first:st,last:ht,widest:_t,highest:ft}=this._getLabelSizes(),dt=_.padding*2,ut=toRadians(this.labelRotation),mt=Math.cos(ut),wt=Math.sin(ut);if(j){const Qt=_.mirror?0:wt*_t.width+mt*ft.height;o.height=Math.min(this.maxHeight,o.height+Qt+dt)}else{const Qt=_.mirror?0:mt*_t.width+wt*ft.height;o.width=Math.min(this.maxWidth,o.width+Qt+dt)}this._calculatePadding(st,ht,wt,mt)}}this._handleMargins(),j?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=o.height):(this.width=o.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(o,s,_,$){const{ticks:{align:_e,padding:tt},position:j}=this.options,nt=this.labelRotation!==0,st=j!=="top"&&this.axis==="x";if(this.isHorizontal()){const ht=this.getPixelForTick(0)-this.left,_t=this.right-this.getPixelForTick(this.ticks.length-1);let ft=0,dt=0;nt?st?(ft=$*o.width,dt=_*s.height):(ft=_*o.height,dt=$*s.width):_e==="start"?dt=s.width:_e==="end"?ft=o.width:_e!=="inner"&&(ft=o.width/2,dt=s.width/2),this.paddingLeft=Math.max((ft-ht+tt)*this.width/(this.width-ht),0),this.paddingRight=Math.max((dt-_t+tt)*this.width/(this.width-_t),0)}else{let ht=s.height/2,_t=o.height/2;_e==="start"?(ht=0,_t=o.height):_e==="end"&&(ht=s.height,_t=0),this.paddingTop=ht+tt,this.paddingBottom=_t+tt}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:o,position:s}=this.options;return s==="top"||s==="bottom"||o==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(o){this.beforeTickToLabelConversion(),this.generateTickLabels(o);let s,_;for(s=0,_=o.length;s<_;s++)isNullOrUndef(o[s].label)&&(o.splice(s,1),_--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let o=this._labelSizes;if(!o){const s=this.options.ticks.sampleSize;let _=this.ticks;s<_.length&&(_=sample(_,s)),this._labelSizes=o=this._computeLabelSizes(_,_.length)}return o}_computeLabelSizes(o,s){const{ctx:_,_longestTextCache:$}=this,_e=[],tt=[];let j=0,nt=0,st,ht,_t,ft,dt,ut,mt,wt,Qt,Dt,Et;for(st=0;st<s;++st){if(ft=o[st].label,dt=this._resolveTickFontOptions(st),_.font=ut=dt.string,mt=$[ut]=$[ut]||{data:{},gc:[]},wt=dt.lineHeight,Qt=Dt=0,!isNullOrUndef(ft)&&!isArray(ft))Qt=_measureText(_,mt.data,mt.gc,Qt,ft),Dt=wt;else if(isArray(ft))for(ht=0,_t=ft.length;ht<_t;++ht)Et=ft[ht],!isNullOrUndef(Et)&&!isArray(Et)&&(Qt=_measureText(_,mt.data,mt.gc,Qt,Et),Dt+=wt);_e.push(Qt),tt.push(Dt),j=Math.max(Qt,j),nt=Math.max(Dt,nt)}garbageCollect($,s);const xt=_e.indexOf(j),pt=tt.indexOf(nt),Vt=nn=>({width:_e[nn]||0,height:tt[nn]||0});return{first:Vt(0),last:Vt(s-1),widest:Vt(xt),highest:Vt(pt),widths:_e,heights:tt}}getLabelForValue(o){return o}getPixelForValue(o,s){return NaN}getValueForPixel(o){}getPixelForTick(o){const s=this.ticks;return o<0||o>s.length-1?null:this.getPixelForValue(s[o].value)}getPixelForDecimal(o){this._reversePixels&&(o=1-o);const s=this._startPixel+o*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,s,0):s)}getDecimalForPixel(o){const s=(o-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:o,max:s}=this;return o<0&&s<0?s:o>0&&s>0?o:0}getContext(o){const s=this.ticks||[];if(o>=0&&o<s.length){const _=s[o];return _.$context||(_.$context=createTickContext(this.getContext(),o,_))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const o=this.options.ticks,s=toRadians(this.labelRotation),_=Math.abs(Math.cos(s)),$=Math.abs(Math.sin(s)),_e=this._getLabelSizes(),tt=o.autoSkipPadding||0,j=_e?_e.widest.width+tt:0,nt=_e?_e.highest.height+tt:0;return this.isHorizontal()?nt*_>j*$?j/_:nt/$:nt*$<j*_?nt/_:j/$}_isVisible(){const o=this.options.display;return o!=="auto"?!!o:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(o){const s=this.axis,_=this.chart,$=this.options,{grid:_e,position:tt,border:j}=$,nt=_e.offset,st=this.isHorizontal(),_t=this.ticks.length+(nt?1:0),ft=getTickMarkLength(_e),dt=[],ut=j.setContext(this.getContext()),mt=ut.display?ut.width:0,wt=mt/2,Qt=function(Pt){return _alignPixel(_,Pt,mt)};let Dt,Et,xt,pt,Vt,nn,on,bt,St,It,Bt,Lt;if(tt==="top")Dt=Qt(this.bottom),nn=this.bottom-ft,bt=Dt-wt,It=Qt(o.top)+wt,Lt=o.bottom;else if(tt==="bottom")Dt=Qt(this.top),It=o.top,Lt=Qt(o.bottom)-wt,nn=Dt+wt,bt=this.top+ft;else if(tt==="left")Dt=Qt(this.right),Vt=this.right-ft,on=Dt-wt,St=Qt(o.left)+wt,Bt=o.right;else if(tt==="right")Dt=Qt(this.left),St=o.left,Bt=Qt(o.right)-wt,Vt=Dt+wt,on=this.left+ft;else if(s==="x"){if(tt==="center")Dt=Qt((o.top+o.bottom)/2+.5);else if(isObject(tt)){const Pt=Object.keys(tt)[0],jt=tt[Pt];Dt=Qt(this.chart.scales[Pt].getPixelForValue(jt))}It=o.top,Lt=o.bottom,nn=Dt+wt,bt=nn+ft}else if(s==="y"){if(tt==="center")Dt=Qt((o.left+o.right)/2);else if(isObject(tt)){const Pt=Object.keys(tt)[0],jt=tt[Pt];Dt=Qt(this.chart.scales[Pt].getPixelForValue(jt))}Vt=Dt-wt,on=Vt-ft,St=o.left,Bt=o.right}const Xt=valueOrDefault($.ticks.maxTicksLimit,_t),zt=Math.max(1,Math.ceil(_t/Xt));for(Et=0;Et<_t;Et+=zt){const Pt=this.getContext(Et),jt=_e.setContext(Pt),Zt=j.setContext(Pt),Ct=jt.lineWidth,Ft=jt.color,Ht=Zt.dash||[],tn=Zt.dashOffset,mn=jt.tickWidth,yn=jt.tickColor,vn=jt.tickBorderDash||[],un=jt.tickBorderDashOffset;xt=getPixelForGridLine(this,Et,nt),xt!==void 0&&(pt=_alignPixel(_,xt,Ct),st?Vt=on=St=Bt=pt:nn=bt=It=Lt=pt,dt.push({tx1:Vt,ty1:nn,tx2:on,ty2:bt,x1:St,y1:It,x2:Bt,y2:Lt,width:Ct,color:Ft,borderDash:Ht,borderDashOffset:tn,tickWidth:mn,tickColor:yn,tickBorderDash:vn,tickBorderDashOffset:un}))}return this._ticksLength=_t,this._borderValue=Dt,dt}_computeLabelItems(o){const s=this.axis,_=this.options,{position:$,ticks:_e}=_,tt=this.isHorizontal(),j=this.ticks,{align:nt,crossAlign:st,padding:ht,mirror:_t}=_e,ft=getTickMarkLength(_.grid),dt=ft+ht,ut=_t?-ht:dt,mt=-toRadians(this.labelRotation),wt=[];let Qt,Dt,Et,xt,pt,Vt,nn,on,bt,St,It,Bt,Lt="middle";if($==="top")Vt=this.bottom-ut,nn=this._getXAxisLabelAlignment();else if($==="bottom")Vt=this.top+ut,nn=this._getXAxisLabelAlignment();else if($==="left"){const zt=this._getYAxisLabelAlignment(ft);nn=zt.textAlign,pt=zt.x}else if($==="right"){const zt=this._getYAxisLabelAlignment(ft);nn=zt.textAlign,pt=zt.x}else if(s==="x"){if($==="center")Vt=(o.top+o.bottom)/2+dt;else if(isObject($)){const zt=Object.keys($)[0],Pt=$[zt];Vt=this.chart.scales[zt].getPixelForValue(Pt)+dt}nn=this._getXAxisLabelAlignment()}else if(s==="y"){if($==="center")pt=(o.left+o.right)/2-dt;else if(isObject($)){const zt=Object.keys($)[0],Pt=$[zt];pt=this.chart.scales[zt].getPixelForValue(Pt)}nn=this._getYAxisLabelAlignment(ft).textAlign}s==="y"&&(nt==="start"?Lt="top":nt==="end"&&(Lt="bottom"));const Xt=this._getLabelSizes();for(Qt=0,Dt=j.length;Qt<Dt;++Qt){Et=j[Qt],xt=Et.label;const zt=_e.setContext(this.getContext(Qt));on=this.getPixelForTick(Qt)+_e.labelOffset,bt=this._resolveTickFontOptions(Qt),St=bt.lineHeight,It=isArray(xt)?xt.length:1;const Pt=It/2,jt=zt.color,Zt=zt.textStrokeColor,Ct=zt.textStrokeWidth;let Ft=nn;tt?(pt=on,nn==="inner"&&(Qt===Dt-1?Ft=this.options.reverse?"left":"right":Qt===0?Ft=this.options.reverse?"right":"left":Ft="center"),$==="top"?st==="near"||mt!==0?Bt=-It*St+St/2:st==="center"?Bt=-Xt.highest.height/2-Pt*St+St:Bt=-Xt.highest.height+St/2:st==="near"||mt!==0?Bt=St/2:st==="center"?Bt=Xt.highest.height/2-Pt*St:Bt=Xt.highest.height-It*St,_t&&(Bt*=-1),mt!==0&&!zt.showLabelBackdrop&&(pt+=St/2*Math.sin(mt))):(Vt=on,Bt=(1-It)*St/2);let Ht;if(zt.showLabelBackdrop){const tn=toPadding(zt.backdropPadding),mn=Xt.heights[Qt],yn=Xt.widths[Qt];let vn=Bt-tn.top,un=0-tn.left;switch(Lt){case"middle":vn-=mn/2;break;case"bottom":vn-=mn;break}switch(nn){case"center":un-=yn/2;break;case"right":un-=yn;break}Ht={left:un,top:vn,width:yn+tn.width,height:mn+tn.height,color:zt.backdropColor}}wt.push({label:xt,font:bt,textOffset:Bt,options:{rotation:mt,color:jt,strokeColor:Zt,strokeWidth:Ct,textAlign:Ft,textBaseline:Lt,translation:[pt,Vt],backdrop:Ht}})}return wt}_getXAxisLabelAlignment(){const{position:o,ticks:s}=this.options;if(-toRadians(this.labelRotation))return o==="top"?"left":"right";let $="center";return s.align==="start"?$="left":s.align==="end"?$="right":s.align==="inner"&&($="inner"),$}_getYAxisLabelAlignment(o){const{position:s,ticks:{crossAlign:_,mirror:$,padding:_e}}=this.options,tt=this._getLabelSizes(),j=o+_e,nt=tt.widest.width;let st,ht;return s==="left"?$?(ht=this.right+_e,_==="near"?st="left":_==="center"?(st="center",ht+=nt/2):(st="right",ht+=nt)):(ht=this.right-j,_==="near"?st="right":_==="center"?(st="center",ht-=nt/2):(st="left",ht=this.left)):s==="right"?$?(ht=this.left+_e,_==="near"?st="right":_==="center"?(st="center",ht-=nt/2):(st="left",ht-=nt)):(ht=this.left+j,_==="near"?st="left":_==="center"?(st="center",ht+=nt/2):(st="right",ht=this.right)):st="right",{textAlign:st,x:ht}}_computeLabelArea(){if(this.options.ticks.mirror)return;const o=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:o.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:o.width}}drawBackground(){const{ctx:o,options:{backgroundColor:s},left:_,top:$,width:_e,height:tt}=this;s&&(o.save(),o.fillStyle=s,o.fillRect(_,$,_e,tt),o.restore())}getLineWidthForValue(o){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const $=this.ticks.findIndex(_e=>_e.value===o);return $>=0?s.setContext(this.getContext($)).lineWidth:0}drawGrid(o){const s=this.options.grid,_=this.ctx,$=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(o));let _e,tt;const j=(nt,st,ht)=>{!ht.width||!ht.color||(_.save(),_.lineWidth=ht.width,_.strokeStyle=ht.color,_.setLineDash(ht.borderDash||[]),_.lineDashOffset=ht.borderDashOffset,_.beginPath(),_.moveTo(nt.x,nt.y),_.lineTo(st.x,st.y),_.stroke(),_.restore())};if(s.display)for(_e=0,tt=$.length;_e<tt;++_e){const nt=$[_e];s.drawOnChartArea&&j({x:nt.x1,y:nt.y1},{x:nt.x2,y:nt.y2},nt),s.drawTicks&&j({x:nt.tx1,y:nt.ty1},{x:nt.tx2,y:nt.ty2},{color:nt.tickColor,width:nt.tickWidth,borderDash:nt.tickBorderDash,borderDashOffset:nt.tickBorderDashOffset})}}drawBorder(){const{chart:o,ctx:s,options:{border:_,grid:$}}=this,_e=_.setContext(this.getContext()),tt=_.display?_e.width:0;if(!tt)return;const j=$.setContext(this.getContext(0)).lineWidth,nt=this._borderValue;let st,ht,_t,ft;this.isHorizontal()?(st=_alignPixel(o,this.left,tt)-tt/2,ht=_alignPixel(o,this.right,j)+j/2,_t=ft=nt):(_t=_alignPixel(o,this.top,tt)-tt/2,ft=_alignPixel(o,this.bottom,j)+j/2,st=ht=nt),s.save(),s.lineWidth=_e.width,s.strokeStyle=_e.color,s.beginPath(),s.moveTo(st,_t),s.lineTo(ht,ft),s.stroke(),s.restore()}drawLabels(o){if(!this.options.ticks.display)return;const _=this.ctx,$=this._computeLabelArea();$&&clipArea(_,$);const _e=this.getLabelItems(o);for(const tt of _e){const j=tt.options,nt=tt.font,st=tt.label,ht=tt.textOffset;renderText(_,st,0,ht,nt,j)}$&&unclipArea(_)}drawTitle(){const{ctx:o,options:{position:s,title:_,reverse:$}}=this;if(!_.display)return;const _e=toFont(_.font),tt=toPadding(_.padding),j=_.align;let nt=_e.lineHeight/2;s==="bottom"||s==="center"||isObject(s)?(nt+=tt.bottom,isArray(_.text)&&(nt+=_e.lineHeight*(_.text.length-1))):nt+=tt.top;const{titleX:st,titleY:ht,maxWidth:_t,rotation:ft}=titleArgs(this,nt,s,j);renderText(o,_.text,0,0,_e,{color:_.color,maxWidth:_t,rotation:ft,textAlign:titleAlign(j,s,$),textBaseline:"middle",translation:[st,ht]})}draw(o){this._isVisible()&&(this.drawBackground(),this.drawGrid(o),this.drawBorder(),this.drawTitle(),this.drawLabels(o))}_layers(){const o=this.options,s=o.ticks&&o.ticks.z||0,_=valueOrDefault(o.grid&&o.grid.z,-1),$=valueOrDefault(o.border&&o.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:s,draw:_e=>{this.draw(_e)}}]:[{z:_,draw:_e=>{this.drawBackground(),this.drawGrid(_e),this.drawTitle()}},{z:$,draw:()=>{this.drawBorder()}},{z:s,draw:_e=>{this.drawLabels(_e)}}]}getMatchingVisibleMetas(o){const s=this.chart.getSortedVisibleDatasetMetas(),_=this.axis+"AxisID",$=[];let _e,tt;for(_e=0,tt=s.length;_e<tt;++_e){const j=s[_e];j[_]===this.id&&(!o||j.type===o)&&$.push(j)}return $}_resolveTickFontOptions(o){const s=this.options.ticks.setContext(this.getContext(o));return toFont(s.font)}_maxDigits(){const o=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/o}}class TypedRegistry{constructor(o,s,_){this.type=o,this.scope=s,this.override=_,this.items=Object.create(null)}isForType(o){return Object.prototype.isPrototypeOf.call(this.type.prototype,o.prototype)}register(o){const s=Object.getPrototypeOf(o);let _;isIChartComponent(s)&&(_=this.register(s));const $=this.items,_e=o.id,tt=this.scope+"."+_e;if(!_e)throw new Error("class does not have id: "+o);return _e in $||($[_e]=o,registerDefaults(o,tt,_),this.override&&defaults.override(o.id,o.overrides)),tt}get(o){return this.items[o]}unregister(o){const s=this.items,_=o.id,$=this.scope;_ in s&&delete s[_],$&&_ in defaults[$]&&(delete defaults[$][_],this.override&&delete overrides[_])}}function registerDefaults(i,o,s){const _=merge(Object.create(null),[s?defaults.get(s):{},defaults.get(o),i.defaults]);defaults.set(o,_),i.defaultRoutes&&routeDefaults(o,i.defaultRoutes),i.descriptors&&defaults.describe(o,i.descriptors)}function routeDefaults(i,o){Object.keys(o).forEach(s=>{const _=s.split("."),$=_.pop(),_e=[i].concat(_).join("."),tt=o[s].split("."),j=tt.pop(),nt=tt.join(".");defaults.route(_e,$,nt,j)})}function isIChartComponent(i){return"id"in i&&"defaults"in i}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...o){this._each("register",o)}remove(...o){this._each("unregister",o)}addControllers(...o){this._each("register",o,this.controllers)}addElements(...o){this._each("register",o,this.elements)}addPlugins(...o){this._each("register",o,this.plugins)}addScales(...o){this._each("register",o,this.scales)}getController(o){return this._get(o,this.controllers,"controller")}getElement(o){return this._get(o,this.elements,"element")}getPlugin(o){return this._get(o,this.plugins,"plugin")}getScale(o){return this._get(o,this.scales,"scale")}removeControllers(...o){this._each("unregister",o,this.controllers)}removeElements(...o){this._each("unregister",o,this.elements)}removePlugins(...o){this._each("unregister",o,this.plugins)}removeScales(...o){this._each("unregister",o,this.scales)}_each(o,s,_){[...s].forEach($=>{const _e=_||this._getRegistryForType($);_||_e.isForType($)||_e===this.plugins&&$.id?this._exec(o,_e,$):each($,tt=>{const j=_||this._getRegistryForType(tt);this._exec(o,j,tt)})})}_exec(o,s,_){const $=_capitalize(o);callback(_["before"+$],[],_),s[o](_),callback(_["after"+$],[],_)}_getRegistryForType(o){for(let s=0;s<this._typedRegistries.length;s++){const _=this._typedRegistries[s];if(_.isForType(o))return _}return this.plugins}_get(o,s,_){const $=s.get(o);if($===void 0)throw new Error('"'+o+'" is not a registered '+_+".");return $}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(o,s,_,$){s==="beforeInit"&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install"));const _e=$?this._descriptors(o).filter($):this._descriptors(o),tt=this._notify(_e,o,s,_);return s==="afterDestroy"&&(this._notify(_e,o,"stop"),this._notify(this._init,o,"uninstall")),tt}_notify(o,s,_,$){$=$||{};for(const _e of o){const tt=_e.plugin,j=tt[_],nt=[s,$,_e.options];if(callback(j,nt,tt)===!1&&$.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(o){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(o);return this._notifyStateChanges(o),s}_createDescriptors(o,s){const _=o&&o.config,$=valueOrDefault(_.options&&_.options.plugins,{}),_e=allPlugins(_);return $===!1&&!s?[]:createDescriptors(o,_e,$,s)}_notifyStateChanges(o){const s=this._oldCache||[],_=this._cache,$=(_e,tt)=>_e.filter(j=>!tt.some(nt=>j.plugin.id===nt.plugin.id));this._notify($(s,_),o,"stop"),this._notify($(_,s),o,"start")}}function allPlugins(i){const o={},s=[],_=Object.keys(registry.plugins.items);for(let _e=0;_e<_.length;_e++)s.push(registry.getPlugin(_[_e]));const $=i.plugins||[];for(let _e=0;_e<$.length;_e++){const tt=$[_e];s.indexOf(tt)===-1&&(s.push(tt),o[tt.id]=!0)}return{plugins:s,localIds:o}}function getOpts(i,o){return!o&&i===!1?null:i===!0?{}:i}function createDescriptors(i,{plugins:o,localIds:s},_,$){const _e=[],tt=i.getContext();for(const j of o){const nt=j.id,st=getOpts(_[nt],$);st!==null&&_e.push({plugin:j,options:pluginOpts(i.config,{plugin:j,local:s[nt]},st,tt)})}return _e}function pluginOpts(i,{plugin:o,local:s},_,$){const _e=i.pluginScopeKeys(o),tt=i.getOptionScopes(_,_e);return s&&o.defaults&&tt.push(o.defaults),i.createResolver(tt,$,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(i,o){const s=defaults.datasets[i]||{};return((o.datasets||{})[i]||{}).indexAxis||o.indexAxis||s.indexAxis||"x"}function getAxisFromDefaultScaleID(i,o){let s=i;return i==="_index_"?s=o:i==="_value_"&&(s=o==="x"?"y":"x"),s}function getDefaultScaleIDFromAxis(i,o){return i===o?"_index_":"_value_"}function axisFromPosition(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function determineAxis(i,o){if(i==="x"||i==="y"||i==="r"||(i=o.axis||axisFromPosition(o.position)||i.length>1&&determineAxis(i[0].toLowerCase(),o),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function mergeScaleConfig(i,o){const s=overrides[i.type]||{scales:{}},_=o.scales||{},$=getIndexAxis(i.type,o),_e=Object.create(null);return Object.keys(_).forEach(tt=>{const j=_[tt];if(!isObject(j))return console.error(`Invalid scale configuration for scale: ${tt}`);if(j._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${tt}`);const nt=determineAxis(tt,j),st=getDefaultScaleIDFromAxis(nt,$),ht=s.scales||{};_e[tt]=mergeIf(Object.create(null),[{axis:nt},j,ht[nt],ht[st]])}),i.data.datasets.forEach(tt=>{const j=tt.type||i.type,nt=tt.indexAxis||getIndexAxis(j,o),ht=(overrides[j]||{}).scales||{};Object.keys(ht).forEach(_t=>{const ft=getAxisFromDefaultScaleID(_t,nt),dt=tt[ft+"AxisID"]||ft;_e[dt]=_e[dt]||Object.create(null),mergeIf(_e[dt],[{axis:ft},_[dt],ht[_t]])})}),Object.keys(_e).forEach(tt=>{const j=_e[tt];mergeIf(j,[defaults.scales[j.type],defaults.scale])}),_e}function initOptions(i){const o=i.options||(i.options={});o.plugins=valueOrDefault(o.plugins,{}),o.scales=mergeScaleConfig(i,o)}function initData(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function initConfig(i){return i=i||{},i.data=initData(i.data),initOptions(i),i}const keyCache=new Map,keysCached=new Set;function cachedKeys(i,o){let s=keyCache.get(i);return s||(s=o(),keyCache.set(i,s),keysCached.add(s)),s}const addIfFound=(i,o,s)=>{const _=resolveObjectKey(o,s);_!==void 0&&i.add(_)};class Config{constructor(o){this._config=initConfig(o),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(o){this._config.type=o}get data(){return this._config.data}set data(o){this._config.data=initData(o)}get options(){return this._config.options}set options(o){this._config.options=o}get plugins(){return this._config.plugins}update(){const o=this._config;this.clearCache(),initOptions(o)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(o){return cachedKeys(o,()=>[[`datasets.${o}`,""]])}datasetAnimationScopeKeys(o,s){return cachedKeys(`${o}.transition.${s}`,()=>[[`datasets.${o}.transitions.${s}`,`transitions.${s}`],[`datasets.${o}`,""]])}datasetElementScopeKeys(o,s){return cachedKeys(`${o}-${s}`,()=>[[`datasets.${o}.elements.${s}`,`datasets.${o}`,`elements.${s}`,""]])}pluginScopeKeys(o){const s=o.id,_=this.type;return cachedKeys(`${_}-plugin-${s}`,()=>[[`plugins.${s}`,...o.additionalOptionScopes||[]]])}_cachedScopes(o,s){const _=this._scopeCache;let $=_.get(o);return(!$||s)&&($=new Map,_.set(o,$)),$}getOptionScopes(o,s,_){const{options:$,type:_e}=this,tt=this._cachedScopes(o,_),j=tt.get(s);if(j)return j;const nt=new Set;s.forEach(ht=>{o&&(nt.add(o),ht.forEach(_t=>addIfFound(nt,o,_t))),ht.forEach(_t=>addIfFound(nt,$,_t)),ht.forEach(_t=>addIfFound(nt,overrides[_e]||{},_t)),ht.forEach(_t=>addIfFound(nt,defaults,_t)),ht.forEach(_t=>addIfFound(nt,descriptors,_t))});const st=Array.from(nt);return st.length===0&&st.push(Object.create(null)),keysCached.has(s)&&tt.set(s,st),st}chartOptionScopes(){const{options:o,type:s}=this;return[o,overrides[s]||{},defaults.datasets[s]||{},{type:s},defaults,descriptors]}resolveNamedOptions(o,s,_,$=[""]){const _e={$shared:!0},{resolver:tt,subPrefixes:j}=getResolver(this._resolverCache,o,$);let nt=tt;if(needContext(tt,s)){_e.$shared=!1,_=isFunction(_)?_():_;const st=this.createResolver(o,_,j);nt=_attachContext(tt,_,st)}for(const st of s)_e[st]=nt[st];return _e}createResolver(o,s,_=[""],$){const{resolver:_e}=getResolver(this._resolverCache,o,_);return isObject(s)?_attachContext(_e,s,void 0,$):_e}}function getResolver(i,o,s){let _=i.get(o);_||(_=new Map,i.set(o,_));const $=s.join();let _e=_.get($);return _e||(_e={resolver:_createResolver(o,s),subPrefixes:s.filter(j=>!j.toLowerCase().includes("hover"))},_.set($,_e)),_e}const hasFunction=i=>isObject(i)&&Object.getOwnPropertyNames(i).reduce((o,s)=>o||isFunction(i[s]),!1);function needContext(i,o){const{isScriptable:s,isIndexable:_}=_descriptors(i);for(const $ of o){const _e=s($),tt=_($),j=(tt||_e)&&i[$];if(_e&&(isFunction(j)||hasFunction(j))||tt&&isArray(j))return!0}return!1}var version="4.2.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(i,o){return i==="top"||i==="bottom"||KNOWN_POSITIONS.indexOf(i)===-1&&o==="x"}function compare2Level(i,o){return function(s,_){return s[i]===_[i]?s[o]-_[o]:s[i]-_[i]}}function onAnimationsComplete(i){const o=i.chart,s=o.options.animation;o.notifyPlugins("afterRender"),callback(s&&s.onComplete,[i],o)}function onAnimationProgress(i){const o=i.chart,s=o.options.animation;callback(s&&s.onProgress,[i],o)}function getCanvas(i){return _isDomSupported()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const instances={},getChart=i=>{const o=getCanvas(i);return Object.values(instances).filter(s=>s.canvas===o).pop()};function moveNumericKeys(i,o,s){const _=Object.keys(i);for(const $ of _){const _e=+$;if(_e>=o){const tt=i[$];delete i[$],(s>0||_e>o)&&(i[_e+s]=tt)}}}function determineLastEvent(i,o,s,_){return!s||i.type==="mouseout"?null:_?o:i}function getDatasetArea(i){const{xScale:o,yScale:s}=i;if(o&&s)return{left:o.left,right:o.right,top:s.top,bottom:s.bottom}}class Chart$1{static register(...o){registry.add(...o),invalidatePlugins()}static unregister(...o){registry.remove(...o),invalidatePlugins()}constructor(o,s){const _=this.config=new Config(s),$=getCanvas(o),_e=getChart($);if(_e)throw new Error("Canvas is already in use. Chart with ID '"+_e.id+"' must be destroyed before the canvas with ID '"+_e.canvas.id+"' can be reused.");const tt=_.createResolver(_.chartOptionScopes(),this.getContext());this.platform=new(_.platform||_detectPlatform($)),this.platform.updateConfig(_);const j=this.platform.acquireContext($,tt.aspectRatio),nt=j&&j.canvas,st=nt&&nt.height,ht=nt&&nt.width;if(this.id=uid(),this.ctx=j,this.canvas=nt,this.width=ht,this.height=st,this._options=tt,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(_t=>this.update(_t),tt.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!j||!nt){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:s},width:_,height:$,_aspectRatio:_e}=this;return isNullOrUndef(o)?s&&_e?_e:$?_/$:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(o,s){animator.running(this)?this._resizeBeforeDraw={width:o,height:s}:this._resize(o,s)}_resize(o,s){const _=this.options,$=this.canvas,_e=_.maintainAspectRatio&&this.aspectRatio,tt=this.platform.getMaximumSize($,o,s,_e),j=_.devicePixelRatio||this.platform.getDevicePixelRatio(),nt=this.width?"resize":"attach";this.width=tt.width,this.height=tt.height,this._aspectRatio=this.aspectRatio,retinaScale(this,j,!0)&&(this.notifyPlugins("resize",{size:tt}),callback(_.onResize,[this,tt],this),this.attached&&this._doResize(nt)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};each(s,(_,$)=>{_.id=$})}buildOrUpdateScales(){const o=this.options,s=o.scales,_=this.scales,$=Object.keys(_).reduce((tt,j)=>(tt[j]=!1,tt),{});let _e=[];s&&(_e=_e.concat(Object.keys(s).map(tt=>{const j=s[tt],nt=determineAxis(tt,j),st=nt==="r",ht=nt==="x";return{options:j,dposition:st?"chartArea":ht?"bottom":"left",dtype:st?"radialLinear":ht?"category":"linear"}}))),each(_e,tt=>{const j=tt.options,nt=j.id,st=determineAxis(nt,j),ht=valueOrDefault(j.type,tt.dtype);(j.position===void 0||positionIsHorizontal(j.position,st)!==positionIsHorizontal(tt.dposition))&&(j.position=tt.dposition),$[nt]=!0;let _t=null;if(nt in _&&_[nt].type===ht)_t=_[nt];else{const ft=registry.getScale(ht);_t=new ft({id:nt,type:ht,ctx:this.ctx,chart:this}),_[_t.id]=_t}_t.init(j,o)}),each($,(tt,j)=>{tt||delete _[j]}),each(_,tt=>{layouts.configure(this,tt,tt.options),layouts.addBox(this,tt)})}_updateMetasets(){const o=this._metasets,s=this.data.datasets.length,_=o.length;if(o.sort(($,_e)=>$.index-_e.index),_>s){for(let $=s;$<_;++$)this._destroyDatasetMeta($);o.splice(s,_-s)}this._sortedMetasets=o.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:s}}=this;o.length>s.length&&delete this._stacks,o.forEach((_,$)=>{s.filter(_e=>_e===_._dataset).length===0&&this._destroyDatasetMeta($)})}buildOrUpdateControllers(){const o=[],s=this.data.datasets;let _,$;for(this._removeUnreferencedMetasets(),_=0,$=s.length;_<$;_++){const _e=s[_];let tt=this.getDatasetMeta(_);const j=_e.type||this.config.type;if(tt.type&&tt.type!==j&&(this._destroyDatasetMeta(_),tt=this.getDatasetMeta(_)),tt.type=j,tt.indexAxis=_e.indexAxis||getIndexAxis(j,this.options),tt.order=_e.order||0,tt.index=_,tt.label=""+_e.label,tt.visible=this.isDatasetVisible(_),tt.controller)tt.controller.updateIndex(_),tt.controller.linkScales();else{const nt=registry.getController(j),{datasetElementType:st,dataElementType:ht}=defaults.datasets[j];Object.assign(nt,{dataElementType:registry.getElement(ht),datasetElementType:st&&registry.getElement(st)}),tt.controller=new nt(this,_),o.push(tt.controller)}}return this._updateMetasets(),o}_resetElements(){each(this.data.datasets,(o,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const s=this.config;s.update();const _=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),$=this._animationsDisabled=!_.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0})===!1)return;const _e=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let tt=0;for(let st=0,ht=this.data.datasets.length;st<ht;st++){const{controller:_t}=this.getDatasetMeta(st),ft=!$&&_e.indexOf(_t)===-1;_t.buildOrUpdateElements(ft),tt=Math.max(+_t.getMaxOverflow(),tt)}tt=this._minPadding=_.layout.autoPadding?tt:0,this._updateLayout(tt),$||each(_e,st=>{st.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(compare2Level("z","_idx"));const{_active:j,_lastEvent:nt}=this;nt?this._eventHandler(nt,!0):j.length&&this._updateHoverStyles(j,j,!0),this.render()}_updateScales(){each(this.scales,o=>{layouts.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,s=new Set(Object.keys(this._listeners)),_=new Set(o.events);(!setsEqual(s,_)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,s=this._getUniformDataChanges()||[];for(const{method:_,start:$,count:_e}of s){const tt=_==="_removeElements"?-_e:_e;moveNumericKeys(o,$,tt)}}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const s=this.data.datasets.length,_=_e=>new Set(o.filter(tt=>tt[0]===_e).map((tt,j)=>j+","+tt.splice(1).join(","))),$=_(0);for(let _e=1;_e<s;_e++)if(!setsEqual($,_(_e)))return;return Array.from($).map(_e=>_e.split(",")).map(_e=>({method:_e[1],start:+_e[2],count:+_e[3]}))}_updateLayout(o){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,o);const s=this.chartArea,_=s.width<=0||s.height<=0;this._layers=[],each(this.boxes,$=>{_&&$.position==="chartArea"||($.configure&&$.configure(),this._layers.push(...$._layers()))},this),this._layers.forEach(($,_e)=>{$._idx=_e}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})!==!1){for(let s=0,_=this.data.datasets.length;s<_;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,_=this.data.datasets.length;s<_;++s)this._updateDataset(s,isFunction(o)?o({datasetIndex:s}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,s){const _=this.getDatasetMeta(o),$={meta:_,index:o,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",$)!==!1&&(_.controller._update(s),$.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",$))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:_,height:$}=this._resizeBeforeDraw;this._resize(_,$),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(o=0;o<s.length&&s[o].z<=0;++o)s[o].draw(this.chartArea);for(this._drawDatasets();o<s.length;++o)s[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const s=this._sortedMetasets,_=[];let $,_e;for($=0,_e=s.length;$<_e;++$){const tt=s[$];(!o||tt.visible)&&_.push(tt)}return _}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const o=this.getSortedVisibleDatasetMetas();for(let s=o.length-1;s>=0;--s)this._drawDataset(o[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const s=this.ctx,_=o._clip,$=!_.disabled,_e=getDatasetArea(o)||this.chartArea,tt={meta:o,index:o.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",tt)!==!1&&($&&clipArea(s,{left:_.left===!1?0:_e.left-_.left,right:_.right===!1?this.width:_e.right+_.right,top:_.top===!1?0:_e.top-_.top,bottom:_.bottom===!1?this.height:_e.bottom+_.bottom}),o.controller.draw(),$&&unclipArea(s),tt.cancelable=!1,this.notifyPlugins("afterDatasetDraw",tt))}isPointInArea(o){return _isPointInArea(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,s,_,$){const _e=Interaction.modes[s];return typeof _e=="function"?_e(this,o,_,$):[]}getDatasetMeta(o){const s=this.data.datasets[o],_=this._metasets;let $=_.filter(_e=>_e&&_e._dataset===s).pop();return $||($={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:o,_dataset:s,_parsed:[],_sorted:!1},_.push($)),$}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const s=this.data.datasets[o];if(!s)return!1;const _=this.getDatasetMeta(o);return typeof _.hidden=="boolean"?!_.hidden:!s.hidden}setDatasetVisibility(o,s){const _=this.getDatasetMeta(o);_.hidden=!s}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,s,_){const $=_?"show":"hide",_e=this.getDatasetMeta(o),tt=_e.controller._resolveAnimations(void 0,$);defined(s)?(_e.data[s].hidden=!_,this.update()):(this.setDatasetVisibility(o,_),tt.update(_e,{visible:_}),this.update(j=>j.datasetIndex===o?$:void 0))}hide(o,s){this._updateVisibility(o,s,!1)}show(o,s){this._updateVisibility(o,s,!0)}_destroyDatasetMeta(o){const s=this._metasets[o];s&&s.controller&&s.controller._destroy(),delete this._metasets[o]}_stop(){let o,s;for(this.stop(),animator.remove(this),o=0,s=this.data.datasets.length;o<s;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:s}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),clearCanvas(o,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,s=this.platform,_=(_e,tt)=>{s.addEventListener(this,_e,tt),o[_e]=tt},$=(_e,tt,j)=>{_e.offsetX=tt,_e.offsetY=j,this._eventHandler(_e)};each(this.options.events,_e=>_(_e,$))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,s=this.platform,_=(nt,st)=>{s.addEventListener(this,nt,st),o[nt]=st},$=(nt,st)=>{o[nt]&&(s.removeEventListener(this,nt,st),delete o[nt])},_e=(nt,st)=>{this.canvas&&this.resize(nt,st)};let tt;const j=()=>{$("attach",j),this.attached=!0,this.resize(),_("resize",_e),_("detach",tt)};tt=()=>{this.attached=!1,$("resize",_e),this._stop(),this._resize(0,0),_("attach",j)},s.isAttached(this.canvas)?j():tt()}unbindEvents(){each(this._listeners,(o,s)=>{this.platform.removeEventListener(this,s,o)}),this._listeners={},each(this._responsiveListeners,(o,s)=>{this.platform.removeEventListener(this,s,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,s,_){const $=_?"set":"remove";let _e,tt,j,nt;for(s==="dataset"&&(_e=this.getDatasetMeta(o[0].datasetIndex),_e.controller["_"+$+"DatasetHoverStyle"]()),j=0,nt=o.length;j<nt;++j){tt=o[j];const st=tt&&this.getDatasetMeta(tt.datasetIndex).controller;st&&st[$+"HoverStyle"](tt.element,tt.datasetIndex,tt.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const s=this._active||[],_=o.map(({datasetIndex:_e,index:tt})=>{const j=this.getDatasetMeta(_e);if(!j)throw new Error("No dataset found at index "+_e);return{datasetIndex:_e,element:j.data[tt],index:tt}});!_elementsEqual(_,s)&&(this._active=_,this._lastEvent=null,this._updateHoverStyles(_,s))}notifyPlugins(o,s,_){return this._plugins.notify(this,o,s,_)}isPluginEnabled(o){return this._plugins._cache.filter(s=>s.plugin.id===o).length===1}_updateHoverStyles(o,s,_){const $=this.options.hover,_e=(nt,st)=>nt.filter(ht=>!st.some(_t=>ht.datasetIndex===_t.datasetIndex&&ht.index===_t.index)),tt=_e(s,o),j=_?o:_e(o,s);tt.length&&this.updateHoverStyle(tt,$.mode,!1),j.length&&$.mode&&this.updateHoverStyle(j,$.mode,!0)}_eventHandler(o,s){const _={event:o,replay:s,cancelable:!0,inChartArea:this.isPointInArea(o)},$=tt=>(tt.options.events||this.options.events).includes(o.native.type);if(this.notifyPlugins("beforeEvent",_,$)===!1)return;const _e=this._handleEvent(o,s,_.inChartArea);return _.cancelable=!1,this.notifyPlugins("afterEvent",_,$),(_e||_.changed)&&this.render(),this}_handleEvent(o,s,_){const{_active:$=[],options:_e}=this,tt=s,j=this._getActiveElements(o,$,_,tt),nt=_isClickEvent(o),st=determineLastEvent(o,this._lastEvent,_,nt);_&&(this._lastEvent=null,callback(_e.onHover,[o,j,this],this),nt&&callback(_e.onClick,[o,j,this],this));const ht=!_elementsEqual(j,$);return(ht||s)&&(this._active=j,this._updateHoverStyles(j,$,s)),this._lastEvent=st,ht}_getActiveElements(o,s,_,$){if(o.type==="mouseout")return[];if(!_)return s;const _e=this.options.hover;return this.getElementsAtEventForMode(o,_e.mode,_e,$)}}__publicField3(Chart$1,"defaults",defaults);__publicField3(Chart$1,"instances",instances);__publicField3(Chart$1,"overrides",overrides);__publicField3(Chart$1,"registry",registry);__publicField3(Chart$1,"version",version);__publicField3(Chart$1,"getChart",getChart);function invalidatePlugins(){return each(Chart$1.instances,i=>i._plugins.invalidate())}function clipArc(i,o,s){const{startAngle:_,pixelMargin:$,x:_e,y:tt,outerRadius:j,innerRadius:nt}=o;let st=$/j;i.beginPath(),i.arc(_e,tt,j,_-st,s+st),nt>$?(st=$/nt,i.arc(_e,tt,nt,s+st,_-st,!0)):i.arc(_e,tt,$,s+HALF_PI,_-HALF_PI),i.closePath(),i.clip()}function toRadiusCorners(i){return _readValueToProps(i,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(i,o,s,_){const $=toRadiusCorners(i.options.borderRadius),_e=(s-o)/2,tt=Math.min(_e,_*o/2),j=nt=>{const st=(s-Math.min(_e,nt))*_/2;return _limitValue(nt,0,Math.min(_e,st))};return{outerStart:j($.outerStart),outerEnd:j($.outerEnd),innerStart:_limitValue($.innerStart,0,tt),innerEnd:_limitValue($.innerEnd,0,tt)}}function rThetaToXY(i,o,s,_){return{x:s+i*Math.cos(o),y:_+i*Math.sin(o)}}function pathArc(i,o,s,_,$,_e){const{x:tt,y:j,startAngle:nt,pixelMargin:st,innerRadius:ht}=o,_t=Math.max(o.outerRadius+_+s-st,0),ft=ht>0?ht+_+s+st:0;let dt=0;const ut=$-nt;if(_){const zt=ht>0?ht-_:0,Pt=_t>0?_t-_:0,jt=(zt+Pt)/2,Zt=jt!==0?ut*jt/(jt+_):ut;dt=(ut-Zt)/2}const mt=Math.max(.001,ut*_t-s/PI)/_t,wt=(ut-mt)/2,Qt=nt+wt+dt,Dt=$-wt-dt,{outerStart:Et,outerEnd:xt,innerStart:pt,innerEnd:Vt}=parseBorderRadius$1(o,ft,_t,Dt-Qt),nn=_t-Et,on=_t-xt,bt=Qt+Et/nn,St=Dt-xt/on,It=ft+pt,Bt=ft+Vt,Lt=Qt+pt/It,Xt=Dt-Vt/Bt;if(i.beginPath(),_e){const zt=(bt+St)/2;if(i.arc(tt,j,_t,bt,zt),i.arc(tt,j,_t,zt,St),xt>0){const Ct=rThetaToXY(on,St,tt,j);i.arc(Ct.x,Ct.y,xt,St,Dt+HALF_PI)}const Pt=rThetaToXY(Bt,Dt,tt,j);if(i.lineTo(Pt.x,Pt.y),Vt>0){const Ct=rThetaToXY(Bt,Xt,tt,j);i.arc(Ct.x,Ct.y,Vt,Dt+HALF_PI,Xt+Math.PI)}const jt=(Dt-Vt/ft+(Qt+pt/ft))/2;if(i.arc(tt,j,ft,Dt-Vt/ft,jt,!0),i.arc(tt,j,ft,jt,Qt+pt/ft,!0),pt>0){const Ct=rThetaToXY(It,Lt,tt,j);i.arc(Ct.x,Ct.y,pt,Lt+Math.PI,Qt-HALF_PI)}const Zt=rThetaToXY(nn,Qt,tt,j);if(i.lineTo(Zt.x,Zt.y),Et>0){const Ct=rThetaToXY(nn,bt,tt,j);i.arc(Ct.x,Ct.y,Et,Qt-HALF_PI,bt)}}else{i.moveTo(tt,j);const zt=Math.cos(bt)*_t+tt,Pt=Math.sin(bt)*_t+j;i.lineTo(zt,Pt);const jt=Math.cos(St)*_t+tt,Zt=Math.sin(St)*_t+j;i.lineTo(jt,Zt)}i.closePath()}function drawArc(i,o,s,_,$){const{fullCircles:_e,startAngle:tt,circumference:j}=o;let nt=o.endAngle;if(_e){pathArc(i,o,s,_,nt,$);for(let st=0;st<_e;++st)i.fill();isNaN(j)||(nt=tt+(j%TAU||TAU))}return pathArc(i,o,s,_,nt,$),i.fill(),nt}function drawBorder(i,o,s,_,$){const{fullCircles:_e,startAngle:tt,circumference:j,options:nt}=o,{borderWidth:st,borderJoinStyle:ht}=nt,_t=nt.borderAlign==="inner";if(!st)return;_t?(i.lineWidth=st*2,i.lineJoin=ht||"round"):(i.lineWidth=st,i.lineJoin=ht||"bevel");let ft=o.endAngle;if(_e){pathArc(i,o,s,_,ft,$);for(let dt=0;dt<_e;++dt)i.stroke();isNaN(j)||(ft=tt+(j%TAU||TAU))}_t&&clipArc(i,o,ft),_e||(pathArc(i,o,s,_,ft,$),i.stroke())}class ArcElement extends Element{constructor(o){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,o&&Object.assign(this,o)}inRange(o,s,_){const $=this.getProps(["x","y"],_),{angle:_e,distance:tt}=getAngleFromPoint($,{x:o,y:s}),{startAngle:j,endAngle:nt,innerRadius:st,outerRadius:ht,circumference:_t}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],_),ft=this.options.spacing/2,ut=valueOrDefault(_t,nt-j)>=TAU||_angleBetween(_e,j,nt),mt=_isBetween(tt,st+ft,ht+ft);return ut&&mt}getCenterPoint(o){const{x:s,y:_,startAngle:$,endAngle:_e,innerRadius:tt,outerRadius:j}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],o),{offset:nt,spacing:st}=this.options,ht=($+_e)/2,_t=(tt+j+st+nt)/2;return{x:s+Math.cos(ht)*_t,y:_+Math.sin(ht)*_t}}tooltipPosition(o){return this.getCenterPoint(o)}draw(o){const{options:s,circumference:_}=this,$=(s.offset||0)/4,_e=(s.spacing||0)/2,tt=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=_>TAU?Math.floor(_/TAU):0,_===0||this.innerRadius<0||this.outerRadius<0)return;o.save();const j=(this.startAngle+this.endAngle)/2;o.translate(Math.cos(j)*$,Math.sin(j)*$);const nt=1-Math.sin(Math.min(PI,_||0)),st=$*nt;o.fillStyle=s.backgroundColor,o.strokeStyle=s.borderColor,drawArc(o,this,st,_e,tt),drawBorder(o,this,st,_e,tt),o.restore()}}__publicField3(ArcElement,"id","arc");__publicField3(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0});__publicField3(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"});function setStyle(i,o,s=o){i.lineCap=valueOrDefault(s.borderCapStyle,o.borderCapStyle),i.setLineDash(valueOrDefault(s.borderDash,o.borderDash)),i.lineDashOffset=valueOrDefault(s.borderDashOffset,o.borderDashOffset),i.lineJoin=valueOrDefault(s.borderJoinStyle,o.borderJoinStyle),i.lineWidth=valueOrDefault(s.borderWidth,o.borderWidth),i.strokeStyle=valueOrDefault(s.borderColor,o.borderColor)}function lineTo(i,o,s){i.lineTo(s.x,s.y)}function getLineMethod(i){return i.stepped?_steppedLineTo:i.tension||i.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(i,o,s={}){const _=i.length,{start:$=0,end:_e=_-1}=s,{start:tt,end:j}=o,nt=Math.max($,tt),st=Math.min(_e,j),ht=$<tt&&_e<tt||$>j&&_e>j;return{count:_,start:nt,loop:o.loop,ilen:st<nt&&!ht?_+st-nt:st-nt}}function pathSegment(i,o,s,_){const{points:$,options:_e}=o,{count:tt,start:j,loop:nt,ilen:st}=pathVars($,s,_),ht=getLineMethod(_e);let{move:_t=!0,reverse:ft}=_||{},dt,ut,mt;for(dt=0;dt<=st;++dt)ut=$[(j+(ft?st-dt:dt))%tt],!ut.skip&&(_t?(i.moveTo(ut.x,ut.y),_t=!1):ht(i,mt,ut,ft,_e.stepped),mt=ut);return nt&&(ut=$[(j+(ft?st:0))%tt],ht(i,mt,ut,ft,_e.stepped)),!!nt}function fastPathSegment(i,o,s,_){const $=o.points,{count:_e,start:tt,ilen:j}=pathVars($,s,_),{move:nt=!0,reverse:st}=_||{};let ht=0,_t=0,ft,dt,ut,mt,wt,Qt;const Dt=xt=>(tt+(st?j-xt:xt))%_e,Et=()=>{mt!==wt&&(i.lineTo(ht,wt),i.lineTo(ht,mt),i.lineTo(ht,Qt))};for(nt&&(dt=$[Dt(0)],i.moveTo(dt.x,dt.y)),ft=0;ft<=j;++ft){if(dt=$[Dt(ft)],dt.skip)continue;const xt=dt.x,pt=dt.y,Vt=xt|0;Vt===ut?(pt<mt?mt=pt:pt>wt&&(wt=pt),ht=(_t*ht+xt)/++_t):(Et(),i.lineTo(xt,pt),ut=Vt,_t=0,mt=wt=pt),Qt=pt}Et()}function _getSegmentMethod(i){const o=i.options,s=o.borderDash&&o.borderDash.length;return!i._decimated&&!i._loop&&!o.tension&&o.cubicInterpolationMode!=="monotone"&&!o.stepped&&!s?fastPathSegment:pathSegment}function _getInterpolationMethod(i){return i.stepped?_steppedInterpolation:i.tension||i.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(i,o,s,_){let $=o._path;$||($=o._path=new Path2D,o.path($,s,_)&&$.closePath()),setStyle(i,o.options),i.stroke($)}function strokePathDirect(i,o,s,_){const{segments:$,options:_e}=o,tt=_getSegmentMethod(o);for(const j of $)setStyle(i,_e,j.style),i.beginPath(),tt(i,o,j,{start:s,end:s+_-1})&&i.closePath(),i.stroke()}const usePath2D=typeof Path2D=="function";function draw(i,o,s,_){usePath2D&&!o.options.segment?strokePathWithCache(i,o,s,_):strokePathDirect(i,o,s,_)}class LineElement extends Element{constructor(o){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,o&&Object.assign(this,o)}updateControlPoints(o,s){const _=this.options;if((_.tension||_.cubicInterpolationMode==="monotone")&&!_.stepped&&!this._pointsUpdated){const $=_.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,_,o,$,s),this._pointsUpdated=!0}}set points(o){this._points=o,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const o=this.segments,s=this.points;return o.length&&s[o[0].start]}last(){const o=this.segments,s=this.points,_=o.length;return _&&s[o[_-1].end]}interpolate(o,s){const _=this.options,$=o[s],_e=this.points,tt=_boundSegments(this,{property:s,start:$,end:$});if(!tt.length)return;const j=[],nt=_getInterpolationMethod(_);let st,ht;for(st=0,ht=tt.length;st<ht;++st){const{start:_t,end:ft}=tt[st],dt=_e[_t],ut=_e[ft];if(dt===ut){j.push(dt);continue}const mt=Math.abs(($-dt[s])/(ut[s]-dt[s])),wt=nt(dt,ut,mt,_.stepped);wt[s]=o[s],j.push(wt)}return j.length===1?j[0]:j}pathSegment(o,s,_){return _getSegmentMethod(this)(o,this,s,_)}path(o,s,_){const $=this.segments,_e=_getSegmentMethod(this);let tt=this._loop;s=s||0,_=_||this.points.length-s;for(const j of $)tt&=_e(o,this,j,{start:s,end:s+_-1});return!!tt}draw(o,s,_,$){const _e=this.options||{};(this.points||[]).length&&_e.borderWidth&&(o.save(),draw(o,this,_,$),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}__publicField3(LineElement,"id","line");__publicField3(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0});__publicField3(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});__publicField3(LineElement,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"});function inRange$1(i,o,s,_){const $=i.options,{[s]:_e}=i.getProps([s],_);return Math.abs(o-_e)<$.radius+$.hitRadius}class PointElement extends Element{constructor(o){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,o&&Object.assign(this,o)}inRange(o,s,_){const $=this.options,{x:_e,y:tt}=this.getProps(["x","y"],_);return Math.pow(o-_e,2)+Math.pow(s-tt,2)<Math.pow($.hitRadius+$.radius,2)}inXRange(o,s){return inRange$1(this,o,"x",s)}inYRange(o,s){return inRange$1(this,o,"y",s)}getCenterPoint(o){const{x:s,y:_}=this.getProps(["x","y"],o);return{x:s,y:_}}size(o){o=o||this.options||{};let s=o.radius||0;s=Math.max(s,s&&o.hoverRadius||0);const _=s&&o.borderWidth||0;return(s+_)*2}draw(o,s){const _=this.options;this.skip||_.radius<.1||!_isPointInArea(this,s,this.size(_)/2)||(o.strokeStyle=_.borderColor,o.lineWidth=_.borderWidth,o.fillStyle=_.backgroundColor,drawPoint(o,_,this.x,this.y))}getRange(){const o=this.options||{};return o.radius+o.hitRadius}}__publicField3(PointElement,"id","point");__publicField3(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0});__publicField3(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(i,o){const{x:s,y:_,base:$,width:_e,height:tt}=i.getProps(["x","y","base","width","height"],o);let j,nt,st,ht,_t;return i.horizontal?(_t=tt/2,j=Math.min(s,$),nt=Math.max(s,$),st=_-_t,ht=_+_t):(_t=_e/2,j=s-_t,nt=s+_t,st=Math.min(_,$),ht=Math.max(_,$)),{left:j,top:st,right:nt,bottom:ht}}function skipOrLimit(i,o,s,_){return i?0:_limitValue(o,s,_)}function parseBorderWidth(i,o,s){const _=i.options.borderWidth,$=i.borderSkipped,_e=toTRBL(_);return{t:skipOrLimit($.top,_e.top,0,s),r:skipOrLimit($.right,_e.right,0,o),b:skipOrLimit($.bottom,_e.bottom,0,s),l:skipOrLimit($.left,_e.left,0,o)}}function parseBorderRadius(i,o,s){const{enableBorderRadius:_}=i.getProps(["enableBorderRadius"]),$=i.options.borderRadius,_e=toTRBLCorners($),tt=Math.min(o,s),j=i.borderSkipped,nt=_||isObject($);return{topLeft:skipOrLimit(!nt||j.top||j.left,_e.topLeft,0,tt),topRight:skipOrLimit(!nt||j.top||j.right,_e.topRight,0,tt),bottomLeft:skipOrLimit(!nt||j.bottom||j.left,_e.bottomLeft,0,tt),bottomRight:skipOrLimit(!nt||j.bottom||j.right,_e.bottomRight,0,tt)}}function boundingRects(i){const o=getBarBounds(i),s=o.right-o.left,_=o.bottom-o.top,$=parseBorderWidth(i,s/2,_/2),_e=parseBorderRadius(i,s/2,_/2);return{outer:{x:o.left,y:o.top,w:s,h:_,radius:_e},inner:{x:o.left+$.l,y:o.top+$.t,w:s-$.l-$.r,h:_-$.t-$.b,radius:{topLeft:Math.max(0,_e.topLeft-Math.max($.t,$.l)),topRight:Math.max(0,_e.topRight-Math.max($.t,$.r)),bottomLeft:Math.max(0,_e.bottomLeft-Math.max($.b,$.l)),bottomRight:Math.max(0,_e.bottomRight-Math.max($.b,$.r))}}}}function inRange(i,o,s,_){const $=o===null,_e=s===null,j=i&&!($&&_e)&&getBarBounds(i,_);return j&&($||_isBetween(o,j.left,j.right))&&(_e||_isBetween(s,j.top,j.bottom))}function hasRadius(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function addNormalRectPath(i,o){i.rect(o.x,o.y,o.w,o.h)}function inflateRect(i,o,s={}){const _=i.x!==s.x?-o:0,$=i.y!==s.y?-o:0,_e=(i.x+i.w!==s.x+s.w?o:0)-_,tt=(i.y+i.h!==s.y+s.h?o:0)-$;return{x:i.x+_,y:i.y+$,w:i.w+_e,h:i.h+tt,radius:i.radius}}class BarElement extends Element{constructor(o){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,o&&Object.assign(this,o)}draw(o){const{inflateAmount:s,options:{borderColor:_,backgroundColor:$}}=this,{inner:_e,outer:tt}=boundingRects(this),j=hasRadius(tt.radius)?addRoundedRectPath:addNormalRectPath;o.save(),(tt.w!==_e.w||tt.h!==_e.h)&&(o.beginPath(),j(o,inflateRect(tt,s,_e)),o.clip(),j(o,inflateRect(_e,-s,tt)),o.fillStyle=_,o.fill("evenodd")),o.beginPath(),j(o,inflateRect(_e,s)),o.fillStyle=$,o.fill(),o.restore()}inRange(o,s,_){return inRange(this,o,s,_)}inXRange(o,s){return inRange(this,o,null,s)}inYRange(o,s){return inRange(this,null,o,s)}getCenterPoint(o){const{x:s,y:_,base:$,horizontal:_e}=this.getProps(["x","y","base","horizontal"],o);return{x:_e?(s+$)/2:s,y:_e?_:(_+$)/2}}getRange(o){return o==="x"?this.width/2:this.height/2}}__publicField3(BarElement,"id","bar");__publicField3(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0});__publicField3(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});const BORDER_COLORS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],BACKGROUND_COLORS=BORDER_COLORS.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function getBorderColor(i){return BORDER_COLORS[i%BORDER_COLORS.length]}function getBackgroundColor(i){return BACKGROUND_COLORS[i%BACKGROUND_COLORS.length]}function colorizeDefaultDataset(i,o){return i.borderColor=getBorderColor(o),i.backgroundColor=getBackgroundColor(o),++o}function colorizeDoughnutDataset(i,o){return i.backgroundColor=i.data.map(()=>getBorderColor(o++)),o}function colorizePolarAreaDataset(i,o){return i.backgroundColor=i.data.map(()=>getBackgroundColor(o++)),o}function getColorizer(i){let o=0;return(s,_)=>{const $=i.getDatasetMeta(_).controller;$ instanceof DoughnutController?o=colorizeDoughnutDataset(s,o):$ instanceof PolarAreaController?o=colorizePolarAreaDataset(s,o):$&&(o=colorizeDefaultDataset(s,o))}}function containsColorsDefinitions(i){let o;for(o in i)if(i[o].borderColor||i[o].backgroundColor)return!0;return!1}function containsColorsDefinition(i){return i&&(i.borderColor||i.backgroundColor)}var plugin_colors={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,o,s){if(!s.enabled)return;const{data:{datasets:_},options:$}=i.config,{elements:_e}=$;if(!s.forceOverride&&(containsColorsDefinitions(_)||containsColorsDefinition($)||_e&&containsColorsDefinitions(_e)))return;const tt=getColorizer(i);_.forEach(tt)}};function lttbDecimation(i,o,s,_,$){const _e=$.samples||_;if(_e>=s)return i.slice(o,o+s);const tt=[],j=(s-2)/(_e-2);let nt=0;const st=o+s-1;let ht=o,_t,ft,dt,ut,mt;for(tt[nt++]=i[ht],_t=0;_t<_e-2;_t++){let wt=0,Qt=0,Dt;const Et=Math.floor((_t+1)*j)+1+o,xt=Math.min(Math.floor((_t+2)*j)+1,s)+o,pt=xt-Et;for(Dt=Et;Dt<xt;Dt++)wt+=i[Dt].x,Qt+=i[Dt].y;wt/=pt,Qt/=pt;const Vt=Math.floor(_t*j)+1+o,nn=Math.min(Math.floor((_t+1)*j)+1,s)+o,{x:on,y:bt}=i[ht];for(dt=ut=-1,Dt=Vt;Dt<nn;Dt++)ut=.5*Math.abs((on-wt)*(i[Dt].y-bt)-(on-i[Dt].x)*(Qt-bt)),ut>dt&&(dt=ut,ft=i[Dt],mt=Dt);tt[nt++]=ft,ht=mt}return tt[nt++]=i[st],tt}function minMaxDecimation(i,o,s,_){let $=0,_e=0,tt,j,nt,st,ht,_t,ft,dt,ut,mt;const wt=[],Qt=o+s-1,Dt=i[o].x,xt=i[Qt].x-Dt;for(tt=o;tt<o+s;++tt){j=i[tt],nt=(j.x-Dt)/xt*_,st=j.y;const pt=nt|0;if(pt===ht)st<ut?(ut=st,_t=tt):st>mt&&(mt=st,ft=tt),$=(_e*$+j.x)/++_e;else{const Vt=tt-1;if(!isNullOrUndef(_t)&&!isNullOrUndef(ft)){const nn=Math.min(_t,ft),on=Math.max(_t,ft);nn!==dt&&nn!==Vt&&wt.push(__spreadProps2(__spreadValues2({},i[nn]),{x:$})),on!==dt&&on!==Vt&&wt.push(__spreadProps2(__spreadValues2({},i[on]),{x:$}))}tt>0&&Vt!==dt&&wt.push(i[Vt]),wt.push(j),ht=pt,_e=0,ut=mt=st,_t=ft=dt=tt}}return wt}function cleanDecimatedDataset(i){if(i._decimated){const o=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{value:o})}}function cleanDecimatedData(i){i.data.datasets.forEach(o=>{cleanDecimatedDataset(o)})}function getStartAndCountOfVisiblePointsSimplified(i,o){const s=o.length;let _=0,$;const{iScale:_e}=i,{min:tt,max:j,minDefined:nt,maxDefined:st}=_e.getUserBounds();return nt&&(_=_limitValue(_lookupByKey(o,_e.axis,tt).lo,0,s-1)),st?$=_limitValue(_lookupByKey(o,_e.axis,j).hi+1,_,s)-_:$=s-_,{start:_,count:$}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,o,s)=>{if(!s.enabled){cleanDecimatedData(i);return}const _=i.width;i.data.datasets.forEach(($,_e)=>{const{_data:tt,indexAxis:j}=$,nt=i.getDatasetMeta(_e),st=tt||$.data;if(resolve([j,i.options.indexAxis])==="y"||!nt.controller.supportsDecimation)return;const ht=i.scales[nt.xAxisID];if(ht.type!=="linear"&&ht.type!=="time"||i.options.parsing)return;let{start:_t,count:ft}=getStartAndCountOfVisiblePointsSimplified(nt,st);const dt=s.threshold||4*_;if(ft<=dt){cleanDecimatedDataset($);return}isNullOrUndef(tt)&&($._data=st,delete $.data,Object.defineProperty($,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(mt){this._data=mt}}));let ut;switch(s.algorithm){case"lttb":ut=lttbDecimation(st,_t,ft,_,s);break;case"min-max":ut=minMaxDecimation(st,_t,ft,_);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}$._decimated=ut})},destroy(i){cleanDecimatedData(i)}};function _segments(i,o,s){const _=i.segments,$=i.points,_e=o.points,tt=[];for(const j of _){let{start:nt,end:st}=j;st=_findSegmentEnd(nt,st,$);const ht=_getBounds(s,$[nt],$[st],j.loop);if(!o.segments){tt.push({source:j,target:ht,start:$[nt],end:$[st]});continue}const _t=_boundSegments(o,ht);for(const ft of _t){const dt=_getBounds(s,_e[ft.start],_e[ft.end],ft.loop),ut=_boundSegment(j,$,dt);for(const mt of ut)tt.push({source:mt,target:ft,start:{[s]:_getEdge(ht,dt,"start",Math.max)},end:{[s]:_getEdge(ht,dt,"end",Math.min)}})}}return tt}function _getBounds(i,o,s,_){if(_)return;let $=o[i],_e=s[i];return i==="angle"&&($=_normalizeAngle($),_e=_normalizeAngle(_e)),{property:i,start:$,end:_e}}function _pointsFromSegments(i,o){const{x:s=null,y:_=null}=i||{},$=o.points,_e=[];return o.segments.forEach(({start:tt,end:j})=>{j=_findSegmentEnd(tt,j,$);const nt=$[tt],st=$[j];_!==null?(_e.push({x:nt.x,y:_}),_e.push({x:st.x,y:_})):s!==null&&(_e.push({x:s,y:nt.y}),_e.push({x:s,y:st.y}))}),_e}function _findSegmentEnd(i,o,s){for(;o>i;o--){const _=s[o];if(!isNaN(_.x)&&!isNaN(_.y))break}return o}function _getEdge(i,o,s,_){return i&&o?_(i[s],o[s]):i?i[s]:o?o[s]:0}function _createBoundaryLine(i,o){let s=[],_=!1;return isArray(i)?(_=!0,s=i):s=_pointsFromSegments(i,o),s.length?new LineElement({points:s,options:{tension:0},_loop:_,_fullLoop:_}):null}function _shouldApplyFill(i){return i&&i.fill!==!1}function _resolveTarget(i,o,s){let $=i[o].fill;const _e=[o];let tt;if(!s)return $;for(;$!==!1&&_e.indexOf($)===-1;){if(!isNumberFinite($))return $;if(tt=i[$],!tt)return!1;if(tt.visible)return $;_e.push($),$=tt.fill}return!1}function _decodeFill(i,o,s){const _=parseFillOption(i);if(isObject(_))return isNaN(_.value)?!1:_;let $=parseFloat(_);return isNumberFinite($)&&Math.floor($)===$?decodeTargetIndex(_[0],o,$,s):["origin","start","end","stack","shape"].indexOf(_)>=0&&_}function decodeTargetIndex(i,o,s,_){return(i==="-"||i==="+")&&(s=o+s),s===o||s<0||s>=_?!1:s}function _getTargetPixel(i,o){let s=null;return i==="start"?s=o.bottom:i==="end"?s=o.top:isObject(i)?s=o.getPixelForValue(i.value):o.getBasePixel&&(s=o.getBasePixel()),s}function _getTargetValue(i,o,s){let _;return i==="start"?_=s:i==="end"?_=o.options.reverse?o.min:o.max:isObject(i)?_=i.value:_=o.getBaseValue(),_}function parseFillOption(i){const o=i.options,s=o.fill;let _=valueOrDefault(s&&s.target,s);return _===void 0&&(_=!!o.backgroundColor),_===!1||_===null?!1:_===!0?"origin":_}function _buildStackLine(i){const{scale:o,index:s,line:_}=i,$=[],_e=_.segments,tt=_.points,j=getLinesBelow(o,s);j.push(_createBoundaryLine({x:null,y:o.bottom},_));for(let nt=0;nt<_e.length;nt++){const st=_e[nt];for(let ht=st.start;ht<=st.end;ht++)addPointsBelow($,tt[ht],j)}return new LineElement({points:$,options:{}})}function getLinesBelow(i,o){const s=[],_=i.getMatchingVisibleMetas("line");for(let $=0;$<_.length;$++){const _e=_[$];if(_e.index===o)break;_e.hidden||s.unshift(_e.dataset)}return s}function addPointsBelow(i,o,s){const _=[];for(let $=0;$<s.length;$++){const _e=s[$],{first:tt,last:j,point:nt}=findPoint(_e,o,"x");if(!(!nt||tt&&j)){if(tt)_.unshift(nt);else if(i.push(nt),!j)break}}i.push(..._)}function findPoint(i,o,s){const _=i.interpolate(o,s);if(!_)return{};const $=_[s],_e=i.segments,tt=i.points;let j=!1,nt=!1;for(let st=0;st<_e.length;st++){const ht=_e[st],_t=tt[ht.start][s],ft=tt[ht.end][s];if(_isBetween($,_t,ft)){j=$===_t,nt=$===ft;break}}return{first:j,last:nt,point:_}}class simpleArc{constructor(o){this.x=o.x,this.y=o.y,this.radius=o.radius}pathSegment(o,s,_){const{x:$,y:_e,radius:tt}=this;return s=s||{start:0,end:TAU},o.arc($,_e,tt,s.end,s.start,!0),!_.bounds}interpolate(o){const{x:s,y:_,radius:$}=this,_e=o.angle;return{x:s+Math.cos(_e)*$,y:_+Math.sin(_e)*$,angle:_e}}}function _getTarget(i){const{chart:o,fill:s,line:_}=i;if(isNumberFinite(s))return getLineByIndex(o,s);if(s==="stack")return _buildStackLine(i);if(s==="shape")return!0;const $=computeBoundary(i);return $ instanceof simpleArc?$:_createBoundaryLine($,_)}function getLineByIndex(i,o){const s=i.getDatasetMeta(o);return s&&i.isDatasetVisible(o)?s.dataset:null}function computeBoundary(i){return(i.scale||{}).getPointPositionForValue?computeCircularBoundary(i):computeLinearBoundary(i)}function computeLinearBoundary(i){const{scale:o={},fill:s}=i,_=_getTargetPixel(s,o);if(isNumberFinite(_)){const $=o.isHorizontal();return{x:$?_:null,y:$?null:_}}return null}function computeCircularBoundary(i){const{scale:o,fill:s}=i,_=o.options,$=o.getLabels().length,_e=_.reverse?o.max:o.min,tt=_getTargetValue(s,o,_e),j=[];if(_.grid.circular){const nt=o.getPointPositionForValue(0,_e);return new simpleArc({x:nt.x,y:nt.y,radius:o.getDistanceFromCenterForValue(tt)})}for(let nt=0;nt<$;++nt)j.push(o.getPointPositionForValue(nt,tt));return j}function _drawfill(i,o,s){const _=_getTarget(o),{line:$,scale:_e,axis:tt}=o,j=$.options,nt=j.fill,st=j.backgroundColor,{above:ht=st,below:_t=st}=nt||{};_&&$.points.length&&(clipArea(i,s),doFill(i,{line:$,target:_,above:ht,below:_t,area:s,scale:_e,axis:tt}),unclipArea(i))}function doFill(i,o){const{line:s,target:_,above:$,below:_e,area:tt,scale:j}=o,nt=s._loop?"angle":o.axis;i.save(),nt==="x"&&_e!==$&&(clipVertical(i,_,tt.top),fill(i,{line:s,target:_,color:$,scale:j,property:nt}),i.restore(),i.save(),clipVertical(i,_,tt.bottom)),fill(i,{line:s,target:_,color:_e,scale:j,property:nt}),i.restore()}function clipVertical(i,o,s){const{segments:_,points:$}=o;let _e=!0,tt=!1;i.beginPath();for(const j of _){const{start:nt,end:st}=j,ht=$[nt],_t=$[_findSegmentEnd(nt,st,$)];_e?(i.moveTo(ht.x,ht.y),_e=!1):(i.lineTo(ht.x,s),i.lineTo(ht.x,ht.y)),tt=!!o.pathSegment(i,j,{move:tt}),tt?i.closePath():i.lineTo(_t.x,s)}i.lineTo(o.first().x,s),i.closePath(),i.clip()}function fill(i,o){const{line:s,target:_,property:$,color:_e,scale:tt}=o,j=_segments(s,_,$);for(const{source:nt,target:st,start:ht,end:_t}of j){const{style:{backgroundColor:ft=_e}={}}=nt,dt=_!==!0;i.save(),i.fillStyle=ft,clipBounds(i,tt,dt&&_getBounds($,ht,_t)),i.beginPath();const ut=!!s.pathSegment(i,nt);let mt;if(dt){ut?i.closePath():interpolatedLineTo(i,_,_t,$);const wt=!!_.pathSegment(i,st,{move:ut,reverse:!0});mt=ut&&wt,mt||interpolatedLineTo(i,_,ht,$)}i.closePath(),i.fill(mt?"evenodd":"nonzero"),i.restore()}}function clipBounds(i,o,s){const{top:_,bottom:$}=o.chart.chartArea,{property:_e,start:tt,end:j}=s||{};_e==="x"&&(i.beginPath(),i.rect(tt,_,j-tt,$-_),i.clip())}function interpolatedLineTo(i,o,s,_){const $=o.interpolate(s,_);$&&i.lineTo($.x,$.y)}var index={id:"filler",afterDatasetsUpdate(i,o,s){const _=(i.data.datasets||[]).length,$=[];let _e,tt,j,nt;for(tt=0;tt<_;++tt)_e=i.getDatasetMeta(tt),j=_e.dataset,nt=null,j&&j.options&&j instanceof LineElement&&(nt={visible:i.isDatasetVisible(tt),index:tt,fill:_decodeFill(j,tt,_),chart:i,axis:_e.controller.options.indexAxis,scale:_e.vScale,line:j}),_e.$filler=nt,$.push(nt);for(tt=0;tt<_;++tt)nt=$[tt],!(!nt||nt.fill===!1)&&(nt.fill=_resolveTarget($,tt,s.propagate))},beforeDraw(i,o,s){const _=s.drawTime==="beforeDraw",$=i.getSortedVisibleDatasetMetas(),_e=i.chartArea;for(let tt=$.length-1;tt>=0;--tt){const j=$[tt].$filler;j&&(j.line.updateControlPoints(_e,j.axis),_&&j.fill&&_drawfill(i.ctx,j,_e))}},beforeDatasetsDraw(i,o,s){if(s.drawTime!=="beforeDatasetsDraw")return;const _=i.getSortedVisibleDatasetMetas();for(let $=_.length-1;$>=0;--$){const _e=_[$].$filler;_shouldApplyFill(_e)&&_drawfill(i.ctx,_e,i.chartArea)}},beforeDatasetDraw(i,o,s){const _=o.meta.$filler;!_shouldApplyFill(_)||s.drawTime!=="beforeDatasetDraw"||_drawfill(i.ctx,_,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(i,o)=>{let{boxHeight:s=o,boxWidth:_=o}=i;return i.usePointStyle&&(s=Math.min(s,o),_=i.pointStyleWidth||Math.min(_,o)),{boxWidth:_,boxHeight:s,itemHeight:Math.max(o,s)}},itemsEqual=(i,o)=>i!==null&&o!==null&&i.datasetIndex===o.datasetIndex&&i.index===o.index;class Legend extends Element{constructor(o){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,s,_){this.maxWidth=o,this.maxHeight=s,this._margins=_,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const o=this.options.labels||{};let s=callback(o.generateLabels,[this.chart],this)||[];o.filter&&(s=s.filter(_=>o.filter(_,this.chart.data))),o.sort&&(s=s.sort((_,$)=>o.sort(_,$,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:o,ctx:s}=this;if(!o.display){this.width=this.height=0;return}const _=o.labels,$=toFont(_.font),_e=$.size,tt=this._computeTitleHeight(),{boxWidth:j,itemHeight:nt}=getBoxSize(_,_e);let st,ht;s.font=$.string,this.isHorizontal()?(st=this.maxWidth,ht=this._fitRows(tt,_e,j,nt)+10):(ht=this.maxHeight,st=this._fitCols(tt,$,j,nt)+10),this.width=Math.min(st,o.maxWidth||this.maxWidth),this.height=Math.min(ht,o.maxHeight||this.maxHeight)}_fitRows(o,s,_,$){const{ctx:_e,maxWidth:tt,options:{labels:{padding:j}}}=this,nt=this.legendHitBoxes=[],st=this.lineWidths=[0],ht=$+j;let _t=o;_e.textAlign="left",_e.textBaseline="middle";let ft=-1,dt=-ht;return this.legendItems.forEach((ut,mt)=>{const wt=_+s/2+_e.measureText(ut.text).width;(mt===0||st[st.length-1]+wt+2*j>tt)&&(_t+=ht,st[st.length-(mt>0?0:1)]=0,dt+=ht,ft++),nt[mt]={left:0,top:dt,row:ft,width:wt,height:$},st[st.length-1]+=wt+j}),_t}_fitCols(o,s,_,$){const{ctx:_e,maxHeight:tt,options:{labels:{padding:j}}}=this,nt=this.legendHitBoxes=[],st=this.columnSizes=[],ht=tt-o;let _t=j,ft=0,dt=0,ut=0,mt=0;return this.legendItems.forEach((wt,Qt)=>{const{itemWidth:Dt,itemHeight:Et}=calculateItemSize(_,s,_e,wt,$);Qt>0&&dt+Et+2*j>ht&&(_t+=ft+j,st.push({width:ft,height:dt}),ut+=ft+j,mt++,ft=dt=0),nt[Qt]={left:ut,top:dt,col:mt,width:Dt,height:Et},ft=Math.max(ft,Dt),dt+=Et+j}),_t+=ft,st.push({width:ft,height:dt}),_t}adjustHitBoxes(){if(!this.options.display)return;const o=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:_,labels:{padding:$},rtl:_e}}=this,tt=getRtlAdapter(_e,this.left,this.width);if(this.isHorizontal()){let j=0,nt=_alignStartEnd(_,this.left+$,this.right-this.lineWidths[j]);for(const st of s)j!==st.row&&(j=st.row,nt=_alignStartEnd(_,this.left+$,this.right-this.lineWidths[j])),st.top+=this.top+o+$,st.left=tt.leftForLtr(tt.x(nt),st.width),nt+=st.width+$}else{let j=0,nt=_alignStartEnd(_,this.top+o+$,this.bottom-this.columnSizes[j].height);for(const st of s)st.col!==j&&(j=st.col,nt=_alignStartEnd(_,this.top+o+$,this.bottom-this.columnSizes[j].height)),st.top=nt,st.left+=this.left+$,st.left=tt.leftForLtr(tt.x(st.left),st.width),nt+=st.height+$}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const o=this.ctx;clipArea(o,this),this._draw(),unclipArea(o)}}_draw(){const{options:o,columnSizes:s,lineWidths:_,ctx:$}=this,{align:_e,labels:tt}=o,j=defaults.color,nt=getRtlAdapter(o.rtl,this.left,this.width),st=toFont(tt.font),{padding:ht}=tt,_t=st.size,ft=_t/2;let dt;this.drawTitle(),$.textAlign=nt.textAlign("left"),$.textBaseline="middle",$.lineWidth=.5,$.font=st.string;const{boxWidth:ut,boxHeight:mt,itemHeight:wt}=getBoxSize(tt,_t),Qt=function(Vt,nn,on){if(isNaN(ut)||ut<=0||isNaN(mt)||mt<0)return;$.save();const bt=valueOrDefault(on.lineWidth,1);if($.fillStyle=valueOrDefault(on.fillStyle,j),$.lineCap=valueOrDefault(on.lineCap,"butt"),$.lineDashOffset=valueOrDefault(on.lineDashOffset,0),$.lineJoin=valueOrDefault(on.lineJoin,"miter"),$.lineWidth=bt,$.strokeStyle=valueOrDefault(on.strokeStyle,j),$.setLineDash(valueOrDefault(on.lineDash,[])),tt.usePointStyle){const St={radius:mt*Math.SQRT2/2,pointStyle:on.pointStyle,rotation:on.rotation,borderWidth:bt},It=nt.xPlus(Vt,ut/2),Bt=nn+ft;drawPointLegend($,St,It,Bt,tt.pointStyleWidth&&ut)}else{const St=nn+Math.max((_t-mt)/2,0),It=nt.leftForLtr(Vt,ut),Bt=toTRBLCorners(on.borderRadius);$.beginPath(),Object.values(Bt).some(Lt=>Lt!==0)?addRoundedRectPath($,{x:It,y:St,w:ut,h:mt,radius:Bt}):$.rect(It,St,ut,mt),$.fill(),bt!==0&&$.stroke()}$.restore()},Dt=function(Vt,nn,on){renderText($,on.text,Vt,nn+wt/2,st,{strikethrough:on.hidden,textAlign:nt.textAlign(on.textAlign)})},Et=this.isHorizontal(),xt=this._computeTitleHeight();Et?dt={x:_alignStartEnd(_e,this.left+ht,this.right-_[0]),y:this.top+ht+xt,line:0}:dt={x:this.left+ht,y:_alignStartEnd(_e,this.top+xt+ht,this.bottom-s[0].height),line:0},overrideTextDirection(this.ctx,o.textDirection);const pt=wt+ht;this.legendItems.forEach((Vt,nn)=>{$.strokeStyle=Vt.fontColor,$.fillStyle=Vt.fontColor;const on=$.measureText(Vt.text).width,bt=nt.textAlign(Vt.textAlign||(Vt.textAlign=tt.textAlign)),St=ut+ft+on;let It=dt.x,Bt=dt.y;nt.setWidth(this.width),Et?nn>0&&It+St+ht>this.right&&(Bt=dt.y+=pt,dt.line++,It=dt.x=_alignStartEnd(_e,this.left+ht,this.right-_[dt.line])):nn>0&&Bt+pt>this.bottom&&(It=dt.x=It+s[dt.line].width+ht,dt.line++,Bt=dt.y=_alignStartEnd(_e,this.top+xt+ht,this.bottom-s[dt.line].height));const Lt=nt.x(It);if(Qt(Lt,Bt,Vt),It=_textX(bt,It+ut+ft,Et?It+St:this.right,o.rtl),Dt(nt.x(It),Bt,Vt),Et)dt.x+=St+ht;else if(typeof Vt.text!="string"){const Xt=st.lineHeight;dt.y+=calculateLegendItemHeight(Vt,Xt)}else dt.y+=pt}),restoreTextDirection(this.ctx,o.textDirection)}drawTitle(){const o=this.options,s=o.title,_=toFont(s.font),$=toPadding(s.padding);if(!s.display)return;const _e=getRtlAdapter(o.rtl,this.left,this.width),tt=this.ctx,j=s.position,nt=_.size/2,st=$.top+nt;let ht,_t=this.left,ft=this.width;if(this.isHorizontal())ft=Math.max(...this.lineWidths),ht=this.top+st,_t=_alignStartEnd(o.align,_t,this.right-ft);else{const ut=this.columnSizes.reduce((mt,wt)=>Math.max(mt,wt.height),0);ht=st+_alignStartEnd(o.align,this.top,this.bottom-ut-o.labels.padding-this._computeTitleHeight())}const dt=_alignStartEnd(j,_t,_t+ft);tt.textAlign=_e.textAlign(_toLeftRightCenter(j)),tt.textBaseline="middle",tt.strokeStyle=s.color,tt.fillStyle=s.color,tt.font=_.string,renderText(tt,s.text,dt,ht,_)}_computeTitleHeight(){const o=this.options.title,s=toFont(o.font),_=toPadding(o.padding);return o.display?s.lineHeight+_.height:0}_getLegendItemAt(o,s){let _,$,_e;if(_isBetween(o,this.left,this.right)&&_isBetween(s,this.top,this.bottom)){for(_e=this.legendHitBoxes,_=0;_<_e.length;++_)if($=_e[_],_isBetween(o,$.left,$.left+$.width)&&_isBetween(s,$.top,$.top+$.height))return this.legendItems[_]}return null}handleEvent(o){const s=this.options;if(!isListened(o.type,s))return;const _=this._getLegendItemAt(o.x,o.y);if(o.type==="mousemove"||o.type==="mouseout"){const $=this._hoveredItem,_e=itemsEqual($,_);$&&!_e&&callback(s.onLeave,[o,$,this],this),this._hoveredItem=_,_&&!_e&&callback(s.onHover,[o,_,this],this)}else _&&callback(s.onClick,[o,_,this],this)}}function calculateItemSize(i,o,s,_,$){const _e=calculateItemWidth(_,i,o,s),tt=calculateItemHeight($,_,o.lineHeight);return{itemWidth:_e,itemHeight:tt}}function calculateItemWidth(i,o,s,_){let $=i.text;return $&&typeof $!="string"&&($=$.reduce((_e,tt)=>_e.length>tt.length?_e:tt)),o+s.size/2+_.measureText($).width}function calculateItemHeight(i,o,s){let _=i;return typeof o.text!="string"&&(_=calculateLegendItemHeight(o,s)),_}function calculateLegendItemHeight(i,o){const s=i.text?i.text.length+.5:0;return o*s}function isListened(i,o){return!!((i==="mousemove"||i==="mouseout")&&(o.onHover||o.onLeave)||o.onClick&&(i==="click"||i==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(i,o,s){const _=i.legend=new Legend({ctx:i.ctx,options:s,chart:i});layouts.configure(i,_,s),layouts.addBox(i,_)},stop(i){layouts.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,o,s){const _=i.legend;layouts.configure(i,_,s),_.options=s},afterUpdate(i){const o=i.legend;o.buildLabels(),o.adjustHitBoxes()},afterEvent(i,o){o.replay||i.legend.handleEvent(o.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,o,s){const _=o.datasetIndex,$=s.chart;$.isDatasetVisible(_)?($.hide(_),o.hidden=!0):($.show(_),o.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const o=i.data.datasets,{labels:{usePointStyle:s,pointStyle:_,textAlign:$,color:_e,useBorderRadius:tt,borderRadius:j}}=i.legend.options;return i._getSortedDatasetMetas().map(nt=>{const st=nt.controller.getStyle(s?0:void 0),ht=toPadding(st.borderWidth);return{text:o[nt.index].label,fillStyle:st.backgroundColor,fontColor:_e,hidden:!nt.visible,lineCap:st.borderCapStyle,lineDash:st.borderDash,lineDashOffset:st.borderDashOffset,lineJoin:st.borderJoinStyle,lineWidth:(ht.width+ht.height)/4,strokeStyle:st.borderColor,pointStyle:_||st.pointStyle,rotation:st.rotation,textAlign:$||st.textAlign,borderRadius:tt&&(j||st.borderRadius),datasetIndex:nt.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Title extends Element{constructor(o){super(),this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,s){const _=this.options;if(this.left=0,this.top=0,!_.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=o,this.height=this.bottom=s;const $=isArray(_.text)?_.text.length:1;this._padding=toPadding(_.padding);const _e=$*toFont(_.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=_e:this.width=_e}isHorizontal(){const o=this.options.position;return o==="top"||o==="bottom"}_drawArgs(o){const{top:s,left:_,bottom:$,right:_e,options:tt}=this,j=tt.align;let nt=0,st,ht,_t;return this.isHorizontal()?(ht=_alignStartEnd(j,_,_e),_t=s+o,st=_e-_):(tt.position==="left"?(ht=_+o,_t=_alignStartEnd(j,$,s),nt=PI*-.5):(ht=_e-o,_t=_alignStartEnd(j,s,$),nt=PI*.5),st=$-s),{titleX:ht,titleY:_t,maxWidth:st,rotation:nt}}draw(){const o=this.ctx,s=this.options;if(!s.display)return;const _=toFont(s.font),_e=_.lineHeight/2+this._padding.top,{titleX:tt,titleY:j,maxWidth:nt,rotation:st}=this._drawArgs(_e);renderText(o,s.text,0,0,_,{color:s.color,maxWidth:nt,rotation:st,textAlign:_toLeftRightCenter(s.align),textBaseline:"middle",translation:[tt,j]})}}function createTitle(i,o){const s=new Title({ctx:i.ctx,options:o,chart:i});layouts.configure(i,s,o),layouts.addBox(i,s),i.titleBlock=s}var plugin_title={id:"title",_element:Title,start(i,o,s){createTitle(i,s)},stop(i){const o=i.titleBlock;layouts.removeBox(i,o),delete i.titleBlock},beforeUpdate(i,o,s){const _=i.titleBlock;layouts.configure(i,_,s),_.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(i,o,s){const _=new Title({ctx:i.ctx,options:s,chart:i});layouts.configure(i,_,s),layouts.addBox(i,_),map.set(i,_)},stop(i){layouts.removeBox(i,map.get(i)),map.delete(i)},beforeUpdate(i,o,s){const _=map.get(i);layouts.configure(i,_,s),_.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(i){if(!i.length)return!1;let o,s,_=0,$=0,_e=0;for(o=0,s=i.length;o<s;++o){const tt=i[o].element;if(tt&&tt.hasValue()){const j=tt.tooltipPosition();_+=j.x,$+=j.y,++_e}}return{x:_/_e,y:$/_e}},nearest(i,o){if(!i.length)return!1;let s=o.x,_=o.y,$=Number.POSITIVE_INFINITY,_e,tt,j;for(_e=0,tt=i.length;_e<tt;++_e){const nt=i[_e].element;if(nt&&nt.hasValue()){const st=nt.getCenterPoint(),ht=distanceBetweenPoints(o,st);ht<$&&($=ht,j=nt)}}if(j){const nt=j.tooltipPosition();s=nt.x,_=nt.y}return{x:s,y:_}}};function pushOrConcat(i,o){return o&&(isArray(o)?Array.prototype.push.apply(i,o):i.push(o)),i}function splitNewlines(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function createTooltipItem(i,o){const{element:s,datasetIndex:_,index:$}=o,_e=i.getDatasetMeta(_).controller,{label:tt,value:j}=_e.getLabelAndValue($);return{chart:i,label:tt,parsed:_e.getParsed($),raw:i.data.datasets[_].data[$],formattedValue:j,dataset:_e.getDataset(),dataIndex:$,datasetIndex:_,element:s}}function getTooltipSize(i,o){const s=i.chart.ctx,{body:_,footer:$,title:_e}=i,{boxWidth:tt,boxHeight:j}=o,nt=toFont(o.bodyFont),st=toFont(o.titleFont),ht=toFont(o.footerFont),_t=_e.length,ft=$.length,dt=_.length,ut=toPadding(o.padding);let mt=ut.height,wt=0,Qt=_.reduce((xt,pt)=>xt+pt.before.length+pt.lines.length+pt.after.length,0);if(Qt+=i.beforeBody.length+i.afterBody.length,_t&&(mt+=_t*st.lineHeight+(_t-1)*o.titleSpacing+o.titleMarginBottom),Qt){const xt=o.displayColors?Math.max(j,nt.lineHeight):nt.lineHeight;mt+=dt*xt+(Qt-dt)*nt.lineHeight+(Qt-1)*o.bodySpacing}ft&&(mt+=o.footerMarginTop+ft*ht.lineHeight+(ft-1)*o.footerSpacing);let Dt=0;const Et=function(xt){wt=Math.max(wt,s.measureText(xt).width+Dt)};return s.save(),s.font=st.string,each(i.title,Et),s.font=nt.string,each(i.beforeBody.concat(i.afterBody),Et),Dt=o.displayColors?tt+2+o.boxPadding:0,each(_,xt=>{each(xt.before,Et),each(xt.lines,Et),each(xt.after,Et)}),Dt=0,s.font=ht.string,each(i.footer,Et),s.restore(),wt+=ut.width,{width:wt,height:mt}}function determineYAlign(i,o){const{y:s,height:_}=o;return s<_/2?"top":s>i.height-_/2?"bottom":"center"}function doesNotFitWithAlign(i,o,s,_){const{x:$,width:_e}=_,tt=s.caretSize+s.caretPadding;if(i==="left"&&$+_e+tt>o.width||i==="right"&&$-_e-tt<0)return!0}function determineXAlign(i,o,s,_){const{x:$,width:_e}=s,{width:tt,chartArea:{left:j,right:nt}}=i;let st="center";return _==="center"?st=$<=(j+nt)/2?"left":"right":$<=_e/2?st="left":$>=tt-_e/2&&(st="right"),doesNotFitWithAlign(st,i,o,s)&&(st="center"),st}function determineAlignment(i,o,s){const _=s.yAlign||o.yAlign||determineYAlign(i,s);return{xAlign:s.xAlign||o.xAlign||determineXAlign(i,o,s,_),yAlign:_}}function alignX(i,o){let{x:s,width:_}=i;return o==="right"?s-=_:o==="center"&&(s-=_/2),s}function alignY(i,o,s){let{y:_,height:$}=i;return o==="top"?_+=s:o==="bottom"?_-=$+s:_-=$/2,_}function getBackgroundPoint(i,o,s,_){const{caretSize:$,caretPadding:_e,cornerRadius:tt}=i,{xAlign:j,yAlign:nt}=s,st=$+_e,{topLeft:ht,topRight:_t,bottomLeft:ft,bottomRight:dt}=toTRBLCorners(tt);let ut=alignX(o,j);const mt=alignY(o,nt,st);return nt==="center"?j==="left"?ut+=st:j==="right"&&(ut-=st):j==="left"?ut-=Math.max(ht,ft)+$:j==="right"&&(ut+=Math.max(_t,dt)+$),{x:_limitValue(ut,0,_.width-o.width),y:_limitValue(mt,0,_.height-o.height)}}function getAlignedX(i,o,s){const _=toPadding(s.padding);return o==="center"?i.x+i.width/2:o==="right"?i.x+i.width-_.right:i.x+_.left}function getBeforeAfterBodyLines(i){return pushOrConcat([],splitNewlines(i))}function createTooltipContext(i,o,s){return createContext(i,{tooltip:o,tooltipItems:s,type:"tooltip"})}function overrideCallbacks(i,o){const s=o&&o.dataset&&o.dataset.tooltip&&o.dataset.tooltip.callbacks;return s?i.override(s):i}const defaultCallbacks={beforeTitle:noop$1,title(i){if(i.length>0){const o=i[0],s=o.chart.data.labels,_=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return o.dataset.label||"";if(o.label)return o.label;if(_>0&&o.dataIndex<_)return s[o.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let o=i.dataset.label||"";o&&(o+=": ");const s=i.formattedValue;return isNullOrUndef(s)||(o+=s),o},labelColor(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const s=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(i,o,s,_){const $=i[o].call(s,_);return typeof $>"u"?defaultCallbacks[o].call(s,_):$}class Tooltip$1 extends Element{constructor(o){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=o.chart,this.options=o.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(o){this.options=o,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const o=this._cachedAnimations;if(o)return o;const s=this.chart,_=this.options.setContext(this.getContext()),$=_.enabled&&s.options.animation&&_.animations,_e=new Animations(this.chart,$);return $._cacheable&&(this._cachedAnimations=Object.freeze(_e)),_e}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(o,s){const{callbacks:_}=s,$=invokeCallbackWithFallback(_,"beforeTitle",this,o),_e=invokeCallbackWithFallback(_,"title",this,o),tt=invokeCallbackWithFallback(_,"afterTitle",this,o);let j=[];return j=pushOrConcat(j,splitNewlines($)),j=pushOrConcat(j,splitNewlines(_e)),j=pushOrConcat(j,splitNewlines(tt)),j}getBeforeBody(o,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"beforeBody",this,o))}getBody(o,s){const{callbacks:_}=s,$=[];return each(o,_e=>{const tt={before:[],lines:[],after:[]},j=overrideCallbacks(_,_e);pushOrConcat(tt.before,splitNewlines(invokeCallbackWithFallback(j,"beforeLabel",this,_e))),pushOrConcat(tt.lines,invokeCallbackWithFallback(j,"label",this,_e)),pushOrConcat(tt.after,splitNewlines(invokeCallbackWithFallback(j,"afterLabel",this,_e))),$.push(tt)}),$}getAfterBody(o,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"afterBody",this,o))}getFooter(o,s){const{callbacks:_}=s,$=invokeCallbackWithFallback(_,"beforeFooter",this,o),_e=invokeCallbackWithFallback(_,"footer",this,o),tt=invokeCallbackWithFallback(_,"afterFooter",this,o);let j=[];return j=pushOrConcat(j,splitNewlines($)),j=pushOrConcat(j,splitNewlines(_e)),j=pushOrConcat(j,splitNewlines(tt)),j}_createItems(o){const s=this._active,_=this.chart.data,$=[],_e=[],tt=[];let j=[],nt,st;for(nt=0,st=s.length;nt<st;++nt)j.push(createTooltipItem(this.chart,s[nt]));return o.filter&&(j=j.filter((ht,_t,ft)=>o.filter(ht,_t,ft,_))),o.itemSort&&(j=j.sort((ht,_t)=>o.itemSort(ht,_t,_))),each(j,ht=>{const _t=overrideCallbacks(o.callbacks,ht);$.push(invokeCallbackWithFallback(_t,"labelColor",this,ht)),_e.push(invokeCallbackWithFallback(_t,"labelPointStyle",this,ht)),tt.push(invokeCallbackWithFallback(_t,"labelTextColor",this,ht))}),this.labelColors=$,this.labelPointStyles=_e,this.labelTextColors=tt,this.dataPoints=j,j}update(o,s){const _=this.options.setContext(this.getContext()),$=this._active;let _e,tt=[];if(!$.length)this.opacity!==0&&(_e={opacity:0});else{const j=positioners[_.position].call(this,$,this._eventPosition);tt=this._createItems(_),this.title=this.getTitle(tt,_),this.beforeBody=this.getBeforeBody(tt,_),this.body=this.getBody(tt,_),this.afterBody=this.getAfterBody(tt,_),this.footer=this.getFooter(tt,_);const nt=this._size=getTooltipSize(this,_),st=Object.assign({},j,nt),ht=determineAlignment(this.chart,_,st),_t=getBackgroundPoint(_,st,ht,this.chart);this.xAlign=ht.xAlign,this.yAlign=ht.yAlign,_e={opacity:1,x:_t.x,y:_t.y,width:nt.width,height:nt.height,caretX:j.x,caretY:j.y}}this._tooltipItems=tt,this.$context=void 0,_e&&this._resolveAnimations().update(this,_e),o&&_.external&&_.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(o,s,_,$){const _e=this.getCaretPosition(o,_,$);s.lineTo(_e.x1,_e.y1),s.lineTo(_e.x2,_e.y2),s.lineTo(_e.x3,_e.y3)}getCaretPosition(o,s,_){const{xAlign:$,yAlign:_e}=this,{caretSize:tt,cornerRadius:j}=_,{topLeft:nt,topRight:st,bottomLeft:ht,bottomRight:_t}=toTRBLCorners(j),{x:ft,y:dt}=o,{width:ut,height:mt}=s;let wt,Qt,Dt,Et,xt,pt;return _e==="center"?(xt=dt+mt/2,$==="left"?(wt=ft,Qt=wt-tt,Et=xt+tt,pt=xt-tt):(wt=ft+ut,Qt=wt+tt,Et=xt-tt,pt=xt+tt),Dt=wt):($==="left"?Qt=ft+Math.max(nt,ht)+tt:$==="right"?Qt=ft+ut-Math.max(st,_t)-tt:Qt=this.caretX,_e==="top"?(Et=dt,xt=Et-tt,wt=Qt-tt,Dt=Qt+tt):(Et=dt+mt,xt=Et+tt,wt=Qt+tt,Dt=Qt-tt),pt=Et),{x1:wt,x2:Qt,x3:Dt,y1:Et,y2:xt,y3:pt}}drawTitle(o,s,_){const $=this.title,_e=$.length;let tt,j,nt;if(_e){const st=getRtlAdapter(_.rtl,this.x,this.width);for(o.x=getAlignedX(this,_.titleAlign,_),s.textAlign=st.textAlign(_.titleAlign),s.textBaseline="middle",tt=toFont(_.titleFont),j=_.titleSpacing,s.fillStyle=_.titleColor,s.font=tt.string,nt=0;nt<_e;++nt)s.fillText($[nt],st.x(o.x),o.y+tt.lineHeight/2),o.y+=tt.lineHeight+j,nt+1===_e&&(o.y+=_.titleMarginBottom-j)}}_drawColorBox(o,s,_,$,_e){const tt=this.labelColors[_],j=this.labelPointStyles[_],{boxHeight:nt,boxWidth:st,boxPadding:ht}=_e,_t=toFont(_e.bodyFont),ft=getAlignedX(this,"left",_e),dt=$.x(ft),ut=nt<_t.lineHeight?(_t.lineHeight-nt)/2:0,mt=s.y+ut;if(_e.usePointStyle){const wt={radius:Math.min(st,nt)/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:1},Qt=$.leftForLtr(dt,st)+st/2,Dt=mt+nt/2;o.strokeStyle=_e.multiKeyBackground,o.fillStyle=_e.multiKeyBackground,drawPoint(o,wt,Qt,Dt),o.strokeStyle=tt.borderColor,o.fillStyle=tt.backgroundColor,drawPoint(o,wt,Qt,Dt)}else{o.lineWidth=isObject(tt.borderWidth)?Math.max(...Object.values(tt.borderWidth)):tt.borderWidth||1,o.strokeStyle=tt.borderColor,o.setLineDash(tt.borderDash||[]),o.lineDashOffset=tt.borderDashOffset||0;const wt=$.leftForLtr(dt,st-ht),Qt=$.leftForLtr($.xPlus(dt,1),st-ht-2),Dt=toTRBLCorners(tt.borderRadius);Object.values(Dt).some(Et=>Et!==0)?(o.beginPath(),o.fillStyle=_e.multiKeyBackground,addRoundedRectPath(o,{x:wt,y:mt,w:st,h:nt,radius:Dt}),o.fill(),o.stroke(),o.fillStyle=tt.backgroundColor,o.beginPath(),addRoundedRectPath(o,{x:Qt,y:mt+1,w:st-2,h:nt-2,radius:Dt}),o.fill()):(o.fillStyle=_e.multiKeyBackground,o.fillRect(wt,mt,st,nt),o.strokeRect(wt,mt,st,nt),o.fillStyle=tt.backgroundColor,o.fillRect(Qt,mt+1,st-2,nt-2))}o.fillStyle=this.labelTextColors[_]}drawBody(o,s,_){const{body:$}=this,{bodySpacing:_e,bodyAlign:tt,displayColors:j,boxHeight:nt,boxWidth:st,boxPadding:ht}=_,_t=toFont(_.bodyFont);let ft=_t.lineHeight,dt=0;const ut=getRtlAdapter(_.rtl,this.x,this.width),mt=function(on){s.fillText(on,ut.x(o.x+dt),o.y+ft/2),o.y+=ft+_e},wt=ut.textAlign(tt);let Qt,Dt,Et,xt,pt,Vt,nn;for(s.textAlign=tt,s.textBaseline="middle",s.font=_t.string,o.x=getAlignedX(this,wt,_),s.fillStyle=_.bodyColor,each(this.beforeBody,mt),dt=j&&wt!=="right"?tt==="center"?st/2+ht:st+2+ht:0,xt=0,Vt=$.length;xt<Vt;++xt){for(Qt=$[xt],Dt=this.labelTextColors[xt],s.fillStyle=Dt,each(Qt.before,mt),Et=Qt.lines,j&&Et.length&&(this._drawColorBox(s,o,xt,ut,_),ft=Math.max(_t.lineHeight,nt)),pt=0,nn=Et.length;pt<nn;++pt)mt(Et[pt]),ft=_t.lineHeight;each(Qt.after,mt)}dt=0,ft=_t.lineHeight,each(this.afterBody,mt),o.y-=_e}drawFooter(o,s,_){const $=this.footer,_e=$.length;let tt,j;if(_e){const nt=getRtlAdapter(_.rtl,this.x,this.width);for(o.x=getAlignedX(this,_.footerAlign,_),o.y+=_.footerMarginTop,s.textAlign=nt.textAlign(_.footerAlign),s.textBaseline="middle",tt=toFont(_.footerFont),s.fillStyle=_.footerColor,s.font=tt.string,j=0;j<_e;++j)s.fillText($[j],nt.x(o.x),o.y+tt.lineHeight/2),o.y+=tt.lineHeight+_.footerSpacing}}drawBackground(o,s,_,$){const{xAlign:_e,yAlign:tt}=this,{x:j,y:nt}=o,{width:st,height:ht}=_,{topLeft:_t,topRight:ft,bottomLeft:dt,bottomRight:ut}=toTRBLCorners($.cornerRadius);s.fillStyle=$.backgroundColor,s.strokeStyle=$.borderColor,s.lineWidth=$.borderWidth,s.beginPath(),s.moveTo(j+_t,nt),tt==="top"&&this.drawCaret(o,s,_,$),s.lineTo(j+st-ft,nt),s.quadraticCurveTo(j+st,nt,j+st,nt+ft),tt==="center"&&_e==="right"&&this.drawCaret(o,s,_,$),s.lineTo(j+st,nt+ht-ut),s.quadraticCurveTo(j+st,nt+ht,j+st-ut,nt+ht),tt==="bottom"&&this.drawCaret(o,s,_,$),s.lineTo(j+dt,nt+ht),s.quadraticCurveTo(j,nt+ht,j,nt+ht-dt),tt==="center"&&_e==="left"&&this.drawCaret(o,s,_,$),s.lineTo(j,nt+_t),s.quadraticCurveTo(j,nt,j+_t,nt),s.closePath(),s.fill(),$.borderWidth>0&&s.stroke()}_updateAnimationTarget(o){const s=this.chart,_=this.$animations,$=_&&_.x,_e=_&&_.y;if($||_e){const tt=positioners[o.position].call(this,this._active,this._eventPosition);if(!tt)return;const j=this._size=getTooltipSize(this,o),nt=Object.assign({},tt,this._size),st=determineAlignment(s,o,nt),ht=getBackgroundPoint(o,nt,st,s);($._to!==ht.x||_e._to!==ht.y)&&(this.xAlign=st.xAlign,this.yAlign=st.yAlign,this.width=j.width,this.height=j.height,this.caretX=tt.x,this.caretY=tt.y,this._resolveAnimations().update(this,ht))}}_willRender(){return!!this.opacity}draw(o){const s=this.options.setContext(this.getContext());let _=this.opacity;if(!_)return;this._updateAnimationTarget(s);const $={width:this.width,height:this.height},_e={x:this.x,y:this.y};_=Math.abs(_)<.001?0:_;const tt=toPadding(s.padding),j=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&j&&(o.save(),o.globalAlpha=_,this.drawBackground(_e,o,$,s),overrideTextDirection(o,s.textDirection),_e.y+=tt.top,this.drawTitle(_e,o,s),this.drawBody(_e,o,s),this.drawFooter(_e,o,s),restoreTextDirection(o,s.textDirection),o.restore())}getActiveElements(){return this._active||[]}setActiveElements(o,s){const _=this._active,$=o.map(({datasetIndex:j,index:nt})=>{const st=this.chart.getDatasetMeta(j);if(!st)throw new Error("Cannot find a dataset at index "+j);return{datasetIndex:j,element:st.data[nt],index:nt}}),_e=!_elementsEqual(_,$),tt=this._positionChanged($,s);(_e||tt)&&(this._active=$,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(o,s,_=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const $=this.options,_e=this._active||[],tt=this._getActiveElements(o,_e,s,_),j=this._positionChanged(tt,o),nt=s||!_elementsEqual(tt,_e)||j;return nt&&(this._active=tt,($.enabled||$.external)&&(this._eventPosition={x:o.x,y:o.y},this.update(!0,s))),nt}_getActiveElements(o,s,_,$){const _e=this.options;if(o.type==="mouseout")return[];if(!$)return s;const tt=this.chart.getElementsAtEventForMode(o,_e.mode,_e,_);return _e.reverse&&tt.reverse(),tt}_positionChanged(o,s){const{caretX:_,caretY:$,options:_e}=this,tt=positioners[_e.position].call(this,o,s);return tt!==!1&&(_!==tt.x||$!==tt.y)}}__publicField3(Tooltip$1,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(i,o,s){s&&(i.tooltip=new Tooltip$1({chart:i,options:s}))},beforeUpdate(i,o,s){i.tooltip&&i.tooltip.initialize(s)},reset(i,o,s){i.tooltip&&i.tooltip.initialize(s)},afterDraw(i){const o=i.tooltip;if(o&&o._willRender()){const s={tooltip:o};if(i.notifyPlugins("beforeTooltipDraw",__spreadProps2(__spreadValues2({},s),{cancelable:!0}))===!1)return;o.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",s)}},afterEvent(i,o){if(i.tooltip){const s=o.replay;i.tooltip.handleEvent(o.event,s,o.inChartArea)&&(o.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,o)=>o.bodyFont.size,boxWidth:(i,o)=>o.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Colors:plugin_colors,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(i,o,s,_)=>(typeof o=="string"?(s=i.push(o)-1,_.unshift({index:s,label:o})):isNaN(o)&&(s=null),s);function findOrAddLabel(i,o,s,_){const $=i.indexOf(o);if($===-1)return addIfString(i,o,s,_);const _e=i.lastIndexOf(o);return $!==_e?s:$}const validIndex=(i,o)=>i===null?null:_limitValue(Math.round(i),0,o);function _getLabelForValue(i){const o=this.getLabels();return i>=0&&i<o.length?o[i]:i}class CategoryScale extends Scale{constructor(o){super(o),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(o){const s=this._addedLabels;if(s.length){const _=this.getLabels();for(const{index:$,label:_e}of s)_[$]===_e&&_.splice($,1);this._addedLabels=[]}super.init(o)}parse(o,s){if(isNullOrUndef(o))return null;const _=this.getLabels();return s=isFinite(s)&&_[s]===o?s:findOrAddLabel(_,o,valueOrDefault(s,o),this._addedLabels),validIndex(s,_.length-1)}determineDataLimits(){const{minDefined:o,maxDefined:s}=this.getUserBounds();let{min:_,max:$}=this.getMinMax(!0);this.options.bounds==="ticks"&&(o||(_=0),s||($=this.getLabels().length-1)),this.min=_,this.max=$}buildTicks(){const o=this.min,s=this.max,_=this.options.offset,$=[];let _e=this.getLabels();_e=o===0&&s===_e.length-1?_e:_e.slice(o,s+1),this._valueRange=Math.max(_e.length-(_?0:1),1),this._startValue=this.min-(_?.5:0);for(let tt=o;tt<=s;tt++)$.push({value:tt});return $}getLabelForValue(o){return _getLabelForValue.call(this,o)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(o){return typeof o!="number"&&(o=this.parse(o)),o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getPixelForTick(o){const s=this.ticks;return o<0||o>s.length-1?null:this.getPixelForValue(s[o].value)}getValueForPixel(o){return Math.round(this._startValue+this.getDecimalForPixel(o)*this._valueRange)}getBasePixel(){return this.bottom}}__publicField3(CategoryScale,"id","category");__publicField3(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(i,o){const s=[],{bounds:$,step:_e,min:tt,max:j,precision:nt,count:st,maxTicks:ht,maxDigits:_t,includeBounds:ft}=i,dt=_e||1,ut=ht-1,{min:mt,max:wt}=o,Qt=!isNullOrUndef(tt),Dt=!isNullOrUndef(j),Et=!isNullOrUndef(st),xt=(wt-mt)/(_t+1);let pt=niceNum((wt-mt)/ut/dt)*dt,Vt,nn,on,bt;if(pt<1e-14&&!Qt&&!Dt)return[{value:mt},{value:wt}];bt=Math.ceil(wt/pt)-Math.floor(mt/pt),bt>ut&&(pt=niceNum(bt*pt/ut/dt)*dt),isNullOrUndef(nt)||(Vt=Math.pow(10,nt),pt=Math.ceil(pt*Vt)/Vt),$==="ticks"?(nn=Math.floor(mt/pt)*pt,on=Math.ceil(wt/pt)*pt):(nn=mt,on=wt),Qt&&Dt&&_e&&almostWhole((j-tt)/_e,pt/1e3)?(bt=Math.round(Math.min((j-tt)/pt,ht)),pt=(j-tt)/bt,nn=tt,on=j):Et?(nn=Qt?tt:nn,on=Dt?j:on,bt=st-1,pt=(on-nn)/bt):(bt=(on-nn)/pt,almostEquals(bt,Math.round(bt),pt/1e3)?bt=Math.round(bt):bt=Math.ceil(bt));const St=Math.max(_decimalPlaces(pt),_decimalPlaces(nn));Vt=Math.pow(10,isNullOrUndef(nt)?St:nt),nn=Math.round(nn*Vt)/Vt,on=Math.round(on*Vt)/Vt;let It=0;for(Qt&&(ft&&nn!==tt?(s.push({value:tt}),nn<tt&&It++,almostEquals(Math.round((nn+It*pt)*Vt)/Vt,tt,relativeLabelSize(tt,xt,i))&&It++):nn<tt&&It++);It<bt;++It)s.push({value:Math.round((nn+It*pt)*Vt)/Vt});return Dt&&ft&&on!==j?s.length&&almostEquals(s[s.length-1].value,j,relativeLabelSize(j,xt,i))?s[s.length-1].value=j:s.push({value:j}):(!Dt||on===j)&&s.push({value:on}),s}function relativeLabelSize(i,o,{horizontal:s,minRotation:_}){const $=toRadians(_),_e=(s?Math.sin($):Math.cos($))||.001,tt=.75*o*(""+i).length;return Math.min(o/_e,tt)}class LinearScaleBase extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(o,s){return isNullOrUndef(o)||(typeof o=="number"||o instanceof Number)&&!isFinite(+o)?null:+o}handleTickRangeOptions(){const{beginAtZero:o}=this.options,{minDefined:s,maxDefined:_}=this.getUserBounds();let{min:$,max:_e}=this;const tt=nt=>$=s?$:nt,j=nt=>_e=_?_e:nt;if(o){const nt=sign($),st=sign(_e);nt<0&&st<0?j(0):nt>0&&st>0&&tt(0)}if($===_e){let nt=_e===0?1:Math.abs(_e*.05);j(_e+nt),o||tt($-nt)}this.min=$,this.max=_e}getTickLimit(){const o=this.options.ticks;let{maxTicksLimit:s,stepSize:_}=o,$;return _?($=Math.ceil(this.max/_)-Math.floor(this.min/_)+1,$>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_} would result generating up to ${$} ticks. Limiting to 1000.`),$=1e3)):($=this.computeTickLimit(),s=s||11),s&&($=Math.min(s,$)),$}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const o=this.options,s=o.ticks;let _=this.getTickLimit();_=Math.max(2,_);const $={maxTicks:_,bounds:o.bounds,min:o.min,max:o.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},_e=this._range||this,tt=generateTicks$1($,_e);return o.bounds==="ticks"&&_setMinAndMaxByKey(tt,this,"value"),o.reverse?(tt.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),tt}configure(){const o=this.ticks;let s=this.min,_=this.max;if(super.configure(),this.options.offset&&o.length){const $=(_-s)/Math.max(o.length-1,1)/2;s-=$,_+=$}this._startValue=s,this._endValue=_,this._valueRange=_-s}getLabelForValue(o){return formatNumber(o,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:o,max:s}=this.getMinMax(!0);this.min=isNumberFinite(o)?o:0,this.max=isNumberFinite(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const o=this.isHorizontal(),s=o?this.width:this.height,_=toRadians(this.options.ticks.minRotation),$=(o?Math.sin(_):Math.cos(_))||.001,_e=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,_e.lineHeight/$))}getPixelForValue(o){return o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getValueForPixel(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange}}__publicField3(LinearScale,"id","linear");__publicField3(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const log10Floor=i=>Math.floor(log10(i)),changeExponent=(i,o)=>Math.pow(10,log10Floor(i)+o);function isMajor(i){return i/Math.pow(10,log10Floor(i))===1}function steps(i,o,s){const _=Math.pow(10,s),$=Math.floor(i/_);return Math.ceil(o/_)-$}function startExp(i,o){const s=o-i;let _=log10Floor(s);for(;steps(i,o,_)>10;)_++;for(;steps(i,o,_)<10;)_--;return Math.min(_,log10Floor(i))}function generateTicks(i,{min:o,max:s}){o=finiteOrDefault(i.min,o);const _=[],$=log10Floor(o);let _e=startExp(o,s),tt=_e<0?Math.pow(10,Math.abs(_e)):1;const j=Math.pow(10,_e),nt=$>_e?Math.pow(10,$):0,st=Math.round((o-nt)*tt)/tt,ht=Math.floor((o-nt)/j/10)*j*10;let _t=Math.floor((st-ht)/Math.pow(10,_e)),ft=finiteOrDefault(i.min,Math.round((nt+ht+_t*Math.pow(10,_e))*tt)/tt);for(;ft<s;)_.push({value:ft,major:isMajor(ft),significand:_t}),_t>=10?_t=_t<15?15:20:_t++,_t>=20&&(_e++,_t=2,tt=_e>=0?1:tt),ft=Math.round((nt+ht+_t*Math.pow(10,_e))*tt)/tt;const dt=finiteOrDefault(i.max,ft);return _.push({value:dt,major:isMajor(dt),significand:_t}),_}class LogarithmicScale extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(o,s){const _=LinearScaleBase.prototype.parse.apply(this,[o,s]);if(_===0){this._zero=!0;return}return isNumberFinite(_)&&_>0?_:null}determineDataLimits(){const{min:o,max:s}=this.getMinMax(!0);this.min=isNumberFinite(o)?Math.max(0,o):null,this.max=isNumberFinite(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!isNumberFinite(this._userMin)&&(this.min=o===changeExponent(this.min,0)?changeExponent(this.min,-1):changeExponent(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:o,maxDefined:s}=this.getUserBounds();let _=this.min,$=this.max;const _e=j=>_=o?_:j,tt=j=>$=s?$:j;_===$&&(_<=0?(_e(1),tt(10)):(_e(changeExponent(_,-1)),tt(changeExponent($,1)))),_<=0&&_e(changeExponent($,-1)),$<=0&&tt(changeExponent(_,1)),this.min=_,this.max=$}buildTicks(){const o=this.options,s={min:this._userMin,max:this._userMax},_=generateTicks(s,this);return o.bounds==="ticks"&&_setMinAndMaxByKey(_,this,"value"),o.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}getLabelForValue(o){return o===void 0?"0":formatNumber(o,this.chart.options.locale,this.options.ticks.format)}configure(){const o=this.min;super.configure(),this._startValue=log10(o),this._valueRange=log10(this.max)-log10(o)}getPixelForValue(o){return(o===void 0||o===0)&&(o=this.min),o===null||isNaN(o)?NaN:this.getPixelForDecimal(o===this.min?0:(log10(o)-this._startValue)/this._valueRange)}getValueForPixel(o){const s=this.getDecimalForPixel(o);return Math.pow(10,this._startValue+s*this._valueRange)}}__publicField3(LogarithmicScale,"id","logarithmic");__publicField3(LogarithmicScale,"defaults",{ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}});function getTickBackdropHeight(i){const o=i.ticks;if(o.display&&i.display){const s=toPadding(o.backdropPadding);return valueOrDefault(o.font&&o.font.size,defaults.font.size)+s.height}return 0}function measureLabelSize(i,o,s){return s=isArray(s)?s:[s],{w:_longestText(i,o.string,s),h:s.length*o.lineHeight}}function determineLimits(i,o,s,_,$){return i===_||i===$?{start:o-s/2,end:o+s/2}:i<_||i>$?{start:o-s,end:o}:{start:o,end:o+s}}function fitWithPointLabels(i){const o={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},s=Object.assign({},o),_=[],$=[],_e=i._pointLabels.length,tt=i.options.pointLabels,j=tt.centerPointLabels?PI/_e:0;for(let nt=0;nt<_e;nt++){const st=tt.setContext(i.getPointLabelContext(nt));$[nt]=st.padding;const ht=i.getPointPosition(nt,i.drawingArea+$[nt],j),_t=toFont(st.font),ft=measureLabelSize(i.ctx,_t,i._pointLabels[nt]);_[nt]=ft;const dt=_normalizeAngle(i.getIndexAngle(nt)+j),ut=Math.round(toDegrees(dt)),mt=determineLimits(ut,ht.x,ft.w,0,180),wt=determineLimits(ut,ht.y,ft.h,90,270);updateLimits(s,o,dt,mt,wt)}i.setCenterPoint(o.l-s.l,s.r-o.r,o.t-s.t,s.b-o.b),i._pointLabelItems=buildPointLabelItems(i,_,$)}function updateLimits(i,o,s,_,$){const _e=Math.abs(Math.sin(s)),tt=Math.abs(Math.cos(s));let j=0,nt=0;_.start<o.l?(j=(o.l-_.start)/_e,i.l=Math.min(i.l,o.l-j)):_.end>o.r&&(j=(_.end-o.r)/_e,i.r=Math.max(i.r,o.r+j)),$.start<o.t?(nt=(o.t-$.start)/tt,i.t=Math.min(i.t,o.t-nt)):$.end>o.b&&(nt=($.end-o.b)/tt,i.b=Math.max(i.b,o.b+nt))}function buildPointLabelItems(i,o,s){const _=[],$=i._pointLabels.length,_e=i.options,tt=getTickBackdropHeight(_e)/2,j=i.drawingArea,nt=_e.pointLabels.centerPointLabels?PI/$:0;for(let st=0;st<$;st++){const ht=i.getPointPosition(st,j+tt+s[st],nt),_t=Math.round(toDegrees(_normalizeAngle(ht.angle+HALF_PI))),ft=o[st],dt=yForAngle(ht.y,ft.h,_t),ut=getTextAlignForAngle(_t),mt=leftForTextAlign(ht.x,ft.w,ut);_.push({x:ht.x,y:dt,textAlign:ut,left:mt,top:dt,right:mt+ft.w,bottom:dt+ft.h})}return _}function getTextAlignForAngle(i){return i===0||i===180?"center":i<180?"left":"right"}function leftForTextAlign(i,o,s){return s==="right"?i-=o:s==="center"&&(i-=o/2),i}function yForAngle(i,o,s){return s===90||s===270?i-=o/2:(s>270||s<90)&&(i-=o),i}function drawPointLabels(i,o){const{ctx:s,options:{pointLabels:_}}=i;for(let $=o-1;$>=0;$--){const _e=_.setContext(i.getPointLabelContext($)),tt=toFont(_e.font),{x:j,y:nt,textAlign:st,left:ht,top:_t,right:ft,bottom:dt}=i._pointLabelItems[$],{backdropColor:ut}=_e;if(!isNullOrUndef(ut)){const mt=toTRBLCorners(_e.borderRadius),wt=toPadding(_e.backdropPadding);s.fillStyle=ut;const Qt=ht-wt.left,Dt=_t-wt.top,Et=ft-ht+wt.width,xt=dt-_t+wt.height;Object.values(mt).some(pt=>pt!==0)?(s.beginPath(),addRoundedRectPath(s,{x:Qt,y:Dt,w:Et,h:xt,radius:mt}),s.fill()):s.fillRect(Qt,Dt,Et,xt)}renderText(s,i._pointLabels[$],j,nt+tt.lineHeight/2,tt,{color:_e.color,textAlign:st,textBaseline:"middle"})}}function pathRadiusLine(i,o,s,_){const{ctx:$}=i;if(s)$.arc(i.xCenter,i.yCenter,o,0,TAU);else{let _e=i.getPointPosition(0,o);$.moveTo(_e.x,_e.y);for(let tt=1;tt<_;tt++)_e=i.getPointPosition(tt,o),$.lineTo(_e.x,_e.y)}}function drawRadiusLine(i,o,s,_,$){const _e=i.ctx,tt=o.circular,{color:j,lineWidth:nt}=o;!tt&&!_||!j||!nt||s<0||(_e.save(),_e.strokeStyle=j,_e.lineWidth=nt,_e.setLineDash($.dash),_e.lineDashOffset=$.dashOffset,_e.beginPath(),pathRadiusLine(i,s,tt,_),_e.closePath(),_e.stroke(),_e.restore())}function createPointLabelContext(i,o,s){return createContext(i,{label:s,index:o,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(o){super(o),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const o=this._padding=toPadding(getTickBackdropHeight(this.options)/2),s=this.width=this.maxWidth-o.width,_=this.height=this.maxHeight-o.height;this.xCenter=Math.floor(this.left+s/2+o.left),this.yCenter=Math.floor(this.top+_/2+o.top),this.drawingArea=Math.floor(Math.min(s,_)/2)}determineDataLimits(){const{min:o,max:s}=this.getMinMax(!1);this.min=isNumberFinite(o)&&!isNaN(o)?o:0,this.max=isNumberFinite(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(o){LinearScaleBase.prototype.generateTickLabels.call(this,o),this._pointLabels=this.getLabels().map((s,_)=>{const $=callback(this.options.pointLabels.callback,[s,_],this);return $||$===0?$:""}).filter((s,_)=>this.chart.getDataVisibility(_))}fit(){const o=this.options;o.display&&o.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(o,s,_,$){this.xCenter+=Math.floor((o-s)/2),this.yCenter+=Math.floor((_-$)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(o,s,_,$))}getIndexAngle(o){const s=TAU/(this._pointLabels.length||1),_=this.options.startAngle||0;return _normalizeAngle(o*s+toRadians(_))}getDistanceFromCenterForValue(o){if(isNullOrUndef(o))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-o)*s:(o-this.min)*s}getValueForDistanceFromCenter(o){if(isNullOrUndef(o))return NaN;const s=o/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(o){const s=this._pointLabels||[];if(o>=0&&o<s.length){const _=s[o];return createPointLabelContext(this.getContext(),o,_)}}getPointPosition(o,s,_=0){const $=this.getIndexAngle(o)-HALF_PI+_;return{x:Math.cos($)*s+this.xCenter,y:Math.sin($)*s+this.yCenter,angle:$}}getPointPositionForValue(o,s){return this.getPointPosition(o,this.getDistanceFromCenterForValue(s))}getBasePosition(o){return this.getPointPositionForValue(o||0,this.getBaseValue())}getPointLabelPosition(o){const{left:s,top:_,right:$,bottom:_e}=this._pointLabelItems[o];return{left:s,top:_,right:$,bottom:_e}}drawBackground(){const{backgroundColor:o,grid:{circular:s}}=this.options;if(o){const _=this.ctx;_.save(),_.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),_.closePath(),_.fillStyle=o,_.fill(),_.restore()}}drawGrid(){const o=this.ctx,s=this.options,{angleLines:_,grid:$,border:_e}=s,tt=this._pointLabels.length;let j,nt,st;if(s.pointLabels.display&&drawPointLabels(this,tt),$.display&&this.ticks.forEach((ht,_t)=>{if(_t!==0){nt=this.getDistanceFromCenterForValue(ht.value);const ft=this.getContext(_t),dt=$.setContext(ft),ut=_e.setContext(ft);drawRadiusLine(this,dt,nt,tt,ut)}}),_.display){for(o.save(),j=tt-1;j>=0;j--){const ht=_.setContext(this.getPointLabelContext(j)),{color:_t,lineWidth:ft}=ht;!ft||!_t||(o.lineWidth=ft,o.strokeStyle=_t,o.setLineDash(ht.borderDash),o.lineDashOffset=ht.borderDashOffset,nt=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),st=this.getPointPosition(j,nt),o.beginPath(),o.moveTo(this.xCenter,this.yCenter),o.lineTo(st.x,st.y),o.stroke())}o.restore()}}drawBorder(){}drawLabels(){const o=this.ctx,s=this.options,_=s.ticks;if(!_.display)return;const $=this.getIndexAngle(0);let _e,tt;o.save(),o.translate(this.xCenter,this.yCenter),o.rotate($),o.textAlign="center",o.textBaseline="middle",this.ticks.forEach((j,nt)=>{if(nt===0&&!s.reverse)return;const st=_.setContext(this.getContext(nt)),ht=toFont(st.font);if(_e=this.getDistanceFromCenterForValue(this.ticks[nt].value),st.showLabelBackdrop){o.font=ht.string,tt=o.measureText(j.label).width,o.fillStyle=st.backdropColor;const _t=toPadding(st.backdropPadding);o.fillRect(-tt/2-_t.left,-_e-ht.size/2-_t.top,tt+_t.width,ht.size+_t.height)}renderText(o,j.label,0,-_e,ht,{color:st.color})}),o.restore()}drawTitle(){}}__publicField3(RadialLinearScale,"id","radialLinear");__publicField3(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}});__publicField3(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"});__publicField3(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(i,o){return i-o}function parse(i,o){if(isNullOrUndef(o))return null;const s=i._adapter,{parser:_,round:$,isoWeekday:_e}=i._parseOpts;let tt=o;return typeof _=="function"&&(tt=_(tt)),isNumberFinite(tt)||(tt=typeof _=="string"?s.parse(tt,_):s.parse(tt)),tt===null?null:($&&(tt=$==="week"&&(isNumber(_e)||_e===!0)?s.startOf(tt,"isoWeek",_e):s.startOf(tt,$)),+tt)}function determineUnitForAutoTicks(i,o,s,_){const $=UNITS.length;for(let _e=UNITS.indexOf(i);_e<$-1;++_e){const tt=INTERVALS[UNITS[_e]],j=tt.steps?tt.steps:Number.MAX_SAFE_INTEGER;if(tt.common&&Math.ceil((s-o)/(j*tt.size))<=_)return UNITS[_e]}return UNITS[$-1]}function determineUnitForFormatting(i,o,s,_,$){for(let _e=UNITS.length-1;_e>=UNITS.indexOf(s);_e--){const tt=UNITS[_e];if(INTERVALS[tt].common&&i._adapter.diff($,_,tt)>=o-1)return tt}return UNITS[s?UNITS.indexOf(s):0]}function determineMajorUnit(i){for(let o=UNITS.indexOf(i)+1,s=UNITS.length;o<s;++o)if(INTERVALS[UNITS[o]].common)return UNITS[o]}function addTick(i,o,s){if(!s)i[o]=!0;else if(s.length){const{lo:_,hi:$}=_lookup(s,o),_e=s[_]>=o?s[_]:s[$];i[_e]=!0}}function setMajorTicks(i,o,s,_){const $=i._adapter,_e=+$.startOf(o[0].value,_),tt=o[o.length-1].value;let j,nt;for(j=_e;j<=tt;j=+$.add(j,1,_))nt=s[j],nt>=0&&(o[nt].major=!0);return o}function ticksFromTimestamps(i,o,s){const _=[],$={},_e=o.length;let tt,j;for(tt=0;tt<_e;++tt)j=o[tt],$[j]=tt,_.push({value:j,major:!1});return _e===0||!s?_:setMajorTicks(i,_,$,s)}class TimeScale extends Scale{constructor(o){super(o),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(o,s={}){const _=o.time||(o.time={}),$=this._adapter=new adapters._date(o.adapters.date);$.init(s),mergeIf(_.displayFormats,$.formats()),this._parseOpts={parser:_.parser,round:_.round,isoWeekday:_.isoWeekday},super.init(o),this._normalized=s.normalized}parse(o,s){return o===void 0?null:parse(this,o)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const o=this.options,s=this._adapter,_=o.time.unit||"day";let{min:$,max:_e,minDefined:tt,maxDefined:j}=this.getUserBounds();function nt(st){!tt&&!isNaN(st.min)&&($=Math.min($,st.min)),!j&&!isNaN(st.max)&&(_e=Math.max(_e,st.max))}(!tt||!j)&&(nt(this._getLabelBounds()),(o.bounds!=="ticks"||o.ticks.source!=="labels")&&nt(this.getMinMax(!1))),$=isNumberFinite($)&&!isNaN($)?$:+s.startOf(Date.now(),_),_e=isNumberFinite(_e)&&!isNaN(_e)?_e:+s.endOf(Date.now(),_)+1,this.min=Math.min($,_e-1),this.max=Math.max($+1,_e)}_getLabelBounds(){const o=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY;return o.length&&(s=o[0],_=o[o.length-1]),{min:s,max:_}}buildTicks(){const o=this.options,s=o.time,_=o.ticks,$=_.source==="labels"?this.getLabelTimestamps():this._generate();o.bounds==="ticks"&&$.length&&(this.min=this._userMin||$[0],this.max=this._userMax||$[$.length-1]);const _e=this.min,tt=this.max,j=_filterBetween($,_e,tt);return this._unit=s.unit||(_.autoSkip?determineUnitForAutoTicks(s.minUnit,this.min,this.max,this._getLabelCapacity(_e)):determineUnitForFormatting(this,j.length,s.minUnit,this.min,this.max)),this._majorUnit=!_.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets($),o.reverse&&j.reverse(),ticksFromTimestamps(this,j,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(o=>+o.value))}initOffsets(o=[]){let s=0,_=0,$,_e;this.options.offset&&o.length&&($=this.getDecimalForValue(o[0]),o.length===1?s=1-$:s=(this.getDecimalForValue(o[1])-$)/2,_e=this.getDecimalForValue(o[o.length-1]),o.length===1?_=_e:_=(_e-this.getDecimalForValue(o[o.length-2]))/2);const tt=o.length<3?.5:.25;s=_limitValue(s,0,tt),_=_limitValue(_,0,tt),this._offsets={start:s,end:_,factor:1/(s+1+_)}}_generate(){const o=this._adapter,s=this.min,_=this.max,$=this.options,_e=$.time,tt=_e.unit||determineUnitForAutoTicks(_e.minUnit,s,_,this._getLabelCapacity(s)),j=valueOrDefault($.ticks.stepSize,1),nt=tt==="week"?_e.isoWeekday:!1,st=isNumber(nt)||nt===!0,ht={};let _t=s,ft,dt;if(st&&(_t=+o.startOf(_t,"isoWeek",nt)),_t=+o.startOf(_t,st?"day":tt),o.diff(_,s,tt)>1e5*j)throw new Error(s+" and "+_+" are too far apart with stepSize of "+j+" "+tt);const ut=$.ticks.source==="data"&&this.getDataTimestamps();for(ft=_t,dt=0;ft<_;ft=+o.add(ft,j,tt),dt++)addTick(ht,ft,ut);return(ft===_||$.bounds==="ticks"||dt===1)&&addTick(ht,ft,ut),Object.keys(ht).sort((mt,wt)=>mt-wt).map(mt=>+mt)}getLabelForValue(o){const s=this._adapter,_=this.options.time;return _.tooltipFormat?s.format(o,_.tooltipFormat):s.format(o,_.displayFormats.datetime)}format(o,s){const $=this.options.time.displayFormats,_e=this._unit,tt=s||$[_e];return this._adapter.format(o,tt)}_tickFormatFunction(o,s,_,$){const _e=this.options,tt=_e.ticks.callback;if(tt)return callback(tt,[o,s,_],this);const j=_e.time.displayFormats,nt=this._unit,st=this._majorUnit,ht=nt&&j[nt],_t=st&&j[st],ft=_[s],dt=st&&_t&&ft&&ft.major;return this._adapter.format(o,$||(dt?_t:ht))}generateTickLabels(o){let s,_,$;for(s=0,_=o.length;s<_;++s)$=o[s],$.label=this._tickFormatFunction($.value,s,o)}getDecimalForValue(o){return o===null?NaN:(o-this.min)/(this.max-this.min)}getPixelForValue(o){const s=this._offsets,_=this.getDecimalForValue(o);return this.getPixelForDecimal((s.start+_)*s.factor)}getValueForPixel(o){const s=this._offsets,_=this.getDecimalForPixel(o)/s.factor-s.end;return this.min+_*(this.max-this.min)}_getLabelSize(o){const s=this.options.ticks,_=this.ctx.measureText(o).width,$=toRadians(this.isHorizontal()?s.maxRotation:s.minRotation),_e=Math.cos($),tt=Math.sin($),j=this._resolveTickFontOptions(0).size;return{w:_*_e+j*tt,h:_*tt+j*_e}}_getLabelCapacity(o){const s=this.options.time,_=s.displayFormats,$=_[s.unit]||_.millisecond,_e=this._tickFormatFunction(o,0,ticksFromTimestamps(this,[o],this._majorUnit),$),tt=this._getLabelSize(_e),j=Math.floor(this.isHorizontal()?this.width/tt.w:this.height/tt.h)-1;return j>0?j:1}getDataTimestamps(){let o=this._cache.data||[],s,_;if(o.length)return o;const $=this.getMatchingVisibleMetas();if(this._normalized&&$.length)return this._cache.data=$[0].controller.getAllParsedValues(this);for(s=0,_=$.length;s<_;++s)o=o.concat($[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const o=this._cache.labels||[];let s,_;if(o.length)return o;const $=this.getLabels();for(s=0,_=$.length;s<_;++s)o.push(parse(this,$[s]));return this._cache.labels=this._normalized?o:this.normalize(o)}normalize(o){return _arrayUnique(o.sort(sorter))}}__publicField3(TimeScale,"id","time");__publicField3(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(i,o,s){let _=0,$=i.length-1,_e,tt,j,nt;s?(o>=i[_].pos&&o<=i[$].pos&&({lo:_,hi:$}=_lookupByKey(i,"pos",o)),{pos:_e,time:j}=i[_],{pos:tt,time:nt}=i[$]):(o>=i[_].time&&o<=i[$].time&&({lo:_,hi:$}=_lookupByKey(i,"time",o)),{time:_e,pos:j}=i[_],{time:tt,pos:nt}=i[$]);const st=tt-_e;return st?j+(nt-j)*(o-_e)/st:j}class TimeSeriesScale extends TimeScale{constructor(o){super(o),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const o=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(o);this._minPos=interpolate(s,this.min),this._tableRange=interpolate(s,this.max)-this._minPos,super.initOffsets(o)}buildLookupTable(o){const{min:s,max:_}=this,$=[],_e=[];let tt,j,nt,st,ht;for(tt=0,j=o.length;tt<j;++tt)st=o[tt],st>=s&&st<=_&&$.push(st);if($.length<2)return[{time:s,pos:0},{time:_,pos:1}];for(tt=0,j=$.length;tt<j;++tt)ht=$[tt+1],nt=$[tt-1],st=$[tt],Math.round((ht+nt)/2)!==st&&_e.push({time:st,pos:tt/(j-1)});return _e}_getTimestampsForTable(){let o=this._cache.all||[];if(o.length)return o;const s=this.getDataTimestamps(),_=this.getLabelTimestamps();return s.length&&_.length?o=this.normalize(s.concat(_)):o=s.length?s:_,o=this._cache.all=o,o}getDecimalForValue(o){return(interpolate(this._table,o)-this._minPos)/this._tableRange}getValueForPixel(o){const s=this._offsets,_=this.getDecimalForPixel(o)/s.factor-s.end;return interpolate(this._table,_*this._tableRange+this._minPos,!0)}}__publicField3(TimeSeriesScale,"id","timeseries");__publicField3(TimeSeriesScale,"defaults",TimeScale.defaults);var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];newStyled.div`
  height: 43px;
  background-color: black;
  display: flex;
  padding: 8px 20px;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.5);
  border-radius: 4px;
  span {
    color: white;
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;newStyled.div`
  height: 43px;
  background-color: black;
  display: flex;
  padding: 8px 20px;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.5);
  border-radius: 4px;
  span {
    color: white;
  }
`;Chart$1.register(...registerables);newStyled.div`
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;Chart$1.register(...registerables);newStyled.div`
  width: 70vw;
  height: 90vh;
  canvas {
    height: 100%;
    width: 100%;
    &:hover {
      cursor: pointer;
    }
  }
`;var loading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACGFjVEwAAAAwAAAAAChseJYAAAAaZmNUTAAAAAAAAAAwAAAAMAAAAAAAAAAAAAQAZAAAR67u9QAAAK9JREFUaN7t0zEKwkAQheEVCxvPYGFla+UFbD1CwNY6ra23sPEAxgRNNKBpLWITA6IsBCV6A/txV1svsPB/8GCYah/LKAUA/4hI4xQWAxs7O/X4JNGtY1BkeXCWX4pMm50zBUZx5U3WWmbRVRbhRQ6rUvJl6bnzBbun397W0kvuMowrGZsy0+jmu1Ng/+iaEm8TsWmaubMxO7cO4dVXaT3/xs4AAAAAAAAAAAAAYH0AgOhTVFHYG+UAAAAaZmNUTAAAAAEAAAALAAAADwAAABUAAAAGAAQAZAAAZ7Lt7AAAAWFmZEFUAAAAAmjefZG/S0JxFMXPveKv7wu0paBcAh0iaHYKHGsIJBD6LyQS2qopsCGClpZoaWp6BZo0uDcIEUE/ECG33veJkz6R926DT9OUDlwuX/icA+d+qVT6DBuOU1aQDAAAUo1H1GZqK9XDH7Hu9XOaOGMTowsCQJm209nHDLFmWrCJoImgidEihgM+qJm1pSn4G0FTE/c1sW8gaKI5yw2d/IUJAPbuPs4UJG+IQEGgRGBAJCpIZ7NrT6NkAGi5wWObWA/SGfZgk010LiI0AV9nV9oW4XAIj036wnzbnYABgDrJS030Ml7WJobNXDytPBsT8G2OXIsD+d/UgckiWracSGFUcFzrpYapBNuGX1RBYIh0oxxYnYITD81kxPNeDUjIv4pv8q5o1k/Nl5tFBSlMwqjPhPFYj4Xd8Lsh3qIC/Lt797NhAKh8bUD4JgJJREVqMbg7+FdHwqg24sPnD+oal8W6KwosAAAAGmZjVEwAAAADAAAAEQAAABkAAAAVAAAABQAEAGQAALMDT1sAAAImZmRBVAAAAARo3p3UPWgUQRQH8FUEbcQvLPRACxVRiU2QJGDwNKD4BRHR4oIYJIpK1OJSKBI5gqASBY1E8AOSIim8Yr9mdu4M5FIIKiJiuK/dzO3ebQ4EwUrSqJjn2xyrG6sZH/xhmeK3b94woyhYALDkrT7d8gETfCuyxRhfnlULuUktD6/VPLxTp3Mc16SQtFY6o2pFIFoBXmFyDeymFDKqlZNjehFeYjTEaAObmySfYsLIkMa3PNNLP0b0EowjlF7ACkD1/JhUN4+M8oNhowzPERr9i83rerFdGLln2CsHDfszYvBkMfYxlYKlwtAAcXruGDbcx0SxEaN4ThgJ/thvOu8HTBv+wb48TburhKE+wtuum848YhDFHuvlQakhXyUz40lzBhCDELtr2N8fGvZ2YeQicWKXCJ9DDELsFua26UxIddNNK/09hANiEGB9iN1AKEWcI+LIVHVFgrreWVKBALuMudbA+BWZe9VpuSdP0QokMN2InQ8x6iSltnWUuhOd1IXTCHUtYDzAvl3IljYII/uzfNdBy/t5DKETUYzyF1Ld7LW84QOWB4cwEexXl+nuEUaaqL+mlVW/tltVWIx5bxSZV7CJ1XqbWQ1aEfqDUQ+OW25CGIlPwbIdrJbfjVAzIiHWYXn1wzJHvinjd2xlPiAGIdaGiZNqXGrIGzOz6maEolgL83dKIetIPbY+M1tBDAJsG/OHlP8qnMFqVt+3NtLBb68GzUQnZ+QFAAAAGmZjVEwAAAAFAAAAFgAAACIAAAAVAAAABQAEAGQAAAaksUUAAALMZmRBVAAAAAZo3q3WW0gUYRTAcQu6EUQPUZAVZQhGF6noRkJiYWiKRVgYGEuJSWQkFsUuxYqaUVQqRkp2sSxSY+c+m5BW9JhBsM7uzM7szmw+JD1E0I2k9nRGZ2va19PAgWUe/r8z3zzMZmTgBQDThlllyysc+3fG/7hkWZ8lBUaHB5lReMaE4EUgNGzfI4f7mXAlwyjAY1jCsYGhQMhHDvcySv1jVoEBHAajNiAzo1+GhLeZpPA9JrSyhw1PPMSwDTz5AygPyFt3M8rVO2wY7uO4gGQgoOSRwu2yPu8mF3l/C8NuoI9R3vj9MJ0Ub+Mj1R1cBDpxbOBuCmAUDylsb3aNi7xuw3AaMN6LT0SKX+TU7Zc5NYkA2MANB7jNKi3kF9nIq30tnApXcFIAPsGPTiGcTQr7WGOpn1e/NvEquIF2LsySt/bxWsN5XoMGnCYMX3KAVjaymxSu6x+bc47XLC+GL7gBXg13dY3MIMVP8dGKej4KZzHqBpr5SC35SE7w0ZcIwGkH8E0C0Y9+QVtACtdw+vrjgv6rVoiCG/ByWgd56ypR764WdEAAbKBuCvjp5dR1pHBlwFjoEYxPRzF8zAFOTgL6EHnrCsk4UykY4MHov4C2jxQu71dmHhANrUI0IAVUTQExz3NzNileJsRL94sxQAAOuQFR95KPpESIyWUYTwM+H+HUxaRwoWDmFInxiRIM73WAgzYgGT3krQvk2PVCKQ4IgAtIlgsx2mcsnzHn75DiHwowngJKp4AR8mdsq2TW5EkmIAA7HaAY4yWCcZh2HrjZJskc2YbxNGC8iPoZyw0m8jbIVhIBSAH5NiDGm8kvcrVsDeTKFiAAm/8C33eJiSxSOCdoLs+RrW8IQBrQSt56hfSuMVtOAAKwxgE2StYjcnjR4PjcZcGEkYVxG1iF5742aBX/l//YS4SxzEx5rBWB3qyn1h773m+SXYWCYYXpgQAAABpmY1RMAAAABwAAABsAAAArAAAAFQAAAAUABABkAACqa+X8AAADYGZkQVQAAAAIaN612GlIFVEUB3CLKCgqqA8RFQmStBethPEorGglizLbLJFKLLV9p16FFZK2K9FitFhJvlnuzJgUBkVfwqLSmTfvzbx572W0QH1opYU8nZtvcPTzvRcODPPlx/9yuPdwk5JwAUCnOlGfXI9Fv5N4LU2zuimBpnpNaII6rPuBxnr6jwtWIxirBUEHCSEF6z8aaNzHBasS9G3Vog53sQSEEuhXQl4MYI5dFRpTbor671uIeVFZ0K9xSXdVNMquiQYgCi5aI+gtgYA+lTl2Q7N6XRaNd4iCi95uRRv8fujMHKwQ9Q0XEbqCRdHrCfSO1LSGOUYTlMvBhguIdEDf0+TMwbOSmXZOCraUS0HwopVisJhLs5yUgtWnEUMUXPSSaPyqJMYQ5lipaA8qlczviIKLVlBUMGq4pDsqmUdKJBNOYFH0TAI9T4Kz2DcLaeheLJnxY4hRtLQN1f0PH3ZhD0rmqsOyCYjCcQ9aJhv57PcSr5oDcuixXw7BES8qm5/OBYJ9mXt7iTVunxz6iyh0QE9xaZZdcrhyD0KIggf9U6wYI5ljRZLTb7sc/rxTDoMXPSSHHnBJt5mE9mxBDFHYiRBF91OUWAuYY0ur9a6bSDhcRMLgorsoSkJ2AY8RIo/Yi/KJBQUIUnRrAt1Nwju4bOc6YtXlIdgB/bK5xujPHMsRreG5xPqDKHjRQmJd5JIuW4mcX4sIouCiG4n1t0gOTWTfLPea+6xU7I/ZxAYXXd+KPkniMeBmqnbhcsWGlQhSNMdNqthZzLFpePIvUSKvMhGk6Ko2tHl13csezMEMEklfpEQAUVjWDrX8XJplvmJLCxFb3B79sUJ1BjPH5mhWylwl8nMBQl40S7GruKSboTolsxUHEAUvmqmGfcyxNMnsma46b2eqDnjRDOI85zJN+5RY7jTEEAUXnfcfdXLZ7yUmSFOjT31qFFx0FkWJ82HG/Uhv5t4kEpsyRY22TEXQh9D0NrSES7NMUKNVkxFDFDzor3Q1ksocG629GThOi31DFNqhmiNxSTeyNn5wjBYDRKEDOps5Np687T5ci8VHIeaiE1vRF1zSpda+zhqKCKJA0bEJlM/jCt5rKWr80RAtDhQd0Yo2c3vMSa6NJidr8WcpCKZq8eZhquP7ByfqQHlEWABmAAAAGmZjVEwAAAAJAAAAMAAAACUAAAAAAAAACwAEAGQAAKmGMjkAAANYZmRBVAAAAApo3tXYaUgUYRgH8C2kKDuwqOy+sMNOpAMzFsOSLumgzNKskFLssKL73AorJLtLwsqgg1qoZuadmd2lwA/Rl5CoaHdn59rdRjqgPhSdSD49kw6Osn6M7X3h//35vc/zMMPrcPyjc0tUelxjAu9uMAG4ibnN+OEuxs3461wu6Oig4VQx/uJqLP46xg65x75eQwXAvOnLXLDuChbeBvLe7BAViAuslHGRDTZeZoNgh9QwwXIHLecMG3SfQwBCwIJcZQK/akgghQpAJaMOrmSlbwgBC1JlQh4G7lPTheOsdKyCleAUxoScb4ZcIsFsOhaa1HUtZ6XoCQSYkMoWiN9VW5tAB4KVCo5yEiAETtogp7lAKR1zBNDhEBd64uJCcMwO4aRPFx8Ee1Nh2EeUtP1c6DdCoA3kLDULvZuTa/Zi8QgBG6ShnA+MpwJQxur9dnDy512cDHbIES70mJoubCWhvdsQgBDYhcWbkAMmhCg5VACWu/2dNhFZLiMyWJDdJoSE1M2i0pkKRAlRl5QSBTYjwoRsb4bsIfJOakZpPVF8JYhoA/my9X6gPxWAdYySWkSUBoSAHbKFKNXUdKGQ1y6txcIRAhZkI1F+l3GhqXQstNfolc+rHwuJChZkQxPkqfn1pgKRK6hbVvIq5CPChKyzOsKreVQAMvGPdBmvvcpFhAkpaIEYq30vE6lALCZa1hJeA4TAilYQxUXNQi/kVXYRApa2hnxfJehDqQDME5WR83ntZw4Wb4fk8eodarowW9Ar5vI6IATskFxBdlIByGCl7lmC/naOoIMdspjoz6l51XPykaJMBCAELMiCvxC9iI45wpvOEMLPnEIYLEi2CSH6h9mPtJ5UGKaRSHq6EG6ciQgnFj+rBVJBzUJPEcJ3piMAIWCD/MoStFFUACaK9YPSxMhXhEAriKiz/82sJ3vfHBzgMYKDPVFtmBjVhmNSMKMxqWJEmyBGfkwSI4AQsENmiHr8X/V6euqLe3veQB9MMmYgBiGAEBiBQQiMwcIRAggBCzK1CfLCMZOPJsUTkOgx3D08BiRhTEjfGJCRMSCTmyF/WxhPQCefcbiL14BuCGgPMiQGZFwTxIj/DvjeJyZ469nOXqOxPUj/GJBRYtQYK+jOP0moWT95E2zZAAAAGmZjVEwAAAALAAAADgAAAAUAAAAVAAAAKwAEAGQAAH1y1dMAAAB5ZmRBVAAAAAxo3n3MsQ3CQAxG4c93qZmAOeip2IE9WINpKLJBJmCCjBGIKe4UoQhh6cmy/fsFGOcrcYt0KKhSwYCykSobYZxPxNTvIPpQe7hkC++l5+8nSLyxCitKZOvZdhWDiKf0sxIvxE6wJsXl+MAdC/8Fi2gEHzF0I+cJ3N4OAAAAGmZjVEwAAAANAAAAJgAAACsAAAAKAAAABQAEAGQAAHinmB8AAAQvZmRBVAAAAA5o3sWYXYhVVRTHf/9976iZZfmgYL2kTOaYhigZJcFQWI2pZWZICX1ARUWTfSmIcDFRQ/xAqpcQ66UHH2oUHbGQiR56yAStRHQaxFQsSCGl6c7Z557Vw73n3jNnxmAg716wH849m3t++7/W2nvtJUZoZqaje3+6F2DOklk/SDKug2kkk7u7e0dPKPcfFGp3VcyeW8aMfay1o3Xg/wZzI5k8dqC83OPaPcIDFdR+udz/7vVQbERgMUz0Ai+owgmPW/P9nmO3BQWLoMsj76nBCWIxLm4pbAoK1vHkzD5vfNRQq+rSCJ7r+fLE/GBgAG7M6JIXv3ugOoRHisSOUslcMLCOjtYrHpVStRrD5sybdWJlMDCAE8faPvXiqJfwyrhUfNjd3XtzMLBSSUmsQqcHaySC8NKkcjla3fQNNm+fd53cI+xpAQ7DVVcaFQq6e9mitt6mK5ZahfgdD/2ZJMDDqIGYzUFcmdqLT8w858W2wUkgvFj62VcnFwQDA5Dr3+Sl3xqJUAWsyLaXenqKwcBeWTS3P0Zr64qlgFLb5L8mvRwk+LOl0NZ9p75z2HxX+1MHSFwm5s43lk6/1HTFACTZgEs6PUqyR1VsTKgUbF0wxVLb0HVqt5M9nypWG3GxkMzufLztl6Yrllq/WtZ46Uq1LKqPYjl2O4K4MrWNS6b84Y3N1S0jHeDFQxu6Ti4KBgZQHIi3etQ7eF8TlYLbvrO7d3QwsNLyGVEsWz2k+jCm/lmxN4MEf9be2nf6kIMFje3DcHBVvjJt41NtF5uuWP0cTbTKi7iRCMKjm+KWlvVBFQN4dX/vx854TY3KA2ckDrtv6+JpR4IoBuCL0boILg26IwgXiR2YKRjYrkdnXPZo/ZDqA3f/6wf6ngkGBnB23LlPKujnfJZGZltWHjp+YzCwb9vb4witqpffjbP09pZo7HtBgj9ry/b/utfB4mz14Yx/Rjk3fdfCKWebrli9veDsbY8GstWHFzeULdkUxJWpdXW09nnTTl/tgdRdGsGK5QdOPxgMDMAl0QceXcxnaZQUh9zimwq2b8ldVyNYl0sCYtnso3PPvBAMDODwj3fsjuBIvZ1Vg4yNjQ9/0zc+GBglJVHiOj2yxgUGvGOii7S26dtF3uYdOPNFAVakZ2jtPI0cNvPwwqmnXSgwFL/v4e9cO2uUl9vSUOzrCw+Q2GaMyYM2QIzcxaJeWwkoZOYW6rFhOGvESCGjSHa+qmNyAcY4G/wdyR4R+8/eSrFwBhg/3F6ShXSALA9qOejcOxvu3bUWDDXI40WKxTlg44dTO6k3T8Ch9BLb6OwYqPZ7HrL6LJwyMPVFaeiC02cJwT1FxCmMGPjPPkOSAU0hnTIwOcihqqi2qKGQufIbB+erMXbwwkso2QYaUTdQ14pHu0YYDOe6mrsz785jevZfJmHP8r30AXEAAAAaZmNUTAAAAA8AAAAwAAAAKgAAAAAAAAAGAAQAZAAAcRPiHgAABDJmZEFUAAAAEGje1ZlvaFV1GMc/z+9e3TSt6IWC+cZkmbMVli9EJBiK1WxaVqtRUb2ooMhhWRPG4GLgjLUc9udFIb4L8UXN4VYSMojozQomNsStYX8Ui9CW4vXu/M45Ty/uufeec3YnBS5+PvB7cQ6/+/x+n/M83/M893eEWbDxwfGayUL+S5DG4h0durV2/sN1TXVT13stMxsAk1cLLZXNA0jjZCG/czbWmhUADxb5QAhoBWLXd4dHbr8hAAqGPotYi1AcEMCCzBzpuiEANjzWMGHRD62AFSiDqHn2289H1zsPADBVOy/nifxuiSCKQwIJezWnxnmApqa6Sz6Sq6RRcXhw//F7Rp9zHgBgeKT+Ux/5wQKVIfjCu4OD4zc7D5DLSWiNtllES2KOxuKw4LVfjzWE/8EO9Y0eNvCkRAsaBUG9bGDubn6iftzZCJRMCd+0kC9HQMCKzC1k2Ot0CpWs9dGG36zK+/G6UATRbYe+OLnJeQCAqWy+y8KvJSGXh2T2DQ0NZZ0HeKV5Td4T05F8I4GF+p//Xvyy0yIua0FVPug/9U0GWV8RtCJwsSaUO5/ftvKCsxEAEBENDG0WwooOBCtyWz6jnc5HoGTv9Z0+iOgLgmKiTQj4ZHR12yP1PzobgbKgxdtl4VKqzcgGvul1OoVK1rG14Q8f3VvsVGND2NDdd6rZeQCAYCrssZjxSAPljtUT2bd/cLzGeYBcyyrPE22PN3nFuiDL/wp0u9Mijlt7/9gx0E0SPc1I0JdDG6zY83j9eWcjUDI/lB0W8ZOCZiFzMrtviAgAbD96+iNUXi12qVGBg1DRtT1bVgw7HQGAK1m/0yIX4mK2ggmFXlTFeYADD626aNHd6UbPw6x7bWDsKecBAJYuOPexhZPpZs9X073z2ImbnAfINTb6HmZHSsxYWDrpzX/LaRHH7emjPx0R2GIA0bKgr2aNWXlg8x2/OBuBkhWMvmGRqdR50ryChl1Op1DJ+prqJqzK/iqp1NoyMPaA8wAAGnrv+HA+3Wb4YbY3lzrVcxKgf+tdly3SmTpLwoquHllz5kXnAQDWfr/soBWGy91qqTao7tn49cQtzgPkchL6oWmzoAlBG1lkPOlw9jWatnUDZz4z0Frskcp/QT2DNhzfvHzMuA4QiP+2hSupNmOuJ6a7GIEjfy6kxusBbUQxJhaWDBrvDsv5luzdNXEd6+mnz9G478o8idaiio/oeomo1k7zL/qg8NW5T0BfmqlMJzeTBIpVyth9rfK76UDx1vlaPgwzzFPFwIkswsbYl7jk+5jKR7oAECTpRDTlFEw059qbEYzEN5YEivuo+uCKZ0wYuDdLoKMYlv2rAhONsByh6UBJmMqc9GaST1wQicFMi67MlLZns0jmdQiWAPf954pZBagCk0onrbYZrZImkQ9JRVCTERQ4KyrP/APT7dIdHNFWEAAAABpmY1RMAAAAEQAAACwAAAAMAAAAAAAAACEABABkAgD8ivGfAAACBmZkQVQAAAASaN7Flb1rFEEYh5/f3AWDhQSCEBRJYnIgNiI2MYUggpADPwoRxT9B1CaxCcoJ2gSLQFoh2NhLNKeNH4WIeJWIFjkS9UBRG5EouZvdfS12b+/2ONvNDwZm2HdmnnfejxX/0eTq2o7dFKci3M835dEP5KBLK2snHXoqwAHCSOaVe6dKtwDUb+OhlcZeVwhfCiacGUhLtfLY1TygLzyqPxScdoCMNvBfF3Jg+exkw/XbFBTCRQ8THvASAVw5vPr5YB7A3jTrUSu+Ox07fZGFvi88Wf101JleCeSSkAiQ7Pj7mfEXeUCfWVlfcLK59t0Jh5npWPaFzRSgux7kAY/a4+uWBa/JSa1CeNvD95gh5VAkFjPAI0++nPNo2ktxKJINAXajXi418wKulku/AzQfg3Y4WnCkA1yrDQSmOxmvJLz0bn1z9D45a6o2vuzF24QhjXYKvOvHyGUvlXq98sYc5xXmDVypKAoid82DdRegAIaebww1m8W6jGHXLrK4nTz7NbPvBNuo6ccbDxxcVNKXHcDmVnHeo+E0d+MRtczNss0KFVz38KedpqL6bQyFH4FB0j8MCLwza3S9dpo/ythZZt0ToayNdfpooctOQAHrc3a63iOzQQFFFN5swwJEHecGJO3PXm5ZGAMlhdDTM3ugFc/VcSCyLFSY2PSekZ6t+Ps/kTTHxalO1YsAAAAaZmNUTAAAABMAAAAnAAAAFQAAAAAAAAAYAAQAZAIAtADR+wAAAwVmZEFUAAAAFGjexZZNaBVXFMd/5848Y56hxSCI+IXGBCXdCFnUjRBdNJoYhFJRsKtCLYJBrREJ2EZLm42gNigoSLtrURdqYlT8WkpBFyIVk/hJWosFIyjSvrkzc7qYybyZmNQYX5I/nMUMh3P+93/OufcI74CvunrnGpxWIZxlhF86m2rOM07s7+rdI6odRkGIzABGtbl1/bIu4n9jwueXbs8o8/K3DVTFwdTBNB1ZV9UzHnLbevrLZvrhXQOLo3iKAUTpt4Xgo/YNtZ4ZazDx8q0+UmWB2MQT3Txe5TrXVhc8YVcxnkQmUm2m51rGrNxnXb1zc+L0CeQlW4bDP69bsp33wO5zfVcEXT1U1jj2y1BzNWNSLjC5HzwkbwEriXn/ONrJe8KGwQ6L+IlyCBY+ULHfv1W55p7+5YTmpoBJnQxBD5xuWtJKCdDS3XsEla3DhiN8q3KF0DlkEZPqNTwYFLesgxLhtevvtchzK5KujPlfcvXnH3zqCysjZ4kMIRD55lTD/MFSkTvRUDto0f2ZwUAYlVztyd+nWUxH3ANF1YR7z2YPHqfEmFfx51ELd9K5RiVXkS9vsVA9/DS+MV/fqquzpSbXXl/ve5gd6VwjDkTtxYHKaWHQL1BpVJMmdeDajcZFq5lAbOy+f1ag2YyqXBjss1AZXR0yZIGHu50Jxr9Gd1qkMGJZay49WmqRLRbBz0yonrjVOP/ORJM7s7b6gVX5ccSBsL45YCE3rNdeoXzLJEFD7zsf/sr03Oyex6tcMVeThzi+FI3S9rBxYQeTiIbuh1+4yddJdQIZOKjJCyAYAYEBDdzDTDI+vrnop0S5Dy/88SXoMROrluxXsOnZmgW/MgWIyF3/u6K8UOgTZU76/XSE3158Mm8FIjoV5FwA1/PaLDJHBAzJvaaq4a6pIhYpd/npAsLwHko52Z0qMKpPMit0Su6in2a+08q/4aPFBdLJbDjgoG/EdgnCdoiIAYRF4o6ILM4m0mxijQcnQ0gzSU08XAJDA4aghJolF8Q+6Rj/AQB4LsR2B2nNAAAAGmZjVEwAAAAVAAAAIgAAAB4AAAAAAAAADwAEAGQAACn7SAcAAAOxZmRBVAAAABZo3r1XT2gcZRT//b7ZLc1APfRqttSmEDSkHgKBiJdSikibiGxJQYh/DlLwYPEQO2CkkZYQuhZXRA+C1autpqlbElAQFL15CWiT7aLm0Cw0h/6xSZudb+Z7PUxmdmbapLubrA++wwxv3veb3/d+772P2KJ9dWVhF8Sct4CDBK8Zwcm3Xn12Me7z7fRflwgcIwACUAIoyprvm558/sA/AKC2CkTDfOEBb7vAfg0ZMpDv0z73RY1q4IEGoAFoAi6406hMIfThVkB8Oj3/giJ+I0Cu/xUBGEvvfufogdtx328uXztDYizwE4TsQOHQa0M9P7fMiIjQU/xEA4z+NFhLy3/03k37K1tPusBS4MNo+YbFixfFahnIxJXrI1rQHw+qQbjAR+PjNGn/1196flVTOSnQ0EDv6o75Ey0dzXipalPuLShIjgAo60kIzO2rdfcND9PfiMXPfpj/1QJfrCeugMCtlhjxsOJoIBcxwWDVYEY3AgEAJMVXOKkBU09cQpO7m2bk/ZlKJzwpE2KHybnOxtSZoe58IzE+ni5/DcqbhEQJ3jQjNV8KGrBTueGu0XcajkHX0cB/8RhNATlRqgx44HHNoBZoBvR6RLEw+Fyl0TgfvNJ704NMht/rphgRoQ8UA7nG2CCXV3ZaE80y69fMeQ1VCfOrYSBvXP17xAP70/JzwbEvD3fdbVp5wz2uSznVFCODpartKpwNqIznBubuPOi60GotmhzsvuyBPzYMJMs1RwtzYZ8Il6es0UubyLWhUmD4nga9J8r35ZlKZ9aoMoGEXAlMfXe0K49tsHevlj/PPDFHjSpo0I5rnoBrBA62yVYz3oebMnKotDgAZX5PdFcBSDk3e6TrFLbR1GZyrSkpajDZXYllvQMT2Gbb8Gj6Z/8d0WB/cByMyrCijP3SglxbAtJXqtoa+iwpYXeMumtu5ZkLaIM9Fsia5ToEcgSgyAiIJdyyXDfszOkX+2dudFrwywDs+EhHwdSfR/bm0SbLPDpreAUftIOjiNhwLaMctNESQJ6evTGgYY4HmwtUffIqXh/MVdoJRCXkClOsD8Ph5KWWkfUm0GaLGHlqdmlEM5Sr1OUqGFtqg1wfn6ylqt2R9RcoyKXGv7k79zr70CalPMJIJmscDebI5OVH0Yz+HyACRn6q7oExCxB0IHZbI2CUyGKMnSihmPCTxHOK0aSP1OuFlezkyMD3TwPsCJHFbkaK5L5kUEluIkH5T24uiQ0SLYJ1YEaSQB4CgnuSISYCxzkAAAAaZmNUTAAAABcAAAAhAAAAIwAAAAEAAAAHAAQAZAAApfNfPQAABAtmZEFUAAAAGGjetVddaBxVFP6+u5u0a2IffBGbkGgVEhNrS6VarYp5UMTmpw1tqI1FwScJKIltU4mBQLtNlPQnWPsgiogUyqJ2w6apCBKQIEKfRLPNpmDEbYSqhBqSmJ07M8eH3UxmNj/sJjsHDiyzc8/97nfOd88ZosB245ufuwCe9j6V93c37wivtoaFBDA6OL5VWUaCQKnKBM9sMKtNu/qZlp1TK61ThQShbeOMBks1iCUHLKA0UMRe35n49uv4roCybhBQzJyOACjObwHU88821476woSI0FL2BQ2qbBY0HadF+4L0iPIFRDQ6dlgDz2kAXqfHDeCJ7x8fO1rwdEQiyZBdPHMzAFR66Zd4hoQd7iJVwJ+bNKvqWmpnC8aEUTx73AQqndNndjaJDlOhTYPipCbtW+eCeK9gTHwRS5RZlpUgUOI5LTHU2lTTAABXomMRBRxy/hOAECNoqccaDtbc2jATC5b0aqAkqxb0AtQxp2hhv6uBeS9TLF4IoG/D6bgYi+8yKK2ahMeBi282VScW33t1//akFp7zKAaApjRfufrLS+sGISJM2WpAA8rDAjE9Z8jp7PdTwfleDfyxTDEMnB8ZGQmuqybC0ZtHAuRleqsepN3W0VhzaaU1lwbHX1Nif6my1wBteTNxLpIMmUqdcS4hhwmJz9x755PV1r3VWHXZIEazUgcNnMobxD+h+RMaqFyiNO2pADp66urMVfsDKZbCOxqwl9JHaPK+vNLRHkuUFQkThHglCYmdaqxuzCVGfzTxOShvEOL0l/yYEPSlJekuLmozIMdyDZGicVIDM+4YOYNouzbxlEHV6mpI0AAMmx/17nt0Itc4XU3b75iQPnc9qRw1yZTwrAaYxcI0NxnhfOvKStlnNdStxXrKCcTrQ78dMYV7s7ukCek6/3LtdL4gelpqDYPSmTMThyLJkKakJellIf5A6dSn671x+xqqrprgdzmBkJDRaYAVWQMKtEj7WpLMxUyb7Ro015RofSxRphhc1iUJDn5Vv21/IQait4cSHwfXRMqiDwiUuDVNwAhQThRqNp0Lmt2rMvHC8OSegMiPBOjc8wIQ6L9ev+14Iad0tZokTZF+DdKtBoP4+z/NMApsK6Zj97XJVk3uTaeA7o7X/cOBh+76DuLpSDK0oKxwehQTd9uNb77n98/ggy0DMVNqniRYkZ4V6QJht/+0QUnm9AX2yPDtcgVrPC1JcUkS0V9fefAAfDIPE6aYH5IsSZ/cYcFQEuiEj+aAuH/49h5N+3B6Y8mM5gAFA5P7yif8BKEWJWnRHkh3SbgmJvUXi80wfLYgAGy5PnVUk09mPt8cSSrY3VMvPvyv3yCISDIU2oJxCiqyJuGxu5vLd6KOpt8g/gfmUtaG5klergAAABpmY1RMAAAAGQAAAB8AAAAjAAAADwAAAAcABABkAAC7TR7vAAADymZkQVQAAAAaaN61V11sFFUU/r47C1ipUR8koiGSWLBLRZO69UFsDG8KJUvAWGLE6IM2UQnUStDU2JXUoobKopLYxpioMUoNv21Rn4xBTQho1MTWtStEEGOr1loxdefO3OPDzuzPQGF3s3OS83Jzz3z3O/c795whZrHj+7/tBNhdtCh8sGn98ndRJVMXWvz80A/XafBpB4ABIN46gQWookUutKiN3aPAWnqnIwBCNCLqUKjgH+8baXTgbiSzoHlw7Lkr3pCuJnhR2kWErjJJDSoNIu+Y1DKnG1W2IuYHD36/gUAz82yzpxM+t3pd9M/QwAcGztRkOL3D8oHFT7mMjv/+Xz9CsBy4PffcVgA3GB+cWXAFtLe1xXQY4ASAtwdT17uumyIwv0BgIGT4gbUNLYUB7x8YXRyh2a0EyyzKp2SkIx6v/6di5jPG9BCYH1C3FlodwQADs88BGhUBF6wj3BoAGytinjycarLEHGM204V1nWyLL2sv3Pze0HdXO05kMrtP/EOKRWlujd/8Rdml5ookNUANwHcb+MO1nO3BzWMnlv9tA2ez+3KlSFvU7kRCVNngGrijuKYJh9L1WMstfwU3JxI0GkgUHtTz2xbfOvpw+eAENAs/JCPTV4zPWloT30TfssnjmkTOAdhkT9/AT1eWydxj7H0oY+HJxMqVzmwBiQSNFmzRgOQOTEITC9x5mc5y055j7UAGu1qin1wqqGNt9EsN7PWe3gLn5tf3jy6thLl2LHmq1EDjRLZq4N+AXubaFnrLu3MAtuFrO1ZHfyw1cNv6Jb/YkJ3FegE02LLzcOqe0pmTk5xnv1CuWqcytS9p8Oe8+LLizYi80td3Yk5Jd+5AOnfd3TBZLviu+xbN2MS2Atb+FdaPL6x9vIS0c2Rh7dk3K20OL665aa8GPwvWvg12PXNk7JqLg4u0X6y0SjHbwhYNuoEB5Cpqd/slu1o1bNPgWD8hjygpGkSMKHV7b0vdVyVPr5WY1nxWg1OFwtOEco1JQoShgr+xrm5Ck92BpgNN3vnEcPreUMEBQF079aoGU+c1HkHvo4O/Xh4qeH8sprVRmwLCgwYWGZ7rCE1whdY6lB5WwCrlDaKe+GYErH9nzY2nQ2Gee/ddbNZgJtvxcl5jaHpCS7tvH8br0g6xJ5h+G7x/w9DJ5lDBASBD87wGfgs8vbQhSX/kCg38o1VLpm2orvN7Phq/jp18KDTB5aceUUebTh0jECsSn8iEfRmWhgoOAM1H0iuUqKPKG8398VxBXg4dHABWDJ/6gECr9z/g/xvY/wMSR7zfnh0m2AAAABpmY1RMAAAAGwAAACcAAAAdAAAACQAAAA8ABABkAACQMqAdAAADhWZkQVQAAAAcaN7FmF1oHFUUx///u8nqdpFCHwStobRpNVp8qAgigtiHomaThvpQjClSEPTBB9102ypRWdQ0taUmLXlSFMWPhwpq2AbrB6QK+qI+CBLcxYRiqqJGUUp2mzkz9/iwXzOTzTbNx/TAebgzw8zvno//vXeIJvZ2Lr/R87w8gaQBwIob4kxfz23dWGNraXbzkqdDAJIE4IMThckgAlsUbjQ3eYdjtY8gAnCqo0/0dOSjgDONLqoq5605KYARADUn/plz9GVEZLFGF+M7Hn5EybQFUXUFYamZ/oe2fxUV3IK0vnp6JnHRFI9YaCWNlSaATl667o/XEKEtgJtNFA8ZxSZTqTWyDAej/dmdO90o4egfpHP5ja3KPKFB6YDmXtrdsRsRWzByiqMCJAnWu5OQmLEZXAWrwT05XrjLsexjpdZMtd5UR4+lbi0s9wODY4WUge0lMBs3PN7ffcuvVyYlqpy3HBaAAqLm5Kx68ReXC5bN5Ttdak6IPpd4qmT1y+Of/pC8IrhHz0z3uuDdAU0r69oLI3s2/7tcOFHsC0yYbC86icNLhuvO/bZOjB4VAv6oOeCPNyYvvL6SmnHJPxdMWDUzMD65aUlwraZ0UJRtlUj5nOmVSodDnBJwPlAqQMJ6sWNLgnMVB8uz8r/AjL3f1f7FSrttuOvmaQFGylmpOiHg3gNjhXsvCydgMhR6x6MeWi05mFM7KDC/CxnIjEuMZLNqmsOVU1j28qxOfZRqL6wW3Js9HRcd6nPh7Ljkjr/v/Hn/ZSJXj5pD/FUSDq62mLZ9t/UtgX4bbg5HMfT451Prm6W1Phvw+XMrkI5F9S5LKzRPC6i+xoAA13sl++xSIjdp1p1/Y62Wone7tn4jBqdrdVdPb3p/bmrbIjVXqTdq+twa7zocakbAYki24kJ9pVnkPv6+c8tna72Qf9i57YIDngjpHgTY0zs+vatRzTmuthxGRHZNsXVIgF9Cuod51eH7JiZagnCKkz+lbipEBffB3raSCw74olb17euLbY8F4Bh3BxGxnU1tfs8hvg7pK0R55P6zMxtqcNO72v+LfBdJqgMeEECDzcEN8GSg4TY9artn/Pw7hO4rHwe0uvsWGNw+8eCWvLmacNbGnhFgLrS0tboWJwCA134yM2V8p+vgrwcNjIOHntAzWk9DzPccAcSgDd5dG99A1cSCe4oH/geA/qt59cXVmAAAABpmY1RMAAAAHQAAACkAAAAOAAAABAAAABgABABkAADVd96AAAABxGZkQVQAAAAeaN7N1E1PE0EAxvE1mhg9Ga/GBF+KaSkB1AIK2k0LKqRo0VaBKm0VtLE06Dfo3XjxM8ClB8DOS/XEhS+gCQc7s7tdqx5IuOGhl47PgjUYE4+bmeR32jn8D7OPYfznFFl9qEhEe4nUVQmW4VUV3ou3hhZHqSMLVGw9J0K9gAK8BETvvv6wfVqLxiyxMjkiVR5hT+EZLO4H1wtaBKYrzRNzVLoZKtVjhD6BechRuV3e3DymRWSKWOUUtdRDRD6CGZiFDBG3tAhMkC9n7lJr7x4ip+E+PIAUtTcMXc4daq9MUFtNIiwBU4Do1jSzurUINLkzHGd2e4zZahxuA6IVot9oMzmjzN66yRwVRZwJsQM75rpzSovGCG9khhB4Da7DCNw44Nvk5DdEKF8V0RIXx//5eIX8ODnAG83LvKGuIiwCgzDMnM/pijrqRyDm7l1n7rJEynn8wH9dCDOnHEZgL/RBPwx4am7cl13mInR47ua8uaNy7c+FCx+/n73E3Z+ggggLQY+n5vo2OUkizMNzl0akFz3LZWz/Qhf/unoOgefhIgSgm7utIGkG/IqcwBvE3H37PXcq2dloZn3yntsv5ZpZTXufdM4AAAAaZmNUTAAAAB8AAAAvAAAADAAAAAEAAAAhAAQAZAAAQRf7KAAAAX9mZEFUAAAAIGjezZUxa1NhFIaf9yRIYiS4FUoIiv0BLpZ2M0OXZnITrLuT4GQXoUsWt44OTt261EFau3bqD2hLcLCF3CxO1UFK7809DrnJvUluO38vfHDPx7mH57x8nCNK9OL7ry2T9gxQdrLvdyfdp18IRNX5i/X9Qf3GRj0B5l6Ev6g9vPpKQFqA//so2RZqCzCpAJ9+OO10kpDgVQxWDqOWMeoLGkbuuuDb2eaTVwSmGecTTz5Laoydnrp+a175SICawi8dRmux0tdjYMc8c93Zvey2foYIbwC4a6R0NwbFQIyIJWLZbz1IegSqKkDzaPg2llYtc30yGo3003Dj2Z9Q4cX+oF5v0pfTnpvr59e11nM6SkKFt2qT7Ri1x8+E6Ulc70MEf3lw+Zgdt7Hzx9E/nDr5FkWQmvtVcbtaYbbmeT4Tl2zkPMfzuVwp5Amo4CW1C/FkWYqaOctCkZG+ET8iv2sBzIL4XMEyYC/5b7GZ6STj/hqljWTNGIr+A3aWb1YDMT8GAAAAGmZjVEwAAAAhAAAAMAAAACgAAAAAAAAACAAEAGQBAH8nJFcAAAQ9ZmRBVAAAACJo3s2ZT2gcVRzHv9/frKnrxnhvNGlpDq1BsGmwleAhoCht2pqqEBN6qJd6EUmJbaW0eGhSK1aM1oNFBS8eFgoJadeDnkoFT0XBxmyotrBpQYvRRpRk3sz8PMzs7OxmTTfJ/pkvPBbmzbx5n/f7895vlqiyrk1e2+i6iSyA5uh1Kke6X3riXLXfJ9UecMlNjHklkwdgmJBJ1ECJag525eKPXQ54kAAECglWiMQnO/Z33qgFQNUsoKq0xfrQEGIIGDDf5j194DRqpKpZIDNxfUCAZwQEoRD6q2MpT/Uc2PZHrQCqYoF0Opc0wBkDwG/h6v+curt4ATVUdSzQtPCWAdtFA5/P+z8x3H2429QSgOsd4MupbGvCdbIEUvmgFQBQXnq5//G9qLHWbQHHdc8omGI4eYUAxhIZQR20LoBPp6a7HBdDXmBKH4AQ4Pyr+7dm6wGw5iBWVS55GDekGBKGDAIY87atp1EnWWt9sHn7wKCSwwpAAXgAlIQnGHn9QOeVegGsyYU+SOeSi/hnLBq0hILA9MLDv11AHbUmgL+T/x6Fsl2gKKROAqpH3untdeoJsOo0emIq2wpFVoCizANg6tS+rftQZ63aAkuKdwVMie8ywYZFY4k3ggZoVQBvXp7daTwM+W7DEICefnx277bZRgBUnkZVuaQ8Z0AaAmED5u0NzigapIot8NqlG4MG6IlsVr4FqCfOv9A5H2uAV9K5pMHSWJlCZbo1dfszNFAVATC5eMyQbcyvvuYPbDpc77S56jTaN5VtbWIiyzBthhaY/Kqv40U0WPe1gDJx1g6Oyiz4v50gjiIGWhHg2czNXbbqoAAQLRQqFvSji3s6ZuMAICulTVv1fQPQwE+ZDgkD3qWxRhET/a8Fdl6+OeSQPSWFCoQ8OdG/+a9YAzydziVtOqNlCpXpxEO3PkeMVBZgodk5boFtYeBqfvV1+GqD0+Z902hHZu5RC+6MQCOZBxBg4ofdm/oRMy2zgKPOex6ZKjouQG1V9xhiqCKA1szcLkNvoLhQAagc/2XPltk4Akg0bRp64w5Ag6BIJ2ETv2uTM4qYKrRAy9e3D9rkU0WFit9O/vrclntxBfCDOJ1LJlswI4q24sDV6/MPPvYkeunE2gLSwrcN0CbUQuAqkBAdjvPkfQt8c6cNnjcDRTIsEf3V90RxS4quhX0ovZ7frRmem/yPTvl+K+iL3g8AlkbGUt6B8Pj3u9u/qxwgM/cFBIfK+Vb0m084SV2hr9j9lt1bugDL+nyYextUNl/ta/+zIheioFfLneUAuEFjsCcEu3HhxRrtK50UIYxMWKMALA9PQoBHHAs7AHxbEYB6+AmCTSvWBBGY6NeIEEZL6uRlLsbwHxtGYIrGKmQ/hzTZyoOY1huAuxFAVyUPeMGvG11JRiwQgSnvYgUYgQb3hzALFvVI9vmOXKUA/wHPJ3pHqnUMtAAAABpmY1RMAAAAIwAAABsAAAAoAAAAAAAAAAgABABkAAAH2SvHAAADw2ZkQVQAAAAkaN6t1n2IFHUcx/ExlbpQz8cyT82uy/OhujxFvRCpRDMtkkCs6zCCMEsKQ3ugUE+xIktFCPEBQzqT2Lyd55k9jBa74+jsfLrd2b19mN2d2yUpuL86Ag/uvn3GnTnX88R/vgPvf+fFb/jMMILAfF2WL8/4M9j1L6LSOpsjO7gt4WKw6/RwCPVfkq0qVqiz+VotbjxwByZ2HWaFiGgUTvX7CKfq7QjGp7BirWL0jXbc/I87sW2sUHugvew3MZK7IEaoNRghF+0oQrHO451jWTEjaO1uEaP0KzCgdAFgm4ueu/oiK6SqVysUMdqnATORj4bFiMo+9YBk/dgsWiQCAUoe2m/K16pZoSY1VvuTZA38LFkElIbQYPQQ+9RPybHW01KMmhBQctFfJKs3ELAms2JHpXj9MSAn0Q/IR89KsfdZoUOBfNkRKZ77Xo7TUXT8FmqFw+ExrNg3cmLPd3I3HQZ0BPnoCSnOO/X9aqJiv9zd9zWwA2gIVeIK+9R3KYmmPUqC9ind9CUgD+0/GIzPZYV2SsllnymJwc+BAaVGD/1Kjh8UmLc+aruSatuhJOljBJS+KKK9jSHmqW9VU29uU5P0IdoOzEU/cVE1uZUV2oipv6OmnC1qit5DPvqRkrQauafeoKYa31LT9DYgoOSjH6ipNbynwtQ3aXZfvZamBoBDqJaS2Kf+qmafeU2zaSOwTchDb2zWbd6pv2Rkl6/T7MFXgG1APvq6lv6Wfeov6Jm21XqG1moZWg/IQ//ZIGYnslrPapmGlXqWnge2Cq3x0HV6+l1WqA5TX6pnnTpgK9BKQEXUtp7jnnqNkd27yMjREkDL0BBqZHinXmUUZi4wcn1PAqtBtbdQkX3qlXru7BOGQ9UIKD1VRG/UcE+9wigsn2U6g3MAVSIXnQdsoZ47wD71h8yejulmD1UgoOSijxvO35Xn7XJWa4JR2DzJzNMUQEDJR2ebzhbmP818WVko74wDNgGVoFEhTLxTvy9U2DcmVKD7Q3kCSj46ucVZzXuq83/NFloK/wnAgFIJOgDULkeTzB57KnoYPYJmIjxe+zHDsavQXITl2gvR0+gZtFjP2vgw2HhlrqzQc/VFLJQ/5UKluehYD33QO2m5e1I8WqAElIASUHoUIwJKQAkozcd63XcUKPkfBqADdWpmKbBCejh2N3T8COiMm6hzG1pdgtZ46GIt+6kgmAXlbthw9AEXNW9Hp42AVpagC3xUd14Gdn0ObnjpXqDb6BHQiSXodA+dVYLiw9A/z8zd/NX7HzEvJHngoXNkAAAAGmZjVEwAAAAlAAAADgAAAAUAAAANAAAAKwAEAGQBAJ/K/NgAAABTZmRBVAAAACZo3mOQ2f74uvyOB7UMDf+ZGEgB4tsf/ZcEYuntD9NJ0igE1CQCxOLbH68iSSPv9sf/+YFYaPvjepI0cux4/I9r+5ON4jtfcJOiDwCu9COhqRjjzAAAABpmY1RMAAAAJwAAAA0AAAAFAAAAAAAAACsABABkAQAanuSfAAAAYGZkQVQAAAAoaN5jYNj2RIZhx5OvQPyfCYhZgJh9x+P/nDsfr2PACXY8ngvSgIyBmn8ANarg0fTkDromhp2Puxjwgu1PNqFpesGw+y4/AU3PFYAKz0I1PGbY+ciOgQAAAF9eSoCTwHWxAAAAGmZjVEwAAAApAAAAGgAAACMAAAABAAAACAAEAGQAACJuQm4AAAK1ZmRBVAAAACpo3u3VW0gUYRTA8cmNLqggGmSJYCYUCUKBoBTZBQJNIioqhCipEIokySCwixRZgd2IioouqGRsOLNz25nNaCkwNAV1173O7s6us0ZFPRRhkeTpTO7m4vPpqQ78nwa+H99whmEYwnltHcrr73J97WddkNpAl/sYpcPgoe0zEezHAOdeSob0sa5yPHRyJvSGG24lQ5qbIe0l6+7rYd3Qm4qwrveD3GAWGaTaPLXdnBteYK8QM8G+KeggGcLz/kyeG3krcSOgYiboxPCGg1ar1UIGddq8F602D7CcBxCEJPiMdVWQIQ+6goWPbN7v7TYvdCKWBAXO84R0nW/xPv4OIvcxBKEDIQTHOzlfARlyWQxsvMr74AaGINxNgA85TzPdOjuds1t4v+sS74dWLAne5n1Gm2M4nQxqEoP1p4UAnBX8cB6hJHid9+4mQxpUT3ajEPx4AqEm7EwCvMD7ewBgFhl0SNJu1otBaBCCcBwzwZNC4OcpIVBKhtTatBUHRG2iTtTgMDYNavdI17lGDjv2iCHYhwiCkAC/HFW9i8iQLVJ423YpDDulENRgJliL0H4h1EiGVNq1uZVSJFiN0FbMBHdNgaEj+IwMWitFmjbIEdiEIQhJcIccriZDSmU9t0zWP6+WdahAKAlWSZFu0gUoUaJtK+1RQBAQhDVT4MR6VSsmQ4rsetkye2yyGKESbFUCLJf1K3RXwa88X432LrHHoAhbjkgC/FSuGtlkTo4S27tQGYXFWL4Sgz+gotfR3cb5ISNDMcayFANyEJoGR4cYK9D9ntMc8ZY5qgHzsUzETHABQrmKsY7uNs9jhYwa/4aBBUsBn5KuMwLXTCQ1iyM+Pk/RC4gh4/FMiHHEzzHkoxhVePhkChRiHO/Smb8yanwzo4x1/H6NopHH/J9/Yn4ByYxYN7/uQDkAAAAaZmNUTAAAACsAAAAVAAAAHgAAAAUAAAAJAAQAZAEAs3ud4wAAAfBmZEFUAAAALGje7dRPSBRhGMfx8Q9pggUZFoqBEQgSgQSCZbSQXhQURA8S5GE7FJUHFfKgsHkxaS9FeglBUC97mNnZd+Yd96Kgl7IlaLfR3XF23d1xV7xIFyFEfXpGZmnxEjx63B98rx/emRdeQTjHvonhhe9iGM50SAY1MdyyLEVO1sQIfM1D16WfXhLo8UCxJOnrivQLghji4OB7IV/oKgmdkzbci34dfJiEaA5fkSJuEjglRyun5c3sF/8GzGF5+A/7C0jopBzzfpCj8FHehBnMwU/m/fojEjgqm3fGArE/7wIxmETY6+B48gXyjb9mhjoUMOAtouPYRCBq4wfvmX6LBA4o8U4324IX2BtmwDDiozbOjDES2OfTL/WyeLRfMeEZM8HGX2KDzEh5WLaChLYpiZEOJQ7dWC9m4wOIP1eMHhL4IGhWt6rbv11qAtqxHN6nxJfJl9PIk7NNPAnN6jY8xBz8qEtO3COBNTzZVM9Txw08BXcR/ocnPtOOCFB0TUuv3tDSUKel4DbCDr5/n2Wvk8ySoPW0fMmCSs2CKoRvOni9mnxFOyXfKhOWdiwMSrDLiF+xcZ6OCCtQSnwsLZcN5leKlWs7T+hPOt9tPIsKwYwonHta5lMeagrMqhUuZPaJufX49B8XVlhh/99fDnKESFU/MpsAAAAaZmNUTAAAAC0AAAALAAAADQAAABAAAAAIAAQAZAEA9UdUDgAAAThmZEFUAAAALmjefZBPK0RhFMZ/58wted+ZspYssFCWslBKFkpZsGEhn0EpCwsLyp+NBWXFN7DRlBQb38ByjJpYkJKbycJcZsY9FjNu103z1Ls4T7/zvKdHyOiqWO4tfNfvAsinfTFZC7Jw1Zp7X6J5j+HMyLXshgRa/APvn92OhsKyx4gwHEZ76WhsbqSiCWkmrzk9CEU1FCX13qrN3DZAkrx0fr8Uik60UsEBHiGCjYXF4bcEHj997H7Vxq4zTb53rVNKXYXnk9/AAKCaj9c/0f7srZ/Y6vHUVDNppPviqc9JXHaY92Y4wJnhseLl7MB8uoAgUtuKUB/9SaVe0++1bK0ByCRADaEmgjejJvFhODNUycKKUUobHyIvYdDc4R8p5FaAm/b8hMSLTA++01HXDz1smnZCfgAx7nr6AIqbTAAAABpmY1RMAAAALwAAAAYAAAAEAAAAFQAAAAcABABkAADHjO1dAAAAQGZkQVQAAAAwaN5jOL32cuzpdZf+o2CgGMOZtZeL0SVAYgyn115SAuIvCNVANlCMAQROr7lgeHrtxTlgDGSDxAAF5EHBroZQLgAAABpmY1RMAAAAMQAAAA8AAAAJAAAAFQAAAAUABABkAACeX6S1AAABHWZkQVQAAAAyaN6Nj0ErRGEYhZ/3u/d+N5ntWFpM2ZgNo252UhaSYiFlMT/BD7DzF+QPyMKsJKXLykZJjVm4UmpCMigsxuY2zL3zWhjCqJlnc+qczqkjAKoqld0oaCkZJzXP4jVfCnOFB7og1bDq1xvxPsjkn+xVIRLkSFvpVrAwctFRLm+fFxHdpDsVQdf7EreUX8y/A5hD1x04djxOHY/IuFwal2vjUBPDkxjqIsQICYwpshG76U1552wJQKb2bnMeaWTRfotiAattRbH6qf5vX63qrAAQ3o9ao8u+as6iWR8GrWrme6BjULFQkn/fraphvJYDMw1aBIKfsQF8dE3ohYO7AFgBmW87VzR1orfyF+HjMCRZaJwwM/T2AQyzafxz+v/6AAAAGmZjVEwAAAAzAAAAFgAAAA8AAAAVAAAABgAEAGQAAK3aH+QAAAHSZmRBVAAAADRo3q2Sv2uTURSGn3PviSVEu0h1cwhULEG0igHHDoI/0IBWQaEKXcRBSgfBRcg/UEUUXIMFhThUqSZxdq2KFQcbRDEZFFOhQ0oa/b7jkDb9Uqsl2hcul3Pv5TnvuedIoVDu6WssFkGG6NSCwawgLywMHqSH97+jC8mzqbcjHrnvMRTwBorhAdf59qVgd+I/9WHqXKq5Edh9Q3fURKiJ+219F8eCCHURGsjBH0iursHHmak3V/L5vP+r41tP55ISBLMKCQ+otdwq0K4ich65e+UCLg8N751ZFwxw40l50Etw1UNSzfoU2eWxrauQPyZsaMjFzOnUo3XBa5XNmmsMfkjGCI6qMOLN0u0ERBKYoRCqyNilzMDdDcFrNT79Pu1DuaZiZzxI27W1v8YUxscye253BV7R6HT5cAzuKezrBBseTJHR7Kndua7BAMcK5Z7e0E167GwLHGkwVt/iggM3TwzMuW7BxeP9S+Fi8vy8SK4mwvzyaC7via9hLIeZdO14tcPm0oc+TSpc6Ghqq4oj/w4Gdj7/kugNll4r1h8dSzWu/xcYYHvpc8Ybj9uuDWLGSTZDrlSdiJWqzXip0txWrE6wqcpX4uQr8ZXwF/buq2nt8Lx5AAAAGmZjVEwAAAA1AAAAGQAAABkAAAAVAAAABQAEAGQAAFT/qnAAAAKNZmRBVAAAADZo3q2UT0iUURTFz3nvUxOFKKyFRgvD0PzXTDLYrhZhRFJqDrWwRUHQosIoajm7Ni3KJLdmYDAFkxgTQUTQpiIxLbUU0ijaJIHZ92b8M99tMc44M/ZHne/AXbzN+3HPvecSAESEL/uGfVpQqGPqO3MWpr1HvN/gkhgOT+TlRqOPNbFfC6ABaAg0MCPAMMEX4sR6fcd2j6wbEgqNtmk4PfHPk4B4yfKbwAAht/IXrXuV/sr5tUCUDdlqSBgSBhnF5YqCe+bBbtuKTb4JDZ0NBoN61ZB5JydkQDv+KZAOxAqgTRYbUbdLrIrXrx68q1uVXQDQ0TfiyaU6p0RKtWCLBrZroPBv1iVtJaLKkZP7mmvu/xeSqUBA1DbPaCmgDmqRNg34/gF0LPDCgabKzjVBMtUV+uiz6FzWkBYN8A9A0ZD2xqbqm+uGJNTZP7ZXO+jSIrXLtiW7EktwqqWpsjsrCAB0hCfynIXFuxpojXeSOifYuQ69x5srxtO2a62Q84fK5ornyk/Yoroz19yQBbNK7gQCorKCAIDfz1j07c7ThuhNzxZgyPoiz5g/K7tSdenJUEHeXP6ghpQlZxNfhFEzWF4dCNBZdycJXW+otW3yTFpwSRiqXdrz4WhWdqXqRmPZ8wj5bMVporriGgQAZqmu2SBsEDaT58nX/nCs2jVIz+EdTw04mOgiAYzonHrXIABgk/0Z6wwD1ACA5RYkQgxr4VL6GQ8nWeUuRPG9coi0cyNSlXVOUtUaFP2pYOqXBjak3rSY6M2uQQCgIjz1VQMlKZ3A0SxWbkIMOJlxYn6iaHraVUgEuGrImaXtWjTExYG6ugVX7QKAjY8+b4KGVytr/EdDyRcA+A3D0hL1rKSxAAAAABpmY1RMAAAANwAAABkAAAAiAAAAFQAAAAUABABkAACrOn62AAADL2ZkQVQAAAA4aN6t1llIVFEcx3FLWqAeCgLDoEXKAsnQ9oVWi6IgKgwLRSEKFNswKorKQikyipKixcwsra7jXeYu0+KWWWpOonM9M+M4zThD9dJLkNBLzb+fmS2itHgOfGFA8MOZ//9eJiwMh4iGVMlsfq3UuqrBYsbWKc2RYTyPYXSMsIltVY+kNqqQTKpGtaJJz0XzQ4PoqG0SzdyXlpaYQSHlkjNFAmBFOnqIngCqQk+B1aF60UFNosNuF1tTmcCG/zNSKrGsBzIjC5Ik1j8m/cReio63dqk1XRCE8L9GCss9UcWys6sEyH1UhkRgChAN2dBjVAmoBj0D9qIHe9VoMef8NVSgsLhC2VV4W3HW3JUZuyezjwKwcmAyABUZqJ+5fWoUHYn/NafsbBp6R2FT7yssE1jjH7AvdZIjc9AbWCKxeZhbGeYWGmBJQpjbXi7rXiq6FuJ2Lf3PzQxVSo40LtAlPFdYEmGAJemqEF3RXCBBoPAimd3CkhCWhH5bEtms754pF6j7HxXKrKRIdtIdVAqo93kTxbYkbq+k4keto65LTs9NIH0wxu023Sdfci2/orjoGoACdAvh4aYSxdzM9SV7QXFVXgJ0GV0FcKMHa+SK5MmehHOKm4DRD+zb7VwzuUI5iqv5DKA8dB7AxR5sJ1fkhLX95ClrO+UC+QXL54octnq2HAVyHJ1EOVY3nba6q7kiexX39ANWDx0CcAQdQ9nW9vdckUS8Bfaonk/7Af2KHdYcY7lCu9SOtxlqB+1WPbQPUBY6qLj5/ihJU73vdgABRukoE1gmTySt2j9yu+b9nKJ6CRh9x0IZAhvNDdmk+mZt0V7TVs1L21AyoFTVG+T6Va3VfMkbgGxEm1EioCTNa+OKJBi+vDW6j9ZpPurFcLuz3IDZdvuwJbo/sAzISrQa4Wa0HrfjhsTbAslzdT8tQIvRUiArdN8XgJO4AJOxVTFGp3+W0UnxqBdbpPslbreYogdSphkBmgEAGMWiODTHCCzmhkx4GMyaaAvQFEBT0XQUo3dqXLcqQgtEjbcFuybYgvQd64rS30SH8T5jjM64cbZgQQSKxOe+f/8KwVMMQUzpBO4AAAAaZmNUTAAAADkAAAAZAAAAKQAAABUAAAAFAAQAZAAAmL3pFAAAA+1mZEFUAAAAOmjerddrbFNlHMfx6jKQiC5DvOEUMycacUNAmQuKI6BGYzQi4I0Fb4iYEYKXKF5ivRAFJBIVvOEmOHAetnO/tCIdDpAVq1l7+uy0Xdv17AzemBiMBF4o+/sbQ6yAyVifk3xfrp895/88zzqfDw8RnRWSWXVIis5qb7GrdiuJcT6ej2l2j9TFeMiS4vQd2iHZtBPtFu2DP4qx9rBor9zX0jmxIESQuupEiZECQEeDmH0C2yXaBIzCYiwSEaMLmcBGnDGyVWLPfyszakESABUZKIC2AwmhH8RjK6O9wPaJsf0RKbpEEISiISMNranyJpkd+gaIgFqxKhmAhkwURN8DakPtgPagDmA/ibGfwy32jUOGNips8ibZafhaYTu3yowB+2OI2JGIGJs3rDn5/XS2oLAKVI95hf87r/jJ8zoalmL1Be9AQWLTRJFtw7z6T5nX4E7s75Ciy7hsd0F0arA5Ov9nc/TvkWKPcTtXrTLGdvp5Hdoldk7gsyKBirDlG089X8Bkey9hplyggc3RLLMt27DtT8aCYvwhblfS5mD0XBzm1GkOM/PzWs3A0yg5tU1yF504zPLg+dJFew7XS7ZBcnZsAoSbg/JujjBX5HO5a/ZGII1oM9oCpPkY5lRyhTYozi+fAcjHmpT4Iq7IOtV582PFoU8QVkZfoq8k9hFXZK3qPPABgA/RevQp+kLuauOKvK0krlmlJOh9lIf9yhUZuAXeURJH3gWyGq0Fsg5t0GOlXKE31OT+t9QErQTyHlqDVvH+UrJCSx54TU0SMPoH44r423rOeUFN/fUSgFfQ68ivJvv9AhvNDVmqJSct01L0nJqiF9HLQF5Vk71cX9VivXvBEq2b6gH9iyUtrsjjemrNU0AWo2fRUkDLldRqbsDTkUjxAi3tLtTS9ASAReiZgVVhddyQuVrm0fl6mh5GwOg4dvRJIzue21/Ie/UMu1/P0Fz0IKBHUJ2Wlrit4k4jW3eXnqV7ANyH5qB5aL6Zns4FqDW7y2qN7G+zjCzdgfKwEBdg6vZMyc1GT3i60UMz0EwgsxFWRncb2RkFA5W6WzrJzHVMMXN0EwBgdAu6DQCw5oKBci1zxQTTjV8HoBLdgKYCmIZqjJxXE/DGDPvDK/DN8TLLXTHedH8vN126Gl0LYCKqQpPN3OEpevbW4f/6+J/yAssNXWT10qWozHIJGOVhh6833NsLekWjDK/6fMujUgBj0cVoHLoc2JWme/AqPTez4DkUB73qUQGPRgMqQWMAXIgusXq9Msur4nPi8LqKAn2hEYCOY3+WWH3rz9MOjOV6y/oweF+gr6442Ld8ZMCrOJMf/RuAQ7maj2/maQAAABpmY1RMAAAAOwAAABkAAAArAAAAFQAAAAUABABkAADdrYtsAAAEPmZkQVQAAAA8aN6tl01oXFUUx//nnjdNUlMkgl2EGtqhak2aSWvbMYW6iAjmo9Km1QErqVAholJEQQKCMAvBjS7EqktThYijJq2RaWnVVLPQSkQz6aS0oYSQGBctxZSkybyPe1y8eW8+Mm2TybvwmDswc3/vfP3vOQQAIkLnTo9HQ2JXG466rkKhG/sObJtFQIuSyYkKZylzhgktDIAhYAAsmGNQSkGGWTt90ed2pMuGJAbGuwzIF/7h/uPDvP2fDPm4yja+aog1mKuBKBuy0SLAIoIF5D3Z7+TtaZcF6l0wnMmRgdFXE4kErxiypEMDFrDgHki5w30QuaAcrNYW+nSLse2Pi9+O7V6RuwDg5On0Tog6bpAOs+BBBupYUF3owrx9zoVLDBzdfSjyzT0hxSseF1W/czysgFbW0sVAtHSsAIZog/DGns7IiVVBitfAQDpKIm8z4TADVAImTPrN5s6mj8qGeKu///JeJuczBppKuFAMkmN7OyO9a4IAQDI5UWGamS+V4PllLtRYUOQ8/uShHVcLsmu1kPb2hzOm2fCCBepdloUK99mKT0pc1JogABCLkTM2Wv+yTdS3LOUFzT9F0rE1Q9wMJH27yu42gYnCQibYhHfjedaotQjf0WeaFizo7hKFXP9E5NLBQCAA0NXZeMES9bMvQR6MqCcwCADYJO/7wc/CTKLoqVOpxsAgxw7W/2gBfxUIK4AMqebAIABgKRosTmlbUwQAjKAgJpAyiKABaBH3k2h7oJCM0CWBf7gH2l6WrNxpJRLCUxVX5hlSmX/DClsPBBaTWIwcC7hZkGUAHGddVWDuygaftAi0ABpufNYFmV3xoclKS7AxW4ieJaIyzq3ALLk1bz4aAlgDueBDZl6PNcwHBnFINcJL3WyWOaB0oClsQZo0Za0QNx5K9FhgFd89MhKyhGIFLRQAG5wKzJLb/9bEDEid5yYNgibRJvNwIJbE46IckndyzZ+vX99/0hGeCsSSv/dMvshC9QyBplw8ROODsruV/NWWnNiktEoxUFPUuQz17d/6lPe7si15+vy1+02TvmNCjVvhuXgIOfH835YF2ffDVM2iqc8wENWem5BVXqKv+zse+XVNkF2D1+oWoZMMNPiZlJP4GYdDrxX/Z+WQhPBjG6ZeWRK8x0BNweXkiuGiI3Lkl9aHbq66Ta0dnF3PbL+kIG8ZwNZlPTAAFllUkAMXO8LnV9ZwJ6arqtc7m1mpCBNaGXKYQRv8w2XZyDenNDpH928euvvocHb6CEA9BIQZecOPlBiA3Df39v8octqvtIVTdx+Czk5HAfotv/pV/psKSk1bwoTPqyyj5+qztTfu5XIDQEuxvPh3gqtBWWUFNEg05BxExWfbNv2+0pwxQJSG3OGOyGXOfxqSEI0Tcx11Y6ue492YzHwI4DiAUFbfrgO4DGAMIsOotJNo2bJUrjr8DzgKCvJ3CR9TAAAAGmZjVEwAAAA9AAAAIgAAACsAAAAMAAAABQAEAGQAAHrt1WoAAAS9ZmRBVAAAAD5o3r2Yb2iVZRjGf/f9nunmZrbAPoiKDu2Pc5t/h4J+MKJsM3SaByxUMDCKIgoi6NP5EAQRQWT1yVADo1M2TZuW2aQRWExkm1NKzcbUCEUU57Zz3vM+dx/On51zXDVl573h4cB77ufl4rru+3qf5xbGGGYmJw90Nzqjygv0qpT51xatXXSFcQoZS1Jb27mJ1cODhxVZpYV/3TToFqTDXLC38ZkFvSUFcry1Z7MaexRQjPTvqJtPCvZhRSryeW20Nnk3QHQsSUl40BfwBXwkt1KAK0xdbMiuwUhwsbO168V4PO6NLxBnrT5y20fIASoABQFgI1ummcnHsyOP/PrLVz1Lxk0agAMHehdGAveKitZ42FTBZipUKaBGTq586TIxLLBlyfr6L8cFSHHEYqbLFp6p8VywWpDNCo2FoApqySG8urSlfse4AymOI629jWrBG57IBgUZhSUTsdcaWxo+KCmQbBz+unu5J/KJQkMOyAhLJsK25S31u0oOJOs7kkx8psbGfInUQI3bSLBo5foFv99119xtNDXNTdxKntnkw678zvIFfKUyUG+3xUxLDgQgGo0GnV21z6dgr0+h//jGsmP1vdGSS5Mfe77rqqwajJxSbO5I8YLCmRNdtXWxmLiSMpKNLU823E7gtvuSJ1F6zVtSf3pdyaXJj00tdcd948e0IwtZUCmRN0MFAuCLvFPAiEBKpHH//rN1oQLZum7eDz6cSn8s0x9MH0hIsCxUIAAp7GAqVyMZeZzUA0TCBJJQ7Y4YqI2YXCAyP3Qggclpw1CRPLe1+aH4SH7E4+b1T/xtQLHyfE8Rz38g1BqJRiXw4XqB7QNBMKEiVGkAfEXUZdlIS5QIW5pY+8Vydys5oODlzimGJRPBfaEyMjSQfHgERIYR4VIsWjsQKhDfaZ2KFR8le0Nv36RnDZ5lT2zp+hBzPaE66/bOzrKUSbTgSgKk8LpDZST115SowMz8blHB4XkdoTESi5kmRd4q9g8fvvmouaYvNEZ6l55/Tk3mqWRtPc0IjvdCOyqubzs33TntVqgu6pb2vWvmPJbNKykjjx+9MGU4IfsEqy7wDsCTIJafWzIgKw71VbtkcDgpNCqSadk0GyLyxcHmh34qOZAVBy/MNFybj9TmpJAcG5fwyl4q3hMBmHKor8Y8b60K1264oThNcxP3AmBj3Lw/Jve9kHD2tuRqQvLvwEOe8eyx1TOu33HlLGu7vFDVdShUZu6o59Xs/cogsvvK09MGxwJg8cErkwa9xFZFXleYk3foyb/HDCm29ufmmqOjX8KP9O9UZFvxKEGNW4rsE3NHIs51Vwx6f16KzhgCmB7vr/AmBbOcar1ntlqFDQqT73jHyLopjpaTa2a1//tY4kj/TpBt2V6+Y+BSMF5gIPO8SotzjVEAGAqXRVzT6adquv97dOV0B8IQmdFTUHTKLhxVUeUjVUXumMnLrtxz89FP/WDCgv8DMWJoh/vrEX0X7IlikxsDS8VymMD3YkHsctPsE/c23vy2vw6VlxGiwP2jTf5GqaVse95QI17m2PF384ye8Zmztl8sZzjShMhKoA54FJgKlGU2+QpXFc4qrkdNOobKU22smj18r97zD55t9cK/Y9FxAAAAGmZjVEwAAAA/AAAAKAAAACoAAAAFAAAABgAEAGQAABkw4gcAAAUQZmRBVAAAAEBo3s3Ye0yVdRzH8ccbitc0BS+EhCh5AWaa6PA6pcuareFMVzKrpYU6rbTbWo1yrmY1ui1npdSapUd5nnN4riiCl0oOUIPznEeQA+f2HPynDZk43Fzy7fPAOXm42JDg8Py293Z2+D0Pr/34nd+eA8P8z+GSXCMr2OqSCtZBXWouZx0XKlj1QPmpqvnMYI2yAjW7vDuupyor2eqtmkWLiijwYoG69zdWpUtAlKFeYBsrueoci8UyLCLA4gJH4jlOvXEByIvIwP7eO+wf9lPq4oggz9i0hWdZ9WgJp54DVjvPqi29xN6sZB0bI74vc3NpaKlNSyrlHLuAtXfF2jsjb1dgHjOY4yynLTnHOk4C22Zgf+2ObSvnqvcwgz2KWccybIOqUk6l88E9G4YF0vH8oCMlnJunrU5LMZDAUidsgXrDzlbNGXSkccTInDO/iHPSaQA7Ya3qJcIeHnSk8UHiOecxEUhgKRxbzDo3M2YYRUXVYzjOWVcInIBCWIVzarlmWEVjnOTU1QWcRhyyAmdgeQPMqlmMWcYJTjtrsWp0EoVh7aYB/mi9vO4YcD+j4yiEtVprUkyD/MF6+U9A6ScUwp6wObeZBvitVfvge+COImCpHctpX5kGeKiwZsMhWw0dBuw7FMSWmgb4ua02+UsAv0bfoCD2L9MALRYa9pmt5mYeYF+gEJYx0/jYVtt40FZLnyJgKc9swP187dUDwH2EgCUDaxpcbqln1PuFV/7OLbxCH6L9hbUEbJtpgG/xV9LeAexd9B4CloD1mwb4us215Y3COnoTvQ1cECubBrhbqPvkVb6OXgNwL9pnYG11B02B215ZOSKHd/l28i7aBeRutAcZq9oxg2hIquhJX4SM15EGvsi7nnsJuO3oZQQs7eBdt3eK7plMEr4jzJO9JfMlL6WgNLw23ovkk3W2UK9t5evpBcCAJQO7jXdx7ROSRF/2bMlHc9BDAM5DC0TPK5ECbhZd2ZuFenoWbQEyGxnYrbb6jPYJMyXvvgTgHkSzUBDblCQF4gYalyW54jYIDU2INgK4CQWxJf9Omi55F86Q/RQn+ygehbBYWXvimYYJA4Vbh3s/KTTY1wP3FHoaZSED+4xYt7LT5Cmy/5dYIKehcCxWtyxe8E3sb9xy3DNTdJc9KrrpccFNTwAFLBnY9aL7eLcLxiv6pEmyX58MXAwKYae3Y/1OrGR8v+H4hvhVgse5Grg1aC1ah4JY/TFYerxwnOJfMUHWWyfKOgFLXbBNwO5g8EjUV9hGXPuI4N2RLnqalokeykDL0Uq0qgPbulZwr/jPm4wp8mWOBXIckMBSOHZKB9Y1VfLnTOevju4tbBHmpkqenDTJ61qIE+JhtBioJQhYCmJbM0R3Zq9uOEoJrIlW9ObRik7AUgh7Xyes7zpWNz9W8m+aJnjnxln06ND1xuuZeG8WfjZb9OUnS77rc0PHV+isRWHY5nTBu+ae/hxRsp46vCgQGAnkKGRgx/SAvf/OytJU2d+CbdCCPUsPtH/AOk6ERONECB5fyeFnbQc2sEB2p/Zt0/BXJw9V9CPDlEDbCCVAUfeGbf+Azbg7ti1Z8h+Zg9/RD/8vCyxllEZlCKDA0t2w43vAxnTHtsVLPiVB8izt/5NV1FMYOXCYUQLXgKWu2OgesBNDWMV/LUbWD8ca9xjwgUdzRtazAM1DxcA2Antr+B3sLWAbgS0eq/jzAM1KMK7p4/gHhfht8rs3/k0AAAAaZmNUTAAAAEEAAAArAAAAKQAAAAIAAAAHAAQAZAAAz3myWAAABXlmZEFUAAAAQmjezZhtTJVlGMf///s5xwAxZFM+kJKedL4Qh0wF23JFs0zAEp3HmlqrNluu1mpzbs4P50Nf2lxby16/qLWsKCIlEULFjbVpUY5DUFMZAidaL5NShMPzdvXhwHl5eBEQOefant3bc5499++5z/++7uv6E1MYP1Y07wTl43E8+hMh76Sars9yfbn6eN+vphJWB7JMADYAGfvRlQIe7nNZ7Y2VTS+Vl5dr0w5rQyoN4Q0DhAHCBGCNDZ4twvcWupb+cP6r5lU3ez8xxVF3rGWFZtmvaISHgrkEchSQTgjU4ISjrFCIwDOrNnu/nDZYZ/j9oh5a0erRbOtxCncSKFCQCDTjIWwQr64u8x5MCKwzTle2FGhi7VHgFgUwDB0HL0J5raAs/+2Eww7Fqa8DD2jk+wTylSAGVqAAUcTzBWXew0kBCwDV1ZfumKEPfEKRrRFYiYw33LTuL9x838Xbkg0mGsXFiweu6q1PG+DhcAYBDA5eCjND0I6IX1RSwAKAz+ezzjXlvqADR4dSXgz4mtPeFl9SyCA2amubZob6tAsEFsemOAKt55py8/x+2ipZYNevz7+hQ3ZFVjV6LV/l/WVTUsggNraW5Z01gTMGCZNDpyBhknuTSgZD8ek3resAqXNIAW4or0o22O2blp8ywAtxGw3AAK01SQcbrt6kKqrZMLRu0+tKRlhLqYAtACWm+CHvdQHArqrutD7071GQZZqg/tDGez4CKQmDNdEsGkAyplKTXAUAPew7alL8BrFNV/hgx4m2/Ylc2SxzaZsBhOJTGOeqrXVtGSb4hEPQOxJ7qtEywKvOTeYa6HPPtDWD0eUmCMxKtG4NBdIeSl1hOahrd16/ZoDiODmyHq5vT0kUqL++PcUUZhlktLABRJ0tyu3ViWD4JsMXqKX3ypJEwfb36kt0QItNXQYZVABggi1xYiYwQOQlTAK2ynPq1QBaVDgJs3lYeaaQnyhYU5N856FgCJsVABhiBxxpAobQt7Kx0T3doLsaG92G0BenVwImGFAAIESDQdpRzQIGkOP+a45v2lf1jwyfAeTErSpoD7i0BgUAF0o8HSZwPKrZMLQO7ENMWzEdbbtF7huhpj3+bomnIwJigAdGKnzzV3duny7Y31Zf3q4Dy8OpirFFzIFh9aznZMcZJShytMU9Lri8geJ5wdsJurn60jzaKkAg0+He1B8tXfTIsE7BsOkfttHAzJBYFZ66tozbBbquri1Dt1WFDmQ6tAqTtn/UhjG7pvNzCrZFXBIZsnjkvGlzQ2fp3T1TCVrybUemTuukAgrDnkHUnQH5RVWJ56lRW/FecLcBBGNOjnDqIAup0OCpasuZKtAHq9pyemE3GEBh1DOInKJBXXPvvqkjk1nTuVYJagmkOnshBfQQ2N91ff6H8NGaVGNYLlpnWseLpLyhgEzHHgGBfiVYf7rU0zAu+yijtuNR2OqYAlKdduXgeJmCt8RyHenemN03HsiVVd1phjbwrAJfV8CiuE4gOvYD8uT3JZ66CRlz6TXBIohUEsiIqdgdL5frCqyAoMZt2wGrT7sS9M3vB4B55V2pqWnWAirlhcjjirJFAbMccIN7Q0DgP01Ydr50Qf2kLM8ZJ7u8SqFaCe6KmGbD/zbn2Dv4e3q8Qxj3kc77v7toF/+8wRO4NTO5qnuO2229SeC5iKcqN508MkY+bGRw0SCHLGvG3osbs/8ZC2NiJkd1cI2m6CfkMQWJdhcjQoy66kMfJkrwHWD7rxQvPDee6SfnyJzoylOKL5PwEZg9DG6sVSf+pbAcNg7+WTK/eSLT3pp9VN+egpCrWJFrBcjTgGUE5iqIexDOoOBvDfgVlGYlbJidYlZfKVoYmsx0/wMN5mfvJKM07gAAABpmY1RMAAAAQwAAACsAAAAMAAAAAgAAAA8ABABkAACqQq/DAAABy2ZkQVQAAABEaN7Flb9rFEEYhp939k7QQhC0sbQwel4uihYRIRCIpL0IHng2VmlFUayELQOp7O1EkUsTibExqKUIGjgTA0YL/4FgYSB7s7ufxW72stff3QvDwvxgHmaeb1YMZHl1px1IjwU4s+X7zYuvGGI6nU5wslp7LrjnMAQ4yL7G55lu/YZCpeR9RZbe/Jwx0o8OXL4odamuP1yY+DJM4DA0d3Vq+0UA7T6s4QBMd+Zu1V+T9xcLIuyZF84LPODBRYHNMuSEodJjJ5JFD7v5vniER8TiaRiaK8FGV3abXlw+nOQlvCDGthlB5uen9nvYYrY/R1vtWmOrWYKNxaOBSXjc1+TbhXeMKLcXJj/F8MFLxMpPFhFLTwpnH6zvTFoSdAuxD51JdXOpeX6DEebl6o85sPdlFqjiGg4gSqvTXlC0zJnNUYMC3G3WNjzaLHTMbzlSMu0APNboD2a+xs7WGFN62NpgofVSNSoZLPXBY3epuuOCTZzrpgYy6/NI9UpWXLokK/taCYLv44KNTFsBhqQjPwiru/bbP6d6cKbsrA7+7p/7PS7Ys9HELw8HpZdJOu3+JTpe8hXwYm+lpWRcsK2WEo/2BovsP/LZyUqNvyewAAAAGmZjVEwAAABFAAAADQAAAAwAAAAFAAAACAAEAGQAABBMi7MAAAFBZmRBVAAAAEZo3n2STSuEURiGr/vxamws/QKbySTEwlYWVlNGGSULRWyUhY2NmrK0kI+yQ8LGYhpZSfIPSIMiSxtsKd5557GYDzMac+p06vRc57rPeY5oMtxdF9l8CmPMnHeCaG042fui/4Cz7G2/S9vmGhRggOA5isUSDaGT3N24OQdy2gynBqIFHwr+Ake5u4XQ2TAwCQyVIAfhFGSvddBe7n4xdNYFKp3sVYMJQFsTo4n7aryd04dpK/qugWrjlNe8ebQ0leo+p7zPZvap06xwDbRXi90rsXJR8Dk5nxz4rAiCTMbt2x4PDdrrDBJy9jvC+Gw6paj2Gtba95gO8cEQ8TuhII7fbuIz6XQ9ABAUxErV4BWTnoqxr7lMRsVGLQlC6BIqFQsMR/K55ZGej/8aH4T1r4Shy9Vk/KrZ9/oBXY1omw5NKvUAAAAaZmNUTAAAAEcAAAAgAAAAKQAAAAsAAAAFAAQAZAAAZJZ0ogAABJ5mZEFUAAAASGjexVhdbFRVEP6+ubtY/mxqJCYVGmwEhA1bfrdoNBpDFIuEtOBNwKiJJBBJfNCEF+PDPpj4QGJCJDH6QEpIUBZL25QAK5ImEuVHLG1xG40U+an1AUJCKOz2nnvv+LA/7K5tLbRcJzm5D+ec+31nZs6cmSHGKV3tXdVqwo97lj8LACxPrjNsbixbv2wQExCONnH22+4Ixdqs0BcIRAFUjrL0lgK9BE+q7+2PbVySemACqURqyo2QbhLo+wIsJxSSWyTj/+cvhH4+1Q19HbEjzrgIJBIJqyq8cCugHwtYnQekooiAFohwLNXdk0FSP7lkfv/Ktm1vVALt7RdWiI8vBVxWDFAO+F+ExnIf3+e2+o2Lz41IoKUtlaaiYkTAwlchwBCBqwJcz5GZRaBGgBnjMFWGwNsrmqIHyydCBqggAQGzP9ACIAicJbgvLDz20/lFl+Jx+sWb43GVF5f21Vq+t4bKtwjERjFVhQLf/Nza+8TKxujuEg3sa+vTshMogRYodtqNkbP349EnWlMxS70dAm4QgCOYSpX6QayxbleBwJ62Pi0sIHtCHt7b3LTw1ETu9veHep+1yC8I1GU1WmJKFeLdWGO0GQDEADAAjKI9LXeemyg4AKxuip5KP1JR75IHDYHCAGFAOj53nznUPT9LgIQBmx81CzdsW7fiLiZJGhrmDd90+jYZsDkLXEREMD0Da6/GVcQl9l/vfmaLbdPDJItt297pnsgWB9ifOz2KyKw6EU3Z3Jnsmb7j1bo7eIiSTPZMz9y1zhOYV3bN+4iA5GDrhZcE0vkAEXXy5EBr6gSJl/PxRu7vjZm4uOSnBoBb5JCBagAAmtv6ugRYmg9SEjQBB9pRiD0gQkET8ER6fQWo2dMHTmBY+asFBcngnRAAqocXXDRAJm+GwAnYNj0D3sxHxcBNAABGQPrjyqYmX+Kdf1bgtjMEwPpfnDA95CywACsfjgMnYHxZ7FMLiW3gBFxL63w//yIy2Fuw9dy5sFHahiy8BYFqwP270vazqTyIgANRPK7ikR8VMqLcCEwDv628+CaVi0hAlIWkRKJHBmY/bPCmI3/MNiq7/pWcEp2SUa+l9nh/5cMCX328v9LxpcUBqvJPcH649ONiiBiMlaw5fKVqssHXHr5SRYdJQ8bKbe+QBxJr5/8ghoBL1lNwsrajv2aywJ/v6K8Zgn/SAPX31E7k6pABxwpvz1VGOZWQEScU7p5z9Op2JNR6UOA3EmrVH7683RXpNkSkpBbIjrQBNifXzLkJAHzs6FUdoSS/SMVn6oX2Dq6rHle1tLxjcJqxht8R8EMBns5nPGX/TQO6/se1tccLxenMo9d09KaE3hawBYpjYd/v9e5alwfsOWkAmJ24NnXqNG8uRaJQXSPUDQLMHLHHoAoCtyxl45nX53aWlOcVyWsDoniytPtR0iMo/w7l5meUVr5jdlf+CtFv6Hqttrdcc5JxrCUG2GMIvVfFll6XYu81wIzsyDqUm4vrbm7eze11s3vVA/ZkvClLRgIv7ZIdGVhlCeOEviJQFiKVjtqyGev0KorvAD9+ueGp02P5zj9F+PJVVhzSogAAABpmY1RMAAAASQAAAA0AAAAJAAAAGAAAAAUABABkAAAnmz+BAAAAvWZkQVQAAABKaN5jOLPhovn///8ZGUgBp9dd+n963cV9t7fdZidRExCvvRxLtKZTUE1n1l4uRpc7tuqC9Jl1lyecWXdpyal1l4Pg3ji67vL/42svfTm99pISsgaQc4GG3YG7BIiBFhw/u/6SMcOBdZfnHVxz1RDdluPrLzsga0DC33E6+9CGq1rHgIqOA/FJiC1wjXj9e2j95UmHgM4/AsRgbwA1nCCkCQT2rr/stn/95csH1l/+DzLgMBADAOTpoMvneFgUAAAAGmZjVEwAAABLAAAADQAAAAwAAAAeAAAACAAEAGQBAGnzyCEAAAB4ZmRBVAAAAExo3u3OoQ3CUACE4f+uzENQtaQz4NiDKVAsQepKXRMGAE1SdgHxDlH/cCh+fV9y8O/H6dvgennsm+ggwCXH7W59rqJpmNuQm8EiGIqcblVDb6Uj2IAQBqvoVEWvktkyJghYMJvqvSTqx+e9gVaAs8APAjUhlh67PNsAAAAaZmNUTAAAAE0AAAATAAAAHAAAABsAAAARAAQAZAEAxHV91wAAAgZmZEFUAAAATmje7ZQ9aJNRFIaf935plUgt2bVoKREsouLP5KI4tKbiH1bQwa0FR0dxCOIiOrjo6CgqOLSVOhQJKA5CcYhIK1okpeomiNGafF/ucciPSe3fl7kHLme55+U57zn3wkZsxLKhdorMTPfHZkfkdFRmM879uj168uDvRDtid8dnriPdcGYIcD65HzjdFtmtsdkPgrQDhOHASqXOVFtkoaNLHqpiwoG0KdwSmyyb+7yZn+UiEDTIDAtLla2xyRaL5V0BBKKJTCxkh/uLscVC7/Z41YynnnkPEFssCmyv99REVM3GO2qk646R6emO0DQcSoSicSKUj00Wfese9tDTNEUEPkoEr2KRZbPmKtK1EBFC8xm/l+ktxCKbPfTpkky7JXCmuvHguRPrbZ6d/LhN3uUFqdrG18VyD4f6jtXvrUl2fGquu1ziqSC1xCsCVbLNd1cVyzwrpMrlyvNQHJa17BVIjycy6ZfrEjsyMddTxE8K+h0gtezVggUdV5bW/Cd2/okF88nCaCS76SH1r62GV4sOLr4Y2P59xc/xwMTXZBiULjt01UGfrMXoel4EO/U60zu17E+bnpy/gNmAk51z0LWkuNaWIfgRmM68GdqRW8maRBl75NQ6pWajBTjpS0L+xPTgzvxqA3P1dxbVNrqaRYQIkVXgwZ9K5763g735tdboL3R+tcS6Adb4AAAAGmZjVEwAAABPAAAAKAAAACkAAAADAAAABwAEAGQBAFnJ6ywAAAUEZmRBVAAAAFBo3s2YW2xUVRiF1/rPmdISSJ0IPFSug1EotIRbig8kNlGRUmILMgZMVKKBKBCjkfiCySSaGKPBeEkML6KihgypTa29IEo1jREJiLYpJC0FWgaMYqiGXpieOef3YWbOXCvl0nZWcjInM3Nyvqz97/3vvYibUEewI6/P1M2A7hLocgFAADLSA8qnVm4sOYDbkDmaPwWDQcPrWbjtD9h7BCwiAFEiAajIBktgBm5TNwSsq2tfYTjYZ4HLiCiUQEEiAZUGG/0OAwKtHVPAQ3UdmyKKzxxofrJDArr3hEKisP0C9BK8QsU5U+WDsscXnbtdQI70wxd1HTtF8R4BkTiMZgzncQEPiKD52Knic4EAHdxhZQXcX3f6RSreFYBZakwJ1JiKt6urFx3HGCsD8KOvzzxjOPoxAbrOxT/J3w0bz2/ZsPBnjJNSAN+v7ZovEjlFYKpbbxoteirqbHNwy/b1KwYxjnInSSCgMiydnwswNWVCkBDFJ3dbC57zV9PGOMtdtjxLO/0R6CoLROICLOLLP39b8KzfP/5w7hAHAipc1tku0OLoTHUd7JL88NLda5YMYIJkAkB4aVeVARQLmLQAK2jrttcmEM4FjBCvOOkzFjz6evWCHzDBMl9qOFNi2XhAkNauHL6JHJAZdjyrSAep3YKn9lbd911OAFrQ0sQmACAVQq1Hjsi0wMWMtbJY7UEctOUMYIRYBE1yEArTMNpzBnAYmB5fWqI1yOv9A77uXBripH2egsTVQxPUNUYATF7/CP7PHnEiJBapbt+NXjMebDmfnzOAw0DIImCR0Qs0pvTr/TkDGAE7ktyDRSBMlOSQg2zP2GIJluRODarTluIgCEvpX37ihCcnAJVotUgnWn8u6GzPX9P8406jym0NnWU7GjrLoEp3w7q48UItgKq0Q9Lpk8fnlGAMjpLZtKuxa9KAjSYC5TGGlkkG1gqiw/pO2lIDCyhesrL3yfEy76otWy2wPGkulA9G4HcXZV9Tz1FRlz4eYfSZMEvbKmaGxhJuQ2PXTNNhmwBeJm37DMVu99BkOQxkTBbQG1a7xneku3Cs4DYd6S60HamxQG/aYQ1hU79PaWtFzb0HRfEEoRBNzmL0l2GHa3sr5/TdSbh13/R4HdhNhJZlhATAwa8q529Oifb6wReGgZAFJjoLAQssE0Grr7579p2Ce6i+e/YQnFaLKIt1MCTNg5Bh5u3IGn14m3tXi+KwAAUJB9267BNwT8+1WftwizueTUE1Lk3u2S7UNwh43bgu8Z4hUaw5XOlrHTE8Kjzc8zAdqSO0IN362P1ZUey1bfPTy+uLRhWFLK+/PBlG+Gk4fFmo96YNZ7yUhgA89uM635Ebxm9TmkPlVK0lUOjmgBl1otcErBFFszhOmz1oXAj5Zw0BwMzgxYKCyfZcU7SUKo+SulGSMx8A1JTU7F9DWf1T5dyWUeWDAJDXdLHUEDSKg3tSHdRsrsZd6I8lrFOylMgIz+AS6FT8utbXNuoA01X95Wl5HvstAlsFYPLszpZPpzkcS8iyDicYzRr3F9h5r55cX/T3TSWsGWoMrTKFAYHziJsd3gA2q+vR7EcF+JZwAmcr5h27pQh4RDVcLBHhTiH8AtyV9uLsDsa/I/4RZZAOPgytmzWqk+Otnz9azufjulkh5GoBSgAsNKDTBfDEYC0CVwQ4Y1DbqWydmh9pvFA+7/rNvOY/L9Lne0Dh1moAAAAaZmNUTAAAAFEAAAAiAAAAKQAAAAIAAAAHAAQAZAEACVOYiAAABG5mZEFUAAAAUmjexZhdTFxFFMf/58xdCtiKKO0DSqtoVBahUkqkMTzw4AdtSYrVNdZE22hqNBgToyYaHvZNjUbjx0t9INYa06yhZEUoVdPW8GBsGlE2iIFCC2yIESOmLCwwe+/x4S67e7fAbgl7Pclks7tzZ35z7pnzPzOE67TBwGDeVSP2FINeZqA24wNCz9QdrDqRqZuRLUAgEFC3eCqOTsNsY+FSBsAQ2J8ArfIcAduyGT8rkO5gaDdbOBYD7bIAMNmTs1ACJBUq6Q3MCaRzQ0BOnRp8Qot8wUC+PVHK5JScPA4VYciEAqYJGCOxPql7/P6xbEBorT9PBgdbSfARA8ziXHVKu8CwThisen/s9475/WRhHbYqyPHg76+Q4EOG0DWTC4RFOhTRe80tlRewAbYiyGedQ4eJpJ2BNAgBE35TJr/oe6ziJ2ygXQPycefIncyxfga22KtP2RmC4JIxf+iF5t3z2GBzBKvfL6x5+MsEBAAmikNYn9+svc8faSETOTDHbvPUDPs0pF6DYDdAA1gifPXnr97nfL7cQDhejd8vTLuGQwzx2jsk0UaQv1jz+iM755BDS7yaxZqRAwrwMiiesAQsgLLk6Js5hnCAxAivWY4dQmDC2baWe8/DBTMAoLV7qEqb2OPImhAYFr0Nl8wAAMvy1GuSZOYUgEH97xy4+wdXQTSkmlJ1hASKpAsumgEAS6D7nDpCiFkYcB1EEyqTkm4DKaVCroIc+na8WENvTdQYILBgYXaufNRVkIhJBawoXdj++TqHWXRFkCiAvPT8kaFOyYnW6Btnr2oiSdUWDWw7fO5yvqsg5xsrIxoIawI0LYsdqb8jco+rIHYeocGEN8hui4Sq/wMklJT++Cti7HQfhGkgJT6gQYgJ+WovXvS4ChK1zD5NZNkxkgDa7vmrxOcqyNC+8nENfGPHCCWbyFvwC7sGAgAm6P20LYwYkbembuJpN0Aciav89PhZFjSmHSFnGEb1wN7bwq54BAC0Rf7UgI23Yi1mR+33o0WueQQASnsnTrLIk8kCKaFBP2+yqCm0f8dMzj0CABHQS0ugsMZy0MbjBfRAlNFX3jW63RWPAEBx70SDEpxRQIFDlW0PzSiitkuzZcewToVu6hnZFBPlI0iJR4xg9/4dY6uqbNGZ8YeURUF2wCShSHBJgT5YMI3jU82lWR1Ba7umCgvV4rNk0atM1l3x8eZA3LCm3G/uDTcqkU4Gila+khCwYFYJOoioly1rIDqvroR9ZVEA2BOYLFgsNG8HSzUJP8qwDjqOs4kxqD1j3XHD6clqAnoYuDX9ZmgFqOXvkfhvm1fsK5J+zdGeVQG0pWuqxPSY75LgiPOqQjIBYc2+NlDUIHrwuioxT0+4XrH4GXiYJRPQalCJvsKg7wwy3/ilqXxgXSVhXvdkFTFameBjwU0ZV+4E+peBgBL+9I99ZaGs7tAy2rnL+XkLxl4iaWBQlRJUMLCVAU8cSDMwzaAhRRIioT4jP9ZzpfGOhfSh/gMVwbrySbrr8QAAABpmY1RMAAAAUwAAABkAAAApAAAAAgAAAAcABABkAABi76wSAAAD82ZkQVQAAABUaN6tl19oW3UUx7/nd25qx+i2yLqHyWqpaFlqMtturnvYQxEVVwKraEAHMlEGSsUHFYbsIS8iQ1F0T/NB1MnASC2x3daqbMMJwzGpa4kdq22Xtfig4sD+W/O7+R0ffkmam9k2ae6B30O4uefD+Z7f+XMJFVoqkapZdNznBPQagPY1XxB6wSnXeSKR4B2B5iPzkj1GoO3lvkfANirnj98lR3c7BidZ0MYAGAK2DtaIAvMAImtGMvBN6llX5AsBag0JDAAjBFMEK7I5Am4J8BeASYg5seeZRyZXhSSSqZ6MwUcsUAaAgXVeArvCJKccxYNtw6FJipMp9bMi5FTyt9ddkQ+FQAYEIznHFiZZMb1M/N5j3S1XysjL3fZJ39hhh+RTBigvCQNgARzINSXmlejTkcsVJN9rH/eNP+Aod5hF6grO8/oLkhudxeej0d0LlVx7j1zxuChXXf9SgDpDOf2XZfosoEMvR7spW2ltqeIfgdYbMQ3q0CBowB4iZBSdvvlr6KVYrHKAR654XBS13RhlkZBHImBc12Za33py1zzWaQW5llrHDzIQsjIJjOSurJEj1QA8EE14s+iKwhBgIOePdu+8iCrNAYCeM2NhbbAvX8kGNtkw6l34YA4AuCbQYSC2kqVQ2cPvHHzoB98gS5CIU5Ap3zKkHz6ZjQT0sEDg6U/AiK8QTWix/Wk5Hy7zqG+QroF0UMOttzkpdNY7C/NNE75BOEsbNN/Vxv/5ep3V/b+QRQAOqCCThQnBR1N60+y/miCefgXadvjCVK1vkIudLXMamNFkm2EOxn/PSbNvkNwVThUiycFcQthXiAaN5mQqSOYq7PIVsqRopCgf9ghi7VevBnyDZEz2kiYyNicFWMPGP7fGfIOMdTWlNfBtfhLmYRmRtxEX5QsEADKg90vHrgZCe/dMHaoW4im6pnPp8yzodIrXIOB2ADry84EHZ6qOBAC0obhbnHwbVXBJanrbv5/Y7Atkuqvhx4yir7w3DdAkj2rNQ+GBdLBqiNWPXtVEtgN4o9oLJZfa+ycaqspJ3uoHb+1nwRADG3KbY/EmedshHGuevf9kuZ16xW5771D6ccdQ0oIAFkHJPvY7Qz4IZO/5/Jfo9oV1QQBgy+BMpyOmj4HNRftwKWyWhXqZzGCNoRFa4JuXYzsWy4YAQPDcdIQgZxm4r2T5LoUtH4M5Jplk0PGfuhpPlzWc6vr/2MqB7HEWedF+TuQ/JWRlkH1mlJF9FU3ATWdnOpgkzpAnlmGrR+UYObquMRs8Mx0mhR4mibFgy2owJRStapY3Xpiqnb3jHFAk+1ko7EB2skg9AwEGNJOcuP5U4xv/AaU65cQdibPpAAAAGmZjVEwAAABVAAAAGQAAACcAAAACAAAACQAEAGQAADJpvUAAAAOJZmRBVAAAAFZo3t2WS2hcZRiGn+//T0wKtiWg4iKNEK9M2tTEFuNCMbiwTRxsREfQjaAUFMGNLhQXs/KCoqgg6EK8IVKsYazSeKEpZCENhWhCFBKTknQ2XrBQc5tz+T8X58zNVJPMnJUvHGZz5n/O+36Xc4Qt6JvC9AHreMdCn1WwKBYwm/1RWQF6vM3uK3w+80Cg+qGDNofiBJwKjipMqrcvCywp/A4soO6tg/ffvPCfkGOFmSdDxxuqGAc44sOdaPwbwyY80Y88Y0f7JjMLkhf3z3Pk3wAfFH56yqq+bkEsUBuTBbXKcU/klbuGuyc2S+OSkHdHfn7EiL5XAVQPxyo/tmj0ePa+nu/ZojZA3hyZu9aYcNLCTqs1hwOeauFyb+2hbPbAKttQXU3yeTXrZvZjD3ZawIokT69Y9P3WIPNYdlgitqm6LjS9s7kQ7Q8Q4gsCwDfyyfkfMo/mctsH1MWVz6txfbPTFjIWTQoNHsxFbaXeZ+7ev0KDqsS12jt3xEAmzl+wEscUOT36bBOAOogvPG3Lc0AyByKnnh++6TRNygM4+tX8vsC52xyK0/LQKTh5kRTkAYRO+7USU9K2KpMvH7nhu/Qg0BPHVF0datwJUpKX1GOvRZKo4nqok6l0IUi3ReOOQrAKvjXTqUGGvlxsDwivdLWdJayHK13zqUH8SHYYKzVLUPDQPz9rcLovCVkFWiUpeKUmIqQo07Lrr4sBogEQCAQiBMhVd46da0sNcnqge9mHoo8QX+ALtnVZb0wNAhAYmSlv3PL2LQn7UoX4julAJIkqBkXG7E/byZQPSVRxZCXV3C1nz7ak6CQaDxBXiSx21Wl+uyKXGuTcUNdigH6x4Y0Iz5FXkwokWS2v+pJEVu20zN6DSw83C6kbuqtPLp6yyEDt69fChVZsz9RgR7FpJwCRk3yljSudRvuaRse7vp3fnYoTgPbR4qdG3YPV762yKz0TOjm8dM81F5pyAhChT/hIsW4442671RjGu07MdzbtBKBtdOl2T+VrCzvqPlFjZxc9x0tG/Nd+Gby+1JATgPVDneOBcff6hrW6nRZ33q6SkRd8uewkqtKwk8p7YLQ4YNERC7ur3VbjzEl/cWjPmYaclBUe6hgrKXf4SDGQ2gVaHdiG46rT4T1TYWB6fZG3fZGwPLAlZOzXwY6JpuPaoNHz1xmRrFX+CNzaMbZY+P+P/gZjNJnGDOT1EQAAABpmY1RMAAAAVwAAABMAAAAmAAAAAgAAAAgABABkAQCkfZTAAAACtmZkQVQAAABYaN7tlF1oT3EYxz/P7zn/mYtdSEYWeSkzMwu74I4bJMqUv+JGWZMoJa642J28lCgXSigvabI1TJJQklqrsTVqa5mQi2kXspdz5n8eF+f/Nm32P3O7b/3q/OqcT8/zPd/nEQpUY2OjliXK69XktMLCid6RQkDPWrpqXMhVhXVqoIBi6F/v6VSgpqbuPaHwKEQWhQihEB2EMF2L5J1Jdael+6galxRcVJHhMb4yhTbFbjmnTyeFXWv5cEyNiwqS9yFpqKnxwBM5v622su2fnl1++PGAGtcVRC0PhKHCe025w8ndFW+n/AHnmnuXO5fqUKwkBwE1Q42WMW9436GdNcMTFeHlXxoazI1oz23PKFHkL2/kZunYyrpkraQms8blX0bW9iQD2OCL4IvgAz6CL3L3x7uVB5PJyUHjotHQYG5k4eA9Q+YZYICJYOJ6i2aN7jhVtyCYKkbZNr/X9O7yTFYphlquxYSk6k9urR4qJNxZWGByIhV5g0raK3Mvzu4sf1XoyHkA+1v7qgKzjZlgpg3HOTtDDHkAw6FsUAEViyoz8LCOGztWPI8NCyRc4xCycRDjNzwipjwA37nVaulgZn2TzunBTCqjUZHs/AnWFRtW9fjzHJ9w3rjEC6Nzh5b1xYZ5RTI7+C25+YuiMXh/irRPCBtOz1RkfBYqTENuMFH800fMJzOL4IuUbnr5qTg2bGBz6a9A5GsABEj6oAO+lceGEVXTnd0Ukt4UplXTggVIV7ZFMutHqqdbWWeuRSEAAiO5vr09ERs2GuprXyT0hVybIov7B+bvjQPLReDpl2aQXfmr2pn0DxWPVbB56WjBlUVP7gJAKu+vjoktKfYTe2K1CcCWsjdAa+aag1IaHxYRjgP5K3oo9FLN8T3L6Mm3tWh4JIK7K2wv62BGM/o//QFuzQanlLTaOQAAABpmY1RMAAAAWQAAABQAAAAWAAAAAgAAAAgABABkAQDPl48GAAAB/2ZkQVQAAABaaN6dlL9rU2EUhp/zna/SpYOgi0UcioGmVlHuUP8ClxZUMIOToBQFQRAFB4dsDgri2EXEFikRkagVBREHQSnYUIMorYmIOAgVUdqbSJsch+ZHbzBtcl84cO/H5eE953vPFTpUJpPR/p7BcWd2VWGXtPlOOoHNZPOBqzKhcEgBBdRAMRRw3QCnsx9OOOOuGr11QLOsFb68KXAi+/G8N7ul4CIAQK3xPKvIJI5nb3PJYlvgjeynCx67qSAtABTMYw+8cT11bGh2yxmmHy2cUqq31WqwDe48zLsK584eH3zT0aVcfrg4IGo5xfoiMAOFbNktn0yPBWG7znzEWdrcD/95SqFPkTpkvYQ7C+XEmfspqWw29403TiEopEJkJEQIEUIRQoFQ5F7PXOL0VrBIy+m0ufmgmPdYsiVri2vbwoOTRw6sdJLZRsuvg+JRjyQjORPwZuPTHcIiwJJzl9ajIU13Zi+fju19RRfyAMMz34ZDKodb3Sl2jS7lAUKpjnikBmlsQu7d6MCLWMASsl/FUJMG0Is9JoZqDmVfs81akKvyPjawJAy5liA7NB8P+OTr9r/ITgDXnGG5vNJfiAf01lt/qdZqVeQnHWzF/1dvx9IS2J/IqfGFmHIEwSrmLgJrtbPfOLkSF9j8fT3/vpuqJahU5hjd8ysu8B/6h7Fbz1BUNQAAABpmY1RMAAAAWwAAABUAAAANAAAABQAAAAgABABkAQBGTvCFAAABdmZkQVQAAABcaN6tkcsrrVEYh593rfdzGVBmcimlk8gIfwIx2RNlIspIKWXCzMDEhHLSGZ2JtJXBV9KXS+r8Aaf2RAaKhHIZyOiULdvlew32pYNNmzy1Wq3eelq/3yt8QBiGviZoHQ2waW9SpxgeED7m3XkyOujy8dNvFTo8oJYVekABj6GWf2dnABjpotK56GBAsaSHCs2LctKCEPAGit14OAuQa2fxSZl3v95IJ6PDcSeyqJgrSCwnyf9KLBWYrATEOxe7bSczMxK/G39o43jCYz8VkyIxzRtr6mx+NtGSKqnTnq3TEW+25DF58ats9D2BsWTix19KQADat8+alXhXzape96YQlccVgxuJultKxGMm7vjfZkak+Q4hI8KdZO8Mbrk+3TS03l99zycQ3bnsFuyPYrltFnpcvUo1DvNqCaWgj8SdIDwg/zUsRzgd/YoQwCGyXyTAFL21ab6Io7dhE1gAHnJngb76iG8hPK8kPK/8DtUztGqCyuea2MoAAAAaZmNUTAAAAF0AAAAPAAAABgAAAAwAAAAIAAQAZAAAeXELuwAAAMFmZEFUAAAAXmjejY4xTgJRGIS/yXv7HlcQsDK21FyAxNBQk3AMD2BHY6VH8AIGjJBY2e4BoCBsAR3barbZ3d9iSTRbqF8zyZ+Z+UcAD4vtNBr3iVk3YAQg2FkxgjXq+EamW41W+3FS8RJAP42xFWwVfrrSDfybwsx56RcjoeYjyA4JlkeUeZWPq8l15kGnCigQhQB03kUKeoJ6TdrPuFNNC7E89kj0Dlw1J3sG5txcpvxB8+Z1F6EzBJ8zvtjwT74AljFC6d2II+4AAAASdEVYdFNvZnR3YXJlAGV6Z2lmLmNvbaDDs1gAAAAxdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIGV6Z2lmLmNvbSBBbmltYXRlZCBQTkcgbWFrZXKphWVeAAAAAElFTkSuQmCC";const LoadingIndicator=()=>React$1.createElement(Container$3,null,React$1.createElement("img",{src:loading})),Container$3=newStyled.div`
  height: 24px;
  width: 24px;
  img {
    height: 100%;
  }
`;newStyled.div`
  display: flex;
  justify-content: space-between;
  border-bottom: 0.03938rem solid #282f45;
  height: 3.625rem;
  align-items: center;
`;newStyled.div`
  box-sizing: border-box;
  position: relative;
  height: 38.18px;
  background-color: #3d4665;
  display: flex;
  transition: all ease-in 0.2s;
  border-radius: 25px;
  align-items: center;
  padding-left: 10px;
  padding-right: 10px;
  width: 100%;
  border: 1px solid transparent;
  &:focus-within {
    background-color: black;
    border: 1px solid #18d2ff;
  }
  svg {
    fill: #bac4e2;
  }
`;newStyled.input`
background-color: transparent;
border: none;
outline: none;
color: #bac4e2;
height: 100%;
width: 100%;
font-family: "inter";
letter-spacing: .2px;
}
`;newStyled.button`
  height: 100%;
  width: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  outline: none;
  border: none;
`;newStyled.div`
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  width: 100%;
`;var __defProp=Object.defineProperty,__defNormalProp=(i,o,s)=>o in i?__defProp(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__publicField=(i,o,s)=>(__defNormalProp(i,typeof o!="symbol"?o+"":o,s),s),__defProp2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp2=(i,o,s)=>o in i?__defProp2(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,__spreadValues=(i,o)=>{for(var s in o||(o={}))__hasOwnProp.call(o,s)&&__defNormalProp2(i,s,o[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(o))__propIsEnum.call(o,s)&&__defNormalProp2(i,s,o[s]);return i},__spreadProps=(i,o)=>__defProps(i,__getOwnPropDescs(o)),__publicField2=(i,o,s)=>(__defNormalProp2(i,typeof o!="symbol"?o+"":o,s),s);const millisecond=1,second=1e3,minute=60*second,hour=60*minute,day=24*hour,week=7*day,month=30*day,year=365*day,duration={millisecond,second,minute,hour,day,week,month,year};class H264Decoder{constructor(o,s,_){__publicField2(this,"worker"),__publicField2(this,"onReceive"),__publicField2(this,"onError"),__publicField2(this,"onReceiveMessage",_e=>{const{data:tt}=_e;if(tt.error){const j=new Error(`${tt.error}`);j.cause=tt.error,console.warn("H264 worker failure",{error:j}),this.onError(tt.index);return}this.onReceive(tt)});var $;this.worker=o,($=this.worker)==null||$.addEventListener("message",this.onReceiveMessage),this.onReceive=s,this.onError=_}post(o,s,_,$){var _e;(_e=this.worker)==null||_e.postMessage({timestamp:o,encodedFrame:s,flags:_,index:$})}release(){var o,s;(o=this.worker)==null||o.removeEventListener("message",this.onReceiveMessage),(s=this.worker)==null||s.terminate(),this.worker=void 0}}class YUVCanvas{constructor(o){__publicField2(this,"gl"),__publicField2(this,"program"),__publicField2(this,"texturePosBuffer"),__publicField2(this,"textureRef"),__publicField2(this,"height",0),__publicField2(this,"width",0),this.gl=o,this.program=this.initProgram();const{texturePosBuffer:s}=this.initBuffers();this.texturePosBuffer=s;const{textureRef:_}=this.initTextures();this.textureRef=_}draw(o){const{gl:s,height:_,width:$,texturePosBuffer:_e,textureRef:tt}=this;s.viewport(0,0,$,_);const j=new Float32Array([1,0,0,0,1,1,0,1]);return s.bindBuffer(s.ARRAY_BUFFER,_e),s.bufferData(s.ARRAY_BUFFER,j,s.DYNAMIC_DRAW),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,tt),s.texImage2D(s.TEXTURE_2D,0,s.LUMINANCE,$,_+_/2,0,s.LUMINANCE,s.UNSIGNED_BYTE,o),s.drawArrays(s.TRIANGLE_STRIP,0,4),s.getError()}initProgram(){const{gl:o}=this,s=`
            attribute vec4 vertexPos;
            attribute vec4 texturePos;
            varying vec2 textureCoord;

            void main() {
                gl_Position = vertexPos;
                textureCoord = texturePos.xy;
            }
        `,_=`
            precision highp float;
            varying highp vec2 textureCoord;
            uniform sampler2D yuvSampler;
            uniform mat4 YUV2RGB;

            void main(void) {
                highp vec2 yScale = vec2(1.0, 2.0 / 3.0);
                highp vec2 yTextureCoord = textureCoord * yScale;

                highp vec2 uScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 uOffset = vec2(0.0, 2.0 / 3.0);
                highp vec2 uTextureCoord = (textureCoord * uScale) +  uOffset;

                highp vec2 vScale = vec2(0.5, 0.5 / 3.0);
                highp vec2 vOffset = vec2(0.0, 2.5 / 3.0);
                highp vec2 vTextureCoord = (textureCoord * vScale) +  vOffset;

                highp float y = texture2D(yuvSampler, yTextureCoord).r;
                highp float u = texture2D(yuvSampler, uTextureCoord).r;
                highp float v = texture2D(yuvSampler, vTextureCoord).r;

                gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;
            }
        `,$=[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1],_e=o.createShader(o.VERTEX_SHADER);if(!_e)throw new Error("Failed to create vertex shader");o.shaderSource(_e,s),o.compileShader(_e);const tt=o.createShader(o.FRAGMENT_SHADER);if(!tt)throw new Error("Failed to create fragment shader");o.shaderSource(tt,_),o.compileShader(tt);const j=o.createProgram();if(!j)throw new Error("Failed to create webgl program");o.attachShader(j,_e),o.attachShader(j,tt),o.linkProgram(j),o.useProgram(j);const nt=o.getUniformLocation(j,"YUV2RGB");return o.uniformMatrix4fv(nt,!1,$),j}initBuffers(){const{gl:o,program:s}=this,_=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,_),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),o.STATIC_DRAW);const $=o.getAttribLocation(s,"vertexPos");o.enableVertexAttribArray($),o.vertexAttribPointer($,2,o.FLOAT,!1,0,0);const _e=o.createBuffer();if(!_e)throw new Error("Failed to create WebGL buffer");o.bindBuffer(o.ARRAY_BUFFER,_e),o.bufferData(o.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),o.STATIC_DRAW);const tt=o.getAttribLocation(s,"texturePos");return o.enableVertexAttribArray(tt),o.vertexAttribPointer(tt,2,o.FLOAT,!1,0,0),{texturePosBuffer:_e}}initTextures(){const{gl:o,program:s}=this,_=this.initTexture(),$=o.getUniformLocation(s,"yuvSampler");return o.uniform1i($,0),{textureRef:_}}initTexture(){const{gl:o}=this,s=o.createTexture();if(!s)throw new Error("Failed to initialize texture");return o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),s}}const decoderNotWorkingThreshold=duration.second*2.5,warnPerformanceThreshold=duration.second/3,noSignalThreshold=duration.second*2,maxQueueSize=5,maxDropRatio=30/25,numRetries=5,hardwareIncompatibleErrorCode=1282;class H264BytestreamCanvasDrawer{constructor(o,s,_,$,_e){__publicField2(this,"_waitingForDecoder",!0),__publicField2(this,"_noSignal",!0),__publicField2(this,"_lostSignal",!1),__publicField2(this,"_overWaitingThreshold",!1),__publicField2(this,"_retries",0),__publicField2(this,"_webglYUVSupported"),__publicField2(this,"lastDecodedFrameTime"),__publicField2(this,"lastReceivedFrameTime"),__publicField2(this,"lastNoSignalTime",new Date().getTime()),__publicField2(this,"moduleStartTime",Date.now()),__publicField2(this,"moduleCreateTime",Date.now()),__publicField2(this,"timesRestarted",0),__publicField2(this,"canvas"),__publicField2(this,"decoder"),__publicField2(this,"yuvCanvas"),__publicField2(this,"webglContext"),__publicField2(this,"frameQueue",[]),__publicField2(this,"minFrameSize",1/0),__publicField2(this,"maxFrameSize",0),__publicField2(this,"decoderQueue",[]),__publicField2(this,"decoderQueueLocked",!1),__publicField2(this,"decodeNextFrameAttempted",!1),__publicField2(this,"numFramesDecoded",0),__publicField2(this,"numFramesReceived",0),__publicField2(this,"hasReceivedKeyframe",!1),__publicField2(this,"medianFrameSize",0),__publicField2(this,"currentFrameIndex"),__publicField2(this,"frameCheckpointMap",new Map),__publicField2(this,"lastDrawnFrameTime"),__publicField2(this,"minJitter"),__publicField2(this,"maxJitter"),__publicField2(this,"start",()=>{const{canvas:tt}=this;if(!tt)return;const j=tt.getContext("webgl");this.webglContext=j||void 0,this.lastDecodedFrameTime=void 0,this.lastReceivedFrameTime=void 0,this.hasReceivedKeyframe=!1,this.currentFrameIndex=void 0,!(!this.canvas||!this.webglContext)&&(this.yuvCanvas||(this.yuvCanvas=new YUVCanvas(this.webglContext)),this.moduleStartTime=Date.now())}),__publicField2(this,"stop",()=>{var tt;(tt=this.decoder)==null||tt.release(),this.webglContext=void 0,this.decoderQueueLocked=!1}),__publicField2(this,"reset",()=>{this.retries=0,this.restart()}),__publicField2(this,"notifyWarningTextChanged",()=>{var tt;(tt=this.onWarningTextChanged)==null||tt.call(this,this.getWarningText())}),__publicField2(this,"restart",()=>{console.info("Restarting decoder"),console.info("BytestreamPlayer restarting",__spreadProps(__spreadValues({},this.trackInfo),{Restart:this.timesRestarted})),this.frameQueue=[],this.decoderQueue=[],this.stop(),this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),this.start(),this.retries++,this.timesRestarted++}),__publicField2(this,"onTrackTick",()=>{if(this.numFramesDecoded===0){if(this.lastDecodedFrameTime===void 0){const ht=Date.now();console.info("BytestreamPlayer waiting for video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Waited":ht-this.moduleCreateTime}))}return}this.numFramesReceived/this.numFramesDecoded>maxDropRatio&&this.warnPerformanceProblems(),this.numFramesReceived=0,this.numFramesDecoded=0;const j=Array.from(this.frameCheckpointMap.entries()).reduce((ht,[_t,ft])=>{var dt;return!this.currentFrameIndex||_t>this.currentFrameIndex-60||ft==="FrameDrawn"||(ht[ft]=((dt=ht[ft])!=null?dt:0)+1,this.frameCheckpointMap.delete(_t)),ht},{});Object.keys(j).map(ht=>{console.info("BytestreamPlayer Frame Dropped",__spreadProps(__spreadValues({},this.trackInfo),{"Num Dropped":j[ht],"Frame State":ht}))});const{minJitter:nt,maxJitter:st}=this;nt&&st&&(console.info("BytestreamPlayer Jitter",__spreadProps(__spreadValues({},this.trackInfo),{minJitter:nt,maxJitter:st})),this.minJitter=void 0,this.maxJitter=void 0)}),__publicField2(this,"onTick",()=>{var tt;const{lastReceivedFrameTime:j,lastDecodedFrameTime:nt,moduleStartTime:st,noSignal:ht,retries:_t}=this,ft=new Date().getTime();ht&&(this.lastNoSignalTime=ft),this.overWaitingThreshold=ft-st>noSignalThreshold;const dt=ft-st>decoderNotWorkingThreshold;if(!nt){j&&dt&&_t<numRetries&&(this.waitingForDecoder=!0,this.restart());return}if(j){const ut=ft-j,mt=ft-nt;ft-this.lastNoSignalTime>noSignalThreshold&&ut<warnPerformanceThreshold&&mt>warnPerformanceThreshold&&this.warnPerformanceProblems(),ut>noSignalThreshold&&(this.lostSignal=!0)}this.overWaitingThreshold&&(this.waitingForDecoder||this.noSignal||this.lostSignal)&&((tt=this.onCanvasDrawerWarning)==null||tt.call(this,"ShouldDisableControl"))}),__publicField2(this,"receiveEncodedFrame",tt=>{if(!tt)return;const j=tt.index;if(j&&this.frameCheckpointMap.set(j,"FrameReceived"),!(!tt||!this.canvas||!this.webglContext)){if(this.isKeyframe(tt),!this.hasReceivedKeyframe)return console.info("Dropping frame because no keyframe detected"),!1;this.lastReceivedFrameTime===void 0&&console.debug("Received first frame on bytestream player",__spreadValues({},this.trackInfo)),this.checkOrder(tt),this.numFramesReceived++,this.lastReceivedFrameTime=Date.now(),this.lostSignal&&this.restart(),this.noSignal=!1,this.lostSignal=!1,this.frameQueue.push(tt),j&&this.frameCheckpointMap.set(j,"FrameQueued"),this.frameQueue.length>maxQueueSize&&(this.frameQueue=this.frameQueue.filter(nt=>this.isKeyframe(nt))),this.frameQueue.length>maxQueueSize&&(this.frameQueue=[],this.decoderQueue=[]),this.decodeNextFrame()}}),__publicField2(this,"onDecoderError",tt=>{this.frameQueue=[],this.decoderQueue=[],this.hasReceivedKeyframe=!1,console.info("BytestreamPlayer decode error",__spreadProps(__spreadValues({},this.trackInfo),{"Frame Index":tt}))}),__publicField2(this,"onReceiveDecodedFrame",tt=>{var j,nt;const{canvas:st,yuvCanvas:ht,decoderQueue:_t}=this,{timestamp:ft,yuv:dt,height:ut,width:mt,index:wt}=tt;this.frameCheckpointMap.set(wt,"FrameDecoded"),this.numFramesDecoded++;const Qt=Date.now();if(this.lastDecodedFrameTime===void 0&&console.info("BytestreamPlayer started video",__spreadProps(__spreadValues({},this.trackInfo),{"Time Until Video":Qt-this.moduleCreateTime})),this.lastDecodedFrameTime=Qt,this.waitingForDecoder=!1,this.decoderQueue=_t.filter(xt=>Qt-xt<duration.second*.5&&xt!==ft),!_t.includes(ft)||Qt-ft>duration.second||!ht||!st||ut===0||mt===0)return;ut!==st.height&&(st.height=ut,ht.height=ut),mt!==st.width&&(st.width=mt,ht.width=mt);const Dt=ht.draw(dt),Et=Date.now();if(this.lastDrawnFrameTime){const xt=Et-this.lastDrawnFrameTime;this.minJitter=Math.min(xt,(j=this.minJitter)!=null?j:Number.MAX_SAFE_INTEGER),this.maxJitter=Math.max(xt,(nt=this.maxJitter)!=null?nt:0)}this.lastDrawnFrameTime=Et,this.frameCheckpointMap.set(wt,"FrameDrawn"),Dt===0&&(this.webglYUVSupported=!0),Dt===hardwareIncompatibleErrorCode&&(this.webglYUVSupported=!1),this.frameQueue.length>0&&this.decodeNextFrame()}),this.workerFactory=o,this.onWebglYUVSupportedChanged=s,this.onWarningTextChanged=_,this.onCanvasDrawerWarning=$,this.trackInfo=_e,this.decoder=new H264Decoder(this.workerFactory(),this.onReceiveDecodedFrame,this.onDecoderError),setInterval(this.onTick,duration.millisecond*200),setInterval(this.onTrackTick,duration.second*5)}get waitingForDecoder(){return this._waitingForDecoder}set waitingForDecoder(o){this._waitingForDecoder=o,this.notifyWarningTextChanged()}get noSignal(){return this._noSignal}set noSignal(o){this._noSignal=o,this.notifyWarningTextChanged()}get lostSignal(){return this._lostSignal}set lostSignal(o){this._lostSignal=o,this.notifyWarningTextChanged()}get overWaitingThreshold(){return this._overWaitingThreshold}set overWaitingThreshold(o){this._overWaitingThreshold=o,this.notifyWarningTextChanged()}get retries(){return this._retries}set retries(o){this._retries=o,this.notifyWarningTextChanged()}get webglYUVSupported(){return this._webglYUVSupported}set webglYUVSupported(o){var s;this._webglYUVSupported=o,(s=this.onWebglYUVSupportedChanged)==null||s.call(this,o),this.notifyWarningTextChanged()}setCanvas(o){this.canvas=o}getWarningText(){var o;const{waitingForDecoder:s,noSignal:_,overWaitingThreshold:$,lostSignal:_e,retries:tt,webglYUVSupported:j}=this,nt=j===!1,ht=s?tt===numRetries?"Decoder failed to start":"Starting decoder":void 0,_t=nt?"Hardware decoding not supported on this device":void 0;return(o=_t??(_e?"Lost signal":_?$?"No signal":"Waiting for signal":void 0))!=null?o:ht}decodeNextFrame(){if(this.decoderQueueLocked&&(this.decodeNextFrameAttempted=!0),this.decoderQueueLocked=!0,this.decoderQueue.length>maxQueueSize){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const o=this.frameQueue.shift();if(!o){this.decoderQueueLocked=!1,this.decodeNextFrameAttempted=!1;return}const s=Date.now();this.frameCheckpointMap.set(o.index,"FrameSentToDecoder"),this.decoder.post(s,o.frame_data,o.flags,o.index),this.decoderQueue.push(s),this.decoderQueueLocked=!1,this.decodeNextFrameAttempted&&(this.decodeNextFrameAttempted=!1,this.decodeNextFrame())}warnPerformanceProblems(){var o;this.lastDecodedFrameTime&&this.overWaitingThreshold&&!this.lostSignal&&!this.noSignal&&((o=this.onCanvasDrawerWarning)==null||o.call(this,"ShouldDegradeVideo"))}checkOrder(o){if(this.currentFrameIndex!==void 0&&o.index<this.currentFrameIndex){console.info("Out of order frame detected"),console.info("Frame out of order",__spreadValues({},this.trackInfo));return}this.currentFrameIndex=o.index}isKeyframe(o){const{maxFrameSize:s,minFrameSize:_}=this;if(o.flags===3)return this.hasReceivedKeyframe||(this.frameCheckpointMap=new Map),this.hasReceivedKeyframe=!0,!0;const $=o.frame_data.length;return this.maxFrameSize=Math.max($,s),this.minFrameSize=Math.min($,_),this.medianFrameSize=(this.maxFrameSize+this.minFrameSize)/2,this.moduleStartTime+duration.second*2>Date.now()?!1:$>this.medianFrameSize?(this.hasReceivedKeyframe=!0,!0):!1}}const encodedJs="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbihTKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShTKTpTKCl9KShmdW5jdGlvbigpe2NvbnN0IEo9e21pbGxpc2Vjb25kOjEsc2Vjb25kOjFlMyxtaW51dGU6NmU0LGhvdXI6MzZlNSxkYXk6ODY0ZTUsd2Vlazo2MDQ4ZTUsbW9udGg6MjU5MmU2LHllYXI6MzE1MzZlNn07dmFyIHk9e30sRj17fSxhPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBHPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7ZnVuY3Rpb24gaChBKXtsZXQgST1BLmxlbmd0aDtBW0EubGVuZ3RoLTJdPT09Ij0iP0ktPTI6QVtBLmxlbmd0aC0xXT09PSI9IiYmSS0tO2NvbnN0IGc9SS80KjN8MCxCPW5ldyBVaW50OEFycmF5KGcpO2ZvcihsZXQgUT0wLEM9MDtRPGc7USs9Myl7Y29uc3QgRD1HLmluZGV4T2YoQVtDKytdKSxFPUcuaW5kZXhPZihBW0MrK10pO2lmKEJbUV09RDw8MnxFPj40LEM9PT1JKWJyZWFrO2NvbnN0IHc9Ry5pbmRleE9mKEFbQysrXXx8Ij0iKTtpZihCW1ErMV09KEUmMTUpPDw0fHc+PjIsQz09PUkpYnJlYWs7Y29uc3Qgbz1HLmluZGV4T2YoQVtDKytdfHwiPSIpO0JbUSsyXT0odyYzKTw8NnxvfXJldHVybiBCfWEuZGVjb2RlPWgsT2JqZWN0LmRlZmluZVByb3BlcnR5KEYsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IEw9IkFHRnpiUUVBQUFBQmx3RVRZQUovZndGL1lBUi9mMzkvQVg5Z0FuOS9BR0FEZjM5L0FYOWdBWDhBWUFsL2YzOS9mMzkvZjM4QVlBRi9BWDlnQkg5L2YzOEFZQVovZjM5L2YzOEJmMkFJZjM5L2YzOS9mMzhBWUFOL2YzOEFZQVYvZjM5L2Z3Ri9ZQUFBWUFWL2YzOS9md0JnQm45L2YzOS9md0JnQ245L2YzOS9mMzkvZjM4QVlBQUJmMkFIZjM5L2YzOS9md0YvWUFoL2YzOS9mMzkvZndGL0FqQURCR2d5TmpRR2JXVnRZM0I1QUFNRWFESTJOQVp5WlhOcGVtVUFCZ1JvTWpZMEJtMWxiVzl5ZVFJQmdBS0FnQUlEWTJJQUFBUUFBUU1LQVFZQUJRTUZCZ2NBQndZQUF3NERCd2NGQWdBQ0F3UUFCUVVGQlFvRUFnUUpBUWNBQXdZR0FnSUJCZ1FEQWdJQkN3RUJBd01MRFFJQkFBQUNDUWtKRHdJRkJRQUJDZ0FTQ3hFSUNBY0lDQWNFQVFRSUNBWUJFQWdBQVFZSkFYOEJRYkRFd0FJTEJ5WUVCbTFoYkd4dll3QUtDV2d5TmpSaGJHeHZZd0JnQm1SbFkyOWtaUUJoQkdsdWFYUUFZZ3IycFFWaXdBSUJBbjhnQUJBUElnSkJmMHdFUUNBQVFRRVFDeG9nQVVFQU5nSUFRUUFQQ3dKQUFrQWdBa0dBZ0lDQUJFOEVRQ0FBUVFNUUMwRi9SZ1JBUVFFUEN5QUJJQUpCSFhaQkFYRkJBV28yQWdBTUFRc2dBa0dBZ0lDQUFrOEVRQ0FBUVFVUUMwRi9SZ1JBUVFFUEN5QUJJQUpCRzNaQkEzRkJBMm8yQWdBTUFRc2dBa0dBZ0lDQUFVOEVRQ0FBUVFjUUMwRi9SZ1JBUVFFUEN5QUJJQUpCR1haQkIzRkJCMm8yQWdBTUFRc2dBaEF2SWdOQkJHb2lBa0VnUmdSQUlBRkJBRFlDQUNBQVFTQVFDeHBCQVNFQ0lBQkJBUkFEUVFGSERRSWdBQkFQSVFNZ0FFRWdFQXRCZjBZTkFpQURRUUZMRFFJZ0EwRUJhd1JBSUFGQmZ6WUNBQXdDQ3lBQlFYODJBZ0JCQVE4TElBQWdBMEVGYWhBTEdpQUFJQUlRQXlJQVFYOUdCRUJCQVE4TElBRWdBRUYvSUFKMFFYOXphallDQUF0QkFDRUNDeUFDQzRnQ0FRZC9JQUFvQWdRaEJBSkFJQUFvQWd4QkEzUWlCeUFBS0FJUUlnaHJJZ0pCSUU0RVFDQUVLQUFBSWdOQkdIUWdBMEVJZEVHQWdQd0hjWElnQTBFSWRrR0EvZ054SUFOQkdIWnljaUVESUFBb0FnZ2lBa1VOQVNBRElBSjBJQVF0QUFSQkNDQUNhM1p5SVFNTUFRc2dBa0VCU0FSQURBRUxJQVF0QUFBZ0FDZ0NDQ0lGUVJocUlnWjBJUU1nQWlBRmFrRjRhaUlDUVFGSURRQURRQ0FFTFFBQklBWkJlR29pQm5RZ0EzSWhBeUFDUVFoS0lRVWdCRUVCYWlFRUlBSkJlR29oQWlBRkRRQUxDeUFBSUFFZ0NHb2lCRFlDRUNBQUlBUkJCM0UyQWdoQmZ5RUNJQVFnQjAwRWZ5QUFJQUFvQWdBZ0JFRURkbW8yQWdRZ0EwRWdJQUZyZGdWQmZ3c0xxZzBCQjM4Q1FDQUFSUTBBSUFCQmVHb2lBeUFBUVh4cUtBSUFJZ0ZCZUhFaUFHb2hCUUpBSUFGQkFYRU5BQ0FCUVFOeFJRMEJJQU1nQXlnQ0FDSUNheUlEUWNUQUFDZ0NBQ0lFU1EwQklBQWdBbW9oQUNBRFFjakFBQ2dDQUVjRVFDQUNRZjhCVFFSQUlBTW9BZ2dpQkNBQ1FRTjJJZ0pCQTNSQjNNQUFha2NhSUFRZ0F5Z0NEQ0lCUmdSQVFiVEFBRUcwd0FBb0FnQkJmaUFDZDNFMkFnQU1Bd3NnQkNBQk5nSU1JQUVnQkRZQ0NBd0NDeUFES0FJWUlRWUNRQ0FESUFNb0Fnd2lBVWNFUUNBRUlBTW9BZ2dpQWswRVFDQUNLQUlNR2dzZ0FpQUJOZ0lNSUFFZ0FqWUNDQXdCQ3dKQUlBTkJGR29pQWlnQ0FDSUVEUUFnQTBFUWFpSUNLQUlBSWdRTkFFRUFJUUVNQVFzRFFDQUNJUWNnQkNJQlFSUnFJZ0lvQWdBaUJBMEFJQUZCRUdvaEFpQUJLQUlRSWdRTkFBc2dCMEVBTmdJQUN5QUdSUTBCQWtBZ0F5QURLQUljSWdKQkFuUkI1TUlBYWlJRUtBSUFSZ1JBSUFRZ0FUWUNBQ0FCRFFGQnVNQUFRYmpBQUNnQ0FFRitJQUozY1RZQ0FBd0RDeUFHUVJCQkZDQUdLQUlRSUFOR0cyb2dBVFlDQUNBQlJRMENDeUFCSUFZMkFoZ2dBeWdDRUNJQ0JFQWdBU0FDTmdJUUlBSWdBVFlDR0FzZ0F5Z0NGQ0lDUlEwQklBRWdBallDRkNBQ0lBRTJBaGdNQVFzZ0JTZ0NCQ0lCUVFOeFFRTkhEUUJCdk1BQUlBQTJBZ0FnQlNBQlFYNXhOZ0lFSUFNZ0FFRUJjallDQkNBQUlBTnFJQUEyQWdBUEN5QUZJQU5ORFFBZ0JTZ0NCQ0lCUVFGeFJRMEFBa0FnQVVFQ2NVVUVRQ0FGUWN6QUFDZ0NBRVlFUUVITXdBQWdBellDQUVIQXdBQkJ3TUFBS0FJQUlBQnFJZ0EyQWdBZ0F5QUFRUUZ5TmdJRUlBTkJ5TUFBS0FJQVJ3MERRYnpBQUVFQU5nSUFRY2pBQUVFQU5nSUFEd3NnQlVISXdBQW9BZ0JHQkVCQnlNQUFJQU0yQWdCQnZNQUFRYnpBQUNnQ0FDQUFhaUlBTmdJQUlBTWdBRUVCY2pZQ0JDQUFJQU5xSUFBMkFnQVBDeUFCUVhoeElBQnFJUUFDUUNBQlFmOEJUUVJBSUFVb0Fnd2hBaUFGS0FJSUlnUWdBVUVEZGlJQlFRTjBRZHpBQUdvaUIwY0VRRUhFd0FBb0FnQWFDeUFDSUFSR0JFQkJ0TUFBUWJUQUFDZ0NBRUYrSUFGM2NUWUNBQXdDQ3lBQ0lBZEhCRUJCeE1BQUtBSUFHZ3NnQkNBQ05nSU1JQUlnQkRZQ0NBd0JDeUFGS0FJWUlRWUNRQ0FGSUFVb0Fnd2lBVWNFUUVIRXdBQW9BZ0FnQlNnQ0NDSUNUUVJBSUFJb0Fnd2FDeUFDSUFFMkFnd2dBU0FDTmdJSURBRUxBa0FnQlVFVWFpSUNLQUlBSWdRTkFDQUZRUkJxSWdJb0FnQWlCQTBBUVFBaEFRd0JDd05BSUFJaEJ5QUVJZ0ZCRkdvaUFpZ0NBQ0lFRFFBZ0FVRVFhaUVDSUFFb0FoQWlCQTBBQ3lBSFFRQTJBZ0FMSUFaRkRRQUNRQ0FGSUFVb0Fod2lBa0VDZEVIa3dnQnFJZ1FvQWdCR0JFQWdCQ0FCTmdJQUlBRU5BVUc0d0FCQnVNQUFLQUlBUVg0Z0FuZHhOZ0lBREFJTElBWkJFRUVVSUFZb0FoQWdCVVliYWlBQk5nSUFJQUZGRFFFTElBRWdCallDR0NBRktBSVFJZ0lFUUNBQklBSTJBaEFnQWlBQk5nSVlDeUFGS0FJVUlnSkZEUUFnQVNBQ05nSVVJQUlnQVRZQ0dBc2dBeUFBUVFGeU5nSUVJQUFnQTJvZ0FEWUNBQ0FEUWNqQUFDZ0NBRWNOQVVHOHdBQWdBRFlDQUE4TElBVWdBVUYrY1RZQ0JDQURJQUJCQVhJMkFnUWdBQ0FEYWlBQU5nSUFDeUFBUWY4QlRRUkFJQUJCQTNZaUFVRURkRUhjd0FCcUlRQUNmMEcwd0FBb0FnQWlBa0VCSUFGMElnRnhSUVJBUWJUQUFDQUJJQUp5TmdJQUlBQU1BUXNnQUNnQ0NBc2hBaUFBSUFNMkFnZ2dBaUFETmdJTUlBTWdBRFlDRENBRElBSTJBZ2dQQ3lBRFFnQTNBaEFnQXdKL1FRQWdBRUVJZGlJQlJRMEFHa0VmSUFCQi8vLy9CMHNOQUJvZ0FTQUJRWUQrUDJwQkVIWkJDSEVpQVhRaUFpQUNRWURnSDJwQkVIWkJCSEVpQW5RaUJDQUVRWUNBRDJwQkVIWkJBbkVpQkhSQkQzWWdBU0FDY2lBRWNtc2lBVUVCZENBQUlBRkJGV3AyUVFGeGNrRWNhZ3NpQWpZQ0hDQUNRUUowUWVUQ0FHb2hBUUpBQWtBQ1FFRzR3QUFvQWdBaUJFRUJJQUowSWdkeFJRUkFRYmpBQUNBRUlBZHlOZ0lBSUFFZ0F6WUNBQ0FESUFFMkFoZ01BUXNnQUVFQVFSa2dBa0VCZG1zZ0FrRWZSaHQwSVFJZ0FTZ0NBQ0VCQTBBZ0FTSUVLQUlFUVhoeElBQkdEUUlnQWtFZGRpRUJJQUpCQVhRaEFpQUVJQUZCQkhGcUlnZEJFR29vQWdBaUFRMEFDeUFISUFNMkFoQWdBeUFFTmdJWUN5QURJQU0yQWd3Z0F5QUROZ0lJREFFTElBUW9BZ2dpQUNBRE5nSU1JQVFnQXpZQ0NDQURRUUEyQWhnZ0F5QUVOZ0lNSUFNZ0FEWUNDQXRCMU1BQVFkVEFBQ2dDQUVGL2FpSUFOZ0lBSUFBTkFFSDh3d0FoQXdOQUlBTW9BZ0FpQUVFSWFpRURJQUFOQUF0QjFNQUFRWDgyQWdBTEMzUUJBbjhqQUVFUWF5SUNKQUFnQWtFQU5nSU1JQUFnQWtFTWFoQUNJUUFDZnlBQ0tBSU1JZ05CZjBZRVFFRUJJQUJGRFFFYUlBRkJnSUNBZ0hnMkFnQkJBQXdCQzBFQklBQU5BQm9nQVNBRFFRRnFRUUYySWdGQkFDQUJheUFEUVFGeEd6WUNBRUVBQ3lFQUlBSkJFR29rQUNBQUM4Y0xBUlIvSUFGQm9EMXFMUUFBUVF4c0lnWkIxRHhxS0FJQUlRVWdCa0hRUEdvb0FnQWdBVUdRUEdvdEFBQWlCM1FoQkNBQ1JRUkFJQUFnQUNnQ0FDQUViRFlDQUFzZ0JTQUhkQ0VCQWtBQ1FDQURRWnovQTNFRVFDQUFJQVpCMkR4cUtBSUFJQWQwSWdNZ0FDZ0NQR3cyQWp3Z0FDQUFLQUk0SUFGc05nSTRRUUVoQWlBQUlBQW9BaXdnQkd3aUJ5QUFLQUlNSUFSc0lnVnFJZ2tnQUNnQ0lDQUJiQ0lLSUFBb0FqUWdBV3dpRDBFQmRXb2lFR3NpQmpZQ0xDQUFLQUlvSVFnZ0FDQUZJQWRySWdVZ0NrRUJkU0FQYXlJS2F5SUhOZ0lvSUFBb0FpUWhEaUFBSUFVZ0Ntb2lCVFlDSkNBQUlBQW9BaHdnQVd3aUR5QUFLQUlJSUFGc0lndHFJaE1nQUNnQ0VDQURiQ0lSSUFBb0FqQWdBMndpREVFQmRXb2lGV3NpQ2pZQ0hDQUFLQUlZSVEwZ0FDQUxJQTlySWdzZ0VVRUJkU0FNYXlJUmF5SVBOZ0lZSUFBb0FoUWhEQ0FBSUFzZ0VXb2lDellDRkNBQUlBUWdER3dpQkNBQUtBSUFJZ3hxSWhRZ0FDZ0NCQ0FCYkNJU0lBRWdEV3dpRFVFQmRXb2lGbXNpRVRZQ0RDQUFJQXdnQkdzaUJDQVNRUUYxSUExcklnMXJJZ3cyQWdnZ0FDQUVJQTFxSWcwMkFnUWdBQ0FCSUE1c0lnUWdBQ2dDT0NJT2F5SVNJQU1nQ0d3aUNFRUJkU0FBS0FJOEloZHJJZ05ySWdFMkFqZ2dBQ0FESUJKcUlnTTJBalFnQUNBRUlBNXFJZzRnRjBFQmRTQUlhaUlJYXlJRU5nSThJQUFnRkNBV2FpSVVJQWtnRUdvaUVHdEJJR29pRWlBSUlBNXFJZ2tnRXlBVmFpSUlRUUYxSWc1cmFrRUdkU0lUTmdJZ0lBQWdFaUFPSUFscmFrRUdkU0lPTmdJUUlBQWdFQ0FVYWtFZ2FpSVFJQWxCQVhVZ0NHb2lDV3RCQm5VaUNEWUNNQ0FBSUFrZ0VHcEJCblVpQ1RZQ0FDQUpRWUFFYWlBT1FZQUVhbkpCL3dkTERRSWdDRUdBQkdvZ0UwR0FCR3B5UWY4SFN3MENJQUFnQlNBTmFrRWdhaUlKSUFOQkFYVWdDMm9pRUd0QkJuVWlDRFlDTkNBQUlBMGdCV3RCSUdvaUJTQURJQXRCQVhVaUMydHFRUVoxSWcwMkFpUWdBQ0FGSUFzZ0EydHFRUVoxSWdNMkFoUWdBQ0FKSUJCcVFRWjFJZ1UyQWdRZ0JVR0FCR29nQTBHQUJHcHlRZjhIU3cwQ0lBaEJnQVJxSUExQmdBUnFja0gvQjBzTkFpQUFJQWNnREdwQklHb2lBeUFCUVFGMUlBOXFJZ1ZyUVFaMUlnczJBamdnQUNBTUlBZHJRU0JxSWdjZ0FTQVBRUUYxSWc5cmFrRUdkU0lNTmdJb0lBQWdCeUFQSUFGcmFrRUdkU0lCTmdJWUlBQWdBeUFGYWtFR2RTSUROZ0lJSUFOQmdBUnFJQUZCZ0FScWNrSC9CMHNOQWlBTFFZQUVhaUFNUVlBRWFuSkIvd2RMRFFJZ0FDQUdJQkZxUVNCcUlnRWdCRUVCZFNBS2FpSURhMEVHZFNJSE5nSThJQUFnRVNBR2EwRWdhaUlHSUFRZ0NrRUJkU0lGYTJwQkJuVWlDallDTENBQUlBWWdCU0FFYTJwQkJuVWlCRFlDSENBQUlBRWdBMnBCQm5VaUFEWUNEQ0FBUVlBRWFpQUVRWUFFYW5KQi93ZExEUUlnQjBHQUJHb2dDa0dBQkdweVFmOEhUUTBCREFJTElBTkI0Z0J4UlFSQVFRRWhBaUFBS0FJQVFTQnFRUVoxSWdGQmdBUnFRZjhIU3cwQ0lBQWdBVFlDT0NBQUlBRTJBandnQUNBQk5nSTBJQUFnQVRZQ01DQUFJQUUyQWl3Z0FDQUJOZ0lvSUFBZ0FUWUNKQ0FBSUFFMkFpQWdBQ0FCTmdJY0lBQWdBVFlDR0NBQUlBRTJBaFFnQUNBQk5nSVFJQUFnQVRZQ0RDQUFJQUUyQWdnZ0FDQUJOZ0lFSUFBZ0FUWUNBQXdCQzBFQklRSWdBQ0FBS0FJRUlBRnNJZ2NnQUNnQ0dDQUJiQ0lHUVFGMWFpSURJQUFvQWdBaUJTQUFLQUlVSUFSc0lnUnFJZ3BxUVNCcVFRWjFJZ0UyQWpBZ0FDQUtJQU5yUVNCcVFRWjFJZ00yQWd3Z0FDQUZJQVJySWdVZ0JpQUhRUUYxSWdkcmFrRWdha0VHZFNJRU5nSUlJQUFnQnlBR2F5QUZha0VnYWtFR2RTSUdOZ0lFSUFBZ0FUWUNBQ0FBSUFFMkFpQWdBQ0FHTmdJMElBQWdBVFlDRUNBQUlBWTJBaVFnQUNBRU5nSTRJQUFnQmpZQ0ZDQUFJQVEyQWlnZ0FDQUROZ0k4SUFBZ0JEWUNHQ0FBSUFNMkFpd2dBQ0FETmdJY0lBTkJnQVJxSUFGQmdBUnFJQVJCZ0FScUlBWkJnQVJxY25KeVFmOEhTdzBCQzBFQUlRSUxJQUlMOHdJQ0FuOEJmZ0pBSUFKRkRRQWdBQ0FDYWlJRFFYOXFJQUU2QUFBZ0FDQUJPZ0FBSUFKQkEwa05BQ0FEUVg1cUlBRTZBQUFnQUNBQk9nQUJJQU5CZldvZ0FUb0FBQ0FBSUFFNkFBSWdBa0VIU1EwQUlBTkJmR29nQVRvQUFDQUFJQUU2QUFNZ0FrRUpTUTBBSUFCQkFDQUFhMEVEY1NJRWFpSURJQUZCL3dGeFFZR0NoQWhzSWdFMkFnQWdBeUFDSUFSclFYeHhJZ1JxSWdKQmZHb2dBVFlDQUNBRVFRbEpEUUFnQXlBQk5nSUlJQU1nQVRZQ0JDQUNRWGhxSUFFMkFnQWdBa0YwYWlBQk5nSUFJQVJCR1VrTkFDQURJQUUyQWhnZ0F5QUJOZ0lVSUFNZ0FUWUNFQ0FESUFFMkFnd2dBa0Z3YWlBQk5nSUFJQUpCYkdvZ0FUWUNBQ0FDUVdocUlBRTJBZ0FnQWtGa2FpQUJOZ0lBSUFRZ0EwRUVjVUVZY2lJRWF5SUNRU0JKRFFBZ0FhMGlCVUlnaGlBRmhDRUZJQU1nQkdvaEFRTkFJQUVnQlRjREdDQUJJQVUzQXhBZ0FTQUZOd01JSUFFZ0JUY0RBQ0FCUVNCcUlRRWdBa0ZnYWlJQ1FSOUxEUUFMQ3lBQUMvSURBUU4vSUFFb0FnQWlBMEgvLy84SFJ3UkFJQUVvQWdRaEJDQUFJQUlnQWtFRGNTQUNRUkJKSWdJYlFRSjBJZ1ZCOENscUtBSUFRUkJCQ0NBQ0d5SUNiR29nQlVHd0tXb29BZ0JxSWdBZ0F5QUFMUUFBYWtHd0xtb3RBQUE2QUFBZ0FTZ0NDQ0VESUFBZ0JDQUFMUUFCYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VFSUFBZ0F5QUFMUUFDYWtHd0xtb3RBQUE2QUFJZ0FDQUVJQUF0QUFOcVFiQXVhaTBBQURvQUF5QUJLQUlVSVFNZ0FDQUNhaUlBSUFFb0FoQWdBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BaGdoQkNBQUlBTWdBQzBBQVdwQnNDNXFMUUFBT2dBQklBRW9BaHdoQXlBQUlBUWdBQzBBQW1wQnNDNXFMUUFBT2dBQ0lBQWdBeUFBTFFBRGFrR3dMbW90QUFBNkFBTWdBU2dDSkNFRElBQWdBbW9pQUNBQktBSWdJQUF0QUFCcVFiQXVhaTBBQURvQUFDQUJLQUlvSVFRZ0FDQURJQUF0QUFGcVFiQXVhaTBBQURvQUFTQUJLQUlzSVFNZ0FDQUVJQUF0QUFKcVFiQXVhaTBBQURvQUFpQUFJQU1nQUMwQUEycEJzQzVxTFFBQU9nQURJQUVvQWpRaEF5QUFJQUpxSWdBZ0FTZ0NNQ0FBTFFBQWFrR3dMbW90QUFBNkFBQWdBU2dDT0NFQ0lBQWdBeUFBTFFBQmFrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQWdBaUFBTFFBQ2FrR3dMbW90QUFBNkFBSWdBQ0FCSUFBdEFBTnFRYkF1YWkwQUFEb0FBd3NMMHhBQkRIOGpBRUdBQVdzaUNpUUFJQUFRRHlFRVFRRWhCUUpBQWtBQ2Z5QUNRUUZOQkVBZ0JFRUFTQTBDSUFSQkdYWkIvZ0J4UVlBSWFpQUVRWUNBZ09BQVR3MEJHaUFFUVJWMlFmNFBjVUhBQ0dvZ0JFR0FnSUFJVHcwQkdpQUVRUkYyUWY3L0FYRkJrQWxxSUFSQmdJQ0FBVThOQVJvZ0JFRVFka0VCZEVHUUNtb01BUXNnQWtFRFRRUkFJQVJCZjB3RVFFRUNRYUlRSUFSQmdJQ0FnQVJ4R3lFRkRBTUxJQVJCR1haQi9nQnhRZEFLYWlBRVFZQ0FnSUFCVHcwQkdpQUVRUloyUWY0SGNVR1FDMm9nQkVHQWdJQVFUdzBCR2lBRVFSRjJRZjcvQVhGQjBBdHFEQUVMSUFKQkIwMEVRQ0FFUVJwMklnSkJlR3BCT0VrRVFDQUNRUUYwUWRBTmFnd0NDeUFFUVJWMlFmNFBjVUhRRG1vTUFRc2dCRUVaZGtIK0FIRkIwQkJxSUFKQkVFME5BQm9nQkVFZGRpSUNCRUFnQWtFQmRFSFFFV29NQVFzZ0JFRVhka0grQTNGQjRCRnFDeThCQUNJRkRRQkJBU0VMREFFTFFRRWhDeUFGUVF0Mklna2dBMHNOQUVFZ0lBVkJIM0VpQm1zaEFnSkFJQWxGQkVBTUFRc2dCQ0FHZENFRUFrQWdCVUVGZGtFL2NTSU1SUVJBREFFTElBSWdERWtFUUNBQUlBWVFDMEYvUmcwRElBQVFEeUVFUVNBaEFnc2dCQ0FNZENFR1FRRWdERUYvYW5RaEJ5QUVRU0FnREd0MklRUURRQ0FLUVVCcklBaEJBblJxUVg5QkFTQUVJQWR4R3pZQ0FDQUlRUUZxSVFnZ0IwRUJkaUlIRFFBTElBSWdER3NoQWlBR0lRUUxJQWdnQ1VrRVFDQU1RUU5KSWc4Z0JVSC9yd0ZMY1NFRkEwQWdBa0VQVFFSQUlBQkJJQ0FDYXhBTFFYOUdCRUFNQlFzZ0FCQVBJUVJCSUNFQ0MwRUFJUVlDUUFKQUFuOENRQ0FFUVFCSURRQkJBU0VHSUFSQi8vLy8vd05MRFFCQkFpRUdJQVJCLy8vLy93RkxEUUJCQXlFR0lBUkIvLy8vL3dCTERRQkJCQ0VHSUFSQi8vLy9QMHNOQUVFRklRWWdCRUgvLy84ZlN3MEFRUVloQmlBRVFmLy8vdzlMRFFCQkJ5RUdJQVJCLy8vL0Iwc05BRUVJSVFZZ0JFSC8vLzhEU3cwQVFRa2hCaUFFUWYvLy93RkxEUUJCQ2lFR0lBUkIvLy8vQUVzTkFFRUxJUVlnQkVILy96OUxEUUJCRENFR0lBUkIvLzhmU3cwQVFRMGhCaUFFUWYvL0Qwc05BQUovQWtBZ0JFSC8vd2ROQkVBZ0JFR0FnSHh4UVlDQUJFWU5BUXdLQ3lBRlFRUWdCUnNoQmlBRVFROTBJUVJCRGlFSElBSkJjV29NQVFzZ0JVRUJJQVViSVFVZ0JFRVFkQ0VFUVF3aEJrRVBJUWNnQWtGd2Fnc2hBaUFISUFWMElRY2dCVVVNQVFzZ0JpQUZkQ0VIUVFFaERpQUNJQVpCQVdvaUJtc2hBaUFFSUFaMElRUWdCVVVOQVNBRklRWkJBQXNoRGlBQ0lBWlBCSDhnQkFVZ0FFRWdJQUpyRUF0QmYwWUVRQXdIQzBFZ0lRSWdBQkFQQ3lFTklBSWdCbXNoQWlBTklBWjBJUVFnRFVFZ0lBWnJkaUFIYWlFSERBRUxRUUFoQlFzZ0NrRkFheUFJUVFKMGFrRUFJQWRCQW1vZ0J5QUlJQXhHR3lBSElBOGJJZzFCQW1wQkFYWWlCbXNnQmlBTlFRRnhHellDQUVFQklBVWdEaHNpQlNBRlFRWkpJQVpCQXlBRlFYOXFkRXB4YWlFRklBaEJBV29pQ0NBSlJ3MEFDd3RCQUNFSEFrQWdDU0FEVHdSQVFRQWhDQXdCQ3dKQUlBSkJDRXNFUUNBQ0lRVU1BUXRCSUNFRklBQkJJQ0FDYXhBTFFYOUdEUU1nQUJBUElRUUxBa0FDUUFKL0FrQWdBMEVFUndSQUlBbEJmMm9pQWtFTlN3MERBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBa0VCYXc0TkFBRUNBd1FGQmdjSUNRb0xEQTRMSUFSQkduWkI0QkpxREE0TElBUkJHblpCb0JOcURBMExJQVJCRzNaQjRCTnFEQXdMSUFSQkczWkJnQlJxREFzTElBUkJHblpCb0JScURBb0xJQVJCR25aQjRCUnFEQWtMSUFSQkduWkJvQlZxREFnTElBUkJHblpCNEJWcURBY0xJQVJCRzNaQm9CWnFEQVlMSUFSQkhIWkJ3QlpxREFVTElBUkJISFpCMEJacURBUUxJQVJCSFhaQjRCWnFEQU1MSUFSQkhuWkI2QlpxREFJTElBUkJBRWdFUUVFQklRSU1CQXRCRVNFQ0lBbEJBMFlOQTBFU0lRSWdCRUgvLy8vL0Ewc05BMEVpSVFJZ0NVRUNSZzBEUVNOQk15QUVRZi8vLy84QlN4c2hBZ3dEQ3lBRVFSdDJRYUFTYWlBRVFSZDJRY0FTYWlBRVFmLy8vLzhBU3hzTExRQUFJZ0lOQVF3RUMwRVJRUUVnQkVFQVNCc2hBZ3NnQWtFRWRpRUlJQVVnQWtFUGNTSURheUVDSUFRZ0EzUWhCQXNnQ1VGL2FpSURCRUFEUUFKL0lBZ0VRQ0FDUVFwTkJFQWdBRUVnSUFKckVBdEJmMFlFUUF3SEN5QUFFQThoQkVFZ0lRSUxBa0FDZndKQUlBaEJmMm9pQlVFRlRRUkFBa0FDUUFKQUFrQUNRQ0FGUVFGckRnVUFBUUlEQkFZTElBUkJIblpCN2hacURBWUxJQVJCSG5aQjhoWnFEQVVMSUFSQkhYWkI5aFpxREFRTElBUkJIWFpCL2hacURBTUxJQVJCSFhaQmhoZHFEQUlMQW45Qjh3QWdCRUVaZGtId0FIRnJJQVJCZ0lDQWdBSlBEUUFhUWZRQUlBUkIvLy8vL3dCTERRQWFRWVVCSUFSQi8vLy9QMHNOQUJwQmxnRWdCRUgvLy84ZlN3MEFHa0duQVNBRVFmLy8vdzlMRFFBYVFiZ0JJQVJCLy8vL0Iwc05BQnBCeVFFZ0JFSC8vLzhEU3cwQUdrSGFBU0FFUWYvLy93RkxEUUFhUVFCQjZ3RWdCRUdBZ0lBQlNSc0xJZ1ZCQkhZZ0NFME5BZ3dJQ3lBRVFSOTJRZXdXYWdzdEFBQWhCUXNnQlVVRVFBd0dDeUFLSUFkQkFuUnFJQVZCQkhZaUJrRUJhallDQUNBQ0lBVkJEM0VpQldzaEFpQUVJQVYwSVFRZ0NDQUdhd3dCQ3lBS0lBZEJBblJxUVFFMkFnQkJBQXNoQ0NBSFFRRnFJZ2NnQTBjTkFBc2dBU0FJUVFKMGFpQUtRVUJySUFOQkFuUnFLQUlBTmdJQUlBbEJmbW9oQlVFQklBaDBJUWNEUUNBQklBb2dCU0lEUVFKMElnVnFLQUlBSUFocUlnaEJBblJxSUFwQlFHc2dCV29vQWdBMkFnQWdBMEYvYWlFRlFRRWdDSFFnQjNJaEJ5QUREUUFMREFFTElBRWdDRUVDZEdvZ0NrRkFheUFEUVFKMGFpZ0NBRFlDQUVFQklBaDBJUWNMSUFCQklDQUNheEFMRFFBZ0IwRVFkQ0FKUVFSMGNpRUxDeUFLUVlBQmFpUUFJQXNMelM0QkMzOGpBRUVRYXlJTEpBQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFCQjlBRk5CRUJCdE1BQUtBSUFJZ1pCRUNBQVFRdHFRWGh4SUFCQkMwa2JJZ1ZCQTNZaUFIWWlBVUVEY1FSQUlBRkJmM05CQVhFZ0FHb2lBa0VEZENJRVFlVEFBR29vQWdBaUFVRUlhaUVBQWtBZ0FTZ0NDQ0lESUFSQjNNQUFhaUlFUmdSQVFiVEFBQ0FHUVg0Z0FuZHhOZ0lBREFFTFFjVEFBQ2dDQUJvZ0F5QUVOZ0lNSUFRZ0F6WUNDQXNnQVNBQ1FRTjBJZ0pCQTNJMkFnUWdBU0FDYWlJQklBRW9BZ1JCQVhJMkFnUU1EQXNnQlVHOHdBQW9BZ0FpQ0UwTkFTQUJCRUFDUUVFQ0lBQjBJZ0pCQUNBQ2EzSWdBU0FBZEhFaUFFRUFJQUJyY1VGL2FpSUFJQUJCREhaQkVIRWlBSFlpQVVFRmRrRUljU0lDSUFCeUlBRWdBbllpQUVFQ2RrRUVjU0lCY2lBQUlBRjJJZ0JCQVhaQkFuRWlBWElnQUNBQmRpSUFRUUYyUVFGeElnRnlJQUFnQVhacUlnSkJBM1FpQTBIa3dBQnFLQUlBSWdFb0FnZ2lBQ0FEUWR6QUFHb2lBMFlFUUVHMHdBQWdCa0YrSUFKM2NTSUdOZ0lBREFFTFFjVEFBQ2dDQUJvZ0FDQUROZ0lNSUFNZ0FEWUNDQXNnQVVFSWFpRUFJQUVnQlVFRGNqWUNCQ0FCSUFWcUlnY2dBa0VEZENJQ0lBVnJJZ05CQVhJMkFnUWdBU0FDYWlBRE5nSUFJQWdFUUNBSVFRTjJJZ1JCQTNSQjNNQUFhaUVCUWNqQUFDZ0NBQ0VDQW44Z0JrRUJJQVIwSWdSeFJRUkFRYlRBQUNBRUlBWnlOZ0lBSUFFTUFRc2dBU2dDQ0FzaEJDQUJJQUkyQWdnZ0JDQUNOZ0lNSUFJZ0FUWUNEQ0FDSUFRMkFnZ0xRY2pBQUNBSE5nSUFRYnpBQUNBRE5nSUFEQXdMUWJqQUFDZ0NBQ0lLUlEwQklBcEJBQ0FLYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQWlBQWNpQUJJQUoySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJZ0VvQWdSQmVIRWdCV3NoQXlBQklRSURRQUpBSUFJb0FoQWlBRVVFUUNBQ0tBSVVJZ0JGRFFFTElBQW9BZ1JCZUhFZ0JXc2lBaUFESUFJZ0Ewa2lBaHNoQXlBQUlBRWdBaHNoQVNBQUlRSU1BUXNMSUFFb0FoZ2hDU0FCSUFFb0Fnd2lCRWNFUUVIRXdBQW9BZ0FnQVNnQ0NDSUFUUVJBSUFBb0Fnd2FDeUFBSUFRMkFnd2dCQ0FBTmdJSURBc0xJQUZCRkdvaUFpZ0NBQ0lBUlFSQUlBRW9BaEFpQUVVTkF5QUJRUkJxSVFJTEEwQWdBaUVISUFBaUJFRVVhaUlDS0FJQUlnQU5BQ0FFUVJCcUlRSWdCQ2dDRUNJQURRQUxJQWRCQURZQ0FBd0tDMEYvSVFVZ0FFRy9mMHNOQUNBQVFRdHFJZ0JCZUhFaEJVRzR3QUFvQWdBaUIwVU5BRUVBSUFWcklRSUNRQUpBQWtBQ2YwRUFJQUJCQ0hZaUFFVU5BQnBCSHlBRlFmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnTWdBMEdBZ0E5cVFSQjJRUUp4SWdOMFFROTJJQUFnQVhJZ0EzSnJJZ0JCQVhRZ0JTQUFRUlZxZGtFQmNYSkJIR29MSWdoQkFuUkI1TUlBYWlnQ0FDSURSUVJBUVFBaEFBd0JDeUFGUVFCQkdTQUlRUUYyYXlBSVFSOUdHM1FoQVVFQUlRQURRQUpBSUFNb0FnUkJlSEVnQldzaUJpQUNUdzBBSUFNaEJDQUdJZ0lOQUVFQUlRSWdBeUVBREFNTElBQWdBeWdDRkNJR0lBWWdBeUFCUVIxMlFRUnhhaWdDRUNJRFJoc2dBQ0FHR3lFQUlBRWdBMEVBUjNRaEFTQUREUUFMQ3lBQUlBUnlSUVJBUVFJZ0NIUWlBRUVBSUFCcmNpQUhjU0lBUlEwRElBQkJBQ0FBYTNGQmYyb2lBQ0FBUVF4MlFSQnhJZ0IySWdGQkJYWkJDSEVpQXlBQWNpQUJJQU4ySWdCQkFuWkJCSEVpQVhJZ0FDQUJkaUlBUVFGMlFRSnhJZ0Z5SUFBZ0FYWWlBRUVCZGtFQmNTSUJjaUFBSUFGMmFrRUNkRUhrd2dCcUtBSUFJUUFMSUFCRkRRRUxBMEFnQUNnQ0JFRjRjU0FGYXlJRElBSkpJUUVnQXlBQ0lBRWJJUUlnQUNBRUlBRWJJUVFnQUNnQ0VDSUJCSDhnQVFVZ0FDZ0NGQXNpQUEwQUN3c2dCRVVOQUNBQ1FiekFBQ2dDQUNBRmEwOE5BQ0FFS0FJWUlRZ2dCQ0FFS0FJTUlnRkhCRUJCeE1BQUtBSUFJQVFvQWdnaUFFMEVRQ0FBS0FJTUdnc2dBQ0FCTmdJTUlBRWdBRFlDQ0F3SkN5QUVRUlJxSWdNb0FnQWlBRVVFUUNBRUtBSVFJZ0JGRFFNZ0JFRVFhaUVEQ3dOQUlBTWhCaUFBSWdGQkZHb2lBeWdDQUNJQURRQWdBVUVRYWlFRElBRW9BaEFpQUEwQUN5QUdRUUEyQWdBTUNBdEJ2TUFBS0FJQUlnRWdCVThFUUVISXdBQW9BZ0FoQUFKQUlBRWdCV3NpQWtFUVR3UkFRYnpBQUNBQ05nSUFRY2pBQUNBQUlBVnFJZ00yQWdBZ0F5QUNRUUZ5TmdJRUlBQWdBV29nQWpZQ0FDQUFJQVZCQTNJMkFnUU1BUXRCeU1BQVFRQTJBZ0JCdk1BQVFRQTJBZ0FnQUNBQlFRTnlOZ0lFSUFBZ0FXb2lBU0FCS0FJRVFRRnlOZ0lFQ3lBQVFRaHFJUUFNQ2d0QndNQUFLQUlBSWdFZ0JVc0VRRUhBd0FBZ0FTQUZheUlCTmdJQVFjekFBRUhNd0FBb0FnQWlBQ0FGYWlJQ05nSUFJQUlnQVVFQmNqWUNCQ0FBSUFWQkEzSTJBZ1FnQUVFSWFpRUFEQW9MUVFBaEFDQUZRUzlxSWdRQ2YwR014QUFvQWdBRVFFR1V4QUFvQWdBTUFRdEJtTVFBUW44M0FnQkJrTVFBUW9DZ2dJQ0FnQVEzQWdCQmpNUUFJQXRCREdwQmNIRkIyS3JWcWdWek5nSUFRYURFQUVFQU5nSUFRZkREQUVFQU5nSUFRWUFnQ3lJQ2FpSUdRUUFnQW1zaUIzRWlBaUFGVFEwSlFlekRBQ2dDQUNJREJFQkI1TU1BS0FJQUlnZ2dBbW9pQ1NBSVRRMEtJQWtnQTBzTkNndEI4TU1BTFFBQVFRUnhEUVFDUUFKQVFjekFBQ2dDQUNJREJFQkI5TU1BSVFBRFFDQUFLQUlBSWdnZ0EwMEVRQ0FJSUFBb0FnUnFJQU5MRFFNTElBQW9BZ2dpQUEwQUN3dEJBQkFUSWdGQmYwWU5CU0FDSVFaQmtNUUFLQUlBSWdCQmYyb2lBeUFCY1FSQUlBSWdBV3NnQVNBRGFrRUFJQUJyY1dvaEJnc2dCaUFGVFEwRklBWkIvdi8vL3dkTERRVkI3TU1BS0FJQUlnQUVRRUhrd3dBb0FnQWlBeUFHYWlJSElBTk5EUVlnQnlBQVN3MEdDeUFHRUJNaUFDQUJSdzBCREFjTElBWWdBV3NnQjNFaUJrSCsvLy8vQjBzTkJDQUdFQk1pQVNBQUtBSUFJQUFvQWdScVJnMERJQUVoQUFzQ1FDQUZRVEJxSUFaTkRRQWdBRUYvUmcwQVFaVEVBQ2dDQUNJQklBUWdCbXRxUVFBZ0FXdHhJZ0ZCL3YvLy93ZExCRUFnQUNFQkRBY0xJQUVRRTBGL1J3UkFJQUVnQm1vaEJpQUFJUUVNQnd0QkFDQUdheEFUR2d3RUN5QUFJZ0ZCZjBjTkJRd0RDMEVBSVFRTUJ3dEJBQ0VCREFVTElBRkJmMGNOQWd0QjhNTUFRZkREQUNnQ0FFRUVjallDQUFzZ0FrSCsvLy8vQjBzTkFTQUNFQk1pQVVFQUVCTWlBRThOQVNBQlFYOUdEUUVnQUVGL1JnMEJJQUFnQVdzaUJpQUZRU2hxVFEwQkMwSGt3d0JCNU1NQUtBSUFJQVpxSWdBMkFnQWdBRUhvd3dBb0FnQkxCRUJCNk1NQUlBQTJBZ0FMQWtBQ1FBSkFRY3pBQUNnQ0FDSURCRUJCOU1NQUlRQURRQ0FCSUFBb0FnQWlBaUFBS0FJRUlnUnFSZzBDSUFBb0FnZ2lBQTBBQ3d3Q0MwSEV3QUFvQWdBaUFFRUFJQUVnQUU4YlJRUkFRY1RBQUNBQk5nSUFDMEVBSVFCQitNTUFJQVkyQWdCQjlNTUFJQUUyQWdCQjFNQUFRWDgyQWdCQjJNQUFRWXpFQUNnQ0FEWUNBRUdBeEFCQkFEWUNBQU5BSUFCQkEzUWlBa0hrd0FCcUlBSkIzTUFBYWlJRE5nSUFJQUpCNk1BQWFpQUROZ0lBSUFCQkFXb2lBRUVnUncwQUMwSEF3QUFnQmtGWWFpSUFRWGdnQVd0QkIzRkJBQ0FCUVFocVFRZHhHeUlDYXlJRE5nSUFRY3pBQUNBQklBSnFJZ0kyQWdBZ0FpQURRUUZ5TmdJRUlBQWdBV3BCS0RZQ0JFSFF3QUJCbk1RQUtBSUFOZ0lBREFJTElBQXRBQXhCQ0hFTkFDQUJJQU5ORFFBZ0FpQURTdzBBSUFBZ0JDQUdhallDQkVITXdBQWdBMEY0SUFOclFRZHhRUUFnQTBFSWFrRUhjUnNpQUdvaUFUWUNBRUhBd0FCQndNQUFLQUlBSUFacUlnSWdBR3NpQURZQ0FDQUJJQUJCQVhJMkFnUWdBaUFEYWtFb05nSUVRZERBQUVHY3hBQW9BZ0EyQWdBTUFRc2dBVUhFd0FBb0FnQWlCRWtFUUVIRXdBQWdBVFlDQUNBQklRUUxJQUVnQm1vaEFrSDB3d0FoQUFKQUFrQUNRQUpBQWtBQ1FBTkFJQUlnQUNnQ0FFY0VRQ0FBS0FJSUlnQU5BUXdDQ3dzZ0FDMEFERUVJY1VVTkFRdEI5TU1BSVFBRFFDQUFLQUlBSWdJZ0EwMEVRQ0FDSUFBb0FnUnFJZ1FnQTBzTkF3c2dBQ2dDQ0NFQURBQUFDd0FMSUFBZ0FUWUNBQ0FBSUFBb0FnUWdCbW8yQWdRZ0FVRjRJQUZyUVFkeFFRQWdBVUVJYWtFSGNSdHFJZ2tnQlVFRGNqWUNCQ0FDUVhnZ0FtdEJCM0ZCQUNBQ1FRaHFRUWR4RzJvaUFTQUpheUFGYXlFQUlBVWdDV29oQnlBQklBTkdCRUJCek1BQUlBYzJBZ0JCd01BQVFjREFBQ2dDQUNBQWFpSUFOZ0lBSUFjZ0FFRUJjallDQkF3REN5QUJRY2pBQUNnQ0FFWUVRRUhJd0FBZ0J6WUNBRUc4d0FCQnZNQUFLQUlBSUFCcUlnQTJBZ0FnQnlBQVFRRnlOZ0lFSUFBZ0Iyb2dBRFlDQUF3REN5QUJLQUlFSWdKQkEzRkJBVVlFUUNBQ1FYaHhJUW9DUUNBQ1FmOEJUUVJBSUFFb0FnZ2lBeUFDUVFOMklnUkJBM1JCM01BQWFrY2FJQU1nQVNnQ0RDSUNSZ1JBUWJUQUFFRzB3QUFvQWdCQmZpQUVkM0UyQWdBTUFnc2dBeUFDTmdJTUlBSWdBellDQ0F3QkN5QUJLQUlZSVFnQ1FDQUJJQUVvQWd3aUJrY0VRQ0FFSUFFb0FnZ2lBazBFUUNBQ0tBSU1HZ3NnQWlBR05nSU1JQVlnQWpZQ0NBd0JDd0pBSUFGQkZHb2lBeWdDQUNJRkRRQWdBVUVRYWlJREtBSUFJZ1VOQUVFQUlRWU1BUXNEUUNBRElRSWdCU0lHUVJScUlnTW9BZ0FpQlEwQUlBWkJFR29oQXlBR0tBSVFJZ1VOQUFzZ0FrRUFOZ0lBQ3lBSVJRMEFBa0FnQVNBQktBSWNJZ0pCQW5SQjVNSUFhaUlES0FJQVJnUkFJQU1nQmpZQ0FDQUdEUUZCdU1BQVFiakFBQ2dDQUVGK0lBSjNjVFlDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQUZHRzJvZ0JqWUNBQ0FHUlEwQkN5QUdJQWcyQWhnZ0FTZ0NFQ0lDQkVBZ0JpQUNOZ0lRSUFJZ0JqWUNHQXNnQVNnQ0ZDSUNSUTBBSUFZZ0FqWUNGQ0FDSUFZMkFoZ0xJQUVnQ21vaEFTQUFJQXBxSVFBTElBRWdBU2dDQkVGK2NUWUNCQ0FISUFCQkFYSTJBZ1FnQUNBSGFpQUFOZ0lBSUFCQi93Rk5CRUFnQUVFRGRpSUJRUU4wUWR6QUFHb2hBQUovUWJUQUFDZ0NBQ0lDUVFFZ0FYUWlBWEZGQkVCQnRNQUFJQUVnQW5JMkFnQWdBQXdCQ3lBQUtBSUlDeUVCSUFBZ0J6WUNDQ0FCSUFjMkFnd2dCeUFBTmdJTUlBY2dBVFlDQ0F3REN5QUhBbjlCQUNBQVFRaDJJZ0ZGRFFBYVFSOGdBRUgvLy84SFN3MEFHaUFCSUFGQmdQNC9ha0VRZGtFSWNTSUJkQ0lDSUFKQmdPQWZha0VRZGtFRWNTSUNkQ0lESUFOQmdJQVBha0VRZGtFQ2NTSURkRUVQZGlBQklBSnlJQU55YXlJQlFRRjBJQUFnQVVFVmFuWkJBWEZ5UVJ4cUN5SUJOZ0ljSUFkQ0FEY0NFQ0FCUVFKMFFlVENBR29oQWdKQVFiakFBQ2dDQUNJRFFRRWdBWFFpQkhGRkJFQkJ1TUFBSUFNZ0JISTJBZ0FnQWlBSE5nSUFEQUVMSUFCQkFFRVpJQUZCQVhacklBRkJIMFliZENFRElBSW9BZ0FoQVFOQUlBRWlBaWdDQkVGNGNTQUFSZzBESUFOQkhYWWhBU0FEUVFGMElRTWdBaUFCUVFSeGFpSUVLQUlRSWdFTkFBc2dCQ0FITmdJUUN5QUhJQUkyQWhnZ0J5QUhOZ0lNSUFjZ0J6WUNDQXdDQzBIQXdBQWdCa0ZZYWlJQVFYZ2dBV3RCQjNGQkFDQUJRUWhxUVFkeEd5SUNheUlITmdJQVFjekFBQ0FCSUFKcUlnSTJBZ0FnQWlBSFFRRnlOZ0lFSUFBZ0FXcEJLRFlDQkVIUXdBQkJuTVFBS0FJQU5nSUFJQU1nQkVFbklBUnJRUWR4UVFBZ0JFRlpha0VIY1J0cVFWRnFJZ0FnQUNBRFFSQnFTUnNpQWtFYk5nSUVJQUpCL01NQUtRSUFOd0lRSUFKQjlNTUFLUUlBTndJSVFmekRBQ0FDUVFocU5nSUFRZmpEQUNBR05nSUFRZlREQUNBQk5nSUFRWURFQUVFQU5nSUFJQUpCR0dvaEFBTkFJQUJCQnpZQ0JDQUFRUWhxSVFFZ0FFRUVhaUVBSUFRZ0FVc05BQXNnQWlBRFJnMERJQUlnQWlnQ0JFRitjVFlDQkNBRElBSWdBMnNpQkVFQmNqWUNCQ0FDSUFRMkFnQWdCRUgvQVUwRVFDQUVRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQVFMSUFOQ0FEY0NFQ0FEQW45QkFDQUVRUWgySWdCRkRRQWFRUjhnQkVILy8vOEhTdzBBR2lBQUlBQkJnUDQvYWtFUWRrRUljU0lBZENJQklBRkJnT0FmYWtFUWRrRUVjU0lCZENJQ0lBSkJnSUFQYWtFUWRrRUNjU0lDZEVFUGRpQUFJQUZ5SUFKeWF5SUFRUUYwSUFRZ0FFRVZhblpCQVhGeVFSeHFDeUlBTmdJY0lBQkJBblJCNU1JQWFpRUJBa0JCdU1BQUtBSUFJZ0pCQVNBQWRDSUdjVVVFUUVHNHdBQWdBaUFHY2pZQ0FDQUJJQU0yQWdBZ0F5QUJOZ0lZREFFTElBUkJBRUVaSUFCQkFYWnJJQUJCSDBZYmRDRUFJQUVvQWdBaEFRTkFJQUVpQWlnQ0JFRjRjU0FFUmcwRUlBQkJIWFloQVNBQVFRRjBJUUFnQWlBQlFRUnhhaUlHS0FJUUlnRU5BQXNnQmlBRE5nSVFJQU1nQWpZQ0dBc2dBeUFETmdJTUlBTWdBellDQ0F3REN5QUNLQUlJSWdBZ0J6WUNEQ0FDSUFjMkFnZ2dCMEVBTmdJWUlBY2dBallDRENBSElBQTJBZ2dMSUFsQkNHb2hBQXdGQ3lBQ0tBSUlJZ0FnQXpZQ0RDQUNJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FqWUNEQ0FESUFBMkFnZ0xRY0RBQUNnQ0FDSUFJQVZORFFCQndNQUFJQUFnQldzaUFUWUNBRUhNd0FCQnpNQUFLQUlBSWdBZ0JXb2lBallDQUNBQ0lBRkJBWEkyQWdRZ0FDQUZRUU55TmdJRUlBQkJDR29oQUF3REMwR3d3QUJCTURZQ0FFRUFJUUFNQWdzQ1FDQUlSUTBBQWtBZ0JDZ0NIQ0lBUVFKMFFlVENBR29pQXlnQ0FDQUVSZ1JBSUFNZ0FUWUNBQ0FCRFFGQnVNQUFJQWRCZmlBQWQzRWlCellDQUF3Q0N5QUlRUkJCRkNBSUtBSVFJQVJHRzJvZ0FUWUNBQ0FCUlEwQkN5QUJJQWcyQWhnZ0JDZ0NFQ0lBQkVBZ0FTQUFOZ0lRSUFBZ0FUWUNHQXNnQkNnQ0ZDSUFSUTBBSUFFZ0FEWUNGQ0FBSUFFMkFoZ0xBa0FnQWtFUFRRUkFJQVFnQWlBRmFpSUFRUU55TmdJRUlBQWdCR29pQUNBQUtBSUVRUUZ5TmdJRURBRUxJQVFnQlVFRGNqWUNCQ0FFSUFWcUlnTWdBa0VCY2pZQ0JDQUNJQU5xSUFJMkFnQWdBa0gvQVUwRVFDQUNRUU4ySWdGQkEzUkIzTUFBYWlFQUFuOUJ0TUFBS0FJQUlnSkJBU0FCZENJQmNVVUVRRUcwd0FBZ0FTQUNjallDQUNBQURBRUxJQUFvQWdnTElRRWdBQ0FETmdJSUlBRWdBellDRENBRElBQTJBZ3dnQXlBQk5nSUlEQUVMSUFNQ2YwRUFJQUpCQ0hZaUFFVU5BQnBCSHlBQ1FmLy8vd2RMRFFBYUlBQWdBRUdBL2o5cVFSQjJRUWh4SWdCMElnRWdBVUdBNEI5cVFSQjJRUVJ4SWdGMElnVWdCVUdBZ0E5cVFSQjJRUUp4SWdWMFFROTJJQUFnQVhJZ0JYSnJJZ0JCQVhRZ0FpQUFRUlZxZGtFQmNYSkJIR29MSWdBMkFod2dBMElBTndJUUlBQkJBblJCNU1JQWFpRUJBa0FDUUNBSFFRRWdBSFFpQlhGRkJFQkJ1TUFBSUFVZ0IzSTJBZ0FnQVNBRE5nSUFEQUVMSUFKQkFFRVpJQUJCQVhacklBQkJIMFliZENFQUlBRW9BZ0FoQlFOQUlBVWlBU2dDQkVGNGNTQUNSZzBDSUFCQkhYWWhCU0FBUVFGMElRQWdBU0FGUVFSeGFpSUdLQUlRSWdVTkFBc2dCaUFETmdJUUN5QURJQUUyQWhnZ0F5QUROZ0lNSUFNZ0F6WUNDQXdCQ3lBQktBSUlJZ0FnQXpZQ0RDQUJJQU0yQWdnZ0EwRUFOZ0lZSUFNZ0FUWUNEQ0FESUFBMkFnZ0xJQVJCQ0dvaEFBd0JDd0pBSUFsRkRRQUNRQ0FCS0FJY0lnQkJBblJCNU1JQWFpSUNLQUlBSUFGR0JFQWdBaUFFTmdJQUlBUU5BVUc0d0FBZ0NrRitJQUIzY1RZQ0FBd0NDeUFKUVJCQkZDQUpLQUlRSUFGR0cyb2dCRFlDQUNBRVJRMEJDeUFFSUFrMkFoZ2dBU2dDRUNJQUJFQWdCQ0FBTmdJUUlBQWdCRFlDR0FzZ0FTZ0NGQ0lBUlEwQUlBUWdBRFlDRkNBQUlBUTJBaGdMQWtBZ0EwRVBUUVJBSUFFZ0F5QUZhaUlBUVFOeU5nSUVJQUFnQVdvaUFDQUFLQUlFUVFGeU5nSUVEQUVMSUFFZ0JVRURjallDQkNBQklBVnFJZ1FnQTBFQmNqWUNCQ0FESUFScUlBTTJBZ0FnQ0FSQUlBaEJBM1lpQlVFRGRFSGN3QUJxSVFCQnlNQUFLQUlBSVFJQ2YwRUJJQVYwSWdVZ0JuRkZCRUJCdE1BQUlBVWdCbkkyQWdBZ0FBd0JDeUFBS0FJSUN5RUZJQUFnQWpZQ0NDQUZJQUkyQWd3Z0FpQUFOZ0lNSUFJZ0JUWUNDQXRCeU1BQUlBUTJBZ0JCdk1BQUlBTTJBZ0FMSUFGQkNHb2hBQXNnQzBFUWFpUUFJQUFMUkFFQmZ5QUFJQUFvQWhBZ0FXb2lBVFlDRUNBQUlBRkJCM0UyQWdoQmZ5RUNJQUVnQUNnQ0RFRURkRTBFZnlBQUlBQW9BZ0FnQVVFRGRtbzJBZ1JCQUFWQmZ3c0w1UWNCQ0g4Z0FDQUVRUUFnQm1zZ0FpQUNJQVpxUVFCSUd5SUNJQUlnQkVvYklnSnFJQUFnQWtFQVNoc2lDU0FGUVFBZ0Iyc2dBeUFESUFkcVFRQklHeUlBSUFBZ0JVb2JJZ0FnQkd4cUlBa2dBRUVBU2hzaEF5QUhRUUFnQUdzZ0FFRWZkWEVpQ1dzZ0FDQUhhaUlBSUFWcklneEJBQ0FBSUFWS0d5SVBheUVMSUFaQkFDQUNheUlPSUFKQkgzVnhJZzFySUFJZ0Jtb2lBQ0FFYTBFQUlBQWdCRW9pQlJzaUNtc2hBQUpBSUFKQkFFZ2dCWElpRUVVRVFDQUpCRUFEUUNBQklBTWdBQkFWSUFocUlRRWdDVUYvYWlJSkRRQUxDeUFMUlEwQkEwQWdBU0FESUFBUUZTQUlhaUVCSUFNZ0JHb2hBeUFMUVg5cUlnc05BQXNNQVFzQ1FDQUpSUTBBSUExRkJFQURRQ0FBSVFjZ0FTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQVNBSWFpRUJJQWxCZjJvaUNRMEFEQUlBQ3dBTElBRWdEbW9oQmdOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0JpRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQmlBSWFpRUdJQUVnQ0dvaEFTQUpRWDlxSWdrTkFBc0xJQXRGRFFBZ0RVVUVRQU5BSUFBaEJ5QUJJUUlnQXlFRklBQUVRQU5BSUFJZ0JTMEFBRG9BQUNBQ1FRRnFJUUlnQlVFQmFpRUZJQWRCZjJvaUJ3MEFDd3NnQ2dSQUlBSWdCVUYvYWkwQUFDQUtFQWNhQ3lBQklBaHFJUUVnQXlBRWFpRURJQXRCZjJvaUN3MEFEQUlBQ3dBTElBRWdEbW9oQ1FOQUlBRWdBeTBBQUNBTkVBY2hBU0FBSVFjZ0NTRUNJQU1oQlNBQUJFQURRQ0FDSUFVdEFBQTZBQUFnQWtFQmFpRUNJQVZCQVdvaEJTQUhRWDlxSWdjTkFBc0xJQW9FUUNBQ0lBVkJmMm90QUFBZ0NoQUhHZ3NnQ0NBSmFpRUpJQUVnQ0dvaEFTQURJQVJxSVFNZ0MwRi9haUlMRFFBTEN3SkFJQTlGRFFBZ0F5QUVheUVESUJCRkJFQURRQ0FCSUFNZ0FCQVZJQWhxSVFFZ0RFRi9haUlNRFFBTUFnQUxBQXNnRFVVRVFBTkFJQU1oQWlBQklRVWdBQ0VISUFBRVFBTkFJQVVnQWkwQUFEb0FBQ0FGUVFGcUlRVWdBa0VCYWlFQ0lBZEJmMm9pQncwQUN3c2dDZ1JBSUFVZ0FrRi9haTBBQUNBS0VBY2FDeUFCSUFocUlRRWdERUYvYWlJTURRQU1BZ0FMQUFzZ0FTQU9haUVKQTBBZ0FTQURMUUFBSUEwUUJ5RUJJQUFoQnlBSklRSWdBeUVGSUFBRVFBTkFJQUlnQlMwQUFEb0FBQ0FDUVFGcUlRSWdCVUVCYWlFRklBZEJmMm9pQncwQUN3c2dDZ1JBSUFJZ0JVRi9haTBBQUNBS0VBY2FDeUFJSUFscUlRa2dBU0FJYWlFQklBeEJmMm9pREEwQUN3c0w5QUlCQTM4Z0FVRURkRUh3Tm1vaUF5Z0NBQ0VGSUFNdEFBUWhBeUFCUVFOMFFiQTFhaUlCTFFBRUlRUUNRQ0FCS0FJQVFRUkdCRUFnQWlBRVFRRjBhaTRCQUNFQklBVkJCRVlFUUNBQklBSWdBMEVCZEdvdUFRQnFRUUZxUVFGMUR3c0NmeUFBS0FMTUFTSUNCRUFnQUNnQ0JDQUNLQUlFUmd3QkMwRUFDMFVOQVNBQklBQW9Bc3dCSUFOQkFYUnFMZ0VjYWtFQmFrRUJkUThMSUFWQkJFWUVRQ0FDSUFOQkFYUnFMZ0VBSVFFQ2Z5QUFLQUxJQVNJQ0JFQWdBQ2dDQkNBQ0tBSUVSZ3dCQzBFQUMwVU5BU0FCSUFBb0FzZ0JJQVJCQVhScUxnRWNha0VCYWtFQmRROExBbjhDZnlBQUtBTElBU0lCQkVBZ0FDZ0NCQ0FCS0FJRVJnd0JDMEVBQzBVRVFFRUFJUUpCQUF3QkMwRUJJUUlnQUNnQ3lBRWdCRUVCZEdvdUFSd0xJUUVDZnlBQUtBTE1BU0lFQkVBZ0FDZ0NCQ0FFS0FJRVJnd0JDMEVBQzBVTkFDQUFLQUxNQVNBRFFRRjBhaTRCSENFQUlBSkZCRUFnQUE4TElBQWdBV3BCQVdwQkFYVWhBUXNnQVF1SkJ3RUhmeUFESUFWcUlnMGdBUzRCQUNJTVFRSjFhaUVESUFRZ0Jtb2lEaUFCTGdFQ0lnOUJBblZxSVFRZ0FpZ0NDRUVFZENFSklBSW9BZ1JCQkhRaENpQUFJQVpCQkhScUlBVnFJUXNDUUNBTVFRTnhRUVIwSUE5QkEzRkJBblJ5UWRBN2FpZ0NBQ0lNUVE1TkJFQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnREVFQmF3NE9BUUlEQkFVR0J3Z0pDZ3NNRFE0QUN5QUNLQUlBSUFzZ0F5QUVJQW9nQ1NBSElBaEJFQkFNREE4TElBSW9BZ0FnQ3lBRElBUkJmbW9nQ2lBSklBY2dDRUVBRUNRTURnc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJRUVjTURRc2dBaWdDQUNBTElBTWdCRUYrYWlBS0lBa2dCeUFJUVFFUUpBd01DeUFDS0FJQUlBc2dBMEYrYWlBRUlBb2dDU0FISUFoQkFCQWpEQXNMSUFJb0FnQWdDeUFEUVg1cUlBUkJmbW9nQ2lBSklBY2dDRUVBRUJvTUNnc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRQVFJUXdKQ3lBQ0tBSUFJQXNnQTBGK2FpQUVRWDVxSUFvZ0NTQUhJQWhCQWhBYURBZ0xJQUlvQWdBZ0N5QURRWDVxSUFRZ0NpQUpJQWNnQ0JCR0RBY0xJQUlvQWdBZ0N5QURRWDVxSUFSQmZtb2dDaUFKSUFjZ0NFRUFFQ0lNQmdzZ0FpZ0NBQ0FMSUFOQmZtb2dCRUYrYWlBS0lBa2dCeUFJRUVVTUJRc2dBaWdDQUNBTElBTkJmbW9nQkVGK2FpQUtJQWtnQnlBSVFRRVFJZ3dFQ3lBQ0tBSUFJQXNnQTBGK2FpQUVJQW9nQ1NBSElBaEJBUkFqREFNTElBSW9BZ0FnQ3lBRFFYNXFJQVJCZm1vZ0NpQUpJQWNnQ0VFQkVCb01BZ3NnQWlnQ0FDQUxJQU5CZm1vZ0JFRithaUFLSUFrZ0J5QUlRUUVRSVF3QkN5QUNLQUlBSUFzZ0EwRithaUFFUVg1cUlBb2dDU0FISUFoQkF4QWFDeUFOUVFGMklBRXVBUUFpQ1VFRGRXb2hBeUFPUVFGMklBRXVBUUlpQVVFRGRXb2hCQ0FDS0FJQUlBSW9BZ1FpQ2lBQ0tBSUlJZ3RzUVFoMGFpRUNJQUFnQmtFQ2RFRjRjV29nQlVFQmRtcEJnQUpxSVFVZ0NFRUJkaUVHSUFkQkFYWWhCeUFCUVFkeElRZ2dDMEVEZENFQUlBcEJBM1FoQVFKQUlBbEJCM0VpQ1VVTkFDQUlSUTBBSUFJZ0JTQURJQVFnQVNBQUlBa2dDQ0FISUFZUVNBOExJQWtFUUNBQ0lBVWdBeUFFSUFFZ0FDQUpJQWNnQmhCTER3c2dDQVJBSUFJZ0JTQURJQVFnQVNBQUlBZ2dCeUFHRUVvUEN5QUNJQVVnQXlBRUlBRWdBQ0FISUFaQkNCQU1JQUlnQUNBQmJHb2dCVUZBYXlBRElBUWdBU0FBSUFjZ0JrRUlFQXdMeHdFQkJIOGdBQ2dDQkNFQ0FrQWdBQ2dDREVFRGRDQUFLQUlRYXlJRFFTQk9CRUFnQWlnQUFDSUJRUmgwSUFGQkNIUkJnSUQ4QjNGeUlBRkJDSFpCZ1A0RGNTQUJRUmgyY25JaEFTQUFLQUlJSWdCRkRRRWdBU0FBZENBQ0xRQUVRUWdnQUd0MmNnOExJQU5CQVVnRVFFRUFEd3NnQWkwQUFDQUFLQUlJSWdCQkdHb2lCSFFoQVNBQUlBTnFRWGhxSWdCQkFVZ05BQU5BSUFJdEFBRWdCRUY0YWlJRWRDQUJjaUVCSUFCQkNFb2hBeUFDUVFGcUlRSWdBRUY0YWlFQUlBTU5BQXNMSUFFTGpBUUJCMzhDUUNBQVFYOXFJZ2d0QUFBaUJTQUFMUUFBSWdacklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJRVR3MEFJQUJCZm1vdEFBQWlCQ0FGYXlJSElBZEJIM1VpQjJvZ0IzTWdBaWdDQ0NJSlR3MEFJQUF0QUFFaUJ5QUdheUlLSUFwQkgzVWlDbW9nQ25NZ0NVOE5BQ0FCUVFOTkJFQWdDQ0FGSUFFZ0FpZ0NBR3BCZjJvdEFBQWlDRUYvY3lJSklBaEJBV29pQ0NBR0lBVnJRUUowSUFkcklBUnFRUVJxUVFOMUlnVWdCU0FJU2hzZ0JTQUpTQnNpQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFGYTBHd0xtb3RBQUE2QUFBTUFRc2dDQ0FGSUFkcUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFBZ0JpQUhRUUYwYWlBRWFrRUNha0VDZGpvQUFBc0NRQ0FBSUFOcUlnQkJmMm9pQnkwQUFDSURJQUF0QUFBaUJXc2lCaUFHUVI5MUlnWnFJQVp6SUFJb0FnUlBEUUFnQUVGK2FpMEFBQ0lHSUFOcklnUWdCRUVmZFNJRWFpQUVjeUFDS0FJSUlnaFBEUUFnQUMwQUFTSUVJQVZySWdrZ0NVRWZkU0lKYWlBSmN5QUlUdzBBSUFGQkEwMEVRQ0FISUFFZ0FpZ0NBR3BCZjJvdEFBQWlBVUYvY3lJQ0lBRkJBV29pQnlBRklBTnJRUUowSUFScklBWnFRUVJxUVFOMUlnRWdBU0FIU2hzZ0FTQUNTQnNpQVNBRGFrR3dMbW90QUFBNkFBQWdBQ0FGSUFGclFiQXVhaTBBQURvQUFBOExJQWNnQXlBRWFpQUdRUUYwYWtFQ2FrRUNkam9BQUNBQUlBVWdCRUVCZEdvZ0JtcEJBbXBCQW5ZNkFBQUxDMGNBQWtBZ0FVRUVUUVJBQWtBQ1FBSkFBa0FnQVVFQmF3NEVBUUlEQlFBTElBQW9Bc2dCRHdzZ0FDZ0N6QUVQQ3lBQUtBTFFBUThMSUFBb0F0UUJEd3RCQUNFQUN5QUFDNlVEQVF0L1FRQWdBMnNpQzBFQmRDRUVJQUVnQWlnQ0FHcEJmMm90QUFBaUFVRUJhaUVKSUFGQmYzTWhDZ0pBSUFBZ0Eyc2lCeTBBQUNJRklBQXRBQUFpQm1zaUFTQUJRUjkxSWdGcUlBRnpJQUlvQWdRaUFVOE5BQ0FBSUFScUxRQUFJZzBnQldzaUNDQUlRUjkxSWdocUlBaHpJQUlvQWdnaUNFOE5BQ0FBSUFOcUxRQUFJZzRnQm1zaURDQU1RUjkxSWd4cUlBeHpJQWhQRFFBZ0J5QUtJQWtnQmlBRmEwRUNkQ0FPYXlBTmFrRUVha0VEZFNJQklBRWdDVW9iSUFFZ0NrZ2JJZ0VnQldwQnNDNXFMUUFBT2dBQUlBQWdCaUFCYTBHd0xtb3RBQUE2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJBV29pQlNBTGFpSUxMUUFBSWdZZ0FDMEFBU0lBYXlJSElBZEJIM1VpQjJvZ0IzTWdBVThOQUNBRUlBVnFMUUFBSWdFZ0Jtc2lCQ0FFUVI5MUlnUnFJQVJ6SUFJb0FnZ2lBazhOQUNBRElBVnFMUUFBSWdNZ0FHc2lCQ0FFUVI5MUlnUnFJQVJ6SUFKUERRQWdDeUFLSUFrZ0FDQUdhMEVDZENBRGF5QUJha0VFYWtFRGRTSUJJQUVnQ1VvYklBRWdDa2diSWdFZ0JtcEJzQzVxTFFBQU9nQUFJQVVnQUNBQmEwR3dMbW90QUFBNkFBQUxDMFFCQW44L0FDRUJBa0JCc01RQUtBSUFJZ0lnQUVFRGFrRjhjV29pQUNBQlFSQjBUUTBBSUFBUUFRMEFRYkRBQUVFd05nSUFRWDhQQzBHd3hBQWdBRFlDQUNBQ0N6UUJBWDhDUUNBQlFSQkxEUUFnQUNnQ0JDQUJRUUowYWlnQ0FDSUFSUTBBSUFBb0FoUkJBa2tOQUNBQUtBSUFJUUlMSUFJTGdnUUJBMzhnQWtHQUJFOEVRQ0FBSUFFZ0FoQUFHaUFBRHdzZ0FDQUNhaUVEQWtBZ0FDQUJjMEVEY1VVRVFBSkFJQUpCQVVnRVFDQUFJUUlNQVFzZ0FFRURjVVVFUUNBQUlRSU1BUXNnQUNFQ0EwQWdBaUFCTFFBQU9nQUFJQUZCQVdvaEFTQUNRUUZxSWdJZ0EwOE5BU0FDUVFOeERRQUxDd0pBSUFOQmZIRWlCRUhBQUVrTkFDQUNJQVJCUUdvaUJVc05BQU5BSUFJZ0FTZ0NBRFlDQUNBQ0lBRW9BZ1EyQWdRZ0FpQUJLQUlJTmdJSUlBSWdBU2dDRERZQ0RDQUNJQUVvQWhBMkFoQWdBaUFCS0FJVU5nSVVJQUlnQVNnQ0dEWUNHQ0FDSUFFb0FodzJBaHdnQWlBQktBSWdOZ0lnSUFJZ0FTZ0NKRFlDSkNBQ0lBRW9BaWcyQWlnZ0FpQUJLQUlzTmdJc0lBSWdBU2dDTURZQ01DQUNJQUVvQWpRMkFqUWdBaUFCS0FJNE5nSTRJQUlnQVNnQ1BEWUNQQ0FCUVVCcklRRWdBa0ZBYXlJQ0lBVk5EUUFMQ3lBQ0lBUlBEUUVEUUNBQ0lBRW9BZ0EyQWdBZ0FVRUVhaUVCSUFKQkJHb2lBaUFFU1EwQUN3d0JDeUFEUVFSSkJFQWdBQ0VDREFFTElBTkJmR29pQkNBQVNRUkFJQUFoQWd3QkN5QUFJUUlEUUNBQ0lBRXRBQUE2QUFBZ0FpQUJMUUFCT2dBQklBSWdBUzBBQWpvQUFpQUNJQUV0QUFNNkFBTWdBVUVFYWlFQklBSkJCR29pQWlBRVRRMEFDd3NnQWlBRFNRUkFBMEFnQWlBQkxRQUFPZ0FBSUFGQkFXb2hBU0FDUVFGcUlnSWdBMGNOQUFzTElBQUx3UmdCSUg4akFFSFFBMnNpQmlRQUlBRW9BZ2doRkNBQklBRW9BZ1FpQ2lBQ2JDSWFJQU5xRUIwZ0FTZ0NBQ0VKSUFCQkFEWUNDQ0FBUWlnM0FoUWdBRUlBTndJTUlBQkJCallDQUNBRFFRUjBJUWNDUUFKQUFrQWdCRUYrYWlJRVFRVkxEUUFDUUNBRVFRRnJEZ1FCQVFFQkFBc01BUXNnQmtFQU5nSU1JQVlnRkRZQ0dDQUdJQW8yQWhRZ0JpQUZOZ0lRSUFVRVFDQUdRZEFBYWlBR1FReHFJQVpCRUdvZ0J5QUNRUVIwUVFCQkFFRVFRUkFRRGd3Q0N3c2dCa0hRQUdwQkFFR0FBeEFIR2lBSklCcEJDSFJxSUFkcUlRd2dCa0lBTndOSUlBWkJRR3RDQURjREFDQUdRZ0EzQXpnZ0JrSUFOd013SUFaQ0FEY0RLQ0FHUWdBM0F5QWdCa0lBTndNWUlBWkNBRGNERUVFQUlRa0NmMEVBSUFKRkRRQWFRUUFnQUVFQUlBcHJRZGdCYkdvb0FzUUJSUTBBR2lBR0lBd2dDa0VFZEdzaUJDMEFCU0FFTFFBRWFpQUVMUUFHYWlBRUxRQUhhaUlYSUFRdEFBTWdCQzBBQWlBRUxRQUJJQVF0QUFCcWFtb2lGbW9pQlNBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSWFtcHFJaEpySUFRdEFBOGdCQzBBRGlBRUxRQU5JQVF0QUF4cWFtb2lFMnNpQ0RZQ0ZDQUdJQVVnRW1vZ0Uyb2lDVFlDRUVFQkN5RUZBbjhDUUNBQ0lCUkJmMnBIQkVBZ0FDQUtRZGdCYkdvb0FzUUJEUUVMSUFVTUFRc2dCaUFNSUFwQkNIUnFJZ0l0QUFVZ0FpMEFCR29nQWkwQUJtb2dBaTBBQjJvaUhpQUNMUUFESUFJdEFBSWdBaTBBQVNBQ0xRQUFhbXBxSWg5cUlnUWdBaTBBQ3lBQ0xRQUtJQUl0QUFrZ0FpMEFDR3BxYWlJWWF5QUNMUUFQSUFJdEFBNGdBaTBBRFNBQ0xRQU1hbXBxSWhscklBaHFJZ2cyQWhRZ0JpQUVJQmhxSUFscUlCbHFJZ2syQWhCQkFTRVFJQVZCQVdvTElRZEJBQ0VFQW44Q1FDQURSUTBBSUFCQmJHb29BZ0JGRFFBZ0JpQU1RWDlxSWdJZ0NrRUdkQ0lPYWlJRUlBcEJCSFFpQzJvdEFBQWdCQzBBQUdvZ0JDQUtRUVYwSWc5cUxRQUFhaUFFSUFwQk1Hd2lEV290QUFCcUloc2dBaUFOYWkwQUFDQUNJQTlxTFFBQUlBSWdDMm90QUFBZ0FpMEFBR3BxYWlJY2FpSVJJQVFnRG1vaUFpQUxhaTBBQUNBQ0xRQUFhaUFDSUE5cUxRQUFhaUFDSUExcUxRQUFhaUlWYXlBQ0lBNXFJZ0lnQzJvdEFBQWdBaTBBQUdvZ0FpQVBhaTBBQUdvZ0FpQU5haTBBQUdvaUQyc2lCRFlDSUNBR0lCRWdGV29nQ1dvZ0Qyb2lDVFlDRUNBSFFRRnFJUXRCQVF3QkN5QUhJUXRCQUFzaEFnSkFBa0FDUUFKQUFrQUNRQ0FESUFwQmYycEhCRUFnQUNnQ25BTU5BUXRCQUNFT0lBSkJBRWNoRVNBSERRRU1BZ3NnQmlBRUlBeEJFR29pQkNBS1FRWjBJaDFxSWdBZ0NrRUVkQ0lOYWkwQUFDQUFMUUFBYWlBQUlBcEJCWFFpRG1vdEFBQnFJQUFnQ2tFd2JDSVJhaTBBQUdvaUlDQUVJQkZxTFFBQUlBUWdEbW90QUFBZ0JDQU5haTBBQUNBTUxRQVFhbXBxSWlGcUlpSWdBQ0FkYWlJQUlBMXFMUUFBSUFBdEFBQnFJQUFnRG1vdEFBQnFJQUFnRVdvdEFBQnFJZ3hySUFBZ0hXb2lBQ0FOYWkwQUFDQUFMUUFBYWlBQUlBNXFMUUFBYWlBQUlCRnFMUUFBYWlJTmEyb2lCRFlDSUNBR0lBd2dJbW9nQ1dvZ0RXb2lDVFlDRUNBQ1FRQkhJUkZCQVNFT0lBSkJBV29oQUNBTFFRRnFJUXNDUUNBSERRQWdBa1VOQUNBR0lCc2dIR29nRldvZ0Qyb2dJV3NnSUdzZ0RHc2dEV3RCQlhVaUNEWUNGQXdEQ3lBSFJRMENJQUFoQWdzZ0JpQUlJQWRCQTJwMUlnZzJBaFFMQWtBZ0VFVU5BQ0FGUlEwQUlBSU5BQ0FHSUJZZ0Yyb2dFbW9nRTJvZ0dXc2dHR3NnSG1zZ0gydEJCWFVpQkRZQ0lFRUJJUkJCQVNFTkRBTUxJQkJCQUVjaEVDQUZRUUJISVEwZ0FrVU5BZ3dCQ3lBUVFRQkhJUkFnQlVFQVJ5RU5JQUFoQWdzZ0JpQUVJQUpCQTJwMUlnUTJBaUFMSUFZQ2Z5QUxRWDlxSWdCQkFrMEVRQUpBQWtBQ1FDQUFRUUZyRGdJQkFnQUxJQWxCQkhZTUF3c2dDVUVGZGd3Q0N5QUpRUlZzUVFwMURBRUxJQWxCQm5ZTElnQTJBaEFDUUNBRUlBaHlSUVJBSUFZZ0FEWUNTQ0FHSUFBMkFrd2dCaUFBTmdKRUlBWWdBRFlDUUNBR0lBQTJBandnQmlBQU5nSTRJQVlnQURZQ05DQUdJQUEyQWpBZ0JpQUFOZ0lzSUFZZ0FEWUNLQ0FHSUFBMkFpUWdCaUFBTmdJZ0lBWWdBRFlDSENBR0lBQTJBaGdnQmlBQU5nSVVEQUVMSUFZZ0FDQUlhaUlGSUFSck5nSkFJQVlnQlNBRVFRRjFJZ0pyTmdJd0lBWWdBaUFGYWpZQ0lDQUdJQVFnQldvMkFoQWdCaUFBSUFocklnVWdCR3MyQWt3Z0JpQUZJQUpyTmdJOElBWWdBaUFGYWpZQ0xDQUdJQVFnQldvMkFod2dCaUFBSUFoQkFYVWlCMm9pQlNBRWF6WUNSQ0FHSUFVZ0FtczJBalFnQmlBQ0lBVnFOZ0lrSUFZZ0JDQUZhallDRkNBR0lBQWdCMnNpQUNBRWF6WUNTQ0FHSUFBZ0FtczJBamdnQmlBQUlBSnFOZ0lvSUFZZ0FDQUVhallDR0FzZ0JrSFFBR29oQ0NBR1FSQnFJUUJCQUNFRUEwQWdDQ0FBSUFSQkRIRnFLQUlBSWdKQi93RWdBa0gvQVVnYklnSkJBQ0FDUVFCS0d6b0FBQ0FBSUFCQkVHb2dCRUVCYWlJRVFUOXhHeUVBSUFoQkFXb2hDQ0FFUVlBQ1J3MEFDeUFCS0FJQUlBb2dGR3dpQUVFSWRHb2dHa0VHZEdvZ0EwRURkR29oQXlBS1FRUjBJUXdnQ2tFR2RDRWFJQUJCQm5RaEhVRUFJQXBCQTNRaUMyc2hJQ0FHUWRBQ2FpRWhJQVpCUUdzaElrRUFJUVVEUUNBR1FnQTNBMGdnSWtJQU53TUFJQVpDQURjRE9DQUdRZ0EzQXpBZ0JrSUFOd01vSUFaQ0FEY0RJQ0FHUWdBM0F4Z2dCa0lBTndNUVFRQWhDRUVBSVFSQkFDRUpJQTBFUUNBR0lBTWdJR29pQUMwQUF5QUFMUUFDYWlJWElBQXRBQUVnQUMwQUFHb2lGbW9pQWlBQUxRQUZJQUF0QUFScUloSnJJQUF0QUFjZ0FDMEFCbW9pRTJzaUNEWUNGQ0FHSUFJZ0Vtb2dFMm9pQkRZQ0VFRUJJUWtMSUJBRVFDQUdJQU1nR21vaUFDMEFBeUFBTFFBQ2FpSWVJQUF0QUFFZ0FDMEFBR29pSDJvaUFpQUFMUUFGSUFBdEFBUnFJaGhySUFBdEFBY2dBQzBBQm1vaUdXc2dDR29pQ0RZQ0ZDQUdJQUlnR0dvZ0JHb2dHV29pQkRZQ0VDQUpRUUZxSVFrTFFRQWhBQUovSUJGRkJFQWdDU0VIUVFBTUFRc2dCaUFEUVg5cUlnQWdER29pQWlBTGFpMEFBQ0FDTFFBQWFpSWJJQUFnQzJvdEFBQWdBQzBBQUdvaUhHb2lCeUFDSUF4cUlnQWdDMm90QUFBZ0FDMEFBR29pRldzZ0FDQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlnOXJJZ0EyQWlBZ0JpQUhJQlZxSUFScUlBOXFJZ1EyQWhBZ0NVRUJhaUVIUVFFTElRSUNRQ0FHQW44Q1FBSkFBa0FnRGtVRVFDQUpEUUVNQWdzZ0JpQUFJQU5CQ0dvaUNpQU1haUlBSUF0cUxRQUFJQUF0QUFCcUlpTWdDaUFMYWkwQUFDQURMUUFJYWlJa2FpSWxJQUFnREdvaUFDQUxhaTBBQUNBQUxRQUFhaUlLYXlBQUlBeHFJZ0FnQzJvdEFBQWdBQzBBQUdvaUZHdHFJZ0EyQWlBZ0JpQUtJQ1ZxSUFScUlCUnFJZ1EyQWhBZ0FrRUJhaUVDSUFkQkFXb2hCeUFSUVFGeklBbEJBRWR5UlFSQUlBWWdHeUFjYWlBVmFpQVBhaUFrYXlBamF5QUtheUFVYTBFRWRTSUlOZ0lVREFNTElBbEZEUUlMSUFZZ0NDQUpRUUpxZFNJSU5nSVVDeUFXSUJkcUlCSnFJQk5xSUJscklCaHJJQjVySUI5clFRUjFJQkFnRFNBQ1JYRnhRUUZHRFFFYUlBSkZEUUlMSUFBZ0FrRUNhblVMSWdBMkFpQUxJQVlDZnlBSFFYOXFJZ0pCQWswRVFBSkFBa0FDUUNBQ1FRRnJEZ0lCQWdBTElBUkJBM1lNQXdzZ0JFRUVkZ3dDQ3lBRVFSVnNRUWwyREFFTElBUkJCWFlMSWdRMkFoQUNRQ0FBSUFoeVJRUkFJQVlnQkRZQ1NDQUdJQVEyQWt3Z0JpQUVOZ0pFSUFZZ0JEWUNRQ0FHSUFRMkFqd2dCaUFFTmdJNElBWWdCRFlDTkNBR0lBUTJBakFnQmlBRU5nSXNJQVlnQkRZQ0tDQUdJQVEyQWlRZ0JpQUVOZ0lnSUFZZ0JEWUNIQ0FHSUFRMkFoZ2dCaUFFTmdJVURBRUxJQVlnQkNBSWFpSUhJQUJyTmdKQUlBWWdCeUFBUVFGMUlnSnJOZ0l3SUFZZ0FpQUhhallDSUNBR0lBQWdCMm8yQWhBZ0JpQUVJQWhySWdjZ0FHczJBa3dnQmlBSElBSnJOZ0k4SUFZZ0FpQUhhallDTENBR0lBQWdCMm8yQWh3Z0JpQUVJQWhCQVhVaUNXb2lCeUFBYXpZQ1JDQUdJQWNnQW1zMkFqUWdCaUFDSUFkcU5nSWtJQVlnQUNBSGFqWUNGQ0FHSUFRZ0NXc2lCQ0FBYXpZQ1NDQUdJQVFnQW1zMkFqZ2dCaUFDSUFScU5nSW9JQVlnQUNBRWFqWUNHQXNnSVNBRlFRWjBhaUVJUVFBaEFDQUdRUkJxSVFRRFFDQUlJQVFnQUVFQmRFRU1jV29vQWdBaUFrSC9BU0FDUWY4QlNCc2lBa0VBSUFKQkFFb2JPZ0FBSUFRZ0JFRVFhaUFBUVFGcUlnQkJEM0ViSVFRZ0NFRUJhaUVJSUFCQndBQkhEUUFMSUFNZ0hXb2hBeUFGUVFGcUlnVkJBa2NOQUFzTElBRWdCa0hRQUdvUUd5QUdRZEFEYWlRQUN6WUFJQUlFUUNBQUlBRVFBZzhMUVFFaEFpQUJJQUJCQVJBRElnQTJBZ0FnQUVGL1J3Ui9JQUVnQUVFQmN6WUNBRUVBQlVFQkN3dk1Bd0VTZnlBRFFRRjBJUThnQTBGOWJDRVFRUUFnQTJzaUVVRUJkQ0VTSUFFZ0FpZ0NBR3BCZjJvdEFBQWlCMEVCYWlFVFFRQWdCMnNoQ2tFRUlRRURRQUpBSUFBZ0VXb2lGQzBBQUNJRklBQXRBQUFpQ0dzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdSUERRQWdBQ0FTYWlJTExRQUFJZ3dnQldzaUJDQUVRUjkxSWdScUlBUnpJQUlvQWdnaUJrOE5BQ0FBSUFOcUloVXRBQUFpRFNBSWF5SUVJQVJCSDNVaUJHb2dCSE1nQms4TkFDQUhJUVFnQUNBUWFpMEFBQ0lKSUFWcklnNGdEa0VmZFNJT2FpQU9jeUFHU1FSQUlBc2dEQ0FLSUFjZ0JTQUlha0VCYWtFQmRpQU1RUUYwYXlBSmFrRUJkU0lFSUFRZ0Iwb2JJQVFnQ2tnYmFqb0FBQ0FDS0FJSUlRWWdFeUVFQ3lBVUlBVUNmeUFBSUE5cUxRQUFJZ3NnQ0dzaUNTQUpRUjkxSWdscUlBbHpJQVpKQkVBZ0ZTQU5JQW9nQnlBRklBaHFRUUZxUVFGMklBMUJBWFJySUF0cVFRRjFJZ1lnQmlBSFNoc2dCaUFLU0J0cU9nQUFJQVJCQVdvaEJBdEJBQ0FFYXlJR0N5QUVJQWdnQld0QkFuUWdEV3NnREdwQkJHcEJBM1VpQlNBRklBUktHeUFGSUFaSUd5SUVha0d3TG1vdEFBQTZBQUFnQUNBSUlBUnJRYkF1YWkwQUFEb0FBQXNnQUVFQmFpRUFJQUZCZjJvaUFRMEFDd3Y3QmdFT2Z5QUNLQUlJSVFvZ0FpZ0NCQ0VQQWtBZ0FVRUVUd1JBSUE5QkFuWkJBbW9oRUVFRUlRSURRQUpBSUFCQmYyb2lCUzBBQUNJSElBQXRBQUFpQ0dzaUFTQUJRUjkxSWdGcUlBRnpJZzBnRDA4TkFDQUFRWDVxSWc0dEFBQWlBU0FIYXlJRUlBUkJIM1VpQkdvZ0JITWdDazhOQUNBQUxRQUJJZ2tnQ0dzaUJDQUVRUjkxSWdScUlBUnpJQXBQRFFBQ1FDQU5JQkJKQkVBZ0FDMEFBaUVMQW44Z0FFRjlhaUlOTFFBQUlnUWdCMnNpQmlBR1FSOTFJZ1pxSUFaeklBcEpCRUJCQXlFR0lBVWdDU0FISUFocUlBRnFJZ1ZCQVhScUlBUnFRUVJxUVFOMk9nQUFJQTRnQkNBRmFrRUNha0VDZGpvQUFDQUVRUU5zSVE0Z0JVRUVhaUVNSUFCQmZHb3RBQUFNQVFzZ0J5QUphaUVNUVFJaERrRUNJUVlnQlNFTklBRUxJUVFnRFNBTUlBNXFJQVJCQVhScUlBWjJPZ0FBSUFzZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFwUERRRWdBQ0FISUFscUlBaHFJZ1VnQzJwQkFtcEJBblk2QUFFZ0FDQUZJQXRCQTJ4cUlBQXRBQU5CQVhScVFRUnFRUU4yT2dBQ0lBQWdBU0FGUVFGMGFpQUxha0VFYWtFRGRqb0FBQXdDQ3lBRklBY2dDV29nQVVFQmRHcEJBbXBCQW5ZNkFBQUxJQUFnQVNBSWFpQUpRUUYwYWtFQ2FrRUNkam9BQUFzZ0FDQURhaUVBSUFKQmYyb2lBZzBBQ3d3QkN5QUJJQUlvQWdCcVFYOXFMUUFBSWdWQkFXb2hEVUVBSUFWcklRaEJCQ0VDQTBBQ1FDQUFRWDlxSWc0dEFBQWlCQ0FBTFFBQUlnZHJJZ0VnQVVFZmRTSUJhaUFCY3lBUFR3MEFJQUJCZm1vaURDMEFBQ0lKSUFScklnRWdBVUVmZFNJQmFpQUJjeUFLVHcwQUlBQXRBQUVpQ3lBSGF5SUJJQUZCSDNVaUFXb2dBWE1nQ2s4TkFDQUFMUUFDSVFZZ0JTRUJJQUJCZldvdEFBQWlFQ0FFYXlJUklCRkJIM1VpRVdvZ0VYTWdDa2tFUUNBTUlBa2dDQ0FGSUFRZ0IycEJBV3BCQVhZZ0NVRUJkR3NnRUdwQkFYVWlBU0FCSUFWS0d5QUJJQWhJRzJvNkFBQWdEU0VCQ3lBT0lBUUNmeUFHSUFkcklnd2dERUVmZFNJTWFpQU1jeUFLU1FSQUlBQWdDeUFJSUFVZ0JDQUhha0VCYWtFQmRpQUxRUUYwYXlBR2FrRUJkU0lHSUFZZ0JVb2JJQVlnQ0VnYmFqb0FBU0FCUVFGcUlRRUxRUUFnQVdzaUJnc2dBU0FKSUF0cklBY2dCR3RCQW5ScVFRUnFRUU4xSWdRZ0JDQUJTaHNnQkNBR1NCc2lBV3BCc0M1cUxRQUFPZ0FBSUFBZ0J5QUJhMEd3TG1vdEFBQTZBQUFMSUFBZ0Eyb2hBQ0FDUVg5cUlnSU5BQXNMQzlvSEFRMS9Jd0JCd0FOckloRWtBQ0FHUVFWcUlRa0NRQUpBSUFKQkFFZ05BQ0FEUVFCSURRQWdBaUFKYWlBRVN3MEFJQU1nQjJwQkJXb2dCVXNOQUNBRUlRa2dBeUVLREFFTElBQWdFU0FDSUFNZ0JDQUZJQWtnQjBFRmFpQUpFQXdnRVNFQVFRQWhBZ3NDUUNBSFJRMEFJQUFnQ1NBS2JDQUNhbW9oRTBFUUlBWnJJUlFDUUNBR1FRSjJJaElFUUNBSklBWnJJUlVnRXlBSklBaEJBWFpCQVhGQkFuSnNha0VGYWlFQ0lBY2hCQU5BSUFKQmYyb3RBQUFoQUNBQ1FYNXFMUUFBSVFNZ0FrRjlhaTBBQUNFRklBSkJmR290QUFBaEN5QUNRWHRxTFFBQUlRMGdFaUVQQTBBZ0FTQUNMUUFBSWdvZ0RTQUFJQXRxSWd4cklBTWdCV3BCRkd4cUlBeEJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQUFnQVNBQ0xRQUJJZ3dnQ3lBQUlBTnFRUlJzYWlBRklBcHFJZ3RySUF0QkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBRWdBU0FDTFFBQ0loQWdCU0FBSUFwcVFSUnNhaUFESUF4cUlnVnJJQVZCQW5ScmFrRVFha0VGZFVHd0xtb3RBQUE2QUFJZ0FTQUNMUUFESWc0Z0F5QUtJQXhxUVJSc2FpQUFJQkJxSWdOcklBTkJBblJyYWtFUWFrRUZkVUd3TG1vdEFBQTZBQU1nQVVFRWFpRUJJQUpCQkdvaEFpQUFJUTBnQ2lFTElBd2hCU0FRSVFNZ0RpRUFJQTlCZjJvaUR3MEFDeUFCSUJScUlRRWdBaUFWYWlFQ0lBUkJmMm9pQkEwQUN3d0JDeUFIUVg5cUlCUnNJQVpySUFGcVFSQnFJUUVMSUFkQkFuWWlCRVVOQUVIQUFDQUdheUVRSUFsQkFYUWhDaUFKUVFKMElBWnJJUXRCQUNBSmF5SU1RUUYwSVJJZ0FTQUhRUVIwYXlFQ0lBa2dFMm9nQ0VFQmNXcEJBbW9pQUNBSlFRVnNhaUVCQTBBZ0JpSURCRUFEUUNBQ0lBQWdDbW90QUFBaUJTQUJJQXBxTFFBQUlBRWdDV290QUFBaURpQUJJQkpxTFFBQUlnZHFJZ2hySUFoQkFuUnJhaUFCTFFBQUlnMGdBU0FNYWkwQUFDSUlha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQUl0QURCcVFRRnFRUUYyT2dBd0lBSWdBQ0FKYWkwQUFDSVBJQTRnQnlBSWFrRVViR29nQlNBTmFpSU9heUFPUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFDQnFRUUZxUVFGMk9nQWdJQUlnQUMwQUFDSU9JQTBnQlNBSGFrRVViR29nQ0NBUGFpSU5heUFOUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBSUFJdEFCQnFRUUZxUVFGMk9nQVFJQUlnQUNBTWFpMEFBQ0FJSUFVZ0QycEJGR3hxSUFjZ0Rtb2lCV3NnQlVFQ2RHdHFRUkJxUVFWMVFiQXVhaTBBQUNBQ0xRQUFha0VCYWtFQmRqb0FBQ0FBUVFGcUlRQWdBa0VCYWlFQ0lBRkJBV29oQVNBRFFYOXFJZ01OQUFzTElBSWdFR29oQWlBQklBdHFJUUVnQUNBTGFpRUFJQVJCZjJvaUJBMEFDd3NnRVVIQUEyb2tBQXUxQlFFRWZ5QUFLQUlVSVFNZ0FDZ0NFQ0VFSUFBb0FnUWhCU0FBS0FJTUlnSWdBU2tDQURjQ0FDQUNJQUVwQWdnM0FnZ2dBaUFGUVFSMElnQnFJZ0lnQVNrQ0VEY0NBQ0FDSUFFcEFoZzNBZ2dnQUNBQ2FpSUNJQUVwQWlBM0FnQWdBaUFCS1FJb053SUlJQUFnQW1vaUFpQUJLUUl3TndJQUlBSWdBU2tDT0RjQ0NDQUFJQUpxSWdJZ0FTa0NRRGNDQUNBQ0lBRXBBa2czQWdnZ0FDQUNhaUlDSUFFcEFsQTNBZ0FnQWlBQktRSllOd0lJSUFBZ0Ftb2lBaUFCS1FKZ053SUFJQUlnQVNrQ2FEY0NDQ0FBSUFKcUlnSWdBU2tDY0RjQ0FDQUNJQUVwQW5nM0FnZ2dBQ0FDYWlJQ0lBRXBBb0FCTndJQUlBSWdBU2tDaUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcEFCTndJQUlBSWdBU2tDbUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBcUFCTndJQUlBSWdBU2tDcUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBckFCTndJQUlBSWdBU2tDdUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBc0FCTndJQUlBSWdBU2tDeUFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdEFCTndJQUlBSWdBU2tDMkFFM0FnZ2dBQ0FDYWlJQ0lBRXBBdUFCTndJQUlBSWdBU2tDNkFFM0FnZ2dBQ0FDYWlJQUlBRXBBdkFCTndJQUlBQWdBU2tDK0FFM0FnZ2dCQ0FCS1FLQUFqY0NBQ0FFSUFWQkEzUWlBR29pQkNBQktRS0lBamNDQUNBQUlBUnFJZ1FnQVNrQ2tBSTNBZ0FnQUNBRWFpSUVJQUVwQXBnQ053SUFJQUFnQkdvaUJDQUJLUUtnQWpjQ0FDQUFJQVJxSWdRZ0FTa0NxQUkzQWdBZ0FDQUVhaUlFSUFFcEFyQUNOd0lBSUFBZ0JHb2dBU2tDdUFJM0FnQWdBeUFCS1FMQUFqY0NBQ0FBSUFOcUlnTWdBU2tDeUFJM0FnQWdBQ0FEYWlJRElBRXBBdEFDTndJQUlBQWdBMm9pQXlBQktRTFlBamNDQUNBQUlBTnFJZ01nQVNrQzRBSTNBZ0FnQUNBRGFpSURJQUVwQXVnQ053SUFJQUFnQTJvaUF5QUJLUUx3QWpjQ0FDQUFJQU5xSUFFcEF2Z0NOd0lBQytnQ0FRVi9Ba0FnQUNBQkVBSWlBdzBBUVFFaEF5QUJJQUVvQWdCQkFXb2lBallDQUNBQ1FTQkxEUUFnQUVFRUVBTWlBa0YvUmcwQUlBRWdBallDQkNBQVFRUVFBeUlDUVg5R0RRQWdBU0FDTmdJSUlBRW9BZ0FFUUFOQUlBQWdBU0FGUVFKMGFpSUNJZ1JCREdvUUFpSUREUUpCQVNFRElBUW9BZ3dpQmtGL1JnMENJQVFnQmtFQmFpSUROZ0lNSUFRZ0F5QUJLQUlFUVFacWREWUNEQ0FBSUFKQmpBRnFFQUlpQXcwQ1FRRWhBeUFDS0FLTUFTSUVRWDlHRFFJZ0FpQUVRUUZxSWdRMkFvd0JJQUlnQkNBQktBSUlRUVJxZERZQ2pBRWdBRUVCRUFNaUJFRi9SZzBDSUFJZ0JFRUJSallDakFJZ0JVRUJhaUlGSUFFb0FnQkpEUUFMQ3lBQVFRVVFBeUlDUVg5R0RRQWdBU0FDUVFGcU5nS01BeUFBUVFVUUF5SUNRWDlHRFFBZ0FTQUNRUUZxTmdLUUF5QUFRUVVRQXlJQ1FYOUdEUUFnQVNBQ1FRRnFOZ0tVQXlBQVFRVVFBeUlBUVg5R0RRQWdBU0FBTmdLWUEwRUFJUU1MSUFNTFd3RURmeUFBSUFBb0FnQWlCQ0FCSUFBb0FnUWlBbkFpQTBFRWRHb2dBU0FEYXlJQlFRaDBhallDRENBQUlBUWdBaUFBS0FJSWJDSUNRUWgwYWlBQlFRWjBhaUFEUVFOMGFpSUJOZ0lRSUFBZ0FTQUNRUVowYWpZQ0ZBdFZBUUovSUFFZ0FrRUJhaUlESUFNZ0FVa2JJUU1nQUNBQ1FRSjBhaWdDQUNFRUEwQUNRQ0FDUVFGcUlnSWdBVThFUUNBRElRSU1BUXNnQUNBQ1FRSjBhaWdDQUNBRVJ3MEJDd3RCQUNBQ0lBRWdBa1liQ3ljQUlBQkJDQ0FBS0FJSUlnQnJFQU5CZjBZRVFBOExRUUFnQUd0QkFuUkJ6RDlxS0FJQUdndDZBUUovSXdCQklHc2lBaVFBSUFJZ0FDZ0NFRFlDRUNBQ0lBQXBBZ2czQXdnZ0FpQUFLUUlBTndNQUFrQWdBaUFDUVJ4cUVBSWlBQTBBSUFJZ0FrRWNhaEFDSWdBTkFDQUNJQUpCSEdvUUFpSUFEUUJCQVNFQUlBSW9BaHdpQTBIL0FVc05BQ0FCSUFNMkFnQkJBQ0VBQ3lBQ1FTQnFKQUFnQUF2bkJ3RVNmeU1BUVlBT2F5SU1KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQTBFQVNBMEFJQUlnQ1dvZ0JFc05BQ0FESUFkcVFRVnFJQVZMRFFBZ0F5RUtEQUVMSUFBZ0RFSEFDbW9nQWlBRElBUWdCU0FKSUFkQkJXb2dDUkFNSUF4QndBcHFJUUFnQ1NFRVFRQWhBZ3NDUUNBSFFRSjJJaFJGRFFBZ0NVVU5BQ0FFUVFGMElSVkJBQ0FFYXlJV1FRRjBJUm9nQkVFQ2RDQUdhMEY3YWlFWElBQWdCQ0FLYkNBQ2Ftb2dCR29pQUNBRVFRVnNhaUVDSUF3Z0NVRUNkQ0lRYWlFRElBbEJBM1FoRFVFQUlBbHJRUUowSVE0Z0NVRURiRUVDZENFUEEwQWdDU0VGQTBBZ0F5QU5haUFBSUJWcUxRQUFJaEVnQWlBVmFpMEFBQ0FDSUFScUxRQUFJZ3NnQWlBYWFpMEFBQ0lTYWlJS2F5QUtRUUowYTJvZ0FpMEFBQ0lZSUFJZ0Ztb3RBQUFpRTJwQkZHeHFOZ0lBSUFNZ0VHb2dBQ0FFYWkwQUFDSVpJQXNnRWlBVGFrRVViR29nRVNBWWFpSUtheUFLUVFKMGEybzJBZ0FnQXlBQUxRQUFJZ3NnR0NBUklCSnFRUlJzYWlBVElCbHFJZ3BySUFwQkFuUnJhallDQUNBRElBNXFJQUFnRm1vdEFBQWdFeUFSSUJscVFSUnNhaUFMSUJKcUlncHJJQXBCQW5ScmFqWUNBQ0FBUVFGcUlRQWdBMEVFYWlFRElBSkJBV29oQWlBRlFYOXFJZ1VOQUFzZ0FpQVhhaUVDSUFBZ0Yyb2hBQ0FESUE5cUlRTWdGRUYvYWlJVURRQUxDeUFIQkVCQkVDQUdheUVRSUFaQkFuWWhDaUFNSUFoQkFuUnFRUWhxSVFBZ0RFRVVhaUVDQTBBZ0NnUkFJQUpCYkdvb0FnQWhCQ0FDUVhCcUtBSUFJUThnQWtGMGFpZ0NBQ0VOSUFKQmVHb29BZ0FoQlNBQ1FYeHFLQUlBSVFNZ0NpRUpBMEFnQVNBQ0tBSUFJZzRnQkNBRElBOXFJZ1JySUFVZ0RXcEJGR3hxSUFSQkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQUlBQW9BZ0JCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlvQWdRaUN5QVBJQU1nQldwQkZHeHFJQTBnRG1vaUJHc2dCRUVDZEd0cVFZQUVha0VLZFVHd0xtb3RBQUFnQUNnQ0JFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FCSUFFZ0FpZ0NDQ0lJSUEwZ0F5QU9ha0VVYkdvZ0JTQUxhaUlFYXlBRVFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlJUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBSWdBU0FDS0FJTUlnWWdCU0FMSUE1cVFSUnNhaUFESUFocUlnUnJJQVJCQW5ScmFrR0FCR3BCQ25WQnNDNXFMUUFBSUFBb0FneEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQXlBQlFRUnFJUUVnQUVFUWFpRUFJQUpCRUdvaEFpQURJUVFnRGlFUElBc2hEU0FJSVFVZ0JpRURJQWxCZjJvaUNRMEFDd3NnQVNBUWFpRUJJQUJCRkdvaEFDQUNRUlJxSVFJZ0IwRi9haUlIRFFBTEN5QU1RWUFPYWlRQUM5RUhBUXgvSXdCQmdBNXJJZzhrQUNBR1FRVnFJUWtDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSmFpQUVTdzBBSUFkQkJXb2lEaUFEYWlBRlN3MEFJQVFoQ1NBRElRb01BUXNnQUNBUFFjQUthaUFDSUFNZ0JDQUZJQWtnQjBFRmFpSU9JQWtRRENBUFFjQUthaUVBUVFBaEFnc0NRQ0FPUlEwQUlBWkJBbllpRWtVTkFDQUpJQVpySVJNZ0FDQUpJQXBzSUFKcWFrRUZhaUVDSUE4aEFBTkFJQUpCZjJvdEFBQWhDU0FDUVg1cUxRQUFJUU1nQWtGOWFpMEFBQ0VGSUFKQmZHb3RBQUFoQ2lBQ1FYdHFMUUFBSVF3Z0VpRU5BMEFnQUNBQ0xRQUFJZ1FnRENBSklBcHFJZ3RySUFNZ0JXcEJGR3hxSUF0QkFuUnJhallDQUNBQUlBSXRBQUVpQ3lBRElBbHFRUlJzSUFwcUlBUWdCV29pQ21zZ0NrRUNkR3RxTmdJRUlBQWdBaTBBQWlJUUlBUWdDV3BCRkd3Z0JXb2dBeUFMYWlJRmF5QUZRUUowYTJvMkFnZ2dBQ0FDTFFBREloUWdCQ0FMYWtFVWJDQURhaUFKSUJCcUlnTnJJQU5CQW5ScmFqWUNEQ0FBUVJCcUlRQWdBa0VFYWlFQ0lBa2hEQ0FFSVFvZ0N5RUZJQkFoQXlBVUlRa2dEVUYvYWlJTkRRQUxJQUlnRTJvaEFpQU9RWDlxSWc0TkFBc0xJQWRCQW5ZaUJ3UkFRY0FBSUFacklSUWdEeUFHUVFKMElnUnFJZ2tnQmtFVWJHb2hBaUFKSUFoQkFtb2dCbXhCQW5ScUlRQWdCa0VEYkVFQ2RDRUZRUUFnQm1zaURrRURkQ0VUSUFaQkEzUWhDQU5BSUFZaEF5QUdCRUFEUUNBQklBZ2dDV29vQWdBaUNpQUNJQWhxS0FJQUlBSWdCR29vQWdBaUVTQUNJQk5xS0FJQUlndHFJZ3hySUF4QkFuUnJhaUFDS0FJQUlnMGdBaUFPUVFKMEloQnFLQUlBSWd4cVFSUnNha0dBQkdwQkNuVkJzQzVxTFFBQUlBQWdDR29vQWdCQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FNQ0FCSUFRZ0NXb29BZ0FpRWlBUklBc2dER3BCRkd4cUlBb2dEV29pRVdzZ0VVRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQWdBQ0FFYWlnQ0FFRVFha0VGZFVHd0xtb3RBQUJxUVFGcVFRRjJPZ0FnSUFFZ0NTZ0NBQ0lSSUEwZ0NpQUxha0VVYkdvZ0RDQVNhaUlOYXlBTlFRSjBhMnBCZ0FScVFRcDFRYkF1YWkwQUFDQUFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFCQWdBU0FKSUJCcUtBSUFJQXdnQ2lBU2FrRVViR29nQ3lBUmFpSUtheUFLUVFKMGEycEJnQVJxUVFwMVFiQXVhaTBBQUNBQUlCQnFLQUlBUVJCcVFRVjFRYkF1YWkwQUFHcEJBV3BCQVhZNkFBQWdBRUVFYWlFQUlBbEJCR29oQ1NBQlFRRnFJUUVnQWtFRWFpRUNJQU5CZjJvaUF3MEFDd3NnQVNBVWFpRUJJQUFnQldvaEFDQUNJQVZxSVFJZ0JTQUphaUVKSUFkQmYyb2lCdzBBQ3dzZ0QwR0FEbW9rQUF1MEJnRUpmeU1BUWNBRGF5SU5KQUFnQmtFRmFpRUpBa0FDUUNBQ1FRQklEUUFnQXlBSGFpQUZTdzBBSUFOQkFFZ05BQ0FDSUFscUlBUkxEUUFnQkNFSklBTWhDZ3dCQ3lBQUlBMGdBaUFESUFRZ0JTQUpJQWNnQ1JBTUlBMGhBRUVBSVFJTElBY0VRRUVRSUFacklSQWdDU0FHYXlFUklBWkJBblloRHlBQUlBa2dDbXdnQW1wcVFRVnFJUWtEUUFKQUlBOUZEUUFnQ1VGL2FpMEFBQ0VDSUFsQmZtb3RBQUFoQmlBSlFYMXFMUUFBSVFNZ0NVRjhhaTBBQUNFRklBbEJlMm90QUFBaENpQVBJZ0FoQ3lBSUJFQURRQ0FCSUFZZ0NTMEFBQ0lFSUFvZ0FpQUZhaUlLYXlBRElBWnFRUlJzYWlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFDQUJJQUlnQ1MwQUFTSUxJQVVnQWlBR2FrRVViR29nQXlBRWFpSUZheUFGUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQVNBQklBUWdDUzBBQWlJTUlBTWdBaUFFYWtFVWJHb2dCaUFMYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBaUFCSUFzZ0NTMEFBeUlPSUFZZ0JDQUxha0VVYkdvZ0FpQU1haUlEYXlBRFFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUF5QUJRUVJxSVFFZ0NVRUVhaUVKSUFJaENpQUVJUVVnQ3lFRElBd2hCaUFPSVFJZ0FFRi9haUlBRFFBTUFnQUxBQXNEUUNBQklBTWdDUzBBQUNJQUlBb2dBaUFGYWlJRWF5QURJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBQ0FCSUFZZ0NTMEFBU0lFSUFVZ0FpQUdha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQWFrRUJha0VCZGpvQUFTQUJJQUlnQ1MwQUFpSU1JQU1nQUNBQ2FrRVViR29nQkNBR2FpSURheUFEUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBYWtFQmFrRUJkam9BQWlBQklBQWdDUzBBQXlJT0lBWWdBQ0FFYWtFVWJHb2dBaUFNYWlJRGF5QURRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFha0VCYWtFQmRqb0FBeUFCUVFScUlRRWdDVUVFYWlFSklBSWhDaUFBSVFVZ0JDRURJQXdoQmlBT0lRSWdDMEYvYWlJTERRQUxDeUFCSUJCcUlRRWdDU0FSYWlFSklBZEJmMm9pQncwQUN3c2dEVUhBQTJva0FBdkdCQUVMZnlNQVFjQURheUlOSkFBQ1FBSkFJQUpCQUVnTkFDQURRUUJJRFFBZ0FpQUdhaUFFU3cwQUlBTWdCMnBCQldvZ0JVc05BQ0FESVFrTUFRc2dBQ0FOSUFJZ0F5QUVJQVVnQmlBSFFRVnFJQVlRRENBTklRQWdCaUVFUVFBaEFnc2dCMEVDZGlJUUJFQkJ3QUFnQm1zaEVpQUVRUUYwSVFVZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVRJQUFnQkNBSmJDQUNhbW9nQkdvaUFDQUVRUVZzYWlFQ0lBQWdCQ0FJUVFKcWJHb2hCd05BSUFZaEF5QUdCRUFEUUNBQklBQWdCV290QUFBaUNDQUNJQVZxTFFBQUlBSWdCR290QUFBaUNpQUNJQk5xTFFBQUlnbHFJZ3RySUF0QkFuUnJhaUFDTFFBQUlnd2dBaUFQYWkwQUFDSUxha0VVYkdwQkVHcEJCWFZCc0M1cUxRQUFJQVVnQjJvdEFBQnFRUUZxUVFGMk9nQXdJQUVnQUNBRWFpMEFBQ0lSSUFvZ0NTQUxha0VVYkdvZ0NDQU1haUlLYXlBS1FRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQUlBUWdCMm90QUFCcVFRRnFRUUYyT2dBZ0lBRWdBQzBBQUNJS0lBd2dDQ0FKYWtFVWJHb2dDeUFSYWlJTWF5QU1RUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFJQWN0QUFCcVFRRnFRUUYyT2dBUUlBRWdBQ0FQYWkwQUFDQUxJQWdnRVdwQkZHeHFJQWtnQ21vaUNHc2dDRUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBQ0FISUE5cUxRQUFha0VCYWtFQmRqb0FBQ0FIUVFGcUlRY2dBRUVCYWlFQUlBRkJBV29oQVNBQ1FRRnFJUUlnQTBGL2FpSUREUUFMQ3lBQklCSnFJUUVnQnlBT2FpRUhJQUlnRG1vaEFpQUFJQTVxSVFBZ0VFRi9haUlRRFFBTEN5QU5RY0FEYWlRQUM0OEhBUXgvSUFFb0FnZ2hDeUFCS0FJRUlRWUNRQUpBQWtBZ0FrRUZTdzBBSUFKQkFXc09CQUFBQUFBQkN5QUFLQUs0R2cwQURBRUxJQUJCeEFscUlRUURRQ0FFSUFNUUZDRUhJQU5CRGtzTkFTQURRUUZxSVFNZ0IwVU5BQXNMQWtBQ1FBSkFBa0FnQUNnQ21Ba2lDQVJBSUFBb0Fyd0pJUXBCQUNFRFFRQWhCQU5BSUFvZ0EwSFlBV3hxS0FMRUFVVUVRRUVBSUFSQkFXb2lCQ0FFSUFaR0lnVWJJUVFnQlNBSmFpRUpJQU5CQVdvaUF5QUlTUTBCQ3dzZ0F5QUlSdzBCQ3dKQUFrQWdBa0YrYWlJQ1FRVkxEUUFDUUNBQ1FRRnJEZ1FCQVFFQkFBc2dCMFVOQVNBQUtBSzRHa1VOQVF3REN5QUhEUUlMSUFFb0FnQkJnQUVnQmlBTGJFR0FBMndRQnhvTUFnc2dBQ2dDdkFrZ0JpQUpiRUhZQVd4cUlRZ2dCQVJBSUFRaEF3TkFJQWdnQTBGL2FpSURRZGdCYkdvaUNpQUJJQWtnQXlBQ0lBY1FGaUFLUVFFMkFzUUJJQUFnQUNnQ3RBbEJBV28yQXJRSklBTU5BQXNMSUFSQkFXb2lBeUFHU1FSQUEwQWdDQ0FEUWRnQmJHb2lCQ2dDeEFGRkJFQWdCQ0FCSUFrZ0F5QUNJQWNRRmlBRVFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpDeUFEUVFGcUlnTWdCa2NOQUFzTEFrQWdDVVVOQUNBR1JRMEFRUUFoQlNBSlFYOXFJZ3dnQm13aERTQU1SUVJBQTBBZ0FDZ0N2QWtnRFVIWUFXeHFJQVZCMkFGc2FpSUVJQUZCQUNBRklBSWdCeEFXSUFSQkFUWUN4QUVnQUNBQUtBSzBDVUVCYWpZQ3RBa2dCVUVCYWlJRklBWkhEUUFNQWdBTEFBc2dDVUYrYWlFSVFRQWdCbXRCMkFGc0lRNERRQ0FBS0FLOENTQU5RZGdCYkdvZ0JVSFlBV3hxSWdNZ0FTQU1JQVVnQWlBSEVCWWdBMEVCTmdMRUFTQUFJQUFvQXJRSlFRRnFOZ0swQ1NBSUlRUURRQ0FESUE1cUlnTWdBU0FFSWdvZ0JTQUNJQWNRRmlBRFFRRTJBc1FCSUFBZ0FDZ0N0QWxCQVdvMkFyUUpJQVJCZjJvaEJDQUtEUUFMSUFWQkFXb2lCU0FHUncwQUN3c2dDVUVCYWlJRklBdFBEUUlnQmtVTkFnTkFJQUFvQXJ3SklBVWdCbXhCMkFGc2FpRUlRUUFoQXdOQUlBZ2dBMEhZQVd4cUlnUW9Bc1FCUlFSQUlBUWdBU0FGSUFNZ0FpQUhFQllnQkVFQk5nTEVBU0FBSUFBb0FyUUpRUUZxTmdLMENRc2dBMEVCYWlJRElBWkhEUUFMSUFWQkFXb2lCU0FMUncwQUN3d0NDeUFCS0FJQUlBY2dCaUFMYkVHQUEyd1FGUm9MSUFBZ0FDZ0NtQWtpQVRZQ3RBa2dBVVVOQUNBQUtBSzhDU0VBUVFBaEF3TkFJQUFnQTBIWUFXeHFRUUUyQWdnZ0EwRUJhaUlESUFGSERRQUxDd3MyQVFKL0lBQW9BaWdpQWdSQUEwQWdBQ2dDQkNBQlFRSjBhaUFBS0FJQUlBRkJLR3hxTmdJQUlBRkJBV29pQVNBQ1J3MEFDd3NMOXdRQ0RIOEJma0VISVFVakFFRWdheUlJSVF3RFFDQUZJQUZKQkVBZ0FFRUFJQVZyUVNoc2FpRUtJQVVoQmdOQUlBQWdCa0VvYkdvaUFpZ0NDQ0VKSUFJcEFnQWhEaUFJSUFJcEFndzNBeGdnQWlnQ0dDRU5JQUlvQWhRaEN5QU1JQUlvQWlRMkFoQWdDQ0FDS1FJY053TUlBa0FnQmlJRElBVkpEUUFDUUNBTFJRUkFBMEFnQ2lBRFFTaHNJZ0pxSWdRb0FoUU5BaUFOUlEwQ0lBUW9BaGdOQWlBQUlBSnFJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3lBTFFYOXFRUUZOQkVBRFFBSi9Ba0FnQ2lBRFFTaHNJZ0pxSWdRb0FoUWlCMFVOQUNBSFFYOXFRUUZMRFFBZ0JDZ0NDQ0lISUFsS0RRUWdBQ0FDYWlJRUlBY2dDVWdOQVJvZ0JDRUNEQVVMSUFBZ0Ftb0xJZ1FnQUNBRElBVnJJZ05CS0d4cUlnSXBBZ0EzQWdBZ0JDQUNLUUlnTndJZ0lBUWdBaWtDR0RjQ0dDQUVJQUlwQWhBM0FoQWdCQ0FDS1FJSU53SUlJQU1nQlU4TkFBd0RBQXNBQ3dOQUlBb2dBMEVvYkNJQ2FpSUVLQUlVSWdjRVFDQUhRWDlxUVFKSkRRSWdCQ2dDQ0NBSlRBMENDeUFBSUFKcUlnUWdBQ0FESUFWcklnTkJLR3hxSWdJcEFnQTNBZ0FnQkNBQ0tRSWdOd0lnSUFRZ0Fpa0NHRGNDR0NBRUlBSXBBaEEzQWhBZ0JDQUNLUUlJTndJSUlBTWdCVThOQUFzTUFRc2dBQ0FEUVNoc2FpRUNDeUFDSUE0M0FnQWdBQ0FEUVNoc2FpSURJQWsyQWdnZ0NDa0RHQ0VPSUFNZ0RUWUNHQ0FESUFzMkFoUWdBeUFPTndJTUlBTWdDQ2tEQ0RjQ0hDQURJQXdvQWhBMkFpUWdCa0VCYWlJR0lBRkhEUUFMQ3lBRlFRRjJJZ1VOQUFzTHJRVUJBWDhDUUNBQUtBSUFJZ0VvQWhSRkRRQWdBVUVBTmdJVUlBRW9BaGdOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ1BFVU5BQ0FCUVFBMkFqd2dBVUZBYXlnQ0FBMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUprUlEwQUlBRkJBRFlDWkNBQktBSm9EUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQW93QlJRMEFJQUZCQURZQ2pBRWdBU2dDa0FFTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0N0QUZGRFFBZ0FVRUFOZ0swQVNBQktBSzRBUTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMY0FVVU5BQ0FCUVFBMkF0d0JJQUVvQXVBQkRRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9Bb1FDUlEwQUlBRkJBRFlDaEFJZ0FTZ0NpQUlOQUNBQUlBQW9BaXhCZjJvMkFpd0xBa0FnQVNnQ3JBSkZEUUFnQVVFQU5nS3NBaUFCS0FLd0FnMEFJQUFnQUNnQ0xFRi9hallDTEFzQ1FDQUJLQUxVQWtVTkFDQUJRUUEyQXRRQ0lBRW9BdGdDRFFBZ0FDQUFLQUlzUVg5cU5nSXNDd0pBSUFFb0F2d0NSUTBBSUFGQkFEWUMvQUlnQVNnQ2dBTU5BQ0FBSUFBb0FpeEJmMm8yQWl3TEFrQWdBU2dDcEFORkRRQWdBVUVBTmdLa0F5QUJLQUtvQXcwQUlBQWdBQ2dDTEVGL2FqWUNMQXNDUUNBQktBTE1BMFVOQUNBQlFRQTJBc3dESUFFb0F0QUREUUFnQUNBQUtBSXNRWDlxTmdJc0N3SkFJQUVvQXZRRFJRMEFJQUZCQURZQzlBTWdBU2dDK0FNTkFDQUFJQUFvQWl4QmYybzJBaXdMQWtBZ0FTZ0NuQVJGRFFBZ0FVRUFOZ0tjQkNBQktBS2dCQTBBSUFBZ0FDZ0NMRUYvYWpZQ0xBc0NRQ0FCS0FMRUJFVU5BQ0FCUVFBMkFzUUVJQUVvQXNnRURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3dKQUlBRW9BdXdFUlEwQUlBRkJBRFlDN0FRZ0FTZ0M4QVFOQUNBQUlBQW9BaXhCZjJvMkFpd0xBMEFnQUJCZVJRMEFDeUFBUVFBMkFqQWdBRUwvL3dNM0FpUUwzUTRCQ1g4Z0FpZ0NBQ0FBS0FJSUlnSW9BZ0JHQkVBZ0FFRUFOZ0kwSUFBb0FqZ2lDMFVoRFFKQUlBRkZCRUFnQWlBRE5nSU1JQUpCQURZQ0ZDQUNJQTAyQWhnZ0FpQUVOZ0lRSUFJZ0F6WUNDQ0FMRFFFZ0FDQUFLQUlzUVFGcU5nSXNEQUVMSUFVRVFDQUFRZ0EzQWhBZ0FCQW9Ba0FnQVNnQ0FFVUVRQ0FBS0FJNFJRMEJDeUFBUWdBM0FoQUxJQUFvQWdnaUFrRURRUUlnQVNnQ0JDSUJHellDRkNBQVFRQkIvLzhESUFFYk5nSWtJQUlnRFRZQ0dDQUNRUUEyQWhBZ0FrSUFOd0lJSUFCQ2dZQ0FnQkEzQWlnTUFRc0NRQUpBQWtBZ0FTZ0NDQVJBUVFBaEN3TkFJQUVnQzBFVWJHb2lDQ2dDRENJQ1FRWkxEUUlDUUFKQUFrQUNRQUpBQWtBQ1FDQUNRUUZyRGdZQUFRSURCQVVKQ3lBQUtBSVlJZ2xGRFFnZ0F5QUlLQUlRYXlFTUlBQW9BZ0FoQ2tFQUlRZ0RRQUpBSUFvZ0NFRW9iR29pQWlnQ0ZFRi9ha0VCVFFSQUlBSW9BZ2dnREVZTkFRc2dDRUVCYWlJSUlBbEhEUUVNQ2dzTElBaEJBRWdOQ0NBQ1FRQTJBaFFnQUNBQUtBSW9RWDlxTmdJb0lBSW9BaGdOQlNBQUlBQW9BaXhCZjJvMkFpd2dDMEVCYWlFTERBWUxJQUFvQWhnaUNVVU5CeUFJS0FJVUlRd2dBQ2dDQUNFS1FRQWhDQU5BQWtBZ0NpQUlRU2hzYWlJQ0tBSVVRUU5HQkVBZ0FpZ0NDQ0FNUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdKQ3dzZ0NFRUFTQTBISUFKQkFEWUNGQ0FBSUFBb0FpaEJmMm8yQWlnZ0FpZ0NHQTBFSUFBZ0FDZ0NMRUYvYWpZQ0xDQUxRUUZxSVFzTUJRc2dBQ2dDSkNJQ1FmLy9BMFlOQmlBQ0lBZ29BaGdpREVrTkJpQUFLQUlZSWdsRkRRWWdDQ2dDRUNFT0lBQW9BZ0FoQ2tFQUlRSURRQUpBQWtBZ0NpQUNRU2hzYWlJSUtBSVVRUU5IRFFBZ0NDZ0NDQ0FNUncwQUlBaEJBRFlDRkNBQUlBQW9BaWhCZjJvMkFpZ2dDQ2dDR0EwQklBQWdBQ2dDTEVGL2FqWUNMQXdCQ3lBQ1FRRnFJZ0lnQ1VjTkFRc0xJQWxCQVNBSlFRRkxHeUVKSUFNZ0Rtc2hEa0VBSVFnRFFBSkFJQW9nQ0VFb2JHb2lBaWdDRkNJUFFYOXFRUUZOQkVBZ0FpZ0NDQ0FPUmcwQkN5QUlRUUZxSWdnZ0NVY05BUXdJQ3dzZ0NFRUFTQTBHSUE5QkFra05CaUFDUVFNMkFoUWdBaUFNTmdJSUlBdEJBV29oQ3d3RUN5QUFJQWdvQWh3aUNUWUNKQ0FBS0FJWUlneEZEUUlnQUNnQ0FDRUtRUUFoQWlBSlFmLy9BMFlFUUFOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDRUVBTmdJVUlBQWdBQ2dDS0VGL2FqWUNLQ0FJS0FJWURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQ1FRRnFJZ0lnREVjTkFBd0VBQXNBQ3dOQUFrQWdDaUFDUVNoc2FpSUlLQUlVUVFOSERRQWdDQ2dDQ0NBSlRRMEFJQWhCQURZQ0ZDQUFJQUFvQWloQmYybzJBaWdnQ0NnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FrRUJhaUlDSUF4SERRQUxEQUlMSUFBUUtDQUFRUUUyQWpSQkFDRURJQXRCQVdvaEN3d0NDeUFBS0FJa0lnSkIvLzhEUmcwRElBSWdDQ2dDR0NJTVNRMERJQUFvQWhnaUNrVU5BeUFBS0FJQUlRaEJBQ0VDQWtBRFFBSkFJQWdnQWtFb2JHb2lDU2dDRkVFRFJ3MEFJQWtvQWdnZ0RFY05BQ0FKUVFBMkFoUWdBQ0FBS0FJb1FYOXFJZ2cyQWlnZ0NTZ0NHQTBDSUFBZ0FDZ0NMRUYvYWpZQ0xBd0NDeUFDUVFGcUlnSWdDa2NOQUFzZ0FDZ0NLQ0VJQ3lBSUlBcFBEUU1nQUNnQ0NDSUNRUU0yQWhRZ0FpQUVOZ0lRSUFJZ0REWUNDQ0FDSUFNMkFnd2dBaUFBS0FJNFJUWUNHRUVCSVJBZ0FDQUlRUUZxTmdJb0lBQWdBQ2dDTEVFQmFqWUNMQXNnQzBFQmFpRUxEQUFBQ3dBTFFRQWhBaUFBS0FJb0lna2dBQ2dDR0NJTFNRMEJJQWxGQkVCQkFDRUpEQUlMSUFBb0FnQWhERUYvSVFFRFFDQU1JQUpCS0d4cUlnb29BaFJCZjJwQkFVMEVRQ0FLS0FJSUlnb2dDQ0FCUVg5R0lBb2dDRWh5SWdvYklRZ2dBaUFCSUFvYklRRUxJQUpCQVdvaUFpQUpSdzBBQ3lBQlFRQklEUUVnRENBQlFTaHNhaUlCUVFBMkFoUWdBQ0FKUVg5cUlnazJBaWdnQVNnQ0dBMEJJQUFnQUNnQ0xFRi9hallDTEF3QkN5QVFEUUVnQUNnQ0dDRUxJQUFvQWlnaENRc2dDU0FMVHcwQklBQW9BZ2dpQVNBTk5nSVlJQUZCQWpZQ0ZDQUJJQVEyQWhBZ0FTQUROZ0lJSUFFZ0F6WUNEQ0FBSUFsQkFXbzJBaWdnQUNBQUtBSXNRUUZxTmdJc0N3c2dBQ2dDQ0NJQklBYzJBaUFnQVNBR05nSWNJQUVnQlRZQ0pBSkFJQUFvQWpoRkJFQWdBQ2dDTENJSklBQW9BaHdpQTAwTkFTQUFLQUlBSVFRRFFFSC8vLy8vQnlFRlFRQWhCa0VBSVFJRFFDQUVJQUpCS0d4cUlnRW9BaGdFUUNBQklBWWdBU2dDRUNJQklBVklJZ2NiSVFZZ0FTQUZJQWNiSVFVTElBSkJBV29pQWlBRFRRMEFDd0pBSUFaRkRRQWdBQ2dDRENBQUtBSVFJZ0pCQkhScUlnRWdCaWdDQURZQ0FDQUJJQVlvQWlRMkFnd2dBU0FHS0FJY05nSUVJQUVnQmlnQ0lEWUNDQ0FBSUFKQkFXbzJBaEFnQmtFQU5nSVlJQVlvQWhRTkFDQUFJQWxCZjJvaUNUWUNMQXNnQ1NBRFN3MEFDd3dCQ3lBQktBSUFJUUlnQUNnQ0RDQUFLQUlRSWdOQkJIUnFJZ0VnQlRZQ0RDQUJJQUkyQWdBZ0FTQUhOZ0lJSUFFZ0JqWUNCQ0FBSUFOQkFXbzJBaEFnQUNnQ0hDRURDeUFBS0FJQUlBTkJBV29RSndzTDFBc0NBbjhCZmlNQVFaQUJheUlFSkFBZ0JFRUFOZ0lNQWtBQ1FBSkFJQUFvQXBBYVJRMEFJQUFvQXBRYUlBRkhEUUFnQkNBQVFhUWFhaWtDQURjREdDQUFLUUtjR2lFR0lBUkJBRFlDR0NBRUlBWTNBeEFnQkVFQU5nSWdJQVFnQmo0Q0ZDQURJQUFvQXBnYU5nSUFEQUVMUVFNaEJTQUJJQUlnQkVFUWFpQURFR01OQVNBQUlBUXBBeEEzQXB3YUlBQkJyQnBxSUFRb0FpQTJBZ0FnQUVHa0dtb2dCQ2tER0RjQ0FDQURLQUlBSVFJZ0FDQUJOZ0tVR2lBQUlBSTJBcGdhQzBFQUlRVWdBRUVBTmdLUUdpQUVRUkJxSUFSQmlBRnFFRThFUUVFRElRVU1BUXNnQkNnQ2lBRkJmMnBCQzBzTkFDQUVRUkJxSUFSQmlBRnFJQUFnQkVFTWFoQXlJZ0VFUUVFRUlRVWdBVUh3L3dOR0RRRkJBeUVGREFFTEFrQWdCQ2dDREFSQUFrQWdBQ2dDb0FsRkRRQWdBQ2dDRUVVTkFFRURJUVVnQUNnQ3RCb05Bd0pBSUFBb0FxUUpSUVJBSUFCQnhBbHFJZ0lpQVNBQktBSUFJQUVvQWh4QktHeHFJZ0UyQWdnZ0FDQUJLQUlBTmdLNENpQUNFQ1lnQUNBQVFiZ0tha0VBRUNVTUFRc2dBQ0FBUWJnS2FpQUFRZHdLYWlnQ0FCQWxDeUFEUVFBMkFnQWdBRUVBTmdLY0NTQUFRUUUyQXBBYURBSUxJQUJCQURZQ25Ba2dBRUVBTmdLa0NRc2dCQ2dDaUFGQmYyb2lBVUVIU3cwQkFrQUNRQUpBSUFGQkFXc09Cd1FFQkFJRUFBRUNDeUFFUVJCcUlBUkJLR29RUXdSQUlBUW9BbEFRQkNBRVFRQTJBbEFnQkNnQ2ZCQUVJQVJCQURZQ2ZFRURJUVVNQkFzZ0FDQUVRU2hxRURjTUF3c2dCRUVRYWlBRVFTaHFFRXdFUUNBRUtBSThFQVFnQkVFQU5nSThJQVFvQWtBUUJDQUVRUUEyQWtBZ0JDZ0NSQkFFSUFSQkFEWUNSQ0FFS0FKVUVBUWdCRUVBTmdKVVFRTWhCUXdEQ3lBQUlBUkJLR29RTmd3Q0N5QUFLQUtjQ1EwQklBQkJBVFlDb0FrQ1FDQUFLQUtrQ1EwQUlBQkNBRGNDdEFrZ0JFRVFhaUFFUVNocUVDQWFJQUFvQWdnaEFTQUFJQVFvQWlnZ0JDZ0NpQUZCQlVZUU5TSUNCRUFnQUVLQWdvQ0FnQVEzQWdRZ0FFRUFOZ0swR2lBQVFnQTNBZ3hCQlVFRUlBSkIvLzhEUmhzaEJRd0RDeUFCSUFBb0FnaEdEUUFnQUNnQ0VDRUJJQVJCQVRZQ0NDQUFLQUlBSWdKQkgwMEVRQ0FBSUFKQkFuUnFLQUlVSVFVTElBTkJBRFlDQUNBQVFRRTJBcEFhQWtBQ1FBSkFJQVFvQW9nQlFRVkhEUUFnQkVFSWFpQUVRUkJxSUFFZ0FDZ0NEQkE0SUFRb0FnaHlEUUFnQlVVTkFDQUFRZndKYWlnQ0FBMEFJQVVvQWpRZ0FTZ0NORWNOQUNBRktBSTRJQUVvQWpoSERRQWdCU2dDV0NBQktBSllSZzBCQ3lBQVFZQUtha0VBTmdJQURBRUxJQUJCeEFscUVGa0xJQUFnQUNnQ0NEWUNBRUVDSVFVTUFnc2dBQ2dDdEJvRVFFRURJUVVNQWdzZ0JFRVFhaUFBUWJRU2FpSUNJQUFvQWhBZ0FDZ0NEQ0FFUVlnQmFoQStCRUJCQXlFRkRBSUxJQUFvQXFRSlJRUkFBa0FnQkNnQ2lBRkJCVVlOQUNBQVFjUUphaUFBUWNBU2FpZ0NBQ0FFS0FLTUFVRUFSeUFBS0FJUUtBSXdFRnBGRFFCQkF5RUZEQU1MSUFCQnhBbHFJZ0VnQVNnQ0FDQUJLQUljUVNoc2FpSUJOZ0lJSUFBZ0FTZ0NBRFlDdUFvTElBQkIyQXBxSUFKQjNBY1FGU0VCSUFCQkFUWUNwQWtnQUNBRUtRT0lBVGNDMEFvZ0FDZ0NsQWtnQUNnQ0RDQUFRWmdMYWlnQ0FDQUFLQUlRSWdJb0FqUWdBaWdDT0JBL0lBQkJ4QWxxSWdJUUppQUNJQUJCbkF0cUlBQkI1QXBxS0FJQUlBQkJoQXRxS0FJQUVGOEVRRUVESVFVTUFnc2dCRUVRYWlBQUlBQkJ1QXBxSUFFUVFRUkFJQUFnQUNnQzJBb1FRRUVESVFVTUFnc2dBQkF6UlEwQklBQkJBVFlDbkFrTElBQkJ1QXBxSWdFZ0FDZ0N2QWtRU1NBQUVEUWdBRUdFQ21vZ0FDZ0NFQ0FBUWRnS2FpQUFRZEFLYWhCTklRSUNRQ0FBS0FLa0NVVU5BQ0FBUWNRSmFpRURJQUJCMUFwcUtBSUFCRUFnQXlBQVFld01haUFCSUFCQjVBcHFLQUlBSUFJZ0FDZ0MwQXBCQlVZZ0FDZ0N1QWtnQUNnQ3RBa1FLUXdCQ3lBRFFRQWdBU0FBUWVRS2FpZ0NBQ0FDSUFBb0F0QUtRUVZHSUFBb0FyZ0pJQUFvQXJRSkVDa0xJQUJDQURjQ29BbEJBU0VGQ3lBRVFaQUJhaVFBSUFVTHFBd0JDMzhDUUNBQlFRUlBCRUJCQUNBRGF5SU5RUUYwSVFvQ1FDQUFJQU5ySWdVdEFBQWlCaUFBTFFBQUlnaHJJZ0VnQVVFZmRTSUJhaUFCY3lBQ0tBSUVJZ0ZQRFFBZ0FDQUthaTBBQUNJSElBWnJJZ1FnQkVFZmRTSUVhaUFFY3lBQ0tBSUlJZ3hQRFFBZ0FDQURhaTBBQUNJRUlBaHJJZ3NnQzBFZmRTSUxhaUFMY3lBTVR3MEFJQVVnQkNBR2FpQUhRUUYwYWtFQ2FrRUNkam9BQUNBQUlBZ2dCRUVCZEdvZ0IycEJBbXBCQW5ZNkFBQWdBaWdDQkNFQkN3SkFJQUJCQVdvaUJpQU5haUlNTFFBQUlnZ2dBQzBBQVNJSGF5SUVJQVJCSDNVaUJHb2dCSE1nQVU4TkFDQUdJQXBxTFFBQUlnUWdDR3NpQlNBRlFSOTFJZ1ZxSUFWeklBSW9BZ2dpQzA4TkFDQURJQVpxTFFBQUlnVWdCMnNpQ1NBSlFSOTFJZ2xxSUFseklBdFBEUUFnRENBRklBaHFJQVJCQVhScVFRSnFRUUoyT2dBQUlBWWdCeUFGUVFGMGFpQUVha0VDYWtFQ2Rqb0FBQ0FDS0FJRUlRRUxBa0FnQUVFQ2FpSUdJQTFxSWd3dEFBQWlDQ0FBTFFBQ0lnZHJJZ1FnQkVFZmRTSUVhaUFFY3lBQlR3MEFJQVlnQ21vdEFBQWlCQ0FJYXlJRklBVkJIM1VpQldvZ0JYTWdBaWdDQ0NJTFR3MEFJQU1nQm1vdEFBQWlCU0FIYXlJSklBbEJIM1VpQ1dvZ0NYTWdDMDhOQUNBTUlBVWdDR29nQkVFQmRHcEJBbXBCQW5ZNkFBQWdCaUFISUFWQkFYUnFJQVJxUVFKcVFRSjJPZ0FBSUFJb0FnUWhBUXNDUUNBQVFRTnFJZ1lnRFdvaURDMEFBQ0lJSUFBdEFBTWlCMnNpQkNBRVFSOTFJZ1JxSUFSeklBRlBEUUFnQmlBS2FpMEFBQ0lFSUFocklnVWdCVUVmZFNJRmFpQUZjeUFDS0FJSUlndFBEUUFnQXlBR2FpMEFBQ0lGSUFkcklna2dDVUVmZFNJSmFpQUpjeUFMVHcwQUlBd2dCU0FJYWlBRVFRRjBha0VDYWtFQ2Rqb0FBQ0FHSUFjZ0JVRUJkR29nQkdwQkFtcEJBblk2QUFBZ0FpZ0NCQ0VCQ3dKQUlBQkJCR29pQmlBTmFpSU1MUUFBSWdnZ0FDMEFCQ0lIYXlJRUlBUkJIM1VpQkdvZ0JITWdBVThOQUNBR0lBcHFMUUFBSWdRZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6SUFJb0FnZ2lDMDhOQUNBRElBWnFMUUFBSWdVZ0Iyc2lDU0FKUVI5MUlnbHFJQWx6SUF0UERRQWdEQ0FGSUFocUlBUkJBWFJxUVFKcVFRSjJPZ0FBSUFZZ0J5QUZRUUYwYWlBRWFrRUNha0VDZGpvQUFDQUNLQUlFSVFFTEFrQWdBRUVGYWlJR0lBMXFJZ3d0QUFBaUNDQUFMUUFGSWdkcklnUWdCRUVmZFNJRWFpQUVjeUFCVHcwQUlBWWdDbW90QUFBaUJDQUlheUlGSUFWQkgzVWlCV29nQlhNZ0FpZ0NDQ0lMVHcwQUlBTWdCbW90QUFBaUJTQUhheUlKSUFsQkgzVWlDV29nQ1hNZ0MwOE5BQ0FNSUFVZ0NHb2dCRUVCZEdwQkFtcEJBblk2QUFBZ0JpQUhJQVZCQVhScUlBUnFRUUpxUVFKMk9nQUFJQUlvQWdRaEFRc0NRQ0FBUVFacUlnWWdEV29pREMwQUFDSUlJQUF0QUFZaUIyc2lCQ0FFUVI5MUlnUnFJQVJ6SUFGUERRQWdCaUFLYWkwQUFDSUVJQWhySWdVZ0JVRWZkU0lGYWlBRmN5QUNLQUlJSWd0UERRQWdBeUFHYWkwQUFDSUZJQWRySWdrZ0NVRWZkU0lKYWlBSmN5QUxUdzBBSUF3Z0JTQUlhaUFFUVFGMGFrRUNha0VDZGpvQUFDQUdJQWNnQlVFQmRHb2dCR3BCQW1wQkFuWTZBQUFnQWlnQ0JDRUJDeUFOSUFCQkIyb2lEV29pQ0MwQUFDSUdJQUF0QUFjaUFHc2lCeUFIUVI5MUlnZHFJQWR6SUFGUERRRWdDaUFOYWkwQUFDSUJJQVpySWdvZ0NrRWZkU0lLYWlBS2N5QUNLQUlJSWdwUERRRWdBeUFOYWkwQUFDSUNJQUJySWdNZ0EwRWZkU0lEYWlBRGN5QUtUdzBCSUFnZ0FpQUdhaUFCUVFGMGFrRUNha0VDZGpvQUFDQU5JQUFnQWtFQmRHb2dBV3BCQW1wQkFuWTZBQUFQQzBFQUlBTnJJZ2RCQVhRaEJDQUJJQUlvQWdCcVFYOXFMUUFBSWdGQkFXb2hCaUFCUVg5eklRaEJDQ0VCQTBBQ1FDQUFJQWRxSWdVdEFBQWlDaUFBTFFBQUlnMXJJZ3dnREVFZmRTSU1haUFNY3lBQ0tBSUVUdzBBSUFBZ0JHb3RBQUFpRENBS2F5SUxJQXRCSDNVaUMyb2dDM01nQWlnQ0NDSUxUdzBBSUFBZ0Eyb3RBQUFpQ1NBTmF5SU9JQTVCSDNVaURtb2dEbk1nQzA4TkFDQUZJQW9nQ0NBR0lBMGdDbXRCQW5RZ0NXc2dER3BCQkdwQkEzVWlDaUFLSUFaS0d5QUtJQWhJR3lJS2FrR3dMbW90QUFBNkFBQWdBQ0FOSUFwclFiQXVhaTBBQURvQUFBc2dBRUVCYWlFQUlBRkJmMm9pQVEwQUN3c0w2Z2dCQW44Z0FVRUFRYmdIRUFjaEFrRUJJUUVDUUFKQUlBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBZ0FDUUNBRFFRRkhEUUFnQUVFSUVBTWlBMEYvUmcwQklBSWdBellDQkNBRFFmOEJSdzBBSUFCQkVCQURJZ05CZjBZTkFTQUNJQU0yQWdnZ0FFRVFFQU1pQTBGL1JnMEJJQUlnQXpZQ0RBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDRUNBRFFRRkdCRUFnQUVFQkVBTWlBMEYvUmcwQklBSWdBMEVCUmpZQ0ZBc2dBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDR0FKQUFrQWdBMEVCUmdSQUlBQkJBeEFESWdOQmYwWU5BeUFDSUFNMkFod2dBRUVCRUFNaUEwRi9SZzBESUFJZ0EwRUJSallDSUNBQVFRRVFBeUlEUVg5R0RRTWdBaUFEUVFGR05nSWtJQU5CQVVjTkFTQUFRUWdRQXlJRFFYOUdEUU1nQWlBRE5nSW9JQUJCQ0JBRElnTkJmMFlOQXlBQ0lBTTJBaXdnQUVFSUVBTWlBMEYvUncwQ0RBTUxJQUpCQlRZQ0hBc2dBa0tDZ0lDQUlEY0NLRUVDSVFNTElBSWdBellDTUNBQVFRRVFBeUlEUVg5R0RRQWdBaUFEUVFGR05nSTBBa0FnQTBFQlJ3MEFJQUFnQWtFNGFoQUNJZ0VOQVNBQ0tBSTRRUVZMRFFJZ0FDQUNRVHhxRUFJaUFRMEJJQUlvQWp4QkJVME5BQXdDQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBBSUFJZ0EwRUJSallDUUNBRFFRRkdCRUFnQUJBUElRRWdBRUVnRUFzaEF5QUJSUTBDSUFOQmYwWU5BaUFDSUFFMkFrUWdBQkFQSVFFZ0FFRWdFQXNoQXlBQlJRMENJQU5CZjBZTkFpQUNJQUUyQWtoQkFTRUJJQUJCQVJBRElnTkJmMFlOQVNBQ0lBTkJBVVkyQWt3TElBQkJBUkFESWdOQmYwWU5BQ0FDSUFOQkFVWTJBbEFDUUNBRFFRRkdCRUFnQUNBQ1FkUUFhaEFjSWdGRkRRRU1BZ3NnQWtFQk5nSlVJQUpDbUlDQWdJQUROd0xvQXlBQ1FwaUFnSUNBQXpjQzRBTWdBa0dCa0txSkFUWUM0QUVnQWtHQmtLcUpBVFlDWUF0QkFTRUJJQUJCQVJBRElnTkJmMFlOQUNBQ0lBTkJBVVkyQXZBREFrQWdBMEVCUmdSQUlBQWdBa0gwQTJvUUhDSUJSUTBCREFJTElBSkJBVFlDOUFNZ0FrS1lnSUNBZ0FNM0FvZ0hJQUpDbUlDQWdJQUROd0tBQnlBQ1FZRzR1UElBTmdLQUJTQUNRWUc0dVBJQU5nS0FCQXNDUUNBQ0tBSlFSUVJBSUFJb0F2QURSUTBCQzBFQklRRWdBRUVCRUFNaUEwRi9SZzBCSUFJZ0EwRUJSallDa0FjTFFRRWhBU0FBUVFFUUF5SURRWDlHRFFBZ0FpQURRUUZHTmdLVUJ5QUFRUUVRQXlJRFFYOUdEUUFnQWlBRFFRRkdOZ0tZQndKQUlBTkJBVVlFUUNBQVFRRVFBeUlEUVg5R0RRSWdBaUFEUVFGR05nS2NCeUFBSUFKQm9BZHFFQUlpQVEwQ0lBSW9BcUFIUVJCTERRTWdBQ0FDUWFRSGFoQUNJZ0VOQWlBQ0tBS2tCMEVRU3cwRElBQWdBa0dvQjJvUUFpSUJEUUlnQWlnQ3FBZEJFRXNOQXlBQUlBSkJyQWRxRUFJaUFRMENRUUVoQVNBQ0tBS3NCMEVRU3cwQ0lBQWdBa0d3QjJvUUFpSUJEUUlnQUNBQ1FiUUhhaEFDSWdGRkRRRU1BZ3NnQWtFUU5nSzBCeUFDUXBDQWdJQ0FBamNDckFjZ0FrS0JnSUNBZ0FJM0FxUUhJQUpDZ1lDQWdDQTNBcHdIQzBFQUlRRUxJQUVQQzBFQkMwMEJBbjhqQUVFUWF5SURKQUJCQVNFRUFrQWdBQ0FEUVF4cUVBSU5BQ0FES0FJTUlnQkJMMHNOQUNBQlFkQS9RWURBQUNBQ0d5QUFhaTBBQURZQ0FFRUFJUVFMSUFOQkVHb2tBQ0FFQ3o0QkFuOENRQ0FBS0FJTVFRTjBJQUFvQWhCcklnRkZCRUFNQVF0QkFTRUNJQUZCQ0VzTkFFRUJJQUZCZjJwMElBQVFEMEVnSUFGcmRrY1BDeUFDQ3pJQkFuOENRRUdBZ0lEQUFDSUJJQUJ4RFFBRFFDQUNRUUZxSVFJZ0FVRUJkaUlCUlEwQklBQWdBWEZGRFFBTEN5QUNDNG9DQVFkL0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRUNRUUVoQXlBQlFRWlBCRUJCQUNFRElBSWdBVUdRUEdvdEFBQkJmMnAwSVFJTElBQWdBQ2dDQUNJQklBQW9BZ2dpQkdzaUJTQUFLQUlFSWdZZ0FDZ0NEQ0lIYXlJSWF5QUNiQ0FEZFRZQ0RDQUFJQVVnQ0dvZ0Ftd2dBM1UyQWdnZ0FDQUJJQVJxSWdFZ0JpQUhhaUlFYXlBQ2JDQURkVFlDQkNBQUlBRWdCR29nQW13Z0EzVTJBZ0FnQUNBQUtBSWNJZ0VnQUNnQ0ZDSUVhaUlGSUFBb0FoZ2lCaUFBS0FJUUlnZHFJZ2hxSUFKc0lBTjFOZ0lRSUFBZ0JDQUJheUlCSUFjZ0Jtc2lCR29nQW13Z0EzVTJBaGdnQUNBSUlBVnJJQUpzSUFOMU5nSVVJQUFnQkNBQmF5QUNiQ0FEZFRZQ0hBdlBDQUVVZnlBQUlBQW9BaXdpQWlBQUtBSU1JZ1pxSWdVZ0FDZ0NOQ0lFSUFBb0FpQWlFR29pQ21zaUVUWUNMQ0FBS0FJb0lRTWdBQ0FHSUFKcklnY2dFQ0FFYXlJRWF5SUdOZ0lvSUFBb0FpUWhBaUFBSUFRZ0Iyb2lCRFlDSkNBQUlBVWdDbW9pQlRZQ0lDQUFJQUFvQWh3aUNpQUFLQUlJSWdkcUlnZ2dBQ2dDTUNJTUlBQW9BaEFpQ1dvaUMyc2lFRFlDSENBQUtBSVlJUThnQUNBSElBcHJJZ2NnQ1NBTWF5SU1heUlLTmdJWUlBQW9BaFFoQ1NBQUlBY2dER29pQnpZQ0ZDQUFJQWdnQzJvaUNEWUNFQ0FBSUFrZ0FDZ0NBQ0lMYWlJU0lBOGdBQ2dDQkNJTmFpSU9heUlNTmdJTUlBQWdDeUFKYXlJSklBMGdEMnNpQzJzaUR6WUNDQ0FBSUFrZ0Myb2lDVFlDQkNBQUlBNGdFbW9pQ3pZQ0FDQUFJQUlnQUNnQ09DSU5haUlUSUFNZ0FDZ0NQQ0lPYWlJVWF5SVNOZ0k4SUFBZ0FpQU5heUlDSUFNZ0Rtc2lBMnNpRFRZQ09DQUFJQUlnQTJvaURqWUNOQ0FBSUJNZ0ZHb2lFellDTUNBQlFaQThhaTBBQUNFQ0lBRkJvRDFxTFFBQVFReHNRZEE4YWlnQ0FDRURJQUZCREU4RVFDQUFJQU1nQWtGK2FuUWlBU0FGSUF0cUlnTWdDQ0FUYWlJQ2EydzJBakFnQUNBTElBVnJJZ1VnQ0NBVGF5SUlheUFCYkRZQ0lDQUFJQVVnQ0dvZ0FXdzJBaEFnQUNBQ0lBTnFJQUZzTmdJQUlBQWdCQ0FKYWlJRElBY2dEbW9pQW1zZ0FXdzJBalFnQUNBSklBUnJJZ1FnQnlBT2F5SUZheUFCYkRZQ0pDQUFJQVFnQldvZ0FXdzJBaFFnQUNBQ0lBTnFJQUZzTmdJRUlBQWdCaUFQYWlJRElBb2dEV29pQW1zZ0FXdzJBamdnQUNBUElBWnJJZ1lnQ2lBTmF5SUVheUFCYkRZQ0tDQUFJQVFnQm1vZ0FXdzJBaGdnQUNBQ0lBTnFJQUZzTmdJSUlBQWdEQ0FSYXlJRElCQWdFbXNpQW1zZ0FXdzJBaXdnQUNBQ0lBTnFJQUZzTmdJY0lBQWdFQ0FTYWlJRElBd2dFV29pQW1vZ0FXdzJBZ3dnQUNBQ0lBTnJJQUZzTmdJOER3c2dBRUVCUVFJZ0FVRjZha0VHU1JzaUFTQUZJQXRxSWhRZ0NDQVRhaUlWYXlBRGJHcEJBaUFDYXlJQ2RUWUNNQ0FBSUFzZ0JXc2lCU0FJSUJOcklnaHJJQU5zSUFGcUlBSjFOZ0lnSUFBZ0JTQUlhaUFEYkNBQmFpQUNkVFlDRUNBQUlCUWdGV29nQTJ3Z0FXb2dBblUyQWdBZ0FDQUVJQWxxSWdVZ0J5QU9haUlJYXlBRGJDQUJhaUFDZFRZQ05DQUFJQWtnQkdzaUJDQUhJQTVySWdkcklBTnNJQUZxSUFKMU5nSWtJQUFnQkNBSGFpQURiQ0FCYWlBQ2RUWUNGQ0FBSUFVZ0NHb2dBMndnQVdvZ0FuVTJBZ1FnQUNBR0lBOXFJZ1FnQ2lBTmFpSUZheUFEYkNBQmFpQUNkVFlDT0NBQUlBOGdCbXNpQmlBS0lBMXJJZ3BySUFOc0lBRnFJQUoxTmdJb0lBQWdCaUFLYWlBRGJDQUJhaUFDZFRZQ0dDQUFJQVFnQldvZ0Eyd2dBV29nQW5VMkFnZ2dBQ0FNSUJGcklnWWdFQ0FTYXlJRWF5QURiQ0FCYWlBQ2RUWUNMQ0FBSUFRZ0Jtb2dBMndnQVdvZ0FuVTJBaHdnQUNBUUlCSnFJZ1lnRENBUmFpSVJhaUFEYkNBQmFpQUNkVFlDRENBQUlCRWdCbXNnQTJ3Z0FXb2dBblUyQWp3THZRVUJCbjhqQUVFZ2F5SUZKQUFnQTBFQU5nSUFBa0FnQVNnQ0FDSUdRUkpMRFFCQkFTQUdkQ0lHUWNEZkgzRkZCRUFnQmtFaWNVVU5BU0FDUWJRS2FpZ0NBQVJBSUFOQkFUWUNBQ0FDUVFBMkFyUUtDeUFBSUFWQkhHb1FJQ0lFRFFGQjhQOERJUVFnQWlBRktBSWNRUUowYWlnQ2xBRWlDRVVOQVNBQ0lBZ29BZ1FpQmtFQ2RHb29BaFFpQjBVTkFRSkFJQUlvQWdnaUNVRWdSZzBBSUFZZ0NVWU5BQ0FCS0FJQVFRVkhEUUlMQWtBZ0FrR1lDbW9vQWdBaUJDQUJLQUlFSWdaR0RRQWdCRUVBSUFZYkRRQWdBMEVCTmdJQUN5QUJLQUlBSVFRQ1FBSkFJQUlvQXBRS1FRVkdCRUFnQkVFRlJ3MEJEQUlMSUFSQkJVY05BUXNnQTBFQk5nSUFDMEVCSVFRZ0FDQUhLQUlNSUFWQkdHb1FQUTBCSUFVb0FoZ2lCaUFDUVp3S2FpZ0NBRWNFUUNBQ0lBWTJBcHdLSUFOQkFUWUNBQXNnQVNnQ0FFRUZSZ1JBSUFBZ0J5Z0NEQ0FGUVJScUVEd05BZ0pBSUFJb0FwUUtRUVZIQkVBZ0JTZ0NGQ0VFREFFTElBSkJvQXBxS0FJQUlnUWdCU2dDRkNJR1JnMEFJQU5CQVRZQ0FDQUdJUVFMSUFKQm9BcHFJQVEyQWdBTEFrQWdCeWdDRUNJRVFRRkxEUUFnQkVFQmF3UkFRUUVoQkNBQUlBY2dBU2dDQUNBRlFRaHFFRHNOQXlBRktBSUlJZ1FnQWtHa0Ntb29BZ0JIQkVBZ0FpQUVOZ0trQ2lBRFFRRTJBZ0FMSUFnb0FnaEZEUUVnQUNBSElBRW9BZ0FnQlVFUWFoQTZJZ1FOQXlBRktBSVFJZ0FnQWtHb0Ntb29BZ0JHRFFFZ0FpQUFOZ0tvQ2lBRFFRRTJBZ0FNQVFzZ0J5Z0NHQTBBSUFBZ0J5QUJLQUlBSUFnb0FnZ2dCVUVJYWhBNUlnUU5BaUFGS0FJSUlnQWdBa0dzQ21vb0FnQkhCRUFnQWlBQU5nS3NDaUFEUVFFMkFnQUxJQWdvQWdoRkRRQWdCU2dDRENJQUlBSkJzQXBxS0FJQVJnMEFJQUlnQURZQ3NBb2dBMEVCTmdJQUN5QUNJQUVwQWdBM0FwUUtRUUFoQkF3QkN5QURRUUUyQWdBTElBVkJJR29rQUNBRUMzOEJBMzhDUUFKQUFrQWdBRUg4Q21vb0FnQUVRQ0FBS0FLWUNTSUREUUZCQVE4TFFRRWhBU0FBUWF3SmFpZ0NBQ0FBS0FLWUNVY05BUXdDQ3lBQUtBSzhDU0VCUVFBaEFBTkFJQUlnQVNBQVFkZ0JiR29vQXNRQlFRQkhhaUVDSUFCQkFXb2lBQ0FEUncwQUMwRUJJUUVnQWlBRFJnMEJDMEVBSVFFTElBRUxTZ0VEZnlBQVFnQTNBcWdKSUFBb0FwZ0pJZ0VFUUNBQUtBSzhDU0VDUVFBaEFBTkFJQUlnQUVIWUFXeHFJZ05CQURZQ3hBRWdBMEVBTmdJRUlBQkJBV29pQUNBQlJ3MEFDd3NMZ3dZQkRIOUJBU0VHQWtBZ0FDQUJRUUowYWlnQ2xBRWlCRVVOQUNBQUlBUW9BZ1FpQ1VFQ2RHb2lDa0VVYWlnQ0FDSURSUTBBQWtBZ0JDZ0NEQ0lGUVFKSkRRQWdBeWdDTkNJSElBTW9BamhzSVFnQ1FDQUVLQUlRSWdOQkFrc05BQUpBQWtBQ1FDQURRUUZyRGdJREFBRUxJQVZCZjJvaEN5QUVLQUljSVF3Z0JDZ0NHQ0VOUVFBaEF3d0JDeUFFS0FJVUlRZEJBQ0VEQTBBZ0J5QURRUUowYWlnQ0FDQUlUUVJBSUFVZ0EwRUJhaUlEUncwQkRBUUxDMEVCRHdzRFFDQU5JQU5CQW5RaUJXb29BZ0FpRGlBRklBeHFLQUlBSWdWTERRTWdCU0FJVHcwRElBNGdCM0FnQlNBSGNFMEVRQ0FEUVFGcUlnTWdDMFlOQXd3QkN3dEJBUThMSUFOQmZXcEJBazBFUUNBRUtBSWtJQWhORFFFTUFnc2dBMEVHUncwQUlBUW9BaWdnQ0VrTkFRc0NRQ0FBS0FJRUlnTkJnQUpHQkVBZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQW9BclFhQkVBZ0FFRUFOZ0swR2lBQUtBSzhDUkFFSUFCQkFEWUN2QWtnQUNnQ2xBa1FCQ0FBSUFBb0FwZ0pJZ0ZCMkFGc0lnUVFDaUlDTmdLOENTQUFJQUZCQW5RUUNpSUROZ0tVQ1VILy93TWhCaUFDUlEwQ0lBTkZEUUlnQWtFQUlBUVFCeUFBS0FJUUtBSTBJQUVRVGlBQUtBSVFJUUZCQVNFQ0FrQWdBQ2dDd0FrTkFDQUJLQUlRUVFKR0RRQUNRQ0FCS0FKUVJRMEFJQUVvQWxRaUJDZ0NtQWRGRFFBZ0JDZ0NzQWRGRFFFTFFRQWhBZ3NnQUVIRUNXb2dBU2dDT0NBQktBSTBiQ0FCS0FKWUlBRW9BaXdnQVNnQ0RDQUNFRndpQmtVTkFRd0NDeUFCSUFOR0RRQWdBQ2dDQ0NBSlJ3UkFJQUpGRFFJZ0FDQUVOZ0lNSUFBZ0FUWUNCQ0FBSUFrMkFnZ2dBQ0FLS0FJVUlnRTJBaEFnQVNnQ05DRUNJQUVvQWpnaEFTQUFRUUUyQXJRYUlBQkJ3QXBxSUFFMkFnQWdBRUc4Q21vZ0FqWUNBQ0FBSUFFZ0FtdzJBcGdKREFFTElBQWdCRFlDRENBQUlBRTJBZ1FMUVFBaEJnc2dCZ3UyQVFFRGZ3SkFJQUFnQVNnQ0FDSURRUUowYWlJQ0tBS1VBU0lFUlFSQUlBSkJ5QUFRQ2lJQU5nS1VBU0FBRFFFUEN3SkFJQU1nQUNnQ0JFY05BQ0FCS0FJRUlBQW9BZ2hHRFFBZ0FFR0JBallDQkFzZ0JDZ0NGQkFFSUFJb0FwUUJRUUEyQWhRZ0FpZ0NsQUVvQWhnUUJDQUNLQUtVQVVFQU5nSVlJQUlvQXBRQktBSWNFQVFnQWlnQ2xBRkJBRFlDSENBQ0tBS1VBU2dDTEJBRUlBSW9BcFFCUVFBMkFpd0xJQUlvQXBRQklBRkJ5QUFRRlJvTDFnRUJBMzhDUUNBQUlBRW9BZ2dpQTBFQ2RHb2lBaWdDRkNJRVJRUkFJQUpCM0FBUUNpSUFOZ0lVSUFBTkFROExJQUFvQWdnZ0EwWUVRQ0FCSUFBb0FoQVFRZ1JBSUFJb0FoUW9BaWdRQkNBQ0tBSVVRUUEyQWlnZ0FpZ0NGQ2dDVkJBRUlBSW9BaFJCQURZQ1ZDQUFRUUEyQWhBZ0FFR0JBallDQkNBQVFpRTNBZ2dNQWdzZ0FTZ0NLQkFFSUFGQkFEWUNLQ0FCS0FKVUVBUWdBVUVBTmdKVUR3c2dCQ2dDS0JBRUlBSW9BaFJCQURZQ0tDQUNLQUlVS0FKVUVBUWdBaWdDRkVFQU5nSlVDeUFDS0FJVUlBRkIzQUFRRlJvTDBnSUJBMzhqQUVFZ2F5SUVKQUFnQkNBQktBSVFOZ0lRSUFRZ0FTa0NDRGNEQ0NBRUlBRXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUJEUUFnQkNBRVFSeHFFQUlpQVEwQUlBUWdCRUVjYWhBQ0lnRU5BQ0FDS0FJTUlRWkJBQ0VCQTBBZ0FTSUZRUUZxSVFFZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQVF3QkN5QUVJQVJCSEdvUUFpSUJEUUFDUUNBQ0tBSVFJZ0VFZnlBQkJTQUNLQUlVSVFaQkFDRUJBMEFnQVNJRlFRRnFJUUVnQmlBRmRnMEFDeUFFSUFWQmYyb1FBMEYvUmdSQVFRRWhBUXdEQ3lBREtBSUlCRUFnQkNBRVFSaHFFQVVpQVEwREN5QUNLQUlRQzBFQlJ3MEFJQUlvQWhnTkFDQUVJQVJCR0dvUUJTSUJEUUVnQXlnQ0NFVU5BQ0FFSUFSQkdHb1FCU0lCRFFFTElBTW9Ba1FFUUNBRUlBUkJIR29RQWlJQkRRRUxJQUFnQkVFQkVBTWlBRFlDQUNBQVFYOUdJUUVMSUFSQklHb2tBQ0FCQzhZQkFRSi9Jd0JCSUdzaUJTUUFJQVVnQUNnQ0VEWUNFQ0FGSUFBcEFnZzNBd2dnQlNBQUtRSUFOd01BQWtBZ0JTQUZRUnhxRUFJaUFBMEFJQVVnQlVFY2FoQUNJZ0FOQUNBRklBVkJIR29RQWlJQURRQWdBU2dDRENFR1FRQWhBQU5BSUFBaUFVRUJhaUVBSUFZZ0FYWU5BQXNnQlNBQlFYOXFFQU5CZjBZRVFFRUJJUUFNQVFzZ0FrRUZSZ1JBSUFVZ0JVRWNhaEFDSWdBTkFRc2dCU0FFRUFVaUFBMEFJQU1FUUNBRklBUkJCR29RQlNJQURRRUxRUUFoQUFzZ0JVRWdhaVFBSUFBTDRRRUJBMzhqQUVFZ2F5SUVKQUFnQkNBQUtBSVFOZ0lRSUFRZ0FDa0NDRGNEQ0NBRUlBQXBBZ0EzQXdBQ1FDQUVJQVJCSEdvUUFpSUFEUUFnQkNBRVFSeHFFQUlpQUEwQUlBUWdCRUVjYWhBQ0lnQU5BQ0FCS0FJTUlRWkJBQ0VBQTBBZ0FDSUZRUUZxSVFBZ0JpQUZkZzBBQ3lBRUlBVkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUNRUVZHQkVBZ0JDQUVRUnhxRUFJaUFBMEJDeUFCS0FJVUlRSkJBQ0VBQTBBZ0FDSUJRUUZxSVFBZ0FpQUJkZzBBQ3lBRUlBRkJmMm9RQTBGL1JnUkFRUUVoQUF3QkN5QUVJQU1RQlNFQUN5QUVRU0JxSkFBZ0FBdm1BUUVEZnlNQVFTQnJJZ1FrQUNBRUlBQW9BaEEyQWhBZ0JDQUFLUUlJTndNSUlBUWdBQ2tDQURjREFBSkFJQVFnQkVFY2FoQUNJZ0FOQUNBRUlBUkJIR29RQWlJQURRQWdCQ0FFUVJ4cUVBSWlBQTBBSUFFb0Fnd2hCa0VBSVFBRFFDQUFJZ1ZCQVdvaEFDQUdJQVYyRFFBTElBUWdCVUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQUpCQlVZRVFDQUVJQVJCSEdvUUFpSUFEUUVMSUFFb0FoUWhBa0VBSVFBRFFDQUFJZ0ZCQVdvaEFDQUNJQUYyRFFBTElBUWdBVUYvYWhBRElnQkJmMFlFUUVFQklRQU1BUXNnQXlBQU5nSUFRUUFoQUFzZ0JFRWdhaVFBSUFBTGtnRUJBbjhqQUVFZ2F5SURKQUFnQXlBQUtBSVFOZ0lRSUFNZ0FDa0NBRGNEQUNBRElBQXBBZ2czQXdnQ1FDQURJQU5CSEdvUUFpSUFEUUFnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BRUVBSVFBRFFDQUFJZ1JCQVdvaEFDQUJJQVIyRFFBTElBTWdCRUYvYWhBRFFYOUdCRUJCQVNFQURBRUxJQU1nQWhBQ0lRQUxJQU5CSUdva0FDQUFDNWNCQVFKL0l3QkJJR3NpQXlRQUlBTWdBQ2dDRURZQ0VDQURJQUFwQWdnM0F3Z2dBeUFBS1FJQU53TUFBa0FnQXlBRFFSeHFFQUlpQUEwQUlBTWdBMEVjYWhBQ0lnQU5BQ0FESUFOQkhHb1FBaUlBRFFCQkFDRUFBMEFnQUNJRVFRRnFJUUFnQVNBRWRnMEFDeUFESUFSQmYyb1FBeUlBUVg5R0JFQkJBU0VBREFFTElBSWdBRFlDQUVFQUlRQUxJQU5CSUdva0FDQUFDNjhPQVFwL0l3QkJFR3NpQlNRQUlBRkJBRUhjQnhBSElRY2dBaWdDTkNFR0lBSW9BamdoQ0FKQUlBQWdCVUVFYWhBQ0lnRU5BQ0FISUFVb0FnUWlBVFlDQUNBQklBWWdDR3dpQzA4RVFFRUJJUUVNQVFzZ0FDQUZRUVJxRUFJaUFRMEFJQWNnQlNnQ0JDSUdOZ0lFSUFaQkIwc0VRRUVCSVFFTUFRdEJBU0VCQWtBQ1FDQUdRUUZyRGdjQ0FRSUNBQUlCQUFzZ0JDZ0NBRUVGUmdSQURBSUxJQUlvQWl3TkFBd0JDeUFBSUFWQkJHb1FBaUlCRFFBZ0J5QUZLQUlFSWdZMkFnaEJBU0VCSUFZZ0F5Z0NBRWNOQUNBQ0tBSU1JUWhCQUNFQkEwQWdBU0lHUVFGcUlRRWdDQ0FHZGcwQUMwRUJJUUVnQUNBR1FYOXFFQU1pQmtGL1JnMEFJQVpCQUNBRUtBSUFJZ2hCQlVZYkRRQWdCeUFHTmdJTUlBaEJCVVlFUUNBQUlBVkJCR29RQWlJQkRRRWdCeUFGS0FJRUlnWTJBaEJCQVNFQklBWkIvLzhEU3cwQkN3SkFJQUlvQWhBaUFRUi9JQUVGSUFJb0FoUWhDRUVBSVFFRFFDQUJJZ1pCQVdvaEFTQUlJQVoyRFFBTElBQWdCa0YvYWhBRElnRkJmMFlFUUVFQklRRU1Bd3NnQnlBQk5nSVVJQU1vQWdnRVFDQUFJQVVRQlNJQkRRTWdCeUFGS0FJQU5nSVlDeUFFS0FJQVFRVkdCRUJCQVNFQklBY29BaFFpQmlBQ0tBSVVRUUYyU3cwRElBWkJBQ0FIS0FJWUlnaEJIM1VnQ0hGclJ3MERDeUFDS0FJUUMwRUJSdzBBSUFJb0FoZ05BQ0FBSUFVUUJTSUJEUUVnQnlBRktBSUFOZ0ljSUFNb0FnZ0VRQ0FBSUFVUUJTSUJEUUlnQnlBRktBSUFOZ0lnQ3lBRUtBSUFRUVZIRFFCQkFTRUJJQWNvQWh3aUJpQUhLQUlnSUFZZ0FpZ0NJR3BxSWdnZ0JpQUlTQnNOQVFzZ0F5Z0NSQVJBSUFBZ0JVRUVhaEFDSWdFTkFTQUhJQVVvQWdRaUJqWUNKRUVCSVFFZ0JrSC9BRXNOQVFzQ1FDQUhLQUlFSWdGQkJVc05BQUpBSUFGQkFXc09CQUVCQVFFQUMwRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDS0FKQUlBWUVRQ0FBSUFWQkJHb1FBaUlCRFFOQkFTRUJJQVVvQWdRaUJrRVBTdzBESUFaQkFXb2hCZ3dCQ3lBREtBSXdJZ1pCRUVzTkFnc2dCeUFHTmdJc0lBY29BZ1FoQVFzQ1FDQUJRUVZMRFFBQ1FDQUJRUUZyRGdRQkFRRUJBQXNnQWlnQ0RDRUpJQWNvQWl3aENrRUJJUUVnQUVFQkVBTWlCa0YvUmcwQklBY2dCallDUkNBR1JRMEFRUUFoQVFOQUlBRWlCaUFLU3dSQVFRRWhBUXdEQ3lBQUlBVkJDR29RQWlJQkRRSWdCU2dDQ0NJQlFRTkxCRUJCQVNFQkRBTUxJQWNnQmtFTWJHb2lDQ0FCTmdKSUFrQWdBVUVCVFFSQUlBQWdCVUVNYWhBQ0lnRU5CQ0FGS0FJTUlnRWdDVThFUUVFQklRRU1CUXNnQ0NBQlFRRnFOZ0pNREFFTElBRkJBa2NOQUNBQUlBVkJER29RQWlJQkRRTWdDQ0FGS0FJTU5nSlFDeUFHUVFGcUlRRWdCU2dDQ0VFRFJ3MEFDMEVCSVFFZ0JrVU5BUXNDUUNBRUtBSUVSUTBBSUFRb0FnQWhCQ0FDS0FJc0lRbEJBU0VCSUFCQkFSQURJUUlnQkVFRlJnUkFJQUpCZjBZTkFpQUhJQUkyQXBRQ0lBQkJBUkFESWdKQmYwWU5BaUFISUFJMkFwZ0NJQWtOQVNBQ1JRMEJEQUlMSUFKQmYwWU5BU0FISUFJMkFwd0NJQUpGRFFBZ0NVRUJkRUVEYWlFT1FRQWhCa0VBSVFwQkFDRUVBMEFnQmlBT1JnUkFRUUVoQVF3REN5QUFJQVZCQ0dvUUFpSUJEUUlnQlNnQ0NDSUNRUVpMQkVCQkFTRUJEQU1MSUFjZ0JrRVViR29pQ0NBQ05nS2dBZ0ovSUFKQkFuSkJBMFlFUUNBQUlBVkJER29RQWlJQkRRUWdDQ0FGS0FJTVFRRnFOZ0trQWlBRktBSUlJUUlMSUFKQkFrWUxCRUFnQUNBRlFReHFFQUlpQVEwRElBZ2dCU2dDRERZQ3FBSWdCU2dDQ0NFQ0N3SkFJQUpCZldvaUFVRURTdzBBQWtBZ0FVRUJhdzRDQVFFQUN5QUFJQVZCREdvUUFpSUJEUU1nQ0NBRktBSU1OZ0tzQWlBRktBSUlJUUlMSUFKQkJFWUVRQ0FBSUFWQkRHb1FBaUlCRFFNZ0JTZ0NEQ0lCSUFsTEJFQkJBU0VCREFRTElBZ2dBVUYvYWtILy93TWdBUnMyQXJBQ0lBcEJBV29oQ2lBRktBSUlJUUlMSUFaQkFXb2hCaUFNSUFKQkJrWnFJUXdnQkNBQ1FRVkdhaUVFSUEwZ0FrRi9ha0VEU1dvaERTQUNEUUFMUVFFaEFTQUVJQXB5SUF4eVFRRkxEUUVnQkVVTkFDQU5EUUVMSUFBZ0JSQUZJZ0VOQUNBSElBVW9BZ0FpQVRZQ01DQUZJQUVnQXlnQ05Hb2lBallDQUVFQklRRWdBa0V6U3cwQUFrQWdBeWdDUEVVTkFDQUFJQVZCQkdvUUFpSUJEUUVnQnlBRktBSUVJZ0kyQWpSQkFTRUJJQUpCQWtzTkFTQUNRUUZHRFFBZ0FDQUZFQVVpQVEwQlFRRWhBU0FGS0FJQUlnSkJCbXBCREVzTkFTQUhJQUpCQVhRMkFqZ2dBQ0FGRUFVaUFRMEJRUUVoQVNBRktBSUFJZ0pCQm1wQkRFc05BU0FISUFKQkFYUTJBandMQWtBZ0F5Z0NERUVDU1EwQUlBTW9BaEJCZldwQkFrc05BRUVDUVFFZ0N5QUxJQU1vQWlRaUFXNGlBaUFCYkdzYklBSnFJUVJCQUNFQ0EwQWdCQ0FDSWdGQkFXb2lBbllOQUFzZ0JTQUFJQUlnQVNBRVFYOGdBWFJCZjNOeEd4QURJZ0EyQWdSQkFTRUJJQUJCZjBZTkFTQUhJQUEyQWtBZ0FDQUxJQU1vQWlRaUFHcEJmMm9nQUc1TERRRUxRUUFoQVFzZ0JVRVFhaVFBSUFFTHdRa0JEWDhnQXlBRWJDRUZJQUVvQWd3aUNVRUJSZ1JBSUFCQkFDQUZRUUowRUFjYUR3c0NRQUpBQWtBQ1FDQUJLQUlRSWdaQmZXcEJBazBFUUNBQktBSWtJQUpzSWdJZ0JTQUNJQVZKR3lFTElBWkJmbkZCQkVjTkFTQUZJQXRySUFzZ0FTZ0NJQnNoQndzQ1FBSkFBa0FnQmtFRlRRUkFJQVpCQVdzT0JRWUZCQU1DQVFzZ0JVVU5CaUFCS0FJc0lRSkJBQ0VCQTBBZ0FDQUJRUUowSWdOcUlBSWdBMm9vQWdBMkFnQWdBVUVCYWlJQklBVkhEUUFMREFZTEFrQWdDUVJBSUFFb0FoUWhBa0VBSVFZTUFRc2dCVVVOQmdOQURBQUFDd0FMQTBCQkFDRUVJQVlnQlU4TkJnTkFRUUFoQndKQUlBSWdCRUVDZEdvaUF5Z0NBQ0lCUlEwQUlBRWhCeUFGSUFaTkRRQkJBQ0VCUVFBZ0JTQUdheUlISUFjZ0JVc2JJUWdEUUNBQUlBRWdCbXBCQW5ScUlBUTJBZ0FnQVVFQmFpSUJJQU1vQWdBaUIwOE5BU0FCSUFoSERRQUxDeUFFUVFGcUlnUWdDVWxCQUNBR0lBZHFJZ1lnQlVrYkRRQUxJQVlnQlVrTkFBc01CUXNnQTBVTkJDQUVSUTBFUVFFZ0FTZ0NJQ0lKYXlFSVFRQWhCVUVBSVFJRFFFRUFJUUVnQlNFR0EwQWdBQ0FCSUFOc0lBSnFRUUowYWlBSklBZ2dCaUFIU1JzMkFnQWdCa0VCYWlFR0lBRkJBV29pQVNBRVJ3MEFDeUFFSUFWcUlRVWdBa0VCYWlJQ0lBTkhEUUFMREFRTElBVkZEUU5CQVNBQktBSWdJZ0pySVFOQkFDRUJBMEFnQUNBQlFRSjBhaUFDSUFNZ0FTQUhTUnMyQWdBZ0FVRUJhaUlCSUFWSERRQUxEQU1MSUFFb0FpQWhBaUFGQkVCQkFDRUJBMEFnQUNBQlFRSjBha0VCTmdJQUlBRkJBV29pQVNBRlJ3MEFDd3NnQzBVTkFpQURRWDlxSVE4Z0JFRi9haUVRSUFKQmYyb2hCa0VCSUFKQkFYUWlBV3NoQlNBQlFYOXFJUWtnQkNBQ2EwRUJkaUlLSVF3Z0F5QUNhMEVCZGlJTklRUWdDaUVJSUEwaEFVRUFJUWNEUUNBQUlBTWdDR3dnQVdwQkFuUnFJZzRvQWdBaUVVRUJSZ1JBSUE1QkFEWUNBQXNnRVVFQlJpRU9Ba0FDUUNBR1FYOUhEUUFnQVNBRVJ3MEFRUUFoQmlBSklRSWdCRUVCSUFSQkFVb2JRWDlxSWdFaEJBd0JDd0pBSUFaQkFVY05BQ0FCSUExSERRQkJBQ0VHSUFVaEFpQU5RUUZxSWdFZ0R5QUJJQTlJR3lJQklRME1BUXNDUUNBQ1FYOUhEUUFnQ0NBTVJ3MEFRUUFoQWlBRklRWWdERUVCSUF4QkFVb2JRWDlxSWdnaERBd0JDd0pBSUFKQkFVY05BQ0FJSUFwSERRQkJBQ0VDSUFraEJpQUtRUUZxSWdnZ0VDQUlJQkJJR3lJSUlRb01BUXNnQWlBSWFpRUlJQUVnQm1vaEFRc2dCeUFPYWlJSElBdEpEUUFMREFJTElBRW9BaHdoQnlBQktBSVlJUWdnQlFSQUlBbEJmMm9oQWtFQUlRRURRQ0FBSUFGQkFuUnFJQUkyQWdBZ0FVRUJhaUlCSUFWSERRQUxJQUpGRFFJTElBbEJmbW9oQVFOQUFrQWdDQ0FCSWdSQkFuUWlBV29vQWdBaUJpQURiaUlDSUFFZ0Iyb29BZ0FpQVNBRGJpSUZTdzBBSUFZZ0FpQURiR3NpQmlBQklBTWdCV3hySWdsTEJFQURRQ0FDUVFGcUlnSWdCVTBOQUF3Q0FBc0FDd05BSUFJZ0Eyd2hDaUFHSVFFRFFDQUFJQUVnQ21wQkFuUnFJQVEyQWdBZ0FVRUJhaUlCSUFsTkRRQUxJQUpCQVdvaUFpQUZUUTBBQ3dzZ0JFRi9haUVCSUFRTkFBc01BUXNnQlVVTkFFRUFJUUVEUUNBQUlBRkJBblJxSUFFZ0EyNGlBaUFKYkVFQmRpQUJJQUlnQTJ4cmFpQUpjRFlDQUNBQlFRRnFJZ0VnQlVjTkFBc0xDOFFCQVFWL0lBQW9BcWdKSVFRQ1FDQUFRYkFKYWlnQ0FDSUNSUTBBSUFKQmYyb2lBaUFCVFFSQUlBSWhBUXdCQ3lBQUtBSzhDU0VGQTBBQ1FDQUZJQUpCMkFGc2FpZ0NCQ0FFUncwQUlBTkJBV29pQXlBQUtBSVFLQUkwSWdaQkNpQUdRUXBMRzBrTkFDQUNJUUVNQWdzZ0FrRi9haUlDSUFGTERRQUxDd05BQWtBZ0FDZ0N2QWtnQVVIWUFXeHFJZ0lvQWdRZ0JFY05BQ0FDS0FMRUFTSURSUTBBSUFJZ0EwRi9hallDeEFFZ0FDZ0NsQWtnQUNnQ21Ba2dBUkFlSWdFTkFRc0xDNzBFQWd0L0FYNGpBRUhBQTJzaUJTUUFJQU1vQWdBaEJ5QUJLQUt3R2lFSUlBVkJBRFlDRENBQlFiQUpha0VBTmdJQUlBRWdBU2dDcUFsQkFXbzJBcWdKSUFVZ0F5Z0NNQ0FCS0FJTUtBSTBhallDQ0NBQlFjUUphaUVOSUFoQkRHb2hEZ0pBQTBBZ0FTZ0N2QWtoQkFKQUlBTW9BaVFOQUNBRUlBZEIyQUZzYWlnQ3hBRkZEUUJCQVNFRURBSUxJQU1wQWpRaER5QURLQUk4SVFzZ0FTZ0NxQWtoRENBRUlBZEIyQUZzSWdacUlnUWdBU2dDRENnQ09EWUNHQ0FFSUFzMkFoQWdCQ0FQTndJSUlBUWdERFlDQkFKQUlBTW9BZ1FpQkVFQ1JnMEFJQWtOQUNBRVFRZEdEUUFnQUNBRlFReHFFQUlpQkEwQ0lBVW9BZ3dpQkNBQktBS1lDU0FIYTBzRVFFRUJJUVFNQXdzZ0JFVUVRRUVBSVFrTUFRc2dEa0VBUWFRQkVBY2FJQWhCQURZQ0FFRUJJUWtMQWtBZ0JTZ0NEQ0lFQkVBZ0JTQUVRWDlxTmdJTURBRUxRUUFoQ1NBQUlBZ2dBU2dDdkFrZ0Jtb2dBeWdDQkNBREtBSXNFRkVpQkEwQ0N5QUJLQUs4Q1NBR2FpQUlJQUlnRFNBRlFRaHFJQWNnQVNnQ0RDZ0NRQ0FGUVJCcUVGQWlCQTBCSUFFb0Fyd0pJQVpxS0FMRUFTRUxJQUFRTGlFRUlBVW9BZ3doQmdKQUlBTW9BZ1JCZm1vaURFRUZTdzBBQWtBZ0RFRUJhdzRFQVFFQkFRQUxJQUVnQnpZQ3NBa0xJQVFnQm5JaEJrRUJJUVFnQVNnQ2xBa2dBU2dDbUFrZ0J4QWVJZ2RGUVFBZ0Joc05BU0FLSUF0QkFVWnFJUW9nQmcwQUN5QUJRYXdKYWlnQ0FDQUthaUlBSUFFb0FwZ0pTdzBBSUFFZ0FEWUNyQWxCQUNFRUN5QUZRY0FEYWlRQUlBUUw1Z0lCQjM5QkFTRUNBa0FnQUNnQ0FDQUJLQUlBUncwQUlBQW9BZ1FnQVNnQ0JFY05BQ0FBS0FJTUlBRW9BZ3hIRFFBZ0FDZ0NFQ0lESUFFb0FoQkhEUUFnQUNnQ0xDQUJLQUlzUncwQUlBQW9BakFnQVNnQ01FY05BQ0FBS0FJMElBRW9BalJIRFFBZ0FDZ0NPQ0FCS0FJNFJ3MEFJQUFvQWp3aUJTQUJLQUk4UncwQUlBQW9BbEFnQVNnQ1VFY05BQUpBSUFOQkFVc05BQ0FEUVFGclJRUkFJQUFvQWhnZ0FTZ0NHRWNOQWlBQUtBSWNJQUVvQWh4SERRSWdBQ2dDSUNBQktBSWdSdzBDSUFBb0FpUWlCQ0FCS0FJa1J3MENJQVJGRFFFZ0FTZ0NLQ0VHSUFBb0FpZ2hCMEVBSVFNRFFDQUhJQU5CQW5RaUNHb29BZ0FnQmlBSWFpZ0NBRWNOQXlBRUlBTkJBV29pQTBjTkFBc01BUXNnQUNnQ0ZDQUJLQUlVUncwQkN5QUZCRUFnQUNnQ1FDQUJLQUpBUncwQklBQW9Ba1FnQVNnQ1JFY05BU0FBS0FKSUlBRW9Ba2hIRFFFZ0FDZ0NUQ0FCS0FKTVJ3MEJDMEVBSVFJTElBSUwvd2tCQm44akFFRVFheUlFSkFBZ0FVRUFRZHdBRUFjaEF3SkFJQUJCQ0JBRElnRkJmMFlFUUVFQklRRU1BUXNnQXlBQk5nSUFJQUJCQVJBREdpQUFRUUVRQXhvZ0FFRUJFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUZFQU5CZjBZRVFFRUJJUUVNQVFzZ0FFRUlFQU1pQVVGL1JnUkFRUUVoQVF3QkN5QURJQUUyQWdRZ0FDQURRUWhxRUFJaUFRMEFJQU1vQWdoQkgwc0VRRUVCSVFFTUFRc2dBQ0FFUVF4cUVBSWlBUTBBUVFFaEFTQUVLQUlNSWdKQkRFc05BQ0FEUVFFZ0FrRUVhblEyQWd3Z0FDQUVRUXhxRUFJaUFRMEFRUUVoQVNBRUtBSU1JZ0pCQWtzTkFDQURJQUkyQWhBQ1FDQUNRUUZMRFFBZ0FrRUJhd1JBSUFBZ0JFRU1haEFDSWdFTkFrRUJJUUVnQkNnQ0RDSUNRUXhMRFFJZ0EwRUJJQUpCQkdwME5nSVVEQUVMSUFCQkFSQURJZ0pCZjBZTkFTQURJQUpCQVVZMkFoZ2dBQ0FEUVJ4cUVBVWlBUTBCSUFBZ0EwRWdhaEFGSWdFTkFTQUFJQU5CSkdvUUFpSUJEUUZCQVNFQklBTW9BaVFpQWtIL0FVc05BU0FDQkVBZ0F5QUNRUUowRUFvaUFUWUNLQ0FCUlFSQVFmLy9BeUVCREFNTElBQWdBUkFGSWdFTkFrRUJJUUlEUUNBQ0lBTW9BaVJQRFFJZ0FrRUNkQ0VCSUFKQkFXb2hBaUFBSUFFZ0F5Z0NLR29RQlNJQlJRMEFDd3dDQ3lBRFFRQTJBaWdMSUFBZ0EwRXNhaEFDSWdFTkFFRUJJUUVnQXlnQ0xFRVFTdzBBSUFCQkFSQURJZ0pCZjBZTkFDQURJQUpCQVVZMkFqQWdBQ0FFUVF4cUVBSWlBUTBBSUFNZ0JDZ0NERUVCYWpZQ05DQUFJQVJCREdvUUFpSUJEUUJCQVNFQklBTWdCQ2dDREVFQmFqWUNPQ0FBUVFFUUEwRUJha0VDU1EwQUlBQkJBUkFEUVg5R0RRQWdBRUVCRUFNaUFrRi9SZzBBSUFNZ0FrRUJSaUlCTmdJOEFrQWdBVVVFUUNBREtBSTRJUVVnQXlnQ05DRUdEQUVMSUFBZ0EwRkFheEFDSWdFTkFTQUFJQU5CeEFCcUVBSWlBUTBCSUFBZ0EwSElBR29RQWlJQkRRRWdBQ0FEUWN3QWFoQUNJZ0VOQVVFQklRRWdBeWdDUUNBREtBSkVRWDl6SUFNb0FqUWlCa0VEZEdwS0RRRWdBeWdDU0NBREtBSk1RWDl6SUFNb0FqZ2lCVUVEZEdwS0RRRUxBa0FDUUFKQUFrQWdBeWdDQkVGMmFpSUhRU2xMRFFCQjR3QWhBVUdBcEFraEFnSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnQjBFQmF3NHBBQUVCQ3dzTEN3c0xBUUlEQ3dzTEN3c0xDd01FQlFzTEN3c0xDd3NHQmdjTEN3c0xDd3NMQ0FrS0MwR01BeUVCUVlDTUZTRUNEQWtMUVl3RElRRkJnTmczSVFJTUNBdEJtQVloQVVHQXNPOEFJUUlNQnd0QjFBd2hBVUdBN0wwQklRSU1CZ3RCa0J3aEFVR0E4S1VESVFJTUJRdEJnQ2doQVVHQWdPQURJUUlNQkF0QmdNQUFJUUZCZ0lDQUJpRUNEQU1MUVlERUFDRUJRWUNBc0FZaEFnd0NDMEhBckFFaEFVR0F3SnNVSVFJTUFRdEJnS0FDSVFGQmdJRGdJU0VDQ3lBQklBVWdCbXdpQVU4TkFRc2dCRUgvLy8vL0J6WUNEQ0FES0FJc0lRSU1BUXNnQkNBQ0lBRkJnQU5zYmlJQlFSQWdBVUVRU1JzaUFUWUNEQ0FES0FJc0lnSWdBVTBOQVFzZ0JDQUNOZ0lNSUFJaEFRc2dBeUFCTmdKWVFRRWhBU0FBUVFFUUF5SUNRWDlHRFFBZ0F5QUNRUUZHTmdKUUFrQWdBa0VCUncwQUlBTkJ1QWNRQ2lJQk5nSlVJQUZGQkVCQi8vOERJUUVNQWdzZ0FDQUJFQ3dpQVEwQklBTW9BbFFpQWlnQ21BZEZEUUJCQVNFQklBSW9BckFISUFJb0FyUUhJZ0pMRFFFZ0FpQURLQUlzU1EwQklBSWdBeWdDV0VzTkFTQURJQUpCQVNBQ0d6WUNXQXNnQUJBZlFRQWhBUXNnQkVFUWFpUUFJQUVMalFRQkRuOGdBUUovQWtBZ0FDOEJJQ0lIRFFBZ0FDOEJIQTBBUVFBTUFRdEJBZ3MyQWlBZ0FRSi9Ba0FnQUM4QklpSUNEUUFnQUM4QkhnMEFRUUFNQVF0QkFnczJBaWdnQVFKL0FrQWdBQzhCS0NJRERRQWdBQzhCSkEwQVFRQU1BUXRCQWdzMkFqQWdBUUovQWtBZ0FDOEJLaUlJRFFBZ0FDOEJKZzBBUVFBTUFRdEJBZ3MyQWpnZ0FTQUhJQUF2QVN3aUNYSkJBRWRCQVhRMkFrQWdBU0FDSUFBdkFTNGlCSEpCQUVkQkFYUTJBa2dnQVNBRElBQXZBVFFpQlhKQkFFZEJBWFEyQWxBZ0FTQUlJQUF2QVRZaUNuSkJBRWRCQVhRMkFsZ2dBU0FBTHdFd0lnMGdDWEpCQUVkQkFYUTJBbUFnQVNBQUx3RXlJZ3NnQkhKQkFFZEJBWFEyQW1nZ0FTQUFMd0U0SWd3Z0JYSkJBRWRCQVhRMkFuQWdBU0FBTHdFNklnNGdDbkpCQUVkQkFYUTJBbmhCQWlFR0lBRWdBQzhCSGlJUEJIOUJBZ1VnQUM4QkhFRUFSMEVCZEFzMkFnd2dBU0FQSUFBdkFTUWlCbkpCQUVkQkFYUTJBaFFnQUM4QkppRUFJQUVnRENBT2NrRUFSMEVCZERZQ2ZDQUJJQXNnREhKQkFFZEJBWFEyQW5RZ0FTQUxJQTF5UVFCSFFRRjBOZ0pzSUFFZ0JTQUtja0VBUjBFQmREWUNYQ0FCSUFRZ0JYSkJBRWRCQVhRMkFsUWdBU0FFSUFseVFRQkhRUUYwTmdKTUlBRWdBeUFJY2tFQVIwRUJkRFlDUENBQklBSWdBM0pCQUVkQkFYUTJBalFnQVNBQ0lBZHlRUUJIUVFGME5nSXNJQUVnQUNBR2NrRUFSMEVCZERZQ0hBdk1CZ0VMZnlNQVFZQU9heUlPSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0NHb2dCRXNOQUNBSFFRVnFJZ29nQTJvZ0JVc05BQ0FFSVFnZ0F5RUpEQUVMSUFBZ0RrSEFDbW9nQWlBRElBUWdCU0FJSUFkQkJXb2lDaUFJRUF3Z0RrSEFDbW9oQUVFQUlRSUxBa0FnQ2tVTkFDQUdRUUoySWhCRkRRQWdDQ0FHYXlFUklBQWdDQ0FKYkNBQ2FtcEJCV29oQWlBT0lRQURRQ0FDUVg5cUxRQUFJUWdnQWtGK2FpMEFBQ0VESUFKQmZXb3RBQUFoQlNBQ1FYeHFMUUFBSVFRZ0FrRjdhaTBBQUNFTUlCQWhEUU5BSUFBZ0FpMEFBQ0lKSUF3Z0JDQUlhaUlMYXlBRElBVnFRUlJzYWlBTFFRSjBhMm8yQWdBZ0FDQUNMUUFCSWdzZ0F5QUlha0VVYkNBRWFpQUZJQWxxSWdScklBUkJBblJyYWpZQ0JDQUFJQUl0QUFJaUR5QUlJQWxxUVJSc0lBVnFJQU1nQzJvaUJHc2dCRUVDZEd0cU5nSUlJQUFnQWkwQUF5SVNJQWtnQzJwQkZHd2dBMm9nQ0NBUGFpSURheUFEUVFKMGEybzJBZ3dnQUVFUWFpRUFJQUpCQkdvaEFpQUlJUXdnQ1NFRUlBc2hCU0FQSVFNZ0VpRUlJQTFCZjJvaURRMEFDeUFDSUJGcUlRSWdDa0YvYWlJS0RRQUxDd0pBSUFkQkFuWWlCMFVOQUNBR1JRMEFRY0FBSUFacklROGdEaUFHUVFKMGFpSUlJQVpCRkd4cUlRSkJBQ0FHYXlJUVFRTjBJUklnQmtFRGRDRUpJQVpCQTJ4QkFuUWhDd05BSUFZaEJBTkFJQUVnQ0NBSmFpZ0NBQ0lBSUFJZ0NXb29BZ0FnQWlBR1FRSjBJZzFxS0FJQUlnb2dBaUFTYWlnQ0FDSURhaUlGYXlBRlFRSjBhMm9nQWlnQ0FDSU1JQUlnRUVFQ2RDSVJhaWdDQUNJRmFrRVViR3BCZ0FScVFRcDFRYkF1YWkwQUFEb0FNQ0FCSUFnZ0RXb29BZ0FpRFNBS0lBTWdCV3BCRkd4cUlBQWdER29pQ21zZ0NrRUNkR3RxUVlBRWFrRUtkVUd3TG1vdEFBQTZBQ0FnQVNBSUtBSUFJZ29nRENBQUlBTnFRUlJzYWlBRklBMXFJZ3hySUF4QkFuUnJha0dBQkdwQkNuVkJzQzVxTFFBQU9nQVFJQUVnQ0NBUmFpZ0NBQ0FGSUFBZ0RXcEJGR3hxSUFNZ0Ntb2lBR3NnQUVFQ2RHdHFRWUFFYWtFS2RVR3dMbW90QUFBNkFBQWdDRUVFYWlFSUlBRkJBV29oQVNBQ1FRUnFJUUlnQkVGL2FpSUVEUUFMSUFFZ0Qyb2hBU0FDSUF0cUlRSWdDQ0FMYWlFSUlBZEJmMm9pQncwQUN3c2dEa0dBRG1va0FBdmxBd0VKZnlNQVFjQURheUlLSkFBZ0JrRUZhaUVJQWtBQ1FDQUNRUUJJRFFBZ0F5QUhhaUFGU3cwQUlBTkJBRWdOQUNBQ0lBaHFJQVJMRFFBZ0JDRUlJQU1oQ1F3QkN5QUFJQW9nQWlBRElBUWdCU0FJSUFjZ0NCQU1JQW9oQUVFQUlRSUxBa0FnQjBVTkFDQUdRUUoySWcxRkRRQkJFQ0FHYXlFT0lBZ2dCbXNoRHlBQUlBZ2dDV3dnQW1wcVFRVnFJUUlEUUNBQ1FYOXFMUUFBSVFnZ0FrRithaTBBQUNFR0lBSkJmV290QUFBaEFDQUNRWHhxTFFBQUlRVWdBa0Y3YWkwQUFDRUpJQTBoQ3dOQUlBRWdBaTBBQUNJRElBa2dCU0FJYWlJRWF5QUFJQVpxUVJSc2FpQUVRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FBSUFFZ0FpMEFBU0lFSUFVZ0JpQUlha0VVYkdvZ0FDQURhaUlGYXlBRlFRSjBhMnBCRUdwQkJYVkJzQzVxTFFBQU9nQUJJQUVnQWkwQUFpSU1JQUFnQXlBSWFrRVViR29nQkNBR2FpSUFheUFBUVFKMGEycEJFR3BCQlhWQnNDNXFMUUFBT2dBQ0lBRWdBaTBBQXlJUUlBWWdBeUFFYWtFVWJHb2dDQ0FNYWlJQWF5QUFRUUowYTJwQkVHcEJCWFZCc0M1cUxRQUFPZ0FESUFGQkJHb2hBU0FDUVFScUlRSWdDQ0VKSUFNaEJTQUVJUUFnRENFR0lCQWhDQ0FMUVg5cUlnc05BQXNnQVNBT2FpRUJJQUlnRDJvaEFpQUhRWDlxSWdjTkFBc0xJQXBCd0FOcUpBQUw5UU1CQzM4akFFSEFBMnNpQ3lRQUFrQUNRQ0FDUVFCSURRQWdBMEVBU0EwQUlBSWdCbW9nQkVzTkFDQURJQWRxUVFWcUlBVkxEUUFnQXlFSURBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFZZ0IwRUZhaUFHRUF3Z0N5RUFJQVloQkVFQUlRSUxBa0FnQjBFQ2RpSU1SUTBBSUFaRkRRQkJ3QUFnQm1zaEVTQUVRUUYwSVEwZ0JFRUNkQ0FHYXlFT1FRQWdCR3NpRDBFQmRDRVNJQUFnQkNBSWJDQUNhbW9nQkdvaUJ5QUVRUVZzYWlFQ0EwQWdCaUVBQTBBZ0FTQUhJQTFxTFFBQUlnTWdBaUFOYWkwQUFDQUNJQVJxTFFBQUlna2dBaUFTYWkwQUFDSUZhaUlJYXlBSVFRSjBhMm9nQWkwQUFDSUtJQUlnRDJvdEFBQWlDR3BCRkd4cVFSQnFRUVYxUWJBdWFpMEFBRG9BTUNBQklBUWdCMm90QUFBaUVDQUpJQVVnQ0dwQkZHeHFJQU1nQ21vaUNXc2dDVUVDZEd0cVFSQnFRUVYxUWJBdWFpMEFBRG9BSUNBQklBY3RBQUFpQ1NBS0lBTWdCV3BCRkd4cUlBZ2dFR29pQ21zZ0NrRUNkR3RxUVJCcVFRVjFRYkF1YWkwQUFEb0FFQ0FCSUFjZ0Qyb3RBQUFnQ0NBRElCQnFRUlJzYWlBRklBbHFJZ05ySUFOQkFuUnJha0VRYWtFRmRVR3dMbW90QUFBNkFBQWdCMEVCYWlFSElBRkJBV29oQVNBQ1FRRnFJUUlnQUVGL2FpSUFEUUFMSUFFZ0VXb2hBU0FDSUE1cUlRSWdCeUFPYWlFSElBeEJmMm9pREEwQUN3c2dDMEhBQTJva0FBdXFCZ0VOZnlNQVFiQUJheUlSSkFBZ0NFRUJhaUVLQWtBQ1FDQUNRUUJJRFFBZ0EwRUFTQTBBSUFJZ0Ntb2dCRXNOQUNBRElBbHFRUUZxSUFWTERRQWdCU0VNSUFRaENpQURJUThNQVFzZ0FDQVJJQUlnQXlBRUlBVWdDaUFKUVFGcUlnd2dDaEFNSUFBZ0JDQUZiR29nRVNBS0lBeHNhaUFDSUFNZ0JDQUZJQW9nRENBS0VBd2dFU0VBUVFBaEFnc0NRQ0FKUVFGMklnVkZEUUFnQ0VFQmRpSUVSUTBBUVJBZ0NHc2hFMEVJSUFkcklRdEJDQ0FHYXlFTklBcEJBWFFpRGlBSWF5RVVJQUFnQW1vaUZpQUtJQTlzYWlFQ0lBRWhBQ0FGSVJVRFFDQUNJQTVxTFFBQUlBZHNJQXNnQWlBS2FpMEFBQ0lEYkdvaENDQURJQWRzSUFzZ0FpMEFBR3hxSVFrZ0JDRURBMEFnQWtFQmFpSVFJQTVxTFFBQUlSSWdBQ0FKSUExc0lBb2dFR290QUFBaUNTQUhiQ0FMSUFJdEFBRnNhaUlRSUFac2FrRWdha0VHZGpvQUFDQUFJQWdnRFd3Z0J5QVNiQ0FKSUF0c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ0NBQ0xRQUNJUWtnQWtFQ2FpSUNJQTVxTFFBQUlSSWdBQ0FOSUJCc0lBSWdDbW90QUFBaUVDQUhiQ0FKSUF0c2FpSUpJQVpzYWtFZ2FrRUdkam9BQVNBQUlBZ2dEV3dnQnlBU2JDQUxJQkJzYWlJSUlBWnNha0VnYWtFR2Rqb0FDU0FBUVFKcUlRQWdBMEYvYWlJRERRQUxJQUlnRkdvaEFpQUFJQk5xSVFBZ0ZVRi9haUlWRFFBTElBRkJRR3NoQUNBV0lBd2dEMm9nQ214cUlRSURRQ0FDSUE1cUxRQUFJQWRzSUFzZ0FpQUthaTBBQUNJQmJHb2hDQ0FCSUFkc0lBc2dBaTBBQUd4cUlRa2dCQ0VEQTBBZ0FrRUJhaUlCSUE1cUxRQUFJUXdnQUNBSklBMXNJQUVnQ21vdEFBQWlBU0FIYkNBTElBSXRBQUZzYWlJSklBWnNha0VnYWtFR2Rqb0FBQ0FBSUFnZ0RXd2dCeUFNYkNBQklBdHNhaUlCSUFac2FrRWdha0VHZGpvQUNDQUNMUUFDSVFnZ0FrRUNhaUlDSUE1cUxRQUFJUXdnQUNBSklBMXNJQUlnQ21vdEFBQWlEeUFIYkNBSUlBdHNhaUlKSUFac2FrRWdha0VHZGpvQUFTQUFJQUVnRFd3Z0J5QU1iQ0FMSUE5c2FpSUlJQVpzYWtFZ2FrRUdkam9BQ1NBQVFRSnFJUUFnQTBGL2FpSUREUUFMSUFJZ0ZHb2hBaUFBSUJOcUlRQWdCVUYvYWlJRkRRQUxDeUFSUWJBQmFpUUFDLzlFQVVGL0l3QkJzQUZySWdNa0FDQUFLQUlJSWdRRVFDQUFLQUlFSWg5QkEzUWhGaUFFSUI5c0lnUkJCblFoT3lBRVFRaDBJVHdnSDBFR2RDRTlJQjlCTUd3aFBpQWZRUVYwSVNVZ0gwRlFiQ0VyUVFBZ0gwRUVkQ0lhYXlJb1FRSjBJVDhnS0VFQmRDRXNJQU5CR0dvaElpQURRUXh5SVNNRFFBSkFJQUVvQWdnaUNVRUJSZzBBQWtBQ1FBSkFBa0FnQVNnQ3lBRWlBa1VFUUVFQklRWU1BUXRCQlNFR0lBbEJBa2NOQUVFRlFRRWdBU2dDQkNJSklBSW9BZ1JHR3lFR0lBRW9Bc3dCSWdRTkFVRUFJUVFNQXdzZ0FTZ0N6QUVpQkVVRVFFRUFJUVFNQXdzZ0NVRUNSdzBCSUFFb0FnUWhDUXNnQ1NBRUtBSUVSdzBCQ3lBR1FRSnlJUVlMQW44Z0JrRUNjU0l0QkVBQ1FDQUJLQUlBUVFWTkJFQWdCQ2dDQUVFR1NRMEJDeUFEUVFRMkFrQWdBMEVFTmdKSUlBTkJCRFlDT0NBRFFRUTJBakJCQVF3Q0MwRUNJUTlCQWlFSkFrQWdBUzhCSEEwQUlBUXZBVEFOQUVFQklRa2dBU2dDZENBRUtBSjhSdzBBSUFFdUFZUUJJQVF1QWF3QmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBRUxnR3VBV3NpQ1NBSlFSOTFJZ2xxSUFselFRTkxJUWtMSUFNZ0NUWUNNQUpBSUFFdkFSNE5BQ0FFTHdFeURRQkJBU0VQSUFFb0FuUWdCQ2dDZkVjTkFDQUJMZ0dJQVNBRUxnR3dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmlnRWdCQzRCc2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWpoQkFpRUZRUUloQ2dKQUlBRXZBU1FOQUNBRUx3RTREUUJCQVNFS0lBRW9BbmdnQkNnQ2dBRkhEUUFnQVM0QmxBRWdCQzRCdkFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBWllCSUFRdUFiNEJheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSkFBa0FnQVM4QkpnMEFJQVF2QVRvTkFFRUJJUVVnQVNnQ2VDQUVLQUtBQVVjTkFDQUJMZ0dZQVNBRUxnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0Qm1nRWdCQzRCd2dGcklnUWdCRUVmZFNJRWFpQUVjMEVEU3lFRkN5QURJQVUyQWtnZ0NTQVBjaUFLY2lBRmNrRUFSd3dCQ3lBRFFRQTJBa0FnQTBFQU5nSklJQU5CQURZQ09DQURRUUEyQWpCQkFBc2hDUUpBQWtBQ1FBSkFJQVpCQkhFaUxnUkFBa0FnQVNnQ0FDSUdRUVZOQkVBZ0FpZ0NBRUVHU1EwQkN5QURRUVEyQW5RZ0EwRUVOZ0tVQVNBRFFRUTJBbFFnQTBFRU5nSTBRUUVoQ1F3Q0MwRUNJUTlCQWlFRUFrQWdBUzhCSEEwQUlBSXZBU1lOQUVFQklRUWdBU2dDZENBQ0tBSjRSdzBBSUFFdUFZUUJJQUl1QVpnQmF5SUZJQVZCSDNVaUJXb2dCWE5CQTBzTkFDQUJMZ0dHQVNBQ0xnR2FBV3NpQkNBRVFSOTFJZ1JxSUFSelFRTkxJUVFMSUFNZ0JEWUNOQUpBSUFFdkFTQU5BQ0FDTHdFcURRQkJBU0VQSUFFb0FuUWdBaWdDZUVjTkFDQUJMZ0dNQVNBQ0xnR2dBV3NpQlNBRlFSOTFJZ1ZxSUFWelFRTkxEUUFnQVM0QmpnRWdBaTRCb2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFUEN5QURJQTgyQWxSQkFpRUZRUUloQ2dKQUlBRXZBU3dOQUNBQ0x3RTJEUUJCQVNFS0lBRW9BbndnQWlnQ2dBRkhEUUFnQVM0QnBBRWdBaTRCdUFGcklnZ2dDRUVmZFNJSWFpQUljMEVEU3cwQUlBRXVBYVlCSUFJdUFib0JheUlJSUFoQkgzVWlDR29nQ0hOQkEwc2hDZ3NnQXlBS05nSjBBa0FnQVM4Qk1BMEFJQUl2QVRvTkFFRUJJUVVnQVNnQ2ZDQUNLQUtBQVVjTkFDQUJMZ0dzQVNBQ0xnSEFBV3NpQ0NBSVFSOTFJZ2hxSUFoelFRTkxEUUFnQVM0QnJnRWdBaTRCd2dGcklnVWdCVUVmZFNJRmFpQUZjMEVEU3lFRkN5QURJQVUyQXBRQklBbEZEUUpCQVNFSkRBTUxJQU5CQURZQ2RDQURRUUEyQXBRQklBTkJBRFlDVkNBRFFRQTJBalFnQVNnQ0FDRUdDeUFHUVFaSkRRRWdBMEVETmdLZ0FTQURRb09BZ0lBd053S2tBU0FEUVFNMkFwQUJJQU5CQXpZQ2NDQURRUU0yQXF3QklBTkNnNENBZ0RBM0E1Z0JJQU5DZzRDQWdEQTNBNGdCSUFOQ2c0Q0FnREEzQTRBQklBTkNnNENBZ0RBM0EzZ2dBMEtEZ0lDQU1EY0RhQ0FEUW9PQWdJQXdOd05nSUFOQ2c0Q0FnREEzQTFnZ0EwS0RnSUNBTURjQ1RDQURRUU0yQWtRZ0EwRUROZ0k4REFJTElBUWdEM0lnQ25JZ0JYSkJBRWNoQ1FzQ1FBSi9JQVpCQTAwRVFDQUdRUUowUVl3MWFpZ0NBQXdCQzBFRUMwRUJSZ1JBSUFFZ0EwRXdhaEJFSUFNb0Fxd0JJUWNnQXlnQ3BBRWhEaUFES0FLY0FTRVFJQU1vQW93QklSa2dBeWdDaEFFaEJpQURLQUo4SVJjZ0F5Z0NiQ0VJSUFNb0FtUWhCQ0FES0FKY0lSUWdBeWdDVENFTUlBTW9Ba1FoQWlBREtBSThJUkVnQXlnQ3FBRWhIQ0FES0FLZ0FTRW1JQU1vQXBnQklRMGdBeWdDa0FFaEhTQURLQUtJQVNFU0lBTW9Bb0FCSVJVZ0F5Z0NlQ0ViSUFNb0FuQWhFeUFES0FKb0lRb2dBeWdDWUNFUElBTW9BbGdoQlNBREtBSlFJU2NNQVFzZ0F3Si9Ba0FnQXdKL0FrQUNRQ0FCS0FJQVFYNXFJZ1JCQVUwRVFDQUVRUUZyQkVBZ0F3Si9Ba0FnQVM4QklDSUVEUUFnQVM4QkhBMEFRUUFNQVF0QkFnc2lKellDVUNBREFuOENRQ0FCTHdFaUlnY05BQ0FCTHdFZURRQkJBQXdCQzBFQ0N5SUZOZ0pZSUFNQ2Z3SkFJQUV2QVNnaUJnMEFJQUV2QVNRTkFFRUFEQUVMUVFJTElnODJBbUFnQXdKL0FrQWdBUzhCS2lJT0RRQWdBUzhCSmcwQVFRQU1BUXRCQWdzaUNqWUNhQ0FEQW44Q1FDQUJMd0V3SWg0TkFDQUJMd0VzRFFCQkFBd0JDMEVDQ3lJZE5nS1FBU0FEQW44Q1FDQUJMd0V5SWhBTkFDQUJMd0V1RFFCQkFBd0JDMEVDQ3lJTk5nS1lBU0FEQW44Q1FDQUJMd0U0SWdzTkFDQUJMd0UwRFFCQkFBd0JDMEVDQ3lJbU5nS2dBU0FEQW44Q1FDQUJMd0U2SWhnTkFDQUJMd0UyRFFCQkFBd0JDMEVDQ3lJY05nS29BVUVDSVJ0QkFpRVRBa0FnQkNBQkx3RXNJaGR5RFFCQkFTRVRJQUV1QWFRQklBRXVBWXdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQkxnR21BU0FCTGdHT0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdBU2dDZkNBQktBSjBSeUVUQ3lBRElCTTJBbkFDUUNBSElBRXZBUzRpSUhJTkFFRUJJUnNnQVM0QnFBRWdBUzRCa0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRXVBYW9CSUFFdUFaSUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FCS0FKOElBRW9BblJISVJzTElBTWdHellDZUVFQ0lSSkJBaUVWQWtBZ0JpQUJMd0UwSWhseURRQkJBU0VWSUFFdUFiUUJJQUV1QVp3QmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJMZ0cyQVNBQkxnR2VBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEZRc2dBeUFWTmdLQUFRSkFJQTRnQVM4Qk5pSWhjZzBBUVFFaEVpQUJMZ0c0QVNBQkxnR2dBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVM0QnVnRWdBUzRCb2dGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9Bb0FCSUFFb0FuaEhJUklMSUFNZ0VqWUNpQUVnQVM4QkhnMENJQUV2QVJ3RVFFRUNJUkVnQTBFQ05nSThJQUV2QVNRaUNBMEdRUUFoREVFQURBY0xRUUFoRVNBRFFRQTJBanhCQUNFTVFRQWdBUzhCSkNJSVJRMEdHZ3dGQ3lBREFuOENRQ0FCTHdFZ0lnSU5BQ0FCTHdFY0RRQkJBQXdCQzBFQ0N5SW5OZ0pRSUFNQ2Z3SkFJQUV2QVNJaUJnMEFJQUV2QVI0TkFFRUFEQUVMUVFJTElnVTJBbGdnQXdKL0FrQWdBUzhCS0NJT0RRQWdBUzhCSkEwQVFRQU1BUXRCQWdzaUR6WUNZQ0FEQW44Q1FDQUJMd0VxSWdnTkFDQUJMd0VtRFFCQkFBd0JDMEVDQ3lJS05nSm9JQU1nQWlBQkx3RXNJaGR5UVFCSFFRRjBJaE0yQW5BZ0F5QUdJQUV2QVM0aUMzSkJBRWRCQVhRaUd6WUNlQ0FESUE0Z0FTOEJOQ0llY2tFQVIwRUJkQ0lWTmdLQUFTQURJQWdnQVM4Qk5pSVpja0VBUjBFQmRDSVNOZ0tJQVNBRElBRXZBVEFpRUNBWGNrRUFSMEVCZENJZE5nS1FBU0FESUFFdkFUSWlJQ0FMY2tFQVIwRUJkQ0lOTmdLWUFTQURJQUV2QVRnaUlTQWVja0VBUjBFQmRDSW1OZ0tnQVNBRElBRXZBVG9pQnlBWmNrRUFSMEVCZENJY05nS29BU0FEQW44Q1FDQUJMd0VlSWlRTkFDQUJMd0VjRFFCQkFBd0JDMEVDQ3lJUk5nSThJQUV2QVNZRVFDQUJMd0VrSVJnTUF3c2dBUzhCSkNJWURRSkJBQ0VZUVFBTUF3c2dBUzRCaGdFaEZDQUJMZ0dPQVNFRVFRSWhCU0FEQW45QkFpQUJMd0VjSWhFZ0FTOEJJQ0l2Y2cwQUdrRUJJQUV1QVl3QklBRXVBWVFCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUJvZ0JDQVVheUlHSUFaQkgzVWlCbW9nQm5OQkEwc0xJaWMyQWxBZ0FTNEJpZ0VoQ0NBQkxnR1NBU0VHQWtBZ0FTOEJIaUl3SUFFdkFTSWlFSElOQUVFQklRVWdBUzRCa0FFZ0FTNEJpQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBSUFZZ0NHc2lCU0FGUVI5MUlnVnFJQVZ6UVFOTElRVUxJQU1nQlRZQ1dDQUJMZ0dXQVNFTUlBRXVBWjRCSVFkQkFpRUtJQU1DZjBFQ0lBRXZBU1FpTVNBQkx3RW9JaGR5RFFBYVFRRWdBUzRCbkFFZ0FTNEJsQUZySWdJZ0FrRWZkU0lDYWlBQ2MwRURTdzBBR2lBSElBeHJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN3c2lEellDWUNBQkxnR2FBU0V5SUFFdUFhSUJJUXNDUUNBQkx3RW1Ja0FnQVM4QktpSXpjZzBBUVFFaENpQUJMZ0dnQVNBQkxnR1lBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQ3lBeWF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzaENnc2dBeUFLTmdKb0lBRXVBYVlCSVI1QkFpRWJRUUloRXdKQUlDOGdBUzhCTENJMGNnMEFRUUVoRXlBQkxnR2tBU0FCTGdHTUFXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWdIaUFFYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBQktBSjhJQUVvQW5SSElSTUxJQU1nRXpZQ2NDQUJMZ0dxQVNFT0FrQWdFQ0FCTHdFdUloaHlEUUJCQVNFYklBRXVBYWdCSUFFdUFaQUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQ0FPSUFacklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlBRW9BbndnQVNnQ2RFY2hHd3NnQXlBYk5nSjRJQUV1QWJZQklSbEJBaUVTUVFJaEZRSkFJQmNnQVM4Qk5DSWdjZzBBUVFFaEZTQUJMZ0cwQVNBQkxnR2NBV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnR1NBSGF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTkFDQUJLQUtBQVNBQktBSjRSeUVWQ3lBRElCVTJBb0FCSUFFdUFib0JJU0VDUUNBeklBRXZBVFlpTlhJTkFFRUJJUklnQVM0QnVBRWdBUzRCb0FGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlDRWdDMnNpQWlBQ1FSOTFJZ0pxSUFKelFRTkxEUUFnQVNnQ2dBRWdBU2dDZUVjaEVnc2dBeUFTTmdLSUFTQUJMZ0d1QVNFMlFRSWhEU0FEQW45QkFpQTBJQUV2QVRBaVFYSU5BQnBCQVNBQkxnR3NBU0FCTGdHa0FXc2lBaUFDUVI5MUlnSnFJQUp6UVFOTERRQWFJRFlnSG1zaUFpQUNRUjkxSWdKcUlBSnpRUU5MQ3lJZE5nS1FBU0FCTGdHeUFTRWtBa0FnR0NBQkx3RXlJamR5RFFCQkFTRU5JQUV1QWJBQklBRXVBYWdCYXlJQ0lBSkJIM1VpQW1vZ0FuTkJBMHNOQUNBa0lBNXJJZ0lnQWtFZmRTSUNhaUFDYzBFRFN5RU5DeUFESUEwMkFwZ0JJQUV1QWI0QklTbEJBaUVjSUFNQ2YwRUNJQ0FnQVM4Qk9DSTRjZzBBR2tFQklBRXVBYndCSUFFdUFiUUJheUlDSUFKQkgzVWlBbW9nQW5OQkEwc05BQm9nS1NBWmF5SUNJQUpCSDNVaUFtb2dBbk5CQTBzTElpWTJBcUFCSUFFdUFjSUJJVGtDUUNBMUlBRXZBVG9pUW5JTkFFRUJJUndnQVM0QndBRWdBUzRCdUFGcklnSWdBa0VmZFNJQ2FpQUNjMEVEU3cwQUlEa2dJV3NpQWlBQ1FSOTFJZ0pxSUFKelFRTkxJUndMSUFNZ0hEWUNxQUZCQWlFQ0lBTUNmMEVDSUJFZ01ISU5BQnBCQVNBQkxnR0lBU0FCTGdHRUFXc2lFU0FSUVI5MUloRnFJQkZ6UVFOTERRQWFJQWdnRkdzaUZDQVVRUjkxSWhScUlCUnpRUU5MQ3lJUk5nSThBa0FnTUNBeGNnMEFRUUVoQWlBQkxnR1VBU0FCTGdHSUFXc2lGQ0FVUVI5MUloUnFJQlJ6UVFOTERRQWdEQ0FJYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBQktBSjRJQUVvQW5SSElRSUxJQU1nQWpZQ1JFRUNJUlFnQXdKL1FRSWdNU0JBY2cwQUdrRUJJQUV1QVpnQklBRXVBWlFCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUJvZ01pQU1heUlJSUFoQkgzVWlDR29nQ0hOQkEwc0xJZ3cyQWt3Q1FDQVFJQzl5RFFCQkFTRVVJQUV1QVpBQklBRXVBWXdCYXlJSUlBaEJIM1VpQ0dvZ0NITkJBMHNOQUNBR0lBUnJJZ1FnQkVFZmRTSUVhaUFFYzBFRFN5RVVDeUFESUJRMkFseEJBaUVJUVFJaEJBSkFJQkFnRjNJTkFFRUJJUVFnQVM0Qm5BRWdBUzRCa0FGckloQWdFRUVmZFNJUWFpQVFjMEVEU3cwQUlBY2dCbXNpQmlBR1FSOTFJZ1pxSUFaelFRTkxEUUFnQVNnQ2VDQUJLQUowUnlFRUN5QURJQVEyQW1RQ1FDQVhJRE55RFFCQkFTRUlJQUV1QWFBQklBRXVBWndCYXlJR0lBWkJIM1VpQm1vZ0JuTkJBMHNOQUNBTElBZHJJZ1lnQmtFZmRTSUdhaUFHYzBFRFN5RUlDeUFESUFnMkFteEJBaUVHSUFNQ2YwRUNJQmdnTkhJTkFCcEJBU0FCTGdHb0FTQUJMZ0drQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBYUlBNGdIbXNpQnlBSFFSOTFJZ2RxSUFkelFRTkxDeUlYTmdKOEFrQWdHQ0FnY2cwQVFRRWhCaUFCTGdHMEFTQUJMZ0dvQVdzaUJ5QUhRUjkxSWdkcUlBZHpRUU5MRFFBZ0dTQU9heUlISUFkQkgzVWlCMm9nQjNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQlFRSWhFQ0FEQW45QkFpQWdJRFZ5RFFBYVFRRWdBUzRCdUFFZ0FTNEJ0QUZySWdjZ0IwRWZkU0lIYWlBSGMwRURTdzBBR2lBaElCbHJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN3c2lHVFlDakFFQ1FDQTNJRUZ5RFFCQkFTRVFJQUV1QWJBQklBRXVBYXdCYXlJSElBZEJIM1VpQjJvZ0IzTkJBMHNOQUNBa0lEWnJJZ2NnQjBFZmRTSUhhaUFIYzBFRFN5RVFDeUFESUJBMkFwd0JRUUloQjBFQ0lRNENRQ0EzSURoeURRQkJBU0VPSUFFdUFid0JJQUV1QWJBQmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQXBJQ1JySWdzZ0MwRWZkU0lMYWlBTGMwRURTdzBBSUFFb0FvQUJJQUVvQW54SElRNExJQU1nRGpZQ3BBRUNRQ0E0SUVKeURRQkJBU0VISUFFdUFjQUJJQUV1QWJ3QmF5SUxJQXRCSDNVaUMyb2dDM05CQTBzTkFDQTVJQ2xySWdjZ0IwRWZkU0lIYWlBSGMwRURTeUVIQ3lBRElBYzJBcXdCREFVTFFRSWhFU0FEUVFJMkFqd2dBUzhCSkNFSURBSUxRUUlMSWd3MkFreEJBaUVFSUFOQkFpQUlRUUJIUVFGMElBNGJJZ2cyQW13Z0EwRUNJQVpCQUVkQkFYUWdBaHNpRkRZQ1hDQURJQWNnSVhKQkFFZEJBWFFpQnpZQ3JBRWdBeUFRSUNCeVFRQkhRUUYwSWhBMkFwd0JJQU1nR1NBZWNrRUFSMEVCZENJWk5nS01BU0FESUFzZ0YzSkJBRWRCQVhRaUZ6WUNmRUVDSVFJQ1FDQVlJQ1J5RFFCQkFTRUNJQUV1QVpRQklBRXVBWWdCYXlJWUlCaEJIM1VpR0dvZ0dITkJBMHNOQUNBQkxnR1dBU0FCTGdHS0FXc2lHQ0FZUVI5MUloaHFJQmh6UVFOTERRQWdBU2dDZUNBQktBSjBSeUVDQ3lBRElBSTJBa1FDUUNBR0lBNXlEUUJCQVNFRUlBRXVBWndCSUFFdUFaQUJheUlHSUFaQkgzVWlCbW9nQm5OQkEwc05BQ0FCTGdHZUFTQUJMZ0dTQVdzaUJpQUdRUjkxSWdacUlBWnpRUU5MRFFBZ0FTZ0NlQ0FCS0FKMFJ5RUVDeUFESUFRMkFtUkJBaUVPUVFJaEJnSkFJQXNnSG5JTkFFRUJJUVlnQVM0QnRBRWdBUzRCcUFGcklnc2dDMEVmZFNJTGFpQUxjMEVEU3cwQUlBRXVBYllCSUFFdUFhb0JheUlMSUF0QkgzVWlDMm9nQzNOQkEwc05BQ0FCS0FLQUFTQUJLQUo4UnlFR0N5QURJQVkyQW9RQkFrQWdJQ0FoY2cwQVFRRWhEaUFCTGdHOEFTQUJMZ0d3QVdzaUN5QUxRUjkxSWd0cUlBdHpRUU5MRFFBZ0FTNEJ2Z0VnQVM0QnNnRnJJZ3NnQzBFZmRTSUxhaUFMYzBFRFN3MEFJQUVvQW9BQklBRW9BbnhISVE0TElBTWdEallDcEFFTUFnc2dDQ0VNUVFJTElnSTJBa1FnQXlBQkx3RW1JQXhCLy84RGNYSkJBRWRCQVhRaUREWUNUQ0FEQW44Q1FDQUhSUVJBSUFRRVFFRUNJUlFnQTBFQ05nSmNJQVlOQWtFQURBTUxRUUFoRkNBRFFRQTJBbHhCQUNBR1JRMENHZ3dCQzBFQ0lSUWdBMEVDTmdKY0MwRUNDeUlFTmdKa0lBTkJBaUFPUVFCSFFRRjBJQVliSWdnMkFtd2dBd0ovQWtBZ0lFVUVRQ0FYQkVCQkFpRVhJQU5CQWpZQ2ZDQVpEUUpCQUF3REMwRUFJUmNnQTBFQU5nSjhRUUFnR1VVTkFob01BUXRCQWlFWElBTkJBallDZkF0QkFnc2lCallDaEFFZ0F5QUxJQmh5UVFCSFFRRjBJZ2MyQXF3QklBTWdDeUFRY2tFQVIwRUJkQ0lPTmdLa0FTQURRUUlnRUVFQVIwRUJkQ0FlR3lJUU5nS2NBU0FESUJrZ0lYSkJBRWRCQVhRaUdUWUNqQUVMSUFrZ0ozSWdCWElnRDNJZ0NuSWdFM0lnRzNJZ0ZYSWdFbklnSFhJZ0RYSWdKbklnSEhJZ0VYSWdBbklnREhJZ0ZISWdCSElnQ0hJZ0YzSWdCbklnR1hJZ0VISWdEbklnQjNKRkRRRUxJQUVvQWd3aENTQURJQUVvQWhBaUJTQUJLQUlVSWdScUlnWkJNeUFHUVROSUd5SUdRUUFnQmtFQVNodEIwQmRxTFFBQUlnWTJBaUFnQXlBRUlBbHFJZ0pCTXlBQ1FUTklHeUlDUVFBZ0FrRUFTaHNpQ0VHUUYyb3RBQUFpQWpZQ0hDQURJQWhCQTJ4QmtCaHFJZ2cyQWhnQ1FDQXRSUTBBSUFRZ0FTZ0N6QUVvQWhRaUIwY0VRQ0FESUFRZ0IycEJBV3BCQVhZaUJ5QUZhaUlOUVRNZ0RVRXpTQnNpRFVFQUlBMUJBRW9iUWRBWGFpMEFBRFlDQ0NBRElBY2dDV29pQjBFeklBZEJNMGdiSWdkQkFDQUhRUUJLR3lJSFFaQVhhaTBBQURZQ0JDQURJQWRCQTJ4QmtCaHFOZ0lBREFFTElBTWdCallDQ0NBRElBSTJBZ1FnQXlBSU5nSUFDd0pBSUM1RkRRQWdCQ0FCS0FMSUFTZ0NGQ0lIUndSQUlBTWdCQ0FIYWtFQmFrRUJkaUlFSUFWcUlnVkJNeUFGUVROSUd5SUZRUUFnQlVFQVNodEIwQmRxTFFBQU5nSVVJQU1nQkNBSmFpSUVRVE1nQkVFelNCc2lCRUVBSUFSQkFFb2JJZ1JCa0JkcUxRQUFOZ0lRSUFNZ0JFRURiRUdRR0dvMkFnd01BUXNnQXlBR05nSVVJQU1nQWpZQ0VDQURJQWcyQWd3TElBQW9BZ0FnSHlBNmJDSVVRUWgwYWlBcVFRUjBhaUVKUVFBaEFrRURJUVFnQTBFd2FpRUdBMEFnQmlnQ0JDSUZCRUFnQ1NBRklDTWdHaEFaQ3lBR0tBSU1JZ1VFUUNBSlFRUnFJQVVnSWlBYUVCa0xJQVlvQWhRaUJRUkFJQWxCQ0dvZ0JTQWlJQm9RR1FzZ0JpZ0NIQ0lGQkVBZ0NVRU1haUFGSUNJZ0doQVpDeUFFSVFnQ1FBSkFBa0FnQmlnQ0FDSUVJQVlvQWdnaUQwY05BQ0FFSUFZb0FoQkhEUUFnQkNBR0tBSVlSdzBBSUFSRkRRSWdBeUFDUVF4c2FpSUZLQUlJSVF3Z0JTZ0NCQ0ViSUFSQkJFa05BU0FiUVFKMlFRSnFJUkJCRUNFUElBa2hCQU5BQWtBZ0JDQW9haUlDTFFBQUlnb2dCQzBBQUNJT2F5SUZJQVZCSDNVaUJXb2dCWE1pQnlBYlR3MEFJQVFnTEdvaUVTMEFBQ0lGSUFwcklnMGdEVUVmZFNJTmFpQU5jeUFNVHcwQUlBUWdHbW9pSEMwQUFDSVNJQTVySWcwZ0RVRWZkU0lOYWlBTmN5QU1UdzBBQWtBZ0J5QVFTUVJBSUFRZ0pXb2lGeTBBQUNFVkFuOGdCQ0FyYWlJTkxRQUFJaE1nQ21zaUJ5QUhRUjkxSWdkcUlBZHpJQXhKQkVCQkF5RWRJQUlnRWlBS0lBNXFJQVZxSWdKQkFYUnFJQk5xUVFScVFRTjJPZ0FBSUJFZ0FpQVRha0VDYWtFQ2Rqb0FBQ0FDUVFScUlSRWdCQ0EvYWkwQUFDRUhJQk5CQTJ3TUFRc2dDaUFTYWlFUklBVWhCMEVDSVIwZ0FpRU5RUUlMSVFJZ0RTQUNJQkZxSUFkQkFYUnFJQjEyT2dBQUlCVWdEbXNpQWlBQ1FSOTFJZ0pxSUFKeklBeFBEUUVnQkNBRklBb2dFbW9nRG1vaUFrRUJkR29nRldwQkJHcEJBM1k2QUFBZ0hDQUNJQlZxUVFKcVFRSjJPZ0FBSUJjZ0FpQVZRUU5zYWlBRUlENXFMUUFBUVFGMGFrRUVha0VEZGpvQUFBd0NDeUFDSUFvZ0Vtb2dCVUVCZEdwQkFtcEJBblk2QUFBTElBUWdCU0FPYWlBU1FRRjBha0VDYWtFQ2Rqb0FBQXNnQkVFQmFpRUVJQTlCZjJvaUR3MEFDd3dDQ3dKL0lBUUVRQ0FKSUFRZ0F5QUNRUXhzYWlBYUVCZ2dCaWdDQ0NFUEN5QVBDd1JBSUFsQkJHb2dEeUFESUFKQkRHeHFJQm9RR0FzZ0JpZ0NFQ0lFQkVBZ0NVRUlhaUFFSUFNZ0FrRU1iR29nR2hBWUN5QUdLQUlZSWdSRkRRRWdDVUVNYWlBRUlBTWdBa0VNYkdvZ0doQVlEQUVMSUFRZ0JTZ0NBR3BCZjJvdEFBQWlBa0VCYWlFSFFRQWdBbXNoRGtFUUlROGdDU0VFQTBBQ1FDQUVJQ2hxSWhNdEFBQWlEU0FFTFFBQUlncHJJZ1VnQlVFZmRTSUZhaUFGY3lBYlR3MEFJQVFnTEdvaUVTMEFBQ0lTSUExcklnVWdCVUVmZFNJRmFpQUZjeUFNVHcwQUlBUWdHbW9pRUMwQUFDSVZJQXBySWdVZ0JVRWZkU0lGYWlBRmN5QU1UdzBBSUFJaEJTQUVJQ3RxTFFBQUlod2dEV3NpSFNBZFFSOTFJaDFxSUIxeklBeEpCRUFnRVNBU0lBNGdBaUFLSUExcVFRRnFRUUYySUJKQkFYUnJJQnhxUVFGMUlnVWdCU0FDU2hzZ0JTQU9TQnRxT2dBQUlBY2hCUXNnRXlBTkFuOGdCQ0FsYWkwQUFDSVRJQXBySWhFZ0VVRWZkU0lSYWlBUmN5QU1TUVJBSUJBZ0ZTQU9JQUlnQ2lBTmFrRUJha0VCZGlBVlFRRjBheUFUYWtFQmRTSVRJQk1nQWtvYklCTWdEa2diYWpvQUFDQUZRUUZxSVFVTFFRQWdCV3NpRXdzZ0JTQVNJQlZySUFvZ0RXdEJBblJxUVFScVFRTjFJaElnRWlBRlNoc2dFaUFUU0JzaUJXcEJzQzVxTFFBQU9nQUFJQVFnQ2lBRmEwR3dMbW90QUFBNkFBQUxJQVJCQVdvaEJDQVBRWDlxSWc4TkFBc0xJQWhCZjJvaEJDQUdRU0JxSVFZZ0NTQTlhaUVKUVFJaEFpQUlEUUFMSUFFb0Fnd2hCQ0FESUFFb0FoQWlCU0FCS0FJVUlnWWdBU2dDR0NJQ2FpSUpRVE1nQ1VFelNCc2lDVUVBSUFsQkFFb2JRUUowUWVBOWFpZ0NBQ0lKYWlJSVFUTWdDRUV6U0JzaUNFRUFJQWhCQUVvYlFkQVhhaTBBQUNJSU5nSWdJQU1nQkNBSmFpSUhRVE1nQjBFelNCc2lCMEVBSUFkQkFFb2JJZzFCa0JkcUxRQUFJZ2MyQWh3Z0F5QU5RUU5zUVpBWWFpSU5OZ0lZQWtBZ0xVVU5BQ0FHSUFFb0Fzd0JLQUlVSWd4SEJFQWdBeUFKSUFJZ0RHb2lERUV6SUF4Qk0wZ2JJZ3hCQUNBTVFRQktHMEVDZEVIZ1BXb29BZ0JxUVFGcVFRRjJJZ3dnQldvaUQwRXpJQTlCTTBnYklnOUJBQ0FQUVFCS0cwSFFGMm90QUFBMkFnZ2dBeUFFSUF4cUlneEJNeUFNUVROSUd5SU1RUUFnREVFQVNoc2lERUdRRjJvdEFBQTJBZ1FnQXlBTVFRTnNRWkFZYWpZQ0FBd0JDeUFESUFnMkFnZ2dBeUFITmdJRUlBTWdEVFlDQUFzQ1FDQXVSUTBBSUFZZ0FTZ0N5QUVvQWhRaURFY0VRQ0FESUFVZ0NTQUNJQXhxSWdaQk15QUdRVE5JR3lJR1FRQWdCa0VBU2h0QkFuUkI0RDFxS0FJQWFrRUJha0VCZGlJSmFpSUZRVE1nQlVFelNCc2lCVUVBSUFWQkFFb2JRZEFYYWkwQUFEWUNGQ0FESUFRZ0NXb2lCRUV6SUFSQk0wZ2JJZ1JCQUNBRVFRQktHeUlFUVpBWGFpMEFBRFlDRUNBRElBUkJBMnhCa0JocU5nSU1EQUVMSUFNZ0NEWUNGQ0FESUFjMkFoQWdBeUFOTmdJTUN5QUFLQUlBSUR4cUlCUkJCblJxSUNwQkEzUnFJZ2tnTzJvaEJFRUFJUW9nQTBFd2FpRUdRUUFoQWdOQUlBWW9BZ1FpQlFSQUlBa2dCU0FqSUJZUUVDQUVJQVlvQWdRZ0l5QVdFQkFMSUFZb0FpUWlCUVJBSUFrZ0dtb2dCU0FqSUJZUUVDQUVJQnBxSUFZb0FpUWdJeUFXRUJBTElBWW9BaFFpQlFSQUlBbEJCR29nQlNBaUlCWVFFQ0FFUVFScUlBWW9BaFFnSWlBV0VCQUxJQVlvQWpRaUJRUkFJQWtnR21wQkJHb2dCU0FpSUJZUUVDQUVJQnBxUVFScUlBWW9BalFnSWlBV0VCQUxJQUloQlFKQUFrQWdCaWdDQUNJQ0lBWW9BZ2dpRDBjTkFDQUNJQVlvQWhCSERRQWdBaUFHS0FJWVJ3MEFJQUpGRFFFZ0NTQUNJQU1nQ2tFTWJHb2lBaUFXRUNzZ0JDQUdLQUlBSUFJZ0ZoQXJEQUVMQW44Z0FnUkFJQWtnQWlBRElBcEJER3hxSWdJZ0ZoQVNJQVFnQmlnQ0FDQUNJQllRRWlBR0tBSUlJUThMSUE4TEJFQWdDVUVDYWlBUElBTWdDa0VNYkdvaUFpQVdFQklnQkVFQ2FpQUdLQUlJSUFJZ0ZoQVNDeUFHS0FJUUlnSUVRQ0FKUVFScUlBSWdBeUFLUVF4c2FpSUNJQllRRWlBRVFRUnFJQVlvQWhBZ0FpQVdFQklMSUFZb0FoZ2lBa1VOQUNBSlFRWnFJQUlnQXlBS1FReHNhaUlDSUJZUUVpQUVRUVpxSUFZb0FoZ2dBaUFXRUJJTElBUWdKV29oQkNBSklDVnFJUWtnQmtGQWF5RUdRUUVoQWtFQ0lRb2dCVVVOQUFzTFFRQWdLa0VCYWlJRUlBUWdIMFlpQkJzaEtpQUJRZGdCYWlFQklBUWdPbW9pT2lBQUtBSUlTUTBBQ3dzZ0EwR3dBV29rQUF1Q0JRRUtmeU1BUVpBQmF5SUxKQUFDUUFKQUlBSkJBRWdOQUNBRFFRQklEUUFnQWlBSGFpQUVTdzBBSUFNZ0NHcEJBV29nQlVzTkFDQUZJUXdnQXlFT0RBRUxJQUFnQ3lBQ0lBTWdCQ0FGSUFjZ0NFRUJhaUlNSUFjUURDQUFJQVFnQld4cUlBc2dCeUFNYkdvZ0FpQURJQVFnQlNBSElBd2dCeEFNSUFzaEFDQUhJUVJCQUNFQ0N3SkFJQWhCQVhZaUJVVU5BQ0FIUVFGMklnTkZEUUJCRUNBSGF5RVFRUWdnQm1zaENTQUVRUUYwSWcwZ0Iyc2hFU0FBSUFKcUloSWdCQ0FPYkdvaEJ5QUJJUUlnQlNFSUEwQWdBeUVBQTBBZ0J5QU5haTBBQUNFS0lBSWdDU0FITFFBQWJDQUVJQWRxTFFBQUlnOGdCbXhxUVFOMFFTQnFRUVoyT2dBQUlBSWdDU0FQYkNBR0lBcHNha0VEZEVFZ2FrRUdkam9BQ0NBSFFRRnFJZ29nRFdvdEFBQWhEeUFDSUFrZ0J5MEFBV3dnQkNBS2FpMEFBQ0lLSUFac2FrRURkRUVnYWtFR2Rqb0FBU0FDSUFrZ0Ntd2dCaUFQYkdwQkEzUkJJR3BCQm5ZNkFBa2dBa0VDYWlFQ0lBZEJBbW9oQnlBQVFYOXFJZ0FOQUFzZ0J5QVJhaUVISUFJZ0VHb2hBaUFJUVg5cUlnZ05BQXNnQVVGQWF5RUNJQklnRENBT2FpQUViR29oQndOQUlBTWhBQU5BSUFjZ0RXb3RBQUFoQVNBQ0lBa2dCeTBBQUd3Z0JDQUhhaTBBQUNJSUlBWnNha0VEZEVFZ2FrRUdkam9BQUNBQ0lBZ2dDV3dnQVNBR2JHcEJBM1JCSUdwQkJuWTZBQWdnQjBFQmFpSUJJQTFxTFFBQUlRZ2dBaUFKSUFjdEFBRnNJQUVnQkdvdEFBQWlBU0FHYkdwQkEzUkJJR3BCQm5ZNkFBRWdBaUFCSUFsc0lBWWdDR3hxUVFOMFFTQnFRUVoyT2dBSklBSkJBbW9oQWlBSFFRSnFJUWNnQUVGL2FpSUFEUUFMSUFjZ0VXb2hCeUFDSUJCcUlRSWdCVUYvYWlJRkRRQUxDeUFMUVpBQmFpUUFDLzBFQVF0L0l3QkJrQUZySWd3a0FDQUhRUUZxSVFrQ1FBSkFJQUpCQUVnTkFDQURJQWhxSUFWTERRQWdBMEVBU0EwQUlBSWdDV29nQkVzTkFDQUVJUWtnQXlFTERBRUxJQUFnRENBQ0lBTWdCQ0FGSUFrZ0NDQUpFQXdnQUNBRUlBVnNhaUFNSUFnZ0NXeHFJQUlnQXlBRUlBVWdDU0FJSUFrUURDQU1JUUFnQ0NFRlFRQWhBZ3NDUUNBSVFRRjJJZ2hGRFFBZ0IwRUJkaUlFUlEwQVFSQWdCMnNoRGtFSUlBWnJJUW9nQ1VFQmRDQUhheUVQSUFBZ0Ftb2lFU0FKSUF0c2FpRUNJQUVoQXlBSUlRQURRQ0FFSVFjRFFDQUNRUUZxSUFscUxRQUFJUkFnQWlBSmFpMEFBQ0VOSUFNZ0FpMEFBU0lTSUFac0lBb2dBaTBBQUd4cVFRTjBRU0JxUVFaMk9nQUFJQU1nQmlBUWJDQUtJQTFzYWtFRGRFRWdha0VHZGpvQUNDQUNMUUFDSVEwZ0FrRUNhaUlDSUFscUxRQUFJUk1nQXlBR0lBMXNJQW9nRW14cVFRTjBRU0JxUVFaMk9nQUJJQU1nQmlBVGJDQUtJQkJzYWtFRGRFRWdha0VHZGpvQUNTQURRUUpxSVFNZ0IwRi9haUlIRFFBTElBSWdEMm9oQWlBRElBNXFJUU1nQUVGL2FpSUFEUUFMSUFGQlFHc2hBeUFSSUFVZ0Myb2dDV3hxSVFJRFFDQUVJUWNEUUNBQ1FRRnFJQWxxTFFBQUlRQWdBaUFKYWkwQUFDRUJJQU1nQWkwQUFTSUZJQVpzSUFvZ0FpMEFBR3hxUVFOMFFTQnFRUVoyT2dBQUlBTWdBQ0FHYkNBQklBcHNha0VEZEVFZ2FrRUdkam9BQ0NBQ0xRQUNJUUVnQWtFQ2FpSUNJQWxxTFFBQUlRc2dBeUFCSUFac0lBVWdDbXhxUVFOMFFTQnFRUVoyT2dBQklBTWdCaUFMYkNBQUlBcHNha0VEZEVFZ2FrRUdkam9BQ1NBRFFRSnFJUU1nQjBGL2FpSUhEUUFMSUFJZ0Qyb2hBaUFESUE1cUlRTWdDRUYvYWlJSURRQUxDeUFNUVpBQmFpUUFDN2tIQVFWL0l3QkJFR3NpQkNRQUFrQWdBQ0FCUVFCQnlBQVFCeUlERUFJaUFRMEFRUUVoQVNBREtBSUFRZjhCU3cwQUlBQWdBMEVFYWhBQ0lnRU5BRUVCSVFFZ0F5Z0NCRUVmU3cwQUlBQkJBUkFERFFBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNDQ0FBSUFSQkRHb1FBaUlCRFFBZ0F5QUVLQUlNUVFGcUlnRTJBZ3dnQVVFSVN3UkFRUUVoQVF3QkN3SkFJQUZCQWtrTkFDQUFJQU5CRUdvUUFpSUJEUUVnQXlnQ0VDSUJRUVpMSWdJRVFFRUJJUUVNQWdzZ0FnMEFBa0FDUUFKQUFrQWdBVUVCYXc0R0JBRUNBZ0lEQUFzZ0F5QURLQUlNSWdGQkFuUVFDaUlDTmdJVUlBSkZCRUJCLy84RElRRU1CUXNnQVVVTkEwRUFJUUlEUUNBQUlBUkJER29RQWlJQkRRVWdBeWdDRkNBQ1FRSjBhaUFFS0FJTVFRRnFOZ0lBSUFKQkFXb2lBaUFES0FJTVNRMEFDd3dEQ3lBRElBTW9BZ3dpQWtFQ2RFRjhhaUlCRUFvaUJUWUNHQ0FESUFFUUNpSUdOZ0ljUWYvL0F5RUJJQVZGRFFNZ0JrVU5BeUFDUVFGR0RRSkJBQ0VDQTBBZ0FDQUVRUXhxRUFJaUFRMEVJQUpCQW5RaUJTQURLQUlZYWlBRUtBSU1OZ0lBSUFBZ0JFRU1haEFDSWdFTkJDQURLQUljSUFWcUlBUW9BZ3cyQWdBZ0FrRUJhaUlDSUFNb0FneEJmMnBKRFFBTERBSUxRUUVoQVNBQVFRRVFBeUlDUVg5R0RRSWdBeUFDUVFGR05nSWdJQUFnQkVFTWFoQUNJZ0VOQWlBRElBUW9BZ3hCQVdvMkFpUU1BUXNnQUNBRVFReHFFQUlpQVEwQklBTWdCQ2dDREVFQmFpSUJOZ0lvSUFNZ0FVRUNkQkFLSWdJMkFpd2dBa1VFUUVILy93TWhBUXdDQ3lBQlJRMEFJQU1vQWd4QkFuUkJyRHRxS0FJQUlRWkJBQ0VDQTBBZ0FDQUdFQU1oQlNBREtBSXNJQUpCQW5ScUlBVTJBZ0JCQVNFQklBVWdBeWdDREU4TkFpQUNRUUZxSWdJZ0F5Z0NLRWtOQUFzTElBQWdCRUVNYWhBQ0lnRU5BRUVCSVFFZ0JDZ0NEQ0lDUVI5TERRQWdBeUFDUVFGcU5nSXdJQUFnQkVFTWFoQUNJZ0VOQUVFQklRRWdCQ2dDREVFZlN3MEFJQUJCQVJBREJFQU1BUXNnQUVFQ0VBTkJBa3NFUUF3QkN5QUFJQVJCQ0dvUUJTSUJEUUFnQkNnQ0NFRWFhaUlCUVROTEJFQkJBU0VCREFFTElBTWdBVFlDTkNBQUlBUkJDR29RQlNJQkRRQWdCQ2dDQ0VFYWFrRXpTd1JBUVFFaEFRd0JDeUFBSUFSQkNHb1FCU0lCRFFCQkFTRUJJQVFvQWdnaUFrRU1ha0VZU3cwQUlBTWdBallDT0NBQVFRRVFBeUlDUVg5R0RRQWdBeUFDUVFGR05nSThJQUJCQVJBRElnSkJmMFlOQUNBRElBSkJBVVkyQWtBZ0FFRUJFQU1pQWtGL1JnMEFJQU1nQWtFQlJqWUNSQ0FBRUI5QkFDRUJDeUFFUVJCcUpBQWdBUXZxQlFFSmZ3SkFJQUlvQXB3Q1JRUkFEQUVMUVFFaEJnTkFBa0FDUUNBQ0lBVkJGR3hxS0FLZ0FpSUVRUVZMRFFBZ0JFRUJhdzRGQUFBQUFBTUJDeUFGUVFGcUlRVU1BUXNMSUFRaEJnc0Nmd0pBSUFFb0FoQWlCRUVCVFFSQUlBUkJBV3NFUUNBREtBSUFRUVZHQkVBZ0FFSUFOd0lBSUFJb0FoUWhCVUVBSVFRTUF3c2dBQ2dDQUNJRUlBSW9BaFFpQlUwTkFpQUVJQVZySUFFb0FoUWlCMEVCZGtrTkFpQUFLQUlFSUFkcURBTUxRUUFoQlFKL1FRQWdBeWdDQUVFRlJnMEFHaUFBS0FJTUlnY2dBQ2dDQ0NBQ0tBSU1UUTBBR2lBQktBSU1JQWRxQ3lFSFFRQWhCQUovSUFFb0FpUWlDQVJBSUFJb0Fnd2dCMm9oQlFzZ0JTQURLQUlFSWdwRklBVkJBRWR4YXlJSkN3UkFJQWxCZjJvaUF5QURJQWh1SWdzZ0NHeHJJUU1MSUFnRVFDQUJLQUlvSVF4QkFDRUZBMEFnRENBRlFRSjBhaWdDQUNBRWFpRUVJQVZCQVdvaUJTQUlSdzBBQ3dzQ1FDQUpSUVJBUVFBaEJBd0JDeUFFSUF0c0lRUWdBU2dDS0NFSVFRQWhCUU5BSUFnZ0JVRUNkR29vQWdBZ0JHb2hCQ0FGUVFGcUlnVWdBMDBOQUFzTElBcEZCRUFnQVNnQ0hDQUVhaUVFQ3lBR1JRUkFJQUlvQWlBaEF5QUJLQUlnSVFFZ0FpZ0NIQ0VHSUFBZ0J6WUNEQ0FBSUFJb0FndzJBZ2dnQmlBQklBTnFJZ0JCSDNVZ0FIRWdCR3BxRHdzZ0FFSUFOd0lJUVFBUEMwRUFJUVZCQUNFRUlBTW9BZ0JCQlVjRVFDQUFLQUlNSVFVZ0FDZ0NDQ0FDS0FJTUlnUkxCRUFnQVNnQ0RDQUZhaUVGQ3lBRUlBVnFRUUYwSUFNb0FnUkZheUVFQ3lBR1JRUkFJQUFnQlRZQ0RDQUFJQUlvQWd3MkFnZ2dCQThMSUFCQ0FEY0NDRUVBRHdzQ1FDQUZJQVJORFFBZ0JTQUVheUFCS0FJVUlnRkJBWFpORFFBZ0FDZ0NCQ0FCYXd3QkN5QUFLQUlFQ3lFRUlBTW9BZ1JGQkVBZ0JDQUZhaUFDS0FJWUlnQkJIM1VnQUhGcUR3c2dBQ0FFTmdJRUlBSW9BaGdoQVNBR0JFQWdBRUVBTmdJRUlBQkJBQ0FCYXlBQlFSOTFjVFlDQUVFQUR3c2dBQ0FGTmdJQUlBUWdCV29nQVVFZmRTQUJjV29MdkFFQkNIOGdBZ1JBSUFGQmYyb2hCMEVBSUFGclFkZ0JiQ0VJUVFFZ0FXdEIyQUZzSVFrZ0FVRi9jMEhZQVd3aENnTkFJQUFnQmtIWUFXeHFJZ01nQTBHb2ZtcEJBQ0FFR3pZQ3lBRWdBd0ovSUFWRkJFQWdBMEVBTmdMTUFVRUFEQUVMSUFNZ0F5QUlhallDekFFZ0F5QUpha0VBSUFRZ0Iwa2JDellDMEFFZ0F5QURJQXBxUVFBZ0JCdEJBQ0FGR3pZQzFBRkJBQ0FFUVFGcUlnTWdBU0FEUmlJREd5RUVJQU1nQldvaEJTQUdRUUZxSWdZZ0FrY05BQXNMQzNjQkFuOUJBU0VDQWtBZ0FFRUJFQU5CZjBZTkFDQUJJQUJCQWhBRE5nSUVJQUVnQUVFRkVBTWlBRFlDQUNBQVFYNXFRUU5KRFFBQ1FDQUFRUXhMRFFCQkFTQUFkQ0lEUWNBOGNVVUVRQ0FEUWFBRGNVVU5BU0FBUVFaR0RRSWdBU2dDQkEwQkRBSUxJQUVvQWdRTkFRdEJBQ0VDQ3lBQ0M1SVRBUVovSUFBZ0FTZ0NBQ0lOTmdJQUlBQWdBQ2dDeEFGQkFXbzJBc1FCSUFJZ0JSQWRBa0FDUUFKQUFrQUNRQ0FOUVI5R0JFQWdBRUVBTmdJVUlBQW9Bc1FCUVFGTERRRWdBRUVjYWlFSklBRkJ5QUpxSVFSQkZ5RUJJQWNoQUFOQUlBbEJFRHNCQUNBQUlBUW9BZ0E2QUFBZ0FDQUVLQUlFT2dBQklBQWdCQ2dDQ0RvQUFpQUFJQVFvQWd3NkFBTWdBQ0FFS0FJUU9nQUVJQUFnQkNnQ0ZEb0FCU0FBSUFRb0FoZzZBQVlnQUNBRUtBSWNPZ0FISUFBZ0JDZ0NJRG9BQ0NBQUlBUW9BaVE2QUFrZ0FDQUVLQUlvT2dBS0lBQWdCQ2dDTERvQUN5QUFJQVFvQWpBNkFBd2dBQ0FFS0FJME9nQU5JQUFnQkNnQ09Eb0FEaUFBSUFRb0FqdzZBQThnQVNJRFFYOXFJUUVnQ1VFQ2FpRUpJQUJCRUdvaEFDQUVRVUJySVFRZ0F3MEFDeUFDSUFjUUd3d0VDeUFBUVJ4cUlRa2dEUVJBSUFrZ0FTa0NrQUkzQWdBZ0NTQUJLUUcrQWpjQkxpQUpJQUVwQXJnQ053SW9JQWtnQVNrQ3NBSTNBaUFnQ1NBQktRS29BamNDR0NBSklBRXBBcUFDTndJUUlBa2dBU2tDbUFJM0FnZ2dCQ2dDQUNFS0FrQWdBU2dDQ0NJTFJRMEFJQVFnQ2lBTGFpSUtOZ0lBSUFRZ0NrRi9UQVIvSUFwQk5Hb0ZJQXBCTkVnTkFTQUtRVXhxQ3lJS05nSUFDeUFBSUFvMkFoUWdBVUhJRDJvaERDQUJRY2dDYWlFRUFrQUNRQ0FBS0FJQVFRWk5CRUFnQ1M4QkFFVU5BVUVCSVFnZ0JDQUtRUUFnRENnQ0FCQUdSUTBDREFnTElBQXZBVXdFUUNBQlFjZ09haUFLRURFTFFiQTBJUXBCRHlFSUEwQWdDQ0VMSUFRZ0FTQUtLQUlBUVFKMGFrSElEbW9vQWdBaUNEWUNBQUpBQWtBZ0NFVUVRQ0FKTHdFQVJRMEJDMEVCSVFnZ0JDQUFLQUlVUVFFZ0RDZ0NBQkFHUlEwQkRBb0xJQVJCLy8vL0J6WUNBQXNnQ2tFRWFpRUtJQXRCZjJvaENDQU1RUVJxSVF3Z0NVRUNhaUVKSUFSQlFHc2hCQ0FMRFFBTERBUUxJQVJCLy8vL0J6WUNBQXNnQVVHSUEyb2hCQUpBSUFBdkFSNEVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSE1EMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJ5QU5xSVFRQ1FDQUFMd0VnQkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCMEE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUVlnRWFpRUVBa0FnQUM4QklnUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFkUVBhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVSElCR29oQkFKQUlBQXZBU1FFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUhZRDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCaUFWcUlRUUNRQ0FBTHdFbUJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQjNBOXFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFjZ0ZhaUVFQWtBZ0FDOEJLQVJBUVFFaENDQUVJQUFvQWhSQkFDQUJRZUFQYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJQm1vaEJBSkFJQUF2QVNvRVFFRUJJUWdnQkNBQUtBSVVRUUFnQVVIa0Qyb29BZ0FRQmtVTkFRd0hDeUFFUWYvLy93YzJBZ0FMSUFGQnlBWnFJUVFDUUNBQUx3RXNCRUJCQVNFSUlBUWdBQ2dDRkVFQUlBRkI2QTlxS0FJQUVBWkZEUUVNQndzZ0JFSC8vLzhITmdJQUN5QUJRWWdIYWlFRUFrQWdBQzhCTGdSQVFRRWhDQ0FFSUFBb0FoUkJBQ0FCUWV3UGFpZ0NBQkFHUlEwQkRBY0xJQVJCLy8vL0J6WUNBQXNnQVVISUIyb2hCQUpBSUFBdkFUQUVRRUVCSVFnZ0JDQUFLQUlVUVFBZ0FVSHdEMm9vQWdBUUJrVU5BUXdIQ3lBRVFmLy8vd2MyQWdBTElBRkJpQWhxSVFRQ1FDQUFMd0V5QkVCQkFTRUlJQVFnQUNnQ0ZFRUFJQUZCOUE5cUtBSUFFQVpGRFFFTUJ3c2dCRUgvLy84SE5nSUFDeUFCUWNnSWFpRUVBa0FnQUM4Qk5BUkFRUUVoQ0NBRUlBQW9BaFJCQUNBQlFmZ1BhaWdDQUJBR1JRMEJEQWNMSUFSQi8vLy9CellDQUFzZ0FVR0lDV29oQkFKQUlBQXZBVFlFUUVFQklRZ2dCQ0FBS0FJVVFRQWdBVUg4RDJvb0FnQVFCa1VOQVF3SEN5QUVRZi8vL3djMkFnQUxJQUZCeUFscUlRUUNRQ0FBTHdFNEJFQkJBU0VJSUFRZ0FDZ0NGRUVBSUFGQmdCQnFLQUlBRUFaRkRRRU1Cd3NnQkVILy8vOEhOZ0lBQ3lBQlFZZ0thaUVFQWtBZ0FDOEJPZ1JBUVFFaENDQUVJQUFvQWhSQkFDQUJRWVFRYWlnQ0FCQUdSUTBCREFjTElBUkIvLy8vQnpZQ0FBc2dBVUdJRUdvaERDQUJRY2dLYWlFRURBSUxJQWxDQURjQ0FDQUpRZ0EzQVM0Z0NVSUFOd0lvSUFsQ0FEY0NJQ0FKUWdBM0FoZ2dDVUlBTndJUUlBbENBRGNDQ0NBQUlBUW9BZ0EyQWhRTUFnc2dBRUtRZ01DQWdJS0FDRGNCSENBQVFwQ0F3SUNBZ29BSU53RkVJQUJDa0lEQWdJQ0NnQWczQVR3Z0FFS1FnTUNBZ0lLQUNEY0JOQ0FBUXBDQXdJQ0Fnb0FJTndFc0lBQkNrSURBZ0lDQ2dBZzNBU1JCQUE4TElBQW9BaGdnQUNnQ0ZHb2lDMEV6SUF0Qk0wZ2JJZ3RCQUNBTFFRQktHMEVDZEVIZ1BXb29BZ0FoQ1FKQUlBQXZBVTVGQkVBZ0FDOEJVRVVOQVFzZ0FVR0lEMm9nQ1JBd0N5QUVJQUZCaUE5cUtBSUFJZ3MyQWdBQ1FBSkFJQXRGQkVBZ0FDOEJQRVVOQVF0QkFTRUlJQVFnQ1VFQklBd29BZ0FRQmtVTkFRd0VDeUFFUWYvLy93YzJBZ0FMSUFRZ0FTZ0NqQThpQ3pZQ1FDQUVRVUJySVFvQ1FBSkFJQXRGQkVBZ0FDOEJQa1VOQVF0QkFTRUlJQW9nQ1VFQklBd29BZ1FRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NrQThpQ3pZQ2dBRWdCRUdBQVdvaENnSkFBa0FnQzBVRVFDQUFRVUJyTHdFQVJRMEJDMEVCSVFnZ0NpQUpRUUVnRENnQ0NCQUdSUTBCREFRTElBcEIvLy8vQnpZQ0FBc2dCQ0FCS0FLVUR5SUxOZ0xBQVNBRVFjQUJhaUVLQWtBQ1FDQUxSUVJBSUFBdkFVSkZEUUVMUVFFaENDQUtJQWxCQVNBTUtBSU1FQVpGRFFFTUJBc2dDa0gvLy84SE5nSUFDeUFFSUFFb0FwZ1BJZ3MyQW9BQ0lBUkJnQUpxSVFvQ1FBSkFJQXRGQkVBZ0FDOEJSRVVOQVF0QkFTRUlJQW9nQ1VFQklBd29BaEFRQmtVTkFRd0VDeUFLUWYvLy93YzJBZ0FMSUFRZ0FTZ0NuQThpQ3pZQ3dBSWdCRUhBQW1vaENnSkFBa0FnQzBVRVFDQUFMd0ZHUlEwQkMwRUJJUWdnQ2lBSlFRRWdEQ2dDRkJBR1JRMEJEQVFMSUFwQi8vLy9CellDQUFzZ0JDQUJLQUtnRHlJTE5nS0FBeUFFUVlBRGFpRUtBa0FDUUNBTFJRUkFJQUF2QVVoRkRRRUxRUUVoQ0NBS0lBbEJBU0FNS0FJWUVBWkZEUUVNQkFzZ0NrSC8vLzhITmdJQUN5QUVJQUVvQXFRUElnczJBc0FESUFSQndBTnFJUVFDUUFKQUlBdEZCRUFnQUM4QlNrVU5BUXRCQVNFSUlBUWdDVUVCSUF3b0Fod1FCa1VOQVF3RUN5QUVRZi8vL3djMkFnQUxJQTFCQmtrTkFDQUFJQUVnQWlBRklBWWdCeEJXSWdoRkRRRU1BZ3NnQUNBQklBTWdCU0FDSUFjUVZ5SUlEUUVMUVFBaENBc2dDQXVXSFFFSGZ5TUFRUkJySWdja0FDQUJRUUJCcUJBUUJ5RUZJQUFnQjBFRWFoQUNJUUVnQnlnQ0JDRUlBa0FDUUFKQUlBTkJmbW9pQTBFRlN3MEFBa0FnQTBFQmF3NEVBUUVCQVFBTFFRRWhBeUFCRFFJZ0NFRUdhaUlHUVI5TkRRRU1BZ3RCQVNFRElBRU5BU0FJUVFGcUlnWkJIMHNOQVFzZ0JTQUdOZ0lBQWtBZ0JrRWZSZ1JBQTBBZ0FDZ0NDQVJBSUFCQkFSQURSUTBCREFRTEN5QUZRY2dDYWlFR0EwQWdCeUFBUVFnUUF5SUJOZ0lFSUFGQmYwWU5BeUFHSUFFMkFnQWdCa0VFYWlFR0lBbEJBV29pQ1VHQUEwY05BQXNNQVF0QkFpQUdRUVpISUFaQkJra2JJUW9DUUFKQUlBWkJCRWtOQUNBR1FRVkxEUUFnQUNBSFFReHFFQUlOQVNBSEtBSU1JZ0ZCQTBzTkFTQUZJQUUyQXJBQklBQWdCMEVNYWhBQ0RRRWdCeWdDRENJQlFRTkxEUUVnQlNBQk5nSzBBU0FBSUFkQkRHb1FBZzBCSUFjb0Fnd2lBVUVEU3cwQklBVWdBVFlDdUFFZ0FDQUhRUXhxRUFJTkFTQUhLQUlNSWdGQkEwc05BU0FGSUFFMkFyd0JBa0FnQkVFQ1NRMEFJQVpCQlVZTkFDQUFJQWRCREdvZ0JFRUNTeUlCRUJjTkFpQUhLQUlNSWdnZ0JFOE5BaUFGSUFnMkFzQUJJQUFnQjBFTWFpQUJFQmNOQWlBSEtBSU1JZ2dnQkU4TkFpQUZJQWcyQXNRQklBQWdCMEVNYWlBQkVCY05BaUFIS0FJTUlnZ2dCRThOQWlBRklBZzJBc2dCSUFBZ0IwRU1haUFCRUJjTkFpQUhLQUlNSWdFZ0JFOE5BaUFGSUFFMkFzd0JDeUFISUFVb0FyQUJJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93SFFBU0FBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dIU0FTQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVlnQVEwQUN5QUhJQVVvQXJRQklnRkJBazBFZnlBQlFRSjBRZkEwYWlnQ0FBVkJBd3MyQWd4QkFDRUdBMEFnQUNBSFFRaHFFQVVpQXcwQ0lBVWdCa0VDZEdvaUFTQUhLQUlJT3dIZ0FTQUFJQWRCQ0dvUUJTSUREUUlnQVNBSEtBSUlPd0hpQVNBSElBY29BZ3dpQVVGL2FqWUNEQ0FHUVFGcUlRWWdBUTBBQ3lBSElBVW9BcmdCSWdGQkFrMEVmeUFCUVFKMFFmQTBhaWdDQUFWQkF3czJBZ3hCQUNFR0EwQWdBQ0FIUVFocUVBVWlBdzBDSUFVZ0JrRUNkR29pQVNBSEtBSUlPd0h3QVNBQUlBZEJDR29RQlNJRERRSWdBU0FIS0FJSU93SHlBU0FISUFjb0Fnd2lBVUYvYWpZQ0RDQUdRUUZxSVFZZ0FRMEFDeUFISUFVb0Fyd0JJZ0ZCQWswRWZ5QUJRUUowUWZBMGFpZ0NBQVZCQXdzMkFneEJBQ0VHQTBBZ0FDQUhRUWhxRUFVaUF3MENJQVVnQmtFQ2RHb2lBU0FIS0FJSU93R0FBaUFBSUFkQkNHb1FCU0lERFFJZ0FTQUhLQUlJT3dHQ0FpQUhJQWNvQWd3aUFVRi9hallDRENBR1FRRnFJUVpCQUNFRElBRU5BQXNNQVF0QkFDRURJQXBCQWtzTkFBSkFBbjhDUUFKQUFrQWdDa0VCYXc0Q0JBRUFDeUFIUVFBMkFnZ2dCU0FBRUE4aUFVRWZkallDRENBQlFRQk9EUUVnQVVFQmRDRUdRUUFNQWdzZ0JFRUNUd1JBUVFNaEFTQUdRUU5OQkVBZ0JrRUNkRUg4Tkdvb0FnQWhBUXNnQkVFQ1N5RUxRUUVoQXdOQUlBQWdCMEVNYWlBTEVCY05CU0FIS0FJTUlnZ2dCRThOQlNBRklBbEJBblJxSUFnMkFwQUJJQUVpQ0VGL2FpRUJJQWxCQVdvaENTQUlEUUFMQzBFRElRTWdCa0VEVFFSQUlBWkJBblJCL0RScUtBSUFJUU1MUVFBaEJnTkFJQU1oQVNBQUlBZEJDR29RQlNJRERRUWdCU0FHUVFKMGFpSUVJQWNvQWdnN0FhQUJJQUFnQjBFSWFoQUZJZ01OQkNBRUlBY29BZ2c3QWFJQklBRkJmMm9oQXlBR1FRRnFJUVlnQVEwQUMwRUFJUU1NQXdzZ0JTQUJRUngyTmdKTUlBRkJCSFFoQmtFQkN5RURJQVVnQmtFZmRqWUNFQ0FGSUFaQkFFZ0VmeUFHUVFGMEJTQUZJQVpCSEhZMkFsQWdBMEVCYWlFRElBWkJCSFFMSWdGQkgzWTJBaFFnQlNBQlFRQklCSDhnQVVFQmRBVWdCU0FCUVJ4Mk5nSlVJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0lZSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNXQ0FEUVFGcUlRTWdBVUVFZEFzaUFVRWZkallDSENBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBbHdnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWlBZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pnSUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJa0lBVWdBVUVBU0FSL0lBRkJBWFFGSUFVZ0FVRWNkallDWkNBRFFRRnFJUU1nQVVFRWRBc2lBVUVmZGpZQ0tDQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0pvSUFOQkFXb2hBeUFCUVFSMEN5RUdBa0FnQUNBRFFRTnNRUWhxRUF0QmYwWU5BQ0FIUVFFMkFnZ2dCU0FBRUE4aUFVRWZkallDTEFKL0lBRkJBRWdFUUNBQlFRRjBJUVpCQUF3QkN5QUZJQUZCSEhZMkFtd2dBVUVFZENFR1FRRUxJUU1nQlNBR1FSOTJOZ0l3SUFVZ0JrRUFTQVIvSUFaQkFYUUZJQVVnQmtFY2RqWUNjQ0FEUVFGcUlRTWdCa0VFZEFzaUFVRWZkallDTkNBRklBRkJBRWdFZnlBQlFRRjBCU0FGSUFGQkhIWTJBblFnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWpnZ0JTQUJRUUJJQkg4Z0FVRUJkQVVnQlNBQlFSeDJOZ0o0SUFOQkFXb2hBeUFCUVFSMEN5SUJRUjkyTmdJOElBVkJRR3NnQVVFQVNBUi9JQUZCQVhRRklBVWdBVUVjZGpZQ2ZDQURRUUZxSVFNZ0FVRUVkQXNpQVVFZmRqWUNBQ0FGSUFGQkFFZ0VmeUFCUVFGMEJTQUZJQUZCSEhZMkFvQUJJQU5CQVdvaEF5QUJRUVIwQ3lJQlFSOTJOZ0pFSUFVZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNoQUVnQTBFQmFpRURJQUZCQkhRTElnRkJIM1kyQWtnZ0FVRUFTQVIvSUFGQkFYUUZJQVVnQVVFY2RqWUNpQUVnQTBFQmFpRURJQUZCQkhRTElRWWdBQ0FEUVFOc1FRaHFFQXRCZjBZTkFDQUhJQVkyQWd3Z0IwRUNOZ0lJREFFTElBY2dCallDREVFQklRTU1BUXRCQVNFRElBQWdCMEVNYWhBQ0RRQWdCeWdDRENJQlFRTkxEUUFnQlNBQk5nS01BVUVBSVFNTElBTU5BUUpBSUFwQkFVY0VRQ0FBSUFkQkJHb2dDa1VRTFNJRERRTWdCU0FIS0FJRUlnRTJBZ1FnQVVVTkFnd0JDeUFGSUFVb0FnQWlBVUY1YWlJRFFRSjBRWEJ4SWdSQlVHb2dCQ0FEUVF0TEcwRVBRUUFnQVVFU1N4dHlOZ0lFQzBFQklRTWdBQ0FIUVF4cUVBVU5BU0FIS0FJTUlnRkJHbXBCTTBzTkFTQUZJQUUyQWdnZ0JVR1FBbW9oQ0NBRktBSUVJUVFDUUFKQUlBVW9BZ0JCQjBrRVFFRUFJUWxCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FJSUFsQkFuUnFRYmdOYWlBQUlBZ2dDVUVHZEdwQk9Hb2dBaUFKSUFnUURVRVFFQWtpQTBFUWRqWUNBQ0FEUVE5eERRUWdDQ0FKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FJSUFsQkFYSWlCa0VDZEdwQnVBMXFJQUFnQ0NBR1FRWjBha0U0YWlBQ0lBWWdDQkFOUVJBUUNTSURRUkIyTmdJQUlBTkJEM0VOQkNBSUlBWkJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBZ2dDVUVDY2lJR1FRSjBha0c0RFdvZ0FDQUlJQVpCQm5ScVFUaHFJQUlnQmlBSUVBMUJFQkFKSWdOQkVIWTJBZ0FnQTBFUGNRMEVJQWdnQmtFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQ0NBSlFRTnlJZ1pCQW5ScVFiZ05haUFBSUFnZ0JrRUdkR3BCT0dvZ0FpQUdJQWdRRFVFUUVBa2lBMEVRZGpZQ0FDQURRUTl4RFFRZ0JTQUdRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc01BUXRCQUNFSklBQWdCVUhJRG1vZ0FrRUFJQWdRRFVFUUVBa2lBMEVQY1EwQklBVWdBMEVFZGtIL0FYRTdBY0FDSUFWQmtBSnFJUVpCQXlFREEwQWdBeUVCSUFSQkFYRUVRQ0FHSUFsQkFuUnFRYmdOYWlBQUlBWWdDVUVHZEdwQlBHb2dBaUFKSUFnUURVRVBFQWtpQTBFUGRqWUNBQ0FEUVE5eERRTWdCaUFKUVFGMGFpQURRUVIyUWY4QmNUc0JBQ0FHSUFsQkFYSWlDa0VDZEdwQnVBMXFJQUFnQmlBS1FRWjBha0U4YWlBQ0lBb2dDQkFOUVE4UUNTSURRUTkyTmdJQUlBTkJEM0VOQXlBR0lBcEJBWFJxSUFOQkJIWkIvd0Z4T3dFQUlBWWdDVUVDY2lJS1FRSjBha0c0RFdvZ0FDQUdJQXBCQm5ScVFUeHFJQUlnQ2lBSUVBMUJEeEFKSWdOQkQzWTJBZ0FnQTBFUGNRMERJQVlnQ2tFQmRHb2dBMEVFZGtIL0FYRTdBUUFnQmlBSlFRTnlJZ3BCQW5ScVFiZ05haUFBSUFZZ0NrRUdkR3BCUEdvZ0FpQUtJQWdRRFVFUEVBa2lBMEVQZGpZQ0FDQURRUTl4RFFNZ0JTQUtRUUYwYWlBRFFRUjJRZjhCY1RzQmtBSUxJQVJCQVhZaEJDQUJRWDlxSVFNZ0NVRUVhaUVKSUFFTkFBc0xJQVJCQTNFRVFDQUFJQVZCaUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIQ0FpQUFJQVZCbUE5cVFYOUJCQkFKSWdOQkQzRU5BU0FGSUFOQkJIWkIvd0Z4T3dIRUFndEJBQ0VESUFSQkFuRkZEUUFnQUNBRlFjd0thaUFDUVJBZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCaUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzQUlnQUNBRlFZd0xhaUFDUVJFZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCakJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0JzZ0lnQUNBRlFjd0xhaUFDUVJJZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCa0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0QUlnQUNBRlFZd01haUFDUVJNZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J0Z0lnQUNBRlFjd01haUFDUVJRZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbUJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1QUlnQUNBRlFZd05haUFDUVJVZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCbkJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J1Z0lnQUNBRlFjd05haUFDUVJZZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCb0JCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2QUlnQUNBRlFZd09haUFDUVJjZ0NCQU5RUThRQ1NJQlFROXhCRUFnQVNFRERBRUxJQVZCcEJCcUlBRkJEM1kyQWdBZ0JTQUJRUVIyUWY4QmNUc0J2Z0lMSUFBZ0FDZ0NDQ0FBS0FJRUlBQW9BZ0JyUVFOMGFqWUNFQ0FERFFFTFFRQWhBd3NnQjBFUWFpUUFJQU1McFJRQkRIOENmeUFBS0FMSUFTSUhCRUFnQUNnQ0JDQUhLQUlFUmd3QkMwRUFDeUVLQWtBZ0JrVU5BQ0FLUlEwQVFRQWdDa0VDSUFBb0FzZ0JLQUlBSWdkQkJrY2dCMEVHU1J0QkFrWWJJUW9MQW44Z0FDZ0N6QUVpQndSQUlBQW9BZ1FnQnlnQ0JFWU1BUXRCQUFzaEJ3SkFJQVpGRFFBZ0IwVU5BRUVBSUFkQkFpQUFLQUxNQVNnQ0FDSUhRUVpISUFkQkJra2JRUUpHR3lFSEN3Si9JQUFvQXRRQklna0VRQ0FBS0FJRUlBa29BZ1JHREFFTFFRQUxJUWtDUUNBR1JRMEFJQWxGRFFCQkFpQUFLQUxVQVNnQ0FDSUFRUVpISUFCQkJra2JRUUpISVFrTElBcEJBRWNnQjBFQVIzRWlEU0FKUVFCSGNTRU9JQVZCQWtzaEQwRVFJUXNEUUFKQUlBOUZCRUFDUUFKQUFrQWdCVUVCYXc0Q0FRSUFDeUFCQW44Z0RRUkFJQVF0QUFNZ0JDMEFBaUFFTFFBQklBUXRBQUFnQXkwQUJDQURMUUFESUFNdEFBRWdBeTBBQW1wcWFtcHFhbXBCQkdwQkEzWWhCaUFETFFBSUlBTXRBQWNnQXkwQUJTQURMUUFHYW1wcVFRSnFRUUoyREFFTElBY0VRQ0FETFFBRUlBTXRBQU1nQXkwQUFTQURMUUFDYW1wcVFRSnFRUUoySVFZZ0F5MEFDQ0FETFFBSElBTXRBQVVnQXkwQUJtcHFha0VDYWtFQ2Rnd0JDeUFLUlFSQVFZQUJJUVpCZ0FFTUFRc2dCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYWtFQ2FrRUNkaUlHQzBIL0FYRkJnWUtFQ0d3aUFEWUFIQ0FCSUFaQi93RnhRWUdDaEFoc0lnWTJBQmdnQVNBQU5nQVVJQUVnQmpZQUVDQUJJQUEyQUF3Z0FTQUdOZ0FJSUFFZ0FEWUFCQ0FCSUFZMkFBQUNmeUFLQkVBZ0JDMEFCeUFFTFFBR0lBUXRBQVVnQkMwQUJHcHFhaUlHUVFKcVFRSjJJZ0FnQjBVTkFSb2dBeTBBQ0NBRExRQUhJQU10QUFZZ0JpQURMUUFGYW1wcWFrRUVha0VEZGd3QkN5QUhSUVJBUVlBQklRQkJnQUVNQVFzZ0F5MEFCQ0FETFFBRElBTXRBQUVnQXkwQUFtcHFha0VDYWtFQ2RpRUFJQU10QUFnZ0F5MEFCeUFETFFBRklBTXRBQVpxYW1wQkFtcEJBbllMSVFZZ0FTQUFRZjhCY1VHQmdvUUliQ0lBTmdBZ0lBRWdCa0gvQVhGQmdZS0VDR3dpQmpZQVBDQUJJQUEyQURnZ0FTQUdOZ0EwSUFFZ0FEWUFNQ0FCSUFZMkFDd2dBU0FBTmdBb0lBRWdCallBSkF3REN5QUtSUVJBUVFFUEN5QUJJQVF0QUFBNkFBQWdBU0FFTFFBQU9nQUJJQUVnQkMwQUFEb0FBaUFCSUFRdEFBQTZBQU1nQVNBRUxRQUFPZ0FFSUFFZ0JDMEFBRG9BQlNBQklBUXRBQUE2QUFZZ0FTQUVMUUFBT2dBSElBRWdCQzBBQVRvQUNDQUJJQVF0QUFFNkFBa2dBU0FFTFFBQk9nQUtJQUVnQkMwQUFUb0FDeUFCSUFRdEFBRTZBQXdnQVNBRUxRQUJPZ0FOSUFFZ0JDMEFBVG9BRGlBQklBUXRBQUU2QUE4Z0FTQUVMUUFDT2dBUUlBRWdCQzBBQWpvQUVTQUJJQVF0QUFJNkFCSWdBU0FFTFFBQ09nQVRJQUVnQkMwQUFqb0FGQ0FCSUFRdEFBSTZBQlVnQVNBRUxRQUNPZ0FXSUFFZ0JDMEFBam9BRnlBQklBUXRBQU02QUJnZ0FTQUVMUUFET2dBWklBRWdCQzBBQXpvQUdpQUJJQVF0QUFNNkFCc2dBU0FFTFFBRE9nQWNJQUVnQkMwQUF6b0FIU0FCSUFRdEFBTTZBQjRnQVNBRUxRQURPZ0FmSUFFZ0JDMEFCRG9BSUNBQklBUXRBQVE2QUNFZ0FTQUVMUUFFT2dBaUlBRWdCQzBBQkRvQUl5QUJJQVF0QUFRNkFDUWdBU0FFTFFBRU9nQWxJQUVnQkMwQUJEb0FKaUFCSUFRdEFBUTZBQ2NnQVNBRUxRQUZPZ0FvSUFFZ0JDMEFCVG9BS1NBQklBUXRBQVU2QUNvZ0FTQUVMUUFGT2dBcklBRWdCQzBBQlRvQUxDQUJJQVF0QUFVNkFDMGdBU0FFTFFBRk9nQXVJQUVnQkMwQUJUb0FMeUFCSUFRdEFBWTZBREFnQVNBRUxRQUdPZ0F4SUFFZ0JDMEFCam9BTWlBQklBUXRBQVk2QURNZ0FTQUVMUUFHT2dBMElBRWdCQzBBQmpvQU5TQUJJQVF0QUFZNkFEWWdBU0FFTFFBR09nQTNJQUVnQkMwQUJ6b0FPQ0FCSUFRdEFBYzZBRGtnQVNBRUxRQUhPZ0E2SUFFZ0JDMEFCem9BT3lBQklBUXRBQWM2QUR3Z0FTQUVMUUFIT2dBOUlBRWdCQzBBQnpvQVBpQUJJQVF0QUFjNkFEOE1BZ3NnQjBVRVFFRUJEd3NnQVNBRExRQUJPZ0FBSUFFZ0F5MEFBVG9BQ0NBQklBTXRBQUU2QUJBZ0FTQURMUUFCT2dBWUlBRWdBeTBBQVRvQUlDQUJJQU10QUFFNkFDZ2dBU0FETFFBQk9nQXdJQUVnQXkwQUFUb0FPQ0FCSUFNdEFBSTZBQUVnQVNBRExRQUNPZ0FKSUFFZ0F5MEFBam9BRVNBQklBTXRBQUk2QUJrZ0FTQURMUUFDT2dBaElBRWdBeTBBQWpvQUtTQUJJQU10QUFJNkFERWdBU0FETFFBQ09nQTVJQUVnQXkwQUF6b0FBaUFCSUFNdEFBTTZBQW9nQVNBRExRQURPZ0FTSUFFZ0F5MEFBem9BR2lBQklBTXRBQU02QUNJZ0FTQURMUUFET2dBcUlBRWdBeTBBQXpvQU1pQUJJQU10QUFNNkFEb2dBU0FETFFBRU9nQURJQUVnQXkwQUJEb0FDeUFCSUFNdEFBUTZBQk1nQVNBRExRQUVPZ0FiSUFFZ0F5MEFCRG9BSXlBQklBTXRBQVE2QUNzZ0FTQURMUUFFT2dBeklBRWdBeTBBQkRvQU95QUJJQU10QUFVNkFBUWdBU0FETFFBRk9nQU1JQUVnQXkwQUJUb0FGQ0FCSUFNdEFBVTZBQndnQVNBRExRQUZPZ0FrSUFFZ0F5MEFCVG9BTENBQklBTXRBQVU2QURRZ0FTQURMUUFGT2dBOElBRWdBeTBBQmpvQUJTQUJJQU10QUFZNkFBMGdBU0FETFFBR09nQVZJQUVnQXkwQUJqb0FIU0FCSUFNdEFBWTZBQ1VnQVNBRExRQUdPZ0F0SUFFZ0F5MEFCam9BTlNBQklBTXRBQVk2QUQwZ0FTQURMUUFIT2dBR0lBRWdBeTBBQnpvQURpQUJJQU10QUFjNkFCWWdBU0FETFFBSE9nQWVJQUVnQXkwQUJ6b0FKaUFCSUFNdEFBYzZBQzRnQVNBRExRQUhPZ0EySUFFZ0F5MEFCem9BUGlBQklBTXRBQWc2QUFjZ0FTQURMUUFJT2dBUElBRWdBeTBBQ0RvQUZ5QUJJQU10QUFnNkFCOGdBU0FETFFBSU9nQW5JQUVnQXkwQUNEb0FMeUFCSUFNdEFBZzZBRGNnQVNBRExRQUlPZ0EvREFFTElBNUZCRUJCQVE4TElBTXRBQVVnQXkwQUEyc2dBeTBBQmlBRExRQUNhMEVCZEdvZ0F5MEFCeUFETFFBQmEwRURiR29nQXkwQUNDSUFJQU10QUFBaUNXdEJBblJxUVJGc1FSQnFRUVYxSWdaQmZXd2hFQ0FBSUFRdEFBY2lER3BCQkhRZ0JDMEFCQ0FFTFFBQ2F5QU1JQWxyUVFKMGFpQUVMUUFGSUFRdEFBRnJRUUYwYWlBRUxRQUdJQVF0QUFCclFRTnNha0VSYkVFUWFrRUZkU0lSUVgxc2FrRVFhaUVKUVFnaERDQUJJUUFEUUNBQUlBa2dFR29pQ0VFRmRVR3dMbW90QUFBNkFBQWdBQ0FHSUFocUlnaEJCWFZCc0M1cUxRQUFPZ0FCSUFBZ0JpQUlhaUlJUVFWMVFiQXVhaTBBQURvQUFpQUFJQVlnQ0dvaUNFRUZkVUd3TG1vdEFBQTZBQU1nQUNBR0lBaHFJZ2hCQlhWQnNDNXFMUUFBT2dBRUlBQWdCaUFJYWlJSVFRVjFRYkF1YWkwQUFEb0FCU0FBSUFZZ0NHb2lDRUVGZFVHd0xtb3RBQUE2QUFZZ0FDQUdJQWhxUVFWMVFiQXVhaTBBQURvQUJ5QUpJQkZxSVFrZ0FFRUlhaUVBSUF4QmYyb2lEQTBBQ3dzZ0FTQUNJQXNRQ0NBQklBSkJRR3NnQzBFQmNoQUlJQUVnQWtHQUFXb2dDMEVDY2hBSUlBRWdBa0hBQVdvZ0MwRURjaEFJSUFKQmdBSnFJUUlnQkVFSWFpRUVJQU5CQ1dvaEF5QUJRVUJySVFFZ0MwRUVhaUVMSUJKQkFXb2lFa0VDUncwQUMwRUFDNkVWQWhoL0FuNENmd05BQW44Z0FDSUlJQlpCQTNSQnNEVnFLUUlBSWg2bkVCRWlDU0lHQkVBZ0NDZ0NCQ0FHS0FJRVJnd0JDMEVBQ3lFTkFrQWdCVVVOQUNBTlJRMEFRUUFnRFVFQ0lBa29BZ0FpQmtFR1J5QUdRUVpKRzBFQ1Joc2hEUXNDZnlBSUlCWkJBM1JCOERacUtRSUFJaCtuRUJFaUJ5SUdCRUFnQ0NnQ0JDQUdLQUlFUmd3QkMwRUFDeUVQQWtBZ0JVVU5BQ0FQUlEwQVFRQWdEMEVDSUFjb0FnQWlCa0VHUnlBR1FRWkpHMEVDUmhzaER3dEJBaUVNSUExQkFFY2dEMEVBUjNFaUVrRUJSZ1JBUVFJaEJnSi9RUUlnQ1NnQ0FDSUxRUVpISUF0QkJra2JSUVJBSUFrZ0hrSWdpS2RCL3dGeGFpMEFVaUVHQ3lBR0N3Si9RUUlnQnlnQ0FDSUpRUVpISUFsQkJra2JSUVJBSUFjZ0gwSWdpS2RCL3dGeGFpMEFVaUVNQ3lBTUN5QUdJQXhKR3lFTUN5QUNJQlpCQW5RaUNXb2lCaWdDREVVRVFDQUdLQUpNSWdZZ0JpQU1UMm9oREFzZ0NDQVdhaUFNT2dCU0FuOGdDQ0FXUVFOMFFiQTRhaWdDQUJBUklnWWlCd1JBSUFnb0FnUWdCeWdDQkVZTUFRdEJBQXNoRGdKQUlBVkZEUUFnRGtVTkFFRUFJQTVCQWlBR0tBSUFJZ1pCQmtjZ0JrRUdTUnRCQWtZYklRNExBbjhnQUNBV1FRTjBRZkE1YWlnQ0FCQVJJZ2dpQmdSQUlBQW9BZ1FnQmlnQ0JFWU1BUXRCQUFzaEVRSkFJQVZGRFFBZ0VVVU5BRUVBSUJGQkFpQUlLQUlBSWdoQkJrY2dDRUVHU1J0QkFrWWJJUkVMSUFsQjhDbHFLQUlBSVJjZ0NVR3dLV29vQWdBaEdBSi9RWVVLSUJaMlFRRnhJaHdFUUNBWFFRTnFJUWNnQkNBWGFpSUlRUUpxSVFZZ0NFRUJhaUVMSUFRTUFRc2dGMEVFZENBWWFpSUlRUzlxSVFjZ0FTQUlhaUlJUVI5cUlRWWdDRUVQYWlFTElBaEJmMm9oQ0NBQkN5RUpJQWNnQ1dvdEFBQWhDaUFHTFFBQUlSQWdDeTBBQUNFVElBZ3RBQUFoRkFKQVFUTWdGblpCQVhFRVFDQURJQmhxSWdjdEFBZ2hHeUFITFFBSElSa2dCeTBBQmlFVklBY3RBQVVoR2lBSExRQUVJUVlnQnkwQUF5RUxJQWN0QUFJaENTQUhMUUFCSVFnTUFRc2dBU0FYUVg5cUloMUJCSFFnR0dwcUlnY3RBQUFoQ0NBSExRQUhJUnNnQnkwQUJpRVpJQWN0QUFVaEZTQUhMUUFFSVJvZ0J5MEFBeUVHSUFjdEFBSWhDeUFITFFBQklRa2dIQVJBSUFRZ0hXb2hCd3dCQ3lBSFFYOXFJUWNMQWtBZ0RFRUhUUVJBSUFjdEFBQWhCd0pBQWtBQ1FBSkFBa0FDUUFKQUFrQWdERUVCYXc0SEFRSURCQVVHQndBTElBOUZCRUJCQVE4TElBaEIvd0Z4SUF0Qi93RnhRUkIwSUFaQkdIUnljaUFKUWY4QmNVRUlkSEloRlNBSUlnd2hEU0FKSWc0aEVpQUxJZzhoQ2lBR0loRWhCd3dJQ3lBTlJRUkFRUUVQQ3lBS1FZR0NoQWhzSVJVZ0VFR0Jnb1FJYkNJTlFSaDJJUWNnRFVFUWRpRUtJQTFCQ0hZaEVpQVRRWUdDaEFoc0lneEJHSFloRVNBTVFSQjJJUThnREVFSWRpRU9JQlJCZ1lLRUNHd2lDRUVZZGlFR0lBaEJFSFloQ3lBSVFRaDJJUWtNQndzQ2Z5QVRJQlJxSUFwcUlCQnFJQVpCL3dGeGFpQUxRZjhCY1dvZ0NVSC9BWEZxSUFoQi93Rnhha0VFYWtFRGRpQVNEUUFhSUJNZ0ZHb2dDbW9nRUdwQkFtcEJBbllnRFEwQUdrR0FBU0FQUlEwQUdpQUdRZjhCY1NBTFFmOEJjV29nQ1VIL0FYRnFJQWhCL3dGeGFrRUNha0VDZGdzaUNFR0Jnb1FJYkNFVklBZ2lDU0lMSWdZaURDSU9JZzhpRVNJTkloSWlDaUVIREFZTElBOUZCRUJCQVE4TElBWkIvd0Z4SWcxQkFtb2lFU0FWSUFZZ0RodEIvd0Z4SWdkcUlCb2dCaUFPRzBIL0FYRWlDa0VCZEdwQkFuWWlEeUFaSUFZZ0RodEIvd0Z4SWd3Z0d5QUdJQTRiUWY4QmNTSUdRUU5zYWtFV2RFR0FnSUFFYWtHQWdJQjRjWElnQ2lBTWFpQUhRUUYwYWtFQ2FpSVFRUVowUVlEK0EzRnlJQVlnQjJvZ0RFRUJkR3BCQW1vaUJrRU9kRUdBZ1B3SGNYSWhGU0FHUVFKMklRY2dDMEgvQVhFaUJrRUNhaUlMSUFoQi93RnhhaUFKUWY4QmNTSUpRUUYwYWtFQ2RpRUlJQWtnRVdvZ0JrRUJkR3BCQW5ZaUNTRU1JQW9nQzJvZ0RVRUJkR3BCQW5ZaUN5RU9JQXNoRFNBUElnWWhFaUFRUVFKMkloRWhDZ3dGQzBFQklCRkZJQkpCQVhOeURRWWFJQlFnRTBFQmRHb2dFR3BCQW1vaURrRUdkRUdBL2dOeElBb2dFMEVDYWlJUGFpQVFRUUYwYWtFQ2RuSWdDRUgvQVhFaUNrRUNhaUlNSUJScUlBZEJBWFJxUVFKMklnaEJHSFJ5SUE4Z0ZFRUJkR29nQjJvaUVFRU9kRUdBZ1B3SGNYSWhGU0FKUWY4QmNTSVJRUUpxSWdrZ0JrSC9BWEZxSUF0Qi93RnhJZ3RCQVhScVFRSjJJUVlnRGtFQ2RpRU5JQWtnQ2tFQmRHb2dCMnBCQW5ZaUNTRVBJQkZCQVhRZ0Myb2dER3BCQW5ZaUN5RVJJQkJCQW5ZaURDRVNJQWdpRGlFS0lBa2hCd3dFQzBFQklCRkZJQkpCQVhOeURRVWFJQWhCL3dGeElncEJBbW9pRGlBTFFmOEJjU0lJSUFsQi93RnhJZ3RCQVhScWFrRUNkaUlQUVJoMElCUWdFMEVCZEdvZ0VHcEJBbXBCQW5aeUlBNGdGR29nQjBFQmRHb2lDVUVHZEVHQS9nTnhjaUFMUVFKcUlnNGdDa0VCZEdvZ0Iyb2lEVUVPZEVHQWdQd0hjWEloRlNBSVFRRnFJaEFnQmtIL0FYRWlER3BCQVhZaEJpQU1JQTVxSUFoQkFYUnFRUUoySVJFZ0NVRUNkaUVNSUExQkFuWWhEaUFUSUJSQkFYUnFJQWRxUVFKcVFRSjJJUTBnQnlBS2FrRUJha0VCZGlJSUlSSWdDaUFMYWtFQmFrRUJkaUlKSVFvZ0N5QVFha0VCZGlJTElRY01Bd3RCQVNBUlJTQVNRUUZ6Y2cwRUdpQVRRUUpxSWc0Z0Ntb2dFRUVCZEdwQkJuUkJnUDREY1NBUUlCTnFRUUZxSWc5QkQzUkJnSUQ4QjNFZ0ZFRUNhaUlNSUJOQkFYUnFJQkJxUVFKMkloSkJHSFJ5SUFvZ0VHcEJBV3BCQVhaeWNpRVZJQWhCL3dGeElnZ2dDMEgvQVhGcUlBbEIvd0Z4SWdsQkFYUnFRUUpxUVFKMklRWWdDU0FJUVFGMGFpQUhha0VDYWtFQ2RpRUxJQTlCQVhZaERTQUlJQXhxSUFkQkFYUnFRUUoySWhFaENTQVVRUUZxSWdvZ0IycEJBWFlpQ0NFUElBb2dFMnBCQVhZaURDRUtJQTRnRkVFQmRHb2dCMnBCQW5ZaURpRUhEQUlMSUE5RkJFQkJBUThMSUJvZ0JpQU9HMEgvQVhFaUNpQVpJQVlnRGh0Qi93RnhhaUFWSUFZZ0RodEIvd0Z4SWdkQkFYUnFRUlowSUF0Qi93RnhJZ3RCQW1vaURDQUthaUFHUWY4QmNTSUdRUUYwYWlJUFFRWjBja0dBZ0lBRWFrR0Evb040Y1NBR1FRSnFJZzBnQ1VIL0FYRWlDV29nQzBFQmRHcEJBbllpRG5JZ0J5QU5haUFLUVFGMGFpSU5RUTUwUVlDQS9BZHhjaUVWSUFjZ0NtcEJBV3BCQVhZaEJ5QU5RUUoySVJFZ0NTQUlRZjhCY1NJTmFrRUJha0VCZGlFSUlBOUJBblloRHlBTUlBMXFJQWxCQVhScVFRSjJJUXdnQ1NBTGFrRUJha0VCZGlJSklRMGdCa0VCYWlJR0lBdHFRUUYySWdzaEVpQUdJQXBxUVFGMklnWWhDZ3dCQ3lBTlJRUkFRUUVQQ3lBS1FRaDBJQXB5SUFwQkVIUnlJQXBCR0hSeUlSVWdFRUVDYWlJSElCUnFJQk5CQVhScVFRSjJJUWtnRTBFQmFpSUdJQlJxUVFGMklRZ2dCaUFRYWtFQmRpSUxJUXdnQ2lBVGFpQVFRUUYwYWtFQ2FrRUNkaUlHSVE0Z0NpQVFha0VCYWtFQmRpSVBJUTBnQnlBS1FRTnNha0VDZGlJUklSSWdDaUVIQ3lBQklCZEJCSFFnR0dwcUloQWdGVFlDTUNBUUlBMUIvd0Z4SUJKQi93RnhRUWgwY2lBS1FmOEJjVUVRZEhJZ0IwRVlkSEkyQWlBZ0VDQU1RZjhCY1NBT1FmOEJjVUVJZEhJZ0QwSC9BWEZCRUhSeUlCRkJHSFJ5TmdJUUlCQWdDRUgvQVhFZ0NVSC9BWEZCQ0hSeUlBdEIvd0Z4UVJCMGNpQUdRUmgwY2pZQ0FDQUJJQUlnRmtFR2RHcEJ5QUpxSUJZUUNDQVdRUUZxSWhaQkVFY05BQXRCQUFzTHhSSUJFSDhDZnlBQUtBTElBU0lIQkVBZ0FDZ0NCQ0FIS0FJRVJnd0JDMEVBQ3lFSEFrQWdCVVVOQUNBSFJRMEFRUUFnQjBFQ0lBQW9Bc2dCS0FJQUlnZEJCa2NnQjBFR1NSdEJBa1liSVFjTEFuOGdBQ2dDekFFaUNBUkFJQUFvQWdRZ0NDZ0NCRVlNQVF0QkFBc2hDQUpBSUFWRkRRQWdDRVVOQUVFQUlBaEJBaUFBS0FMTUFTZ0NBQ0lJUVFaSElBaEJCa2tiUVFKR0d5RUlDd0ovSUFBb0F0UUJJZ2tFUUNBQUtBSUVJQWtvQWdSR0RBRUxRUUFMSVFrQ1FDQUZSUTBBSUFsRkRRQkJBaUFBS0FMVUFTZ0NBQ0lGUVFaSElBVkJCa2tiUVFKSElRa0xBa0FDUUNBQUtBSUFRUUZxUVFOeElnQkJBazBFUUFKQUFrQUNRQ0FBUVFGckRnSUJBZ0FMSUFoRkJFQkJBUThMUVFBaEJTQUJJUUFEUUNBQUlBTXRBQUU2QUFBZ0FDQURMUUFDT2dBQklBQWdBeTBBQXpvQUFpQUFJQU10QUFRNkFBTWdBQ0FETFFBRk9nQUVJQUFnQXkwQUJqb0FCU0FBSUFNdEFBYzZBQVlnQUNBRExRQUlPZ0FISUFBZ0F5MEFDVG9BQ0NBQUlBTXRBQW82QUFrZ0FDQURMUUFMT2dBS0lBQWdBeTBBRERvQUN5QUFJQU10QUEwNkFBd2dBQ0FETFFBT09nQU5JQUFnQXkwQUR6b0FEaUFBSUFNdEFCQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3REN5QUhSUVJBUVFFUEMwRUFJUVVnQVNFQUEwQWdBQ0FFSUFWcUlnTXRBQUE2QUFBZ0FDQURMUUFBT2dBQklBQWdBeTBBQURvQUFpQUFJQU10QUFBNkFBTWdBQ0FETFFBQU9nQUVJQUFnQXkwQUFEb0FCU0FBSUFNdEFBQTZBQVlnQUNBRExRQUFPZ0FISUFBZ0F5MEFBRG9BQ0NBQUlBTXRBQUE2QUFrZ0FDQURMUUFBT2dBS0lBQWdBeTBBQURvQUN5QUFJQU10QUFBNkFBd2dBQ0FETFFBQU9nQU5JQUFnQXkwQUFEb0FEaUFBSUFNdEFBQTZBQThnQUVFUWFpRUFJQVZCQVdvaUJVRVFSdzBBQ3d3Q0N5QUJBbjhDUUNBSFJRMEFJQWhGRFFBZ0JDMEFEeUFETFFBUUlBUXRBQTRnQXkwQUR5QUVMUUFOSUFNdEFBNGdCQzBBRENBRExRQU5JQVF0QUFzZ0F5MEFEQ0FFTFFBS0lBTXRBQXNnQkMwQUNTQURMUUFLSUFRdEFBZ2dBeTBBQ1NBRUxRQUhJQU10QUFnZ0JDMEFCaUFETFFBSElBUXRBQVVnQXkwQUJpQUVMUUFFSUFNdEFBVWdCQzBBQXlBRExRQUVJQVF0QUFJZ0F5MEFBeUFFTFFBQklBTXRBQUlnQXkwQUFTQUVMUUFBYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFtcHFhbXBxYW1wcWFrRVFha0VGZGd3QkN5QUhCRUFnQkMwQUR5QUVMUUFPSUFRdEFBMGdCQzBBRENBRUxRQUxJQVF0QUFvZ0JDMEFDU0FFTFFBSUlBUXRBQWNnQkMwQUJpQUVMUUFGSUFRdEFBUWdCQzBBQXlBRUxRQUNJQVF0QUFBZ0JDMEFBV3BxYW1wcWFtcHFhbXBxYW1wcWFrRUlha0VFZGd3QkMwR0FBU0FJUlEwQUdpQURMUUFRSUFNdEFBOGdBeTBBRGlBRExRQU5JQU10QUF3Z0F5MEFDeUFETFFBS0lBTXRBQWtnQXkwQUNDQURMUUFISUFNdEFBWWdBeTBBQlNBRExRQUVJQU10QUFNZ0F5MEFBU0FETFFBQ2FtcHFhbXBxYW1wcWFtcHFhbXBxUVFocVFRUjJDMEdBQWhBSEdnd0JDMEVCSVFBZ0IwVU5BU0FJUlEwQklBbEZEUUVnQkMwQUNDQUVMUUFHYXlBRUxRQVBJZ0FnQXkwQUFDSUZhMEVEZEdvZ0JDMEFDU0FFTFFBRmEwRUJkR29nQkMwQUNpQUVMUUFFYTBFRGJHb2dCQzBBQ3lBRUxRQURhMEVDZEdvZ0JDMEFEQ0FFTFFBQ2EwRUZiR29nQkMwQURTQUVMUUFCYTBFR2JHb2dCQzBBRGlBRUxRQUFhMEVIYkdwQkJXeEJJR3BCQm5VaEJ5QURMUUFKSUFNdEFBZHJJQU10QUFvZ0F5MEFCbXRCQVhScUlBTXRBQXNnQXkwQUJXdEJBMnhxSUFNdEFBd2dBeTBBQkd0QkFuUnFJQU10QUEwZ0F5MEFBMnRCQld4cUlBTXRBQTRnQXkwQUFtdEJCbXhxSUFNdEFBOGdBeTBBQVd0QkIyeHFJQU10QUJBaUF5QUZhMEVEZEdwQkJXeEJJR3BCQm5VaUJFRURkQ0VJSUFSQkIyd2hDU0FFUVFac0lRb2dCRUVGYkNFTElBUkJBMndoRENBRVFYMXNJUTBnQkVGN2JDRU9JQVJCZW13aER5QUVRWGxzSVJCQkFDQUVRUUYwSWhGcklSSkJBQ0FFUVFKMEloTnJJUlFnQUNBRGFrRUVkRUVRYWlFVlFRQWhCUU5BSUFFZ0JVRUVkQ0lBYWlBVklBVkJlV29nQjJ4cUlnTWdFR3BCQlhVaUJrSC9BU0FHUWY4QlNCc2lCa0VBSUFaQkFFb2JPZ0FBSUFFZ0FFRUJjbW9nQXlBUGFrRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFKeWFpQURJQTVxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJBM0pxSUFNZ0ZHcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFRWNtb2dBeUFOYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUVZ5YWlBRElCSnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkJuSnFJQU1nQkd0QkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVIY21vZ0EwRUZkU0lHUWY4QklBWkIvd0ZJR3lJR1FRQWdCa0VBU2hzNkFBQWdBU0FBUVFoeWFpQURJQVJxUVFWMUlnWkIvd0VnQmtIL0FVZ2JJZ1pCQUNBR1FRQktHem9BQUNBQklBQkJDWEpxSUFNZ0VXcEJCWFVpQmtIL0FTQUdRZjhCU0JzaUJrRUFJQVpCQUVvYk9nQUFJQUVnQUVFS2Ntb2dBeUFNYWtFRmRTSUdRZjhCSUFaQi93RklHeUlHUVFBZ0JrRUFTaHM2QUFBZ0FTQUFRUXR5YWlBRElCTnFRUVYxSWdaQi93RWdCa0gvQVVnYklnWkJBQ0FHUVFCS0d6b0FBQ0FCSUFCQkRISnFJQU1nQzJwQkJYVWlCa0gvQVNBR1FmOEJTQnNpQmtFQUlBWkJBRW9iT2dBQUlBRWdBRUVOY21vZ0F5QUtha0VGZFNJR1FmOEJJQVpCL3dGSUd5SUdRUUFnQmtFQVNoczZBQUFnQVNBQVFRNXlhaUFESUFscVFRVjFJZ1pCL3dFZ0JrSC9BVWdiSWdaQkFDQUdRUUJLR3pvQUFDQUJJQUJCRDNKcUlBTWdDR3BCQlhVaUFFSC9BU0FBUWY4QlNCc2lBRUVBSUFCQkFFb2JPZ0FBSUFWQkFXb2lCVUVRUncwQUN3dEJBQ0VBSUFFZ0FrRUFFQWdnQVNBQ1FVQnJRUUVRQ0NBQklBSkJnQUZxUVFJUUNDQUJJQUpCd0FGcVFRTVFDQ0FCSUFKQmdBSnFRUVFRQ0NBQklBSkJ3QUpxUVFVUUNDQUJJQUpCZ0FOcVFRWVFDQ0FCSUFKQndBTnFRUWNRQ0NBQklBSkJnQVJxUVFnUUNDQUJJQUpCd0FScVFRa1FDQ0FCSUFKQmdBVnFRUW9RQ0NBQklBSkJ3QVZxUVFzUUNDQUJJQUpCZ0FacVFRd1FDQ0FCSUFKQndBWnFRUTBRQ0NBQklBSkJnQWRxUVE0UUNDQUJJQUpCd0FkcVFROFFDQXNnQUF1N0NBRUhmd0pBSUFORkRRQWdBQ2dDQUNBRElBQW9BZ1FpQlc0aUNDQUZiQ0lFUVFoMGFpQURJQVJySWdkQkJIUnFJUVlnQlVFRWRDRUVJQUFvQWdnaENTQUZJQU5MSWdwRkJFQWdBU0FHSUFSQkFYSnJJZ010QUFBNkFBQWdBU0FETFFBQk9nQUJJQUVnQXkwQUFqb0FBaUFCSUFNdEFBTTZBQU1nQVNBRExRQUVPZ0FFSUFFZ0F5MEFCVG9BQlNBQklBTXRBQVk2QUFZZ0FTQURMUUFIT2dBSElBRWdBeTBBQ0RvQUNDQUJJQU10QUFrNkFBa2dBU0FETFFBS09nQUtJQUVnQXkwQUN6b0FDeUFCSUFNdEFBdzZBQXdnQVNBRExRQU5PZ0FOSUFFZ0F5MEFEam9BRGlBQklBTXRBQTg2QUE4Z0FTQURMUUFRT2dBUUlBRWdBeTBBRVRvQUVTQUJJQU10QUJJNkFCSWdBU0FETFFBVE9nQVRJQUVnQXkwQUZEb0FGQ0FCUVJWcUlRRUxJQWNFUUNBQ0lBWkJmMm9pQXkwQUFEb0FBQ0FDSUFNZ0JHb2lBeTBBQURvQUFTQUNJQU1nQkdvaUF5MEFBRG9BQWlBQ0lBTWdCR29pQXkwQUFEb0FBeUFDSUFNZ0JHb2lBeTBBQURvQUJDQUNJQU1nQkdvaUF5MEFBRG9BQlNBQ0lBTWdCR29pQXkwQUFEb0FCaUFDSUFNZ0JHb2lBeTBBQURvQUJ5QUNJQU1nQkdvaUF5MEFBRG9BQ0NBQ0lBTWdCR29pQXkwQUFEb0FDU0FDSUFNZ0JHb2lBeTBBQURvQUNpQUNJQU1nQkdvaUF5MEFBRG9BQ3lBQ0lBTWdCR29pQXkwQUFEb0FEQ0FDSUFNZ0JHb2lBeTBBQURvQURTQUNJQU1nQkdvaUF5MEFBRG9BRGlBQ0lBTWdCR290QUFBNkFBOGdBa0VRYWlFQ0N5QUFLQUlBSUFVZ0NXd2lCRUVJZEdvZ0NDQUZRUU4wSWdCc1FRTjBhaUFIUVFOMGFpRUdJQUJCK1AvLy93ZHhJUUFnQ2tVRVFDQUJJQVlnQUVFQmNtc2lBeTBBQURvQUFDQUJJQU10QUFFNkFBRWdBU0FETFFBQ09nQUNJQUVnQXkwQUF6b0FBeUFCSUFNdEFBUTZBQVFnQVNBRExRQUZPZ0FGSUFFZ0F5MEFCam9BQmlBQklBTXRBQWM2QUFjZ0FTQURRUWhxSWdNdEFBQTZBQWdnQVNBRVFRWjBJQU5xSWdOQmVHb3RBQUE2QUFrZ0FTQURRWGxxTFFBQU9nQUtJQUVnQTBGNmFpMEFBRG9BQ3lBQklBTkJlMm90QUFBNkFBd2dBU0FEUVh4cUxRQUFPZ0FOSUFFZ0EwRjlhaTBBQURvQURpQUJJQU5CZm1vdEFBQTZBQThnQVNBRFFYOXFMUUFBT2dBUUlBRWdBeTBBQURvQUVRc2dCMFVOQUNBQ0lBWkJmMm9pQVMwQUFEb0FBQ0FDSUFBZ0FXb2lBUzBBQURvQUFTQUNJQUFnQVdvaUFTMEFBRG9BQWlBQ0lBQWdBV29pQVMwQUFEb0FBeUFDSUFBZ0FXb2lBUzBBQURvQUJDQUNJQUFnQVdvaUFTMEFBRG9BQlNBQ0lBQWdBV29pQVMwQUFEb0FCaUFDSUFBZ0FXb2lBUzBBQURvQUJ5QUNJQUFnQVdvZ0JDQUZhMEVHZEdvaUFTMEFBRG9BQ0NBQ0lBQWdBV29pQVMwQUFEb0FDU0FDSUFBZ0FXb2lBUzBBQURvQUNpQUNJQUFnQVdvaUFTMEFBRG9BQ3lBQ0lBQWdBV29pQVMwQUFEb0FEQ0FDSUFBZ0FXb2lBUzBBQURvQURTQUNJQUFnQVdvaUFTMEFBRG9BRGlBQ0lBQWdBV290QUFBNkFBOExDNjhCQVFGL0l3QkIwQUJySWdZa0FDQUNJQVpCSUdvZ0JpQURFRlVDUUFKQVFRSWdBQ2dDQUNJRFFRWkhJQU5CQmtrYlFRRkdCRUFnQUNBRklBRkJ5QUpxSUFaQklHb2dCaUFFRUZRaUEwVU5BUXdDQ3lBQUlBVWdBU0FHUVNCcUlBWWdCQkJUSWdNTkFRc2dBQ0FGUVlBQ2FpQUJRY2dLYWlBR1FUVnFJQVpCRUdvZ0FTZ0NqQUVnQkJCU0lnTU5BRUVBSVFNZ0FDZ0N4QUZCQVVzTkFDQUNJQVVRR3dzZ0JrSFFBR29rQUNBREM2TXFBU1IvSXdCQklHc2lFQ1FBSUJBZ0JDZ0NCQ0lJTmdJTUlCQWdCQ2dDQ0RZQ0VDQURJQWh1SWdaQkJIUWhGQ0FESUFZZ0NHeHJRUVIwSVJVQ1FBSkFBa0FDUUFKQUFrQUNRQUpBSUFBb0FnQWlCa0VEVFFSQUFrQUNRQUpBSUFaQkFtc09BZ0VDQUFzZ0FTZ0NrQUVoRXlBQUtBSUVJUTVCZnlFUEFuOGdBQ2dDeUFFaUNVVUVRRUVBSVFoQmZ3d0JDMEVBSVFoQmZ5QUpLQUlFSUE1SERRQWFRUUVoRWtGL0lBa29BZ0JCQlVzTkFCb2dDU2dDbUFFaUNFRVFkaUVISUFrb0FtZ0xJUTBnQUNnQ3pBRWlDVVVOQ0NBSktBSUVJQTVIRFFoQkFTRVdJQWtvQWdCQkJVc05DQ0FKS0FLc0FTSVJRUkIySVFvZ0NTZ0NiQ0VQREFnTElBRW9BcEFCSVJNZ0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhDMEYvSVFjQ1FDQUFLQUxNQVNJR1JRMEFJQXNnQmlnQ0JFY0VRQXdCQzBFQklSSWdCaWdDQUVFRlN3MEFJQVlvQXF3QklnbEJFSFloQ2lBR0tBSnNJUWNMSUFjZ0UwWUVRQ0FLSVFjZ0NTRUdEQWNMUVg4aER3SkFBa0FDUUNBQUtBTElBU0lJUlFSQVFRQWhCd3dCQzBFQUlRY2dDQ2dDQkNBTFJnMEJDMEVBSVFZTUFRdEJBU0VYSUFnb0FnQkJCVXNFUUVFQUlRWU1BUXNnQ0NnQ21BRWlCa0VRZGlFSElBZ29BbWdoRHdzQ1FBSkFJQUFvQXRBQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVTBOQVF3R0N3SkFJQUFvQXRRQklnaEZEUUFnQ0NnQ0JDQUxSdzBBSUFnb0FnQkJCVXNOQmlBSUtBSndJUllnQ0NnQ3dBRWhDQXdIQzBFQUlRaEJmeUVXSUJJTkJpQVhSUTBHREFjTElBZ29BbXdoRmlBSUtBS3NBU0VJREFVTElBRW9BcEFCSVE4Z0FTOEJvZ0VoRFNBQkx3R2dBU0VNSUFBb0FnUWhCa0YvSVFjQ1FDQUFLQUxJQVNJS1JRUkFRUUFoQ0F3QkMwRUFJUWdnQmlBS0tBSUVSd1JBREFFTFFRRWhFU0FLS0FJQVFRVkxEUUFnQ2lnQ21BRWlDVUVRZGlFSUlBb29BbWdoQndzZ0J5QVBSZzBCQW44Q2Z3SkFBa0FnQUNnQ3pBRWlCMFVOQUNBSEtBSUVJQVpIRFFBZ0J5Z0NBRUVGU3cwQklBY29BbkFoRVNBSEtBSzhBU0VLSUFjb0Ftd2hFaUFIS0FLc0FTSUdRUkIyREFNTEFrQWdBQ2dDMUFFaUIwVU5BQ0FIS0FJRUlBWkhEUUJCQUNFR1FYOGhFaUFIS0FJQVFRVkxCRUJCZnlFUlFRQU1Bd3NnQnlnQ2NDRVJJQWNvQXNBQkRBSUxJQkVOQkF0QmZ5RVJRWDhoRWtFQUlRWkJBQXNoQ2tFQUN5RUhJQThnRWtZaUN5QVBJQkZHYWtFQlJ3UkFJQWNnQ0NBSFFSQjBRUkIxSWdzZ0NFRVFkRUVRZFNJT1NpSUlHeUlISUE0Z0N5QU9JQXNnRGtnYklBZ2JJZ2dnQ2tFUWRTSUxJQWdnQzBvYklBZEJFSFJCRUhVZ0MwZ2JJUWNnQmlBSklBWkJFSFJCRUhVaUN5QUpRUkIwUVJCMUlnbEtJZ1liSWdoQi8vOERjU0FKSUFzZ0NTQUxJQWxJR3lBR0d5SUdJQXBCRUhSQkVIVWlDU0FHSUFsS0d5QUlRUkIwUVJCMUlBbElHeUVHREFNTElBc05BaUFLUVJCMklRY2dDaUVHREFJTFFRRWhHeUFBUVlRQmFpRWNBMEFDZnlBQklCMUJBblFpSG1vaUlDSWtLQUt3QVNJR1FRSk5CRUFnQmtFQ2RFR2NOV29vQWdBTUFRdEJCQXNoSWlBQUlCNXFJZ1lnSUNnQ3dBRTJBbVFnQmlBQ0lDQW9Bc0FCRUJRaUJqWUNkQ0FHUlEwSUlDSUVRQ0FjSUIxQkJIUWlIMm9pSlNFbUlCd2dIMEVNY21vaUowRUNhaUVvSUJ3Z0gwRUljbW9pS1NFUklCd2dIMEVFY21vaUZpRVRRUUFoQmdOQUlBRWdIMm9nQmtFQ2RHb2lDQzhCMGdFaER5QUlMd0hRQVNFT0lDQW9Bc0FCSVNGQmZ5RVhBbjhnQUNBZFFRZDBJQ1FvQXJBQklpTkJCWFJxSUFaQkEzUnFJaHBCc0JscUtBSUFFQkVpQ1VVRVFFRUFJUXhCQUNFSVFRQWhDa0YvREFFTFFRQWhERUVBSVFoQkFDRUtRWDhnQ1NnQ0JDQUFLQUlFUncwQUdrRUJJUXBCZnlBSktBSUFRUVZMRFFBYUlBa2dHa0cwR1dvdEFBQWlCMEVDZEdvb0FvUUJJZ2hCRUhZaERDQUpJQWRCL0FGeGFpZ0NaQXNoRFFKQUFrQUNRQ0FBSUJwQnNCMXFLQUlBRUJFaUdFVUVRRUVBSVFrTUFRdEJBQ0VKSUJnb0FnUWdBQ2dDQkVZTkFRdEJBQ0VTUVFBaEN3d0JDMEVCSVFzZ0dDZ0NBRUVGU3dSQVFRQWhFZ3dCQ3lBWUlCcEJ0QjFxTFFBQUlnZEJBblJxS0FLRUFTSVNRUkIySVFrZ0dDQUhRZndCY1dvb0FtUWhGd3NDUUFKQUFrQUNRQUpBSUFBZ0drR3dJV29vQWdBUUVTSVpSUTBBSUJrb0FnUWdBQ2dDQkVjTkFDQVpLQUlBUVFWTkRRRU1BZ3NDUUNBQUlCcEJzQ1ZxS0FJQUVCRWlHVVVOQUNBWktBSUVJQUFvQWdSSERRQWdHU2dDQUVFRlN3MENJQmtnR2tHMEpXb3RBQUFpQjBIOEFYRnFLQUprSVJnZ0dTQUhRUUowYWlnQ2hBRWhCd3dEQzBFQUlRZEJmeUVZSUFwRkRRSWdDdzBDREFNTElCa2dHa0cwSVdvdEFBQWlCMEg4QVhGcUtBSmtJUmdnR1NBSFFRSjBhaWdDaEFFaEJ3d0JDMEVBSVFkQmZ5RVlDeUFYSUNGR0lnb2dEU0FoUmlJTGFpQVlJQ0ZHYWtFQlJ3UkFJQWtnRENBSlFSQjBRUkIxSWdzZ0RFRVFkRUVRZFNJTVNpSUpHeUlLSUF3Z0N5QU1JQXNnREVnYklBa2JJZ2tnQjBFUWRTSUxJQWtnQzBvYklBcEJFSFJCRUhVZ0MwZ2JJUXdnRWlBSUlCSkJFSFJCRUhVaUNpQUlRUkIwUVJCMUlndEtJZ2diSWdsQi8vOERjU0FMSUFvZ0N5QUtJQXRJR3lBSUd5SUlJQWRCRUhSQkVIVWlCeUFJSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVJREFFTElBZ2dFaUFMR3lFSUlBd2dDU0FMR3lFTUlBc05BQ0FLRFFBZ0IwRVFkaUVNSUFjaENBc2dDQ0FPYWlJS1FSQjBRUkIxUVlCQWEwSC8vd0JMRFFvZ0RDQVBhaUlKUVJCMFFSQjFRWUFRYWtIL0gwc05DaUFqUVFOTkJFQUNmd0pBQWtBQ1FBSkFJQ05CQVdzT0F3RUNBd0FMSUNVZ0Nqc0JBQ0FtSUFrN0FRSWdGaUFLT3dFQUlCTWdDVHNCQWlBcElBbzdBUUFnRVNBSk93RUNJQ2NnQ2pzQkFDQW9EQU1MSUJ3Z0JrRUJkQ0FlYWtFQ2RDSUhhaUlJSUFrN0FRSWdDQ0FLT3dFQUlCd2dCMEVFY21vaUNDQUtPd0VBSUFoQkFtb01BZ3NnQUNBR0lCNXFRUUowYWlJSUlBbzdBWXdCSUFnZ0NUc0JoZ0VnQ0NBS093R0VBU0FJUVk0QmFnd0JDeUFBSUFZZ0htcEJBblJxSWdnZ0Nqc0JoQUVnQ0VHR0FXb0xJQWs3QVFBTElBWkJBV29pQmlBaVJ3MEFDd3NnSFVFQmFpSWRRUVJIRFFBTFFRQWhEQU5BSUJBZ0FDQU1RUUowSWdKcUtBSjBOZ0lJSUF4QkFVdEJBM1FoQ1NBTVFRTjBRUWh4SVFjQ1FDQUJJQUpxS0FLd0FTSUNRUUpOQkVBQ1FBSkFBa0FnQWtFQmF3NENBUUlBQ3lBRklBQWdERUVFZEdwQmhBRnFJQkJCQ0dvZ0ZTQVVJQWNnQ1VFSVFRZ1FEZ3dEQ3lBRklBQWdERUVFZEdvaUFrR0VBV29nRUVFSWFpQVZJQlFnQnlBSlFRaEJCQkFPSUFVZ0FrR01BV29nRUVFSWFpQVZJQlFnQnlBSlFRUnlRUWhCQkJBT0RBSUxJQVVnQUNBTVFRUjBhaUlDUVlRQmFpQVFRUWhxSUJVZ0ZDQUhJQWxCQkVFSUVBNGdCU0FDUVlnQmFpQVFRUWhxSUJVZ0ZDQUhRUVJ5SUFsQkJFRUlFQTRNQVFzZ0JTQUFJQXhCQkhScUlnaEJoQUZxSUJCQkNHb2dGU0FVSUFjZ0NVRUVRUVFRRGlBRklBaEJpQUZxSUJCQkNHb2dGU0FVSUFkQkJISWlCaUFKUVFSQkJCQU9JQVVnQ0VHTUFXb2dFRUVJYWlBVklCUWdCeUFKUVFSeUlnSkJCRUVFRUE0Z0JTQUlRWkFCYWlBUVFRaHFJQlVnRkNBR0lBSkJCRUVFRUE0TElBeEJBV29pREVFRVJ3MEFDd3dHQ3lBSUlRY2dDU0VHQzBFQklSc2dCaUFNYWlJSVFSQjBRUkIxUVlCQWEwSC8vd0JMRFFVZ0J5QU5haUlHUVJCMFFSQjFRWUFRYWtIL0gwc05CU0FDSUE4UUZDSUhSUTBGSUFBZ0Jqc0JzZ0VnQUNBSU93R3dBU0FBSUFjMkFuUWdBQ0FQTmdKa0lBQWdCellDZkNBQUlBODJBbXdnQUNBQUtBS3dBU0lHTmdLc0FTQUFJQVkyQXFnQklBQWdCallDcEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FCS0FLVUFTRU9JQUV2QWFZQklRd2dBUzhCcEFFaEN5QUFLQUlFSVFrQ1FBSkFJQUFvQXRBQklnZEZEUUFnQnlnQ0JDQUpSdzBBUVFFaEVTQUhLQUlBUVFWTEJFQkJmeUVJUVFBaEJ3d0NDeUFIS0FKc0lRZ2dCeWdDckFFaEJ3d0JDMEYvSVFoQkFDRUhJQUFvQXN3QklncEZCRUJCQUNFUkRBRUxJQWtnQ2lnQ0JFY0VRRUVBSVJFTUFRdEJBU0VSSUFvb0FnQkJCVXNOQUNBS0tBSnNJUWdnQ2lnQ3NBRWhCd3NDUUNBSUlBNUdSUVJBSUFaQkVIWWhDQUovQWtBQ1FDQUFLQUxNQVNJTlJRMEFJQTBvQWdRZ0NVY05BQ0FOS0FJQVFRVkxEUUVnRFNnQ3ZBRWlFVUVRZGlFS0lBMG9BbkFNQWdzZ0VVVU5Bd3RCQUNFUlFRQWhDa0YvQ3lFTklBNGdEMFlpQ1NBTklBNUdha0VCUndSQUlBb2dDQ0FLUVJCMFFSQjFJZzBnQ0VFUWRFRVFkVW9pQ0JzaUNTQUdRUkIxSWdvZ0RTQUtJQW9nRFVvYklBZ2JJZ2dnQjBFUWRTSUtJQWdnQ2tvYklBbEJFSFJCRUhVZ0NrZ2JJUWdnRVNBR0lCRkJFSFJCRUhVaUNpQUdRUkIwUVJCMUlnMUtJZ1liSWdsQi8vOERjU0FOSUFvZ0RTQU5JQXBLR3lBR0d5SUdJQWRCRUhSQkVIVWlCeUFHSUFkS0d5QUpRUkIwUVJCMUlBZElHeUVHREFJTElBa05BU0FOSUE1R0JFQWdFVUgvL3dOeElBcEJFSFJ5SVFZZ0NpRUlEQUlMQ3lBSFFSQjJJUWdnQnlFR0N5QUdJQXRxSWdkQkVIUkJFSFZCZ0VCclFmLy9BRXNOQlNBSUlBeHFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MEZJQUlnRGhBVUlnSkZEUVVnQUNBR093SENBU0FBSUFjN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKNElBQWdEallDY0NBQUlBNDJBbWdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0tnQVNBQUlBWTJBcHdCSUFBZ0JqWUNtQUVnQUVHVUFXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVJUVJBUURpQVFJQUFvQW5nMkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFoQkFFRUlRUkFRRGd3RUMwRUFJUWhCZnlFV0N5QVBJQk5HSWdzZ0V5QVdSbXBCQVVjRVFDQUtJQWNnQ2tFUWRFRVFkU0lMSUFkQkVIUkJFSFVpRGtvaUJ4c2lDaUFPSUFzZ0RpQUxJQTVJR3lBSEd5SUhJQWhCRUhVaUN5QUhJQXRLR3lBS1FSQjBRUkIxSUF0SUd5RUhJQWtnQmlBSlFSQjBRUkIxSWdvZ0JrRVFkRUVRZFNJTFNpSUdHeUlKUWYvL0EzRWdDeUFLSUFzZ0NpQUxTQnNnQmhzaUJpQUlRUkIwUVJCMUlnZ2dCaUFJU2hzZ0NVRVFkRUVRZFNBSVNCc2hCZ3dCQ3lBTERRQWdDRUVRZGlFSElBZ2hCZ3RCQVNFYklBWWdER29pQ0VFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0RXb2lCa0VRZEVFUWRVR0FFR3BCL3g5TERRSWdBaUFURUJRaUIwVU5BaUFBSUFZN0FhSUJJQUFnQ0RzQm9BRWdBQ0FITmdKMElBQWdFellDWkNBQUlBYzJBbmdnQUNBVE5nSm9JQUFnQUNnQ29BRWlEellDbkFFZ0FDQVBOZ0tZQVNBQUlBODJBcFFCSUFBZ0R6WUNrQUVnQUNBUE5nS01BU0FBSUE4MkFvZ0JJQUFnRHpZQ2hBRWdBU2dDbEFFaERpQUJMd0dtQVNFTklBRXZBYVFCSVF3Q2Z3SkFBa0FDUUNBQUtBTElBU0lHQkVBZ0JpZ0NCQ0FBS0FJRVJnUkFJQVlvQWdCQkJVMEVRQ0FHS0FLNEFTSUxRUkIySVFjZ0JpZ0NjQ0FPUncwRUlBc2hDUXdEQzBGL0lSSkJBQ0VKUVFBaEIwRUFJUXRCQUNFS0lBNUJmMFlOQWd3RUMwRi9JUkpCQUNFSlFRQWhCMEVBSVF0QkFDRUtJQTVCZjBZTkFRd0RDMEYvSVJKQkFDRUpRUUFoQjBFQUlRdEJBQ0VLSUE1QmYwY05BZ3NnQ1VILy93TnhJQWRCRUhSeURBSUxJQVlvQW1naEVpQUdLQUtnQVNFS0lBY2hDUXNnRDBFUWRpRUlJQTRnRTBZaUJpQU9JQkpHYWtFQlJ3UkFJQWdnQ1NBSlFSQjBRUkIxSWdrZ0NFRVFkRUVRZFVnaUJ4c2lDQ0FKSUE5QkVIVWlCaUFKSUFZZ0NVZ2JJQWNiSWdZZ0NrRVFkU0lISUFZZ0Iwb2JJQWhCRUhSQkVIVWdCMGdiSVFjZ0R5QUxJQXRCRUhSQkVIVWlDeUFQUVJCMFFSQjFJZ2xJSWdZYklnaEIvLzhEY1NBTElBa2dDeUFKSUF0SUd5QUdHeUlHSUFwQkVIUkJFSFVpQ1NBR0lBbEtHeUFJUVJCMFFSQjFJQWxJR3d3QkN5QUlJQXBCRUhZZ0Joc2hCeUFQSUFvZ0Joc0xJQXhxSWdoQkVIUkJFSFZCZ0VCclFmLy9BRXNOQWlBSElBMXFJZ1pCRUhSQkVIVkJnQkJxUWY4ZlN3MENJQUlnRGhBVUlnSkZEUUlnQUNBR093SENBU0FBSUFnN0FjQUJJQUFnQWpZQ2dBRWdBQ0FDTmdKOElBQWdEallDY0NBQUlBNDJBbXdnQUNBQUtBTEFBU0lHTmdLOEFTQUFJQVkyQXJnQklBQWdCallDdEFFZ0FDQUdOZ0t3QVNBQUlBWTJBcXdCSUFBZ0JqWUNxQUVnQUVHa0FXb2lBaUFHTmdJQUlCQWdBQ2dDZERZQ0NDQUZJQUJCaEFGcUlCQkJDR29nRlNBVVFRQkJBRUVRUVFnUURpQVFJQUFvQW53MkFnZ2dCU0FDSUJCQkNHb2dGU0FVUVFCQkNFRVFRUWdRRGd3QkN3SkFJQVpGQkVBZ0VrVUVRRUVBSVFrTUFnc2dGa1VFUUVFQUlRa01BZ3NnQ0VILy93TnhJQWRCRUhSeUlBMXlSUVJBUVFBaENRd0NDMEVBSVFrZ0VVSC8vd054SUFwQkVIUnlJQTl5UlEwQkN5QUJMd0dpQVNFTElBRXZBYUFCSVFrQ1FBSkFBa0FDUUFKQUlBQW9BdEFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVME5BUXdDQ3dKQUlBQW9BdFFCSWdaRkRRQWdCaWdDQkNBT1J3MEFJQVlvQWdCQkJVc05BaUFHS0FKd0lSY2dCaWdDd0FFaERBd0RDMEYvSVJjZ0VrVU5BaUFXRFFJTUF3c2dCaWdDYkNFWElBWW9BcXdCSVF3TUFRdEJmeUVYQ3lBUElCTkdJZ1lnRFNBVFJpSU5haUFUSUJkR2FrRUJSd1JBSUFvZ0J5QUtRUkIwUVJCMUlnb2dCMEVRZEVFUWRTSU5TaUlHR3lJSElBMGdDaUFOSUFvZ0RVZ2JJQVliSWdZZ0RFRVFkU0lLSUFZZ0Nrb2JJQWRCRUhSQkVIVWdDa2diSVFjZ0VTQUlJQkZCRUhSQkVIVWlDaUFJUVJCMFFSQjFJZzFLSWdZYklnaEIvLzhEY1NBTklBb2dEU0FLSUExSUd5QUdHeUlHSUF4QkVIUkJFSFVpQ2lBR0lBcEtHeUFJUVJCMFFSQjFJQXBJR3lFSURBRUxJQWdnRVNBTkd5RUlJQWNnQ2lBTkd5RUhJQTBOQUNBR0RRQWdERUVRZGlFSElBd2hDQXRCQVNFYklBZ2dDV29pREVFUWRFRVFkVUdBUUd0Qi8vOEFTdzBDSUFjZ0Myb2lDVUVRZEVFUWRVR0FFR3BCL3g5TERRSUxJQUlnRXhBVUlnSkZCRUJCQVNFYkRBSUxJQUFnQ1RzQndnRWdBQ0FNT3dIQUFTQUFJQUkyQW5RZ0FDQVROZ0prSUFBZ0FqWUNnQUVnQUNBQ05nSjhJQUFnQWpZQ2VDQUFJQk0yQW5BZ0FDQVROZ0pzSUFBZ0V6WUNhQ0FBSUFBb0FzQUJJZ1kyQXJ3QklBQWdCallDdUFFZ0FDQUdOZ0swQVNBQUlBWTJBckFCSUFBZ0JqWUNyQUVnQUNBR05nS29BU0FBSUFZMkFxUUJJQUFnQmpZQ29BRWdBQ0FHTmdLY0FTQUFJQVkyQXBnQklBQWdCallDbEFFZ0FDQUdOZ0tRQVNBQUlBWTJBb3dCSUFBZ0JqWUNpQUVnQUNBR05nS0VBU0FRSUFJMkFnZ2dCU0FBUVlRQmFpQVFRUWhxSUJVZ0ZFRUFRUUJCRUVFUUVBNExRUUFoR3lBQUtBTEVBVUVCU3cwQUlBQW9BZ0FFUUNBRUlBTWdCU0FCUWNnQ2FoQllEQUVMSUFRZ0JSQWJDeUFRUVNCcUpBQWdHd3VUQ3dFUGZ5QUFLQUlBSWhFZ0FTQUJJQUFvQWdRaUNuQWlBV3NpQkVFSWRHb2dBVUVFZEdvaEJTQUtRUVIwSVFzZ0FDZ0NDQ0FLYkNJQVFRWjBJUVlnQVVFRGRDRUpJQUJCQ0hRaERDQUVRUVowSVJJZ0NrRUNkRUg4Ly8vL0EzRkJBblFoRUFOQUlBVWdEa0VDZENJQVFmQXBhaWdDQUNJQklBdHNhaUFBUWJBcGFpZ0NBQ0lBYWlFRUlBSWdBVUVFZEdvZ0FHb2hBQUpBSUFNZ0RrRUdkR29pQVNnQ0FDSUhRZi8vL3dkSEJFQWdBU2dDQkNFSUlBQXRBQUVoRFNBRUlBY2dBQzBBQUdwQnNDNXFMUUFBT2dBQUlBRW9BZ2doQnlBQUxRQUNJUThnQkNBSUlBMXFRYkF1YWkwQUFEb0FBU0FCS0FJTUlRZ2dBQzBBQXlFTklBUWdCeUFQYWtHd0xtb3RBQUE2QUFJZ0JDQUlJQTFxUWJBdWFpMEFBRG9BQXlBQktBSVVJUWNnQUMwQUVTRUlJQVFnQzJvaUJDQUJLQUlRSUFBdEFCQnFRYkF1YWkwQUFEb0FBQ0FCS0FJWUlRMGdBQzBBRWlFUElBUWdCeUFJYWtHd0xtb3RBQUE2QUFFZ0FTZ0NIQ0VISUFBdEFCTWhDQ0FFSUEwZ0QycEJzQzVxTFFBQU9nQUNJQVFnQnlBSWFrR3dMbW90QUFBNkFBTWdBU2dDSkNFSElBQXRBQ0VoQ0NBRUlBdHFJZ1FnQVNnQ0lDQUFMUUFnYWtHd0xtb3RBQUE2QUFBZ0FTZ0NLQ0VOSUFBdEFDSWhEeUFFSUFjZ0NHcEJzQzVxTFFBQU9nQUJJQUVvQWl3aEJ5QUFMUUFqSVFnZ0JDQU5JQTlxUWJBdWFpMEFBRG9BQWlBRUlBY2dDR3BCc0M1cUxRQUFPZ0FESUFFb0FqUWhCeUFBTFFBeElRZ2dCQ0FMYWlJRUlBRW9BakFnQUMwQU1HcEJzQzVxTFFBQU9nQUFJQUVvQWpnaERTQUFMUUF5SVE4Z0JDQUhJQWhxUWJBdWFpMEFBRG9BQVNBQktBSThJUUVnQUMwQU15RUFJQVFnRFNBUGFrR3dMbW90QUFBNkFBSWdCQ0FBSUFGcVFiQXVhaTBBQURvQUF3d0JDeUFBS0FJUUlRRWdCQ0FBS0FJQU5nSUFJQVFnRUdvaUJDQUJOZ0lBSUFBb0FqQWhBU0FFSUJCcUlnUWdBQ2dDSURZQ0FDQUVJQkJxSUFFMkFnQUxJQTVCQVdvaURrRVFSdzBBQ3lBTUlCRnFJQkpxSUFscUloQWdCbW9oRVNBS1FRTjBRZmovLy84SGNTSUxRUUoyUVFKMElRNUJFQ0VLQTBBZ0NrRUNkRUVNY1NJQVFmQXBhaWdDQUNJQklBdHNJQUJCc0NscUtBSUFJZ0JxSUJFZ0VDQUtRUk5MSWdVYmFpRUVJQUpCd0FKQmdBSWdCUnRxSUFGQkEzUWdBR3BxSVFBQ1FDQURJQXBCQm5ScUlnRW9BZ0FpQlVILy8vOEhSd1JBSUFFb0FnUWhCaUFBTFFBQklRa2dCQ0FGSUFBdEFBQnFRYkF1YWkwQUFEb0FBQ0FCS0FJSUlRVWdBQzBBQWlFTUlBUWdCaUFKYWtHd0xtb3RBQUE2QUFFZ0FTZ0NEQ0VHSUFBdEFBTWhDU0FFSUFVZ0RHcEJzQzVxTFFBQU9nQUNJQVFnQmlBSmFrR3dMbW90QUFBNkFBTWdBU2dDRkNFRklBQXRBQWtoQmlBRUlBdHFJZ1FnQVNnQ0VDQUFMUUFJYWtHd0xtb3RBQUE2QUFBZ0FTZ0NHQ0VKSUFBdEFBb2hEQ0FFSUFVZ0JtcEJzQzVxTFFBQU9nQUJJQUVvQWh3aEJTQUFMUUFMSVFZZ0JDQUpJQXhxUWJBdWFpMEFBRG9BQWlBRUlBVWdCbXBCc0M1cUxRQUFPZ0FESUFFb0FpUWhCU0FBTFFBUklRWWdCQ0FMYWlJRUlBRW9BaUFnQUMwQUVHcEJzQzVxTFFBQU9nQUFJQUVvQWlnaENTQUFMUUFTSVF3Z0JDQUZJQVpxUWJBdWFpMEFBRG9BQVNBQktBSXNJUVVnQUMwQUV5RUdJQVFnQ1NBTWFrR3dMbW90QUFBNkFBSWdCQ0FGSUFacVFiQXVhaTBBQURvQUF5QUJLQUkwSVFVZ0FDMEFHU0VHSUFRZ0Myb2lCQ0FCS0FJd0lBQXRBQmhxUWJBdWFpMEFBRG9BQUNBQktBSTRJUWtnQUMwQUdpRU1JQVFnQlNBR2FrR3dMbW90QUFBNkFBRWdBU2dDUENFQklBQXRBQnNoQUNBRUlBa2dER3BCc0M1cUxRQUFPZ0FDSUFRZ0FDQUJha0d3TG1vdEFBQTZBQU1NQVFzZ0FDZ0NDQ0VCSUFRZ0FDZ0NBRFlDQUNBRUlBNXFJZ1FnQVRZQ0FDQUFLQUlZSVFFZ0JDQU9haUlFSUFBb0FoQTJBZ0FnQkNBT2FpQUJOZ0lBQ3lBS1FRRnFJZ3BCR0VjTkFBc0w1Z0VCQjM4Q1FDQUFLQUlBSWdWRkRRQWdBRUVCTmdJOElBQW9BamdOQUNBQUtBSWNJUVpCLy8vLy93Y2hBZ05BQTBBZ0JTQURRU2hzYWlJRUtBSVlCRUFnQkNBQklBUW9BaEFpQkNBQ1NDSUhHeUVCSUFRZ0FpQUhHeUVDQ3lBRFFRRnFJZ01nQmswTkFDQUJSUTBDSUFBb0Fnd2dBQ2dDRUNJRFFRUjBhaUlDSUFFb0FnQTJBZ0FnQWlBQktBSWtOZ0lNSUFJZ0FTZ0NIRFlDQkNBQ0lBRW9BaUEyQWdnZ0FDQURRUUZxTmdJUVFRQWhBeUFCUVFBMkFoZ2dBU2dDRkNFRVFRQWhBVUgvLy8vL0J5RUNJQVFOQUFzZ0FDQUFLQUlzUVg5cU5nSXNEQUFBQ3dBTEM5d0dBUXAvSUFCQ0FEY0NFQUpBQWtBQ1FDQURSUTBBQWtBQ1FDQUJJQUFvQWpBaUEwY0VRQ0FEUVFGcUlBQW9BaUFpQkhBaUNTQUJSZzBCSUFBb0FnQWdBQ2dDSEVFb2JHb29BZ0FoQ3dOQUFrQUNRQ0FBS0FJb0lnY0VRQ0FBS0FJQUlRaEJBQ0VEQTBBZ0NDQURRU2hzYWlJRktBSVVRWDlxUVFGTkJFQWdCU0FGS0FJTUlnVWdCRUVBSUFVZ0NVc2JhellDQ0FzZ0EwRUJhaUlESUFkSERRQUxJQWNnQUNnQ0dFa05Ba0YvSVFWQkFDRURRUUFoQkFOQUlBZ2dBMEVvYkdvaUJpZ0NGRUYvYWtFQlRRUkFJQVlvQWdnaUJpQUVJQVZCZjBZZ0JpQUVTSElpQmhzaEJDQURJQVVnQmhzaEJRc2dBMEVCYWlJRElBZEhEUUFMSUFWQkFFNE5BVUVCRHd0QkFDRUhJQUFvQWhnTkFVRUJEd3NnQ0NBRlFTaHNhaUlEUVFBMkFoUWdBQ0FIUVg5cUlnYzJBaWdnQXlnQ0dBMEFJQUFnQUNnQ0xFRi9hallDTEFzZ0FDZ0NMQ0lGSUFBb0Fod2lDRThFUUNBQUtBSTREUVlnQUNnQ0FDRU1BMEJCQUNFRVFmLy8vLzhISVFaQkFDRURBMEFnRENBRFFTaHNhaUlLS0FJWUJFQWdDaUFFSUFvb0FoQWlDaUFHU0NJTkd5RUVJQW9nQmlBTkd5RUdDeUFEUVFGcUlnTWdDRTBOQUFzQ1FDQUVSUTBBSUFBb0Fnd2dBQ2dDRUNJR1FRUjBhaUlESUFRb0FnQTJBZ0FnQXlBRUtBSWtOZ0lNSUFNZ0JDZ0NIRFlDQkNBRElBUW9BaUEyQWdnZ0FDQUdRUUZxTmdJUUlBUkJBRFlDR0NBRUtBSVVEUUFnQUNBRlFYOXFJZ1UyQWl3TElBVWdDRThOQUFzTElBQW9BZ0FpQkNBSVFTaHNhaUlESUFrMkFnd2dBMEtBZ0lDQUVEY0NFQ0FEUVFBMkFoZ2dBeUFKTmdJSUlBQWdCMEVCYWpZQ0tDQUFJQVZCQVdvMkFpd2dCQ0FJUVFGcUVDY2dDVUVCYWlBQUtBSWdJZ1J3SWdrZ0FVY05BQXNDUUNBQUtBSVFJZ2xGRFFBZ0FDZ0NBQ0lGSUFBb0Fod2lCRUVvYkdvaUNDZ0NBQ0VISUFBb0Fnd2hCa0VBSVFNRFFDQUhJQVlnQTBFRWRHb29BZ0JIQkVBZ0NTQURRUUZxSWdOSERRRU1BZ3NMSUFSRkRRQkJBQ0VEQTBBZ0N5QUZJQU5CS0d4cUlna29BZ0JIQkVBZ0JDQURRUUZxSWdOSERRRU1BZ3NMSUFrZ0J6WUNBQ0FJSUFzMkFnQUxJQUlOQlNBQUtBSXdJUU1NQWdzZ0FrRUFSdzhMSUFJTkF3c2dBU0FEUmcwQUlBQWdBU0FBS0FJZ0lnQnFRWDlxSUFCd05nSXdDMEVBRHdzRFFBd0FBQXNBQ3lBQUlBRTJBakJCQUF0MUFRTi9Ba0FnQUNnQ0FDSUJSUTBBSUFBb0FoeEJmMFlOQUFOQUlBRWdBa0VvYkNJRGFpZ0NCQkFFSUFBb0FnQWlBU0FEYWtFQU5nSUVJQUpCQVdvaUFpQUFLQUljUVFGcVNRMEFDd3NnQVJBRUlBQkJBRFlDQUNBQUtBSUVFQVFnQUVFQU5nSUVJQUFvQWd3UUJDQUFRUUEyQWd3TGd3RUJBMzhDUUNBQUtBSUFJZ1pGRFFBZ0FDZ0NIRUYvUmcwQUEwQWdCaUFIUVNoc0lnaHFLQUlFRUFRZ0FDZ0NBQ0lHSUFocVFRQTJBZ1FnQjBFQmFpSUhJQUFvQWh4QkFXcEpEUUFMQ3lBR0VBUWdBRUVBTmdJQUlBQW9BZ1FRQkNBQVFRQTJBZ1FnQUNnQ0RCQUVJQUJCQURZQ0RDQUFJQUVnQWlBRElBUWdCUkJkQzRBQ0FRSi9JQUFnQlRZQ09DQUFJQVEyQWlBZ0FFTC8vd00zQWlRZ0FFSUFOd0lzSUFBZ0EwRUJJQU5CQVVzYklnTTJBaGdnQUNBRElBSWdCUnNpQWpZQ0hDQUFRYWdGRUFvaUF6WUNBRUgvL3dNaEJBSkFJQU5GRFFCQkFDRUZJQU5CQUVHb0JSQUhJUVlnQWtGL1J3UkFJQUZCZ0FOc1FTOXlJUVZCQUNFREEwQWdCaUFEUVNoc2FpSUhJQVVRQ2lJQk5nSUVJQUZGRFFJZ0J5QUJRUUFnQVd0QkQzRnFOZ0lBSUFNZ0Fra2hBU0FEUVFGcUlRTWdBUTBBQ3lBQ1FRUjBRUkJxSVFVTElBQkJ4QUFRQ2lJQk5nSUVJQUFnQlJBS0lnSTJBZ3dnQWtVTkFDQUJSUTBBUVFBaEJDQUJRUUJCeEFBUUJ4b2dBRUlBTndJUUN5QUVDOU1CQVFkL1FRRWhBUUpBSUFBb0FqZ05BQ0FBS0FJY0lRVWdBQ2dDQUNFR1FmLy8vLzhISVFOQkFDRUJBMEFnQmlBQlFTaHNhaUlFS0FJWUJFQWdCQ0FDSUFRb0FoQWlCQ0FEU0NJSEd5RUNJQVFnQXlBSEd5RURDeUFCUVFGcUlnRWdCVTBOQUFzZ0FrVUVRRUVCRHdzZ0FDZ0NEQ0FBS0FJUUlnTkJCSFJxSWdFZ0FpZ0NBRFlDQUNBQklBSW9BaVEyQWd3Z0FTQUNLQUljTmdJRUlBRWdBaWdDSURZQ0NDQUFJQU5CQVdvMkFoQkJBQ0VCSUFKQkFEWUNHQ0FDS0FJVURRQWdBQ0FBS0FJc1FYOXFOZ0lzQ3lBQkMvVUVBUWgvSUFBb0FpZ2lCQVJBSUFBb0FnQWhCd05BSUFjZ0JVRW9iR29pQmlnQ0ZFRi9ha0VCVFFSQUlBWWdCaWdDRENJSUlBSkxCSDhnQ0NBQUtBSWdhd1VnQ0FzMkFnZ0xJQVZCQVdvaUJTQUVSdzBBQ3d0QkFDRUVBa0FnQVNnQ0FFVU5BQ0FCS0FJRUlnVkJBa3NOQUVFQUlRY2dBaUVHQTBBQ1FBSkFBa0FnQlVFQ1J3UkFJQUVnQjBFTWJHb29BZ2doQkFKQUlBVkZCRUFnQmlBRWF5SUdRWDlLRFFFZ0FDZ0NJQ0FHYWlFR0RBRUxJQVFnQm1vaUJrRUFJQUFvQWlBaUJTQUdJQVZJRzJzaEJnc2dCaUVKSUFZZ0Frc0VRQ0FHSUFBb0FpQnJJUWtMSUFBb0FoZ2lDa1VFUUVFQkR3c2dBQ2dDQUNFSVFRQWhCUU5BSUFnZ0JVRW9iR29pQkNnQ0ZDSUxRWDlxUVFGTkJFQWdCQ2dDQ0NBSlJnMERDMEVCSVFRZ0JVRUJhaUlGSUFwSERRQUxEQVVMUVFFaEJDQUFLQUlZSWdsRkRRUWdBU0FIUVF4c2FpZ0NEQ0VLSUFBb0FnQWhDRUVBSVFVRFFDQUlJQVZCS0d4cUlnUW9BaFJCQTBZRVFDQUVLQUlJSUFwR0RRTUxRUUVoQkNBRlFRRnFJZ1VnQ1VjTkFBc01CQXNnQlVFQVNBUkFRUUVQQzBFQklRUWdDMEVCU3cwQkRBTUxRUUVoQkNBRlFRQklEUUlMSUFjZ0F5SUVTUVJBQTBBZ0FDZ0NCQ0lKSUFSQkFuUnFJQWtnQkVGL2FpSUVRUUowYWlnQ0FEWUNBQ0FFSUFkTERRQUxJQUFvQWdBaENBc2dBQ2dDQkNBSFFRSjBhaUFJSUFWQktHd2lDV28yQWdBZ0IwRUJhaUlISVFRZ0J5SUZJQU5OQkVBRFFDQUFLQUlFSWdnZ0JVRUNkR29vQWdBaUNpQUFLQUlBSUFscVJ3UkFJQWdnQkVFQ2RHb2dDallDQUNBRVFRRnFJUVFMSUFWQkFXb2lCU0FEVFEwQUN3dEJBQ0VFSUFFZ0IwRU1iR29vQWdRaUJVRURTUTBBQ3dzZ0JBc0hBRUhFR2hBS0M3Y0JBUUovSXdCQkVHc2lCaVFBSUFaQkFEWUNEQ0FBSUFFZ0FpQUdRUXhxRUNvaUIwRjljVVVFUUFOQUlBQWdBU0FHS0FJTUlnZHFJZ0VnQWlBSGF5SUNJQVpCREdvUUtpSUhRWDF4UlEwQUN3c2dCMEVCUmdSQUlBUWdBQ2dDRUNJQktBSTBRUVIwTmdJQUlBVWdBU2dDT0VFRWREWUNBQ0FESUFCQnhBbHFJZ0FvQWhRaUFTQUFLQUlRU1FSL0lBQWdBVUVCYWpZQ0ZDQUFLQUlNSUFGQkJIUnFCVUVBQ3lnQ0FEWUNBQXNnQmtFUWFpUUFJQWNMU1FFQmZ5QUFRUUJCeEJvUUJ5SUNRYlFLYWtFQk5nSUFJQUpDZ0lLQWdJQUVOd0lFSUFCQndCQVFDaUlDTmdLd0dpQUNSUVJBUVFFUEN5QUJCRUFnQUVFQk5nTEFDUXRCQUF1NkJBRUpmd0pBQWtBZ0FVRUVTUTBBSUFBdEFBQU5BQ0FBTFFBQkRRQWdBQzBBQWlJSFFRRkxEUUJCQXlFRUlBQkJBMm9oQlVFQ0lRaEJmU0VNQWtBRFFDQUZJUVlDZnlBSVFRRnFJQWRCL3dGeElnVkZEUUFhUVFBaEJ5QUZRUUZHUVFBZ0NFRUJTeHNOQWtFQUN5RUlJQVJCZjNNaERDQUdRUUZxSVFVZ0JpMEFBQ0VISUFSQkFXb2lCQ0FCUncwQUN5QURJQUUyQWdCQkFROExJQVFoQ2tFQUlRaEJBQ0VGQTBCQkFTQUlJQWNnQmkwQUFDSUxSV29pQ1VFQ1Joc2dDQ0FMUVFOR0d5RUlJQXBCQVdvaENnSkFJQXRCQVVjTkFDQUpRUUpKRFFBZ0FpQUtJQXhxSUFsQmYzTnFJZ0UyQWd4QkFDQUpRWDFxSWdZZ0JpQUpTeHNoQnd3REMwRUFJQWtnQ3hzaEIwRUJJQVVnQ1VFQ1N4c2dCU0FMR3lFRklBWkJBV29oQmlBQklBcEhEUUFMSUFJZ0FTQU1haUFIYXlJQk5nSU1EQUVMSUFJZ0FUWUNERUVCSVFoQkFDRUhDeUFDUVFBMkFoQWdBa0VBTmdJSUlBSWdBQ0FFYWlJQU5nSUVJQUlnQURZQ0FDQURJQVFnQjJvZ0FXbzJBZ0JCQVNFREFrQWdCUTBBUVFBaEF5QUlSUTBBSUFJQ2Z5QUNLQUlNSWdGRkJFQWdBQ0VFUVFBTUFRc2dBQ0VFUVFBaEJnTkFJQUZCZjJvaEFTQUVMUUFBSVFVQ2Z3SkFJQVpCQWtjTkFDQUZRUU5HQkVBZ0FVVUVRRUVCRHdzZ0JDMEFBVUVEU3dSQVFRRVBDMEVBSVFZZ0JFRUJhZ3dDQ3lBRlFRTlBEUUJCQVE4TElBQWdCVG9BQUVFQUlBWkJBV29nQlJzaEJpQUFRUUZxSVFBZ0JFRUJhZ3NoQkNBQkRRQUxJQUlvQWd3TElBQWdCR3RxTmdJTUN5QURDd3Z0TWhrQVFZWUlDOG9GWmlBbUVBWUlaUmhsR0VNUVF4QkRFRU1RUXhCREVFTVFReEFpQ0NJSUlnZ2lDQ0lJSWdnaUNDSUlJZ2dpQ0NJSUlnZ2lDQ0lJSWdnaUNBQUFBQUFBQUFBQWFrQktNQ29vQ2lCcE9HazRTU2hKS0NrZ0tTQUpHQWtZYURCb01HZ3dhREJJSUVnZ1NDQklJQ2dZS0Jnb0dDZ1lDQkFJRUFnUUNCQm5LR2NvWnlobktHY29aeWhuS0djb1J4aEhHRWNZUnhoSEdFY1lSeGhIR0c1Z1RsZ3VVQTVRYmxoT1VDNUlEa2dOUUExQVRVaE5TQzFBTFVBTk9BMDRiVkJ0VUUxQVRVQXRPQzA0RFRBTk1HdElhMGhyU0d0SWEwaHJTR3RJYTBoTE9FczRTemhMT0VzNFN6aExPRXM0S3pBck1Dc3dLekFyTUNzd0t6QXJNQXNvQ3lnTEtBc29DeWdMS0Fzb0N5Z0FBQUFBTDJndmFCQ0FVSUF3Z0JCNGNJQlFlREI0RUhCd2VGQndNSEFRYUc5d2IzQlBhRTlvTDJBdllBOWdEMkJ2YUc5b1QyQlBZQzlZTDFnUFdBOVlBQUFBQUFBQUFBQm1PRVlnSmlBR0VHWXdSaGdtR0FZSVpTaGxLQ1VRSlJCa0lHUWdaQ0JrSUdRWVpCaGtHR1FZUXhCREVFTVFReEJERUVNUVF4QkRFQUFBQUFBQUFBQUFhVWhKT0NrNENUQUlLQWdvU0RCSU1DZ3dLREFJSUFnZ1owQm5RR2RBWjBCSEtFY29SeWhIS0Njb0p5Z25LQ2NvQnhnSEdBY1lCeGdBQUFBQWJYaHRlRzZBVG9BdWdBNkFMbmdPZUU1NExuQk5jRTF3RFhBTmNHMXdiWEJOYUUxb0xXZ3RhQTFvRFdodGFHMW9UV0JOWUMxZ0xXQU5ZQTFnREZnTVdBeFlERmhNV0V4WVRGaE1XQ3hZTEZnc1dDeFlERkFNVUF4UURGQnNZR3hnYkdCc1lFeFFURkJNVUV4UUxGQXNVQ3hRTEZBTVNBeElERWdNU0d0WWExaHJXR3RZYTFocldHdFlhMWhMU0V0SVMwaExTRXRJUzBoTFNFdElLMGdyU0N0SUswZ3JTQ3RJSzBnclNBdEFDMEFMUUF0QUMwQUxRQXRBQzBCclVHdFFhMUJyVUd0UWExQnJVR3RRUzBCTFFFdEFTMEJMUUV0QVMwQkxRQ3RBSzBBclFDdEFLMEFyUUN0QUswQUxPQXM0Q3pnTE9BczRDemdMT0FzNEFFSGdEUXV1Q1FZWVJqZ21PQVlRWmtoR01DWXdCZ2dsS0NVb1JTaEZLQ1VnSlNCRklFVWdKUmdsR0dWQVpVQkZHRVVZSlJBbEVHUTRaRGhrT0dRNFpEQmtNR1F3WkRCa0tHUW9aQ2hrS0dRZ1pDQmtJR1FnWkJoa0dHUVlaQmhFRUVRUVJCQkVFQ1FJSkFna0NDUUlCQUFFQUFRQUJBQUFBQXFBYW9CS2dDcUFDbmhxZUVwNEtuZ0tjR3B3U25BcWNBcG9LV2dwYUFsZ0NXQkphRWxvS1dBcFlBbFlDVmhwYUdsb1NXQkpZQ2xZS1ZnSlVBbFFhR0JvWUdoZ2FHQklXRWhZU0ZoSVdDaFFLRkFvVUNoUUNFZ0lTQWhJQ0Vob1dHaFlhRmhvV0VoUVNGQklVRWhRS0Vnb1NDaElLRWdJUUFoQUNFQUlRQWM0QnpnSE9BYzRCemdIT0FjNEJ6Z0hNQWN3QnpBSE1BY3dCekFITUFjd1IwaEhTRWRJUjBoSFNFZElSMGhIU0Fjb0J5Z0hLQWNvQnlnSEtBY29CeWhuVUdkUVoxQm5VR2RRWjFCblVHZFFSMEJIUUVkQVIwQkhRRWRBUjBCSFFDZEFKMEFuUUNkQUowQW5RQ2RBSjBBSElBY2dCeUFISUFjZ0J5QUhJQWNnQmdnbUNBQUFCZ0FHRUNZUVJoQUFBQVlZSmhoR0dHWVlCaUFtSUVZZ1ppQUdLQ1lvUmlobUtBWXdKakJHTUdZd0JqZ21PRVk0WmpnR1FDWkFSa0JtUUFaSUpraEdTR1pJQmxBbVVFWlFabEFHV0NaWVJsaG1XQVpnSm1CR1lHWmdCbWdtYUVab1ptZ0djQ1p3Um5CbWNBWjRKbmhHZUdaNEJvQW1nRWFBWm9BQUFFTVFBZ0FDQUNFSUlRZ2hDQ0VJWnlCbklFZ2dLQ0JIR0VjWUp4Z25HQVlnQmlBR0lBWWdCaGdHR0FZWUJoZ0dFQVlRQmhBR0VHWVlaaGhtR0dZWUpoQW1FQ1lRSmhBR0NBWUlCZ2dHQ0FBQVpWVkVSRFEwSXlNakl4TVRFeE1CQVFFQkFRRUJBUUVCQVFFQkFRRUJBUG5wMmNqSXVMaW5wNmVubDVlWGw0YUdob2FHaG9hR2RuWjJkbloyZG5ibTFzYTJwYVdWbFlTRWhJUjBkSFIwWkdSa1pGUlVWRlJEUTBORFEwTkRRek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEV3TURBd01EQXdNRDFyYkZ4YVdsbFpXRWhJU0VWRlJVVkVSRVJFUUVCQVFFYzNOemMzTnpjM05qWTJOalkyTmpZek16TXpNek16TXpJeU1qSXlNakl5TVRFeE1URXhNVEU4VzFwUVdVbEhSME5EUWtKSU9EZzROalkyTmpVMU5UVTBORFEwTVRFeE1UdFpXa3BJU0VKQ1FVRkFRRWMzTnpjMk5qWTJOVFUxTlRRME5EUXpNek16T21CaFVWaElTRWhKT1RrNU9UazVPVGMzTnpjM056YzNOalkyTmpZMk5qWTFOVFUxTlRVMU5UUTBORFEwTkRRME16TXpNek16TXpNeU1qSXlNakl5TWpsZ1lWRlhSMGRIU0RnNE9EZzRPRGcyTmpZMk5qWTJOalEwTkRRME5EUTBNek16TXpNek16TXlNakl5TWpJeU1qVWxKU1VsSlNVbEpTVWxKU1VsSlNVb1lHSlNVVUZCUVVjM056YzNOemMzTmpZMk5qWTJOall6TXpNek16TXpNelVsSlNVbEpTVWxKU1VsSlNVbEpTVWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0lXQm5WMUpDUWtKRk5UVTFOVFUxTlRZbUppWW1KaVltSmlZbUppWW1KaVlrSkNRa0pDUWtKQ1FrSkNRa0pDUWtJeU1qSXlNakl5TWpJeU1qSXlNakl5RlFWa1pDTWpJeU5TVWxKU1VsSlNVa0pDUWtKQ1FrSkNNakl5TWpJeU1qSUVGQ01qTXpOVFUwRkJRVUZCUVVGQkJCUkRReUlpSWlJeE1URXhNVEV4TVFNVE1qSWhJU0VoQWhJaElSRUJJaElCQVRJaUVnSkRNeUlpRWhJQ0FsTkRNeU1TRWdJQ0V5TkRNMk5UQWdJQVFhQVhDeVFFQkFVR0J3Z0pDZ3dORHhFVUZoa2NJQ1FvTFRJNFAwZFFXbVZ4ZjVDaXRzdmkvLzhBUWVBWEN5UUNBZ0lEQXdNREJBUUVCZ1lIQndnSUNRa0tDZ3NMREF3TkRRNE9EdzhRRUJFUkVoSUFRY1VZQzRRQkFRQUFBUUFBQVFBQUFRQUJBUUFCQVFFQkFRRUJBUUVCQVFFQkFRRUJBZ0VCQWdFQkFnRUJBZ0VDQXdFQ0F3SUNBd0lDQkFJREJBSURCQU1EQlFNRUJnTUVCZ1FGQndRRkNBUUdDUVVIQ2dZSUN3WUlEUWNLRGdnTEVBa01FZ29ORkFzUEZ3MFJHUUFBQUFBQUFBQUFCUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVIVUdRc1ZCUUFBQUFBQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUVIMEdRc1ZCUUFBQUFRQUFBQUFBQUFBL3dBQUFBQUFBQUQvQUVHVUdnc0ZCUUFBQUFRQVFhUWFDNlVCQndBQUFBUUFBQUFDQUFBQUJBQUFBQUVBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUFRQUFBQVFBQUFBREFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFCQUFBQUJBQUFBQVFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBRUFBQUFFQUFBQUJBQUFBQVFBQUFBREFBQUFCQUFBQUFZQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FFSFVHd3NWRFFBQUFBQUFBQUFQQUFBQS93QUFBQUFBQUFEL0FFSDBHd3NWRFFBQUFBUUFBQUFJQUFBQS93QUFBQUFBQUFEL0FFR1VIQXUxQ3cwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBSkFBQUFCQUFBQUFzQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQWtBQUFBRUFBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUNRQUFBQVFBQUFBTUFBQUFCQUFBQUFzQUFBQUVBQUFBRGdBQUFBRUFBQUFLQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBb0FBQUFFQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ2dBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUtBQUFBQVFBQUFBc0FBQUFFQUFBQUFBQUFBQVFBQUFBQkFBQUFBUUFBQUE0QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEZ0FBQUFRQUFBQUVBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQUVBQUFBT0FBQUFBUUFBQUE4QUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUFRQUFBQTRBQUFBQkFBQUFEd0FBQUFRQUFBQUVBQUFBQkFBQUFBVUFBQUFFQUFBQUFnQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFDQUFBQUJBQUFBQWdBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUVBQUFBQWdBQUFBUUFBQUFEQUFBQUJBQUFBQWdBQUFBRUFBQUFDUUFBQUFRQUFBQUdBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFZQUFBQUVBQUFBREFBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBRUFBQUFCZ0FBQUFRQUFBQUhBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUFCQUFBQUFjQUFBQUVBQUFBREFBQUFBUUFBQUFOQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFCQUFBQURnQUFBUDhBQUFBRUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBRUFBQUFMQUFBQUFRQUFBQTRBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFCQUFBQURnQUFBQVFBQUFBQkFBQUEvd0FBQUFRQUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFJQUFBQUtBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFBUUFBQUE4QUFBQUNBQUFBQ2dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFEd0FBQUFJQUFBQUtBQUFBQkFBQUFBVUFBQUQvQUFBQUFBQUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUJBQUFBQVlBQUFEL0FBQUFEQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFBRUFBQUFDUUFBQVA4QUFBQU1BQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQWdBQUFQOEFBQUFJQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFRQUFBQUhBQUFBL3dBQUFBSUFBQUQvQUFBQUFBQUFBUDhBQUFBQUFBQUFCQUFBQUFjQUFBRC9BQUFBQWdBQUFBUUFBQUFOQUFBQS93QUFBQWdBQUFBREFBQUFEd0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUQvQUFBQUFBQUFBQU1BQUFBUEFBQUFBQUFBQUFVQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUF3QUFBQThBQUFBQkFBQUFDZ0FBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFEQUFBQUR3QUFBQUVBQUFBS0FBQUFBQUFBQUFVQUFBQUVBQUFBQUFBQUFBRUFBQUFMQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQVFBQUFBc0FBQUFFQUFBQUFRQUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQ3dBQUFBRUFBQUFPQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQS93QkIxQ2NMRlFjQUFBQUFBQUFBRFFBQUFQOEFBQUFBQUFBQS93QkI5Q2NMRlFjQUFBQUVBQUFBQWdBQUFQOEFBQUFBQUFBQS93QkJsQ2dMMlFFSEFBQUFCQUFBQUFJQUFBQUFBQUFBRFFBQUFBUUFBQUFJQUFBQUJBQUFBQU1BQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFBQUFBQUFFQUFBQUF3QUFBQVFBQUFBSkFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBUUFBQUFEQUFBQUJBQUFBQVlBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQkFBQUFBTUFBQUFFQUFBQUJnQUFBQVFBQUFBSkFBQUFCQUFBQUF3QUFBQUFBQUFBQkFBQUFBQUFBQUFFQUFBQUNBQUFBQXdBQUFBSUFBQUFEQUFBQUFBQUFBQUVBQUFBQUFBQUFBUUFBQUFJQUFBQURBQUFBQWdBQUFBTUFFSDRLUXNGQkFBQUFBUUFRWWdxQ3lVRUFBQUFCQUFBQUFnQUFBQUlBQUFBREFBQUFBd0FBQUFJQUFBQUNBQUFBQXdBQUFBTUFFR3hMZ3ZJQmdFQ0F3UUZCZ2NJQ1FvTERBME9EeEFSRWhNVUZSWVhHQmthR3h3ZEhoOGdJU0lqSkNVbUp5Z3BLaXNzTFM0dk1ERXlNelExTmpjNE9UbzdQRDArUDBCQlFrTkVSVVpIU0VsS1MweE5UazlRVVZKVFZGVldWMWhaV2x0Y1hWNWZZR0ZpWTJSbFptZG9hV3ByYkcxdWIzQnhjbk4wZFhaM2VIbDZlM3g5Zm4rQWdZS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2s1U1ZscGVZbVpxYm5KMmVuNkNob3FPa3BhYW5xS21xcTZ5dHJxK3dzYkt6dExXMnQ3aTV1cnU4dmI2L3dNSEN3OFRGeHNmSXljckx6TTNPejlEUjB0UFUxZGJYMk5uYTI5emQzdC9nNGVMajVPWG01K2pwNnV2czdlN3Y4UEh5OC9UMTl2ZjQrZnI3L1AzKy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FBQUFBQUVBQUFBRUFBQUFCUUFBQUFJQUFBQURBQUFBQmdBQUFBY0FBQUFJQUFBQUNRQUFBQXdBQUFBTkFBQUFDZ0FBQUFzQUFBQU9BQUFBRHdBQUFBQUFBQUFCQUFBQUFRQkJoRFVMSVFFQUFBQUJBQUFBQVFBQUFBRUFBQUFDQUFBQUFnQUFBQUVBQUFBQ0FBQUFBZ0JCdERVTEJRVUFBQUFFQUVIRU5RdkpCZ2NBQUFBRUFBQUFBZ0FBQUFRQUFBQUJBQUFBQkFBQUFBUUFBQUFFQUFBQUF3QUFBQVFBQUFBR0FBQUFBQUFBQUEwQUFBQUVBQUFBQ0FBQUFBQUFBQUFQQUFBQUJBQUFBQW9BQUFBRUFBQUFDUUFBQUFRQUFBQU1BQUFBQkFBQUFBc0FBQUFFQUFBQURnQUFBQUFBQUFBUkFBQUFCQUFBQUJBQUFBQUFBQUFBRXdBQUFBUUFBQUFTQUFBQUFBQUFBQlVBQUFBRUFBQUFGQUFBQUFBQUFBQVhBQUFBQkFBQUFCWUFBQUFCQUFBQUNnQUFBQUVBQUFBTEFBQUFCQUFBQUFBQUFBQUVBQUFBQVFBQUFBRUFBQUFPQUFBQUFRQUFBQThBQUFBRUFBQUFCQUFBQUFRQUFBQUZBQUFBQkFBQUFBSUFBQUFFQUFBQUF3QUFBQVFBQUFBSUFBQUFCQUFBQUFrQUFBQUVBQUFBQmdBQUFBUUFBQUFIQUFBQUJBQUFBQXdBQUFBRUFBQUFEUUFBQUFFQUFBQVNBQUFBQVFBQUFCTUFBQUFFQUFBQUVBQUFBQVFBQUFBUkFBQUFBUUFBQUJZQUFBQUJBQUFBRndBQUFBUUFBQUFVQUFBQUJBQUFBQlVBQUFBQkFBQUFDd0FBQUFFQUFBQU9BQUFBQkFBQUFBRUFBQUQvQUFBQUJBQUFBQUVBQUFBUEFBQUFBZ0FBQUFvQUFBQUVBQUFBQlFBQUFQOEFBQUFBQUFBQUJBQUFBQU1BQUFBRUFBQUFCZ0FBQUFRQUFBQUpBQUFBL3dBQUFBd0FBQUFFQUFBQUJ3QUFBUDhBQUFBQ0FBQUFCQUFBQUEwQUFBRC9BQUFBQ0FBQUFBRUFBQUFUQUFBQUFnQUFBQklBQUFBRUFBQUFFUUFBQVA4QUFBQVFBQUFBQVFBQUFCY0FBQUFDQUFBQUZnQUFBQVFBQUFBVkFBQUEvd0FBQUJRQUFBQURBQUFBRHdBQUFBRUFBQUFLQUFBQUFBQUFBQVVBQUFBRUFBQUFBQUFBQUFFQUFBQUxBQUFBQVFBQUFBNEFBQUFFQUFBQUFRQUFBQVFBQUFBRUFBQUFBQUFBQUFjQUFBQUVBQUFBQWdBQUFBQUFBQUFOQUFBQUJBQUFBQWdBQUFBRUFBQUFBd0FBQUFRQUFBQUdBQUFBQkFBQUFBa0FBQUFFQUFBQURBQUFBQU1BQUFBVEFBQUFBUUFBQUJJQUFBQUFBQUFBRVFBQUFBUUFBQUFRQUFBQUF3QUFBQmNBQUFBQkFBQUFGZ0FBQUFBQUFBQVZBQUFBQkFBQUFCUUFBQUFCQUFBQUFRQUFBQUlBQUFBQ0FBQUFBd0FBQUFNQUFBQURBQUFBQXdBQUFBQUFBQUFCQUFBQUFnQUFBQU1BQUFBRUFBQUFCUUFBQUFZQUFBQUhBQUFBQ0FBQUFBa0FBQUFLQUFBQUN3QUFBQXdBQUFBTkFBQUFEZ0FBQUE4QVFaWThDeTRCQVFFQkFRRUNBZ0lDQWdJREF3TURBd01FQkFRRUJBUUZCUVVGQlFVR0JnWUdCZ1lIQndjSEJ3Y0lDQWdJQUVIUVBBdEZDZ0FBQUEwQUFBQVFBQUFBQ3dBQUFBNEFBQUFTQUFBQURRQUFBQkFBQUFBVUFBQUFEZ0FBQUJJQUFBQVhBQUFBRUFBQUFCUUFBQUFaQUFBQUVnQUFBQmNBQUFBZEFFR2hQUXN6QVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURCQVVBQVFJREJBVUFBUUlEQkFVQUFRSURBRUhrUFF2TUFnRUFBQUFDQUFBQUF3QUFBQVFBQUFBRkFBQUFCZ0FBQUFjQUFBQUlBQUFBQ1FBQUFBb0FBQUFMQUFBQURBQUFBQTBBQUFBT0FBQUFEd0FBQUJBQUFBQVJBQUFBRWdBQUFCTUFBQUFVQUFBQUZRQUFBQllBQUFBWEFBQUFHQUFBQUJrQUFBQWFBQUFBR3dBQUFCd0FBQUFkQUFBQUhRQUFBQjRBQUFBZkFBQUFJQUFBQUNBQUFBQWhBQUFBSWdBQUFDSUFBQUFqQUFBQUl3QUFBQ1FBQUFBa0FBQUFKUUFBQUNVQUFBQWxBQUFBSmdBQUFDWUFBQUFtQUFBQUp3QUFBQ2NBQUFBbkFBQUFKd0FBQUFFQUFBQUNBQUFBQkFBQUFBZ0FBQUFRQUFBQUlBQUFBRUFBQUFDQUFBQUFMeDhQQUJjYkhSNEhDdzBPSnlzdExoQURCUW9NRXhVYUhDTWxLaXdCQWdRSUVSSVVHQVlKRmhrZ0lTSWtLQ1lwQUJBQkFnUUlJQU1GQ2d3UEx3Y0xEUTRHQ1I4akpTb3NJU0lrS0NjckxTNFJFaFFZRXhVYUhCY2JIUjRXR1NZcEFMQXRCRzVoYldVQjZ3TmtBQVp0WlcxamNIa0JCbkpsYzJsNlpRSUNaaklEQW1ZekJBRm1CUUptTlFZQ1pqWUhBbVkzQ0FKbU9Ba0NaamtLQVdVTEEyWXhNUXdEWmpFeURRTm1NVE1PQTJZeE5BOERaakUxRUFObU1UWVJBMll4TnhJRFpqRTRFd05tTVRrVUEyWXlNQlVEWmpJeEZnTm1NaklYQTJZeU14Z0RaakkwR1FObU1qVWFBMll5TmhzRFpqSTNIQU5tTWpnZEEyWXlPUjREWmpNd0h3Tm1NekVnQTJZek1pRURaak16SWdObU16UWpBMll6TlNRRFpqTTJKUU5tTXpjbUEyWXpPQ2NEWmpNNUtBTm1OREFwQTJZME1Tb0RaalF5S3dObU5ETXNBMlkwTkMwRFpqUTFMZ05tTkRZdkEyWTBOekFEWmpRNE1RTm1ORGt5QTJZMU1ETURaalV4TkFObU5USTFBMlkxTXpZRFpqVTBOd05tTlRVNEEyWTFOamtEWmpVM09nTm1OVGc3QTJZMU9Ud0Raall3UFFObU5qRStBMlkyTWo4RFpqWXpRQU5tTmpSQkEyWTJOVUlEWmpZMlF3Tm1OamRFQTJZMk9FVURaalk1UmdObU56QkhBMlkzTVVnRFpqY3lTUU5tTnpOS0EyWTNORXNEWmpjMVRBTm1OelpOQTJZM04wNERaamM0VHdObU56bFFBMlk0TUZFRFpqZ3hVZ05tT0RKVEEyWTRNMVFEWmpnMFZRTm1PRFZXQTJZNE5sY0RaamczV0FObU9EaFpBMlk0T1ZvRFpqa3dXd05tT1RGY0EyWTVNbDBEWmprelhnTm1PVFJmQTJZNU5XQUJhV0VCWjJJQlpHTUVaakV3TVFLNktXUUFBd0FBQVFBQ0FBRUJBQUFDQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1EQ1FBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FRSUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNGQkFBQ2NEQUJBbkF4QWdKc01nTUNiRE1HR0FBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFV0Eyd3lNaGNEYkRJekJ3WUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVSUJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlFrUUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlFvTUFBSndNQUVDYkRFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVMQXdBQ2NEQUJBbkF4QWdKc01nd1JBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRFFZQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05BVUNiRFVPRUFBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVQQlFBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEVBc0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQVJBZ0FDY0RBQkFuQXhFZzhBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkJNREFBSndNQUVDYkRFQ0Ftd3lGQU1BQW5Bd0FRSndNUUlDYkRJVkJnQUNjREFCQW5BeEFnSndNZ01DYkRNRUFtdzBCUUpzTlJZbUFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2NEUUZBbkExQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUVBBMnd4TlJBRGJERTJFUU5zTVRjU0Eyd3hPQk1EYkRFNUZBTnNNakFWQTJ3eU1SWURiREl5RndOc01qTVlBMnd5TkJrRGJESTFHZ05zTWpZYkEyd3lOeHdEYkRJNEhRTnNNamtlQTJ3ek1COERiRE14SUFOc016SWhBMnd6TXlJRGJETTBJd05zTXpVa0Eyd3pOaVVEYkRNM0Z3TUFBbkF3QVFKd01RSUNjRElZRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpFWkVnQUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0doWUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhHd1lBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVWNCd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlkQlFBQ2NEQUJBbkF4QWdKc01nTUNiRE1FQW13MEhnVUFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQjhCQUFKd01DQUVBQUp3TUFFQ2NERUNBbXd5QXdKc015RWJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVGQU5zTWpBVkEyd3lNUllEYkRJeUZ3TnNNak1ZQTJ3eU5Ca0RiREkxR2dOc01qWWlGUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0l4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0p3TndnQ2NEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE55UVVBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFuQTRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyRVFOc01UY1NBMnd4T0JNRGJERTVKUThBQW5Bd0FRSndNUUlDY0RJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNZREFBSndNQUVDYkRFQ0Ftd3lKdzhBQW5Bd0FRSndNUUlDYkRJREFtd3pCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkNnQ0FBSndNQUVDYkRFcEVRQUNjREFCQW5BeEFnSndNZ01DY0RNRUFuQTBCUUp3TlFZQ2NEWUhBbkEzQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaW9IQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmlzUEFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1nMERiREV6RGdOc01UUXNCQUFDY0RBQkFuQXhBZ0pzTWdNQ2JETXRCUUFDY0RBQkFuQXhBZ0p3TWdNQ2JETUVBbXcwTGdNQUFuQXdBUUpzTVFJQ2JESXZBd0FDY0RBQkFtd3hBZ0pzTWpBSkFBSndNQUVDY0RFQ0Ftd3lBd0pzTXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NE1SWUFBbkF3QVFKd01RSUNiRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0RXdOc01Ua1VBMnd5TUJVRGJESXhNZ29BQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NU13UUFBbkF3QVFKc01RSUNiRElEQW13ek5BUUFBbkF3QVFKc01RSUNiRElEQW13ek5ROEFBbkF3QVFKd01RSUNjRElEQW13ekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hORFlGQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRM0JRQUNjREFCQW5BeEFnSnNNZ01DYkRNRUFtdzBPQWNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyT1FjQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNiRFVHQW13Mk9nY0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJPd2NBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyUEFVQUFuQXdBUUp3TVFJQ2NESURBbXd6QkFKc05EMEZBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFErRHdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSnNOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMFB4SUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE4wQUhBQUp3TUFFQ2NERUNBbXd5QXdKc013UUNiRFFGQW13MUJnSnNOa0VRQUFKd01BRUNjREVDQW5BeUF3SndNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVUlKQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0UXdnQUFuQXdBUUp3TVFJQ2JESURBbXd6QkFKc05BVUNiRFVHQW13MkJ3SnNOMFFRQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOVVVUQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0p3TmdjQ2NEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9FWVJBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSndOZ2NDY0RjSUFtdzRDUUpzT1FvRGJERXdDd05zTVRFTUEyd3hNZzBEYkRFekRnTnNNVFFQQTJ3eE5SQURiREUyUnhNQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW5BMkJ3SndOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRTQmNBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NjRGdKQW5BNUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTU9BMnd4TkE4RGJERTFFQU5zTVRZUkEyd3hOeElEYkRFNEV3TnNNVGtVQTJ3eU1CVURiREl4RmdOc01qSkpRd0FDY0RBQkFuQXhBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPUlFEYkRJd0ZRTnNNakVXQTJ3eU1oY0RiREl6R0FOc01qUVpBMnd5TlJvRGJESTJHd05zTWpjY0Eyd3lPQjBEYkRJNUhnTnNNekFmQTJ3ek1TQURiRE15SVFOc016TWlBMnd6TkNNRGJETTFKQU5zTXpZbEEyd3pOeVlEYkRNNEp3TnNNemtvQTJ3ME1Da0RiRFF4S2dOc05ESXJBMncwTXl3RGJEUTBMUU5zTkRVdUEydzBOaThEYkRRM01BTnNORGd4QTJ3ME9USURiRFV3TXdOc05URTBBMncxTWpVRGJEVXpOZ05zTlRRM0EydzFOVGdEYkRVMk9RTnNOVGM2QTJ3MU9Ec0RiRFU1UEFOc05qQTlBMncyTVQ0RGJEWXlQd05zTmpOQUEydzJORUVEYkRZMVFnTnNOalpLRXdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDY0RZSEFuQTNDQUp3T0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UaExGQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNjRFlIQW5BM0NBSndPQWtDYkRrS0Eyd3hNQXNEYkRFeERBTnNNVElOQTJ3eE13NERiREUwRHdOc01UVVFBMnd4TmhFRGJERTNFZ05zTVRnVEEyd3hPVXdIQUFKd01BRUNjREVDQW13eUF3SnNNd1FDYkRRRkFtdzFCZ0pzTmswTkFBSndNQUVDY0RFQ0FuQXlBd0p3TXdRQ2JEUUZBbXcxQmdKc05nY0NiRGNJQW13NENRSnNPUW9EYkRFd0N3TnNNVEVNQTJ3eE1rNExBQUp3TUFFQ2NERUNBbkF5QXdKc013UUNiRFFGQW13MUJnSnNOZ2NDYkRjSUFtdzRDUUpzT1FvRGJERXdUd1FBQW5Bd0FRSndNUUlDYkRJREFtd3pVQTRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUp3TkFVQ2NEVUdBbkEyQndKd053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTlJEQUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKc05RWUNiRFlIQW13M0NBSnNPQWtDYkRrS0Eyd3hNQXNEYkRFeFVoTUFBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FuQTJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVF3RGJERXlEUU5zTVRNT0Eyd3hOQThEYkRFMUVBTnNNVFlSQTJ3eE54SURiREU0VXlBQUFuQXdBUUp3TVFJQ2NESURBbkF6QkFKd05BVUNjRFVHQW13MkJ3SnNOd2dDYkRnSkFtdzVDZ05zTVRBTEEyd3hNUXdEYkRFeURRTnNNVE1PQTJ3eE5BOERiREUxRUFOc01UWVJBMnd4TnhJRGJERTRFd05zTVRrVUEyd3lNQlVEYkRJeEZnTnNNaklYQTJ3eU14Z0RiREkwR1FOc01qVWFBMnd5TmhzRGJESTNIQU5zTWpnZEEyd3lPUjREYkRNd0h3TnNNekZVRmdBQ2NEQUJBbkF4QWdKd01nTUNjRE1FQW5BMEJRSndOUVlDYkRZSEFtdzNDQUpzT0FrQ2JEa0tBMnd4TUFzRGJERXhEQU5zTVRJTkEyd3hNdzREYkRFMER3TnNNVFVRQTJ3eE5oRURiREUzRWdOc01UZ1RBMnd4T1JRRGJESXdGUU5zTWpGVkN3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1GWUhBQUp3TUFFQ2NERUNBbkF5QXdKd013UUNjRFFGQW5BMUJnSnNObGNxQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEY0lBbXc0Q1FKc09Rb0RiREV3Q3dOc01URU1BMnd4TWcwRGJERXpEZ05zTVRRUEEyd3hOUkFEYkRFMkVRTnNNVGNTQTJ3eE9CTURiREU1RkFOc01qQVZBMnd5TVJZRGJESXlGd05zTWpNWUEyd3lOQmtEYkRJMUdnTnNNalliQTJ3eU54d0RiREk0SFFOc01qa2VBMnd6TUI4RGJETXhJQU5zTXpJaEEyd3pNeUlEYkRNMEl3TnNNelVrQTJ3ek5pVURiRE0zSmdOc016Z25BMnd6T1NnRGJEUXdLUU5zTkRGWUV3QUNjREFCQW5BeEFnSndNZ01DY0RNRUFtdzBCUUpzTlFZQ2JEWUhBbXczQ0FKc09Ba0NiRGtLQTJ3eE1Bc0RiREV4REFOc01USU5BMnd4TXc0RGJERTBEd05zTVRVUUEyd3hOaEVEYkRFM0VnTnNNVGhaQ0FBQ2NEQUJBbXd4QWdKc01nTUNiRE1FQW13MEJRSnNOUVlDYkRZSEFtdzNXZzRBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5RFFOc01UTmJCQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETmNDUUFDY0RBQkFuQXhBZ0p3TWdNQ2NETUVBbkEwQlFKd05RWUNiRFlIQW13M0NBSnNPRjBJQUFKd01BRUNjREVDQW5BeUF3SndNd1FDY0RRRkFuQTFCZ0pzTmdjQ2JEZGVDQUFDY0RBQkFtd3hBZ0pzTWdNQ2JETUVBbXcwQlFKc05RWUNiRFlIQW13M1h3d0FBbkF3QVFKd01RSUNjRElEQW5BekJBSnNOQVVDYkRVR0FtdzJCd0pzTndnQ2JEZ0pBbXc1Q2dOc01UQUxBMnd4TVdBQVlRZ0FBbkF3QVFKd01RSUNjRElEQW5BekJBSndOQVVDY0RVR0FtdzJCd0pzTjJJREFBSndNQUVDY0RFQ0Ftd3lZdzBBQW5Bd0FRSndNUUlDY0RJREFuQXpCQUpzTkFVQ2JEVUdBbXcyQndKc053Z0NiRGdKQW13NUNnTnNNVEFMQTJ3eE1Rd0RiREV5IixVPWE7Ri5oMjY0TW9kdWxlPW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoVS5kZWNvZGUoTCkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh5LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBZPUYscT1BPT4oSSxnLEIpPT57QS5IRUFQVTguY29weVdpdGhpbihJLGcsZytCKX07ZnVuY3Rpb24gSyhBLEkpe2NvbnN0IGc9QSVJO3JldHVybiBnPjA/QStJLWc6QX1jb25zdCBIPUE9Pkk9Pntjb25zdCBnPUEuSEVBUFU4Lmxlbmd0aCxCPTY1NTM2LFE9MjE0NzQ4MzY0ODtpZihJPlEpcmV0dXJuITE7Y29uc3QgQz0xNjc3NzIxNjtmb3IobGV0IEQ9MTtEPD00O0QqPTIpe2xldCBFPWcqKDErLjIvRCk7RT1NYXRoLm1pbihFLEkrMTAwNjYzMjk2KTtjb25zdCB3PU1hdGgubWluKFEsSyhNYXRoLm1heChDLEksRSksQikpO3RyeXtjb25zdHttZW1vcnk6b309QTtvLmdyb3cody1vLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpO2NvbnN0e2J1ZmZlcjpOfT1vO3JldHVybiBBLkhFQVA4PW5ldyBJbnQ4QXJyYXkoTiksQS5IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoTiksQS5IRUFQMzI9bmV3IEludDMyQXJyYXkoTiksITB9Y2F0Y2h7fX1yZXR1cm4hMX0sUj02NTUzNixjPTUyNTE3OTIsZD04NzUyLHQ9MTY3NzcyMTY7Y2xhc3MgaXtjb25zdHJ1Y3Rvcigpe3RoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMucGljPW5ldyBVaW50OEFycmF5KDApO2NvbnN0IEk9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDp0L1IsbWF4aW11bToyMTQ3NDgzNjQ4L1J9KSxnPXttZW1vcnk6SSxIRUFQODpuZXcgSW50OEFycmF5KEkuYnVmZmVyKSxIRUFQVTg6bmV3IFVpbnQ4QXJyYXkoSS5idWZmZXIpLEhFQVAzMjpuZXcgSW50MzJBcnJheShJLmJ1ZmZlcil9O2cuSEVBUDMyW2Q+PjJdPWM7Y29uc3R7ZXhwb3J0czpCfT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoWS5oMjY0TW9kdWxlLHtoMjY0OnttZW1vcnk6SSxtZW1jcHk6cShnKSxyZXNpemU6SChnKX19KTt0aGlzLm1lbW9yeT1nLHRoaXMuYXNtPUIsdGhpcy5wU3RvcmFnZT1CLmgyNjRhbGxvYygpLHRoaXMucFdpZHRoPUIubWFsbG9jKDQpLHRoaXMucEhlaWdodD1CLm1hbGxvYyg0KSx0aGlzLnBQaWN0dXJlPUIubWFsbG9jKDQpLHRoaXMuZGVjQnVmZmVyPUIubWFsbG9jKDEwMjQqMTAyNCksQi5pbml0KHRoaXMucFN0b3JhZ2UsMCl9ZGVjb2RlKEkpe2NvbnN0e21lbW9yeTpnLGFzbTpCfT10aGlzO2cuSEVBUFU4LnNldChJLHRoaXMuZGVjQnVmZmVyKTtjb25zdCBRPUIuZGVjb2RlKHRoaXMucFN0b3JhZ2UsdGhpcy5kZWNCdWZmZXIsSS5ieXRlTGVuZ3RoLHRoaXMucFBpY3R1cmUsdGhpcy5wV2lkdGgsdGhpcy5wSGVpZ2h0KTtpZihRPT09aS5QSUNfUkRZKXtjb25zdCBDPXRoaXMud2lkdGg9Zy5IRUFQMzJbdGhpcy5wV2lkdGg+Pj4yXSxEPXRoaXMuaGVpZ2h0PWcuSEVBUDMyW3RoaXMucEhlaWdodD4+PjJdLEU9Zy5IRUFQMzJbdGhpcy5wUGljdHVyZT4+Ml0sdz1DKkQqMy8yO3RoaXMucGljPWcuSEVBUFU4LnN1YmFycmF5KEUsRSt3KX1yZXR1cm4gUX19dmFyIGI9eS5IMjY0RGVjb2Rlcj1pO2kuUkRZPTAsaS5QSUNfUkRZPTEsaS5IRFJTX1JEWT0yLGkuRVJST1I9MyxpLlBBUkFNX1NFVF9FUlJPUj00LGkuTUVNQUxMT0NfRVJST1I9NTtmdW5jdGlvbiB4KEEpe3JldHVybiBVaW50OEFycmF5LmZyb20oYXRvYihBKSxJPT5JLmNoYXJDb2RlQXQoMCkpfWNvbnN0IHM9c2VsZixrPW5ldyBiLG09Si5zZWNvbmQvNTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixBPT57Y29uc3R7dGltZXN0YW1wOkksZmxhZ3M6ZyxpbmRleDpCfT1BLmRhdGEsUT1EYXRlLm5vdygpLUk7aWYoUT5tJiZnIT09Myl7TShgRnJhbWUgaXMgJHtRfW1zIGxhdGUsIGRyb3BwaW5nYCxCKTtyZXR1cm59Y29uc3QgQz14KEEuZGF0YS5lbmNvZGVkRnJhbWUpLEQ9ay5kZWNvZGUoQyk7dHJ5e2lmKEQhPT0xKXtNKGBmYWlsZWQgdG8gZGVjb2RlIGZyYW1lLCBzdGF0dXM6ICR7bihEKX1gLEIsQyk7cmV0dXJufWNvbnN0e3BpYzpFLGhlaWdodDp3LHdpZHRoOm99PWs7aWYoRS5sZW5ndGg9PT0wfHx3PT09MHx8bz09PTApe00oImRlY29kZWQgZnJhbWUgaGFzIG5vIGRhdGEiLEIsQyk7cmV0dXJufWNvbnN0IE49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KEUpO3MucG9zdE1lc3NhZ2Uoe3RpbWVzdGFtcDpBLmRhdGEudGltZXN0YW1wLHl1djpOLGhlaWdodDp3LHdpZHRoOm8saW5kZXg6Qn0pfWNhdGNoKEUpe00oRSxCKX19KTtmdW5jdGlvbiBNKEEsSSxnKXtzLnBvc3RNZXNzYWdlKHtlcnJvcjpgaDI2NCBkZWNvZGVyIHdvcmtlcjogJHtBfWAsaW5kZXg6SX0pfWZ1bmN0aW9uIG4oQSl7c3dpdGNoKEEpe2Nhc2UgMDpyZXR1cm4iUkRZIjtjYXNlIDE6cmV0dXJuIlBJQ19SRFkiO2Nhc2UgMjpyZXR1cm4iSERSU19SRFkiO2Nhc2UgMzpyZXR1cm4iRVJST1IiO2Nhc2UgNDpyZXR1cm4iUEFSQU1fU0VUX0VSUk9SIjtjYXNlIDU6cmV0dXJuIk1FTUFMTE9DX0VSUk9SIjtkZWZhdWx0OnJldHVybiBBLnRvU3RyaW5nKCl9fX0pfSkoKTsK",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){const i=blob&&(window.URL||window.webkitURL).createObjectURL(blob);try{return i?new Worker(i,{}):new Worker("data:application/javascript;base64,"+encodedJs,{type:"module"})}finally{i&&(window.URL||window.webkitURL).revokeObjectURL(i)}}class RealtimePlayer extends HTMLElement{constructor(){super(),__publicField(this,"drawer"),this.drawer=new H264BytestreamCanvasDrawer(()=>new WorkerWrapper,()=>{},()=>{})}connectedCallback(){this.style.background="black",this.innerHTML='<canvas style="height: 100%; width: 100%; object-fit: contain;"></canvas>',this.drawer.start(),this.drawer.setCanvas(this.querySelector("canvas"))}drawVideoFrame(o){this.drawer.receiveEncodedFrame(o)}}customElements.define("formant-realtime-player",RealtimePlayer);const SECONDS$1=1e3,generateFeaturesObject=i=>({type:"FeatureCollection",features:i.map(o=>({type:"Feature",properties:{weight:o.weight??50},geometry:{type:"Point",coordinates:[o.longitude,o.latitude]}}))}),getEvents=async(i,o)=>{try{return await Authentication$1.waitTilAuthenticated()?await Fleet$2.queryEvents({names:[i],deviceIds:[o]}):[]}catch(s){throw s}},getDataPoints=async(i,o,s,_,$)=>{try{if(await Authentication$1.waitTilAuthenticated())return await Fleet$2.queryTelemetry({start:s,end:_,names:[i,$??""],deviceIds:[o]})}catch(_e){console.log(_e)}},generateStreamsMap=i=>i.reduce((o,s)=>s.type==="location"?(o.locationStream=s.points,o):(o.numericStream=s.points,o),{locationStream:[],numericStream:[]}),areDatapointsWithInValidRange=(i,o)=>Math.abs(i)>=o*SECONDS$1,updateDifference=(i,o)=>i<o?i:o,isoDateToMilliseconds=i=>new Date(i).getTime(),millisecondsToISODate=i=>new Date(i).toISOString(),isScrubberConfiguration=i=>i.scrubber!==void 0,isAnnotationConfiguration=i=>i.annotation!==void 0,isEventConfiguration=i=>i.eventsQuery!==void 0,getTypedConfiguration=i=>isScrubberConfiguration(i)||isAnnotationConfiguration(i)||isEventConfiguration(i)?i:null,isTimeDeltaScrubber=i=>i.scrubber.startFrom==="Time Delta",isTimeDeltaEvent=i=>i.eventsQuery.startFrom==="Time Delta",SECONDS=1e3,MINUTES=60*SECONDS,HOURS=MINUTES*60,handleNumericStream=(i,o=MINUTES*1)=>{const s=generateStreamsMap(i),_=[];let $=0,_e=0;return s.locationStream.forEach((tt,j)=>{const nt=s.numericStream[$][0],st=tt[0],ht=nt-st;areDatapointsWithInValidRange(ht,o)&&(ht<0&&(Math.abs(ht)<_e?_.push({latitude:tt[1].latitude,longitude:tt[1].longitude,weight:s.numericStream[$][1]}):_.push({latitude:s.locationStream[j-1][1].latitude,longitude:s.locationStream[j-1][1].longitude,weight:s.numericStream[$][1]}),$+=1,$===s.numericStream.length&&($=s.numericStream.length-1),_e=0),_e=updateDifference(ht,_e))}),_},handleEventConfiguration=async(i,o)=>isTimeDeltaEvent(i)?handleEventTimeDelta(i,o):handeFromEventToEvent(i,o),handeFromEventToEvent=async(i,o)=>{const s=i.eventsQuery,_=s.endEvent,$=s.startEvent,_e=await Fleet$2.queryEvents({names:[_,$],deviceIds:[o]});_e.length<1&&console.error("No events");const tt=[];let j=0;for(;tt.length<2;){if(_e[j].message===_&&tt.length===0&&tt.push(_e[j].time),tt.length===1&&_e[j].message===$){const nt=isoDateToMilliseconds(tt[0]);isoDateToMilliseconds(_e[j].time)<nt&&tt.push(_e[j].time)}j===_e.length-1&&tt.push("",""),j+=1}return{start:tt[1],end:tt[0]}},handleEventTimeDelta=async(i,o)=>{const s=i.eventsQuery,_=s.endEvent,$=s.timeDelta,_e=await Fleet$2.queryEvents({names:[_],deviceIds:[o]});_e.length<1&&console.error("No events");const tt=_e[0].time,j=isoDateToMilliseconds(tt)-HOURS*$;return{start:millisecondsToISODate(j),end:tt}},handleScrubberConfiguration=async(i,o,s)=>isTimeDeltaScrubber(i)?handleScrrubberDeltaTime(i,o):handleEventScrubber(i,s,o),handleScrrubberDeltaTime=(i,o)=>{const s=i.scrubber,_=o-HOURS*s.timeDelta;return{start:millisecondsToISODate(_),end:millisecondsToISODate(o)}},handleEventScrubber=async(i,o,s)=>{const _=i.scrubber,$=await getEvents(_.eventName,o);return $.length<1&&console.error("No events"),{start:$[0].time,end:millisecondsToISODate(s)}},handleAnnotationConfiguration=async(i,o)=>{const s=i.annotation,_=await Fleet$2.queryEvents({deviceIds:[o],eventTypes:["annotation"],names:[s]});return{start:_[0].time,end:_[0].endTime}},useDataPoints=()=>{const i=useDevice(),o=useFormant(),s=getTypedConfiguration(o.configuration),_=useScruberTime(),[$,_e]=reactExports.useState([]),[tt,j]=reactExports.useState(),[nt,st]=reactExports.useState();return reactExports.useEffect(()=>{!s||!isAnnotationConfiguration(s)||!i||handleAnnotationConfiguration(s,i.id).then(_t=>{_t!==null&&(j(_t.start),st(_t.end))})},[s,i]),reactExports.useEffect(()=>{!s||!isScrubberConfiguration(s)||!i||handleScrubberConfiguration(s,_,i.id).then(_t=>{_t!==null&&(j(_t.start),st(_t.end))})},[s,_,i]),reactExports.useEffect(()=>{!s||!isEventConfiguration(s)||!i||handleEventConfiguration(s,i.id).then(_t=>{_t!==null&&(j(_t.start),st(_t.end))})},[s]),reactExports.useEffect(()=>{if(!tt||!nt||!s)return;const{locationStream:ht,numericStream:_t}=s;getDataPoints(ht,i.id,tt,nt,_t).then(ft=>{if(ft===void 0){console.warn("No streams");return}if(ft.length===0){_e([]);return}if(_t){const dt=handleNumericStream(ft,s.weightSearchWindow);_e(dt);return}_e(ft[0].points.map(dt=>dt[1]))})},[i,tt,nt]),$},useFeatures=i=>{const[o,s]=reactExports.useState({type:"FeatureCollection",features:[]});return reactExports.useEffect(()=>{i.length<1||s({...generateFeaturesObject(i)})},[i]),o},DEFAULT_DISTINCT_ZOOM_LEVEL=15,HeatmapLayer=({map:i,featureCollection:o,distinctZoomLevel:s,circleRadius:_})=>{const[$,_e]=reactExports.useState(!1);return reactExports.useLayoutEffect(()=>{i&&(i.on("load",()=>{i.addSource("numeric",{type:"geojson",data:o}),i.addLayer({id:"numeric-heat",type:"heatmap",source:"numeric",maxzoom:24,paint:{"heatmap-weight":{property:"weight",type:"exponential",stops:[[1,0],[100,1]]},"heatmap-intensity":{stops:[[15,1]]},"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(236,222,239,0)",.2,"rgb(169,97,228)",.4,"rgb(46,196,149)",.6,"rgb(249,195,110)",.8,"rgb(234,113,157)"],"heatmap-radius":{stops:[[11,s??15],[15,s?s+2:20]]},"heatmap-opacity":{default:1,stops:[[s?s-1:DEFAULT_DISTINCT_ZOOM_LEVEL-1,1],[s??DEFAULT_DISTINCT_ZOOM_LEVEL+1,0]]}}},"waterway-label"),i.addLayer({id:"numeric-point",type:"circle",source:"numeric",minzoom:s?s-1:DEFAULT_DISTINCT_ZOOM_LEVEL-1,paint:{"circle-radius":{property:"weight",type:"exponential",stops:[[{zoom:DEFAULT_DISTINCT_ZOOM_LEVEL,value:1},_??5],[{zoom:22,value:100},_??20]]},"circle-color":{property:"weight",type:"exponential",stops:[[0,"rgba(236,222,239,0)"],[25,"rgb(169,97,228)"],[50,"rgb(46,196,149)"],[75,"rgb(249,195,110)"],[100,"rgb(234,113,157)"]]},"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":{stops:[[14,0],[15,1]]}}},"waterway-label")}),_e(!0))},[i]),reactExports.useLayoutEffect(()=>{!i||o.features.length<1||!$||setTimeout(()=>{const tt=i.getSource("numeric");i.addLayer,tt&&(tt.setData(o),i.flyTo({center:o.features[0].geometry.coordinates,zoom:DEFAULT_DISTINCT_ZOOM_LEVEL-3,duration:5e3,essential:!0}))},3e3)},[JSON.stringify(o.features),$]),jsx(Fragment,{})},DetailsCard=({map:i})=>{const s=useFormant().configuration,[_,$]=reactExports.useState(1);return reactExports.useEffect(()=>{if(!i)return;const _e=document.getElementById("card");setTimeout(()=>{i.on("mouseover","numeric-point",tt=>{const{x:j,y:nt}=tt.point;if($(1),s.numericStream){const{weight:st}=tt.features[0].properties;$(st)}_e.style.top=`${nt}px`,_e.style.left=`${j}px`,_e.style.opacity="1",_e.style.zIndex="2"}),i.on("mouseout","numeric-point",tt=>{_e.style.opacity="0",_e.style.zIndex="-1"})},6e3)},[i]),jsx("div",{id:"card",className:styles$1.card,children:jsx(Typography$1,{children:`${s.tooltipLabel??"Weight"}: ${_}`})})};function App(){const i=useFormant(),o=getTypedConfiguration(i.configuration),s=useDataPoints(),_=useFeatures(s),$=reactExports.useRef(null),_e=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{_e.current||!o||(_e.current=new mapboxgl.Map({accessToken:o.mapboxKey??"pk.eyJ1IjoiYWxlbmpkZXYiLCJhIjoiY2t3NWt5ZmExMTcxMDJvbW5kdDR2eGs1diJ9.aYT7nc_i5rp2hY4dt3CLrw",container:$.current,style:"mapbox://styles/alenjdev/ckwcflbv8201814n10hxbqz6q",center:[(o==null?void 0:o.longitude)??-77.47419738769531,(o==null?void 0:o.latitude)??39.043701171875],zoom:o.defaultZoomLevel&&o.latitude&&o.longitude?o.defaultZoomLevel:0}))},[o]),jsx("div",{className:styles$1.app,children:o?jsxs(Fragment,{children:[jsx("div",{ref:$,className:styles$1["map-container"]}),jsx(HeatmapLayer,{map:_e.current,featureCollection:_,distinctZoomLevel:o.distinctZoomLevel,circleRadius:o.circleRadius}),jsx(DetailsCard,{map:_e.current})]}):jsx(LoadingIndicator,{})})}var Subscribable=function(){function i(){this.listeners=[]}var o=i.prototype;return o.subscribe=function(_){var $=this,_e=_||function(){};return this.listeners.push(_e),this.onSubscribe(),function(){$.listeners=$.listeners.filter(function(tt){return tt!==_e}),$.onUnsubscribe()}},o.hasListeners=function(){return this.listeners.length>0},o.onSubscribe=function(){},o.onUnsubscribe=function(){},i}(),isServer=typeof window>"u";function noop(){}function functionalUpdate(i,o){return typeof i=="function"?i(o):i}function isValidTimeout(i){return typeof i=="number"&&i>=0&&i!==1/0}function ensureQueryKeyArray(i){return Array.isArray(i)?i:[i]}function timeUntilStale(i,o){return Math.max(i+(o||0)-Date.now(),0)}function parseQueryArgs(i,o,s){return isQueryKey(i)?typeof o=="function"?_extends$2({},s,{queryKey:i,queryFn:o}):_extends$2({},o,{queryKey:i}):i}function parseFilterArgs(i,o,s){return isQueryKey(i)?[_extends$2({},o,{queryKey:i}),s]:[i||{},o]}function mapQueryStatusFilter(i,o){if(i===!0&&o===!0||i==null&&o==null)return"all";if(i===!1&&o===!1)return"none";var s=i??!o;return s?"active":"inactive"}function matchQuery(i,o){var s=i.active,_=i.exact,$=i.fetching,_e=i.inactive,tt=i.predicate,j=i.queryKey,nt=i.stale;if(isQueryKey(j)){if(_){if(o.queryHash!==hashQueryKeyByOptions(j,o.options))return!1}else if(!partialMatchKey(o.queryKey,j))return!1}var st=mapQueryStatusFilter(s,_e);if(st==="none")return!1;if(st!=="all"){var ht=o.isActive();if(st==="active"&&!ht||st==="inactive"&&ht)return!1}return!(typeof nt=="boolean"&&o.isStale()!==nt||typeof $=="boolean"&&o.isFetching()!==$||tt&&!tt(o))}function matchMutation(i,o){var s=i.exact,_=i.fetching,$=i.predicate,_e=i.mutationKey;if(isQueryKey(_e)){if(!o.options.mutationKey)return!1;if(s){if(hashQueryKey(o.options.mutationKey)!==hashQueryKey(_e))return!1}else if(!partialMatchKey(o.options.mutationKey,_e))return!1}return!(typeof _=="boolean"&&o.state.status==="loading"!==_||$&&!$(o))}function hashQueryKeyByOptions(i,o){var s=(o==null?void 0:o.queryKeyHashFn)||hashQueryKey;return s(i)}function hashQueryKey(i){var o=ensureQueryKeyArray(i);return stableValueHash(o)}function stableValueHash(i){return JSON.stringify(i,function(o,s){return isPlainObject(s)?Object.keys(s).sort().reduce(function(_,$){return _[$]=s[$],_},{}):s})}function partialMatchKey(i,o){return partialDeepEqual(ensureQueryKeyArray(i),ensureQueryKeyArray(o))}function partialDeepEqual(i,o){return i===o?!0:typeof i!=typeof o?!1:i&&o&&typeof i=="object"&&typeof o=="object"?!Object.keys(o).some(function(s){return!partialDeepEqual(i[s],o[s])}):!1}function replaceEqualDeep(i,o){if(i===o)return i;var s=Array.isArray(i)&&Array.isArray(o);if(s||isPlainObject(i)&&isPlainObject(o)){for(var _=s?i.length:Object.keys(i).length,$=s?o:Object.keys(o),_e=$.length,tt=s?[]:{},j=0,nt=0;nt<_e;nt++){var st=s?nt:$[nt];tt[st]=replaceEqualDeep(i[st],o[st]),tt[st]===i[st]&&j++}return _===_e&&j===_?i:tt}return o}function isPlainObject(i){if(!hasObjectPrototype(i))return!1;var o=i.constructor;if(typeof o>"u")return!0;var s=o.prototype;return!(!hasObjectPrototype(s)||!s.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(i){return Object.prototype.toString.call(i)==="[object Object]"}function isQueryKey(i){return typeof i=="string"||Array.isArray(i)}function sleep(i){return new Promise(function(o){setTimeout(o,i)})}function scheduleMicrotask(i){Promise.resolve().then(i).catch(function(o){return setTimeout(function(){throw o})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(i){_inheritsLoose(o,i);function o(){var _;return _=i.call(this)||this,_.setup=function($){var _e;if(!isServer&&((_e=window)!=null&&_e.addEventListener)){var tt=function(){return $()};return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),function(){window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}},_}var s=o.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var $;($=this.cleanup)==null||$.call(this),this.cleanup=void 0}},s.setEventListener=function($){var _e,tt=this;this.setup=$,(_e=this.cleanup)==null||_e.call(this),this.cleanup=$(function(j){typeof j=="boolean"?tt.setFocused(j):tt.onFocus()})},s.setFocused=function($){this.focused=$,$&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function($){$()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},o}(Subscribable),focusManager=new FocusManager,OnlineManager=function(i){_inheritsLoose(o,i);function o(){var _;return _=i.call(this)||this,_.setup=function($){var _e;if(!isServer&&((_e=window)!=null&&_e.addEventListener)){var tt=function(){return $()};return window.addEventListener("online",tt,!1),window.addEventListener("offline",tt,!1),function(){window.removeEventListener("online",tt),window.removeEventListener("offline",tt)}}},_}var s=o.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var $;($=this.cleanup)==null||$.call(this),this.cleanup=void 0}},s.setEventListener=function($){var _e,tt=this;this.setup=$,(_e=this.cleanup)==null||_e.call(this),this.cleanup=$(function(j){typeof j=="boolean"?tt.setOnline(j):tt.onOnline()})},s.setOnline=function($){this.online=$,$&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function($){$()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},o}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(i){return Math.min(1e3*Math.pow(2,i),3e4)}function isCancelable(i){return typeof(i==null?void 0:i.cancel)=="function"}var CancelledError=function i(o){this.revert=o==null?void 0:o.revert,this.silent=o==null?void 0:o.silent};function isCancelledError(i){return i instanceof CancelledError}var Retryer=function i(o){var s=this,_=!1,$,_e,tt,j;this.abort=o.abort,this.cancel=function(ft){return $==null?void 0:$(ft)},this.cancelRetry=function(){_=!0},this.continueRetry=function(){_=!1},this.continue=function(){return _e==null?void 0:_e()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(ft,dt){tt=ft,j=dt});var nt=function(dt){s.isResolved||(s.isResolved=!0,o.onSuccess==null||o.onSuccess(dt),_e==null||_e(),tt(dt))},st=function(dt){s.isResolved||(s.isResolved=!0,o.onError==null||o.onError(dt),_e==null||_e(),j(dt))},ht=function(){return new Promise(function(dt){_e=dt,s.isPaused=!0,o.onPause==null||o.onPause()}).then(function(){_e=void 0,s.isPaused=!1,o.onContinue==null||o.onContinue()})},_t=function ft(){if(!s.isResolved){var dt;try{dt=o.fn()}catch(ut){dt=Promise.reject(ut)}$=function(mt){if(!s.isResolved&&(st(new CancelledError(mt)),s.abort==null||s.abort(),isCancelable(dt)))try{dt.cancel()}catch{}},s.isTransportCancelable=isCancelable(dt),Promise.resolve(dt).then(nt).catch(function(ut){var mt,wt;if(!s.isResolved){var Qt=(mt=o.retry)!=null?mt:3,Dt=(wt=o.retryDelay)!=null?wt:defaultRetryDelay,Et=typeof Dt=="function"?Dt(s.failureCount,ut):Dt,xt=Qt===!0||typeof Qt=="number"&&s.failureCount<Qt||typeof Qt=="function"&&Qt(s.failureCount,ut);if(_||!xt){st(ut);return}s.failureCount++,o.onFail==null||o.onFail(s.failureCount,ut),sleep(Et).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return ht()}).then(function(){_?st(ut):ft()})}})}};_t()},NotifyManager=function(){function i(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var o=i.prototype;return o.batch=function(_){var $;this.transactions++;try{$=_()}finally{this.transactions--,this.transactions||this.flush()}return $},o.schedule=function(_){var $=this;this.transactions?this.queue.push(_):scheduleMicrotask(function(){$.notifyFn(_)})},o.batchCalls=function(_){var $=this;return function(){for(var _e=arguments.length,tt=new Array(_e),j=0;j<_e;j++)tt[j]=arguments[j];$.schedule(function(){_.apply(void 0,tt)})}},o.flush=function(){var _=this,$=this.queue;this.queue=[],$.length&&scheduleMicrotask(function(){_.batchNotifyFn(function(){$.forEach(function(_e){_.notifyFn(_e)})})})},o.setNotifyFunction=function(_){this.notifyFn=_},o.setBatchNotifyFunction=function(_){this.batchNotifyFn=_},i}(),notifyManager=new NotifyManager,logger$1=console;function getLogger(){return logger$1}function setLogger(i){logger$1=i}var Query=function(){function i(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var o=i.prototype;return o.setOptions=function(_){var $;this.options=_extends$2({},this.defaultOptions,_),this.meta=_==null?void 0:_.meta,this.cacheTime=Math.max(this.cacheTime||0,($=this.options.cacheTime)!=null?$:5*60*1e3)},o.setDefaultOptions=function(_){this.defaultOptions=_},o.scheduleGc=function(){var _=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){_.optionalRemove()},this.cacheTime))},o.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},o.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},o.setData=function(_,$){var _e,tt,j=this.state.data,nt=functionalUpdate(_,j);return(_e=(tt=this.options).isDataEqual)!=null&&_e.call(tt,j,nt)?nt=j:this.options.structuralSharing!==!1&&(nt=replaceEqualDeep(j,nt)),this.dispatch({data:nt,type:"success",dataUpdatedAt:$==null?void 0:$.updatedAt}),nt},o.setState=function(_,$){this.dispatch({type:"setState",state:_,setStateOptions:$})},o.cancel=function(_){var $,_e=this.promise;return($=this.retryer)==null||$.cancel(_),_e?_e.then(noop).catch(noop):Promise.resolve()},o.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},o.reset=function(){this.destroy(),this.setState(this.initialState)},o.isActive=function(){return this.observers.some(function(_){return _.options.enabled!==!1})},o.isFetching=function(){return this.state.isFetching},o.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(_){return _.getCurrentResult().isStale})},o.isStaleByTime=function(_){return _===void 0&&(_=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_)},o.onFocus=function(){var _,$=this.observers.find(function(_e){return _e.shouldFetchOnWindowFocus()});$&&$.refetch(),(_=this.retryer)==null||_.continue()},o.onOnline=function(){var _,$=this.observers.find(function(_e){return _e.shouldFetchOnReconnect()});$&&$.refetch(),(_=this.retryer)==null||_.continue()},o.addObserver=function(_){this.observers.indexOf(_)===-1&&(this.observers.push(_),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_}))},o.removeObserver=function(_){this.observers.indexOf(_)!==-1&&(this.observers=this.observers.filter(function($){return $!==_}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:_}))},o.getObserversCount=function(){return this.observers.length},o.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},o.fetch=function(_,$){var _e=this,tt,j,nt;if(this.state.isFetching){if(this.state.dataUpdatedAt&&($!=null&&$.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var st;return(st=this.retryer)==null||st.continueRetry(),this.promise}}if(_&&this.setOptions(_),!this.options.queryFn){var ht=this.observers.find(function(Dt){return Dt.options.queryFn});ht&&this.setOptions(ht.options)}var _t=ensureQueryKeyArray(this.queryKey),ft=getAbortController(),dt={queryKey:_t,pageParam:void 0,meta:this.meta};Object.defineProperty(dt,"signal",{enumerable:!0,get:function(){if(ft)return _e.abortSignalConsumed=!0,ft.signal}});var ut=function(){return _e.options.queryFn?(_e.abortSignalConsumed=!1,_e.options.queryFn(dt)):Promise.reject("Missing queryFn")},mt={fetchOptions:$,options:this.options,queryKey:_t,state:this.state,fetchFn:ut,meta:this.meta};if((tt=this.options.behavior)!=null&&tt.onFetch){var wt;(wt=this.options.behavior)==null||wt.onFetch(mt)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((j=mt.fetchOptions)==null?void 0:j.meta)){var Qt;this.dispatch({type:"fetch",meta:(Qt=mt.fetchOptions)==null?void 0:Qt.meta})}return this.retryer=new Retryer({fn:mt.fetchFn,abort:ft==null||(nt=ft.abort)==null?void 0:nt.bind(ft),onSuccess:function(Et){_e.setData(Et),_e.cache.config.onSuccess==null||_e.cache.config.onSuccess(Et,_e),_e.cacheTime===0&&_e.optionalRemove()},onError:function(Et){isCancelledError(Et)&&Et.silent||_e.dispatch({type:"error",error:Et}),isCancelledError(Et)||(_e.cache.config.onError==null||_e.cache.config.onError(Et,_e),getLogger().error(Et)),_e.cacheTime===0&&_e.optionalRemove()},onFail:function(){_e.dispatch({type:"failed"})},onPause:function(){_e.dispatch({type:"pause"})},onContinue:function(){_e.dispatch({type:"continue"})},retry:mt.options.retry,retryDelay:mt.options.retryDelay}),this.promise=this.retryer.promise,this.promise},o.dispatch=function(_){var $=this;this.state=this.reducer(this.state,_),notifyManager.batch(function(){$.observers.forEach(function(_e){_e.onQueryUpdate(_)}),$.cache.notify({query:$,type:"queryUpdated",action:_})})},o.getDefaultState=function(_){var $=typeof _.initialData=="function"?_.initialData():_.initialData,_e=typeof _.initialData<"u",tt=_e?typeof _.initialDataUpdatedAt=="function"?_.initialDataUpdatedAt():_.initialDataUpdatedAt:0,j=typeof $<"u";return{data:$,dataUpdateCount:0,dataUpdatedAt:j?tt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:j?"success":"idle"}},o.reducer=function(_,$){var _e,tt;switch($.type){case"failed":return _extends$2({},_,{fetchFailureCount:_.fetchFailureCount+1});case"pause":return _extends$2({},_,{isPaused:!0});case"continue":return _extends$2({},_,{isPaused:!1});case"fetch":return _extends$2({},_,{fetchFailureCount:0,fetchMeta:(_e=$.meta)!=null?_e:null,isFetching:!0,isPaused:!1},!_.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends$2({},_,{data:$.data,dataUpdateCount:_.dataUpdateCount+1,dataUpdatedAt:(tt=$.dataUpdatedAt)!=null?tt:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var j=$.error;return isCancelledError(j)&&j.revert&&this.revertState?_extends$2({},this.revertState):_extends$2({},_,{error:j,errorUpdateCount:_.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:_.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends$2({},_,{isInvalidated:!0});case"setState":return _extends$2({},_,$.state);default:return _}},i}(),QueryCache=function(i){_inheritsLoose(o,i);function o(_){var $;return $=i.call(this)||this,$.config=_||{},$.queries=[],$.queriesMap={},$}var s=o.prototype;return s.build=function($,_e,tt){var j,nt=_e.queryKey,st=(j=_e.queryHash)!=null?j:hashQueryKeyByOptions(nt,_e),ht=this.get(st);return ht||(ht=new Query({cache:this,queryKey:nt,queryHash:st,options:$.defaultQueryOptions(_e),state:tt,defaultOptions:$.getQueryDefaults(nt),meta:_e.meta}),this.add(ht)),ht},s.add=function($){this.queriesMap[$.queryHash]||(this.queriesMap[$.queryHash]=$,this.queries.push($),this.notify({type:"queryAdded",query:$}))},s.remove=function($){var _e=this.queriesMap[$.queryHash];_e&&($.destroy(),this.queries=this.queries.filter(function(tt){return tt!==$}),_e===$&&delete this.queriesMap[$.queryHash],this.notify({type:"queryRemoved",query:$}))},s.clear=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(_e){$.remove(_e)})})},s.get=function($){return this.queriesMap[$]},s.getAll=function(){return this.queries},s.find=function($,_e){var tt=parseFilterArgs($,_e),j=tt[0];return typeof j.exact>"u"&&(j.exact=!0),this.queries.find(function(nt){return matchQuery(j,nt)})},s.findAll=function($,_e){var tt=parseFilterArgs($,_e),j=tt[0];return Object.keys(j).length>0?this.queries.filter(function(nt){return matchQuery(j,nt)}):this.queries},s.notify=function($){var _e=this;notifyManager.batch(function(){_e.listeners.forEach(function(tt){tt($)})})},s.onFocus=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(_e){_e.onFocus()})})},s.onOnline=function(){var $=this;notifyManager.batch(function(){$.queries.forEach(function(_e){_e.onOnline()})})},o}(Subscribable),Mutation=function(){function i(s){this.options=_extends$2({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||getDefaultState(),this.meta=s.meta}var o=i.prototype;return o.setState=function(_){this.dispatch({type:"setState",state:_})},o.addObserver=function(_){this.observers.indexOf(_)===-1&&this.observers.push(_)},o.removeObserver=function(_){this.observers=this.observers.filter(function($){return $!==_})},o.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop).catch(noop)):Promise.resolve()},o.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},o.execute=function(){var _=this,$,_e=this.state.status==="loading",tt=Promise.resolve();return _e||(this.dispatch({type:"loading",variables:this.options.variables}),tt=tt.then(function(){_.mutationCache.config.onMutate==null||_.mutationCache.config.onMutate(_.state.variables,_)}).then(function(){return _.options.onMutate==null?void 0:_.options.onMutate(_.state.variables)}).then(function(j){j!==_.state.context&&_.dispatch({type:"loading",context:j,variables:_.state.variables})})),tt.then(function(){return _.executeMutation()}).then(function(j){$=j,_.mutationCache.config.onSuccess==null||_.mutationCache.config.onSuccess($,_.state.variables,_.state.context,_)}).then(function(){return _.options.onSuccess==null?void 0:_.options.onSuccess($,_.state.variables,_.state.context)}).then(function(){return _.options.onSettled==null?void 0:_.options.onSettled($,null,_.state.variables,_.state.context)}).then(function(){return _.dispatch({type:"success",data:$}),$}).catch(function(j){return _.mutationCache.config.onError==null||_.mutationCache.config.onError(j,_.state.variables,_.state.context,_),getLogger().error(j),Promise.resolve().then(function(){return _.options.onError==null?void 0:_.options.onError(j,_.state.variables,_.state.context)}).then(function(){return _.options.onSettled==null?void 0:_.options.onSettled(void 0,j,_.state.variables,_.state.context)}).then(function(){throw _.dispatch({type:"error",error:j}),j})})},o.executeMutation=function(){var _=this,$;return this.retryer=new Retryer({fn:function(){return _.options.mutationFn?_.options.mutationFn(_.state.variables):Promise.reject("No mutationFn found")},onFail:function(){_.dispatch({type:"failed"})},onPause:function(){_.dispatch({type:"pause"})},onContinue:function(){_.dispatch({type:"continue"})},retry:($=this.options.retry)!=null?$:0,retryDelay:this.options.retryDelay}),this.retryer.promise},o.dispatch=function(_){var $=this;this.state=reducer(this.state,_),notifyManager.batch(function(){$.observers.forEach(function(_e){_e.onMutationUpdate(_)}),$.mutationCache.notify($)})},i}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer(i,o){switch(o.type){case"failed":return _extends$2({},i,{failureCount:i.failureCount+1});case"pause":return _extends$2({},i,{isPaused:!0});case"continue":return _extends$2({},i,{isPaused:!1});case"loading":return _extends$2({},i,{context:o.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:o.variables});case"success":return _extends$2({},i,{data:o.data,error:null,status:"success",isPaused:!1});case"error":return _extends$2({},i,{data:void 0,error:o.error,failureCount:i.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends$2({},i,o.state);default:return i}}var MutationCache=function(i){_inheritsLoose(o,i);function o(_){var $;return $=i.call(this)||this,$.config=_||{},$.mutations=[],$.mutationId=0,$}var s=o.prototype;return s.build=function($,_e,tt){var j=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:$.defaultMutationOptions(_e),state:tt,defaultOptions:_e.mutationKey?$.getMutationDefaults(_e.mutationKey):void 0,meta:_e.meta});return this.add(j),j},s.add=function($){this.mutations.push($),this.notify($)},s.remove=function($){this.mutations=this.mutations.filter(function(_e){return _e!==$}),$.cancel(),this.notify($)},s.clear=function(){var $=this;notifyManager.batch(function(){$.mutations.forEach(function(_e){$.remove(_e)})})},s.getAll=function(){return this.mutations},s.find=function($){return typeof $.exact>"u"&&($.exact=!0),this.mutations.find(function(_e){return matchMutation($,_e)})},s.findAll=function($){return this.mutations.filter(function(_e){return matchMutation($,_e)})},s.notify=function($){var _e=this;notifyManager.batch(function(){_e.listeners.forEach(function(tt){tt($)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var $=this.mutations.filter(function(_e){return _e.state.isPaused});return notifyManager.batch(function(){return $.reduce(function(_e,tt){return _e.then(function(){return tt.continue().catch(noop)})},Promise.resolve())})},o}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(o){o.fetchFn=function(){var s,_,$,_e,tt,j,nt=(s=o.fetchOptions)==null||(_=s.meta)==null?void 0:_.refetchPage,st=($=o.fetchOptions)==null||(_e=$.meta)==null?void 0:_e.fetchMore,ht=st==null?void 0:st.pageParam,_t=(st==null?void 0:st.direction)==="forward",ft=(st==null?void 0:st.direction)==="backward",dt=((tt=o.state.data)==null?void 0:tt.pages)||[],ut=((j=o.state.data)==null?void 0:j.pageParams)||[],mt=getAbortController(),wt=mt==null?void 0:mt.signal,Qt=ut,Dt=!1,Et=o.options.queryFn||function(){return Promise.reject("Missing queryFn")},xt=function(Xt,zt,Pt,jt){return Qt=jt?[zt].concat(Qt):[].concat(Qt,[zt]),jt?[Pt].concat(Xt):[].concat(Xt,[Pt])},pt=function(Xt,zt,Pt,jt){if(Dt)return Promise.reject("Cancelled");if(typeof Pt>"u"&&!zt&&Xt.length)return Promise.resolve(Xt);var Zt={queryKey:o.queryKey,signal:wt,pageParam:Pt,meta:o.meta},Ct=Et(Zt),Ft=Promise.resolve(Ct).then(function(tn){return xt(Xt,Pt,tn,jt)});if(isCancelable(Ct)){var Ht=Ft;Ht.cancel=Ct.cancel}return Ft},Vt;if(!dt.length)Vt=pt([]);else if(_t){var nn=typeof ht<"u",on=nn?ht:getNextPageParam(o.options,dt);Vt=pt(dt,nn,on)}else if(ft){var bt=typeof ht<"u",St=bt?ht:getPreviousPageParam(o.options,dt);Vt=pt(dt,bt,St,!0)}else(function(){Qt=[];var Lt=typeof o.options.getNextPageParam>"u",Xt=nt&&dt[0]?nt(dt[0],0,dt):!0;Vt=Xt?pt([],Lt,ut[0]):Promise.resolve(xt([],ut[0],dt[0]));for(var zt=function(Zt){Vt=Vt.then(function(Ct){var Ft=nt&&dt[Zt]?nt(dt[Zt],Zt,dt):!0;if(Ft){var Ht=Lt?ut[Zt]:getNextPageParam(o.options,Ct);return pt(Ct,Lt,Ht)}return Promise.resolve(xt(Ct,ut[Zt],dt[Zt]))})},Pt=1;Pt<dt.length;Pt++)zt(Pt)})();var It=Vt.then(function(Lt){return{pages:Lt,pageParams:Qt}}),Bt=It;return Bt.cancel=function(){Dt=!0,mt==null||mt.abort(),isCancelable(Vt)&&Vt.cancel()},It}}}}function getNextPageParam(i,o){return i.getNextPageParam==null?void 0:i.getNextPageParam(o[o.length-1],o)}function getPreviousPageParam(i,o){return i.getPreviousPageParam==null?void 0:i.getPreviousPageParam(o[0],o)}var QueryClient=function(){function i(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new QueryCache,this.mutationCache=s.mutationCache||new MutationCache,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var o=i.prototype;return o.mount=function(){var _=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(_.mutationCache.onFocus(),_.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(_.mutationCache.onOnline(),_.queryCache.onOnline())})},o.unmount=function(){var _,$;(_=this.unsubscribeFocus)==null||_.call(this),($=this.unsubscribeOnline)==null||$.call(this)},o.isFetching=function(_,$){var _e=parseFilterArgs(_,$),tt=_e[0];return tt.fetching=!0,this.queryCache.findAll(tt).length},o.isMutating=function(_){return this.mutationCache.findAll(_extends$2({},_,{fetching:!0})).length},o.getQueryData=function(_,$){var _e;return(_e=this.queryCache.find(_,$))==null?void 0:_e.state.data},o.getQueriesData=function(_){return this.getQueryCache().findAll(_).map(function($){var _e=$.queryKey,tt=$.state,j=tt.data;return[_e,j]})},o.setQueryData=function(_,$,_e){var tt=parseQueryArgs(_),j=this.defaultQueryOptions(tt);return this.queryCache.build(this,j).setData($,_e)},o.setQueriesData=function(_,$,_e){var tt=this;return notifyManager.batch(function(){return tt.getQueryCache().findAll(_).map(function(j){var nt=j.queryKey;return[nt,tt.setQueryData(nt,$,_e)]})})},o.getQueryState=function(_,$){var _e;return(_e=this.queryCache.find(_,$))==null?void 0:_e.state},o.removeQueries=function(_,$){var _e=parseFilterArgs(_,$),tt=_e[0],j=this.queryCache;notifyManager.batch(function(){j.findAll(tt).forEach(function(nt){j.remove(nt)})})},o.resetQueries=function(_,$,_e){var tt=this,j=parseFilterArgs(_,$,_e),nt=j[0],st=j[1],ht=this.queryCache,_t=_extends$2({},nt,{active:!0});return notifyManager.batch(function(){return ht.findAll(nt).forEach(function(ft){ft.reset()}),tt.refetchQueries(_t,st)})},o.cancelQueries=function(_,$,_e){var tt=this,j=parseFilterArgs(_,$,_e),nt=j[0],st=j[1],ht=st===void 0?{}:st;typeof ht.revert>"u"&&(ht.revert=!0);var _t=notifyManager.batch(function(){return tt.queryCache.findAll(nt).map(function(ft){return ft.cancel(ht)})});return Promise.all(_t).then(noop).catch(noop)},o.invalidateQueries=function(_,$,_e){var tt,j,nt,st=this,ht=parseFilterArgs(_,$,_e),_t=ht[0],ft=ht[1],dt=_extends$2({},_t,{active:(tt=(j=_t.refetchActive)!=null?j:_t.active)!=null?tt:!0,inactive:(nt=_t.refetchInactive)!=null?nt:!1});return notifyManager.batch(function(){return st.queryCache.findAll(_t).forEach(function(ut){ut.invalidate()}),st.refetchQueries(dt,ft)})},o.refetchQueries=function(_,$,_e){var tt=this,j=parseFilterArgs(_,$,_e),nt=j[0],st=j[1],ht=notifyManager.batch(function(){return tt.queryCache.findAll(nt).map(function(ft){return ft.fetch(void 0,_extends$2({},st,{meta:{refetchPage:nt==null?void 0:nt.refetchPage}}))})}),_t=Promise.all(ht).then(noop);return st!=null&&st.throwOnError||(_t=_t.catch(noop)),_t},o.fetchQuery=function(_,$,_e){var tt=parseQueryArgs(_,$,_e),j=this.defaultQueryOptions(tt);typeof j.retry>"u"&&(j.retry=!1);var nt=this.queryCache.build(this,j);return nt.isStaleByTime(j.staleTime)?nt.fetch(j):Promise.resolve(nt.state.data)},o.prefetchQuery=function(_,$,_e){return this.fetchQuery(_,$,_e).then(noop).catch(noop)},o.fetchInfiniteQuery=function(_,$,_e){var tt=parseQueryArgs(_,$,_e);return tt.behavior=infiniteQueryBehavior(),this.fetchQuery(tt)},o.prefetchInfiniteQuery=function(_,$,_e){return this.fetchInfiniteQuery(_,$,_e).then(noop).catch(noop)},o.cancelMutations=function(){var _=this,$=notifyManager.batch(function(){return _.mutationCache.getAll().map(function(_e){return _e.cancel()})});return Promise.all($).then(noop).catch(noop)},o.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},o.executeMutation=function(_){return this.mutationCache.build(this,_).execute()},o.getQueryCache=function(){return this.queryCache},o.getMutationCache=function(){return this.mutationCache},o.getDefaultOptions=function(){return this.defaultOptions},o.setDefaultOptions=function(_){this.defaultOptions=_},o.setQueryDefaults=function(_,$){var _e=this.queryDefaults.find(function(tt){return hashQueryKey(_)===hashQueryKey(tt.queryKey)});_e?_e.defaultOptions=$:this.queryDefaults.push({queryKey:_,defaultOptions:$})},o.getQueryDefaults=function(_){var $;return _?($=this.queryDefaults.find(function(_e){return partialMatchKey(_,_e.queryKey)}))==null?void 0:$.defaultOptions:void 0},o.setMutationDefaults=function(_,$){var _e=this.mutationDefaults.find(function(tt){return hashQueryKey(_)===hashQueryKey(tt.mutationKey)});_e?_e.defaultOptions=$:this.mutationDefaults.push({mutationKey:_,defaultOptions:$})},o.getMutationDefaults=function(_){var $;return _?($=this.mutationDefaults.find(function(_e){return partialMatchKey(_,_e.mutationKey)}))==null?void 0:$.defaultOptions:void 0},o.defaultQueryOptions=function(_){if(_!=null&&_._defaulted)return _;var $=_extends$2({},this.defaultOptions.queries,this.getQueryDefaults(_==null?void 0:_.queryKey),_,{_defaulted:!0});return!$.queryHash&&$.queryKey&&($.queryHash=hashQueryKeyByOptions($.queryKey,$)),$},o.defaultQueryObserverOptions=function(_){return this.defaultQueryOptions(_)},o.defaultMutationOptions=function(_){return _!=null&&_._defaulted?_:_extends$2({},this.defaultOptions.mutations,this.getMutationDefaults(_==null?void 0:_.mutationKey),_,{_defaulted:!0})},o.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},i}(),unstable_batchedUpdates=ReactDOM.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger=console;setLogger(logger);var defaultContext=React$1.createContext(void 0),QueryClientSharingContext=React$1.createContext(!1);function getQueryClientContext(i){return i&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var QueryClientProvider=function i(o){var s=o.client,_=o.contextSharing,$=_===void 0?!1:_,_e=o.children;React$1.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var tt=getQueryClientContext($);return React$1.createElement(QueryClientSharingContext.Provider,{value:$},React$1.createElement(tt.Provider,{value:s},_e))};const index_module={"mapboxgl-control-container":"_mapboxgl-control-container_1csz9_6","mapboxgl-ctrl":"_mapboxgl-ctrl_1csz9_10","mapboxgl-ctrl-bottom-left":"_mapboxgl-ctrl-bottom-left_1csz9_14","mapboxgl-ctrl-bottom-right":"_mapboxgl-ctrl-bottom-right_1csz9_18"},queryClient=new QueryClient;client.createRoot(document.getElementById("root")).render(jsx(FormantProvider,{parseConfiguration:!0,children:jsx(QueryClientProvider,{client:queryClient,children:jsx(React$1.StrictMode,{children:jsx(App,{})})})}));
