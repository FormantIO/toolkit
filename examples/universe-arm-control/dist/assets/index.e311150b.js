var bo=Object.defineProperty,wo=Object.defineProperties;var So=Object.getOwnPropertyDescriptors;var go=Object.getOwnPropertySymbols;var _o=Object.prototype.hasOwnProperty,vo=Object.prototype.propertyIsEnumerable;var yo=(tt,et,nt)=>et in tt?bo(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[et]=nt,Wr=(tt,et)=>{for(var nt in et||(et={}))_o.call(et,nt)&&yo(tt,nt,et[nt]);if(go)for(var nt of go(et))vo.call(et,nt)&&yo(tt,nt,et[nt]);return tt},to=(tt,et)=>wo(tt,So(et));var mo=(tt,et)=>{var nt={};for(var rt in tt)_o.call(tt,rt)&&et.indexOf(rt)<0&&(nt[rt]=tt[rt]);if(tt!=null&&go)for(var rt of go(tt))et.indexOf(rt)<0&&vo.call(tt,rt)&&(nt[rt]=tt[rt]);return nt};var io=(tt,et,nt)=>(yo(tt,typeof et!="symbol"?et+"":et,nt),nt);function _mergeNamespaces(tt,et){return et.forEach(function(nt){nt&&typeof nt!="string"&&!Array.isArray(nt)&&Object.keys(nt).forEach(function(rt){if(rt!=="default"&&!(rt in tt)){var it=Object.getOwnPropertyDescriptor(nt,rt);Object.defineProperty(tt,rt,it.get?it:{enumerable:!0,get:function(){return nt[rt]}})}})}),Object.freeze(Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}))}const p$6=function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))rt(it);new MutationObserver(it=>{for(const ot of it)if(ot.type==="childList")for(const at of ot.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&rt(at)}).observe(document,{childList:!0,subtree:!0});function nt(it){const ot={};return it.integrity&&(ot.integrity=it.integrity),it.referrerpolicy&&(ot.referrerPolicy=it.referrerpolicy),it.crossorigin==="use-credentials"?ot.credentials="include":it.crossorigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function rt(it){if(it.ep)return;it.ep=!0;const ot=nt(it);fetch(it.href,ot)}};p$6();var commonjsGlobal$3=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(tt){if(tt.__esModule)return tt;var et=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(tt).forEach(function(nt){var rt=Object.getOwnPropertyDescriptor(tt,nt);Object.defineProperty(et,nt,rt.get?rt:{enumerable:!0,get:function(){return tt[nt]}})}),et}function commonjsRequire(tt){throw new Error('Could not dynamically require "'+tt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$5(tt){return tt===null||typeof tt!="object"?null:(tt=z$5&&tt[z$5]||tt["@@iterator"],typeof tt=="function"?tt:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$4(tt,et,nt){this.props=tt,this.context=et,this.refs=D$3,this.updater=nt||B$4}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(tt,et){if(typeof tt!="object"&&typeof tt!="function"&&tt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tt,et,"setState")};E$4.prototype.forceUpdate=function(tt){this.updater.enqueueForceUpdate(this,tt,"forceUpdate")};function F$3(){}F$3.prototype=E$4.prototype;function G$4(tt,et,nt){this.props=tt,this.context=et,this.refs=D$3,this.updater=nt||B$4}var H$4=G$4.prototype=new F$3;H$4.constructor=G$4;C$2(H$4,E$4.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(tt,et,nt){var rt,it={},ot=null,at=null;if(et!=null)for(rt in et.ref!==void 0&&(at=et.ref),et.key!==void 0&&(ot=""+et.key),et)J$1.call(et,rt)&&!L$3.hasOwnProperty(rt)&&(it[rt]=et[rt]);var st=arguments.length-2;if(st===1)it.children=nt;else if(1<st){for(var lt=Array(st),ct=0;ct<st;ct++)lt[ct]=arguments[ct+2];it.children=lt}if(tt&&tt.defaultProps)for(rt in st=tt.defaultProps,st)it[rt]===void 0&&(it[rt]=st[rt]);return{$$typeof:l$4,type:tt,key:ot,ref:at,props:it,_owner:K$2.current}}function N$2(tt,et){return{$$typeof:l$4,type:tt.type,key:et,ref:tt.ref,props:tt.props,_owner:tt._owner}}function O$2(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===l$4}function escape$1(tt){var et={"=":"=0",":":"=2"};return"$"+tt.replace(/[=:]/g,function(nt){return et[nt]})}var P$3=/\/+/g;function Q$3(tt,et){return typeof tt=="object"&&tt!==null&&tt.key!=null?escape$1(""+tt.key):et.toString(36)}function R$2(tt,et,nt,rt,it){var ot=typeof tt;(ot==="undefined"||ot==="boolean")&&(tt=null);var at=!1;if(tt===null)at=!0;else switch(ot){case"string":case"number":at=!0;break;case"object":switch(tt.$$typeof){case l$4:case n$4:at=!0}}if(at)return at=tt,it=it(at),tt=rt===""?"."+Q$3(at,0):rt,I$4(it)?(nt="",tt!=null&&(nt=tt.replace(P$3,"$&/")+"/"),R$2(it,et,nt,"",function(ct){return ct})):it!=null&&(O$2(it)&&(it=N$2(it,nt+(!it.key||at&&at.key===it.key?"":(""+it.key).replace(P$3,"$&/")+"/")+tt)),et.push(it)),1;if(at=0,rt=rt===""?".":rt+":",I$4(tt))for(var st=0;st<tt.length;st++){ot=tt[st];var lt=rt+Q$3(ot,st);at+=R$2(ot,et,nt,lt,it)}else if(lt=A$5(tt),typeof lt=="function")for(tt=lt.call(tt),st=0;!(ot=tt.next()).done;)ot=ot.value,lt=rt+Q$3(ot,st++),at+=R$2(ot,et,nt,lt,it);else if(ot==="object")throw et=String(tt),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return at}function S$3(tt,et,nt){if(tt==null)return tt;var rt=[],it=0;return R$2(tt,rt,"","",function(ot){return et.call(nt,ot,it++)}),rt}function T$2(tt){if(tt._status===-1){var et=tt._result;et=et(),et.then(function(nt){(tt._status===0||tt._status===-1)&&(tt._status=1,tt._result=nt)},function(nt){(tt._status===0||tt._status===-1)&&(tt._status=2,tt._result=nt)}),tt._status===-1&&(tt._status=0,tt._result=et)}if(tt._status===1)return tt._result.default;throw tt._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function(tt,et,nt){S$3(tt,function(){et.apply(this,arguments)},nt)},count:function(tt){var et=0;return S$3(tt,function(){et++}),et},toArray:function(tt){return S$3(tt,function(et){return et})||[]},only:function(tt){if(!O$2(tt))throw Error("React.Children.only expected to receive a single React element child.");return tt}};react_production_min.Component=E$4;react_production_min.Fragment=p$5;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(tt,et,nt){if(tt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tt+".");var rt=C$2({},tt.props),it=tt.key,ot=tt.ref,at=tt._owner;if(et!=null){if(et.ref!==void 0&&(ot=et.ref,at=K$2.current),et.key!==void 0&&(it=""+et.key),tt.type&&tt.type.defaultProps)var st=tt.type.defaultProps;for(lt in et)J$1.call(et,lt)&&!L$3.hasOwnProperty(lt)&&(rt[lt]=et[lt]===void 0&&st!==void 0?st[lt]:et[lt])}var lt=arguments.length-2;if(lt===1)rt.children=nt;else if(1<lt){st=Array(lt);for(var ct=0;ct<lt;ct++)st[ct]=arguments[ct+2];rt.children=st}return{$$typeof:l$4,type:tt.type,key:it,ref:ot,props:rt,_owner:at}};react_production_min.createContext=function(tt){return tt={$$typeof:u$2,_currentValue:tt,_currentValue2:tt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tt.Provider={$$typeof:t$3,_context:tt},tt.Consumer=tt};react_production_min.createElement=M$3;react_production_min.createFactory=function(tt){var et=M$3.bind(null,tt);return et.type=tt,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tt){return{$$typeof:v$4,render:tt}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(tt){return{$$typeof:y$3,_payload:{_status:-1,_result:tt},_init:T$2}};react_production_min.memo=function(tt,et){return{$$typeof:x$4,type:tt,compare:et===void 0?null:et}};react_production_min.startTransition=function(tt){var et=V$2.transition;V$2.transition={};try{tt()}finally{V$2.transition=et}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(tt,et){return U$3.current.useCallback(tt,et)};react_production_min.useContext=function(tt){return U$3.current.useContext(tt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tt){return U$3.current.useDeferredValue(tt)};react_production_min.useEffect=function(tt,et){return U$3.current.useEffect(tt,et)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(tt,et,nt){return U$3.current.useImperativeHandle(tt,et,nt)};react_production_min.useInsertionEffect=function(tt,et){return U$3.current.useInsertionEffect(tt,et)};react_production_min.useLayoutEffect=function(tt,et){return U$3.current.useLayoutEffect(tt,et)};react_production_min.useMemo=function(tt,et){return U$3.current.useMemo(tt,et)};react_production_min.useReducer=function(tt,et,nt){return U$3.current.useReducer(tt,et,nt)};react_production_min.useRef=function(tt){return U$3.current.useRef(tt)};react_production_min.useState=function(tt){return U$3.current.useState(tt)};react_production_min.useSyncExternalStore=function(tt,et,nt){return U$3.current.useSyncExternalStore(tt,et,nt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.1.0";react.exports=react_production_min;var React__default$2=react.exports,React$2=_mergeNamespaces({__proto__:null,default:React__default$2},[react.exports]),reactDom$1={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tt){function et(Ut,At){var Mt=Ut.length;Ut.push(At);e:for(;0<Mt;){var jt=Mt-1>>>1,kt=Ut[jt];if(0<it(kt,At))Ut[jt]=At,Ut[Mt]=kt,Mt=jt;else break e}}function nt(Ut){return Ut.length===0?null:Ut[0]}function rt(Ut){if(Ut.length===0)return null;var At=Ut[0],Mt=Ut.pop();if(Mt!==At){Ut[0]=Mt;e:for(var jt=0,kt=Ut.length,Gt=kt>>>1;jt<Gt;){var Ht=2*(jt+1)-1,Jt=Ut[Ht],Vt=Ht+1,Wt=Ut[Vt];if(0>it(Jt,Mt))Vt<kt&&0>it(Wt,Jt)?(Ut[jt]=Wt,Ut[Vt]=Mt,jt=Vt):(Ut[jt]=Jt,Ut[Ht]=Mt,jt=Ht);else if(Vt<kt&&0>it(Wt,Mt))Ut[jt]=Wt,Ut[Vt]=Mt,jt=Vt;else break e}}return At}function it(Ut,At){var Mt=Ut.sortIndex-At.sortIndex;return Mt!==0?Mt:Ut.id-At.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ot=performance;tt.unstable_now=function(){return ot.now()}}else{var at=Date,st=at.now();tt.unstable_now=function(){return at.now()-st}}var lt=[],ct=[],ft=1,ut=null,dt=3,ht=!1,pt=!1,gt=!1,mt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,bt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function St(Ut){for(var At=nt(ct);At!==null;){if(At.callback===null)rt(ct);else if(At.startTime<=Ut)rt(ct),At.sortIndex=At.expirationTime,et(lt,At);else break;At=nt(ct)}}function xt(Ut){if(gt=!1,St(Ut),!pt)if(nt(lt)!==null)pt=!0,Ct(vt);else{var At=nt(ct);At!==null&&Ot(xt,At.startTime-Ut)}}function vt(Ut,At){pt=!1,gt&&(gt=!1,yt(Nt),Nt=-1),ht=!0;var Mt=dt;try{for(St(At),ut=nt(lt);ut!==null&&(!(ut.expirationTime>At)||Ut&&!Rt());){var jt=ut.callback;if(typeof jt=="function"){ut.callback=null,dt=ut.priorityLevel;var kt=jt(ut.expirationTime<=At);At=tt.unstable_now(),typeof kt=="function"?ut.callback=kt:ut===nt(lt)&&rt(lt),St(At)}else rt(lt);ut=nt(lt)}if(ut!==null)var Gt=!0;else{var Ht=nt(ct);Ht!==null&&Ot(xt,Ht.startTime-At),Gt=!1}return Gt}finally{ut=null,dt=Mt,ht=!1}}var $t=!1,zt=null,Nt=-1,wt=5,Et=-1;function Rt(){return!(tt.unstable_now()-Et<wt)}function Tt(){if(zt!==null){var Ut=tt.unstable_now();Et=Ut;var At=!0;try{At=zt(!0,Ut)}finally{At?It():($t=!1,zt=null)}}else $t=!1}var It;if(typeof bt=="function")It=function(){bt(Tt)};else if(typeof MessageChannel!="undefined"){var Pt=new MessageChannel,Dt=Pt.port2;Pt.port1.onmessage=Tt,It=function(){Dt.postMessage(null)}}else It=function(){mt(Tt,0)};function Ct(Ut){zt=Ut,$t||($t=!0,It())}function Ot(Ut,At){Nt=mt(function(){Ut(tt.unstable_now())},At)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Ut){Ut.callback=null},tt.unstable_continueExecution=function(){pt||ht||(pt=!0,Ct(vt))},tt.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<Ut?Math.floor(1e3/Ut):5},tt.unstable_getCurrentPriorityLevel=function(){return dt},tt.unstable_getFirstCallbackNode=function(){return nt(lt)},tt.unstable_next=function(Ut){switch(dt){case 1:case 2:case 3:var At=3;break;default:At=dt}var Mt=dt;dt=At;try{return Ut()}finally{dt=Mt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Ut,At){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Mt=dt;dt=Ut;try{return At()}finally{dt=Mt}},tt.unstable_scheduleCallback=function(Ut,At,Mt){var jt=tt.unstable_now();switch(typeof Mt=="object"&&Mt!==null?(Mt=Mt.delay,Mt=typeof Mt=="number"&&0<Mt?jt+Mt:jt):Mt=jt,Ut){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=Mt+kt,Ut={id:ft++,callback:At,priorityLevel:Ut,startTime:Mt,expirationTime:kt,sortIndex:-1},Mt>jt?(Ut.sortIndex=Mt,et(ct,Ut),nt(lt)===null&&Ut===nt(ct)&&(gt?(yt(Nt),Nt=-1):gt=!0,Ot(xt,Mt-jt))):(Ut.sortIndex=kt,et(lt,Ut),pt||ht||(pt=!0,Ct(vt))),Ut},tt.unstable_shouldYield=Rt,tt.unstable_wrapCallback=function(Ut){var At=dt;return function(){var Mt=dt;dt=At;try{return Ut.apply(this,arguments)}finally{dt=Mt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ba=scheduler.exports;function p$4(tt){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+tt,nt=1;nt<arguments.length;nt++)et+="&args[]="+encodeURIComponent(arguments[nt]);return"Minified React error #"+tt+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tt,et){ha(tt,et),ha(tt+"Capture",et)}function ha(tt,et){for(ea[tt]=et,tt=0;tt<et.length;tt++)da.add(et[tt])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function na(tt){return ja.call(ma,tt)?!0:ja.call(la,tt)?!1:ka.test(tt)?ma[tt]=!0:(la[tt]=!0,!1)}function oa(tt,et,nt,rt){if(nt!==null&&nt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return rt?!1:nt!==null?!nt.acceptsBooleans:(tt=tt.toLowerCase().slice(0,5),tt!=="data-"&&tt!=="aria-");default:return!1}}function pa(tt,et,nt,rt){if(et===null||typeof et=="undefined"||oa(tt,et,nt,rt))return!0;if(rt)return!1;if(nt!==null)switch(nt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function t$2(tt,et,nt,rt,it,ot,at){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=rt,this.attributeNamespace=it,this.mustUseProperty=nt,this.propertyName=tt,this.type=et,this.sanitizeURL=ot,this.removeEmptyString=at}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tt){z$4[tt]=new t$2(tt,0,!1,tt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tt){var et=tt[0];z$4[et]=new t$2(et,1,!1,tt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tt){z$4[tt]=new t$2(tt,2,!1,tt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tt){z$4[tt]=new t$2(tt,2,!1,tt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tt){z$4[tt]=new t$2(tt,3,!1,tt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tt){z$4[tt]=new t$2(tt,3,!0,tt,null,!1,!1)});["capture","download"].forEach(function(tt){z$4[tt]=new t$2(tt,4,!1,tt,null,!1,!1)});["cols","rows","size","span"].forEach(function(tt){z$4[tt]=new t$2(tt,6,!1,tt,null,!1,!1)});["rowSpan","start"].forEach(function(tt){z$4[tt]=new t$2(tt,5,!1,tt.toLowerCase(),null,!1,!1)});var qa=/[\-:]([a-z])/g;function ra(tt){return tt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tt){var et=tt.replace(qa,ra);z$4[et]=new t$2(et,1,!1,tt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tt){var et=tt.replace(qa,ra);z$4[et]=new t$2(et,1,!1,tt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tt){var et=tt.replace(qa,ra);z$4[et]=new t$2(et,1,!1,tt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tt){z$4[tt]=new t$2(tt,1,!1,tt.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new t$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tt){z$4[tt]=new t$2(tt,1,!1,tt.toLowerCase(),null,!0,!0)});function sa(tt,et,nt,rt){var it=z$4.hasOwnProperty(et)?z$4[et]:null;(it!==null?it.type!==0:rt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(pa(et,nt,it,rt)&&(nt=null),rt||it===null?na(et)&&(nt===null?tt.removeAttribute(et):tt.setAttribute(et,""+nt)):it.mustUseProperty?tt[it.propertyName]=nt===null?it.type===3?!1:"":nt:(et=it.attributeName,rt=it.attributeNamespace,nt===null?tt.removeAttribute(et):(it=it.type,nt=it===3||it===4&&nt===!0?"":""+nt,rt?tt.setAttributeNS(rt,et,nt):tt.setAttribute(et,nt))))}var ta=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua$2=Symbol.for("react.element"),va=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),xa=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),Aa=Symbol.for("react.provider"),Ba=Symbol.for("react.context"),Ca=Symbol.for("react.forward_ref"),Da=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),Fa=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),Ha=Symbol.for("react.offscreen"),Ia=Symbol.iterator;function Ja(tt){return tt===null||typeof tt!="object"?null:(tt=Ia&&tt[Ia]||tt["@@iterator"],typeof tt=="function"?tt:null)}var A$4=Object.assign,Ka;function La(tt){if(Ka===void 0)try{throw Error()}catch(nt){var et=nt.stack.trim().match(/\n( *(at )?)/);Ka=et&&et[1]||""}return`
`+Ka+tt}var Ma=!1;function Na(tt,et){if(!tt||Ma)return"";Ma=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ct){var rt=ct}Reflect.construct(tt,[],et)}else{try{et.call()}catch(ct){rt=ct}tt.call(et.prototype)}else{try{throw Error()}catch(ct){rt=ct}tt()}}catch(ct){if(ct&&rt&&typeof ct.stack=="string"){for(var it=ct.stack.split(`
`),ot=rt.stack.split(`
`),at=it.length-1,st=ot.length-1;1<=at&&0<=st&&it[at]!==ot[st];)st--;for(;1<=at&&0<=st;at--,st--)if(it[at]!==ot[st]){if(at!==1||st!==1)do if(at--,st--,0>st||it[at]!==ot[st]){var lt=`
`+it[at].replace(" at new "," at ");return tt.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",tt.displayName)),lt}while(1<=at&&0<=st);break}}}finally{Ma=!1,Error.prepareStackTrace=nt}return(tt=tt?tt.displayName||tt.name:"")?La(tt):""}function Oa(tt){switch(tt.tag){case 5:return La(tt.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return tt=Na(tt.type,!1),tt;case 11:return tt=Na(tt.type.render,!1),tt;case 1:return tt=Na(tt.type,!0),tt;default:return""}}function Pa(tt){if(tt==null)return null;if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt;switch(tt){case wa:return"Fragment";case va:return"Portal";case za:return"Profiler";case xa:return"StrictMode";case Da:return"Suspense";case Ea:return"SuspenseList"}if(typeof tt=="object")switch(tt.$$typeof){case Ba:return(tt.displayName||"Context")+".Consumer";case Aa:return(tt._context.displayName||"Context")+".Provider";case Ca:var et=tt.render;return tt=tt.displayName,tt||(tt=et.displayName||et.name||"",tt=tt!==""?"ForwardRef("+tt+")":"ForwardRef"),tt;case Fa:return et=tt.displayName||null,et!==null?et:Pa(tt.type)||"Memo";case Ga:et=tt._payload,tt=tt._init;try{return Pa(tt(et))}catch{}}return null}function Qa(tt){var et=tt.type;switch(tt.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tt=et.render,tt=tt.displayName||tt.name||"",et.displayName||(tt!==""?"ForwardRef("+tt+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa(et);case 8:return et===xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Ra(tt){switch(typeof tt){case"boolean":case"number":case"string":case"undefined":return tt;case"object":return tt;default:return""}}function Sa(tt){var et=tt.type;return(tt=tt.nodeName)&&tt.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ta(tt){var et=Sa(tt)?"checked":"value",nt=Object.getOwnPropertyDescriptor(tt.constructor.prototype,et),rt=""+tt[et];if(!tt.hasOwnProperty(et)&&typeof nt!="undefined"&&typeof nt.get=="function"&&typeof nt.set=="function"){var it=nt.get,ot=nt.set;return Object.defineProperty(tt,et,{configurable:!0,get:function(){return it.call(this)},set:function(at){rt=""+at,ot.call(this,at)}}),Object.defineProperty(tt,et,{enumerable:nt.enumerable}),{getValue:function(){return rt},setValue:function(at){rt=""+at},stopTracking:function(){tt._valueTracker=null,delete tt[et]}}}}function Ua(tt){tt._valueTracker||(tt._valueTracker=Ta(tt))}function Va(tt){if(!tt)return!1;var et=tt._valueTracker;if(!et)return!0;var nt=et.getValue(),rt="";return tt&&(rt=Sa(tt)?tt.checked?"true":"false":tt.value),tt=rt,tt!==nt?(et.setValue(tt),!0):!1}function Wa(tt){if(tt=tt||(typeof document!="undefined"?document:void 0),typeof tt=="undefined")return null;try{return tt.activeElement||tt.body}catch{return tt.body}}function Xa(tt,et){var nt=et.checked;return A$4({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:nt!=null?nt:tt._wrapperState.initialChecked})}function Ya(tt,et){var nt=et.defaultValue==null?"":et.defaultValue,rt=et.checked!=null?et.checked:et.defaultChecked;nt=Ra(et.value!=null?et.value:nt),tt._wrapperState={initialChecked:rt,initialValue:nt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function Za(tt,et){et=et.checked,et!=null&&sa(tt,"checked",et,!1)}function $a(tt,et){Za(tt,et);var nt=Ra(et.value),rt=et.type;if(nt!=null)rt==="number"?(nt===0&&tt.value===""||tt.value!=nt)&&(tt.value=""+nt):tt.value!==""+nt&&(tt.value=""+nt);else if(rt==="submit"||rt==="reset"){tt.removeAttribute("value");return}et.hasOwnProperty("value")?bb(tt,et.type,nt):et.hasOwnProperty("defaultValue")&&bb(tt,et.type,Ra(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(tt.defaultChecked=!!et.defaultChecked)}function cb(tt,et,nt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!(rt!=="submit"&&rt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+tt._wrapperState.initialValue,nt||et===tt.value||(tt.value=et),tt.defaultValue=et}nt=tt.name,nt!==""&&(tt.name=""),tt.defaultChecked=!!tt._wrapperState.initialChecked,nt!==""&&(tt.name=nt)}function bb(tt,et,nt){(et!=="number"||Wa(tt.ownerDocument)!==tt)&&(nt==null?tt.defaultValue=""+tt._wrapperState.initialValue:tt.defaultValue!==""+nt&&(tt.defaultValue=""+nt))}var db=Array.isArray;function eb(tt,et,nt,rt){if(tt=tt.options,et){et={};for(var it=0;it<nt.length;it++)et["$"+nt[it]]=!0;for(nt=0;nt<tt.length;nt++)it=et.hasOwnProperty("$"+tt[nt].value),tt[nt].selected!==it&&(tt[nt].selected=it),it&&rt&&(tt[nt].defaultSelected=!0)}else{for(nt=""+Ra(nt),et=null,it=0;it<tt.length;it++){if(tt[it].value===nt){tt[it].selected=!0,rt&&(tt[it].defaultSelected=!0);return}et!==null||tt[it].disabled||(et=tt[it])}et!==null&&(et.selected=!0)}}function fb(tt,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$4({},et,{value:void 0,defaultValue:void 0,children:""+tt._wrapperState.initialValue})}function gb(tt,et){var nt=et.value;if(nt==null){if(nt=et.children,et=et.defaultValue,nt!=null){if(et!=null)throw Error(p$4(92));if(db(nt)){if(1<nt.length)throw Error(p$4(93));nt=nt[0]}et=nt}et==null&&(et=""),nt=et}tt._wrapperState={initialValue:Ra(nt)}}function hb(tt,et){var nt=Ra(et.value),rt=Ra(et.defaultValue);nt!=null&&(nt=""+nt,nt!==tt.value&&(tt.value=nt),et.defaultValue==null&&tt.defaultValue!==nt&&(tt.defaultValue=nt)),rt!=null&&(tt.defaultValue=""+rt)}function ib(tt){var et=tt.textContent;et===tt._wrapperState.initialValue&&et!==""&&et!==null&&(tt.value=et)}function jb(tt){switch(tt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kb(tt,et){return tt==null||tt==="http://www.w3.org/1999/xhtml"?jb(et):tt==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":tt}var lb,mb=function(tt){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(et,nt,rt,it){MSApp.execUnsafeLocalFunction(function(){return tt(et,nt,rt,it)})}:tt}(function(tt,et){if(tt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tt)tt.innerHTML=et;else{for(lb=lb||document.createElement("div"),lb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=lb.firstChild;tt.firstChild;)tt.removeChild(tt.firstChild);for(;et.firstChild;)tt.appendChild(et.firstChild)}});function nb(tt,et){if(et){var nt=tt.firstChild;if(nt&&nt===tt.lastChild&&nt.nodeType===3){nt.nodeValue=et;return}}tt.textContent=et}var ob={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb=["Webkit","ms","Moz","O"];Object.keys(ob).forEach(function(tt){pb.forEach(function(et){et=et+tt.charAt(0).toUpperCase()+tt.substring(1),ob[et]=ob[tt]})});function qb(tt,et,nt){return et==null||typeof et=="boolean"||et===""?"":nt||typeof et!="number"||et===0||ob.hasOwnProperty(tt)&&ob[tt]?(""+et).trim():et+"px"}function rb(tt,et){tt=tt.style;for(var nt in et)if(et.hasOwnProperty(nt)){var rt=nt.indexOf("--")===0,it=qb(nt,et[nt],rt);nt==="float"&&(nt="cssFloat"),rt?tt.setProperty(nt,it):tt[nt]=it}}var sb=A$4({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tb(tt,et){if(et){if(sb[tt]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$4(137,tt));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$4(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$4(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$4(62))}}function ub(tt,et){if(tt.indexOf("-")===-1)return typeof et.is=="string";switch(tt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vb=null;function wb(tt){return tt=tt.target||tt.srcElement||window,tt.correspondingUseElement&&(tt=tt.correspondingUseElement),tt.nodeType===3?tt.parentNode:tt}var xb=null,yb=null,zb=null;function Ab(tt){if(tt=Bb(tt)){if(typeof xb!="function")throw Error(p$4(280));var et=tt.stateNode;et&&(et=Cb(et),xb(tt.stateNode,tt.type,et))}}function Db(tt){yb?zb?zb.push(tt):zb=[tt]:yb=tt}function Eb(){if(yb){var tt=yb,et=zb;if(zb=yb=null,Ab(tt),et)for(tt=0;tt<et.length;tt++)Ab(et[tt])}}function Fb(tt,et){return tt(et)}function Gb(){}var Hb=!1;function Ib(tt,et,nt){if(Hb)return tt(et,nt);Hb=!0;try{return Fb(tt,et,nt)}finally{Hb=!1,(yb!==null||zb!==null)&&(Gb(),Eb())}}function Jb(tt,et){var nt=tt.stateNode;if(nt===null)return null;var rt=Cb(nt);if(rt===null)return null;nt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(tt=tt.type,rt=!(tt==="button"||tt==="input"||tt==="select"||tt==="textarea")),tt=!rt;break e;default:tt=!1}if(tt)return null;if(nt&&typeof nt!="function")throw Error(p$4(231,et,typeof nt));return nt}var Kb=!1;if(ia)try{var Lb={};Object.defineProperty(Lb,"passive",{get:function(){Kb=!0}}),window.addEventListener("test",Lb,Lb),window.removeEventListener("test",Lb,Lb)}catch{Kb=!1}function Mb(tt,et,nt,rt,it,ot,at,st,lt){var ct=Array.prototype.slice.call(arguments,3);try{et.apply(nt,ct)}catch(ft){this.onError(ft)}}var Nb=!1,Ob=null,Pb=!1,Qb=null,Rb={onError:function(tt){Nb=!0,Ob=tt}};function Sb(tt,et,nt,rt,it,ot,at,st,lt){Nb=!1,Ob=null,Mb.apply(Rb,arguments)}function Tb(tt,et,nt,rt,it,ot,at,st,lt){if(Sb.apply(this,arguments),Nb){if(Nb){var ct=Ob;Nb=!1,Ob=null}else throw Error(p$4(198));Pb||(Pb=!0,Qb=ct)}}function Ub(tt){var et=tt,nt=tt;if(tt.alternate)for(;et.return;)et=et.return;else{tt=et;do et=tt,(et.flags&4098)!==0&&(nt=et.return),tt=et.return;while(tt)}return et.tag===3?nt:null}function Vb(tt){if(tt.tag===13){var et=tt.memoizedState;if(et===null&&(tt=tt.alternate,tt!==null&&(et=tt.memoizedState)),et!==null)return et.dehydrated}return null}function Wb(tt){if(Ub(tt)!==tt)throw Error(p$4(188))}function Xb(tt){var et=tt.alternate;if(!et){if(et=Ub(tt),et===null)throw Error(p$4(188));return et!==tt?null:tt}for(var nt=tt,rt=et;;){var it=nt.return;if(it===null)break;var ot=it.alternate;if(ot===null){if(rt=it.return,rt!==null){nt=rt;continue}break}if(it.child===ot.child){for(ot=it.child;ot;){if(ot===nt)return Wb(it),tt;if(ot===rt)return Wb(it),et;ot=ot.sibling}throw Error(p$4(188))}if(nt.return!==rt.return)nt=it,rt=ot;else{for(var at=!1,st=it.child;st;){if(st===nt){at=!0,nt=it,rt=ot;break}if(st===rt){at=!0,rt=it,nt=ot;break}st=st.sibling}if(!at){for(st=ot.child;st;){if(st===nt){at=!0,nt=ot,rt=it;break}if(st===rt){at=!0,rt=ot,nt=it;break}st=st.sibling}if(!at)throw Error(p$4(189))}}if(nt.alternate!==rt)throw Error(p$4(190))}if(nt.tag!==3)throw Error(p$4(188));return nt.stateNode.current===nt?tt:et}function Yb(tt){return tt=Xb(tt),tt!==null?Zb(tt):null}function Zb(tt){if(tt.tag===5||tt.tag===6)return tt;for(tt=tt.child;tt!==null;){var et=Zb(tt);if(et!==null)return et;tt=tt.sibling}return null}var $b=ba.unstable_scheduleCallback,ac=ba.unstable_cancelCallback,bc=ba.unstable_shouldYield,cc=ba.unstable_requestPaint,B$3=ba.unstable_now,dc=ba.unstable_getCurrentPriorityLevel,ec=ba.unstable_ImmediatePriority,fc=ba.unstable_UserBlockingPriority,gc=ba.unstable_NormalPriority,hc=ba.unstable_LowPriority,ic=ba.unstable_IdlePriority,jc=null,kc=null;function lc(tt){if(kc&&typeof kc.onCommitFiberRoot=="function")try{kc.onCommitFiberRoot(jc,tt,void 0,(tt.current.flags&128)===128)}catch{}}var nc=Math.clz32?Math.clz32:mc,oc=Math.log,pc=Math.LN2;function mc(tt){return tt>>>=0,tt===0?32:31-(oc(tt)/pc|0)|0}var qc=64,rc=4194304;function sc(tt){switch(tt&-tt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tt}}function tc(tt,et){var nt=tt.pendingLanes;if(nt===0)return 0;var rt=0,it=tt.suspendedLanes,ot=tt.pingedLanes,at=nt&268435455;if(at!==0){var st=at&~it;st!==0?rt=sc(st):(ot&=at,ot!==0&&(rt=sc(ot)))}else at=nt&~it,at!==0?rt=sc(at):ot!==0&&(rt=sc(ot));if(rt===0)return 0;if(et!==0&&et!==rt&&(et&it)===0&&(it=rt&-rt,ot=et&-et,it>=ot||it===16&&(ot&4194240)!==0))return et;if((rt&4)!==0&&(rt|=nt&16),et=tt.entangledLanes,et!==0)for(tt=tt.entanglements,et&=rt;0<et;)nt=31-nc(et),it=1<<nt,rt|=tt[nt],et&=~it;return rt}function uc(tt,et){switch(tt){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(tt,et){for(var nt=tt.suspendedLanes,rt=tt.pingedLanes,it=tt.expirationTimes,ot=tt.pendingLanes;0<ot;){var at=31-nc(ot),st=1<<at,lt=it[at];lt===-1?((st&nt)===0||(st&rt)!==0)&&(it[at]=uc(st,et)):lt<=et&&(tt.expiredLanes|=st),ot&=~st}}function wc(tt){return tt=tt.pendingLanes&-1073741825,tt!==0?tt:tt&1073741824?1073741824:0}function xc(){var tt=qc;return qc<<=1,(qc&4194240)===0&&(qc=64),tt}function yc(tt){for(var et=[],nt=0;31>nt;nt++)et.push(tt);return et}function zc(tt,et,nt){tt.pendingLanes|=et,et!==536870912&&(tt.suspendedLanes=0,tt.pingedLanes=0),tt=tt.eventTimes,et=31-nc(et),tt[et]=nt}function Ac(tt,et){var nt=tt.pendingLanes&~et;tt.pendingLanes=et,tt.suspendedLanes=0,tt.pingedLanes=0,tt.expiredLanes&=et,tt.mutableReadLanes&=et,tt.entangledLanes&=et,et=tt.entanglements;var rt=tt.eventTimes;for(tt=tt.expirationTimes;0<nt;){var it=31-nc(nt),ot=1<<it;et[it]=0,rt[it]=-1,tt[it]=-1,nt&=~ot}}function Bc(tt,et){var nt=tt.entangledLanes|=et;for(tt=tt.entanglements;nt;){var rt=31-nc(nt),it=1<<rt;it&et|tt[rt]&et&&(tt[rt]|=et),nt&=~it}}var C$1=0;function Cc(tt){return tt&=-tt,1<tt?4<tt?(tt&268435455)!==0?16:536870912:4:1}var Dc,Ec,Fc,Gc,Hc,Ic=!1,Jc=[],Kc=null,Lc=null,Mc=null,Nc=new Map,Oc=new Map,Pc=[],Qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(tt,et){switch(tt){case"focusin":case"focusout":Kc=null;break;case"dragenter":case"dragleave":Lc=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":Nc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(et.pointerId)}}function Sc(tt,et,nt,rt,it,ot){return tt===null||tt.nativeEvent!==ot?(tt={blockedOn:et,domEventName:nt,eventSystemFlags:rt,nativeEvent:ot,targetContainers:[it]},et!==null&&(et=Bb(et),et!==null&&Ec(et)),tt):(tt.eventSystemFlags|=rt,et=tt.targetContainers,it!==null&&et.indexOf(it)===-1&&et.push(it),tt)}function Tc(tt,et,nt,rt,it){switch(et){case"focusin":return Kc=Sc(Kc,tt,et,nt,rt,it),!0;case"dragenter":return Lc=Sc(Lc,tt,et,nt,rt,it),!0;case"mouseover":return Mc=Sc(Mc,tt,et,nt,rt,it),!0;case"pointerover":var ot=it.pointerId;return Nc.set(ot,Sc(Nc.get(ot)||null,tt,et,nt,rt,it)),!0;case"gotpointercapture":return ot=it.pointerId,Oc.set(ot,Sc(Oc.get(ot)||null,tt,et,nt,rt,it)),!0}return!1}function Uc(tt){var et=Vc(tt.target);if(et!==null){var nt=Ub(et);if(nt!==null){if(et=nt.tag,et===13){if(et=Vb(nt),et!==null){tt.blockedOn=et,Hc(tt.priority,function(){Fc(nt)});return}}else if(et===3&&nt.stateNode.current.memoizedState.isDehydrated){tt.blockedOn=nt.tag===3?nt.stateNode.containerInfo:null;return}}}tt.blockedOn=null}function Wc(tt){if(tt.blockedOn!==null)return!1;for(var et=tt.targetContainers;0<et.length;){var nt=Xc(tt.domEventName,tt.eventSystemFlags,et[0],tt.nativeEvent);if(nt===null){nt=tt.nativeEvent;var rt=new nt.constructor(nt.type,nt);vb=rt,nt.target.dispatchEvent(rt),vb=null}else return et=Bb(nt),et!==null&&Ec(et),tt.blockedOn=nt,!1;et.shift()}return!0}function Yc(tt,et,nt){Wc(tt)&&nt.delete(et)}function Zc(){Ic=!1,Kc!==null&&Wc(Kc)&&(Kc=null),Lc!==null&&Wc(Lc)&&(Lc=null),Mc!==null&&Wc(Mc)&&(Mc=null),Nc.forEach(Yc),Oc.forEach(Yc)}function $c(tt,et){tt.blockedOn===et&&(tt.blockedOn=null,Ic||(Ic=!0,ba.unstable_scheduleCallback(ba.unstable_NormalPriority,Zc)))}function ad(tt){function et(it){return $c(it,tt)}if(0<Jc.length){$c(Jc[0],tt);for(var nt=1;nt<Jc.length;nt++){var rt=Jc[nt];rt.blockedOn===tt&&(rt.blockedOn=null)}}for(Kc!==null&&$c(Kc,tt),Lc!==null&&$c(Lc,tt),Mc!==null&&$c(Mc,tt),Nc.forEach(et),Oc.forEach(et),nt=0;nt<Pc.length;nt++)rt=Pc[nt],rt.blockedOn===tt&&(rt.blockedOn=null);for(;0<Pc.length&&(nt=Pc[0],nt.blockedOn===null);)Uc(nt),nt.blockedOn===null&&Pc.shift()}var bd=ta.ReactCurrentBatchConfig,cd=!0;function dd(tt,et,nt,rt){var it=C$1,ot=bd.transition;bd.transition=null;try{C$1=1,ed(tt,et,nt,rt)}finally{C$1=it,bd.transition=ot}}function fd(tt,et,nt,rt){var it=C$1,ot=bd.transition;bd.transition=null;try{C$1=4,ed(tt,et,nt,rt)}finally{C$1=it,bd.transition=ot}}function ed(tt,et,nt,rt){if(cd){var it=Xc(tt,et,nt,rt);if(it===null)gd(tt,et,rt,hd,nt),Rc(tt,rt);else if(Tc(it,tt,et,nt,rt))rt.stopPropagation();else if(Rc(tt,rt),et&4&&-1<Qc.indexOf(tt)){for(;it!==null;){var ot=Bb(it);if(ot!==null&&Dc(ot),ot=Xc(tt,et,nt,rt),ot===null&&gd(tt,et,rt,hd,nt),ot===it)break;it=ot}it!==null&&rt.stopPropagation()}else gd(tt,et,rt,null,nt)}}var hd=null;function Xc(tt,et,nt,rt){if(hd=null,tt=wb(rt),tt=Vc(tt),tt!==null)if(et=Ub(tt),et===null)tt=null;else if(nt=et.tag,nt===13){if(tt=Vb(et),tt!==null)return tt;tt=null}else if(nt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;tt=null}else et!==tt&&(tt=null);return hd=tt,null}function id(tt){switch(tt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dc()){case ec:return 1;case fc:return 4;case gc:case hc:return 16;case ic:return 536870912;default:return 16}default:return 16}}var jd=null,kd=null,ld=null;function md(){if(ld)return ld;var tt,et=kd,nt=et.length,rt,it="value"in jd?jd.value:jd.textContent,ot=it.length;for(tt=0;tt<nt&&et[tt]===it[tt];tt++);var at=nt-tt;for(rt=1;rt<=at&&et[nt-rt]===it[ot-rt];rt++);return ld=it.slice(tt,1<rt?1-rt:void 0)}function nd(tt){var et=tt.keyCode;return"charCode"in tt?(tt=tt.charCode,tt===0&&et===13&&(tt=13)):tt=et,tt===10&&(tt=13),32<=tt||tt===13?tt:0}function od(){return!0}function pd(){return!1}function qd(tt){function et(nt,rt,it,ot,at){this._reactName=nt,this._targetInst=it,this.type=rt,this.nativeEvent=ot,this.target=at,this.currentTarget=null;for(var st in tt)tt.hasOwnProperty(st)&&(nt=tt[st],this[st]=nt?nt(ot):ot[st]);return this.isDefaultPrevented=(ot.defaultPrevented!=null?ot.defaultPrevented:ot.returnValue===!1)?od:pd,this.isPropagationStopped=pd,this}return A$4(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var nt=this.nativeEvent;nt&&(nt.preventDefault?nt.preventDefault():typeof nt.returnValue!="unknown"&&(nt.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var nt=this.nativeEvent;nt&&(nt.stopPropagation?nt.stopPropagation():typeof nt.cancelBubble!="unknown"&&(nt.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),et}var rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tt){return tt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=qd(rd),td=A$4({},rd,{view:0,detail:0}),ud=qd(td),vd,wd,xd,zd=A$4({},td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(tt){return tt.relatedTarget===void 0?tt.fromElement===tt.srcElement?tt.toElement:tt.fromElement:tt.relatedTarget},movementX:function(tt){return"movementX"in tt?tt.movementX:(tt!==xd&&(xd&&tt.type==="mousemove"?(vd=tt.screenX-xd.screenX,wd=tt.screenY-xd.screenY):wd=vd=0,xd=tt),vd)},movementY:function(tt){return"movementY"in tt?tt.movementY:wd}}),Ad=qd(zd),Bd=A$4({},zd,{dataTransfer:0}),Cd=qd(Bd),Dd=A$4({},td,{relatedTarget:0}),Ed=qd(Dd),Fd=A$4({},rd,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd=qd(Fd),Hd=A$4({},rd,{clipboardData:function(tt){return"clipboardData"in tt?tt.clipboardData:window.clipboardData}}),Id=qd(Hd),Jd=A$4({},rd,{data:0}),Kd=qd(Jd),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Od(tt){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(tt):(tt=Nd[tt])?!!et[tt]:!1}function yd(){return Od}var Pd=A$4({},td,{key:function(tt){if(tt.key){var et=Ld[tt.key]||tt.key;if(et!=="Unidentified")return et}return tt.type==="keypress"?(tt=nd(tt),tt===13?"Enter":String.fromCharCode(tt)):tt.type==="keydown"||tt.type==="keyup"?Md[tt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(tt){return tt.type==="keypress"?nd(tt):0},keyCode:function(tt){return tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0},which:function(tt){return tt.type==="keypress"?nd(tt):tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0}}),Qd=qd(Pd),Rd=A$4({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=qd(Rd),Td=A$4({},td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),Ud=qd(Td),Vd=A$4({},rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wd=qd(Vd),Xd=A$4({},zd,{deltaX:function(tt){return"deltaX"in tt?tt.deltaX:"wheelDeltaX"in tt?-tt.wheelDeltaX:0},deltaY:function(tt){return"deltaY"in tt?tt.deltaY:"wheelDeltaY"in tt?-tt.wheelDeltaY:"wheelDelta"in tt?-tt.wheelDelta:0},deltaZ:0,deltaMode:0}),Yd=qd(Xd),Zd=[9,13,27,32],$d=ia&&"CompositionEvent"in window,ae$1=null;ia&&"documentMode"in document&&(ae$1=document.documentMode);var be$1=ia&&"TextEvent"in window&&!ae$1,ce$1=ia&&(!$d||ae$1&&8<ae$1&&11>=ae$1),de$1=String.fromCharCode(32),ee$1=!1;function fe$1(tt,et){switch(tt){case"keyup":return Zd.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge$1(tt){return tt=tt.detail,typeof tt=="object"&&"data"in tt?tt.data:null}var he$1=!1;function ie$1(tt,et){switch(tt){case"compositionend":return ge$1(et);case"keypress":return et.which!==32?null:(ee$1=!0,de$1);case"textInput":return tt=et.data,tt===de$1&&ee$1?null:tt;default:return null}}function je$1(tt,et){if(he$1)return tt==="compositionend"||!$d&&fe$1(tt,et)?(tt=md(),ld=kd=jd=null,he$1=!1,tt):null;switch(tt){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return ce$1&&et.locale!=="ko"?null:et.data;default:return null}}var ke$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function le(tt){var et=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return et==="input"?!!ke$1[tt.type]:et==="textarea"}function me$1(tt,et,nt,rt){Db(rt),et=ne$1(et,"onChange"),0<et.length&&(nt=new sd("onChange","change",null,nt,rt),tt.push({event:nt,listeners:et}))}var oe$1=null,pe$1=null;function qe$1(tt){re$1(tt,0)}function se$1(tt){var et=te$1(tt);if(Va(et))return tt}function ue$1(tt,et){if(tt==="change")return et}var ve$1=!1;if(ia){var we$1;if(ia){var xe$1="oninput"in document;if(!xe$1){var ye=document.createElement("div");ye.setAttribute("oninput","return;"),xe$1=typeof ye.oninput=="function"}we$1=xe$1}else we$1=!1;ve$1=we$1&&(!document.documentMode||9<document.documentMode)}function ze$1(){oe$1&&(oe$1.detachEvent("onpropertychange",Ae$1),pe$1=oe$1=null)}function Ae$1(tt){if(tt.propertyName==="value"&&se$1(pe$1)){var et=[];me$1(et,pe$1,tt,wb(tt)),Ib(qe$1,et)}}function Be$1(tt,et,nt){tt==="focusin"?(ze$1(),oe$1=et,pe$1=nt,oe$1.attachEvent("onpropertychange",Ae$1)):tt==="focusout"&&ze$1()}function Ce$1(tt){if(tt==="selectionchange"||tt==="keyup"||tt==="keydown")return se$1(pe$1)}function De$1(tt,et){if(tt==="click")return se$1(et)}function Ee$1(tt,et){if(tt==="input"||tt==="change")return se$1(et)}function Fe(tt,et){return tt===et&&(tt!==0||1/tt===1/et)||tt!==tt&&et!==et}var Ge$1=typeof Object.is=="function"?Object.is:Fe;function He$1(tt,et){if(Ge$1(tt,et))return!0;if(typeof tt!="object"||tt===null||typeof et!="object"||et===null)return!1;var nt=Object.keys(tt),rt=Object.keys(et);if(nt.length!==rt.length)return!1;for(rt=0;rt<nt.length;rt++){var it=nt[rt];if(!ja.call(et,it)||!Ge$1(tt[it],et[it]))return!1}return!0}function Ie(tt){for(;tt&&tt.firstChild;)tt=tt.firstChild;return tt}function Je(tt,et){var nt=Ie(tt);tt=0;for(var rt;nt;){if(nt.nodeType===3){if(rt=tt+nt.textContent.length,tt<=et&&rt>=et)return{node:nt,offset:et-tt};tt=rt}e:{for(;nt;){if(nt.nextSibling){nt=nt.nextSibling;break e}nt=nt.parentNode}nt=void 0}nt=Ie(nt)}}function Ke(tt,et){return tt&&et?tt===et?!0:tt&&tt.nodeType===3?!1:et&&et.nodeType===3?Ke(tt,et.parentNode):"contains"in tt?tt.contains(et):tt.compareDocumentPosition?!!(tt.compareDocumentPosition(et)&16):!1:!1}function Le(){for(var tt=window,et=Wa();et instanceof tt.HTMLIFrameElement;){try{var nt=typeof et.contentWindow.location.href=="string"}catch{nt=!1}if(nt)tt=et.contentWindow;else break;et=Wa(tt.document)}return et}function Me$1(tt){var et=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return et&&(et==="input"&&(tt.type==="text"||tt.type==="search"||tt.type==="tel"||tt.type==="url"||tt.type==="password")||et==="textarea"||tt.contentEditable==="true")}function Ne$1(tt){var et=Le(),nt=tt.focusedElem,rt=tt.selectionRange;if(et!==nt&&nt&&nt.ownerDocument&&Ke(nt.ownerDocument.documentElement,nt)){if(rt!==null&&Me$1(nt)){if(et=rt.start,tt=rt.end,tt===void 0&&(tt=et),"selectionStart"in nt)nt.selectionStart=et,nt.selectionEnd=Math.min(tt,nt.value.length);else if(tt=(et=nt.ownerDocument||document)&&et.defaultView||window,tt.getSelection){tt=tt.getSelection();var it=nt.textContent.length,ot=Math.min(rt.start,it);rt=rt.end===void 0?ot:Math.min(rt.end,it),!tt.extend&&ot>rt&&(it=rt,rt=ot,ot=it),it=Je(nt,ot);var at=Je(nt,rt);it&&at&&(tt.rangeCount!==1||tt.anchorNode!==it.node||tt.anchorOffset!==it.offset||tt.focusNode!==at.node||tt.focusOffset!==at.offset)&&(et=et.createRange(),et.setStart(it.node,it.offset),tt.removeAllRanges(),ot>rt?(tt.addRange(et),tt.extend(at.node,at.offset)):(et.setEnd(at.node,at.offset),tt.addRange(et)))}}for(et=[],tt=nt;tt=tt.parentNode;)tt.nodeType===1&&et.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<et.length;nt++)tt=et[nt],tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}var Oe=ia&&"documentMode"in document&&11>=document.documentMode,Pe=null,Qe=null,Re$1=null,Se$1=!1;function Te$1(tt,et,nt){var rt=nt.window===nt?nt.document:nt.nodeType===9?nt:nt.ownerDocument;Se$1||Pe==null||Pe!==Wa(rt)||(rt=Pe,"selectionStart"in rt&&Me$1(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Re$1&&He$1(Re$1,rt)||(Re$1=rt,rt=ne$1(Qe,"onSelect"),0<rt.length&&(et=new sd("onSelect","select",null,et,nt),tt.push({event:et,listeners:rt}),et.target=Pe)))}function Ue(tt,et){var nt={};return nt[tt.toLowerCase()]=et.toLowerCase(),nt["Webkit"+tt]="webkit"+et,nt["Moz"+tt]="moz"+et,nt}var Ve$1={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},We={},Xe={};ia&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete Ve$1.animationend.animation,delete Ve$1.animationiteration.animation,delete Ve$1.animationstart.animation),"TransitionEvent"in window||delete Ve$1.transitionend.transition);function Ye$1(tt){if(We[tt])return We[tt];if(!Ve$1[tt])return tt;var et=Ve$1[tt],nt;for(nt in et)if(et.hasOwnProperty(nt)&&nt in Xe)return We[tt]=et[nt];return tt}var Ze=Ye$1("animationend"),$e=Ye$1("animationiteration"),af=Ye$1("animationstart"),bf=Ye$1("transitionend"),cf=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ef(tt,et){cf.set(tt,et),fa(et,[tt])}for(var ff=0;ff<df.length;ff++){var gf=df[ff],hf=gf.toLowerCase(),jf=gf[0].toUpperCase()+gf.slice(1);ef(hf,"on"+jf)}ef(Ze,"onAnimationEnd");ef($e,"onAnimationIteration");ef(af,"onAnimationStart");ef("dblclick","onDoubleClick");ef("focusin","onFocus");ef("focusout","onBlur");ef(bf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lf=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function mf(tt,et,nt){var rt=tt.type||"unknown-event";tt.currentTarget=nt,Tb(rt,et,void 0,tt),tt.currentTarget=null}function re$1(tt,et){et=(et&4)!==0;for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.event;rt=rt.listeners;e:{var ot=void 0;if(et)for(var at=rt.length-1;0<=at;at--){var st=rt[at],lt=st.instance,ct=st.currentTarget;if(st=st.listener,lt!==ot&&it.isPropagationStopped())break e;mf(it,st,ct),ot=lt}else for(at=0;at<rt.length;at++){if(st=rt[at],lt=st.instance,ct=st.currentTarget,st=st.listener,lt!==ot&&it.isPropagationStopped())break e;mf(it,st,ct),ot=lt}}}if(Pb)throw tt=Qb,Pb=!1,Qb=null,tt}function D$2(tt,et){var nt=et[nf];nt===void 0&&(nt=et[nf]=new Set);var rt=tt+"__bubble";nt.has(rt)||(of(et,tt,2,!1),nt.add(rt))}function pf(tt,et,nt){var rt=0;et&&(rt|=4),of(nt,tt,rt,et)}var qf="_reactListening"+Math.random().toString(36).slice(2);function rf(tt){if(!tt[qf]){tt[qf]=!0,da.forEach(function(nt){nt!=="selectionchange"&&(lf.has(nt)||pf(nt,!1,tt),pf(nt,!0,tt))});var et=tt.nodeType===9?tt:tt.ownerDocument;et===null||et[qf]||(et[qf]=!0,pf("selectionchange",!1,et))}}function of(tt,et,nt,rt){switch(id(et)){case 1:var it=dd;break;case 4:it=fd;break;default:it=ed}nt=it.bind(null,et,nt,tt),it=void 0,!Kb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(it=!0),rt?it!==void 0?tt.addEventListener(et,nt,{capture:!0,passive:it}):tt.addEventListener(et,nt,!0):it!==void 0?tt.addEventListener(et,nt,{passive:it}):tt.addEventListener(et,nt,!1)}function gd(tt,et,nt,rt,it){var ot=rt;if((et&1)===0&&(et&2)===0&&rt!==null)e:for(;;){if(rt===null)return;var at=rt.tag;if(at===3||at===4){var st=rt.stateNode.containerInfo;if(st===it||st.nodeType===8&&st.parentNode===it)break;if(at===4)for(at=rt.return;at!==null;){var lt=at.tag;if((lt===3||lt===4)&&(lt=at.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;at=at.return}for(;st!==null;){if(at=Vc(st),at===null)return;if(lt=at.tag,lt===5||lt===6){rt=ot=at;continue e}st=st.parentNode}}rt=rt.return}Ib(function(){var ct=ot,ft=wb(nt),ut=[];e:{var dt=cf.get(tt);if(dt!==void 0){var ht=sd,pt=tt;switch(tt){case"keypress":if(nd(nt)===0)break e;case"keydown":case"keyup":ht=Qd;break;case"focusin":pt="focus",ht=Ed;break;case"focusout":pt="blur",ht=Ed;break;case"beforeblur":case"afterblur":ht=Ed;break;case"click":if(nt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Ud;break;case Ze:case $e:case af:ht=Gd;break;case bf:ht=Wd;break;case"scroll":ht=ud;break;case"wheel":ht=Yd;break;case"copy":case"cut":case"paste":ht=Id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Sd}var gt=(et&4)!==0,mt=!gt&&tt==="scroll",yt=gt?dt!==null?dt+"Capture":null:dt;gt=[];for(var bt=ct,St;bt!==null;){St=bt;var xt=St.stateNode;if(St.tag===5&&xt!==null&&(St=xt,yt!==null&&(xt=Jb(bt,yt),xt!=null&&gt.push(sf(bt,xt,St)))),mt)break;bt=bt.return}0<gt.length&&(dt=new ht(dt,pt,null,nt,ft),ut.push({event:dt,listeners:gt}))}}if((et&7)===0){e:{if(dt=tt==="mouseover"||tt==="pointerover",ht=tt==="mouseout"||tt==="pointerout",dt&&nt!==vb&&(pt=nt.relatedTarget||nt.fromElement)&&(Vc(pt)||pt[tf]))break e;if((ht||dt)&&(dt=ft.window===ft?ft:(dt=ft.ownerDocument)?dt.defaultView||dt.parentWindow:window,ht?(pt=nt.relatedTarget||nt.toElement,ht=ct,pt=pt?Vc(pt):null,pt!==null&&(mt=Ub(pt),pt!==mt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(ht=null,pt=ct),ht!==pt)){if(gt=Ad,xt="onMouseLeave",yt="onMouseEnter",bt="mouse",(tt==="pointerout"||tt==="pointerover")&&(gt=Sd,xt="onPointerLeave",yt="onPointerEnter",bt="pointer"),mt=ht==null?dt:te$1(ht),St=pt==null?dt:te$1(pt),dt=new gt(xt,bt+"leave",ht,nt,ft),dt.target=mt,dt.relatedTarget=St,xt=null,Vc(ft)===ct&&(gt=new gt(yt,bt+"enter",pt,nt,ft),gt.target=St,gt.relatedTarget=mt,xt=gt),mt=xt,ht&&pt)t:{for(gt=ht,yt=pt,bt=0,St=gt;St;St=uf(St))bt++;for(St=0,xt=yt;xt;xt=uf(xt))St++;for(;0<bt-St;)gt=uf(gt),bt--;for(;0<St-bt;)yt=uf(yt),St--;for(;bt--;){if(gt===yt||yt!==null&&gt===yt.alternate)break t;gt=uf(gt),yt=uf(yt)}gt=null}else gt=null;ht!==null&&vf(ut,dt,ht,gt,!1),pt!==null&&mt!==null&&vf(ut,mt,pt,gt,!0)}}e:{if(dt=ct?te$1(ct):window,ht=dt.nodeName&&dt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&dt.type==="file")var vt=ue$1;else if(le(dt))if(ve$1)vt=Ee$1;else{vt=Ce$1;var $t=Be$1}else(ht=dt.nodeName)&&ht.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(vt=De$1);if(vt&&(vt=vt(tt,ct))){me$1(ut,vt,nt,ft);break e}$t&&$t(tt,dt,ct),tt==="focusout"&&($t=dt._wrapperState)&&$t.controlled&&dt.type==="number"&&bb(dt,"number",dt.value)}switch($t=ct?te$1(ct):window,tt){case"focusin":(le($t)||$t.contentEditable==="true")&&(Pe=$t,Qe=ct,Re$1=null);break;case"focusout":Re$1=Qe=Pe=null;break;case"mousedown":Se$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Se$1=!1,Te$1(ut,nt,ft);break;case"selectionchange":if(Oe)break;case"keydown":case"keyup":Te$1(ut,nt,ft)}var zt;if($d)e:{switch(tt){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else he$1?fe$1(tt,nt)&&(Nt="onCompositionEnd"):tt==="keydown"&&nt.keyCode===229&&(Nt="onCompositionStart");Nt&&(ce$1&&nt.locale!=="ko"&&(he$1||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&he$1&&(zt=md()):(jd=ft,kd="value"in jd?jd.value:jd.textContent,he$1=!0)),$t=ne$1(ct,Nt),0<$t.length&&(Nt=new Kd(Nt,tt,null,nt,ft),ut.push({event:Nt,listeners:$t}),zt?Nt.data=zt:(zt=ge$1(nt),zt!==null&&(Nt.data=zt)))),(zt=be$1?ie$1(tt,nt):je$1(tt,nt))&&(ct=ne$1(ct,"onBeforeInput"),0<ct.length&&(ft=new Kd("onBeforeInput","beforeinput",null,nt,ft),ut.push({event:ft,listeners:ct}),ft.data=zt))}re$1(ut,et)})}function sf(tt,et,nt){return{instance:tt,listener:et,currentTarget:nt}}function ne$1(tt,et){for(var nt=et+"Capture",rt=[];tt!==null;){var it=tt,ot=it.stateNode;it.tag===5&&ot!==null&&(it=ot,ot=Jb(tt,nt),ot!=null&&rt.unshift(sf(tt,ot,it)),ot=Jb(tt,et),ot!=null&&rt.push(sf(tt,ot,it))),tt=tt.return}return rt}function uf(tt){if(tt===null)return null;do tt=tt.return;while(tt&&tt.tag!==5);return tt||null}function vf(tt,et,nt,rt,it){for(var ot=et._reactName,at=[];nt!==null&&nt!==rt;){var st=nt,lt=st.alternate,ct=st.stateNode;if(lt!==null&&lt===rt)break;st.tag===5&&ct!==null&&(st=ct,it?(lt=Jb(nt,ot),lt!=null&&at.unshift(sf(nt,lt,st))):it||(lt=Jb(nt,ot),lt!=null&&at.push(sf(nt,lt,st)))),nt=nt.return}at.length!==0&&tt.push({event:et,listeners:at})}var wf=/\r\n?/g,xf=/\u0000|\uFFFD/g;function yf(tt){return(typeof tt=="string"?tt:""+tt).replace(wf,`
`).replace(xf,"")}function zf(tt,et,nt){if(et=yf(et),yf(tt)!==et&&nt)throw Error(p$4(425))}function Af(){}var Bf=null,Cf=null;function Df(tt,et){return tt==="textarea"||tt==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,Ff=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,If=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf!="undefined"?function(tt){return Gf.resolve(null).then(tt).catch(Hf)}:Ef;function Hf(tt){setTimeout(function(){throw tt})}function Jf(tt,et){var nt=et,rt=0;do{var it=nt.nextSibling;if(tt.removeChild(nt),it&&it.nodeType===8)if(nt=it.data,nt==="/$"){if(rt===0){tt.removeChild(it),ad(et);return}rt--}else nt!=="$"&&nt!=="$?"&&nt!=="$!"||rt++;nt=it}while(nt);ad(et)}function Kf(tt){for(;tt!=null;tt=tt.nextSibling){var et=tt.nodeType;if(et===1||et===3)break;if(et===8){if(et=tt.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return tt}function Lf(tt){tt=tt.previousSibling;for(var et=0;tt;){if(tt.nodeType===8){var nt=tt.data;if(nt==="$"||nt==="$!"||nt==="$?"){if(et===0)return tt;et--}else nt==="/$"&&et++}tt=tt.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Nf="__reactFiber$"+Mf,Of="__reactProps$"+Mf,tf="__reactContainer$"+Mf,nf="__reactEvents$"+Mf,Pf="__reactListeners$"+Mf,Qf="__reactHandles$"+Mf;function Vc(tt){var et=tt[Nf];if(et)return et;for(var nt=tt.parentNode;nt;){if(et=nt[tf]||nt[Nf]){if(nt=et.alternate,et.child!==null||nt!==null&&nt.child!==null)for(tt=Lf(tt);tt!==null;){if(nt=tt[Nf])return nt;tt=Lf(tt)}return et}tt=nt,nt=tt.parentNode}return null}function Bb(tt){return tt=tt[Nf]||tt[tf],!tt||tt.tag!==5&&tt.tag!==6&&tt.tag!==13&&tt.tag!==3?null:tt}function te$1(tt){if(tt.tag===5||tt.tag===6)return tt.stateNode;throw Error(p$4(33))}function Cb(tt){return tt[Of]||null}var Rf=[],Sf=-1;function Tf(tt){return{current:tt}}function E$3(tt){0>Sf||(tt.current=Rf[Sf],Rf[Sf]=null,Sf--)}function G$3(tt,et){Sf++,Rf[Sf]=tt.current,tt.current=et}var Uf={},H$3=Tf(Uf),Vf=Tf(!1),Wf=Uf;function Xf(tt,et){var nt=tt.type.contextTypes;if(!nt)return Uf;var rt=tt.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var it={},ot;for(ot in nt)it[ot]=et[ot];return rt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=et,tt.__reactInternalMemoizedMaskedChildContext=it),it}function Yf(tt){return tt=tt.childContextTypes,tt!=null}function Zf(){E$3(Vf),E$3(H$3)}function $f(tt,et,nt){if(H$3.current!==Uf)throw Error(p$4(168));G$3(H$3,et),G$3(Vf,nt)}function ag(tt,et,nt){var rt=tt.stateNode;if(et=et.childContextTypes,typeof rt.getChildContext!="function")return nt;rt=rt.getChildContext();for(var it in rt)if(!(it in et))throw Error(p$4(108,Qa(tt)||"Unknown",it));return A$4({},nt,rt)}function bg(tt){return tt=(tt=tt.stateNode)&&tt.__reactInternalMemoizedMergedChildContext||Uf,Wf=H$3.current,G$3(H$3,tt),G$3(Vf,Vf.current),!0}function cg(tt,et,nt){var rt=tt.stateNode;if(!rt)throw Error(p$4(169));nt?(tt=ag(tt,et,Wf),rt.__reactInternalMemoizedMergedChildContext=tt,E$3(Vf),E$3(H$3),G$3(H$3,tt)):E$3(Vf),G$3(Vf,nt)}var dg=null,eg=!1,fg=!1;function gg(tt){dg===null?dg=[tt]:dg.push(tt)}function hg(tt){eg=!0,gg(tt)}function ig(){if(!fg&&dg!==null){fg=!0;var tt=0,et=C$1;try{var nt=dg;for(C$1=1;tt<nt.length;tt++){var rt=nt[tt];do rt=rt(!0);while(rt!==null)}dg=null,eg=!1}catch(it){throw dg!==null&&(dg=dg.slice(tt+1)),$b(ec,ig),it}finally{C$1=et,fg=!1}}return null}var jg=ta.ReactCurrentBatchConfig;function kg(tt,et){if(tt&&tt.defaultProps){et=A$4({},et),tt=tt.defaultProps;for(var nt in tt)et[nt]===void 0&&(et[nt]=tt[nt]);return et}return et}var lg=Tf(null),mg=null,ng=null,og=null;function pg(){og=ng=mg=null}function qg(tt){var et=lg.current;E$3(lg),tt._currentValue=et}function rg(tt,et,nt){for(;tt!==null;){var rt=tt.alternate;if((tt.childLanes&et)!==et?(tt.childLanes|=et,rt!==null&&(rt.childLanes|=et)):rt!==null&&(rt.childLanes&et)!==et&&(rt.childLanes|=et),tt===nt)break;tt=tt.return}}function sg(tt,et){mg=tt,og=ng=null,tt=tt.dependencies,tt!==null&&tt.firstContext!==null&&((tt.lanes&et)!==0&&(tg=!0),tt.firstContext=null)}function ug(tt){var et=tt._currentValue;if(og!==tt)if(tt={context:tt,memoizedValue:et,next:null},ng===null){if(mg===null)throw Error(p$4(308));ng=tt,mg.dependencies={lanes:0,firstContext:tt}}else ng=ng.next=tt;return et}var vg=null,wg=!1;function xg(tt){tt.updateQueue={baseState:tt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(tt,et){tt=tt.updateQueue,et.updateQueue===tt&&(et.updateQueue={baseState:tt.baseState,firstBaseUpdate:tt.firstBaseUpdate,lastBaseUpdate:tt.lastBaseUpdate,shared:tt.shared,effects:tt.effects})}function zg(tt,et){return{eventTime:tt,lane:et,tag:0,payload:null,callback:null,next:null}}function Ag(tt,et){var nt=tt.updateQueue;nt!==null&&(nt=nt.shared,Bg(tt)?(tt=nt.interleaved,tt===null?(et.next=et,vg===null?vg=[nt]:vg.push(nt)):(et.next=tt.next,tt.next=et),nt.interleaved=et):(tt=nt.pending,tt===null?et.next=et:(et.next=tt.next,tt.next=et),nt.pending=et))}function Cg(tt,et,nt){if(et=et.updateQueue,et!==null&&(et=et.shared,(nt&4194240)!==0)){var rt=et.lanes;rt&=tt.pendingLanes,nt|=rt,et.lanes=nt,Bc(tt,nt)}}function Dg(tt,et){var nt=tt.updateQueue,rt=tt.alternate;if(rt!==null&&(rt=rt.updateQueue,nt===rt)){var it=null,ot=null;if(nt=nt.firstBaseUpdate,nt!==null){do{var at={eventTime:nt.eventTime,lane:nt.lane,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null};ot===null?it=ot=at:ot=ot.next=at,nt=nt.next}while(nt!==null);ot===null?it=ot=et:ot=ot.next=et}else it=ot=et;nt={baseState:rt.baseState,firstBaseUpdate:it,lastBaseUpdate:ot,shared:rt.shared,effects:rt.effects},tt.updateQueue=nt;return}tt=nt.lastBaseUpdate,tt===null?nt.firstBaseUpdate=et:tt.next=et,nt.lastBaseUpdate=et}function Eg(tt,et,nt,rt){var it=tt.updateQueue;wg=!1;var ot=it.firstBaseUpdate,at=it.lastBaseUpdate,st=it.shared.pending;if(st!==null){it.shared.pending=null;var lt=st,ct=lt.next;lt.next=null,at===null?ot=ct:at.next=ct,at=lt;var ft=tt.alternate;ft!==null&&(ft=ft.updateQueue,st=ft.lastBaseUpdate,st!==at&&(st===null?ft.firstBaseUpdate=ct:st.next=ct,ft.lastBaseUpdate=lt))}if(ot!==null){var ut=it.baseState;at=0,ft=ct=lt=null,st=ot;do{var dt=st.lane,ht=st.eventTime;if((rt&dt)===dt){ft!==null&&(ft=ft.next={eventTime:ht,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var pt=tt,gt=st;switch(dt=et,ht=nt,gt.tag){case 1:if(pt=gt.payload,typeof pt=="function"){ut=pt.call(ht,ut,dt);break e}ut=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=gt.payload,dt=typeof pt=="function"?pt.call(ht,ut,dt):pt,dt==null)break e;ut=A$4({},ut,dt);break e;case 2:wg=!0}}st.callback!==null&&st.lane!==0&&(tt.flags|=64,dt=it.effects,dt===null?it.effects=[st]:dt.push(st))}else ht={eventTime:ht,lane:dt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ft===null?(ct=ft=ht,lt=ut):ft=ft.next=ht,at|=dt;if(st=st.next,st===null){if(st=it.shared.pending,st===null)break;dt=st,st=dt.next,dt.next=null,it.lastBaseUpdate=dt,it.shared.pending=null}}while(1);if(ft===null&&(lt=ut),it.baseState=lt,it.firstBaseUpdate=ct,it.lastBaseUpdate=ft,et=it.shared.interleaved,et!==null){it=et;do at|=it.lane,it=it.next;while(it!==et)}else ot===null&&(it.shared.lanes=0);Fg|=at,tt.lanes=at,tt.memoizedState=ut}}function Gg(tt,et,nt){if(tt=et.effects,et.effects=null,tt!==null)for(et=0;et<tt.length;et++){var rt=tt[et],it=rt.callback;if(it!==null){if(rt.callback=null,rt=nt,typeof it!="function")throw Error(p$4(191,it));it.call(rt)}}}var Hg=new aa.Component().refs;function Ig(tt,et,nt,rt){et=tt.memoizedState,nt=nt(rt,et),nt=nt==null?et:A$4({},et,nt),tt.memoizedState=nt,tt.lanes===0&&(tt.updateQueue.baseState=nt)}var Mg={isMounted:function(tt){return(tt=tt._reactInternals)?Ub(tt)===tt:!1},enqueueSetState:function(tt,et,nt){tt=tt._reactInternals;var rt=Jg(),it=Kg(tt),ot=zg(rt,it);ot.payload=et,nt!=null&&(ot.callback=nt),Ag(tt,ot),et=Lg(tt,it,rt),et!==null&&Cg(et,tt,it)},enqueueReplaceState:function(tt,et,nt){tt=tt._reactInternals;var rt=Jg(),it=Kg(tt),ot=zg(rt,it);ot.tag=1,ot.payload=et,nt!=null&&(ot.callback=nt),Ag(tt,ot),et=Lg(tt,it,rt),et!==null&&Cg(et,tt,it)},enqueueForceUpdate:function(tt,et){tt=tt._reactInternals;var nt=Jg(),rt=Kg(tt),it=zg(nt,rt);it.tag=2,et!=null&&(it.callback=et),Ag(tt,it),et=Lg(tt,rt,nt),et!==null&&Cg(et,tt,rt)}};function Ng(tt,et,nt,rt,it,ot,at){return tt=tt.stateNode,typeof tt.shouldComponentUpdate=="function"?tt.shouldComponentUpdate(rt,ot,at):et.prototype&&et.prototype.isPureReactComponent?!He$1(nt,rt)||!He$1(it,ot):!0}function Og(tt,et,nt){var rt=!1,it=Uf,ot=et.contextType;return typeof ot=="object"&&ot!==null?ot=ug(ot):(it=Yf(et)?Wf:H$3.current,rt=et.contextTypes,ot=(rt=rt!=null)?Xf(tt,it):Uf),et=new et(nt,ot),tt.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Mg,tt.stateNode=et,et._reactInternals=tt,rt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=it,tt.__reactInternalMemoizedMaskedChildContext=ot),et}function Pg(tt,et,nt,rt){tt=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(nt,rt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(nt,rt),et.state!==tt&&Mg.enqueueReplaceState(et,et.state,null)}function Qg(tt,et,nt,rt){var it=tt.stateNode;it.props=nt,it.state=tt.memoizedState,it.refs=Hg,xg(tt);var ot=et.contextType;typeof ot=="object"&&ot!==null?it.context=ug(ot):(ot=Yf(et)?Wf:H$3.current,it.context=Xf(tt,ot)),it.state=tt.memoizedState,ot=et.getDerivedStateFromProps,typeof ot=="function"&&(Ig(tt,et,ot,nt),it.state=tt.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(et=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),et!==it.state&&Mg.enqueueReplaceState(it,it.state,null),Eg(tt,nt,it,rt),it.state=tt.memoizedState),typeof it.componentDidMount=="function"&&(tt.flags|=4194308)}var Rg=[],Sg=0,Tg=null,Ug=0,Vg=[],Wg=0,Xg=null,Yg=1,Zg="";function $g(tt,et){Rg[Sg++]=Ug,Rg[Sg++]=Tg,Tg=tt,Ug=et}function ah(tt,et,nt){Vg[Wg++]=Yg,Vg[Wg++]=Zg,Vg[Wg++]=Xg,Xg=tt;var rt=Yg;tt=Zg;var it=32-nc(rt)-1;rt&=~(1<<it),nt+=1;var ot=32-nc(et)+it;if(30<ot){var at=it-it%5;ot=(rt&(1<<at)-1).toString(32),rt>>=at,it-=at,Yg=1<<32-nc(et)+it|nt<<it|rt,Zg=ot+tt}else Yg=1<<ot|nt<<it|rt,Zg=tt}function bh(tt){tt.return!==null&&($g(tt,1),ah(tt,1,0))}function ch(tt){for(;tt===Tg;)Tg=Rg[--Sg],Rg[Sg]=null,Ug=Rg[--Sg],Rg[Sg]=null;for(;tt===Xg;)Xg=Vg[--Wg],Vg[Wg]=null,Zg=Vg[--Wg],Vg[Wg]=null,Yg=Vg[--Wg],Vg[Wg]=null}var dh=null,eh=null,I$3=!1,fh=null;function gh(tt,et){var nt=hh(5,null,null,0);nt.elementType="DELETED",nt.stateNode=et,nt.return=tt,et=tt.deletions,et===null?(tt.deletions=[nt],tt.flags|=16):et.push(nt)}function ih(tt,et){switch(tt.tag){case 5:var nt=tt.type;return et=et.nodeType!==1||nt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(tt.stateNode=et,dh=tt,eh=Kf(et.firstChild),!0):!1;case 6:return et=tt.pendingProps===""||et.nodeType!==3?null:et,et!==null?(tt.stateNode=et,dh=tt,eh=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(nt=Xg!==null?{id:Yg,overflow:Zg}:null,tt.memoizedState={dehydrated:et,treeContext:nt,retryLane:1073741824},nt=hh(18,null,null,0),nt.stateNode=et,nt.return=tt,tt.child=nt,dh=tt,eh=null,!0):!1;default:return!1}}function jh(tt){return(tt.mode&1)!==0&&(tt.flags&128)===0}function kh(tt){if(I$3){var et=eh;if(et){var nt=et;if(!ih(tt,et)){if(jh(tt))throw Error(p$4(418));et=Kf(nt.nextSibling);var rt=dh;et&&ih(tt,et)?gh(rt,nt):(tt.flags=tt.flags&-4097|2,I$3=!1,dh=tt)}}else{if(jh(tt))throw Error(p$4(418));tt.flags=tt.flags&-4097|2,I$3=!1,dh=tt}}}function lh(tt){for(tt=tt.return;tt!==null&&tt.tag!==5&&tt.tag!==3&&tt.tag!==13;)tt=tt.return;dh=tt}function mh(tt){if(tt!==dh)return!1;if(!I$3)return lh(tt),I$3=!0,!1;var et;if((et=tt.tag!==3)&&!(et=tt.tag!==5)&&(et=tt.type,et=et!=="head"&&et!=="body"&&!Df(tt.type,tt.memoizedProps)),et&&(et=eh)){if(jh(tt)){for(tt=eh;tt;)tt=Kf(tt.nextSibling);throw Error(p$4(418))}for(;et;)gh(tt,et),et=Kf(et.nextSibling)}if(lh(tt),tt.tag===13){if(tt=tt.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$4(317));e:{for(tt=tt.nextSibling,et=0;tt;){if(tt.nodeType===8){var nt=tt.data;if(nt==="/$"){if(et===0){eh=Kf(tt.nextSibling);break e}et--}else nt!=="$"&&nt!=="$!"&&nt!=="$?"||et++}tt=tt.nextSibling}eh=null}}else eh=dh?Kf(tt.stateNode.nextSibling):null;return!0}function nh(){eh=dh=null,I$3=!1}function oh(tt){fh===null?fh=[tt]:fh.push(tt)}function ph(tt,et,nt){if(tt=nt.ref,tt!==null&&typeof tt!="function"&&typeof tt!="object"){if(nt._owner){if(nt=nt._owner,nt){if(nt.tag!==1)throw Error(p$4(309));var rt=nt.stateNode}if(!rt)throw Error(p$4(147,tt));var it=rt,ot=""+tt;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===ot?et.ref:(et=function(at){var st=it.refs;st===Hg&&(st=it.refs={}),at===null?delete st[ot]:st[ot]=at},et._stringRef=ot,et)}if(typeof tt!="string")throw Error(p$4(284));if(!nt._owner)throw Error(p$4(290,tt))}return tt}function qh(tt,et){throw tt=Object.prototype.toString.call(et),Error(p$4(31,tt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":tt))}function rh(tt){var et=tt._init;return et(tt._payload)}function sh(tt){function et(yt,bt){if(tt){var St=yt.deletions;St===null?(yt.deletions=[bt],yt.flags|=16):St.push(bt)}}function nt(yt,bt){if(!tt)return null;for(;bt!==null;)et(yt,bt),bt=bt.sibling;return null}function rt(yt,bt){for(yt=new Map;bt!==null;)bt.key!==null?yt.set(bt.key,bt):yt.set(bt.index,bt),bt=bt.sibling;return yt}function it(yt,bt){return yt=th(yt,bt),yt.index=0,yt.sibling=null,yt}function ot(yt,bt,St){return yt.index=St,tt?(St=yt.alternate,St!==null?(St=St.index,St<bt?(yt.flags|=2,bt):St):(yt.flags|=2,bt)):(yt.flags|=1048576,bt)}function at(yt){return tt&&yt.alternate===null&&(yt.flags|=2),yt}function st(yt,bt,St,xt){return bt===null||bt.tag!==6?(bt=uh(St,yt.mode,xt),bt.return=yt,bt):(bt=it(bt,St),bt.return=yt,bt)}function lt(yt,bt,St,xt){var vt=St.type;return vt===wa?ft(yt,bt,St.props.children,xt,St.key):bt!==null&&(bt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ga&&rh(vt)===bt.type)?(xt=it(bt,St.props),xt.ref=ph(yt,bt,St),xt.return=yt,xt):(xt=vh(St.type,St.key,St.props,null,yt.mode,xt),xt.ref=ph(yt,bt,St),xt.return=yt,xt)}function ct(yt,bt,St,xt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==St.containerInfo||bt.stateNode.implementation!==St.implementation?(bt=wh(St,yt.mode,xt),bt.return=yt,bt):(bt=it(bt,St.children||[]),bt.return=yt,bt)}function ft(yt,bt,St,xt,vt){return bt===null||bt.tag!==7?(bt=xh(St,yt.mode,xt,vt),bt.return=yt,bt):(bt=it(bt,St),bt.return=yt,bt)}function ut(yt,bt,St){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return bt=uh(""+bt,yt.mode,St),bt.return=yt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case ua$2:return St=vh(bt.type,bt.key,bt.props,null,yt.mode,St),St.ref=ph(yt,null,bt),St.return=yt,St;case va:return bt=wh(bt,yt.mode,St),bt.return=yt,bt;case Ga:var xt=bt._init;return ut(yt,xt(bt._payload),St)}if(db(bt)||Ja(bt))return bt=xh(bt,yt.mode,St,null),bt.return=yt,bt;qh(yt,bt)}return null}function dt(yt,bt,St,xt){var vt=bt!==null?bt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number")return vt!==null?null:st(yt,bt,""+St,xt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case ua$2:return St.key===vt?lt(yt,bt,St,xt):null;case va:return St.key===vt?ct(yt,bt,St,xt):null;case Ga:return vt=St._init,dt(yt,bt,vt(St._payload),xt)}if(db(St)||Ja(St))return vt!==null?null:ft(yt,bt,St,xt,null);qh(yt,St)}return null}function ht(yt,bt,St,xt,vt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return yt=yt.get(St)||null,st(bt,yt,""+xt,vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case ua$2:return yt=yt.get(xt.key===null?St:xt.key)||null,lt(bt,yt,xt,vt);case va:return yt=yt.get(xt.key===null?St:xt.key)||null,ct(bt,yt,xt,vt);case Ga:var $t=xt._init;return ht(yt,bt,St,$t(xt._payload),vt)}if(db(xt)||Ja(xt))return yt=yt.get(St)||null,ft(bt,yt,xt,vt,null);qh(bt,xt)}return null}function pt(yt,bt,St,xt){for(var vt=null,$t=null,zt=bt,Nt=bt=0,wt=null;zt!==null&&Nt<St.length;Nt++){zt.index>Nt?(wt=zt,zt=null):wt=zt.sibling;var Et=dt(yt,zt,St[Nt],xt);if(Et===null){zt===null&&(zt=wt);break}tt&&zt&&Et.alternate===null&&et(yt,zt),bt=ot(Et,bt,Nt),$t===null?vt=Et:$t.sibling=Et,$t=Et,zt=wt}if(Nt===St.length)return nt(yt,zt),I$3&&$g(yt,Nt),vt;if(zt===null){for(;Nt<St.length;Nt++)zt=ut(yt,St[Nt],xt),zt!==null&&(bt=ot(zt,bt,Nt),$t===null?vt=zt:$t.sibling=zt,$t=zt);return I$3&&$g(yt,Nt),vt}for(zt=rt(yt,zt);Nt<St.length;Nt++)wt=ht(zt,yt,Nt,St[Nt],xt),wt!==null&&(tt&&wt.alternate!==null&&zt.delete(wt.key===null?Nt:wt.key),bt=ot(wt,bt,Nt),$t===null?vt=wt:$t.sibling=wt,$t=wt);return tt&&zt.forEach(function(Rt){return et(yt,Rt)}),I$3&&$g(yt,Nt),vt}function gt(yt,bt,St,xt){var vt=Ja(St);if(typeof vt!="function")throw Error(p$4(150));if(St=vt.call(St),St==null)throw Error(p$4(151));for(var $t=vt=null,zt=bt,Nt=bt=0,wt=null,Et=St.next();zt!==null&&!Et.done;Nt++,Et=St.next()){zt.index>Nt?(wt=zt,zt=null):wt=zt.sibling;var Rt=dt(yt,zt,Et.value,xt);if(Rt===null){zt===null&&(zt=wt);break}tt&&zt&&Rt.alternate===null&&et(yt,zt),bt=ot(Rt,bt,Nt),$t===null?vt=Rt:$t.sibling=Rt,$t=Rt,zt=wt}if(Et.done)return nt(yt,zt),I$3&&$g(yt,Nt),vt;if(zt===null){for(;!Et.done;Nt++,Et=St.next())Et=ut(yt,Et.value,xt),Et!==null&&(bt=ot(Et,bt,Nt),$t===null?vt=Et:$t.sibling=Et,$t=Et);return I$3&&$g(yt,Nt),vt}for(zt=rt(yt,zt);!Et.done;Nt++,Et=St.next())Et=ht(zt,yt,Nt,Et.value,xt),Et!==null&&(tt&&Et.alternate!==null&&zt.delete(Et.key===null?Nt:Et.key),bt=ot(Et,bt,Nt),$t===null?vt=Et:$t.sibling=Et,$t=Et);return tt&&zt.forEach(function(Tt){return et(yt,Tt)}),I$3&&$g(yt,Nt),vt}function mt(yt,bt,St,xt){if(typeof St=="object"&&St!==null&&St.type===wa&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case ua$2:e:{for(var vt=St.key,$t=bt;$t!==null;){if($t.key===vt){if(vt=St.type,vt===wa){if($t.tag===7){nt(yt,$t.sibling),bt=it($t,St.props.children),bt.return=yt,yt=bt;break e}}else if($t.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ga&&rh(vt)===$t.type){nt(yt,$t.sibling),bt=it($t,St.props),bt.ref=ph(yt,$t,St),bt.return=yt,yt=bt;break e}nt(yt,$t);break}else et(yt,$t);$t=$t.sibling}St.type===wa?(bt=xh(St.props.children,yt.mode,xt,St.key),bt.return=yt,yt=bt):(xt=vh(St.type,St.key,St.props,null,yt.mode,xt),xt.ref=ph(yt,bt,St),xt.return=yt,yt=xt)}return at(yt);case va:e:{for($t=St.key;bt!==null;){if(bt.key===$t)if(bt.tag===4&&bt.stateNode.containerInfo===St.containerInfo&&bt.stateNode.implementation===St.implementation){nt(yt,bt.sibling),bt=it(bt,St.children||[]),bt.return=yt,yt=bt;break e}else{nt(yt,bt);break}else et(yt,bt);bt=bt.sibling}bt=wh(St,yt.mode,xt),bt.return=yt,yt=bt}return at(yt);case Ga:return $t=St._init,mt(yt,bt,$t(St._payload),xt)}if(db(St))return pt(yt,bt,St,xt);if(Ja(St))return gt(yt,bt,St,xt);qh(yt,St)}return typeof St=="string"&&St!==""||typeof St=="number"?(St=""+St,bt!==null&&bt.tag===6?(nt(yt,bt.sibling),bt=it(bt,St),bt.return=yt,yt=bt):(nt(yt,bt),bt=uh(St,yt.mode,xt),bt.return=yt,yt=bt),at(yt)):nt(yt,bt)}return mt}var yh=sh(!0),zh=sh(!1),Ah={},Bh=Tf(Ah),Ch=Tf(Ah),Dh=Tf(Ah);function Eh(tt){if(tt===Ah)throw Error(p$4(174));return tt}function Fh(tt,et){switch(G$3(Dh,et),G$3(Ch,tt),G$3(Bh,Ah),tt=et.nodeType,tt){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:kb(null,"");break;default:tt=tt===8?et.parentNode:et,et=tt.namespaceURI||null,tt=tt.tagName,et=kb(et,tt)}E$3(Bh),G$3(Bh,et)}function Gh(){E$3(Bh),E$3(Ch),E$3(Dh)}function Hh(tt){Eh(Dh.current);var et=Eh(Bh.current),nt=kb(et,tt.type);et!==nt&&(G$3(Ch,tt),G$3(Bh,nt))}function Ih(tt){Ch.current===tt&&(E$3(Bh),E$3(Ch))}var K$1=Tf(0);function Jh(tt){for(var et=tt;et!==null;){if(et.tag===13){var nt=et.memoizedState;if(nt!==null&&(nt=nt.dehydrated,nt===null||nt.data==="$?"||nt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if((et.flags&128)!==0)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Kh=[];function Lh(){for(var tt=0;tt<Kh.length;tt++)Kh[tt]._workInProgressVersionPrimary=null;Kh.length=0}var Mh=ta.ReactCurrentDispatcher,Nh=ta.ReactCurrentBatchConfig,Oh=0,L$2=null,M$2=null,N$1=null,Ph=!1,Qh=!1,Rh=0,Sh=0;function O$1(){throw Error(p$4(321))}function Th(tt,et){if(et===null)return!1;for(var nt=0;nt<et.length&&nt<tt.length;nt++)if(!Ge$1(tt[nt],et[nt]))return!1;return!0}function Uh(tt,et,nt,rt,it,ot){if(Oh=ot,L$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Mh.current=tt===null||tt.memoizedState===null?Vh:Wh,tt=nt(rt,it),Qh){ot=0;do{if(Qh=!1,Rh=0,25<=ot)throw Error(p$4(301));ot+=1,N$1=M$2=null,et.updateQueue=null,Mh.current=Xh,tt=nt(rt,it)}while(Qh)}if(Mh.current=Yh,et=M$2!==null&&M$2.next!==null,Oh=0,N$1=M$2=L$2=null,Ph=!1,et)throw Error(p$4(300));return tt}function Zh(){var tt=Rh!==0;return Rh=0,tt}function $h(){var tt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return N$1===null?L$2.memoizedState=N$1=tt:N$1=N$1.next=tt,N$1}function ai(){if(M$2===null){var tt=L$2.alternate;tt=tt!==null?tt.memoizedState:null}else tt=M$2.next;var et=N$1===null?L$2.memoizedState:N$1.next;if(et!==null)N$1=et,M$2=tt;else{if(tt===null)throw Error(p$4(310));M$2=tt,tt={memoizedState:M$2.memoizedState,baseState:M$2.baseState,baseQueue:M$2.baseQueue,queue:M$2.queue,next:null},N$1===null?L$2.memoizedState=N$1=tt:N$1=N$1.next=tt}return N$1}function bi(tt,et){return typeof et=="function"?et(tt):et}function ci(tt){var et=ai(),nt=et.queue;if(nt===null)throw Error(p$4(311));nt.lastRenderedReducer=tt;var rt=M$2,it=rt.baseQueue,ot=nt.pending;if(ot!==null){if(it!==null){var at=it.next;it.next=ot.next,ot.next=at}rt.baseQueue=it=ot,nt.pending=null}if(it!==null){ot=it.next,rt=rt.baseState;var st=at=null,lt=null,ct=ot;do{var ft=ct.lane;if((Oh&ft)===ft)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),rt=ct.hasEagerState?ct.eagerState:tt(rt,ct.action);else{var ut={lane:ft,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(st=lt=ut,at=rt):lt=lt.next=ut,L$2.lanes|=ft,Fg|=ft}ct=ct.next}while(ct!==null&&ct!==ot);lt===null?at=rt:lt.next=st,Ge$1(rt,et.memoizedState)||(tg=!0),et.memoizedState=rt,et.baseState=at,et.baseQueue=lt,nt.lastRenderedState=rt}if(tt=nt.interleaved,tt!==null){it=tt;do ot=it.lane,L$2.lanes|=ot,Fg|=ot,it=it.next;while(it!==tt)}else it===null&&(nt.lanes=0);return[et.memoizedState,nt.dispatch]}function di(tt){var et=ai(),nt=et.queue;if(nt===null)throw Error(p$4(311));nt.lastRenderedReducer=tt;var rt=nt.dispatch,it=nt.pending,ot=et.memoizedState;if(it!==null){nt.pending=null;var at=it=it.next;do ot=tt(ot,at.action),at=at.next;while(at!==it);Ge$1(ot,et.memoizedState)||(tg=!0),et.memoizedState=ot,et.baseQueue===null&&(et.baseState=ot),nt.lastRenderedState=ot}return[ot,rt]}function ei(){}function fi(tt,et){var nt=L$2,rt=ai(),it=et(),ot=!Ge$1(rt.memoizedState,it);if(ot&&(rt.memoizedState=it,tg=!0),rt=rt.queue,gi(hi.bind(null,nt,rt,tt),[tt]),rt.getSnapshot!==et||ot||N$1!==null&&N$1.memoizedState.tag&1){if(nt.flags|=2048,ii(9,ji.bind(null,nt,rt,it,et),void 0,null),P$2===null)throw Error(p$4(349));(Oh&30)!==0||ki(nt,et,it)}return it}function ki(tt,et,nt){tt.flags|=16384,tt={getSnapshot:et,value:nt},et=L$2.updateQueue,et===null?(et={lastEffect:null,stores:null},L$2.updateQueue=et,et.stores=[tt]):(nt=et.stores,nt===null?et.stores=[tt]:nt.push(tt))}function ji(tt,et,nt,rt){et.value=nt,et.getSnapshot=rt,li(et)&&Lg(tt,1,-1)}function hi(tt,et,nt){return nt(function(){li(et)&&Lg(tt,1,-1)})}function li(tt){var et=tt.getSnapshot;tt=tt.value;try{var nt=et();return!Ge$1(tt,nt)}catch{return!0}}function mi(tt){var et=$h();return typeof tt=="function"&&(tt=tt()),et.memoizedState=et.baseState=tt,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:tt},et.queue=tt,tt=tt.dispatch=ni.bind(null,L$2,tt),[et.memoizedState,tt]}function ii(tt,et,nt,rt){return tt={tag:tt,create:et,destroy:nt,deps:rt,next:null},et=L$2.updateQueue,et===null?(et={lastEffect:null,stores:null},L$2.updateQueue=et,et.lastEffect=tt.next=tt):(nt=et.lastEffect,nt===null?et.lastEffect=tt.next=tt:(rt=nt.next,nt.next=tt,tt.next=rt,et.lastEffect=tt)),tt}function oi(){return ai().memoizedState}function pi(tt,et,nt,rt){var it=$h();L$2.flags|=tt,it.memoizedState=ii(1|et,nt,void 0,rt===void 0?null:rt)}function qi(tt,et,nt,rt){var it=ai();rt=rt===void 0?null:rt;var ot=void 0;if(M$2!==null){var at=M$2.memoizedState;if(ot=at.destroy,rt!==null&&Th(rt,at.deps)){it.memoizedState=ii(et,nt,ot,rt);return}}L$2.flags|=tt,it.memoizedState=ii(1|et,nt,ot,rt)}function ri(tt,et){return pi(8390656,8,tt,et)}function gi(tt,et){return qi(2048,8,tt,et)}function si(tt,et){return qi(4,2,tt,et)}function ti(tt,et){return qi(4,4,tt,et)}function ui(tt,et){if(typeof et=="function")return tt=tt(),et(tt),function(){et(null)};if(et!=null)return tt=tt(),et.current=tt,function(){et.current=null}}function vi(tt,et,nt){return nt=nt!=null?nt.concat([tt]):null,qi(4,4,ui.bind(null,et,tt),nt)}function wi(){}function xi(tt,et){var nt=ai();et=et===void 0?null:et;var rt=nt.memoizedState;return rt!==null&&et!==null&&Th(et,rt[1])?rt[0]:(nt.memoizedState=[tt,et],tt)}function yi(tt,et){var nt=ai();et=et===void 0?null:et;var rt=nt.memoizedState;return rt!==null&&et!==null&&Th(et,rt[1])?rt[0]:(tt=tt(),nt.memoizedState=[tt,et],tt)}function zi(tt,et,nt){return(Oh&21)===0?(tt.baseState&&(tt.baseState=!1,tg=!0),tt.memoizedState=nt):(Ge$1(nt,et)||(nt=xc(),L$2.lanes|=nt,Fg|=nt,tt.baseState=!0),et)}function Ai(tt,et){var nt=C$1;C$1=nt!==0&&4>nt?nt:4,tt(!0);var rt=Nh.transition;Nh.transition={};try{tt(!1),et()}finally{C$1=nt,Nh.transition=rt}}function Bi(){return ai().memoizedState}function Ci(tt,et,nt){var rt=Kg(tt);nt={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null},Di(tt)?Ei(et,nt):(Fi(tt,et,nt),nt=Jg(),tt=Lg(tt,rt,nt),tt!==null&&Gi(tt,et,rt))}function ni(tt,et,nt){var rt=Kg(tt),it={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null};if(Di(tt))Ei(et,it);else{Fi(tt,et,it);var ot=tt.alternate;if(tt.lanes===0&&(ot===null||ot.lanes===0)&&(ot=et.lastRenderedReducer,ot!==null))try{var at=et.lastRenderedState,st=ot(at,nt);if(it.hasEagerState=!0,it.eagerState=st,Ge$1(st,at))return}catch{}finally{}nt=Jg(),tt=Lg(tt,rt,nt),tt!==null&&Gi(tt,et,rt)}}function Di(tt){var et=tt.alternate;return tt===L$2||et!==null&&et===L$2}function Ei(tt,et){Qh=Ph=!0;var nt=tt.pending;nt===null?et.next=et:(et.next=nt.next,nt.next=et),tt.pending=et}function Fi(tt,et,nt){Bg(tt)?(tt=et.interleaved,tt===null?(nt.next=nt,vg===null?vg=[et]:vg.push(et)):(nt.next=tt.next,tt.next=nt),et.interleaved=nt):(tt=et.pending,tt===null?nt.next=nt:(nt.next=tt.next,tt.next=nt),et.pending=nt)}function Gi(tt,et,nt){if((nt&4194240)!==0){var rt=et.lanes;rt&=tt.pendingLanes,nt|=rt,et.lanes=nt,Bc(tt,nt)}}var Yh={readContext:ug,useCallback:O$1,useContext:O$1,useEffect:O$1,useImperativeHandle:O$1,useInsertionEffect:O$1,useLayoutEffect:O$1,useMemo:O$1,useReducer:O$1,useRef:O$1,useState:O$1,useDebugValue:O$1,useDeferredValue:O$1,useTransition:O$1,useMutableSource:O$1,useSyncExternalStore:O$1,useId:O$1,unstable_isNewReconciler:!1},Vh={readContext:ug,useCallback:function(tt,et){return $h().memoizedState=[tt,et===void 0?null:et],tt},useContext:ug,useEffect:ri,useImperativeHandle:function(tt,et,nt){return nt=nt!=null?nt.concat([tt]):null,pi(4194308,4,ui.bind(null,et,tt),nt)},useLayoutEffect:function(tt,et){return pi(4194308,4,tt,et)},useInsertionEffect:function(tt,et){return pi(4,2,tt,et)},useMemo:function(tt,et){var nt=$h();return et=et===void 0?null:et,tt=tt(),nt.memoizedState=[tt,et],tt},useReducer:function(tt,et,nt){var rt=$h();return et=nt!==void 0?nt(et):et,rt.memoizedState=rt.baseState=et,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:et},rt.queue=tt,tt=tt.dispatch=Ci.bind(null,L$2,tt),[rt.memoizedState,tt]},useRef:function(tt){var et=$h();return tt={current:tt},et.memoizedState=tt},useState:mi,useDebugValue:wi,useDeferredValue:function(tt){return $h().memoizedState=tt},useTransition:function(){var tt=mi(!1),et=tt[0];return tt=Ai.bind(null,tt[1]),$h().memoizedState=tt,[et,tt]},useMutableSource:function(){},useSyncExternalStore:function(tt,et,nt){var rt=L$2,it=$h();if(I$3){if(nt===void 0)throw Error(p$4(407));nt=nt()}else{if(nt=et(),P$2===null)throw Error(p$4(349));(Oh&30)!==0||ki(rt,et,nt)}it.memoizedState=nt;var ot={value:nt,getSnapshot:et};return it.queue=ot,ri(hi.bind(null,rt,ot,tt),[tt]),rt.flags|=2048,ii(9,ji.bind(null,rt,ot,nt,et),void 0,null),nt},useId:function(){var tt=$h(),et=P$2.identifierPrefix;if(I$3){var nt=Zg,rt=Yg;nt=(rt&~(1<<32-nc(rt)-1)).toString(32)+nt,et=":"+et+"R"+nt,nt=Rh++,0<nt&&(et+="H"+nt.toString(32)),et+=":"}else nt=Sh++,et=":"+et+"r"+nt.toString(32)+":";return tt.memoizedState=et},unstable_isNewReconciler:!1},Wh={readContext:ug,useCallback:xi,useContext:ug,useEffect:gi,useImperativeHandle:vi,useInsertionEffect:si,useLayoutEffect:ti,useMemo:yi,useReducer:ci,useRef:oi,useState:function(){return ci(bi)},useDebugValue:wi,useDeferredValue:function(tt){var et=ai();return zi(et,M$2.memoizedState,tt)},useTransition:function(){var tt=ci(bi)[0],et=ai().memoizedState;return[tt,et]},useMutableSource:ei,useSyncExternalStore:fi,useId:Bi,unstable_isNewReconciler:!1},Xh={readContext:ug,useCallback:xi,useContext:ug,useEffect:gi,useImperativeHandle:vi,useInsertionEffect:si,useLayoutEffect:ti,useMemo:yi,useReducer:di,useRef:oi,useState:function(){return di(bi)},useDebugValue:wi,useDeferredValue:function(tt){var et=ai();return M$2===null?et.memoizedState=tt:zi(et,M$2.memoizedState,tt)},useTransition:function(){var tt=di(bi)[0],et=ai().memoizedState;return[tt,et]},useMutableSource:ei,useSyncExternalStore:fi,useId:Bi,unstable_isNewReconciler:!1};function Hi(tt,et){try{var nt="",rt=et;do nt+=Oa(rt),rt=rt.return;while(rt);var it=nt}catch(ot){it=`
Error generating stack: `+ot.message+`
`+ot.stack}return{value:tt,source:et,stack:it}}function Ii(tt,et){try{console.error(et.value)}catch(nt){setTimeout(function(){throw nt})}}var Ji=typeof WeakMap=="function"?WeakMap:Map;function Ki(tt,et,nt){nt=zg(-1,nt),nt.tag=3,nt.payload={element:null};var rt=et.value;return nt.callback=function(){Li||(Li=!0,Mi=rt),Ii(tt,et)},nt}function Ni(tt,et,nt){nt=zg(-1,nt),nt.tag=3;var rt=tt.type.getDerivedStateFromError;if(typeof rt=="function"){var it=et.value;nt.payload=function(){return rt(it)},nt.callback=function(){Ii(tt,et)}}var ot=tt.stateNode;return ot!==null&&typeof ot.componentDidCatch=="function"&&(nt.callback=function(){Ii(tt,et),typeof rt!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var at=et.stack;this.componentDidCatch(et.value,{componentStack:at!==null?at:""})}),nt}function Pi(tt,et,nt){var rt=tt.pingCache;if(rt===null){rt=tt.pingCache=new Ji;var it=new Set;rt.set(et,it)}else it=rt.get(et),it===void 0&&(it=new Set,rt.set(et,it));it.has(nt)||(it.add(nt),tt=Qi.bind(null,tt,et,nt),et.then(tt,tt))}function Ri(tt){do{var et;if((et=tt.tag===13)&&(et=tt.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return tt;tt=tt.return}while(tt!==null);return null}function Si(tt,et,nt,rt,it){return(tt.mode&1)===0?(tt===et?tt.flags|=65536:(tt.flags|=128,nt.flags|=131072,nt.flags&=-52805,nt.tag===1&&(nt.alternate===null?nt.tag=17:(et=zg(-1,1),et.tag=2,Ag(nt,et))),nt.lanes|=1),tt):(tt.flags|=65536,tt.lanes=it,tt)}var Ti,Ui,Vi,Wi;Ti=function(tt,et){for(var nt=et.child;nt!==null;){if(nt.tag===5||nt.tag===6)tt.appendChild(nt.stateNode);else if(nt.tag!==4&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===et)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===et)return;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}};Ui=function(){};Vi=function(tt,et,nt,rt){var it=tt.memoizedProps;if(it!==rt){tt=et.stateNode,Eh(Bh.current);var ot=null;switch(nt){case"input":it=Xa(tt,it),rt=Xa(tt,rt),ot=[];break;case"select":it=A$4({},it,{value:void 0}),rt=A$4({},rt,{value:void 0}),ot=[];break;case"textarea":it=fb(tt,it),rt=fb(tt,rt),ot=[];break;default:typeof it.onClick!="function"&&typeof rt.onClick=="function"&&(tt.onclick=Af)}tb(nt,rt);var at;nt=null;for(ct in it)if(!rt.hasOwnProperty(ct)&&it.hasOwnProperty(ct)&&it[ct]!=null)if(ct==="style"){var st=it[ct];for(at in st)st.hasOwnProperty(at)&&(nt||(nt={}),nt[at]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?ot||(ot=[]):(ot=ot||[]).push(ct,null));for(ct in rt){var lt=rt[ct];if(st=it!=null?it[ct]:void 0,rt.hasOwnProperty(ct)&&lt!==st&&(lt!=null||st!=null))if(ct==="style")if(st){for(at in st)!st.hasOwnProperty(at)||lt&&lt.hasOwnProperty(at)||(nt||(nt={}),nt[at]="");for(at in lt)lt.hasOwnProperty(at)&&st[at]!==lt[at]&&(nt||(nt={}),nt[at]=lt[at])}else nt||(ot||(ot=[]),ot.push(ct,nt)),nt=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,st=st?st.__html:void 0,lt!=null&&st!==lt&&(ot=ot||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(ot=ot||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D$2("scroll",tt),ot||st===lt||(ot=[])):(ot=ot||[]).push(ct,lt))}nt&&(ot=ot||[]).push("style",nt);var ct=ot;(et.updateQueue=ct)&&(et.flags|=4)}};Wi=function(tt,et,nt,rt){nt!==rt&&(et.flags|=4)};function Xi(tt,et){if(!I$3)switch(tt.tailMode){case"hidden":et=tt.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?tt.tail=null:nt.sibling=null;break;case"collapsed":nt=tt.tail;for(var rt=null;nt!==null;)nt.alternate!==null&&(rt=nt),nt=nt.sibling;rt===null?et||tt.tail===null?tt.tail=null:tt.tail.sibling=null:rt.sibling=null}}function Q$2(tt){var et=tt.alternate!==null&&tt.alternate.child===tt.child,nt=0,rt=0;if(et)for(var it=tt.child;it!==null;)nt|=it.lanes|it.childLanes,rt|=it.subtreeFlags&14680064,rt|=it.flags&14680064,it.return=tt,it=it.sibling;else for(it=tt.child;it!==null;)nt|=it.lanes|it.childLanes,rt|=it.subtreeFlags,rt|=it.flags,it.return=tt,it=it.sibling;return tt.subtreeFlags|=rt,tt.childLanes=nt,et}function Yi(tt,et,nt){var rt=et.pendingProps;switch(ch(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Q$2(et),null;case 1:return Yf(et.type)&&Zf(),Q$2(et),null;case 3:return rt=et.stateNode,Gh(),E$3(Vf),E$3(H$3),Lh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(tt===null||tt.child===null)&&(mh(et)?et.flags|=4:tt===null||tt.memoizedState.isDehydrated&&(et.flags&256)===0||(et.flags|=1024,fh!==null&&(Zi(fh),fh=null))),Ui(tt,et),Q$2(et),null;case 5:Ih(et);var it=Eh(Dh.current);if(nt=et.type,tt!==null&&et.stateNode!=null)Vi(tt,et,nt,rt,it),tt.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!rt){if(et.stateNode===null)throw Error(p$4(166));return Q$2(et),null}if(tt=Eh(Bh.current),mh(et)){rt=et.stateNode,nt=et.type;var ot=et.memoizedProps;switch(rt[Nf]=et,rt[Of]=ot,tt=(et.mode&1)!==0,nt){case"dialog":D$2("cancel",rt),D$2("close",rt);break;case"iframe":case"object":case"embed":D$2("load",rt);break;case"video":case"audio":for(it=0;it<kf.length;it++)D$2(kf[it],rt);break;case"source":D$2("error",rt);break;case"img":case"image":case"link":D$2("error",rt),D$2("load",rt);break;case"details":D$2("toggle",rt);break;case"input":Ya(rt,ot),D$2("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!ot.multiple},D$2("invalid",rt);break;case"textarea":gb(rt,ot),D$2("invalid",rt)}tb(nt,ot),it=null;for(var at in ot)if(ot.hasOwnProperty(at)){var st=ot[at];at==="children"?typeof st=="string"?rt.textContent!==st&&(ot.suppressHydrationWarning!==!0&&zf(rt.textContent,st,tt),it=["children",st]):typeof st=="number"&&rt.textContent!==""+st&&(ot.suppressHydrationWarning!==!0&&zf(rt.textContent,st,tt),it=["children",""+st]):ea.hasOwnProperty(at)&&st!=null&&at==="onScroll"&&D$2("scroll",rt)}switch(nt){case"input":Ua(rt),cb(rt,ot,!0);break;case"textarea":Ua(rt),ib(rt);break;case"select":case"option":break;default:typeof ot.onClick=="function"&&(rt.onclick=Af)}rt=it,et.updateQueue=rt,rt!==null&&(et.flags|=4)}else{at=it.nodeType===9?it:it.ownerDocument,tt==="http://www.w3.org/1999/xhtml"&&(tt=jb(nt)),tt==="http://www.w3.org/1999/xhtml"?nt==="script"?(tt=at.createElement("div"),tt.innerHTML="<script><\/script>",tt=tt.removeChild(tt.firstChild)):typeof rt.is=="string"?tt=at.createElement(nt,{is:rt.is}):(tt=at.createElement(nt),nt==="select"&&(at=tt,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):tt=at.createElementNS(tt,nt),tt[Nf]=et,tt[Of]=rt,Ti(tt,et,!1,!1),et.stateNode=tt;e:{switch(at=ub(nt,rt),nt){case"dialog":D$2("cancel",tt),D$2("close",tt),it=rt;break;case"iframe":case"object":case"embed":D$2("load",tt),it=rt;break;case"video":case"audio":for(it=0;it<kf.length;it++)D$2(kf[it],tt);it=rt;break;case"source":D$2("error",tt),it=rt;break;case"img":case"image":case"link":D$2("error",tt),D$2("load",tt),it=rt;break;case"details":D$2("toggle",tt),it=rt;break;case"input":Ya(tt,rt),it=Xa(tt,rt),D$2("invalid",tt);break;case"option":it=rt;break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},it=A$4({},rt,{value:void 0}),D$2("invalid",tt);break;case"textarea":gb(tt,rt),it=fb(tt,rt),D$2("invalid",tt);break;default:it=rt}tb(nt,it),st=it;for(ot in st)if(st.hasOwnProperty(ot)){var lt=st[ot];ot==="style"?rb(tt,lt):ot==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&mb(tt,lt)):ot==="children"?typeof lt=="string"?(nt!=="textarea"||lt!=="")&&nb(tt,lt):typeof lt=="number"&&nb(tt,""+lt):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?lt!=null&&ot==="onScroll"&&D$2("scroll",tt):lt!=null&&sa(tt,ot,lt,at))}switch(nt){case"input":Ua(tt),cb(tt,rt,!1);break;case"textarea":Ua(tt),ib(tt);break;case"option":rt.value!=null&&tt.setAttribute("value",""+Ra(rt.value));break;case"select":tt.multiple=!!rt.multiple,ot=rt.value,ot!=null?eb(tt,!!rt.multiple,ot,!1):rt.defaultValue!=null&&eb(tt,!!rt.multiple,rt.defaultValue,!0);break;default:typeof it.onClick=="function"&&(tt.onclick=Af)}switch(nt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return Q$2(et),null;case 6:if(tt&&et.stateNode!=null)Wi(tt,et,tt.memoizedProps,rt);else{if(typeof rt!="string"&&et.stateNode===null)throw Error(p$4(166));if(nt=Eh(Dh.current),Eh(Bh.current),mh(et)){if(rt=et.stateNode,nt=et.memoizedProps,rt[Nf]=et,(ot=rt.nodeValue!==nt)&&(tt=dh,tt!==null))switch(tt.tag){case 3:zf(rt.nodeValue,nt,(tt.mode&1)!==0);break;case 5:tt.memoizedProps.suppressHydrationWarning!==!0&&zf(rt.nodeValue,nt,(tt.mode&1)!==0)}ot&&(et.flags|=4)}else rt=(nt.nodeType===9?nt:nt.ownerDocument).createTextNode(rt),rt[Nf]=et,et.stateNode=rt}return Q$2(et),null;case 13:if(E$3(K$1),rt=et.memoizedState,I$3&&eh!==null&&(et.mode&1)!==0&&(et.flags&128)===0){for(rt=eh;rt;)rt=Kf(rt.nextSibling);return nh(),et.flags|=98560,et}if(rt!==null&&rt.dehydrated!==null){if(rt=mh(et),tt===null){if(!rt)throw Error(p$4(318));if(rt=et.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$4(317));rt[Nf]=et}else nh(),(et.flags&128)===0&&(et.memoizedState=null),et.flags|=4;return Q$2(et),null}return fh!==null&&(Zi(fh),fh=null),(et.flags&128)!==0?(et.lanes=nt,et):(rt=rt!==null,nt=!1,tt===null?mh(et):nt=tt.memoizedState!==null,rt!==nt&&rt&&(et.child.flags|=8192,(et.mode&1)!==0&&(tt===null||(K$1.current&1)!==0?R$1===0&&(R$1=3):$i())),et.updateQueue!==null&&(et.flags|=4),Q$2(et),null);case 4:return Gh(),Ui(tt,et),tt===null&&rf(et.stateNode.containerInfo),Q$2(et),null;case 10:return qg(et.type._context),Q$2(et),null;case 17:return Yf(et.type)&&Zf(),Q$2(et),null;case 19:if(E$3(K$1),ot=et.memoizedState,ot===null)return Q$2(et),null;if(rt=(et.flags&128)!==0,at=ot.rendering,at===null)if(rt)Xi(ot,!1);else{if(R$1!==0||tt!==null&&(tt.flags&128)!==0)for(tt=et.child;tt!==null;){if(at=Jh(tt),at!==null){for(et.flags|=128,Xi(ot,!1),rt=at.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),et.subtreeFlags=0,rt=nt,nt=et.child;nt!==null;)ot=nt,tt=rt,ot.flags&=14680066,at=ot.alternate,at===null?(ot.childLanes=0,ot.lanes=tt,ot.child=null,ot.subtreeFlags=0,ot.memoizedProps=null,ot.memoizedState=null,ot.updateQueue=null,ot.dependencies=null,ot.stateNode=null):(ot.childLanes=at.childLanes,ot.lanes=at.lanes,ot.child=at.child,ot.subtreeFlags=0,ot.deletions=null,ot.memoizedProps=at.memoizedProps,ot.memoizedState=at.memoizedState,ot.updateQueue=at.updateQueue,ot.type=at.type,tt=at.dependencies,ot.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext}),nt=nt.sibling;return G$3(K$1,K$1.current&1|2),et.child}tt=tt.sibling}ot.tail!==null&&B$3()>aj&&(et.flags|=128,rt=!0,Xi(ot,!1),et.lanes=4194304)}else{if(!rt)if(tt=Jh(at),tt!==null){if(et.flags|=128,rt=!0,nt=tt.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),Xi(ot,!0),ot.tail===null&&ot.tailMode==="hidden"&&!at.alternate&&!I$3)return Q$2(et),null}else 2*B$3()-ot.renderingStartTime>aj&&nt!==1073741824&&(et.flags|=128,rt=!0,Xi(ot,!1),et.lanes=4194304);ot.isBackwards?(at.sibling=et.child,et.child=at):(nt=ot.last,nt!==null?nt.sibling=at:et.child=at,ot.last=at)}return ot.tail!==null?(et=ot.tail,ot.rendering=et,ot.tail=et.sibling,ot.renderingStartTime=B$3(),et.sibling=null,nt=K$1.current,G$3(K$1,rt?nt&1|2:nt&1),et):(Q$2(et),null);case 22:case 23:return bj(),rt=et.memoizedState!==null,tt!==null&&tt.memoizedState!==null!==rt&&(et.flags|=8192),rt&&(et.mode&1)!==0?(cj&1073741824)!==0&&(Q$2(et),et.subtreeFlags&6&&(et.flags|=8192)):Q$2(et),null;case 24:return null;case 25:return null}throw Error(p$4(156,et.tag))}var dj=ta.ReactCurrentOwner,tg=!1;function ej(tt,et,nt,rt){et.child=tt===null?zh(et,null,nt,rt):yh(et,tt.child,nt,rt)}function fj(tt,et,nt,rt,it){nt=nt.render;var ot=et.ref;return sg(et,it),rt=Uh(tt,et,nt,rt,ot,it),nt=Zh(),tt!==null&&!tg?(et.updateQueue=tt.updateQueue,et.flags&=-2053,tt.lanes&=~it,gj(tt,et,it)):(I$3&&nt&&bh(et),et.flags|=1,ej(tt,et,rt,it),et.child)}function hj(tt,et,nt,rt,it){if(tt===null){var ot=nt.type;return typeof ot=="function"&&!ij(ot)&&ot.defaultProps===void 0&&nt.compare===null&&nt.defaultProps===void 0?(et.tag=15,et.type=ot,jj(tt,et,ot,rt,it)):(tt=vh(nt.type,null,rt,et,et.mode,it),tt.ref=et.ref,tt.return=et,et.child=tt)}if(ot=tt.child,(tt.lanes&it)===0){var at=ot.memoizedProps;if(nt=nt.compare,nt=nt!==null?nt:He$1,nt(at,rt)&&tt.ref===et.ref)return gj(tt,et,it)}return et.flags|=1,tt=th(ot,rt),tt.ref=et.ref,tt.return=et,et.child=tt}function jj(tt,et,nt,rt,it){if(tt!==null){var ot=tt.memoizedProps;if(He$1(ot,rt)&&tt.ref===et.ref)if(tg=!1,et.pendingProps=rt=ot,(tt.lanes&it)!==0)(tt.flags&131072)!==0&&(tg=!0);else return et.lanes=tt.lanes,gj(tt,et,it)}return kj(tt,et,nt,rt,it)}function lj(tt,et,nt){var rt=et.pendingProps,it=rt.children,ot=tt!==null?tt.memoizedState:null;if(rt.mode==="hidden")if((et.mode&1)===0)et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(mj,cj),cj|=nt;else if((nt&1073741824)!==0)et.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=ot!==null?ot.baseLanes:nt,G$3(mj,cj),cj|=rt;else return tt=ot!==null?ot.baseLanes|nt:nt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:tt,cachePool:null,transitions:null},et.updateQueue=null,G$3(mj,cj),cj|=tt,null;else ot!==null?(rt=ot.baseLanes|nt,et.memoizedState=null):rt=nt,G$3(mj,cj),cj|=rt;return ej(tt,et,it,nt),et.child}function nj(tt,et){var nt=et.ref;(tt===null&&nt!==null||tt!==null&&tt.ref!==nt)&&(et.flags|=512,et.flags|=2097152)}function kj(tt,et,nt,rt,it){var ot=Yf(nt)?Wf:H$3.current;return ot=Xf(et,ot),sg(et,it),nt=Uh(tt,et,nt,rt,ot,it),rt=Zh(),tt!==null&&!tg?(et.updateQueue=tt.updateQueue,et.flags&=-2053,tt.lanes&=~it,gj(tt,et,it)):(I$3&&rt&&bh(et),et.flags|=1,ej(tt,et,nt,it),et.child)}function oj(tt,et,nt,rt,it){if(Yf(nt)){var ot=!0;bg(et)}else ot=!1;if(sg(et,it),et.stateNode===null)tt!==null&&(tt.alternate=null,et.alternate=null,et.flags|=2),Og(et,nt,rt),Qg(et,nt,rt,it),rt=!0;else if(tt===null){var at=et.stateNode,st=et.memoizedProps;at.props=st;var lt=at.context,ct=nt.contextType;typeof ct=="object"&&ct!==null?ct=ug(ct):(ct=Yf(nt)?Wf:H$3.current,ct=Xf(et,ct));var ft=nt.getDerivedStateFromProps,ut=typeof ft=="function"||typeof at.getSnapshotBeforeUpdate=="function";ut||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==rt||lt!==ct)&&Pg(et,at,rt,ct),wg=!1;var dt=et.memoizedState;at.state=dt,Eg(et,rt,at,it),lt=et.memoizedState,st!==rt||dt!==lt||Vf.current||wg?(typeof ft=="function"&&(Ig(et,nt,ft,rt),lt=et.memoizedState),(st=wg||Ng(et,nt,st,rt,dt,lt,ct))?(ut||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(et.flags|=4194308)):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=rt,et.memoizedState=lt),at.props=rt,at.state=lt,at.context=ct,rt=st):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),rt=!1)}else{at=et.stateNode,yg(tt,et),st=et.memoizedProps,ct=et.type===et.elementType?st:kg(et.type,st),at.props=ct,ut=et.pendingProps,dt=at.context,lt=nt.contextType,typeof lt=="object"&&lt!==null?lt=ug(lt):(lt=Yf(nt)?Wf:H$3.current,lt=Xf(et,lt));var ht=nt.getDerivedStateFromProps;(ft=typeof ht=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==ut||dt!==lt)&&Pg(et,at,rt,lt),wg=!1,dt=et.memoizedState,at.state=dt,Eg(et,rt,at,it);var pt=et.memoizedState;st!==ut||dt!==pt||Vf.current||wg?(typeof ht=="function"&&(Ig(et,nt,ht,rt),pt=et.memoizedState),(ct=wg||Ng(et,nt,ct,rt,dt,pt,lt)||!1)?(ft||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(rt,pt,lt),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(rt,pt,lt)),typeof at.componentDidUpdate=="function"&&(et.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof at.componentDidUpdate!="function"||st===tt.memoizedProps&&dt===tt.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===tt.memoizedProps&&dt===tt.memoizedState||(et.flags|=1024),et.memoizedProps=rt,et.memoizedState=pt),at.props=rt,at.state=pt,at.context=lt,rt=ct):(typeof at.componentDidUpdate!="function"||st===tt.memoizedProps&&dt===tt.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===tt.memoizedProps&&dt===tt.memoizedState||(et.flags|=1024),rt=!1)}return pj(tt,et,nt,rt,ot,it)}function pj(tt,et,nt,rt,it,ot){nj(tt,et);var at=(et.flags&128)!==0;if(!rt&&!at)return it&&cg(et,nt,!1),gj(tt,et,ot);rt=et.stateNode,dj.current=et;var st=at&&typeof nt.getDerivedStateFromError!="function"?null:rt.render();return et.flags|=1,tt!==null&&at?(et.child=yh(et,tt.child,null,ot),et.child=yh(et,null,st,ot)):ej(tt,et,st,ot),et.memoizedState=rt.state,it&&cg(et,nt,!0),et.child}function qj(tt){var et=tt.stateNode;et.pendingContext?$f(tt,et.pendingContext,et.pendingContext!==et.context):et.context&&$f(tt,et.context,!1),Fh(tt,et.containerInfo)}function rj(tt,et,nt,rt,it){return nh(),oh(it),et.flags|=256,ej(tt,et,nt,rt),et.child}var sj={dehydrated:null,treeContext:null,retryLane:0};function tj(tt){return{baseLanes:tt,cachePool:null,transitions:null}}function uj(tt,et){return{baseLanes:tt.baseLanes|et,cachePool:null,transitions:tt.transitions}}function vj(tt,et,nt){var rt=et.pendingProps,it=K$1.current,ot=!1,at=(et.flags&128)!==0,st;if((st=at)||(st=tt!==null&&tt.memoizedState===null?!1:(it&2)!==0),st?(ot=!0,et.flags&=-129):(tt===null||tt.memoizedState!==null)&&(it|=1),G$3(K$1,it&1),tt===null)return kh(et),tt=et.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null)?((et.mode&1)===0?et.lanes=1:tt.data==="$!"?et.lanes=8:et.lanes=1073741824,null):(it=rt.children,tt=rt.fallback,ot?(rt=et.mode,ot=et.child,it={mode:"hidden",children:it},(rt&1)===0&&ot!==null?(ot.childLanes=0,ot.pendingProps=it):ot=wj(it,rt,0,null),tt=xh(tt,rt,nt,null),ot.return=et,tt.return=et,ot.sibling=tt,et.child=ot,et.child.memoizedState=tj(nt),et.memoizedState=sj,tt):xj(et,it));if(it=tt.memoizedState,it!==null){if(st=it.dehydrated,st!==null){if(at)return et.flags&256?(et.flags&=-257,yj(tt,et,nt,Error(p$4(422)))):et.memoizedState!==null?(et.child=tt.child,et.flags|=128,null):(ot=rt.fallback,it=et.mode,rt=wj({mode:"visible",children:rt.children},it,0,null),ot=xh(ot,it,nt,null),ot.flags|=2,rt.return=et,ot.return=et,rt.sibling=ot,et.child=rt,(et.mode&1)!==0&&yh(et,tt.child,null,nt),et.child.memoizedState=tj(nt),et.memoizedState=sj,ot);if((et.mode&1)===0)et=yj(tt,et,nt,null);else if(st.data==="$!")et=yj(tt,et,nt,Error(p$4(419)));else if(rt=(nt&tt.childLanes)!==0,tg||rt){if(rt=P$2,rt!==null){switch(nt&-nt){case 4:ot=2;break;case 16:ot=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ot=32;break;case 536870912:ot=268435456;break;default:ot=0}rt=(ot&(rt.suspendedLanes|nt))!==0?0:ot,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,Lg(tt,rt,-1))}$i(),et=yj(tt,et,nt,Error(p$4(421)))}else st.data==="$?"?(et.flags|=128,et.child=tt.child,et=zj.bind(null,tt),st._reactRetry=et,et=null):(nt=it.treeContext,eh=Kf(st.nextSibling),dh=et,I$3=!0,fh=null,nt!==null&&(Vg[Wg++]=Yg,Vg[Wg++]=Zg,Vg[Wg++]=Xg,Yg=nt.id,Zg=nt.overflow,Xg=et),et=xj(et,et.pendingProps.children),et.flags|=4096);return et}return ot?(rt=Aj(tt,et,rt.children,rt.fallback,nt),ot=et.child,it=tt.child.memoizedState,ot.memoizedState=it===null?tj(nt):uj(it,nt),ot.childLanes=tt.childLanes&~nt,et.memoizedState=sj,rt):(nt=Bj(tt,et,rt.children,nt),et.memoizedState=null,nt)}return ot?(rt=Aj(tt,et,rt.children,rt.fallback,nt),ot=et.child,it=tt.child.memoizedState,ot.memoizedState=it===null?tj(nt):uj(it,nt),ot.childLanes=tt.childLanes&~nt,et.memoizedState=sj,rt):(nt=Bj(tt,et,rt.children,nt),et.memoizedState=null,nt)}function xj(tt,et){return et=wj({mode:"visible",children:et},tt.mode,0,null),et.return=tt,tt.child=et}function Bj(tt,et,nt,rt){var it=tt.child;return tt=it.sibling,nt=th(it,{mode:"visible",children:nt}),(et.mode&1)===0&&(nt.lanes=rt),nt.return=et,nt.sibling=null,tt!==null&&(rt=et.deletions,rt===null?(et.deletions=[tt],et.flags|=16):rt.push(tt)),et.child=nt}function Aj(tt,et,nt,rt,it){var ot=et.mode;tt=tt.child;var at=tt.sibling,st={mode:"hidden",children:nt};return(ot&1)===0&&et.child!==tt?(nt=et.child,nt.childLanes=0,nt.pendingProps=st,et.deletions=null):(nt=th(tt,st),nt.subtreeFlags=tt.subtreeFlags&14680064),at!==null?rt=th(at,rt):(rt=xh(rt,ot,it,null),rt.flags|=2),rt.return=et,nt.return=et,nt.sibling=rt,et.child=nt,rt}function yj(tt,et,nt,rt){return rt!==null&&oh(rt),yh(et,tt.child,null,nt),tt=xj(et,et.pendingProps.children),tt.flags|=2,et.memoizedState=null,tt}function Cj(tt,et,nt){tt.lanes|=et;var rt=tt.alternate;rt!==null&&(rt.lanes|=et),rg(tt.return,et,nt)}function Dj(tt,et,nt,rt,it){var ot=tt.memoizedState;ot===null?tt.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:nt,tailMode:it}:(ot.isBackwards=et,ot.rendering=null,ot.renderingStartTime=0,ot.last=rt,ot.tail=nt,ot.tailMode=it)}function Ej(tt,et,nt){var rt=et.pendingProps,it=rt.revealOrder,ot=rt.tail;if(ej(tt,et,rt.children,nt),rt=K$1.current,(rt&2)!==0)rt=rt&1|2,et.flags|=128;else{if(tt!==null&&(tt.flags&128)!==0)e:for(tt=et.child;tt!==null;){if(tt.tag===13)tt.memoizedState!==null&&Cj(tt,nt,et);else if(tt.tag===19)Cj(tt,nt,et);else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)break e;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}rt&=1}if(G$3(K$1,rt),(et.mode&1)===0)et.memoizedState=null;else switch(it){case"forwards":for(nt=et.child,it=null;nt!==null;)tt=nt.alternate,tt!==null&&Jh(tt)===null&&(it=nt),nt=nt.sibling;nt=it,nt===null?(it=et.child,et.child=null):(it=nt.sibling,nt.sibling=null),Dj(et,!1,it,nt,ot);break;case"backwards":for(nt=null,it=et.child,et.child=null;it!==null;){if(tt=it.alternate,tt!==null&&Jh(tt)===null){et.child=it;break}tt=it.sibling,it.sibling=nt,nt=it,it=tt}Dj(et,!0,nt,null,ot);break;case"together":Dj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function gj(tt,et,nt){if(tt!==null&&(et.dependencies=tt.dependencies),Fg|=et.lanes,(nt&et.childLanes)===0)return null;if(tt!==null&&et.child!==tt.child)throw Error(p$4(153));if(et.child!==null){for(tt=et.child,nt=th(tt,tt.pendingProps),et.child=nt,nt.return=et;tt.sibling!==null;)tt=tt.sibling,nt=nt.sibling=th(tt,tt.pendingProps),nt.return=et;nt.sibling=null}return et.child}function Fj(tt,et,nt){switch(et.tag){case 3:qj(et),nh();break;case 5:Hh(et);break;case 1:Yf(et.type)&&bg(et);break;case 4:Fh(et,et.stateNode.containerInfo);break;case 10:var rt=et.type._context,it=et.memoizedProps.value;G$3(lg,rt._currentValue),rt._currentValue=it;break;case 13:if(rt=et.memoizedState,rt!==null)return rt.dehydrated!==null?(G$3(K$1,K$1.current&1),et.flags|=128,null):(nt&et.child.childLanes)!==0?vj(tt,et,nt):(G$3(K$1,K$1.current&1),tt=gj(tt,et,nt),tt!==null?tt.sibling:null);G$3(K$1,K$1.current&1);break;case 19:if(rt=(nt&et.childLanes)!==0,(tt.flags&128)!==0){if(rt)return Ej(tt,et,nt);et.flags|=128}if(it=et.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$3(K$1,K$1.current),rt)break;return null;case 22:case 23:return et.lanes=0,lj(tt,et,nt)}return gj(tt,et,nt)}function Gj(tt,et){switch(ch(et),et.tag){case 1:return Yf(et.type)&&Zf(),tt=et.flags,tt&65536?(et.flags=tt&-65537|128,et):null;case 3:return Gh(),E$3(Vf),E$3(H$3),Lh(),tt=et.flags,(tt&65536)!==0&&(tt&128)===0?(et.flags=tt&-65537|128,et):null;case 5:return Ih(et),null;case 13:if(E$3(K$1),tt=et.memoizedState,tt!==null&&tt.dehydrated!==null){if(et.alternate===null)throw Error(p$4(340));nh()}return tt=et.flags,tt&65536?(et.flags=tt&-65537|128,et):null;case 19:return E$3(K$1),null;case 4:return Gh(),null;case 10:return qg(et.type._context),null;case 22:case 23:return bj(),null;case 24:return null;default:return null}}var Hj=!1,S$2=!1,Ij=typeof WeakSet=="function"?WeakSet:Set,T$1=null;function Jj(tt,et){var nt=tt.ref;if(nt!==null)if(typeof nt=="function")try{nt(null)}catch(rt){U$2(tt,et,rt)}else nt.current=null}function Kj(tt,et,nt){try{nt()}catch(rt){U$2(tt,et,rt)}}var Lj=!1;function Mj(tt,et){if(Bf=cd,tt=Le(),Me$1(tt)){if("selectionStart"in tt)var nt={start:tt.selectionStart,end:tt.selectionEnd};else e:{nt=(nt=tt.ownerDocument)&&nt.defaultView||window;var rt=nt.getSelection&&nt.getSelection();if(rt&&rt.rangeCount!==0){nt=rt.anchorNode;var it=rt.anchorOffset,ot=rt.focusNode;rt=rt.focusOffset;try{nt.nodeType,ot.nodeType}catch{nt=null;break e}var at=0,st=-1,lt=-1,ct=0,ft=0,ut=tt,dt=null;t:for(;;){for(var ht;ut!==nt||it!==0&&ut.nodeType!==3||(st=at+it),ut!==ot||rt!==0&&ut.nodeType!==3||(lt=at+rt),ut.nodeType===3&&(at+=ut.nodeValue.length),(ht=ut.firstChild)!==null;)dt=ut,ut=ht;for(;;){if(ut===tt)break t;if(dt===nt&&++ct===it&&(st=at),dt===ot&&++ft===rt&&(lt=at),(ht=ut.nextSibling)!==null)break;ut=dt,dt=ut.parentNode}ut=ht}nt=st===-1||lt===-1?null:{start:st,end:lt}}else nt=null}nt=nt||{start:0,end:0}}else nt=null;for(Cf={focusedElem:tt,selectionRange:nt},cd=!1,T$1=et;T$1!==null;)if(et=T$1,tt=et.child,(et.subtreeFlags&1028)!==0&&tt!==null)tt.return=et,T$1=tt;else for(;T$1!==null;){et=T$1;try{var pt=et.alternate;if((et.flags&1024)!==0)switch(et.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var gt=pt.memoizedProps,mt=pt.memoizedState,yt=et.stateNode,bt=yt.getSnapshotBeforeUpdate(et.elementType===et.type?gt:kg(et.type,gt),mt);yt.__reactInternalSnapshotBeforeUpdate=bt}break;case 3:var St=et.stateNode.containerInfo;if(St.nodeType===1)St.textContent="";else if(St.nodeType===9){var xt=St.body;xt!=null&&(xt.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(vt){U$2(et,et.return,vt)}if(tt=et.sibling,tt!==null){tt.return=et.return,T$1=tt;break}T$1=et.return}return pt=Lj,Lj=!1,pt}function Nj(tt,et,nt){var rt=et.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var it=rt=rt.next;do{if((it.tag&tt)===tt){var ot=it.destroy;it.destroy=void 0,ot!==void 0&&Kj(et,nt,ot)}it=it.next}while(it!==rt)}}function Oj(tt,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var nt=et=et.next;do{if((nt.tag&tt)===tt){var rt=nt.create;nt.destroy=rt()}nt=nt.next}while(nt!==et)}}function Pj(tt){var et=tt.ref;if(et!==null){var nt=tt.stateNode;switch(tt.tag){case 5:tt=nt;break;default:tt=nt}typeof et=="function"?et(tt):et.current=tt}}function Qj(tt){var et=tt.alternate;et!==null&&(tt.alternate=null,Qj(et)),tt.child=null,tt.deletions=null,tt.sibling=null,tt.tag===5&&(et=tt.stateNode,et!==null&&(delete et[Nf],delete et[Of],delete et[nf],delete et[Pf],delete et[Qf])),tt.stateNode=null,tt.return=null,tt.dependencies=null,tt.memoizedProps=null,tt.memoizedState=null,tt.pendingProps=null,tt.stateNode=null,tt.updateQueue=null}function Rj(tt){return tt.tag===5||tt.tag===3||tt.tag===4}function Sj(tt){e:for(;;){for(;tt.sibling===null;){if(tt.return===null||Rj(tt.return))return null;tt=tt.return}for(tt.sibling.return=tt.return,tt=tt.sibling;tt.tag!==5&&tt.tag!==6&&tt.tag!==18;){if(tt.flags&2||tt.child===null||tt.tag===4)continue e;tt.child.return=tt,tt=tt.child}if(!(tt.flags&2))return tt.stateNode}}function Tj(tt,et,nt){var rt=tt.tag;if(rt===5||rt===6)tt=tt.stateNode,et?nt.nodeType===8?nt.parentNode.insertBefore(tt,et):nt.insertBefore(tt,et):(nt.nodeType===8?(et=nt.parentNode,et.insertBefore(tt,nt)):(et=nt,et.appendChild(tt)),nt=nt._reactRootContainer,nt!=null||et.onclick!==null||(et.onclick=Af));else if(rt!==4&&(tt=tt.child,tt!==null))for(Tj(tt,et,nt),tt=tt.sibling;tt!==null;)Tj(tt,et,nt),tt=tt.sibling}function Uj(tt,et,nt){var rt=tt.tag;if(rt===5||rt===6)tt=tt.stateNode,et?nt.insertBefore(tt,et):nt.appendChild(tt);else if(rt!==4&&(tt=tt.child,tt!==null))for(Uj(tt,et,nt),tt=tt.sibling;tt!==null;)Uj(tt,et,nt),tt=tt.sibling}var V$1=null,Vj=!1;function Wj(tt,et,nt){for(nt=nt.child;nt!==null;)Xj(tt,et,nt),nt=nt.sibling}function Xj(tt,et,nt){if(kc&&typeof kc.onCommitFiberUnmount=="function")try{kc.onCommitFiberUnmount(jc,nt)}catch{}switch(nt.tag){case 5:S$2||Jj(nt,et);case 6:var rt=V$1,it=Vj;V$1=null,Wj(tt,et,nt),V$1=rt,Vj=it,V$1!==null&&(Vj?(tt=V$1,nt=nt.stateNode,tt.nodeType===8?tt.parentNode.removeChild(nt):tt.removeChild(nt)):V$1.removeChild(nt.stateNode));break;case 18:V$1!==null&&(Vj?(tt=V$1,nt=nt.stateNode,tt.nodeType===8?Jf(tt.parentNode,nt):tt.nodeType===1&&Jf(tt,nt),ad(tt)):Jf(V$1,nt.stateNode));break;case 4:rt=V$1,it=Vj,V$1=nt.stateNode.containerInfo,Vj=!0,Wj(tt,et,nt),V$1=rt,Vj=it;break;case 0:case 11:case 14:case 15:if(!S$2&&(rt=nt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){it=rt=rt.next;do{var ot=it,at=ot.destroy;ot=ot.tag,at!==void 0&&((ot&2)!==0||(ot&4)!==0)&&Kj(nt,et,at),it=it.next}while(it!==rt)}Wj(tt,et,nt);break;case 1:if(!S$2&&(Jj(nt,et),rt=nt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=nt.memoizedProps,rt.state=nt.memoizedState,rt.componentWillUnmount()}catch(st){U$2(nt,et,st)}Wj(tt,et,nt);break;case 21:Wj(tt,et,nt);break;case 22:nt.mode&1?(S$2=(rt=S$2)||nt.memoizedState!==null,Wj(tt,et,nt),S$2=rt):Wj(tt,et,nt);break;default:Wj(tt,et,nt)}}function Yj(tt){var et=tt.updateQueue;if(et!==null){tt.updateQueue=null;var nt=tt.stateNode;nt===null&&(nt=tt.stateNode=new Ij),et.forEach(function(rt){var it=Zj.bind(null,tt,rt);nt.has(rt)||(nt.add(rt),rt.then(it,it))})}}function ak(tt,et){var nt=et.deletions;if(nt!==null)for(var rt=0;rt<nt.length;rt++){var it=nt[rt];try{var ot=tt,at=et,st=at;e:for(;st!==null;){switch(st.tag){case 5:V$1=st.stateNode,Vj=!1;break e;case 3:V$1=st.stateNode.containerInfo,Vj=!0;break e;case 4:V$1=st.stateNode.containerInfo,Vj=!0;break e}st=st.return}if(V$1===null)throw Error(p$4(160));Xj(ot,at,it),V$1=null,Vj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ct){U$2(it,et,ct)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)bk(et,tt),et=et.sibling}function bk(tt,et){var nt=tt.alternate,rt=tt.flags;switch(tt.tag){case 0:case 11:case 14:case 15:if(ak(et,tt),ck(tt),rt&4){try{Nj(3,tt,tt.return),Oj(3,tt)}catch(pt){U$2(tt,tt.return,pt)}try{Nj(5,tt,tt.return)}catch(pt){U$2(tt,tt.return,pt)}}break;case 1:ak(et,tt),ck(tt),rt&512&&nt!==null&&Jj(nt,nt.return);break;case 5:if(ak(et,tt),ck(tt),rt&512&&nt!==null&&Jj(nt,nt.return),tt.flags&32){var it=tt.stateNode;try{nb(it,"")}catch(pt){U$2(tt,tt.return,pt)}}if(rt&4&&(it=tt.stateNode,it!=null)){var ot=tt.memoizedProps,at=nt!==null?nt.memoizedProps:ot,st=tt.type,lt=tt.updateQueue;if(tt.updateQueue=null,lt!==null)try{st==="input"&&ot.type==="radio"&&ot.name!=null&&Za(it,ot),ub(st,at);var ct=ub(st,ot);for(at=0;at<lt.length;at+=2){var ft=lt[at],ut=lt[at+1];ft==="style"?rb(it,ut):ft==="dangerouslySetInnerHTML"?mb(it,ut):ft==="children"?nb(it,ut):sa(it,ft,ut,ct)}switch(st){case"input":$a(it,ot);break;case"textarea":hb(it,ot);break;case"select":var dt=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!ot.multiple;var ht=ot.value;ht!=null?eb(it,!!ot.multiple,ht,!1):dt!==!!ot.multiple&&(ot.defaultValue!=null?eb(it,!!ot.multiple,ot.defaultValue,!0):eb(it,!!ot.multiple,ot.multiple?[]:"",!1))}it[Of]=ot}catch(pt){U$2(tt,tt.return,pt)}}break;case 6:if(ak(et,tt),ck(tt),rt&4){if(tt.stateNode===null)throw Error(p$4(162));ct=tt.stateNode,ft=tt.memoizedProps;try{ct.nodeValue=ft}catch(pt){U$2(tt,tt.return,pt)}}break;case 3:if(ak(et,tt),ck(tt),rt&4&&nt!==null&&nt.memoizedState.isDehydrated)try{ad(et.containerInfo)}catch(pt){U$2(tt,tt.return,pt)}break;case 4:ak(et,tt),ck(tt);break;case 13:ak(et,tt),ck(tt),ct=tt.child,ct.flags&8192&&ct.memoizedState!==null&&(ct.alternate===null||ct.alternate.memoizedState===null)&&(dk=B$3()),rt&4&&Yj(tt);break;case 22:if(ct=nt!==null&&nt.memoizedState!==null,tt.mode&1?(S$2=(ft=S$2)||ct,ak(et,tt),S$2=ft):ak(et,tt),ck(tt),rt&8192){ft=tt.memoizedState!==null;e:for(ut=null,dt=tt;;){if(dt.tag===5){if(ut===null){ut=dt;try{it=dt.stateNode,ft?(ot=it.style,typeof ot.setProperty=="function"?ot.setProperty("display","none","important"):ot.display="none"):(st=dt.stateNode,lt=dt.memoizedProps.style,at=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,st.style.display=qb("display",at))}catch(pt){U$2(tt,tt.return,pt)}}}else if(dt.tag===6){if(ut===null)try{dt.stateNode.nodeValue=ft?"":dt.memoizedProps}catch(pt){U$2(tt,tt.return,pt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===tt)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===tt)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===tt)break e;ut===dt&&(ut=null),dt=dt.return}ut===dt&&(ut=null),dt.sibling.return=dt.return,dt=dt.sibling}if(ft&&!ct&&(tt.mode&1)!==0)for(T$1=tt,tt=tt.child;tt!==null;){for(ct=T$1=tt;T$1!==null;){switch(ft=T$1,ut=ft.child,ft.tag){case 0:case 11:case 14:case 15:Nj(4,ft,ft.return);break;case 1:if(Jj(ft,ft.return),ot=ft.stateNode,typeof ot.componentWillUnmount=="function"){dt=ft,ht=ft.return;try{it=dt,ot.props=it.memoizedProps,ot.state=it.memoizedState,ot.componentWillUnmount()}catch(pt){U$2(dt,ht,pt)}}break;case 5:Jj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){ek(ct);continue}}ut!==null?(ut.return=ft,T$1=ut):ek(ct)}tt=tt.sibling}}break;case 19:ak(et,tt),ck(tt),rt&4&&Yj(tt);break;case 21:break;default:ak(et,tt),ck(tt)}}function ck(tt){var et=tt.flags;if(et&2){try{e:{for(var nt=tt.return;nt!==null;){if(Rj(nt)){var rt=nt;break e}nt=nt.return}throw Error(p$4(160))}switch(rt.tag){case 5:var it=rt.stateNode;rt.flags&32&&(nb(it,""),rt.flags&=-33);var ot=Sj(tt);Uj(tt,ot,it);break;case 3:case 4:var at=rt.stateNode.containerInfo,st=Sj(tt);Tj(tt,st,at);break;default:throw Error(p$4(161))}}catch(lt){U$2(tt,tt.return,lt)}tt.flags&=-3}et&4096&&(tt.flags&=-4097)}function fk(tt,et,nt){T$1=tt,gk(tt)}function gk(tt,et,nt){for(var rt=(tt.mode&1)!==0;T$1!==null;){var it=T$1,ot=it.child;if(it.tag===22&&rt){var at=it.memoizedState!==null||Hj;if(!at){var st=it.alternate,lt=st!==null&&st.memoizedState!==null||S$2;st=Hj;var ct=S$2;if(Hj=at,(S$2=lt)&&!ct)for(T$1=it;T$1!==null;)at=T$1,lt=at.child,at.tag===22&&at.memoizedState!==null?hk(it):lt!==null?(lt.return=at,T$1=lt):hk(it);for(;ot!==null;)T$1=ot,gk(ot),ot=ot.sibling;T$1=it,Hj=st,S$2=ct}ik(tt)}else(it.subtreeFlags&8772)!==0&&ot!==null?(ot.return=it,T$1=ot):ik(tt)}}function ik(tt){for(;T$1!==null;){var et=T$1;if((et.flags&8772)!==0){var nt=et.alternate;try{if((et.flags&8772)!==0)switch(et.tag){case 0:case 11:case 15:S$2||Oj(5,et);break;case 1:var rt=et.stateNode;if(et.flags&4&&!S$2)if(nt===null)rt.componentDidMount();else{var it=et.elementType===et.type?nt.memoizedProps:kg(et.type,nt.memoizedProps);rt.componentDidUpdate(it,nt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var ot=et.updateQueue;ot!==null&&Gg(et,ot,rt);break;case 3:var at=et.updateQueue;if(at!==null){if(nt=null,et.child!==null)switch(et.child.tag){case 5:nt=et.child.stateNode;break;case 1:nt=et.child.stateNode}Gg(et,at,nt)}break;case 5:var st=et.stateNode;if(nt===null&&et.flags&4){nt=st;var lt=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&nt.focus();break;case"img":lt.src&&(nt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ct=et.alternate;if(ct!==null){var ft=ct.memoizedState;if(ft!==null){var ut=ft.dehydrated;ut!==null&&ad(ut)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(p$4(163))}S$2||et.flags&512&&Pj(et)}catch(dt){U$2(et,et.return,dt)}}if(et===tt){T$1=null;break}if(nt=et.sibling,nt!==null){nt.return=et.return,T$1=nt;break}T$1=et.return}}function ek(tt){for(;T$1!==null;){var et=T$1;if(et===tt){T$1=null;break}var nt=et.sibling;if(nt!==null){nt.return=et.return,T$1=nt;break}T$1=et.return}}function hk(tt){for(;T$1!==null;){var et=T$1;try{switch(et.tag){case 0:case 11:case 15:var nt=et.return;try{Oj(4,et)}catch(lt){U$2(et,nt,lt)}break;case 1:var rt=et.stateNode;if(typeof rt.componentDidMount=="function"){var it=et.return;try{rt.componentDidMount()}catch(lt){U$2(et,it,lt)}}var ot=et.return;try{Pj(et)}catch(lt){U$2(et,ot,lt)}break;case 5:var at=et.return;try{Pj(et)}catch(lt){U$2(et,at,lt)}}}catch(lt){U$2(et,et.return,lt)}if(et===tt){T$1=null;break}var st=et.sibling;if(st!==null){st.return=et.return,T$1=st;break}T$1=et.return}}var jk=Math.ceil,kk=ta.ReactCurrentDispatcher,lk=ta.ReactCurrentOwner,mk=ta.ReactCurrentBatchConfig,W$2=0,P$2=null,X$2=null,Y$1=0,cj=0,mj=Tf(0),R$1=0,nk=null,Fg=0,ok=0,pk=0,qk=null,rk=null,dk=0,aj=1/0,sk=null,Li=!1,Mi=null,Oi=null,tk=!1,uk=null,vk=0,wk=0,xk=null,yk=-1,zk=0;function Jg(){return(W$2&6)!==0?B$3():yk!==-1?yk:yk=B$3()}function Kg(tt){return(tt.mode&1)===0?1:(W$2&2)!==0&&Y$1!==0?Y$1&-Y$1:jg.transition!==null?(zk===0&&(zk=xc()),zk):(tt=C$1,tt!==0||(tt=window.event,tt=tt===void 0?16:id(tt.type)),tt)}function Lg(tt,et,nt){if(50<wk)throw wk=0,xk=null,Error(p$4(185));var rt=Ak(tt,et);return rt===null?null:(zc(rt,et,nt),((W$2&2)===0||rt!==P$2)&&(rt===P$2&&((W$2&2)===0&&(ok|=et),R$1===4&&Bk(rt,Y$1)),Ck(rt,nt),et===1&&W$2===0&&(tt.mode&1)===0&&(aj=B$3()+500,eg&&ig())),rt)}function Ak(tt,et){tt.lanes|=et;var nt=tt.alternate;for(nt!==null&&(nt.lanes|=et),nt=tt,tt=tt.return;tt!==null;)tt.childLanes|=et,nt=tt.alternate,nt!==null&&(nt.childLanes|=et),nt=tt,tt=tt.return;return nt.tag===3?nt.stateNode:null}function Bg(tt){return(P$2!==null||vg!==null)&&(tt.mode&1)!==0&&(W$2&2)===0}function Ck(tt,et){var nt=tt.callbackNode;vc(tt,et);var rt=tc(tt,tt===P$2?Y$1:0);if(rt===0)nt!==null&&ac(nt),tt.callbackNode=null,tt.callbackPriority=0;else if(et=rt&-rt,tt.callbackPriority!==et){if(nt!=null&&ac(nt),et===1)tt.tag===0?hg(Dk.bind(null,tt)):gg(Dk.bind(null,tt)),If(function(){W$2===0&&ig()}),nt=null;else{switch(Cc(rt)){case 1:nt=ec;break;case 4:nt=fc;break;case 16:nt=gc;break;case 536870912:nt=ic;break;default:nt=gc}nt=Ek(nt,Fk.bind(null,tt))}tt.callbackPriority=et,tt.callbackNode=nt}}function Fk(tt,et){if(yk=-1,zk=0,(W$2&6)!==0)throw Error(p$4(327));var nt=tt.callbackNode;if(Gk()&&tt.callbackNode!==nt)return null;var rt=tc(tt,tt===P$2?Y$1:0);if(rt===0)return null;if((rt&30)!==0||(rt&tt.expiredLanes)!==0||et)et=Hk(tt,rt);else{et=rt;var it=W$2;W$2|=2;var ot=Ik();(P$2!==tt||Y$1!==et)&&(sk=null,aj=B$3()+500,Jk(tt,et));do try{Kk();break}catch(st){Lk(tt,st)}while(1);pg(),kk.current=ot,W$2=it,X$2!==null?et=0:(P$2=null,Y$1=0,et=R$1)}if(et!==0){if(et===2&&(it=wc(tt),it!==0&&(rt=it,et=Mk(tt,it))),et===1)throw nt=nk,Jk(tt,0),Bk(tt,rt),Ck(tt,B$3()),nt;if(et===6)Bk(tt,rt);else{if(it=tt.current.alternate,(rt&30)===0&&!Nk(it)&&(et=Hk(tt,rt),et===2&&(ot=wc(tt),ot!==0&&(rt=ot,et=Mk(tt,ot))),et===1))throw nt=nk,Jk(tt,0),Bk(tt,rt),Ck(tt,B$3()),nt;switch(tt.finishedWork=it,tt.finishedLanes=rt,et){case 0:case 1:throw Error(p$4(345));case 2:Ok(tt,rk,sk);break;case 3:if(Bk(tt,rt),(rt&130023424)===rt&&(et=dk+500-B$3(),10<et)){if(tc(tt,0)!==0)break;if(it=tt.suspendedLanes,(it&rt)!==rt){Jg(),tt.pingedLanes|=tt.suspendedLanes&it;break}tt.timeoutHandle=Ef(Ok.bind(null,tt,rk,sk),et);break}Ok(tt,rk,sk);break;case 4:if(Bk(tt,rt),(rt&4194240)===rt)break;for(et=tt.eventTimes,it=-1;0<rt;){var at=31-nc(rt);ot=1<<at,at=et[at],at>it&&(it=at),rt&=~ot}if(rt=it,rt=B$3()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*jk(rt/1960))-rt,10<rt){tt.timeoutHandle=Ef(Ok.bind(null,tt,rk,sk),rt);break}Ok(tt,rk,sk);break;case 5:Ok(tt,rk,sk);break;default:throw Error(p$4(329))}}}return Ck(tt,B$3()),tt.callbackNode===nt?Fk.bind(null,tt):null}function Mk(tt,et){var nt=qk;return tt.current.memoizedState.isDehydrated&&(Jk(tt,et).flags|=256),tt=Hk(tt,et),tt!==2&&(et=rk,rk=nt,et!==null&&Zi(et)),tt}function Zi(tt){rk===null?rk=tt:rk.push.apply(rk,tt)}function Nk(tt){for(var et=tt;;){if(et.flags&16384){var nt=et.updateQueue;if(nt!==null&&(nt=nt.stores,nt!==null))for(var rt=0;rt<nt.length;rt++){var it=nt[rt],ot=it.getSnapshot;it=it.value;try{if(!Ge$1(ot(),it))return!1}catch{return!1}}}if(nt=et.child,et.subtreeFlags&16384&&nt!==null)nt.return=et,et=nt;else{if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Bk(tt,et){for(et&=~pk,et&=~ok,tt.suspendedLanes|=et,tt.pingedLanes&=~et,tt=tt.expirationTimes;0<et;){var nt=31-nc(et),rt=1<<nt;tt[nt]=-1,et&=~rt}}function Dk(tt){if((W$2&6)!==0)throw Error(p$4(327));Gk();var et=tc(tt,0);if((et&1)===0)return Ck(tt,B$3()),null;var nt=Hk(tt,et);if(tt.tag!==0&&nt===2){var rt=wc(tt);rt!==0&&(et=rt,nt=Mk(tt,rt))}if(nt===1)throw nt=nk,Jk(tt,0),Bk(tt,et),Ck(tt,B$3()),nt;if(nt===6)throw Error(p$4(345));return tt.finishedWork=tt.current.alternate,tt.finishedLanes=et,Ok(tt,rk,sk),Ck(tt,B$3()),null}function Pk(tt,et){var nt=W$2;W$2|=1;try{return tt(et)}finally{W$2=nt,W$2===0&&(aj=B$3()+500,eg&&ig())}}function Qk(tt){uk!==null&&uk.tag===0&&(W$2&6)===0&&Gk();var et=W$2;W$2|=1;var nt=mk.transition,rt=C$1;try{if(mk.transition=null,C$1=1,tt)return tt()}finally{C$1=rt,mk.transition=nt,W$2=et,(W$2&6)===0&&ig()}}function bj(){cj=mj.current,E$3(mj)}function Jk(tt,et){tt.finishedWork=null,tt.finishedLanes=0;var nt=tt.timeoutHandle;if(nt!==-1&&(tt.timeoutHandle=-1,Ff(nt)),X$2!==null)for(nt=X$2.return;nt!==null;){var rt=nt;switch(ch(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&Zf();break;case 3:Gh(),E$3(Vf),E$3(H$3),Lh();break;case 5:Ih(rt);break;case 4:Gh();break;case 13:E$3(K$1);break;case 19:E$3(K$1);break;case 10:qg(rt.type._context);break;case 22:case 23:bj()}nt=nt.return}if(P$2=tt,X$2=tt=th(tt.current,null),Y$1=cj=et,R$1=0,nk=null,pk=ok=Fg=0,rk=qk=null,vg!==null){for(et=0;et<vg.length;et++)if(nt=vg[et],rt=nt.interleaved,rt!==null){nt.interleaved=null;var it=rt.next,ot=nt.pending;if(ot!==null){var at=ot.next;ot.next=it,rt.next=at}nt.pending=rt}vg=null}return tt}function Lk(tt,et){do{var nt=X$2;try{if(pg(),Mh.current=Yh,Ph){for(var rt=L$2.memoizedState;rt!==null;){var it=rt.queue;it!==null&&(it.pending=null),rt=rt.next}Ph=!1}if(Oh=0,N$1=M$2=L$2=null,Qh=!1,Rh=0,lk.current=null,nt===null||nt.return===null){R$1=1,nk=et,X$2=null;break}e:{var ot=tt,at=nt.return,st=nt,lt=et;if(et=Y$1,st.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ft=st,ut=ft.tag;if((ft.mode&1)===0&&(ut===0||ut===11||ut===15)){var dt=ft.alternate;dt?(ft.updateQueue=dt.updateQueue,ft.memoizedState=dt.memoizedState,ft.lanes=dt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var ht=Ri(at);if(ht!==null){ht.flags&=-257,Si(ht,at,st,ot,et),ht.mode&1&&Pi(ot,ct,et),et=ht,lt=ct;var pt=et.updateQueue;if(pt===null){var gt=new Set;gt.add(lt),et.updateQueue=gt}else pt.add(lt);break e}else{if((et&1)===0){Pi(ot,ct,et),$i();break e}lt=Error(p$4(426))}}else if(I$3&&st.mode&1){var mt=Ri(at);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Si(mt,at,st,ot,et),oh(lt);break e}}ot=lt,R$1!==4&&(R$1=2),qk===null?qk=[ot]:qk.push(ot),lt=Hi(lt,st),st=at;do{switch(st.tag){case 3:st.flags|=65536,et&=-et,st.lanes|=et;var yt=Ki(st,lt,et);Dg(st,yt);break e;case 1:ot=lt;var bt=st.type,St=st.stateNode;if((st.flags&128)===0&&(typeof bt.getDerivedStateFromError=="function"||St!==null&&typeof St.componentDidCatch=="function"&&(Oi===null||!Oi.has(St)))){st.flags|=65536,et&=-et,st.lanes|=et;var xt=Ni(st,ot,et);Dg(st,xt);break e}}st=st.return}while(st!==null)}Rk(nt)}catch(vt){et=vt,X$2===nt&&nt!==null&&(X$2=nt=nt.return);continue}break}while(1)}function Ik(){var tt=kk.current;return kk.current=Yh,tt===null?Yh:tt}function $i(){(R$1===0||R$1===3||R$1===2)&&(R$1=4),P$2===null||(Fg&268435455)===0&&(ok&268435455)===0||Bk(P$2,Y$1)}function Hk(tt,et){var nt=W$2;W$2|=2;var rt=Ik();(P$2!==tt||Y$1!==et)&&(sk=null,Jk(tt,et));do try{Sk();break}catch(it){Lk(tt,it)}while(1);if(pg(),W$2=nt,kk.current=rt,X$2!==null)throw Error(p$4(261));return P$2=null,Y$1=0,R$1}function Sk(){for(;X$2!==null;)Tk(X$2)}function Kk(){for(;X$2!==null&&!bc();)Tk(X$2)}function Tk(tt){var et=Uk(tt.alternate,tt,cj);tt.memoizedProps=tt.pendingProps,et===null?Rk(tt):X$2=et,lk.current=null}function Rk(tt){var et=tt;do{var nt=et.alternate;if(tt=et.return,(et.flags&32768)===0){if(nt=Yi(nt,et,cj),nt!==null){X$2=nt;return}}else{if(nt=Gj(nt,et),nt!==null){nt.flags&=32767,X$2=nt;return}if(tt!==null)tt.flags|=32768,tt.subtreeFlags=0,tt.deletions=null;else{R$1=6,X$2=null;return}}if(et=et.sibling,et!==null){X$2=et;return}X$2=et=tt}while(et!==null);R$1===0&&(R$1=5)}function Ok(tt,et,nt){var rt=C$1,it=mk.transition;try{mk.transition=null,C$1=1,Vk(tt,et,nt,rt)}finally{mk.transition=it,C$1=rt}return null}function Vk(tt,et,nt,rt){do Gk();while(uk!==null);if((W$2&6)!==0)throw Error(p$4(327));nt=tt.finishedWork;var it=tt.finishedLanes;if(nt===null)return null;if(tt.finishedWork=null,tt.finishedLanes=0,nt===tt.current)throw Error(p$4(177));tt.callbackNode=null,tt.callbackPriority=0;var ot=nt.lanes|nt.childLanes;if(Ac(tt,ot),tt===P$2&&(X$2=P$2=null,Y$1=0),(nt.subtreeFlags&2064)===0&&(nt.flags&2064)===0||tk||(tk=!0,Ek(gc,function(){return Gk(),null})),ot=(nt.flags&15990)!==0,(nt.subtreeFlags&15990)!==0||ot){ot=mk.transition,mk.transition=null;var at=C$1;C$1=1;var st=W$2;W$2|=4,lk.current=null,Mj(tt,nt),bk(nt,tt),Ne$1(Cf),cd=!!Bf,Cf=Bf=null,tt.current=nt,fk(nt),cc(),W$2=st,C$1=at,mk.transition=ot}else tt.current=nt;if(tk&&(tk=!1,uk=tt,vk=it),ot=tt.pendingLanes,ot===0&&(Oi=null),lc(nt.stateNode),Ck(tt,B$3()),et!==null)for(rt=tt.onRecoverableError,nt=0;nt<et.length;nt++)rt(et[nt]);if(Li)throw Li=!1,tt=Mi,Mi=null,tt;return(vk&1)!==0&&tt.tag!==0&&Gk(),ot=tt.pendingLanes,(ot&1)!==0?tt===xk?wk++:(wk=0,xk=tt):wk=0,ig(),null}function Gk(){if(uk!==null){var tt=Cc(vk),et=mk.transition,nt=C$1;try{if(mk.transition=null,C$1=16>tt?16:tt,uk===null)var rt=!1;else{if(tt=uk,uk=null,vk=0,(W$2&6)!==0)throw Error(p$4(331));var it=W$2;for(W$2|=4,T$1=tt.current;T$1!==null;){var ot=T$1,at=ot.child;if((T$1.flags&16)!==0){var st=ot.deletions;if(st!==null){for(var lt=0;lt<st.length;lt++){var ct=st[lt];for(T$1=ct;T$1!==null;){var ft=T$1;switch(ft.tag){case 0:case 11:case 15:Nj(8,ft,ot)}var ut=ft.child;if(ut!==null)ut.return=ft,T$1=ut;else for(;T$1!==null;){ft=T$1;var dt=ft.sibling,ht=ft.return;if(Qj(ft),ft===ct){T$1=null;break}if(dt!==null){dt.return=ht,T$1=dt;break}T$1=ht}}}var pt=ot.alternate;if(pt!==null){var gt=pt.child;if(gt!==null){pt.child=null;do{var mt=gt.sibling;gt.sibling=null,gt=mt}while(gt!==null)}}T$1=ot}}if((ot.subtreeFlags&2064)!==0&&at!==null)at.return=ot,T$1=at;else e:for(;T$1!==null;){if(ot=T$1,(ot.flags&2048)!==0)switch(ot.tag){case 0:case 11:case 15:Nj(9,ot,ot.return)}var yt=ot.sibling;if(yt!==null){yt.return=ot.return,T$1=yt;break e}T$1=ot.return}}var bt=tt.current;for(T$1=bt;T$1!==null;){at=T$1;var St=at.child;if((at.subtreeFlags&2064)!==0&&St!==null)St.return=at,T$1=St;else e:for(at=bt;T$1!==null;){if(st=T$1,(st.flags&2048)!==0)try{switch(st.tag){case 0:case 11:case 15:Oj(9,st)}}catch(vt){U$2(st,st.return,vt)}if(st===at){T$1=null;break e}var xt=st.sibling;if(xt!==null){xt.return=st.return,T$1=xt;break e}T$1=st.return}}if(W$2=it,ig(),kc&&typeof kc.onPostCommitFiberRoot=="function")try{kc.onPostCommitFiberRoot(jc,tt)}catch{}rt=!0}return rt}finally{C$1=nt,mk.transition=et}}return!1}function Wk(tt,et,nt){et=Hi(nt,et),et=Ki(tt,et,1),Ag(tt,et),et=Jg(),tt=Ak(tt,1),tt!==null&&(zc(tt,1,et),Ck(tt,et))}function U$2(tt,et,nt){if(tt.tag===3)Wk(tt,tt,nt);else for(;et!==null;){if(et.tag===3){Wk(et,tt,nt);break}else if(et.tag===1){var rt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Oi===null||!Oi.has(rt))){tt=Hi(nt,tt),tt=Ni(et,tt,1),Ag(et,tt),tt=Jg(),et=Ak(et,1),et!==null&&(zc(et,1,tt),Ck(et,tt));break}}et=et.return}}function Qi(tt,et,nt){var rt=tt.pingCache;rt!==null&&rt.delete(et),et=Jg(),tt.pingedLanes|=tt.suspendedLanes&nt,P$2===tt&&(Y$1&nt)===nt&&(R$1===4||R$1===3&&(Y$1&130023424)===Y$1&&500>B$3()-dk?Jk(tt,0):pk|=nt),Ck(tt,et)}function Xk(tt,et){et===0&&((tt.mode&1)===0?et=1:(et=rc,rc<<=1,(rc&130023424)===0&&(rc=4194304)));var nt=Jg();tt=Ak(tt,et),tt!==null&&(zc(tt,et,nt),Ck(tt,nt))}function zj(tt){var et=tt.memoizedState,nt=0;et!==null&&(nt=et.retryLane),Xk(tt,nt)}function Zj(tt,et){var nt=0;switch(tt.tag){case 13:var rt=tt.stateNode,it=tt.memoizedState;it!==null&&(nt=it.retryLane);break;case 19:rt=tt.stateNode;break;default:throw Error(p$4(314))}rt!==null&&rt.delete(et),Xk(tt,nt)}var Uk;Uk=function(tt,et,nt){if(tt!==null)if(tt.memoizedProps!==et.pendingProps||Vf.current)tg=!0;else{if((tt.lanes&nt)===0&&(et.flags&128)===0)return tg=!1,Fj(tt,et,nt);tg=(tt.flags&131072)!==0}else tg=!1,I$3&&(et.flags&1048576)!==0&&ah(et,Ug,et.index);switch(et.lanes=0,et.tag){case 2:var rt=et.type;tt!==null&&(tt.alternate=null,et.alternate=null,et.flags|=2),tt=et.pendingProps;var it=Xf(et,H$3.current);sg(et,nt),it=Uh(null,et,rt,tt,it,nt);var ot=Zh();return et.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Yf(rt)?(ot=!0,bg(et)):ot=!1,et.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,xg(et),it.updater=Mg,et.stateNode=it,it._reactInternals=et,Qg(et,rt,tt,nt),et=pj(null,et,rt,!0,ot,nt)):(et.tag=0,I$3&&ot&&bh(et),ej(null,et,it,nt),et=et.child),et;case 16:rt=et.elementType;e:{switch(tt!==null&&(tt.alternate=null,et.alternate=null,et.flags|=2),tt=et.pendingProps,it=rt._init,rt=it(rt._payload),et.type=rt,it=et.tag=Yk(rt),tt=kg(rt,tt),it){case 0:et=kj(null,et,rt,tt,nt);break e;case 1:et=oj(null,et,rt,tt,nt);break e;case 11:et=fj(null,et,rt,tt,nt);break e;case 14:et=hj(null,et,rt,kg(rt.type,tt),nt);break e}throw Error(p$4(306,rt,""))}return et;case 0:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:kg(rt,it),kj(tt,et,rt,it,nt);case 1:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:kg(rt,it),oj(tt,et,rt,it,nt);case 3:e:{if(qj(et),tt===null)throw Error(p$4(387));rt=et.pendingProps,ot=et.memoizedState,it=ot.element,yg(tt,et),Eg(et,rt,null,nt);var at=et.memoizedState;if(rt=at.element,ot.isDehydrated)if(ot={element:rt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},et.updateQueue.baseState=ot,et.memoizedState=ot,et.flags&256){it=Error(p$4(423)),et=rj(tt,et,rt,nt,it);break e}else if(rt!==it){it=Error(p$4(424)),et=rj(tt,et,rt,nt,it);break e}else for(eh=Kf(et.stateNode.containerInfo.firstChild),dh=et,I$3=!0,fh=null,nt=zh(et,null,rt,nt),et.child=nt;nt;)nt.flags=nt.flags&-3|4096,nt=nt.sibling;else{if(nh(),rt===it){et=gj(tt,et,nt);break e}ej(tt,et,rt,nt)}et=et.child}return et;case 5:return Hh(et),tt===null&&kh(et),rt=et.type,it=et.pendingProps,ot=tt!==null?tt.memoizedProps:null,at=it.children,Df(rt,it)?at=null:ot!==null&&Df(rt,ot)&&(et.flags|=32),nj(tt,et),ej(tt,et,at,nt),et.child;case 6:return tt===null&&kh(et),null;case 13:return vj(tt,et,nt);case 4:return Fh(et,et.stateNode.containerInfo),rt=et.pendingProps,tt===null?et.child=yh(et,null,rt,nt):ej(tt,et,rt,nt),et.child;case 11:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:kg(rt,it),fj(tt,et,rt,it,nt);case 7:return ej(tt,et,et.pendingProps,nt),et.child;case 8:return ej(tt,et,et.pendingProps.children,nt),et.child;case 12:return ej(tt,et,et.pendingProps.children,nt),et.child;case 10:e:{if(rt=et.type._context,it=et.pendingProps,ot=et.memoizedProps,at=it.value,G$3(lg,rt._currentValue),rt._currentValue=at,ot!==null)if(Ge$1(ot.value,at)){if(ot.children===it.children&&!Vf.current){et=gj(tt,et,nt);break e}}else for(ot=et.child,ot!==null&&(ot.return=et);ot!==null;){var st=ot.dependencies;if(st!==null){at=ot.child;for(var lt=st.firstContext;lt!==null;){if(lt.context===rt){if(ot.tag===1){lt=zg(-1,nt&-nt),lt.tag=2;var ct=ot.updateQueue;if(ct!==null){ct=ct.shared;var ft=ct.pending;ft===null?lt.next=lt:(lt.next=ft.next,ft.next=lt),ct.pending=lt}}ot.lanes|=nt,lt=ot.alternate,lt!==null&&(lt.lanes|=nt),rg(ot.return,nt,et),st.lanes|=nt;break}lt=lt.next}}else if(ot.tag===10)at=ot.type===et.type?null:ot.child;else if(ot.tag===18){if(at=ot.return,at===null)throw Error(p$4(341));at.lanes|=nt,st=at.alternate,st!==null&&(st.lanes|=nt),rg(at,nt,et),at=ot.sibling}else at=ot.child;if(at!==null)at.return=ot;else for(at=ot;at!==null;){if(at===et){at=null;break}if(ot=at.sibling,ot!==null){ot.return=at.return,at=ot;break}at=at.return}ot=at}ej(tt,et,it.children,nt),et=et.child}return et;case 9:return it=et.type,rt=et.pendingProps.children,sg(et,nt),it=ug(it),rt=rt(it),et.flags|=1,ej(tt,et,rt,nt),et.child;case 14:return rt=et.type,it=kg(rt,et.pendingProps),it=kg(rt.type,it),hj(tt,et,rt,it,nt);case 15:return jj(tt,et,et.type,et.pendingProps,nt);case 17:return rt=et.type,it=et.pendingProps,it=et.elementType===rt?it:kg(rt,it),tt!==null&&(tt.alternate=null,et.alternate=null,et.flags|=2),et.tag=1,Yf(rt)?(tt=!0,bg(et)):tt=!1,sg(et,nt),Og(et,rt,it),Qg(et,rt,it,nt),pj(null,et,rt,!0,tt,nt);case 19:return Ej(tt,et,nt);case 22:return lj(tt,et,nt)}throw Error(p$4(156,et.tag))};function Ek(tt,et){return $b(tt,et)}function Zk(tt,et,nt,rt){this.tag=tt,this.key=nt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hh(tt,et,nt,rt){return new Zk(tt,et,nt,rt)}function ij(tt){return tt=tt.prototype,!(!tt||!tt.isReactComponent)}function Yk(tt){if(typeof tt=="function")return ij(tt)?1:0;if(tt!=null){if(tt=tt.$$typeof,tt===Ca)return 11;if(tt===Fa)return 14}return 2}function th(tt,et){var nt=tt.alternate;return nt===null?(nt=hh(tt.tag,et,tt.key,tt.mode),nt.elementType=tt.elementType,nt.type=tt.type,nt.stateNode=tt.stateNode,nt.alternate=tt,tt.alternate=nt):(nt.pendingProps=et,nt.type=tt.type,nt.flags=0,nt.subtreeFlags=0,nt.deletions=null),nt.flags=tt.flags&14680064,nt.childLanes=tt.childLanes,nt.lanes=tt.lanes,nt.child=tt.child,nt.memoizedProps=tt.memoizedProps,nt.memoizedState=tt.memoizedState,nt.updateQueue=tt.updateQueue,et=tt.dependencies,nt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},nt.sibling=tt.sibling,nt.index=tt.index,nt.ref=tt.ref,nt}function vh(tt,et,nt,rt,it,ot){var at=2;if(rt=tt,typeof tt=="function")ij(tt)&&(at=1);else if(typeof tt=="string")at=5;else e:switch(tt){case wa:return xh(nt.children,it,ot,et);case xa:at=8,it|=8;break;case za:return tt=hh(12,nt,et,it|2),tt.elementType=za,tt.lanes=ot,tt;case Da:return tt=hh(13,nt,et,it),tt.elementType=Da,tt.lanes=ot,tt;case Ea:return tt=hh(19,nt,et,it),tt.elementType=Ea,tt.lanes=ot,tt;case Ha:return wj(nt,it,ot,et);default:if(typeof tt=="object"&&tt!==null)switch(tt.$$typeof){case Aa:at=10;break e;case Ba:at=9;break e;case Ca:at=11;break e;case Fa:at=14;break e;case Ga:at=16,rt=null;break e}throw Error(p$4(130,tt==null?tt:typeof tt,""))}return et=hh(at,nt,et,it),et.elementType=tt,et.type=rt,et.lanes=ot,et}function xh(tt,et,nt,rt){return tt=hh(7,tt,rt,et),tt.lanes=nt,tt}function wj(tt,et,nt,rt){return tt=hh(22,tt,rt,et),tt.elementType=Ha,tt.lanes=nt,tt.stateNode={},tt}function uh(tt,et,nt){return tt=hh(6,tt,null,et),tt.lanes=nt,tt}function wh(tt,et,nt){return et=hh(4,tt.children!==null?tt.children:[],tt.key,et),et.lanes=nt,et.stateNode={containerInfo:tt.containerInfo,pendingChildren:null,implementation:tt.implementation},et}function $k(tt,et,nt,rt,it){this.tag=et,this.containerInfo=tt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yc(0),this.expirationTimes=yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.identifierPrefix=rt,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function al(tt,et,nt,rt,it,ot,at,st,lt){return tt=new $k(tt,et,nt,st,lt),et===1?(et=1,ot===!0&&(et|=8)):et=0,ot=hh(3,null,null,et),tt.current=ot,ot.stateNode=tt,ot.memoizedState={element:rt,isDehydrated:nt,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(ot),tt}function bl(tt,et,nt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:rt==null?null:""+rt,children:tt,containerInfo:et,implementation:nt}}function cl(tt){if(!tt)return Uf;tt=tt._reactInternals;e:{if(Ub(tt)!==tt||tt.tag!==1)throw Error(p$4(170));var et=tt;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Yf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$4(171))}if(tt.tag===1){var nt=tt.type;if(Yf(nt))return ag(tt,nt,et)}return et}function dl(tt,et,nt,rt,it,ot,at,st,lt){return tt=al(nt,rt,!0,tt,it,ot,at,st,lt),tt.context=cl(null),nt=tt.current,rt=Jg(),it=Kg(nt),ot=zg(rt,it),ot.callback=et!=null?et:null,Ag(nt,ot),tt.current.lanes=it,zc(tt,it,rt),Ck(tt,rt),tt}function el(tt,et,nt,rt){var it=et.current,ot=Jg(),at=Kg(it);return nt=cl(nt),et.context===null?et.context=nt:et.pendingContext=nt,et=zg(ot,at),et.payload={element:tt},rt=rt===void 0?null:rt,rt!==null&&(et.callback=rt),Ag(it,et),tt=Lg(it,at,ot),tt!==null&&Cg(tt,it,at),at}function fl(tt){if(tt=tt.current,!tt.child)return null;switch(tt.child.tag){case 5:return tt.child.stateNode;default:return tt.child.stateNode}}function gl(tt,et){if(tt=tt.memoizedState,tt!==null&&tt.dehydrated!==null){var nt=tt.retryLane;tt.retryLane=nt!==0&&nt<et?nt:et}}function hl(tt,et){gl(tt,et),(tt=tt.alternate)&&gl(tt,et)}function il(){return null}var jl=typeof reportError=="function"?reportError:function(tt){console.error(tt)};function kl(tt){this._internalRoot=tt}ll.prototype.render=kl.prototype.render=function(tt){var et=this._internalRoot;if(et===null)throw Error(p$4(409));el(tt,et,null,null)};ll.prototype.unmount=kl.prototype.unmount=function(){var tt=this._internalRoot;if(tt!==null){this._internalRoot=null;var et=tt.containerInfo;Qk(function(){el(null,tt,null,null)}),et[tf]=null}};function ll(tt){this._internalRoot=tt}ll.prototype.unstable_scheduleHydration=function(tt){if(tt){var et=Gc();tt={blockedOn:null,target:tt,priority:et};for(var nt=0;nt<Pc.length&&et!==0&&et<Pc[nt].priority;nt++);Pc.splice(nt,0,tt),nt===0&&Uc(tt)}};function ml(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11)}function nl(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11&&(tt.nodeType!==8||tt.nodeValue!==" react-mount-point-unstable "))}function ol(){}function pl(tt,et,nt,rt,it){if(it){if(typeof rt=="function"){var ot=rt;rt=function(){var ct=fl(at);ot.call(ct)}}var at=dl(et,rt,tt,0,null,!1,!1,"",ol);return tt._reactRootContainer=at,tt[tf]=at.current,rf(tt.nodeType===8?tt.parentNode:tt),Qk(),at}for(;it=tt.lastChild;)tt.removeChild(it);if(typeof rt=="function"){var st=rt;rt=function(){var ct=fl(lt);st.call(ct)}}var lt=al(tt,0,!1,null,null,!1,!1,"",ol);return tt._reactRootContainer=lt,tt[tf]=lt.current,rf(tt.nodeType===8?tt.parentNode:tt),Qk(function(){el(et,lt,nt,rt)}),lt}function ql(tt,et,nt,rt,it){var ot=nt._reactRootContainer;if(ot){var at=ot;if(typeof it=="function"){var st=it;it=function(){var lt=fl(at);st.call(lt)}}el(et,at,tt,it)}else at=pl(nt,et,tt,it,rt);return fl(at)}Dc=function(tt){switch(tt.tag){case 3:var et=tt.stateNode;if(et.current.memoizedState.isDehydrated){var nt=sc(et.pendingLanes);nt!==0&&(Bc(et,nt|1),Ck(et,B$3()),(W$2&6)===0&&(aj=B$3()+500,ig()))}break;case 13:var rt=Jg();Qk(function(){return Lg(tt,1,rt)}),hl(tt,1)}};Ec=function(tt){if(tt.tag===13){var et=Jg();Lg(tt,134217728,et),hl(tt,134217728)}};Fc=function(tt){if(tt.tag===13){var et=Jg(),nt=Kg(tt);Lg(tt,nt,et),hl(tt,nt)}};Gc=function(){return C$1};Hc=function(tt,et){var nt=C$1;try{return C$1=tt,et()}finally{C$1=nt}};xb=function(tt,et,nt){switch(et){case"input":if($a(tt,nt),et=nt.name,nt.type==="radio"&&et!=null){for(nt=tt;nt.parentNode;)nt=nt.parentNode;for(nt=nt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<nt.length;et++){var rt=nt[et];if(rt!==tt&&rt.form===tt.form){var it=Cb(rt);if(!it)throw Error(p$4(90));Va(rt),$a(rt,it)}}}break;case"textarea":hb(tt,nt);break;case"select":et=nt.value,et!=null&&eb(tt,!!nt.multiple,et,!1)}};Fb=Pk;Gb=Qk;var rl={usingClientEntryPoint:!1,Events:[Bb,te$1,Cb,Db,Eb,Pk]},sl={findFiberByHostInstance:Vc,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},tl={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(tt){return tt=Yb(tt),tt===null?null:tt.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||il,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{jc=ul.inject(tl),kc=ul}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rl;reactDom_production_min.createPortal=function(tt,et){var nt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(et))throw Error(p$4(200));return bl(tt,et,null,nt)};reactDom_production_min.createRoot=function(tt,et){if(!ml(tt))throw Error(p$4(299));var nt=!1,rt="",it=jl;return et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),et=al(tt,1,!1,null,null,nt,!1,rt,it),tt[tf]=et.current,rf(tt.nodeType===8?tt.parentNode:tt),new kl(et)};reactDom_production_min.findDOMNode=function(tt){if(tt==null)return null;if(tt.nodeType===1)return tt;var et=tt._reactInternals;if(et===void 0)throw typeof tt.render=="function"?Error(p$4(188)):(tt=Object.keys(tt).join(","),Error(p$4(268,tt)));return tt=Yb(et),tt=tt===null?null:tt.stateNode,tt};reactDom_production_min.flushSync=function(tt){return Qk(tt)};reactDom_production_min.hydrate=function(tt,et,nt){if(!nl(et))throw Error(p$4(200));return ql(null,tt,et,!0,nt)};reactDom_production_min.hydrateRoot=function(tt,et,nt){if(!ml(tt))throw Error(p$4(405));var rt=nt!=null&&nt.hydratedSources||null,it=!1,ot="",at=jl;if(nt!=null&&(nt.unstable_strictMode===!0&&(it=!0),nt.identifierPrefix!==void 0&&(ot=nt.identifierPrefix),nt.onRecoverableError!==void 0&&(at=nt.onRecoverableError)),et=dl(et,null,tt,1,nt!=null?nt:null,it,!1,ot,at),tt[tf]=et.current,rf(tt),rt)for(tt=0;tt<rt.length;tt++)nt=rt[tt],it=nt._getVersion,it=it(nt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[nt,it]:et.mutableSourceEagerHydrationData.push(nt,it);return new ll(et)};reactDom_production_min.render=function(tt,et,nt){if(!nl(et))throw Error(p$4(200));return ql(null,tt,et,!1,nt)};reactDom_production_min.unmountComponentAtNode=function(tt){if(!nl(tt))throw Error(p$4(40));return tt._reactRootContainer?(Qk(function(){ql(null,null,tt,!1,function(){tt._reactRootContainer=null,tt[tf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Pk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tt,et,nt,rt){if(!nl(nt))throw Error(p$4(200));if(tt==null||tt._reactInternals===void 0)throw Error(p$4(38));return ql(tt,et,nt,!1,rt)};reactDom_production_min.version="18.1.0-next-22edb9f77-20220426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(tt){console.error(tt)}}checkDCE(),reactDom$1.exports=reactDom_production_min;var reactDom=reactDom$1.exports,createRoot,m$3=reactDom$1.exports;createRoot=m$3.createRoot;function _extends$2(){return _extends$2=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$2.apply(this,arguments)}function memoize$1(tt){var et=Object.create(null);return function(nt){return et[nt]===void 0&&(et[nt]=tt(nt)),et[nt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(tt){return reactPropsRegex.test(tt)||tt.charCodeAt(0)===111&&tt.charCodeAt(1)===110&&tt.charCodeAt(2)<91});function sheetForTag(tt){if(tt.sheet)return tt.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===tt)return document.styleSheets[et]}function createStyleElement(tt){var et=document.createElement("style");return et.setAttribute("data-emotion",tt.key),tt.nonce!==void 0&&et.setAttribute("nonce",tt.nonce),et.appendChild(document.createTextNode("")),et.setAttribute("data-s",""),et}var StyleSheet=function(){function tt(nt){var rt=this;this._insertTag=function(it){var ot;rt.tags.length===0?rt.insertionPoint?ot=rt.insertionPoint.nextSibling:rt.prepend?ot=rt.container.firstChild:ot=rt.before:ot=rt.tags[rt.tags.length-1].nextSibling,rt.container.insertBefore(it,ot),rt.tags.push(it)},this.isSpeedy=nt.speedy===void 0?!0:nt.speedy,this.tags=[],this.ctr=0,this.nonce=nt.nonce,this.key=nt.key,this.container=nt.container,this.prepend=nt.prepend,this.insertionPoint=nt.insertionPoint,this.before=null}var et=tt.prototype;return et.hydrate=function(rt){rt.forEach(this._insertTag)},et.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var it=this.tags[this.tags.length-1];if(this.isSpeedy){var ot=sheetForTag(it);try{ot.insertRule(rt,ot.cssRules.length)}catch{}}else it.appendChild(document.createTextNode(rt));this.ctr++},et.flush=function(){this.tags.forEach(function(rt){return rt.parentNode&&rt.parentNode.removeChild(rt)}),this.tags=[],this.ctr=0},tt}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(tt,et){return(((et<<2^charat(tt,0))<<2^charat(tt,1))<<2^charat(tt,2))<<2^charat(tt,3)}function trim(tt){return tt.trim()}function match(tt,et){return(tt=et.exec(tt))?tt[0]:tt}function replace(tt,et,nt){return tt.replace(et,nt)}function indexof(tt,et){return tt.indexOf(et)}function charat(tt,et){return tt.charCodeAt(et)|0}function substr(tt,et,nt){return tt.slice(et,nt)}function strlen(tt){return tt.length}function sizeof(tt){return tt.length}function append(tt,et){return et.push(tt),tt}function combine(tt,et){return tt.map(et).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(tt,et,nt,rt,it,ot,at){return{value:tt,root:et,parent:nt,type:rt,props:it,children:ot,line,column,length:at,return:""}}function copy(tt,et){return assign(node("",null,null,"",null,null,0),tt,{length:-tt.length},et)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(tt,et){return substr(characters,tt,et)}function token(tt){switch(tt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(tt){return line=column=1,length=strlen(characters=tt),position$1=0,[]}function dealloc(tt){return characters="",tt}function delimit(tt){return trim(slice(position$1-1,delimiter(tt===91?tt+2:tt===40?tt+1:tt)))}function whitespace(tt){for(;(character=peek())&&character<33;)next();return token(tt)>2||token(character)>3?"":" "}function escaping(tt,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(tt,caret()+(et<6&&peek()==32&&next()==32))}function delimiter(tt){for(;next();)switch(character){case tt:return position$1;case 34:case 39:tt!==34&&tt!==39&&delimiter(character);break;case 40:tt===41&&delimiter(tt);break;case 92:next();break}return position$1}function commenter(tt,et){for(;next()&&tt+character!==47+10;)if(tt+character===42+42&&peek()===47)break;return"/*"+slice(et,position$1-1)+"*"+from(tt===47?tt:next())}function identifier(tt){for(;!token(peek());)next();return slice(tt,position$1)}function compile(tt){return dealloc(parse("",null,null,null,[""],tt=alloc(tt),0,[0],tt))}function parse(tt,et,nt,rt,it,ot,at,st,lt){for(var ct=0,ft=0,ut=at,dt=0,ht=0,pt=0,gt=1,mt=1,yt=1,bt=0,St="",xt=it,vt=ot,$t=rt,zt=St;mt;)switch(pt=bt,bt=next()){case 40:if(pt!=108&&zt.charCodeAt(ut-1)==58){indexof(zt+=replace(delimit(bt),"&","&\f"),"&\f")!=-1&&(yt=-1);break}case 34:case 39:case 91:zt+=delimit(bt);break;case 9:case 10:case 13:case 32:zt+=whitespace(pt);break;case 92:zt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),et,nt),lt);break;default:zt+="/"}break;case 123*gt:st[ct++]=strlen(zt)*yt;case 125*gt:case 59:case 0:switch(bt){case 0:case 125:mt=0;case 59+ft:ht>0&&strlen(zt)-ut&&append(ht>32?declaration(zt+";",rt,nt,ut-1):declaration(replace(zt," ","")+";",rt,nt,ut-2),lt);break;case 59:zt+=";";default:if(append($t=ruleset(zt,et,nt,ct,ft,it,st,St,xt=[],vt=[],ut),ot),bt===123)if(ft===0)parse(zt,et,$t,$t,xt,ot,ut,st,vt);else switch(dt){case 100:case 109:case 115:parse(tt,$t,$t,rt&&append(ruleset(tt,$t,$t,0,0,it,st,St,it,xt=[],ut),vt),it,vt,ut,st,rt?xt:vt);break;default:parse(zt,$t,$t,$t,[""],vt,0,st,vt)}}ct=ft=ht=0,gt=yt=1,St=zt="",ut=at;break;case 58:ut=1+strlen(zt),ht=pt;default:if(gt<1){if(bt==123)--gt;else if(bt==125&&gt++==0&&prev()==125)continue}switch(zt+=from(bt),bt*gt){case 38:yt=ft>0?1:(zt+="\f",-1);break;case 44:st[ct++]=(strlen(zt)-1)*yt,yt=1;break;case 64:peek()===45&&(zt+=delimit(next())),dt=peek(),ft=ut=strlen(St=zt+=identifier(caret())),bt++;break;case 45:pt===45&&strlen(zt)==2&&(gt=0)}}return ot}function ruleset(tt,et,nt,rt,it,ot,at,st,lt,ct,ft){for(var ut=it-1,dt=it===0?ot:[""],ht=sizeof(dt),pt=0,gt=0,mt=0;pt<rt;++pt)for(var yt=0,bt=substr(tt,ut+1,ut=abs(gt=at[pt])),St=tt;yt<ht;++yt)(St=trim(gt>0?dt[yt]+" "+bt:replace(bt,/&\f/g,dt[yt])))&&(lt[mt++]=St);return node(tt,et,nt,it===0?RULESET:st,lt,ct,ft)}function comment(tt,et,nt){return node(tt,et,nt,COMMENT,from(char()),substr(tt,2,-2),0)}function declaration(tt,et,nt,rt){return node(tt,et,nt,DECLARATION,substr(tt,0,rt),substr(tt,rt+1,-1),rt)}function prefix(tt,et){switch(hash$2(tt,et)){case 5103:return WEBKIT+"print-"+tt+tt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+tt+tt;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+tt+MOZ+tt+MS+tt+tt;case 6828:case 4268:return WEBKIT+tt+MS+tt+tt;case 6165:return WEBKIT+tt+MS+"flex-"+tt+tt;case 5187:return WEBKIT+tt+replace(tt,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+tt;case 5443:return WEBKIT+tt+MS+"flex-item-"+replace(tt,/flex-|-self/,"")+tt;case 4675:return WEBKIT+tt+MS+"flex-line-pack"+replace(tt,/align-content|flex-|-self/,"")+tt;case 5548:return WEBKIT+tt+MS+replace(tt,"shrink","negative")+tt;case 5292:return WEBKIT+tt+MS+replace(tt,"basis","preferred-size")+tt;case 6060:return WEBKIT+"box-"+replace(tt,"-grow","")+WEBKIT+tt+MS+replace(tt,"grow","positive")+tt;case 4554:return WEBKIT+replace(tt,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+tt;case 6187:return replace(replace(replace(tt,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),tt,"")+tt;case 5495:case 3959:return replace(tt,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(tt,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+tt+tt;case 4095:case 3583:case 4068:case 2532:return replace(tt,/(.+)-inline(.+)/,WEBKIT+"$1$2")+tt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(tt)-1-et>6)switch(charat(tt,et+1)){case 109:if(charat(tt,et+4)!==45)break;case 102:return replace(tt,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(tt,et+3)==108?"$3":"$2-$3"))+tt;case 115:return~indexof(tt,"stretch")?prefix(replace(tt,"stretch","fill-available"),et)+tt:tt}break;case 4949:if(charat(tt,et+1)!==115)break;case 6444:switch(charat(tt,strlen(tt)-3-(~indexof(tt,"!important")&&10))){case 107:return replace(tt,":",":"+WEBKIT)+tt;case 101:return replace(tt,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(tt,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+tt}break;case 5936:switch(charat(tt,et+11)){case 114:return WEBKIT+tt+MS+replace(tt,/[svh]\w+-[tblr]{2}/,"tb")+tt;case 108:return WEBKIT+tt+MS+replace(tt,/[svh]\w+-[tblr]{2}/,"tb-rl")+tt;case 45:return WEBKIT+tt+MS+replace(tt,/[svh]\w+-[tblr]{2}/,"lr")+tt}return WEBKIT+tt+MS+tt+tt}return tt}function serialize(tt,et){for(var nt="",rt=sizeof(tt),it=0;it<rt;it++)nt+=et(tt[it],it,tt,et)||"";return nt}function stringify$2(tt,et,nt,rt){switch(tt.type){case IMPORT:case DECLARATION:return tt.return=tt.return||tt.value;case COMMENT:return"";case KEYFRAMES:return tt.return=tt.value+"{"+serialize(tt.children,rt)+"}";case RULESET:tt.value=tt.props.join(",")}return strlen(nt=serialize(tt.children,rt))?tt.return=tt.value+"{"+nt+"}":""}function middleware(tt){var et=sizeof(tt);return function(nt,rt,it,ot){for(var at="",st=0;st<et;st++)at+=tt[st](nt,rt,it,ot)||"";return at}}function rulesheet(tt){return function(et){et.root||(et=et.return)&&tt(et)}}function prefixer(tt,et,nt,rt){if(tt.length>-1&&!tt.return)switch(tt.type){case DECLARATION:tt.return=prefix(tt.value,tt.length);break;case KEYFRAMES:return serialize([copy(tt,{value:replace(tt.value,"@","@"+WEBKIT)})],rt);case RULESET:if(tt.length)return combine(tt.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(tt,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy(tt,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(tt,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}}var identifierWithPointTracking=function(et,nt,rt){for(var it=0,ot=0;it=ot,ot=peek(),it===38&&ot===12&&(nt[rt]=1),!token(ot);)next();return slice(et,position$1)},toRules=function(et,nt){var rt=-1,it=44;do switch(token(it)){case 0:it===38&&peek()===12&&(nt[rt]=1),et[rt]+=identifierWithPointTracking(position$1-1,nt,rt);break;case 2:et[rt]+=delimit(it);break;case 4:if(it===44){et[++rt]=peek()===58?"&\f":"",nt[rt]=et[rt].length;break}default:et[rt]+=from(it)}while(it=next());return et},getRules=function(et,nt){return dealloc(toRules(alloc(et),nt))},fixedElements=new WeakMap,compat=function(et){if(!(et.type!=="rule"||!et.parent||et.length<1)){for(var nt=et.value,rt=et.parent,it=et.column===rt.column&&et.line===rt.line;rt.type!=="rule";)if(rt=rt.parent,!rt)return;if(!(et.props.length===1&&nt.charCodeAt(0)!==58&&!fixedElements.get(rt))&&!it){fixedElements.set(et,!0);for(var ot=[],at=getRules(nt,ot),st=rt.props,lt=0,ct=0;lt<at.length;lt++)for(var ft=0;ft<st.length;ft++,ct++)et.props[ct]=ot[lt]?at[lt].replace(/&\f/g,st[ft]):st[ft]+" "+at[lt]}}},removeLabel=function(et){if(et.type==="decl"){var nt=et.value;nt.charCodeAt(0)===108&&nt.charCodeAt(2)===98&&(et.return="",et.value="")}},defaultStylisPlugins=[prefixer],createCache=function(et){var nt=et.key;if(nt==="css"){var rt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rt,function(gt){var mt=gt.getAttribute("data-emotion");mt.indexOf(" ")!==-1&&(document.head.appendChild(gt),gt.setAttribute("data-s",""))})}var it=et.stylisPlugins||defaultStylisPlugins,ot={},at,st=[];at=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+nt+' "]'),function(gt){for(var mt=gt.getAttribute("data-emotion").split(" "),yt=1;yt<mt.length;yt++)ot[mt[yt]]=!0;st.push(gt)});var lt,ct=[compat,removeLabel];{var ft,ut=[stringify$2,rulesheet(function(gt){ft.insert(gt)})],dt=middleware(ct.concat(it,ut)),ht=function(mt){return serialize(compile(mt),dt)};lt=function(mt,yt,bt,St){ft=bt,ht(mt?mt+"{"+yt.styles+"}":yt.styles),St&&(pt.inserted[yt.name]=!0)}}var pt={key:nt,sheet:new StyleSheet({key:nt,container:at,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:ot,registered:{},insert:lt};return pt.sheet.hydrate(st),pt},reactIs$2={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$2=b$3?Symbol.for("react.portal"):60106,e$1=b$3?Symbol.for("react.fragment"):60107,f$3=b$3?Symbol.for("react.strict_mode"):60108,g$3=b$3?Symbol.for("react.profiler"):60114,h$2=b$3?Symbol.for("react.provider"):60109,k$4=b$3?Symbol.for("react.context"):60110,l$3=b$3?Symbol.for("react.async_mode"):60111,m$2=b$3?Symbol.for("react.concurrent_mode"):60111,n$3=b$3?Symbol.for("react.forward_ref"):60112,p$3=b$3?Symbol.for("react.suspense"):60113,q$4=b$3?Symbol.for("react.suspense_list"):60120,r$2=b$3?Symbol.for("react.memo"):60115,t$1=b$3?Symbol.for("react.lazy"):60116,v$3=b$3?Symbol.for("react.block"):60121,w$3=b$3?Symbol.for("react.fundamental"):60117,x$3=b$3?Symbol.for("react.responder"):60118,y$2=b$3?Symbol.for("react.scope"):60119;function z$3(tt){if(typeof tt=="object"&&tt!==null){var et=tt.$$typeof;switch(et){case c$2:switch(tt=tt.type,tt){case l$3:case m$2:case e$1:case g$3:case f$3:case p$3:return tt;default:switch(tt=tt&&tt.$$typeof,tt){case k$4:case n$3:case t$1:case r$2:case h$2:return tt;default:return et}}case d$2:return et}}}function A$3(tt){return z$3(tt)===m$2}reactIs_production_min$1.AsyncMode=l$3;reactIs_production_min$1.ConcurrentMode=m$2;reactIs_production_min$1.ContextConsumer=k$4;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$3;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$1;reactIs_production_min$1.Memo=r$2;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$3;reactIs_production_min$1.StrictMode=f$3;reactIs_production_min$1.Suspense=p$3;reactIs_production_min$1.isAsyncMode=function(tt){return A$3(tt)||z$3(tt)===l$3};reactIs_production_min$1.isConcurrentMode=A$3;reactIs_production_min$1.isContextConsumer=function(tt){return z$3(tt)===k$4};reactIs_production_min$1.isContextProvider=function(tt){return z$3(tt)===h$2};reactIs_production_min$1.isElement=function(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function(tt){return z$3(tt)===n$3};reactIs_production_min$1.isFragment=function(tt){return z$3(tt)===e$1};reactIs_production_min$1.isLazy=function(tt){return z$3(tt)===t$1};reactIs_production_min$1.isMemo=function(tt){return z$3(tt)===r$2};reactIs_production_min$1.isPortal=function(tt){return z$3(tt)===d$2};reactIs_production_min$1.isProfiler=function(tt){return z$3(tt)===g$3};reactIs_production_min$1.isStrictMode=function(tt){return z$3(tt)===f$3};reactIs_production_min$1.isSuspense=function(tt){return z$3(tt)===p$3};reactIs_production_min$1.isValidElementType=function(tt){return typeof tt=="string"||typeof tt=="function"||tt===e$1||tt===m$2||tt===g$3||tt===f$3||tt===p$3||tt===q$4||typeof tt=="object"&&tt!==null&&(tt.$$typeof===t$1||tt.$$typeof===r$2||tt.$$typeof===h$2||tt.$$typeof===k$4||tt.$$typeof===n$3||tt.$$typeof===w$3||tt.$$typeof===x$3||tt.$$typeof===y$2||tt.$$typeof===v$3)};reactIs_production_min$1.typeOf=z$3;reactIs$2.exports=reactIs_production_min$1;var reactIs$1=reactIs$2.exports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;function getStatics(tt){return reactIs$1.isMemo(tt)?MEMO_STATICS:TYPE_STATICS[tt.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(tt,et,nt){if(typeof et!="string"){if(objectPrototype){var rt=getPrototypeOf(et);rt&&rt!==objectPrototype&&hoistNonReactStatics(tt,rt,nt)}var it=getOwnPropertyNames(et);getOwnPropertySymbols&&(it=it.concat(getOwnPropertySymbols(et)));for(var ot=getStatics(tt),at=getStatics(et),st=0;st<it.length;++st){var lt=it[st];if(!KNOWN_STATICS[lt]&&!(nt&&nt[lt])&&!(at&&at[lt])&&!(ot&&ot[lt])){var ct=getOwnPropertyDescriptor(et,lt);try{defineProperty(tt,lt,ct)}catch{}}}}return tt}var hoistNonReactStatics_cjs=hoistNonReactStatics,isBrowser$2=!0;function getRegisteredStyles(tt,et,nt){var rt="";return nt.split(" ").forEach(function(it){tt[it]!==void 0?et.push(tt[it]+";"):rt+=it+" "}),rt}var registerStyles=function(et,nt,rt){var it=et.key+"-"+nt.name;(rt===!1||isBrowser$2===!1)&&et.registered[it]===void 0&&(et.registered[it]=nt.styles)},insertStyles=function(et,nt,rt){registerStyles(et,nt,rt);var it=et.key+"-"+nt.name;if(et.inserted[nt.name]===void 0){var ot=nt;do et.insert(nt===ot?"."+it:"",ot,et.sheet,!0),ot=ot.next;while(ot!==void 0)}};function murmur2(tt){for(var et=0,nt,rt=0,it=tt.length;it>=4;++rt,it-=4)nt=tt.charCodeAt(rt)&255|(tt.charCodeAt(++rt)&255)<<8|(tt.charCodeAt(++rt)&255)<<16|(tt.charCodeAt(++rt)&255)<<24,nt=(nt&65535)*1540483477+((nt>>>16)*59797<<16),nt^=nt>>>24,et=(nt&65535)*1540483477+((nt>>>16)*59797<<16)^(et&65535)*1540483477+((et>>>16)*59797<<16);switch(it){case 3:et^=(tt.charCodeAt(rt+2)&255)<<16;case 2:et^=(tt.charCodeAt(rt+1)&255)<<8;case 1:et^=tt.charCodeAt(rt)&255,et=(et&65535)*1540483477+((et>>>16)*59797<<16)}return et^=et>>>13,et=(et&65535)*1540483477+((et>>>16)*59797<<16),((et^et>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(et){return et.charCodeAt(1)===45},isProcessableValue=function(et){return et!=null&&typeof et!="boolean"},processStyleName=memoize$1(function(tt){return isCustomProperty(tt)?tt:tt.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(et,nt){switch(et){case"animation":case"animationName":if(typeof nt=="string")return nt.replace(animationRegex,function(rt,it,ot){return cursor={name:it,styles:ot,next:cursor},it})}return unitlessKeys[et]!==1&&!isCustomProperty(et)&&typeof nt=="number"&&nt!==0?nt+"px":nt};function handleInterpolation(tt,et,nt){if(nt==null)return"";if(nt.__emotion_styles!==void 0)return nt;switch(typeof nt){case"boolean":return"";case"object":{if(nt.anim===1)return cursor={name:nt.name,styles:nt.styles,next:cursor},nt.name;if(nt.styles!==void 0){var rt=nt.next;if(rt!==void 0)for(;rt!==void 0;)cursor={name:rt.name,styles:rt.styles,next:cursor},rt=rt.next;var it=nt.styles+";";return it}return createStringFromObject(tt,et,nt)}case"function":{if(tt!==void 0){var ot=cursor,at=nt(tt);return cursor=ot,handleInterpolation(tt,et,at)}break}}if(et==null)return nt;var st=et[nt];return st!==void 0?st:nt}function createStringFromObject(tt,et,nt){var rt="";if(Array.isArray(nt))for(var it=0;it<nt.length;it++)rt+=handleInterpolation(tt,et,nt[it])+";";else for(var ot in nt){var at=nt[ot];if(typeof at!="object")et!=null&&et[at]!==void 0?rt+=ot+"{"+et[at]+"}":isProcessableValue(at)&&(rt+=processStyleName(ot)+":"+processStyleValue(ot,at)+";");else if(Array.isArray(at)&&typeof at[0]=="string"&&(et==null||et[at[0]]===void 0))for(var st=0;st<at.length;st++)isProcessableValue(at[st])&&(rt+=processStyleName(ot)+":"+processStyleValue(ot,at[st])+";");else{var lt=handleInterpolation(tt,et,at);switch(ot){case"animation":case"animationName":{rt+=processStyleName(ot)+":"+lt+";";break}default:rt+=ot+"{"+lt+"}"}}}return rt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(et,nt,rt){if(et.length===1&&typeof et[0]=="object"&&et[0]!==null&&et[0].styles!==void 0)return et[0];var it=!0,ot="";cursor=void 0;var at=et[0];at==null||at.raw===void 0?(it=!1,ot+=handleInterpolation(rt,nt,at)):ot+=at[0];for(var st=1;st<et.length;st++)ot+=handleInterpolation(rt,nt,et[st]),it&&(ot+=at[st]);labelPattern.lastIndex=0;for(var lt="",ct;(ct=labelPattern.exec(ot))!==null;)lt+="-"+ct[1];var ft=murmur2(ot)+lt;return{name:ft,styles:ot,next:cursor}},EmotionCacheContext=react.exports.createContext(typeof HTMLElement!="undefined"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(et){return react.exports.forwardRef(function(nt,rt){var it=react.exports.useContext(EmotionCacheContext);return et(nt,it,rt)})},ThemeContext$2=react.exports.createContext({});React$2["useInsertionEffect"]&&React$2["useInsertionEffect"];var useInsertionEffect$1=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:react.exports.useLayoutEffect,Global=withEmotionCache(function(tt,et){var nt=tt.styles,rt=serializeStyles([nt],void 0,react.exports.useContext(ThemeContext$2)),it=react.exports.useRef();return useInsertionEffect$1(function(){var ot=et.key+"-global",at=new et.sheet.constructor({key:ot,nonce:et.sheet.nonce,container:et.sheet.container,speedy:et.sheet.isSpeedy}),st=!1,lt=document.querySelector('style[data-emotion="'+ot+" "+rt.name+'"]');return et.sheet.tags.length&&(at.before=et.sheet.tags[0]),lt!==null&&(st=!0,lt.setAttribute("data-emotion",ot),at.hydrate([lt])),it.current=[at,st],function(){at.flush()}},[et]),useInsertionEffect$1(function(){var ot=it.current,at=ot[0],st=ot[1];if(st){ot[1]=!1;return}if(rt.next!==void 0&&insertStyles(et,rt.next,!0),at.tags.length){var lt=at.tags[at.tags.length-1].nextElementSibling;at.before=lt,at.flush()}et.insert("",rt,at,!1)},[et,rt.name]),null});function css(){for(var tt=arguments.length,et=new Array(tt),nt=0;nt<tt;nt++)et[nt]=arguments[nt];return serializeStyles(et)}var keyframes=function(){var et=css.apply(void 0,arguments),nt="animation-"+et.name;return{name:nt,styles:"@keyframes "+nt+"{"+et.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(et){return et!=="theme"},getDefaultShouldForwardProp=function(et){return typeof et=="string"&&et.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(et,nt,rt){var it;if(nt){var ot=nt.shouldForwardProp;it=et.__emotion_forwardProp&&ot?function(at){return et.__emotion_forwardProp(at)&&ot(at)}:ot}return typeof it!="function"&&rt&&(it=et.__emotion_forwardProp),it},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:function(et){et()};function useInsertionEffectMaybe(tt){useInsertionEffect(tt)}var Insertion=function(et){var nt=et.cache,rt=et.serialized,it=et.isStringTag;return registerStyles(nt,rt,it),useInsertionEffectMaybe(function(){return insertStyles(nt,rt,it)}),null},createStyled$1=function tt(et,nt){var rt=et.__emotion_real===et,it=rt&&et.__emotion_base||et,ot,at;nt!==void 0&&(ot=nt.label,at=nt.target);var st=composeShouldForwardProps(et,nt,rt),lt=st||getDefaultShouldForwardProp(it),ct=!lt("as");return function(){var ft=arguments,ut=rt&&et.__emotion_styles!==void 0?et.__emotion_styles.slice(0):[];if(ot!==void 0&&ut.push("label:"+ot+";"),ft[0]==null||ft[0].raw===void 0)ut.push.apply(ut,ft);else{ut.push(ft[0][0]);for(var dt=ft.length,ht=1;ht<dt;ht++)ut.push(ft[ht],ft[0][ht])}var pt=withEmotionCache(function(gt,mt,yt){var bt=ct&&gt.as||it,St="",xt=[],vt=gt;if(gt.theme==null){vt={};for(var $t in gt)vt[$t]=gt[$t];vt.theme=react.exports.useContext(ThemeContext$2)}typeof gt.className=="string"?St=getRegisteredStyles(mt.registered,xt,gt.className):gt.className!=null&&(St=gt.className+" ");var zt=serializeStyles(ut.concat(xt),mt.registered,vt);St+=mt.key+"-"+zt.name,at!==void 0&&(St+=" "+at);var Nt=ct&&st===void 0?getDefaultShouldForwardProp(bt):lt,wt={};for(var Et in gt)ct&&Et==="as"||Nt(Et)&&(wt[Et]=gt[Et]);return wt.className=St,wt.ref=yt,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:mt,serialized:zt,isStringTag:typeof bt=="string"}),react.exports.createElement(bt,wt))});return pt.displayName=ot!==void 0?ot:"Styled("+(typeof it=="string"?it:it.displayName||it.name||"Component")+")",pt.defaultProps=et.defaultProps,pt.__emotion_real=pt,pt.__emotion_base=it,pt.__emotion_styles=ut,pt.__emotion_forwardProp=st,Object.defineProperty(pt,"toString",{value:function(){return"."+at}}),pt.withComponent=function(gt,mt){return tt(gt,_extends$2({},nt,mt,{shouldForwardProp:composeShouldForwardProps(pt,mt,!0)})).apply(void 0,ut)},pt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(tt){newStyled[tt]=newStyled(tt)});var emStyled=newStyled,jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=react.exports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$3(tt,et,nt){var rt,it={},ot=null,at=null;nt!==void 0&&(ot=""+nt),et.key!==void 0&&(ot=""+et.key),et.ref!==void 0&&(at=et.ref);for(rt in et)m$1.call(et,rt)&&!p$2.hasOwnProperty(rt)&&(it[rt]=et[rt]);if(tt&&tt.defaultProps)for(rt in et=tt.defaultProps,et)it[rt]===void 0&&(it[rt]=et[rt]);return{$$typeof:k$3,type:tt,key:ot,ref:at,props:it,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;function isEmpty$3(tt){return tt==null||Object.keys(tt).length===0}function GlobalStyles$1(tt){const{styles:et,defaultTheme:nt={}}=tt,rt=typeof et=="function"?it=>et(isEmpty$3(it)?nt:it):et;return jsxRuntime.exports.jsx(Global,{styles:rt})}/** @license MUI v5.8.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$3(tt,et){return emStyled(tt,et)}function isPlainObject(tt){return tt!==null&&typeof tt=="object"&&tt.constructor===Object}function deepmerge(tt,et,nt={clone:!0}){const rt=nt.clone?_extends$2({},tt):tt;return isPlainObject(tt)&&isPlainObject(et)&&Object.keys(et).forEach(it=>{it!=="__proto__"&&(isPlainObject(et[it])&&it in tt&&isPlainObject(tt[it])?rt[it]=deepmerge(tt[it],et[it],nt):rt[it]=et[it])}),rt}function formatMuiErrorMessage(tt){let et="https://mui.com/production-error/?code="+tt;for(let nt=1;nt<arguments.length;nt+=1)et+="&args[]="+encodeURIComponent(arguments[nt]);return"Minified MUI error #"+tt+"; visit "+et+" for the full message."}var reactIs={exports:{}},reactIs_production_min={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=60103,c$1=60106,d$1=60107,e=60108,f$1=60114,g$2=60109,h$1=60110,k$2=60112,l$1=60113,m=60120,n$1=60115,p$1=60116,q$2=60121,r$1=60122,u$1=60117,v$2=60129,w$2=60131;if(typeof Symbol=="function"&&Symbol.for){var x$2=Symbol.for;b$2=x$2("react.element"),c$1=x$2("react.portal"),d$1=x$2("react.fragment"),e=x$2("react.strict_mode"),f$1=x$2("react.profiler"),g$2=x$2("react.provider"),h$1=x$2("react.context"),k$2=x$2("react.forward_ref"),l$1=x$2("react.suspense"),m=x$2("react.suspense_list"),n$1=x$2("react.memo"),p$1=x$2("react.lazy"),q$2=x$2("react.block"),r$1=x$2("react.server.block"),u$1=x$2("react.fundamental"),v$2=x$2("react.debug_trace_mode"),w$2=x$2("react.legacy_hidden")}function y$1(tt){if(typeof tt=="object"&&tt!==null){var et=tt.$$typeof;switch(et){case b$2:switch(tt=tt.type,tt){case d$1:case f$1:case e:case l$1:case m:return tt;default:switch(tt=tt&&tt.$$typeof,tt){case h$1:case k$2:case p$1:case n$1:case g$2:return tt;default:return et}}case c$1:return et}}}var z$2=g$2,A$2=b$2,B$2=k$2,C=d$1,D$1=p$1,E$2=n$1,F$2=c$1,G$2=f$1,H$2=e,I$2=l$1;reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=z$2;reactIs_production_min.Element=A$2;reactIs_production_min.ForwardRef=B$2;reactIs_production_min.Fragment=C;reactIs_production_min.Lazy=D$1;reactIs_production_min.Memo=E$2;reactIs_production_min.Portal=F$2;reactIs_production_min.Profiler=G$2;reactIs_production_min.StrictMode=H$2;reactIs_production_min.Suspense=I$2;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(tt){return y$1(tt)===h$1};reactIs_production_min.isContextProvider=function(tt){return y$1(tt)===g$2};reactIs_production_min.isElement=function(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===b$2};reactIs_production_min.isForwardRef=function(tt){return y$1(tt)===k$2};reactIs_production_min.isFragment=function(tt){return y$1(tt)===d$1};reactIs_production_min.isLazy=function(tt){return y$1(tt)===p$1};reactIs_production_min.isMemo=function(tt){return y$1(tt)===n$1};reactIs_production_min.isPortal=function(tt){return y$1(tt)===c$1};reactIs_production_min.isProfiler=function(tt){return y$1(tt)===f$1};reactIs_production_min.isStrictMode=function(tt){return y$1(tt)===e};reactIs_production_min.isSuspense=function(tt){return y$1(tt)===l$1};reactIs_production_min.isValidElementType=function(tt){return typeof tt=="string"||typeof tt=="function"||tt===d$1||tt===f$1||tt===v$2||tt===e||tt===l$1||tt===m||tt===w$2||typeof tt=="object"&&tt!==null&&(tt.$$typeof===p$1||tt.$$typeof===n$1||tt.$$typeof===g$2||tt.$$typeof===h$1||tt.$$typeof===k$2||tt.$$typeof===u$1||tt.$$typeof===q$2||tt[0]===r$1)};reactIs_production_min.typeOf=y$1;reactIs.exports=reactIs_production_min;function capitalize(tt){if(typeof tt!="string")throw new Error(formatMuiErrorMessage(7));return tt.charAt(0).toUpperCase()+tt.slice(1)}function createChainedFunction(...tt){return tt.reduce((et,nt)=>nt==null?et:function(...it){et.apply(this,it),nt.apply(this,it)},()=>{})}function debounce$1(tt,et=166){let nt;function rt(...it){const ot=()=>{tt.apply(this,it)};clearTimeout(nt),nt=setTimeout(ot,et)}return rt.clear=()=>{clearTimeout(nt)},rt}function isMuiElement(tt,et){return react.exports.isValidElement(tt)&&et.indexOf(tt.type.muiName)!==-1}function ownerDocument(tt){return tt&&tt.ownerDocument||document}function ownerWindow(tt){return ownerDocument(tt).defaultView||window}function setRef(tt,et){typeof tt=="function"?tt(et):tt&&(tt.current=et)}const useEnhancedEffect=typeof window!="undefined"?react.exports.useLayoutEffect:react.exports.useEffect;var useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(tt){const[et,nt]=react.exports.useState(tt),rt=tt||et;return react.exports.useEffect(()=>{et==null&&(globalId+=1,nt(`mui-${globalId}`))},[et]),rt}const maybeReactUseId=React$2["useId"];function useId(tt){if(maybeReactUseId!==void 0){const et=maybeReactUseId();return tt!=null?tt:et}return useGlobalId(tt)}function useControlled({controlled:tt,default:et,name:nt,state:rt="value"}){const{current:it}=react.exports.useRef(tt!==void 0),[ot,at]=react.exports.useState(et),st=it?tt:ot,lt=react.exports.useCallback(ct=>{it||at(ct)},[]);return[st,lt]}function useEventCallback(tt){const et=react.exports.useRef(tt);return useEnhancedEffect$1(()=>{et.current=tt}),react.exports.useCallback((...nt)=>(0,et.current)(...nt),[])}function useForkRef(tt,et){return react.exports.useMemo(()=>tt==null&&et==null?null:nt=>{setRef(tt,nt),setRef(et,nt)},[tt,et])}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(tt){const{type:et,tagName:nt}=tt;return!!(nt==="INPUT"&&inputTypesWhitelist[et]&&!tt.readOnly||nt==="TEXTAREA"&&!tt.readOnly||tt.isContentEditable)}function handleKeyDown(tt){tt.metaKey||tt.altKey||tt.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(tt){tt.addEventListener("keydown",handleKeyDown,!0),tt.addEventListener("mousedown",handlePointerDown,!0),tt.addEventListener("pointerdown",handlePointerDown,!0),tt.addEventListener("touchstart",handlePointerDown,!0),tt.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(tt){const{target:et}=tt;try{return et.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(et)}function useIsFocusVisible(){const tt=react.exports.useCallback(it=>{it!=null&&prepare(it.ownerDocument)},[]),et=react.exports.useRef(!1);function nt(){return et.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),et.current=!1,!0):!1}function rt(it){return isFocusVisible(it)?(et.current=!0,!0):!1}return{isFocusVisibleRef:et,onFocus:rt,onBlur:nt,ref:tt}}function getScrollbarSize(tt){const et=tt.documentElement.clientWidth;return Math.abs(window.innerWidth-et)}function resolveProps(tt,et){const nt=_extends$2({},et);return Object.keys(tt).forEach(rt=>{nt[rt]===void 0&&(nt[rt]=tt[rt])}),nt}function composeClasses(tt,et,nt){const rt={};return Object.keys(tt).forEach(it=>{rt[it]=tt[it].reduce((ot,at)=>(at&&(nt&&nt[at]&&ot.push(nt[at]),ot.push(et(at))),ot),[]).join(" ")}),rt}const defaultGenerator=tt=>tt,createClassNameGenerator=()=>{let tt=defaultGenerator;return{configure(et){tt=et},generate(et){return tt(et)},reset(){tt=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();var ClassNameGenerator$1=ClassNameGenerator;const globalStateClassesMapping={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function generateUtilityClass(tt,et){return globalStateClassesMapping[et]||`${ClassNameGenerator$1.generate(tt)}-${et}`}function generateUtilityClasses(tt,et){const nt={};return et.forEach(rt=>{nt[rt]=generateUtilityClass(tt,rt)}),nt}function merge(tt,et){return et?deepmerge(tt,et,{clone:!1}):tt}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:tt=>`@media (min-width:${values$1[tt]}px)`};function handleBreakpoints(tt,et,nt){const rt=tt.theme||{};if(Array.isArray(et)){const ot=rt.breakpoints||defaultBreakpoints;return et.reduce((at,st,lt)=>(at[ot.up(ot.keys[lt])]=nt(et[lt]),at),{})}if(typeof et=="object"){const ot=rt.breakpoints||defaultBreakpoints;return Object.keys(et).reduce((at,st)=>{if(Object.keys(ot.values||values$1).indexOf(st)!==-1){const lt=ot.up(st);at[lt]=nt(et[st],st)}else{const lt=st;at[lt]=et[lt]}return at},{})}return nt(et)}function createEmptyBreakpointObject(tt={}){var et;return(tt==null||(et=tt.keys)==null?void 0:et.reduce((rt,it)=>{const ot=tt.up(it);return rt[ot]={},rt},{}))||{}}function removeUnusedBreakpoints(tt,et){return tt.reduce((nt,rt)=>{const it=nt[rt];return(!it||Object.keys(it).length===0)&&delete nt[rt],nt},et)}function computeBreakpointsBase(tt,et){if(typeof tt!="object")return{};const nt={},rt=Object.keys(et);return Array.isArray(tt)?rt.forEach((it,ot)=>{ot<tt.length&&(nt[it]=!0)}):rt.forEach(it=>{tt[it]!=null&&(nt[it]=!0)}),nt}function resolveBreakpointValues({values:tt,breakpoints:et,base:nt}){const rt=nt||computeBreakpointsBase(tt,et),it=Object.keys(rt);if(it.length===0)return tt;let ot;return it.reduce((at,st,lt)=>(Array.isArray(tt)?(at[st]=tt[lt]!=null?tt[lt]:tt[ot],ot=lt):(at[st]=tt[st]!=null?tt[st]:tt[ot]||tt,ot=st),at),{})}function getPath(tt,et){if(!et||typeof et!="string")return null;if(tt&&tt.vars){const nt=`vars.${et}`.split(".").reduce((rt,it)=>rt&&rt[it]?rt[it]:null,tt);if(nt!=null)return nt}return et.split(".").reduce((nt,rt)=>nt&&nt[rt]!=null?nt[rt]:null,tt)}function getValue$1(tt,et,nt,rt=nt){let it;return typeof tt=="function"?it=tt(nt):Array.isArray(tt)?it=tt[nt]||rt:it=getPath(tt,nt)||rt,et&&(it=et(it)),it}function style$2(tt){const{prop:et,cssProperty:nt=tt.prop,themeKey:rt,transform:it}=tt,ot=at=>{if(at[et]==null)return null;const st=at[et],lt=at.theme,ct=getPath(lt,rt)||{};return handleBreakpoints(at,st,ut=>{let dt=getValue$1(ct,it,ut);return ut===dt&&typeof ut=="string"&&(dt=getValue$1(ct,it,`${et}${ut==="default"?"":capitalize(ut)}`,ut)),nt===!1?dt:{[nt]:dt}})};return ot.propTypes={},ot.filterProps=[et],ot}function compose(...tt){const et=tt.reduce((rt,it)=>(it.filterProps.forEach(ot=>{rt[ot]=it}),rt),{}),nt=rt=>Object.keys(rt).reduce((it,ot)=>et[ot]?merge(it,et[ot](rt)):it,{});return nt.propTypes={},nt.filterProps=tt.reduce((rt,it)=>rt.concat(it.filterProps),[]),nt}function memoize(tt){const et={};return nt=>(et[nt]===void 0&&(et[nt]=tt(nt)),et[nt])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(tt=>{if(tt.length>2)if(aliases[tt])tt=aliases[tt];else return[tt];const[et,nt]=tt.split(""),rt=properties[et],it=directions[nt]||"";return Array.isArray(it)?it.map(ot=>rt+ot):[rt+it]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],spacingKeys=[...marginKeys,...paddingKeys];function createUnaryUnit(tt,et,nt,rt){var it;const ot=(it=getPath(tt,et))!=null?it:nt;return typeof ot=="number"?at=>typeof at=="string"?at:ot*at:Array.isArray(ot)?at=>typeof at=="string"?at:ot[at]:typeof ot=="function"?ot:()=>{}}function createUnarySpacing(tt){return createUnaryUnit(tt,"spacing",8)}function getValue(tt,et){if(typeof et=="string"||et==null)return et;const nt=Math.abs(et),rt=tt(nt);return et>=0?rt:typeof rt=="number"?-rt:`-${rt}`}function getStyleFromPropValue(tt,et){return nt=>tt.reduce((rt,it)=>(rt[it]=getValue(et,nt),rt),{})}function resolveCssProperty(tt,et,nt,rt){if(et.indexOf(nt)===-1)return null;const it=getCssProperties(nt),ot=getStyleFromPropValue(it,rt),at=tt[nt];return handleBreakpoints(tt,at,ot)}function style$1(tt,et){const nt=createUnarySpacing(tt.theme);return Object.keys(tt).map(rt=>resolveCssProperty(tt,et,rt,nt)).reduce(merge,{})}function spacing(tt){return style$1(tt,spacingKeys)}spacing.propTypes={};spacing.filterProps=spacingKeys;function getBorder(tt){return typeof tt!="number"?tt:`${tt}px solid`}const border=style$2({prop:"border",themeKey:"borders",transform:getBorder}),borderTop=style$2({prop:"borderTop",themeKey:"borders",transform:getBorder}),borderRight=style$2({prop:"borderRight",themeKey:"borders",transform:getBorder}),borderBottom=style$2({prop:"borderBottom",themeKey:"borders",transform:getBorder}),borderLeft=style$2({prop:"borderLeft",themeKey:"borders",transform:getBorder}),borderColor=style$2({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$2({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$2({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$2({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$2({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=tt=>{if(tt.borderRadius!==void 0&&tt.borderRadius!==null){const et=createUnaryUnit(tt.theme,"shape.borderRadius",4),nt=rt=>({borderRadius:getValue(et,rt)});return handleBreakpoints(tt,tt.borderRadius,nt)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];const borders=compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);var borders$1=borders;const displayPrint=style$2({prop:"displayPrint",cssProperty:!1,transform:tt=>({"@media print":{display:tt}})}),displayRaw=style$2({prop:"display"}),overflow=style$2({prop:"overflow"}),textOverflow=style$2({prop:"textOverflow"}),visibility=style$2({prop:"visibility"}),whiteSpace=style$2({prop:"whiteSpace"});var display=compose(displayPrint,displayRaw,overflow,textOverflow,visibility,whiteSpace);const flexBasis=style$2({prop:"flexBasis"}),flexDirection=style$2({prop:"flexDirection"}),flexWrap=style$2({prop:"flexWrap"}),justifyContent=style$2({prop:"justifyContent"}),alignItems=style$2({prop:"alignItems"}),alignContent=style$2({prop:"alignContent"}),order$1=style$2({prop:"order"}),flex=style$2({prop:"flex"}),flexGrow=style$2({prop:"flexGrow"}),flexShrink=style$2({prop:"flexShrink"}),alignSelf=style$2({prop:"alignSelf"}),justifyItems=style$2({prop:"justifyItems"}),justifySelf=style$2({prop:"justifySelf"}),flexbox=compose(flexBasis,flexDirection,flexWrap,justifyContent,alignItems,alignContent,order$1,flex,flexGrow,flexShrink,alignSelf,justifyItems,justifySelf);var flexbox$1=flexbox;const gap=tt=>{if(tt.gap!==void 0&&tt.gap!==null){const et=createUnaryUnit(tt.theme,"spacing",8),nt=rt=>({gap:getValue(et,rt)});return handleBreakpoints(tt,tt.gap,nt)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=tt=>{if(tt.columnGap!==void 0&&tt.columnGap!==null){const et=createUnaryUnit(tt.theme,"spacing",8),nt=rt=>({columnGap:getValue(et,rt)});return handleBreakpoints(tt,tt.columnGap,nt)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=tt=>{if(tt.rowGap!==void 0&&tt.rowGap!==null){const et=createUnaryUnit(tt.theme,"spacing",8),nt=rt=>({rowGap:getValue(et,rt)});return handleBreakpoints(tt,tt.rowGap,nt)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"}),grid=compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);var grid$1=grid;const color=style$2({prop:"color",themeKey:"palette"}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette"}),palette=compose(color,bgcolor,backgroundColor);var palette$1=palette;const position=style$2({prop:"position"}),zIndex$2=style$2({prop:"zIndex",themeKey:"zIndex"}),top$1=style$2({prop:"top"}),right$1=style$2({prop:"right"}),bottom$1=style$2({prop:"bottom"}),left$1=style$2({prop:"left"});var positions=compose(position,zIndex$2,top$1,right$1,bottom$1,left$1);const boxShadow=style$2({prop:"boxShadow",themeKey:"shadows"});var shadows$2=boxShadow;function transform(tt){return tt<=1&&tt!==0?`${tt*100}%`:tt}const width=style$2({prop:"width",transform}),maxWidth=tt=>{if(tt.maxWidth!==void 0&&tt.maxWidth!==null){const et=nt=>{var rt,it,ot;return{maxWidth:((rt=tt.theme)==null||(it=rt.breakpoints)==null||(ot=it.values)==null?void 0:ot[nt])||values$1[nt]||transform(nt)}};return handleBreakpoints(tt,tt.maxWidth,et)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform}),height=style$2({prop:"height",transform}),maxHeight=style$2({prop:"maxHeight",transform}),minHeight=style$2({prop:"minHeight",transform});style$2({prop:"size",cssProperty:"width",transform});style$2({prop:"size",cssProperty:"height",transform});const boxSizing=style$2({prop:"boxSizing"}),sizing=compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);var sizing$1=sizing;const fontFamily=style$2({prop:"fontFamily",themeKey:"typography"}),fontSize=style$2({prop:"fontSize",themeKey:"typography"}),fontStyle=style$2({prop:"fontStyle",themeKey:"typography"}),fontWeight=style$2({prop:"fontWeight",themeKey:"typography"}),letterSpacing=style$2({prop:"letterSpacing"}),textTransform=style$2({prop:"textTransform"}),lineHeight=style$2({prop:"lineHeight"}),textAlign=style$2({prop:"textAlign"}),typographyVariant=style$2({prop:"typography",cssProperty:!1,themeKey:"typography"}),typography=compose(typographyVariant,fontFamily,fontSize,fontStyle,fontWeight,letterSpacing,lineHeight,textAlign,textTransform);var typography$1=typography;const filterPropsMapping={borders:borders$1.filterProps,display:display.filterProps,flexbox:flexbox$1.filterProps,grid:grid$1.filterProps,positions:positions.filterProps,palette:palette$1.filterProps,shadows:shadows$2.filterProps,sizing:sizing$1.filterProps,spacing:spacing.filterProps,typography:typography$1.filterProps},styleFunctionMapping={borders:borders$1,display,flexbox:flexbox$1,grid:grid$1,positions,palette:palette$1,shadows:shadows$2,sizing:sizing$1,spacing,typography:typography$1},propToStyleFunction=Object.keys(filterPropsMapping).reduce((tt,et)=>(filterPropsMapping[et].forEach(nt=>{tt[nt]=styleFunctionMapping[et]}),tt),{});function objectsHaveSameKeys(...tt){const et=tt.reduce((rt,it)=>rt.concat(Object.keys(it)),[]),nt=new Set(et);return tt.every(rt=>nt.size===Object.keys(rt).length)}function callIfFn(tt,et){return typeof tt=="function"?tt(et):tt}function unstable_createStyleFunctionSx(tt=styleFunctionMapping){const et=Object.keys(tt).reduce((it,ot)=>(tt[ot].filterProps.forEach(at=>{it[at]=tt[ot]}),it),{});function nt(it,ot,at){const st={[it]:ot,theme:at},lt=et[it];return lt?lt(st):{[it]:ot}}function rt(it){const{sx:ot,theme:at={}}=it||{};if(!ot)return null;function st(lt){let ct=lt;if(typeof lt=="function")ct=lt(at);else if(typeof lt!="object")return lt;if(!ct)return null;const ft=createEmptyBreakpointObject(at.breakpoints),ut=Object.keys(ft);let dt=ft;return Object.keys(ct).forEach(ht=>{const pt=callIfFn(ct[ht],at);if(pt!=null)if(typeof pt=="object")if(et[ht])dt=merge(dt,nt(ht,pt,at));else{const gt=handleBreakpoints({theme:at},pt,mt=>({[ht]:mt}));objectsHaveSameKeys(gt,pt)?dt[ht]=rt({sx:pt,theme:at}):dt=merge(dt,gt)}else dt=merge(dt,nt(ht,pt,at))}),removeUnusedBreakpoints(ut,dt)}return Array.isArray(ot)?ot.map(st):st(ot)}return rt}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];var defaultStyleFunctionSx=styleFunctionSx;function _objectWithoutPropertiesLoose$2(tt,et){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,ot;for(ot=0;ot<rt.length;ot++)it=rt[ot],!(et.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}const _excluded$O=["sx"],splitProps=tt=>{const et={systemProps:{},otherProps:{}};return Object.keys(tt).forEach(nt=>{propToStyleFunction[nt]?et.systemProps[nt]=tt[nt]:et.otherProps[nt]=tt[nt]}),et};function extendSxProp(tt){const{sx:et}=tt,nt=_objectWithoutPropertiesLoose$2(tt,_excluded$O),{systemProps:rt,otherProps:it}=splitProps(nt);let ot;return Array.isArray(et)?ot=[rt,...et]:typeof et=="function"?ot=(...at)=>{const st=et(...at);return isPlainObject(st)?_extends$2({},rt,st):rt}:ot=_extends$2({},rt,et),_extends$2({},it,{sx:ot})}function toVal(tt){var et,nt,rt="";if(typeof tt=="string"||typeof tt=="number")rt+=tt;else if(typeof tt=="object")if(Array.isArray(tt))for(et=0;et<tt.length;et++)tt[et]&&(nt=toVal(tt[et]))&&(rt&&(rt+=" "),rt+=nt);else for(et in tt)tt[et]&&(rt&&(rt+=" "),rt+=et);return rt}function clsx(){for(var tt=0,et,nt,rt="";tt<arguments.length;)(et=arguments[tt++])&&(nt=toVal(et))&&(rt&&(rt+=" "),rt+=nt);return rt}const _excluded$N=["values","unit","step"],sortBreakpointsValues=tt=>{const et=Object.keys(tt).map(nt=>({key:nt,val:tt[nt]}))||[];return et.sort((nt,rt)=>nt.val-rt.val),et.reduce((nt,rt)=>_extends$2({},nt,{[rt.key]:rt.val}),{})};function createBreakpoints(tt){const{values:et={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:nt="px",step:rt=5}=tt,it=_objectWithoutPropertiesLoose$2(tt,_excluded$N),ot=sortBreakpointsValues(et),at=Object.keys(ot);function st(dt){return`@media (min-width:${typeof et[dt]=="number"?et[dt]:dt}${nt})`}function lt(dt){return`@media (max-width:${(typeof et[dt]=="number"?et[dt]:dt)-rt/100}${nt})`}function ct(dt,ht){const pt=at.indexOf(ht);return`@media (min-width:${typeof et[dt]=="number"?et[dt]:dt}${nt}) and (max-width:${(pt!==-1&&typeof et[at[pt]]=="number"?et[at[pt]]:ht)-rt/100}${nt})`}function ft(dt){return at.indexOf(dt)+1<at.length?ct(dt,at[at.indexOf(dt)+1]):st(dt)}function ut(dt){const ht=at.indexOf(dt);return ht===0?st(at[1]):ht===at.length-1?lt(at[ht]):ct(dt,at[at.indexOf(dt)+1]).replace("@media","@media not all and")}return _extends$2({keys:at,values:ot,up:st,down:lt,between:ct,only:ft,not:ut,unit:nt},it)}const shape={borderRadius:4};var shape$1=shape;function createSpacing(tt=8){if(tt.mui)return tt;const et=createUnarySpacing({spacing:tt}),nt=(...rt)=>(rt.length===0?[1]:rt).map(ot=>{const at=et(ot);return typeof at=="number"?`${at}px`:at}).join(" ");return nt.mui=!0,nt}const _excluded$M=["breakpoints","palette","spacing","shape"];function createTheme$1(tt={},...et){const{breakpoints:nt={},palette:rt={},spacing:it,shape:ot={}}=tt,at=_objectWithoutPropertiesLoose$2(tt,_excluded$M),st=createBreakpoints(nt),lt=createSpacing(it);let ct=deepmerge({breakpoints:st,direction:"ltr",components:{},palette:_extends$2({mode:"light"},rt),spacing:lt,shape:_extends$2({},shape$1,ot)},at);return ct=et.reduce((ft,ut)=>deepmerge(ft,ut),ct),ct}const ThemeContext=react.exports.createContext(null);var ThemeContext$1=ThemeContext;function useTheme$3(){return react.exports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for;var nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(tt,et){return typeof et=="function"?et(tt):_extends$2({},tt,et)}function ThemeProvider$1(tt){const{children:et,theme:nt}=tt,rt=useTheme$3(),it=react.exports.useMemo(()=>{const ot=rt===null?nt:mergeOuterLocalTheme(rt,nt);return ot!=null&&(ot[nested]=rt!==null),ot},[nt,rt]);return jsxRuntime.exports.jsx(ThemeContext$1.Provider,{value:it,children:et})}function isObjectEmpty(tt){return Object.keys(tt).length===0}function useTheme$2(tt=null){const et=useTheme$3();return!et||isObjectEmpty(et)?tt:et}const systemDefaultTheme$1=createTheme$1();function useTheme$1(tt=systemDefaultTheme$1){return useTheme$2(tt)}const _excluded$L=["className","component"];function createBox(tt={}){const{defaultTheme:et,defaultClassName:nt="MuiBox-root",generateClassName:rt,styleFunctionSx:it=defaultStyleFunctionSx}=tt,ot=styled$3("div")(it);return react.exports.forwardRef(function(lt,ct){const ft=useTheme$1(et),ut=extendSxProp(lt),{className:dt,component:ht="div"}=ut,pt=_objectWithoutPropertiesLoose$2(ut,_excluded$L);return jsxRuntime.exports.jsx(ot,_extends$2({as:ht,ref:ct,className:clsx(dt,rt?rt(nt):nt),theme:ft},pt))})}const _excluded$K=["variant"];function isEmpty$2(tt){return tt.length===0}function propsToClassKey(tt){const{variant:et}=tt,nt=_objectWithoutPropertiesLoose$2(tt,_excluded$K);let rt=et||"";return Object.keys(nt).sort().forEach(it=>{it==="color"?rt+=isEmpty$2(rt)?tt[it]:capitalize(tt[it]):rt+=`${isEmpty$2(rt)?it:capitalize(it)}${capitalize(tt[it].toString())}`}),rt}const _excluded$J=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2$5=["theme"],_excluded3=["theme"];function isEmpty$1(tt){return Object.keys(tt).length===0}const getStyleOverrides=(tt,et)=>et.components&&et.components[tt]&&et.components[tt].styleOverrides?et.components[tt].styleOverrides:null,getVariantStyles=(tt,et)=>{let nt=[];et&&et.components&&et.components[tt]&&et.components[tt].variants&&(nt=et.components[tt].variants);const rt={};return nt.forEach(it=>{const ot=propsToClassKey(it.props);rt[ot]=it.style}),rt},variantsResolver=(tt,et,nt,rt)=>{var it,ot;const{ownerState:at={}}=tt,st=[],lt=nt==null||(it=nt.components)==null||(ot=it[rt])==null?void 0:ot.variants;return lt&&lt.forEach(ct=>{let ft=!0;Object.keys(ct.props).forEach(ut=>{at[ut]!==ct.props[ut]&&tt[ut]!==ct.props[ut]&&(ft=!1)}),ft&&st.push(et[propsToClassKey(ct.props)])}),st};function shouldForwardProp(tt){return tt!=="ownerState"&&tt!=="theme"&&tt!=="sx"&&tt!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(tt={}){const{defaultTheme:et=systemDefaultTheme,rootShouldForwardProp:nt=shouldForwardProp,slotShouldForwardProp:rt=shouldForwardProp,styleFunctionSx:it=defaultStyleFunctionSx}=tt;return(ot,at={})=>{const{name:st,slot:lt,skipVariantsResolver:ct,skipSx:ft,overridesResolver:ut}=at,dt=_objectWithoutPropertiesLoose$2(at,_excluded$J),ht=ct!==void 0?ct:lt&&lt!=="Root"||!1,pt=ft||!1;let gt,mt=shouldForwardProp;lt==="Root"?mt=nt:lt&&(mt=rt);const yt=styled$3(ot,_extends$2({shouldForwardProp:mt,label:gt},dt)),bt=(St,...xt)=>{const vt=xt?xt.map(wt=>typeof wt=="function"&&wt.__emotion_real!==wt?Et=>{let{theme:Rt}=Et,Tt=_objectWithoutPropertiesLoose$2(Et,_excluded2$5);return wt(_extends$2({theme:isEmpty$1(Rt)?et:Rt},Tt))}:wt):[];let $t=St;st&&ut&&vt.push(wt=>{const Et=isEmpty$1(wt.theme)?et:wt.theme,Rt=getStyleOverrides(st,Et);if(Rt){const Tt={};return Object.entries(Rt).forEach(([It,Pt])=>{Tt[It]=typeof Pt=="function"?Pt(_extends$2({},wt,{theme:Et})):Pt}),ut(wt,Tt)}return null}),st&&!ht&&vt.push(wt=>{const Et=isEmpty$1(wt.theme)?et:wt.theme;return variantsResolver(wt,getVariantStyles(st,Et),Et,st)}),pt||vt.push(wt=>{const Et=isEmpty$1(wt.theme)?et:wt.theme;return it(_extends$2({},wt,{theme:Et}))});const zt=vt.length-xt.length;if(Array.isArray(St)&&zt>0){const wt=new Array(zt).fill("");$t=[...St,...wt],$t.raw=[...St.raw,...wt]}else typeof St=="function"&&St.__emotion_real!==St&&($t=wt=>{let{theme:Et}=wt,Rt=_objectWithoutPropertiesLoose$2(wt,_excluded3);return St(_extends$2({theme:isEmpty$1(Et)?et:Et},Rt))});return yt($t,...vt)};return yt.withConfig&&(bt.withConfig=yt.withConfig),bt}}function getThemeProps(tt){const{theme:et,name:nt,props:rt}=tt;return!et||!et.components||!et.components[nt]||!et.components[nt].defaultProps?rt:resolveProps(et.components[nt].defaultProps,rt)}function useThemeProps$1({props:tt,name:et,defaultTheme:nt}){const rt=useTheme$1(nt);return getThemeProps({theme:rt,name:et,props:tt})}function clamp$2(tt,et=0,nt=1){return Math.min(Math.max(et,tt),nt)}function hexToRgb(tt){tt=tt.slice(1);const et=new RegExp(`.{1,${tt.length>=6?2:1}}`,"g");let nt=tt.match(et);return nt&&nt[0].length===1&&(nt=nt.map(rt=>rt+rt)),nt?`rgb${nt.length===4?"a":""}(${nt.map((rt,it)=>it<3?parseInt(rt,16):Math.round(parseInt(rt,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(tt){if(tt.type)return tt;if(tt.charAt(0)==="#")return decomposeColor(hexToRgb(tt));const et=tt.indexOf("("),nt=tt.substring(0,et);if(["rgb","rgba","hsl","hsla","color"].indexOf(nt)===-1)throw new Error(formatMuiErrorMessage(9,tt));let rt=tt.substring(et+1,tt.length-1),it;if(nt==="color"){if(rt=rt.split(" "),it=rt.shift(),rt.length===4&&rt[3].charAt(0)==="/"&&(rt[3]=rt[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(it)===-1)throw new Error(formatMuiErrorMessage(10,it))}else rt=rt.split(",");return rt=rt.map(ot=>parseFloat(ot)),{type:nt,values:rt,colorSpace:it}}function recomposeColor(tt){const{type:et,colorSpace:nt}=tt;let{values:rt}=tt;return et.indexOf("rgb")!==-1?rt=rt.map((it,ot)=>ot<3?parseInt(it,10):it):et.indexOf("hsl")!==-1&&(rt[1]=`${rt[1]}%`,rt[2]=`${rt[2]}%`),et.indexOf("color")!==-1?rt=`${nt} ${rt.join(" ")}`:rt=`${rt.join(", ")}`,`${et}(${rt})`}function hslToRgb(tt){tt=decomposeColor(tt);const{values:et}=tt,nt=et[0],rt=et[1]/100,it=et[2]/100,ot=rt*Math.min(it,1-it),at=(ct,ft=(ct+nt/30)%12)=>it-ot*Math.max(Math.min(ft-3,9-ft,1),-1);let st="rgb";const lt=[Math.round(at(0)*255),Math.round(at(8)*255),Math.round(at(4)*255)];return tt.type==="hsla"&&(st+="a",lt.push(et[3])),recomposeColor({type:st,values:lt})}function getLuminance(tt){tt=decomposeColor(tt);let et=tt.type==="hsl"?decomposeColor(hslToRgb(tt)).values:tt.values;return et=et.map(nt=>(tt.type!=="color"&&(nt/=255),nt<=.03928?nt/12.92:((nt+.055)/1.055)**2.4)),Number((.2126*et[0]+.7152*et[1]+.0722*et[2]).toFixed(3))}function getContrastRatio(tt,et){const nt=getLuminance(tt),rt=getLuminance(et);return(Math.max(nt,rt)+.05)/(Math.min(nt,rt)+.05)}function alpha(tt,et){return tt=decomposeColor(tt),et=clamp$2(et),(tt.type==="rgb"||tt.type==="hsl")&&(tt.type+="a"),tt.type==="color"?tt.values[3]=`/${et}`:tt.values[3]=et,recomposeColor(tt)}function darken(tt,et){if(tt=decomposeColor(tt),et=clamp$2(et),tt.type.indexOf("hsl")!==-1)tt.values[2]*=1-et;else if(tt.type.indexOf("rgb")!==-1||tt.type.indexOf("color")!==-1)for(let nt=0;nt<3;nt+=1)tt.values[nt]*=1-et;return recomposeColor(tt)}function lighten(tt,et){if(tt=decomposeColor(tt),et=clamp$2(et),tt.type.indexOf("hsl")!==-1)tt.values[2]+=(100-tt.values[2])*et;else if(tt.type.indexOf("rgb")!==-1)for(let nt=0;nt<3;nt+=1)tt.values[nt]+=(255-tt.values[nt])*et;else if(tt.type.indexOf("color")!==-1)for(let nt=0;nt<3;nt+=1)tt.values[nt]+=(1-tt.values[nt])*et;return recomposeColor(tt)}function emphasize(tt,et=.15){return getLuminance(tt)>.5?darken(tt,et):lighten(tt,et)}function InnerThemeProvider(tt){const et=useTheme$1();return jsxRuntime.exports.jsx(ThemeContext$2.Provider,{value:typeof et=="object"?et:{},children:tt.children})}function ThemeProvider(tt){const{children:et,theme:nt}=tt;return jsxRuntime.exports.jsx(ThemeProvider$1,{theme:nt,children:jsxRuntime.exports.jsx(InnerThemeProvider,{children:et})})}function isHostComponent(tt){return typeof tt=="string"}function appendOwnerState(tt,et={},nt){return isHostComponent(tt)?et:_extends$2({},et,{ownerState:_extends$2({},et.ownerState,nt)})}function mapEventPropToEvent(tt){return tt.substring(2).toLowerCase()}function clickedRootScrollbar(tt,et){return et.documentElement.clientWidth<tt.clientX||et.documentElement.clientHeight<tt.clientY}function ClickAwayListener(tt){const{children:et,disableReactTree:nt=!1,mouseEvent:rt="onClick",onClickAway:it,touchEvent:ot="onTouchEnd"}=tt,at=react.exports.useRef(!1),st=react.exports.useRef(null),lt=react.exports.useRef(!1),ct=react.exports.useRef(!1);react.exports.useEffect(()=>(setTimeout(()=>{lt.current=!0},0),()=>{lt.current=!1}),[]);const ft=useForkRef(et.ref,st),ut=useEventCallback(pt=>{const gt=ct.current;ct.current=!1;const mt=ownerDocument(st.current);if(!lt.current||!st.current||"clientX"in pt&&clickedRootScrollbar(pt,mt))return;if(at.current){at.current=!1;return}let yt;pt.composedPath?yt=pt.composedPath().indexOf(st.current)>-1:yt=!mt.documentElement.contains(pt.target)||st.current.contains(pt.target),!yt&&(nt||!gt)&&it(pt)}),dt=pt=>gt=>{ct.current=!0;const mt=et.props[pt];mt&&mt(gt)},ht={ref:ft};return ot!==!1&&(ht[ot]=dt(ot)),react.exports.useEffect(()=>{if(ot!==!1){const pt=mapEventPropToEvent(ot),gt=ownerDocument(st.current),mt=()=>{at.current=!0};return gt.addEventListener(pt,ut),gt.addEventListener("touchmove",mt),()=>{gt.removeEventListener(pt,ut),gt.removeEventListener("touchmove",mt)}}},[ut,ot]),rt!==!1&&(ht[rt]=dt(rt)),react.exports.useEffect(()=>{if(rt!==!1){const pt=mapEventPropToEvent(rt),gt=ownerDocument(st.current);return gt.addEventListener(pt,ut),()=>{gt.removeEventListener(pt,ut)}}},[ut,rt]),jsxRuntime.exports.jsx(react.exports.Fragment,{children:react.exports.cloneElement(et,ht)})}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(tt,et){return tt.concat([et+"-"+start,et+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(tt,et){return tt.concat([et,et+"-"+start,et+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(tt){return tt?(tt.nodeName||"").toLowerCase():null}function getWindow(tt){if(tt==null)return window;if(tt.toString()!=="[object Window]"){var et=tt.ownerDocument;return et&&et.defaultView||window}return tt}function isElement(tt){var et=getWindow(tt).Element;return tt instanceof et||tt instanceof Element}function isHTMLElement(tt){var et=getWindow(tt).HTMLElement;return tt instanceof et||tt instanceof HTMLElement}function isShadowRoot(tt){if(typeof ShadowRoot=="undefined")return!1;var et=getWindow(tt).ShadowRoot;return tt instanceof et||tt instanceof ShadowRoot}function applyStyles(tt){var et=tt.state;Object.keys(et.elements).forEach(function(nt){var rt=et.styles[nt]||{},it=et.attributes[nt]||{},ot=et.elements[nt];!isHTMLElement(ot)||!getNodeName(ot)||(Object.assign(ot.style,rt),Object.keys(it).forEach(function(at){var st=it[at];st===!1?ot.removeAttribute(at):ot.setAttribute(at,st===!0?"":st)}))})}function effect$2(tt){var et=tt.state,nt={popper:{position:et.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(et.elements.popper.style,nt.popper),et.styles=nt,et.elements.arrow&&Object.assign(et.elements.arrow.style,nt.arrow),function(){Object.keys(et.elements).forEach(function(rt){var it=et.elements[rt],ot=et.attributes[rt]||{},at=Object.keys(et.styles.hasOwnProperty(rt)?et.styles[rt]:nt[rt]),st=at.reduce(function(lt,ct){return lt[ct]="",lt},{});!isHTMLElement(it)||!getNodeName(it)||(Object.assign(it.style,st),Object.keys(ot).forEach(function(lt){it.removeAttribute(lt)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(tt){return tt.split("-")[0]}var max=Math.max,min=Math.min,round$2=Math.round;function getBoundingClientRect(tt,et){et===void 0&&(et=!1);var nt=tt.getBoundingClientRect(),rt=1,it=1;if(isHTMLElement(tt)&&et){var ot=tt.offsetHeight,at=tt.offsetWidth;at>0&&(rt=round$2(nt.width)/at||1),ot>0&&(it=round$2(nt.height)/ot||1)}return{width:nt.width/rt,height:nt.height/it,top:nt.top/it,right:nt.right/rt,bottom:nt.bottom/it,left:nt.left/rt,x:nt.left/rt,y:nt.top/it}}function getLayoutRect(tt){var et=getBoundingClientRect(tt),nt=tt.offsetWidth,rt=tt.offsetHeight;return Math.abs(et.width-nt)<=1&&(nt=et.width),Math.abs(et.height-rt)<=1&&(rt=et.height),{x:tt.offsetLeft,y:tt.offsetTop,width:nt,height:rt}}function contains(tt,et){var nt=et.getRootNode&&et.getRootNode();if(tt.contains(et))return!0;if(nt&&isShadowRoot(nt)){var rt=et;do{if(rt&&tt.isSameNode(rt))return!0;rt=rt.parentNode||rt.host}while(rt)}return!1}function getComputedStyle$1(tt){return getWindow(tt).getComputedStyle(tt)}function isTableElement(tt){return["table","td","th"].indexOf(getNodeName(tt))>=0}function getDocumentElement(tt){return((isElement(tt)?tt.ownerDocument:tt.document)||window.document).documentElement}function getParentNode(tt){return getNodeName(tt)==="html"?tt:tt.assignedSlot||tt.parentNode||(isShadowRoot(tt)?tt.host:null)||getDocumentElement(tt)}function getTrueOffsetParent(tt){return!isHTMLElement(tt)||getComputedStyle$1(tt).position==="fixed"?null:tt.offsetParent}function getContainingBlock(tt){var et=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,nt=navigator.userAgent.indexOf("Trident")!==-1;if(nt&&isHTMLElement(tt)){var rt=getComputedStyle$1(tt);if(rt.position==="fixed")return null}var it=getParentNode(tt);for(isShadowRoot(it)&&(it=it.host);isHTMLElement(it)&&["html","body"].indexOf(getNodeName(it))<0;){var ot=getComputedStyle$1(it);if(ot.transform!=="none"||ot.perspective!=="none"||ot.contain==="paint"||["transform","perspective"].indexOf(ot.willChange)!==-1||et&&ot.willChange==="filter"||et&&ot.filter&&ot.filter!=="none")return it;it=it.parentNode}return null}function getOffsetParent(tt){for(var et=getWindow(tt),nt=getTrueOffsetParent(tt);nt&&isTableElement(nt)&&getComputedStyle$1(nt).position==="static";)nt=getTrueOffsetParent(nt);return nt&&(getNodeName(nt)==="html"||getNodeName(nt)==="body"&&getComputedStyle$1(nt).position==="static")?et:nt||getContainingBlock(tt)||et}function getMainAxisFromPlacement(tt){return["top","bottom"].indexOf(tt)>=0?"x":"y"}function within(tt,et,nt){return max(tt,min(et,nt))}function withinMaxClamp(tt,et,nt){var rt=within(tt,et,nt);return rt>nt?nt:rt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(tt){return Object.assign({},getFreshSideObject(),tt)}function expandToHashMap(tt,et){return et.reduce(function(nt,rt){return nt[rt]=tt,nt},{})}var toPaddingObject=function(et,nt){return et=typeof et=="function"?et(Object.assign({},nt.rects,{placement:nt.placement})):et,mergePaddingObject(typeof et!="number"?et:expandToHashMap(et,basePlacements))};function arrow(tt){var et,nt=tt.state,rt=tt.name,it=tt.options,ot=nt.elements.arrow,at=nt.modifiersData.popperOffsets,st=getBasePlacement(nt.placement),lt=getMainAxisFromPlacement(st),ct=[left,right].indexOf(st)>=0,ft=ct?"height":"width";if(!(!ot||!at)){var ut=toPaddingObject(it.padding,nt),dt=getLayoutRect(ot),ht=lt==="y"?top:left,pt=lt==="y"?bottom:right,gt=nt.rects.reference[ft]+nt.rects.reference[lt]-at[lt]-nt.rects.popper[ft],mt=at[lt]-nt.rects.reference[lt],yt=getOffsetParent(ot),bt=yt?lt==="y"?yt.clientHeight||0:yt.clientWidth||0:0,St=gt/2-mt/2,xt=ut[ht],vt=bt-dt[ft]-ut[pt],$t=bt/2-dt[ft]/2+St,zt=within(xt,$t,vt),Nt=lt;nt.modifiersData[rt]=(et={},et[Nt]=zt,et.centerOffset=zt-$t,et)}}function effect$1(tt){var et=tt.state,nt=tt.options,rt=nt.element,it=rt===void 0?"[data-popper-arrow]":rt;it!=null&&(typeof it=="string"&&(it=et.elements.popper.querySelector(it),!it)||!contains(et.elements.popper,it)||(et.elements.arrow=it))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(tt){return tt.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(tt){var et=tt.x,nt=tt.y,rt=window,it=rt.devicePixelRatio||1;return{x:round$2(et*it)/it||0,y:round$2(nt*it)/it||0}}function mapToStyles(tt){var et,nt=tt.popper,rt=tt.popperRect,it=tt.placement,ot=tt.variation,at=tt.offsets,st=tt.position,lt=tt.gpuAcceleration,ct=tt.adaptive,ft=tt.roundOffsets,ut=tt.isFixed,dt=at.x,ht=dt===void 0?0:dt,pt=at.y,gt=pt===void 0?0:pt,mt=typeof ft=="function"?ft({x:ht,y:gt}):{x:ht,y:gt};ht=mt.x,gt=mt.y;var yt=at.hasOwnProperty("x"),bt=at.hasOwnProperty("y"),St=left,xt=top,vt=window;if(ct){var $t=getOffsetParent(nt),zt="clientHeight",Nt="clientWidth";if($t===getWindow(nt)&&($t=getDocumentElement(nt),getComputedStyle$1($t).position!=="static"&&st==="absolute"&&(zt="scrollHeight",Nt="scrollWidth")),$t=$t,it===top||(it===left||it===right)&&ot===end){xt=bottom;var wt=ut&&$t===vt&&vt.visualViewport?vt.visualViewport.height:$t[zt];gt-=wt-rt.height,gt*=lt?1:-1}if(it===left||(it===top||it===bottom)&&ot===end){St=right;var Et=ut&&$t===vt&&vt.visualViewport?vt.visualViewport.width:$t[Nt];ht-=Et-rt.width,ht*=lt?1:-1}}var Rt=Object.assign({position:st},ct&&unsetSides),Tt=ft===!0?roundOffsetsByDPR({x:ht,y:gt}):{x:ht,y:gt};if(ht=Tt.x,gt=Tt.y,lt){var It;return Object.assign({},Rt,(It={},It[xt]=bt?"0":"",It[St]=yt?"0":"",It.transform=(vt.devicePixelRatio||1)<=1?"translate("+ht+"px, "+gt+"px)":"translate3d("+ht+"px, "+gt+"px, 0)",It))}return Object.assign({},Rt,(et={},et[xt]=bt?gt+"px":"",et[St]=yt?ht+"px":"",et.transform="",et))}function computeStyles(tt){var et=tt.state,nt=tt.options,rt=nt.gpuAcceleration,it=rt===void 0?!0:rt,ot=nt.adaptive,at=ot===void 0?!0:ot,st=nt.roundOffsets,lt=st===void 0?!0:st,ct={placement:getBasePlacement(et.placement),variation:getVariation(et.placement),popper:et.elements.popper,popperRect:et.rects.popper,gpuAcceleration:it,isFixed:et.options.strategy==="fixed"};et.modifiersData.popperOffsets!=null&&(et.styles.popper=Object.assign({},et.styles.popper,mapToStyles(Object.assign({},ct,{offsets:et.modifiersData.popperOffsets,position:et.options.strategy,adaptive:at,roundOffsets:lt})))),et.modifiersData.arrow!=null&&(et.styles.arrow=Object.assign({},et.styles.arrow,mapToStyles(Object.assign({},ct,{offsets:et.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:lt})))),et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-placement":et.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect(tt){var et=tt.state,nt=tt.instance,rt=tt.options,it=rt.scroll,ot=it===void 0?!0:it,at=rt.resize,st=at===void 0?!0:at,lt=getWindow(et.elements.popper),ct=[].concat(et.scrollParents.reference,et.scrollParents.popper);return ot&&ct.forEach(function(ft){ft.addEventListener("scroll",nt.update,passive)}),st&&lt.addEventListener("resize",nt.update,passive),function(){ot&&ct.forEach(function(ft){ft.removeEventListener("scroll",nt.update,passive)}),st&&lt.removeEventListener("resize",nt.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}},hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(tt){return tt.replace(/left|right|bottom|top/g,function(et){return hash$1[et]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(tt){return tt.replace(/start|end/g,function(et){return hash[et]})}function getWindowScroll(tt){var et=getWindow(tt),nt=et.pageXOffset,rt=et.pageYOffset;return{scrollLeft:nt,scrollTop:rt}}function getWindowScrollBarX(tt){return getBoundingClientRect(getDocumentElement(tt)).left+getWindowScroll(tt).scrollLeft}function getViewportRect(tt){var et=getWindow(tt),nt=getDocumentElement(tt),rt=et.visualViewport,it=nt.clientWidth,ot=nt.clientHeight,at=0,st=0;return rt&&(it=rt.width,ot=rt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(at=rt.offsetLeft,st=rt.offsetTop)),{width:it,height:ot,x:at+getWindowScrollBarX(tt),y:st}}function getDocumentRect(tt){var et,nt=getDocumentElement(tt),rt=getWindowScroll(tt),it=(et=tt.ownerDocument)==null?void 0:et.body,ot=max(nt.scrollWidth,nt.clientWidth,it?it.scrollWidth:0,it?it.clientWidth:0),at=max(nt.scrollHeight,nt.clientHeight,it?it.scrollHeight:0,it?it.clientHeight:0),st=-rt.scrollLeft+getWindowScrollBarX(tt),lt=-rt.scrollTop;return getComputedStyle$1(it||nt).direction==="rtl"&&(st+=max(nt.clientWidth,it?it.clientWidth:0)-ot),{width:ot,height:at,x:st,y:lt}}function isScrollParent(tt){var et=getComputedStyle$1(tt),nt=et.overflow,rt=et.overflowX,it=et.overflowY;return/auto|scroll|overlay|hidden/.test(nt+it+rt)}function getScrollParent(tt){return["html","body","#document"].indexOf(getNodeName(tt))>=0?tt.ownerDocument.body:isHTMLElement(tt)&&isScrollParent(tt)?tt:getScrollParent(getParentNode(tt))}function listScrollParents(tt,et){var nt;et===void 0&&(et=[]);var rt=getScrollParent(tt),it=rt===((nt=tt.ownerDocument)==null?void 0:nt.body),ot=getWindow(rt),at=it?[ot].concat(ot.visualViewport||[],isScrollParent(rt)?rt:[]):rt,st=et.concat(at);return it?st:st.concat(listScrollParents(getParentNode(at)))}function rectToClientRect(tt){return Object.assign({},tt,{left:tt.x,top:tt.y,right:tt.x+tt.width,bottom:tt.y+tt.height})}function getInnerBoundingClientRect(tt){var et=getBoundingClientRect(tt);return et.top=et.top+tt.clientTop,et.left=et.left+tt.clientLeft,et.bottom=et.top+tt.clientHeight,et.right=et.left+tt.clientWidth,et.width=tt.clientWidth,et.height=tt.clientHeight,et.x=et.left,et.y=et.top,et}function getClientRectFromMixedType(tt,et){return et===viewport?rectToClientRect(getViewportRect(tt)):isElement(et)?getInnerBoundingClientRect(et):rectToClientRect(getDocumentRect(getDocumentElement(tt)))}function getClippingParents(tt){var et=listScrollParents(getParentNode(tt)),nt=["absolute","fixed"].indexOf(getComputedStyle$1(tt).position)>=0,rt=nt&&isHTMLElement(tt)?getOffsetParent(tt):tt;return isElement(rt)?et.filter(function(it){return isElement(it)&&contains(it,rt)&&getNodeName(it)!=="body"}):[]}function getClippingRect(tt,et,nt){var rt=et==="clippingParents"?getClippingParents(tt):[].concat(et),it=[].concat(rt,[nt]),ot=it[0],at=it.reduce(function(st,lt){var ct=getClientRectFromMixedType(tt,lt);return st.top=max(ct.top,st.top),st.right=min(ct.right,st.right),st.bottom=min(ct.bottom,st.bottom),st.left=max(ct.left,st.left),st},getClientRectFromMixedType(tt,ot));return at.width=at.right-at.left,at.height=at.bottom-at.top,at.x=at.left,at.y=at.top,at}function computeOffsets(tt){var et=tt.reference,nt=tt.element,rt=tt.placement,it=rt?getBasePlacement(rt):null,ot=rt?getVariation(rt):null,at=et.x+et.width/2-nt.width/2,st=et.y+et.height/2-nt.height/2,lt;switch(it){case top:lt={x:at,y:et.y-nt.height};break;case bottom:lt={x:at,y:et.y+et.height};break;case right:lt={x:et.x+et.width,y:st};break;case left:lt={x:et.x-nt.width,y:st};break;default:lt={x:et.x,y:et.y}}var ct=it?getMainAxisFromPlacement(it):null;if(ct!=null){var ft=ct==="y"?"height":"width";switch(ot){case start:lt[ct]=lt[ct]-(et[ft]/2-nt[ft]/2);break;case end:lt[ct]=lt[ct]+(et[ft]/2-nt[ft]/2);break}}return lt}function detectOverflow(tt,et){et===void 0&&(et={});var nt=et,rt=nt.placement,it=rt===void 0?tt.placement:rt,ot=nt.boundary,at=ot===void 0?clippingParents:ot,st=nt.rootBoundary,lt=st===void 0?viewport:st,ct=nt.elementContext,ft=ct===void 0?popper:ct,ut=nt.altBoundary,dt=ut===void 0?!1:ut,ht=nt.padding,pt=ht===void 0?0:ht,gt=mergePaddingObject(typeof pt!="number"?pt:expandToHashMap(pt,basePlacements)),mt=ft===popper?reference:popper,yt=tt.rects.popper,bt=tt.elements[dt?mt:ft],St=getClippingRect(isElement(bt)?bt:bt.contextElement||getDocumentElement(tt.elements.popper),at,lt),xt=getBoundingClientRect(tt.elements.reference),vt=computeOffsets({reference:xt,element:yt,strategy:"absolute",placement:it}),$t=rectToClientRect(Object.assign({},yt,vt)),zt=ft===popper?$t:xt,Nt={top:St.top-zt.top+gt.top,bottom:zt.bottom-St.bottom+gt.bottom,left:St.left-zt.left+gt.left,right:zt.right-St.right+gt.right},wt=tt.modifiersData.offset;if(ft===popper&&wt){var Et=wt[it];Object.keys(Nt).forEach(function(Rt){var Tt=[right,bottom].indexOf(Rt)>=0?1:-1,It=[top,bottom].indexOf(Rt)>=0?"y":"x";Nt[Rt]+=Et[It]*Tt})}return Nt}function computeAutoPlacement(tt,et){et===void 0&&(et={});var nt=et,rt=nt.placement,it=nt.boundary,ot=nt.rootBoundary,at=nt.padding,st=nt.flipVariations,lt=nt.allowedAutoPlacements,ct=lt===void 0?placements:lt,ft=getVariation(rt),ut=ft?st?variationPlacements:variationPlacements.filter(function(pt){return getVariation(pt)===ft}):basePlacements,dt=ut.filter(function(pt){return ct.indexOf(pt)>=0});dt.length===0&&(dt=ut);var ht=dt.reduce(function(pt,gt){return pt[gt]=detectOverflow(tt,{placement:gt,boundary:it,rootBoundary:ot,padding:at})[getBasePlacement(gt)],pt},{});return Object.keys(ht).sort(function(pt,gt){return ht[pt]-ht[gt]})}function getExpandedFallbackPlacements(tt){if(getBasePlacement(tt)===auto)return[];var et=getOppositePlacement(tt);return[getOppositeVariationPlacement(tt),et,getOppositeVariationPlacement(et)]}function flip(tt){var et=tt.state,nt=tt.options,rt=tt.name;if(!et.modifiersData[rt]._skip){for(var it=nt.mainAxis,ot=it===void 0?!0:it,at=nt.altAxis,st=at===void 0?!0:at,lt=nt.fallbackPlacements,ct=nt.padding,ft=nt.boundary,ut=nt.rootBoundary,dt=nt.altBoundary,ht=nt.flipVariations,pt=ht===void 0?!0:ht,gt=nt.allowedAutoPlacements,mt=et.options.placement,yt=getBasePlacement(mt),bt=yt===mt,St=lt||(bt||!pt?[getOppositePlacement(mt)]:getExpandedFallbackPlacements(mt)),xt=[mt].concat(St).reduce(function(Ht,Jt){return Ht.concat(getBasePlacement(Jt)===auto?computeAutoPlacement(et,{placement:Jt,boundary:ft,rootBoundary:ut,padding:ct,flipVariations:pt,allowedAutoPlacements:gt}):Jt)},[]),vt=et.rects.reference,$t=et.rects.popper,zt=new Map,Nt=!0,wt=xt[0],Et=0;Et<xt.length;Et++){var Rt=xt[Et],Tt=getBasePlacement(Rt),It=getVariation(Rt)===start,Pt=[top,bottom].indexOf(Tt)>=0,Dt=Pt?"width":"height",Ct=detectOverflow(et,{placement:Rt,boundary:ft,rootBoundary:ut,altBoundary:dt,padding:ct}),Ot=Pt?It?right:left:It?bottom:top;vt[Dt]>$t[Dt]&&(Ot=getOppositePlacement(Ot));var Ut=getOppositePlacement(Ot),At=[];if(ot&&At.push(Ct[Tt]<=0),st&&At.push(Ct[Ot]<=0,Ct[Ut]<=0),At.every(function(Ht){return Ht})){wt=Rt,Nt=!1;break}zt.set(Rt,At)}if(Nt)for(var Mt=pt?3:1,jt=function(Jt){var Vt=xt.find(function(Wt){var Lt=zt.get(Wt);if(Lt)return Lt.slice(0,Jt).every(function(Bt){return Bt})});if(Vt)return wt=Vt,"break"},kt=Mt;kt>0;kt--){var Gt=jt(kt);if(Gt==="break")break}et.placement!==wt&&(et.modifiersData[rt]._skip=!0,et.placement=wt,et.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(tt,et,nt){return nt===void 0&&(nt={x:0,y:0}),{top:tt.top-et.height-nt.y,right:tt.right-et.width+nt.x,bottom:tt.bottom-et.height+nt.y,left:tt.left-et.width-nt.x}}function isAnySideFullyClipped(tt){return[top,right,bottom,left].some(function(et){return tt[et]>=0})}function hide(tt){var et=tt.state,nt=tt.name,rt=et.rects.reference,it=et.rects.popper,ot=et.modifiersData.preventOverflow,at=detectOverflow(et,{elementContext:"reference"}),st=detectOverflow(et,{altBoundary:!0}),lt=getSideOffsets(at,rt),ct=getSideOffsets(st,it,ot),ft=isAnySideFullyClipped(lt),ut=isAnySideFullyClipped(ct);et.modifiersData[nt]={referenceClippingOffsets:lt,popperEscapeOffsets:ct,isReferenceHidden:ft,hasPopperEscaped:ut},et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-reference-hidden":ft,"data-popper-escaped":ut})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(tt,et,nt){var rt=getBasePlacement(tt),it=[left,top].indexOf(rt)>=0?-1:1,ot=typeof nt=="function"?nt(Object.assign({},et,{placement:tt})):nt,at=ot[0],st=ot[1];return at=at||0,st=(st||0)*it,[left,right].indexOf(rt)>=0?{x:st,y:at}:{x:at,y:st}}function offset(tt){var et=tt.state,nt=tt.options,rt=tt.name,it=nt.offset,ot=it===void 0?[0,0]:it,at=placements.reduce(function(ft,ut){return ft[ut]=distanceAndSkiddingToXY(ut,et.rects,ot),ft},{}),st=at[et.placement],lt=st.x,ct=st.y;et.modifiersData.popperOffsets!=null&&(et.modifiersData.popperOffsets.x+=lt,et.modifiersData.popperOffsets.y+=ct),et.modifiersData[rt]=at}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(tt){var et=tt.state,nt=tt.name;et.modifiersData[nt]=computeOffsets({reference:et.rects.reference,element:et.rects.popper,strategy:"absolute",placement:et.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(tt){return tt==="x"?"y":"x"}function preventOverflow(tt){var et=tt.state,nt=tt.options,rt=tt.name,it=nt.mainAxis,ot=it===void 0?!0:it,at=nt.altAxis,st=at===void 0?!1:at,lt=nt.boundary,ct=nt.rootBoundary,ft=nt.altBoundary,ut=nt.padding,dt=nt.tether,ht=dt===void 0?!0:dt,pt=nt.tetherOffset,gt=pt===void 0?0:pt,mt=detectOverflow(et,{boundary:lt,rootBoundary:ct,padding:ut,altBoundary:ft}),yt=getBasePlacement(et.placement),bt=getVariation(et.placement),St=!bt,xt=getMainAxisFromPlacement(yt),vt=getAltAxis(xt),$t=et.modifiersData.popperOffsets,zt=et.rects.reference,Nt=et.rects.popper,wt=typeof gt=="function"?gt(Object.assign({},et.rects,{placement:et.placement})):gt,Et=typeof wt=="number"?{mainAxis:wt,altAxis:wt}:Object.assign({mainAxis:0,altAxis:0},wt),Rt=et.modifiersData.offset?et.modifiersData.offset[et.placement]:null,Tt={x:0,y:0};if(!!$t){if(ot){var It,Pt=xt==="y"?top:left,Dt=xt==="y"?bottom:right,Ct=xt==="y"?"height":"width",Ot=$t[xt],Ut=Ot+mt[Pt],At=Ot-mt[Dt],Mt=ht?-Nt[Ct]/2:0,jt=bt===start?zt[Ct]:Nt[Ct],kt=bt===start?-Nt[Ct]:-zt[Ct],Gt=et.elements.arrow,Ht=ht&&Gt?getLayoutRect(Gt):{width:0,height:0},Jt=et.modifiersData["arrow#persistent"]?et.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Vt=Jt[Pt],Wt=Jt[Dt],Lt=within(0,zt[Ct],Ht[Ct]),Bt=St?zt[Ct]/2-Mt-Lt-Vt-Et.mainAxis:jt-Lt-Vt-Et.mainAxis,Ft=St?-zt[Ct]/2+Mt+Lt+Wt+Et.mainAxis:kt+Lt+Wt+Et.mainAxis,sn=et.elements.arrow&&getOffsetParent(et.elements.arrow),Xt=sn?xt==="y"?sn.clientTop||0:sn.clientLeft||0:0,dn=(It=Rt==null?void 0:Rt[xt])!=null?It:0,Yt=Ot+Bt-dn-Xt,yn=Ot+Ft-dn,Qt=within(ht?min(Ut,Yt):Ut,Ot,ht?max(At,yn):At);$t[xt]=Qt,Tt[xt]=Qt-Ot}if(st){var Kt,hn=xt==="x"?top:left,vn=xt==="x"?bottom:right,Sn=$t[vt],Cn=vt==="y"?"height":"width",cn=Sn+mt[hn],ln=Sn-mt[vn],bn=[top,left].indexOf(yt)!==-1,xn=(Kt=Rt==null?void 0:Rt[vt])!=null?Kt:0,Nn=bn?cn:Sn-zt[Cn]-Nt[Cn]-xn+Et.altAxis,zn=bn?Sn+zt[Cn]+Nt[Cn]-xn-Et.altAxis:ln,Ln=ht&&bn?withinMaxClamp(Nn,Sn,zn):within(ht?Nn:cn,Sn,ht?zn:ln);$t[vt]=Ln,Tt[vt]=Ln-Sn}et.modifiersData[rt]=Tt}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(tt){return{scrollLeft:tt.scrollLeft,scrollTop:tt.scrollTop}}function getNodeScroll(tt){return tt===getWindow(tt)||!isHTMLElement(tt)?getWindowScroll(tt):getHTMLElementScroll(tt)}function isElementScaled(tt){var et=tt.getBoundingClientRect(),nt=round$2(et.width)/tt.offsetWidth||1,rt=round$2(et.height)/tt.offsetHeight||1;return nt!==1||rt!==1}function getCompositeRect(tt,et,nt){nt===void 0&&(nt=!1);var rt=isHTMLElement(et),it=isHTMLElement(et)&&isElementScaled(et),ot=getDocumentElement(et),at=getBoundingClientRect(tt,it),st={scrollLeft:0,scrollTop:0},lt={x:0,y:0};return(rt||!rt&&!nt)&&((getNodeName(et)!=="body"||isScrollParent(ot))&&(st=getNodeScroll(et)),isHTMLElement(et)?(lt=getBoundingClientRect(et,!0),lt.x+=et.clientLeft,lt.y+=et.clientTop):ot&&(lt.x=getWindowScrollBarX(ot))),{x:at.left+st.scrollLeft-lt.x,y:at.top+st.scrollTop-lt.y,width:at.width,height:at.height}}function order(tt){var et=new Map,nt=new Set,rt=[];tt.forEach(function(ot){et.set(ot.name,ot)});function it(ot){nt.add(ot.name);var at=[].concat(ot.requires||[],ot.requiresIfExists||[]);at.forEach(function(st){if(!nt.has(st)){var lt=et.get(st);lt&&it(lt)}}),rt.push(ot)}return tt.forEach(function(ot){nt.has(ot.name)||it(ot)}),rt}function orderModifiers(tt){var et=order(tt);return modifierPhases.reduce(function(nt,rt){return nt.concat(et.filter(function(it){return it.phase===rt}))},[])}function debounce(tt){var et;return function(){return et||(et=new Promise(function(nt){Promise.resolve().then(function(){et=void 0,nt(tt())})})),et}}function mergeByName(tt){var et=tt.reduce(function(nt,rt){var it=nt[rt.name];return nt[rt.name]=it?Object.assign({},it,rt,{options:Object.assign({},it.options,rt.options),data:Object.assign({},it.data,rt.data)}):rt,nt},{});return Object.keys(et).map(function(nt){return et[nt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var tt=arguments.length,et=new Array(tt),nt=0;nt<tt;nt++)et[nt]=arguments[nt];return!et.some(function(rt){return!(rt&&typeof rt.getBoundingClientRect=="function")})}function popperGenerator(tt){tt===void 0&&(tt={});var et=tt,nt=et.defaultModifiers,rt=nt===void 0?[]:nt,it=et.defaultOptions,ot=it===void 0?DEFAULT_OPTIONS:it;return function(st,lt,ct){ct===void 0&&(ct=ot);var ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ot),modifiersData:{},elements:{reference:st,popper:lt},attributes:{},styles:{}},ut=[],dt=!1,ht={state:ft,setOptions:function(yt){var bt=typeof yt=="function"?yt(ft.options):yt;gt(),ft.options=Object.assign({},ot,ft.options,bt),ft.scrollParents={reference:isElement(st)?listScrollParents(st):st.contextElement?listScrollParents(st.contextElement):[],popper:listScrollParents(lt)};var St=orderModifiers(mergeByName([].concat(rt,ft.options.modifiers)));return ft.orderedModifiers=St.filter(function(xt){return xt.enabled}),pt(),ht.update()},forceUpdate:function(){if(!dt){var yt=ft.elements,bt=yt.reference,St=yt.popper;if(!!areValidElements(bt,St)){ft.rects={reference:getCompositeRect(bt,getOffsetParent(St),ft.options.strategy==="fixed"),popper:getLayoutRect(St)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(Et){return ft.modifiersData[Et.name]=Object.assign({},Et.data)});for(var xt=0;xt<ft.orderedModifiers.length;xt++){if(ft.reset===!0){ft.reset=!1,xt=-1;continue}var vt=ft.orderedModifiers[xt],$t=vt.fn,zt=vt.options,Nt=zt===void 0?{}:zt,wt=vt.name;typeof $t=="function"&&(ft=$t({state:ft,options:Nt,name:wt,instance:ht})||ft)}}}},update:debounce(function(){return new Promise(function(mt){ht.forceUpdate(),mt(ft)})}),destroy:function(){gt(),dt=!0}};if(!areValidElements(st,lt))return ht;ht.setOptions(ct).then(function(mt){!dt&&ct.onFirstUpdate&&ct.onFirstUpdate(mt)});function pt(){ft.orderedModifiers.forEach(function(mt){var yt=mt.name,bt=mt.options,St=bt===void 0?{}:bt,xt=mt.effect;if(typeof xt=="function"){var vt=xt({state:ft,name:yt,instance:ht,options:St}),$t=function(){};ut.push(vt||$t)}})}function gt(){ut.forEach(function(mt){return mt()}),ut=[]}return ht}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$1(tt){return typeof tt=="function"?tt():tt}const Portal=react.exports.forwardRef(function(et,nt){const{children:rt,container:it,disablePortal:ot=!1}=et,[at,st]=react.exports.useState(null),lt=useForkRef(react.exports.isValidElement(rt)?rt.ref:null,nt);return useEnhancedEffect$1(()=>{ot||st(getContainer$1(it)||document.body)},[it,ot]),useEnhancedEffect$1(()=>{if(at&&!ot)return setRef(nt,at),()=>{setRef(nt,null)}},[nt,at,ot]),ot?react.exports.isValidElement(rt)?react.exports.cloneElement(rt,{ref:lt}):rt:at&&reactDom$1.exports.createPortal(rt,at)});var Portal$1=Portal;const _excluded$I=["anchorEl","children","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],_excluded2$4=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function flipPlacement(tt,et){if(et==="ltr")return tt;switch(tt){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return tt}}function resolveAnchorEl$1(tt){return typeof tt=="function"?tt():tt}const defaultPopperOptions={},PopperTooltip=react.exports.forwardRef(function(et,nt){const{anchorEl:rt,children:it,direction:ot,disablePortal:at,modifiers:st,open:lt,placement:ct,popperOptions:ft,popperRef:ut,TransitionProps:dt}=et,ht=_objectWithoutPropertiesLoose$2(et,_excluded$I),pt=react.exports.useRef(null),gt=useForkRef(pt,nt),mt=react.exports.useRef(null),yt=useForkRef(mt,ut),bt=react.exports.useRef(yt);useEnhancedEffect$1(()=>{bt.current=yt},[yt]),react.exports.useImperativeHandle(ut,()=>mt.current,[]);const St=flipPlacement(ct,ot),[xt,vt]=react.exports.useState(St);react.exports.useEffect(()=>{mt.current&&mt.current.forceUpdate()}),useEnhancedEffect$1(()=>{if(!rt||!lt)return;const zt=Et=>{vt(Et.placement)};resolveAnchorEl$1(rt);let Nt=[{name:"preventOverflow",options:{altBoundary:at}},{name:"flip",options:{altBoundary:at}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Et})=>{zt(Et)}}];st!=null&&(Nt=Nt.concat(st)),ft&&ft.modifiers!=null&&(Nt=Nt.concat(ft.modifiers));const wt=createPopper(resolveAnchorEl$1(rt),pt.current,_extends$2({placement:St},ft,{modifiers:Nt}));return bt.current(wt),()=>{wt.destroy(),bt.current(null)}},[rt,at,st,lt,ft,St]);const $t={placement:xt};return dt!==null&&($t.TransitionProps=dt),jsxRuntime.exports.jsx("div",_extends$2({ref:gt,role:"tooltip"},ht,{children:typeof it=="function"?it($t):it}))}),PopperUnstyled=react.exports.forwardRef(function(et,nt){const{anchorEl:rt,children:it,container:ot,direction:at="ltr",disablePortal:st=!1,keepMounted:lt=!1,modifiers:ct,open:ft,placement:ut="bottom",popperOptions:dt=defaultPopperOptions,popperRef:ht,style:pt,transition:gt=!1}=et,mt=_objectWithoutPropertiesLoose$2(et,_excluded2$4),[yt,bt]=react.exports.useState(!0),St=()=>{bt(!1)},xt=()=>{bt(!0)};if(!lt&&!ft&&(!gt||yt))return null;const vt=ot||(rt?ownerDocument(resolveAnchorEl$1(rt)).body:void 0);return jsxRuntime.exports.jsx(Portal$1,{disablePortal:st,container:vt,children:jsxRuntime.exports.jsx(PopperTooltip,_extends$2({anchorEl:rt,direction:at,disablePortal:st,modifiers:ct,ref:nt,open:gt?!yt:ft,placement:ut,popperOptions:dt,popperRef:ht},mt,{style:_extends$2({position:"fixed",top:0,left:0,display:!ft&&lt&&(!gt||yt)?"none":null},pt),TransitionProps:gt?{in:ft,onEnter:St,onExited:xt}:null,children:it}))})});var PopperUnstyled$1=PopperUnstyled;function isOverflowing(tt){const et=ownerDocument(tt);return et.body===tt?ownerWindow(tt).innerWidth>et.documentElement.clientWidth:tt.scrollHeight>tt.clientHeight}function ariaHidden(tt,et){et?tt.setAttribute("aria-hidden","true"):tt.removeAttribute("aria-hidden")}function getPaddingRight(tt){return parseInt(ownerWindow(tt).getComputedStyle(tt).paddingRight,10)||0}function ariaHiddenSiblings(tt,et,nt,rt=[],it){const ot=[et,nt,...rt],at=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(tt.children,st=>{ot.indexOf(st)===-1&&at.indexOf(st.tagName)===-1&&ariaHidden(st,it)})}function findIndexOf(tt,et){let nt=-1;return tt.some((rt,it)=>et(rt)?(nt=it,!0):!1),nt}function handleContainer(tt,et){const nt=[],rt=tt.container;if(!et.disableScrollLock){if(isOverflowing(rt)){const lt=getScrollbarSize(ownerDocument(rt));nt.push({value:rt.style.paddingRight,property:"padding-right",el:rt}),rt.style.paddingRight=`${getPaddingRight(rt)+lt}px`;const ct=ownerDocument(rt).querySelectorAll(".mui-fixed");[].forEach.call(ct,ft=>{nt.push({value:ft.style.paddingRight,property:"padding-right",el:ft}),ft.style.paddingRight=`${getPaddingRight(ft)+lt}px`})}const ot=rt.parentElement,at=ownerWindow(rt),st=(ot==null?void 0:ot.nodeName)==="HTML"&&at.getComputedStyle(ot).overflowY==="scroll"?ot:rt;nt.push({value:st.style.overflow,property:"overflow",el:st},{value:st.style.overflowX,property:"overflow-x",el:st},{value:st.style.overflowY,property:"overflow-y",el:st}),st.style.overflow="hidden"}return()=>{nt.forEach(({value:ot,el:at,property:st})=>{ot?at.style.setProperty(st,ot):at.style.removeProperty(st)})}}function getHiddenSiblings(tt){const et=[];return[].forEach.call(tt.children,nt=>{nt.getAttribute("aria-hidden")==="true"&&et.push(nt)}),et}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(et,nt){let rt=this.modals.indexOf(et);if(rt!==-1)return rt;rt=this.modals.length,this.modals.push(et),et.modalRef&&ariaHidden(et.modalRef,!1);const it=getHiddenSiblings(nt);ariaHiddenSiblings(nt,et.mount,et.modalRef,it,!0);const ot=findIndexOf(this.containers,at=>at.container===nt);return ot!==-1?(this.containers[ot].modals.push(et),rt):(this.containers.push({modals:[et],container:nt,restore:null,hiddenSiblings:it}),rt)}mount(et,nt){const rt=findIndexOf(this.containers,ot=>ot.modals.indexOf(et)!==-1),it=this.containers[rt];it.restore||(it.restore=handleContainer(it,nt))}remove(et){const nt=this.modals.indexOf(et);if(nt===-1)return nt;const rt=findIndexOf(this.containers,ot=>ot.modals.indexOf(et)!==-1),it=this.containers[rt];if(it.modals.splice(it.modals.indexOf(et),1),this.modals.splice(nt,1),it.modals.length===0)it.restore&&it.restore(),et.modalRef&&ariaHidden(et.modalRef,!0),ariaHiddenSiblings(it.container,et.mount,et.modalRef,it.hiddenSiblings,!1),this.containers.splice(rt,1);else{const ot=it.modals[it.modals.length-1];ot.modalRef&&ariaHidden(ot.modalRef,!1)}return nt}isTopModal(et){return this.modals.length>0&&this.modals[this.modals.length-1]===et}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(tt){const et=parseInt(tt.getAttribute("tabindex"),10);return Number.isNaN(et)?tt.contentEditable==="true"||(tt.nodeName==="AUDIO"||tt.nodeName==="VIDEO"||tt.nodeName==="DETAILS")&&tt.getAttribute("tabindex")===null?0:tt.tabIndex:et}function isNonTabbableRadio(tt){if(tt.tagName!=="INPUT"||tt.type!=="radio"||!tt.name)return!1;const et=rt=>tt.ownerDocument.querySelector(`input[type="radio"]${rt}`);let nt=et(`[name="${tt.name}"]:checked`);return nt||(nt=et(`[name="${tt.name}"]`)),nt!==tt}function isNodeMatchingSelectorFocusable(tt){return!(tt.disabled||tt.tagName==="INPUT"&&tt.type==="hidden"||isNonTabbableRadio(tt))}function defaultGetTabbable(tt){const et=[],nt=[];return Array.from(tt.querySelectorAll(candidatesSelector)).forEach((rt,it)=>{const ot=getTabIndex(rt);ot===-1||!isNodeMatchingSelectorFocusable(rt)||(ot===0?et.push(rt):nt.push({documentOrder:it,tabIndex:ot,node:rt}))}),nt.sort((rt,it)=>rt.tabIndex===it.tabIndex?rt.documentOrder-it.documentOrder:rt.tabIndex-it.tabIndex).map(rt=>rt.node).concat(et)}function defaultIsEnabled(){return!0}function TrapFocus(tt){const{children:et,disableAutoFocus:nt=!1,disableEnforceFocus:rt=!1,disableRestoreFocus:it=!1,getTabbable:ot=defaultGetTabbable,isEnabled:at=defaultIsEnabled,open:st}=tt,lt=react.exports.useRef(),ct=react.exports.useRef(null),ft=react.exports.useRef(null),ut=react.exports.useRef(null),dt=react.exports.useRef(null),ht=react.exports.useRef(!1),pt=react.exports.useRef(null),gt=useForkRef(et.ref,pt),mt=react.exports.useRef(null);react.exports.useEffect(()=>{!st||!pt.current||(ht.current=!nt)},[nt,st]),react.exports.useEffect(()=>{if(!st||!pt.current)return;const St=ownerDocument(pt.current);return pt.current.contains(St.activeElement)||(pt.current.hasAttribute("tabIndex")||pt.current.setAttribute("tabIndex",-1),ht.current&&pt.current.focus()),()=>{it||(ut.current&&ut.current.focus&&(lt.current=!0,ut.current.focus()),ut.current=null)}},[st]),react.exports.useEffect(()=>{if(!st||!pt.current)return;const St=ownerDocument(pt.current),xt=zt=>{const{current:Nt}=pt;if(Nt!==null){if(!St.hasFocus()||rt||!at()||lt.current){lt.current=!1;return}if(!Nt.contains(St.activeElement)){if(zt&&dt.current!==zt.target||St.activeElement!==dt.current)dt.current=null;else if(dt.current!==null)return;if(!ht.current)return;let Rt=[];if((St.activeElement===ct.current||St.activeElement===ft.current)&&(Rt=ot(pt.current)),Rt.length>0){var wt,Et;const Tt=Boolean(((wt=mt.current)==null?void 0:wt.shiftKey)&&((Et=mt.current)==null?void 0:Et.key)==="Tab"),It=Rt[0],Pt=Rt[Rt.length-1];Tt?Pt.focus():It.focus()}else Nt.focus()}}},vt=zt=>{mt.current=zt,!(rt||!at()||zt.key!=="Tab")&&St.activeElement===pt.current&&zt.shiftKey&&(lt.current=!0,ft.current.focus())};St.addEventListener("focusin",xt),St.addEventListener("keydown",vt,!0);const $t=setInterval(()=>{St.activeElement.tagName==="BODY"&&xt()},50);return()=>{clearInterval($t),St.removeEventListener("focusin",xt),St.removeEventListener("keydown",vt,!0)}},[nt,rt,it,at,st,ot]);const yt=St=>{ut.current===null&&(ut.current=St.relatedTarget),ht.current=!0,dt.current=St.target;const xt=et.props.onFocus;xt&&xt(St)},bt=St=>{ut.current===null&&(ut.current=St.relatedTarget),ht.current=!0};return jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[jsxRuntime.exports.jsx("div",{tabIndex:0,onFocus:bt,ref:ct,"data-test":"sentinelStart"}),react.exports.cloneElement(et,{ref:gt,onFocus:yt}),jsxRuntime.exports.jsx("div",{tabIndex:0,onFocus:bt,ref:ft,"data-test":"sentinelEnd"})]})}function getModalUtilityClass(tt){return generateUtilityClass("MuiModal",tt)}generateUtilityClasses("MuiModal",["root","hidden"]);const _excluded$H=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"],useUtilityClasses$v=tt=>{const{open:et,exited:nt,classes:rt}=tt;return composeClasses({root:["root",!et&&nt&&"hidden"]},getModalUtilityClass,rt)};function getContainer(tt){return typeof tt=="function"?tt():tt}function getHasTransition(tt){return tt.children?tt.children.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,ModalUnstyled=react.exports.forwardRef(function(et,nt){const{BackdropComponent:rt,BackdropProps:it,children:ot,classes:at,className:st,closeAfterTransition:lt=!1,component:ct="div",components:ft={},componentsProps:ut={},container:dt,disableAutoFocus:ht=!1,disableEnforceFocus:pt=!1,disableEscapeKeyDown:gt=!1,disablePortal:mt=!1,disableRestoreFocus:yt=!1,disableScrollLock:bt=!1,hideBackdrop:St=!1,keepMounted:xt=!1,manager:vt=defaultManager,onBackdropClick:$t,onClose:zt,onKeyDown:Nt,open:wt,theme:Et,onTransitionEnter:Rt,onTransitionExited:Tt}=et,It=_objectWithoutPropertiesLoose$2(et,_excluded$H),[Pt,Dt]=react.exports.useState(!0),Ct=react.exports.useRef({}),Ot=react.exports.useRef(null),Ut=react.exports.useRef(null),At=useForkRef(Ut,nt),Mt=getHasTransition(et),jt=()=>ownerDocument(Ot.current),kt=()=>(Ct.current.modalRef=Ut.current,Ct.current.mountNode=Ot.current,Ct.current),Gt=()=>{vt.mount(kt(),{disableScrollLock:bt}),Ut.current.scrollTop=0},Ht=useEventCallback(()=>{const Kt=getContainer(dt)||jt().body;vt.add(kt(),Kt),Ut.current&&Gt()}),Jt=react.exports.useCallback(()=>vt.isTopModal(kt()),[vt]),Vt=useEventCallback(Kt=>{Ot.current=Kt,Kt&&(wt&&Jt()?Gt():ariaHidden(Ut.current,!0))}),Wt=react.exports.useCallback(()=>{vt.remove(kt())},[vt]);react.exports.useEffect(()=>()=>{Wt()},[Wt]),react.exports.useEffect(()=>{wt?Ht():(!Mt||!lt)&&Wt()},[wt,Wt,Mt,lt,Ht]);const Lt=_extends$2({},et,{classes:at,closeAfterTransition:lt,disableAutoFocus:ht,disableEnforceFocus:pt,disableEscapeKeyDown:gt,disablePortal:mt,disableRestoreFocus:yt,disableScrollLock:bt,exited:Pt,hideBackdrop:St,keepMounted:xt}),Bt=useUtilityClasses$v(Lt);if(!xt&&!wt&&(!Mt||Pt))return null;const Ft=()=>{Dt(!1),Rt&&Rt()},sn=()=>{Dt(!0),Tt&&Tt(),lt&&Wt()},Xt=Kt=>{Kt.target===Kt.currentTarget&&($t&&$t(Kt),zt&&zt(Kt,"backdropClick"))},dn=Kt=>{Nt&&Nt(Kt),!(Kt.key!=="Escape"||!Jt())&&(gt||(Kt.stopPropagation(),zt&&zt(Kt,"escapeKeyDown")))},Yt={};ot.props.tabIndex===void 0&&(Yt.tabIndex="-1"),Mt&&(Yt.onEnter=createChainedFunction(Ft,ot.props.onEnter),Yt.onExited=createChainedFunction(sn,ot.props.onExited));const yn=ft.Root||ct,Qt=ut.root||{};return jsxRuntime.exports.jsx(Portal$1,{ref:Vt,container:dt,disablePortal:mt,children:jsxRuntime.exports.jsxs(yn,_extends$2({role:"presentation"},Qt,!isHostComponent(yn)&&{as:ct,ownerState:_extends$2({},Lt,Qt.ownerState),theme:Et},It,{ref:At,onKeyDown:dn,className:clsx(Bt.root,Qt.className,st),children:[!St&&rt?jsxRuntime.exports.jsx(rt,_extends$2({"aria-hidden":!0,open:wt,onClick:Xt},it)):null,jsxRuntime.exports.jsx(TrapFocus,{disableEnforceFocus:pt,disableAutoFocus:ht,disableRestoreFocus:yt,isEnabled:Jt,open:wt,children:react.exports.cloneElement(ot,Yt)})]}))})});var ModalUnstyled$1=ModalUnstyled;const _excluded$G=["onChange","maxRows","minRows","style","value"];function getStyleValue(tt,et){return parseInt(tt[et],10)||0}const styles$3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},TextareaAutosize=react.exports.forwardRef(function(et,nt){const{onChange:rt,maxRows:it,minRows:ot=1,style:at,value:st}=et,lt=_objectWithoutPropertiesLoose$2(et,_excluded$G),{current:ct}=react.exports.useRef(st!=null),ft=react.exports.useRef(null),ut=useForkRef(nt,ft),dt=react.exports.useRef(null),ht=react.exports.useRef(0),[pt,gt]=react.exports.useState({}),mt=react.exports.useCallback(()=>{const bt=ft.current,xt=ownerWindow(bt).getComputedStyle(bt);if(xt.width==="0px")return;const vt=dt.current;vt.style.width=xt.width,vt.value=bt.value||et.placeholder||"x",vt.value.slice(-1)===`
`&&(vt.value+=" ");const $t=xt["box-sizing"],zt=getStyleValue(xt,"padding-bottom")+getStyleValue(xt,"padding-top"),Nt=getStyleValue(xt,"border-bottom-width")+getStyleValue(xt,"border-top-width"),wt=vt.scrollHeight;vt.value="x";const Et=vt.scrollHeight;let Rt=wt;ot&&(Rt=Math.max(Number(ot)*Et,Rt)),it&&(Rt=Math.min(Number(it)*Et,Rt)),Rt=Math.max(Rt,Et);const Tt=Rt+($t==="border-box"?zt+Nt:0),It=Math.abs(Rt-wt)<=1;gt(Pt=>ht.current<20&&(Tt>0&&Math.abs((Pt.outerHeightStyle||0)-Tt)>1||Pt.overflow!==It)?(ht.current+=1,{overflow:It,outerHeightStyle:Tt}):Pt)},[it,ot,et.placeholder]);react.exports.useEffect(()=>{const bt=debounce$1(()=>{ht.current=0,mt()}),St=ownerWindow(ft.current);St.addEventListener("resize",bt);let xt;return typeof ResizeObserver!="undefined"&&(xt=new ResizeObserver(bt),xt.observe(ft.current)),()=>{bt.clear(),St.removeEventListener("resize",bt),xt&&xt.disconnect()}},[mt]),useEnhancedEffect$1(()=>{mt()}),react.exports.useEffect(()=>{ht.current=0},[st]);const yt=bt=>{ht.current=0,ct||mt(),rt&&rt(bt)};return jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[jsxRuntime.exports.jsx("textarea",_extends$2({value:st,onChange:yt,ref:ut,rows:ot,style:_extends$2({height:pt.outerHeightStyle,overflow:pt.overflow?"hidden":null},at)},lt)),jsxRuntime.exports.jsx("textarea",{"aria-hidden":!0,className:et.className,readOnly:!0,ref:dt,tabIndex:-1,style:_extends$2({},styles$3.shadow,at,{padding:0})})]})});var TextareaAutosize$1=TextareaAutosize;function createMixins(tt,et){return _extends$2({toolbar:{minHeight:56,[`${tt.up("xs")} and (orientation: landscape)`]:{minHeight:48},[tt.up("sm")]:{minHeight:64}}},et)}const common$2={black:"#000",white:"#fff"};var common$3=common$2;const grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var grey$1=grey;const purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var purple$1=purple;const red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var red$1=red;const orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var orange$1=orange;const blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var blue$1=blue;const lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var lightBlue$1=lightBlue;const green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var green$1=green;const _excluded$F=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$3.white,default:common$3.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$3.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$3.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(tt,et,nt,rt){const it=rt.light||rt,ot=rt.dark||rt*1.5;tt[et]||(tt.hasOwnProperty(nt)?tt[et]=tt[nt]:et==="light"?tt.light=lighten(tt.main,it):et==="dark"&&(tt.dark=darken(tt.main,ot)))}function getDefaultPrimary(tt="light"){return tt==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(tt="light"){return tt==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(tt="light"){return tt==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(tt="light"){return tt==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(tt="light"){return tt==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(tt="light"){return tt==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(tt){const{mode:et="light",contrastThreshold:nt=3,tonalOffset:rt=.2}=tt,it=_objectWithoutPropertiesLoose$2(tt,_excluded$F),ot=tt.primary||getDefaultPrimary(et),at=tt.secondary||getDefaultSecondary(et),st=tt.error||getDefaultError(et),lt=tt.info||getDefaultInfo(et),ct=tt.success||getDefaultSuccess(et),ft=tt.warning||getDefaultWarning(et);function ut(gt){return getContrastRatio(gt,dark.text.primary)>=nt?dark.text.primary:light.text.primary}const dt=({color:gt,name:mt,mainShade:yt=500,lightShade:bt=300,darkShade:St=700})=>{if(gt=_extends$2({},gt),!gt.main&&gt[yt]&&(gt.main=gt[yt]),!gt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,mt?` (${mt})`:"",yt));if(typeof gt.main!="string")throw new Error(formatMuiErrorMessage(12,mt?` (${mt})`:"",JSON.stringify(gt.main)));return addLightOrDark(gt,"light",bt,rt),addLightOrDark(gt,"dark",St,rt),gt.contrastText||(gt.contrastText=ut(gt.main)),gt},ht={dark,light};return deepmerge(_extends$2({common:_extends$2({},common$3),mode:et,primary:dt({color:ot,name:"primary"}),secondary:dt({color:at,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:dt({color:st,name:"error"}),warning:dt({color:ft,name:"warning"}),info:dt({color:lt,name:"info"}),success:dt({color:ct,name:"success"}),grey:grey$1,contrastThreshold:nt,getContrastText:ut,augmentColor:dt,tonalOffset:rt},ht[et]),it)}const _excluded$E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(tt){return Math.round(tt*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(tt,et){const nt=typeof et=="function"?et(tt):et,{fontFamily:rt=defaultFontFamily,fontSize:it=14,fontWeightLight:ot=300,fontWeightRegular:at=400,fontWeightMedium:st=500,fontWeightBold:lt=700,htmlFontSize:ct=16,allVariants:ft,pxToRem:ut}=nt,dt=_objectWithoutPropertiesLoose$2(nt,_excluded$E),ht=it/14,pt=ut||(yt=>`${yt/ct*ht}rem`),gt=(yt,bt,St,xt,vt)=>_extends$2({fontFamily:rt,fontWeight:yt,fontSize:pt(bt),lineHeight:St},rt===defaultFontFamily?{letterSpacing:`${round$1(xt/bt)}em`}:{},vt,ft),mt={h1:gt(ot,96,1.167,-1.5),h2:gt(ot,60,1.2,-.5),h3:gt(at,48,1.167,0),h4:gt(at,34,1.235,.25),h5:gt(at,24,1.334,0),h6:gt(st,20,1.6,.15),subtitle1:gt(at,16,1.75,.15),subtitle2:gt(st,14,1.57,.1),body1:gt(at,16,1.5,.15),body2:gt(at,14,1.43,.15),button:gt(st,14,1.75,.4,caseAllCaps),caption:gt(at,12,1.66,.4),overline:gt(at,12,2.66,1,caseAllCaps)};return deepmerge(_extends$2({htmlFontSize:ct,pxToRem:pt,fontFamily:rt,fontSize:it,fontWeightLight:ot,fontWeightRegular:at,fontWeightMedium:st,fontWeightBold:lt},mt),dt,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...tt){return[`${tt[0]}px ${tt[1]}px ${tt[2]}px ${tt[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${tt[4]}px ${tt[5]}px ${tt[6]}px ${tt[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${tt[8]}px ${tt[9]}px ${tt[10]}px ${tt[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];var shadows$1=shadows;const _excluded$D=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(tt){return`${Math.round(tt)}ms`}function getAutoHeightDuration(tt){if(!tt)return 0;const et=tt/36;return Math.round((4+15*et**.25+et/5)*10)}function createTransitions(tt){const et=_extends$2({},easing,tt.easing),nt=_extends$2({},duration$1,tt.duration);return _extends$2({getAutoHeightDuration,create:(it=["all"],ot={})=>{const{duration:at=nt.standard,easing:st=et.easeInOut,delay:lt=0}=ot;return _objectWithoutPropertiesLoose$2(ot,_excluded$D),(Array.isArray(it)?it:[it]).map(ct=>`${ct} ${typeof at=="string"?at:formatMs(at)} ${st} ${typeof lt=="string"?lt:formatMs(lt)}`).join(",")}},tt,{easing:et,duration:nt})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var zIndex$1=zIndex;const _excluded$C=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(tt={},...et){const{mixins:nt={},palette:rt={},transitions:it={},typography:ot={}}=tt,at=_objectWithoutPropertiesLoose$2(tt,_excluded$C),st=createPalette(rt),lt=createTheme$1(tt);let ct=deepmerge(lt,{mixins:createMixins(lt.breakpoints,nt),palette:st,shadows:shadows$1.slice(),typography:createTypography(st,ot),transitions:createTransitions(it),zIndex:_extends$2({},zIndex$1)});return ct=deepmerge(ct,at),ct=et.reduce((ft,ut)=>deepmerge(ft,ut),ct),ct}const defaultTheme$2=createTheme();var defaultTheme$3=defaultTheme$2;function useThemeProps({props:tt,name:et}){return useThemeProps$1({props:tt,name:et,defaultTheme:defaultTheme$3})}function GlobalStyles(tt){return jsxRuntime.exports.jsx(GlobalStyles$1,_extends$2({},tt,{defaultTheme:defaultTheme$3}))}const html=(tt,et)=>_extends$2({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},et&&{colorScheme:tt.palette.mode}),body=tt=>_extends$2({color:(tt.vars||tt).palette.text.primary},tt.typography.body1,{backgroundColor:(tt.vars||tt).palette.background.default,"@media print":{backgroundColor:(tt.vars||tt).palette.common.white}}),styles$2=(tt,et=!1)=>{var nt,rt;let it={html:html(tt,et),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:tt.typography.fontWeightBold},body:_extends$2({margin:0},body(tt),{"&::backdrop":{backgroundColor:(tt.vars||tt).palette.background.default}})};const ot=(nt=tt.components)==null||(rt=nt.MuiCssBaseline)==null?void 0:rt.styleOverrides;return ot&&(it=[it,ot]),it};function CssBaseline(tt){const et=useThemeProps({props:tt,name:"MuiCssBaseline"}),{children:nt,enableColorScheme:rt=!1}=et;return jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[jsxRuntime.exports.jsx(GlobalStyles,{styles:it=>styles$2(it,rt)}),nt]})}function useTheme(){return useTheme$1(defaultTheme$3)}const rootShouldForwardProp=tt=>shouldForwardProp(tt)&&tt!=="classes",slotShouldForwardProp=shouldForwardProp,styled$1=createStyled({defaultTheme:defaultTheme$3,rootShouldForwardProp});var styled$2=styled$1;function getSvgIconUtilityClass(tt){return generateUtilityClass("MuiSvgIcon",tt)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$B=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$u=tt=>{const{color:et,fontSize:nt,classes:rt}=tt,it={root:["root",et!=="inherit"&&`color${capitalize(et)}`,`fontSize${capitalize(nt)}`]};return composeClasses(it,getSvgIconUtilityClass,rt)},SvgIconRoot=styled$2("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.color!=="inherit"&&et[`color${capitalize(nt.color)}`],et[`fontSize${capitalize(nt.fontSize)}`]]}})(({theme:tt,ownerState:et})=>{var nt,rt,it,ot,at,st,lt,ct,ft,ut,dt,ht,pt,gt,mt,yt,bt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(nt=tt.transitions)==null||(rt=nt.create)==null?void 0:rt.call(nt,"fill",{duration:(it=tt.transitions)==null||(ot=it.duration)==null?void 0:ot.shorter}),fontSize:{inherit:"inherit",small:((at=tt.typography)==null||(st=at.pxToRem)==null?void 0:st.call(at,20))||"1.25rem",medium:((lt=tt.typography)==null||(ct=lt.pxToRem)==null?void 0:ct.call(lt,24))||"1.5rem",large:((ft=tt.typography)==null||(ut=ft.pxToRem)==null?void 0:ut.call(ft,35))||"2.1875"}[et.fontSize],color:(dt=(ht=(tt.vars||tt).palette)==null||(pt=ht[et.color])==null?void 0:pt.main)!=null?dt:{action:(gt=(tt.vars||tt).palette)==null||(mt=gt.action)==null?void 0:mt.active,disabled:(yt=(tt.vars||tt).palette)==null||(bt=yt.action)==null?void 0:bt.disabled,inherit:void 0}[et.color]}}),SvgIcon=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiSvgIcon"}),{children:it,className:ot,color:at="inherit",component:st="svg",fontSize:lt="medium",htmlColor:ct,inheritViewBox:ft=!1,titleAccess:ut,viewBox:dt="0 0 24 24"}=rt,ht=_objectWithoutPropertiesLoose$2(rt,_excluded$B),pt=_extends$2({},rt,{color:at,component:st,fontSize:lt,instanceFontSize:et.fontSize,inheritViewBox:ft,viewBox:dt}),gt={};ft||(gt.viewBox=dt);const mt=useUtilityClasses$u(pt);return jsxRuntime.exports.jsxs(SvgIconRoot,_extends$2({as:st,className:clsx(mt.root,ot),ownerState:pt,focusable:"false",color:ct,"aria-hidden":ut?void 0:!0,role:ut?"img":void 0,ref:nt},gt,ht,{children:[it,ut?jsxRuntime.exports.jsx("title",{children:ut}):null]}))});SvgIcon.muiName="SvgIcon";var SvgIcon$1=SvgIcon;function createSvgIcon(tt,et){const nt=(rt,it)=>jsxRuntime.exports.jsx(SvgIcon$1,_extends$2({"data-testid":`${et}Icon`,ref:it},rt,{children:tt}));return nt.muiName=SvgIcon$1.muiName,react.exports.memo(react.exports.forwardRef(nt))}function _setPrototypeOf$2(tt,et){return _setPrototypeOf$2=Object.setPrototypeOf||function(rt,it){return rt.__proto__=it,rt},_setPrototypeOf$2(tt,et)}function _inheritsLoose(tt,et){tt.prototype=Object.create(et.prototype),tt.prototype.constructor=tt,_setPrototypeOf$2(tt,et)}var config={disabled:!1},TransitionGroupContext=React__default$2.createContext(null),UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(tt){_inheritsLoose(et,tt);function et(rt,it){var ot;ot=tt.call(this,rt,it)||this;var at=it,st=at&&!at.isMounting?rt.enter:rt.appear,lt;return ot.appearStatus=null,rt.in?st?(lt=EXITED,ot.appearStatus=ENTERING):lt=ENTERED:rt.unmountOnExit||rt.mountOnEnter?lt=UNMOUNTED:lt=EXITED,ot.state={status:lt},ot.nextCallback=null,ot}et.getDerivedStateFromProps=function(it,ot){var at=it.in;return at&&ot.status===UNMOUNTED?{status:EXITED}:null};var nt=et.prototype;return nt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},nt.componentDidUpdate=function(it){var ot=null;if(it!==this.props){var at=this.state.status;this.props.in?at!==ENTERING&&at!==ENTERED&&(ot=ENTERING):(at===ENTERING||at===ENTERED)&&(ot=EXITING)}this.updateStatus(!1,ot)},nt.componentWillUnmount=function(){this.cancelNextCallback()},nt.getTimeouts=function(){var it=this.props.timeout,ot,at,st;return ot=at=st=it,it!=null&&typeof it!="number"&&(ot=it.exit,at=it.enter,st=it.appear!==void 0?it.appear:at),{exit:ot,enter:at,appear:st}},nt.updateStatus=function(it,ot){it===void 0&&(it=!1),ot!==null?(this.cancelNextCallback(),ot===ENTERING?this.performEnter(it):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},nt.performEnter=function(it){var ot=this,at=this.props.enter,st=this.context?this.context.isMounting:it,lt=this.props.nodeRef?[st]:[reactDom.findDOMNode(this),st],ct=lt[0],ft=lt[1],ut=this.getTimeouts(),dt=st?ut.appear:ut.enter;if(!it&&!at||config.disabled){this.safeSetState({status:ENTERED},function(){ot.props.onEntered(ct)});return}this.props.onEnter(ct,ft),this.safeSetState({status:ENTERING},function(){ot.props.onEntering(ct,ft),ot.onTransitionEnd(dt,function(){ot.safeSetState({status:ENTERED},function(){ot.props.onEntered(ct,ft)})})})},nt.performExit=function(){var it=this,ot=this.props.exit,at=this.getTimeouts(),st=this.props.nodeRef?void 0:reactDom.findDOMNode(this);if(!ot||config.disabled){this.safeSetState({status:EXITED},function(){it.props.onExited(st)});return}this.props.onExit(st),this.safeSetState({status:EXITING},function(){it.props.onExiting(st),it.onTransitionEnd(at.exit,function(){it.safeSetState({status:EXITED},function(){it.props.onExited(st)})})})},nt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},nt.safeSetState=function(it,ot){ot=this.setNextCallback(ot),this.setState(it,ot)},nt.setNextCallback=function(it){var ot=this,at=!0;return this.nextCallback=function(st){at&&(at=!1,ot.nextCallback=null,it(st))},this.nextCallback.cancel=function(){at=!1},this.nextCallback},nt.onTransitionEnd=function(it,ot){this.setNextCallback(ot);var at=this.props.nodeRef?this.props.nodeRef.current:reactDom.findDOMNode(this),st=it==null&&!this.props.addEndListener;if(!at||st){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var lt=this.props.nodeRef?[this.nextCallback]:[at,this.nextCallback],ct=lt[0],ft=lt[1];this.props.addEndListener(ct,ft)}it!=null&&setTimeout(this.nextCallback,it)},nt.render=function(){var it=this.state.status;if(it===UNMOUNTED)return null;var ot=this.props,at=ot.children;ot.in,ot.mountOnEnter,ot.unmountOnExit,ot.appear,ot.enter,ot.exit,ot.timeout,ot.addEndListener,ot.onEnter,ot.onEntering,ot.onEntered,ot.onExit,ot.onExiting,ot.onExited,ot.nodeRef;var st=_objectWithoutPropertiesLoose$2(ot,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React__default$2.createElement(TransitionGroupContext.Provider,{value:null},typeof at=="function"?at(it,st):React__default$2.cloneElement(React__default$2.Children.only(at),st))},et}(React__default$2.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;var Transition$1=Transition;function _assertThisInitialized$2(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function getChildMapping(tt,et){var nt=function(ot){return et&&react.exports.isValidElement(ot)?et(ot):ot},rt=Object.create(null);return tt&&react.exports.Children.map(tt,function(it){return it}).forEach(function(it){rt[it.key]=nt(it)}),rt}function mergeChildMappings(tt,et){tt=tt||{},et=et||{};function nt(ft){return ft in et?et[ft]:tt[ft]}var rt=Object.create(null),it=[];for(var ot in tt)ot in et?it.length&&(rt[ot]=it,it=[]):it.push(ot);var at,st={};for(var lt in et){if(rt[lt])for(at=0;at<rt[lt].length;at++){var ct=rt[lt][at];st[rt[lt][at]]=nt(ct)}st[lt]=nt(lt)}for(at=0;at<it.length;at++)st[it[at]]=nt(it[at]);return st}function getProp(tt,et,nt){return nt[et]!=null?nt[et]:tt.props[et]}function getInitialChildMapping(tt,et){return getChildMapping(tt.children,function(nt){return react.exports.cloneElement(nt,{onExited:et.bind(null,nt),in:!0,appear:getProp(nt,"appear",tt),enter:getProp(nt,"enter",tt),exit:getProp(nt,"exit",tt)})})}function getNextChildMapping(tt,et,nt){var rt=getChildMapping(tt.children),it=mergeChildMappings(et,rt);return Object.keys(it).forEach(function(ot){var at=it[ot];if(!!react.exports.isValidElement(at)){var st=ot in et,lt=ot in rt,ct=et[ot],ft=react.exports.isValidElement(ct)&&!ct.props.in;lt&&(!st||ft)?it[ot]=react.exports.cloneElement(at,{onExited:nt.bind(null,at),in:!0,exit:getProp(at,"exit",tt),enter:getProp(at,"enter",tt)}):!lt&&st&&!ft?it[ot]=react.exports.cloneElement(at,{in:!1}):lt&&st&&react.exports.isValidElement(ct)&&(it[ot]=react.exports.cloneElement(at,{onExited:nt.bind(null,at),in:ct.props.in,exit:getProp(at,"exit",tt),enter:getProp(at,"enter",tt)}))}}),it}var values=Object.values||function(tt){return Object.keys(tt).map(function(et){return tt[et]})},defaultProps={component:"div",childFactory:function(et){return et}},TransitionGroup=function(tt){_inheritsLoose(et,tt);function et(rt,it){var ot;ot=tt.call(this,rt,it)||this;var at=ot.handleExited.bind(_assertThisInitialized$2(ot));return ot.state={contextValue:{isMounting:!0},handleExited:at,firstRender:!0},ot}var nt=et.prototype;return nt.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},nt.componentWillUnmount=function(){this.mounted=!1},et.getDerivedStateFromProps=function(it,ot){var at=ot.children,st=ot.handleExited,lt=ot.firstRender;return{children:lt?getInitialChildMapping(it,st):getNextChildMapping(it,at,st),firstRender:!1}},nt.handleExited=function(it,ot){var at=getChildMapping(this.props.children);it.key in at||(it.props.onExited&&it.props.onExited(ot),this.mounted&&this.setState(function(st){var lt=_extends$2({},st.children);return delete lt[it.key],{children:lt}}))},nt.render=function(){var it=this.props,ot=it.component,at=it.childFactory,st=_objectWithoutPropertiesLoose$2(it,["component","childFactory"]),lt=this.state.contextValue,ct=values(this.state.children).map(at);return delete st.appear,delete st.enter,delete st.exit,ot===null?React__default$2.createElement(TransitionGroupContext.Provider,{value:lt},ct):React__default$2.createElement(TransitionGroupContext.Provider,{value:lt},React__default$2.createElement(ot,st,ct))},et}(React__default$2.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;var TransitionGroup$1=TransitionGroup;const reflow=tt=>tt.scrollTop;function getTransitionProps(tt,et){var nt,rt;const{timeout:it,easing:ot,style:at={}}=tt;return{duration:(nt=at.transitionDuration)!=null?nt:typeof it=="number"?it:it[et.mode]||0,easing:(rt=at.transitionTimingFunction)!=null?rt:typeof ot=="object"?ot[et.mode]:ot,delay:at.transitionDelay}}function getPaperUtilityClass(tt){return generateUtilityClass("MuiPaper",tt)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$A=["className","component","elevation","square","variant"],getOverlayAlpha=tt=>{let et;return tt<1?et=5.11916*tt**2:et=4.5*Math.log(tt+1)+2,(et/100).toFixed(2)},useUtilityClasses$t=tt=>{const{square:et,elevation:nt,variant:rt,classes:it}=tt,ot={root:["root",rt,!et&&"rounded",rt==="elevation"&&`elevation${nt}`]};return composeClasses(ot,getPaperUtilityClass,it)},PaperRoot=styled$2("div",{name:"MuiPaper",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,et[nt.variant],!nt.square&&et.rounded,nt.variant==="elevation"&&et[`elevation${nt.elevation}`]]}})(({theme:tt,ownerState:et})=>_extends$2({backgroundColor:tt.palette.background.paper,color:tt.palette.text.primary,transition:tt.transitions.create("box-shadow")},!et.square&&{borderRadius:tt.shape.borderRadius},et.variant==="outlined"&&{border:`1px solid ${tt.palette.divider}`},et.variant==="elevation"&&_extends$2({boxShadow:tt.shadows[et.elevation]},tt.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha(et.elevation))}, ${alpha("#fff",getOverlayAlpha(et.elevation))})`}))),Paper=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiPaper"}),{className:it,component:ot="div",elevation:at=1,square:st=!1,variant:lt="elevation"}=rt,ct=_objectWithoutPropertiesLoose$2(rt,_excluded$A),ft=_extends$2({},rt,{component:ot,elevation:at,square:st,variant:lt}),ut=useUtilityClasses$t(ft);return jsxRuntime.exports.jsx(PaperRoot,_extends$2({as:ot,ownerState:ft,className:clsx(ut.root,it),ref:nt},ct))});var Paper$1=Paper;function Ripple(tt){const{className:et,classes:nt,pulsate:rt=!1,rippleX:it,rippleY:ot,rippleSize:at,in:st,onExited:lt,timeout:ct}=tt,[ft,ut]=react.exports.useState(!1),dt=clsx(et,nt.ripple,nt.rippleVisible,rt&&nt.ripplePulsate),ht={width:at,height:at,top:-(at/2)+ot,left:-(at/2)+it},pt=clsx(nt.child,ft&&nt.childLeaving,rt&&nt.childPulsate);return!st&&!ft&&ut(!0),react.exports.useEffect(()=>{if(!st&&lt!=null){const gt=setTimeout(lt,ct);return()=>{clearTimeout(gt)}}},[lt,st,ct]),jsxRuntime.exports.jsx("span",{className:dt,style:ht,children:jsxRuntime.exports.jsx("span",{className:pt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var touchRippleClasses$1=touchRippleClasses;const _excluded$z=["center","classes","className"];let _$2=tt=>tt,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_$2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_$2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_$2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$2("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$2(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_$2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:tt})=>tt.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:tt})=>tt.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:tt})=>tt.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:tt})=>tt.transitions.easing.easeInOut),TouchRipple=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiTouchRipple"}),{center:it=!1,classes:ot={},className:at}=rt,st=_objectWithoutPropertiesLoose$2(rt,_excluded$z),[lt,ct]=react.exports.useState([]),ft=react.exports.useRef(0),ut=react.exports.useRef(null);react.exports.useEffect(()=>{ut.current&&(ut.current(),ut.current=null)},[lt]);const dt=react.exports.useRef(!1),ht=react.exports.useRef(null),pt=react.exports.useRef(null),gt=react.exports.useRef(null);react.exports.useEffect(()=>()=>{clearTimeout(ht.current)},[]);const mt=react.exports.useCallback(xt=>{const{pulsate:vt,rippleX:$t,rippleY:zt,rippleSize:Nt,cb:wt}=xt;ct(Et=>[...Et,jsxRuntime.exports.jsx(TouchRippleRipple,{classes:{ripple:clsx(ot.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(ot.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(ot.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(ot.child,touchRippleClasses$1.child),childLeaving:clsx(ot.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(ot.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:vt,rippleX:$t,rippleY:zt,rippleSize:Nt},ft.current)]),ft.current+=1,ut.current=wt},[ot]),yt=react.exports.useCallback((xt={},vt={},$t)=>{const{pulsate:zt=!1,center:Nt=it||vt.pulsate,fakeElement:wt=!1}=vt;if(xt.type==="mousedown"&&dt.current){dt.current=!1;return}xt.type==="touchstart"&&(dt.current=!0);const Et=wt?null:gt.current,Rt=Et?Et.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Tt,It,Pt;if(Nt||xt.clientX===0&&xt.clientY===0||!xt.clientX&&!xt.touches)Tt=Math.round(Rt.width/2),It=Math.round(Rt.height/2);else{const{clientX:Dt,clientY:Ct}=xt.touches?xt.touches[0]:xt;Tt=Math.round(Dt-Rt.left),It=Math.round(Ct-Rt.top)}if(Nt)Pt=Math.sqrt((2*Rt.width**2+Rt.height**2)/3),Pt%2===0&&(Pt+=1);else{const Dt=Math.max(Math.abs((Et?Et.clientWidth:0)-Tt),Tt)*2+2,Ct=Math.max(Math.abs((Et?Et.clientHeight:0)-It),It)*2+2;Pt=Math.sqrt(Dt**2+Ct**2)}xt.touches?pt.current===null&&(pt.current=()=>{mt({pulsate:zt,rippleX:Tt,rippleY:It,rippleSize:Pt,cb:$t})},ht.current=setTimeout(()=>{pt.current&&(pt.current(),pt.current=null)},DELAY_RIPPLE)):mt({pulsate:zt,rippleX:Tt,rippleY:It,rippleSize:Pt,cb:$t})},[it,mt]),bt=react.exports.useCallback(()=>{yt({},{pulsate:!0})},[yt]),St=react.exports.useCallback((xt,vt)=>{if(clearTimeout(ht.current),xt.type==="touchend"&&pt.current){pt.current(),pt.current=null,ht.current=setTimeout(()=>{St(xt,vt)});return}pt.current=null,ct($t=>$t.length>0?$t.slice(1):$t),ut.current=vt},[]);return react.exports.useImperativeHandle(nt,()=>({pulsate:bt,start:yt,stop:St}),[bt,yt,St]),jsxRuntime.exports.jsx(TouchRippleRoot,_extends$2({className:clsx(ot.root,touchRippleClasses$1.root,at),ref:gt},st,{children:jsxRuntime.exports.jsx(TransitionGroup$1,{component:null,exit:!0,children:lt})}))});var TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(tt){return generateUtilityClass("MuiButtonBase",tt)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]);var buttonBaseClasses$1=buttonBaseClasses;const _excluded$y=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$s=tt=>{const{disabled:et,focusVisible:nt,focusVisibleClassName:rt,classes:it}=tt,at=composeClasses({root:["root",et&&"disabled",nt&&"focusVisible"]},getButtonBaseUtilityClass,it);return nt&&rt&&(at.root+=` ${rt}`),at},ButtonBaseRoot=styled$2("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(tt,et)=>et.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiButtonBase"}),{action:it,centerRipple:ot=!1,children:at,className:st,component:lt="button",disabled:ct=!1,disableRipple:ft=!1,disableTouchRipple:ut=!1,focusRipple:dt=!1,LinkComponent:ht="a",onBlur:pt,onClick:gt,onContextMenu:mt,onDragLeave:yt,onFocus:bt,onFocusVisible:St,onKeyDown:xt,onKeyUp:vt,onMouseDown:$t,onMouseLeave:zt,onMouseUp:Nt,onTouchEnd:wt,onTouchMove:Et,onTouchStart:Rt,tabIndex:Tt=0,TouchRippleProps:It,touchRippleRef:Pt,type:Dt}=rt,Ct=_objectWithoutPropertiesLoose$2(rt,_excluded$y),Ot=react.exports.useRef(null),Ut=react.exports.useRef(null),At=useForkRef(Ut,Pt),{isFocusVisibleRef:Mt,onFocus:jt,onBlur:kt,ref:Gt}=useIsFocusVisible(),[Ht,Jt]=react.exports.useState(!1);ct&&Ht&&Jt(!1),react.exports.useImperativeHandle(it,()=>({focusVisible:()=>{Jt(!0),Ot.current.focus()}}),[]);const[Vt,Wt]=react.exports.useState(!1);react.exports.useEffect(()=>{Wt(!0)},[]);const Lt=Vt&&!ft&&!ct;react.exports.useEffect(()=>{Ht&&dt&&!ft&&Vt&&Ut.current.pulsate()},[ft,dt,Ht,Vt]);function Bt(Wn,Jn,Zn=ut){return useEventCallback(Rn=>(Jn&&Jn(Rn),!Zn&&Ut.current&&Ut.current[Wn](Rn),!0))}const Ft=Bt("start",$t),sn=Bt("stop",mt),Xt=Bt("stop",yt),dn=Bt("stop",Nt),Yt=Bt("stop",Wn=>{Ht&&Wn.preventDefault(),zt&&zt(Wn)}),yn=Bt("start",Rt),Qt=Bt("stop",wt),Kt=Bt("stop",Et),hn=Bt("stop",Wn=>{kt(Wn),Mt.current===!1&&Jt(!1),pt&&pt(Wn)},!1),vn=useEventCallback(Wn=>{Ot.current||(Ot.current=Wn.currentTarget),jt(Wn),Mt.current===!0&&(Jt(!0),St&&St(Wn)),bt&&bt(Wn)}),Sn=()=>{const Wn=Ot.current;return lt&&lt!=="button"&&!(Wn.tagName==="A"&&Wn.href)},Cn=react.exports.useRef(!1),cn=useEventCallback(Wn=>{dt&&!Cn.current&&Ht&&Ut.current&&Wn.key===" "&&(Cn.current=!0,Ut.current.stop(Wn,()=>{Ut.current.start(Wn)})),Wn.target===Wn.currentTarget&&Sn()&&Wn.key===" "&&Wn.preventDefault(),xt&&xt(Wn),Wn.target===Wn.currentTarget&&Sn()&&Wn.key==="Enter"&&!ct&&(Wn.preventDefault(),gt&&gt(Wn))}),ln=useEventCallback(Wn=>{dt&&Wn.key===" "&&Ut.current&&Ht&&!Wn.defaultPrevented&&(Cn.current=!1,Ut.current.stop(Wn,()=>{Ut.current.pulsate(Wn)})),vt&&vt(Wn),gt&&Wn.target===Wn.currentTarget&&Sn()&&Wn.key===" "&&!Wn.defaultPrevented&&gt(Wn)});let bn=lt;bn==="button"&&(Ct.href||Ct.to)&&(bn=ht);const xn={};bn==="button"?(xn.type=Dt===void 0?"button":Dt,xn.disabled=ct):(!Ct.href&&!Ct.to&&(xn.role="button"),ct&&(xn["aria-disabled"]=ct));const Nn=useForkRef(Gt,Ot),zn=useForkRef(nt,Nn),Ln=_extends$2({},rt,{centerRipple:ot,component:lt,disabled:ct,disableRipple:ft,disableTouchRipple:ut,focusRipple:dt,tabIndex:Tt,focusVisible:Ht}),Mn=useUtilityClasses$s(Ln);return jsxRuntime.exports.jsxs(ButtonBaseRoot,_extends$2({as:bn,className:clsx(Mn.root,st),ownerState:Ln,onBlur:hn,onClick:gt,onContextMenu:sn,onFocus:vn,onKeyDown:cn,onKeyUp:ln,onMouseDown:Ft,onMouseLeave:Yt,onMouseUp:dn,onDragLeave:Xt,onTouchEnd:Qt,onTouchMove:Kt,onTouchStart:yn,ref:zn,tabIndex:ct?-1:Tt,type:Dt},xn,Ct,{children:[at,Lt?jsxRuntime.exports.jsx(TouchRipple$1,_extends$2({ref:At,center:ot},It)):null]}))});var ButtonBase$1=ButtonBase;function getTypographyUtilityClass(tt){return generateUtilityClass("MuiTypography",tt)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$x=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$r=tt=>{const{align:et,gutterBottom:nt,noWrap:rt,paragraph:it,variant:ot,classes:at}=tt,st={root:["root",ot,tt.align!=="inherit"&&`align${capitalize(et)}`,nt&&"gutterBottom",rt&&"noWrap",it&&"paragraph"]};return composeClasses(st,getTypographyUtilityClass,at)},TypographyRoot=styled$2("span",{name:"MuiTypography",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.variant&&et[nt.variant],nt.align!=="inherit"&&et[`align${capitalize(nt.align)}`],nt.noWrap&&et.noWrap,nt.gutterBottom&&et.gutterBottom,nt.paragraph&&et.paragraph]}})(({theme:tt,ownerState:et})=>_extends$2({margin:0},et.variant&&tt.typography[et.variant],et.align!=="inherit"&&{textAlign:et.align},et.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},et.gutterBottom&&{marginBottom:"0.35em"},et.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=tt=>colorTransformations[tt]||tt,Typography=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiTypography"}),it=transformDeprecatedColors(rt.color),ot=extendSxProp(_extends$2({},rt,{color:it})),{align:at="inherit",className:st,component:lt,gutterBottom:ct=!1,noWrap:ft=!1,paragraph:ut=!1,variant:dt="body1",variantMapping:ht=defaultVariantMapping}=ot,pt=_objectWithoutPropertiesLoose$2(ot,_excluded$x),gt=_extends$2({},ot,{align:at,color:it,className:st,component:lt,gutterBottom:ct,noWrap:ft,paragraph:ut,variant:dt,variantMapping:ht}),mt=lt||(ut?"p":ht[dt]||defaultVariantMapping[dt])||"span",yt=useUtilityClasses$r(gt);return jsxRuntime.exports.jsx(TypographyRoot,_extends$2({as:mt,ref:nt,ownerState:gt,className:clsx(yt.root,st)},pt))});var Typography$1=Typography;const PopperRoot=styled$2(PopperUnstyled$1,{name:"MuiPopper",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),Popper=react.exports.forwardRef(function(et,nt){const rt=useTheme$2(),it=useThemeProps({props:et,name:"MuiPopper"});return jsxRuntime.exports.jsx(PopperRoot,_extends$2({direction:rt==null?void 0:rt.direction},it,{ref:nt}))});var Popper$1=Popper;function formControlState({props:tt,states:et,muiFormControl:nt}){return et.reduce((rt,it)=>(rt[it]=tt[it],nt&&typeof tt[it]=="undefined"&&(rt[it]=nt[it]),rt),{})}const FormControlContext=react.exports.createContext();var FormControlContext$1=FormControlContext;function useFormControl(){return react.exports.useContext(FormControlContext$1)}function hasValue(tt){return tt!=null&&!(Array.isArray(tt)&&tt.length===0)}function isFilled(tt,et=!1){return tt&&(hasValue(tt.value)&&tt.value!==""||et&&hasValue(tt.defaultValue)&&tt.defaultValue!=="")}function isAdornedStart(tt){return tt.startAdornment}function getInputBaseUtilityClass(tt){return generateUtilityClass("MuiInputBase",tt)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var inputBaseClasses$1=inputBaseClasses;const _excluded$w=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],rootOverridesResolver=(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.formControl&&et.formControl,nt.startAdornment&&et.adornedStart,nt.endAdornment&&et.adornedEnd,nt.error&&et.error,nt.size==="small"&&et.sizeSmall,nt.multiline&&et.multiline,nt.color&&et[`color${capitalize(nt.color)}`],nt.fullWidth&&et.fullWidth,nt.hiddenLabel&&et.hiddenLabel]},inputOverridesResolver=(tt,et)=>{const{ownerState:nt}=tt;return[et.input,nt.size==="small"&&et.inputSizeSmall,nt.multiline&&et.inputMultiline,nt.type==="search"&&et.inputTypeSearch,nt.startAdornment&&et.inputAdornedStart,nt.endAdornment&&et.inputAdornedEnd,nt.hiddenLabel&&et.inputHiddenLabel]},useUtilityClasses$q=tt=>{const{classes:et,color:nt,disabled:rt,error:it,endAdornment:ot,focused:at,formControl:st,fullWidth:lt,hiddenLabel:ct,multiline:ft,size:ut,startAdornment:dt,type:ht}=tt,pt={root:["root",`color${capitalize(nt)}`,rt&&"disabled",it&&"error",lt&&"fullWidth",at&&"focused",st&&"formControl",ut==="small"&&"sizeSmall",ft&&"multiline",dt&&"adornedStart",ot&&"adornedEnd",ct&&"hiddenLabel"],input:["input",rt&&"disabled",ht==="search"&&"inputTypeSearch",ft&&"inputMultiline",ut==="small"&&"inputSizeSmall",ct&&"inputHiddenLabel",dt&&"inputAdornedStart",ot&&"inputAdornedEnd"]};return composeClasses(pt,getInputBaseUtilityClass,et)},InputBaseRoot=styled$2("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:tt,ownerState:et})=>_extends$2({},tt.typography.body1,{color:(tt.vars||tt).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled,cursor:"default"}},et.multiline&&_extends$2({padding:"4px 0 5px"},et.size==="small"&&{paddingTop:1}),et.fullWidth&&{width:"100%"})),InputBaseComponent=styled$2("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:tt,ownerState:et})=>{const nt=tt.palette.mode==="light",rt=_extends$2({color:"currentColor"},tt.vars?{opacity:tt.vars.opacity.placeholder}:{opacity:nt?.42:.5},{transition:tt.transitions.create("opacity",{duration:tt.transitions.duration.shorter})}),it={opacity:"0 !important"},ot=tt.vars?{opacity:tt.vars.opacity.placeholder}:{opacity:nt?.42:.5};return _extends$2({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":rt,"&::-moz-placeholder":rt,"&:-ms-input-placeholder":rt,"&::-ms-input-placeholder":rt,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":it,"&::-moz-placeholder":it,"&:-ms-input-placeholder":it,"&::-ms-input-placeholder":it,"&:focus::-webkit-input-placeholder":ot,"&:focus::-moz-placeholder":ot,"&:focus:-ms-input-placeholder":ot,"&:focus::-ms-input-placeholder":ot},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(tt.vars||tt).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},et.size==="small"&&{paddingTop:1},et.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},et.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntime.exports.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiInputBase"}),{"aria-describedby":it,autoComplete:ot,autoFocus:at,className:st,components:lt={},componentsProps:ct={},defaultValue:ft,disabled:ut,disableInjectingGlobalStyles:dt,endAdornment:ht,fullWidth:pt=!1,id:gt,inputComponent:mt="input",inputProps:yt={},inputRef:bt,maxRows:St,minRows:xt,multiline:vt=!1,name:$t,onBlur:zt,onChange:Nt,onClick:wt,onFocus:Et,onKeyDown:Rt,onKeyUp:Tt,placeholder:It,readOnly:Pt,renderSuffix:Dt,rows:Ct,startAdornment:Ot,type:Ut="text",value:At}=rt,Mt=_objectWithoutPropertiesLoose$2(rt,_excluded$w),jt=yt.value!=null?yt.value:At,{current:kt}=react.exports.useRef(jt!=null),Gt=react.exports.useRef(),Ht=react.exports.useCallback(zn=>{},[]),Jt=useForkRef(yt.ref,Ht),Vt=useForkRef(bt,Jt),Wt=useForkRef(Gt,Vt),[Lt,Bt]=react.exports.useState(!1),Ft=useFormControl(),sn=formControlState({props:rt,muiFormControl:Ft,states:["color","disabled","error","hiddenLabel","size","required","filled"]});sn.focused=Ft?Ft.focused:Lt,react.exports.useEffect(()=>{!Ft&&ut&&Lt&&(Bt(!1),zt&&zt())},[Ft,ut,Lt,zt]);const Xt=Ft&&Ft.onFilled,dn=Ft&&Ft.onEmpty,Yt=react.exports.useCallback(zn=>{isFilled(zn)?Xt&&Xt():dn&&dn()},[Xt,dn]);useEnhancedEffect$1(()=>{kt&&Yt({value:jt})},[jt,Yt,kt]);const yn=zn=>{if(sn.disabled){zn.stopPropagation();return}Et&&Et(zn),yt.onFocus&&yt.onFocus(zn),Ft&&Ft.onFocus?Ft.onFocus(zn):Bt(!0)},Qt=zn=>{zt&&zt(zn),yt.onBlur&&yt.onBlur(zn),Ft&&Ft.onBlur?Ft.onBlur(zn):Bt(!1)},Kt=(zn,...Ln)=>{if(!kt){const Mn=zn.target||Gt.current;if(Mn==null)throw new Error(formatMuiErrorMessage(1));Yt({value:Mn.value})}yt.onChange&&yt.onChange(zn,...Ln),Nt&&Nt(zn,...Ln)};react.exports.useEffect(()=>{Yt(Gt.current)},[]);const hn=zn=>{Gt.current&&zn.currentTarget===zn.target&&Gt.current.focus(),wt&&wt(zn)};let vn=mt,Sn=yt;vt&&vn==="input"&&(Ct?Sn=_extends$2({type:void 0,minRows:Ct,maxRows:Ct},Sn):Sn=_extends$2({type:void 0,maxRows:St,minRows:xt},Sn),vn=TextareaAutosize$1);const Cn=zn=>{Yt(zn.animationName==="mui-auto-fill-cancel"?Gt.current:{value:"x"})};react.exports.useEffect(()=>{Ft&&Ft.setAdornedStart(Boolean(Ot))},[Ft,Ot]);const cn=_extends$2({},rt,{color:sn.color||"primary",disabled:sn.disabled,endAdornment:ht,error:sn.error,focused:sn.focused,formControl:Ft,fullWidth:pt,hiddenLabel:sn.hiddenLabel,multiline:vt,size:sn.size,startAdornment:Ot,type:Ut}),ln=useUtilityClasses$q(cn),bn=lt.Root||InputBaseRoot,xn=ct.root||{},Nn=lt.Input||InputBaseComponent;return Sn=_extends$2({},Sn,ct.input),jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[!dt&&inputGlobalStyles,jsxRuntime.exports.jsxs(bn,_extends$2({},xn,!isHostComponent(bn)&&{ownerState:_extends$2({},cn,xn.ownerState)},{ref:nt,onClick:hn},Mt,{className:clsx(ln.root,xn.className,st),children:[Ot,jsxRuntime.exports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntime.exports.jsx(Nn,_extends$2({ownerState:cn,"aria-invalid":sn.error,"aria-describedby":it,autoComplete:ot,autoFocus:at,defaultValue:ft,disabled:sn.disabled,id:gt,onAnimationStart:Cn,name:$t,placeholder:It,readOnly:Pt,required:sn.required,rows:Ct,value:jt,onKeyDown:Rt,onKeyUp:Tt,type:Ut},Sn,!isHostComponent(Nn)&&{as:vn,ownerState:_extends$2({},cn,Sn.ownerState)},{ref:Wt,className:clsx(ln.input,Sn.className),onBlur:Qt,onChange:Kt,onFocus:yn}))}),ht,Dt?Dt(_extends$2({},sn,{startAdornment:Ot})):null]}))]})});var InputBase$1=InputBase;function getInputUtilityClass(tt){return generateUtilityClass("MuiInput",tt)}const inputClasses=_extends$2({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"]));var inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(tt){return generateUtilityClass("MuiOutlinedInput",tt)}const outlinedInputClasses=_extends$2({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"]));var outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(tt){return generateUtilityClass("MuiFilledInput",tt)}const filledInputClasses=_extends$2({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"]));var filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon(jsxRuntime.exports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");const _excluded$v=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=react.exports.forwardRef(function(et,nt){const rt=useTheme(),it={enter:rt.transitions.duration.enteringScreen,exit:rt.transitions.duration.leavingScreen},{addEndListener:ot,appear:at=!0,children:st,easing:lt,in:ct,onEnter:ft,onEntered:ut,onEntering:dt,onExit:ht,onExited:pt,onExiting:gt,style:mt,timeout:yt=it,TransitionComponent:bt=Transition$1}=et,St=_objectWithoutPropertiesLoose$2(et,_excluded$v),xt=react.exports.useRef(null),vt=useForkRef(st.ref,nt),$t=useForkRef(xt,vt),zt=Dt=>Ct=>{if(Dt){const Ot=xt.current;Ct===void 0?Dt(Ot):Dt(Ot,Ct)}},Nt=zt(dt),wt=zt((Dt,Ct)=>{reflow(Dt);const Ot=getTransitionProps({style:mt,timeout:yt,easing:lt},{mode:"enter"});Dt.style.webkitTransition=rt.transitions.create("opacity",Ot),Dt.style.transition=rt.transitions.create("opacity",Ot),ft&&ft(Dt,Ct)}),Et=zt(ut),Rt=zt(gt),Tt=zt(Dt=>{const Ct=getTransitionProps({style:mt,timeout:yt,easing:lt},{mode:"exit"});Dt.style.webkitTransition=rt.transitions.create("opacity",Ct),Dt.style.transition=rt.transitions.create("opacity",Ct),ht&&ht(Dt)}),It=zt(pt),Pt=Dt=>{ot&&ot(xt.current,Dt)};return jsxRuntime.exports.jsx(bt,_extends$2({appear:at,in:ct,nodeRef:xt,onEnter:wt,onEntered:Et,onEntering:Nt,onExit:Tt,onExited:It,onExiting:Rt,addEndListener:Pt,timeout:yt},St,{children:(Dt,Ct)=>react.exports.cloneElement(st,_extends$2({style:_extends$2({opacity:0,visibility:Dt==="exited"&&!ct?"hidden":void 0},styles$1[Dt],mt,st.props.style),ref:$t},Ct))}))});var Fade$1=Fade;function getBackdropUtilityClass(tt){return generateUtilityClass("MuiBackdrop",tt)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$u=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],useUtilityClasses$p=tt=>{const{classes:et,invisible:nt}=tt;return composeClasses({root:["root",nt&&"invisible"]},getBackdropUtilityClass,et)},BackdropRoot=styled$2("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.invisible&&et.invisible]}})(({ownerState:tt})=>_extends$2({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},tt.invisible&&{backgroundColor:"transparent"})),Backdrop=react.exports.forwardRef(function(et,nt){var rt,it;const ot=useThemeProps({props:et,name:"MuiBackdrop"}),{children:at,component:st="div",components:lt={},componentsProps:ct={},className:ft,invisible:ut=!1,open:dt,transitionDuration:ht,TransitionComponent:pt=Fade$1}=ot,gt=_objectWithoutPropertiesLoose$2(ot,_excluded$u),mt=_extends$2({},ot,{component:st,invisible:ut}),yt=useUtilityClasses$p(mt);return jsxRuntime.exports.jsx(pt,_extends$2({in:dt,timeout:ht},gt,{children:jsxRuntime.exports.jsx(BackdropRoot,{"aria-hidden":!0,as:(rt=lt.Root)!=null?rt:st,className:clsx(yt.root,ft),ownerState:_extends$2({},mt,(it=ct.root)==null?void 0:it.ownerState),classes:yt,ref:nt,children:at})}))});var Backdrop$1=Backdrop;const defaultTheme$1=createTheme(),Box=createBox({defaultTheme:defaultTheme$1,defaultClassName:"MuiBox-root",generateClassName:ClassNameGenerator$1.generate});var Box$1=Box;function getButtonUtilityClass(tt){return generateUtilityClass("MuiButton",tt)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var buttonClasses$1=buttonClasses;const ButtonGroupContext=react.exports.createContext({});var ButtonGroupContext$1=ButtonGroupContext;const _excluded$t=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$o=tt=>{const{color:et,disableElevation:nt,fullWidth:rt,size:it,variant:ot,classes:at}=tt,st={root:["root",ot,`${ot}${capitalize(et)}`,`size${capitalize(it)}`,`${ot}Size${capitalize(it)}`,et==="inherit"&&"colorInherit",nt&&"disableElevation",rt&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(it)}`],endIcon:["endIcon",`iconSize${capitalize(it)}`]},lt=composeClasses(st,getButtonUtilityClass,at);return _extends$2({},at,lt)},commonIconStyles=tt=>_extends$2({},tt.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},tt.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},tt.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$2(ButtonBase$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiButton",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,et[nt.variant],et[`${nt.variant}${capitalize(nt.color)}`],et[`size${capitalize(nt.size)}`],et[`${nt.variant}Size${capitalize(nt.size)}`],nt.color==="inherit"&&et.colorInherit,nt.disableElevation&&et.disableElevation,nt.fullWidth&&et.fullWidth]}})(({theme:tt,ownerState:et})=>{var nt,rt;return _extends$2({},tt.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(tt.vars||tt).shape.borderRadius,transition:tt.transitions.create(["background-color","box-shadow","border-color","color"],{duration:tt.transitions.duration.short}),"&:hover":_extends$2({textDecoration:"none",backgroundColor:tt.vars?`rgba(${tt.vars.palette.text.primaryChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette.text.primary,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},et.variant==="text"&&et.color!=="inherit"&&{backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},et.variant==="outlined"&&et.color!=="inherit"&&{border:`1px solid ${(tt.vars||tt).palette[et.color].main}`,backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},et.variant==="contained"&&{backgroundColor:(tt.vars||tt).palette.grey.A100,boxShadow:(tt.vars||tt).shadows[4],"@media (hover: none)":{boxShadow:(tt.vars||tt).shadows[2],backgroundColor:(tt.vars||tt).palette.grey[300]}},et.variant==="contained"&&et.color!=="inherit"&&{backgroundColor:(tt.vars||tt).palette[et.color].dark,"@media (hover: none)":{backgroundColor:(tt.vars||tt).palette[et.color].main}}),"&:active":_extends$2({},et.variant==="contained"&&{boxShadow:(tt.vars||tt).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends$2({},et.variant==="contained"&&{boxShadow:(tt.vars||tt).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends$2({color:(tt.vars||tt).palette.action.disabled},et.variant==="outlined"&&{border:`1px solid ${(tt.vars||tt).palette.action.disabledBackground}`},et.variant==="outlined"&&et.color==="secondary"&&{border:`1px solid ${(tt.vars||tt).palette.action.disabled}`},et.variant==="contained"&&{color:(tt.vars||tt).palette.action.disabled,boxShadow:(tt.vars||tt).shadows[0],backgroundColor:(tt.vars||tt).palette.action.disabledBackground})},et.variant==="text"&&{padding:"6px 8px"},et.variant==="text"&&et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].main},et.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},et.variant==="outlined"&&et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].main,border:tt.vars?`1px solid rgba(${tt.vars.palette[et.color].mainChannel} / 0.5)`:`1px solid ${alpha(tt.palette[et.color].main,.5)}`},et.variant==="contained"&&{color:tt.vars?tt.vars.palette.text.primary:(nt=(rt=tt.palette).getContrastText)==null?void 0:nt.call(rt,tt.palette.grey[300]),backgroundColor:(tt.vars||tt).palette.grey[300],boxShadow:(tt.vars||tt).shadows[2]},et.variant==="contained"&&et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].contrastText,backgroundColor:(tt.vars||tt).palette[et.color].main},et.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},et.size==="small"&&et.variant==="text"&&{padding:"4px 5px",fontSize:tt.typography.pxToRem(13)},et.size==="large"&&et.variant==="text"&&{padding:"8px 11px",fontSize:tt.typography.pxToRem(15)},et.size==="small"&&et.variant==="outlined"&&{padding:"3px 9px",fontSize:tt.typography.pxToRem(13)},et.size==="large"&&et.variant==="outlined"&&{padding:"7px 21px",fontSize:tt.typography.pxToRem(15)},et.size==="small"&&et.variant==="contained"&&{padding:"4px 10px",fontSize:tt.typography.pxToRem(13)},et.size==="large"&&et.variant==="contained"&&{padding:"8px 22px",fontSize:tt.typography.pxToRem(15)},et.fullWidth&&{width:"100%"})},({ownerState:tt})=>tt.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$2("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.startIcon,et[`iconSize${capitalize(nt.size)}`]]}})(({ownerState:tt})=>_extends$2({display:"inherit",marginRight:8,marginLeft:-4},tt.size==="small"&&{marginLeft:-2},commonIconStyles(tt))),ButtonEndIcon=styled$2("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.endIcon,et[`iconSize${capitalize(nt.size)}`]]}})(({ownerState:tt})=>_extends$2({display:"inherit",marginRight:-4,marginLeft:8},tt.size==="small"&&{marginRight:-2},commonIconStyles(tt))),Button=react.exports.forwardRef(function(et,nt){const rt=react.exports.useContext(ButtonGroupContext$1),it=resolveProps(rt,et),ot=useThemeProps({props:it,name:"MuiButton"}),{children:at,color:st="primary",component:lt="button",className:ct,disabled:ft=!1,disableElevation:ut=!1,disableFocusRipple:dt=!1,endIcon:ht,focusVisibleClassName:pt,fullWidth:gt=!1,size:mt="medium",startIcon:yt,type:bt,variant:St="text"}=ot,xt=_objectWithoutPropertiesLoose$2(ot,_excluded$t),vt=_extends$2({},ot,{color:st,component:lt,disabled:ft,disableElevation:ut,disableFocusRipple:dt,fullWidth:gt,size:mt,type:bt,variant:St}),$t=useUtilityClasses$o(vt),zt=yt&&jsxRuntime.exports.jsx(ButtonStartIcon,{className:$t.startIcon,ownerState:vt,children:yt}),Nt=ht&&jsxRuntime.exports.jsx(ButtonEndIcon,{className:$t.endIcon,ownerState:vt,children:ht});return jsxRuntime.exports.jsxs(ButtonRoot,_extends$2({ownerState:vt,className:clsx(ct,rt.className),component:lt,disabled:ft,focusRipple:!dt,focusVisibleClassName:clsx($t.focusVisible,pt),ref:nt,type:bt},xt,{classes:$t,children:[zt,at,Nt]}))});var Button$1=Button;const _excluded$s=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],extendUtilityClasses=tt=>tt.classes,ModalRoot=styled$2("div",{name:"MuiModal",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,!nt.open&&nt.exited&&et.hidden]}})(({theme:tt,ownerState:et})=>_extends$2({position:"fixed",zIndex:(tt.vars||tt).zIndex.modal,right:0,bottom:0,top:0,left:0},!et.open&&et.exited&&{visibility:"hidden"})),ModalBackdrop=styled$2(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(tt,et)=>et.backdrop})({zIndex:-1}),Modal$1=react.exports.forwardRef(function(et,nt){var rt;const it=useThemeProps({name:"MuiModal",props:et}),{BackdropComponent:ot=ModalBackdrop,closeAfterTransition:at=!1,children:st,components:lt={},componentsProps:ct={},disableAutoFocus:ft=!1,disableEnforceFocus:ut=!1,disableEscapeKeyDown:dt=!1,disablePortal:ht=!1,disableRestoreFocus:pt=!1,disableScrollLock:gt=!1,hideBackdrop:mt=!1,keepMounted:yt=!1}=it,bt=_objectWithoutPropertiesLoose$2(it,_excluded$s),[St,xt]=react.exports.useState(!0),vt={closeAfterTransition:at,disableAutoFocus:ft,disableEnforceFocus:ut,disableEscapeKeyDown:dt,disablePortal:ht,disableRestoreFocus:pt,disableScrollLock:gt,hideBackdrop:mt,keepMounted:yt},$t=_extends$2({},it,vt,{exited:St}),zt=extendUtilityClasses($t);return jsxRuntime.exports.jsx(ModalUnstyled$1,_extends$2({components:_extends$2({Root:ModalRoot},lt),componentsProps:{root:_extends$2({},ct.root,(!lt.Root||!isHostComponent(lt.Root))&&{ownerState:_extends$2({},(rt=ct.root)==null?void 0:rt.ownerState)})},BackdropComponent:ot,onTransitionEnter:()=>xt(!1),onTransitionExited:()=>xt(!0),ref:nt},bt,{classes:zt},vt,{children:st}))});var Modal$2=Modal$1;function getDialogUtilityClass(tt){return generateUtilityClass("MuiDialog",tt)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var dialogClasses$1=dialogClasses;const DialogContext=react.exports.createContext({});var DialogContext$1=DialogContext;const _excluded$r=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$2(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(tt,et)=>et.backdrop})({zIndex:-1}),useUtilityClasses$n=tt=>{const{classes:et,scroll:nt,maxWidth:rt,fullWidth:it,fullScreen:ot}=tt,at={root:["root"],container:["container",`scroll${capitalize(nt)}`],paper:["paper",`paperScroll${capitalize(nt)}`,`paperWidth${capitalize(String(rt))}`,it&&"paperFullWidth",ot&&"paperFullScreen"]};return composeClasses(at,getDialogUtilityClass,et)},DialogRoot=styled$2(Modal$2,{name:"MuiDialog",slot:"Root",overridesResolver:(tt,et)=>et.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$2("div",{name:"MuiDialog",slot:"Container",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.container,et[`scroll${capitalize(nt.scroll)}`]]}})(({ownerState:tt})=>_extends$2({height:"100%","@media print":{height:"auto"},outline:0},tt.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},tt.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$2(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.paper,et[`scrollPaper${capitalize(nt.scroll)}`],et[`paperWidth${capitalize(String(nt.maxWidth))}`],nt.fullWidth&&et.paperFullWidth,nt.fullScreen&&et.paperFullScreen]}})(({theme:tt,ownerState:et})=>_extends$2({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},et.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},et.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!et.maxWidth&&{maxWidth:"calc(100% - 64px)"},et.maxWidth==="xs"&&{maxWidth:tt.breakpoints.unit==="px"?Math.max(tt.breakpoints.values.xs,444):`${tt.breakpoints.values.xs}${tt.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[tt.breakpoints.down(Math.max(tt.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},et.maxWidth!=="xs"&&{maxWidth:`${tt.breakpoints.values[et.maxWidth]}${tt.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[tt.breakpoints.down(tt.breakpoints.values[et.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},et.fullWidth&&{width:"calc(100% - 64px)"},et.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiDialog"}),it=useTheme(),ot={enter:it.transitions.duration.enteringScreen,exit:it.transitions.duration.leavingScreen},{"aria-describedby":at,"aria-labelledby":st,BackdropComponent:lt,BackdropProps:ct,children:ft,className:ut,disableEscapeKeyDown:dt=!1,fullScreen:ht=!1,fullWidth:pt=!1,maxWidth:gt="sm",onBackdropClick:mt,onClose:yt,open:bt,PaperComponent:St=Paper$1,PaperProps:xt={},scroll:vt="paper",TransitionComponent:$t=Fade$1,transitionDuration:zt=ot,TransitionProps:Nt}=rt,wt=_objectWithoutPropertiesLoose$2(rt,_excluded$r),Et=_extends$2({},rt,{disableEscapeKeyDown:dt,fullScreen:ht,fullWidth:pt,maxWidth:gt,scroll:vt}),Rt=useUtilityClasses$n(Et),Tt=react.exports.useRef(),It=Ot=>{Tt.current=Ot.target===Ot.currentTarget},Pt=Ot=>{!Tt.current||(Tt.current=null,mt&&mt(Ot),yt&&yt(Ot,"backdropClick"))},Dt=useId(st),Ct=react.exports.useMemo(()=>({titleId:Dt}),[Dt]);return jsxRuntime.exports.jsx(DialogRoot,_extends$2({className:clsx(Rt.root,ut),BackdropProps:_extends$2({transitionDuration:zt,as:lt},ct),closeAfterTransition:!0,BackdropComponent:DialogBackdrop,disableEscapeKeyDown:dt,onClose:yt,open:bt,ref:nt,onClick:Pt,ownerState:Et},wt,{children:jsxRuntime.exports.jsx($t,_extends$2({appear:!0,in:bt,timeout:zt,role:"presentation"},Nt,{children:jsxRuntime.exports.jsx(DialogContainer,{className:clsx(Rt.container),onMouseDown:It,ownerState:Et,children:jsxRuntime.exports.jsx(DialogPaper,_extends$2({as:St,elevation:24,role:"dialog","aria-describedby":at,"aria-labelledby":Dt},xt,{className:clsx(Rt.paper,xt.className),ownerState:Et,children:jsxRuntime.exports.jsx(DialogContext$1.Provider,{value:Ct,children:ft})}))})}))}))});var Dialog$1=Dialog;function getDialogActionsUtilityClass(tt){return generateUtilityClass("MuiDialogActions",tt)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$q=["className","disableSpacing"],useUtilityClasses$m=tt=>{const{classes:et,disableSpacing:nt}=tt;return composeClasses({root:["root",!nt&&"spacing"]},getDialogActionsUtilityClass,et)},DialogActionsRoot=styled$2("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,!nt.disableSpacing&&et.spacing]}})(({ownerState:tt})=>_extends$2({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!tt.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),DialogActions=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiDialogActions"}),{className:it,disableSpacing:ot=!1}=rt,at=_objectWithoutPropertiesLoose$2(rt,_excluded$q),st=_extends$2({},rt,{disableSpacing:ot}),lt=useUtilityClasses$m(st);return jsxRuntime.exports.jsx(DialogActionsRoot,_extends$2({className:clsx(lt.root,it),ownerState:st,ref:nt},at))});var DialogActions$1=DialogActions;function getDialogContentUtilityClass(tt){return generateUtilityClass("MuiDialogContent",tt)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(tt){return generateUtilityClass("MuiDialogTitle",tt)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]);var dialogTitleClasses$1=dialogTitleClasses;const _excluded$p=["className","dividers"],useUtilityClasses$l=tt=>{const{classes:et,dividers:nt}=tt;return composeClasses({root:["root",nt&&"dividers"]},getDialogContentUtilityClass,et)},DialogContentRoot=styled$2("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.dividers&&et.dividers]}})(({theme:tt,ownerState:et})=>_extends$2({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},et.dividers?{padding:"16px 24px",borderTop:`1px solid ${(tt.vars||tt).palette.divider}`,borderBottom:`1px solid ${(tt.vars||tt).palette.divider}`}:{[`.${dialogTitleClasses$1.root} + &`]:{paddingTop:0}})),DialogContent=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiDialogContent"}),{className:it,dividers:ot=!1}=rt,at=_objectWithoutPropertiesLoose$2(rt,_excluded$p),st=_extends$2({},rt,{dividers:ot}),lt=useUtilityClasses$l(st);return jsxRuntime.exports.jsx(DialogContentRoot,_extends$2({className:clsx(lt.root,it),ownerState:st,ref:nt},at))});var DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(tt){return generateUtilityClass("MuiDialogContentText",tt)}generateUtilityClasses("MuiDialogContentText",["root"]);const _excluded$o=["children"],useUtilityClasses$k=tt=>{const{classes:et}=tt,rt=composeClasses({root:["root"]},getDialogContentTextUtilityClass,et);return _extends$2({},et,rt)},DialogContentTextRoot=styled$2(Typography$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),DialogContentText=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiDialogContentText"}),it=_objectWithoutPropertiesLoose$2(rt,_excluded$o),ot=useUtilityClasses$k(it);return jsxRuntime.exports.jsx(DialogContentTextRoot,_extends$2({component:"p",variant:"body1",color:"text.secondary",ref:nt,ownerState:it},rt,{classes:ot}))});var DialogContentText$1=DialogContentText;const _excluded$n=["className","id"],useUtilityClasses$j=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getDialogTitleUtilityClass,et)},DialogTitleRoot=styled$2(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(tt,et)=>et.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiDialogTitle"}),{className:it,id:ot}=rt,at=_objectWithoutPropertiesLoose$2(rt,_excluded$n),st=rt,lt=useUtilityClasses$j(st),{titleId:ct=ot}=react.exports.useContext(DialogContext$1);return jsxRuntime.exports.jsx(DialogTitleRoot,_extends$2({component:"h2",className:clsx(lt.root,it),ownerState:st,ref:nt,variant:"h6",id:ct},at))});var DialogTitle$1=DialogTitle;const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var dividerClasses$1=dividerClasses;const _excluded$m=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],useUtilityClasses$i=tt=>{const{classes:et,disableUnderline:nt}=tt,it=composeClasses({root:["root",!nt&&"underline"],input:["input"]},getFilledInputUtilityClass,et);return _extends$2({},et,it)},FilledInputRoot=styled$2(InputBaseRoot,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[...rootOverridesResolver(tt,et),!nt.disableUnderline&&et.underline]}})(({theme:tt,ownerState:et})=>{var nt;const rt=tt.palette.mode==="light",it=rt?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",ot=rt?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return _extends$2({position:"relative",backgroundColor:ot,borderTopLeftRadius:tt.shape.borderRadius,borderTopRightRadius:tt.shape.borderRadius,transition:tt.transitions.create("background-color",{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut}),"&:hover":{backgroundColor:rt?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:ot}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:ot},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:rt?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!et.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(nt=tt.palette[et.color||"primary"])==null?void 0:nt.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:tt.transitions.create("transform",{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}:after`]:{borderBottomColor:tt.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${it}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:tt.transitions.create("border-bottom-color",{duration:tt.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}):before`]:{borderBottom:`1px solid ${tt.palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},et.startAdornment&&{paddingLeft:12},et.endAdornment&&{paddingRight:12},et.multiline&&_extends$2({padding:"25px 12px 8px"},et.size==="small"&&{paddingTop:21,paddingBottom:4},et.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),FilledInputInput=styled$2(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:tt,ownerState:et})=>_extends$2({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:tt.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:tt.palette.mode==="light"?null:"#fff",caretColor:tt.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},et.size==="small"&&{paddingTop:21,paddingBottom:4},et.hiddenLabel&&{paddingTop:16,paddingBottom:17},et.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},et.startAdornment&&{paddingLeft:0},et.endAdornment&&{paddingRight:0},et.hiddenLabel&&et.size==="small"&&{paddingTop:8,paddingBottom:9})),FilledInput=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiFilledInput"}),{components:it={},componentsProps:ot,fullWidth:at=!1,inputComponent:st="input",multiline:lt=!1,type:ct="text"}=rt,ft=_objectWithoutPropertiesLoose$2(rt,_excluded$m),ut=_extends$2({},rt,{fullWidth:at,inputComponent:st,multiline:lt,type:ct}),dt=useUtilityClasses$i(rt),ht={root:{ownerState:ut},input:{ownerState:ut}},pt=ot?deepmerge(ot,ht):ht;return jsxRuntime.exports.jsx(InputBase$1,_extends$2({components:_extends$2({Root:FilledInputRoot,Input:FilledInputInput},it),componentsProps:pt,fullWidth:at,inputComponent:st,multiline:lt,ref:nt,type:ct},ft,{classes:dt}))});FilledInput.muiName="Input";var FilledInput$1=FilledInput;function getFormControlUtilityClasses(tt){return generateUtilityClass("MuiFormControl",tt)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$l=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$h=tt=>{const{classes:et,margin:nt,fullWidth:rt}=tt,it={root:["root",nt!=="none"&&`margin${capitalize(nt)}`,rt&&"fullWidth"]};return composeClasses(it,getFormControlUtilityClasses,et)},FormControlRoot=styled$2("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:tt},et)=>_extends$2({},et.root,et[`margin${capitalize(tt.margin)}`],tt.fullWidth&&et.fullWidth)})(({ownerState:tt})=>_extends$2({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},tt.margin==="normal"&&{marginTop:16,marginBottom:8},tt.margin==="dense"&&{marginTop:8,marginBottom:4},tt.fullWidth&&{width:"100%"})),FormControl=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiFormControl"}),{children:it,className:ot,color:at="primary",component:st="div",disabled:lt=!1,error:ct=!1,focused:ft,fullWidth:ut=!1,hiddenLabel:dt=!1,margin:ht="none",required:pt=!1,size:gt="medium",variant:mt="outlined"}=rt,yt=_objectWithoutPropertiesLoose$2(rt,_excluded$l),bt=_extends$2({},rt,{color:at,component:st,disabled:lt,error:ct,fullWidth:ut,hiddenLabel:dt,margin:ht,required:pt,size:gt,variant:mt}),St=useUtilityClasses$h(bt),[xt,vt]=react.exports.useState(()=>{let Dt=!1;return it&&react.exports.Children.forEach(it,Ct=>{if(!isMuiElement(Ct,["Input","Select"]))return;const Ot=isMuiElement(Ct,["Select"])?Ct.props.input:Ct;Ot&&isAdornedStart(Ot.props)&&(Dt=!0)}),Dt}),[$t,zt]=react.exports.useState(()=>{let Dt=!1;return it&&react.exports.Children.forEach(it,Ct=>{!isMuiElement(Ct,["Input","Select"])||isFilled(Ct.props,!0)&&(Dt=!0)}),Dt}),[Nt,wt]=react.exports.useState(!1);lt&&Nt&&wt(!1);const Et=ft!==void 0&&!lt?ft:Nt;let Rt;const Tt=react.exports.useCallback(()=>{zt(!0)},[]),It=react.exports.useCallback(()=>{zt(!1)},[]),Pt={adornedStart:xt,setAdornedStart:vt,color:at,disabled:lt,error:ct,filled:$t,focused:Et,fullWidth:ut,hiddenLabel:dt,size:gt,onBlur:()=>{wt(!1)},onEmpty:It,onFilled:Tt,onFocus:()=>{wt(!0)},registerEffect:Rt,required:pt,variant:mt};return jsxRuntime.exports.jsx(FormControlContext$1.Provider,{value:Pt,children:jsxRuntime.exports.jsx(FormControlRoot,_extends$2({as:st,ownerState:bt,className:clsx(St.root,ot),ref:nt},yt,{children:it}))})});var FormControl$1=FormControl;function getFormHelperTextUtilityClasses(tt){return generateUtilityClass("MuiFormHelperText",tt)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var formHelperTextClasses$1=formHelperTextClasses,_span$2;const _excluded$k=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$g=tt=>{const{classes:et,contained:nt,size:rt,disabled:it,error:ot,filled:at,focused:st,required:lt}=tt,ct={root:["root",it&&"disabled",ot&&"error",rt&&`size${capitalize(rt)}`,nt&&"contained",st&&"focused",at&&"filled",lt&&"required"]};return composeClasses(ct,getFormHelperTextUtilityClasses,et)},FormHelperTextRoot=styled$2("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.size&&et[`size${capitalize(nt.size)}`],nt.contained&&et.contained,nt.filled&&et.filled]}})(({theme:tt,ownerState:et})=>_extends$2({color:(tt.vars||tt).palette.text.secondary},tt.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(tt.vars||tt).palette.error.main}},et.size==="small"&&{marginTop:4},et.contained&&{marginLeft:14,marginRight:14})),FormHelperText=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiFormHelperText"}),{children:it,className:ot,component:at="p"}=rt,st=_objectWithoutPropertiesLoose$2(rt,_excluded$k),lt=useFormControl(),ct=formControlState({props:rt,muiFormControl:lt,states:["variant","size","disabled","error","filled","focused","required"]}),ft=_extends$2({},rt,{component:at,contained:ct.variant==="filled"||ct.variant==="outlined",variant:ct.variant,size:ct.size,disabled:ct.disabled,error:ct.error,filled:ct.filled,focused:ct.focused,required:ct.required}),ut=useUtilityClasses$g(ft);return jsxRuntime.exports.jsx(FormHelperTextRoot,_extends$2({as:at,ownerState:ft,className:clsx(ut.root,ot),ref:nt},st,{children:it===" "?_span$2||(_span$2=jsxRuntime.exports.jsx("span",{className:"notranslate",children:"\u200B"})):it}))});var FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(tt){return generateUtilityClass("MuiFormLabel",tt)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);var formLabelClasses$1=formLabelClasses;const _excluded$j=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$f=tt=>{const{classes:et,color:nt,focused:rt,disabled:it,error:ot,filled:at,required:st}=tt,lt={root:["root",`color${capitalize(nt)}`,it&&"disabled",ot&&"error",at&&"filled",rt&&"focused",st&&"required"],asterisk:["asterisk",ot&&"error"]};return composeClasses(lt,getFormLabelUtilityClasses,et)},FormLabelRoot=styled$2("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:tt},et)=>_extends$2({},et.root,tt.color==="secondary"&&et.colorSecondary,tt.filled&&et.filled)})(({theme:tt,ownerState:et})=>_extends$2({color:(tt.vars||tt).palette.text.secondary},tt.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(tt.vars||tt).palette[et.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(tt.vars||tt).palette.error.main}})),AsteriskComponent=styled$2("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(tt,et)=>et.asterisk})(({theme:tt})=>({[`&.${formLabelClasses$1.error}`]:{color:(tt.vars||tt).palette.error.main}})),FormLabel=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiFormLabel"}),{children:it,className:ot,component:at="label"}=rt,st=_objectWithoutPropertiesLoose$2(rt,_excluded$j),lt=useFormControl(),ct=formControlState({props:rt,muiFormControl:lt,states:["color","required","focused","disabled","error","filled"]}),ft=_extends$2({},rt,{color:ct.color||"primary",component:at,disabled:ct.disabled,error:ct.error,filled:ct.filled,focused:ct.focused,required:ct.required}),ut=useUtilityClasses$f(ft);return jsxRuntime.exports.jsxs(FormLabelRoot,_extends$2({as:at,ownerState:ft,className:clsx(ut.root,ot),ref:nt},st,{children:[it,ct.required&&jsxRuntime.exports.jsxs(AsteriskComponent,{ownerState:ft,"aria-hidden":!0,className:ut.asterisk,children:["\u2009","*"]})]}))});var FormLabel$1=FormLabel;const _excluded$i=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(tt){return`scale(${tt}, ${tt**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator!="undefined"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)[4-9]/i.test(navigator.userAgent),Grow=react.exports.forwardRef(function(et,nt){const{addEndListener:rt,appear:it=!0,children:ot,easing:at,in:st,onEnter:lt,onEntered:ct,onEntering:ft,onExit:ut,onExited:dt,onExiting:ht,style:pt,timeout:gt="auto",TransitionComponent:mt=Transition$1}=et,yt=_objectWithoutPropertiesLoose$2(et,_excluded$i),bt=react.exports.useRef(),St=react.exports.useRef(),xt=useTheme(),vt=react.exports.useRef(null),$t=useForkRef(ot.ref,nt),zt=useForkRef(vt,$t),Nt=Ct=>Ot=>{if(Ct){const Ut=vt.current;Ot===void 0?Ct(Ut):Ct(Ut,Ot)}},wt=Nt(ft),Et=Nt((Ct,Ot)=>{reflow(Ct);const{duration:Ut,delay:At,easing:Mt}=getTransitionProps({style:pt,timeout:gt,easing:at},{mode:"enter"});let jt;gt==="auto"?(jt=xt.transitions.getAutoHeightDuration(Ct.clientHeight),St.current=jt):jt=Ut,Ct.style.transition=[xt.transitions.create("opacity",{duration:jt,delay:At}),xt.transitions.create("transform",{duration:isWebKit154?jt:jt*.666,delay:At,easing:Mt})].join(","),lt&&lt(Ct,Ot)}),Rt=Nt(ct),Tt=Nt(ht),It=Nt(Ct=>{const{duration:Ot,delay:Ut,easing:At}=getTransitionProps({style:pt,timeout:gt,easing:at},{mode:"exit"});let Mt;gt==="auto"?(Mt=xt.transitions.getAutoHeightDuration(Ct.clientHeight),St.current=Mt):Mt=Ot,Ct.style.transition=[xt.transitions.create("opacity",{duration:Mt,delay:Ut}),xt.transitions.create("transform",{duration:isWebKit154?Mt:Mt*.666,delay:isWebKit154?Ut:Ut||Mt*.333,easing:At})].join(","),Ct.style.opacity=0,Ct.style.transform=getScale(.75),ut&&ut(Ct)}),Pt=Nt(dt),Dt=Ct=>{gt==="auto"&&(bt.current=setTimeout(Ct,St.current||0)),rt&&rt(vt.current,Ct)};return react.exports.useEffect(()=>()=>{clearTimeout(bt.current)},[]),jsxRuntime.exports.jsx(mt,_extends$2({appear:it,in:st,nodeRef:vt,onEnter:Et,onEntered:Rt,onEntering:wt,onExit:It,onExited:Pt,onExiting:Tt,addEndListener:Dt,timeout:gt==="auto"?null:gt},yt,{children:(Ct,Ot)=>react.exports.cloneElement(ot,_extends$2({style:_extends$2({opacity:0,transform:getScale(.75),visibility:Ct==="exited"&&!st?"hidden":void 0},styles[Ct],pt,ot.props.style),ref:zt},Ot))}))});Grow.muiSupportAuto=!0;var Grow$1=Grow;const _excluded$h=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],useUtilityClasses$e=tt=>{const{classes:et,disableUnderline:nt}=tt,it=composeClasses({root:["root",!nt&&"underline"],input:["input"]},getInputUtilityClass,et);return _extends$2({},et,it)},InputRoot=styled$2(InputBaseRoot,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiInput",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[...rootOverridesResolver(tt,et),!nt.disableUnderline&&et.underline]}})(({theme:tt,ownerState:et})=>{let rt=tt.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return tt.vars&&(rt=`rgba(${tt.vars.palette.common.onBackgroundChannel} / ${tt.vars.opacity.inputTouchBottomLine})`),_extends$2({position:"relative"},et.formControl&&{"label + &":{marginTop:16}},!et.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(tt.vars||tt).palette[et.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:tt.transitions.create("transform",{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}:after`]:{borderBottomColor:(tt.vars||tt).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${rt}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:tt.transitions.create("border-bottom-color",{duration:tt.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}):before`]:{borderBottom:`2px solid ${(tt.vars||tt).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${rt}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$2(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiInput"}),{disableUnderline:it,components:ot={},componentsProps:at,fullWidth:st=!1,inputComponent:lt="input",multiline:ct=!1,type:ft="text"}=rt,ut=_objectWithoutPropertiesLoose$2(rt,_excluded$h),dt=useUtilityClasses$e(rt),pt={root:{ownerState:{disableUnderline:it}}},gt=at?deepmerge(at,pt):pt;return jsxRuntime.exports.jsx(InputBase$1,_extends$2({components:_extends$2({Root:InputRoot,Input:InputInput},ot),componentsProps:gt,fullWidth:st,inputComponent:lt,multiline:ct,ref:nt,type:ft},ut,{classes:dt}))});Input.muiName="Input";var Input$1=Input;function getInputLabelUtilityClasses(tt){return generateUtilityClass("MuiInputLabel",tt)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$g=["disableAnimation","margin","shrink","variant"],useUtilityClasses$d=tt=>{const{classes:et,formControl:nt,size:rt,shrink:it,disableAnimation:ot,variant:at,required:st}=tt,ct=composeClasses({root:["root",nt&&"formControl",!ot&&"animated",it&&"shrink",rt==="small"&&"sizeSmall",at],asterisk:[st&&"asterisk"]},getInputLabelUtilityClasses,et);return _extends$2({},et,ct)},InputLabelRoot=styled$2(FormLabel$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[{[`& .${formLabelClasses$1.asterisk}`]:et.asterisk},et.root,nt.formControl&&et.formControl,nt.size==="small"&&et.sizeSmall,nt.shrink&&et.shrink,!nt.disableAnimation&&et.animated,et[nt.variant]]}})(({theme:tt,ownerState:et})=>_extends$2({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},et.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},et.size==="small"&&{transform:"translate(0, 17px) scale(1)"},et.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!et.disableAnimation&&{transition:tt.transitions.create(["color","transform","max-width"],{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut})},et.variant==="filled"&&_extends$2({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},et.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},et.shrink&&_extends$2({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},et.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),et.variant==="outlined"&&_extends$2({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},et.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},et.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({name:"MuiInputLabel",props:et}),{disableAnimation:it=!1,shrink:ot}=rt,at=_objectWithoutPropertiesLoose$2(rt,_excluded$g),st=useFormControl();let lt=ot;typeof lt=="undefined"&&st&&(lt=st.filled||st.focused||st.adornedStart);const ct=formControlState({props:rt,muiFormControl:st,states:["size","variant","required"]}),ft=_extends$2({},rt,{disableAnimation:it,formControl:st,shrink:lt,size:ct.size,variant:ct.variant,required:ct.required}),ut=useUtilityClasses$d(ft);return jsxRuntime.exports.jsx(InputLabelRoot,_extends$2({"data-shrink":lt,ownerState:ft,ref:nt},at,{classes:ut}))});var InputLabel$1=InputLabel;const ListContext=react.exports.createContext({});var ListContext$1=ListContext;function getListUtilityClass(tt){return generateUtilityClass("MuiList",tt)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$f=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$c=tt=>{const{classes:et,disablePadding:nt,dense:rt,subheader:it}=tt;return composeClasses({root:["root",!nt&&"padding",rt&&"dense",it&&"subheader"]},getListUtilityClass,et)},ListRoot=styled$2("ul",{name:"MuiList",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,!nt.disablePadding&&et.padding,nt.dense&&et.dense,nt.subheader&&et.subheader]}})(({ownerState:tt})=>_extends$2({listStyle:"none",margin:0,padding:0,position:"relative"},!tt.disablePadding&&{paddingTop:8,paddingBottom:8},tt.subheader&&{paddingTop:0})),List=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiList"}),{children:it,className:ot,component:at="ul",dense:st=!1,disablePadding:lt=!1,subheader:ct}=rt,ft=_objectWithoutPropertiesLoose$2(rt,_excluded$f),ut=react.exports.useMemo(()=>({dense:st}),[st]),dt=_extends$2({},rt,{component:at,dense:st,disablePadding:lt}),ht=useUtilityClasses$c(dt);return jsxRuntime.exports.jsx(ListContext$1.Provider,{value:ut,children:jsxRuntime.exports.jsxs(ListRoot,_extends$2({as:at,className:clsx(ht.root,ot),ref:nt,ownerState:dt},ft,{children:[ct,it]}))})});var List$1=List;const listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]);var listItemIconClasses$1=listItemIconClasses;const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var listItemTextClasses$1=listItemTextClasses;const _excluded$e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(tt,et,nt){return tt===et?tt.firstChild:et&&et.nextElementSibling?et.nextElementSibling:nt?null:tt.firstChild}function previousItem(tt,et,nt){return tt===et?nt?tt.firstChild:tt.lastChild:et&&et.previousElementSibling?et.previousElementSibling:nt?null:tt.lastChild}function textCriteriaMatches(tt,et){if(et===void 0)return!0;let nt=tt.innerText;return nt===void 0&&(nt=tt.textContent),nt=nt.trim().toLowerCase(),nt.length===0?!1:et.repeating?nt[0]===et.keys[0]:nt.indexOf(et.keys.join(""))===0}function moveFocus(tt,et,nt,rt,it,ot){let at=!1,st=it(tt,et,et?nt:!1);for(;st;){if(st===tt.firstChild){if(at)return!1;at=!0}const lt=rt?!1:st.disabled||st.getAttribute("aria-disabled")==="true";if(!st.hasAttribute("tabindex")||!textCriteriaMatches(st,ot)||lt)st=it(tt,st,nt);else return st.focus(),!0}return!1}const MenuList=react.exports.forwardRef(function(et,nt){const{actions:rt,autoFocus:it=!1,autoFocusItem:ot=!1,children:at,className:st,disabledItemsFocusable:lt=!1,disableListWrap:ct=!1,onKeyDown:ft,variant:ut="selectedMenu"}=et,dt=_objectWithoutPropertiesLoose$2(et,_excluded$e),ht=react.exports.useRef(null),pt=react.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{it&&ht.current.focus()},[it]),react.exports.useImperativeHandle(rt,()=>({adjustStyleForScrollbar:(St,xt)=>{const vt=!ht.current.style.width;if(St.clientHeight<ht.current.clientHeight&&vt){const $t=`${getScrollbarSize(ownerDocument(St))}px`;ht.current.style[xt.direction==="rtl"?"paddingLeft":"paddingRight"]=$t,ht.current.style.width=`calc(100% + ${$t})`}return ht.current}}),[]);const gt=St=>{const xt=ht.current,vt=St.key,$t=ownerDocument(xt).activeElement;if(vt==="ArrowDown")St.preventDefault(),moveFocus(xt,$t,ct,lt,nextItem);else if(vt==="ArrowUp")St.preventDefault(),moveFocus(xt,$t,ct,lt,previousItem);else if(vt==="Home")St.preventDefault(),moveFocus(xt,null,ct,lt,nextItem);else if(vt==="End")St.preventDefault(),moveFocus(xt,null,ct,lt,previousItem);else if(vt.length===1){const zt=pt.current,Nt=vt.toLowerCase(),wt=performance.now();zt.keys.length>0&&(wt-zt.lastTime>500?(zt.keys=[],zt.repeating=!0,zt.previousKeyMatched=!0):zt.repeating&&Nt!==zt.keys[0]&&(zt.repeating=!1)),zt.lastTime=wt,zt.keys.push(Nt);const Et=$t&&!zt.repeating&&textCriteriaMatches($t,zt);zt.previousKeyMatched&&(Et||moveFocus(xt,$t,!1,lt,nextItem,zt))?St.preventDefault():zt.previousKeyMatched=!1}ft&&ft(St)},mt=useForkRef(ht,nt);let yt=-1;react.exports.Children.forEach(at,(St,xt)=>{!react.exports.isValidElement(St)||St.props.disabled||(ut==="selectedMenu"&&St.props.selected||yt===-1)&&(yt=xt)});const bt=react.exports.Children.map(at,(St,xt)=>{if(xt===yt){const vt={};return ot&&(vt.autoFocus=!0),St.props.tabIndex===void 0&&ut==="selectedMenu"&&(vt.tabIndex=0),react.exports.cloneElement(St,vt)}return St});return jsxRuntime.exports.jsx(List$1,_extends$2({role:"menu",ref:mt,className:st,onKeyDown:gt,tabIndex:it?0:-1},dt,{children:bt}))});var MenuList$1=MenuList;function getPopoverUtilityClass(tt){return generateUtilityClass("MuiPopover",tt)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$d=["onEntering"],_excluded2$3=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function getOffsetTop(tt,et){let nt=0;return typeof et=="number"?nt=et:et==="center"?nt=tt.height/2:et==="bottom"&&(nt=tt.height),nt}function getOffsetLeft(tt,et){let nt=0;return typeof et=="number"?nt=et:et==="center"?nt=tt.width/2:et==="right"&&(nt=tt.width),nt}function getTransformOriginValue(tt){return[tt.horizontal,tt.vertical].map(et=>typeof et=="number"?`${et}px`:et).join(" ")}function resolveAnchorEl(tt){return typeof tt=="function"?tt():tt}const useUtilityClasses$b=tt=>{const{classes:et}=tt;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,et)},PopoverRoot=styled$2(Modal$2,{name:"MuiPopover",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),PopoverPaper=styled$2(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(tt,et)=>et.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiPopover"}),{action:it,anchorEl:ot,anchorOrigin:at={vertical:"top",horizontal:"left"},anchorPosition:st,anchorReference:lt="anchorEl",children:ct,className:ft,container:ut,elevation:dt=8,marginThreshold:ht=16,open:pt,PaperProps:gt={},transformOrigin:mt={vertical:"top",horizontal:"left"},TransitionComponent:yt=Grow$1,transitionDuration:bt="auto",TransitionProps:{onEntering:St}={}}=rt,xt=_objectWithoutPropertiesLoose$2(rt.TransitionProps,_excluded$d),vt=_objectWithoutPropertiesLoose$2(rt,_excluded2$3),$t=react.exports.useRef(),zt=useForkRef($t,gt.ref),Nt=_extends$2({},rt,{anchorOrigin:at,anchorReference:lt,elevation:dt,marginThreshold:ht,PaperProps:gt,transformOrigin:mt,TransitionComponent:yt,transitionDuration:bt,TransitionProps:xt}),wt=useUtilityClasses$b(Nt),Et=react.exports.useCallback(()=>{if(lt==="anchorPosition")return st;const Ot=resolveAnchorEl(ot),At=(Ot&&Ot.nodeType===1?Ot:ownerDocument($t.current).body).getBoundingClientRect();return{top:At.top+getOffsetTop(At,at.vertical),left:At.left+getOffsetLeft(At,at.horizontal)}},[ot,at.horizontal,at.vertical,st,lt]),Rt=react.exports.useCallback(Ot=>({vertical:getOffsetTop(Ot,mt.vertical),horizontal:getOffsetLeft(Ot,mt.horizontal)}),[mt.horizontal,mt.vertical]),Tt=react.exports.useCallback(Ot=>{const Ut={width:Ot.offsetWidth,height:Ot.offsetHeight},At=Rt(Ut);if(lt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(At)};const Mt=Et();let jt=Mt.top-At.vertical,kt=Mt.left-At.horizontal;const Gt=jt+Ut.height,Ht=kt+Ut.width,Jt=ownerWindow(resolveAnchorEl(ot)),Vt=Jt.innerHeight-ht,Wt=Jt.innerWidth-ht;if(jt<ht){const Lt=jt-ht;jt-=Lt,At.vertical+=Lt}else if(Gt>Vt){const Lt=Gt-Vt;jt-=Lt,At.vertical+=Lt}if(kt<ht){const Lt=kt-ht;kt-=Lt,At.horizontal+=Lt}else if(Ht>Wt){const Lt=Ht-Wt;kt-=Lt,At.horizontal+=Lt}return{top:`${Math.round(jt)}px`,left:`${Math.round(kt)}px`,transformOrigin:getTransformOriginValue(At)}},[ot,lt,Et,Rt,ht]),It=react.exports.useCallback(()=>{const Ot=$t.current;if(!Ot)return;const Ut=Tt(Ot);Ut.top!==null&&(Ot.style.top=Ut.top),Ut.left!==null&&(Ot.style.left=Ut.left),Ot.style.transformOrigin=Ut.transformOrigin},[Tt]),Pt=(Ot,Ut)=>{St&&St(Ot,Ut),It()};react.exports.useEffect(()=>{pt&&It()}),react.exports.useImperativeHandle(it,()=>pt?{updatePosition:()=>{It()}}:null,[pt,It]),react.exports.useEffect(()=>{if(!pt)return;const Ot=debounce$1(()=>{It()}),Ut=ownerWindow(ot);return Ut.addEventListener("resize",Ot),()=>{Ot.clear(),Ut.removeEventListener("resize",Ot)}},[ot,pt,It]);let Dt=bt;bt==="auto"&&!yt.muiSupportAuto&&(Dt=void 0);const Ct=ut||(ot?ownerDocument(resolveAnchorEl(ot)).body:void 0);return jsxRuntime.exports.jsx(PopoverRoot,_extends$2({BackdropProps:{invisible:!0},className:clsx(wt.root,ft),container:Ct,open:pt,ref:nt,ownerState:Nt},vt,{children:jsxRuntime.exports.jsx(yt,_extends$2({appear:!0,in:pt,onEntering:Pt,timeout:Dt},xt,{children:jsxRuntime.exports.jsx(PopoverPaper,_extends$2({elevation:dt},gt,{ref:zt,className:clsx(wt.paper,gt.className),children:ct}))}))}))});var Popover$1=Popover;function getMenuUtilityClass(tt){return generateUtilityClass("MuiMenu",tt)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$c=["onEntering"],_excluded2$2=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$a=tt=>{const{classes:et}=tt;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,et)},MenuRoot=styled$2(Popover$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),MenuPaper=styled$2(Paper$1,{name:"MuiMenu",slot:"Paper",overridesResolver:(tt,et)=>et.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$2(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(tt,et)=>et.list})({outline:0}),Menu=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiMenu"}),{autoFocus:it=!0,children:ot,disableAutoFocusItem:at=!1,MenuListProps:st={},onClose:lt,open:ct,PaperProps:ft={},PopoverClasses:ut,transitionDuration:dt="auto",TransitionProps:{onEntering:ht}={},variant:pt="selectedMenu"}=rt,gt=_objectWithoutPropertiesLoose$2(rt.TransitionProps,_excluded$c),mt=_objectWithoutPropertiesLoose$2(rt,_excluded2$2),yt=useTheme(),bt=yt.direction==="rtl",St=_extends$2({},rt,{autoFocus:it,disableAutoFocusItem:at,MenuListProps:st,onEntering:ht,PaperProps:ft,transitionDuration:dt,TransitionProps:gt,variant:pt}),xt=useUtilityClasses$a(St),vt=it&&!at&&ct,$t=react.exports.useRef(null),zt=(Et,Rt)=>{$t.current&&$t.current.adjustStyleForScrollbar(Et,yt),ht&&ht(Et,Rt)},Nt=Et=>{Et.key==="Tab"&&(Et.preventDefault(),lt&&lt(Et,"tabKeyDown"))};let wt=-1;return react.exports.Children.map(ot,(Et,Rt)=>{!react.exports.isValidElement(Et)||Et.props.disabled||(pt==="selectedMenu"&&Et.props.selected||wt===-1)&&(wt=Rt)}),jsxRuntime.exports.jsx(MenuRoot,_extends$2({classes:ut,onClose:lt,anchorOrigin:{vertical:"bottom",horizontal:bt?"right":"left"},transformOrigin:bt?RTL_ORIGIN:LTR_ORIGIN,PaperProps:_extends$2({component:MenuPaper},ft,{classes:_extends$2({},ft.classes,{root:xt.paper})}),className:xt.root,open:ct,ref:nt,transitionDuration:dt,TransitionProps:_extends$2({onEntering:zt},gt),ownerState:St},mt,{children:jsxRuntime.exports.jsx(MenuMenuList,_extends$2({onKeyDown:Nt,actions:$t,autoFocus:it&&(wt===-1||at),autoFocusItem:vt,variant:pt},st,{className:clsx(xt.list,st.className),children:ot}))}))});var Menu$1=Menu;function getMenuItemUtilityClass(tt){return generateUtilityClass("MuiMenuItem",tt)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var menuItemClasses$1=menuItemClasses;const _excluded$b=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],overridesResolver=(tt,et)=>{const{ownerState:nt}=tt;return[et.root,nt.dense&&et.dense,nt.divider&&et.divider,!nt.disableGutters&&et.gutters]},useUtilityClasses$9=tt=>{const{disabled:et,dense:nt,divider:rt,disableGutters:it,selected:ot,classes:at}=tt,lt=composeClasses({root:["root",nt&&"dense",et&&"disabled",!it&&"gutters",rt&&"divider",ot&&"selected"]},getMenuItemUtilityClass,at);return _extends$2({},at,lt)},MenuItemRoot=styled$2(ButtonBase$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(({theme:tt,ownerState:et})=>_extends$2({},tt.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!et.disableGutters&&{paddingLeft:16,paddingRight:16},et.divider&&{borderBottom:`1px solid ${(tt.vars||tt).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(tt.vars||tt).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses$1.selected}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity),[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.focusOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.focusOpacity)}},[`&.${menuItemClasses$1.selected}:hover`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.hoverOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity)}},[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette.action.focus},[`&.${menuItemClasses$1.disabled}`]:{opacity:(tt.vars||tt).palette.action.disabledOpacity},[`& + .${dividerClasses$1.root}`]:{marginTop:tt.spacing(1),marginBottom:tt.spacing(1)},[`& + .${dividerClasses$1.inset}`]:{marginLeft:52},[`& .${listItemTextClasses$1.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses$1.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses$1.root}`]:{minWidth:36}},!et.dense&&{[tt.breakpoints.up("sm")]:{minHeight:"auto"}},et.dense&&_extends$2({minHeight:32,paddingTop:4,paddingBottom:4},tt.typography.body2,{[`& .${listItemIconClasses$1.root} svg`]:{fontSize:"1.25rem"}}))),MenuItem=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiMenuItem"}),{autoFocus:it=!1,component:ot="li",dense:at=!1,divider:st=!1,disableGutters:lt=!1,focusVisibleClassName:ct,role:ft="menuitem",tabIndex:ut}=rt,dt=_objectWithoutPropertiesLoose$2(rt,_excluded$b),ht=react.exports.useContext(ListContext$1),pt={dense:at||ht.dense||!1,disableGutters:lt},gt=react.exports.useRef(null);useEnhancedEffect$1(()=>{it&&gt.current&&gt.current.focus()},[it]);const mt=_extends$2({},rt,{dense:pt.dense,divider:st,disableGutters:lt}),yt=useUtilityClasses$9(rt),bt=useForkRef(gt,nt);let St;return rt.disabled||(St=ut!==void 0?ut:-1),jsxRuntime.exports.jsx(ListContext$1.Provider,{value:pt,children:jsxRuntime.exports.jsx(MenuItemRoot,_extends$2({ref:bt,role:ft,tabIndex:St,component:ot,focusVisibleClassName:clsx(yt.focusVisible,ct)},dt,{ownerState:mt,classes:yt}))})});var MenuItem$1=MenuItem;function getNativeSelectUtilityClasses(tt){return generateUtilityClass("MuiNativeSelect",tt)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),_excluded$a=["className","disabled","IconComponent","inputRef","variant"],useUtilityClasses$8=tt=>{const{classes:et,variant:nt,disabled:rt,multiple:it,open:ot}=tt,at={select:["select",nt,rt&&"disabled",it&&"multiple"],icon:["icon",`icon${capitalize(nt)}`,ot&&"iconOpen",rt&&"disabled"]};return composeClasses(at,getNativeSelectUtilityClasses,et)},nativeSelectSelectStyles=({ownerState:tt,theme:et})=>_extends$2({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:et.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:et.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},tt.variant==="filled"&&{"&&&":{paddingRight:32}},tt.variant==="outlined"&&{borderRadius:et.shape.borderRadius,"&:focus":{borderRadius:et.shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$2("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.select,et[nt.variant],{[`&.${nativeSelectClasses.multiple}`]:et.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:tt,theme:et})=>_extends$2({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:et.palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:et.palette.action.disabled}},tt.open&&{transform:"rotate(180deg)"},tt.variant==="filled"&&{right:7},tt.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$2("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.icon,nt.variant&&et[`icon${capitalize(nt.variant)}`],nt.open&&et.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=react.exports.forwardRef(function(et,nt){const{className:rt,disabled:it,IconComponent:ot,inputRef:at,variant:st="standard"}=et,lt=_objectWithoutPropertiesLoose$2(et,_excluded$a),ct=_extends$2({},et,{disabled:it,variant:st}),ft=useUtilityClasses$8(ct);return jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[jsxRuntime.exports.jsx(NativeSelectSelect,_extends$2({ownerState:ct,className:clsx(ft.select,rt),disabled:it,ref:at||nt},lt)),et.multiple?null:jsxRuntime.exports.jsx(NativeSelectIcon,{as:ot,ownerState:ct,className:ft.icon})]})});var NativeSelectInput$1=NativeSelectInput;const _excluded$9=["className","children","classes","IconComponent","input","inputProps","variant"],_excluded2$1=["root"],useUtilityClasses$7=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getNativeSelectUtilityClasses,et)},defaultInput=jsxRuntime.exports.jsx(Input$1,{}),NativeSelect=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({name:"MuiNativeSelect",props:et}),{className:it,children:ot,classes:at={},IconComponent:st=ArrowDropDownIcon,input:lt=defaultInput,inputProps:ct}=rt,ft=_objectWithoutPropertiesLoose$2(rt,_excluded$9),ut=useFormControl(),dt=formControlState({props:rt,muiFormControl:ut,states:["variant"]}),ht=_extends$2({},rt,{classes:at}),pt=useUtilityClasses$7(ht),gt=_objectWithoutPropertiesLoose$2(at,_excluded2$1);return react.exports.cloneElement(lt,_extends$2({inputComponent:NativeSelectInput$1,inputProps:_extends$2({children:ot,classes:gt,IconComponent:st,variant:dt.variant,type:void 0},ct,lt?lt.props.inputProps:{}),ref:nt},ft,{className:clsx(pt.root,lt.props.className,it)}))});NativeSelect.muiName="Select";var NativeSelect$1=NativeSelect,_span$1;const _excluded$8=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$2("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$2("legend")(({ownerState:tt,theme:et})=>_extends$2({float:"unset",overflow:"hidden"},!tt.withLabel&&{padding:0,lineHeight:"11px",transition:et.transitions.create("width",{duration:150,easing:et.transitions.easing.easeOut})},tt.withLabel&&_extends$2({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:et.transitions.create("max-width",{duration:50,easing:et.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},tt.notched&&{maxWidth:"100%",transition:et.transitions.create("max-width",{duration:100,easing:et.transitions.easing.easeOut,delay:50})})));function NotchedOutline(tt){const{className:et,label:nt,notched:rt}=tt,it=_objectWithoutPropertiesLoose$2(tt,_excluded$8),ot=nt!=null&&nt!=="",at=_extends$2({},tt,{notched:rt,withLabel:ot});return jsxRuntime.exports.jsx(NotchedOutlineRoot$1,_extends$2({"aria-hidden":!0,className:et,ownerState:at},it,{children:jsxRuntime.exports.jsx(NotchedOutlineLegend,{ownerState:at,children:ot?jsxRuntime.exports.jsx("span",{children:nt}):_span$1||(_span$1=jsxRuntime.exports.jsx("span",{className:"notranslate",children:"\u200B"}))})}))}const _excluded$7=["components","fullWidth","inputComponent","label","multiline","notched","type"],useUtilityClasses$6=tt=>{const{classes:et}=tt,rt=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,et);return _extends$2({},et,rt)},OutlinedInputRoot=styled$2(InputBaseRoot,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:tt,ownerState:et})=>{const nt=tt.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$2({position:"relative",borderRadius:tt.shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:tt.palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:nt}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:tt.palette[et.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:tt.palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:tt.palette.action.disabled}},et.startAdornment&&{paddingLeft:14},et.endAdornment&&{paddingRight:14},et.multiline&&_extends$2({padding:"16.5px 14px"},et.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$2(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(tt,et)=>et.notchedOutline})(({theme:tt})=>({borderColor:tt.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"})),OutlinedInputInput=styled$2(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:tt,ownerState:et})=>_extends$2({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:tt.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:tt.palette.mode==="light"?null:"#fff",caretColor:tt.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},et.size==="small"&&{padding:"8.5px 14px"},et.multiline&&{padding:0},et.startAdornment&&{paddingLeft:0},et.endAdornment&&{paddingRight:0})),OutlinedInput=react.exports.forwardRef(function(et,nt){var rt;const it=useThemeProps({props:et,name:"MuiOutlinedInput"}),{components:ot={},fullWidth:at=!1,inputComponent:st="input",label:lt,multiline:ct=!1,notched:ft,type:ut="text"}=it,dt=_objectWithoutPropertiesLoose$2(it,_excluded$7),ht=useUtilityClasses$6(it),pt=useFormControl(),gt=formControlState({props:it,muiFormControl:pt,states:["required"]});return jsxRuntime.exports.jsx(InputBase$1,_extends$2({components:_extends$2({Root:OutlinedInputRoot,Input:OutlinedInputInput},ot),renderSuffix:mt=>jsxRuntime.exports.jsx(NotchedOutlineRoot,{className:ht.notchedOutline,label:lt!=null&&lt!==""&&gt.required?rt||(rt=jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[lt,"\xA0","*"]})):lt,notched:typeof ft!="undefined"?ft:Boolean(mt.startAdornment||mt.filled||mt.focused)}),fullWidth:at,inputComponent:st,multiline:ct,ref:nt,type:ut},dt,{classes:_extends$2({},ht,{notchedOutline:null})}))});OutlinedInput.muiName="Input";var OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses(tt){return generateUtilityClass("MuiSelect",tt)}const selectClasses=generateUtilityClasses("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);var selectClasses$1=selectClasses,_span;const _excluded$6=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$2("div",{name:"MuiSelect",slot:"Select",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[{[`&.${selectClasses$1.select}`]:et.select},{[`&.${selectClasses$1.select}`]:et[nt.variant]},{[`&.${selectClasses$1.multiple}`]:et.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$2("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.icon,nt.variant&&et[`icon${capitalize(nt.variant)}`],nt.open&&et.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$2("input",{shouldForwardProp:tt=>slotShouldForwardProp(tt)&&tt!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(tt,et)=>et.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(tt,et){return typeof et=="object"&&et!==null?tt===et:String(tt)===String(et)}function isEmpty(tt){return tt==null||typeof tt=="string"&&!tt.trim()}const useUtilityClasses$5=tt=>{const{classes:et,variant:nt,disabled:rt,multiple:it,open:ot}=tt,at={select:["select",nt,rt&&"disabled",it&&"multiple"],icon:["icon",`icon${capitalize(nt)}`,ot&&"iconOpen",rt&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(at,getSelectUtilityClasses,et)},SelectInput=react.exports.forwardRef(function(et,nt){const{"aria-describedby":rt,"aria-label":it,autoFocus:ot,autoWidth:at,children:st,className:lt,defaultOpen:ct,defaultValue:ft,disabled:ut,displayEmpty:dt,IconComponent:ht,inputRef:pt,labelId:gt,MenuProps:mt={},multiple:yt,name:bt,onBlur:St,onChange:xt,onClose:vt,onFocus:$t,onOpen:zt,open:Nt,readOnly:wt,renderValue:Et,SelectDisplayProps:Rt={},tabIndex:Tt,value:It,variant:Pt="standard"}=et,Dt=_objectWithoutPropertiesLoose$2(et,_excluded$6),[Ct,Ot]=useControlled({controlled:It,default:ft,name:"Select"}),[Ut,At]=useControlled({controlled:Nt,default:ct,name:"Select"}),Mt=react.exports.useRef(null),jt=react.exports.useRef(null),[kt,Gt]=react.exports.useState(null),{current:Ht}=react.exports.useRef(Nt!=null),[Jt,Vt]=react.exports.useState(),Wt=useForkRef(nt,pt),Lt=react.exports.useCallback(Ln=>{jt.current=Ln,Ln&&Gt(Ln)},[]);react.exports.useImperativeHandle(Wt,()=>({focus:()=>{jt.current.focus()},node:Mt.current,value:Ct}),[Ct]),react.exports.useEffect(()=>{ct&&Ut&&kt&&!Ht&&(Vt(at?null:kt.clientWidth),jt.current.focus())},[kt,at]),react.exports.useEffect(()=>{ot&&jt.current.focus()},[ot]),react.exports.useEffect(()=>{if(!gt)return;const Ln=ownerDocument(jt.current).getElementById(gt);if(Ln){const Mn=()=>{getSelection().isCollapsed&&jt.current.focus()};return Ln.addEventListener("click",Mn),()=>{Ln.removeEventListener("click",Mn)}}},[gt]);const Bt=(Ln,Mn)=>{Ln?zt&&zt(Mn):vt&&vt(Mn),Ht||(Vt(at?null:kt.clientWidth),At(Ln))},Ft=Ln=>{Ln.button===0&&(Ln.preventDefault(),jt.current.focus(),Bt(!0,Ln))},sn=Ln=>{Bt(!1,Ln)},Xt=react.exports.Children.toArray(st),dn=Ln=>{const Mn=Xt.map(Jn=>Jn.props.value).indexOf(Ln.target.value);if(Mn===-1)return;const Wn=Xt[Mn];Ot(Wn.props.value),xt&&xt(Ln,Wn)},Yt=Ln=>Mn=>{let Wn;if(!!Mn.currentTarget.hasAttribute("tabindex")){if(yt){Wn=Array.isArray(Ct)?Ct.slice():[];const Jn=Ct.indexOf(Ln.props.value);Jn===-1?Wn.push(Ln.props.value):Wn.splice(Jn,1)}else Wn=Ln.props.value;if(Ln.props.onClick&&Ln.props.onClick(Mn),Ct!==Wn&&(Ot(Wn),xt)){const Jn=Mn.nativeEvent||Mn,Zn=new Jn.constructor(Jn.type,Jn);Object.defineProperty(Zn,"target",{writable:!0,value:{value:Wn,name:bt}}),xt(Zn,Ln)}yt||Bt(!1,Mn)}},yn=Ln=>{wt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ln.key)!==-1&&(Ln.preventDefault(),Bt(!0,Ln))},Qt=kt!==null&&Ut,Kt=Ln=>{!Qt&&St&&(Object.defineProperty(Ln,"target",{writable:!0,value:{value:Ct,name:bt}}),St(Ln))};delete Dt["aria-invalid"];let hn,vn;const Sn=[];let Cn=!1;(isFilled({value:Ct})||dt)&&(Et?hn=Et(Ct):Cn=!0);const cn=Xt.map((Ln,Mn,Wn)=>{if(!react.exports.isValidElement(Ln))return null;let Jn;if(yt){if(!Array.isArray(Ct))throw new Error(formatMuiErrorMessage(2));Jn=Ct.some(Rn=>areEqualValues(Rn,Ln.props.value)),Jn&&Cn&&Sn.push(Ln.props.children)}else Jn=areEqualValues(Ct,Ln.props.value),Jn&&Cn&&(vn=Ln.props.children);if(Ln.props.value===void 0)return react.exports.cloneElement(Ln,{"aria-readonly":!0,role:"option"});const Zn=()=>{if(Ct)return Jn;const Rn=Wn.find(Kn=>Kn.props.value!==void 0&&Kn.props.disabled!==!0);return Ln===Rn?!0:Jn};return react.exports.cloneElement(Ln,{"aria-selected":Jn?"true":"false",onClick:Yt(Ln),onKeyUp:Rn=>{Rn.key===" "&&Rn.preventDefault(),Ln.props.onKeyUp&&Ln.props.onKeyUp(Rn)},role:"option",selected:Wn[0].props.value===void 0||Wn[0].props.disabled===!0?Zn():Jn,value:void 0,"data-value":Ln.props.value})});Cn&&(yt?Sn.length===0?hn=null:hn=Sn.reduce((Ln,Mn,Wn)=>(Ln.push(Mn),Wn<Sn.length-1&&Ln.push(", "),Ln),[]):hn=vn);let ln=Jt;!at&&Ht&&kt&&(ln=kt.clientWidth);let bn;typeof Tt!="undefined"?bn=Tt:bn=ut?null:0;const xn=Rt.id||(bt?`mui-component-select-${bt}`:void 0),Nn=_extends$2({},et,{variant:Pt,value:Ct,open:Qt}),zn=useUtilityClasses$5(Nn);return jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[jsxRuntime.exports.jsx(SelectSelect,_extends$2({ref:Lt,tabIndex:bn,role:"button","aria-disabled":ut?"true":void 0,"aria-expanded":Qt?"true":"false","aria-haspopup":"listbox","aria-label":it,"aria-labelledby":[gt,xn].filter(Boolean).join(" ")||void 0,"aria-describedby":rt,onKeyDown:yn,onMouseDown:ut||wt?null:Ft,onBlur:Kt,onFocus:$t},Rt,{ownerState:Nn,className:clsx(zn.select,lt,Rt.className),id:xn,children:isEmpty(hn)?_span||(_span=jsxRuntime.exports.jsx("span",{className:"notranslate",children:"\u200B"})):hn})),jsxRuntime.exports.jsx(SelectNativeInput,_extends$2({value:Array.isArray(Ct)?Ct.join(","):Ct,name:bt,ref:Mt,"aria-hidden":!0,onChange:dn,tabIndex:-1,disabled:ut,className:zn.nativeInput,autoFocus:ot,ownerState:Nn},Dt)),jsxRuntime.exports.jsx(SelectIcon,{as:ht,className:zn.icon,ownerState:Nn}),jsxRuntime.exports.jsx(Menu$1,_extends$2({id:`menu-${bt||""}`,anchorEl:kt,open:Qt,onClose:sn,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},mt,{MenuListProps:_extends$2({"aria-labelledby":gt,role:"listbox",disableListWrap:!0},mt.MenuListProps),PaperProps:_extends$2({},mt.PaperProps,{style:_extends$2({minWidth:ln},mt.PaperProps!=null?mt.PaperProps.style:null)}),children:cn}))]})});var SelectInput$1=SelectInput,_StyledInput,_StyledFilledInput;const _excluded$5=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],useUtilityClasses$4=tt=>{const{classes:et}=tt;return et},styledRootConfig={name:"MuiSelect",overridesResolver:(tt,et)=>et.root,shouldForwardProp:tt=>rootShouldForwardProp(tt)&&tt!=="variant",slot:"Root"},StyledInput=styled$2(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled$2(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$2(FilledInput$1,styledRootConfig)(""),Select$1=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({name:"MuiSelect",props:et}),{autoWidth:it=!1,children:ot,classes:at={},className:st,defaultOpen:lt=!1,displayEmpty:ct=!1,IconComponent:ft=ArrowDropDownIcon,id:ut,input:dt,inputProps:ht,label:pt,labelId:gt,MenuProps:mt,multiple:yt=!1,native:bt=!1,onClose:St,onOpen:xt,open:vt,renderValue:$t,SelectDisplayProps:zt,variant:Nt="outlined"}=rt,wt=_objectWithoutPropertiesLoose$2(rt,_excluded$5),Et=bt?NativeSelectInput$1:SelectInput$1,Rt=useFormControl(),It=formControlState({props:rt,muiFormControl:Rt,states:["variant"]}).variant||Nt,Pt=dt||{standard:_StyledInput||(_StyledInput=jsxRuntime.exports.jsx(StyledInput,{})),outlined:jsxRuntime.exports.jsx(StyledOutlinedInput,{label:pt}),filled:_StyledFilledInput||(_StyledFilledInput=jsxRuntime.exports.jsx(StyledFilledInput,{}))}[It],Dt=_extends$2({},rt,{variant:It,classes:at}),Ct=useUtilityClasses$4(Dt),Ot=useForkRef(nt,Pt.ref);return react.exports.cloneElement(Pt,_extends$2({inputComponent:Et,inputProps:_extends$2({children:ot,IconComponent:ft,variant:It,type:void 0,multiple:yt},bt?{id:ut}:{autoWidth:it,defaultOpen:lt,displayEmpty:ct,labelId:gt,MenuProps:mt,onClose:St,onOpen:xt,open:vt,renderValue:$t,SelectDisplayProps:_extends$2({id:ut},zt)},ht,{classes:ht?deepmerge(Ct,ht.classes):Ct},dt?dt.props.inputProps:{})},yt&&bt&&It==="outlined"?{notched:!0}:{},{ref:Ot,className:clsx(Pt.props.className,st),variant:It},wt))});Select$1.muiName="Select";var Select$1$1=Select$1;function getSnackbarContentUtilityClass(tt){return generateUtilityClass("MuiSnackbarContent",tt)}generateUtilityClasses("MuiSnackbarContent",["root","message","action"]);const _excluded$4=["action","className","message","role"],useUtilityClasses$3=tt=>{const{classes:et}=tt;return composeClasses({root:["root"],action:["action"],message:["message"]},getSnackbarContentUtilityClass,et)},SnackbarContentRoot=styled$2(Paper$1,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(tt,et)=>et.root})(({theme:tt})=>{const et=tt.palette.mode==="light"?.8:.98,nt=emphasize(tt.palette.background.default,et);return _extends$2({},tt.typography.body2,{color:tt.palette.getContrastText(nt),backgroundColor:nt,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:tt.shape.borderRadius,flexGrow:1,[tt.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),SnackbarContentMessage=styled$2("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(tt,et)=>et.message})({padding:"8px 0"}),SnackbarContentAction=styled$2("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(tt,et)=>et.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),SnackbarContent=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiSnackbarContent"}),{action:it,className:ot,message:at,role:st="alert"}=rt,lt=_objectWithoutPropertiesLoose$2(rt,_excluded$4),ct=rt,ft=useUtilityClasses$3(ct);return jsxRuntime.exports.jsxs(SnackbarContentRoot,_extends$2({role:st,square:!0,elevation:6,className:clsx(ft.root,ot),ownerState:ct,ref:nt},lt,{children:[jsxRuntime.exports.jsx(SnackbarContentMessage,{className:ft.message,ownerState:ct,children:at}),it?jsxRuntime.exports.jsx(SnackbarContentAction,{className:ft.action,ownerState:ct,children:it}):null]}))});var SnackbarContent$1=SnackbarContent;function getSnackbarUtilityClass(tt){return generateUtilityClass("MuiSnackbar",tt)}generateUtilityClasses("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const _excluded$3=["onEnter","onExited"],_excluded2=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],useUtilityClasses$2=tt=>{const{classes:et,anchorOrigin:nt}=tt,rt={root:["root",`anchorOrigin${capitalize(nt.vertical)}${capitalize(nt.horizontal)}`]};return composeClasses(rt,getSnackbarUtilityClass,et)},SnackbarRoot=styled$2("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.root,et[`anchorOrigin${capitalize(nt.anchorOrigin.vertical)}${capitalize(nt.anchorOrigin.horizontal)}`]]}})(({theme:tt,ownerState:et})=>{const nt=_extends$2({},!et.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},et.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return _extends$2({zIndex:(tt.vars||tt).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},et.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},et.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},et.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[tt.breakpoints.up("sm")]:_extends$2({},et.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},et.anchorOrigin.horizontal==="center"&&nt,et.anchorOrigin.horizontal==="left"&&_extends$2({},!et.isRtl&&{left:24,right:"auto"},et.isRtl&&{right:24,left:"auto"}),et.anchorOrigin.horizontal==="right"&&_extends$2({},!et.isRtl&&{right:24,left:"auto"},et.isRtl&&{left:24,right:"auto"}))})}),Snackbar=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiSnackbar"}),it=useTheme(),ot={enter:it.transitions.duration.enteringScreen,exit:it.transitions.duration.leavingScreen},{action:at,anchorOrigin:{vertical:st,horizontal:lt}={vertical:"bottom",horizontal:"left"},autoHideDuration:ct=null,children:ft,className:ut,ClickAwayListenerProps:dt,ContentProps:ht,disableWindowBlurListener:pt=!1,message:gt,onBlur:mt,onClose:yt,onFocus:bt,onMouseEnter:St,onMouseLeave:xt,open:vt,resumeHideDuration:$t,TransitionComponent:zt=Grow$1,transitionDuration:Nt=ot,TransitionProps:{onEnter:wt,onExited:Et}={}}=rt,Rt=_objectWithoutPropertiesLoose$2(rt.TransitionProps,_excluded$3),Tt=_objectWithoutPropertiesLoose$2(rt,_excluded2),It=it.direction==="rtl",Pt=_extends$2({},rt,{anchorOrigin:{vertical:st,horizontal:lt},isRtl:It}),Dt=useUtilityClasses$2(Pt),Ct=react.exports.useRef(),[Ot,Ut]=react.exports.useState(!0),At=useEventCallback((...Ft)=>{yt&&yt(...Ft)}),Mt=useEventCallback(Ft=>{!yt||Ft==null||(clearTimeout(Ct.current),Ct.current=setTimeout(()=>{At(null,"timeout")},Ft))});react.exports.useEffect(()=>(vt&&Mt(ct),()=>{clearTimeout(Ct.current)}),[vt,ct,Mt]);const jt=()=>{clearTimeout(Ct.current)},kt=react.exports.useCallback(()=>{ct!=null&&Mt($t!=null?$t:ct*.5)},[ct,$t,Mt]),Gt=Ft=>{bt&&bt(Ft),jt()},Ht=Ft=>{St&&St(Ft),jt()},Jt=Ft=>{mt&&mt(Ft),kt()},Vt=Ft=>{xt&&xt(Ft),kt()},Wt=Ft=>{yt&&yt(Ft,"clickaway")},Lt=Ft=>{Ut(!0),Et&&Et(Ft)},Bt=(Ft,sn)=>{Ut(!1),wt&&wt(Ft,sn)};return react.exports.useEffect(()=>{if(!pt&&vt)return window.addEventListener("focus",kt),window.addEventListener("blur",jt),()=>{window.removeEventListener("focus",kt),window.removeEventListener("blur",jt)}},[pt,kt,vt]),react.exports.useEffect(()=>{if(!vt)return;function Ft(sn){sn.defaultPrevented||(sn.key==="Escape"||sn.key==="Esc")&&yt&&yt(sn,"escapeKeyDown")}return document.addEventListener("keydown",Ft),()=>{document.removeEventListener("keydown",Ft)}},[Ot,vt,yt]),!vt&&Ot?null:jsxRuntime.exports.jsx(ClickAwayListener,_extends$2({onClickAway:Wt},dt,{children:jsxRuntime.exports.jsx(SnackbarRoot,_extends$2({className:clsx(Dt.root,ut),onBlur:Jt,onFocus:Gt,onMouseEnter:Ht,onMouseLeave:Vt,ownerState:Pt,ref:nt,role:"presentation"},Tt,{children:jsxRuntime.exports.jsx(zt,_extends$2({appear:!0,in:vt,timeout:Nt,direction:st==="top"?"down":"up",onEnter:Bt,onExited:Lt},Rt,{children:ft||jsxRuntime.exports.jsx(SnackbarContent$1,_extends$2({message:gt,action:at},ht))}))}))}))});var Snackbar$1=Snackbar;function getTooltipUtilityClass(tt){return generateUtilityClass("MuiTooltip",tt)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);var tooltipClasses$1=tooltipClasses;const _excluded$2=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function round(tt){return Math.round(tt*1e5)/1e5}const useUtilityClasses$1=tt=>{const{classes:et,disableInteractive:nt,arrow:rt,touch:it,placement:ot}=tt,at={popper:["popper",!nt&&"popperInteractive",rt&&"popperArrow"],tooltip:["tooltip",rt&&"tooltipArrow",it&&"touch",`tooltipPlacement${capitalize(ot.split("-")[0])}`],arrow:["arrow"]};return composeClasses(at,getTooltipUtilityClass,et)},TooltipPopper=styled$2(Popper$1,{name:"MuiTooltip",slot:"Popper",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.popper,!nt.disableInteractive&&et.popperInteractive,nt.arrow&&et.popperArrow,!nt.open&&et.popperClose]}})(({theme:tt,ownerState:et,open:nt})=>_extends$2({zIndex:(tt.vars||tt).zIndex.tooltip,pointerEvents:"none"},!et.disableInteractive&&{pointerEvents:"auto"},!nt&&{pointerEvents:"none"},et.arrow&&{[`&[data-popper-placement*="bottom"] .${tooltipClasses$1.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses$1.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses$1.arrow}`]:_extends$2({},et.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${tooltipClasses$1.arrow}`]:_extends$2({},et.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=styled$2("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(tt,et)=>{const{ownerState:nt}=tt;return[et.tooltip,nt.touch&&et.touch,nt.arrow&&et.tooltipArrow,et[`tooltipPlacement${capitalize(nt.placement.split("-")[0])}`]]}})(({theme:tt,ownerState:et})=>_extends$2({backgroundColor:tt.vars?`rgba(${tt.vars.palette.grey.darkChannel} / 0.92)`:alpha(tt.palette.grey[700],.92),borderRadius:(tt.vars||tt).shape.borderRadius,color:(tt.vars||tt).palette.common.white,fontFamily:tt.typography.fontFamily,padding:"4px 8px",fontSize:tt.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:tt.typography.fontWeightMedium},et.arrow&&{position:"relative",margin:0},et.touch&&{padding:"8px 16px",fontSize:tt.typography.pxToRem(14),lineHeight:`${round(16/14)}em`,fontWeight:tt.typography.fontWeightRegular},{[`.${tooltipClasses$1.popper}[data-popper-placement*="left"] &`]:_extends$2({transformOrigin:"right center"},et.isRtl?_extends$2({marginLeft:"14px"},et.touch&&{marginLeft:"24px"}):_extends$2({marginRight:"14px"},et.touch&&{marginRight:"24px"})),[`.${tooltipClasses$1.popper}[data-popper-placement*="right"] &`]:_extends$2({transformOrigin:"left center"},et.isRtl?_extends$2({marginRight:"14px"},et.touch&&{marginRight:"24px"}):_extends$2({marginLeft:"14px"},et.touch&&{marginLeft:"24px"})),[`.${tooltipClasses$1.popper}[data-popper-placement*="top"] &`]:_extends$2({transformOrigin:"center bottom",marginBottom:"14px"},et.touch&&{marginBottom:"24px"}),[`.${tooltipClasses$1.popper}[data-popper-placement*="bottom"] &`]:_extends$2({transformOrigin:"center top",marginTop:"14px"},et.touch&&{marginTop:"24px"})})),TooltipArrow=styled$2("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(tt,et)=>et.arrow})(({theme:tt})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:tt.vars?`rgba(${tt.vars.palette.grey.darkChannel} / 0.9)`:alpha(tt.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1,hystersisTimer=null;function composeEventHandler(tt,et){return nt=>{et&&et(nt),tt(nt)}}const Tooltip=react.exports.forwardRef(function(et,nt){var rt,it,ot,at,st,lt;const ct=useThemeProps({props:et,name:"MuiTooltip"}),{arrow:ft=!1,children:ut,components:dt={},componentsProps:ht={},describeChild:pt=!1,disableFocusListener:gt=!1,disableHoverListener:mt=!1,disableInteractive:yt=!1,disableTouchListener:bt=!1,enterDelay:St=100,enterNextDelay:xt=0,enterTouchDelay:vt=700,followCursor:$t=!1,id:zt,leaveDelay:Nt=0,leaveTouchDelay:wt=1500,onClose:Et,onOpen:Rt,open:Tt,placement:It="bottom",PopperComponent:Pt,PopperProps:Dt={},title:Ct,TransitionComponent:Ot=Grow$1,TransitionProps:Ut}=ct,At=_objectWithoutPropertiesLoose$2(ct,_excluded$2),Mt=useTheme(),jt=Mt.direction==="rtl",[kt,Gt]=react.exports.useState(),[Ht,Jt]=react.exports.useState(null),Vt=react.exports.useRef(!1),Wt=yt||$t,Lt=react.exports.useRef(),Bt=react.exports.useRef(),Ft=react.exports.useRef(),sn=react.exports.useRef(),[Xt,dn]=useControlled({controlled:Tt,default:!1,name:"Tooltip",state:"open"});let Yt=Xt;const yn=useId(zt),Qt=react.exports.useRef(),Kt=react.exports.useCallback(()=>{Qt.current!==void 0&&(document.body.style.WebkitUserSelect=Qt.current,Qt.current=void 0),clearTimeout(sn.current)},[]);react.exports.useEffect(()=>()=>{clearTimeout(Lt.current),clearTimeout(Bt.current),clearTimeout(Ft.current),Kt()},[Kt]);const hn=Vn=>{clearTimeout(hystersisTimer),hystersisOpen=!0,dn(!0),Rt&&!Yt&&Rt(Vn)},vn=useEventCallback(Vn=>{clearTimeout(hystersisTimer),hystersisTimer=setTimeout(()=>{hystersisOpen=!1},800+Nt),dn(!1),Et&&Yt&&Et(Vn),clearTimeout(Lt.current),Lt.current=setTimeout(()=>{Vt.current=!1},Mt.transitions.duration.shortest)}),Sn=Vn=>{Vt.current&&Vn.type!=="touchstart"||(kt&&kt.removeAttribute("title"),clearTimeout(Bt.current),clearTimeout(Ft.current),St||hystersisOpen&&xt?Bt.current=setTimeout(()=>{hn(Vn)},hystersisOpen?xt:St):hn(Vn))},Cn=Vn=>{clearTimeout(Bt.current),clearTimeout(Ft.current),Ft.current=setTimeout(()=>{vn(Vn)},Nt)},{isFocusVisibleRef:cn,onBlur:ln,onFocus:bn,ref:xn}=useIsFocusVisible(),[,Nn]=react.exports.useState(!1),zn=Vn=>{ln(Vn),cn.current===!1&&(Nn(!1),Cn(Vn))},Ln=Vn=>{kt||Gt(Vn.currentTarget),bn(Vn),cn.current===!0&&(Nn(!0),Sn(Vn))},Mn=Vn=>{Vt.current=!0;const Un=ut.props;Un.onTouchStart&&Un.onTouchStart(Vn)},Wn=Sn,Jn=Cn,Zn=Vn=>{Mn(Vn),clearTimeout(Ft.current),clearTimeout(Lt.current),Kt(),Qt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",sn.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Qt.current,Sn(Vn)},vt)},Rn=Vn=>{ut.props.onTouchEnd&&ut.props.onTouchEnd(Vn),Kt(),clearTimeout(Ft.current),Ft.current=setTimeout(()=>{vn(Vn)},wt)};react.exports.useEffect(()=>{if(!Yt)return;function Vn(Un){(Un.key==="Escape"||Un.key==="Esc")&&vn(Un)}return document.addEventListener("keydown",Vn),()=>{document.removeEventListener("keydown",Vn)}},[vn,Yt]);const Kn=useForkRef(Gt,nt),kn=useForkRef(xn,Kn),Bn=useForkRef(ut.ref,kn);Ct===""&&(Yt=!1);const Hn=react.exports.useRef({x:0,y:0}),Qn=react.exports.useRef(),qn=Vn=>{const Un=ut.props;Un.onMouseMove&&Un.onMouseMove(Vn),Hn.current={x:Vn.clientX,y:Vn.clientY},Qn.current&&Qn.current.update()},er={},ir=typeof Ct=="string";pt?(er.title=!Yt&&ir&&!mt?Ct:null,er["aria-describedby"]=Yt?yn:null):(er["aria-label"]=ir?Ct:null,er["aria-labelledby"]=Yt&&!ir?yn:null);const nr=_extends$2({},er,At,ut.props,{className:clsx(At.className,ut.props.className),onTouchStart:Mn,ref:Bn},$t?{onMouseMove:qn}:{}),ur={};bt||(nr.onTouchStart=Zn,nr.onTouchEnd=Rn),mt||(nr.onMouseOver=composeEventHandler(Wn,nr.onMouseOver),nr.onMouseLeave=composeEventHandler(Jn,nr.onMouseLeave),Wt||(ur.onMouseOver=Wn,ur.onMouseLeave=Jn)),gt||(nr.onFocus=composeEventHandler(Ln,nr.onFocus),nr.onBlur=composeEventHandler(zn,nr.onBlur),Wt||(ur.onFocus=Ln,ur.onBlur=zn));const mr=react.exports.useMemo(()=>{var Vn;let Un=[{name:"arrow",enabled:Boolean(Ht),options:{element:Ht,padding:4}}];return(Vn=Dt.popperOptions)!=null&&Vn.modifiers&&(Un=Un.concat(Dt.popperOptions.modifiers)),_extends$2({},Dt.popperOptions,{modifiers:Un})},[Ht,Dt]),Rr=_extends$2({},ct,{isRtl:jt,arrow:ft,disableInteractive:Wt,placement:It,PopperComponentProp:Pt,touch:Vt.current}),$r=useUtilityClasses$1(Rr),Pr=(rt=dt.Popper)!=null?rt:TooltipPopper,Er=(it=(ot=dt.Transition)!=null?ot:Ot)!=null?it:Grow$1,Ir=(at=dt.Tooltip)!=null?at:TooltipTooltip,Nr=(st=dt.Arrow)!=null?st:TooltipArrow,Yr=appendOwnerState(Pr,_extends$2({},Dt,ht.popper),Rr),qr=appendOwnerState(Er,_extends$2({},Ut,ht.transition),Rr),En=appendOwnerState(Ir,_extends$2({},ht.tooltip),Rr),Fn=appendOwnerState(Nr,_extends$2({},ht.arrow),Rr);return jsxRuntime.exports.jsxs(react.exports.Fragment,{children:[react.exports.cloneElement(ut,nr),jsxRuntime.exports.jsx(Pr,_extends$2({as:Pt!=null?Pt:Popper$1,placement:It,anchorEl:$t?{getBoundingClientRect:()=>({top:Hn.current.y,left:Hn.current.x,right:Hn.current.x,bottom:Hn.current.y,width:0,height:0})}:kt,popperRef:Qn,open:kt?Yt:!1,id:yn,transition:!0},ur,Yr,{className:clsx($r.popper,Dt==null?void 0:Dt.className,(lt=ht.popper)==null?void 0:lt.className),popperOptions:mr,children:({TransitionProps:Vn})=>{var Un,Xn;return jsxRuntime.exports.jsx(Er,_extends$2({timeout:Mt.transitions.duration.shorter},Vn,qr,{children:jsxRuntime.exports.jsxs(Ir,_extends$2({},En,{className:clsx($r.tooltip,(Un=ht.tooltip)==null?void 0:Un.className),children:[Ct,ft?jsxRuntime.exports.jsx(Nr,_extends$2({},Fn,{className:clsx($r.arrow,(Xn=ht.arrow)==null?void 0:Xn.className),ref:Jt})):null]}))}))}}))]})});var Tooltip$1=Tooltip;const _excluded$1=["component","direction","spacing","divider","children"];function joinChildren(tt,et){const nt=react.exports.Children.toArray(tt).filter(Boolean);return nt.reduce((rt,it,ot)=>(rt.push(it),ot<nt.length-1&&rt.push(react.exports.cloneElement(et,{key:`separator-${ot}`})),rt),[])}const getSideFromDirection=tt=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[tt],style=({ownerState:tt,theme:et})=>{let nt=_extends$2({display:"flex"},handleBreakpoints({theme:et},resolveBreakpointValues({values:tt.direction,breakpoints:et.breakpoints.values}),rt=>({flexDirection:rt})));if(tt.spacing){const rt=createUnarySpacing(et),it=Object.keys(et.breakpoints.values).reduce((lt,ct)=>((tt.spacing[ct]!=null||tt.direction[ct]!=null)&&(lt[ct]=!0),lt),{}),ot=resolveBreakpointValues({values:tt.direction,base:it}),at=resolveBreakpointValues({values:tt.spacing,base:it});nt=deepmerge(nt,handleBreakpoints({theme:et},at,(lt,ct)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${getSideFromDirection(ct?ot[ct]:tt.direction)}`]:getValue(rt,lt)}})))}return nt},StackRoot=styled$2("div",{name:"MuiStack",slot:"Root",overridesResolver:(tt,et)=>[et.root]})(style),Stack=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiStack"}),it=extendSxProp(rt),{component:ot="div",direction:at="column",spacing:st=0,divider:lt,children:ct}=it,ft=_objectWithoutPropertiesLoose$2(it,_excluded$1),ut={direction:at,spacing:st};return jsxRuntime.exports.jsx(StackRoot,_extends$2({as:ot,ownerState:ut,ref:nt},ft,{children:lt?joinChildren(ct,lt):ct}))});var Stack$1=Stack;function getTextFieldUtilityClass(tt){return generateUtilityClass("MuiTextField",tt)}generateUtilityClasses("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getTextFieldUtilityClass,et)},TextFieldRoot=styled$2(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),TextField=react.exports.forwardRef(function(et,nt){const rt=useThemeProps({props:et,name:"MuiTextField"}),{autoComplete:it,autoFocus:ot=!1,children:at,className:st,color:lt="primary",defaultValue:ct,disabled:ft=!1,error:ut=!1,FormHelperTextProps:dt,fullWidth:ht=!1,helperText:pt,id:gt,InputLabelProps:mt,inputProps:yt,InputProps:bt,inputRef:St,label:xt,maxRows:vt,minRows:$t,multiline:zt=!1,name:Nt,onBlur:wt,onChange:Et,onFocus:Rt,placeholder:Tt,required:It=!1,rows:Pt,select:Dt=!1,SelectProps:Ct,type:Ot,value:Ut,variant:At="outlined"}=rt,Mt=_objectWithoutPropertiesLoose$2(rt,_excluded),jt=_extends$2({},rt,{autoFocus:ot,color:lt,disabled:ft,error:ut,fullWidth:ht,multiline:zt,required:It,select:Dt,variant:At}),kt=useUtilityClasses(jt),Gt={};At==="outlined"&&(mt&&typeof mt.shrink!="undefined"&&(Gt.notched=mt.shrink),Gt.label=xt),Dt&&((!Ct||!Ct.native)&&(Gt.id=void 0),Gt["aria-describedby"]=void 0);const Ht=useId(gt),Jt=pt&&Ht?`${Ht}-helper-text`:void 0,Vt=xt&&Ht?`${Ht}-label`:void 0,Wt=variantComponent[At],Lt=jsxRuntime.exports.jsx(Wt,_extends$2({"aria-describedby":Jt,autoComplete:it,autoFocus:ot,defaultValue:ct,fullWidth:ht,multiline:zt,name:Nt,rows:Pt,maxRows:vt,minRows:$t,type:Ot,value:Ut,id:Ht,inputRef:St,onBlur:wt,onChange:Et,onFocus:Rt,placeholder:Tt,inputProps:yt},Gt,bt));return jsxRuntime.exports.jsxs(TextFieldRoot,_extends$2({className:clsx(kt.root,st),disabled:ft,error:ut,fullWidth:ht,ref:nt,required:It,color:lt,variant:At,ownerState:jt},Mt,{children:[xt!=null&&xt!==""&&jsxRuntime.exports.jsx(InputLabel$1,_extends$2({htmlFor:Ht,id:Vt},mt,{children:xt})),Dt?jsxRuntime.exports.jsx(Select$1$1,_extends$2({"aria-describedby":Jt,id:Ht,labelId:Vt,value:Ut,input:Lt},Ct,{children:at})):Lt,pt&&jsxRuntime.exports.jsx(FormHelperText$1,_extends$2({id:Jt},dt,{children:pt}))]}))});var TextField$1=TextField,__defProp2=Object.defineProperty,__getOwnPropSymbols2=Object.getOwnPropertySymbols,__hasOwnProp2=Object.prototype.hasOwnProperty,__propIsEnum2=Object.prototype.propertyIsEnumerable,__defNormalProp2=(tt,et,nt)=>et in tt?__defProp2(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[et]=nt,__spreadValues2=(tt,et)=>{for(var nt in et||(et={}))__hasOwnProp2.call(et,nt)&&__defNormalProp2(tt,nt,et[nt]);if(__getOwnPropSymbols2)for(var nt of __getOwnPropSymbols2(et))__propIsEnum2.call(et,nt)&&__defNormalProp2(tt,nt,et[nt]);return tt};const baseTheme$1=createTheme({typography:{fontFamily:"'Moderat', 'Inter', 'Source Sans Pro', sans-serif",h1:{fontStyle:"normal",fontWeight:"normal",fontSize:"2rem",lineHeight:"2.5rem",letterSpacing:0},h2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1.5rem",lineHeight:"2.125rem",letterSpacing:"0.069rem",fontFeatureSettings:'"zero" on'},h3:{fontStyle:"normal",fontWeight:500,fontSize:"1.125rem",lineHeight:"1.688rem",letterSpacing:"0.069rem"},h4:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.375rem",letterSpacing:"0.069rem",textTransform:"uppercase"},h5:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.125rem",letterSpacing:"0.038rem",textTransform:"uppercase"},h6:{fontStyle:"normal",fontWeight:"normal",fontSize:"0.625rem",lineHeight:"0.938rem",letterSpacing:"0.063rem"},body1:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on'},body2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on',fontVariantNumeric:"tabular-nums"},button:{fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053.rem",textTransform:"uppercase"}}}),lightPalette$1={palette:{mode:"light",success:{main:"#34dea9",dark:"#2d8376"},info:{main:"#297ceb",dark:"#256faf",light:"#3BABFF"},error:{main:"#fd76a7",dark:"#7f5072"},warning:{main:"#ffb179",dark:"#94645f"},primary:{main:"#657197",light:"#BAC4E2",dark:"#3B4668"},secondary:{main:"#3babff",dark:"#76a7dc"},background:{default:"#FFFFFF",paper:"#F1F3F9"},common:{black:"#ffffff",white:"#000000"}}},darkPalette$1={palette:{mode:"dark",primary:{main:"#657197",dark:"#3B4668",light:"#BAC4E2",contrastText:"#ffffff"},secondary:{main:"#18d2ff",light:"#18d2ff",dark:"#256faf"},background:{default:"#2d3855",paper:"#2d3855"},common:{black:"#000000",white:"#ffffff"},text:{primary:"#bac4e2"},error:{main:"#ea719d",dark:"#7F5072"},warning:{main:"#a961e4",dark:"#564A94"},info:{main:"#20a0ff",dark:"#256FAF"},success:{main:"#2ec495",dark:"#2D8376"}}};function createComponents$1(tt){const et={components:{MuiCssBaseline:{styleOverrides:{body:{"&::-webkit-scrollbar, & *::-webkit-scrollbar":{background:"transparent",width:"0.5rem",height:"0.5rem"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{background:tt.palette.primary.light,borderRadius:"0.25rem"},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:tt.palette.primary.light},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:tt.palette.primary.light}}}},MuiLink:{styleOverrides:{root:{color:tt.palette.secondary.main}}},MuiDialogActions:{styleOverrides:{root:{padding:baseTheme$1.spacing(3)}}},MuiInputLabel:{styleOverrides:{root:{color:tt.palette.primary.light,"&.Mui-focused":{color:tt.palette.secondary.main}}}},MuiFilledInput:{styleOverrides:{root:{backgroundColor:tt.palette.primary.dark,borderTop:"1px solid transparent",":before":{borderBottom:`1px dotted ${tt.palette.primary.light}`},"&.Mui-focused":{background:tt.palette.common.black,border:`1px solid ${tt.palette.secondary.main}`,borderBottom:"none",borderTop:`1px solid ${tt.palette.secondary.main}`},":after":{borderBottom:`1px solid ${tt.palette.secondary.main}`}}}},MuiOutlinedInput:{styleOverrides:{input:{"&:-webkit-autofill":{"-webkit-box-shadow":`0 0 0 100px ${tt.palette.primary.dark} inset`,"-webkit-text-fill-color":tt.palette.primary.light}}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"white",padding:baseTheme$1.spacing(1.2)}}},MuiDialogTitle:{styleOverrides:{root:__spreadValues2({color:tt.palette.common.white,fontStyle:"normal",fontWeight:500},baseTheme$1.typography.h3)}},MuiDialogContentText:{styleOverrides:{root:{color:tt.palette.primary.light}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{willChange:"background-color , color , border-color , box-shadow",transition:"background-color 200ms ease-in-out 0ms , color 200ms ease-in-out 0ms , border-color 200ms ease-in-out 0ms , box-shadow 200ms ease-in-out 0ms",borderRadius:40,boxShadow:`0 0 0 0rem ${tt.palette.primary.main}`,"&.Mui-disabled":{color:tt.palette.primary.main}},sizeSmall:{height:"1.25rem",fontWeight:500,fontSize:"0.688rem",lineHeight:"0.825rem",letterSpacing:"0.047rem"},sizeMedium:{height:"1.813rem",fontWeight:500},sizeLarge:{height:"2.563rem",fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053rem"},containedPrimary:{background:tt.palette.primary.light,color:tt.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${tt.palette.primary.light}`,background:tt.palette.primary.light}}},containedSecondary:{color:tt.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${tt.palette.secondary.main}`,background:tt.palette.secondary.main}}},outlinedPrimary:{color:tt.palette.primary.light}}},MuiDialog:{styleOverrides:{paper:{background:tt.palette.background.paper}}},MuiNativeSelect:{styleOverrides:{root:{backgroundColor:tt.palette.primary.dark,borderTop:"1px solid transparent"},icon:{color:tt.palette.primary.light}}},MuiSelect:{styleOverrides:{icon:{color:tt.palette.primary.light}}},MuiSnackbarContent:{styleOverrides:{root:{backgroundColor:tt.palette.primary.dark,color:tt.palette.primary.light}}},MuiSwitch:{styleOverrides:{switchBase:{"&.Mui-checked+.MuiSwitch-track":{backgroundColor:tt.palette.common.black},"&.Mui-checked .MuiSwitch-thumb":{backgroundColor:tt.palette.secondary.main}},thumb:{backgroundColor:tt.palette.primary.light},track:{backgroundColor:tt.palette.common.black}}}}};return createTheme(tt,et)}const darkTheme=createComponents$1(createTheme(baseTheme$1,darkPalette$1)),lightTheme=createComponents$1(createTheme(baseTheme$1,lightPalette$1)),defaultTheme=darkTheme,FormantContext=react.exports.createContext(void 0);function FormantProvider({theme:tt,children:et}){const nt=createTheme(tt==="dark"?darkTheme:tt==="light"?lightTheme:defaultTheme),rt={};return react.exports.createElement(ThemeProvider,{theme:nt},react.exports.createElement(CssBaseline,null,react.exports.createElement(FormantContext.Provider,{value:rt},et)))}var commonjsGlobal$2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},lib$1={},uaParser_min$1={exports:{}};(function(tt,et){(function(nt,rt){var it="1.0.2",ot="",at="?",st="function",lt="undefined",ct="object",ft="string",ut="major",dt="model",ht="name",pt="type",gt="vendor",mt="version",yt="architecture",bt="console",St="mobile",xt="tablet",vt="smarttv",$t="wearable",zt="embedded",Nt=255,wt="Amazon",Et="Apple",Rt="ASUS",Tt="BlackBerry",It="Browser",Pt="Chrome",Dt="Edge",Ct="Firefox",Ot="Google",Ut="Huawei",At="LG",Mt="Microsoft",jt="Motorola",kt="Opera",Gt="Samsung",Ht="Sony",Jt="Xiaomi",Vt="Zebra",Wt="Facebook",Lt=function(cn,ln){var bn={};for(var xn in cn)ln[xn]&&ln[xn].length%2===0?bn[xn]=ln[xn].concat(cn[xn]):bn[xn]=cn[xn];return bn},Bt=function(cn){for(var ln={},bn=0;bn<cn.length;bn++)ln[cn[bn].toUpperCase()]=cn[bn];return ln},Ft=function(cn,ln){return typeof cn===ft?sn(ln).indexOf(sn(cn))!==-1:!1},sn=function(cn){return cn.toLowerCase()},Xt=function(cn){return typeof cn===ft?cn.replace(/[^\d\.]/g,ot).split(".")[0]:rt},dn=function(cn,ln){if(typeof cn===ft)return cn=cn.replace(/^\s\s*/,ot).replace(/\s\s*$/,ot),typeof ln===lt?cn:cn.substring(0,Nt)},Yt=function(cn,ln){for(var bn=0,xn,Nn,zn,Ln,Mn,Wn;bn<ln.length&&!Mn;){var Jn=ln[bn],Zn=ln[bn+1];for(xn=Nn=0;xn<Jn.length&&!Mn;)if(Mn=Jn[xn++].exec(cn),Mn)for(zn=0;zn<Zn.length;zn++)Wn=Mn[++Nn],Ln=Zn[zn],typeof Ln===ct&&Ln.length>0?Ln.length===2?typeof Ln[1]==st?this[Ln[0]]=Ln[1].call(this,Wn):this[Ln[0]]=Ln[1]:Ln.length===3?typeof Ln[1]===st&&!(Ln[1].exec&&Ln[1].test)?this[Ln[0]]=Wn?Ln[1].call(this,Wn,Ln[2]):rt:this[Ln[0]]=Wn?Wn.replace(Ln[1],Ln[2]):rt:Ln.length===4&&(this[Ln[0]]=Wn?Ln[3].call(this,Wn.replace(Ln[1],Ln[2])):rt):this[Ln]=Wn||rt;bn+=2}},yn=function(cn,ln){for(var bn in ln)if(typeof ln[bn]===ct&&ln[bn].length>0){for(var xn=0;xn<ln[bn].length;xn++)if(Ft(ln[bn][xn],cn))return bn===at?rt:bn}else if(Ft(ln[bn],cn))return bn===at?rt:bn;return cn},Qt={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Kt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},hn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[mt,[ht,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[mt,[ht,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ht,mt],[/opios[\/ ]+([\w\.]+)/i],[mt,[ht,kt+" Mini"]],[/\bopr\/([\w\.]+)/i],[mt,[ht,kt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[ht,mt],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[mt,[ht,"UC"+It]],[/\bqbcore\/([\w\.]+)/i],[mt,[ht,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[mt,[ht,"WeChat"]],[/konqueror\/([\w\.]+)/i],[mt,[ht,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[mt,[ht,"IE"]],[/yabrowser\/([\w\.]+)/i],[mt,[ht,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[ht,/(.+)/,"$1 Secure "+It],mt],[/\bfocus\/([\w\.]+)/i],[mt,[ht,Ct+" Focus"]],[/\bopt\/([\w\.]+)/i],[mt,[ht,kt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[mt,[ht,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[mt,[ht,"Dolphin"]],[/coast\/([\w\.]+)/i],[mt,[ht,kt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[mt,[ht,"MIUI "+It]],[/fxios\/([-\w\.]+)/i],[mt,[ht,Ct]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ht,"360 "+It]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[ht,/(.+)/,"$1 "+It],mt],[/(comodo_dragon)\/([\w\.]+)/i],[[ht,/_/g," "],mt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[ht,mt],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[ht],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ht,Wt],mt],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[ht,mt],[/\bgsa\/([\w\.]+) .*safari\//i],[mt,[ht,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[mt,[ht,Pt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ht,Pt+" WebView"],mt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[mt,[ht,"Android "+It]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ht,mt],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[mt,[ht,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[mt,ht],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ht,[mt,yn,Qt]],[/(webkit|khtml)\/([\w\.]+)/i],[ht,mt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ht,"Netscape"],mt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[mt,[ht,Ct+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ht,mt]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[yt,"amd64"]],[/(ia32(?=;))/i],[[yt,sn]],[/((?:i[346]|x)86)[;\)]/i],[[yt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[yt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[yt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[yt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[yt,/ower/,ot,sn]],[/(sun4\w)[;\)]/i],[[yt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[yt,sn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[dt,[gt,Gt],[pt,xt]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[dt,[gt,Gt],[pt,St]],[/\((ip(?:hone|od)[\w ]*);/i],[dt,[gt,Et],[pt,St]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[dt,[gt,Et],[pt,xt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[dt,[gt,Ut],[pt,xt]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[dt,[gt,Ut],[pt,St]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[dt,/_/g," "],[gt,Jt],[pt,St]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[dt,/_/g," "],[gt,Jt],[pt,xt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[dt,[gt,"OPPO"],[pt,St]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[dt,[gt,"Vivo"],[pt,St]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[dt,[gt,"Realme"],[pt,St]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[dt,[gt,jt],[pt,St]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[dt,[gt,jt],[pt,xt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[dt,[gt,At],[pt,xt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[dt,[gt,At],[pt,St]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[dt,[gt,"Lenovo"],[pt,xt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[dt,/_/g," "],[gt,"Nokia"],[pt,St]],[/(pixel c)\b/i],[dt,[gt,Ot],[pt,xt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[dt,[gt,Ot],[pt,St]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[dt,[gt,Ht],[pt,St]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[dt,"Xperia Tablet"],[gt,Ht],[pt,xt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[dt,[gt,"OnePlus"],[pt,St]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[dt,[gt,wt],[pt,xt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[dt,/(.+)/g,"Fire Phone $1"],[gt,wt],[pt,St]],[/(playbook);[-\w\),; ]+(rim)/i],[dt,gt,[pt,xt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[dt,[gt,Tt],[pt,St]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[dt,[gt,Rt],[pt,xt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[dt,[gt,Rt],[pt,St]],[/(nexus 9)/i],[dt,[gt,"HTC"],[pt,xt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[gt,[dt,/_/g," "],[pt,St]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[dt,[gt,"Acer"],[pt,xt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[dt,[gt,"Meizu"],[pt,St]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[dt,[gt,"Sharp"],[pt,St]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[gt,dt,[pt,St]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[gt,dt,[pt,xt]],[/(surface duo)/i],[dt,[gt,Mt],[pt,xt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[dt,[gt,"Fairphone"],[pt,St]],[/(u304aa)/i],[dt,[gt,"AT&T"],[pt,St]],[/\bsie-(\w*)/i],[dt,[gt,"Siemens"],[pt,St]],[/\b(rct\w+) b/i],[dt,[gt,"RCA"],[pt,xt]],[/\b(venue[\d ]{2,7}) b/i],[dt,[gt,"Dell"],[pt,xt]],[/\b(q(?:mv|ta)\w+) b/i],[dt,[gt,"Verizon"],[pt,xt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[dt,[gt,"Barnes & Noble"],[pt,xt]],[/\b(tm\d{3}\w+) b/i],[dt,[gt,"NuVision"],[pt,xt]],[/\b(k88) b/i],[dt,[gt,"ZTE"],[pt,xt]],[/\b(nx\d{3}j) b/i],[dt,[gt,"ZTE"],[pt,St]],[/\b(gen\d{3}) b.+49h/i],[dt,[gt,"Swiss"],[pt,St]],[/\b(zur\d{3}) b/i],[dt,[gt,"Swiss"],[pt,xt]],[/\b((zeki)?tb.*\b) b/i],[dt,[gt,"Zeki"],[pt,xt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[gt,"Dragon Touch"],dt,[pt,xt]],[/\b(ns-?\w{0,9}) b/i],[dt,[gt,"Insignia"],[pt,xt]],[/\b((nxa|next)-?\w{0,9}) b/i],[dt,[gt,"NextBook"],[pt,xt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[gt,"Voice"],dt,[pt,St]],[/\b(lvtel\-)?(v1[12]) b/i],[[gt,"LvTel"],dt,[pt,St]],[/\b(ph-1) /i],[dt,[gt,"Essential"],[pt,St]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[dt,[gt,"Envizen"],[pt,xt]],[/\b(trio[-\w\. ]+) b/i],[dt,[gt,"MachSpeed"],[pt,xt]],[/\btu_(1491) b/i],[dt,[gt,"Rotor"],[pt,xt]],[/(shield[\w ]+) b/i],[dt,[gt,"Nvidia"],[pt,xt]],[/(sprint) (\w+)/i],[gt,dt,[pt,St]],[/(kin\.[onetw]{3})/i],[[dt,/\./g," "],[gt,Mt],[pt,St]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[dt,[gt,Vt],[pt,xt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[dt,[gt,Vt],[pt,St]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[gt,dt,[pt,bt]],[/droid.+; (shield) bui/i],[dt,[gt,"Nvidia"],[pt,bt]],[/(playstation [345portablevi]+)/i],[dt,[gt,Ht],[pt,bt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[dt,[gt,Mt],[pt,bt]],[/smart-tv.+(samsung)/i],[gt,[pt,vt]],[/hbbtv.+maple;(\d+)/i],[[dt,/^/,"SmartTV"],[gt,Gt],[pt,vt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[gt,At],[pt,vt]],[/(apple) ?tv/i],[gt,[dt,Et+" TV"],[pt,vt]],[/crkey/i],[[dt,Pt+"cast"],[gt,Ot],[pt,vt]],[/droid.+aft(\w)( bui|\))/i],[dt,[gt,wt],[pt,vt]],[/\(dtv[\);].+(aquos)/i],[dt,[gt,"Sharp"],[pt,vt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[gt,dn],[dt,dn],[pt,vt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[pt,vt]],[/((pebble))app/i],[gt,dt,[pt,$t]],[/droid.+; (glass) \d/i],[dt,[gt,Ot],[pt,$t]],[/droid.+; (wt63?0{2,3})\)/i],[dt,[gt,Vt],[pt,$t]],[/(quest( 2)?)/i],[dt,[gt,Wt],[pt,$t]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[gt,[pt,zt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[dt,[pt,St]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[dt,[pt,xt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[pt,xt]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[pt,St]],[/(android[-\w\. ]{0,9});.+buil/i],[dt,[gt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[mt,[ht,Dt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[mt,[ht,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[ht,mt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[mt,ht]],os:[[/microsoft (windows) (vista|xp)/i],[ht,mt],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[ht,[mt,yn,Kt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[ht,"Windows"],[mt,yn,Kt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[mt,/_/g,"."],[ht,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ht,"Mac OS"],[mt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[mt,ht],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ht,mt],[/\(bb(10);/i],[mt,[ht,Tt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[mt,[ht,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[mt,[ht,Ct+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[mt,[ht,"webOS"]],[/crkey\/([\d\.]+)/i],[mt,[ht,Pt+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[ht,"Chromium OS"],mt],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ht,mt],[/(sunos) ?([\w\.\d]*)/i],[[ht,"Solaris"],mt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[ht,mt]]},vn=function(cn,ln){if(typeof cn===ct&&(ln=cn,cn=rt),!(this instanceof vn))return new vn(cn,ln).getResult();var bn=cn||(typeof nt!==lt&&nt.navigator&&nt.navigator.userAgent?nt.navigator.userAgent:ot),xn=ln?Lt(hn,ln):hn;return this.getBrowser=function(){var Nn={};return Nn[ht]=rt,Nn[mt]=rt,Yt.call(Nn,bn,xn.browser),Nn.major=Xt(Nn.version),Nn},this.getCPU=function(){var Nn={};return Nn[yt]=rt,Yt.call(Nn,bn,xn.cpu),Nn},this.getDevice=function(){var Nn={};return Nn[gt]=rt,Nn[dt]=rt,Nn[pt]=rt,Yt.call(Nn,bn,xn.device),Nn},this.getEngine=function(){var Nn={};return Nn[ht]=rt,Nn[mt]=rt,Yt.call(Nn,bn,xn.engine),Nn},this.getOS=function(){var Nn={};return Nn[ht]=rt,Nn[mt]=rt,Yt.call(Nn,bn,xn.os),Nn},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return bn},this.setUA=function(Nn){return bn=typeof Nn===ft&&Nn.length>Nt?dn(Nn,Nt):Nn,this},this.setUA(bn),this};vn.VERSION=it,vn.BROWSER=Bt([ht,mt,ut]),vn.CPU=Bt([yt]),vn.DEVICE=Bt([dt,gt,pt,bt,St,vt,xt,$t,zt]),vn.ENGINE=vn.OS=Bt([ht,mt]),tt.exports&&(et=tt.exports=vn),et.UAParser=vn;var Sn=typeof nt!==lt&&(nt.jQuery||nt.Zepto);if(Sn&&!Sn.ua){var Cn=new vn;Sn.ua=Cn.getResult(),Sn.ua.get=function(){return Cn.getUA()},Sn.ua.set=function(cn){Cn.setUA(cn);var ln=Cn.getResult();for(var bn in ln)Sn.ua[bn]=ln[bn]}}})(typeof window=="object"?window:commonjsGlobal$2)})(uaParser_min$1,uaParser_min$1.exports);Object.defineProperty(lib$1,"__esModule",{value:!0});function _interopDefault$1(tt){return tt&&typeof tt=="object"&&"default"in tt?tt.default:tt}var React$1=React__default$2,React__default$1=_interopDefault$1(React$1),UAParser$1=uaParser_min$1.exports,ClientUAInstance$1=new UAParser$1,browser$1=ClientUAInstance$1.getBrowser(),cpu$1=ClientUAInstance$1.getCPU(),device$1=ClientUAInstance$1.getDevice(),engine$1=ClientUAInstance$1.getEngine(),os$1=ClientUAInstance$1.getOS(),ua$1=ClientUAInstance$1.getUA(),setUa$1=function(et){return ClientUAInstance$1.setUA(et)},parseUserAgent$1=function(et){if(!et){console.error("No userAgent string was provided");return}var nt=new UAParser$1(et);return{UA:nt,browser:nt.getBrowser(),cpu:nt.getCPU(),device:nt.getDevice(),engine:nt.getEngine(),os:nt.getOS(),ua:nt.getUA(),setUserAgent:function(it){return nt.setUA(it)}}},UAHelper$1=Object.freeze({ClientUAInstance:ClientUAInstance$1,browser:browser$1,cpu:cpu$1,device:device$1,engine:engine$1,os:os$1,ua:ua$1,setUa:setUa$1,parseUserAgent:parseUserAgent$1});function ownKeys$3(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread2$1(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$3(Object(nt),!0).forEach(function(rt){_defineProperty$4(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys$3(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _typeof$2(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(et){return typeof et}:_typeof$2=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$2(tt)}function _classCallCheck$1(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}function _createClass$1(tt,et,nt){return et&&_defineProperties$1(tt.prototype,et),nt&&_defineProperties$1(tt,nt),tt}function _defineProperty$4(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}function _extends$1(){return _extends$1=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$1.apply(this,arguments)}function _inherits$1(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),et&&_setPrototypeOf$1(tt,et)}function _getPrototypeOf$1(tt){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},_getPrototypeOf$1(tt)}function _setPrototypeOf$1(tt,et){return _setPrototypeOf$1=Object.setPrototypeOf||function(rt,it){return rt.__proto__=it,rt},_setPrototypeOf$1(tt,et)}function _objectWithoutPropertiesLoose$1(tt,et){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,ot;for(ot=0;ot<rt.length;ot++)it=rt[ot],!(et.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}function _objectWithoutProperties$1(tt,et){if(tt==null)return{};var nt=_objectWithoutPropertiesLoose$1(tt,et),rt,it;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(tt);for(it=0;it<ot.length;it++)rt=ot[it],!(et.indexOf(rt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(tt,rt)||(nt[rt]=tt[rt]))}return nt}function _assertThisInitialized$1(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function _possibleConstructorReturn$1(tt,et){if(et&&(typeof et=="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(tt)}function _slicedToArray$3(tt,et){return _arrayWithHoles$3(tt)||_iterableToArrayLimit$3(tt,et)||_unsupportedIterableToArray$3(tt,et)||_nonIterableRest$3()}function _arrayWithHoles$3(tt){if(Array.isArray(tt))return tt}function _iterableToArrayLimit$3(tt,et){var nt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(nt!=null){var rt=[],it=!0,ot=!1,at,st;try{for(nt=nt.call(tt);!(it=(at=nt.next()).done)&&(rt.push(at.value),!(et&&rt.length===et));it=!0);}catch(lt){ot=!0,st=lt}finally{try{!it&&nt.return!=null&&nt.return()}finally{if(ot)throw st}}return rt}}function _unsupportedIterableToArray$3(tt,et){if(!!tt){if(typeof tt=="string")return _arrayLikeToArray$3(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray$3(tt,et)}}function _arrayLikeToArray$3(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes$1={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes$1={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes$1={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes$1={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType$1=function(et){switch(et){case DeviceTypes$1.Mobile:return{isMobile:!0};case DeviceTypes$1.Tablet:return{isTablet:!0};case DeviceTypes$1.SmartTv:return{isSmartTV:!0};case DeviceTypes$1.Console:return{isConsole:!0};case DeviceTypes$1.Wearable:return{isWearable:!0};case DeviceTypes$1.Browser:return{isBrowser:!0};case DeviceTypes$1.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes$1}},setUserAgent$1=function(et){return setUa$1(et)},setDefaults$1=function(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return et||nt},getNavigatorInstance$1=function(){return typeof window!="undefined"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check$1=function(et){var nt=getNavigatorInstance$1();return nt&&nt.platform&&(nt.platform.indexOf(et)!==-1||nt.platform==="MacIntel"&&nt.maxTouchPoints>1&&!window.MSStream)},browserPayload$1=function(et,nt,rt,it,ot){return{isBrowser:et,browserMajorVersion:setDefaults$1(nt.major),browserFullVersion:setDefaults$1(nt.version),browserName:setDefaults$1(nt.name),engineName:setDefaults$1(rt.name),engineVersion:setDefaults$1(rt.version),osName:setDefaults$1(it.name),osVersion:setDefaults$1(it.version),userAgent:setDefaults$1(ot)}},mobilePayload$1=function(et,nt,rt,it){return _objectSpread2$1({},et,{vendor:setDefaults$1(nt.vendor),model:setDefaults$1(nt.model),os:setDefaults$1(rt.name),osVersion:setDefaults$1(rt.version),ua:setDefaults$1(it)})},smartTvPayload$1=function(et,nt,rt,it){return{isSmartTV:et,engineName:setDefaults$1(nt.name),engineVersion:setDefaults$1(nt.version),osName:setDefaults$1(rt.name),osVersion:setDefaults$1(rt.version),userAgent:setDefaults$1(it)}},consolePayload$1=function(et,nt,rt,it){return{isConsole:et,engineName:setDefaults$1(nt.name),engineVersion:setDefaults$1(nt.version),osName:setDefaults$1(rt.name),osVersion:setDefaults$1(rt.version),userAgent:setDefaults$1(it)}},wearablePayload$1=function(et,nt,rt,it){return{isWearable:et,engineName:setDefaults$1(nt.name),engineVersion:setDefaults$1(nt.version),osName:setDefaults$1(rt.name),osVersion:setDefaults$1(rt.version),userAgent:setDefaults$1(it)}},embeddedPayload$1=function(et,nt,rt,it,ot){return{isEmbedded:et,vendor:setDefaults$1(nt.vendor),model:setDefaults$1(nt.model),engineName:setDefaults$1(rt.name),engineVersion:setDefaults$1(rt.version),osName:setDefaults$1(it.name),osVersion:setDefaults$1(it.version),userAgent:setDefaults$1(ot)}};function deviceDetect$1(tt){var et=tt?parseUserAgent$1(tt):UAHelper$1,nt=et.device,rt=et.browser,it=et.engine,ot=et.os,at=et.ua,st=checkDeviceType$1(nt.type),lt=st.isBrowser,ct=st.isMobile,ft=st.isTablet,ut=st.isSmartTV,dt=st.isConsole,ht=st.isWearable,pt=st.isEmbedded;if(lt)return browserPayload$1(lt,rt,it,ot,at);if(ut)return smartTvPayload$1(ut,it,ot,at);if(dt)return consolePayload$1(dt,it,ot,at);if(ct||ft)return mobilePayload$1(st,nt,ot,at);if(ht)return wearablePayload$1(ht,it,ot,at);if(pt)return embeddedPayload$1(pt,nt,it,ot,at)}var isMobileType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Mobile},isTabletType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Tablet},isMobileAndTabletType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Mobile||nt===DeviceTypes$1.Tablet},isSmartTVType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.SmartTv},isBrowserType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Browser},isWearableType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Wearable},isConsoleType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Console},isEmbeddedType$1=function(et){var nt=et.type;return nt===DeviceTypes$1.Embedded},getMobileVendor$1=function(et){var nt=et.vendor;return setDefaults$1(nt)},getMobileModel$1=function(et){var nt=et.model;return setDefaults$1(nt)},getDeviceType$1=function(et){var nt=et.type;return setDefaults$1(nt,"browser")},isAndroidType$1=function(et){var nt=et.name;return nt===OsTypes$1.Android},isWindowsType$1=function(et){var nt=et.name;return nt===OsTypes$1.Windows},isMacOsType$1=function(et){var nt=et.name;return nt===OsTypes$1.MAC_OS},isWinPhoneType$1=function(et){var nt=et.name;return nt===OsTypes$1.WindowsPhone},isIOSType$1=function(et){var nt=et.name;return nt===OsTypes$1.IOS},getOsVersion$1=function(et){var nt=et.version;return setDefaults$1(nt)},getOsName$1=function(et){var nt=et.name;return setDefaults$1(nt)},isChromeType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Chrome},isFirefoxType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Firefox},isChromiumType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Chromium},isEdgeType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Edge},isYandexType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Yandex},isSafariType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Safari||nt===BrowserTypes$1.MobileSafari},isMobileSafariType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.MobileSafari},isOperaType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.Opera},isIEType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.InternetExplorer||nt===BrowserTypes$1.Ie},isMIUIType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.MIUI},isSamsungBrowserType$1=function(et){var nt=et.name;return nt===BrowserTypes$1.SamsungBrowser},getBrowserFullVersion$1=function(et){var nt=et.version;return setDefaults$1(nt)},getBrowserVersion$1=function(et){var nt=et.major;return setDefaults$1(nt)},getBrowserName$1=function(et){var nt=et.name;return setDefaults$1(nt)},getEngineName$1=function(et){var nt=et.name;return setDefaults$1(nt)},getEngineVersion$1=function(et){var nt=et.version;return setDefaults$1(nt)},isElectronType$1=function(){var et=getNavigatorInstance$1(),nt=et&&et.userAgent&&et.userAgent.toLowerCase();return typeof nt=="string"?/electron/.test(nt):!1},isEdgeChromiumType$1=function(et){return typeof et=="string"&&et.indexOf("Edg/")!==-1},getIOS13$1=function(){var et=getNavigatorInstance$1();return et&&(/iPad|iPhone|iPod/.test(et.platform)||et.platform==="MacIntel"&&et.maxTouchPoints>1)&&!window.MSStream},getIPad13$1=function(){return isIOS13Check$1("iPad")},getIphone13$1=function(){return isIOS13Check$1("iPhone")},getIPod13$1=function(){return isIOS13Check$1("iPod")},getUseragent$1=function(et){return setDefaults$1(et)};function buildSelectorsObject$1(tt){var et=tt||UAHelper$1,nt=et.device,rt=et.browser,it=et.os,ot=et.engine,at=et.ua;return{isSmartTV:isSmartTVType$1(nt),isConsole:isConsoleType$1(nt),isWearable:isWearableType$1(nt),isEmbedded:isEmbeddedType$1(nt),isMobileSafari:isMobileSafariType$1(rt)||getIPad13$1(),isChromium:isChromiumType$1(rt),isMobile:isMobileAndTabletType$1(nt)||getIPad13$1(),isMobileOnly:isMobileType$1(nt),isTablet:isTabletType$1(nt)||getIPad13$1(),isBrowser:isBrowserType$1(nt),isDesktop:isBrowserType$1(nt),isAndroid:isAndroidType$1(it),isWinPhone:isWinPhoneType$1(it),isIOS:isIOSType$1(it)||getIPad13$1(),isChrome:isChromeType$1(rt),isFirefox:isFirefoxType$1(rt),isSafari:isSafariType$1(rt),isOpera:isOperaType$1(rt),isIE:isIEType$1(rt),osVersion:getOsVersion$1(it),osName:getOsName$1(it),fullBrowserVersion:getBrowserFullVersion$1(rt),browserVersion:getBrowserVersion$1(rt),browserName:getBrowserName$1(rt),mobileVendor:getMobileVendor$1(nt),mobileModel:getMobileModel$1(nt),engineName:getEngineName$1(ot),engineVersion:getEngineVersion$1(ot),getUA:getUseragent$1(at),isEdge:isEdgeType$1(rt)||isEdgeChromiumType$1(at),isYandex:isYandexType$1(rt),deviceType:getDeviceType$1(nt),isIOS13:getIOS13$1(),isIPad13:getIPad13$1(),isIPhone13:getIphone13$1(),isIPod13:getIPod13$1(),isElectron:isElectronType$1(),isEdgeChromium:isEdgeChromiumType$1(at),isLegacyEdge:isEdgeType$1(rt)&&!isEdgeChromiumType$1(at),isWindows:isWindowsType$1(it),isMacOs:isMacOsType$1(it),isMIUI:isMIUIType$1(rt),isSamsungBrowser:isSamsungBrowserType$1(rt)}}var isSmartTV$1=isSmartTVType$1(device$1),isConsole$1=isConsoleType$1(device$1),isWearable$1=isWearableType$1(device$1),isEmbedded$1=isEmbeddedType$1(device$1),isMobileSafari$1=isMobileSafariType$1(browser$1)||getIPad13$1(),isChromium$1=isChromiumType$1(browser$1),isMobile$1=isMobileAndTabletType$1(device$1)||getIPad13$1(),isMobileOnly$1=isMobileType$1(device$1),isTablet$1=isTabletType$1(device$1)||getIPad13$1(),isBrowser$1=isBrowserType$1(device$1),isDesktop$1=isBrowserType$1(device$1),isAndroid$1=isAndroidType$1(os$1),isWinPhone$1=isWinPhoneType$1(os$1),isIOS$1=isIOSType$1(os$1)||getIPad13$1(),isChrome$1=isChromeType$1(browser$1),isFirefox$1=isFirefoxType$1(browser$1),isSafari$1=isSafariType$1(browser$1),isOpera$1=isOperaType$1(browser$1),isIE$1=isIEType$1(browser$1),osVersion$1=getOsVersion$1(os$1),osName$1=getOsName$1(os$1),fullBrowserVersion$1=getBrowserFullVersion$1(browser$1),browserVersion$1=getBrowserVersion$1(browser$1),browserName$1=getBrowserName$1(browser$1),mobileVendor$1=getMobileVendor$1(device$1),mobileModel$1=getMobileModel$1(device$1),engineName$1=getEngineName$1(engine$1),engineVersion$1=getEngineVersion$1(engine$1),getUA$1=getUseragent$1(ua$1),isEdge$1=isEdgeType$1(browser$1)||isEdgeChromiumType$1(ua$1),isYandex$1=isYandexType$1(browser$1),deviceType$1=getDeviceType$1(device$1),isIOS13$1=getIOS13$1(),isIPad13$1=getIPad13$1(),isIPhone13$1=getIphone13$1(),isIPod13$1=getIPod13$1(),isElectron$1=isElectronType$1(),isEdgeChromium$1=isEdgeChromiumType$1(ua$1),isLegacyEdge$1=isEdgeType$1(browser$1)&&!isEdgeChromiumType$1(ua$1),isWindows$1=isWindowsType$1(os$1),isMacOs$1=isMacOsType$1(os$1),isMIUI$1=isMIUIType$1(browser$1),isSamsungBrowser$1=isSamsungBrowserType$1(browser$1),getSelectorsByUserAgent$1=function(et){if(!et||typeof et!="string"){console.error("No valid user agent string was provided");return}var nt=parseUserAgent$1(et),rt=nt.device,it=nt.browser,ot=nt.os,at=nt.engine,st=nt.ua;return buildSelectorsObject$1({device:rt,browser:it,os:ot,engine:at,ua:st})},AndroidView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isAndroid$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},BrowserView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isBrowser$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},IEView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isIE$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},IOSView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isIOS$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},MobileView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isMobile$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},TabletView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isTablet$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},WinPhoneView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isWinPhone$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},MobileOnlyView$1=function(et){var nt=et.renderWithFragment,rt=et.children;et.viewClassName,et.style;var it=_objectWithoutProperties$1(et,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},SmartTVView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isSmartTV$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},ConsoleView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isConsole$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},WearableView$1=function(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties$1(et,["renderWithFragment","children"]);return isWearable$1?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",it,rt):null},CustomView$1=function(et){var nt=et.renderWithFragment,rt=et.children;et.viewClassName,et.style;var it=et.condition,ot=_objectWithoutProperties$1(et,["renderWithFragment","children","viewClassName","style","condition"]);return it?nt?React__default$1.createElement(React$1.Fragment,null,rt):React__default$1.createElement("div",ot,rt):null};function withOrientationChange$1(tt){return function(et){_inherits$1(nt,et);function nt(rt){var it;return _classCallCheck$1(this,nt),it=_possibleConstructorReturn$1(this,_getPrototypeOf$1(nt).call(this,rt)),it.isEventListenerAdded=!1,it.handleOrientationChange=it.handleOrientationChange.bind(_assertThisInitialized$1(it)),it.onOrientationChange=it.onOrientationChange.bind(_assertThisInitialized$1(it)),it.onPageLoad=it.onPageLoad.bind(_assertThisInitialized$1(it)),it.state={isLandscape:!1,isPortrait:!1},it}return _createClass$1(nt,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var it=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:it===0,isLandscape:it===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window=="undefined"?"undefined":_typeof$2(window))!==void 0&&isMobile$1&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default$1.createElement(tt,_extends$1({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),nt}(React__default$1.Component)}function useMobileOrientation$1(){var tt=React$1.useState(function(){var ot=window.innerWidth>window.innerHeight?90:0;return{isPortrait:ot===0,isLandscape:ot===90,orientation:ot===0?"portrait":"landscape"}}),et=_slicedToArray$3(tt,2),nt=et[0],rt=et[1],it=React$1.useCallback(function(){var ot=window.innerWidth>window.innerHeight?90:0,at={isPortrait:ot===0,isLandscape:ot===90,orientation:ot===0?"portrait":"landscape"};nt.orientation!==at.orientation&&rt(at)},[nt.orientation]);return React$1.useEffect(function(){return(typeof window=="undefined"?"undefined":_typeof$2(window))!==void 0&&isMobile$1&&(it(),window.addEventListener("load",it,!1),window.addEventListener("resize",it,!1)),function(){window.removeEventListener("resize",it,!1),window.removeEventListener("load",it,!1)}},[it]),nt}function useDeviceData$1(tt){var et=tt||window.navigator.userAgent;return parseUserAgent$1(et)}function useDeviceSelectors$1(tt){var et=tt||window.navigator.userAgent,nt=useDeviceData$1(et),rt=buildSelectorsObject$1(nt);return[rt,nt]}lib$1.AndroidView=AndroidView$1;lib$1.BrowserTypes=BrowserTypes$1;lib$1.BrowserView=BrowserView$1;lib$1.ConsoleView=ConsoleView$1;lib$1.CustomView=CustomView$1;lib$1.IEView=IEView$1;lib$1.IOSView=IOSView$1;lib$1.MobileOnlyView=MobileOnlyView$1;lib$1.MobileView=MobileView$1;lib$1.OsTypes=OsTypes$1;lib$1.SmartTVView=SmartTVView$1;lib$1.TabletView=TabletView$1;lib$1.WearableView=WearableView$1;lib$1.WinPhoneView=WinPhoneView$1;lib$1.browserName=browserName$1;lib$1.browserVersion=browserVersion$1;lib$1.deviceDetect=deviceDetect$1;lib$1.deviceType=deviceType$1;lib$1.engineName=engineName$1;lib$1.engineVersion=engineVersion$1;lib$1.fullBrowserVersion=fullBrowserVersion$1;lib$1.getSelectorsByUserAgent=getSelectorsByUserAgent$1;lib$1.getUA=getUA$1;lib$1.isAndroid=isAndroid$1;lib$1.isBrowser=isBrowser$1;lib$1.isChrome=isChrome$1;lib$1.isChromium=isChromium$1;lib$1.isConsole=isConsole$1;lib$1.isDesktop=isDesktop$1;lib$1.isEdge=isEdge$1;lib$1.isEdgeChromium=isEdgeChromium$1;lib$1.isElectron=isElectron$1;lib$1.isEmbedded=isEmbedded$1;lib$1.isFirefox=isFirefox$1;lib$1.isIE=isIE$1;lib$1.isIOS=isIOS$1;lib$1.isIOS13=isIOS13$1;lib$1.isIPad13=isIPad13$1;lib$1.isIPhone13=isIPhone13$1;lib$1.isIPod13=isIPod13$1;lib$1.isLegacyEdge=isLegacyEdge$1;lib$1.isMIUI=isMIUI$1;lib$1.isMacOs=isMacOs$1;lib$1.isMobile=isMobile$1;lib$1.isMobileOnly=isMobileOnly$1;lib$1.isMobileSafari=isMobileSafari$1;lib$1.isOpera=isOpera$1;lib$1.isSafari=isSafari$1;lib$1.isSamsungBrowser=isSamsungBrowser$1;lib$1.isSmartTV=isSmartTV$1;lib$1.isTablet=isTablet$1;lib$1.isWearable=isWearable$1;lib$1.isWinPhone=isWinPhone$1;lib$1.isWindows=isWindows$1;lib$1.isYandex=isYandex$1;lib$1.mobileModel=mobileModel$1;lib$1.mobileVendor=mobileVendor$1;lib$1.osName=osName$1;lib$1.osVersion=osVersion$1;lib$1.parseUserAgent=parseUserAgent$1;lib$1.setUserAgent=setUserAgent$1;lib$1.useDeviceData=useDeviceData$1;lib$1.useDeviceSelectors=useDeviceSelectors$1;lib$1.useMobileOrientation=useMobileOrientation$1;lib$1.withOrientationChange=withOrientationChange$1;var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(tt,et,nt)=>et in tt?__defProp$3(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[et]=nt,__spreadValues$3=(tt,et)=>{for(var nt in et||(et={}))__hasOwnProp$3.call(et,nt)&&__defNormalProp$3(tt,nt,et[nt]);if(__getOwnPropSymbols$3)for(var nt of __getOwnPropSymbols$3(et))__propIsEnum$3.call(et,nt)&&__defNormalProp$3(tt,nt,et[nt]);return tt},__publicField$2=(tt,et,nt)=>(__defNormalProp$3(tt,typeof et!="symbol"?et+"":et,nt),nt),dist$1={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(tt,et){module.exports=et()})(window,function(){return function(tt){function et(ct){for(var ft,ut,dt=ct[0],ht=ct[1],pt=0,gt=[];pt<dt.length;pt++)ut=dt[pt],Object.prototype.hasOwnProperty.call(rt,ut)&&rt[ut]&&gt.push(rt[ut][0]),rt[ut]=0;for(ft in ht)Object.prototype.hasOwnProperty.call(ht,ft)&&(tt[ft]=ht[ft]);for(lt&&lt(ct);gt.length;)gt.shift()()}var nt={},rt={0:0};function it(ct){if(nt[ct])return nt[ct].exports;var ft=nt[ct]={i:ct,l:!1,exports:{}};return tt[ct].call(ft.exports,ft,ft.exports,it),ft.l=!0,ft.exports}it.e=function(){return Promise.resolve()},it.m=tt,it.c=nt,it.d=function(ct,ft,ut){it.o(ct,ft)||Object.defineProperty(ct,ft,{enumerable:!0,get:ut})},it.r=function(ct){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ct,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ct,"__esModule",{value:!0})},it.t=function(ct,ft){if(1&ft&&(ct=it(ct)),8&ft||4&ft&&typeof ct=="object"&&ct&&ct.__esModule)return ct;var ut=Object.create(null);if(it.r(ut),Object.defineProperty(ut,"default",{enumerable:!0,value:ct}),2&ft&&typeof ct!="string")for(var dt in ct)it.d(ut,dt,function(ht){return ct[ht]}.bind(null,dt));return ut},it.n=function(ct){var ft=ct&&ct.__esModule?function(){return ct.default}:function(){return ct};return it.d(ft,"a",ft),ft},it.o=function(ct,ft){return Object.prototype.hasOwnProperty.call(ct,ft)},it.p="",it.oe=function(ct){throw console.error(ct),ct};var ot=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],at=ot.push.bind(ot);ot.push=et,ot=ot.slice();for(var st=0;st<ot.length;st++)et(ot[st]);var lt=at;return it(it.s=228)}([function(tt,et,nt){nt.d(et,"a",function(){return Pt});const rt=Math.pow(2,20),it=rt;var ot=nt(54),at=nt(15),st=nt(53),lt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),ct=new Uint8Array(16);function ft(){if(!lt)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lt(ct)}for(var ut=[],dt=0;dt<256;++dt)ut[dt]=(dt+256).toString(16).substr(1);var ht=function(Ct,Ot){var Ut=Ot||0,At=ut;return[At[Ct[Ut++]],At[Ct[Ut++]],At[Ct[Ut++]],At[Ct[Ut++]],"-",At[Ct[Ut++]],At[Ct[Ut++]],"-",At[Ct[Ut++]],At[Ct[Ut++]],"-",At[Ct[Ut++]],At[Ct[Ut++]],"-",At[Ct[Ut++]],At[Ct[Ut++]],At[Ct[Ut++]],At[Ct[Ut++]],At[Ct[Ut++]],At[Ct[Ut++]]].join("")},pt=function(Ct,Ot,Ut){var At=Ot&&Ut||0;typeof Ct=="string"&&(Ot=Ct==="binary"?new Array(16):null,Ct=null);var Mt=(Ct=Ct||{}).random||(Ct.rng||ft)();if(Mt[6]=15&Mt[6]|64,Mt[8]=63&Mt[8]|128,Ot)for(var jt=0;jt<16;++jt)Ot[At+jt]=Mt[jt];return Ot||ht(Mt)},gt=nt(16),mt=nt(7),yt=nt(21),bt=nt(30),St=function(Ct,Ot){var Ut={};for(var At in Ct)Object.prototype.hasOwnProperty.call(Ct,At)&&Ot.indexOf(At)<0&&(Ut[At]=Ct[At]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function"){var Mt=0;for(At=Object.getOwnPropertySymbols(Ct);Mt<At.length;Mt++)Ot.indexOf(At[Mt])<0&&Object.prototype.propertyIsEnumerable.call(Ct,At[Mt])&&(Ut[At[Mt]]=Ct[At[Mt]])}return Ut};function xt(Ct,Ot={}){const Ut=Gt=>Ot.redacted!==!1?Object(bt.a)(Gt):Gt;if(!Ct.stack)return{message:yt(Ut(Ct),{cycles:!0})};const{name:At,message:Mt,stack:jt}=Ct,kt=St(Ct,["name","message","stack"]);return{name:At,message:Mt!==void 0?Mt:yt(Ut(Ct),{cycles:!0}),stack:jt,meta:kt&&Object.keys(kt).length===0?void 0:Ut(kt)}}function vt(Ct,Ot={}){const{message:Ut,stack:At,meta:Mt}=xt(Ct,Ot);return`${At||Ut||""}${Mt&&Object.keys(Mt).length>0?` -- ${yt(Mt,{cycles:!0})}`:""}`}var $t=nt(99),zt=function(Ct,Ot,Ut,At){return new(Ut||(Ut=Promise))(function(Mt,jt){function kt(Jt){try{Ht(At.next(Jt))}catch(Vt){jt(Vt)}}function Gt(Jt){try{Ht(At.throw(Jt))}catch(Vt){jt(Vt)}}function Ht(Jt){var Vt;Jt.done?Mt(Jt.value):(Vt=Jt.value,Vt instanceof Ut?Vt:new Ut(function(Wt){Wt(Vt)})).then(kt,Gt)}Ht((At=At.apply(Ct,Ot||[])).next())})},Nt=function(Ct,Ot){var Ut={};for(var At in Ct)Object.prototype.hasOwnProperty.call(Ct,At)&&Ot.indexOf(At)<0&&(Ut[At]=Ct[At]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function"){var Mt=0;for(At=Object.getOwnPropertySymbols(Ct);Mt<At.length;Mt++)Ot.indexOf(At[Mt])<0&&Object.prototype.propertyIsEnumerable.call(Ct,At[Mt])&&(Ut[At[Mt]]=Ct[At[Mt]])}return Ut};class wt extends $t{constructor(Ot,Ut){super(),this.endpoint=Ot,this.meta=Ut,this.logClient=this.getLogClient()}getLogClient(){return zt(this,void 0,void 0,function*(){const{LogClient:Ot}=yield Promise.resolve().then(nt.bind(null,230));return new Ot(this.endpoint)})}log(Ot,Ut){return zt(this,void 0,void 0,function*(){const{level:At,message:Mt,error:jt}=Ot,kt=Nt(Ot,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:At,message:Mt.substring(0,1e3),error:jt!==void 0?xt(jt):void 0,meta:Object.assign(Object.assign({},kt),this.meta())}])}catch(Gt){console.error(`Failed to log to log-api: ${vt(Gt)}`)}Ut()})}}var Et=function(Ct,Ot){var Ut={};for(var At in Ct)Object.prototype.hasOwnProperty.call(Ct,At)&&Ot.indexOf(At)<0&&(Ut[At]=Ct[At]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function"){var Mt=0;for(At=Object.getOwnPropertySymbols(Ct);Mt<At.length;Mt++)Ot.indexOf(At[Mt])<0&&Object.prototype.propertyIsEnumerable.call(Ct,At[Mt])&&(Ut[At[Mt]]=Ct[At[Mt]])}return Ut};const Rt={app:mt.a,namespace:mt.i,buildTag:mt.b,instanceId:pt()};let Tt={};const It=mt.e?gt.format.printf(Ct=>{var{timestamp:Ot,level:Ut,message:At,error:Mt}=Ct,jt=Et(Ct,["timestamp","level","message","error"]);const kt=Object.assign(Object.assign({timestamp:Ot?new Date(Ot).getTime():new Date().getTime(),level:Ut.toUpperCase(),message:At},Mt?{error:xt(Mt)}:{}),{meta:Object.assign(Object.assign(Object.assign({},Rt),Tt),jt)});try{return JSON.stringify(kt)}catch{return ot(kt)}}):gt.format.printf(Ct=>{var{timestamp:Ot,level:Ut,message:At,error:Mt}=Ct,jt=Et(Ct,["timestamp","level","message","error"]);let kt=`${Ot||new Date().toISOString()} ${Ut.toUpperCase()}: ${At} `;if(Object.keys(jt).length>0)try{kt+=JSON.stringify(jt)}catch{kt+=ot(jt)}return Mt&&(kt+=`
${vt(Mt)}`),kt}),Pt=Object(gt.createLogger)({level:mt.f});if(mt.g&&Pt.add(new gt.transports.Console({format:It,level:"debug"})),mt.d&&Pt.add(new wt(mt.d,()=>Object.assign(Object.assign(Object.assign({},Rt),Tt),{level:"debug"}))),mt.h){const Ct=st.resolve(at.tmpdir(),`silly-${mt.a}.log`);Pt.debug("Logging silly logs to file",{filename:Ct}),Pt.add(new gt.transports.File({filename:Ct,maxsize:1*it,maxFiles:10,format:gt.format.combine((Dt="silly",Object(gt.format)(Ot=>Ot.level===Dt&&Ot)()),It),level:"silly"}))}var Dt},function(tt,et,nt){nt.d(et,"a",function(){return rt});const rt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(tt,et){var nt,rt,it=tt.exports={};function ot(){throw new Error("setTimeout has not been defined")}function at(){throw new Error("clearTimeout has not been defined")}function st(mt){if(nt===setTimeout)return setTimeout(mt,0);if((nt===ot||!nt)&&setTimeout)return nt=setTimeout,setTimeout(mt,0);try{return nt(mt,0)}catch{try{return nt.call(null,mt,0)}catch{return nt.call(this,mt,0)}}}(function(){try{nt=typeof setTimeout=="function"?setTimeout:ot}catch{nt=ot}try{rt=typeof clearTimeout=="function"?clearTimeout:at}catch{rt=at}})();var lt,ct=[],ft=!1,ut=-1;function dt(){ft&&lt&&(ft=!1,lt.length?ct=lt.concat(ct):ut=-1,ct.length&&ht())}function ht(){if(!ft){var mt=st(dt);ft=!0;for(var yt=ct.length;yt;){for(lt=ct,ct=[];++ut<yt;)lt&&lt[ut].run();ut=-1,yt=ct.length}lt=null,ft=!1,function(bt){if(rt===clearTimeout)return clearTimeout(bt);if((rt===at||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(bt);try{rt(bt)}catch{try{return rt.call(null,bt)}catch{return rt.call(this,bt)}}}(mt)}}function pt(mt,yt){this.fun=mt,this.array=yt}function gt(){}it.nextTick=function(mt){var yt=new Array(arguments.length-1);if(arguments.length>1)for(var bt=1;bt<arguments.length;bt++)yt[bt-1]=arguments[bt];ct.push(new pt(mt,yt)),ct.length!==1||ft||st(ht)},pt.prototype.run=function(){this.fun.apply(null,this.array)},it.title="browser",it.browser=!0,it.env={},it.argv=[],it.version="",it.versions={},it.on=gt,it.addListener=gt,it.once=gt,it.off=gt,it.removeListener=gt,it.removeAllListeners=gt,it.emit=gt,it.prependListener=gt,it.prependOnceListener=gt,it.listeners=function(mt){return[]},it.binding=function(mt){throw new Error("process.binding is not supported")},it.cwd=function(){return"/"},it.chdir=function(mt){throw new Error("process.chdir is not supported")},it.umask=function(){return 0}},function(tt,et,nt){Object.defineProperty(et,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(et,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(et,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(et,"configs",{value:nt(117)})},function(tt,et,nt){(function(rt){var it=nt(125),ot=nt(126),at=nt(38);function st(){return ct.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function lt(Lt,Bt){if(st()<Bt)throw new RangeError("Invalid typed array length");return ct.TYPED_ARRAY_SUPPORT?(Lt=new Uint8Array(Bt)).__proto__=ct.prototype:(Lt===null&&(Lt=new ct(Bt)),Lt.length=Bt),Lt}function ct(Lt,Bt,Ft){if(!(ct.TYPED_ARRAY_SUPPORT||this instanceof ct))return new ct(Lt,Bt,Ft);if(typeof Lt=="number"){if(typeof Bt=="string")throw new Error("If encoding is specified then the first argument must be a string");return dt(this,Lt)}return ft(this,Lt,Bt,Ft)}function ft(Lt,Bt,Ft,sn){if(typeof Bt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&Bt instanceof ArrayBuffer?function(Xt,dn,Yt,yn){if(dn.byteLength,Yt<0||dn.byteLength<Yt)throw new RangeError("'offset' is out of bounds");if(dn.byteLength<Yt+(yn||0))throw new RangeError("'length' is out of bounds");return dn=Yt===void 0&&yn===void 0?new Uint8Array(dn):yn===void 0?new Uint8Array(dn,Yt):new Uint8Array(dn,Yt,yn),ct.TYPED_ARRAY_SUPPORT?(Xt=dn).__proto__=ct.prototype:Xt=ht(Xt,dn),Xt}(Lt,Bt,Ft,sn):typeof Bt=="string"?function(Xt,dn,Yt){if(typeof Yt=="string"&&Yt!==""||(Yt="utf8"),!ct.isEncoding(Yt))throw new TypeError('"encoding" must be a valid string encoding');var yn=0|gt(dn,Yt),Qt=(Xt=lt(Xt,yn)).write(dn,Yt);return Qt!==yn&&(Xt=Xt.slice(0,Qt)),Xt}(Lt,Bt,Ft):function(Xt,dn){if(ct.isBuffer(dn)){var Yt=0|pt(dn.length);return(Xt=lt(Xt,Yt)).length===0||dn.copy(Xt,0,0,Yt),Xt}if(dn){if(typeof ArrayBuffer!="undefined"&&dn.buffer instanceof ArrayBuffer||"length"in dn)return typeof dn.length!="number"||(yn=dn.length)!=yn?lt(Xt,0):ht(Xt,dn);if(dn.type==="Buffer"&&at(dn.data))return ht(Xt,dn.data)}var yn;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Lt,Bt)}function ut(Lt){if(typeof Lt!="number")throw new TypeError('"size" argument must be a number');if(Lt<0)throw new RangeError('"size" argument must not be negative')}function dt(Lt,Bt){if(ut(Bt),Lt=lt(Lt,Bt<0?0:0|pt(Bt)),!ct.TYPED_ARRAY_SUPPORT)for(var Ft=0;Ft<Bt;++Ft)Lt[Ft]=0;return Lt}function ht(Lt,Bt){var Ft=Bt.length<0?0:0|pt(Bt.length);Lt=lt(Lt,Ft);for(var sn=0;sn<Ft;sn+=1)Lt[sn]=255&Bt[sn];return Lt}function pt(Lt){if(Lt>=st())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+st().toString(16)+" bytes");return 0|Lt}function gt(Lt,Bt){if(ct.isBuffer(Lt))return Lt.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Lt)||Lt instanceof ArrayBuffer))return Lt.byteLength;typeof Lt!="string"&&(Lt=""+Lt);var Ft=Lt.length;if(Ft===0)return 0;for(var sn=!1;;)switch(Bt){case"ascii":case"latin1":case"binary":return Ft;case"utf8":case"utf-8":case void 0:return Jt(Lt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ft;case"hex":return Ft>>>1;case"base64":return Vt(Lt).length;default:if(sn)return Jt(Lt).length;Bt=(""+Bt).toLowerCase(),sn=!0}}function mt(Lt,Bt,Ft){var sn=!1;if((Bt===void 0||Bt<0)&&(Bt=0),Bt>this.length||((Ft===void 0||Ft>this.length)&&(Ft=this.length),Ft<=0)||(Ft>>>=0)<=(Bt>>>=0))return"";for(Lt||(Lt="utf8");;)switch(Lt){case"hex":return Pt(this,Bt,Ft);case"utf8":case"utf-8":return Rt(this,Bt,Ft);case"ascii":return Tt(this,Bt,Ft);case"latin1":case"binary":return It(this,Bt,Ft);case"base64":return Et(this,Bt,Ft);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,Bt,Ft);default:if(sn)throw new TypeError("Unknown encoding: "+Lt);Lt=(Lt+"").toLowerCase(),sn=!0}}function yt(Lt,Bt,Ft){var sn=Lt[Bt];Lt[Bt]=Lt[Ft],Lt[Ft]=sn}function bt(Lt,Bt,Ft,sn,Xt){if(Lt.length===0)return-1;if(typeof Ft=="string"?(sn=Ft,Ft=0):Ft>2147483647?Ft=2147483647:Ft<-2147483648&&(Ft=-2147483648),Ft=+Ft,isNaN(Ft)&&(Ft=Xt?0:Lt.length-1),Ft<0&&(Ft=Lt.length+Ft),Ft>=Lt.length){if(Xt)return-1;Ft=Lt.length-1}else if(Ft<0){if(!Xt)return-1;Ft=0}if(typeof Bt=="string"&&(Bt=ct.from(Bt,sn)),ct.isBuffer(Bt))return Bt.length===0?-1:St(Lt,Bt,Ft,sn,Xt);if(typeof Bt=="number")return Bt&=255,ct.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Xt?Uint8Array.prototype.indexOf.call(Lt,Bt,Ft):Uint8Array.prototype.lastIndexOf.call(Lt,Bt,Ft):St(Lt,[Bt],Ft,sn,Xt);throw new TypeError("val must be string, number or Buffer")}function St(Lt,Bt,Ft,sn,Xt){var dn,Yt=1,yn=Lt.length,Qt=Bt.length;if(sn!==void 0&&((sn=String(sn).toLowerCase())==="ucs2"||sn==="ucs-2"||sn==="utf16le"||sn==="utf-16le")){if(Lt.length<2||Bt.length<2)return-1;Yt=2,yn/=2,Qt/=2,Ft/=2}function Kt(Cn,cn){return Yt===1?Cn[cn]:Cn.readUInt16BE(cn*Yt)}if(Xt){var hn=-1;for(dn=Ft;dn<yn;dn++)if(Kt(Lt,dn)===Kt(Bt,hn===-1?0:dn-hn)){if(hn===-1&&(hn=dn),dn-hn+1===Qt)return hn*Yt}else hn!==-1&&(dn-=dn-hn),hn=-1}else for(Ft+Qt>yn&&(Ft=yn-Qt),dn=Ft;dn>=0;dn--){for(var vn=!0,Sn=0;Sn<Qt;Sn++)if(Kt(Lt,dn+Sn)!==Kt(Bt,Sn)){vn=!1;break}if(vn)return dn}return-1}function xt(Lt,Bt,Ft,sn){Ft=Number(Ft)||0;var Xt=Lt.length-Ft;sn?(sn=Number(sn))>Xt&&(sn=Xt):sn=Xt;var dn=Bt.length;if(dn%2!=0)throw new TypeError("Invalid hex string");sn>dn/2&&(sn=dn/2);for(var Yt=0;Yt<sn;++Yt){var yn=parseInt(Bt.substr(2*Yt,2),16);if(isNaN(yn))return Yt;Lt[Ft+Yt]=yn}return Yt}function vt(Lt,Bt,Ft,sn){return Wt(Jt(Bt,Lt.length-Ft),Lt,Ft,sn)}function $t(Lt,Bt,Ft,sn){return Wt(function(Xt){for(var dn=[],Yt=0;Yt<Xt.length;++Yt)dn.push(255&Xt.charCodeAt(Yt));return dn}(Bt),Lt,Ft,sn)}function zt(Lt,Bt,Ft,sn){return $t(Lt,Bt,Ft,sn)}function Nt(Lt,Bt,Ft,sn){return Wt(Vt(Bt),Lt,Ft,sn)}function wt(Lt,Bt,Ft,sn){return Wt(function(Xt,dn){for(var Yt,yn,Qt,Kt=[],hn=0;hn<Xt.length&&!((dn-=2)<0);++hn)Yt=Xt.charCodeAt(hn),yn=Yt>>8,Qt=Yt%256,Kt.push(Qt),Kt.push(yn);return Kt}(Bt,Lt.length-Ft),Lt,Ft,sn)}function Et(Lt,Bt,Ft){return Bt===0&&Ft===Lt.length?it.fromByteArray(Lt):it.fromByteArray(Lt.slice(Bt,Ft))}function Rt(Lt,Bt,Ft){Ft=Math.min(Lt.length,Ft);for(var sn=[],Xt=Bt;Xt<Ft;){var dn,Yt,yn,Qt,Kt=Lt[Xt],hn=null,vn=Kt>239?4:Kt>223?3:Kt>191?2:1;if(Xt+vn<=Ft)switch(vn){case 1:Kt<128&&(hn=Kt);break;case 2:(192&(dn=Lt[Xt+1]))==128&&(Qt=(31&Kt)<<6|63&dn)>127&&(hn=Qt);break;case 3:dn=Lt[Xt+1],Yt=Lt[Xt+2],(192&dn)==128&&(192&Yt)==128&&(Qt=(15&Kt)<<12|(63&dn)<<6|63&Yt)>2047&&(Qt<55296||Qt>57343)&&(hn=Qt);break;case 4:dn=Lt[Xt+1],Yt=Lt[Xt+2],yn=Lt[Xt+3],(192&dn)==128&&(192&Yt)==128&&(192&yn)==128&&(Qt=(15&Kt)<<18|(63&dn)<<12|(63&Yt)<<6|63&yn)>65535&&Qt<1114112&&(hn=Qt)}hn===null?(hn=65533,vn=1):hn>65535&&(hn-=65536,sn.push(hn>>>10&1023|55296),hn=56320|1023&hn),sn.push(hn),Xt+=vn}return function(Sn){var Cn=Sn.length;if(Cn<=4096)return String.fromCharCode.apply(String,Sn);for(var cn="",ln=0;ln<Cn;)cn+=String.fromCharCode.apply(String,Sn.slice(ln,ln+=4096));return cn}(sn)}et.Buffer=ct,et.SlowBuffer=function(Lt){return+Lt!=Lt&&(Lt=0),ct.alloc(+Lt)},et.INSPECT_MAX_BYTES=50,ct.TYPED_ARRAY_SUPPORT=rt.TYPED_ARRAY_SUPPORT!==void 0?rt.TYPED_ARRAY_SUPPORT:function(){try{var Lt=new Uint8Array(1);return Lt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Lt.foo()===42&&typeof Lt.subarray=="function"&&Lt.subarray(1,1).byteLength===0}catch{return!1}}(),et.kMaxLength=st(),ct.poolSize=8192,ct._augment=function(Lt){return Lt.__proto__=ct.prototype,Lt},ct.from=function(Lt,Bt,Ft){return ft(null,Lt,Bt,Ft)},ct.TYPED_ARRAY_SUPPORT&&(ct.prototype.__proto__=Uint8Array.prototype,ct.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&ct[Symbol.species]===ct&&Object.defineProperty(ct,Symbol.species,{value:null,configurable:!0})),ct.alloc=function(Lt,Bt,Ft){return function(sn,Xt,dn,Yt){return ut(Xt),Xt<=0?lt(sn,Xt):dn!==void 0?typeof Yt=="string"?lt(sn,Xt).fill(dn,Yt):lt(sn,Xt).fill(dn):lt(sn,Xt)}(null,Lt,Bt,Ft)},ct.allocUnsafe=function(Lt){return dt(null,Lt)},ct.allocUnsafeSlow=function(Lt){return dt(null,Lt)},ct.isBuffer=function(Lt){return!(Lt==null||!Lt._isBuffer)},ct.compare=function(Lt,Bt){if(!ct.isBuffer(Lt)||!ct.isBuffer(Bt))throw new TypeError("Arguments must be Buffers");if(Lt===Bt)return 0;for(var Ft=Lt.length,sn=Bt.length,Xt=0,dn=Math.min(Ft,sn);Xt<dn;++Xt)if(Lt[Xt]!==Bt[Xt]){Ft=Lt[Xt],sn=Bt[Xt];break}return Ft<sn?-1:sn<Ft?1:0},ct.isEncoding=function(Lt){switch(String(Lt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ct.concat=function(Lt,Bt){if(!at(Lt))throw new TypeError('"list" argument must be an Array of Buffers');if(Lt.length===0)return ct.alloc(0);var Ft;if(Bt===void 0)for(Bt=0,Ft=0;Ft<Lt.length;++Ft)Bt+=Lt[Ft].length;var sn=ct.allocUnsafe(Bt),Xt=0;for(Ft=0;Ft<Lt.length;++Ft){var dn=Lt[Ft];if(!ct.isBuffer(dn))throw new TypeError('"list" argument must be an Array of Buffers');dn.copy(sn,Xt),Xt+=dn.length}return sn},ct.byteLength=gt,ct.prototype._isBuffer=!0,ct.prototype.swap16=function(){var Lt=this.length;if(Lt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Bt=0;Bt<Lt;Bt+=2)yt(this,Bt,Bt+1);return this},ct.prototype.swap32=function(){var Lt=this.length;if(Lt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Bt=0;Bt<Lt;Bt+=4)yt(this,Bt,Bt+3),yt(this,Bt+1,Bt+2);return this},ct.prototype.swap64=function(){var Lt=this.length;if(Lt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Bt=0;Bt<Lt;Bt+=8)yt(this,Bt,Bt+7),yt(this,Bt+1,Bt+6),yt(this,Bt+2,Bt+5),yt(this,Bt+3,Bt+4);return this},ct.prototype.toString=function(){var Lt=0|this.length;return Lt===0?"":arguments.length===0?Rt(this,0,Lt):mt.apply(this,arguments)},ct.prototype.equals=function(Lt){if(!ct.isBuffer(Lt))throw new TypeError("Argument must be a Buffer");return this===Lt||ct.compare(this,Lt)===0},ct.prototype.inspect=function(){var Lt="",Bt=et.INSPECT_MAX_BYTES;return this.length>0&&(Lt=this.toString("hex",0,Bt).match(/.{2}/g).join(" "),this.length>Bt&&(Lt+=" ... ")),"<Buffer "+Lt+">"},ct.prototype.compare=function(Lt,Bt,Ft,sn,Xt){if(!ct.isBuffer(Lt))throw new TypeError("Argument must be a Buffer");if(Bt===void 0&&(Bt=0),Ft===void 0&&(Ft=Lt?Lt.length:0),sn===void 0&&(sn=0),Xt===void 0&&(Xt=this.length),Bt<0||Ft>Lt.length||sn<0||Xt>this.length)throw new RangeError("out of range index");if(sn>=Xt&&Bt>=Ft)return 0;if(sn>=Xt)return-1;if(Bt>=Ft)return 1;if(this===Lt)return 0;for(var dn=(Xt>>>=0)-(sn>>>=0),Yt=(Ft>>>=0)-(Bt>>>=0),yn=Math.min(dn,Yt),Qt=this.slice(sn,Xt),Kt=Lt.slice(Bt,Ft),hn=0;hn<yn;++hn)if(Qt[hn]!==Kt[hn]){dn=Qt[hn],Yt=Kt[hn];break}return dn<Yt?-1:Yt<dn?1:0},ct.prototype.includes=function(Lt,Bt,Ft){return this.indexOf(Lt,Bt,Ft)!==-1},ct.prototype.indexOf=function(Lt,Bt,Ft){return bt(this,Lt,Bt,Ft,!0)},ct.prototype.lastIndexOf=function(Lt,Bt,Ft){return bt(this,Lt,Bt,Ft,!1)},ct.prototype.write=function(Lt,Bt,Ft,sn){if(Bt===void 0)sn="utf8",Ft=this.length,Bt=0;else if(Ft===void 0&&typeof Bt=="string")sn=Bt,Ft=this.length,Bt=0;else{if(!isFinite(Bt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Bt|=0,isFinite(Ft)?(Ft|=0,sn===void 0&&(sn="utf8")):(sn=Ft,Ft=void 0)}var Xt=this.length-Bt;if((Ft===void 0||Ft>Xt)&&(Ft=Xt),Lt.length>0&&(Ft<0||Bt<0)||Bt>this.length)throw new RangeError("Attempt to write outside buffer bounds");sn||(sn="utf8");for(var dn=!1;;)switch(sn){case"hex":return xt(this,Lt,Bt,Ft);case"utf8":case"utf-8":return vt(this,Lt,Bt,Ft);case"ascii":return $t(this,Lt,Bt,Ft);case"latin1":case"binary":return zt(this,Lt,Bt,Ft);case"base64":return Nt(this,Lt,Bt,Ft);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wt(this,Lt,Bt,Ft);default:if(dn)throw new TypeError("Unknown encoding: "+sn);sn=(""+sn).toLowerCase(),dn=!0}},ct.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tt(Lt,Bt,Ft){var sn="";Ft=Math.min(Lt.length,Ft);for(var Xt=Bt;Xt<Ft;++Xt)sn+=String.fromCharCode(127&Lt[Xt]);return sn}function It(Lt,Bt,Ft){var sn="";Ft=Math.min(Lt.length,Ft);for(var Xt=Bt;Xt<Ft;++Xt)sn+=String.fromCharCode(Lt[Xt]);return sn}function Pt(Lt,Bt,Ft){var sn=Lt.length;(!Bt||Bt<0)&&(Bt=0),(!Ft||Ft<0||Ft>sn)&&(Ft=sn);for(var Xt="",dn=Bt;dn<Ft;++dn)Xt+=Ht(Lt[dn]);return Xt}function Dt(Lt,Bt,Ft){for(var sn=Lt.slice(Bt,Ft),Xt="",dn=0;dn<sn.length;dn+=2)Xt+=String.fromCharCode(sn[dn]+256*sn[dn+1]);return Xt}function Ct(Lt,Bt,Ft){if(Lt%1!=0||Lt<0)throw new RangeError("offset is not uint");if(Lt+Bt>Ft)throw new RangeError("Trying to access beyond buffer length")}function Ot(Lt,Bt,Ft,sn,Xt,dn){if(!ct.isBuffer(Lt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Bt>Xt||Bt<dn)throw new RangeError('"value" argument is out of bounds');if(Ft+sn>Lt.length)throw new RangeError("Index out of range")}function Ut(Lt,Bt,Ft,sn){Bt<0&&(Bt=65535+Bt+1);for(var Xt=0,dn=Math.min(Lt.length-Ft,2);Xt<dn;++Xt)Lt[Ft+Xt]=(Bt&255<<8*(sn?Xt:1-Xt))>>>8*(sn?Xt:1-Xt)}function At(Lt,Bt,Ft,sn){Bt<0&&(Bt=4294967295+Bt+1);for(var Xt=0,dn=Math.min(Lt.length-Ft,4);Xt<dn;++Xt)Lt[Ft+Xt]=Bt>>>8*(sn?Xt:3-Xt)&255}function Mt(Lt,Bt,Ft,sn,Xt,dn){if(Ft+sn>Lt.length)throw new RangeError("Index out of range");if(Ft<0)throw new RangeError("Index out of range")}function jt(Lt,Bt,Ft,sn,Xt){return Xt||Mt(Lt,0,Ft,4),ot.write(Lt,Bt,Ft,sn,23,4),Ft+4}function kt(Lt,Bt,Ft,sn,Xt){return Xt||Mt(Lt,0,Ft,8),ot.write(Lt,Bt,Ft,sn,52,8),Ft+8}ct.prototype.slice=function(Lt,Bt){var Ft,sn=this.length;if((Lt=~~Lt)<0?(Lt+=sn)<0&&(Lt=0):Lt>sn&&(Lt=sn),(Bt=Bt===void 0?sn:~~Bt)<0?(Bt+=sn)<0&&(Bt=0):Bt>sn&&(Bt=sn),Bt<Lt&&(Bt=Lt),ct.TYPED_ARRAY_SUPPORT)(Ft=this.subarray(Lt,Bt)).__proto__=ct.prototype;else{var Xt=Bt-Lt;Ft=new ct(Xt,void 0);for(var dn=0;dn<Xt;++dn)Ft[dn]=this[dn+Lt]}return Ft},ct.prototype.readUIntLE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=this[Lt],Xt=1,dn=0;++dn<Bt&&(Xt*=256);)sn+=this[Lt+dn]*Xt;return sn},ct.prototype.readUIntBE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=this[Lt+--Bt],Xt=1;Bt>0&&(Xt*=256);)sn+=this[Lt+--Bt]*Xt;return sn},ct.prototype.readUInt8=function(Lt,Bt){return Bt||Ct(Lt,1,this.length),this[Lt]},ct.prototype.readUInt16LE=function(Lt,Bt){return Bt||Ct(Lt,2,this.length),this[Lt]|this[Lt+1]<<8},ct.prototype.readUInt16BE=function(Lt,Bt){return Bt||Ct(Lt,2,this.length),this[Lt]<<8|this[Lt+1]},ct.prototype.readUInt32LE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),(this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16)+16777216*this[Lt+3]},ct.prototype.readUInt32BE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),16777216*this[Lt]+(this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3])},ct.prototype.readIntLE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=this[Lt],Xt=1,dn=0;++dn<Bt&&(Xt*=256);)sn+=this[Lt+dn]*Xt;return sn>=(Xt*=128)&&(sn-=Math.pow(2,8*Bt)),sn},ct.prototype.readIntBE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=Bt,Xt=1,dn=this[Lt+--sn];sn>0&&(Xt*=256);)dn+=this[Lt+--sn]*Xt;return dn>=(Xt*=128)&&(dn-=Math.pow(2,8*Bt)),dn},ct.prototype.readInt8=function(Lt,Bt){return Bt||Ct(Lt,1,this.length),128&this[Lt]?-1*(255-this[Lt]+1):this[Lt]},ct.prototype.readInt16LE=function(Lt,Bt){Bt||Ct(Lt,2,this.length);var Ft=this[Lt]|this[Lt+1]<<8;return 32768&Ft?4294901760|Ft:Ft},ct.prototype.readInt16BE=function(Lt,Bt){Bt||Ct(Lt,2,this.length);var Ft=this[Lt+1]|this[Lt]<<8;return 32768&Ft?4294901760|Ft:Ft},ct.prototype.readInt32LE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16|this[Lt+3]<<24},ct.prototype.readInt32BE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),this[Lt]<<24|this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3]},ct.prototype.readFloatLE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),ot.read(this,Lt,!0,23,4)},ct.prototype.readFloatBE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),ot.read(this,Lt,!1,23,4)},ct.prototype.readDoubleLE=function(Lt,Bt){return Bt||Ct(Lt,8,this.length),ot.read(this,Lt,!0,52,8)},ct.prototype.readDoubleBE=function(Lt,Bt){return Bt||Ct(Lt,8,this.length),ot.read(this,Lt,!1,52,8)},ct.prototype.writeUIntLE=function(Lt,Bt,Ft,sn){Lt=+Lt,Bt|=0,Ft|=0,sn||Ot(this,Lt,Bt,Ft,Math.pow(2,8*Ft)-1,0);var Xt=1,dn=0;for(this[Bt]=255&Lt;++dn<Ft&&(Xt*=256);)this[Bt+dn]=Lt/Xt&255;return Bt+Ft},ct.prototype.writeUIntBE=function(Lt,Bt,Ft,sn){Lt=+Lt,Bt|=0,Ft|=0,sn||Ot(this,Lt,Bt,Ft,Math.pow(2,8*Ft)-1,0);var Xt=Ft-1,dn=1;for(this[Bt+Xt]=255&Lt;--Xt>=0&&(dn*=256);)this[Bt+Xt]=Lt/dn&255;return Bt+Ft},ct.prototype.writeUInt8=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,1,255,0),ct.TYPED_ARRAY_SUPPORT||(Lt=Math.floor(Lt)),this[Bt]=255&Lt,Bt+1},ct.prototype.writeUInt16LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,65535,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=255&Lt,this[Bt+1]=Lt>>>8):Ut(this,Lt,Bt,!0),Bt+2},ct.prototype.writeUInt16BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,65535,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>8,this[Bt+1]=255&Lt):Ut(this,Lt,Bt,!1),Bt+2},ct.prototype.writeUInt32LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,4294967295,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt+3]=Lt>>>24,this[Bt+2]=Lt>>>16,this[Bt+1]=Lt>>>8,this[Bt]=255&Lt):At(this,Lt,Bt,!0),Bt+4},ct.prototype.writeUInt32BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,4294967295,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>24,this[Bt+1]=Lt>>>16,this[Bt+2]=Lt>>>8,this[Bt+3]=255&Lt):At(this,Lt,Bt,!1),Bt+4},ct.prototype.writeIntLE=function(Lt,Bt,Ft,sn){if(Lt=+Lt,Bt|=0,!sn){var Xt=Math.pow(2,8*Ft-1);Ot(this,Lt,Bt,Ft,Xt-1,-Xt)}var dn=0,Yt=1,yn=0;for(this[Bt]=255&Lt;++dn<Ft&&(Yt*=256);)Lt<0&&yn===0&&this[Bt+dn-1]!==0&&(yn=1),this[Bt+dn]=(Lt/Yt>>0)-yn&255;return Bt+Ft},ct.prototype.writeIntBE=function(Lt,Bt,Ft,sn){if(Lt=+Lt,Bt|=0,!sn){var Xt=Math.pow(2,8*Ft-1);Ot(this,Lt,Bt,Ft,Xt-1,-Xt)}var dn=Ft-1,Yt=1,yn=0;for(this[Bt+dn]=255&Lt;--dn>=0&&(Yt*=256);)Lt<0&&yn===0&&this[Bt+dn+1]!==0&&(yn=1),this[Bt+dn]=(Lt/Yt>>0)-yn&255;return Bt+Ft},ct.prototype.writeInt8=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,1,127,-128),ct.TYPED_ARRAY_SUPPORT||(Lt=Math.floor(Lt)),Lt<0&&(Lt=255+Lt+1),this[Bt]=255&Lt,Bt+1},ct.prototype.writeInt16LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,32767,-32768),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=255&Lt,this[Bt+1]=Lt>>>8):Ut(this,Lt,Bt,!0),Bt+2},ct.prototype.writeInt16BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,32767,-32768),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>8,this[Bt+1]=255&Lt):Ut(this,Lt,Bt,!1),Bt+2},ct.prototype.writeInt32LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,2147483647,-2147483648),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=255&Lt,this[Bt+1]=Lt>>>8,this[Bt+2]=Lt>>>16,this[Bt+3]=Lt>>>24):At(this,Lt,Bt,!0),Bt+4},ct.prototype.writeInt32BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,2147483647,-2147483648),Lt<0&&(Lt=4294967295+Lt+1),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>24,this[Bt+1]=Lt>>>16,this[Bt+2]=Lt>>>8,this[Bt+3]=255&Lt):At(this,Lt,Bt,!1),Bt+4},ct.prototype.writeFloatLE=function(Lt,Bt,Ft){return jt(this,Lt,Bt,!0,Ft)},ct.prototype.writeFloatBE=function(Lt,Bt,Ft){return jt(this,Lt,Bt,!1,Ft)},ct.prototype.writeDoubleLE=function(Lt,Bt,Ft){return kt(this,Lt,Bt,!0,Ft)},ct.prototype.writeDoubleBE=function(Lt,Bt,Ft){return kt(this,Lt,Bt,!1,Ft)},ct.prototype.copy=function(Lt,Bt,Ft,sn){if(Ft||(Ft=0),sn||sn===0||(sn=this.length),Bt>=Lt.length&&(Bt=Lt.length),Bt||(Bt=0),sn>0&&sn<Ft&&(sn=Ft),sn===Ft||Lt.length===0||this.length===0)return 0;if(Bt<0)throw new RangeError("targetStart out of bounds");if(Ft<0||Ft>=this.length)throw new RangeError("sourceStart out of bounds");if(sn<0)throw new RangeError("sourceEnd out of bounds");sn>this.length&&(sn=this.length),Lt.length-Bt<sn-Ft&&(sn=Lt.length-Bt+Ft);var Xt,dn=sn-Ft;if(this===Lt&&Ft<Bt&&Bt<sn)for(Xt=dn-1;Xt>=0;--Xt)Lt[Xt+Bt]=this[Xt+Ft];else if(dn<1e3||!ct.TYPED_ARRAY_SUPPORT)for(Xt=0;Xt<dn;++Xt)Lt[Xt+Bt]=this[Xt+Ft];else Uint8Array.prototype.set.call(Lt,this.subarray(Ft,Ft+dn),Bt);return dn},ct.prototype.fill=function(Lt,Bt,Ft,sn){if(typeof Lt=="string"){if(typeof Bt=="string"?(sn=Bt,Bt=0,Ft=this.length):typeof Ft=="string"&&(sn=Ft,Ft=this.length),Lt.length===1){var Xt=Lt.charCodeAt(0);Xt<256&&(Lt=Xt)}if(sn!==void 0&&typeof sn!="string")throw new TypeError("encoding must be a string");if(typeof sn=="string"&&!ct.isEncoding(sn))throw new TypeError("Unknown encoding: "+sn)}else typeof Lt=="number"&&(Lt&=255);if(Bt<0||this.length<Bt||this.length<Ft)throw new RangeError("Out of range index");if(Ft<=Bt)return this;var dn;if(Bt>>>=0,Ft=Ft===void 0?this.length:Ft>>>0,Lt||(Lt=0),typeof Lt=="number")for(dn=Bt;dn<Ft;++dn)this[dn]=Lt;else{var Yt=ct.isBuffer(Lt)?Lt:Jt(new ct(Lt,sn).toString()),yn=Yt.length;for(dn=0;dn<Ft-Bt;++dn)this[dn+Bt]=Yt[dn%yn]}return this};var Gt=/[^+\/0-9A-Za-z-_]/g;function Ht(Lt){return Lt<16?"0"+Lt.toString(16):Lt.toString(16)}function Jt(Lt,Bt){var Ft;Bt=Bt||1/0;for(var sn=Lt.length,Xt=null,dn=[],Yt=0;Yt<sn;++Yt){if((Ft=Lt.charCodeAt(Yt))>55295&&Ft<57344){if(!Xt){if(Ft>56319){(Bt-=3)>-1&&dn.push(239,191,189);continue}if(Yt+1===sn){(Bt-=3)>-1&&dn.push(239,191,189);continue}Xt=Ft;continue}if(Ft<56320){(Bt-=3)>-1&&dn.push(239,191,189),Xt=Ft;continue}Ft=65536+(Xt-55296<<10|Ft-56320)}else Xt&&(Bt-=3)>-1&&dn.push(239,191,189);if(Xt=null,Ft<128){if((Bt-=1)<0)break;dn.push(Ft)}else if(Ft<2048){if((Bt-=2)<0)break;dn.push(Ft>>6|192,63&Ft|128)}else if(Ft<65536){if((Bt-=3)<0)break;dn.push(Ft>>12|224,Ft>>6&63|128,63&Ft|128)}else{if(!(Ft<1114112))throw new Error("Invalid code point");if((Bt-=4)<0)break;dn.push(Ft>>18|240,Ft>>12&63|128,Ft>>6&63|128,63&Ft|128)}}return dn}function Vt(Lt){return it.toByteArray(function(Bt){if((Bt=function(Ft){return Ft.trim?Ft.trim():Ft.replace(/^\s+|\s+$/g,"")}(Bt).replace(Gt,"")).length<2)return"";for(;Bt.length%4!=0;)Bt+="=";return Bt}(Lt))}function Wt(Lt,Bt,Ft,sn){for(var Xt=0;Xt<sn&&!(Xt+Ft>=Bt.length||Xt>=Lt.length);++Xt)Bt[Xt+Ft]=Lt[Xt];return Xt}}).call(this,nt(5))},function(tt,et){var nt;nt=function(){return this}();try{nt=nt||new Function("return this")()}catch{typeof window=="object"&&(nt=window)}tt.exports=nt},function(tt,et){typeof Object.create=="function"?tt.exports=function(nt,rt){rt&&(nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}}))}:tt.exports=function(nt,rt){if(rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}}},function(tt,et,nt){(function(rt){nt.d(et,"a",function(){return at}),nt.d(et,"i",function(){return st}),nt.d(et,"j",function(){return lt}),nt.d(et,"b",function(){return ct}),nt.d(et,"f",function(){return ft}),nt.d(et,"e",function(){return ut}),nt.d(et,"g",function(){return dt}),nt.d(et,"d",function(){return ht}),nt.d(et,"c",function(){return pt}),nt.d(et,"h",function(){return gt});var it=nt(98);const ot=it.from(Object.assign(Object.assign({},rt.env),{ENVIRONMENT:rt.env.ENV,APP:"realtime-sdk",NAMESPACE:"production",VERSION:rt.env.VERSION,BUILD_TAG:rt.env.BUILD_TAG,GIT_COMMIT:rt.env.GIT_COMMIT,LOG_LEVEL:rt.env.LOG_LEVEL,LOG_JSON:"false",LOG_API_ENDPOINT:rt.env.LOG_API_ENDPOINT,JEST_WORKER_ID:rt.env.JEST_WORKER_ID,ENABLE_SENTRY:rt.env.ENABLE_SENTRY,SENTRY_DSN:rt.env.SENTRY_DSN,STABLE_AGENT_VERSION:rt.env.STABLE_AGENT_VERSION})),at=(ot.get("ENVIRONMENT").default("").asString(),ot.get("APP").default("").asString()),st=(ot.get("APP_PATH").default("").asString(),ot.get("API_ENDPOINT").default("").asString(),ot.get("NAMESPACE").default("").asString()),lt=ot.get("VERSION").default("").asString(),ct=ot.get("BUILD_TAG").default("").asString(),ft=(ot.get("GIT_COMMIT").default("").asString(),ot.get("ENABLE_SENTRY").default("false").asBool(),ot.get("SENTRY_DSN").default("").asString(),ot.get("LOG_LEVEL").default("debug").asString()),ut=ot.get("LOG_JSON").default("true").asBool(),dt=ot.get("LOG_TO_CONSOLE").default("true").asBool(),ht=(ot.get("STABLE_AGENT_VERSION").default("").asString(),ot.get("LOG_API_ENDPOINT").asString()),pt=ot.get("JEST_WORKER_ID").asString(),gt=(ot.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),ot.get("LOG_TO_FILE").default("false").asBoolStrict())}).call(this,nt(2))},function(tt,et,nt){var rt=nt(95),it=rt,ot=Function("return this")(),at=nt(94);it.object.extend(proto,at),it.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.Peer",null,ot),it.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.SessionType",null,ot),it.exportSymbol("proto.v1.signaling.api.Signal",null,ot),proto.v1.signaling.api.Peer=function(st){rt.Message.initialize(this,st,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},it.inherits(proto.v1.signaling.api.Peer,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.Signal,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.CreatePeerRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.CreatePeerRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.CreatePeerResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.DeletePeerRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.DeletePeerResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.RefreshPeerRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.RefreshPeerResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.GetPeersRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(st){rt.Message.initialize(this,st,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},it.inherits(proto.v1.signaling.api.GetPeersResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.GetIceServersRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.GetIceServersResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.SendSignalRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.SendSignalResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(st){return proto.v1.signaling.api.Peer.toObject(st,this)},proto.v1.signaling.api.Peer.toObject=function(st,lt){var ct,ft={peerId:rt.Message.getFieldWithDefault(lt,1,""),organizationId:rt.Message.getFieldWithDefault(lt,2,""),userId:(ct=lt.getUserId())&&at.StringValue.toObject(st,ct),deviceId:(ct=lt.getDeviceId())&&at.StringValue.toObject(st,ct),sessionIdsList:(ct=rt.Message.getRepeatedField(lt,5))==null?void 0:ct,peerCreatedTimestamp:(ct=lt.getPeerCreatedTimestamp())&&at.Int64Value.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.Peer.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setPeerId(ct);break;case 2:ct=lt.readString(),st.setOrganizationId(ct);break;case 3:ct=new at.StringValue,lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setUserId(ct);break;case 4:ct=new at.StringValue,lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setDeviceId(ct);break;case 5:ct=lt.readString(),st.addSessionIds(ct);break;case 6:ct=new at.Int64Value,lt.readMessage(ct,at.Int64Value.deserializeBinaryFromReader),st.setPeerCreatedTimestamp(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(st,lt){var ct=void 0;(ct=st.getPeerId()).length>0&&lt.writeString(1,ct),(ct=st.getOrganizationId()).length>0&&lt.writeString(2,ct),(ct=st.getUserId())!=null&&lt.writeMessage(3,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getDeviceId())!=null&&lt.writeMessage(4,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getSessionIdsList()).length>0&&lt.writeRepeatedString(5,ct),(ct=st.getPeerCreatedTimestamp())!=null&&lt.writeMessage(6,ct,at.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(st){return rt.Message.setProto3StringField(this,1,st)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return rt.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(st){return rt.Message.setProto3StringField(this,2,st)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return rt.Message.getWrapperField(this,at.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(st){return rt.Message.setWrapperField(this,3,st)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return rt.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return rt.Message.getWrapperField(this,at.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(st){return rt.Message.setWrapperField(this,4,st)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return rt.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return rt.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(st){return rt.Message.setField(this,5,st||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(st,lt){return rt.Message.addToRepeatedField(this,5,st,lt)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return rt.Message.getWrapperField(this,at.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(st){return rt.Message.setWrapperField(this,6,st)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return rt.Message.getField(this,6)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(st){return proto.v1.signaling.api.Signal.toObject(st,this)},proto.v1.signaling.api.Signal.toObject=function(st,lt){var ct,ft={sessionId:(ct=lt.getSessionId())&&at.StringValue.toObject(st,ct),sessionCreatedTimestamp:(ct=lt.getSessionCreatedTimestamp())&&at.Int64Value.toObject(st,ct),senderId:rt.Message.getFieldWithDefault(lt,3,""),receiverId:rt.Message.getFieldWithDefault(lt,4,""),payload:rt.Message.getFieldWithDefault(lt,5,""),iceServers:rt.Message.getFieldWithDefault(lt,6,""),iceTransportPolicy:rt.Message.getFieldWithDefault(lt,7,""),sessionType:rt.Message.getFieldWithDefault(lt,8,0)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.Signal.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new at.StringValue;lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setSessionId(ct);break;case 2:ct=new at.Int64Value,lt.readMessage(ct,at.Int64Value.deserializeBinaryFromReader),st.setSessionCreatedTimestamp(ct);break;case 3:ct=lt.readString(),st.setSenderId(ct);break;case 4:ct=lt.readString(),st.setReceiverId(ct);break;case 5:ct=lt.readString(),st.setPayload(ct);break;case 6:ct=lt.readString(),st.setIceServers(ct);break;case 7:ct=lt.readString(),st.setIceTransportPolicy(ct);break;case 8:ct=lt.readEnum(),st.setSessionType(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(st,lt){var ct=void 0;(ct=st.getSessionId())!=null&&lt.writeMessage(1,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getSessionCreatedTimestamp())!=null&&lt.writeMessage(2,ct,at.Int64Value.serializeBinaryToWriter),(ct=st.getSenderId()).length>0&&lt.writeString(3,ct),(ct=st.getReceiverId()).length>0&&lt.writeString(4,ct),(ct=st.getPayload()).length>0&&lt.writeString(5,ct),(ct=st.getIceServers()).length>0&&lt.writeString(6,ct),(ct=st.getIceTransportPolicy()).length>0&&lt.writeString(7,ct),(ct=st.getSessionType())!==0&&lt.writeEnum(8,ct)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return rt.Message.getWrapperField(this,at.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return rt.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return rt.Message.getWrapperField(this,at.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(st){return rt.Message.setWrapperField(this,2,st)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return rt.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return rt.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(st){return rt.Message.setProto3StringField(this,3,st)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return rt.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(st){return rt.Message.setProto3StringField(this,4,st)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return rt.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(st){return rt.Message.setProto3StringField(this,5,st)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return rt.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(st){return rt.Message.setProto3StringField(this,6,st)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return rt.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(st){return rt.Message.setProto3StringField(this,7,st)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return rt.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(st){return rt.Message.setProto3EnumField(this,8,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(st){return proto.v1.signaling.api.CreatePeerRequest.toObject(st,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(st){return proto.v1.signaling.api.CreatePeerResponse.toObject(st,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(st,lt){var ct,ft={peer:(ct=lt.getPeer())&&proto.v1.signaling.api.Peer.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Peer;lt.readMessage(ct,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),st.setPeer(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeer())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return rt.Message.getField(this,1)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(st){return proto.v1.signaling.api.DeletePeerRequest.toObject(st,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(st,lt){var ct={peerId:rt.Message.getFieldWithDefault(lt,1,"")};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setPeerId(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeerId()).length>0&&lt.writeString(1,ct)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(st){return rt.Message.setProto3StringField(this,1,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(st){return proto.v1.signaling.api.DeletePeerResponse.toObject(st,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(st){return proto.v1.signaling.api.RefreshPeerRequest.toObject(st,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(st,lt){var ct,ft={peer:(ct=lt.getPeer())&&proto.v1.signaling.api.Peer.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Peer;lt.readMessage(ct,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),st.setPeer(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeer())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return rt.Message.getField(this,1)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(st){return proto.v1.signaling.api.RefreshPeerResponse.toObject(st,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(st){return proto.v1.signaling.api.GetPeersRequest.toObject(st,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(st,lt){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(st){return proto.v1.signaling.api.GetPeersResponse.toObject(st,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(st,lt){var ct={peersList:rt.Message.toObjectList(lt.getPeersList(),proto.v1.signaling.api.Peer.toObject,st)};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Peer;lt.readMessage(ct,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),st.addPeers(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeersList()).length>0&&lt.writeRepeatedMessage(1,ct,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return rt.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(st){return rt.Message.setRepeatedWrapperField(this,1,st)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(st,lt){return rt.Message.addToRepeatedWrapperField(this,1,st,proto.v1.signaling.api.Peer,lt)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(st){return proto.v1.signaling.api.GetIceServersRequest.toObject(st,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(st){return proto.v1.signaling.api.GetIceServersResponse.toObject(st,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(st,lt){var ct={iceServers:rt.Message.getFieldWithDefault(lt,1,"")};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setIceServers(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getIceServers()).length>0&&lt.writeString(1,ct)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(st){return rt.Message.setProto3StringField(this,1,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(st){return proto.v1.signaling.api.SendSignalRequest.toObject(st,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(st,lt){var ct,ft={signal:(ct=lt.getSignal())&&proto.v1.signaling.api.Signal.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Signal;lt.readMessage(ct,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),st.setSignal(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getSignal())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return rt.Message.getField(this,1)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(st){return proto.v1.signaling.api.SendSignalResponse.toObject(st,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(st,lt){var ct,ft={sessionId:(ct=lt.getSessionId())&&at.StringValue.toObject(st,ct),sessionCreatedTimestamp:(ct=lt.getSessionCreatedTimestamp())&&at.Int64Value.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new at.StringValue;lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setSessionId(ct);break;case 2:ct=new at.Int64Value,lt.readMessage(ct,at.Int64Value.deserializeBinaryFromReader),st.setSessionCreatedTimestamp(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(st,lt){var ct=void 0;(ct=st.getSessionId())!=null&&lt.writeMessage(1,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getSessionCreatedTimestamp())!=null&&lt.writeMessage(2,ct,at.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return rt.Message.getWrapperField(this,at.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return rt.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return rt.Message.getWrapperField(this,at.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(st){return rt.Message.setWrapperField(this,2,st)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return rt.Message.getField(this,2)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(st){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(st,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(st,lt){var ct={peerId:rt.Message.getFieldWithDefault(lt,1,"")};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setPeerId(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeerId()).length>0&&lt.writeString(1,ct)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(st){return rt.Message.setProto3StringField(this,1,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(st){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(st,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(st,lt){var ct,ft={signal:(ct=lt.getSignal())&&proto.v1.signaling.api.Signal.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Signal;lt.readMessage(ct,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),st.setSignal(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getSignal())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return rt.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2},it.object.extend(et,proto.v1.signaling.api)},function(tt,et,nt){function rt(dt){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(dt)}function it(dt,ht){return!ht||rt(ht)!=="object"&&typeof ht!="function"?ot(dt):ht}function ot(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}function at(dt){var ht=typeof Map=="function"?new Map:void 0;return(at=function(pt){if(pt===null||(gt=pt,Function.toString.call(gt).indexOf("[native code]")===-1))return pt;var gt;if(typeof pt!="function")throw new TypeError("Super expression must either be null or a function");if(ht!==void 0){if(ht.has(pt))return ht.get(pt);ht.set(pt,mt)}function mt(){return st(pt,arguments,ft(this).constructor)}return mt.prototype=Object.create(pt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),ct(mt,pt)})(dt)}function st(dt,ht,pt){return(st=lt()?Reflect.construct:function(gt,mt,yt){var bt=[null];bt.push.apply(bt,mt);var St=new(Function.bind.apply(gt,bt));return yt&&ct(St,yt.prototype),St}).apply(null,arguments)}function lt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ct(dt,ht){return(ct=Object.setPrototypeOf||function(pt,gt){return pt.__proto__=gt,pt})(dt,ht)}function ft(dt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(dt)}var ut=function(dt){(function(yt,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(bt&&bt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),bt&&ct(yt,bt)})(mt,dt);var ht,pt,gt=(ht=mt,pt=lt(),function(){var yt,bt=ft(ht);if(pt){var St=ft(this).constructor;yt=Reflect.construct(bt,arguments,St)}else yt=bt.apply(this,arguments);return it(this,yt)});function mt(yt){var bt;return function(St,xt){if(!(St instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,mt),bt=gt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(yt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(ot(bt),mt),bt}return mt}(at(Error));tt.exports=function(dt){if(dt.length>2)throw new ut(dt);function ht(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=gt}function pt(gt){return new ht(gt)}return ht.prototype.transform=dt,pt.Format=ht,pt}},function(tt,et,nt){(function(rt){var it=Object.getOwnPropertyDescriptors||function(Ct){for(var Ot=Object.keys(Ct),Ut={},At=0;At<Ot.length;At++)Ut[Ot[At]]=Object.getOwnPropertyDescriptor(Ct,Ot[At]);return Ut},ot=/%[sdj%]/g;et.format=function(Ct){if(!bt(Ct)){for(var Ot=[],Ut=0;Ut<arguments.length;Ut++)Ot.push(lt(arguments[Ut]));return Ot.join(" ")}Ut=1;for(var At=arguments,Mt=At.length,jt=String(Ct).replace(ot,function(Gt){if(Gt==="%%")return"%";if(Ut>=Mt)return Gt;switch(Gt){case"%s":return String(At[Ut++]);case"%d":return Number(At[Ut++]);case"%j":try{return JSON.stringify(At[Ut++])}catch{return"[Circular]"}default:return Gt}}),kt=At[Ut];Ut<Mt;kt=At[++Ut])mt(kt)||!vt(kt)?jt+=" "+kt:jt+=" "+lt(kt);return jt},et.deprecate=function(Ct,Ot){if(rt!==void 0&&rt.noDeprecation===!0)return Ct;if(rt===void 0)return function(){return et.deprecate(Ct,Ot).apply(this,arguments)};var Ut=!1;return function(){if(!Ut){if(rt.throwDeprecation)throw new Error(Ot);rt.traceDeprecation?console.trace(Ot):console.error(Ot),Ut=!0}return Ct.apply(this,arguments)}};var at,st={};function lt(Ct,Ot){var Ut={seen:[],stylize:ft};return arguments.length>=3&&(Ut.depth=arguments[2]),arguments.length>=4&&(Ut.colors=arguments[3]),gt(Ot)?Ut.showHidden=Ot:Ot&&et._extend(Ut,Ot),St(Ut.showHidden)&&(Ut.showHidden=!1),St(Ut.depth)&&(Ut.depth=2),St(Ut.colors)&&(Ut.colors=!1),St(Ut.customInspect)&&(Ut.customInspect=!0),Ut.colors&&(Ut.stylize=ct),ut(Ut,Ct,Ut.depth)}function ct(Ct,Ot){var Ut=lt.styles[Ot];return Ut?"\x1B["+lt.colors[Ut][0]+"m"+Ct+"\x1B["+lt.colors[Ut][1]+"m":Ct}function ft(Ct,Ot){return Ct}function ut(Ct,Ot,Ut){if(Ct.customInspect&&Ot&&Nt(Ot.inspect)&&Ot.inspect!==et.inspect&&(!Ot.constructor||Ot.constructor.prototype!==Ot)){var At=Ot.inspect(Ut,Ct);return bt(At)||(At=ut(Ct,At,Ut)),At}var Mt=function(Lt,Bt){if(St(Bt))return Lt.stylize("undefined","undefined");if(bt(Bt)){var Ft="'"+JSON.stringify(Bt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Lt.stylize(Ft,"string")}if(yt(Bt))return Lt.stylize(""+Bt,"number");if(gt(Bt))return Lt.stylize(""+Bt,"boolean");if(mt(Bt))return Lt.stylize("null","null")}(Ct,Ot);if(Mt)return Mt;var jt=Object.keys(Ot),kt=function(Lt){var Bt={};return Lt.forEach(function(Ft,sn){Bt[Ft]=!0}),Bt}(jt);if(Ct.showHidden&&(jt=Object.getOwnPropertyNames(Ot)),zt(Ot)&&(jt.indexOf("message")>=0||jt.indexOf("description")>=0))return dt(Ot);if(jt.length===0){if(Nt(Ot)){var Gt=Ot.name?": "+Ot.name:"";return Ct.stylize("[Function"+Gt+"]","special")}if(xt(Ot))return Ct.stylize(RegExp.prototype.toString.call(Ot),"regexp");if($t(Ot))return Ct.stylize(Date.prototype.toString.call(Ot),"date");if(zt(Ot))return dt(Ot)}var Ht,Jt="",Vt=!1,Wt=["{","}"];return pt(Ot)&&(Vt=!0,Wt=["[","]"]),Nt(Ot)&&(Jt=" [Function"+(Ot.name?": "+Ot.name:"")+"]"),xt(Ot)&&(Jt=" "+RegExp.prototype.toString.call(Ot)),$t(Ot)&&(Jt=" "+Date.prototype.toUTCString.call(Ot)),zt(Ot)&&(Jt=" "+dt(Ot)),jt.length!==0||Vt&&Ot.length!=0?Ut<0?xt(Ot)?Ct.stylize(RegExp.prototype.toString.call(Ot),"regexp"):Ct.stylize("[Object]","special"):(Ct.seen.push(Ot),Ht=Vt?function(Lt,Bt,Ft,sn,Xt){for(var dn=[],Yt=0,yn=Bt.length;Yt<yn;++Yt)It(Bt,String(Yt))?dn.push(ht(Lt,Bt,Ft,sn,String(Yt),!0)):dn.push("");return Xt.forEach(function(Qt){Qt.match(/^\d+$/)||dn.push(ht(Lt,Bt,Ft,sn,Qt,!0))}),dn}(Ct,Ot,Ut,kt,jt):jt.map(function(Lt){return ht(Ct,Ot,Ut,kt,Lt,Vt)}),Ct.seen.pop(),function(Lt,Bt,Ft){return Lt.reduce(function(sn,Xt){return Xt.indexOf(`
`)>=0,sn+Xt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ft[0]+(Bt===""?"":Bt+`
 `)+" "+Lt.join(`,
  `)+" "+Ft[1]:Ft[0]+Bt+" "+Lt.join(", ")+" "+Ft[1]}(Ht,Jt,Wt)):Wt[0]+Jt+Wt[1]}function dt(Ct){return"["+Error.prototype.toString.call(Ct)+"]"}function ht(Ct,Ot,Ut,At,Mt,jt){var kt,Gt,Ht;if((Ht=Object.getOwnPropertyDescriptor(Ot,Mt)||{value:Ot[Mt]}).get?Gt=Ht.set?Ct.stylize("[Getter/Setter]","special"):Ct.stylize("[Getter]","special"):Ht.set&&(Gt=Ct.stylize("[Setter]","special")),It(At,Mt)||(kt="["+Mt+"]"),Gt||(Ct.seen.indexOf(Ht.value)<0?(Gt=mt(Ut)?ut(Ct,Ht.value,null):ut(Ct,Ht.value,Ut-1)).indexOf(`
`)>-1&&(Gt=jt?Gt.split(`
`).map(function(Jt){return"  "+Jt}).join(`
`).substr(2):`
`+Gt.split(`
`).map(function(Jt){return"   "+Jt}).join(`
`)):Gt=Ct.stylize("[Circular]","special")),St(kt)){if(jt&&Mt.match(/^\d+$/))return Gt;(kt=JSON.stringify(""+Mt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(kt=kt.substr(1,kt.length-2),kt=Ct.stylize(kt,"name")):(kt=kt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),kt=Ct.stylize(kt,"string"))}return kt+": "+Gt}function pt(Ct){return Array.isArray(Ct)}function gt(Ct){return typeof Ct=="boolean"}function mt(Ct){return Ct===null}function yt(Ct){return typeof Ct=="number"}function bt(Ct){return typeof Ct=="string"}function St(Ct){return Ct===void 0}function xt(Ct){return vt(Ct)&&wt(Ct)==="[object RegExp]"}function vt(Ct){return typeof Ct=="object"&&Ct!==null}function $t(Ct){return vt(Ct)&&wt(Ct)==="[object Date]"}function zt(Ct){return vt(Ct)&&(wt(Ct)==="[object Error]"||Ct instanceof Error)}function Nt(Ct){return typeof Ct=="function"}function wt(Ct){return Object.prototype.toString.call(Ct)}function Et(Ct){return Ct<10?"0"+Ct.toString(10):Ct.toString(10)}et.debuglog=function(Ct){if(St(at)&&(at=rt.env.NODE_DEBUG||""),Ct=Ct.toUpperCase(),!st[Ct])if(new RegExp("\\b"+Ct+"\\b","i").test(at)){var Ot=rt.pid;st[Ct]=function(){var Ut=et.format.apply(et,arguments);console.error("%s %d: %s",Ct,Ot,Ut)}}else st[Ct]=function(){};return st[Ct]},et.inspect=lt,lt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},lt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},et.isArray=pt,et.isBoolean=gt,et.isNull=mt,et.isNullOrUndefined=function(Ct){return Ct==null},et.isNumber=yt,et.isString=bt,et.isSymbol=function(Ct){return typeof Ct=="symbol"},et.isUndefined=St,et.isRegExp=xt,et.isObject=vt,et.isDate=$t,et.isError=zt,et.isFunction=Nt,et.isPrimitive=function(Ct){return Ct===null||typeof Ct=="boolean"||typeof Ct=="number"||typeof Ct=="string"||typeof Ct=="symbol"||Ct===void 0},et.isBuffer=nt(106);var Rt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Tt(){var Ct=new Date,Ot=[Et(Ct.getHours()),Et(Ct.getMinutes()),Et(Ct.getSeconds())].join(":");return[Ct.getDate(),Rt[Ct.getMonth()],Ot].join(" ")}function It(Ct,Ot){return Object.prototype.hasOwnProperty.call(Ct,Ot)}et.log=function(){console.log("%s - %s",Tt(),et.format.apply(et,arguments))},et.inherits=nt(107),et._extend=function(Ct,Ot){if(!Ot||!vt(Ot))return Ct;for(var Ut=Object.keys(Ot),At=Ut.length;At--;)Ct[Ut[At]]=Ot[Ut[At]];return Ct};var Pt=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function Dt(Ct,Ot){if(!Ct){var Ut=new Error("Promise was rejected with a falsy value");Ut.reason=Ct,Ct=Ut}return Ot(Ct)}et.promisify=function(Ct){if(typeof Ct!="function")throw new TypeError('The "original" argument must be of type Function');if(Pt&&Ct[Pt]){var Ot;if(typeof(Ot=Ct[Pt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ot,Pt,{value:Ot,enumerable:!1,writable:!1,configurable:!0}),Ot}function Ot(){for(var Ut,At,Mt=new Promise(function(Gt,Ht){Ut=Gt,At=Ht}),jt=[],kt=0;kt<arguments.length;kt++)jt.push(arguments[kt]);jt.push(function(Gt,Ht){Gt?At(Gt):Ut(Ht)});try{Ct.apply(this,jt)}catch(Gt){At(Gt)}return Mt}return Object.setPrototypeOf(Ot,Object.getPrototypeOf(Ct)),Pt&&Object.defineProperty(Ot,Pt,{value:Ot,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ot,it(Ct))},et.promisify.custom=Pt,et.callbackify=function(Ct){if(typeof Ct!="function")throw new TypeError('The "original" argument must be of type Function');function Ot(){for(var Ut=[],At=0;At<arguments.length;At++)Ut.push(arguments[At]);var Mt=Ut.pop();if(typeof Mt!="function")throw new TypeError("The last argument must be of type Function");var jt=this,kt=function(){return Mt.apply(jt,arguments)};Ct.apply(this,Ut).then(function(Gt){rt.nextTick(kt,null,Gt)},function(Gt){rt.nextTick(Dt,Gt,kt)})}return Object.setPrototypeOf(Ot,Object.getPrototypeOf(Ct)),Object.defineProperties(Ot,it(Ct)),Ot}}).call(this,nt(2))},function(tt,et,nt){nt.d(et,"a",function(){return rt});const rt=it=>new Promise(ot=>setTimeout(ot,it||0))},function(tt,et,nt){(function(rt){var it=rt!==void 0&&rt||typeof self!="undefined"&&self||window,ot=Function.prototype.apply;function at(st,lt){this._id=st,this._clearFn=lt}et.setTimeout=function(){return new at(ot.call(setTimeout,it,arguments),clearTimeout)},et.setInterval=function(){return new at(ot.call(setInterval,it,arguments),clearInterval)},et.clearTimeout=et.clearInterval=function(st){st&&st.close()},at.prototype.unref=at.prototype.ref=function(){},at.prototype.close=function(){this._clearFn.call(it,this._id)},et.enroll=function(st,lt){clearTimeout(st._idleTimeoutId),st._idleTimeout=lt},et.unenroll=function(st){clearTimeout(st._idleTimeoutId),st._idleTimeout=-1},et._unrefActive=et.active=function(st){clearTimeout(st._idleTimeoutId);var lt=st._idleTimeout;lt>=0&&(st._idleTimeoutId=setTimeout(function(){st._onTimeout&&st._onTimeout()},lt))},nt(140),et.setImmediate=typeof self!="undefined"&&self.setImmediate||rt!==void 0&&rt.setImmediate||this&&this.setImmediate,et.clearImmediate=typeof self!="undefined"&&self.clearImmediate||rt!==void 0&&rt.clearImmediate||this&&this.clearImmediate}).call(this,nt(5))},function(tt,et,nt){(function(rt){rt===void 0||!rt.version||rt.version.indexOf("v0.")===0||rt.version.indexOf("v1.")===0&&rt.version.indexOf("v1.8.")!==0?tt.exports={nextTick:function(it,ot,at,st){if(typeof it!="function")throw new TypeError('"callback" argument must be a function');var lt,ct,ft=arguments.length;switch(ft){case 0:case 1:return rt.nextTick(it);case 2:return rt.nextTick(function(){it.call(null,ot)});case 3:return rt.nextTick(function(){it.call(null,ot,at)});case 4:return rt.nextTick(function(){it.call(null,ot,at,st)});default:for(lt=new Array(ft-1),ct=0;ct<lt.length;)lt[ct++]=arguments[ct];return rt.nextTick(function(){it.apply(null,lt)})}}}:tt.exports=rt}).call(this,nt(2))},function(tt,et,nt){(function(rt){function it(ot){return Object.prototype.toString.call(ot)}et.isArray=function(ot){return Array.isArray?Array.isArray(ot):it(ot)==="[object Array]"},et.isBoolean=function(ot){return typeof ot=="boolean"},et.isNull=function(ot){return ot===null},et.isNullOrUndefined=function(ot){return ot==null},et.isNumber=function(ot){return typeof ot=="number"},et.isString=function(ot){return typeof ot=="string"},et.isSymbol=function(ot){return typeof ot=="symbol"},et.isUndefined=function(ot){return ot===void 0},et.isRegExp=function(ot){return it(ot)==="[object RegExp]"},et.isObject=function(ot){return typeof ot=="object"&&ot!==null},et.isDate=function(ot){return it(ot)==="[object Date]"},et.isError=function(ot){return it(ot)==="[object Error]"||ot instanceof Error},et.isFunction=function(ot){return typeof ot=="function"},et.isPrimitive=function(ot){return ot===null||typeof ot=="boolean"||typeof ot=="number"||typeof ot=="string"||typeof ot=="symbol"||ot===void 0},et.isBuffer=rt.isBuffer}).call(this,nt(4).Buffer)},function(tt,et){et.endianness=function(){return"LE"},et.hostname=function(){return typeof location!="undefined"?location.hostname:""},et.loadavg=function(){return[]},et.uptime=function(){return 0},et.freemem=function(){return Number.MAX_VALUE},et.totalmem=function(){return Number.MAX_VALUE},et.cpus=function(){return[]},et.type=function(){return"Browser"},et.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},et.networkInterfaces=et.getNetworkInterfaces=function(){return{}},et.arch=function(){return"javascript"},et.platform=function(){return"browser"},et.tmpdir=et.tmpDir=function(){return"/tmp"},et.EOL=`
`,et.homedir=function(){return"/"}},function(tt,et,nt){var rt=nt(56),it=nt(59).warn,ot=et;ot.version=nt(137).version,ot.transports=nt(138),ot.config=nt(47),ot.addColors=rt.levels,ot.format=rt.format,ot.createLogger=nt(85),ot.ExceptionHandler=nt(86),ot.RejectionHandler=nt(90),ot.Container=nt(209),ot.Transport=nt(17),ot.loggers=new ot.Container;var at=ot.createLogger();Object.keys(ot.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(st){return ot[st]=function(){return at[st].apply(at,arguments)}}),Object.defineProperty(ot,"level",{get:function(){return at.level},set:function(st){at.level=st}}),Object.defineProperty(ot,"exceptions",{get:function(){return at.exceptions}}),["exitOnError"].forEach(function(st){Object.defineProperty(ot,st,{get:function(){return at[st]},set:function(lt){at[st]=lt}})}),Object.defineProperty(ot,"default",{get:function(){return{exceptionHandlers:at.exceptionHandlers,rejectionHandlers:at.rejectionHandlers,transports:at.transports}}}),it.deprecated(ot,"setLevels"),it.forFunctions(ot,"useFormat",["cli"]),it.forProperties(ot,"useFormat",["padLevels","stripColors"]),it.forFunctions(ot,"deprecated",["addRewriter","addFilter","clone","extend"]),it.forProperties(ot,"deprecated",["emitErrs","levelLength"]),it.moved(ot,"createLogger","Logger")},function(tt,et,nt){var rt=nt(10),it=nt(141),ot=nt(3).LEVEL,at=tt.exports=function(){var st=this,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it.call(this,{objectMode:!0,highWaterMark:lt.highWaterMark}),this.format=lt.format,this.level=lt.level,this.handleExceptions=lt.handleExceptions,this.handleRejections=lt.handleRejections,this.silent=lt.silent,lt.log&&(this.log=lt.log),lt.logv&&(this.logv=lt.logv),lt.close&&(this.close=lt.close),this.once("pipe",function(ct){st.levels=ct.levels,st.parent=ct}),this.once("unpipe",function(ct){ct===st.parent&&(st.parent=null,st.close&&st.close())})};rt.inherits(at,it),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);var ft=this.level||this.parent&&this.parent.level;if(!ft||this.levels[ft]>=this.levels[st[ot]]){if(st&&!this.format)return this.log(st,ct);var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(ct(),ut)throw ut;return}return this.log(dt,ct)}return ct(null)},at.prototype._writev=function(st,lt){if(this.logv){var ct=st.filter(this._accept,this);return ct.length?this.logv(ct,lt):lt(null)}for(var ft=0;ft<st.length;ft++)if(this._accept(st[ft]))if(!st[ft].chunk||this.format){var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st[ft].chunk),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(st[ft].callback(),ut)throw lt(null),ut}else this.log(dt,st[ft].callback)}else this.log(st[ft].chunk,st[ft].callback);return lt(null)},at.prototype._accept=function(st){var lt=st.chunk;if(this.silent)return!1;var ct=this.level||this.parent&&this.parent.level;return!(lt.exception!==!0&&ct&&!(this.levels[ct]>=this.levels[lt[ot]])||!this.handleExceptions&&lt.exception===!0)},at.prototype._nop=function(){},tt.exports.LegacyTransportStream=nt(147)},function(tt,et,nt){var rt,it=typeof Reflect=="object"?Reflect:null,ot=it&&typeof it.apply=="function"?it.apply:function(mt,yt,bt){return Function.prototype.apply.call(mt,yt,bt)};rt=it&&typeof it.ownKeys=="function"?it.ownKeys:Object.getOwnPropertySymbols?function(mt){return Object.getOwnPropertyNames(mt).concat(Object.getOwnPropertySymbols(mt))}:function(mt){return Object.getOwnPropertyNames(mt)};var at=Number.isNaN||function(mt){return mt!=mt};function st(){st.init.call(this)}tt.exports=st,st.EventEmitter=st,st.prototype._events=void 0,st.prototype._eventsCount=0,st.prototype._maxListeners=void 0;var lt=10;function ct(mt){return mt._maxListeners===void 0?st.defaultMaxListeners:mt._maxListeners}function ft(mt,yt,bt,St){var xt,vt,$t,zt;if(typeof bt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof bt);if((vt=mt._events)===void 0?(vt=mt._events=Object.create(null),mt._eventsCount=0):(vt.newListener!==void 0&&(mt.emit("newListener",yt,bt.listener?bt.listener:bt),vt=mt._events),$t=vt[yt]),$t===void 0)$t=vt[yt]=bt,++mt._eventsCount;else if(typeof $t=="function"?$t=vt[yt]=St?[bt,$t]:[$t,bt]:St?$t.unshift(bt):$t.push(bt),(xt=ct(mt))>0&&$t.length>xt&&!$t.warned){$t.warned=!0;var Nt=new Error("Possible EventEmitter memory leak detected. "+$t.length+" "+String(yt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Nt.name="MaxListenersExceededWarning",Nt.emitter=mt,Nt.type=yt,Nt.count=$t.length,zt=Nt,console&&console.warn&&console.warn(zt)}return mt}function ut(){for(var mt=[],yt=0;yt<arguments.length;yt++)mt.push(arguments[yt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,ot(this.listener,this.target,mt))}function dt(mt,yt,bt){var St={fired:!1,wrapFn:void 0,target:mt,type:yt,listener:bt},xt=ut.bind(St);return xt.listener=bt,St.wrapFn=xt,xt}function ht(mt,yt,bt){var St=mt._events;if(St===void 0)return[];var xt=St[yt];return xt===void 0?[]:typeof xt=="function"?bt?[xt.listener||xt]:[xt]:bt?function(vt){for(var $t=new Array(vt.length),zt=0;zt<$t.length;++zt)$t[zt]=vt[zt].listener||vt[zt];return $t}(xt):gt(xt,xt.length)}function pt(mt){var yt=this._events;if(yt!==void 0){var bt=yt[mt];if(typeof bt=="function")return 1;if(bt!==void 0)return bt.length}return 0}function gt(mt,yt){for(var bt=new Array(yt),St=0;St<yt;++St)bt[St]=mt[St];return bt}Object.defineProperty(st,"defaultMaxListeners",{enumerable:!0,get:function(){return lt},set:function(mt){if(typeof mt!="number"||mt<0||at(mt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+mt+".");lt=mt}}),st.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},st.prototype.setMaxListeners=function(mt){if(typeof mt!="number"||mt<0||at(mt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+mt+".");return this._maxListeners=mt,this},st.prototype.getMaxListeners=function(){return ct(this)},st.prototype.emit=function(mt){for(var yt=[],bt=1;bt<arguments.length;bt++)yt.push(arguments[bt]);var St=mt==="error",xt=this._events;if(xt!==void 0)St=St&&xt.error===void 0;else if(!St)return!1;if(St){var vt;if(yt.length>0&&(vt=yt[0]),vt instanceof Error)throw vt;var $t=new Error("Unhandled error."+(vt?" ("+vt.message+")":""));throw $t.context=vt,$t}var zt=xt[mt];if(zt===void 0)return!1;if(typeof zt=="function")ot(zt,this,yt);else{var Nt=zt.length,wt=gt(zt,Nt);for(bt=0;bt<Nt;++bt)ot(wt[bt],this,yt)}return!0},st.prototype.addListener=function(mt,yt){return ft(this,mt,yt,!1)},st.prototype.on=st.prototype.addListener,st.prototype.prependListener=function(mt,yt){return ft(this,mt,yt,!0)},st.prototype.once=function(mt,yt){if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt);return this.on(mt,dt(this,mt,yt)),this},st.prototype.prependOnceListener=function(mt,yt){if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt);return this.prependListener(mt,dt(this,mt,yt)),this},st.prototype.removeListener=function(mt,yt){var bt,St,xt,vt,$t;if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt);if((St=this._events)===void 0)return this;if((bt=St[mt])===void 0)return this;if(bt===yt||bt.listener===yt)--this._eventsCount==0?this._events=Object.create(null):(delete St[mt],St.removeListener&&this.emit("removeListener",mt,bt.listener||yt));else if(typeof bt!="function"){for(xt=-1,vt=bt.length-1;vt>=0;vt--)if(bt[vt]===yt||bt[vt].listener===yt){$t=bt[vt].listener,xt=vt;break}if(xt<0)return this;xt===0?bt.shift():function(zt,Nt){for(;Nt+1<zt.length;Nt++)zt[Nt]=zt[Nt+1];zt.pop()}(bt,xt),bt.length===1&&(St[mt]=bt[0]),St.removeListener!==void 0&&this.emit("removeListener",mt,$t||yt)}return this},st.prototype.off=st.prototype.removeListener,st.prototype.removeAllListeners=function(mt){var yt,bt,St;if((bt=this._events)===void 0)return this;if(bt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):bt[mt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete bt[mt]),this;if(arguments.length===0){var xt,vt=Object.keys(bt);for(St=0;St<vt.length;++St)(xt=vt[St])!=="removeListener"&&this.removeAllListeners(xt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(yt=bt[mt])=="function")this.removeListener(mt,yt);else if(yt!==void 0)for(St=yt.length-1;St>=0;St--)this.removeListener(mt,yt[St]);return this},st.prototype.listeners=function(mt){return ht(this,mt,!0)},st.prototype.rawListeners=function(mt){return ht(this,mt,!1)},st.listenerCount=function(mt,yt){return typeof mt.listenerCount=="function"?mt.listenerCount(yt):pt.call(mt,yt)},st.prototype.listenerCount=pt,st.prototype.eventNames=function(){return this._eventsCount>0?rt(this._events):[]}},function(tt,et,nt){var rt=nt(146).Buffer,it=rt.isEncoding||function(pt){switch((pt=""+pt)&&pt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ot(pt){var gt;switch(this.encoding=function(mt){var yt=function(bt){if(!bt)return"utf8";for(var St;;)switch(bt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return bt;default:if(St)return;bt=(""+bt).toLowerCase(),St=!0}}(mt);if(typeof yt!="string"&&(rt.isEncoding===it||!it(mt)))throw new Error("Unknown encoding: "+mt);return yt||mt}(pt),this.encoding){case"utf16le":this.text=lt,this.end=ct,gt=4;break;case"utf8":this.fillLast=st,gt=4;break;case"base64":this.text=ft,this.end=ut,gt=3;break;default:return this.write=dt,void(this.end=ht)}this.lastNeed=0,this.lastTotal=0,this.lastChar=rt.allocUnsafe(gt)}function at(pt){return pt<=127?0:pt>>5==6?2:pt>>4==14?3:pt>>3==30?4:pt>>6==2?-1:-2}function st(pt){var gt=this.lastTotal-this.lastNeed,mt=function(yt,bt,St){if((192&bt[0])!=128)return yt.lastNeed=0,"\uFFFD";if(yt.lastNeed>1&&bt.length>1){if((192&bt[1])!=128)return yt.lastNeed=1,"\uFFFD";if(yt.lastNeed>2&&bt.length>2&&(192&bt[2])!=128)return yt.lastNeed=2,"\uFFFD"}}(this,pt);return mt!==void 0?mt:this.lastNeed<=pt.length?(pt.copy(this.lastChar,gt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(pt.copy(this.lastChar,gt,0,pt.length),void(this.lastNeed-=pt.length))}function lt(pt,gt){if((pt.length-gt)%2==0){var mt=pt.toString("utf16le",gt);if(mt){var yt=mt.charCodeAt(mt.length-1);if(yt>=55296&&yt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pt[pt.length-2],this.lastChar[1]=pt[pt.length-1],mt.slice(0,-1)}return mt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pt[pt.length-1],pt.toString("utf16le",gt,pt.length-1)}function ct(pt){var gt=pt&&pt.length?this.write(pt):"";if(this.lastNeed){var mt=this.lastTotal-this.lastNeed;return gt+this.lastChar.toString("utf16le",0,mt)}return gt}function ft(pt,gt){var mt=(pt.length-gt)%3;return mt===0?pt.toString("base64",gt):(this.lastNeed=3-mt,this.lastTotal=3,mt===1?this.lastChar[0]=pt[pt.length-1]:(this.lastChar[0]=pt[pt.length-2],this.lastChar[1]=pt[pt.length-1]),pt.toString("base64",gt,pt.length-mt))}function ut(pt){var gt=pt&&pt.length?this.write(pt):"";return this.lastNeed?gt+this.lastChar.toString("base64",0,3-this.lastNeed):gt}function dt(pt){return pt.toString(this.encoding)}function ht(pt){return pt&&pt.length?this.write(pt):""}et.StringDecoder=ot,ot.prototype.write=function(pt){if(pt.length===0)return"";var gt,mt;if(this.lastNeed){if((gt=this.fillLast(pt))===void 0)return"";mt=this.lastNeed,this.lastNeed=0}else mt=0;return mt<pt.length?gt?gt+this.text(pt,mt):this.text(pt,mt):gt||""},ot.prototype.end=function(pt){var gt=pt&&pt.length?this.write(pt):"";return this.lastNeed?gt+"\uFFFD":gt},ot.prototype.text=function(pt,gt){var mt=function(bt,St,xt){var vt=St.length-1;if(vt<xt)return 0;var $t=at(St[vt]);return $t>=0?($t>0&&(bt.lastNeed=$t-1),$t):--vt<xt||$t===-2?0:($t=at(St[vt]))>=0?($t>0&&(bt.lastNeed=$t-2),$t):--vt<xt||$t===-2?0:($t=at(St[vt]))>=0?($t>0&&($t===2?$t=0:bt.lastNeed=$t-3),$t):0}(this,pt,gt);if(!this.lastNeed)return pt.toString("utf8",gt);this.lastTotal=mt;var yt=pt.length-(mt-this.lastNeed);return pt.copy(this.lastChar,0,yt),pt.toString("utf8",gt,yt)},ot.prototype.fillLast=function(pt){if(this.lastNeed<=pt.length)return pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pt.length),this.lastNeed-=pt.length}},function(tt,et,nt){var rt=nt(13),it=Object.keys||function(pt){var gt=[];for(var mt in pt)gt.push(mt);return gt};tt.exports=ut;var ot=nt(14);ot.inherits=nt(6);var at=nt(67),st=nt(44);ot.inherits(ut,at);for(var lt=it(st.prototype),ct=0;ct<lt.length;ct++){var ft=lt[ct];ut.prototype[ft]||(ut.prototype[ft]=st.prototype[ft])}function ut(pt){if(!(this instanceof ut))return new ut(pt);at.call(this,pt),st.call(this,pt),pt&&pt.readable===!1&&(this.readable=!1),pt&&pt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,pt&&pt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",dt)}function dt(){this.allowHalfOpen||this._writableState.ended||rt.nextTick(ht,this)}function ht(pt){pt.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(pt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=pt,this._writableState.destroyed=pt)}}),ut.prototype._destroy=function(pt,gt){this.push(null),this.end(),rt.nextTick(gt,pt)}},function(tt,et,nt){tt.exports=function(rt,it){it||(it={}),typeof it=="function"&&(it={cmp:it});var ot,at=typeof it.cycles=="boolean"&&it.cycles,st=it.cmp&&(ot=it.cmp,function(ct){return function(ft,ut){var dt={key:ft,value:ct[ft]},ht={key:ut,value:ct[ut]};return ot(dt,ht)}}),lt=[];return function ct(ft){if(ft&&ft.toJSON&&typeof ft.toJSON=="function"&&(ft=ft.toJSON()),ft!==void 0){if(typeof ft=="number")return isFinite(ft)?""+ft:"null";if(typeof ft!="object")return JSON.stringify(ft);var ut,dt;if(Array.isArray(ft)){for(dt="[",ut=0;ut<ft.length;ut++)ut&&(dt+=","),dt+=ct(ft[ut])||"null";return dt+"]"}if(ft===null)return"null";if(lt.indexOf(ft)!==-1){if(at)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ht=lt.push(ft)-1,pt=Object.keys(ft).sort(st&&st(ft));for(dt="",ut=0;ut<pt.length;ut++){var gt=pt[ut],mt=ct(ft[gt]);mt&&(dt&&(dt+=","),dt+=JSON.stringify(gt)+":"+mt)}return lt.splice(ht,1),"{"+dt+"}"}}(rt)}},function(tt,et,nt){(function(rt){function it(mn){var wn=0;return function(){return wn<mn.length?{done:!1,value:mn[wn++]}:{done:!0}}}var ot=typeof Object.defineProperties=="function"?Object.defineProperty:function(mn,wn,An){mn!=Array.prototype&&mn!=Object.prototype&&(mn[wn]=An.value)},at=function(mn){mn=[typeof window=="object"&&window,typeof self=="object"&&self,typeof rt=="object"&&rt,mn];for(var wn=0;wn<mn.length;++wn){var An=mn[wn];if(An&&An.Math==Math)return An}throw Error("Cannot find global object")}(this);function st(mn,wn){if(wn){var An=at;mn=mn.split(".");for(var Dn=0;Dn<mn.length-1;Dn++){var On=mn[Dn];On in An||(An[On]={}),An=An[On]}(wn=wn(Dn=An[mn=mn[mn.length-1]]))!=Dn&&wn!=null&&ot(An,mn,{configurable:!0,writable:!0,value:wn})}}function lt(mn){var wn=typeof Symbol!="undefined"&&Symbol.iterator&&mn[Symbol.iterator];return wn?wn.call(mn):{next:it(mn)}}st("Object.is",function(mn){return mn||function(wn,An){return wn===An?wn!==0||1/wn==1/An:wn!=wn&&An!=An}}),st("Array.prototype.includes",function(mn){return mn||function(wn,An){var Dn=this;Dn instanceof String&&(Dn=String(Dn));var On=Dn.length;for(0>(An=An||0)&&(An=Math.max(An+On,0));An<On;An++){var Gn=Dn[An];if(Gn===wn||Object.is(Gn,wn))return!0}return!1}}),st("Promise",function(mn){function wn(Pn){this.b=0,this.c=void 0,this.a=[];var jn=this.f();try{Pn(jn.resolve,jn.reject)}catch(Yn){jn.reject(Yn)}}function An(){this.a=null}function Dn(Pn){return Pn instanceof wn?Pn:new wn(function(jn){jn(Pn)})}if(mn)return mn;An.prototype.b=function(Pn){if(this.a==null){this.a=[];var jn=this;this.c(function(){jn.g()})}this.a.push(Pn)};var On=at.setTimeout;An.prototype.c=function(Pn){On(Pn,0)},An.prototype.g=function(){for(;this.a&&this.a.length;){var Pn=this.a;this.a=[];for(var jn=0;jn<Pn.length;++jn){var Yn=Pn[jn];Pn[jn]=null;try{Yn()}catch(tr){this.f(tr)}}}this.a=null},An.prototype.f=function(Pn){this.c(function(){throw Pn})},wn.prototype.f=function(){function Pn(tr){return function(rr){Yn||(Yn=!0,tr.call(jn,rr))}}var jn=this,Yn=!1;return{resolve:Pn(this.m),reject:Pn(this.g)}},wn.prototype.m=function(Pn){if(Pn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Pn instanceof wn)this.o(Pn);else{e:switch(typeof Pn){case"object":var jn=Pn!=null;break e;case"function":jn=!0;break e;default:jn=!1}jn?this.l(Pn):this.h(Pn)}},wn.prototype.l=function(Pn){var jn=void 0;try{jn=Pn.then}catch(Yn){return void this.g(Yn)}typeof jn=="function"?this.u(jn,Pn):this.h(Pn)},wn.prototype.g=function(Pn){this.i(2,Pn)},wn.prototype.h=function(Pn){this.i(1,Pn)},wn.prototype.i=function(Pn,jn){if(this.b!=0)throw Error("Cannot settle("+Pn+", "+jn+"): Promise already settled in state"+this.b);this.b=Pn,this.c=jn,this.j()},wn.prototype.j=function(){if(this.a!=null){for(var Pn=0;Pn<this.a.length;++Pn)Gn.b(this.a[Pn]);this.a=null}};var Gn=new An;return wn.prototype.o=function(Pn){var jn=this.f();Pn.w(jn.resolve,jn.reject)},wn.prototype.u=function(Pn,jn){var Yn=this.f();try{Pn.call(jn,Yn.resolve,Yn.reject)}catch(tr){Yn.reject(tr)}},wn.prototype.then=function(Pn,jn){function Yn(or,wr){return typeof or=="function"?function(br){try{tr(or(br))}catch(Cr){rr(Cr)}}:wr}var tr,rr,lr=new wn(function(or,wr){tr=or,rr=wr});return this.w(Yn(Pn,tr),Yn(jn,rr)),lr},wn.prototype.catch=function(Pn){return this.then(void 0,Pn)},wn.prototype.w=function(Pn,jn){function Yn(){switch(tr.b){case 1:Pn(tr.c);break;case 2:jn(tr.c);break;default:throw Error("Unexpected state: "+tr.b)}}var tr=this;this.a==null?Gn.b(Yn):this.a.push(Yn)},wn.resolve=Dn,wn.reject=function(Pn){return new wn(function(jn,Yn){Yn(Pn)})},wn.race=function(Pn){return new wn(function(jn,Yn){for(var tr=lt(Pn),rr=tr.next();!rr.done;rr=tr.next())Dn(rr.value).w(jn,Yn)})},wn.all=function(Pn){var jn=lt(Pn),Yn=jn.next();return Yn.done?Dn([]):new wn(function(tr,rr){function lr(br){return function(Cr){or[br]=Cr,--wr==0&&tr(or)}}var or=[],wr=0;do or.push(void 0),wr++,Dn(Yn.value).w(lr(or.length-1),rr),Yn=jn.next();while(!Yn.done)})},wn});var ct=ct||{},ft=this||self;function ut(mn,wn){mn=mn.split("."),wn=wn||ft;for(var An=0;An<mn.length;An++)if((wn=wn[mn[An]])==null)return null;return wn}function dt(){}function ht(mn){var wn=typeof mn;if(wn=="object"){if(!mn)return"null";if(mn instanceof Array)return"array";if(mn instanceof Object)return wn;var An=Object.prototype.toString.call(mn);if(An=="[object Window]")return"object";if(An=="[object Array]"||typeof mn.length=="number"&&mn.splice!==void 0&&mn.propertyIsEnumerable!==void 0&&!mn.propertyIsEnumerable("splice"))return"array";if(An=="[object Function]"||mn.call!==void 0&&mn.propertyIsEnumerable!==void 0&&!mn.propertyIsEnumerable("call"))return"function"}else if(wn=="function"&&mn.call===void 0)return"object";return wn}function pt(mn){var wn=typeof mn;return wn=="object"&&mn!=null||wn=="function"}function gt(mn,wn,An){return mn.call.apply(mn.bind,arguments)}function mt(mn,wn,An){if(!mn)throw Error();if(2<arguments.length){var Dn=Array.prototype.slice.call(arguments,2);return function(){var On=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(On,Dn),mn.apply(wn,On)}}return function(){return mn.apply(wn,arguments)}}function yt(mn,wn,An){return(yt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt:mt).apply(null,arguments)}function bt(mn,wn){function An(){}An.prototype=wn.prototype,mn.S=wn.prototype,mn.prototype=new An,mn.prototype.constructor=mn}function St(){this.a={}}function xt(mn,wn,An,Dn){this.f=mn,this.c=wn,this.b=An,this.a=Dn}function vt(mn,wn,An,Dn){An=An===void 0?{}:An,this.c=mn,this.a=An,this.b=wn,this.f=Dn===void 0?null:Dn}function $t(mn,wn,An,Dn,On,Gn){this.name=mn,this.a=On,this.b=Gn}function zt(mn,wn,An){An=An===void 0?{}:An;var Dn=Dn===void 0?new St:Dn;return new xt(wn,mn,An,Dn)}function Nt(mn,wn,An,Dn){return Dn instanceof $t?Dn:new $t(mn,An,Dn.b||wn.constructor,Dn.f,Dn.a,Dn.c)}function wt(mn){this.a=mn}function Et(mn){switch(mn){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function Rt(mn){if(Error.captureStackTrace)Error.captureStackTrace(this,Rt);else{var wn=Error().stack;wn&&(this.stack=wn)}mn&&(this.message=String(mn))}function Tt(mn,wn){for(var An="",Dn=(mn=mn.split("%s")).length-1,On=0;On<Dn;On++)An+=mn[On]+(On<wn.length?wn[On]:"%s");Rt.call(this,An+mn[Dn])}function It(){this.j=null,this.i=[],this.l=0,this.b=Pt,this.f=this.a=this.h=0,this.c=null,this.g=0}St.prototype.get=function(mn){return this.a[mn]},St.prototype.f=function(){return Object.keys(this.a)},xt.prototype.getRequestMessage=function(){return this.f},xt.prototype.getMethodDescriptor=function(){return this.c},xt.prototype.getMetadata=function(){return this.b},xt.prototype.getCallOptions=function(){return this.a},vt.prototype.getResponseMessage=function(){return this.c},vt.prototype.getMetadata=function(){return this.a},vt.prototype.getMethodDescriptor=function(){return this.b},vt.prototype.getStatus=function(){return this.f},wt.prototype.on=function(mn,wn){return mn=="data"||mn=="error"?this:this.a.on(mn,wn)},wt.prototype.removeListener=function(mn,wn){return this.a.removeListener(mn,wn)},wt.prototype.cancel=function(){this.a.cancel()},bt(Rt,Error),Rt.prototype.name="CustomError",bt(Tt,Rt),Tt.prototype.name="AssertionError";var Pt=0,Dt=1,Ct=2,Ot=3,Ut=0,At=128;function Mt(mn,wn,An,Dn){throw mn.b=Ot,mn.j="The stream is broken @"+mn.l+"/"+An+". Error: "+Dn+`. With input:
`+wn,Error(mn.j)}var jt=Array.prototype.indexOf?function(mn,wn){return Array.prototype.indexOf.call(mn,wn,void 0)}:function(mn,wn){if(typeof mn=="string")return typeof wn!="string"||wn.length!=1?-1:mn.indexOf(wn,0);for(var An=0;An<mn.length;An++)if(An in mn&&mn[An]===wn)return An;return-1},kt,Gt=String.prototype.trim?function(mn){return mn.trim()}:function(mn){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(mn)[1]};function Ht(mn,wn){return mn.indexOf(wn)!=-1}function Jt(mn,wn){return mn<wn?-1:mn>wn?1:0}e:{var Vt=ft.navigator;if(Vt){var Wt=Vt.userAgent;if(Wt){kt=Wt;break e}}kt=""}var Lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bt(mn){var wn=1;mn=mn.split(":");for(var An=[];0<wn&&mn.length;)An.push(mn.shift()),wn--;return mn.length&&An.push(mn.join(":")),An}function Ft(mn){return Ft[" "](mn),mn}Ft[" "]=dt;var sn,Xt,dn=Ht(kt,"Opera"),Yt=Ht(kt,"Trident")||Ht(kt,"MSIE"),yn=Ht(kt,"Edge"),Qt=Ht(kt,"Gecko")&&!(Ht(kt.toLowerCase(),"webkit")&&!Ht(kt,"Edge"))&&!(Ht(kt,"Trident")||Ht(kt,"MSIE"))&&!Ht(kt,"Edge"),Kt=Ht(kt.toLowerCase(),"webkit")&&!Ht(kt,"Edge");function hn(){var mn=ft.document;return mn?mn.documentMode:void 0}e:{var vn="",Sn=(Xt=kt,Qt?/rv:([^\);]+)(\)|;)/.exec(Xt):yn?/Edge\/([\d\.]+)/.exec(Xt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):Kt?/WebKit\/(\S+)/.exec(Xt):dn?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);if(Sn&&(vn=Sn?Sn[1]:""),Yt){var Cn=hn();if(Cn!=null&&Cn>parseFloat(vn)){sn=String(Cn);break e}}sn=vn}var cn,ln={};function bn(mn){return function(wn,An){var Dn=ln;return Object.prototype.hasOwnProperty.call(Dn,wn)?Dn[wn]:Dn[wn]=An(wn)}(mn,function(){for(var wn=0,An=Gt(String(sn)).split("."),Dn=Gt(String(mn)).split("."),On=Math.max(An.length,Dn.length),Gn=0;wn==0&&Gn<On;Gn++){var Pn=An[Gn]||"",jn=Dn[Gn]||"";do{if(Pn=/(\d*)(\D*)(.*)/.exec(Pn)||["","","",""],jn=/(\d*)(\D*)(.*)/.exec(jn)||["","","",""],Pn[0].length==0&&jn[0].length==0)break;wn=Jt(Pn[1].length==0?0:parseInt(Pn[1],10),jn[1].length==0?0:parseInt(jn[1],10))||Jt(Pn[2].length==0,jn[2].length==0)||Jt(Pn[2],jn[2]),Pn=Pn[3],jn=jn[3]}while(wn==0)}return 0<=wn})}if(ft.document&&Yt){var xn=hn();cn=xn||parseInt(sn,10)||void 0}else cn=void 0;var Nn=cn;function zn(){this.F=this.F}zn.prototype.F=!1;var Ln,Mn=Object.freeze||function(mn){return mn};(Ln=!Yt)||(Ln=9<=Number(Nn));var Wn=Ln,Jn=Yt&&!bn("9"),Zn=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var mn=!1,wn=Object.defineProperty({},"passive",{get:function(){mn=!0}});try{ft.addEventListener("test",dt,wn),ft.removeEventListener("test",dt,wn)}catch{}return mn}();function Rn(mn,wn){this.type=mn,this.a=this.target=wn,this.defaultPrevented=!1}function Kn(mn,wn){if(Rn.call(this,mn?mn.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,mn){var An=this.type=mn.type,Dn=mn.changedTouches&&mn.changedTouches.length?mn.changedTouches[0]:null;if(this.target=mn.target||mn.srcElement,this.a=wn,wn=mn.relatedTarget){if(Qt){e:{try{Ft(wn.nodeName);var On=!0;break e}catch{}On=!1}On||(wn=null)}}else An=="mouseover"?wn=mn.fromElement:An=="mouseout"&&(wn=mn.toElement);this.relatedTarget=wn,Dn?(this.clientX=Dn.clientX!==void 0?Dn.clientX:Dn.pageX,this.clientY=Dn.clientY!==void 0?Dn.clientY:Dn.pageY,this.screenX=Dn.screenX||0,this.screenY=Dn.screenY||0):(this.clientX=mn.clientX!==void 0?mn.clientX:mn.pageX,this.clientY=mn.clientY!==void 0?mn.clientY:mn.pageY,this.screenX=mn.screenX||0,this.screenY=mn.screenY||0),this.button=mn.button,this.key=mn.key||"",this.ctrlKey=mn.ctrlKey,this.altKey=mn.altKey,this.shiftKey=mn.shiftKey,this.metaKey=mn.metaKey,this.pointerId=mn.pointerId||0,this.pointerType=typeof mn.pointerType=="string"?mn.pointerType:kn[mn.pointerType]||"",this.c=mn,mn.defaultPrevented&&this.b()}}Rn.prototype.b=function(){this.defaultPrevented=!0},bt(Kn,Rn);var kn=Mn({2:"touch",3:"pen",4:"mouse"});Kn.prototype.b=function(){Kn.S.b.call(this);var mn=this.c;if(mn.preventDefault)mn.preventDefault();else if(mn.returnValue=!1,Jn)try{(mn.ctrlKey||112<=mn.keyCode&&123>=mn.keyCode)&&(mn.keyCode=-1)}catch{}};var Bn="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function Qn(mn,wn,An,Dn,On){this.listener=mn,this.proxy=null,this.src=wn,this.type=An,this.capture=!!Dn,this.A=On,this.key=++Hn,this.s=this.v=!1}function qn(mn){mn.s=!0,mn.listener=null,mn.proxy=null,mn.src=null,mn.A=null}function er(mn){this.src=mn,this.a={},this.b=0}function ir(mn,wn){var An=wn.type;if(An in mn.a){var Dn,On=mn.a[An],Gn=jt(On,wn);(Dn=0<=Gn)&&Array.prototype.splice.call(On,Gn,1),Dn&&(qn(wn),mn.a[An].length==0&&(delete mn.a[An],mn.b--))}}function nr(mn,wn,An,Dn){for(var On=0;On<mn.length;++On){var Gn=mn[On];if(!Gn.s&&Gn.listener==wn&&Gn.capture==!!An&&Gn.A==Dn)return On}return-1}er.prototype.add=function(mn,wn,An,Dn,On){var Gn=mn.toString();(mn=this.a[Gn])||(mn=this.a[Gn]=[],this.b++);var Pn=nr(mn,wn,Dn,On);return-1<Pn?(wn=mn[Pn],An||(wn.v=!1)):((wn=new Qn(wn,this.src,Gn,!!Dn,On)).v=An,mn.push(wn)),wn};var ur="closure_lm_"+(1e6*Math.random()|0),mr={};function Rr(mn,wn,An,Dn,On){if(Dn&&Dn.once)(function Pn(jn,Yn,tr,rr,lr){if(Array.isArray(Yn))for(var or=0;or<Yn.length;or++)Pn(jn,Yn[or],tr,rr,lr);else tr=Fn(tr),jn&&jn[Bn]?jn.f.add(String(Yn),tr,!0,pt(rr)?!!rr.capture:!!rr,lr):$r(jn,Yn,tr,!0,rr,lr)})(mn,wn,An,Dn,On);else if(Array.isArray(wn))for(var Gn=0;Gn<wn.length;Gn++)Rr(mn,wn[Gn],An,Dn,On);else An=Fn(An),mn&&mn[Bn]?mn.f.add(String(wn),An,!1,pt(Dn)?!!Dn.capture:!!Dn,On):$r(mn,wn,An,!1,Dn,On)}function $r(mn,wn,An,Dn,On,Gn){if(!wn)throw Error("Invalid event type");var Pn=pt(On)?!!On.capture:!!On,jn=qr(mn);if(jn||(mn[ur]=jn=new er(mn)),!(An=jn.add(wn,An,Dn,Pn,Gn)).proxy)if(Dn=function(){var Yn=Yr,tr=Wn?function(rr){return Yn.call(tr.src,tr.listener,rr)}:function(rr){if(!(rr=Yn.call(tr.src,tr.listener,rr)))return rr};return tr}(),An.proxy=Dn,Dn.src=mn,Dn.listener=An,mn.addEventListener)Zn||(On=Pn),On===void 0&&(On=!1),mn.addEventListener(wn.toString(),Dn,On);else if(mn.attachEvent)mn.attachEvent(Er(wn.toString()),Dn);else{if(!mn.addListener||!mn.removeListener)throw Error("addEventListener and attachEvent are unavailable.");mn.addListener(Dn)}}function Pr(mn){if(typeof mn!="number"&&mn&&!mn.s){var wn=mn.src;if(wn&&wn[Bn])ir(wn.f,mn);else{var An=mn.type,Dn=mn.proxy;wn.removeEventListener?wn.removeEventListener(An,Dn,mn.capture):wn.detachEvent?wn.detachEvent(Er(An),Dn):wn.addListener&&wn.removeListener&&wn.removeListener(Dn),(An=qr(wn))?(ir(An,mn),An.b==0&&(An.src=null,wn[ur]=null)):qn(mn)}}}function Er(mn){return mn in mr?mr[mn]:mr[mn]="on"+mn}function Ir(mn,wn,An,Dn){var On=!0;if((mn=qr(mn))&&(wn=mn.a[wn.toString()]))for(wn=wn.concat(),mn=0;mn<wn.length;mn++){var Gn=wn[mn];Gn&&Gn.capture==An&&!Gn.s&&(Gn=Nr(Gn,Dn),On=On&&Gn!==!1)}return On}function Nr(mn,wn){var An=mn.listener,Dn=mn.A||mn.src;return mn.v&&Pr(mn),An.call(Dn,wn)}function Yr(mn,wn){if(mn.s)return!0;if(!Wn){var An=wn||ut("window.event");wn=new Kn(An,this);var Dn=!0;if(!(0>An.keyCode||An.returnValue!=null)){e:{var On=!1;if(An.keyCode==0)try{An.keyCode=-1;break e}catch{On=!0}(On||An.returnValue==null)&&(An.returnValue=!0)}for(An=[],On=wn.a;On;On=On.parentNode)An.push(On);for(mn=mn.type,On=An.length-1;0<=On;On--){wn.a=An[On];var Gn=Ir(An[On],mn,!0,wn);Dn=Dn&&Gn}for(On=0;On<An.length;On++)wn.a=An[On],Gn=Ir(An[On],mn,!1,wn),Dn=Dn&&Gn}return Dn}return Nr(mn,new Kn(wn,this))}function qr(mn){return(mn=mn[ur])instanceof er?mn:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(mn){return ht(mn)=="function"?mn:(mn[En]||(mn[En]=function(wn){return mn.handleEvent(wn)}),mn[En])}function Vn(){zn.call(this),this.f=new er(this),this.N=this}function Un(mn,wn){mn=mn.N;var An=wn.type||wn;if(typeof wn=="string")wn=new Rn(wn,mn);else if(wn instanceof Rn)wn.target=wn.target||mn;else{var Dn=wn;(function(On,Gn){for(var Pn,jn,Yn=1;Yn<arguments.length;Yn++){for(Pn in jn=arguments[Yn])On[Pn]=jn[Pn];for(var tr=0;tr<Lt.length;tr++)Pn=Lt[tr],Object.prototype.hasOwnProperty.call(jn,Pn)&&(On[Pn]=jn[Pn])}})(wn=new Rn(An,mn),Dn)}Xn(mn=wn.a=mn,An,!0,wn),Xn(mn,An,!1,wn)}function Xn(mn,wn,An,Dn){if(wn=mn.f.a[String(wn)]){wn=wn.concat();for(var On=!0,Gn=0;Gn<wn.length;++Gn){var Pn=wn[Gn];if(Pn&&!Pn.s&&Pn.capture==An){var jn=Pn.listener,Yn=Pn.A||Pn.src;Pn.v&&ir(mn.f,Pn),On=jn.call(Yn,Dn)!==!1&&On}}}}function ar(mn,wn,An){if(ht(mn)=="function")An&&(mn=yt(mn,An));else{if(!mn||typeof mn.handleEvent!="function")throw Error("Invalid listener argument");mn=yt(mn.handleEvent,mn)}return 2147483647<Number(wn)?-1:ft.setTimeout(mn,wn||0)}function cr(mn,wn,An){this.reset(mn,wn,An,void 0,void 0)}bt(Vn,zn),Vn.prototype[Bn]=!0,Vn.prototype.addEventListener=function(mn,wn,An,Dn){Rr(this,mn,wn,An,Dn)},Vn.prototype.removeEventListener=function(mn,wn,An,Dn){(function On(Gn,Pn,jn,Yn,tr){if(Array.isArray(Pn))for(var rr=0;rr<Pn.length;rr++)On(Gn,Pn[rr],jn,Yn,tr);else Yn=pt(Yn)?!!Yn.capture:!!Yn,jn=Fn(jn),Gn&&Gn[Bn]?(Gn=Gn.f,(Pn=String(Pn).toString())in Gn.a&&-1<(jn=nr(rr=Gn.a[Pn],jn,Yn,tr))&&(qn(rr[jn]),Array.prototype.splice.call(rr,jn,1),rr.length==0&&(delete Gn.a[Pn],Gn.b--))):Gn&&(Gn=qr(Gn))&&(Pn=Gn.a[Pn.toString()],Gn=-1,Pn&&(Gn=nr(Pn,jn,Yn,tr)),(jn=-1<Gn?Pn[Gn]:null)&&Pr(jn))})(this,mn,wn,An,Dn)},cr.prototype.a=null;function fr(mn){this.f=mn,this.b=this.c=this.a=null}function dr(mn,wn){this.name=mn,this.value=wn}cr.prototype.reset=function(mn,wn,An,Dn,On){delete this.a},dr.prototype.toString=function(){return this.name};var yr=new dr("SEVERE",1e3),hr=new dr("CONFIG",700),gr=new dr("FINE",500);function xr(mn){return mn.c?mn.c:mn.a?xr(mn.a):(function(wn,An){throw new Tt("Failure"+(wn?": "+wn:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}fr.prototype.log=function(mn,wn,An){if(mn.value>=xr(this).value)for(ht(wn)=="function"&&(wn=wn()),mn=new cr(mn,String(wn),this.f),An&&(mn.a=An),An=this;An;)An=An.a};var Br,Gr={},zr=null;function _r(mn,wn){mn&&mn.log(gr,wn,void 0)}function pr(){}function kr(mn){var wn;return(wn=mn.a)||(wn={},Or(mn)&&(wn[0]=!0,wn[1]=!0),wn=mn.a=wn),wn}function Sr(){}function Dr(mn){return(mn=Or(mn))?new ActiveXObject(mn):new XMLHttpRequest}function Or(mn){if(!mn.b&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var wn=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],An=0;An<wn.length;An++){var Dn=wn[An];try{return new ActiveXObject(Dn),mn.b=Dn}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return mn.b}function Fr(mn,wn){this.b={},this.a=[],this.c=0;var An=arguments.length;if(1<An){if(An%2)throw Error("Uneven number of arguments");for(var Dn=0;Dn<An;Dn+=2)this.set(arguments[Dn],arguments[Dn+1])}else mn&&Lr(this,mn)}function Zr(mn){if(mn.c!=mn.a.length){for(var wn=0,An=0;wn<mn.a.length;){var Dn=mn.a[wn];Ur(mn.b,Dn)&&(mn.a[An++]=Dn),wn++}mn.a.length=An}if(mn.c!=mn.a.length){var On={};for(An=wn=0;wn<mn.a.length;)Ur(On,Dn=mn.a[wn])||(mn.a[An++]=Dn,On[Dn]=1),wn++;mn.a.length=An}}function Lr(mn,wn){if(wn instanceof Fr)for(var An=wn.f(),Dn=0;Dn<An.length;Dn++)mn.set(An[Dn],wn.get(An[Dn]));else for(An in wn)mn.set(An,wn[An])}function Ur(mn,wn){return Object.prototype.hasOwnProperty.call(mn,wn)}pr.prototype.a=null,bt(Sr,pr),Br=new Sr,Fr.prototype.f=function(){return Zr(this),this.a.concat()},Fr.prototype.get=function(mn,wn){return Ur(this.b,mn)?this.b[mn]:wn},Fr.prototype.set=function(mn,wn){Ur(this.b,mn)||(this.c++,this.a.push(mn)),this.b[mn]=wn},Fr.prototype.forEach=function(mn,wn){for(var An=this.f(),Dn=0;Dn<An.length;Dn++){var On=An[Dn],Gn=this.get(On);mn.call(wn,Gn,On,this)}};var Kr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mr(mn){Vn.call(this),this.headers=new Fr,this.D=mn||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=lo,this.B=this.H=!1}bt(Mr,Vn);var lo="",oo=Mr.prototype,co=function mn(wn){var An;if(zr||(zr=new fr(""),Gr[""]=zr,zr.c=hr),!(An=Gr[wn])){An=new fr(wn);var Dn=wn.lastIndexOf("."),On=wn.substr(Dn+1);(Dn=mn(wn.substr(0,Dn))).b||(Dn.b={}),Dn.b[On]=An,An.a=Dn,Gr[wn]=An}return An}("goog.net.XhrIo");oo.b=co;var ro=/^https?$/i,uo=["POST","PUT"];function no(mn,wn,An){if(mn.a)throw Error("[goog.net.XhrIo] Object is active with another request="+mn.o+"; newUri="+wn);mn.o=wn,mn.i="",mn.g=0,mn.J="POST",mn.G=!1,mn.c=!0,mn.a=mn.D?Dr(mn.D):Dr(Br),mn.C=mn.D?kr(mn.D):kr(Br),mn.a.onreadystatechange=yt(mn.K,mn);try{_r(mn.b,Vr(mn,"Opening Xhr")),mn.I=!0,mn.a.open("POST",String(wn),!0),mn.I=!1}catch(Gn){return _r(mn.b,Vr(mn,"Error opening Xhr: "+Gn.message)),void Xr(mn,Gn)}wn=An||"";var Dn=function(Gn){e:{for(var Pn=fo,jn=Gn.length,Yn=typeof Gn=="string"?Gn.split(""):Gn,tr=0;tr<jn;tr++)if(tr in Yn&&Pn.call(void 0,Yn[tr],tr,Gn)){Pn=tr;break e}Pn=-1}return 0>Pn?null:typeof Gn=="string"?Gn.charAt(Pn):Gn[Pn]}((An=new Fr(mn.headers)).f()),On=ft.FormData&&wn instanceof ft.FormData;!(0<=jt(uo,"POST"))||Dn||On||An.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),An.forEach(function(Gn,Pn){this.a.setRequestHeader(Pn,Gn)},mn),mn.j&&(mn.a.responseType=mn.j),"withCredentials"in mn.a&&mn.a.withCredentials!==mn.H&&(mn.a.withCredentials=mn.H);try{ao(mn),0<mn.l&&(mn.B=function(Gn){return Yt&&bn(9)&&typeof Gn.timeout=="number"&&Gn.ontimeout!==void 0}(mn.a),_r(mn.b,Vr(mn,"Will abort after "+mn.l+"ms if incomplete, xhr2 "+mn.B)),mn.B?(mn.a.timeout=mn.l,mn.a.ontimeout=yt(mn.L,mn)):mn.u=ar(mn.L,mn.l,mn)),_r(mn.b,Vr(mn,"Sending request")),mn.m=!0,mn.a.send(wn),mn.m=!1}catch(Gn){_r(mn.b,Vr(mn,"Send error: "+Gn.message)),Xr(mn,Gn)}}function fo(mn){return mn.toLowerCase()=="content-type"}function Xr(mn,wn){mn.c=!1,mn.a&&(mn.h=!0,mn.a.abort(),mn.h=!1),mn.i=wn,mn.g=5,Ar(mn),so(mn)}function Ar(mn){mn.G||(mn.G=!0,Un(mn,"complete"),Un(mn,"error"))}function Jr(mn){if(mn.c&&ct!==void 0){if(mn.C[1]&&Hr(mn)==4&&mn.getStatus()==2)_r(mn.b,Vr(mn,"Local request error detected and ignored"));else if(mn.m&&Hr(mn)==4)ar(mn.K,0,mn);else if(Un(mn,"readystatechange"),Hr(mn)==4){_r(mn.b,Vr(mn,"Request complete")),mn.c=!1;try{var wn,An=mn.getStatus();e:switch(An){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Dn=!0;break e;default:Dn=!1}if(!(wn=Dn)){var On;if(On=An===0){var Gn=String(mn.o).match(Kr)[1]||null;if(!Gn&&ft.self&&ft.self.location){var Pn=ft.self.location.protocol;Gn=Pn.substr(0,Pn.length-1)}On=!ro.test(Gn?Gn.toLowerCase():"")}wn=On}if(wn)Un(mn,"complete"),Un(mn,"success");else{mn.g=6;try{var jn=2<Hr(mn)?mn.a.statusText:""}catch(Yn){_r(mn.b,"Can not get status: "+Yn.message),jn=""}mn.i=jn+" ["+mn.getStatus()+"]",Ar(mn)}}finally{so(mn)}}}}function so(mn){if(mn.a){ao(mn);var wn=mn.a,An=mn.C[0]?dt:null;mn.a=null,mn.C=null,Un(mn,"ready");try{wn.onreadystatechange=An}catch(Dn){(mn=mn.b)&&mn.log(yr,"Problem encountered resetting onreadystatechange: "+Dn.message,void 0)}}}function ao(mn){mn.a&&mn.B&&(mn.a.ontimeout=null),mn.u&&(ft.clearTimeout(mn.u),mn.u=null)}function Hr(mn){return mn.a?mn.a.readyState:0}function Qr(mn,wn){if(mn.a&&Hr(mn)==4)return(mn=mn.a.getResponseHeader(wn))===null?void 0:mn}function Vr(mn,wn){return wn+" ["+mn.J+" "+mn.o+" "+mn.getStatus()+"]"}Mr.prototype.L=function(){ct!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,_r(this.b,Vr(this,this.i)),Un(this,"timeout"),this.abort(8))},Mr.prototype.abort=function(mn){this.a&&this.c&&(_r(this.b,Vr(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=mn||7,Un(this,"complete"),Un(this,"abort"),so(this))},Mr.prototype.K=function(){this.F||(this.I||this.m||this.h?Jr(this):this.O())},Mr.prototype.O=function(){Jr(this)},Mr.prototype.getStatus=function(){try{return 2<Hr(this)?this.a.status:-1}catch{return-1}};var jr={},eo=null;function ho(mn){var wn=mn.length,An=3*wn/4;An%3?An=Math.floor(An):Ht("=.",mn[wn-1])&&(An=Ht("=.",mn[wn-2])?An-2:An-1);var Dn=new Uint8Array(An),On=0;return function(Gn,Pn){function jn(wr){for(;Yn<Gn.length;){var br=Gn.charAt(Yn++),Cr=eo[br];if(Cr!=null)return Cr;if(!/^[\s\xa0]*$/.test(br))throw Error("Unknown base64 encoding at char: "+br)}return wr}sr();for(var Yn=0;;){var tr=jn(-1),rr=jn(0),lr=jn(64),or=jn(64);if(or===64&&tr===-1)break;Pn(tr<<2|rr>>4),lr!=64&&(Pn(rr<<4&240|lr>>2),or!=64&&Pn(lr<<6&192|or))}}(mn,function(Gn){Dn[On++]=Gn}),Dn.subarray(0,On)}function sr(){if(!eo){eo={};for(var mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),wn=["+/=","+/","-_=","-_.","-_"],An=0;5>An;An++){var Dn=mn.concat(wn[An].split(""));jr[An]=Dn;for(var On=0;On<Dn.length;On++){var Gn=Dn[On];eo[Gn]===void 0&&(eo[Gn]=On)}}}}var Tn=["content-type","grpc-status","grpc-message"];function qt(mn){this.a=mn.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new It;var wn=this;Rr(this.a,"readystatechange",function(){var An=wn.a;if(An=An.a?An.a.getResponseHeader("Content-Type"):null){if((An=An.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){An=wn.a;try{var Dn=An.a?An.a.responseText:""}catch(tr){_r(An.b,"Can not get responseText: "+tr.message),Dn=""}if(Dn=(An=Dn||"").length-An.length%4,(An=An.substr(wn.i,Dn-wn.i)).length==0)return;wn.i=Dn,An=ho(An)}else{if(An.lastIndexOf("application/grpc",0)!=0)return void pn(wn,{code:2,message:"Unknown Content-type received.",metadata:{}});An=new Uint8Array(function(tr){try{if(!tr.a)return null;if("response"in tr.a)return tr.a.response;switch(tr.j){case lo:case"text":return tr.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in tr.a)return tr.a.mozResponseArrayBuffer}var rr=tr.b;return rr&&rr.log(yr,"Response type "+tr.j+" is not supported on this browser",void 0),null}catch(lr){return _r(tr.b,"Can not get response: "+lr.message),null}}(wn.a))}Dn=null;try{Dn=function(tr,rr){function lr(po){Tr.f++,Tr.a=(Tr.a<<8)+po,Tr.f==4&&(Tr.b=Ct,Tr.g=0,typeof Uint8Array!="undefined"?Tr.c=new Uint8Array(Tr.a):Tr.c=Array(Tr.a),Tr.a==0&&wr())}function or(po){Tr.c[Tr.g++]=po,Tr.g==Tr.a&&wr()}function wr(){var po={};po[Tr.h]=Tr.c,Tr.i.push(po),Tr.b=Pt}var br,Cr,Tr=tr,_i=0;for(br=rr instanceof Uint8Array||rr instanceof Array?rr:new Uint8Array(rr);_i<br.length;){switch(Tr.b){case Ot:Mt(Tr,br,_i,"stream already broken");break;case Pt:(Cr=br[_i])==Ut||Cr==At?Tr.h=Cr:Mt(Tr,br,_i,"invalid frame byte"),Tr.b=Dt,Tr.a=0,Tr.f=0;break;case Dt:lr(br[_i]);break;case Ct:or(br[_i]);break;default:throw Error("unexpected parser state: "+Tr.b)}Tr.l++,_i++}return tr=Tr.i,Tr.i=[],0<tr.length?tr:null}(wn.m,An)}catch{pn(wn,{code:2,message:"Error in parsing response body",metadata:{}})}if(Dn)for(An=0;An<Dn.length;An++){if(Ut in Dn[An]){var On=Dn[An][Ut];if(On)try{var Gn=wn.l(On);if(Gn){On=wn;for(var Pn=Gn,jn=0;jn<On.b.length;jn++)On.b[jn](Pn)}}catch{pn(wn,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(At in Dn[An]&&0<Dn[An][At].length){for(On="",Pn=0;Pn<Dn[An][At].length;Pn++)On+=String.fromCharCode(Dn[An][At][Pn]);for(On=On.trim().split(`\r
`),Pn={},jn=0;jn<On.length;jn++){var Yn=On[jn].indexOf(":");Pn[On[jn].substring(0,Yn).trim()]=On[jn].substring(Yn+1).trim()}On=Pn,Pn=0,jn="","grpc-status"in On&&(Pn=On["grpc-status"],delete On["grpc-status"]),"grpc-message"in On&&(jn=On["grpc-message"],delete On["grpc-message"]),pn(wn,{code:Number(Pn),message:jn,metadata:On})}}}}),Rr(this.a,"complete",function(){var An=wn.a.g,Dn="",On={},Gn=function(jn){var Yn={};jn=(jn.a&&Hr(jn)==4&&jn.a.getAllResponseHeaders()||"").split(`\r
`);for(var tr=0;tr<jn.length;tr++)if(!/^[\s\xa0]*$/.test(jn[tr])){var rr=Bt(jn[tr]),lr=rr[0];if(typeof(rr=rr[1])=="string"){rr=rr.trim();var or=Yn[lr]||[];Yn[lr]=or,or.push(rr)}}return function(wr,br){var Cr,Tr={};for(Cr in wr)Tr[Cr]=br.call(void 0,wr[Cr],Cr,wr);return Tr}(Yn,function(wr){return wr.join(", ")})}(wn.a);if(Object.keys(Gn).forEach(function(jn){Tn.includes(jn)||(On[jn]=Gn[jn])}),function(jn,Yn){for(var tr=0;tr<jn.g.length;tr++)jn.g[tr](Yn)}(wn,On),An!=0){switch(An){case 7:var Pn=10;break;case 8:Pn=4;break;case 6:Pn=function(jn){switch(jn){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(wn.a.getStatus());break;default:Pn=14}Pn==10&&wn.j||pn(wn,{code:Pn,message:Et(An),metadata:{}})}else An=!1,"grpc-status"in Gn&&(Pn=Qr(wn.a,"grpc-status"),"grpc-message"in Gn&&(Dn=Qr(wn.a,"grpc-message")),Number(Pn)!=0&&(pn(wn,{code:Number(Pn),message:Dn,metadata:Gn}),An=!0)),An||function(jn){for(var Yn=0;Yn<jn.c.length;Yn++)jn.c[Yn]()}(wn)})}function Zt(mn,wn){-1<(wn=mn.indexOf(wn))&&mn.splice(wn,1)}function pn(mn,wn){if(wn.code!=0)for(var An={code:wn.code,message:decodeURIComponent(wn.message||""),metadata:wn.metadata},Dn=0;Dn<mn.f.length;Dn++)mn.f[Dn](An);for(wn={code:wn.code,details:decodeURIComponent(wn.message||""),metadata:wn.metadata},An=0;An<mn.h.length;An++)mn.h[An](wn)}function gn(mn){this.a=ut("format",mn)||"text",this.f=ut("suppressCorsPreflight",mn)||!1,this.c=ut("withCredentials",mn)||!1,this.b=ut("streamInterceptors",mn)||[],this.g=ut("unaryInterceptors",mn)||[]}function _n(mn,wn,An){var Dn=wn.getMethodDescriptor(),On=An+Dn.name;(An=new Mr).H=mn.c;var Gn=new qt({T:An});if(Gn.l=Dn.b,Lr(An.headers,wn.getMetadata()),mn.a=="text"?(An.headers.set("Content-Type","application/grpc-web-text"),An.headers.set("Accept","application/grpc-web-text")):An.headers.set("Content-Type","application/grpc-web+proto"),An.headers.set("X-User-Agent","grpc-web-javascript/0.1"),An.headers.set("X-Grpc-Web","1"),Ur(An.headers.b,"deadline")){var Pn=An.headers.get("deadline");Pn=Math.round(Pn-new Date().getTime());var jn=An.headers;Ur(jn.b,"deadline")&&(delete jn.b.deadline,jn.c--,jn.a.length>2*jn.c&&Zr(jn)),1/0===Pn&&(Pn=0),0<Pn&&An.headers.set("grpc-timeout",Pn+"m")}if(mn.f){Zr(jn=An.headers),Pn={};for(var Yn=0;Yn<jn.a.length;Yn++){var tr=jn.a[Yn];Pn[tr]=jn.b[tr]}(jn=An.headers).b={},jn.a.length=0,jn.c=0;e:{for(rr in Pn){var rr=!1;break e}rr=!0}rr||(Pn=function(wr){var br="";return function(Cr,Tr){for(var _i in Cr)Tr.call(void 0,Cr[_i],_i,Cr)}(wr,function(Cr,Tr){br+=Tr,br+=":",br+=Cr,br+=`\r
`}),br}(Pn),typeof On=="string"?(rr=encodeURIComponent("$httpHeaders"),(rr+=Pn=Pn!=null?"="+encodeURIComponent(String(Pn)):"")&&(0>(Pn=On.indexOf("#"))&&(Pn=On.length),0>(jn=On.indexOf("?"))||jn>Pn?(jn=Pn,Yn=""):Yn=On.substring(jn+1,Pn),Pn=(On=[On.substr(0,jn),Yn,On.substr(Pn)])[1],On[1]=rr?Pn?Pn+"&"+rr:rr:Pn,On=On[0]+(On[1]?"?"+On[1]:"")+On[2])):On.a("$httpHeaders",Pn))}for(Dn=(wn=(0,Dn.a)(wn.getRequestMessage())).length,rr=[0,0,0,0],Pn=new Uint8Array(5+Dn),jn=3;0<=jn;jn--)rr[jn]=Dn%256,Dn>>>=8;if(Pn.set(new Uint8Array(rr),1),Pn.set(wn,5),wn=Pn,mn.a=="text"){var lr;for(mn=wn,lr===void 0&&(lr=0),sr(),lr=jr[lr],wn=[],Dn=0;Dn<mn.length;Dn+=3){tr=mn[Dn];var or=(rr=Dn+1<mn.length)?mn[Dn+1]:0;jn=tr>>2,tr=(3&tr)<<4|or>>4,or=(15&or)<<2|(Yn=(Pn=Dn+2<mn.length)?mn[Dn+2]:0)>>6,Yn&=63,Pn||(Yn=64,rr||(or=64)),wn.push(lr[jn],lr[tr],lr[or]||"",lr[Yn]||"")}wn=wn.join("")}else mn.a=="binary"&&(An.j="arraybuffer");return no(An,On,wn),Gn}function $n(mn,wn,An){var Dn=null,On=!1;mn.on("data",function(Gn){Dn=Gn}),mn.on("error",function(Gn){Gn.code==0||On||(On=!0,wn(Gn,null))}),mn.on("status",function(Gn){Gn.code==0||On?An&&wn(null,null,Gn):(On=!0,wn({code:Gn.code,message:Gn.details,metadata:Gn.metadata},null))}),An&&mn.on("metadata",function(Gn){wn(null,null,null,Gn)}),mn.on("end",function(){On||(Dn==null?wn({code:2,message:"Incomplete response"}):wn(null,Dn)),An&&wn(null,null)})}function In(mn,wn){var An=mn;return wn.forEach(function(Dn){var On=An;An=function(Gn){return Dn.intercept(Gn,On)}}),An}qt.prototype.on=function(mn,wn){return mn=="data"?this.b.push(wn):mn=="status"?this.h.push(wn):mn=="metadata"?this.g.push(wn):mn=="end"?this.c.push(wn):mn=="error"&&this.f.push(wn),this},qt.prototype.removeListener=function(mn,wn){return mn=="data"?Zt(this.b,wn):mn=="status"?Zt(this.h,wn):mn=="metadata"?Zt(this.g,wn):mn=="end"?Zt(this.c,wn):mn=="error"&&Zt(this.f,wn),this},qt.prototype.cancel=function(){this.j=!0,this.a.abort()},qt.prototype.cancel=qt.prototype.cancel,qt.prototype.removeListener=qt.prototype.removeListener,qt.prototype.on=qt.prototype.on,gn.prototype.P=function(mn,wn,An,Dn,On){var Gn=this;Dn=Nt(mn,wn,"unary",Dn);var Pn=mn.substr(0,mn.length-Dn.name.length);return $n(mn=In(function(jn){return _n(Gn,jn,Pn)},this.b).call(this,zt(Dn,wn,An)),On,!1),new wt(mn)},gn.prototype.M=function(mn,wn,An,Dn){var On=this;Dn=Nt(mn,wn,"unary",Dn);var Gn=mn.substr(0,mn.length-Dn.name.length);return In(function(Pn){return new Promise(function(jn,Yn){var tr,rr,lr;$n(_n(On,Pn,Gn),function(or,wr,br,Cr){or?Yn(or):wr?lr=wr:br?rr=br:Cr?tr=Cr:(or=Pn.getMethodDescriptor(),jn(new vt(lr,or,wr=(wr=tr)===void 0?{}:wr,rr===void 0?null:rr)))},!0)})},this.g).call(this,zt(Dn,wn,An)).then(function(Pn){return Pn.getResponseMessage()})},gn.prototype.unaryCall=function(mn,wn,An,Dn){return this.M(mn,wn,An,Dn)},gn.prototype.R=function(mn,wn,An,Dn){var On=this;Dn=Nt(mn,wn,"server_streaming",Dn);var Gn=mn.substr(0,mn.length-Dn.name.length);return In(function(Pn){return _n(On,Pn,Gn)},this.b).call(this,zt(Dn,wn,An))},gn.prototype.serverStreaming=gn.prototype.R,gn.prototype.unaryCall=gn.prototype.unaryCall,gn.prototype.thenableCall=gn.prototype.M,gn.prototype.rpcCall=gn.prototype.P,tt.exports.AbstractClientBase={MethodInfo:function(mn,wn,An,Dn,On){this.name=Dn,this.b=On,this.f=mn,this.a=wn,this.c=An}},tt.exports.GrpcWebClientBase=gn,tt.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},tt.exports.MethodDescriptor=$t,tt.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,nt(5))},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.isAsyncIterable=et.isAsyncGenerator=et.isAsync=void 0;var rt,it=nt(151),ot=(rt=it)&&rt.__esModule?rt:{default:rt};function at(st){return st[Symbol.toStringTag]==="AsyncFunction"}et.default=function(st){if(typeof st!="function")throw new Error("expected a function");return at(st)?(0,ot.default)(st):st},et.isAsync=at,et.isAsyncGenerator=function(st){return st[Symbol.toStringTag]==="AsyncGenerator"},et.isAsyncIterable=function(st){return typeof st[Symbol.asyncIterator]=="function"}},function(tt,et,nt){var rt={};function it(at,st,lt){lt||(lt=Error);var ct=function(ft){var ut,dt;function ht(pt,gt,mt){return ft.call(this,function(yt,bt,St){return typeof st=="string"?st:st(yt,bt,St)}(pt,gt,mt))||this}return dt=ft,(ut=ht).prototype=Object.create(dt.prototype),ut.prototype.constructor=ut,ut.__proto__=dt,ht}(lt);ct.prototype.name=lt.name,ct.prototype.code=at,rt[at]=ct}function ot(at,st){if(Array.isArray(at)){var lt=at.length;return at=at.map(function(ct){return String(ct)}),lt>2?"one of ".concat(st," ").concat(at.slice(0,lt-1).join(", "),", or ")+at[lt-1]:lt===2?"one of ".concat(st," ").concat(at[0]," or ").concat(at[1]):"of ".concat(st," ").concat(at[0])}return"of ".concat(st," ").concat(String(at))}it("ERR_INVALID_OPT_VALUE",function(at,st){return'The value "'+st+'" is invalid for option "'+at+'"'},TypeError),it("ERR_INVALID_ARG_TYPE",function(at,st,lt){var ct,ft,ut;if(typeof st=="string"&&(ft="not ",st.substr(0,ft.length)===ft)?(ct="must not be",st=st.replace(/^not /,"")):ct="must be",function(ht,pt,gt){return(gt===void 0||gt>ht.length)&&(gt=ht.length),ht.substring(gt-pt.length,gt)===pt}(at," argument"))ut="The ".concat(at," ").concat(ct," ").concat(ot(st,"type"));else{var dt=function(ht,pt,gt){return typeof gt!="number"&&(gt=0),!(gt+pt.length>ht.length)&&ht.indexOf(pt,gt)!==-1}(at,".")?"property":"argument";ut='The "'.concat(at,'" ').concat(dt," ").concat(ct," ").concat(ot(st,"type"))}return ut+=". Received type ".concat(typeof lt)},TypeError),it("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),it("ERR_METHOD_NOT_IMPLEMENTED",function(at){return"The "+at+" method is not implemented"}),it("ERR_STREAM_PREMATURE_CLOSE","Premature close"),it("ERR_STREAM_DESTROYED",function(at){return"Cannot call "+at+" after a stream was destroyed"}),it("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),it("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),it("ERR_STREAM_WRITE_AFTER_END","write after end"),it("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),it("ERR_UNKNOWN_ENCODING",function(at){return"Unknown encoding: "+at},TypeError),it("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.codes=rt},function(tt,et,nt){(function(rt){var it=Object.keys||function(ht){var pt=[];for(var gt in ht)pt.push(gt);return pt};tt.exports=ft;var ot=nt(75),at=nt(79);nt(6)(ft,ot);for(var st=it(at.prototype),lt=0;lt<st.length;lt++){var ct=st[lt];ft.prototype[ct]||(ft.prototype[ct]=at.prototype[ct])}function ft(ht){if(!(this instanceof ft))return new ft(ht);ot.call(this,ht),at.call(this,ht),this.allowHalfOpen=!0,ht&&(ht.readable===!1&&(this.readable=!1),ht.writable===!1&&(this.writable=!1),ht.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ut)))}function ut(){this._writableState.ended||rt.nextTick(dt,this)}function dt(ht){ht.end()}Object.defineProperty(ft.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ft.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ft.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ft.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ht){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ht,this._writableState.destroyed=ht)}})}).call(this,nt(2))},function(tt,et,nt){nt.d(et,"a",function(){return at});var rt=nt(36),it=nt(7);const ot={"app-id":["app-id must match formant/*"]};class at extends rt.a{constructor(lt,ct={}){super(lt,Object.assign({validateHeaders:ft=>`${ft.get("app-id")}`.startsWith("formant/")?{}:ot,headers:Object.assign(Object.assign({},at.headers),{"App-ID":`formant/${it.a}`,"App-Version":it.j})},ct)),this.endpoint=lt}}at.headers={}},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt,it=rt.length){if(!it)throw new Error("arity is undefined");return function(...ot){return typeof ot[it-1]=="function"?rt.apply(this,ot):new Promise((at,st)=>{ot[it-1]=(lt,...ct)=>{if(lt)return st(lt);at(ct.length>1?ct:ct[0])},rt.apply(this,ot)})}},tt.exports=et.default},function(tt,et,nt){(et=tt.exports=nt(67)).Stream=et,et.Readable=et,et.Writable=nt(44),et.Duplex=nt(20),et.Transform=nt(70),et.PassThrough=nt(164)},function(tt,et,nt){(et=tt.exports=nt(75)).Stream=et,et.Readable=et,et.Writable=nt(79),et.Duplex=nt(25),et.Transform=nt(80),et.PassThrough=nt(183),et.finished=nt(45),et.pipeline=nt(184)},function(tt,et,nt){nt.d(et,"a",function(){return it});const rt=["password","secret","token","key","buffer"];function it(ot,at=new Set){return at.has(ot)?"[ RECURSIVE ]":!(st=ot)||typeof st!="object"&&typeof st!="function"?ot:(at.add(ot),Object.keys(ot).reduce((lt,ct)=>(lt[ct]=rt.some(ft=>ct.toLowerCase().includes(ft.toLowerCase()))?"[ REDACTED ]":it(ot[ct],at),lt),{}));var st}},function(tt,et){tt.exports=rt,rt.default=rt,rt.stable=ot,rt.stableStringify=ot;var nt=[];function rt(at,st,lt){(function ut(dt,ht,pt,gt){var mt;if(typeof dt=="object"&&dt!==null){for(mt=0;mt<pt.length;mt++)if(pt[mt]===dt)return gt[ht]="[Circular]",void nt.push([gt,ht,dt]);if(pt.push(dt),Array.isArray(dt))for(mt=0;mt<dt.length;mt++)ut(dt[mt],mt,pt,dt);else{var yt=Object.keys(dt);for(mt=0;mt<yt.length;mt++){var bt=yt[mt];ut(dt[bt],bt,pt,dt)}}pt.pop()}})(at,"",[],void 0);for(var ct=JSON.stringify(at,st,lt);nt.length!==0;){var ft=nt.pop();ft[0][ft[1]]=ft[2]}return ct}function it(at,st){return at<st?-1:at>st?1:0}function ot(at,st,lt){for(var ct=function dt(ht,pt,gt,mt){var yt;if(typeof ht=="object"&&ht!==null){for(yt=0;yt<gt.length;yt++)if(gt[yt]===ht)return mt[pt]="[Circular]",void nt.push([mt,pt,ht]);if(typeof ht.toJSON=="function")return;if(gt.push(ht),Array.isArray(ht))for(yt=0;yt<ht.length;yt++)dt(ht[yt],yt,gt,ht);else{var bt={},St=Object.keys(ht).sort(it);for(yt=0;yt<St.length;yt++){var xt=St[yt];dt(ht[xt],xt,gt,ht),bt[xt]=ht[xt]}if(mt===void 0)return bt;nt.push([mt,pt,ht]),mt[pt]=bt}gt.pop()}}(at,"",[],void 0)||at,ft=JSON.stringify(ct,st,lt);nt.length!==0;){var ut=nt.pop();ut[0][ut[1]]=ut[2]}return ft}},function(tt,et,nt){var rt=nt(13),it=Object.keys||function(pt){var gt=[];for(var mt in pt)gt.push(mt);return gt};tt.exports=ut;var ot=Object.create(nt(14));ot.inherits=nt(6);var at=nt(142),st=nt(60);ot.inherits(ut,at);for(var lt=it(st.prototype),ct=0;ct<lt.length;ct++){var ft=lt[ct];ut.prototype[ft]||(ut.prototype[ft]=st.prototype[ft])}function ut(pt){if(!(this instanceof ut))return new ut(pt);at.call(this,pt),st.call(this,pt),pt&&pt.readable===!1&&(this.readable=!1),pt&&pt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,pt&&pt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",dt)}function dt(){this.allowHalfOpen||this._writableState.ended||rt.nextTick(ht,this)}function ht(pt){pt.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(pt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=pt,this._writableState.destroyed=pt)}}),ut.prototype._destroy=function(pt,gt){this.push(null),this.end(),rt.nextTick(gt,pt)}},function(tt,et,nt){var rt=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function it(st,lt){return Object.prototype.hasOwnProperty.call(st,lt)}et.assign=function(st){for(var lt=Array.prototype.slice.call(arguments,1);lt.length;){var ct=lt.shift();if(ct){if(typeof ct!="object")throw new TypeError(ct+"must be non-object");for(var ft in ct)it(ct,ft)&&(st[ft]=ct[ft])}}return st},et.shrinkBuf=function(st,lt){return st.length===lt?st:st.subarray?st.subarray(0,lt):(st.length=lt,st)};var ot={arraySet:function(st,lt,ct,ft,ut){if(lt.subarray&&st.subarray)st.set(lt.subarray(ct,ct+ft),ut);else for(var dt=0;dt<ft;dt++)st[ut+dt]=lt[ct+dt]},flattenChunks:function(st){var lt,ct,ft,ut,dt,ht;for(ft=0,lt=0,ct=st.length;lt<ct;lt++)ft+=st[lt].length;for(ht=new Uint8Array(ft),ut=0,lt=0,ct=st.length;lt<ct;lt++)dt=st[lt],ht.set(dt,ut),ut+=dt.length;return ht}},at={arraySet:function(st,lt,ct,ft,ut){for(var dt=0;dt<ft;dt++)st[ut+dt]=lt[ct+dt]},flattenChunks:function(st){return[].concat.apply([],st)}};et.setTyped=function(st){st?(et.Buf8=Uint8Array,et.Buf16=Uint16Array,et.Buf32=Int32Array,et.assign(et,ot)):(et.Buf8=Array,et.Buf16=Array,et.Buf32=Array,et.assign(et,at))},et.setTyped(rt)},function(tt,et,nt){tt.exports=nt(185)},function(tt,et,nt){tt.exports=function(rt){return rt}},function(tt,et,nt){nt.d(et,"a",function(){return yt});var rt=nt(11),it=nt(0);function ot(bt,St,xt=()=>!0){if(bt instanceof St&&xt(bt))return bt;throw bt}var at=nt(1),st=nt(100),lt=nt.n(st),ct=nt(101),ft=nt.n(ct);class ut extends Error{constructor(St,xt,vt){super(`Connection failure: ${St.message}`),this.cause=St,this.url=xt,this.retryable=vt}}var dt=nt(30);class ht extends Error{constructor(St,xt,vt,$t,zt={},Nt){super(`Unexpected response (${vt}) for ${St} ${xt}: ${JSON.stringify(Nt?Object(dt.a)([...Nt.entries()].reduce((wt,[Et,Rt])=>(wt[Et]=Rt,wt),{})):{})} -- ${JSON.stringify(Object(dt.a)($t))}`),this.method=St,this.url=xt,this.statusCode=vt,this.body=$t,this.validationErrors=zt,this.headers=Nt}}class pt extends Error{constructor(St,xt){super(`Invalid headers (${JSON.stringify(St)}) for response: ${xt.message}`),this.validationErrors=St,this.responseError=xt}}var gt=function(bt,St,xt,vt){return new(xt||(xt=Promise))(function($t,zt){function Nt(Rt){try{Et(vt.next(Rt))}catch(Tt){zt(Tt)}}function wt(Rt){try{Et(vt.throw(Rt))}catch(Tt){zt(Tt)}}function Et(Rt){var Tt;Rt.done?$t(Rt.value):(Tt=Rt.value,Tt instanceof xt?Tt:new xt(function(It){It(Tt)})).then(Nt,wt)}Et((vt=vt.apply(bt,St||[])).next())})},mt=function(bt,St){var xt={};for(var vt in bt)Object.prototype.hasOwnProperty.call(bt,vt)&&St.indexOf(vt)<0&&(xt[vt]=bt[vt]);if(bt!=null&&typeof Object.getOwnPropertySymbols=="function"){var $t=0;for(vt=Object.getOwnPropertySymbols(bt);$t<vt.length;$t++)St.indexOf(vt[$t])<0&&Object.prototype.propertyIsEnumerable.call(bt,vt[$t])&&(xt[vt[$t]]=bt[vt[$t]])}return xt};class yt{constructor(St,xt={}){if(this.endpoint=St,this.validateHeaders=vt=>xt.validateHeaders?xt.validateHeaders(vt):{},this.verbose=xt.verbose!==!1,this.retries=xt.retries!==void 0?xt.retries:yt.retries,this.headers=xt.headers||{},this.timeoutMs=xt.timeoutMs,!(this.retries>=0))throw new Error("retries must be positive or zero");if(this.timeoutMs!==void 0&&!(this.timeoutMs>0))throw new Error("timeoutMs must be positive")}fetch(St,xt={}){return gt(this,void 0,void 0,function*(){return(yield this.fetchVerbose(St,xt)).body})}fetchVerbose(St,xt={}){return gt(this,void 0,void 0,function*(){let vt=100*at.a.millisecond,$t=0;const zt=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,Nt=zt?()=>Math.max(zt-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(St,xt,Nt)}catch(wt){const Et=ot(wt,ut);if((Nt==null?void 0:Nt())===0||$t===this.retries||!Et.retryable&&!xt.allowUnsafeRetries)throw Et;$t++,vt*=2+.1*(Math.random()-.5),yield Object(rt.a)(Nt?Math.min(vt,Nt()):vt),this.verbose&&it.a.warn(`Connection failure, retrying. Error: ${wt.cause.message}`,{url:wt.url,error:wt.cause})}})}doFetch(St,xt,vt){return gt(this,void 0,void 0,function*(){const{token:$t,json:zt}=xt,Nt=mt(xt,["token","json"]),wt=(Nt.method||"GET").toUpperCase(),Et=wt!=="POST"&&wt!=="PATCH",Rt=this.endpoint!==void 0?`${this.endpoint}${St?`/${St}`:""}`:St,Tt=new lt.a;let It;if(vt){const Pt=vt();Pt>0?It=setTimeout(()=>{Tt.abort()},Pt):Tt.abort()}try{let Pt;yield Promise.race([yt.waitForConnectivity(),new Promise(jt=>{Pt=setTimeout(jt,vt?Math.min(at.a.minute,vt()):at.a.minute)})]),Pt&&clearTimeout(Pt);const Dt=yield ft()(Rt,Object.assign(Object.assign({},Nt),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},zt!==!1?{"Content-Type":"application/json"}:{}),this.headers),Nt.headers||{}),$t!==void 0?{Authorization:`Bearer ${$t}`}:{}),signal:Tt.signal})),Ct=Dt.headers.get("content-type")||"",Ot=Ct&&Ct.startsWith("application/json"),Ut=Ot?yield Dt.json():yield Dt.text(),At=()=>new ht(wt,Rt,Dt.status,Ut,Ut&&Ut.validationErrors||{},Dt.headers);if(!Dt.ok)throw this.verbose&&it.a[Dt.status>=500?"warn":"info"]("Response error",{method:wt,url:Rt,statusCode:Dt.status}),At();const Mt=this.validateHeaders(Dt.headers);if(Object.keys(Mt).length!==0)throw new pt(Mt,At());if(Dt.status===204)return{body:void 0,headers:Dt.headers};if(zt&&!Ot)throw new Error(`Response is not JSON: ${JSON.stringify(Ut)}`);return{body:Ut,headers:Dt.headers}}catch(Pt){if(Pt.message==="Network request failed")throw new ut(Pt,Rt,Et);if(Pt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Ut=>Ut===Pt.code))throw new ut(Pt,Rt,!0);if(Pt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Ut=>Ut===Pt.code))throw new ut(Pt,Rt,Et);if(Pt.name==="AbortError")throw new ut(Pt,Rt,Et);const Dt=ot(Pt,ht),{statusCode:Ct}=Dt;if(Ct===408||Ct===429||Ct===502||Ct===503||Ct===504)throw this.verbose&&!Et&&it.a.warn("Potentially unsafe retry"),new ut(Pt,Rt,!0);const Ot=this.validateHeaders(Dt.headers);throw Object.keys(Ot).length!==0?new pt(Ot,Dt):(yield yt.onResponseError(Dt),Pt)}finally{It&&clearTimeout(It)}})}}yt.retries=8,yt.waitForConnectivity=()=>gt(void 0,void 0,void 0,function*(){}),yt.onResponseError=()=>gt(void 0,void 0,void 0,function*(){})},function(tt,et,nt){function rt(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}function it(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var ot=nt(57),at=nt(3),st=at.LEVEL,lt=at.MESSAGE;ot.enabled=!0;var ct=/\s+/,ft=function(){function ut(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(this,ut),gt.colors&&this.addColors(gt.colors),this.options=gt}var dt,ht,pt;return dt=ut,pt=[{key:"addColors",value:function(gt){var mt=Object.keys(gt).reduce(function(yt,bt){return yt[bt]=ct.test(gt[bt])?gt[bt].split(ct):gt[bt],yt},{});return ut.allColors=Object.assign({},ut.allColors||{},mt),ut.allColors}}],(ht=[{key:"addColors",value:function(gt){return ut.addColors(gt)}},{key:"colorize",value:function(gt,mt,yt){if(yt===void 0&&(yt=mt),!Array.isArray(ut.allColors[gt]))return ot[ut.allColors[gt]](yt);for(var bt=0,St=ut.allColors[gt].length;bt<St;bt++)yt=ot[ut.allColors[gt][bt]](yt);return yt}},{key:"transform",value:function(gt,mt){return mt.all&&typeof gt[lt]=="string"&&(gt[lt]=this.colorize(gt[st],gt.level,gt[lt])),(mt.level||mt.all||!mt.message)&&(gt.level=this.colorize(gt[st],gt.level)),(mt.all||mt.message)&&(gt.message=this.colorize(gt[st],gt.level,gt.message)),gt}}])&&it(dt.prototype,ht),pt&&it(dt,pt),ut}();tt.exports=function(ut){return new ft(ut)},tt.exports.Colorizer=tt.exports.Format=ft},function(tt,et){var nt={}.toString;tt.exports=Array.isArray||function(rt){return nt.call(rt)=="[object Array]"}},function(tt,et,nt){(function(rt){function it(ot){try{if(!rt.localStorage)return!1}catch{return!1}var at=rt.localStorage[ot];return at!=null&&String(at).toLowerCase()==="true"}tt.exports=function(ot,at){if(it("noDeprecation"))return ot;var st=!1;return function(){if(!st){if(it("throwDeprecation"))throw new Error(at);it("traceDeprecation")?console.trace(at):console.warn(at),st=!0}return ot.apply(this,arguments)}}}).call(this,nt(5))},function(tt,et,nt){var rt=nt(4),it=rt.Buffer;function ot(st,lt){for(var ct in st)lt[ct]=st[ct]}function at(st,lt,ct){return it(st,lt,ct)}it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?tt.exports=rt:(ot(rt,et),et.Buffer=at),ot(it,at),at.from=function(st,lt,ct){if(typeof st=="number")throw new TypeError("Argument must not be a number");return it(st,lt,ct)},at.alloc=function(st,lt,ct){if(typeof st!="number")throw new TypeError("Argument must be a number");var ft=it(st);return lt!==void 0?typeof ct=="string"?ft.fill(lt,ct):ft.fill(lt):ft.fill(0),ft},at.allocUnsafe=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return it(st)},at.allocUnsafeSlow=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return rt.SlowBuffer(st)}},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return rt&&typeof rt.length=="number"&&rt.length>=0&&rt.length%1==0},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default={},tt.exports=et.default},function(tt,et,nt){var rt=nt(4),it=rt.Buffer;function ot(st,lt){for(var ct in st)lt[ct]=st[ct]}function at(st,lt,ct){return it(st,lt,ct)}it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?tt.exports=rt:(ot(rt,et),et.Buffer=at),ot(it,at),at.from=function(st,lt,ct){if(typeof st=="number")throw new TypeError("Argument must not be a number");return it(st,lt,ct)},at.alloc=function(st,lt,ct){if(typeof st!="number")throw new TypeError("Argument must be a number");var ft=it(st);return lt!==void 0?typeof ct=="string"?ft.fill(lt,ct):ft.fill(lt):ft.fill(0),ft},at.allocUnsafe=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return it(st)},at.allocUnsafeSlow=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return rt.SlowBuffer(st)}},function(tt,et,nt){(function(rt,it,ot){var at=nt(13);function st(Et){var Rt=this;this.next=null,this.entry=null,this.finish=function(){(function(Tt,It,Pt){var Dt=Tt.entry;for(Tt.entry=null;Dt;){var Ct=Dt.callback;It.pendingcb--,Ct(Pt),Dt=Dt.next}It.corkedRequestsFree?It.corkedRequestsFree.next=Tt:It.corkedRequestsFree=Tt})(Rt,Et)}}tt.exports=St;var lt,ct=!rt.browser&&["v0.10","v0.9."].indexOf(rt.version.slice(0,5))>-1?it:at.nextTick;St.WritableState=bt;var ft=nt(14);ft.inherits=nt(6);var ut={deprecate:nt(39)},dt=nt(68),ht=nt(43).Buffer,pt=ot.Uint8Array||function(){},gt,mt=nt(69);function yt(){}function bt(Et,Rt){lt=lt||nt(20),Et=Et||{};var Tt=Rt instanceof lt;this.objectMode=!!Et.objectMode,Tt&&(this.objectMode=this.objectMode||!!Et.writableObjectMode);var It=Et.highWaterMark,Pt=Et.writableHighWaterMark,Dt=this.objectMode?16:16384;this.highWaterMark=It||It===0?It:Tt&&(Pt||Pt===0)?Pt:Dt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ct=Et.decodeStrings===!1;this.decodeStrings=!Ct,this.defaultEncoding=Et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ot){(function(Ut,At){var Mt=Ut._writableState,jt=Mt.sync,kt=Mt.writecb;if(function(Ht){Ht.writing=!1,Ht.writecb=null,Ht.length-=Ht.writelen,Ht.writelen=0}(Mt),At)(function(Ht,Jt,Vt,Wt,Lt){--Jt.pendingcb,Vt?(at.nextTick(Lt,Wt),at.nextTick(wt,Ht,Jt),Ht._writableState.errorEmitted=!0,Ht.emit("error",Wt)):(Lt(Wt),Ht._writableState.errorEmitted=!0,Ht.emit("error",Wt),wt(Ht,Jt))})(Ut,Mt,jt,At,kt);else{var Gt=zt(Mt);Gt||Mt.corked||Mt.bufferProcessing||!Mt.bufferedRequest||$t(Ut,Mt),jt?ct(vt,Ut,Mt,Gt,kt):vt(Ut,Mt,Gt,kt)}})(Rt,Ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new st(this)}function St(Et){if(lt=lt||nt(20),!(gt.call(St,this)||this instanceof lt))return new St(Et);this._writableState=new bt(Et,this),this.writable=!0,Et&&(typeof Et.write=="function"&&(this._write=Et.write),typeof Et.writev=="function"&&(this._writev=Et.writev),typeof Et.destroy=="function"&&(this._destroy=Et.destroy),typeof Et.final=="function"&&(this._final=Et.final)),dt.call(this)}function xt(Et,Rt,Tt,It,Pt,Dt,Ct){Rt.writelen=It,Rt.writecb=Ct,Rt.writing=!0,Rt.sync=!0,Tt?Et._writev(Pt,Rt.onwrite):Et._write(Pt,Dt,Rt.onwrite),Rt.sync=!1}function vt(Et,Rt,Tt,It){Tt||function(Pt,Dt){Dt.length===0&&Dt.needDrain&&(Dt.needDrain=!1,Pt.emit("drain"))}(Et,Rt),Rt.pendingcb--,It(),wt(Et,Rt)}function $t(Et,Rt){Rt.bufferProcessing=!0;var Tt=Rt.bufferedRequest;if(Et._writev&&Tt&&Tt.next){var It=Rt.bufferedRequestCount,Pt=new Array(It),Dt=Rt.corkedRequestsFree;Dt.entry=Tt;for(var Ct=0,Ot=!0;Tt;)Pt[Ct]=Tt,Tt.isBuf||(Ot=!1),Tt=Tt.next,Ct+=1;Pt.allBuffers=Ot,xt(Et,Rt,!0,Rt.length,Pt,"",Dt.finish),Rt.pendingcb++,Rt.lastBufferedRequest=null,Dt.next?(Rt.corkedRequestsFree=Dt.next,Dt.next=null):Rt.corkedRequestsFree=new st(Rt),Rt.bufferedRequestCount=0}else{for(;Tt;){var Ut=Tt.chunk,At=Tt.encoding,Mt=Tt.callback;if(xt(Et,Rt,!1,Rt.objectMode?1:Ut.length,Ut,At,Mt),Tt=Tt.next,Rt.bufferedRequestCount--,Rt.writing)break}Tt===null&&(Rt.lastBufferedRequest=null)}Rt.bufferedRequest=Tt,Rt.bufferProcessing=!1}function zt(Et){return Et.ending&&Et.length===0&&Et.bufferedRequest===null&&!Et.finished&&!Et.writing}function Nt(Et,Rt){Et._final(function(Tt){Rt.pendingcb--,Tt&&Et.emit("error",Tt),Rt.prefinished=!0,Et.emit("prefinish"),wt(Et,Rt)})}function wt(Et,Rt){var Tt=zt(Rt);return Tt&&(function(It,Pt){Pt.prefinished||Pt.finalCalled||(typeof It._final=="function"?(Pt.pendingcb++,Pt.finalCalled=!0,at.nextTick(Nt,It,Pt)):(Pt.prefinished=!0,It.emit("prefinish")))}(Et,Rt),Rt.pendingcb===0&&(Rt.finished=!0,Et.emit("finish"))),Tt}ft.inherits(St,dt),bt.prototype.getBuffer=function(){for(var Et=this.bufferedRequest,Rt=[];Et;)Rt.push(Et),Et=Et.next;return Rt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:ut.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(Et){return!!gt.call(this,Et)||this===St&&Et&&Et._writableState instanceof bt}})):gt=function(Et){return Et instanceof this},St.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},St.prototype.write=function(Et,Rt,Tt){var It,Pt=this._writableState,Dt=!1,Ct=!Pt.objectMode&&(It=Et,ht.isBuffer(It)||It instanceof pt);return Ct&&!ht.isBuffer(Et)&&(Et=function(Ot){return ht.from(Ot)}(Et)),typeof Rt=="function"&&(Tt=Rt,Rt=null),Ct?Rt="buffer":Rt||(Rt=Pt.defaultEncoding),typeof Tt!="function"&&(Tt=yt),Pt.ended?function(Ot,Ut){var At=new Error("write after end");Ot.emit("error",At),at.nextTick(Ut,At)}(this,Tt):(Ct||function(Ot,Ut,At,Mt){var jt=!0,kt=!1;return At===null?kt=new TypeError("May not write null values to stream"):typeof At=="string"||At===void 0||Ut.objectMode||(kt=new TypeError("Invalid non-string/buffer chunk")),kt&&(Ot.emit("error",kt),at.nextTick(Mt,kt),jt=!1),jt}(this,Pt,Et,Tt))&&(Pt.pendingcb++,Dt=function(Ot,Ut,At,Mt,jt,kt){if(!At){var Gt=function(Wt,Lt,Bt){return Wt.objectMode||Wt.decodeStrings===!1||typeof Lt!="string"||(Lt=ht.from(Lt,Bt)),Lt}(Ut,Mt,jt);Mt!==Gt&&(At=!0,jt="buffer",Mt=Gt)}var Ht=Ut.objectMode?1:Mt.length;Ut.length+=Ht;var Jt=Ut.length<Ut.highWaterMark;if(Jt||(Ut.needDrain=!0),Ut.writing||Ut.corked){var Vt=Ut.lastBufferedRequest;Ut.lastBufferedRequest={chunk:Mt,encoding:jt,isBuf:At,callback:kt,next:null},Vt?Vt.next=Ut.lastBufferedRequest:Ut.bufferedRequest=Ut.lastBufferedRequest,Ut.bufferedRequestCount+=1}else xt(Ot,Ut,!1,Ht,Mt,jt,kt);return Jt}(this,Pt,Ct,Et,Rt,Tt)),Dt},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Et=this._writableState;Et.corked&&(Et.corked--,Et.writing||Et.corked||Et.finished||Et.bufferProcessing||!Et.bufferedRequest||$t(this,Et))},St.prototype.setDefaultEncoding=function(Et){if(typeof Et=="string"&&(Et=Et.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Et+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Et);return this._writableState.defaultEncoding=Et,this},Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Et,Rt,Tt){Tt(new Error("_write() is not implemented"))},St.prototype._writev=null,St.prototype.end=function(Et,Rt,Tt){var It=this._writableState;typeof Et=="function"?(Tt=Et,Et=null,Rt=null):typeof Rt=="function"&&(Tt=Rt,Rt=null),Et!=null&&this.write(Et,Rt),It.corked&&(It.corked=1,this.uncork()),It.ending||It.finished||function(Pt,Dt,Ct){Dt.ending=!0,wt(Pt,Dt),Ct&&(Dt.finished?at.nextTick(Ct):Pt.once("finish",Ct)),Dt.ended=!0,Pt.writable=!1}(this,It,Tt)},Object.defineProperty(St.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Et){this._writableState&&(this._writableState.destroyed=Et)}}),St.prototype.destroy=mt.destroy,St.prototype._undestroy=mt.undestroy,St.prototype._destroy=function(Et,Rt){this.end(),Rt(Et)}}).call(this,nt(2),nt(12).setImmediate,nt(5))},function(tt,et,nt){var rt=nt(24).codes.ERR_STREAM_PREMATURE_CLOSE;function it(){}tt.exports=function ot(at,st,lt){if(typeof st=="function")return ot(at,null,st);st||(st={}),lt=function(St){var xt=!1;return function(){if(!xt){xt=!0;for(var vt=arguments.length,$t=new Array(vt),zt=0;zt<vt;zt++)$t[zt]=arguments[zt];St.apply(this,$t)}}}(lt||it);var ct=st.readable||st.readable!==!1&&at.readable,ft=st.writable||st.writable!==!1&&at.writable,ut=function(){at.writable||ht()},dt=at._writableState&&at._writableState.finished,ht=function(){ft=!1,dt=!0,ct||lt.call(at)},pt=at._readableState&&at._readableState.endEmitted,gt=function(){ct=!1,pt=!0,ft||lt.call(at)},mt=function(St){lt.call(at,St)},yt=function(){var St;return ct&&!pt?(at._readableState&&at._readableState.ended||(St=new rt),lt.call(at,St)):ft&&!dt?(at._writableState&&at._writableState.ended||(St=new rt),lt.call(at,St)):void 0},bt=function(){at.req.on("finish",ht)};return function(St){return St.setHeader&&typeof St.abort=="function"}(at)?(at.on("complete",ht),at.on("abort",yt),at.req?bt():at.on("request",bt)):ft&&!at._writableState&&(at.on("end",ut),at.on("close",ut)),at.on("end",gt),at.on("finish",ht),st.error!==!1&&at.on("error",mt),at.on("close",yt),function(){at.removeListener("complete",ht),at.removeListener("abort",yt),at.removeListener("request",bt),at.req&&at.req.removeListener("finish",ht),at.removeListener("end",ut),at.removeListener("close",ut),at.removeListener("finish",ht),at.removeListener("end",gt),at.removeListener("error",mt),at.removeListener("close",yt)}}},function(tt,et,nt){var rt=nt(193),it=nt(195);function ot(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}et.parse=St,et.resolve=function(xt,vt){return St(xt,!1,!0).resolve(vt)},et.resolveObject=function(xt,vt){return xt?St(xt,!1,!0).resolveObject(vt):vt},et.format=function(xt){return it.isString(xt)&&(xt=St(xt)),xt instanceof ot?xt.format():ot.prototype.format.call(xt)},et.Url=ot;var at=/^([a-z0-9.+-]+:)/i,st=/:[0-9]*$/,lt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ct=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ft=["'"].concat(ct),ut=["%","/","?",";","#"].concat(ft),dt=["/","?","#"],ht=/^[+a-z0-9A-Z_-]{0,63}$/,pt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gt={javascript:!0,"javascript:":!0},mt={javascript:!0,"javascript:":!0},yt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},bt=nt(196);function St(xt,vt,$t){if(xt&&it.isObject(xt)&&xt instanceof ot)return xt;var zt=new ot;return zt.parse(xt,vt,$t),zt}ot.prototype.parse=function(xt,vt,$t){if(!it.isString(xt))throw new TypeError("Parameter 'url' must be a string, not "+typeof xt);var zt=xt.indexOf("?"),Nt=zt!==-1&&zt<xt.indexOf("#")?"?":"#",wt=xt.split(Nt);wt[0]=wt[0].replace(/\\/g,"/");var Et=xt=wt.join(Nt);if(Et=Et.trim(),!$t&&xt.split("#").length===1){var Rt=lt.exec(Et);if(Rt)return this.path=Et,this.href=Et,this.pathname=Rt[1],Rt[2]?(this.search=Rt[2],this.query=vt?bt.parse(this.search.substr(1)):this.search.substr(1)):vt&&(this.search="",this.query={}),this}var Tt=at.exec(Et);if(Tt){var It=(Tt=Tt[0]).toLowerCase();this.protocol=It,Et=Et.substr(Tt.length)}if($t||Tt||Et.match(/^\/\/[^@\/]+@[^@\/]+/)){var Pt=Et.substr(0,2)==="//";!Pt||Tt&&mt[Tt]||(Et=Et.substr(2),this.slashes=!0)}if(!mt[Tt]&&(Pt||Tt&&!yt[Tt])){for(var Dt,Ct,Ot=-1,Ut=0;Ut<dt.length;Ut++)(At=Et.indexOf(dt[Ut]))!==-1&&(Ot===-1||At<Ot)&&(Ot=At);for((Ct=Ot===-1?Et.lastIndexOf("@"):Et.lastIndexOf("@",Ot))!==-1&&(Dt=Et.slice(0,Ct),Et=Et.slice(Ct+1),this.auth=decodeURIComponent(Dt)),Ot=-1,Ut=0;Ut<ut.length;Ut++){var At;(At=Et.indexOf(ut[Ut]))!==-1&&(Ot===-1||At<Ot)&&(Ot=At)}Ot===-1&&(Ot=Et.length),this.host=Et.slice(0,Ot),Et=Et.slice(Ot),this.parseHost(),this.hostname=this.hostname||"";var Mt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Mt)for(var jt=this.hostname.split(/\./),kt=(Ut=0,jt.length);Ut<kt;Ut++){var Gt=jt[Ut];if(Gt&&!Gt.match(ht)){for(var Ht="",Jt=0,Vt=Gt.length;Jt<Vt;Jt++)Gt.charCodeAt(Jt)>127?Ht+="x":Ht+=Gt[Jt];if(!Ht.match(ht)){var Wt=jt.slice(0,Ut),Lt=jt.slice(Ut+1),Bt=Gt.match(pt);Bt&&(Wt.push(Bt[1]),Lt.unshift(Bt[2])),Lt.length&&(Et="/"+Lt.join(".")+Et),this.hostname=Wt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Mt||(this.hostname=rt.toASCII(this.hostname));var Ft=this.port?":"+this.port:"",sn=this.hostname||"";this.host=sn+Ft,this.href+=this.host,Mt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Et[0]!=="/"&&(Et="/"+Et))}if(!gt[It])for(Ut=0,kt=ft.length;Ut<kt;Ut++){var Xt=ft[Ut];if(Et.indexOf(Xt)!==-1){var dn=encodeURIComponent(Xt);dn===Xt&&(dn=escape(Xt)),Et=Et.split(Xt).join(dn)}}var Yt=Et.indexOf("#");Yt!==-1&&(this.hash=Et.substr(Yt),Et=Et.slice(0,Yt));var yn=Et.indexOf("?");if(yn!==-1?(this.search=Et.substr(yn),this.query=Et.substr(yn+1),vt&&(this.query=bt.parse(this.query)),Et=Et.slice(0,yn)):vt&&(this.search="",this.query={}),Et&&(this.pathname=Et),yt[It]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ft=this.pathname||"";var Qt=this.search||"";this.path=Ft+Qt}return this.href=this.format(),this},ot.prototype.format=function(){var xt=this.auth||"";xt&&(xt=(xt=encodeURIComponent(xt)).replace(/%3A/i,":"),xt+="@");var vt=this.protocol||"",$t=this.pathname||"",zt=this.hash||"",Nt=!1,wt="";this.host?Nt=xt+this.host:this.hostname&&(Nt=xt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Nt+=":"+this.port)),this.query&&it.isObject(this.query)&&Object.keys(this.query).length&&(wt=bt.stringify(this.query));var Et=this.search||wt&&"?"+wt||"";return vt&&vt.substr(-1)!==":"&&(vt+=":"),this.slashes||(!vt||yt[vt])&&Nt!==!1?(Nt="//"+(Nt||""),$t&&$t.charAt(0)!=="/"&&($t="/"+$t)):Nt||(Nt=""),zt&&zt.charAt(0)!=="#"&&(zt="#"+zt),Et&&Et.charAt(0)!=="?"&&(Et="?"+Et),vt+Nt+($t=$t.replace(/[?#]/g,function(Rt){return encodeURIComponent(Rt)}))+(Et=Et.replace("#","%23"))+zt},ot.prototype.resolve=function(xt){return this.resolveObject(St(xt,!1,!0)).format()},ot.prototype.resolveObject=function(xt){if(it.isString(xt)){var vt=new ot;vt.parse(xt,!1,!0),xt=vt}for(var $t=new ot,zt=Object.keys(this),Nt=0;Nt<zt.length;Nt++){var wt=zt[Nt];$t[wt]=this[wt]}if($t.hash=xt.hash,xt.href==="")return $t.href=$t.format(),$t;if(xt.slashes&&!xt.protocol){for(var Et=Object.keys(xt),Rt=0;Rt<Et.length;Rt++){var Tt=Et[Rt];Tt!=="protocol"&&($t[Tt]=xt[Tt])}return yt[$t.protocol]&&$t.hostname&&!$t.pathname&&($t.path=$t.pathname="/"),$t.href=$t.format(),$t}if(xt.protocol&&xt.protocol!==$t.protocol){if(!yt[xt.protocol]){for(var It=Object.keys(xt),Pt=0;Pt<It.length;Pt++){var Dt=It[Pt];$t[Dt]=xt[Dt]}return $t.href=$t.format(),$t}if($t.protocol=xt.protocol,xt.host||mt[xt.protocol])$t.pathname=xt.pathname;else{for(var Ct=(xt.pathname||"").split("/");Ct.length&&!(xt.host=Ct.shift()););xt.host||(xt.host=""),xt.hostname||(xt.hostname=""),Ct[0]!==""&&Ct.unshift(""),Ct.length<2&&Ct.unshift(""),$t.pathname=Ct.join("/")}if($t.search=xt.search,$t.query=xt.query,$t.host=xt.host||"",$t.auth=xt.auth,$t.hostname=xt.hostname||xt.host,$t.port=xt.port,$t.pathname||$t.search){var Ot=$t.pathname||"",Ut=$t.search||"";$t.path=Ot+Ut}return $t.slashes=$t.slashes||xt.slashes,$t.href=$t.format(),$t}var At=$t.pathname&&$t.pathname.charAt(0)==="/",Mt=xt.host||xt.pathname&&xt.pathname.charAt(0)==="/",jt=Mt||At||$t.host&&xt.pathname,kt=jt,Gt=$t.pathname&&$t.pathname.split("/")||[],Ht=(Ct=xt.pathname&&xt.pathname.split("/")||[],$t.protocol&&!yt[$t.protocol]);if(Ht&&($t.hostname="",$t.port=null,$t.host&&(Gt[0]===""?Gt[0]=$t.host:Gt.unshift($t.host)),$t.host="",xt.protocol&&(xt.hostname=null,xt.port=null,xt.host&&(Ct[0]===""?Ct[0]=xt.host:Ct.unshift(xt.host)),xt.host=null),jt=jt&&(Ct[0]===""||Gt[0]==="")),Mt)$t.host=xt.host||xt.host===""?xt.host:$t.host,$t.hostname=xt.hostname||xt.hostname===""?xt.hostname:$t.hostname,$t.search=xt.search,$t.query=xt.query,Gt=Ct;else if(Ct.length)Gt||(Gt=[]),Gt.pop(),Gt=Gt.concat(Ct),$t.search=xt.search,$t.query=xt.query;else if(!it.isNullOrUndefined(xt.search))return Ht&&($t.hostname=$t.host=Gt.shift(),(Bt=!!($t.host&&$t.host.indexOf("@")>0)&&$t.host.split("@"))&&($t.auth=Bt.shift(),$t.host=$t.hostname=Bt.shift())),$t.search=xt.search,$t.query=xt.query,it.isNull($t.pathname)&&it.isNull($t.search)||($t.path=($t.pathname?$t.pathname:"")+($t.search?$t.search:"")),$t.href=$t.format(),$t;if(!Gt.length)return $t.pathname=null,$t.search?$t.path="/"+$t.search:$t.path=null,$t.href=$t.format(),$t;for(var Jt=Gt.slice(-1)[0],Vt=($t.host||xt.host||Gt.length>1)&&(Jt==="."||Jt==="..")||Jt==="",Wt=0,Lt=Gt.length;Lt>=0;Lt--)(Jt=Gt[Lt])==="."?Gt.splice(Lt,1):Jt===".."?(Gt.splice(Lt,1),Wt++):Wt&&(Gt.splice(Lt,1),Wt--);if(!jt&&!kt)for(;Wt--;Wt)Gt.unshift("..");!jt||Gt[0]===""||Gt[0]&&Gt[0].charAt(0)==="/"||Gt.unshift(""),Vt&&Gt.join("/").substr(-1)!=="/"&&Gt.push("");var Bt,Ft=Gt[0]===""||Gt[0]&&Gt[0].charAt(0)==="/";return Ht&&($t.hostname=$t.host=Ft?"":Gt.length?Gt.shift():"",(Bt=!!($t.host&&$t.host.indexOf("@")>0)&&$t.host.split("@"))&&($t.auth=Bt.shift(),$t.host=$t.hostname=Bt.shift())),(jt=jt||$t.host&&Gt.length)&&!Ft&&Gt.unshift(""),Gt.length?$t.pathname=Gt.join("/"):($t.pathname=null,$t.path=null),it.isNull($t.pathname)&&it.isNull($t.search)||($t.path=($t.pathname?$t.pathname:"")+($t.search?$t.search:"")),$t.auth=xt.auth||$t.auth,$t.slashes=$t.slashes||xt.slashes,$t.href=$t.format(),$t},ot.prototype.parseHost=function(){var xt=this.host,vt=st.exec(xt);vt&&((vt=vt[0])!==":"&&(this.port=vt.substr(1)),xt=xt.substr(0,xt.length-vt.length)),xt&&(this.hostname=xt)}},function(tt,et,nt){var rt=nt(56),it=nt(3).configs;et.cli=rt.levels(it.cli),et.npm=rt.levels(it.npm),et.syslog=rt.levels(it.syslog),et.addColors=rt.levels},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=st(nt(202)),it=st(nt(203)),ot=st(nt(23)),at=st(nt(27));function st(lt){return lt&&lt.__esModule?lt:{default:lt}}et.default=(0,at.default)(function(lt,ct,ft){return(0,rt.default)(lt,(0,it.default)((0,ot.default)(ct)),ft)},3),tt.exports=et.default},function(tt,et,nt){function rt(it){Error.captureStackTrace(this,this.constructor),this.name="EnvVarError",this.message=`env-var: ${it}`}(0,nt(10).inherits)(rt,Error),tt.exports=rt},function(tt,et,nt){tt.exports=function(rt){const it=parseInt(rt,10);if(isNaN(it)||rt.toString().indexOf(".")!==-1)throw new Error("should be a valid integer");return it}},function(tt,et,nt){tt.exports=function(rt){const it=parseFloat(rt);if(isNaN(it))throw new Error("should be a valid float");return it}},function(tt,et,nt){tt.exports=function(rt){try{return JSON.parse(rt)}catch{throw new Error("should be valid (parseable) JSON")}}},function(tt,et,nt){(function(rt){function it(st,lt){for(var ct=0,ft=st.length-1;ft>=0;ft--){var ut=st[ft];ut==="."?st.splice(ft,1):ut===".."?(st.splice(ft,1),ct++):ct&&(st.splice(ft,1),ct--)}if(lt)for(;ct--;ct)st.unshift("..");return st}function ot(st,lt){if(st.filter)return st.filter(lt);for(var ct=[],ft=0;ft<st.length;ft++)lt(st[ft],ft,st)&&ct.push(st[ft]);return ct}et.resolve=function(){for(var st="",lt=!1,ct=arguments.length-1;ct>=-1&&!lt;ct--){var ft=ct>=0?arguments[ct]:rt.cwd();if(typeof ft!="string")throw new TypeError("Arguments to path.resolve must be strings");ft&&(st=ft+"/"+st,lt=ft.charAt(0)==="/")}return(lt?"/":"")+(st=it(ot(st.split("/"),function(ut){return!!ut}),!lt).join("/"))||"."},et.normalize=function(st){var lt=et.isAbsolute(st),ct=at(st,-1)==="/";return(st=it(ot(st.split("/"),function(ft){return!!ft}),!lt).join("/"))||lt||(st="."),st&&ct&&(st+="/"),(lt?"/":"")+st},et.isAbsolute=function(st){return st.charAt(0)==="/"},et.join=function(){var st=Array.prototype.slice.call(arguments,0);return et.normalize(ot(st,function(lt,ct){if(typeof lt!="string")throw new TypeError("Arguments to path.join must be strings");return lt}).join("/"))},et.relative=function(st,lt){function ct(mt){for(var yt=0;yt<mt.length&&mt[yt]==="";yt++);for(var bt=mt.length-1;bt>=0&&mt[bt]==="";bt--);return yt>bt?[]:mt.slice(yt,bt-yt+1)}st=et.resolve(st).substr(1),lt=et.resolve(lt).substr(1);for(var ft=ct(st.split("/")),ut=ct(lt.split("/")),dt=Math.min(ft.length,ut.length),ht=dt,pt=0;pt<dt;pt++)if(ft[pt]!==ut[pt]){ht=pt;break}var gt=[];for(pt=ht;pt<ft.length;pt++)gt.push("..");return(gt=gt.concat(ut.slice(ht))).join("/")},et.sep="/",et.delimiter=":",et.dirname=function(st){if(typeof st!="string"&&(st+=""),st.length===0)return".";for(var lt=st.charCodeAt(0),ct=lt===47,ft=-1,ut=!0,dt=st.length-1;dt>=1;--dt)if((lt=st.charCodeAt(dt))===47){if(!ut){ft=dt;break}}else ut=!1;return ft===-1?ct?"/":".":ct&&ft===1?"/":st.slice(0,ft)},et.basename=function(st,lt){var ct=function(ft){typeof ft!="string"&&(ft+="");var ut,dt=0,ht=-1,pt=!0;for(ut=ft.length-1;ut>=0;--ut)if(ft.charCodeAt(ut)===47){if(!pt){dt=ut+1;break}}else ht===-1&&(pt=!1,ht=ut+1);return ht===-1?"":ft.slice(dt,ht)}(st);return lt&&ct.substr(-1*lt.length)===lt&&(ct=ct.substr(0,ct.length-lt.length)),ct},et.extname=function(st){typeof st!="string"&&(st+="");for(var lt=-1,ct=0,ft=-1,ut=!0,dt=0,ht=st.length-1;ht>=0;--ht){var pt=st.charCodeAt(ht);if(pt!==47)ft===-1&&(ut=!1,ft=ht+1),pt===46?lt===-1?lt=ht:dt!==1&&(dt=1):lt!==-1&&(dt=-1);else if(!ut){ct=ht+1;break}}return lt===-1||ft===-1||dt===0||dt===1&&lt===ft-1&&lt===ct+1?"":st.slice(lt,ft)};var at="ab".substr(-1)==="b"?function(st,lt,ct){return st.substr(lt,ct)}:function(st,lt,ct){return lt<0&&(lt=st.length+lt),st.substr(lt,ct)}}).call(this,nt(2))},function(tt,et){function nt(rt,it){var ot=[],at=[];return it==null&&(it=function(st,lt){return ot[0]===lt?"[Circular ~]":"[Circular ~."+at.slice(0,ot.indexOf(lt)).join(".")+"]"}),function(st,lt){if(ot.length>0){var ct=ot.indexOf(this);~ct?ot.splice(ct+1):ot.push(this),~ct?at.splice(ct,1/0,st):at.push(st),~ot.indexOf(lt)&&(lt=it.call(this,st,lt))}else ot.push(lt);return rt==null?lt:rt.call(this,st,lt)}}(tt.exports=function(rt,it,ot,at){return JSON.stringify(rt,nt(it,at),ot)}).getSerialize=nt},function(tt,et,nt){nt(227),tt.exports={encode:rt=>new TextEncoder().encode(rt),decode:rt=>new TextDecoder().decode(rt)}},function(tt,et,nt){var rt=et.format=nt(9);et.levels=nt(104),Object.defineProperty(rt,"align",{value:nt(121)}),Object.defineProperty(rt,"cli",{value:nt(122)}),Object.defineProperty(rt,"combine",{value:nt(123)}),Object.defineProperty(rt,"colorize",{value:nt(37)}),Object.defineProperty(rt,"json",{value:nt(124)}),Object.defineProperty(rt,"label",{value:nt(127)}),Object.defineProperty(rt,"logstash",{value:nt(128)}),Object.defineProperty(rt,"metadata",{value:nt(129)}),Object.defineProperty(rt,"padLevels",{value:nt(58)}),Object.defineProperty(rt,"prettyPrint",{value:nt(130)}),Object.defineProperty(rt,"printf",{value:nt(131)}),Object.defineProperty(rt,"simple",{value:nt(132)}),Object.defineProperty(rt,"splat",{value:nt(133)}),Object.defineProperty(rt,"timestamp",{value:nt(134)}),Object.defineProperty(rt,"uncolorize",{value:nt(136)})},function(tt,et,nt){var rt=nt(105);tt.exports=rt},function(tt,et,nt){function rt(dt){return function(ht){if(Array.isArray(ht))return it(ht)}(dt)||function(ht){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(ht))return Array.from(ht)}(dt)||function(ht,pt){if(!!ht){if(typeof ht=="string")return it(ht,pt);var gt=Object.prototype.toString.call(ht).slice(8,-1);if(gt==="Object"&&ht.constructor&&(gt=ht.constructor.name),gt==="Map"||gt==="Set")return Array.from(ht);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return it(ht,pt)}}(dt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function it(dt,ht){(ht==null||ht>dt.length)&&(ht=dt.length);for(var pt=0,gt=new Array(ht);pt<ht;pt++)gt[pt]=dt[pt];return gt}function ot(dt,ht){if(!(dt instanceof ht))throw new TypeError("Cannot call a class as a function")}function at(dt,ht){for(var pt=0;pt<ht.length;pt++){var gt=ht[pt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(dt,gt.key,gt)}}var st=nt(3),lt=st.configs,ct=st.LEVEL,ft=st.MESSAGE,ut=function(){function dt(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:lt.npm.levels};ot(this,dt),this.paddings=dt.paddingForLevels(mt.levels,mt.filler),this.options=mt}var ht,pt,gt;return ht=dt,gt=[{key:"getLongestLevel",value:function(mt){var yt=Object.keys(mt).map(function(bt){return bt.length});return Math.max.apply(Math,rt(yt))}},{key:"paddingForLevel",value:function(mt,yt,bt){var St=bt+1-mt.length,xt=Math.floor(St/yt.length);return"".concat(yt).concat(yt.repeat(xt)).slice(0,St)}},{key:"paddingForLevels",value:function(mt){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",bt=dt.getLongestLevel(mt);return Object.keys(mt).reduce(function(St,xt){return St[xt]=dt.paddingForLevel(xt,yt,bt),St},{})}}],(pt=[{key:"transform",value:function(mt,yt){return mt.message="".concat(this.paddings[mt[ct]]).concat(mt.message),mt[ft]&&(mt[ft]="".concat(this.paddings[mt[ct]]).concat(mt[ft])),mt}}])&&at(ht.prototype,pt),gt&&at(ht,gt),dt}();tt.exports=function(dt){return new ut(dt)},tt.exports.Padder=tt.exports.Format=ut},function(tt,et,nt){var rt=nt(10).format;et.warn={deprecated:function(it){return function(){throw new Error(rt("{ %s } was removed in winston@3.0.0.",it))}},useFormat:function(it){return function(){throw new Error([rt("{ %s } was removed in winston@3.0.0.",it),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(it,ot,at){at.forEach(function(st){it[st]=et.warn[ot](st)})},moved:function(it,ot,at){function st(){return function(){throw new Error([rt("winston.%s was moved in winston@3.0.0.",at),rt("Use a winston.%s instead.",ot)].join(`
`))}}Object.defineProperty(it,at,{get:st,set:st})},forProperties:function(it,ot,at){at.forEach(function(st){var lt=et.warn[ot](st);Object.defineProperty(it,st,{get:lt,set:lt})})}}},function(tt,et,nt){(function(rt,it,ot){var at=nt(13);function st(Et){var Rt=this;this.next=null,this.entry=null,this.finish=function(){(function(Tt,It,Pt){var Dt=Tt.entry;for(Tt.entry=null;Dt;){var Ct=Dt.callback;It.pendingcb--,Ct(Pt),Dt=Dt.next}It.corkedRequestsFree?It.corkedRequestsFree.next=Tt:It.corkedRequestsFree=Tt})(Rt,Et)}}tt.exports=St;var lt,ct=!rt.browser&&["v0.10","v0.9."].indexOf(rt.version.slice(0,5))>-1?it:at.nextTick;St.WritableState=bt;var ft=Object.create(nt(14));ft.inherits=nt(6);var ut={deprecate:nt(39)},dt=nt(61),ht=nt(40).Buffer,pt=ot.Uint8Array||function(){},gt,mt=nt(62);function yt(){}function bt(Et,Rt){lt=lt||nt(32),Et=Et||{};var Tt=Rt instanceof lt;this.objectMode=!!Et.objectMode,Tt&&(this.objectMode=this.objectMode||!!Et.writableObjectMode);var It=Et.highWaterMark,Pt=Et.writableHighWaterMark,Dt=this.objectMode?16:16384;this.highWaterMark=It||It===0?It:Tt&&(Pt||Pt===0)?Pt:Dt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ct=Et.decodeStrings===!1;this.decodeStrings=!Ct,this.defaultEncoding=Et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ot){(function(Ut,At){var Mt=Ut._writableState,jt=Mt.sync,kt=Mt.writecb;if(function(Ht){Ht.writing=!1,Ht.writecb=null,Ht.length-=Ht.writelen,Ht.writelen=0}(Mt),At)(function(Ht,Jt,Vt,Wt,Lt){--Jt.pendingcb,Vt?(at.nextTick(Lt,Wt),at.nextTick(wt,Ht,Jt),Ht._writableState.errorEmitted=!0,Ht.emit("error",Wt)):(Lt(Wt),Ht._writableState.errorEmitted=!0,Ht.emit("error",Wt),wt(Ht,Jt))})(Ut,Mt,jt,At,kt);else{var Gt=zt(Mt);Gt||Mt.corked||Mt.bufferProcessing||!Mt.bufferedRequest||$t(Ut,Mt),jt?ct(vt,Ut,Mt,Gt,kt):vt(Ut,Mt,Gt,kt)}})(Rt,Ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new st(this)}function St(Et){if(lt=lt||nt(32),!(gt.call(St,this)||this instanceof lt))return new St(Et);this._writableState=new bt(Et,this),this.writable=!0,Et&&(typeof Et.write=="function"&&(this._write=Et.write),typeof Et.writev=="function"&&(this._writev=Et.writev),typeof Et.destroy=="function"&&(this._destroy=Et.destroy),typeof Et.final=="function"&&(this._final=Et.final)),dt.call(this)}function xt(Et,Rt,Tt,It,Pt,Dt,Ct){Rt.writelen=It,Rt.writecb=Ct,Rt.writing=!0,Rt.sync=!0,Tt?Et._writev(Pt,Rt.onwrite):Et._write(Pt,Dt,Rt.onwrite),Rt.sync=!1}function vt(Et,Rt,Tt,It){Tt||function(Pt,Dt){Dt.length===0&&Dt.needDrain&&(Dt.needDrain=!1,Pt.emit("drain"))}(Et,Rt),Rt.pendingcb--,It(),wt(Et,Rt)}function $t(Et,Rt){Rt.bufferProcessing=!0;var Tt=Rt.bufferedRequest;if(Et._writev&&Tt&&Tt.next){var It=Rt.bufferedRequestCount,Pt=new Array(It),Dt=Rt.corkedRequestsFree;Dt.entry=Tt;for(var Ct=0,Ot=!0;Tt;)Pt[Ct]=Tt,Tt.isBuf||(Ot=!1),Tt=Tt.next,Ct+=1;Pt.allBuffers=Ot,xt(Et,Rt,!0,Rt.length,Pt,"",Dt.finish),Rt.pendingcb++,Rt.lastBufferedRequest=null,Dt.next?(Rt.corkedRequestsFree=Dt.next,Dt.next=null):Rt.corkedRequestsFree=new st(Rt),Rt.bufferedRequestCount=0}else{for(;Tt;){var Ut=Tt.chunk,At=Tt.encoding,Mt=Tt.callback;if(xt(Et,Rt,!1,Rt.objectMode?1:Ut.length,Ut,At,Mt),Tt=Tt.next,Rt.bufferedRequestCount--,Rt.writing)break}Tt===null&&(Rt.lastBufferedRequest=null)}Rt.bufferedRequest=Tt,Rt.bufferProcessing=!1}function zt(Et){return Et.ending&&Et.length===0&&Et.bufferedRequest===null&&!Et.finished&&!Et.writing}function Nt(Et,Rt){Et._final(function(Tt){Rt.pendingcb--,Tt&&Et.emit("error",Tt),Rt.prefinished=!0,Et.emit("prefinish"),wt(Et,Rt)})}function wt(Et,Rt){var Tt=zt(Rt);return Tt&&(function(It,Pt){Pt.prefinished||Pt.finalCalled||(typeof It._final=="function"?(Pt.pendingcb++,Pt.finalCalled=!0,at.nextTick(Nt,It,Pt)):(Pt.prefinished=!0,It.emit("prefinish")))}(Et,Rt),Rt.pendingcb===0&&(Rt.finished=!0,Et.emit("finish"))),Tt}ft.inherits(St,dt),bt.prototype.getBuffer=function(){for(var Et=this.bufferedRequest,Rt=[];Et;)Rt.push(Et),Et=Et.next;return Rt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:ut.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(Et){return!!gt.call(this,Et)||this===St&&Et&&Et._writableState instanceof bt}})):gt=function(Et){return Et instanceof this},St.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},St.prototype.write=function(Et,Rt,Tt){var It,Pt=this._writableState,Dt=!1,Ct=!Pt.objectMode&&(It=Et,ht.isBuffer(It)||It instanceof pt);return Ct&&!ht.isBuffer(Et)&&(Et=function(Ot){return ht.from(Ot)}(Et)),typeof Rt=="function"&&(Tt=Rt,Rt=null),Ct?Rt="buffer":Rt||(Rt=Pt.defaultEncoding),typeof Tt!="function"&&(Tt=yt),Pt.ended?function(Ot,Ut){var At=new Error("write after end");Ot.emit("error",At),at.nextTick(Ut,At)}(this,Tt):(Ct||function(Ot,Ut,At,Mt){var jt=!0,kt=!1;return At===null?kt=new TypeError("May not write null values to stream"):typeof At=="string"||At===void 0||Ut.objectMode||(kt=new TypeError("Invalid non-string/buffer chunk")),kt&&(Ot.emit("error",kt),at.nextTick(Mt,kt),jt=!1),jt}(this,Pt,Et,Tt))&&(Pt.pendingcb++,Dt=function(Ot,Ut,At,Mt,jt,kt){if(!At){var Gt=function(Wt,Lt,Bt){return Wt.objectMode||Wt.decodeStrings===!1||typeof Lt!="string"||(Lt=ht.from(Lt,Bt)),Lt}(Ut,Mt,jt);Mt!==Gt&&(At=!0,jt="buffer",Mt=Gt)}var Ht=Ut.objectMode?1:Mt.length;Ut.length+=Ht;var Jt=Ut.length<Ut.highWaterMark;if(Jt||(Ut.needDrain=!0),Ut.writing||Ut.corked){var Vt=Ut.lastBufferedRequest;Ut.lastBufferedRequest={chunk:Mt,encoding:jt,isBuf:At,callback:kt,next:null},Vt?Vt.next=Ut.lastBufferedRequest:Ut.bufferedRequest=Ut.lastBufferedRequest,Ut.bufferedRequestCount+=1}else xt(Ot,Ut,!1,Ht,Mt,jt,kt);return Jt}(this,Pt,Ct,Et,Rt,Tt)),Dt},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Et=this._writableState;Et.corked&&(Et.corked--,Et.writing||Et.corked||Et.finished||Et.bufferProcessing||!Et.bufferedRequest||$t(this,Et))},St.prototype.setDefaultEncoding=function(Et){if(typeof Et=="string"&&(Et=Et.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Et+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Et);return this._writableState.defaultEncoding=Et,this},Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Et,Rt,Tt){Tt(new Error("_write() is not implemented"))},St.prototype._writev=null,St.prototype.end=function(Et,Rt,Tt){var It=this._writableState;typeof Et=="function"?(Tt=Et,Et=null,Rt=null):typeof Rt=="function"&&(Tt=Rt,Rt=null),Et!=null&&this.write(Et,Rt),It.corked&&(It.corked=1,this.uncork()),It.ending||It.finished||function(Pt,Dt,Ct){Dt.ending=!0,wt(Pt,Dt),Ct&&(Dt.finished?at.nextTick(Ct):Pt.once("finish",Ct)),Dt.ended=!0,Pt.writable=!1}(this,It,Tt)},Object.defineProperty(St.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Et){this._writableState&&(this._writableState.destroyed=Et)}}),St.prototype.destroy=mt.destroy,St.prototype._undestroy=mt.undestroy,St.prototype._destroy=function(Et,Rt){this.end(),Rt(Et)}}).call(this,nt(2),nt(12).setImmediate,nt(5))},function(tt,et,nt){tt.exports=nt(18).EventEmitter},function(tt,et,nt){var rt=nt(13);function it(ot,at){ot.emit("error",at)}tt.exports={destroy:function(ot,at){var st=this,lt=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return lt||ct?(at?at(ot):!ot||this._writableState&&this._writableState.errorEmitted||rt.nextTick(it,this,ot),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ft){!at&&ft?(rt.nextTick(it,st,ft),st._writableState&&(st._writableState.errorEmitted=!0)):at&&at(ft)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(tt,et){},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=at(nt(155)),it=at(nt(23)),ot=at(nt(27));function at(st){return st&&st.__esModule?st:{default:st}}et.default=(0,ot.default)(function(st,lt,ct,ft){return(0,rt.default)(lt)(st,(0,it.default)(ct),ft)},4),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){function it(...ot){if(rt!==null){var at=rt;rt=null,at.apply(this,ot)}}return Object.assign(it,rt),it},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return function(...it){if(rt===null)throw new Error("Callback was already called.");var ot=rt;rt=null,ot.apply(this,it)}},tt.exports=et.default},function(tt,et,nt){(function(rt,it){var ot=nt(13);tt.exports=xt;var at,st=nt(38);xt.ReadableState=St,nt(18).EventEmitter;var lt=function(At,Mt){return At.listeners(Mt).length},ct=nt(68),ft=nt(43).Buffer,ut=rt.Uint8Array||function(){},dt=nt(14);dt.inherits=nt(6);var ht=nt(161),pt=void 0;pt=ht&&ht.debuglog?ht.debuglog("stream"):function(){};var gt,mt=nt(162),yt=nt(69);dt.inherits(xt,ct);var bt=["error","close","destroy","pause","resume"];function St(At,Mt){At=At||{};var jt=Mt instanceof(at=at||nt(20));this.objectMode=!!At.objectMode,jt&&(this.objectMode=this.objectMode||!!At.readableObjectMode);var kt=At.highWaterMark,Gt=At.readableHighWaterMark,Ht=this.objectMode?16:16384;this.highWaterMark=kt||kt===0?kt:jt&&(Gt||Gt===0)?Gt:Ht,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=At.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,At.encoding&&(gt||(gt=nt(19).StringDecoder),this.decoder=new gt(At.encoding),this.encoding=At.encoding)}function xt(At){if(at=at||nt(20),!(this instanceof xt))return new xt(At);this._readableState=new St(At,this),this.readable=!0,At&&(typeof At.read=="function"&&(this._read=At.read),typeof At.destroy=="function"&&(this._destroy=At.destroy)),ct.call(this)}function vt(At,Mt,jt,kt,Gt){var Ht,Jt=At._readableState;return Mt===null?(Jt.reading=!1,function(Vt,Wt){if(!Wt.ended){if(Wt.decoder){var Lt=Wt.decoder.end();Lt&&Lt.length&&(Wt.buffer.push(Lt),Wt.length+=Wt.objectMode?1:Lt.length)}Wt.ended=!0,Nt(Vt)}}(At,Jt)):(Gt||(Ht=function(Vt,Wt){var Lt;Bt=Wt,ft.isBuffer(Bt)||Bt instanceof ut||typeof Wt=="string"||Wt===void 0||Vt.objectMode||(Lt=new TypeError("Invalid non-string/buffer chunk"));var Bt;return Lt}(Jt,Mt)),Ht?At.emit("error",Ht):Jt.objectMode||Mt&&Mt.length>0?(typeof Mt=="string"||Jt.objectMode||Object.getPrototypeOf(Mt)===ft.prototype||(Mt=function(Vt){return ft.from(Vt)}(Mt)),kt?Jt.endEmitted?At.emit("error",new Error("stream.unshift() after end event")):$t(At,Jt,Mt,!0):Jt.ended?At.emit("error",new Error("stream.push() after EOF")):(Jt.reading=!1,Jt.decoder&&!jt?(Mt=Jt.decoder.write(Mt),Jt.objectMode||Mt.length!==0?$t(At,Jt,Mt,!1):Et(At,Jt)):$t(At,Jt,Mt,!1))):kt||(Jt.reading=!1)),function(Vt){return!Vt.ended&&(Vt.needReadable||Vt.length<Vt.highWaterMark||Vt.length===0)}(Jt)}function $t(At,Mt,jt,kt){Mt.flowing&&Mt.length===0&&!Mt.sync?(At.emit("data",jt),At.read(0)):(Mt.length+=Mt.objectMode?1:jt.length,kt?Mt.buffer.unshift(jt):Mt.buffer.push(jt),Mt.needReadable&&Nt(At)),Et(At,Mt)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(At){this._readableState&&(this._readableState.destroyed=At)}}),xt.prototype.destroy=yt.destroy,xt.prototype._undestroy=yt.undestroy,xt.prototype._destroy=function(At,Mt){this.push(null),Mt(At)},xt.prototype.push=function(At,Mt){var jt,kt=this._readableState;return kt.objectMode?jt=!0:typeof At=="string"&&((Mt=Mt||kt.defaultEncoding)!==kt.encoding&&(At=ft.from(At,Mt),Mt=""),jt=!0),vt(this,At,Mt,!1,jt)},xt.prototype.unshift=function(At){return vt(this,At,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(At){return gt||(gt=nt(19).StringDecoder),this._readableState.decoder=new gt(At),this._readableState.encoding=At,this};function zt(At,Mt){return At<=0||Mt.length===0&&Mt.ended?0:Mt.objectMode?1:At!=At?Mt.flowing&&Mt.length?Mt.buffer.head.data.length:Mt.length:(At>Mt.highWaterMark&&(Mt.highWaterMark=function(jt){return jt>=8388608?jt=8388608:(jt--,jt|=jt>>>1,jt|=jt>>>2,jt|=jt>>>4,jt|=jt>>>8,jt|=jt>>>16,jt++),jt}(At)),At<=Mt.length?At:Mt.ended?Mt.length:(Mt.needReadable=!0,0))}function Nt(At){var Mt=At._readableState;Mt.needReadable=!1,Mt.emittedReadable||(pt("emitReadable",Mt.flowing),Mt.emittedReadable=!0,Mt.sync?ot.nextTick(wt,At):wt(At))}function wt(At){pt("emit readable"),At.emit("readable"),Pt(At)}function Et(At,Mt){Mt.readingMore||(Mt.readingMore=!0,ot.nextTick(Rt,At,Mt))}function Rt(At,Mt){for(var jt=Mt.length;!Mt.reading&&!Mt.flowing&&!Mt.ended&&Mt.length<Mt.highWaterMark&&(pt("maybeReadMore read 0"),At.read(0),jt!==Mt.length);)jt=Mt.length;Mt.readingMore=!1}function Tt(At){pt("readable nexttick read 0"),At.read(0)}function It(At,Mt){Mt.reading||(pt("resume read 0"),At.read(0)),Mt.resumeScheduled=!1,Mt.awaitDrain=0,At.emit("resume"),Pt(At),Mt.flowing&&!Mt.reading&&At.read(0)}function Pt(At){var Mt=At._readableState;for(pt("flow",Mt.flowing);Mt.flowing&&At.read()!==null;);}function Dt(At,Mt){return Mt.length===0?null:(Mt.objectMode?jt=Mt.buffer.shift():!At||At>=Mt.length?(jt=Mt.decoder?Mt.buffer.join(""):Mt.buffer.length===1?Mt.buffer.head.data:Mt.buffer.concat(Mt.length),Mt.buffer.clear()):jt=function(kt,Gt,Ht){var Jt;return kt<Gt.head.data.length?(Jt=Gt.head.data.slice(0,kt),Gt.head.data=Gt.head.data.slice(kt)):Jt=kt===Gt.head.data.length?Gt.shift():Ht?function(Vt,Wt){var Lt=Wt.head,Bt=1,Ft=Lt.data;for(Vt-=Ft.length;Lt=Lt.next;){var sn=Lt.data,Xt=Vt>sn.length?sn.length:Vt;if(Xt===sn.length?Ft+=sn:Ft+=sn.slice(0,Vt),(Vt-=Xt)===0){Xt===sn.length?(++Bt,Lt.next?Wt.head=Lt.next:Wt.head=Wt.tail=null):(Wt.head=Lt,Lt.data=sn.slice(Xt));break}++Bt}return Wt.length-=Bt,Ft}(kt,Gt):function(Vt,Wt){var Lt=ft.allocUnsafe(Vt),Bt=Wt.head,Ft=1;for(Bt.data.copy(Lt),Vt-=Bt.data.length;Bt=Bt.next;){var sn=Bt.data,Xt=Vt>sn.length?sn.length:Vt;if(sn.copy(Lt,Lt.length-Vt,0,Xt),(Vt-=Xt)===0){Xt===sn.length?(++Ft,Bt.next?Wt.head=Bt.next:Wt.head=Wt.tail=null):(Wt.head=Bt,Bt.data=sn.slice(Xt));break}++Ft}return Wt.length-=Ft,Lt}(kt,Gt),Jt}(At,Mt.buffer,Mt.decoder),jt);var jt}function Ct(At){var Mt=At._readableState;if(Mt.length>0)throw new Error('"endReadable()" called on non-empty stream');Mt.endEmitted||(Mt.ended=!0,ot.nextTick(Ot,Mt,At))}function Ot(At,Mt){At.endEmitted||At.length!==0||(At.endEmitted=!0,Mt.readable=!1,Mt.emit("end"))}function Ut(At,Mt){for(var jt=0,kt=At.length;jt<kt;jt++)if(At[jt]===Mt)return jt;return-1}xt.prototype.read=function(At){pt("read",At),At=parseInt(At,10);var Mt=this._readableState,jt=At;if(At!==0&&(Mt.emittedReadable=!1),At===0&&Mt.needReadable&&(Mt.length>=Mt.highWaterMark||Mt.ended))return pt("read: emitReadable",Mt.length,Mt.ended),Mt.length===0&&Mt.ended?Ct(this):Nt(this),null;if((At=zt(At,Mt))===0&&Mt.ended)return Mt.length===0&&Ct(this),null;var kt,Gt=Mt.needReadable;return pt("need readable",Gt),(Mt.length===0||Mt.length-At<Mt.highWaterMark)&&pt("length less than watermark",Gt=!0),Mt.ended||Mt.reading?pt("reading or ended",Gt=!1):Gt&&(pt("do read"),Mt.reading=!0,Mt.sync=!0,Mt.length===0&&(Mt.needReadable=!0),this._read(Mt.highWaterMark),Mt.sync=!1,Mt.reading||(At=zt(jt,Mt))),(kt=At>0?Dt(At,Mt):null)===null?(Mt.needReadable=!0,At=0):Mt.length-=At,Mt.length===0&&(Mt.ended||(Mt.needReadable=!0),jt!==At&&Mt.ended&&Ct(this)),kt!==null&&this.emit("data",kt),kt},xt.prototype._read=function(At){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(At,Mt){var jt=this,kt=this._readableState;switch(kt.pipesCount){case 0:kt.pipes=At;break;case 1:kt.pipes=[kt.pipes,At];break;default:kt.pipes.push(At)}kt.pipesCount+=1,pt("pipe count=%d opts=%j",kt.pipesCount,Mt);var Gt=(!Mt||Mt.end!==!1)&&At!==it.stdout&&At!==it.stderr?Jt:dn;function Ht(Yt,yn){pt("onunpipe"),Yt===jt&&yn&&yn.hasUnpiped===!1&&(yn.hasUnpiped=!0,pt("cleanup"),At.removeListener("close",sn),At.removeListener("finish",Xt),At.removeListener("drain",Vt),At.removeListener("error",Ft),At.removeListener("unpipe",Ht),jt.removeListener("end",Jt),jt.removeListener("end",dn),jt.removeListener("data",Bt),Wt=!0,!kt.awaitDrain||At._writableState&&!At._writableState.needDrain||Vt())}function Jt(){pt("onend"),At.end()}kt.endEmitted?ot.nextTick(Gt):jt.once("end",Gt),At.on("unpipe",Ht);var Vt=function(Yt){return function(){var yn=Yt._readableState;pt("pipeOnDrain",yn.awaitDrain),yn.awaitDrain&&yn.awaitDrain--,yn.awaitDrain===0&&lt(Yt,"data")&&(yn.flowing=!0,Pt(Yt))}}(jt);At.on("drain",Vt);var Wt=!1,Lt=!1;function Bt(Yt){pt("ondata"),Lt=!1,At.write(Yt)!==!1||Lt||((kt.pipesCount===1&&kt.pipes===At||kt.pipesCount>1&&Ut(kt.pipes,At)!==-1)&&!Wt&&(pt("false write response, pause",jt._readableState.awaitDrain),jt._readableState.awaitDrain++,Lt=!0),jt.pause())}function Ft(Yt){pt("onerror",Yt),dn(),At.removeListener("error",Ft),lt(At,"error")===0&&At.emit("error",Yt)}function sn(){At.removeListener("finish",Xt),dn()}function Xt(){pt("onfinish"),At.removeListener("close",sn),dn()}function dn(){pt("unpipe"),jt.unpipe(At)}return jt.on("data",Bt),function(Yt,yn,Qt){if(typeof Yt.prependListener=="function")return Yt.prependListener(yn,Qt);Yt._events&&Yt._events[yn]?st(Yt._events[yn])?Yt._events[yn].unshift(Qt):Yt._events[yn]=[Qt,Yt._events[yn]]:Yt.on(yn,Qt)}(At,"error",Ft),At.once("close",sn),At.once("finish",Xt),At.emit("pipe",jt),kt.flowing||(pt("pipe resume"),jt.resume()),At},xt.prototype.unpipe=function(At){var Mt=this._readableState,jt={hasUnpiped:!1};if(Mt.pipesCount===0)return this;if(Mt.pipesCount===1)return At&&At!==Mt.pipes||(At||(At=Mt.pipes),Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1,At&&At.emit("unpipe",this,jt)),this;if(!At){var kt=Mt.pipes,Gt=Mt.pipesCount;Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1;for(var Ht=0;Ht<Gt;Ht++)kt[Ht].emit("unpipe",this,jt);return this}var Jt=Ut(Mt.pipes,At);return Jt===-1||(Mt.pipes.splice(Jt,1),Mt.pipesCount-=1,Mt.pipesCount===1&&(Mt.pipes=Mt.pipes[0]),At.emit("unpipe",this,jt)),this},xt.prototype.on=function(At,Mt){var jt=ct.prototype.on.call(this,At,Mt);if(At==="data")this._readableState.flowing!==!1&&this.resume();else if(At==="readable"){var kt=this._readableState;kt.endEmitted||kt.readableListening||(kt.readableListening=kt.needReadable=!0,kt.emittedReadable=!1,kt.reading?kt.length&&Nt(this):ot.nextTick(Tt,this))}return jt},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var At=this._readableState;return At.flowing||(pt("resume"),At.flowing=!0,function(Mt,jt){jt.resumeScheduled||(jt.resumeScheduled=!0,ot.nextTick(It,Mt,jt))}(this,At)),this},xt.prototype.pause=function(){return pt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(At){var Mt=this,jt=this._readableState,kt=!1;for(var Gt in At.on("end",function(){if(pt("wrapped end"),jt.decoder&&!jt.ended){var Jt=jt.decoder.end();Jt&&Jt.length&&Mt.push(Jt)}Mt.push(null)}),At.on("data",function(Jt){pt("wrapped data"),jt.decoder&&(Jt=jt.decoder.write(Jt)),jt.objectMode&&Jt==null||(jt.objectMode||Jt&&Jt.length)&&(Mt.push(Jt)||(kt=!0,At.pause()))}),At)this[Gt]===void 0&&typeof At[Gt]=="function"&&(this[Gt]=function(Jt){return function(){return At[Jt].apply(At,arguments)}}(Gt));for(var Ht=0;Ht<bt.length;Ht++)At.on(bt[Ht],this.emit.bind(this,bt[Ht]));return this._read=function(Jt){pt("wrapped _read",Jt),kt&&(kt=!1,At.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=Dt}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=nt(18).EventEmitter},function(tt,et,nt){var rt=nt(13);function it(ot,at){ot.emit("error",at)}tt.exports={destroy:function(ot,at){var st=this,lt=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return lt||ct?(at?at(ot):!ot||this._writableState&&this._writableState.errorEmitted||rt.nextTick(it,this,ot),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ft){!at&&ft?(rt.nextTick(it,st,ft),st._writableState&&(st._writableState.errorEmitted=!0)):at&&at(ft)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(tt,et,nt){tt.exports=at;var rt=nt(20),it=nt(14);function ot(ct,ft){var ut=this._transformState;ut.transforming=!1;var dt=ut.writecb;if(!dt)return this.emit("error",new Error("write callback called multiple times"));ut.writechunk=null,ut.writecb=null,ft!=null&&this.push(ft),dt(ct);var ht=this._readableState;ht.reading=!1,(ht.needReadable||ht.length<ht.highWaterMark)&&this._read(ht.highWaterMark)}function at(ct){if(!(this instanceof at))return new at(ct);rt.call(this,ct),this._transformState={afterTransform:ot.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ct&&(typeof ct.transform=="function"&&(this._transform=ct.transform),typeof ct.flush=="function"&&(this._flush=ct.flush)),this.on("prefinish",st)}function st(){var ct=this;typeof this._flush=="function"?this._flush(function(ft,ut){lt(ct,ft,ut)}):lt(this,null,null)}function lt(ct,ft,ut){if(ft)return ct.emit("error",ft);if(ut!=null&&ct.push(ut),ct._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ct._transformState.transforming)throw new Error("Calling transform done when still transforming");return ct.push(null)}it.inherits=nt(6),it.inherits(at,rt),at.prototype.push=function(ct,ft){return this._transformState.needTransform=!1,rt.prototype.push.call(this,ct,ft)},at.prototype._transform=function(ct,ft,ut){throw new Error("_transform() is not implemented")},at.prototype._write=function(ct,ft,ut){var dt=this._transformState;if(dt.writecb=ut,dt.writechunk=ct,dt.writeencoding=ft,!dt.transforming){var ht=this._readableState;(dt.needTransform||ht.needReadable||ht.length<ht.highWaterMark)&&this._read(ht.highWaterMark)}},at.prototype._read=function(ct){var ft=this._transformState;ft.writechunk!==null&&ft.writecb&&!ft.transforming?(ft.transforming=!0,this._transform(ft.writechunk,ft.writeencoding,ft.afterTransform)):ft.needTransform=!0},at.prototype._destroy=function(ct,ft){var ut=this;rt.prototype._destroy.call(this,ct,function(dt){ft(dt),ut.emit("close")})}},function(tt,et,nt){tt.exports=nt(44)},function(tt,et,nt){(function(rt){var it=nt(169);function ot(wt,Et){if(wt===Et)return 0;for(var Rt=wt.length,Tt=Et.length,It=0,Pt=Math.min(Rt,Tt);It<Pt;++It)if(wt[It]!==Et[It]){Rt=wt[It],Tt=Et[It];break}return Rt<Tt?-1:Tt<Rt?1:0}function at(wt){return rt.Buffer&&typeof rt.Buffer.isBuffer=="function"?rt.Buffer.isBuffer(wt):!(wt==null||!wt._isBuffer)}var st=nt(10),lt=Object.prototype.hasOwnProperty,ct=Array.prototype.slice,ft=function(){}.name==="foo";function ut(wt){return Object.prototype.toString.call(wt)}function dt(wt){return!at(wt)&&typeof rt.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(wt):!!wt&&(wt instanceof DataView||!!(wt.buffer&&wt.buffer instanceof ArrayBuffer)))}var ht=tt.exports=St,pt=/\s*function\s+([^\(\s]*)\s*/;function gt(wt){if(st.isFunction(wt)){if(ft)return wt.name;var Et=wt.toString().match(pt);return Et&&Et[1]}}function mt(wt,Et){return typeof wt=="string"?wt.length<Et?wt:wt.slice(0,Et):wt}function yt(wt){if(ft||!st.isFunction(wt))return st.inspect(wt);var Et=gt(wt);return"[Function"+(Et?": "+Et:"")+"]"}function bt(wt,Et,Rt,Tt,It){throw new ht.AssertionError({message:Rt,actual:wt,expected:Et,operator:Tt,stackStartFunction:It})}function St(wt,Et){wt||bt(wt,!0,Et,"==",ht.ok)}function xt(wt,Et,Rt,Tt){if(wt===Et)return!0;if(at(wt)&&at(Et))return ot(wt,Et)===0;if(st.isDate(wt)&&st.isDate(Et))return wt.getTime()===Et.getTime();if(st.isRegExp(wt)&&st.isRegExp(Et))return wt.source===Et.source&&wt.global===Et.global&&wt.multiline===Et.multiline&&wt.lastIndex===Et.lastIndex&&wt.ignoreCase===Et.ignoreCase;if(wt!==null&&typeof wt=="object"||Et!==null&&typeof Et=="object"){if(dt(wt)&&dt(Et)&&ut(wt)===ut(Et)&&!(wt instanceof Float32Array||wt instanceof Float64Array))return ot(new Uint8Array(wt.buffer),new Uint8Array(Et.buffer))===0;if(at(wt)!==at(Et))return!1;var It=(Tt=Tt||{actual:[],expected:[]}).actual.indexOf(wt);return It!==-1&&It===Tt.expected.indexOf(Et)||(Tt.actual.push(wt),Tt.expected.push(Et),function(Pt,Dt,Ct,Ot){if(Pt==null||Dt==null)return!1;if(st.isPrimitive(Pt)||st.isPrimitive(Dt))return Pt===Dt;if(Ct&&Object.getPrototypeOf(Pt)!==Object.getPrototypeOf(Dt))return!1;var Ut=vt(Pt),At=vt(Dt);if(Ut&&!At||!Ut&&At)return!1;if(Ut)return Pt=ct.call(Pt),Dt=ct.call(Dt),xt(Pt,Dt,Ct);var Mt,jt,kt=Nt(Pt),Gt=Nt(Dt);if(kt.length!==Gt.length)return!1;for(kt.sort(),Gt.sort(),jt=kt.length-1;jt>=0;jt--)if(kt[jt]!==Gt[jt])return!1;for(jt=kt.length-1;jt>=0;jt--)if(Mt=kt[jt],!xt(Pt[Mt],Dt[Mt],Ct,Ot))return!1;return!0}(wt,Et,Rt,Tt))}return Rt?wt===Et:wt==Et}function vt(wt){return Object.prototype.toString.call(wt)=="[object Arguments]"}function $t(wt,Et){if(!wt||!Et)return!1;if(Object.prototype.toString.call(Et)=="[object RegExp]")return Et.test(wt);try{if(wt instanceof Et)return!0}catch{}return!Error.isPrototypeOf(Et)&&Et.call({},wt)===!0}function zt(wt,Et,Rt,Tt){var It;if(typeof Et!="function")throw new TypeError('"block" argument must be a function');typeof Rt=="string"&&(Tt=Rt,Rt=null),It=function(Ct){var Ot;try{Ct()}catch(Ut){Ot=Ut}return Ot}(Et),Tt=(Rt&&Rt.name?" ("+Rt.name+").":".")+(Tt?" "+Tt:"."),wt&&!It&&bt(It,Rt,"Missing expected exception"+Tt);var Pt=typeof Tt=="string",Dt=!wt&&It&&!Rt;if((!wt&&st.isError(It)&&Pt&&$t(It,Rt)||Dt)&&bt(It,Rt,"Got unwanted exception"+Tt),wt&&It&&Rt&&!$t(It,Rt)||!wt&&It)throw It}ht.AssertionError=function(wt){this.name="AssertionError",this.actual=wt.actual,this.expected=wt.expected,this.operator=wt.operator,wt.message?(this.message=wt.message,this.generatedMessage=!1):(this.message=function(Ct){return mt(yt(Ct.actual),128)+" "+Ct.operator+" "+mt(yt(Ct.expected),128)}(this),this.generatedMessage=!0);var Et=wt.stackStartFunction||bt;if(Error.captureStackTrace)Error.captureStackTrace(this,Et);else{var Rt=new Error;if(Rt.stack){var Tt=Rt.stack,It=gt(Et),Pt=Tt.indexOf(`
`+It);if(Pt>=0){var Dt=Tt.indexOf(`
`,Pt+1);Tt=Tt.substring(Dt+1)}this.stack=Tt}}},st.inherits(ht.AssertionError,Error),ht.fail=bt,ht.ok=St,ht.equal=function(wt,Et,Rt){wt!=Et&&bt(wt,Et,Rt,"==",ht.equal)},ht.notEqual=function(wt,Et,Rt){wt==Et&&bt(wt,Et,Rt,"!=",ht.notEqual)},ht.deepEqual=function(wt,Et,Rt){xt(wt,Et,!1)||bt(wt,Et,Rt,"deepEqual",ht.deepEqual)},ht.deepStrictEqual=function(wt,Et,Rt){xt(wt,Et,!0)||bt(wt,Et,Rt,"deepStrictEqual",ht.deepStrictEqual)},ht.notDeepEqual=function(wt,Et,Rt){xt(wt,Et,!1)&&bt(wt,Et,Rt,"notDeepEqual",ht.notDeepEqual)},ht.notDeepStrictEqual=function wt(Et,Rt,Tt){xt(Et,Rt,!0)&&bt(Et,Rt,Tt,"notDeepStrictEqual",wt)},ht.strictEqual=function(wt,Et,Rt){wt!==Et&&bt(wt,Et,Rt,"===",ht.strictEqual)},ht.notStrictEqual=function(wt,Et,Rt){wt===Et&&bt(wt,Et,Rt,"!==",ht.notStrictEqual)},ht.throws=function(wt,Et,Rt){zt(!0,wt,Et,Rt)},ht.doesNotThrow=function(wt,Et,Rt){zt(!1,wt,Et,Rt)},ht.ifError=function(wt){if(wt)throw wt},ht.strict=it(function wt(Et,Rt){Et||bt(Et,!0,Rt,"==",wt)},ht,{equal:ht.strictEqual,deepEqual:ht.deepStrictEqual,notEqual:ht.notStrictEqual,notDeepEqual:ht.notDeepStrictEqual}),ht.strict.strict=ht.strict;var Nt=Object.keys||function(wt){var Et=[];for(var Rt in wt)lt.call(wt,Rt)&&Et.push(Rt);return Et}}).call(this,nt(5))},function(tt,et,nt){tt.exports=function(rt,it,ot,at){for(var st=65535&rt|0,lt=rt>>>16&65535|0,ct=0;ot!==0;){ot-=ct=ot>2e3?2e3:ot;do lt=lt+(st=st+it[at++]|0)|0;while(--ct);st%=65521,lt%=65521}return st|lt<<16|0}},function(tt,et,nt){var rt=function(){for(var it,ot=[],at=0;at<256;at++){it=at;for(var st=0;st<8;st++)it=1&it?3988292384^it>>>1:it>>>1;ot[at]=it}return ot}();tt.exports=function(it,ot,at,st){var lt=rt,ct=st+at;it^=-1;for(var ft=st;ft<ct;ft++)it=it>>>8^lt[255&(it^ot[ft])];return-1^it}},function(tt,et,nt){(function(rt,it){var ot;tt.exports=Et,Et.ReadableState=wt,nt(18).EventEmitter;var at=function(Vt,Wt){return Vt.listeners(Wt).length},st=nt(76),lt=nt(4).Buffer,ct=rt.Uint8Array||function(){},ft,ut=nt(178);ft=ut&&ut.debuglog?ut.debuglog("stream"):function(){};var dt,ht,pt,gt=nt(179),mt=nt(77),yt=nt(78).getHighWaterMark,bt=nt(24).codes,St=bt.ERR_INVALID_ARG_TYPE,xt=bt.ERR_STREAM_PUSH_AFTER_EOF,vt=bt.ERR_METHOD_NOT_IMPLEMENTED,$t=bt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;nt(6)(Et,st);var zt=mt.errorOrDestroy,Nt=["error","close","destroy","pause","resume"];function wt(Vt,Wt,Lt){ot=ot||nt(25),Vt=Vt||{},typeof Lt!="boolean"&&(Lt=Wt instanceof ot),this.objectMode=!!Vt.objectMode,Lt&&(this.objectMode=this.objectMode||!!Vt.readableObjectMode),this.highWaterMark=yt(this,Vt,"readableHighWaterMark",Lt),this.buffer=new gt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Vt.emitClose!==!1,this.autoDestroy=!!Vt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Vt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Vt.encoding&&(dt||(dt=nt(19).StringDecoder),this.decoder=new dt(Vt.encoding),this.encoding=Vt.encoding)}function Et(Vt){if(ot=ot||nt(25),!(this instanceof Et))return new Et(Vt);var Wt=this instanceof ot;this._readableState=new wt(Vt,this,Wt),this.readable=!0,Vt&&(typeof Vt.read=="function"&&(this._read=Vt.read),typeof Vt.destroy=="function"&&(this._destroy=Vt.destroy)),st.call(this)}function Rt(Vt,Wt,Lt,Bt,Ft){ft("readableAddChunk",Wt);var sn,Xt=Vt._readableState;if(Wt===null)Xt.reading=!1,function(dn,Yt){if(ft("onEofChunk"),!Yt.ended){if(Yt.decoder){var yn=Yt.decoder.end();yn&&yn.length&&(Yt.buffer.push(yn),Yt.length+=Yt.objectMode?1:yn.length)}Yt.ended=!0,Yt.sync?Pt(dn):(Yt.needReadable=!1,Yt.emittedReadable||(Yt.emittedReadable=!0,Dt(dn)))}}(Vt,Xt);else if(Ft||(sn=function(dn,Yt){var yn;Qt=Yt,lt.isBuffer(Qt)||Qt instanceof ct||typeof Yt=="string"||Yt===void 0||dn.objectMode||(yn=new St("chunk",["string","Buffer","Uint8Array"],Yt));var Qt;return yn}(Xt,Wt)),sn)zt(Vt,sn);else if(Xt.objectMode||Wt&&Wt.length>0)if(typeof Wt=="string"||Xt.objectMode||Object.getPrototypeOf(Wt)===lt.prototype||(Wt=function(dn){return lt.from(dn)}(Wt)),Bt)Xt.endEmitted?zt(Vt,new $t):Tt(Vt,Xt,Wt,!0);else if(Xt.ended)zt(Vt,new xt);else{if(Xt.destroyed)return!1;Xt.reading=!1,Xt.decoder&&!Lt?(Wt=Xt.decoder.write(Wt),Xt.objectMode||Wt.length!==0?Tt(Vt,Xt,Wt,!1):Ct(Vt,Xt)):Tt(Vt,Xt,Wt,!1)}else Bt||(Xt.reading=!1,Ct(Vt,Xt));return!Xt.ended&&(Xt.length<Xt.highWaterMark||Xt.length===0)}function Tt(Vt,Wt,Lt,Bt){Wt.flowing&&Wt.length===0&&!Wt.sync?(Wt.awaitDrain=0,Vt.emit("data",Lt)):(Wt.length+=Wt.objectMode?1:Lt.length,Bt?Wt.buffer.unshift(Lt):Wt.buffer.push(Lt),Wt.needReadable&&Pt(Vt)),Ct(Vt,Wt)}Object.defineProperty(Et.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Vt){this._readableState&&(this._readableState.destroyed=Vt)}}),Et.prototype.destroy=mt.destroy,Et.prototype._undestroy=mt.undestroy,Et.prototype._destroy=function(Vt,Wt){Wt(Vt)},Et.prototype.push=function(Vt,Wt){var Lt,Bt=this._readableState;return Bt.objectMode?Lt=!0:typeof Vt=="string"&&((Wt=Wt||Bt.defaultEncoding)!==Bt.encoding&&(Vt=lt.from(Vt,Wt),Wt=""),Lt=!0),Rt(this,Vt,Wt,!1,Lt)},Et.prototype.unshift=function(Vt){return Rt(this,Vt,null,!0,!1)},Et.prototype.isPaused=function(){return this._readableState.flowing===!1},Et.prototype.setEncoding=function(Vt){dt||(dt=nt(19).StringDecoder);var Wt=new dt(Vt);this._readableState.decoder=Wt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Lt=this._readableState.buffer.head,Bt="";Lt!==null;)Bt+=Wt.write(Lt.data),Lt=Lt.next;return this._readableState.buffer.clear(),Bt!==""&&this._readableState.buffer.push(Bt),this._readableState.length=Bt.length,this};function It(Vt,Wt){return Vt<=0||Wt.length===0&&Wt.ended?0:Wt.objectMode?1:Vt!=Vt?Wt.flowing&&Wt.length?Wt.buffer.head.data.length:Wt.length:(Vt>Wt.highWaterMark&&(Wt.highWaterMark=function(Lt){return Lt>=1073741824?Lt=1073741824:(Lt--,Lt|=Lt>>>1,Lt|=Lt>>>2,Lt|=Lt>>>4,Lt|=Lt>>>8,Lt|=Lt>>>16,Lt++),Lt}(Vt)),Vt<=Wt.length?Vt:Wt.ended?Wt.length:(Wt.needReadable=!0,0))}function Pt(Vt){var Wt=Vt._readableState;ft("emitReadable",Wt.needReadable,Wt.emittedReadable),Wt.needReadable=!1,Wt.emittedReadable||(ft("emitReadable",Wt.flowing),Wt.emittedReadable=!0,it.nextTick(Dt,Vt))}function Dt(Vt){var Wt=Vt._readableState;ft("emitReadable_",Wt.destroyed,Wt.length,Wt.ended),Wt.destroyed||!Wt.length&&!Wt.ended||(Vt.emit("readable"),Wt.emittedReadable=!1),Wt.needReadable=!Wt.flowing&&!Wt.ended&&Wt.length<=Wt.highWaterMark,jt(Vt)}function Ct(Vt,Wt){Wt.readingMore||(Wt.readingMore=!0,it.nextTick(Ot,Vt,Wt))}function Ot(Vt,Wt){for(;!Wt.reading&&!Wt.ended&&(Wt.length<Wt.highWaterMark||Wt.flowing&&Wt.length===0);){var Lt=Wt.length;if(ft("maybeReadMore read 0"),Vt.read(0),Lt===Wt.length)break}Wt.readingMore=!1}function Ut(Vt){var Wt=Vt._readableState;Wt.readableListening=Vt.listenerCount("readable")>0,Wt.resumeScheduled&&!Wt.paused?Wt.flowing=!0:Vt.listenerCount("data")>0&&Vt.resume()}function At(Vt){ft("readable nexttick read 0"),Vt.read(0)}function Mt(Vt,Wt){ft("resume",Wt.reading),Wt.reading||Vt.read(0),Wt.resumeScheduled=!1,Vt.emit("resume"),jt(Vt),Wt.flowing&&!Wt.reading&&Vt.read(0)}function jt(Vt){var Wt=Vt._readableState;for(ft("flow",Wt.flowing);Wt.flowing&&Vt.read()!==null;);}function kt(Vt,Wt){return Wt.length===0?null:(Wt.objectMode?Lt=Wt.buffer.shift():!Vt||Vt>=Wt.length?(Lt=Wt.decoder?Wt.buffer.join(""):Wt.buffer.length===1?Wt.buffer.first():Wt.buffer.concat(Wt.length),Wt.buffer.clear()):Lt=Wt.buffer.consume(Vt,Wt.decoder),Lt);var Lt}function Gt(Vt){var Wt=Vt._readableState;ft("endReadable",Wt.endEmitted),Wt.endEmitted||(Wt.ended=!0,it.nextTick(Ht,Wt,Vt))}function Ht(Vt,Wt){if(ft("endReadableNT",Vt.endEmitted,Vt.length),!Vt.endEmitted&&Vt.length===0&&(Vt.endEmitted=!0,Wt.readable=!1,Wt.emit("end"),Vt.autoDestroy)){var Lt=Wt._writableState;(!Lt||Lt.autoDestroy&&Lt.finished)&&Wt.destroy()}}function Jt(Vt,Wt){for(var Lt=0,Bt=Vt.length;Lt<Bt;Lt++)if(Vt[Lt]===Wt)return Lt;return-1}Et.prototype.read=function(Vt){ft("read",Vt),Vt=parseInt(Vt,10);var Wt=this._readableState,Lt=Vt;if(Vt!==0&&(Wt.emittedReadable=!1),Vt===0&&Wt.needReadable&&((Wt.highWaterMark!==0?Wt.length>=Wt.highWaterMark:Wt.length>0)||Wt.ended))return ft("read: emitReadable",Wt.length,Wt.ended),Wt.length===0&&Wt.ended?Gt(this):Pt(this),null;if((Vt=It(Vt,Wt))===0&&Wt.ended)return Wt.length===0&&Gt(this),null;var Bt,Ft=Wt.needReadable;return ft("need readable",Ft),(Wt.length===0||Wt.length-Vt<Wt.highWaterMark)&&ft("length less than watermark",Ft=!0),Wt.ended||Wt.reading?ft("reading or ended",Ft=!1):Ft&&(ft("do read"),Wt.reading=!0,Wt.sync=!0,Wt.length===0&&(Wt.needReadable=!0),this._read(Wt.highWaterMark),Wt.sync=!1,Wt.reading||(Vt=It(Lt,Wt))),(Bt=Vt>0?kt(Vt,Wt):null)===null?(Wt.needReadable=Wt.length<=Wt.highWaterMark,Vt=0):(Wt.length-=Vt,Wt.awaitDrain=0),Wt.length===0&&(Wt.ended||(Wt.needReadable=!0),Lt!==Vt&&Wt.ended&&Gt(this)),Bt!==null&&this.emit("data",Bt),Bt},Et.prototype._read=function(Vt){zt(this,new vt("_read()"))},Et.prototype.pipe=function(Vt,Wt){var Lt=this,Bt=this._readableState;switch(Bt.pipesCount){case 0:Bt.pipes=Vt;break;case 1:Bt.pipes=[Bt.pipes,Vt];break;default:Bt.pipes.push(Vt)}Bt.pipesCount+=1,ft("pipe count=%d opts=%j",Bt.pipesCount,Wt);var Ft=(!Wt||Wt.end!==!1)&&Vt!==it.stdout&&Vt!==it.stderr?Xt:vn;function sn(Sn,Cn){ft("onunpipe"),Sn===Lt&&Cn&&Cn.hasUnpiped===!1&&(Cn.hasUnpiped=!0,ft("cleanup"),Vt.removeListener("close",Kt),Vt.removeListener("finish",hn),Vt.removeListener("drain",dn),Vt.removeListener("error",Qt),Vt.removeListener("unpipe",sn),Lt.removeListener("end",Xt),Lt.removeListener("end",vn),Lt.removeListener("data",yn),Yt=!0,!Bt.awaitDrain||Vt._writableState&&!Vt._writableState.needDrain||dn())}function Xt(){ft("onend"),Vt.end()}Bt.endEmitted?it.nextTick(Ft):Lt.once("end",Ft),Vt.on("unpipe",sn);var dn=function(Sn){return function(){var Cn=Sn._readableState;ft("pipeOnDrain",Cn.awaitDrain),Cn.awaitDrain&&Cn.awaitDrain--,Cn.awaitDrain===0&&at(Sn,"data")&&(Cn.flowing=!0,jt(Sn))}}(Lt);Vt.on("drain",dn);var Yt=!1;function yn(Sn){ft("ondata");var Cn=Vt.write(Sn);ft("dest.write",Cn),Cn===!1&&((Bt.pipesCount===1&&Bt.pipes===Vt||Bt.pipesCount>1&&Jt(Bt.pipes,Vt)!==-1)&&!Yt&&(ft("false write response, pause",Bt.awaitDrain),Bt.awaitDrain++),Lt.pause())}function Qt(Sn){ft("onerror",Sn),vn(),Vt.removeListener("error",Qt),at(Vt,"error")===0&&zt(Vt,Sn)}function Kt(){Vt.removeListener("finish",hn),vn()}function hn(){ft("onfinish"),Vt.removeListener("close",Kt),vn()}function vn(){ft("unpipe"),Lt.unpipe(Vt)}return Lt.on("data",yn),function(Sn,Cn,cn){if(typeof Sn.prependListener=="function")return Sn.prependListener(Cn,cn);Sn._events&&Sn._events[Cn]?Array.isArray(Sn._events[Cn])?Sn._events[Cn].unshift(cn):Sn._events[Cn]=[cn,Sn._events[Cn]]:Sn.on(Cn,cn)}(Vt,"error",Qt),Vt.once("close",Kt),Vt.once("finish",hn),Vt.emit("pipe",Lt),Bt.flowing||(ft("pipe resume"),Lt.resume()),Vt},Et.prototype.unpipe=function(Vt){var Wt=this._readableState,Lt={hasUnpiped:!1};if(Wt.pipesCount===0)return this;if(Wt.pipesCount===1)return Vt&&Vt!==Wt.pipes||(Vt||(Vt=Wt.pipes),Wt.pipes=null,Wt.pipesCount=0,Wt.flowing=!1,Vt&&Vt.emit("unpipe",this,Lt)),this;if(!Vt){var Bt=Wt.pipes,Ft=Wt.pipesCount;Wt.pipes=null,Wt.pipesCount=0,Wt.flowing=!1;for(var sn=0;sn<Ft;sn++)Bt[sn].emit("unpipe",this,{hasUnpiped:!1});return this}var Xt=Jt(Wt.pipes,Vt);return Xt===-1||(Wt.pipes.splice(Xt,1),Wt.pipesCount-=1,Wt.pipesCount===1&&(Wt.pipes=Wt.pipes[0]),Vt.emit("unpipe",this,Lt)),this},Et.prototype.on=function(Vt,Wt){var Lt=st.prototype.on.call(this,Vt,Wt),Bt=this._readableState;return Vt==="data"?(Bt.readableListening=this.listenerCount("readable")>0,Bt.flowing!==!1&&this.resume()):Vt==="readable"&&(Bt.endEmitted||Bt.readableListening||(Bt.readableListening=Bt.needReadable=!0,Bt.flowing=!1,Bt.emittedReadable=!1,ft("on readable",Bt.length,Bt.reading),Bt.length?Pt(this):Bt.reading||it.nextTick(At,this))),Lt},Et.prototype.addListener=Et.prototype.on,Et.prototype.removeListener=function(Vt,Wt){var Lt=st.prototype.removeListener.call(this,Vt,Wt);return Vt==="readable"&&it.nextTick(Ut,this),Lt},Et.prototype.removeAllListeners=function(Vt){var Wt=st.prototype.removeAllListeners.apply(this,arguments);return Vt!=="readable"&&Vt!==void 0||it.nextTick(Ut,this),Wt},Et.prototype.resume=function(){var Vt=this._readableState;return Vt.flowing||(ft("resume"),Vt.flowing=!Vt.readableListening,function(Wt,Lt){Lt.resumeScheduled||(Lt.resumeScheduled=!0,it.nextTick(Mt,Wt,Lt))}(this,Vt)),Vt.paused=!1,this},Et.prototype.pause=function(){return ft("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ft("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Et.prototype.wrap=function(Vt){var Wt=this,Lt=this._readableState,Bt=!1;for(var Ft in Vt.on("end",function(){if(ft("wrapped end"),Lt.decoder&&!Lt.ended){var Xt=Lt.decoder.end();Xt&&Xt.length&&Wt.push(Xt)}Wt.push(null)}),Vt.on("data",function(Xt){ft("wrapped data"),Lt.decoder&&(Xt=Lt.decoder.write(Xt)),Lt.objectMode&&Xt==null||(Lt.objectMode||Xt&&Xt.length)&&(Wt.push(Xt)||(Bt=!0,Vt.pause()))}),Vt)this[Ft]===void 0&&typeof Vt[Ft]=="function"&&(this[Ft]=function(Xt){return function(){return Vt[Xt].apply(Vt,arguments)}}(Ft));for(var sn=0;sn<Nt.length;sn++)Vt.on(Nt[sn],this.emit.bind(this,Nt[sn]));return this._read=function(Xt){ft("wrapped _read",Xt),Bt&&(Bt=!1,Vt.resume())},this},typeof Symbol=="function"&&(Et.prototype[Symbol.asyncIterator]=function(){return ht===void 0&&(ht=nt(181)),ht(this)}),Object.defineProperty(Et.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Et.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Et.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Vt){this._readableState&&(this._readableState.flowing=Vt)}}),Et._fromList=kt,Object.defineProperty(Et.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Et.from=function(Vt,Wt){return pt===void 0&&(pt=nt(182)),pt(Et,Vt,Wt)})}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=nt(18).EventEmitter},function(tt,et,nt){(function(rt){function it(st,lt){at(st,lt),ot(st)}function ot(st){st._writableState&&!st._writableState.emitClose||st._readableState&&!st._readableState.emitClose||st.emit("close")}function at(st,lt){st.emit("error",lt)}tt.exports={destroy:function(st,lt){var ct=this,ft=this._readableState&&this._readableState.destroyed,ut=this._writableState&&this._writableState.destroyed;return ft||ut?(lt?lt(st):st&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,rt.nextTick(at,this,st)):rt.nextTick(at,this,st)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(st||null,function(dt){!lt&&dt?ct._writableState?ct._writableState.errorEmitted?rt.nextTick(ot,ct):(ct._writableState.errorEmitted=!0,rt.nextTick(it,ct,dt)):rt.nextTick(it,ct,dt):lt?(rt.nextTick(ot,ct),lt(dt)):rt.nextTick(ot,ct)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(st,lt){var ct=st._readableState,ft=st._writableState;ct&&ct.autoDestroy||ft&&ft.autoDestroy?st.destroy(lt):st.emit("error",lt)}}}).call(this,nt(2))},function(tt,et,nt){var rt=nt(24).codes.ERR_INVALID_OPT_VALUE;tt.exports={getHighWaterMark:function(it,ot,at,st){var lt=function(ct,ft,ut){return ct.highWaterMark!=null?ct.highWaterMark:ft?ct[ut]:null}(ot,st,at);if(lt!=null){if(!isFinite(lt)||Math.floor(lt)!==lt||lt<0)throw new rt(st?at:"highWaterMark",lt);return Math.floor(lt)}return it.objectMode?16:16384}}},function(tt,et,nt){(function(rt,it){function ot(Ot){var Ut=this;this.next=null,this.entry=null,this.finish=function(){(function(At,Mt,jt){var kt=At.entry;for(At.entry=null;kt;){var Gt=kt.callback;Mt.pendingcb--,Gt(jt),kt=kt.next}Mt.corkedRequestsFree.next=At})(Ut,Ot)}}var at;tt.exports=Et,Et.WritableState=wt;var st={deprecate:nt(39)},lt=nt(76),ct=nt(4).Buffer,ft=rt.Uint8Array||function(){},ut,dt=nt(77),ht=nt(78).getHighWaterMark,pt=nt(24).codes,gt=pt.ERR_INVALID_ARG_TYPE,mt=pt.ERR_METHOD_NOT_IMPLEMENTED,yt=pt.ERR_MULTIPLE_CALLBACK,bt=pt.ERR_STREAM_CANNOT_PIPE,St=pt.ERR_STREAM_DESTROYED,xt=pt.ERR_STREAM_NULL_VALUES,vt=pt.ERR_STREAM_WRITE_AFTER_END,$t=pt.ERR_UNKNOWN_ENCODING,zt=dt.errorOrDestroy;function Nt(){}function wt(Ot,Ut,At){at=at||nt(25),Ot=Ot||{},typeof At!="boolean"&&(At=Ut instanceof at),this.objectMode=!!Ot.objectMode,At&&(this.objectMode=this.objectMode||!!Ot.writableObjectMode),this.highWaterMark=ht(this,Ot,"writableHighWaterMark",At),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Mt=Ot.decodeStrings===!1;this.decodeStrings=!Mt,this.defaultEncoding=Ot.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){(function(kt,Gt){var Ht=kt._writableState,Jt=Ht.sync,Vt=Ht.writecb;if(typeof Vt!="function")throw new yt;if(function(Lt){Lt.writing=!1,Lt.writecb=null,Lt.length-=Lt.writelen,Lt.writelen=0}(Ht),Gt)(function(Lt,Bt,Ft,sn,Xt){--Bt.pendingcb,Ft?(it.nextTick(Xt,sn),it.nextTick(Ct,Lt,Bt),Lt._writableState.errorEmitted=!0,zt(Lt,sn)):(Xt(sn),Lt._writableState.errorEmitted=!0,zt(Lt,sn),Ct(Lt,Bt))})(kt,Ht,Jt,Gt,Vt);else{var Wt=Pt(Ht)||kt.destroyed;Wt||Ht.corked||Ht.bufferProcessing||!Ht.bufferedRequest||It(kt,Ht),Jt?it.nextTick(Tt,kt,Ht,Wt,Vt):Tt(kt,Ht,Wt,Vt)}})(Ut,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ot.emitClose!==!1,this.autoDestroy=!!Ot.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ot(this)}function Et(Ot){var Ut=this instanceof(at=at||nt(25));if(!Ut&&!ut.call(Et,this))return new Et(Ot);this._writableState=new wt(Ot,this,Ut),this.writable=!0,Ot&&(typeof Ot.write=="function"&&(this._write=Ot.write),typeof Ot.writev=="function"&&(this._writev=Ot.writev),typeof Ot.destroy=="function"&&(this._destroy=Ot.destroy),typeof Ot.final=="function"&&(this._final=Ot.final)),lt.call(this)}function Rt(Ot,Ut,At,Mt,jt,kt,Gt){Ut.writelen=Mt,Ut.writecb=Gt,Ut.writing=!0,Ut.sync=!0,Ut.destroyed?Ut.onwrite(new St("write")):At?Ot._writev(jt,Ut.onwrite):Ot._write(jt,kt,Ut.onwrite),Ut.sync=!1}function Tt(Ot,Ut,At,Mt){At||function(jt,kt){kt.length===0&&kt.needDrain&&(kt.needDrain=!1,jt.emit("drain"))}(Ot,Ut),Ut.pendingcb--,Mt(),Ct(Ot,Ut)}function It(Ot,Ut){Ut.bufferProcessing=!0;var At=Ut.bufferedRequest;if(Ot._writev&&At&&At.next){var Mt=Ut.bufferedRequestCount,jt=new Array(Mt),kt=Ut.corkedRequestsFree;kt.entry=At;for(var Gt=0,Ht=!0;At;)jt[Gt]=At,At.isBuf||(Ht=!1),At=At.next,Gt+=1;jt.allBuffers=Ht,Rt(Ot,Ut,!0,Ut.length,jt,"",kt.finish),Ut.pendingcb++,Ut.lastBufferedRequest=null,kt.next?(Ut.corkedRequestsFree=kt.next,kt.next=null):Ut.corkedRequestsFree=new ot(Ut),Ut.bufferedRequestCount=0}else{for(;At;){var Jt=At.chunk,Vt=At.encoding,Wt=At.callback;if(Rt(Ot,Ut,!1,Ut.objectMode?1:Jt.length,Jt,Vt,Wt),At=At.next,Ut.bufferedRequestCount--,Ut.writing)break}At===null&&(Ut.lastBufferedRequest=null)}Ut.bufferedRequest=At,Ut.bufferProcessing=!1}function Pt(Ot){return Ot.ending&&Ot.length===0&&Ot.bufferedRequest===null&&!Ot.finished&&!Ot.writing}function Dt(Ot,Ut){Ot._final(function(At){Ut.pendingcb--,At&&zt(Ot,At),Ut.prefinished=!0,Ot.emit("prefinish"),Ct(Ot,Ut)})}function Ct(Ot,Ut){var At=Pt(Ut);if(At&&(function(jt,kt){kt.prefinished||kt.finalCalled||(typeof jt._final!="function"||kt.destroyed?(kt.prefinished=!0,jt.emit("prefinish")):(kt.pendingcb++,kt.finalCalled=!0,it.nextTick(Dt,jt,kt)))}(Ot,Ut),Ut.pendingcb===0&&(Ut.finished=!0,Ot.emit("finish"),Ut.autoDestroy))){var Mt=Ot._readableState;(!Mt||Mt.autoDestroy&&Mt.endEmitted)&&Ot.destroy()}return At}nt(6)(Et,lt),wt.prototype.getBuffer=function(){for(var Ot=this.bufferedRequest,Ut=[];Ot;)Ut.push(Ot),Ot=Ot.next;return Ut},function(){try{Object.defineProperty(wt.prototype,"buffer",{get:st.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(Ot){return!!ut.call(this,Ot)||this===Et&&Ot&&Ot._writableState instanceof wt}})):ut=function(Ot){return Ot instanceof this},Et.prototype.pipe=function(){zt(this,new bt)},Et.prototype.write=function(Ot,Ut,At){var Mt,jt=this._writableState,kt=!1,Gt=!jt.objectMode&&(Mt=Ot,ct.isBuffer(Mt)||Mt instanceof ft);return Gt&&!ct.isBuffer(Ot)&&(Ot=function(Ht){return ct.from(Ht)}(Ot)),typeof Ut=="function"&&(At=Ut,Ut=null),Gt?Ut="buffer":Ut||(Ut=jt.defaultEncoding),typeof At!="function"&&(At=Nt),jt.ending?function(Ht,Jt){var Vt=new vt;zt(Ht,Vt),it.nextTick(Jt,Vt)}(this,At):(Gt||function(Ht,Jt,Vt,Wt){var Lt;return Vt===null?Lt=new xt:typeof Vt=="string"||Jt.objectMode||(Lt=new gt("chunk",["string","Buffer"],Vt)),!Lt||(zt(Ht,Lt),it.nextTick(Wt,Lt),!1)}(this,jt,Ot,At))&&(jt.pendingcb++,kt=function(Ht,Jt,Vt,Wt,Lt,Bt){if(!Vt){var Ft=function(Yt,yn,Qt){return Yt.objectMode||Yt.decodeStrings===!1||typeof yn!="string"||(yn=ct.from(yn,Qt)),yn}(Jt,Wt,Lt);Wt!==Ft&&(Vt=!0,Lt="buffer",Wt=Ft)}var sn=Jt.objectMode?1:Wt.length;Jt.length+=sn;var Xt=Jt.length<Jt.highWaterMark;if(Xt||(Jt.needDrain=!0),Jt.writing||Jt.corked){var dn=Jt.lastBufferedRequest;Jt.lastBufferedRequest={chunk:Wt,encoding:Lt,isBuf:Vt,callback:Bt,next:null},dn?dn.next=Jt.lastBufferedRequest:Jt.bufferedRequest=Jt.lastBufferedRequest,Jt.bufferedRequestCount+=1}else Rt(Ht,Jt,!1,sn,Wt,Lt,Bt);return Xt}(this,jt,Gt,Ot,Ut,At)),kt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var Ot=this._writableState;Ot.corked&&(Ot.corked--,Ot.writing||Ot.corked||Ot.bufferProcessing||!Ot.bufferedRequest||It(this,Ot))},Et.prototype.setDefaultEncoding=function(Ot){if(typeof Ot=="string"&&(Ot=Ot.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ot+"").toLowerCase())>-1))throw new $t(Ot);return this._writableState.defaultEncoding=Ot,this},Object.defineProperty(Et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(Ot,Ut,At){At(new mt("_write()"))},Et.prototype._writev=null,Et.prototype.end=function(Ot,Ut,At){var Mt=this._writableState;return typeof Ot=="function"?(At=Ot,Ot=null,Ut=null):typeof Ut=="function"&&(At=Ut,Ut=null),Ot!=null&&this.write(Ot,Ut),Mt.corked&&(Mt.corked=1,this.uncork()),Mt.ending||function(jt,kt,Gt){kt.ending=!0,Ct(jt,kt),Gt&&(kt.finished?it.nextTick(Gt):jt.once("finish",Gt)),kt.ended=!0,jt.writable=!1}(this,Mt,At),this},Object.defineProperty(Et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Et.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ot){this._writableState&&(this._writableState.destroyed=Ot)}}),Et.prototype.destroy=dt.destroy,Et.prototype._undestroy=dt.undestroy,Et.prototype._destroy=function(Ot,Ut){Ut(Ot)}}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=ft;var rt=nt(24).codes,it=rt.ERR_METHOD_NOT_IMPLEMENTED,ot=rt.ERR_MULTIPLE_CALLBACK,at=rt.ERR_TRANSFORM_ALREADY_TRANSFORMING,st=rt.ERR_TRANSFORM_WITH_LENGTH_0,lt=nt(25);function ct(ht,pt){var gt=this._transformState;gt.transforming=!1;var mt=gt.writecb;if(mt===null)return this.emit("error",new ot);gt.writechunk=null,gt.writecb=null,pt!=null&&this.push(pt),mt(ht);var yt=this._readableState;yt.reading=!1,(yt.needReadable||yt.length<yt.highWaterMark)&&this._read(yt.highWaterMark)}function ft(ht){if(!(this instanceof ft))return new ft(ht);lt.call(this,ht),this._transformState={afterTransform:ct.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ht&&(typeof ht.transform=="function"&&(this._transform=ht.transform),typeof ht.flush=="function"&&(this._flush=ht.flush)),this.on("prefinish",ut)}function ut(){var ht=this;typeof this._flush!="function"||this._readableState.destroyed?dt(this,null,null):this._flush(function(pt,gt){dt(ht,pt,gt)})}function dt(ht,pt,gt){if(pt)return ht.emit("error",pt);if(gt!=null&&ht.push(gt),ht._writableState.length)throw new st;if(ht._transformState.transforming)throw new at;return ht.push(null)}nt(6)(ft,lt),ft.prototype.push=function(ht,pt){return this._transformState.needTransform=!1,lt.prototype.push.call(this,ht,pt)},ft.prototype._transform=function(ht,pt,gt){gt(new it("_transform()"))},ft.prototype._write=function(ht,pt,gt){var mt=this._transformState;if(mt.writecb=gt,mt.writechunk=ht,mt.writeencoding=pt,!mt.transforming){var yt=this._readableState;(mt.needTransform||yt.needReadable||yt.length<yt.highWaterMark)&&this._read(yt.highWaterMark)}},ft.prototype._read=function(ht){var pt=this._transformState;pt.writechunk===null||pt.transforming?pt.needTransform=!0:(pt.transforming=!0,this._transform(pt.writechunk,pt.writeencoding,pt.afterTransform))},ft.prototype._destroy=function(ht,pt){lt.prototype._destroy.call(this,ht,function(gt){pt(gt)})}},function(tt,et,nt){(function(rt){var it=nt(189),ot=nt(83),at=nt(191),st=nt(192),lt=nt(46),ct=et;ct.request=function(ft,ut){ft=typeof ft=="string"?lt.parse(ft):at(ft);var dt=rt.location.protocol.search(/^https?:$/)===-1?"http:":"",ht=ft.protocol||dt,pt=ft.hostname||ft.host,gt=ft.port,mt=ft.path||"/";pt&&pt.indexOf(":")!==-1&&(pt="["+pt+"]"),ft.url=(pt?ht+"//"+pt:"")+(gt?":"+gt:"")+mt,ft.method=(ft.method||"GET").toUpperCase(),ft.headers=ft.headers||{};var yt=new it(ft);return ut&&yt.on("response",ut),yt},ct.get=function(ft,ut){var dt=ct.request(ft,ut);return dt.end(),dt},ct.ClientRequest=it,ct.IncomingMessage=ot.IncomingMessage,ct.Agent=function(){},ct.Agent.defaultMaxSockets=4,ct.globalAgent=new ct.Agent,ct.STATUS_CODES=st,ct.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,nt(5))},function(tt,et,nt){(function(rt){et.fetch=ct(rt.fetch)&&ct(rt.ReadableStream),et.writableStream=ct(rt.WritableStream),et.abortController=ct(rt.AbortController),et.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),et.blobConstructor=!0}catch{}var it;function ot(){if(it!==void 0)return it;if(rt.XMLHttpRequest){it=new rt.XMLHttpRequest;try{it.open("GET",rt.XDomainRequest?"/":"https://example.com")}catch{it=null}}else it=null;return it}function at(ft){var ut=ot();if(!ut)return!1;try{return ut.responseType=ft,ut.responseType===ft}catch{}return!1}var st=rt.ArrayBuffer!==void 0,lt=st&&ct(rt.ArrayBuffer.prototype.slice);function ct(ft){return typeof ft=="function"}et.arraybuffer=et.fetch||st&&at("arraybuffer"),et.msstream=!et.fetch&&lt&&at("ms-stream"),et.mozchunkedarraybuffer=!et.fetch&&st&&at("moz-chunked-arraybuffer"),et.overrideMimeType=et.fetch||!!ot()&&ct(ot().overrideMimeType),et.vbArray=ct(rt.VBArray),it=null}).call(this,nt(5))},function(tt,et,nt){(function(rt,it,ot){var at=nt(82),st=nt(6),lt=nt(28),ct=et.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ft=et.IncomingMessage=function(ut,dt,ht,pt){var gt=this;if(lt.Readable.call(gt),gt._mode=ht,gt.headers={},gt.rawHeaders=[],gt.trailers={},gt.rawTrailers=[],gt.on("end",function(){rt.nextTick(function(){gt.emit("close")})}),ht==="fetch"){if(gt._fetchResponse=dt,gt.url=dt.url,gt.statusCode=dt.status,gt.statusMessage=dt.statusText,dt.headers.forEach(function(xt,vt){gt.headers[vt.toLowerCase()]=xt,gt.rawHeaders.push(vt,xt)}),at.writableStream){var mt=new WritableStream({write:function(xt){return new Promise(function(vt,$t){gt._destroyed?$t():gt.push(new it(xt))?vt():gt._resumeFetch=vt})},close:function(){ot.clearTimeout(pt),gt._destroyed||gt.push(null)},abort:function(xt){gt._destroyed||gt.emit("error",xt)}});try{return void dt.body.pipeTo(mt).catch(function(xt){ot.clearTimeout(pt),gt._destroyed||gt.emit("error",xt)})}catch{}}var yt=dt.body.getReader();(function xt(){yt.read().then(function(vt){if(!gt._destroyed){if(vt.done)return ot.clearTimeout(pt),void gt.push(null);gt.push(new it(vt.value)),xt()}}).catch(function(vt){ot.clearTimeout(pt),gt._destroyed||gt.emit("error",vt)})})()}else if(gt._xhr=ut,gt._pos=0,gt.url=ut.responseURL,gt.statusCode=ut.status,gt.statusMessage=ut.statusText,ut.getAllResponseHeaders().split(/\r?\n/).forEach(function(xt){var vt=xt.match(/^([^:]+):\s*(.*)/);if(vt){var $t=vt[1].toLowerCase();$t==="set-cookie"?(gt.headers[$t]===void 0&&(gt.headers[$t]=[]),gt.headers[$t].push(vt[2])):gt.headers[$t]!==void 0?gt.headers[$t]+=", "+vt[2]:gt.headers[$t]=vt[2],gt.rawHeaders.push(vt[1],vt[2])}}),gt._charset="x-user-defined",!at.overrideMimeType){var bt=gt.rawHeaders["mime-type"];if(bt){var St=bt.match(/;\s*charset=([^;])(;|$)/);St&&(gt._charset=St[1].toLowerCase())}gt._charset||(gt._charset="utf-8")}};st(ft,lt.Readable),ft.prototype._read=function(){var ut=this._resumeFetch;ut&&(this._resumeFetch=null,ut())},ft.prototype._onXHRProgress=function(){var ut=this,dt=ut._xhr,ht=null;switch(ut._mode){case"text:vbarray":if(dt.readyState!==ct.DONE)break;try{ht=new ot.VBArray(dt.responseBody).toArray()}catch{}if(ht!==null){ut.push(new it(ht));break}case"text":try{ht=dt.responseText}catch{ut._mode="text:vbarray";break}if(ht.length>ut._pos){var pt=ht.substr(ut._pos);if(ut._charset==="x-user-defined"){for(var gt=new it(pt.length),mt=0;mt<pt.length;mt++)gt[mt]=255&pt.charCodeAt(mt);ut.push(gt)}else ut.push(pt,ut._charset);ut._pos=ht.length}break;case"arraybuffer":if(dt.readyState!==ct.DONE||!dt.response)break;ht=dt.response,ut.push(new it(new Uint8Array(ht)));break;case"moz-chunked-arraybuffer":if(ht=dt.response,dt.readyState!==ct.LOADING||!ht)break;ut.push(new it(new Uint8Array(ht)));break;case"ms-stream":if(ht=dt.response,dt.readyState!==ct.LOADING)break;var yt=new ot.MSStreamReader;yt.onprogress=function(){yt.result.byteLength>ut._pos&&(ut.push(new it(new Uint8Array(yt.result.slice(ut._pos)))),ut._pos=yt.result.byteLength)},yt.onload=function(){ut.push(null)},yt.readAsArrayBuffer(ht)}ut._xhr.readyState===ct.DONE&&ut._mode!=="ms-stream"&&ut.push(null)}}).call(this,nt(2),nt(4).Buffer,nt(5))},function(tt,et,nt){const rt=it=>it!==null&&typeof it=="object"&&typeof it.pipe=="function";rt.writable=it=>rt(it)&&it.writable!==!1&&typeof it._write=="function"&&typeof it._writableState=="object",rt.readable=it=>rt(it)&&it.readable!==!1&&typeof it._read=="function"&&typeof it._readableState=="object",rt.duplex=it=>rt.writable(it)&&rt.readable(it),rt.transform=it=>rt.duplex(it)&&typeof it._transform=="function"&&typeof it._transformState=="object",tt.exports=rt},function(tt,et,nt){function rt(gt){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt})(gt)}function it(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")}function ot(gt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),mt&&at(gt,mt)}function at(gt,mt){return(at=Object.setPrototypeOf||function(yt,bt){return yt.__proto__=bt,yt})(gt,mt)}function st(gt){var mt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var yt,bt=ct(gt);if(mt){var St=ct(this).constructor;yt=Reflect.construct(bt,arguments,St)}else yt=bt.apply(this,arguments);return lt(this,yt)}}function lt(gt,mt){return!mt||rt(mt)!=="object"&&typeof mt!="function"?function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(gt):mt}function ct(gt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(mt){return mt.__proto__||Object.getPrototypeOf(mt)})(gt)}var ft=nt(3).LEVEL,ut=nt(47),dt=nt(201),ht=nt(34)("winston:create-logger");function pt(gt){return"is"+gt.charAt(0).toUpperCase()+gt.slice(1)+"Enabled"}tt.exports=function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gt.levels=gt.levels||ut.npm.levels;var mt=function(bt){ot(xt,bt);var St=st(xt);function xt(vt){return it(this,xt),St.call(this,vt)}return xt}(dt),yt=new mt(gt);return Object.keys(gt.levels).forEach(function(bt){ht('Define prototype method for "%s"',bt),bt!=="log"?(mt.prototype[bt]=function(){for(var St=this||yt,xt=arguments.length,vt=new Array(xt),$t=0;$t<xt;$t++)vt[$t]=arguments[$t];if(vt.length===1){var zt=vt[0],Nt=zt&&zt.message&&zt||{message:zt};return Nt.level=Nt[ft]=bt,St._addDefaultMeta(Nt),St.write(Nt),this||yt}return vt.length===0?(St.log(bt,""),St):St.log.apply(St,[bt].concat(vt))},mt.prototype[pt(bt)]=function(){return(this||yt).isLevelEnabled(bt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),yt}},function(tt,et,nt){(function(rt){function it(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var ot=nt(15),at=nt(48),st=nt(34)("winston:exception"),lt=nt(87),ct=nt(88),ft=nt(89);tt.exports=function(){function ut(pt){if(function(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")}(this,ut),!pt)throw new Error("Logger is required to handle exceptions");this.logger=pt,this.handlers=new Map}var dt,ht;return dt=ut,(ht=[{key:"handle",value:function(){for(var pt=this,gt=arguments.length,mt=new Array(gt),yt=0;yt<gt;yt++)mt[yt]=arguments[yt];mt.forEach(function(bt){if(Array.isArray(bt))return bt.forEach(function(St){return pt._addHandler(St)});pt._addHandler(bt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),rt.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var pt=this;this.catcher&&(rt.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(gt){return pt.logger.unpipe(gt)}))}},{key:"getAllInfo",value:function(pt){var gt=pt.message;return gt||typeof pt!="string"||(gt=pt),{error:pt,level:"error",message:["uncaughtException: ".concat(gt||"(no error message)"),pt.stack||"  No stack trace"].join(`
`),stack:pt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(pt)}}},{key:"getProcessInfo",value:function(){return{pid:rt.pid,uid:rt.getuid?rt.getuid():null,gid:rt.getgid?rt.getgid():null,cwd:rt.cwd(),execPath:rt.execPath,version:rt.version,argv:rt.argv,memoryUsage:rt.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:ot.loadavg(),uptime:ot.uptime()}}},{key:"getTrace",value:function(pt){return(pt?ct.parse(pt):ct.get()).map(function(gt){return{column:gt.getColumnNumber(),file:gt.getFileName(),function:gt.getFunctionName(),line:gt.getLineNumber(),method:gt.getMethodName(),native:gt.isNative()}})}},{key:"_addHandler",value:function(pt){if(!this.handlers.has(pt)){pt.handleExceptions=!0;var gt=new ft(pt);this.handlers.set(pt,gt),this.logger.pipe(gt)}}},{key:"_uncaughtException",value:function(pt){var gt,mt=this.getAllInfo(pt),yt=this._getExceptionHandlers(),bt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(pt):this.logger.exitOnError;function St(){st("doExit",bt),st("process._exiting",rt._exiting),bt&&!rt._exiting&&(gt&&clearTimeout(gt),rt.exit(1))}if(!yt.length&&bt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),bt=!1),!yt||yt.length===0)return rt.nextTick(St);at(yt,function(xt,vt){var $t=lt(vt),zt=xt.transport||xt;function Nt(wt){return function(){st(wt),$t()}}zt._ending=!0,zt.once("finish",Nt("finished")),zt.once("error",Nt("error"))},function(){return bt&&St()}),this.logger.log(mt),bt&&(gt=setTimeout(St,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(pt){return(pt.transport||pt).handleExceptions})}}])&&it(dt.prototype,ht),ut}()}).call(this,nt(2))},function(tt,et,nt){var rt=nt(204);tt.exports=function(it){var ot,at=0;function st(){return at||(at=1,ot=it.apply(this,arguments),it=null),ot}return st.displayName=rt(it),st}},function(tt,et){function nt(rt){for(var it in rt)this[it]=rt[it]}et.get=function(rt){var it=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var ot={},at=Error.prepareStackTrace;Error.prepareStackTrace=function(lt,ct){return ct},Error.captureStackTrace(ot,rt||et.get);var st=ot.stack;return Error.prepareStackTrace=at,Error.stackTraceLimit=it,st},et.parse=function(rt){if(!rt.stack)return[];var it=this;return rt.stack.split(`
`).slice(1).map(function(ot){if(ot.match(/^\s*[-]{4,}$/))return it._createParsedCallSite({fileName:ot,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var at=ot.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(at){var st=null,lt=null,ct=null,ft=null,ut=null,dt=at[5]==="native";if(at[1]){var ht=(ct=at[1]).lastIndexOf(".");if(ct[ht-1]=="."&&ht--,ht>0){st=ct.substr(0,ht),lt=ct.substr(ht+1);var pt=st.indexOf(".Module");pt>0&&(ct=ct.substr(pt+1),st=st.substr(0,pt))}ft=null}lt&&(ft=st,ut=lt),lt==="<anonymous>"&&(ut=null,ct=null);var gt={fileName:at[2]||null,lineNumber:parseInt(at[3],10)||null,functionName:ct,typeName:ft,methodName:ut,columnNumber:parseInt(at[4],10)||null,native:dt};return it._createParsedCallSite(gt)}}).filter(function(ot){return!!ot})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(rt){nt.prototype[rt]=null,nt.prototype["get"+rt[0].toUpperCase()+rt.substr(1)]=function(){return this[rt]}}),["topLevel","eval","native","constructor"].forEach(function(rt){nt.prototype[rt]=!1,nt.prototype["is"+rt[0].toUpperCase()+rt.substr(1)]=function(){return this[rt]}}),et._createParsedCallSite=function(rt){return new nt(rt)}},function(tt,et,nt){function rt(ft){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ut){return typeof ut}:function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut})(ft)}function it(ft,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ft,ht.key,ht)}}function ot(ft,ut){return(ot=Object.setPrototypeOf||function(dt,ht){return dt.__proto__=ht,dt})(ft,ut)}function at(ft){var ut=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var dt,ht=lt(ft);if(ut){var pt=lt(this).constructor;dt=Reflect.construct(ht,arguments,pt)}else dt=ht.apply(this,arguments);return st(this,dt)}}function st(ft,ut){return!ut||rt(ut)!=="object"&&typeof ut!="function"?function(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}(ft):ut}function lt(ft){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)})(ft)}var ct=nt(29).Writable;tt.exports=function(ft){(function(gt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),mt&&ot(gt,mt)})(pt,ft);var ut,dt,ht=at(pt);function pt(gt){var mt;if(function(yt,bt){if(!(yt instanceof bt))throw new TypeError("Cannot call a class as a function")}(this,pt),mt=ht.call(this,{objectMode:!0}),!gt)throw new Error("ExceptionStream requires a TransportStream instance.");return mt.handleExceptions=!0,mt.transport=gt,mt}return ut=pt,(dt=[{key:"_write",value:function(gt,mt,yt){return gt.exception?this.transport.log(gt,yt):(yt(),!0)}}])&&it(ut.prototype,dt),pt}(ct)},function(tt,et,nt){(function(rt){function it(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var ot=nt(15),at=nt(48),st=nt(34)("winston:rejection"),lt=nt(87),ct=nt(88),ft=nt(89);tt.exports=function(){function ut(pt){if(function(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")}(this,ut),!pt)throw new Error("Logger is required to handle rejections");this.logger=pt,this.handlers=new Map}var dt,ht;return dt=ut,(ht=[{key:"handle",value:function(){for(var pt=this,gt=arguments.length,mt=new Array(gt),yt=0;yt<gt;yt++)mt[yt]=arguments[yt];mt.forEach(function(bt){if(Array.isArray(bt))return bt.forEach(function(St){return pt._addHandler(St)});pt._addHandler(bt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),rt.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var pt=this;this.catcher&&(rt.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(gt){return pt.logger.unpipe(gt)}))}},{key:"getAllInfo",value:function(pt){var gt=pt.message;return gt||typeof pt!="string"||(gt=pt),{error:pt,level:"error",message:["unhandledRejection: ".concat(gt||"(no error message)"),pt.stack||"  No stack trace"].join(`
`),stack:pt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(pt)}}},{key:"getProcessInfo",value:function(){return{pid:rt.pid,uid:rt.getuid?rt.getuid():null,gid:rt.getgid?rt.getgid():null,cwd:rt.cwd(),execPath:rt.execPath,version:rt.version,argv:rt.argv,memoryUsage:rt.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:ot.loadavg(),uptime:ot.uptime()}}},{key:"getTrace",value:function(pt){return(pt?ct.parse(pt):ct.get()).map(function(gt){return{column:gt.getColumnNumber(),file:gt.getFileName(),function:gt.getFunctionName(),line:gt.getLineNumber(),method:gt.getMethodName(),native:gt.isNative()}})}},{key:"_addHandler",value:function(pt){if(!this.handlers.has(pt)){pt.handleRejections=!0;var gt=new ft(pt);this.handlers.set(pt,gt),this.logger.pipe(gt)}}},{key:"_unhandledRejection",value:function(pt){var gt,mt=this.getAllInfo(pt),yt=this._getRejectionHandlers(),bt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(pt):this.logger.exitOnError;function St(){st("doExit",bt),st("process._exiting",rt._exiting),bt&&!rt._exiting&&(gt&&clearTimeout(gt),rt.exit(1))}if(!yt.length&&bt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),bt=!1),!yt||yt.length===0)return rt.nextTick(St);at(yt,function(xt,vt){var $t=lt(vt),zt=xt.transport||xt;function Nt(wt){return function(){st(wt),$t()}}zt._ending=!0,zt.once("finish",Nt("finished")),zt.once("error",Nt("error"))},function(){return bt&&St()}),this.logger.log(mt),bt&&(gt=setTimeout(St,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(pt){return(pt.transport||pt).handleRejections})}}])&&it(dt.prototype,ht),ut}()}).call(this,nt(2))},function(tt,et,nt){const rt=nt(50);tt.exports=function(it){const ot=rt(it);if(ot<0)throw new Error("should be a positive integer");return ot}},function(tt,et,nt){const rt=nt(46).URL,it=nt(35);tt.exports=function(ot){const at=it(ot);try{return new rt(at)}catch{throw new Error("should be a valid URL")}}},function(tt,et,nt){const rt={};rt.web=nt(22),nt(94);const it={v1:{}};it.v1.signaling={},it.v1.signaling.api=nt(8),it.v1.signaling.api.SignalingClient=function(dt,ht,pt){pt||(pt={}),pt.format="text",this.client_=new rt.web.GrpcWebClientBase(pt),this.hostname_=dt},it.v1.signaling.api.SignalingPromiseClient=function(dt,ht,pt){pt||(pt={}),pt.format="text",this.client_=new rt.web.GrpcWebClientBase(pt),this.hostname_=dt};const ot=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",rt.web.MethodType.UNARY,it.v1.signaling.api.CreatePeerRequest,it.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.CreatePeerResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.CreatePeerResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.createPeer=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ht||{},ot,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ht||{},ot)};const at=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",rt.web.MethodType.UNARY,it.v1.signaling.api.DeletePeerRequest,it.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.DeletePeerResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.DeletePeerResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.deletePeer=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ht||{},at,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ht||{},at)};const st=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",rt.web.MethodType.UNARY,it.v1.signaling.api.RefreshPeerRequest,it.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.RefreshPeerResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ht||{},st,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ht||{},st)};const lt=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",rt.web.MethodType.UNARY,it.v1.signaling.api.GetPeersRequest,it.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetPeersResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetPeersResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.getPeers=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ht||{},lt,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ht||{},lt)};const ct=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",rt.web.MethodType.UNARY,it.v1.signaling.api.GetIceServersRequest,it.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetIceServersResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetIceServersResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.getIceServers=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ht||{},ct,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ht||{},ct)};const ft=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",rt.web.MethodType.UNARY,it.v1.signaling.api.SendSignalRequest,it.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.SendSignalResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.SendSignalResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.sendSignal=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ht||{},ft,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ht||{},ft)};const ut=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",rt.web.MethodType.SERVER_STREAMING,it.v1.signaling.api.ReceiveSignalStreamRequest,it.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(dt,ht){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ht||{},ut)},it.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(dt,ht){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ht||{},ut)},tt.exports=it.v1.signaling.api},function(tt,et,nt){var rt=nt(95),it=rt,ot=Function("return this")();it.exportSymbol("proto.google.protobuf.BoolValue",null,ot),it.exportSymbol("proto.google.protobuf.BytesValue",null,ot),it.exportSymbol("proto.google.protobuf.DoubleValue",null,ot),it.exportSymbol("proto.google.protobuf.FloatValue",null,ot),it.exportSymbol("proto.google.protobuf.Int32Value",null,ot),it.exportSymbol("proto.google.protobuf.Int64Value",null,ot),it.exportSymbol("proto.google.protobuf.StringValue",null,ot),it.exportSymbol("proto.google.protobuf.UInt32Value",null,ot),it.exportSymbol("proto.google.protobuf.UInt64Value",null,ot),proto.google.protobuf.DoubleValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.DoubleValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.FloatValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.Int64Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.UInt64Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.Int32Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.UInt32Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.BoolValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.StringValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.BytesValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(at){return proto.google.protobuf.DoubleValue.toObject(at,this)},proto.google.protobuf.DoubleValue.toObject=function(at,st){var lt={value:rt.Message.getFloatingPointFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.DoubleValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readDouble();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeDouble(1,lt)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return rt.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(at){return rt.Message.setProto3FloatField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(at){return proto.google.protobuf.FloatValue.toObject(at,this)},proto.google.protobuf.FloatValue.toObject=function(at,st){var lt={value:rt.Message.getFloatingPointFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.FloatValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readFloat();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeFloat(1,lt)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return rt.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(at){return rt.Message.setProto3FloatField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(at){return proto.google.protobuf.Int64Value.toObject(at,this)},proto.google.protobuf.Int64Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.Int64Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readInt64();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeInt64(1,lt)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(at){return proto.google.protobuf.UInt64Value.toObject(at,this)},proto.google.protobuf.UInt64Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.UInt64Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readUint64();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeUint64(1,lt)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(at){return proto.google.protobuf.Int32Value.toObject(at,this)},proto.google.protobuf.Int32Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.Int32Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readInt32();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeInt32(1,lt)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(at){return proto.google.protobuf.UInt32Value.toObject(at,this)},proto.google.protobuf.UInt32Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.UInt32Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readUint32();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeUint32(1,lt)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(at){return proto.google.protobuf.BoolValue.toObject(at,this)},proto.google.protobuf.BoolValue.toObject=function(at,st){var lt={value:rt.Message.getBooleanFieldWithDefault(st,1,!1)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.BoolValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readBool();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())&&st.writeBool(1,lt)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return rt.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(at){return rt.Message.setProto3BooleanField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(at){return proto.google.protobuf.StringValue.toObject(at,this)},proto.google.protobuf.StringValue.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,"")};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.StringValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue()).length>0&&st.writeString(1,lt)},proto.google.protobuf.StringValue.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(at){return rt.Message.setProto3StringField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(at){return proto.google.protobuf.BytesValue.toObject(at,this)},proto.google.protobuf.BytesValue.toObject=function(at,st){var lt={value:st.getValue_asB64()};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.BytesValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readBytes();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue_asU8()).length>0&&st.writeBytes(1,lt)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return rt.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return rt.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(at){return rt.Message.setProto3BytesField(this,1,at)},it.object.extend(et,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(tt,et,nt){tt instanceof String&&(tt=String(tt));for(var rt=tt.length,it=0;it<rt;it++){var ot=tt[it];if(et.call(nt,ot,it,tt))return{i:it,v:ot}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(tt,et,nt){tt!=Array.prototype&&tt!=Object.prototype&&(tt[et]=nt.value)},$jscomp.getGlobal=function(tt){return typeof window!="undefined"&&window===tt?tt:global!==void 0&&global!=null?global:tt},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(tt,et,nt,rt){if(et){for(nt=$jscomp.global,tt=tt.split("."),rt=0;rt<tt.length-1;rt++){var it=tt[rt];it in nt||(nt[it]={}),nt=nt[it]}(et=et(rt=nt[tt=tt[tt.length-1]]))!=rt&&et!=null&&$jscomp.defineProperty(nt,tt,{configurable:!0,writable:!0,value:et})}},$jscomp.polyfill("Array.prototype.findIndex",function(tt){return tt||function(et,nt){return $jscomp.findInternal(this,et,nt).i}},"es6","es3"),$jscomp.checkStringArgs=function(tt,et,nt){if(tt==null)throw new TypeError("The 'this' value for String.prototype."+nt+" must not be null or undefined");if(et instanceof RegExp)throw new TypeError("First argument to String.prototype."+nt+" must not be a regular expression");return tt+""},$jscomp.polyfill("String.prototype.endsWith",function(tt){return tt||function(et,nt){var rt=$jscomp.checkStringArgs(this,et,"endsWith");et+="",nt===void 0&&(nt=rt.length),nt=Math.max(0,Math.min(0|nt,rt.length));for(var it=et.length;0<it&&0<nt;)if(rt[--nt]!=et[--it])return!1;return 0>=it}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(tt){return tt||function(et,nt){return $jscomp.findInternal(this,et,nt).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(tt){return tt||function(et,nt){var rt=$jscomp.checkStringArgs(this,et,"startsWith");et+="";var it=rt.length,ot=et.length;nt=Math.max(0,Math.min(0|nt,rt.length));for(var at=0;at<ot&&nt<it;)if(rt[nt++]!=et[at++])return!1;return at>=ot}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(tt){return tt||function(et){var nt=$jscomp.checkStringArgs(this,null,"repeat");if(0>et||1342177279<et)throw new RangeError("Invalid count value");et|=0;for(var rt="";et;)1&et&&(rt+=nt),(et>>>=1)&&(nt+=nt);return rt}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(tt){return tt!==void 0},goog.isString=function(tt){return typeof tt=="string"},goog.isBoolean=function(tt){return typeof tt=="boolean"},goog.isNumber=function(tt){return typeof tt=="number"},goog.exportPath_=function(tt,et,nt){tt=tt.split("."),nt=nt||goog.global,tt[0]in nt||nt.execScript===void 0||nt.execScript("var "+tt[0]);for(var rt;tt.length&&(rt=tt.shift());)!tt.length&&goog.isDef(et)?nt[rt]=et:nt=nt[rt]&&nt[rt]!==Object.prototype[rt]?nt[rt]:nt[rt]={}},goog.define=function(tt,et){return et},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(tt){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(tt)},goog.constructNamespace_=function(tt,et){goog.exportPath_(tt,et)},goog.getScriptNonce=function(tt){return tt&&tt!=goog.global?goog.getScriptNonce_(tt.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(tt){return(tt=tt.querySelector&&tt.querySelector("script[nonce]"))&&(tt=tt.nonce||tt.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(tt)?tt:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(tt){if(!goog.isString(tt)||!tt||tt.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+tt+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=tt},goog.module.get=function(tt){return goog.module.getInternal_(tt)},goog.module.getInternal_=function(tt){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var tt=goog.global.$jscomp;return!!tt&&typeof tt.getCurrentModulePath=="function"&&!!tt.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(tt){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=tt;else{var et=goog.global.$jscomp;if(!et||typeof et.getCurrentModulePath!="function")throw Error('Module with namespace "'+tt+'" has been loaded incorrectly.');et=et.require(et.getCurrentModulePath()),goog.loadedModules_[tt]={exports:et,type:goog.ModuleType.ES6,moduleId:tt}}},goog.setTestOnly=function(tt){if(goog.DISALLOW_TEST_ONLY_CODE)throw tt=tt||"",Error("Importing test-only code into non-debug environment"+(tt?": "+tt:"."))},goog.forwardDeclare=function(tt){},goog.getObjectByName=function(tt,et){tt=tt.split("."),et=et||goog.global;for(var nt=0;nt<tt.length;nt++)if(et=et[tt[nt]],!goog.isDefAndNotNull(et))return null;return et},goog.globalize=function(tt,et){for(var nt in et=et||goog.global,tt)et[nt]=tt[nt]},goog.addDependency=function(tt,et,nt,rt){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(tt){goog.global.console&&goog.global.console.error(tt)},goog.require=function(tt){},goog.requireType=function(tt){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(tt){tt.instance_=void 0,tt.getInstance=function(){return tt.instance_?tt.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=tt),tt.instance_=new tt)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(tt){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(tt){return"(function(){"+tt+`
;})();
`},goog.loadModule=function(tt){var et=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(tt))var nt=tt.call(void 0,{});else{if(!goog.isString(tt))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(tt=goog.workaroundSafari10EvalBug(tt)),nt=goog.loadModuleFromSource_.call(void 0,tt)}var rt=goog.moduleLoaderState_.moduleName;if(!goog.isString(rt)||!rt)throw Error('Invalid module name "'+rt+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(rt,nt):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof nt=="object"&&nt!=null&&Object.seal(nt),goog.loadedModules_[rt]={exports:nt,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=et}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(tt){tt=tt.split("/");for(var et=0;et<tt.length;)tt[et]=="."?tt.splice(et,1):et&&tt[et]==".."&&tt[et-1]&&tt[et-1]!=".."?tt.splice(--et,2):et++;return tt.join("/")},goog.loadFileSync_=function(tt){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(tt);try{var et=new goog.global.XMLHttpRequest;return et.open("get",tt,!1),et.send(),et.status==0||et.status==200?et.responseText:null}catch{return null}},goog.transpile_=function(tt,et,nt){var rt=goog.global.$jscomp;rt||(goog.global.$jscomp=rt={});var it=rt.transpile;if(!it){var ot=goog.basePath+goog.TRANSPILER,at=goog.loadFileSync_(ot);if(at){if(function(){(0,eval)(at+`
//# sourceURL=`+ot)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,it=(rt=goog.global.$jscomp).transpile}}return it||(it=rt.transpile=function(st,lt){return goog.logToConsole_(lt+" requires transpilation but no transpiler was found."),st}),it(tt,et,nt)},goog.typeOf=function(tt){var et=typeof tt;if(et=="object"){if(!tt)return"null";if(tt instanceof Array)return"array";if(tt instanceof Object)return et;var nt=Object.prototype.toString.call(tt);if(nt=="[object Window]")return"object";if(nt=="[object Array]"||typeof tt.length=="number"&&tt.splice!==void 0&&tt.propertyIsEnumerable!==void 0&&!tt.propertyIsEnumerable("splice"))return"array";if(nt=="[object Function]"||tt.call!==void 0&&tt.propertyIsEnumerable!==void 0&&!tt.propertyIsEnumerable("call"))return"function"}else if(et=="function"&&tt.call===void 0)return"object";return et},goog.isNull=function(tt){return tt===null},goog.isDefAndNotNull=function(tt){return tt!=null},goog.isArray=function(tt){return goog.typeOf(tt)=="array"},goog.isArrayLike=function(tt){var et=goog.typeOf(tt);return et=="array"||et=="object"&&typeof tt.length=="number"},goog.isDateLike=function(tt){return goog.isObject(tt)&&typeof tt.getFullYear=="function"},goog.isFunction=function(tt){return goog.typeOf(tt)=="function"},goog.isObject=function(tt){var et=typeof tt;return et=="object"&&tt!=null||et=="function"},goog.getUid=function(tt){return tt[goog.UID_PROPERTY_]||(tt[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(tt){return!!tt[goog.UID_PROPERTY_]},goog.removeUid=function(tt){tt!==null&&"removeAttribute"in tt&&tt.removeAttribute(goog.UID_PROPERTY_);try{delete tt[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(tt){var et=goog.typeOf(tt);if(et=="object"||et=="array"){if(typeof tt.clone=="function")return tt.clone();for(var nt in et=et=="array"?[]:{},tt)et[nt]=goog.cloneObject(tt[nt]);return et}return tt},goog.bindNative_=function(tt,et,nt){return tt.call.apply(tt.bind,arguments)},goog.bindJs_=function(tt,et,nt){if(!tt)throw Error();if(2<arguments.length){var rt=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,rt),tt.apply(et,it)}}return function(){return tt.apply(et,arguments)}},goog.bind=function(tt,et,nt){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(tt,et){var nt=Array.prototype.slice.call(arguments,1);return function(){var rt=nt.slice();return rt.push.apply(rt,arguments),tt.apply(this,rt)}},goog.mixin=function(tt,et){for(var nt in et)tt[nt]=et[nt]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(tt){if(goog.global.execScript)goog.global.execScript(tt,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(tt);else{var et=goog.global.document,nt=et.createElement("SCRIPT");nt.type="text/javascript",nt.defer=!1,nt.appendChild(et.createTextNode(tt)),et.head.appendChild(nt),et.head.removeChild(nt)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(tt,et){if(String(tt).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+tt);var nt=function(it){return goog.cssNameMapping_[it]||it},rt=function(it){it=it.split("-");for(var ot=[],at=0;at<it.length;at++)ot.push(nt(it[at]));return ot.join("-")};return rt=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?nt:rt:function(it){return it},tt=et?tt+"-"+rt(et):rt(tt),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(tt):tt},goog.setCssNameMapping=function(tt,et){goog.cssNameMapping_=tt,goog.cssNameMappingStyle_=et},goog.getMsg=function(tt,et,nt){return nt&&nt.html&&(tt=tt.replace(/</g,"&lt;")),et&&(tt=tt.replace(/\{\$([^}]+)}/g,function(rt,it){return et!=null&&it in et?et[it]:rt})),tt},goog.getMsgWithFallback=function(tt,et){return tt},goog.exportSymbol=function(tt,et,nt){goog.exportPath_(tt,et,nt)},goog.exportProperty=function(tt,et,nt){tt[et]=nt},goog.inherits=function(tt,et){function nt(){}nt.prototype=et.prototype,tt.superClass_=et.prototype,tt.prototype=new nt,tt.prototype.constructor=tt,tt.base=function(rt,it,ot){for(var at=Array(arguments.length-2),st=2;st<arguments.length;st++)at[st-2]=arguments[st];return et.prototype[it].apply(rt,at)}},goog.base=function(tt,et,nt){var rt=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!rt)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(rt.superClass_!==void 0){for(var it=Array(arguments.length-1),ot=1;ot<arguments.length;ot++)it[ot-1]=arguments[ot];return rt.superClass_.constructor.apply(tt,it)}if(typeof et!="string"&&typeof et!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for(it=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)it[ot-2]=arguments[ot];ot=!1;for(var at=tt.constructor.prototype;at;at=Object.getPrototypeOf(at))if(at[et]===rt)ot=!0;else if(ot)return at[et].apply(tt,it);if(tt[et]===rt)return tt.constructor.prototype[et].apply(tt,it);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(tt){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");tt.call(goog.global)},goog.defineClass=function(tt,et){var nt=et.constructor,rt=et.statics;return nt&&nt!=Object.prototype.constructor||(nt=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),nt=goog.defineClass.createSealingConstructor_(nt,tt),tt&&goog.inherits(nt,tt),delete et.constructor,delete et.statics,goog.defineClass.applyProperties_(nt.prototype,et),rt!=null&&(rt instanceof Function?rt(nt):goog.defineClass.applyProperties_(nt,rt)),nt},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(tt,et){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return tt;var nt=!goog.defineClass.isUnsealable_(et),rt=function(){var it=tt.apply(this,arguments)||this;return it[goog.UID_PROPERTY_]=it[goog.UID_PROPERTY_],this.constructor===rt&&nt&&Object.seal instanceof Function&&Object.seal(it),it};return rt},goog.defineClass.isUnsealable_=function(tt){return tt&&tt.prototype&&tt.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(tt,et){for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(tt[nt]=et[nt]);for(var rt=0;rt<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;rt++)nt=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[rt],Object.prototype.hasOwnProperty.call(et,nt)&&(tt[nt]=et[nt])},goog.tagUnsealableClass=function(tt){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(tt){return tt},goog.createTrustedTypesPolicy=function(tt){var et=null;if(typeof TrustedTypes=="undefined"||!TrustedTypes.createPolicy)return et;try{et=TrustedTypes.createPolicy(tt,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(nt){goog.logToConsole_(nt.message)}return et},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(tt){var et=jspb.BinaryConstants.FieldType,nt=jspb.BinaryConstants.WireType;switch(tt){case et.INT32:case et.INT64:case et.UINT32:case et.UINT64:case et.SINT32:case et.SINT64:case et.BOOL:case et.ENUM:case et.VHASH64:return nt.VARINT;case et.DOUBLE:case et.FIXED64:case et.SFIXED64:case et.FHASH64:return nt.FIXED64;case et.STRING:case et.MESSAGE:case et.BYTES:return nt.DELIMITED;case et.FLOAT:case et.FIXED32:case et.SFIXED32:return nt.FIXED32;default:return nt.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(tt){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var et=Error().stack;et&&(this.stack=et)}tt&&(this.message=String(tt)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(tt,et){goog.debug.Error.call(this,goog.asserts.subs_(tt,et)),this.messagePattern=tt},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(tt){throw tt},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(tt,et){for(var nt="",rt=(tt=tt.split("%s")).length-1,it=0;it<rt;it++)nt+=tt[it]+(it<et.length?et[it]:"%s");return nt+tt[rt]},goog.asserts.doAssertFailure_=function(tt,et,nt,rt){var it="Assertion failed";if(nt){it+=": "+nt;var ot=rt}else tt&&(it+=": "+tt,ot=et);tt=new goog.asserts.AssertionError(""+it,ot||[]),goog.asserts.errorHandler_(tt)},goog.asserts.setErrorHandler=function(tt){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=tt)},goog.asserts.assert=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!tt&&goog.asserts.doAssertFailure_("",null,et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertExists=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&tt==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.fail=function(tt,et){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(tt?": "+tt:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(tt)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertString=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(tt)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertFunction=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(tt)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertObject=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(tt)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertArray=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(tt)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertBoolean=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(tt)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertElement=function(tt,et,nt){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(tt)&&tt.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertInstanceof=function(tt,et,nt,rt){return!goog.asserts.ENABLE_ASSERTS||tt instanceof et||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(et),goog.asserts.getType_(tt)],nt,Array.prototype.slice.call(arguments,3)),tt},goog.asserts.assertFinite=function(tt,et,nt){return!goog.asserts.ENABLE_ASSERTS||typeof tt=="number"&&isFinite(tt)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var tt in Object.prototype)goog.asserts.fail(tt+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(tt){return tt instanceof Function?tt.displayName||tt.name||"unknown type name":tt instanceof Object?tt.constructor.displayName||tt.constructor.name||Object.prototype.toString.call(tt):tt===null?"null":typeof tt},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(tt){return tt[tt.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.indexOf.call(tt,et,nt)}:function(tt,et,nt){if(nt=nt==null?0:0>nt?Math.max(0,tt.length+nt):nt,goog.isString(tt))return goog.isString(et)&&et.length==1?tt.indexOf(et,nt):-1;for(;nt<tt.length;nt++)if(nt in tt&&tt[nt]===et)return nt;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.lastIndexOf.call(tt,et,nt==null?tt.length-1:nt)}:function(tt,et,nt){if(0>(nt=nt==null?tt.length-1:nt)&&(nt=Math.max(0,tt.length+nt)),goog.isString(tt))return goog.isString(et)&&et.length==1?tt.lastIndexOf(et,nt):-1;for(;0<=nt;nt--)if(nt in tt&&tt[nt]===et)return nt;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(tt,et,nt){goog.asserts.assert(tt.length!=null),Array.prototype.forEach.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)ot in it&&et.call(nt,it[ot],ot,tt)},goog.array.forEachRight=function(tt,et,nt){var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt;for(--rt;0<=rt;--rt)rt in it&&et.call(nt,it[rt],rt,tt)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.filter.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=[],ot=0,at=goog.isString(tt)?tt.split(""):tt,st=0;st<rt;st++)if(st in at){var lt=at[st];et.call(nt,lt,st,tt)&&(it[ot++]=lt)}return it},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.map.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=Array(rt),ot=goog.isString(tt)?tt.split(""):tt,at=0;at<rt;at++)at in ot&&(it[at]=et.call(nt,ot[at],at,tt));return it},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(tt,et,nt,rt){return goog.asserts.assert(tt.length!=null),rt&&(et=goog.bind(et,rt)),Array.prototype.reduce.call(tt,et,nt)}:function(tt,et,nt,rt){var it=nt;return goog.array.forEach(tt,function(ot,at){it=et.call(rt,it,ot,at,tt)}),it},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(tt,et,nt,rt){return goog.asserts.assert(tt.length!=null),goog.asserts.assert(et!=null),rt&&(et=goog.bind(et,rt)),Array.prototype.reduceRight.call(tt,et,nt)}:function(tt,et,nt,rt){var it=nt;return goog.array.forEachRight(tt,function(ot,at){it=et.call(rt,it,ot,at,tt)}),it},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.some.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)if(ot in it&&et.call(nt,it[ot],ot,tt))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.every.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)if(ot in it&&!et.call(nt,it[ot],ot,tt))return!1;return!0},goog.array.count=function(tt,et,nt){var rt=0;return goog.array.forEach(tt,function(it,ot,at){et.call(nt,it,ot,at)&&++rt},nt),rt},goog.array.find=function(tt,et,nt){return 0>(et=goog.array.findIndex(tt,et,nt))?null:goog.isString(tt)?tt.charAt(et):tt[et]},goog.array.findIndex=function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)if(ot in it&&et.call(nt,it[ot],ot,tt))return ot;return-1},goog.array.findRight=function(tt,et,nt){return 0>(et=goog.array.findIndexRight(tt,et,nt))?null:goog.isString(tt)?tt.charAt(et):tt[et]},goog.array.findIndexRight=function(tt,et,nt){var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt;for(--rt;0<=rt;rt--)if(rt in it&&et.call(nt,it[rt],rt,tt))return rt;return-1},goog.array.contains=function(tt,et){return 0<=goog.array.indexOf(tt,et)},goog.array.isEmpty=function(tt){return tt.length==0},goog.array.clear=function(tt){if(!goog.isArray(tt))for(var et=tt.length-1;0<=et;et--)delete tt[et];tt.length=0},goog.array.insert=function(tt,et){goog.array.contains(tt,et)||tt.push(et)},goog.array.insertAt=function(tt,et,nt){goog.array.splice(tt,nt,0,et)},goog.array.insertArrayAt=function(tt,et,nt){goog.partial(goog.array.splice,tt,nt,0).apply(null,et)},goog.array.insertBefore=function(tt,et,nt){var rt;arguments.length==2||0>(rt=goog.array.indexOf(tt,nt))?tt.push(et):goog.array.insertAt(tt,et,rt)},goog.array.remove=function(tt,et){var nt;return(nt=0<=(et=goog.array.indexOf(tt,et)))&&goog.array.removeAt(tt,et),nt},goog.array.removeLast=function(tt,et){return 0<=(et=goog.array.lastIndexOf(tt,et))&&(goog.array.removeAt(tt,et),!0)},goog.array.removeAt=function(tt,et){return goog.asserts.assert(tt.length!=null),Array.prototype.splice.call(tt,et,1).length==1},goog.array.removeIf=function(tt,et,nt){return 0<=(et=goog.array.findIndex(tt,et,nt))&&(goog.array.removeAt(tt,et),!0)},goog.array.removeAllIf=function(tt,et,nt){var rt=0;return goog.array.forEachRight(tt,function(it,ot){et.call(nt,it,ot,tt)&&goog.array.removeAt(tt,ot)&&rt++}),rt},goog.array.concat=function(tt){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(tt){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(tt){var et=tt.length;if(0<et){for(var nt=Array(et),rt=0;rt<et;rt++)nt[rt]=tt[rt];return nt}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(tt,et){for(var nt=1;nt<arguments.length;nt++){var rt=arguments[nt];if(goog.isArrayLike(rt)){var it=tt.length||0,ot=rt.length||0;tt.length=it+ot;for(var at=0;at<ot;at++)tt[it+at]=rt[at]}else tt.push(rt)}},goog.array.splice=function(tt,et,nt,rt){return goog.asserts.assert(tt.length!=null),Array.prototype.splice.apply(tt,goog.array.slice(arguments,1))},goog.array.slice=function(tt,et,nt){return goog.asserts.assert(tt.length!=null),2>=arguments.length?Array.prototype.slice.call(tt,et):Array.prototype.slice.call(tt,et,nt)},goog.array.removeDuplicates=function(tt,et,nt){et=et||tt;var rt=function(lt){return goog.isObject(lt)?"o"+goog.getUid(lt):(typeof lt).charAt(0)+lt};nt=nt||rt,rt={};for(var it=0,ot=0;ot<tt.length;){var at=tt[ot++],st=nt(at);Object.prototype.hasOwnProperty.call(rt,st)||(rt[st]=!0,et[it++]=at)}et.length=it},goog.array.binarySearch=function(tt,et,nt){return goog.array.binarySearch_(tt,nt||goog.array.defaultCompare,!1,et)},goog.array.binarySelect=function(tt,et,nt){return goog.array.binarySearch_(tt,et,!0,void 0,nt)},goog.array.binarySearch_=function(tt,et,nt,rt,it){for(var ot,at=0,st=tt.length;at<st;){var lt=at+st>>1,ct=nt?et.call(it,tt[lt],lt,tt):et(rt,tt[lt]);0<ct?at=lt+1:(st=lt,ot=!ct)}return ot?at:~at},goog.array.sort=function(tt,et){tt.sort(et||goog.array.defaultCompare)},goog.array.stableSort=function(tt,et){for(var nt=Array(tt.length),rt=0;rt<tt.length;rt++)nt[rt]={index:rt,value:tt[rt]};var it=et||goog.array.defaultCompare;for(goog.array.sort(nt,function(ot,at){return it(ot.value,at.value)||ot.index-at.index}),rt=0;rt<tt.length;rt++)tt[rt]=nt[rt].value},goog.array.sortByKey=function(tt,et,nt){var rt=nt||goog.array.defaultCompare;goog.array.sort(tt,function(it,ot){return rt(et(it),et(ot))})},goog.array.sortObjectsByKey=function(tt,et,nt){goog.array.sortByKey(tt,function(rt){return rt[et]},nt)},goog.array.isSorted=function(tt,et,nt){et=et||goog.array.defaultCompare;for(var rt=1;rt<tt.length;rt++){var it=et(tt[rt-1],tt[rt]);if(0<it||it==0&&nt)return!1}return!0},goog.array.equals=function(tt,et,nt){if(!goog.isArrayLike(tt)||!goog.isArrayLike(et)||tt.length!=et.length)return!1;var rt=tt.length;nt=nt||goog.array.defaultCompareEquality;for(var it=0;it<rt;it++)if(!nt(tt[it],et[it]))return!1;return!0},goog.array.compare3=function(tt,et,nt){nt=nt||goog.array.defaultCompare;for(var rt=Math.min(tt.length,et.length),it=0;it<rt;it++){var ot=nt(tt[it],et[it]);if(ot!=0)return ot}return goog.array.defaultCompare(tt.length,et.length)},goog.array.defaultCompare=function(tt,et){return tt>et?1:tt<et?-1:0},goog.array.inverseDefaultCompare=function(tt,et){return-goog.array.defaultCompare(tt,et)},goog.array.defaultCompareEquality=function(tt,et){return tt===et},goog.array.binaryInsert=function(tt,et,nt){return 0>(nt=goog.array.binarySearch(tt,et,nt))&&(goog.array.insertAt(tt,et,-(nt+1)),!0)},goog.array.binaryRemove=function(tt,et,nt){return 0<=(et=goog.array.binarySearch(tt,et,nt))&&goog.array.removeAt(tt,et)},goog.array.bucket=function(tt,et,nt){for(var rt={},it=0;it<tt.length;it++){var ot=tt[it],at=et.call(nt,ot,it,tt);goog.isDef(at)&&(rt[at]||(rt[at]=[])).push(ot)}return rt},goog.array.toObject=function(tt,et,nt){var rt={};return goog.array.forEach(tt,function(it,ot){rt[et.call(nt,it,ot,tt)]=it}),rt},goog.array.range=function(tt,et,nt){var rt=[],it=0,ot=tt;if(et!==void 0&&(it=tt,ot=et),0>(nt=nt||1)*(ot-it))return[];if(0<nt)for(tt=it;tt<ot;tt+=nt)rt.push(tt);else for(tt=it;tt>ot;tt+=nt)rt.push(tt);return rt},goog.array.repeat=function(tt,et){for(var nt=[],rt=0;rt<et;rt++)nt[rt]=tt;return nt},goog.array.flatten=function(tt){for(var et=[],nt=0;nt<arguments.length;nt++){var rt=arguments[nt];if(goog.isArray(rt))for(var it=0;it<rt.length;it+=8192){var ot=goog.array.slice(rt,it,it+8192);ot=goog.array.flatten.apply(null,ot);for(var at=0;at<ot.length;at++)et.push(ot[at])}else et.push(rt)}return et},goog.array.rotate=function(tt,et){return goog.asserts.assert(tt.length!=null),tt.length&&(0<(et%=tt.length)?Array.prototype.unshift.apply(tt,tt.splice(-et,et)):0>et&&Array.prototype.push.apply(tt,tt.splice(0,-et))),tt},goog.array.moveItem=function(tt,et,nt){goog.asserts.assert(0<=et&&et<tt.length),goog.asserts.assert(0<=nt&&nt<tt.length),et=Array.prototype.splice.call(tt,et,1),Array.prototype.splice.call(tt,nt,0,et[0])},goog.array.zip=function(tt){if(!arguments.length)return[];for(var et=[],nt=arguments[0].length,rt=1;rt<arguments.length;rt++)arguments[rt].length<nt&&(nt=arguments[rt].length);for(rt=0;rt<nt;rt++){for(var it=[],ot=0;ot<arguments.length;ot++)it.push(arguments[ot][rt]);et.push(it)}return et},goog.array.shuffle=function(tt,et){et=et||Math.random;for(var nt=tt.length-1;0<nt;nt--){var rt=Math.floor(et()*(nt+1)),it=tt[nt];tt[nt]=tt[rt],tt[rt]=it}},goog.array.copyByIndex=function(tt,et){var nt=[];return goog.array.forEach(et,function(rt){nt.push(tt[rt])}),nt},goog.array.concatMap=function(tt,et,nt){return goog.array.concat.apply([],goog.array.map(tt,et,nt))},goog.crypt={},goog.crypt.stringToByteArray=function(tt){for(var et=[],nt=0,rt=0;rt<tt.length;rt++){var it=tt.charCodeAt(rt);255<it&&(et[nt++]=255&it,it>>=8),et[nt++]=it}return et},goog.crypt.byteArrayToString=function(tt){if(8192>=tt.length)return String.fromCharCode.apply(null,tt);for(var et="",nt=0;nt<tt.length;nt+=8192){var rt=goog.array.slice(tt,nt,nt+8192);et+=String.fromCharCode.apply(null,rt)}return et},goog.crypt.byteArrayToHex=function(tt,et){return goog.array.map(tt,function(nt){return 1<(nt=nt.toString(16)).length?nt:"0"+nt}).join(et||"")},goog.crypt.hexToByteArray=function(tt){goog.asserts.assert(tt.length%2==0,"Key string length must be multiple of 2");for(var et=[],nt=0;nt<tt.length;nt+=2)et.push(parseInt(tt.substring(nt,nt+2),16));return et},goog.crypt.stringToUtf8ByteArray=function(tt){for(var et=[],nt=0,rt=0;rt<tt.length;rt++){var it=tt.charCodeAt(rt);128>it?et[nt++]=it:(2048>it?et[nt++]=it>>6|192:((64512&it)==55296&&rt+1<tt.length&&(64512&tt.charCodeAt(rt+1))==56320?(it=65536+((1023&it)<<10)+(1023&tt.charCodeAt(++rt)),et[nt++]=it>>18|240,et[nt++]=it>>12&63|128):et[nt++]=it>>12|224,et[nt++]=it>>6&63|128),et[nt++]=63&it|128)}return et},goog.crypt.utf8ByteArrayToString=function(tt){for(var et=[],nt=0,rt=0;nt<tt.length;){var it=tt[nt++];if(128>it)et[rt++]=String.fromCharCode(it);else if(191<it&&224>it){var ot=tt[nt++];et[rt++]=String.fromCharCode((31&it)<<6|63&ot)}else if(239<it&&365>it){ot=tt[nt++];var at=tt[nt++];it=((7&it)<<18|(63&ot)<<12|(63&at)<<6|63&tt[nt++])-65536,et[rt++]=String.fromCharCode(55296+(it>>10)),et[rt++]=String.fromCharCode(56320+(1023&it))}else ot=tt[nt++],at=tt[nt++],et[rt++]=String.fromCharCode((15&it)<<12|(63&ot)<<6|63&at)}return et.join("")},goog.crypt.xorByteArray=function(tt,et){goog.asserts.assert(tt.length==et.length,"XOR array lengths must match");for(var nt=[],rt=0;rt<tt.length;rt++)nt.push(tt[rt]^et[rt]);return nt},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(tt,et){return tt.lastIndexOf(et,0)==0},goog.string.internal.endsWith=function(tt,et){var nt=tt.length-et.length;return 0<=nt&&tt.indexOf(et,nt)==nt},goog.string.internal.caseInsensitiveStartsWith=function(tt,et){return goog.string.internal.caseInsensitiveCompare(et,tt.substr(0,et.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(tt,et){return goog.string.internal.caseInsensitiveCompare(et,tt.substr(tt.length-et.length,et.length))==0},goog.string.internal.caseInsensitiveEquals=function(tt,et){return tt.toLowerCase()==et.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(tt){return/^[\s\xa0]*$/.test(tt)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(tt){return tt.trim()}:function(tt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(tt)[1]},goog.string.internal.caseInsensitiveCompare=function(tt,et){return(tt=String(tt).toLowerCase())<(et=String(et).toLowerCase())?-1:tt==et?0:1},goog.string.internal.newLineToBr=function(tt,et){return tt.replace(/(\r\n|\r|\n)/g,et?"<br />":"<br>")},goog.string.internal.htmlEscape=function(tt,et){if(et)tt=tt.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(tt))return tt;tt.indexOf("&")!=-1&&(tt=tt.replace(goog.string.internal.AMP_RE_,"&amp;")),tt.indexOf("<")!=-1&&(tt=tt.replace(goog.string.internal.LT_RE_,"&lt;")),tt.indexOf(">")!=-1&&(tt=tt.replace(goog.string.internal.GT_RE_,"&gt;")),tt.indexOf('"')!=-1&&(tt=tt.replace(goog.string.internal.QUOT_RE_,"&quot;")),tt.indexOf("'")!=-1&&(tt=tt.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),tt.indexOf("\0")!=-1&&(tt=tt.replace(goog.string.internal.NULL_RE_,"&#0;"))}return tt},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(tt,et){return goog.string.internal.newLineToBr(tt.replace(/  /g," &#160;"),et)},goog.string.internal.contains=function(tt,et){return tt.indexOf(et)!=-1},goog.string.internal.caseInsensitiveContains=function(tt,et){return goog.string.internal.contains(tt.toLowerCase(),et.toLowerCase())},goog.string.internal.compareVersions=function(tt,et){var nt=0;tt=goog.string.internal.trim(String(tt)).split("."),et=goog.string.internal.trim(String(et)).split(".");for(var rt=Math.max(tt.length,et.length),it=0;nt==0&&it<rt;it++){var ot=tt[it]||"",at=et[it]||"";do{if(ot=/(\d*)(\D*)(.*)/.exec(ot)||["","","",""],at=/(\d*)(\D*)(.*)/.exec(at)||["","","",""],ot[0].length==0&&at[0].length==0)break;nt=ot[1].length==0?0:parseInt(ot[1],10);var st=at[1].length==0?0:parseInt(at[1],10);nt=goog.string.internal.compareElements_(nt,st)||goog.string.internal.compareElements_(ot[2].length==0,at[2].length==0)||goog.string.internal.compareElements_(ot[2],at[2]),ot=ot[3],at=at[3]}while(nt==0)}return nt},goog.string.internal.compareElements_=function(tt,et){return tt<et?-1:tt>et?1:0},goog.string.TypedString=function(){},goog.string.Const=function(tt,et){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=tt===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&et||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(tt){return tt instanceof goog.string.Const&&tt.constructor===goog.string.Const&&tt.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?tt.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+tt+"'"),"type_error:Const")},goog.string.Const.from=function(tt){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,tt)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(tt){return goog.fs.url.getUrlObject_().createObjectURL(tt)},goog.fs.url.revokeObjectUrl=function(tt){goog.fs.url.getUrlObject_().revokeObjectURL(tt)},goog.fs.url.getUrlObject_=function(){var tt=goog.fs.url.findUrlObject_();if(tt!=null)return tt;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(tt,et){return typeof tt=="number"?0<tt?goog.i18n.bidi.Dir.LTR:0>tt?goog.i18n.bidi.Dir.RTL:et?null:goog.i18n.bidi.Dir.NEUTRAL:tt==null?null:tt?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(tt,et){return et?tt.replace(goog.i18n.bidi.htmlSkipReg_,""):tt},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(tt,et){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(tt,et){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(tt){return goog.i18n.bidi.rtlRe_.test(tt)},goog.i18n.bidi.isLtrChar=function(tt){return goog.i18n.bidi.ltrRe_.test(tt)},goog.i18n.bidi.isNeutralChar=function(tt){return!goog.i18n.bidi.isLtrChar(tt)&&!goog.i18n.bidi.isRtlChar(tt)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(tt,et){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(tt,et){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(tt,et){return tt=goog.i18n.bidi.stripHtmlIfNeeded_(tt,et),goog.i18n.bidi.isRequiredLtrRe_.test(tt)||!goog.i18n.bidi.hasAnyLtr(tt)&&!goog.i18n.bidi.hasAnyRtl(tt)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(tt,et){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(tt,et){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(tt){return goog.i18n.bidi.rtlLocalesRe_.test(tt)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(tt,et){return et=(et===void 0?goog.i18n.bidi.hasAnyRtl(tt):et)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,tt.replace(goog.i18n.bidi.bracketGuardTextRe_,et+"$&"+et)},goog.i18n.bidi.enforceRtlInHtml=function(tt){return tt.charAt(0)=="<"?tt.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+tt+"</span>"},goog.i18n.bidi.enforceRtlInText=function(tt){return goog.i18n.bidi.Format.RLE+tt+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(tt){return tt.charAt(0)=="<"?tt.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+tt+"</span>"},goog.i18n.bidi.enforceLtrInText=function(tt){return goog.i18n.bidi.Format.LRE+tt+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(tt){return tt.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(tt){return tt.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(tt,et){var nt=0,rt=0,it=!1;for(tt=goog.i18n.bidi.stripHtmlIfNeeded_(tt,et).split(goog.i18n.bidi.wordSeparatorRe_),et=0;et<tt.length;et++){var ot=tt[et];goog.i18n.bidi.startsWithRtl(ot)?(nt++,rt++):goog.i18n.bidi.isRequiredLtrRe_.test(ot)?it=!0:goog.i18n.bidi.hasAnyLtr(ot)?rt++:goog.i18n.bidi.hasNumeralsRe_.test(ot)&&(it=!0)}return rt==0?it?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:nt/rt>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(tt,et){return goog.i18n.bidi.estimateDirection(tt,et)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(tt,et){tt&&(et=goog.i18n.bidi.toDir(et))&&(tt.style.textAlign=et==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,tt.dir=et==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(tt,et){switch(goog.i18n.bidi.estimateDirection(et)){case goog.i18n.bidi.Dir.LTR:tt.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:tt.dir="rtl";break;default:tt.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(tt,et){var nt=goog.html.TrustedResourceUrl.unwrap(this),rt=(nt=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(nt))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(nt[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",nt[2]||"",tt)+goog.html.TrustedResourceUrl.stringifyParams_("#",rt,et))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(tt){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(tt).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(tt){return tt instanceof goog.html.TrustedResourceUrl&&tt.constructor===goog.html.TrustedResourceUrl&&tt.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(tt){return tt.trustedURL_?tt.trustedURL_:goog.html.TrustedResourceUrl.unwrap(tt)},goog.html.TrustedResourceUrl.format=function(tt,et){var nt=goog.string.Const.unwrap(tt);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(nt))throw Error("Invalid TrustedResourceUrl format: "+nt);return tt=nt.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(rt,it){if(!Object.prototype.hasOwnProperty.call(et,it))throw Error('Found marker, "'+it+'", in format string, "'+nt+'", but no valid label mapping found in args: '+JSON.stringify(et));return(rt=et[it])instanceof goog.string.Const?goog.string.Const.unwrap(rt):encodeURIComponent(String(rt))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(tt,et,nt,rt){return goog.html.TrustedResourceUrl.format(tt,et).cloneWithParams(nt,rt)},goog.html.TrustedResourceUrl.fromConstant=function(tt){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(tt))},goog.html.TrustedResourceUrl.fromConstants=function(tt){for(var et="",nt=0;nt<tt.length;nt++)et+=goog.string.Const.unwrap(tt[nt]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(et)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(tt){var et=new goog.html.TrustedResourceUrl;return et.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(tt):tt,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(et.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(tt)),et},goog.html.TrustedResourceUrl.stringifyParams_=function(tt,et,nt){if(nt==null)return et;if(goog.isString(nt))return nt?tt+encodeURIComponent(nt):"";for(var rt in nt){var it=nt[rt];it=goog.isArray(it)?it:[it];for(var ot=0;ot<it.length;ot++){var at=it[ot];at!=null&&(et||(et=tt),et+=(et.length>tt.length?"&":"")+encodeURIComponent(rt)+"="+encodeURIComponent(String(at)))}}return et},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(tt){return goog.html.SafeUrl.unwrapTrustedURL(tt).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(tt){return tt instanceof goog.html.SafeUrl&&tt.constructor===goog.html.SafeUrl&&tt.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(tt){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(tt))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(tt){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(tt)},goog.html.SafeUrl.fromBlob=function(tt){return tt=goog.html.SAFE_MIME_TYPE_PATTERN_.test(tt.type)?goog.fs.url.createObjectUrl(tt):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(tt){var et=(tt=tt.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return et=et&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(et[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(et?tt:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"tel:")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(tt){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(tt))||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"fb-messenger://share")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.fromWhatsAppUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"whatsapp://send")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.fromSmsUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(tt)||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(tt){var et=tt.indexOf("#");if(0<et&&(tt=tt.substring(0,et)),!(et=tt.match(/[?&]body=/gi)))return!0;if(1<et.length)return!1;if(!(tt=tt.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(tt)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(tt)},goog.html.SafeUrl.fromSshUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"ssh://")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(tt,et){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,tt,et)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(tt,et){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,tt,et)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(tt,et){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,tt,et)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(tt,et,nt){return(tt=tt.exec(et))?(tt=tt[1],(nt instanceof goog.string.Const?[goog.string.Const.unwrap(nt)]:nt.map(function(rt){return goog.string.Const.unwrap(rt)})).indexOf(tt)==-1&&(et=goog.html.SafeUrl.INNOCUOUS_STRING)):et=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(et)},goog.html.SafeUrl.fromTrustedResourceUrl=function(tt){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(tt))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(tt){return tt instanceof goog.html.SafeUrl?tt:(tt=typeof tt=="object"&&tt.implementsGoogStringTypedString?tt.getTypedStringValue():String(tt),goog.html.SAFE_URL_PATTERN_.test(tt)||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(tt,et){return tt instanceof goog.html.SafeUrl?tt:(tt=typeof tt=="object"&&tt.implementsGoogStringTypedString?tt.getTypedStringValue():String(tt),et&&/^data:/i.test(tt)&&(et=goog.html.SafeUrl.fromDataUrl(tt)).getTypedStringValue()==tt?et:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(tt),"%s does not match the safe URL pattern",tt)||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(tt){var et=new goog.html.SafeUrl;return et.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(tt):tt,et},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(tt){return(tt=goog.string.Const.unwrap(tt)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(tt,";"),"Last character of style string is not ';': "+tt),goog.asserts.assert(goog.string.internal.contains(tt,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+tt),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(tt))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(tt){return tt instanceof goog.html.SafeStyle&&tt.constructor===goog.html.SafeStyle&&tt.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(tt){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(tt)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=tt,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(tt){var et,nt="";for(et in tt){if(!/^[-_a-zA-Z0-9]+$/.test(et))throw Error("Name allows only [-_a-zA-Z0-9], got: "+et);var rt=tt[et];rt!=null&&(nt+=et+":"+(rt=goog.isArray(rt)?goog.array.map(rt,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(rt))+";")}return nt?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(nt):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(tt){if(tt instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(tt).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(tt=tt instanceof goog.string.Const?goog.string.Const.unwrap(tt):goog.html.SafeStyle.sanitizePropertyValueString_(String(tt)),/[{;}]/.test(tt))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[tt]);return tt},goog.html.SafeStyle.sanitizePropertyValueString_=function(tt){var et=tt.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(et)?goog.html.SafeStyle.COMMENT_RE_.test(tt)?(goog.asserts.fail("String value disallows comments, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(tt)?goog.html.SafeStyle.hasBalancedSquareBrackets_(tt)?goog.html.SafeStyle.sanitizeUrl_(tt):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(tt){for(var et=!0,nt=!0,rt=0;rt<tt.length;rt++){var it=tt.charAt(rt);it=="'"&&nt?et=!et:it=='"'&&et&&(nt=!nt)}return et&&nt},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(tt){for(var et=!0,nt=/^[-_a-zA-Z0-9]$/,rt=0;rt<tt.length;rt++){var it=tt.charAt(rt);if(it=="]"){if(et)return!1;et=!0}else if(it=="["){if(!et)return!1;et=!1}else if(!et&&!nt.test(it))return!1}return et},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(tt){return tt.replace(goog.html.SafeStyle.URL_RE_,function(et,nt,rt,it){var ot="";return rt=rt.replace(/^(['"])(.*)\1$/,function(at,st,lt){return ot=st,lt}),et=goog.html.SafeUrl.sanitize(rt).getTypedStringValue(),nt+ot+et+ot+it})},goog.html.SafeStyle.concat=function(tt){var et="",nt=function(rt){goog.isArray(rt)?goog.array.forEach(rt,nt):et+=goog.html.SafeStyle.unwrap(rt)};return goog.array.forEach(arguments,nt),et?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(et):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(tt){return(tt=goog.string.Const.unwrap(tt)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeScript.fromConstantAndArgs=function(tt,et){for(var nt=[],rt=1;rt<arguments.length;rt++)nt.push(goog.html.SafeScript.stringify_(arguments[rt]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(tt)+")("+nt.join(", ")+");")},goog.html.SafeScript.fromJson=function(tt){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(tt))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(tt){return goog.html.SafeScript.unwrapTrustedScript(tt).toString()},goog.html.SafeScript.unwrapTrustedScript=function(tt){return tt instanceof goog.html.SafeScript&&tt.constructor===goog.html.SafeScript&&tt.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(tt){return JSON.stringify(tt).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(tt){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(tt)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(tt):tt,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(tt,et){return tt===et?tt!==0||1/tt==1/et:tt!=tt&&et!=et},goog.object.forEach=function(tt,et,nt){for(var rt in tt)et.call(nt,tt[rt],rt,tt)},goog.object.filter=function(tt,et,nt){var rt,it={};for(rt in tt)et.call(nt,tt[rt],rt,tt)&&(it[rt]=tt[rt]);return it},goog.object.map=function(tt,et,nt){var rt,it={};for(rt in tt)it[rt]=et.call(nt,tt[rt],rt,tt);return it},goog.object.some=function(tt,et,nt){for(var rt in tt)if(et.call(nt,tt[rt],rt,tt))return!0;return!1},goog.object.every=function(tt,et,nt){for(var rt in tt)if(!et.call(nt,tt[rt],rt,tt))return!1;return!0},goog.object.getCount=function(tt){var et,nt=0;for(et in tt)nt++;return nt},goog.object.getAnyKey=function(tt){for(var et in tt)return et},goog.object.getAnyValue=function(tt){for(var et in tt)return tt[et]},goog.object.contains=function(tt,et){return goog.object.containsValue(tt,et)},goog.object.getValues=function(tt){var et,nt=[],rt=0;for(et in tt)nt[rt++]=tt[et];return nt},goog.object.getKeys=function(tt){var et,nt=[],rt=0;for(et in tt)nt[rt++]=et;return nt},goog.object.getValueByKeys=function(tt,et){var nt=goog.isArrayLike(et),rt=nt?et:arguments;for(nt=nt?0:1;nt<rt.length;nt++){if(tt==null)return;tt=tt[rt[nt]]}return tt},goog.object.containsKey=function(tt,et){return tt!==null&&et in tt},goog.object.containsValue=function(tt,et){for(var nt in tt)if(tt[nt]==et)return!0;return!1},goog.object.findKey=function(tt,et,nt){for(var rt in tt)if(et.call(nt,tt[rt],rt,tt))return rt},goog.object.findValue=function(tt,et,nt){return(et=goog.object.findKey(tt,et,nt))&&tt[et]},goog.object.isEmpty=function(tt){for(var et in tt)return!1;return!0},goog.object.clear=function(tt){for(var et in tt)delete tt[et]},goog.object.remove=function(tt,et){var nt;return(nt=et in tt)&&delete tt[et],nt},goog.object.add=function(tt,et,nt){if(tt!==null&&et in tt)throw Error('The object already contains the key "'+et+'"');goog.object.set(tt,et,nt)},goog.object.get=function(tt,et,nt){return tt!==null&&et in tt?tt[et]:nt},goog.object.set=function(tt,et,nt){tt[et]=nt},goog.object.setIfUndefined=function(tt,et,nt){return et in tt?tt[et]:tt[et]=nt},goog.object.setWithReturnValueIfNotSet=function(tt,et,nt){return et in tt?tt[et]:(nt=nt(),tt[et]=nt)},goog.object.equals=function(tt,et){for(var nt in tt)if(!(nt in et)||tt[nt]!==et[nt])return!1;for(var rt in et)if(!(rt in tt))return!1;return!0},goog.object.clone=function(tt){var et,nt={};for(et in tt)nt[et]=tt[et];return nt},goog.object.unsafeClone=function(tt){var et=goog.typeOf(tt);if(et=="object"||et=="array"){if(goog.isFunction(tt.clone))return tt.clone();for(var nt in et=et=="array"?[]:{},tt)et[nt]=goog.object.unsafeClone(tt[nt]);return et}return tt},goog.object.transpose=function(tt){var et,nt={};for(et in tt)nt[tt[et]]=et;return nt},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(tt,et){for(var nt,rt,it=1;it<arguments.length;it++){for(nt in rt=arguments[it])tt[nt]=rt[nt];for(var ot=0;ot<goog.object.PROTOTYPE_FIELDS_.length;ot++)nt=goog.object.PROTOTYPE_FIELDS_[ot],Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}},goog.object.create=function(tt){var et=arguments.length;if(et==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(et%2)throw Error("Uneven number of arguments");for(var nt={},rt=0;rt<et;rt+=2)nt[arguments[rt]]=arguments[rt+1];return nt},goog.object.createSet=function(tt){var et=arguments.length;if(et==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var nt={},rt=0;rt<et;rt++)nt[arguments[rt]]=!0;return nt},goog.object.createImmutableView=function(tt){var et=tt;return Object.isFrozen&&!Object.isFrozen(tt)&&(et=Object.create(tt),Object.freeze(et)),et},goog.object.isImmutableView=function(tt){return!!Object.isFrozen&&Object.isFrozen(tt)},goog.object.getAllPropertyNames=function(tt,et,nt){if(!tt)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(tt);for(var rt={};tt&&(tt!==Object.prototype||et)&&(tt!==Function.prototype||nt);){for(var it=Object.getOwnPropertyNames(tt),ot=0;ot<it.length;ot++)rt[it[ot]]=!0;tt=Object.getPrototypeOf(tt)}return goog.object.getKeys(rt)},goog.object.getSuperClass=function(tt){return(tt=Object.getPrototypeOf(tt.prototype))&&tt.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(tt,et){if(goog.string.internal.contains(tt,"<"))throw Error("Selector does not allow '<', got: "+tt);var nt=tt.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(nt))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+tt);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(nt))throw Error("() and [] in selector must be balanced, got: "+tt);return et instanceof goog.html.SafeStyle||(et=goog.html.SafeStyle.create(et)),tt=tt+"{"+goog.html.SafeStyle.unwrap(et).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(tt){for(var et={"(":")","[":"]"},nt=[],rt=0;rt<tt.length;rt++){var it=tt[rt];if(et[it])nt.push(et[it]);else if(goog.object.contains(et,it)&&nt.pop()!=it)return!1}return nt.length==0},goog.html.SafeStyleSheet.concat=function(tt){var et="",nt=function(rt){goog.isArray(rt)?goog.array.forEach(rt,nt):et+=goog.html.SafeStyleSheet.unwrap(rt)};return goog.array.forEach(arguments,nt),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(et)},goog.html.SafeStyleSheet.fromConstant=function(tt){return(tt=goog.string.Const.unwrap(tt)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(tt,"<"),"Forbidden '<' character in style sheet string: "+tt),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(tt))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(tt){return tt instanceof goog.html.SafeStyleSheet&&tt.constructor===goog.html.SafeStyleSheet&&tt.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(tt){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(tt)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=tt,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(tt){return goog.dom.tags.VOID_TAGS_[tt]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(tt){this.tagName_=tt},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var tt=goog.labs.userAgent.util.getNavigator_();return tt&&(tt=tt.userAgent)?tt:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(tt){goog.labs.userAgent.util.userAgent_=tt||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(tt){var et=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(et,tt)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(tt){var et=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(et,tt)},goog.labs.userAgent.util.extractVersionTuples=function(tt){for(var et,nt=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,rt=[];et=nt.exec(tt);)rt.push([et[1],et[2],et[3]||void 0]);return rt},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function tt(it){return it=goog.array.find(it,rt),nt[it]||""}var et=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(et);et=goog.labs.userAgent.util.extractVersionTuples(et);var nt={};goog.array.forEach(et,function(it){nt[it[0]]=it[1]});var rt=goog.partial(goog.object.containsKey,nt);return goog.labs.userAgent.browser.isOpera()?tt(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?tt(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?tt(["Edg"]):goog.labs.userAgent.browser.isChrome()?tt(["Chrome","CriOS"]):(et=et[2])&&et[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(tt){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),tt)},goog.labs.userAgent.browser.getIEVersion_=function(tt){var et=/rv: *([\d\.]*)/.exec(tt);if(et&&et[1])return et[1];et="";var nt=/MSIE +([\d\.]+)/.exec(tt);if(nt&&nt[1])if(tt=/Trident\/(\d.\d)/.exec(tt),nt[1]=="7.0")if(tt&&tt[1])switch(tt[1]){case"4.0":et="8.0";break;case"5.0":et="9.0";break;case"6.0":et="10.0";break;case"7.0":et="11.0"}else et="7.0";else et=nt[1];return et},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(tt){return goog.html.SafeHtml.unwrapTrustedHTML(tt).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(tt){return tt instanceof goog.html.SafeHtml&&tt.constructor===goog.html.SafeHtml&&tt.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(tt){if(tt instanceof goog.html.SafeHtml)return tt;var et=typeof tt=="object",nt=null;return et&&tt.implementsGoogI18nBidiDirectionalString&&(nt=tt.getDirection()),tt=et&&tt.implementsGoogStringTypedString?tt.getTypedStringValue():String(tt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(tt),nt)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(tt){return tt instanceof goog.html.SafeHtml?tt:(tt=goog.html.SafeHtml.htmlEscape(tt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(tt)),tt.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(tt){return tt instanceof goog.html.SafeHtml?tt:(tt=goog.html.SafeHtml.htmlEscape(tt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(tt)),tt.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(tt,et,nt){return goog.html.SafeHtml.verifyTagName(String(tt)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(tt),et,nt)},goog.html.SafeHtml.verifyTagName=function(tt){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(tt))throw Error("Invalid tag name <"+tt+">.");if(tt.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+tt+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(tt,et,nt,rt){tt&&goog.html.TrustedResourceUrl.unwrap(tt);var it={};return it.src=tt||null,it.srcdoc=et&&goog.html.SafeHtml.unwrap(et),tt=goog.html.SafeHtml.combineAttributes(it,{sandbox:""},nt),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",tt,rt)},goog.html.SafeHtml.createSandboxIframe=function(tt,et,nt,rt){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var it={};return it.src=tt?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(tt)):null,it.srcdoc=et||null,it.sandbox="",tt=goog.html.SafeHtml.combineAttributes(it,{},nt),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",tt,rt)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(tt,et){return goog.html.TrustedResourceUrl.unwrap(tt),tt=goog.html.SafeHtml.combineAttributes({src:tt},{},et),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",tt)},goog.html.SafeHtml.createScript=function(tt,et){for(var nt in et){var rt=nt.toLowerCase();if(rt=="language"||rt=="src"||rt=="text"||rt=="type")throw Error('Cannot set "'+rt+'" attribute')}for(nt="",tt=goog.array.concat(tt),rt=0;rt<tt.length;rt++)nt+=goog.html.SafeScript.unwrap(tt[rt]);return tt=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(nt,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",et,tt)},goog.html.SafeHtml.createStyle=function(tt,et){et=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},et);var nt="";tt=goog.array.concat(tt);for(var rt=0;rt<tt.length;rt++)nt+=goog.html.SafeStyleSheet.unwrap(tt[rt]);return tt=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(nt,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",et,tt)},goog.html.SafeHtml.createMetaRefresh=function(tt,et){return tt=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(tt)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(tt,";")&&(tt="'"+tt.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(et||0)+"; url="+tt})},goog.html.SafeHtml.getAttrNameAndValue_=function(tt,et,nt){if(nt instanceof goog.string.Const)nt=goog.string.Const.unwrap(nt);else if(et.toLowerCase()=="style")nt=goog.html.SafeHtml.getStyleValue_(nt);else{if(/^on/i.test(et))throw Error('Attribute "'+et+'" requires goog.string.Const value, "'+nt+'" given.');if(et.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(nt instanceof goog.html.TrustedResourceUrl)nt=goog.html.TrustedResourceUrl.unwrap(nt);else if(nt instanceof goog.html.SafeUrl)nt=goog.html.SafeUrl.unwrap(nt);else{if(!goog.isString(nt))throw Error('Attribute "'+et+'" on tag "'+tt+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+nt+'" given.');nt=goog.html.SafeUrl.sanitize(nt).getTypedStringValue()}}return nt.implementsGoogStringTypedString&&(nt=nt.getTypedStringValue()),goog.asserts.assert(goog.isString(nt)||goog.isNumber(nt),"String or number value expected, got "+typeof nt+" with value: "+nt),et+'="'+goog.string.internal.htmlEscape(String(nt))+'"'},goog.html.SafeHtml.getStyleValue_=function(tt){if(!goog.isObject(tt))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof tt+" given: "+tt);return tt instanceof goog.html.SafeStyle||(tt=goog.html.SafeStyle.create(tt)),goog.html.SafeStyle.unwrap(tt)},goog.html.SafeHtml.createWithDir=function(tt,et,nt,rt){return(et=goog.html.SafeHtml.create(et,nt,rt)).dir_=tt,et},goog.html.SafeHtml.join=function(tt,et){var nt=(tt=goog.html.SafeHtml.htmlEscape(tt)).getDirection(),rt=[],it=function(ot){goog.isArray(ot)?goog.array.forEach(ot,it):(ot=goog.html.SafeHtml.htmlEscape(ot),rt.push(goog.html.SafeHtml.unwrap(ot)),ot=ot.getDirection(),nt==goog.i18n.bidi.Dir.NEUTRAL?nt=ot:ot!=goog.i18n.bidi.Dir.NEUTRAL&&nt!=ot&&(nt=null))};return goog.array.forEach(et,it),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(rt.join(goog.html.SafeHtml.unwrap(tt)),nt)},goog.html.SafeHtml.concat=function(tt){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(tt,et){var nt=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return nt.dir_=tt,nt},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(tt,et){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(tt,et)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt,et){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(tt):tt,this.dir_=et,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(tt,et,nt){var rt=null,it="<"+tt+goog.html.SafeHtml.stringifyAttributes(tt,et);return goog.isDefAndNotNull(nt)?goog.isArray(nt)||(nt=[nt]):nt=[],goog.dom.tags.isVoidTag(tt.toLowerCase())?(goog.asserts.assert(!nt.length,"Void tag <"+tt+"> does not allow content."),it+=">"):(rt=goog.html.SafeHtml.concat(nt),it+=">"+goog.html.SafeHtml.unwrap(rt)+"</"+tt+">",rt=rt.getDirection()),(tt=et&&et.dir)&&(rt=/^(ltr|rtl|auto)$/i.test(tt)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(it,rt)},goog.html.SafeHtml.stringifyAttributes=function(tt,et){var nt="";if(et)for(var rt in et){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(rt))throw Error('Invalid attribute name "'+rt+'".');var it=et[rt];goog.isDefAndNotNull(it)&&(nt+=" "+goog.html.SafeHtml.getAttrNameAndValue_(tt,rt,it))}return nt},goog.html.SafeHtml.combineAttributes=function(tt,et,nt){var rt,it={};for(rt in tt)goog.asserts.assert(rt.toLowerCase()==rt,"Must be lower case"),it[rt]=tt[rt];for(rt in et)goog.asserts.assert(rt.toLowerCase()==rt,"Must be lower case"),it[rt]=et[rt];for(rt in nt){var ot=rt.toLowerCase();if(ot in tt)throw Error('Cannot override "'+ot+'" attribute, got "'+rt+'" with value "'+nt[rt]+'"');ot in et&&delete it[ot],it[rt]=nt[rt]}return it},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(tt,et,nt){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(et,nt||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(et)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(tt){if(goog.asserts.ENABLE_ASSERTS){var et=goog.dom.asserts.getWindow_(tt);et&&(!tt||!(tt instanceof et.Location)&&tt instanceof et.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(tt))}return tt},goog.dom.asserts.assertIsElementType_=function(tt,et){if(goog.asserts.ENABLE_ASSERTS){var nt=goog.dom.asserts.getWindow_(tt);nt&&nt[et]!==void 0&&(tt&&(tt instanceof nt[et]||!(tt instanceof nt.Location||tt instanceof nt.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",et,goog.dom.asserts.debugStringForType_(tt)))}return tt},goog.dom.asserts.assertIsHTMLAnchorElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(tt){if(!goog.isObject(tt))return tt===void 0?"undefined":tt===null?"null":typeof tt;try{return tt.constructor.displayName||tt.constructor.name||Object.prototype.toString.call(tt)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(tt){try{var et=tt&&tt.ownerDocument,nt=et&&(et.defaultView||et.parentWindow);if((nt=nt||goog.global).Element&&nt.Location)return nt}catch{}return null},goog.functions={},goog.functions.constant=function(tt){return function(){return tt}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(tt,et){return tt},goog.functions.error=function(tt){return function(){throw Error(tt)}},goog.functions.fail=function(tt){return function(){throw tt}},goog.functions.lock=function(tt,et){return et=et||0,function(){return tt.apply(this,Array.prototype.slice.call(arguments,0,et))}},goog.functions.nth=function(tt){return function(){return arguments[tt]}},goog.functions.partialRight=function(tt,et){var nt=Array.prototype.slice.call(arguments,1);return function(){var rt=Array.prototype.slice.call(arguments);return rt.push.apply(rt,nt),tt.apply(this,rt)}},goog.functions.withReturnValue=function(tt,et){return goog.functions.sequence(tt,goog.functions.constant(et))},goog.functions.equalTo=function(tt,et){return function(nt){return et?tt==nt:tt===nt}},goog.functions.compose=function(tt,et){var nt=arguments,rt=nt.length;return function(){var it;rt&&(it=nt[rt-1].apply(this,arguments));for(var ot=rt-2;0<=ot;ot--)it=nt[ot].call(this,it);return it}},goog.functions.sequence=function(tt){var et=arguments,nt=et.length;return function(){for(var rt,it=0;it<nt;it++)rt=et[it].apply(this,arguments);return rt}},goog.functions.and=function(tt){var et=arguments,nt=et.length;return function(){for(var rt=0;rt<nt;rt++)if(!et[rt].apply(this,arguments))return!1;return!0}},goog.functions.or=function(tt){var et=arguments,nt=et.length;return function(){for(var rt=0;rt<nt;rt++)if(et[rt].apply(this,arguments))return!0;return!1}},goog.functions.not=function(tt){return function(){return!tt.apply(this,arguments)}},goog.functions.create=function(tt,et){var nt=function(){};return nt.prototype=tt.prototype,nt=new nt,tt.apply(nt,Array.prototype.slice.call(arguments,1)),nt},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(tt){var et,nt=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(nt||(et=tt(),nt=!0),et):tt()}},goog.functions.once=function(tt){var et=tt;return function(){if(et){var nt=et;et=null,nt()}}},goog.functions.debounce=function(tt,et,nt){var rt=0;return function(it){goog.global.clearTimeout(rt);var ot=arguments;rt=goog.global.setTimeout(function(){tt.apply(nt,ot)},et)}},goog.functions.throttle=function(tt,et,nt){var rt=0,it=!1,ot=[],at=function(){rt=0,it&&(it=!1,st())},st=function(){rt=goog.global.setTimeout(at,et),tt.apply(nt,ot)};return function(lt){ot=arguments,rt?it=!0:st()}},goog.functions.rateLimit=function(tt,et,nt){var rt=0,it=function(){rt=0};return function(ot){rt||(rt=goog.global.setTimeout(it,et),tt.apply(nt,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(tt,et,nt){tt.insertAdjacentHTML(et,goog.html.SafeHtml.unwrapTrustedHTML(nt))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document=="undefined")return!1;var tt=document.createElement("div"),et=document.createElement("div");return et.appendChild(document.createElement("div")),tt.appendChild(et),!(goog.DEBUG&&!tt.firstChild)&&(et=tt.firstChild.firstChild,tt.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!et.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(tt,et){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;tt.lastChild;)tt.removeChild(tt.lastChild);tt.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(et)},goog.dom.safe.setInnerHtml=function(tt,et){if(goog.asserts.ENABLE_ASSERTS){var nt=tt.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[nt])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+tt.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(tt,et)},goog.dom.safe.setOuterHtml=function(tt,et){tt.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(et)},goog.dom.safe.setFormElementAction=function(tt,et){et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),goog.dom.asserts.assertIsHTMLFormElement(tt).action=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setButtonFormAction=function(tt,et){et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),goog.dom.asserts.assertIsHTMLButtonElement(tt).formAction=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setInputFormAction=function(tt,et){et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),goog.dom.asserts.assertIsHTMLInputElement(tt).formAction=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setStyle=function(tt,et){tt.style.cssText=goog.html.SafeStyle.unwrap(et)},goog.dom.safe.documentWrite=function(tt,et){tt.write(goog.html.SafeHtml.unwrapTrustedHTML(et))},goog.dom.safe.setAnchorHref=function(tt,et){goog.dom.asserts.assertIsHTMLAnchorElement(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.href=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setImageSrc=function(tt,et){if(goog.dom.asserts.assertIsHTMLImageElement(tt),!(et instanceof goog.html.SafeUrl)){var nt=/^data:image\//i.test(et);et=goog.html.SafeUrl.sanitizeAssertUnchanged(et,nt)}tt.src=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setAudioSrc=function(tt,et){if(goog.dom.asserts.assertIsHTMLAudioElement(tt),!(et instanceof goog.html.SafeUrl)){var nt=/^data:audio\//i.test(et);et=goog.html.SafeUrl.sanitizeAssertUnchanged(et,nt)}tt.src=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setVideoSrc=function(tt,et){if(goog.dom.asserts.assertIsHTMLVideoElement(tt),!(et instanceof goog.html.SafeUrl)){var nt=/^data:video\//i.test(et);et=goog.html.SafeUrl.sanitizeAssertUnchanged(et,nt)}tt.src=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setEmbedSrc=function(tt,et){goog.dom.asserts.assertIsHTMLEmbedElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(et)},goog.dom.safe.setFrameSrc=function(tt,et){goog.dom.asserts.assertIsHTMLFrameElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(et)},goog.dom.safe.setIframeSrc=function(tt,et){goog.dom.asserts.assertIsHTMLIFrameElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(et)},goog.dom.safe.setIframeSrcdoc=function(tt,et){goog.dom.asserts.assertIsHTMLIFrameElement(tt),tt.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(et)},goog.dom.safe.setLinkHrefAndRel=function(tt,et,nt){goog.dom.asserts.assertIsHTMLLinkElement(tt),tt.rel=nt,goog.string.internal.caseInsensitiveContains(nt,"stylesheet")?(goog.asserts.assert(et instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),tt.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(et)):tt.href=et instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(et):et instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(et):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(et))},goog.dom.safe.setObjectData=function(tt,et){goog.dom.asserts.assertIsHTMLObjectElement(tt),tt.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(et)},goog.dom.safe.setScriptSrc=function(tt,et){goog.dom.asserts.assertIsHTMLScriptElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(et),(et=goog.getScriptNonce())&&tt.setAttribute("nonce",et)},goog.dom.safe.setScriptContent=function(tt,et){goog.dom.asserts.assertIsHTMLScriptElement(tt),tt.text=goog.html.SafeScript.unwrapTrustedScript(et),(et=goog.getScriptNonce())&&tt.setAttribute("nonce",et)},goog.dom.safe.setLocationHref=function(tt,et){goog.dom.asserts.assertIsLocation(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.href=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.assignLocation=function(tt,et){goog.dom.asserts.assertIsLocation(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.assign(goog.html.SafeUrl.unwrapTrustedURL(et))},goog.dom.safe.replaceLocation=function(tt,et){goog.dom.asserts.assertIsLocation(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.replace(goog.html.SafeUrl.unwrapTrustedURL(et))},goog.dom.safe.openInWindow=function(tt,et,nt,rt,it){return tt=tt instanceof goog.html.SafeUrl?tt:goog.html.SafeUrl.sanitizeAssertUnchanged(tt),(et||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(tt),nt?goog.string.Const.unwrap(nt):"",rt,it)},goog.dom.safe.parseFromStringHtml=function(tt,et){return goog.dom.safe.parseFromString(tt,et,"text/html")},goog.dom.safe.parseFromString=function(tt,et,nt){return tt.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(et),nt)},goog.dom.safe.createImageFromBlob=function(tt){if(!/^image\/.*/g.test(tt.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var et=goog.global.URL.createObjectURL(tt);return(tt=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(et)},goog.dom.safe.setImageSrc(tt,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),et)),tt},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(tt,et){for(var nt=tt.split("%s"),rt="",it=Array.prototype.slice.call(arguments,1);it.length&&1<nt.length;)rt+=nt.shift()+it.shift();return rt+nt.join("%s")},goog.string.collapseWhitespace=function(tt){return tt.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(tt){return tt.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(tt){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(tt))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(tt){return!/[^\t\n\r ]/.test(tt)},goog.string.isAlpha=function(tt){return!/[^a-zA-Z]/.test(tt)},goog.string.isNumeric=function(tt){return!/[^0-9]/.test(tt)},goog.string.isAlphaNumeric=function(tt){return!/[^a-zA-Z0-9]/.test(tt)},goog.string.isSpace=function(tt){return tt==" "},goog.string.isUnicodeChar=function(tt){return tt.length==1&&" "<=tt&&"~">=tt||"\x80"<=tt&&"\uFFFD">=tt},goog.string.stripNewlines=function(tt){return tt.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(tt){return tt.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(tt){return tt.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(tt){return tt.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(tt){return tt.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(tt){return tt.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(tt){return tt.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(tt,et,nt){if(tt==et)return 0;if(!tt)return-1;if(!et)return 1;for(var rt=tt.toLowerCase().match(nt),it=et.toLowerCase().match(nt),ot=Math.min(rt.length,it.length),at=0;at<ot;at++){nt=rt[at];var st=it[at];if(nt!=st)return tt=parseInt(nt,10),!isNaN(tt)&&(et=parseInt(st,10),!isNaN(et)&&tt-et)?tt-et:nt<st?-1:1}return rt.length!=it.length?rt.length-it.length:tt<et?-1:1},goog.string.intAwareCompare=function(tt,et){return goog.string.numberAwareCompare_(tt,et,/\d+|\D+/g)},goog.string.floatAwareCompare=function(tt,et){return goog.string.numberAwareCompare_(tt,et,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(tt){return encodeURIComponent(String(tt))},goog.string.urlDecode=function(tt){return decodeURIComponent(tt.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(tt,et){return tt=goog.string.internal.htmlEscape(tt,et),goog.string.DETECT_DOUBLE_ESCAPING&&(tt=tt.replace(goog.string.E_RE_,"&#101;")),tt},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(tt){return goog.string.contains(tt,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(tt):goog.string.unescapePureXmlEntities_(tt):tt},goog.string.unescapeEntitiesWithDocument=function(tt,et){return goog.string.contains(tt,"&")?goog.string.unescapeEntitiesUsingDom_(tt,et):tt},goog.string.unescapeEntitiesUsingDom_=function(tt,et){var nt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},rt=et?et.createElement("div"):goog.global.document.createElement("div");return tt.replace(goog.string.HTML_ENTITY_PATTERN_,function(it,ot){var at=nt[it];return at||(ot.charAt(0)=="#"&&(ot=Number("0"+ot.substr(1)),isNaN(ot)||(at=String.fromCharCode(ot))),at||(goog.dom.safe.setInnerHtml(rt,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),it+" ")),at=rt.firstChild.nodeValue.slice(0,-1)),nt[it]=at)})},goog.string.unescapePureXmlEntities_=function(tt){return tt.replace(/&([^;]+);/g,function(et,nt){switch(nt){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return nt.charAt(0)!="#"||(nt=Number("0"+nt.substr(1)),isNaN(nt))?et:String.fromCharCode(nt)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(tt,et){return goog.string.newLineToBr(tt.replace(/  /g," &#160;"),et)},goog.string.preserveSpaces=function(tt){return tt.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(tt,et){for(var nt=et.length,rt=0;rt<nt;rt++){var it=nt==1?et:et.charAt(rt);if(tt.charAt(0)==it&&tt.charAt(tt.length-1)==it)return tt.substring(1,tt.length-1)}return tt},goog.string.truncate=function(tt,et,nt){return nt&&(tt=goog.string.unescapeEntities(tt)),tt.length>et&&(tt=tt.substring(0,et-3)+"..."),nt&&(tt=goog.string.htmlEscape(tt)),tt},goog.string.truncateMiddle=function(tt,et,nt,rt){if(nt&&(tt=goog.string.unescapeEntities(tt)),rt&&tt.length>et){rt>et&&(rt=et);var it=tt.length-rt;tt=tt.substring(0,et-rt)+"..."+tt.substring(it)}else tt.length>et&&(rt=Math.floor(et/2),it=tt.length-rt,tt=tt.substring(0,rt+et%2)+"..."+tt.substring(it));return nt&&(tt=goog.string.htmlEscape(tt)),tt},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(tt){tt=String(tt);for(var et=['"'],nt=0;nt<tt.length;nt++){var rt=tt.charAt(nt),it=rt.charCodeAt(0);et[nt+1]=goog.string.specialEscapeChars_[rt]||(31<it&&127>it?rt:goog.string.escapeChar(rt))}return et.push('"'),et.join("")},goog.string.escapeString=function(tt){for(var et=[],nt=0;nt<tt.length;nt++)et[nt]=goog.string.escapeChar(tt.charAt(nt));return et.join("")},goog.string.escapeChar=function(tt){if(tt in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[tt];if(tt in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[tt]=goog.string.specialEscapeChars_[tt];var et=tt.charCodeAt(0);if(31<et&&127>et)var nt=tt;else 256>et?(nt="\\x",(16>et||256<et)&&(nt+="0")):(nt="\\u",4096>et&&(nt+="0")),nt+=et.toString(16).toUpperCase();return goog.string.jsEscapeCache_[tt]=nt},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(tt,et){return tt&&et?tt.split(et).length-1:0},goog.string.removeAt=function(tt,et,nt){var rt=tt;return 0<=et&&et<tt.length&&0<nt&&(rt=tt.substr(0,et)+tt.substr(et+nt,tt.length-et-nt)),rt},goog.string.remove=function(tt,et){return tt.replace(et,"")},goog.string.removeAll=function(tt,et){return et=new RegExp(goog.string.regExpEscape(et),"g"),tt.replace(et,"")},goog.string.replaceAll=function(tt,et,nt){return et=new RegExp(goog.string.regExpEscape(et),"g"),tt.replace(et,nt.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(tt){return String(tt).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(tt,et){return tt.repeat(et)}:function(tt,et){return Array(et+1).join(tt)},goog.string.padNumber=function(tt,et,nt){return(nt=(tt=goog.isDef(nt)?tt.toFixed(nt):String(tt)).indexOf("."))==-1&&(nt=tt.length),goog.string.repeat("0",Math.max(0,et-nt))+tt},goog.string.makeSafe=function(tt){return tt==null?"":String(tt)},goog.string.buildString=function(tt){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(tt){for(var et=0,nt=0;nt<tt.length;++nt)et=31*et+tt.charCodeAt(nt)>>>0;return et},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(tt){var et=Number(tt);return et==0&&goog.string.isEmptyOrWhitespace(tt)?NaN:et},goog.string.isLowerCamelCase=function(tt){return/^[a-z]+([A-Z][a-z]*)*$/.test(tt)},goog.string.isUpperCamelCase=function(tt){return/^([A-Z][a-z]*)+$/.test(tt)},goog.string.toCamelCase=function(tt){return String(tt).replace(/\-([a-z])/g,function(et,nt){return nt.toUpperCase()})},goog.string.toSelectorCase=function(tt){return String(tt).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(tt,et){return et=goog.isString(et)?goog.string.regExpEscape(et):"\\s",tt.replace(new RegExp("(^"+(et?"|["+et+"]+":"")+")([a-z])","g"),function(nt,rt,it){return rt+it.toUpperCase()})},goog.string.capitalize=function(tt){return String(tt.charAt(0)).toUpperCase()+String(tt.substr(1)).toLowerCase()},goog.string.parseInt=function(tt){return isFinite(tt)&&(tt=String(tt)),goog.isString(tt)?/^\s*-?0x/i.test(tt)?parseInt(tt,16):parseInt(tt,10):NaN},goog.string.splitLimit=function(tt,et,nt){tt=tt.split(et);for(var rt=[];0<nt&&tt.length;)rt.push(tt.shift()),nt--;return tt.length&&rt.push(tt.join(et)),rt},goog.string.lastComponent=function(tt,et){if(!et)return tt;typeof et=="string"&&(et=[et]);for(var nt=-1,rt=0;rt<et.length;rt++)if(et[rt]!=""){var it=tt.lastIndexOf(et[rt]);it>nt&&(nt=it)}return nt==-1?tt:tt.slice(nt+1)},goog.string.editDistance=function(tt,et){var nt=[],rt=[];if(tt==et)return 0;if(!tt.length||!et.length)return Math.max(tt.length,et.length);for(var it=0;it<et.length+1;it++)nt[it]=it;for(it=0;it<tt.length;it++){rt[0]=it+1;for(var ot=0;ot<et.length;ot++)rt[ot+1]=Math.min(rt[ot]+1,nt[ot+1]+1,nt[ot]+Number(tt[it]!=et[ot]));for(ot=0;ot<nt.length;ot++)nt[ot]=rt[ot]}return rt[et.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var tt=goog.labs.userAgent.util.getUserAgent(),et="";return goog.labs.userAgent.platform.isWindows()?et=(tt=(et=/Windows (?:NT|Phone) ([0-9.]+)/).exec(tt))?tt[1]:"0.0":goog.labs.userAgent.platform.isIos()?et=(tt=(et=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(tt))&&tt[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?et=(tt=(et=/Mac OS X ([0-9_.]+)/).exec(tt))?tt[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?et=(tt=(et=/(?:KaiOS)\/(\S+)/i).exec(tt))&&tt[1]:goog.labs.userAgent.platform.isAndroid()?et=(tt=(et=/Android\s+([^\);]+)(\)|;)/).exec(tt))&&tt[1]:goog.labs.userAgent.platform.isChromeOS()&&(et=(tt=(et=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(tt))&&tt[1]),et||""},goog.labs.userAgent.platform.isVersionOrHigher=function(tt){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),tt)},goog.reflect={},goog.reflect.object=function(tt,et){return et},goog.reflect.objectProperty=function(tt,et){return tt},goog.reflect.sinkValue=function(tt){return goog.reflect.sinkValue[" "](tt),tt},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(tt,et){try{return goog.reflect.sinkValue(tt[et]),!0}catch{}return!1},goog.reflect.cache=function(tt,et,nt,rt){return rt=rt?rt(et):et,Object.prototype.hasOwnProperty.call(tt,rt)?tt[rt]:tt[rt]=nt(et)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var tt=goog.labs.userAgent.util.getUserAgent();if(tt){tt=goog.labs.userAgent.util.extractVersionTuples(tt);var et,nt=goog.labs.userAgent.engine.getEngineTuple_(tt);if(nt)return nt[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(tt,"Firefox"):nt[1];if((tt=tt[0])&&(et=tt[2])&&(et=/Trident\/([^\s;]+)/.exec(et)))return et[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(tt){if(!goog.labs.userAgent.engine.isEdge())return tt[1];for(var et=0;et<tt.length;et++){var nt=tt[et];if(nt[0]=="Edge")return nt}},goog.labs.userAgent.engine.isVersionOrHigher=function(tt){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),tt)},goog.labs.userAgent.engine.getVersionForKey_=function(tt,et){return(tt=goog.array.find(tt,function(nt){return et==nt[0]}))&&tt[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var tt=goog.userAgent.getNavigatorTyped();return tt&&tt.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var tt=goog.userAgent.getNavigatorTyped();return!!tt&&goog.string.contains(tt.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var tt="",et=goog.userAgent.getVersionRegexResult_();return et&&(tt=et?et[1]:""),goog.userAgent.IE&&(et=goog.userAgent.getDocumentMode_())!=null&&et>parseFloat(tt)?String(et):tt},goog.userAgent.getVersionRegexResult_=function(){var tt=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(tt):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(tt):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tt):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(tt):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(tt):void 0},goog.userAgent.getDocumentMode_=function(){var tt=goog.global.document;return tt?tt.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(tt,et){return goog.string.compareVersions(tt,et)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(tt){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,tt,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,tt)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(tt){return Number(goog.userAgent.DOCUMENT_MODE)>=tt},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(tt){return goog.string.contains(goog.crypt.base64.paddingChars_,tt)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(tt,et){goog.asserts.assert(goog.isArrayLike(tt),"encodeByteArray takes an array as a parameter"),et===void 0&&(et=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),et=goog.crypt.base64.byteToCharMaps_[et];for(var nt=[],rt=0;rt<tt.length;rt+=3){var it=tt[rt],ot=rt+1<tt.length,at=ot?tt[rt+1]:0,st=rt+2<tt.length,lt=st?tt[rt+2]:0,ct=it>>2;it=(3&it)<<4|at>>4,at=(15&at)<<2|lt>>6,lt&=63,st||(lt=64,ot||(at=64)),nt.push(et[ct],et[it],et[at]||"",et[lt]||"")}return nt.join("")},goog.crypt.base64.encodeString=function(tt,et){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!et?goog.global.btoa(tt):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(tt),et)},goog.crypt.base64.decodeString=function(tt,et){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!et)return goog.global.atob(tt);var nt="";return goog.crypt.base64.decodeStringInternal_(tt,function(rt){nt+=String.fromCharCode(rt)}),nt},goog.crypt.base64.decodeStringToByteArray=function(tt,et){var nt=[];return goog.crypt.base64.decodeStringInternal_(tt,function(rt){nt.push(rt)}),nt},goog.crypt.base64.decodeStringToUint8Array=function(tt){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var et=tt.length,nt=3*et/4;nt%3?nt=Math.floor(nt):goog.crypt.base64.isPadding_(tt[et-1])&&(nt=goog.crypt.base64.isPadding_(tt[et-2])?nt-2:nt-1);var rt=new Uint8Array(nt),it=0;return goog.crypt.base64.decodeStringInternal_(tt,function(ot){rt[it++]=ot}),rt.subarray(0,it)},goog.crypt.base64.decodeStringInternal_=function(tt,et){function nt(lt){for(;rt<tt.length;){var ct=tt.charAt(rt++),ft=goog.crypt.base64.charToByteMap_[ct];if(ft!=null)return ft;if(!goog.string.isEmptyOrWhitespace(ct))throw Error("Unknown base64 encoding at char: "+ct)}return lt}goog.crypt.base64.init_();for(var rt=0;;){var it=nt(-1),ot=nt(0),at=nt(64),st=nt(64);if(st===64&&it===-1)break;et(it<<2|ot>>4),at!=64&&(et(ot<<4&240|at>>2),st!=64&&et(at<<6&192|st))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var tt=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),et=["+/=","+/","-_=","-_.","-_"],nt=0;5>nt;nt++){var rt=tt.concat(et[nt].split(""));goog.crypt.base64.byteToCharMaps_[nt]=rt;for(var it=0;it<rt.length;it++){var ot=rt[it],at=goog.crypt.base64.charToByteMap_[ot];at===void 0?goog.crypt.base64.charToByteMap_[ot]=it:goog.asserts.assert(at===it)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(tt){var et=tt>>>0;tt=Math.floor((tt-et)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=et,jspb.utils.split64High=tt},jspb.utils.splitInt64=function(tt){var et=0>tt,nt=(tt=Math.abs(tt))>>>0;tt=Math.floor((tt-nt)/jspb.BinaryConstants.TWO_TO_32),tt>>>=0,et&&(tt=~tt>>>0,4294967295<(nt=1+(~nt>>>0))&&(nt=0,4294967295<++tt&&(tt=0))),jspb.utils.split64Low=nt,jspb.utils.split64High=tt},jspb.utils.splitZigzag64=function(tt){var et=0>tt;tt=2*Math.abs(tt),jspb.utils.splitUint64(tt),tt=jspb.utils.split64Low;var nt=jspb.utils.split64High;et&&(tt==0?nt==0?nt=tt=4294967295:(nt--,tt=4294967295):tt--),jspb.utils.split64Low=tt,jspb.utils.split64High=nt},jspb.utils.splitFloat32=function(tt){var et=0>tt?1:0;if((tt=et?-tt:tt)===0)0<1/tt?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(tt))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(tt>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(et<<31|2139095040)>>>0;else if(tt<jspb.BinaryConstants.FLOAT32_MIN)tt=Math.round(tt/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(et<<31|tt)>>>0;else{var nt=Math.floor(Math.log(tt)/Math.LN2);tt*=Math.pow(2,-nt),tt=8388607&Math.round(tt*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(et<<31|nt+127<<23|tt)>>>0}},jspb.utils.splitFloat64=function(tt){var et=0>tt?1:0;if((tt=et?-tt:tt)===0)jspb.utils.split64High=0<1/tt?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(tt))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(tt>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(et<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(tt<jspb.BinaryConstants.FLOAT64_MIN){var nt=tt/Math.pow(2,-1074);tt=nt/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(et<<31|tt)>>>0,jspb.utils.split64Low=nt>>>0}else{var rt=0;if(2<=(nt=tt))for(;2<=nt&&1023>rt;)rt++,nt/=2;else for(;1>nt&&-1022<rt;)nt*=2,rt--;tt=(nt=tt*Math.pow(2,-rt))*jspb.BinaryConstants.TWO_TO_20&1048575,nt=nt*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(et<<31|rt+1023<<20|tt)>>>0,jspb.utils.split64Low=nt}},jspb.utils.splitHash64=function(tt){var et=tt.charCodeAt(0),nt=tt.charCodeAt(1),rt=tt.charCodeAt(2),it=tt.charCodeAt(3),ot=tt.charCodeAt(4),at=tt.charCodeAt(5),st=tt.charCodeAt(6);tt=tt.charCodeAt(7),jspb.utils.split64Low=et+(nt<<8)+(rt<<16)+(it<<24)>>>0,jspb.utils.split64High=ot+(at<<8)+(st<<16)+(tt<<24)>>>0},jspb.utils.joinUint64=function(tt,et){return et*jspb.BinaryConstants.TWO_TO_32+(tt>>>0)},jspb.utils.joinInt64=function(tt,et){var nt=2147483648&et;return nt&&(et=~et>>>0,(tt=1+~tt>>>0)==0&&(et=et+1>>>0)),tt=jspb.utils.joinUint64(tt,et),nt?-tt:tt},jspb.utils.toZigzag64=function(tt,et,nt){var rt=et>>31;return nt(tt<<1^rt,(et<<1|tt>>>31)^rt)},jspb.utils.joinZigzag64=function(tt,et){return jspb.utils.fromZigzag64(tt,et,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(tt,et,nt){var rt=-(1&tt);return nt((tt>>>1|et<<31)^rt,et>>>1^rt)},jspb.utils.joinFloat32=function(tt,et){et=2*(tt>>31)+1;var nt=tt>>>23&255;return tt&=8388607,nt==255?tt?NaN:1/0*et:nt==0?et*Math.pow(2,-149)*tt:et*Math.pow(2,nt-150)*(tt+Math.pow(2,23))},jspb.utils.joinFloat64=function(tt,et){var nt=2*(et>>31)+1,rt=et>>>20&2047;return tt=jspb.BinaryConstants.TWO_TO_32*(1048575&et)+tt,rt==2047?tt?NaN:1/0*nt:rt==0?nt*Math.pow(2,-1074)*tt:nt*Math.pow(2,rt-1075)*(tt+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(tt,et){return String.fromCharCode(tt>>>0&255,tt>>>8&255,tt>>>16&255,tt>>>24&255,et>>>0&255,et>>>8&255,et>>>16&255,et>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(tt,et){function nt(it,ot){return it=it?String(it):"",ot?"0000000".slice(it.length)+it:it}if(2097151>=et)return""+(jspb.BinaryConstants.TWO_TO_32*et+tt);var rt=(tt>>>24|et<<8)>>>0&16777215;return tt=(16777215&tt)+6777216*rt+6710656*(et=et>>16&65535),rt+=8147497*et,et*=2,1e7<=tt&&(rt+=Math.floor(tt/1e7),tt%=1e7),1e7<=rt&&(et+=Math.floor(rt/1e7),rt%=1e7),nt(et,0)+nt(rt,et)+nt(tt,1)},jspb.utils.joinSignedDecimalString=function(tt,et){var nt=2147483648&et;return nt&&(et=~et+((tt=1+~tt>>>0)==0?1:0)>>>0),tt=jspb.utils.joinUnsignedDecimalString(tt,et),nt?"-"+tt:tt},jspb.utils.hash64ToDecimalString=function(tt,et){jspb.utils.splitHash64(tt),tt=jspb.utils.split64Low;var nt=jspb.utils.split64High;return et?jspb.utils.joinSignedDecimalString(tt,nt):jspb.utils.joinUnsignedDecimalString(tt,nt)},jspb.utils.hash64ArrayToDecimalStrings=function(tt,et){for(var nt=Array(tt.length),rt=0;rt<tt.length;rt++)nt[rt]=jspb.utils.hash64ToDecimalString(tt[rt],et);return nt},jspb.utils.decimalStringToHash64=function(tt){function et(ot,at){for(var st=0;8>st&&(ot!==1||0<at);st++)at=ot*rt[st]+at,rt[st]=255&at,at>>>=8}goog.asserts.assert(0<tt.length);var nt=!1;tt[0]==="-"&&(nt=!0,tt=tt.slice(1));for(var rt=[0,0,0,0,0,0,0,0],it=0;it<tt.length;it++)et(10,tt.charCodeAt(it)-jspb.utils.ZERO_CHAR_CODE_);return nt&&(function(){for(var ot=0;8>ot;ot++)rt[ot]=255&~rt[ot]}(),et(1,1)),goog.crypt.byteArrayToString(rt)},jspb.utils.splitDecimalString=function(tt){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(tt))},jspb.utils.toHexDigit_=function(tt){return String.fromCharCode(10>tt?jspb.utils.ZERO_CHAR_CODE_+tt:jspb.utils.A_CHAR_CODE_-10+tt)},jspb.utils.fromHexCharCode_=function(tt){return tt>=jspb.utils.A_CHAR_CODE_?tt-jspb.utils.A_CHAR_CODE_+10:tt-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(tt){var et=Array(18);et[0]="0",et[1]="x";for(var nt=0;8>nt;nt++){var rt=tt.charCodeAt(7-nt);et[2*nt+2]=jspb.utils.toHexDigit_(rt>>4),et[2*nt+3]=jspb.utils.toHexDigit_(15&rt)}return et.join("")},jspb.utils.hexStringToHash64=function(tt){tt=tt.toLowerCase(),goog.asserts.assert(tt.length==18),goog.asserts.assert(tt[0]=="0"),goog.asserts.assert(tt[1]=="x");for(var et="",nt=0;8>nt;nt++){var rt=jspb.utils.fromHexCharCode_(tt.charCodeAt(2*nt+2)),it=jspb.utils.fromHexCharCode_(tt.charCodeAt(2*nt+3));et=String.fromCharCode(16*rt+it)+et}return et},jspb.utils.hash64ToNumber=function(tt,et){jspb.utils.splitHash64(tt),tt=jspb.utils.split64Low;var nt=jspb.utils.split64High;return et?jspb.utils.joinInt64(tt,nt):jspb.utils.joinUint64(tt,nt)},jspb.utils.numberToHash64=function(tt){return jspb.utils.splitInt64(tt),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(tt,et,nt){for(var rt=0,it=et;it<nt;it++)rt+=tt[it]>>7;return nt-et-rt},jspb.utils.countVarintFields=function(tt,et,nt,rt){var it=0;if(128>(rt=8*rt+jspb.BinaryConstants.WireType.VARINT))for(;et<nt&&tt[et++]==rt;)for(it++;;){var ot=tt[et++];if((128&ot)==0)break}else for(;et<nt;){for(ot=rt;128<ot;){if(tt[et]!=(127&ot|128))return it;et++,ot>>=7}if(tt[et++]!=ot)break;for(it++;(128&(ot=tt[et++]))!=0;);}return it},jspb.utils.countFixedFields_=function(tt,et,nt,rt,it){var ot=0;if(128>rt)for(;et<nt&&tt[et++]==rt;)ot++,et+=it;else for(;et<nt;){for(var at=rt;128<at;){if(tt[et++]!=(127&at|128))return ot;at>>=7}if(tt[et++]!=at)break;ot++,et+=it}return ot},jspb.utils.countFixed32Fields=function(tt,et,nt,rt){return jspb.utils.countFixedFields_(tt,et,nt,8*rt+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(tt,et,nt,rt){return jspb.utils.countFixedFields_(tt,et,nt,8*rt+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(tt,et,nt,rt){var it=0;for(rt=8*rt+jspb.BinaryConstants.WireType.DELIMITED;et<nt;){for(var ot=rt;128<ot;){if(tt[et++]!=(127&ot|128))return it;ot>>=7}if(tt[et++]!=ot)break;it++;for(var at=0,st=1;at+=(127&(ot=tt[et++]))*st,st*=128,(128&ot)!=0;);et+=at}return it},jspb.utils.debugBytesToTextFormat=function(tt){var et='"';if(tt){tt=jspb.utils.byteSourceToUint8Array(tt);for(var nt=0;nt<tt.length;nt++)et+="\\x",16>tt[nt]&&(et+="0"),et+=tt[nt].toString(16)}return et+'"'},jspb.utils.debugScalarToTextFormat=function(tt){return typeof tt=="string"?goog.string.quote(tt):tt.toString()},jspb.utils.stringToByteArray=function(tt){for(var et=new Uint8Array(tt.length),nt=0;nt<tt.length;nt++){var rt=tt.charCodeAt(nt);if(255<rt)throw Error("Conversion error: string contains codepoint outside of byte range");et[nt]=rt}return et},jspb.utils.byteSourceToUint8Array=function(tt){return tt.constructor===Uint8Array?tt:tt.constructor===ArrayBuffer||Buffer!==void 0&&tt.constructor===Buffer||tt.constructor===Array?new Uint8Array(tt):tt.constructor===String?goog.crypt.base64.decodeStringToUint8Array(tt):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(tt,et,nt){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,tt&&this.setBlock(tt,et,nt)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(tt,et,nt){if(jspb.BinaryDecoder.instanceCache_.length){var rt=jspb.BinaryDecoder.instanceCache_.pop();return tt&&rt.setBlock(tt,et,nt),rt}return new jspb.BinaryDecoder(tt,et,nt)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(tt,et,nt){this.bytes_=jspb.utils.byteSourceToUint8Array(tt),this.start_=et!==void 0?et:0,this.end_=nt!==void 0?this.start_+nt:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(tt){this.end_=tt},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(tt){this.cursor_=tt},jspb.BinaryDecoder.prototype.advance=function(tt){this.cursor_+=tt,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(tt){for(var et=128,nt=0,rt=0,it=0;4>it&&128<=et;it++)nt|=(127&(et=this.bytes_[this.cursor_++]))<<7*it;if(128<=et&&(nt|=(127&(et=this.bytes_[this.cursor_++]))<<28,rt|=(127&et)>>4),128<=et)for(it=0;5>it&&128<=et;it++)rt|=(127&(et=this.bytes_[this.cursor_++]))<<7*it+3;if(128>et)return tt(nt>>>0,rt>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(tt){return this.readSplitVarint64(function(et,nt){return jspb.utils.fromZigzag64(et,nt,tt)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(tt){var et=this.bytes_,nt=this.cursor_;this.cursor_+=8;for(var rt=0,it=0,ot=nt+7;ot>=nt;ot--)rt=rt<<8|et[ot],it=it<<8|et[ot+4];return tt(rt,it)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(tt){for(;128<tt;)this.cursor_--,tt>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var tt=this.bytes_,et=tt[this.cursor_+0],nt=127&et;return 128>et?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(127&(et=tt[this.cursor_+1]))<<7,128>et?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(127&(et=tt[this.cursor_+2]))<<14,128>et?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(127&(et=tt[this.cursor_+3]))<<21,128>et?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(15&(et=tt[this.cursor_+4]))<<28,128>et?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),nt>>>0):(this.cursor_+=5,128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),nt)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var tt=this.readUnsignedVarint32();return tt>>>1^-(1&tt)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var tt=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),tt},jspb.BinaryDecoder.prototype.readUint16=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),tt<<0|et<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1],nt=this.bytes_[this.cursor_+2],rt=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(tt<<0|et<<8|nt<<16|rt<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinUint64(tt,et)},jspb.BinaryDecoder.prototype.readUint64String=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinUnsignedDecimalString(tt,et)},jspb.BinaryDecoder.prototype.readInt8=function(){var tt=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),tt<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(tt<<0|et<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1],nt=this.bytes_[this.cursor_+2],rt=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),tt<<0|et<<8|nt<<16|rt<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinInt64(tt,et)},jspb.BinaryDecoder.prototype.readInt64String=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinSignedDecimalString(tt,et)},jspb.BinaryDecoder.prototype.readFloat=function(){var tt=this.readUint32();return jspb.utils.joinFloat32(tt,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinFloat64(tt,et)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(tt){var et=this.bytes_,nt=this.cursor_;tt=nt+tt;for(var rt=[],it="";nt<tt;){var ot=et[nt++];if(128>ot)rt.push(ot);else{if(192>ot)continue;if(224>ot){var at=et[nt++];rt.push((31&ot)<<6|63&at)}else if(240>ot){at=et[nt++];var st=et[nt++];rt.push((15&ot)<<12|(63&at)<<6|63&st)}else 248>ot&&(ot=(7&ot)<<18|(63&(at=et[nt++]))<<12|(63&(st=et[nt++]))<<6|63&et[nt++],ot-=65536,rt.push(55296+(ot>>10&1023),56320+(1023&ot)))}8192<=rt.length&&(it+=String.fromCharCode.apply(null,rt),rt.length=0)}return it+=goog.crypt.byteArrayToString(rt),this.cursor_=nt,it},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var tt=this.readUnsignedVarint32();return this.readString(tt)},jspb.BinaryDecoder.prototype.readBytes=function(tt){if(0>tt||this.cursor_+tt>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var et=this.bytes_.subarray(this.cursor_,this.cursor_+tt);return this.cursor_+=tt,goog.asserts.assert(this.cursor_<=this.end_),et},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var tt=this.bytes_,et=this.cursor_,nt=tt[et+0],rt=tt[et+1],it=tt[et+2],ot=tt[et+3],at=tt[et+4],st=tt[et+5],lt=tt[et+6];return tt=tt[et+7],this.cursor_+=8,String.fromCharCode(nt,rt,it,ot,at,st,lt,tt)},jspb.BinaryReader=function(tt,et,nt){this.decoder_=jspb.BinaryDecoder.alloc(tt,et,nt),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(tt,et,nt){if(jspb.BinaryReader.instanceCache_.length){var rt=jspb.BinaryReader.instanceCache_.pop();return tt&&rt.decoder_.setBlock(tt,et,nt),rt}return new jspb.BinaryReader(tt,et,nt)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(tt,et,nt){this.decoder_.setBlock(tt,et,nt),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(tt){this.decoder_.advance(tt)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var tt=this.decoder_.readUnsignedVarint32(),et=tt>>>3;return(tt&=7)!=jspb.BinaryConstants.WireType.VARINT&&tt!=jspb.BinaryConstants.WireType.FIXED32&&tt!=jspb.BinaryConstants.WireType.FIXED64&&tt!=jspb.BinaryConstants.WireType.DELIMITED&&tt!=jspb.BinaryConstants.WireType.START_GROUP&&tt!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",tt,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=et,this.nextWireType_=tt,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var tt=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==tt;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var tt=this.decoder_.readUnsignedVarint32();this.decoder_.advance(tt)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var tt=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=tt&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(tt,et){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[tt]),this.readCallbacks_[tt]=et},jspb.BinaryReader.prototype.runReadCallback=function(tt){return goog.asserts.assert(this.readCallbacks_!==null),tt=this.readCallbacks_[tt],goog.asserts.assert(tt),tt(this)},jspb.BinaryReader.prototype.readAny=function(tt){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(tt);var et=jspb.BinaryConstants.FieldType;switch(tt){case et.DOUBLE:return this.readDouble();case et.FLOAT:return this.readFloat();case et.INT64:return this.readInt64();case et.UINT64:return this.readUint64();case et.INT32:return this.readInt32();case et.FIXED64:return this.readFixed64();case et.FIXED32:return this.readFixed32();case et.BOOL:return this.readBool();case et.STRING:return this.readString();case et.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case et.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case et.BYTES:return this.readBytes();case et.UINT32:return this.readUint32();case et.ENUM:return this.readEnum();case et.SFIXED32:return this.readSfixed32();case et.SFIXED64:return this.readSfixed64();case et.SINT32:return this.readSint32();case et.SINT64:return this.readSint64();case et.FHASH64:return this.readFixedHash64();case et.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(tt,et){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var nt=this.decoder_.getEnd(),rt=this.decoder_.readUnsignedVarint32();rt=this.decoder_.getCursor()+rt,this.decoder_.setEnd(rt),et(tt,this),this.decoder_.setCursor(rt),this.decoder_.setEnd(nt)},jspb.BinaryReader.prototype.readGroup=function(tt,et,nt){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==tt),nt(et,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var tt=this.decoder_.readUnsignedVarint32(),et=this.decoder_.getCursor(),nt=et+tt;return tt=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),et,tt),this.decoder_.setCursor(nt),tt},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var tt=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(tt)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var tt=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(tt)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(tt){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(tt)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(tt){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(et,nt){return jspb.utils.fromZigzag64(et,nt,tt)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(tt){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(tt)},jspb.BinaryReader.prototype.readPackedField_=function(tt){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var et=this.decoder_.readUnsignedVarint32();et=this.decoder_.getCursor()+et;for(var nt=[];this.decoder_.getCursor()<et;)nt.push(tt.call(this.decoder_));return nt},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(tt,et){this.arr_=tt,this.valueCtor_=et,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var tt=0;tt<this.arr_.length;tt++){var et=this.arr_[tt],nt=et[0];this.map_[nt.toString()]=new jspb.Map.Entry_(nt,et[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var tt,et=this.map_;for(tt in et)if(Object.prototype.hasOwnProperty.call(et,tt)){var nt=et[tt].valueWrapper;nt&&nt.toArray()}}}else{for(this.arr_.length=0,(et=this.stringKeys_()).sort(),tt=0;tt<et.length;tt++){var rt=this.map_[et[tt]];(nt=rt.valueWrapper)&&nt.toArray(),this.arr_.push([rt.key,rt.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(tt,et){for(var nt=this.toArray(),rt=[],it=0;it<nt.length;it++){var ot=this.map_[nt[it][0].toString()];this.wrapEntry_(ot);var at=ot.valueWrapper;at?(goog.asserts.assert(et),rt.push([ot.key,et(tt,at)])):rt.push([ot.key,ot.value])}return rt},jspb.Map.fromObject=function(tt,et,nt){et=new jspb.Map([],et);for(var rt=0;rt<tt.length;rt++){var it=tt[rt][0],ot=nt(tt[rt][1]);et.set(it,ot)}return et},jspb.Map.ArrayIteratorIterable_=function(tt){this.idx_=0,this.arr_=tt},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol!="undefined"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(tt){tt=tt.toString();var et=this.map_.hasOwnProperty(tt);return delete this.map_[tt],this.arrClean=!1,et},jspb.Map.prototype.getEntryList=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++){var rt=this.map_[et[nt]];tt.push([rt.key,rt.value])}return tt},jspb.Map.prototype.entries=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++){var rt=this.map_[et[nt]];tt.push([rt.key,this.wrapEntry_(rt)])}return new jspb.Map.ArrayIteratorIterable_(tt)},jspb.Map.prototype.keys=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++)tt.push(this.map_[et[nt]].key);return new jspb.Map.ArrayIteratorIterable_(tt)},jspb.Map.prototype.values=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++)tt.push(this.wrapEntry_(this.map_[et[nt]]));return new jspb.Map.ArrayIteratorIterable_(tt)},jspb.Map.prototype.forEach=function(tt,et){var nt=this.stringKeys_();nt.sort();for(var rt=0;rt<nt.length;rt++){var it=this.map_[nt[rt]];tt.call(et,this.wrapEntry_(it),it.key,this)}},jspb.Map.prototype.set=function(tt,et){var nt=new jspb.Map.Entry_(tt);return this.valueCtor_?(nt.valueWrapper=et,nt.value=et.toArray()):nt.value=et,this.map_[tt.toString()]=nt,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(tt){return this.valueCtor_?(tt.valueWrapper||(tt.valueWrapper=new this.valueCtor_(tt.value)),tt.valueWrapper):tt.value},jspb.Map.prototype.get=function(tt){if(tt=this.map_[tt.toString()])return this.wrapEntry_(tt)},jspb.Map.prototype.has=function(tt){return tt.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(tt,et,nt,rt,it){var ot=this.stringKeys_();ot.sort();for(var at=0;at<ot.length;at++){var st=this.map_[ot[at]];et.beginSubMessage(tt),nt.call(et,1,st.key),this.valueCtor_?rt.call(et,2,this.wrapEntry_(st),it):rt.call(et,2,st.value),et.endSubMessage()}},jspb.Map.deserializeBinary=function(tt,et,nt,rt,it,ot,at){for(;et.nextField()&&!et.isEndGroup();){var st=et.getFieldNumber();st==1?ot=nt.call(et):st==2&&(tt.valueCtor_?(goog.asserts.assert(it),at||(at=new tt.valueCtor_),rt.call(et,at,it)):at=rt.call(et))}goog.asserts.assert(ot!=null),goog.asserts.assert(at!=null),tt.set(ot,at)},jspb.Map.prototype.stringKeys_=function(){var tt,et=this.map_,nt=[];for(tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&nt.push(tt);return nt},jspb.Map.Entry_=function(tt,et){this.key=tt,this.value=et,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(tt,et,nt,rt,it){this.fieldIndex=tt,this.fieldName=et,this.ctor=nt,this.toObjectFn=rt,this.isRepeated=it},jspb.ExtensionFieldBinaryInfo=function(tt,et,nt,rt,it,ot){this.fieldInfo=tt,this.binaryReaderFn=et,this.binaryWriterFn=nt,this.binaryMessageSerializeFn=rt,this.binaryMessageDeserializeFn=it,this.isPacked=ot},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(tt,et){return et+tt.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(tt,et){return et-tt.arrayIndexOffset_},jspb.Message.initialize=function(tt,et,nt,rt,it,ot){if(tt.wrappers_=null,et||(et=nt?[nt]:[]),tt.messageId_=nt?String(nt):void 0,tt.arrayIndexOffset_=nt===0?-1:0,tt.array=et,jspb.Message.initPivotAndExtensionObject_(tt,rt),tt.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(tt.repeatedFields=it),it)for(et=0;et<it.length;et++)(nt=it[et])<tt.pivot_?(nt=jspb.Message.getIndex_(tt,nt),tt.array[nt]=tt.array[nt]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(tt),tt.extensionObject_[nt]=tt.extensionObject_[nt]||jspb.Message.EMPTY_LIST_SENTINEL_);if(ot&&ot.length)for(et=0;et<ot.length;et++)jspb.Message.computeOneofCase(tt,ot[et])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(tt){return jspb.Message.ASSUME_LOCAL_ARRAYS?tt instanceof Array:Array.isArray(tt)},jspb.Message.isExtensionObject_=function(tt){return!(tt===null||typeof tt!="object"||jspb.Message.isArray_(tt)||jspb.Message.SUPPORTS_UINT8ARRAY_&&tt instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(tt,et){var nt=tt.array.length,rt=-1;if(nt&&(rt=nt-1,nt=tt.array[rt],jspb.Message.isExtensionObject_(nt)))return tt.pivot_=jspb.Message.getFieldNumber_(tt,rt),void(tt.extensionObject_=nt);-1<et?(tt.pivot_=Math.max(et,jspb.Message.getFieldNumber_(tt,rt+1)),tt.extensionObject_=null):tt.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(tt){var et=jspb.Message.getIndex_(tt,tt.pivot_);tt.array[et]||(tt.extensionObject_=tt.array[et]={})},jspb.Message.toObjectList=function(tt,et,nt){for(var rt=[],it=0;it<tt.length;it++)rt[it]=et.call(tt[it],nt,tt[it]);return rt},jspb.Message.toObjectExtension=function(tt,et,nt,rt,it){for(var ot in nt){var at=nt[ot],st=rt.call(tt,at);if(st!=null){for(var lt in at.fieldName)if(at.fieldName.hasOwnProperty(lt))break;et[lt]=at.toObjectFn?at.isRepeated?jspb.Message.toObjectList(st,at.toObjectFn,it):at.toObjectFn(it,st):st}}},jspb.Message.serializeBinaryExtensions=function(tt,et,nt,rt){for(var it in nt){var ot=nt[it],at=ot.fieldInfo;if(!ot.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var st=rt.call(tt,at);if(st!=null)if(at.isMessageType()){if(!ot.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");ot.binaryWriterFn.call(et,at.fieldIndex,st,ot.binaryMessageSerializeFn)}else ot.binaryWriterFn.call(et,at.fieldIndex,st)}},jspb.Message.readBinaryExtension=function(tt,et,nt,rt,it){var ot=nt[et.getFieldNumber()];if(ot){if(nt=ot.fieldInfo,!ot.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(nt.isMessageType()){var at=new nt.ctor;ot.binaryReaderFn.call(et,at,ot.binaryMessageDeserializeFn)}else at=ot.binaryReaderFn.call(et);nt.isRepeated&&!ot.isPacked?(et=rt.call(tt,nt))?et.push(at):it.call(tt,nt,[at]):it.call(tt,nt,at)}else et.skipField()},jspb.Message.getField=function(tt,et){if(et<tt.pivot_){et=jspb.Message.getIndex_(tt,et);var nt=tt.array[et];return nt===jspb.Message.EMPTY_LIST_SENTINEL_?tt.array[et]=[]:nt}if(tt.extensionObject_)return(nt=tt.extensionObject_[et])===jspb.Message.EMPTY_LIST_SENTINEL_?tt.extensionObject_[et]=[]:nt},jspb.Message.getRepeatedField=function(tt,et){return jspb.Message.getField(tt,et)},jspb.Message.getOptionalFloatingPointField=function(tt,et){return(tt=jspb.Message.getField(tt,et))==null?tt:+tt},jspb.Message.getBooleanField=function(tt,et){return(tt=jspb.Message.getField(tt,et))==null?tt:!!tt},jspb.Message.getRepeatedFloatingPointField=function(tt,et){var nt=jspb.Message.getRepeatedField(tt,et);if(tt.convertedPrimitiveFields_||(tt.convertedPrimitiveFields_={}),!tt.convertedPrimitiveFields_[et]){for(var rt=0;rt<nt.length;rt++)nt[rt]=+nt[rt];tt.convertedPrimitiveFields_[et]=!0}return nt},jspb.Message.getRepeatedBooleanField=function(tt,et){var nt=jspb.Message.getRepeatedField(tt,et);if(tt.convertedPrimitiveFields_||(tt.convertedPrimitiveFields_={}),!tt.convertedPrimitiveFields_[et]){for(var rt=0;rt<nt.length;rt++)nt[rt]=!!nt[rt];tt.convertedPrimitiveFields_[et]=!0}return nt},jspb.Message.bytesAsB64=function(tt){return tt==null||typeof tt=="string"?tt:jspb.Message.SUPPORTS_UINT8ARRAY_&&tt instanceof Uint8Array?goog.crypt.base64.encodeByteArray(tt):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(tt)),null)},jspb.Message.bytesAsU8=function(tt){return tt==null||tt instanceof Uint8Array?tt:typeof tt=="string"?goog.crypt.base64.decodeStringToUint8Array(tt):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(tt)),null)},jspb.Message.bytesListAsB64=function(tt){return jspb.Message.assertConsistentTypes_(tt),tt.length&&typeof tt[0]!="string"?goog.array.map(tt,jspb.Message.bytesAsB64):tt},jspb.Message.bytesListAsU8=function(tt){return jspb.Message.assertConsistentTypes_(tt),!tt.length||tt[0]instanceof Uint8Array?tt:goog.array.map(tt,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(tt){if(goog.DEBUG&&tt&&1<tt.length){var et=goog.typeOf(tt[0]);goog.array.forEach(tt,function(nt){goog.typeOf(nt)!=et&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(nt)+" expected "+et)})}},jspb.Message.getFieldWithDefault=function(tt,et,nt){return(tt=jspb.Message.getField(tt,et))==null?nt:tt},jspb.Message.getBooleanFieldWithDefault=function(tt,et,nt){return(tt=jspb.Message.getBooleanField(tt,et))==null?nt:tt},jspb.Message.getFloatingPointFieldWithDefault=function(tt,et,nt){return(tt=jspb.Message.getOptionalFloatingPointField(tt,et))==null?nt:tt},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(tt,et,nt,rt){if(tt.wrappers_||(tt.wrappers_={}),et in tt.wrappers_)return tt.wrappers_[et];var it=jspb.Message.getField(tt,et);if(!it){if(nt)return;it=[],jspb.Message.setField(tt,et,it)}return tt.wrappers_[et]=new jspb.Map(it,rt)},jspb.Message.setField=function(tt,et,nt){return goog.asserts.assertInstanceof(tt,jspb.Message),et<tt.pivot_?tt.array[jspb.Message.getIndex_(tt,et)]=nt:(jspb.Message.maybeInitEmptyExtensionObject_(tt),tt.extensionObject_[et]=nt),tt},jspb.Message.setProto3IntField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,0)},jspb.Message.setProto3FloatField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,0)},jspb.Message.setProto3BooleanField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,!1)},jspb.Message.setProto3StringField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,"")},jspb.Message.setProto3BytesField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,"")},jspb.Message.setProto3EnumField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,0)},jspb.Message.setProto3StringIntField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,"0")},jspb.Message.setFieldIgnoringDefault_=function(tt,et,nt,rt){return goog.asserts.assertInstanceof(tt,jspb.Message),nt!==rt?jspb.Message.setField(tt,et,nt):et<tt.pivot_?tt.array[jspb.Message.getIndex_(tt,et)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(tt),delete tt.extensionObject_[et]),tt},jspb.Message.addToRepeatedField=function(tt,et,nt,rt){return goog.asserts.assertInstanceof(tt,jspb.Message),et=jspb.Message.getRepeatedField(tt,et),rt!=null?et.splice(rt,0,nt):et.push(nt),tt},jspb.Message.setOneofField=function(tt,et,nt,rt){return goog.asserts.assertInstanceof(tt,jspb.Message),(nt=jspb.Message.computeOneofCase(tt,nt))&&nt!==et&&rt!==void 0&&(tt.wrappers_&&nt in tt.wrappers_&&(tt.wrappers_[nt]=void 0),jspb.Message.setField(tt,nt,void 0)),jspb.Message.setField(tt,et,rt)},jspb.Message.computeOneofCase=function(tt,et){for(var nt,rt,it=0;it<et.length;it++){var ot=et[it],at=jspb.Message.getField(tt,ot);at!=null&&(nt=ot,rt=at,jspb.Message.setField(tt,ot,void 0))}return nt?(jspb.Message.setField(tt,nt,rt),nt):0},jspb.Message.getWrapperField=function(tt,et,nt,rt){if(tt.wrappers_||(tt.wrappers_={}),!tt.wrappers_[nt]){var it=jspb.Message.getField(tt,nt);(rt||it)&&(tt.wrappers_[nt]=new et(it))}return tt.wrappers_[nt]},jspb.Message.getRepeatedWrapperField=function(tt,et,nt){return jspb.Message.wrapRepeatedField_(tt,et,nt),(et=tt.wrappers_[nt])==jspb.Message.EMPTY_LIST_SENTINEL_&&(et=tt.wrappers_[nt]=[]),et},jspb.Message.wrapRepeatedField_=function(tt,et,nt){if(tt.wrappers_||(tt.wrappers_={}),!tt.wrappers_[nt]){for(var rt=jspb.Message.getRepeatedField(tt,nt),it=[],ot=0;ot<rt.length;ot++)it[ot]=new et(rt[ot]);tt.wrappers_[nt]=it}},jspb.Message.setWrapperField=function(tt,et,nt){goog.asserts.assertInstanceof(tt,jspb.Message),tt.wrappers_||(tt.wrappers_={});var rt=nt&&nt.toArray();return tt.wrappers_[et]=nt,jspb.Message.setField(tt,et,rt)},jspb.Message.setOneofWrapperField=function(tt,et,nt,rt){goog.asserts.assertInstanceof(tt,jspb.Message),tt.wrappers_||(tt.wrappers_={});var it=rt&&rt.toArray();return tt.wrappers_[et]=rt,jspb.Message.setOneofField(tt,et,nt,it)},jspb.Message.setRepeatedWrapperField=function(tt,et,nt){goog.asserts.assertInstanceof(tt,jspb.Message),tt.wrappers_||(tt.wrappers_={}),nt=nt||[];for(var rt=[],it=0;it<nt.length;it++)rt[it]=nt[it].toArray();return tt.wrappers_[et]=nt,jspb.Message.setField(tt,et,rt)},jspb.Message.addToRepeatedWrapperField=function(tt,et,nt,rt,it){jspb.Message.wrapRepeatedField_(tt,rt,et);var ot=tt.wrappers_[et];return ot||(ot=tt.wrappers_[et]=[]),nt=nt||new rt,tt=jspb.Message.getRepeatedField(tt,et),it!=null?(ot.splice(it,0,nt),tt.splice(it,0,nt.toArray())):(ot.push(nt),tt.push(nt.toArray())),nt},jspb.Message.toMap=function(tt,et,nt,rt){for(var it={},ot=0;ot<tt.length;ot++)it[et.call(tt[ot])]=nt?nt.call(tt[ot],rt,tt[ot]):tt[ot];return it},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var tt in this.wrappers_){var et=this.wrappers_[tt];if(Array.isArray(et))for(var nt=0;nt<et.length;nt++)et[nt]&&et[nt].toArray();else et&&et.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(tt){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var et=tt.fieldIndex;if(tt.isRepeated){if(tt.isMessageType())return this.wrappers_[et]||(this.wrappers_[et]=goog.array.map(this.extensionObject_[et]||[],function(nt){return new tt.ctor(nt)})),this.wrappers_[et]}else if(tt.isMessageType())return!this.wrappers_[et]&&this.extensionObject_[et]&&(this.wrappers_[et]=new tt.ctor(this.extensionObject_[et])),this.wrappers_[et];return this.extensionObject_[et]}},jspb.Message.prototype.setExtension=function(tt,et){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var nt=tt.fieldIndex;return tt.isRepeated?(et=et||[],tt.isMessageType()?(this.wrappers_[nt]=et,this.extensionObject_[nt]=goog.array.map(et,function(rt){return rt.toArray()})):this.extensionObject_[nt]=et):tt.isMessageType()?(this.wrappers_[nt]=et,this.extensionObject_[nt]=et&&et.toArray()):this.extensionObject_[nt]=et,this},jspb.Message.difference=function(tt,et){if(!(tt instanceof et.constructor))throw Error("Messages have different types.");var nt=tt.toArray();et=et.toArray();var rt=[],it=0,ot=nt.length>et.length?nt.length:et.length;for(tt.getJsPbMessageId()&&(rt[0]=tt.getJsPbMessageId(),it=1);it<ot;it++)jspb.Message.compareFields(nt[it],et[it])||(rt[it]=et[it]);return new tt.constructor(rt)},jspb.Message.equals=function(tt,et){return tt==et||!(!tt||!et)&&tt instanceof et.constructor&&jspb.Message.compareFields(tt.toArray(),et.toArray())},jspb.Message.compareExtensions=function(tt,et){tt=tt||{},et=et||{};var nt,rt={};for(nt in tt)rt[nt]=0;for(nt in et)rt[nt]=0;for(nt in rt)if(!jspb.Message.compareFields(tt[nt],et[nt]))return!1;return!0},jspb.Message.compareFields=function(tt,et){if(tt==et)return!0;if(!goog.isObject(tt)||!goog.isObject(et))return!!(typeof tt=="number"&&isNaN(tt)||typeof et=="number"&&isNaN(et))&&String(tt)==String(et);if(tt.constructor!=et.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&tt.constructor===Uint8Array){if(tt.length!=et.length)return!1;for(var nt=0;nt<tt.length;nt++)if(tt[nt]!=et[nt])return!1;return!0}if(tt.constructor===Array){var rt=void 0,it=void 0,ot=Math.max(tt.length,et.length);for(nt=0;nt<ot;nt++){var at=tt[nt],st=et[nt];if(at&&at.constructor==Object&&(goog.asserts.assert(rt===void 0),goog.asserts.assert(nt===tt.length-1),rt=at,at=void 0),st&&st.constructor==Object&&(goog.asserts.assert(it===void 0),goog.asserts.assert(nt===et.length-1),it=st,st=void 0),!jspb.Message.compareFields(at,st))return!1}return!rt&&!it||(rt=rt||{},it=it||{},jspb.Message.compareExtensions(rt,it))}if(tt.constructor===Object)return jspb.Message.compareExtensions(tt,et);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(tt){return jspb.Message.cloneMessage(tt)},jspb.Message.cloneMessage=function(tt){return new tt.constructor(jspb.Message.clone_(tt.toArray()))},jspb.Message.copyInto=function(tt,et){goog.asserts.assertInstanceof(tt,jspb.Message),goog.asserts.assertInstanceof(et,jspb.Message),goog.asserts.assert(tt.constructor==et.constructor,"Copy source and target message should have the same type."),tt=jspb.Message.clone(tt);for(var nt=et.toArray(),rt=tt.toArray(),it=nt.length=0;it<rt.length;it++)nt[it]=rt[it];et.wrappers_=tt.wrappers_,et.extensionObject_=tt.extensionObject_},jspb.Message.clone_=function(tt){if(Array.isArray(tt)){for(var et=Array(tt.length),nt=0;nt<tt.length;nt++){var rt=tt[nt];rt!=null&&(et[nt]=typeof rt=="object"?jspb.Message.clone_(goog.asserts.assert(rt)):rt)}return et}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&tt instanceof Uint8Array)return new Uint8Array(tt);for(nt in et={},tt)(rt=tt[nt])!=null&&(et[nt]=typeof rt=="object"?jspb.Message.clone_(goog.asserts.assert(rt)):rt);return et},jspb.Message.registerMessageType=function(tt,et){et.messageId=tt},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(tt,et){this.lo=tt,this.hi=et},jspb.arith.UInt64.prototype.cmp=function(tt){return this.hi<tt.hi||this.hi==tt.hi&&this.lo<tt.lo?-1:this.hi==tt.hi&&this.lo==tt.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(tt){return new jspb.arith.UInt64((this.lo+tt.lo&4294967295)>>>0>>>0,((this.hi+tt.hi&4294967295)>>>0)+(4294967296<=this.lo+tt.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(tt){return new jspb.arith.UInt64((this.lo-tt.lo&4294967295)>>>0>>>0,((this.hi-tt.hi&4294967295)>>>0)-(0>this.lo-tt.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(tt,et){var nt=65535&tt,rt=65535&et,it=et>>>16;for(et=nt*rt+65536*(nt*it&65535)+65536*((tt>>>=16)*rt&65535),nt=tt*it+(nt*it>>>16)+(tt*rt>>>16);4294967296<=et;)et-=4294967296,nt+=1;return new jspb.arith.UInt64(et>>>0,nt>>>0)},jspb.arith.UInt64.prototype.mul=function(tt){var et=jspb.arith.UInt64.mul32x32(this.lo,tt);return(tt=jspb.arith.UInt64.mul32x32(this.hi,tt)).hi=tt.lo,tt.lo=0,et.add(tt)},jspb.arith.UInt64.prototype.div=function(tt){if(tt==0)return[];var et=new jspb.arith.UInt64(0,0),nt=new jspb.arith.UInt64(this.lo,this.hi);tt=new jspb.arith.UInt64(tt,0);for(var rt=new jspb.arith.UInt64(1,0);!tt.msb();)tt=tt.leftShift(),rt=rt.leftShift();for(;!rt.zero();)0>=tt.cmp(nt)&&(et=et.add(rt),nt=nt.sub(tt)),tt=tt.rightShift(),rt=rt.rightShift();return[et,nt]},jspb.arith.UInt64.prototype.toString=function(){for(var tt="",et=this;!et.zero();){var nt=(et=et.div(10))[0];tt=et[1].lo+tt,et=nt}return tt==""&&(tt="0"),tt},jspb.arith.UInt64.fromString=function(tt){for(var et=new jspb.arith.UInt64(0,0),nt=new jspb.arith.UInt64(0,0),rt=0;rt<tt.length;rt++){if("0">tt[rt]||"9"<tt[rt])return null;var it=parseInt(tt[rt],10);nt.lo=it,et=et.mul(10).add(nt)}return et},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(tt,et){this.lo=tt,this.hi=et},jspb.arith.Int64.prototype.add=function(tt){return new jspb.arith.Int64((this.lo+tt.lo&4294967295)>>>0>>>0,((this.hi+tt.hi&4294967295)>>>0)+(4294967296<=this.lo+tt.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(tt){return new jspb.arith.Int64((this.lo-tt.lo&4294967295)>>>0>>>0,((this.hi-tt.hi&4294967295)>>>0)-(0>this.lo-tt.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var tt=(2147483648&this.hi)!=0,et=new jspb.arith.UInt64(this.lo,this.hi);return tt&&(et=new jspb.arith.UInt64(0,0).sub(et)),(tt?"-":"")+et.toString()},jspb.arith.Int64.fromString=function(tt){var et=0<tt.length&&tt[0]=="-";return et&&(tt=tt.substring(1)),(tt=jspb.arith.UInt64.fromString(tt))===null?null:(et&&(tt=new jspb.arith.UInt64(0,0).sub(tt)),new jspb.arith.Int64(tt.lo,tt.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var tt=this.buffer_;return this.buffer_=[],tt},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(tt,et){for(goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(et==Math.floor(et)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32);0<et||127<tt;)this.buffer_.push(127&tt|128),tt=(tt>>>7|et<<25)>>>0,et>>>=7;this.buffer_.push(tt)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(tt,et){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(et==Math.floor(et)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(tt),this.writeUint32(et)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(tt){for(goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32);127<tt;)this.buffer_.push(127&tt|128),tt>>>=7;this.buffer_.push(tt)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(tt){if(goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),0<=tt)this.writeUnsignedVarint32(tt);else{for(var et=0;9>et;et++)this.buffer_.push(127&tt|128),tt>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_63&&tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((tt<<1^tt>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_63&&tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(tt){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(tt))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(tt){var et=this;jspb.utils.splitHash64(tt),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(nt,rt){et.writeSplitVarint64(nt>>>0,rt>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&256>tt),this.buffer_.push(tt>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&65536>tt),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255),this.buffer_.push(tt>>>16&255),this.buffer_.push(tt>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(tt),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(-128<=tt&&128>tt),this.buffer_.push(tt>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(-32768<=tt&&32768>tt),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255),this.buffer_.push(tt>>>16&255),this.buffer_.push(tt>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_63&&tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(tt),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(+tt>=-jspb.BinaryConstants.TWO_TO_63&&+tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(tt)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(tt){goog.asserts.assert(1/0===tt||-1/0===tt||isNaN(tt)||tt>=-jspb.BinaryConstants.FLOAT32_MAX&&tt<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(tt),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(tt){goog.asserts.assert(1/0===tt||-1/0===tt||isNaN(tt)||tt>=-jspb.BinaryConstants.FLOAT64_MAX&&tt<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(tt),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(tt){goog.asserts.assert(typeof tt=="boolean"||typeof tt=="number"),this.buffer_.push(tt?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(tt)},jspb.BinaryEncoder.prototype.writeBytes=function(tt){this.buffer_.push.apply(this.buffer_,tt)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(tt){jspb.utils.splitHash64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(tt){jspb.utils.splitHash64(tt),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(tt){for(var et=this.buffer_.length,nt=0;nt<tt.length;nt++){var rt=tt.charCodeAt(nt);if(128>rt)this.buffer_.push(rt);else if(2048>rt)this.buffer_.push(rt>>6|192),this.buffer_.push(63&rt|128);else if(65536>rt)if(55296<=rt&&56319>=rt&&nt+1<tt.length){var it=tt.charCodeAt(nt+1);56320<=it&&57343>=it&&(rt=1024*(rt-55296)+it-56320+65536,this.buffer_.push(rt>>18|240),this.buffer_.push(rt>>12&63|128),this.buffer_.push(rt>>6&63|128),this.buffer_.push(63&rt|128),nt++)}else this.buffer_.push(rt>>12|224),this.buffer_.push(rt>>6&63|128),this.buffer_.push(63&rt|128)}return this.buffer_.length-et},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(tt){var et=this.encoder_.end();this.blocks_.push(et),this.blocks_.push(tt),this.totalLength_+=et.length+tt.length},jspb.BinaryWriter.prototype.beginDelimited_=function(tt){return this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),tt=this.encoder_.end(),this.blocks_.push(tt),this.totalLength_+=tt.length,tt.push(this.totalLength_),tt},jspb.BinaryWriter.prototype.endDelimited_=function(tt){var et=tt.pop();for(et=this.totalLength_+this.encoder_.length()-et,goog.asserts.assert(0<=et);127<et;)tt.push(127&et|128),et>>>=7,this.totalLength_++;tt.push(et),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(tt,et,nt){this.appendUint8Array_(tt.subarray(et,nt))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(tt,et,nt){tt!=null&&et!=null&&nt!=null&&this.writeSerializedMessage(tt,et,nt)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var tt=new Uint8Array(this.totalLength_+this.encoder_.length()),et=this.blocks_,nt=et.length,rt=0,it=0;it<nt;it++){var ot=et[it];tt.set(ot,rt),rt+=ot.length}return et=this.encoder_.end(),tt.set(et,rt),rt+=et.length,goog.asserts.assert(rt==tt.length),this.blocks_=[tt],tt},jspb.BinaryWriter.prototype.getResultBase64String=function(tt){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),tt)},jspb.BinaryWriter.prototype.beginSubMessage=function(tt){this.bookmarks_.push(this.beginDelimited_(tt))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(tt,et){goog.asserts.assert(1<=tt&&tt==Math.floor(tt)),this.encoder_.writeUnsignedVarint32(8*tt+et)},jspb.BinaryWriter.prototype.writeAny=function(tt,et,nt){var rt=jspb.BinaryConstants.FieldType;switch(tt){case rt.DOUBLE:this.writeDouble(et,nt);break;case rt.FLOAT:this.writeFloat(et,nt);break;case rt.INT64:this.writeInt64(et,nt);break;case rt.UINT64:this.writeUint64(et,nt);break;case rt.INT32:this.writeInt32(et,nt);break;case rt.FIXED64:this.writeFixed64(et,nt);break;case rt.FIXED32:this.writeFixed32(et,nt);break;case rt.BOOL:this.writeBool(et,nt);break;case rt.STRING:this.writeString(et,nt);break;case rt.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case rt.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case rt.BYTES:this.writeBytes(et,nt);break;case rt.UINT32:this.writeUint32(et,nt);break;case rt.ENUM:this.writeEnum(et,nt);break;case rt.SFIXED32:this.writeSfixed32(et,nt);break;case rt.SFIXED64:this.writeSfixed64(et,nt);break;case rt.SINT32:this.writeSint32(et,nt);break;case rt.SINT64:this.writeSint64(et,nt);break;case rt.FHASH64:this.writeFixedHash64(et,nt);break;case rt.VHASH64:this.writeVarintHash64(et,nt);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(et))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(et))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(et))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(et))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(et))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(et))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(et))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(et))},jspb.BinaryWriter.prototype.writeInt32=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeInt32String=function(tt,et){et!=null&&(et=parseInt(et,10),goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeInt64=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_63&&et<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(tt,et))},jspb.BinaryWriter.prototype.writeInt64String=function(tt,et){et!=null&&(et=jspb.arith.Int64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeUint32=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeUint32String=function(tt,et){et!=null&&(et=parseInt(et,10),goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeUint64=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(tt,et))},jspb.BinaryWriter.prototype.writeUint64String=function(tt,et){et!=null&&(et=jspb.arith.UInt64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeSint32=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeSint64=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_63&&et<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(tt,et))},jspb.BinaryWriter.prototype.writeSintHash64=function(tt,et){et!=null&&this.writeZigzagVarintHash64_(tt,et)},jspb.BinaryWriter.prototype.writeSint64String=function(tt,et){et!=null&&this.writeZigzagVarint64String_(tt,et)},jspb.BinaryWriter.prototype.writeFixed32=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(et))},jspb.BinaryWriter.prototype.writeFixed64=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(et))},jspb.BinaryWriter.prototype.writeFixed64String=function(tt,et){et!=null&&(et=jspb.arith.UInt64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(et))},jspb.BinaryWriter.prototype.writeSfixed64=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_63&&et<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(et))},jspb.BinaryWriter.prototype.writeSfixed64String=function(tt,et){et!=null&&(et=jspb.arith.Int64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeFloat=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(et))},jspb.BinaryWriter.prototype.writeDouble=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(et))},jspb.BinaryWriter.prototype.writeBool=function(tt,et){et!=null&&(goog.asserts.assert(typeof et=="boolean"||typeof et=="number"),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(et))},jspb.BinaryWriter.prototype.writeEnum=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(et))},jspb.BinaryWriter.prototype.writeString=function(tt,et){et!=null&&(tt=this.beginDelimited_(tt),this.encoder_.writeString(et),this.endDelimited_(tt))},jspb.BinaryWriter.prototype.writeBytes=function(tt,et){et!=null&&(et=jspb.utils.byteSourceToUint8Array(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(et.length),this.appendUint8Array_(et))},jspb.BinaryWriter.prototype.writeMessage=function(tt,et,nt){et!=null&&(tt=this.beginDelimited_(tt),nt(et,this),this.endDelimited_(tt))},jspb.BinaryWriter.prototype.writeMessageSet=function(tt,et,nt){et!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(tt),tt=this.beginDelimited_(3),nt(et,this),this.endDelimited_(tt),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(tt,et,nt){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.START_GROUP),nt(et,this),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(tt,et){et!=null&&(goog.asserts.assert(et.length==8),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(et))},jspb.BinaryWriter.prototype.writeVarintHash64=function(tt,et){et!=null&&(goog.asserts.assert(et.length==8),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(et))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(tt,et,nt){this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(et,nt)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(tt,et,nt){this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(et,nt)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(tt,et,nt){this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT);var rt=this.encoder_;jspb.utils.toZigzag64(et,nt,function(it,ot){rt.writeSplitVarint64(it>>>0,ot>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSignedVarint32_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeInt32String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSignedVarint64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(tt,et,nt,rt){if(et!=null)for(var it=0;it<et.length;it++)this.writeSplitFixed64(tt,nt(et[it]),rt(et[it]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(tt,et,nt,rt){if(et!=null)for(var it=0;it<et.length;it++)this.writeSplitVarint64(tt,nt(et[it]),rt(et[it]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(tt,et,nt,rt){if(et!=null)for(var it=0;it<et.length;it++)this.writeSplitZigzagVarint64(tt,nt(et[it]),rt(et[it]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeInt64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUnsignedVarint32_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUint32String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUnsignedVarint64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUint64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarint32_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarint64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarint64String_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarintHash64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixed32(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixed64(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixed64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSfixed32(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSfixed64(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSfixed64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFloat(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeDouble(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeBool(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeEnum(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedString=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeString(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeBytes(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(tt,et,nt){if(et!=null)for(var rt=0;rt<et.length;rt++){var it=this.beginDelimited_(tt);nt(et[rt],this),this.endDelimited_(it)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(tt,et,nt){if(et!=null)for(var rt=0;rt<et.length;rt++)this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.START_GROUP),nt(et[rt],this),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixedHash64(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeVarintHash64(tt,et[nt])},jspb.BinaryWriter.prototype.writePackedInt32=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeSignedVarint32(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeSignedVarint32(parseInt(et[nt],10));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedInt64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeSignedVarint64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(tt,et,nt,rt){if(et!=null){tt=this.beginDelimited_(tt);for(var it=0;it<et.length;it++)this.encoder_.writeSplitFixed64(nt(et[it]),rt(et[it]));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(tt,et,nt,rt){if(et!=null){tt=this.beginDelimited_(tt);for(var it=0;it<et.length;it++)this.encoder_.writeSplitVarint64(nt(et[it]),rt(et[it]));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(tt,et,nt,rt){if(et!=null){tt=this.beginDelimited_(tt);for(var it=this.encoder_,ot=0;ot<et.length;ot++)jspb.utils.toZigzag64(nt(et[ot]),rt(et[ot]),function(at,st){it.writeSplitVarint64(at>>>0,st>>>0)});this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++){var rt=jspb.arith.Int64.fromString(et[nt]);this.encoder_.writeSplitVarint64(rt.lo,rt.hi)}this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint32=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeUnsignedVarint32(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeUnsignedVarint32(parseInt(et[nt],10));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeUnsignedVarint64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++){var rt=jspb.arith.UInt64.fromString(et[nt]);this.encoder_.writeSplitVarint64(rt.lo,rt.hi)}this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSint32=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarint32(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSint64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarint64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(et[nt]));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarintHash64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeUint32(et[tt])},jspb.BinaryWriter.prototype.writePackedFixed64=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeUint64(et[tt])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++){var nt=jspb.arith.UInt64.fromString(et[tt]);this.encoder_.writeSplitFixed64(nt.lo,nt.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeInt32(et[tt])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeInt64(et[tt])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeInt64String(et[tt])},jspb.BinaryWriter.prototype.writePackedFloat=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeFloat(et[tt])},jspb.BinaryWriter.prototype.writePackedDouble=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeDouble(et[tt])},jspb.BinaryWriter.prototype.writePackedBool=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(et.length),tt=0;tt<et.length;tt++)this.encoder_.writeBool(et[tt])},jspb.BinaryWriter.prototype.writePackedEnum=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeEnum(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeFixedHash64(et[tt])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeVarintHash64(et[nt]);this.endDelimited_(tt)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(5),__webpack_require__(4).Buffer)},function(tt,et){var nt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(nt){var rt=new Uint8Array(16);tt.exports=function(){return nt(rt),rt}}else{var it=new Array(16);tt.exports=function(){for(var ot,at=0;at<16;at++)(3&at)==0&&(ot=4294967296*Math.random()),it[at]=ot>>>((3&at)<<3)&255;return it}}},function(tt,et){for(var nt=[],rt=0;rt<256;++rt)nt[rt]=(rt+256).toString(16).substr(1);tt.exports=function(it,ot){var at=ot||0,st=nt;return[st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]]].join("")}},function(tt,et,nt){(function(rt){const it=nt(210),ot=nt(49),at=(st,lt)=>({from:at,EnvVarError:nt(49),get:function(ct){if(!ct)return st;if(arguments.length>1)throw new ot("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return it(st,ct,lt||{})}});tt.exports=at(rt.env)}).call(this,nt(2))},function(tt,et,nt){var rt=nt(10),it=nt(71),ot=nt(3).LEVEL,at=tt.exports=function(){var st=this,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it.call(this,{objectMode:!0,highWaterMark:lt.highWaterMark}),this.format=lt.format,this.level=lt.level,this.handleExceptions=lt.handleExceptions,this.silent=lt.silent,lt.log&&(this.log=lt.log),lt.logv&&(this.logv=lt.logv),lt.close&&(this.close=lt.close),this.once("pipe",function(ct){st.levels=ct.levels,st.parent=ct}),this.once("unpipe",function(ct){ct===st.parent&&(st.parent=null,st.close&&st.close())})};rt.inherits(at,it),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);var ft=this.level||this.parent&&this.parent.level;if(!ft||this.levels[ft]>=this.levels[st[ot]]){if(st&&!this.format)return this.log(st,ct);var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(ct(),ut)throw ut;return}return this.log(dt,ct)}return ct(null)},at.prototype._writev=function(st,lt){if(this.logv){var ct=st.filter(this._accept,this);return ct.length?this.logv(ct,lt):lt(null)}for(var ft=0;ft<st.length;ft++)if(this._accept(st[ft]))if(!st[ft].chunk||this.format){var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st[ft].chunk),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(st[ft].callback(),ut)throw lt(null),ut}else this.log(dt,st[ft].callback)}else this.log(st[ft].chunk,st[ft].callback);return lt(null)},at.prototype._accept=function(st){var lt=st.chunk;if(this.silent)return!1;var ct=this.level||this.parent&&this.parent.level;return!(lt.exception!==!0&&ct&&!(this.levels[ct]>=this.levels[lt[ot]])||!this.handleExceptions&&lt.exception===!0)},at.prototype._nop=function(){}},function(tt,et,nt){const{AbortController:rt,AbortSignal:it}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;tt.exports=rt,tt.exports.AbortSignal=it,tt.exports.default=rt},function(tt,et){var nt=function(rt){function it(){this.fetch=!1,this.DOMException=rt.DOMException}return it.prototype=rt,new it}(typeof self!="undefined"?self:this);(function(rt){(function(it){var ot="URLSearchParams"in rt,at="Symbol"in rt&&"iterator"in Symbol,st="FileReader"in rt&&"Blob"in rt&&function(){try{return new Blob,!0}catch{return!1}}(),lt="FormData"in rt,ct="ArrayBuffer"in rt;if(ct)var ft=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ut=ArrayBuffer.isView||function(Rt){return Rt&&ft.indexOf(Object.prototype.toString.call(Rt))>-1};function dt(Rt){if(typeof Rt!="string"&&(Rt=String(Rt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Rt))throw new TypeError("Invalid character in header field name");return Rt.toLowerCase()}function ht(Rt){return typeof Rt!="string"&&(Rt=String(Rt)),Rt}function pt(Rt){var Tt={next:function(){var It=Rt.shift();return{done:It===void 0,value:It}}};return at&&(Tt[Symbol.iterator]=function(){return Tt}),Tt}function gt(Rt){this.map={},Rt instanceof gt?Rt.forEach(function(Tt,It){this.append(It,Tt)},this):Array.isArray(Rt)?Rt.forEach(function(Tt){this.append(Tt[0],Tt[1])},this):Rt&&Object.getOwnPropertyNames(Rt).forEach(function(Tt){this.append(Tt,Rt[Tt])},this)}function mt(Rt){if(Rt.bodyUsed)return Promise.reject(new TypeError("Already read"));Rt.bodyUsed=!0}function yt(Rt){return new Promise(function(Tt,It){Rt.onload=function(){Tt(Rt.result)},Rt.onerror=function(){It(Rt.error)}})}function bt(Rt){var Tt=new FileReader,It=yt(Tt);return Tt.readAsArrayBuffer(Rt),It}function St(Rt){if(Rt.slice)return Rt.slice(0);var Tt=new Uint8Array(Rt.byteLength);return Tt.set(new Uint8Array(Rt)),Tt.buffer}function xt(){return this.bodyUsed=!1,this._initBody=function(Rt){var Tt;this._bodyInit=Rt,Rt?typeof Rt=="string"?this._bodyText=Rt:st&&Blob.prototype.isPrototypeOf(Rt)?this._bodyBlob=Rt:lt&&FormData.prototype.isPrototypeOf(Rt)?this._bodyFormData=Rt:ot&&URLSearchParams.prototype.isPrototypeOf(Rt)?this._bodyText=Rt.toString():ct&&st&&(Tt=Rt)&&DataView.prototype.isPrototypeOf(Tt)?(this._bodyArrayBuffer=St(Rt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ct&&(ArrayBuffer.prototype.isPrototypeOf(Rt)||ut(Rt))?this._bodyArrayBuffer=St(Rt):this._bodyText=Rt=Object.prototype.toString.call(Rt):this._bodyText="",this.headers.get("content-type")||(typeof Rt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ot&&URLSearchParams.prototype.isPrototypeOf(Rt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},st&&(this.blob=function(){var Rt=mt(this);if(Rt)return Rt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?mt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(bt)}),this.text=function(){var Rt,Tt,It,Pt=mt(this);if(Pt)return Pt;if(this._bodyBlob)return Rt=this._bodyBlob,Tt=new FileReader,It=yt(Tt),Tt.readAsText(Rt),It;if(this._bodyArrayBuffer)return Promise.resolve(function(Dt){for(var Ct=new Uint8Array(Dt),Ot=new Array(Ct.length),Ut=0;Ut<Ct.length;Ut++)Ot[Ut]=String.fromCharCode(Ct[Ut]);return Ot.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},lt&&(this.formData=function(){return this.text().then(zt)}),this.json=function(){return this.text().then(JSON.parse)},this}gt.prototype.append=function(Rt,Tt){Rt=dt(Rt),Tt=ht(Tt);var It=this.map[Rt];this.map[Rt]=It?It+", "+Tt:Tt},gt.prototype.delete=function(Rt){delete this.map[dt(Rt)]},gt.prototype.get=function(Rt){return Rt=dt(Rt),this.has(Rt)?this.map[Rt]:null},gt.prototype.has=function(Rt){return this.map.hasOwnProperty(dt(Rt))},gt.prototype.set=function(Rt,Tt){this.map[dt(Rt)]=ht(Tt)},gt.prototype.forEach=function(Rt,Tt){for(var It in this.map)this.map.hasOwnProperty(It)&&Rt.call(Tt,this.map[It],It,this)},gt.prototype.keys=function(){var Rt=[];return this.forEach(function(Tt,It){Rt.push(It)}),pt(Rt)},gt.prototype.values=function(){var Rt=[];return this.forEach(function(Tt){Rt.push(Tt)}),pt(Rt)},gt.prototype.entries=function(){var Rt=[];return this.forEach(function(Tt,It){Rt.push([It,Tt])}),pt(Rt)},at&&(gt.prototype[Symbol.iterator]=gt.prototype.entries);var vt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function $t(Rt,Tt){var It,Pt,Dt=(Tt=Tt||{}).body;if(Rt instanceof $t){if(Rt.bodyUsed)throw new TypeError("Already read");this.url=Rt.url,this.credentials=Rt.credentials,Tt.headers||(this.headers=new gt(Rt.headers)),this.method=Rt.method,this.mode=Rt.mode,this.signal=Rt.signal,Dt||Rt._bodyInit==null||(Dt=Rt._bodyInit,Rt.bodyUsed=!0)}else this.url=String(Rt);if(this.credentials=Tt.credentials||this.credentials||"same-origin",!Tt.headers&&this.headers||(this.headers=new gt(Tt.headers)),this.method=(It=Tt.method||this.method||"GET",Pt=It.toUpperCase(),vt.indexOf(Pt)>-1?Pt:It),this.mode=Tt.mode||this.mode||null,this.signal=Tt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Dt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Dt)}function zt(Rt){var Tt=new FormData;return Rt.trim().split("&").forEach(function(It){if(It){var Pt=It.split("="),Dt=Pt.shift().replace(/\+/g," "),Ct=Pt.join("=").replace(/\+/g," ");Tt.append(decodeURIComponent(Dt),decodeURIComponent(Ct))}}),Tt}function Nt(Rt,Tt){Tt||(Tt={}),this.type="default",this.status=Tt.status===void 0?200:Tt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Tt?Tt.statusText:"OK",this.headers=new gt(Tt.headers),this.url=Tt.url||"",this._initBody(Rt)}$t.prototype.clone=function(){return new $t(this,{body:this._bodyInit})},xt.call($t.prototype),xt.call(Nt.prototype),Nt.prototype.clone=function(){return new Nt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new gt(this.headers),url:this.url})},Nt.error=function(){var Rt=new Nt(null,{status:0,statusText:""});return Rt.type="error",Rt};var wt=[301,302,303,307,308];Nt.redirect=function(Rt,Tt){if(wt.indexOf(Tt)===-1)throw new RangeError("Invalid status code");return new Nt(null,{status:Tt,headers:{location:Rt}})},it.DOMException=rt.DOMException;try{new it.DOMException}catch{it.DOMException=function(Tt,It){this.message=Tt,this.name=It;var Pt=Error(Tt);this.stack=Pt.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function Et(Rt,Tt){return new Promise(function(It,Pt){var Dt=new $t(Rt,Tt);if(Dt.signal&&Dt.signal.aborted)return Pt(new it.DOMException("Aborted","AbortError"));var Ct=new XMLHttpRequest;function Ot(){Ct.abort()}Ct.onload=function(){var Ut,At,Mt={status:Ct.status,statusText:Ct.statusText,headers:(Ut=Ct.getAllResponseHeaders()||"",At=new gt,Ut.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(kt){var Gt=kt.split(":"),Ht=Gt.shift().trim();if(Ht){var Jt=Gt.join(":").trim();At.append(Ht,Jt)}}),At)};Mt.url="responseURL"in Ct?Ct.responseURL:Mt.headers.get("X-Request-URL");var jt="response"in Ct?Ct.response:Ct.responseText;It(new Nt(jt,Mt))},Ct.onerror=function(){Pt(new TypeError("Network request failed"))},Ct.ontimeout=function(){Pt(new TypeError("Network request failed"))},Ct.onabort=function(){Pt(new it.DOMException("Aborted","AbortError"))},Ct.open(Dt.method,Dt.url,!0),Dt.credentials==="include"?Ct.withCredentials=!0:Dt.credentials==="omit"&&(Ct.withCredentials=!1),"responseType"in Ct&&st&&(Ct.responseType="blob"),Dt.headers.forEach(function(Ut,At){Ct.setRequestHeader(At,Ut)}),Dt.signal&&(Dt.signal.addEventListener("abort",Ot),Ct.onreadystatechange=function(){Ct.readyState===4&&Dt.signal.removeEventListener("abort",Ot)}),Ct.send(Dt._bodyInit===void 0?null:Dt._bodyInit)})}Et.polyfill=!0,rt.fetch||(rt.fetch=Et,rt.Headers=gt,rt.Request=$t,rt.Response=Nt),it.Headers=gt,it.Request=$t,it.Response=Nt,it.fetch=Et})({})})(nt),delete nt.fetch.polyfill,(et=nt.fetch).default=nt.fetch,et.fetch=nt.fetch,et.Headers=nt.Headers,et.Request=nt.Request,et.Response=nt.Response,tt.exports=et},function(tt,et,nt){const rt=nt(222),it=Symbol("max"),ot=Symbol("length"),at=Symbol("lengthCalculator"),st=Symbol("allowStale"),lt=Symbol("maxAge"),ct=Symbol("dispose"),ft=Symbol("noDisposeOnSet"),ut=Symbol("lruList"),dt=Symbol("cache"),ht=Symbol("updateAgeOnGet"),pt=()=>1,gt=(vt,$t,zt)=>{const Nt=vt[dt].get($t);if(Nt){const wt=Nt.value;if(mt(vt,wt)){if(bt(vt,Nt),!vt[st])return}else zt&&(vt[ht]&&(Nt.value.now=Date.now()),vt[ut].unshiftNode(Nt));return wt.value}},mt=(vt,$t)=>{if(!$t||!$t.maxAge&&!vt[lt])return!1;const zt=Date.now()-$t.now;return $t.maxAge?zt>$t.maxAge:vt[lt]&&zt>vt[lt]},yt=vt=>{if(vt[ot]>vt[it])for(let $t=vt[ut].tail;vt[ot]>vt[it]&&$t!==null;){const zt=$t.prev;bt(vt,$t),$t=zt}},bt=(vt,$t)=>{if($t){const zt=$t.value;vt[ct]&&vt[ct](zt.key,zt.value),vt[ot]-=zt.length,vt[dt].delete(zt.key),vt[ut].removeNode($t)}};class St{constructor($t,zt,Nt,wt,Et){this.key=$t,this.value=zt,this.length=Nt,this.now=wt,this.maxAge=Et||0}}const xt=(vt,$t,zt,Nt)=>{let wt=zt.value;mt(vt,wt)&&(bt(vt,zt),vt[st]||(wt=void 0)),wt&&$t.call(Nt,wt.value,wt.key,vt)};tt.exports=class{constructor(vt){if(typeof vt=="number"&&(vt={max:vt}),vt||(vt={}),vt.max&&(typeof vt.max!="number"||vt.max<0))throw new TypeError("max must be a non-negative number");this[it]=vt.max||1/0;const $t=vt.length||pt;if(this[at]=typeof $t!="function"?pt:$t,this[st]=vt.stale||!1,vt.maxAge&&typeof vt.maxAge!="number")throw new TypeError("maxAge must be a number");this[lt]=vt.maxAge||0,this[ct]=vt.dispose,this[ft]=vt.noDisposeOnSet||!1,this[ht]=vt.updateAgeOnGet||!1,this.reset()}set max(vt){if(typeof vt!="number"||vt<0)throw new TypeError("max must be a non-negative number");this[it]=vt||1/0,yt(this)}get max(){return this[it]}set allowStale(vt){this[st]=!!vt}get allowStale(){return this[st]}set maxAge(vt){if(typeof vt!="number")throw new TypeError("maxAge must be a non-negative number");this[lt]=vt,yt(this)}get maxAge(){return this[lt]}set lengthCalculator(vt){typeof vt!="function"&&(vt=pt),vt!==this[at]&&(this[at]=vt,this[ot]=0,this[ut].forEach($t=>{$t.length=this[at]($t.value,$t.key),this[ot]+=$t.length})),yt(this)}get lengthCalculator(){return this[at]}get length(){return this[ot]}get itemCount(){return this[ut].length}rforEach(vt,$t){$t=$t||this;for(let zt=this[ut].tail;zt!==null;){const Nt=zt.prev;xt(this,vt,zt,$t),zt=Nt}}forEach(vt,$t){$t=$t||this;for(let zt=this[ut].head;zt!==null;){const Nt=zt.next;xt(this,vt,zt,$t),zt=Nt}}keys(){return this[ut].toArray().map(vt=>vt.key)}values(){return this[ut].toArray().map(vt=>vt.value)}reset(){this[ct]&&this[ut]&&this[ut].length&&this[ut].forEach(vt=>this[ct](vt.key,vt.value)),this[dt]=new Map,this[ut]=new rt,this[ot]=0}dump(){return this[ut].map(vt=>!mt(this,vt)&&{k:vt.key,v:vt.value,e:vt.now+(vt.maxAge||0)}).toArray().filter(vt=>vt)}dumpLru(){return this[ut]}set(vt,$t,zt){if((zt=zt||this[lt])&&typeof zt!="number")throw new TypeError("maxAge must be a number");const Nt=zt?Date.now():0,wt=this[at]($t,vt);if(this[dt].has(vt)){if(wt>this[it])return bt(this,this[dt].get(vt)),!1;const Rt=this[dt].get(vt).value;return this[ct]&&(this[ft]||this[ct](vt,Rt.value)),Rt.now=Nt,Rt.maxAge=zt,Rt.value=$t,this[ot]+=wt-Rt.length,Rt.length=wt,this.get(vt),yt(this),!0}const Et=new St(vt,$t,wt,Nt,zt);return Et.length>this[it]?(this[ct]&&this[ct](vt,$t),!1):(this[ot]+=Et.length,this[ut].unshift(Et),this[dt].set(vt,this[ut].head),yt(this),!0)}has(vt){if(!this[dt].has(vt))return!1;const $t=this[dt].get(vt).value;return!mt(this,$t)}get(vt){return gt(this,vt,!0)}peek(vt){return gt(this,vt,!1)}pop(){const vt=this[ut].tail;return vt?(bt(this,vt),vt.value):null}del(vt){bt(this,this[dt].get(vt))}load(vt){this.reset();const $t=Date.now();for(let zt=vt.length-1;zt>=0;zt--){const Nt=vt[zt],wt=Nt.e||0;if(wt===0)this.set(Nt.k,Nt.v);else{const Et=wt-$t;Et>0&&this.set(Nt.k,Nt.v,Et)}}}prune(){this[dt].forEach((vt,$t)=>gt(this,$t,!1))}}},function(tt,et,nt){var rt=nt(225),it=nt(226),ot=it;ot.v1=rt,ot.v4=it,tt.exports=ot},function(tt,et,nt){var rt=nt(37).Colorizer;tt.exports=function(it){return rt.addColors(it.colors||it),it}},function(tt,et,nt){var rt={};tt.exports=rt,rt.themes={};var it=nt(10),ot=rt.styles=nt(108),at=Object.defineProperties,st=new RegExp(/[\r\n]+/g);rt.supportsColor=nt(109).supportsColor,rt.enabled===void 0&&(rt.enabled=rt.supportsColor()!==!1),rt.enable=function(){rt.enabled=!0},rt.disable=function(){rt.enabled=!1},rt.stripColors=rt.strip=function(mt){return(""+mt).replace(/\x1B\[\d+m/g,"")},rt.stylize=function(mt,yt){return rt.enabled?ot[yt].open+mt+ot[yt].close:mt+""};var lt=/[|\\{}()[\]^$+*?.]/g;function ct(mt){var yt=function bt(){return ht.apply(bt,arguments)};return yt._styles=mt,yt.__proto__=dt,yt}var ft,ut=(ft={},ot.grey=ot.gray,Object.keys(ot).forEach(function(mt){ot[mt].closeRe=new RegExp(function(yt){if(typeof yt!="string")throw new TypeError("Expected a string");return yt.replace(lt,"\\$&")}(ot[mt].close),"g"),ft[mt]={get:function(){return ct(this._styles.concat(mt))}}}),ft),dt=at(function(){},ut);function ht(){var mt=Array.prototype.slice.call(arguments),yt=mt.map(function($t){return $t!==void 0&&$t.constructor===String?$t:it.inspect($t)}).join(" ");if(!rt.enabled||!yt)return yt;for(var bt=yt.indexOf(`
`)!=-1,St=this._styles,xt=St.length;xt--;){var vt=ot[St[xt]];yt=vt.open+yt.replace(vt.closeRe,vt.open)+vt.close,bt&&(yt=yt.replace(st,function($t){return vt.close+$t+vt.open}))}return yt}rt.setTheme=function(mt){if(typeof mt!="string")for(var yt in mt)(function(bt){rt[bt]=function(St){if(typeof mt[bt]=="object"){var xt=St;for(var vt in mt[bt])xt=rt[mt[bt][vt]](xt);return xt}return rt[mt[bt]](St)}})(yt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var pt=function(mt,yt){var bt=yt.split("");return(bt=bt.map(mt)).join("")};for(var gt in rt.trap=nt(111),rt.zalgo=nt(112),rt.maps={},rt.maps.america=nt(113)(rt),rt.maps.zebra=nt(114)(rt),rt.maps.rainbow=nt(115)(rt),rt.maps.random=nt(116)(rt),rt.maps)(function(mt){rt[mt]=function(yt){return pt(rt.maps[mt],yt)}})(gt);at(rt,function(){var mt={};return Object.keys(ut).forEach(function(yt){mt[yt]={get:function(){return ct([yt])}}}),mt}())},function(tt,et){tt.exports=function(nt){return nt&&typeof nt=="object"&&typeof nt.copy=="function"&&typeof nt.fill=="function"&&typeof nt.readUInt8=="function"}},function(tt,et){typeof Object.create=="function"?tt.exports=function(nt,rt){nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}})}:tt.exports=function(nt,rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}},function(tt,et){var nt={};tt.exports=nt;var rt={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(rt).forEach(function(it){var ot=rt[it],at=nt[it]=[];at.open="\x1B["+ot[0]+"m",at.close="\x1B["+ot[1]+"m"})},function(tt,et,nt){(function(rt){var it=nt(15),ot=nt(110),at=rt.env,st=void 0;function lt(ct){return function(ft){return ft!==0&&{level:ft,hasBasic:!0,has256:ft>=2,has16m:ft>=3}}(function(ft){if(st===!1)return 0;if(ot("color=16m")||ot("color=full")||ot("color=truecolor"))return 3;if(ot("color=256"))return 2;if(ft&&!ft.isTTY&&st!==!0)return 0;var ut=st?1:0;if(rt.platform==="win32"){var dt=it.release().split(".");return Number(rt.versions.node.split(".")[0])>=8&&Number(dt[0])>=10&&Number(dt[2])>=10586?Number(dt[2])>=14931?3:2:1}if("CI"in at)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(pt){return pt in at})||at.CI_NAME==="codeship"?1:ut;if("TEAMCITY_VERSION"in at)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(at.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in at){var ht=parseInt((at.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(at.TERM_PROGRAM){case"iTerm.app":return ht>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in at?1:ut}(ct))}ot("no-color")||ot("no-colors")||ot("color=false")?st=!1:(ot("color")||ot("colors")||ot("color=true")||ot("color=always"))&&(st=!0),"FORCE_COLOR"in at&&(st=at.FORCE_COLOR.length===0||parseInt(at.FORCE_COLOR,10)!==0),tt.exports={supportsColor:lt,stdout:lt(rt.stdout),stderr:lt(rt.stderr)}}).call(this,nt(2))},function(tt,et,nt){(function(rt){tt.exports=function(it,ot){var at=(ot=ot||rt.argv).indexOf("--"),st=/^-{1,2}/.test(it)?"":"--",lt=ot.indexOf(st+it);return lt!==-1&&(at===-1||lt<at)}}).call(this,nt(2))},function(tt,et){tt.exports=function(nt,rt){var it="";nt=(nt=nt||"Run the trap, drop the bass").split("");var ot={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return nt.forEach(function(at){at=at.toLowerCase();var st=ot[at]||[" "],lt=Math.floor(Math.random()*st.length);it+=ot[at]!==void 0?ot[at][lt]:at}),it}},function(tt,et){tt.exports=function(nt,rt){nt=nt||"   he is here   ";var it={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},ot=[].concat(it.up,it.down,it.mid);function at(lt){return Math.floor(Math.random()*lt)}function st(lt){var ct=!1;return ot.filter(function(ft){ct=ft===lt}),ct}return function(lt,ct){var ft,ut,dt="";for(ut in(ct=ct||{}).up=ct.up===void 0||ct.up,ct.mid=ct.mid===void 0||ct.mid,ct.down=ct.down===void 0||ct.down,ct.size=ct.size!==void 0?ct.size:"maxi",lt=lt.split(""))if(!st(ut)){switch(dt+=lt[ut],ft={up:0,down:0,mid:0},ct.size){case"mini":ft.up=at(8),ft.mid=at(2),ft.down=at(8);break;case"maxi":ft.up=at(16)+3,ft.mid=at(4)+1,ft.down=at(64)+3;break;default:ft.up=at(8)+1,ft.mid=at(6)/2,ft.down=at(8)+1}var ht=["up","mid","down"];for(var pt in ht)for(var gt=ht[pt],mt=0;mt<=ft[gt];mt++)ct[gt]&&(dt+=it[gt][at(it[gt].length)])}return dt}(nt,rt)}},function(tt,et){tt.exports=function(nt){return function(rt,it,ot){if(rt===" ")return rt;switch(it%3){case 0:return nt.red(rt);case 1:return nt.white(rt);case 2:return nt.blue(rt)}}}},function(tt,et){tt.exports=function(nt){return function(rt,it,ot){return it%2==0?rt:nt.inverse(rt)}}},function(tt,et){tt.exports=function(nt){var rt=["red","yellow","green","blue","magenta"];return function(it,ot,at){return it===" "?it:nt[rt[ot++%rt.length]](it)}}},function(tt,et){tt.exports=function(nt){var rt=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(it,ot,at){return it===" "?it:nt[rt[Math.round(Math.random()*(rt.length-2))]](it)}}},function(tt,et,nt){Object.defineProperty(et,"cli",{value:nt(118)}),Object.defineProperty(et,"npm",{value:nt(119)}),Object.defineProperty(et,"syslog",{value:nt(120)})},function(tt,et,nt){et.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},et.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(tt,et,nt){et.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},et.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(tt,et,nt){et.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},et.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(tt,et,nt){var rt=nt(9);tt.exports=rt(function(it){return it.message="	".concat(it.message),it})},function(tt,et,nt){function rt(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}function it(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var ot=nt(37).Colorizer,at=nt(58).Padder,st=nt(3),lt=st.configs,ct=st.MESSAGE,ft=function(){function ut(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(this,ut),pt.levels||(pt.levels=lt.npm.levels),this.colorizer=new ot(pt),this.padder=new at(pt),this.options=pt}var dt,ht;return dt=ut,(ht=[{key:"transform",value:function(pt,gt){return this.colorizer.transform(this.padder.transform(pt,gt),gt),pt[ct]="".concat(pt.level,":").concat(pt.message),pt}}])&&it(dt.prototype,ht),ut}();tt.exports=function(ut){return new ft(ut)},tt.exports.Format=ft},function(tt,et,nt){var rt=nt(9);function it(at){if(at.every(ot))return function(st){for(var lt=st,ct=0;ct<at.length;ct++)if(!(lt=at[ct].transform(lt,at[ct].options)))return!1;return lt}}function ot(at){if(typeof at.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}tt.exports=function(){for(var at=arguments.length,st=new Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt];var ct=rt(it(st)),ft=ct();return ft.Format=ct.Format,ft},tt.exports.cascade=it},function(tt,et,nt){(function(rt){var it=nt(9),ot=nt(3).MESSAGE,at=nt(31);function st(lt,ct){return ct instanceof rt?ct.toString("base64"):typeof ct=="bigint"?ct.toString():ct}tt.exports=it(function(lt){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lt[ot]=(ct.stable?at.stableStringify:at)(lt,ct.replacer||st,ct.space),lt})}).call(this,nt(4).Buffer)},function(tt,et,nt){et.byteLength=function(ut){var dt=ct(ut),ht=dt[0],pt=dt[1];return 3*(ht+pt)/4-pt},et.toByteArray=function(ut){for(var dt,ht=ct(ut),pt=ht[0],gt=ht[1],mt=new ot(function(xt,vt,$t){return 3*(vt+$t)/4-$t}(0,pt,gt)),yt=0,bt=gt>0?pt-4:pt,St=0;St<bt;St+=4)dt=it[ut.charCodeAt(St)]<<18|it[ut.charCodeAt(St+1)]<<12|it[ut.charCodeAt(St+2)]<<6|it[ut.charCodeAt(St+3)],mt[yt++]=dt>>16&255,mt[yt++]=dt>>8&255,mt[yt++]=255&dt;return gt===2&&(dt=it[ut.charCodeAt(St)]<<2|it[ut.charCodeAt(St+1)]>>4,mt[yt++]=255&dt),gt===1&&(dt=it[ut.charCodeAt(St)]<<10|it[ut.charCodeAt(St+1)]<<4|it[ut.charCodeAt(St+2)]>>2,mt[yt++]=dt>>8&255,mt[yt++]=255&dt),mt},et.fromByteArray=function(ut){for(var dt,ht=ut.length,pt=ht%3,gt=[],mt=0,yt=ht-pt;mt<yt;mt+=16383)gt.push(ft(ut,mt,mt+16383>yt?yt:mt+16383));return pt===1?(dt=ut[ht-1],gt.push(rt[dt>>2]+rt[dt<<4&63]+"==")):pt===2&&(dt=(ut[ht-2]<<8)+ut[ht-1],gt.push(rt[dt>>10]+rt[dt>>4&63]+rt[dt<<2&63]+"=")),gt.join("")};for(var rt=[],it=[],ot=typeof Uint8Array!="undefined"?Uint8Array:Array,at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st=0,lt=at.length;st<lt;++st)rt[st]=at[st],it[at.charCodeAt(st)]=st;function ct(ut){var dt=ut.length;if(dt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ht=ut.indexOf("=");return ht===-1&&(ht=dt),[ht,ht===dt?0:4-ht%4]}function ft(ut,dt,ht){for(var pt,gt,mt=[],yt=dt;yt<ht;yt+=3)pt=(ut[yt]<<16&16711680)+(ut[yt+1]<<8&65280)+(255&ut[yt+2]),mt.push(rt[(gt=pt)>>18&63]+rt[gt>>12&63]+rt[gt>>6&63]+rt[63&gt]);return mt.join("")}it["-".charCodeAt(0)]=62,it["_".charCodeAt(0)]=63},function(tt,et){et.read=function(nt,rt,it,ot,at){var st,lt,ct=8*at-ot-1,ft=(1<<ct)-1,ut=ft>>1,dt=-7,ht=it?at-1:0,pt=it?-1:1,gt=nt[rt+ht];for(ht+=pt,st=gt&(1<<-dt)-1,gt>>=-dt,dt+=ct;dt>0;st=256*st+nt[rt+ht],ht+=pt,dt-=8);for(lt=st&(1<<-dt)-1,st>>=-dt,dt+=ot;dt>0;lt=256*lt+nt[rt+ht],ht+=pt,dt-=8);if(st===0)st=1-ut;else{if(st===ft)return lt?NaN:1/0*(gt?-1:1);lt+=Math.pow(2,ot),st-=ut}return(gt?-1:1)*lt*Math.pow(2,st-ot)},et.write=function(nt,rt,it,ot,at,st){var lt,ct,ft,ut=8*st-at-1,dt=(1<<ut)-1,ht=dt>>1,pt=at===23?Math.pow(2,-24)-Math.pow(2,-77):0,gt=ot?0:st-1,mt=ot?1:-1,yt=rt<0||rt===0&&1/rt<0?1:0;for(rt=Math.abs(rt),isNaN(rt)||rt===1/0?(ct=isNaN(rt)?1:0,lt=dt):(lt=Math.floor(Math.log(rt)/Math.LN2),rt*(ft=Math.pow(2,-lt))<1&&(lt--,ft*=2),(rt+=lt+ht>=1?pt/ft:pt*Math.pow(2,1-ht))*ft>=2&&(lt++,ft/=2),lt+ht>=dt?(ct=0,lt=dt):lt+ht>=1?(ct=(rt*ft-1)*Math.pow(2,at),lt+=ht):(ct=rt*Math.pow(2,ht-1)*Math.pow(2,at),lt=0));at>=8;nt[it+gt]=255&ct,gt+=mt,ct/=256,at-=8);for(lt=lt<<at|ct,ut+=at;ut>0;nt[it+gt]=255&lt,gt+=mt,lt/=256,ut-=8);nt[it+gt-mt]|=128*yt}},function(tt,et,nt){var rt=nt(9);tt.exports=rt(function(it,ot){return ot.message?(it.message="[".concat(ot.label,"] ").concat(it.message),it):(it.label=ot.label,it)})},function(tt,et,nt){var rt=nt(9),it=nt(3).MESSAGE,ot=nt(31);tt.exports=rt(function(at){var st={};return at.message&&(st["@message"]=at.message,delete at.message),at.timestamp&&(st["@timestamp"]=at.timestamp,delete at.timestamp),st["@fields"]=at,at[it]=ot(st),at})},function(tt,et,nt){var rt=nt(9);function it(at,st,lt){var ct,ft,ut,dt=st.reduce(function(pt,gt){return pt[gt]=at[gt],delete at[gt],pt},{}),ht=Object.keys(at).reduce(function(pt,gt){return pt[gt]=at[gt],delete at[gt],pt},{});return Object.assign(at,dt,(ut=ht,(ft=lt)in(ct={})?Object.defineProperty(ct,ft,{value:ut,enumerable:!0,configurable:!0,writable:!0}):ct[ft]=ut,ct)),at}function ot(at,st,lt){return at[lt]=st.reduce(function(ct,ft){return ct[ft]=at[ft],delete at[ft],ct},{}),at}tt.exports=rt(function(at){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lt="metadata";st.key&&(lt=st.key);var ct=[];return st.fillExcept||st.fillWith||(ct.push("level"),ct.push("message")),st.fillExcept&&(ct=st.fillExcept),ct.length>0?it(at,ct,lt):st.fillWith?ot(at,st.fillWith,lt):at})},function(tt,et,nt){var rt=nt(10).inspect,it=nt(9),ot=nt(3),at=ot.LEVEL,st=ot.MESSAGE,lt=ot.SPLAT;tt.exports=it(function(ct){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=Object.assign({},ct);return delete ut[at],delete ut[st],delete ut[lt],ct[st]=rt(ut,!1,ft.depth||null,ft.colorize),ct})},function(tt,et,nt){function rt(at,st){for(var lt=0;lt<st.length;lt++){var ct=st[lt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(at,ct.key,ct)}}var it=nt(3).MESSAGE,ot=function(){function at(ct){(function(ft,ut){if(!(ft instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,at),this.template=ct}var st,lt;return st=at,(lt=[{key:"transform",value:function(ct){return ct[it]=this.template(ct),ct}}])&&rt(st.prototype,lt),at}();tt.exports=function(at){return new ot(at)},tt.exports.Printf=tt.exports.Format=ot},function(tt,et,nt){var rt=nt(9),it=nt(3).MESSAGE,ot=nt(31);tt.exports=rt(function(at){var st=ot(Object.assign({},at,{level:void 0,message:void 0,splat:void 0})),lt=at.padding&&at.padding[at.level]||"";return at[it]=st!=="{}"?"".concat(at.level,":").concat(lt," ").concat(at.message," ").concat(st):"".concat(at.level,":").concat(lt," ").concat(at.message),at})},function(tt,et,nt){function rt(ut){return function(dt){if(Array.isArray(dt))return it(dt)}(ut)||function(dt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(dt))return Array.from(dt)}(ut)||function(dt,ht){if(!!dt){if(typeof dt=="string")return it(dt,ht);var pt=Object.prototype.toString.call(dt).slice(8,-1);if(pt==="Object"&&dt.constructor&&(pt=dt.constructor.name),pt==="Map"||pt==="Set")return Array.from(dt);if(pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pt))return it(dt,ht)}}(ut)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function it(ut,dt){(dt==null||dt>ut.length)&&(dt=ut.length);for(var ht=0,pt=new Array(dt);ht<dt;ht++)pt[ht]=ut[ht];return pt}function ot(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var at=nt(10),st=nt(3).SPLAT,lt=/%[scdjifoO%]/g,ct=/%%/g,ft=function(){function ut(pt){(function(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,ut),this.options=pt}var dt,ht;return dt=ut,(ht=[{key:"_splat",value:function(pt,gt){var mt=pt.message,yt=pt[st]||pt.splat||[],bt=mt.match(ct),St=bt&&bt.length||0,xt=gt.length-St-yt.length,vt=xt<0?yt.splice(xt,-1*xt):[],$t=vt.length;if($t)for(var zt=0;zt<$t;zt++)Object.assign(pt,vt[zt]);return pt.message=at.format.apply(at,[mt].concat(rt(yt))),pt}},{key:"transform",value:function(pt){var gt=pt.message,mt=pt[st]||pt.splat;if(!mt||!mt.length)return pt;var yt=gt&&gt.match&&gt.match(lt);if(!yt&&(mt||mt.length)){var bt=mt.length>1?mt.splice(0):mt,St=bt.length;if(St)for(var xt=0;xt<St;xt++)Object.assign(pt,bt[xt]);return pt}return yt?this._splat(pt,yt):pt}}])&&ot(dt.prototype,ht),ut}();tt.exports=function(ut){return new ft(ut)}},function(tt,et,nt){var rt=nt(135),it=nt(9);tt.exports=it(function(ot){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return at.format&&(ot.timestamp=typeof at.format=="function"?at.format():rt.format(new Date,at.format)),ot.timestamp||(ot.timestamp=new Date().toISOString()),at.alias&&(ot[at.alias]=ot.timestamp),ot})},function(tt,et,nt){nt.r(et),nt.d(et,"assign",function(){return lt}),nt.d(et,"format",function(){return Et}),nt.d(et,"parse",function(){return Rt}),nt.d(et,"defaultI18n",function(){return dt}),nt.d(et,"setGlobalDateI18n",function(){return pt}),nt.d(et,"setGlobalDateMasks",function(){return wt});var rt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,it="[^\\s]+",ot=/\[([^]*?)\]/gm;function at(It,Pt){for(var Dt=[],Ct=0,Ot=It.length;Ct<Ot;Ct++)Dt.push(It[Ct].substr(0,Pt));return Dt}var st=function(It){return function(Pt,Dt){var Ct=Dt[It].map(function(Ot){return Ot.toLowerCase()}).indexOf(Pt.toLowerCase());return Ct>-1?Ct:null}};function lt(It){for(var Pt=[],Dt=1;Dt<arguments.length;Dt++)Pt[Dt-1]=arguments[Dt];for(var Ct=0,Ot=Pt;Ct<Ot.length;Ct++){var Ut=Ot[Ct];for(var At in Ut)It[At]=Ut[At]}return It}var ct=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ft=["January","February","March","April","May","June","July","August","September","October","November","December"],ut=at(ft,3),dt={dayNamesShort:at(ct,3),dayNames:ct,monthNamesShort:ut,monthNames:ft,amPm:["am","pm"],DoFn:function(It){return It+["th","st","nd","rd"][It%10>3?0:(It-It%10!=10?1:0)*It%10]}},ht=lt({},dt),pt=function(It){return ht=lt(ht,It)},gt=function(It){return It.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},mt=function(It,Pt){for(Pt===void 0&&(Pt=2),It=String(It);It.length<Pt;)It="0"+It;return It},yt={D:function(It){return String(It.getDate())},DD:function(It){return mt(It.getDate())},Do:function(It,Pt){return Pt.DoFn(It.getDate())},d:function(It){return String(It.getDay())},dd:function(It){return mt(It.getDay())},ddd:function(It,Pt){return Pt.dayNamesShort[It.getDay()]},dddd:function(It,Pt){return Pt.dayNames[It.getDay()]},M:function(It){return String(It.getMonth()+1)},MM:function(It){return mt(It.getMonth()+1)},MMM:function(It,Pt){return Pt.monthNamesShort[It.getMonth()]},MMMM:function(It,Pt){return Pt.monthNames[It.getMonth()]},YY:function(It){return mt(String(It.getFullYear()),4).substr(2)},YYYY:function(It){return mt(It.getFullYear(),4)},h:function(It){return String(It.getHours()%12||12)},hh:function(It){return mt(It.getHours()%12||12)},H:function(It){return String(It.getHours())},HH:function(It){return mt(It.getHours())},m:function(It){return String(It.getMinutes())},mm:function(It){return mt(It.getMinutes())},s:function(It){return String(It.getSeconds())},ss:function(It){return mt(It.getSeconds())},S:function(It){return String(Math.round(It.getMilliseconds()/100))},SS:function(It){return mt(Math.round(It.getMilliseconds()/10),2)},SSS:function(It){return mt(It.getMilliseconds(),3)},a:function(It,Pt){return It.getHours()<12?Pt.amPm[0]:Pt.amPm[1]},A:function(It,Pt){return It.getHours()<12?Pt.amPm[0].toUpperCase():Pt.amPm[1].toUpperCase()},ZZ:function(It){var Pt=It.getTimezoneOffset();return(Pt>0?"-":"+")+mt(100*Math.floor(Math.abs(Pt)/60)+Math.abs(Pt)%60,4)},Z:function(It){var Pt=It.getTimezoneOffset();return(Pt>0?"-":"+")+mt(Math.floor(Math.abs(Pt)/60),2)+":"+mt(Math.abs(Pt)%60,2)}},bt=function(It){return+It-1},St=[null,"[1-9]\\d?"],xt=[null,it],vt=["isPm",it,function(It,Pt){var Dt=It.toLowerCase();return Dt===Pt.amPm[0]?0:Dt===Pt.amPm[1]?1:null}],$t=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(It){var Pt=(It+"").match(/([+-]|\d\d)/gi);if(Pt){var Dt=60*+Pt[1]+parseInt(Pt[2],10);return Pt[0]==="+"?Dt:-Dt}return 0}],zt={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+it,function(It){return parseInt(It,10)}],M:["month","[1-9]\\d?",bt],MM:["month","\\d\\d",bt],YY:["year","\\d\\d",function(It){var Pt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+It>68?Pt-1:Pt)+It)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(It){return 100*+It}],SS:["millisecond","\\d\\d",function(It){return 10*+It}],SSS:["millisecond","\\d{3}"],d:St,dd:St,ddd:xt,dddd:xt,MMM:["month",it,st("monthNamesShort")],MMMM:["month",it,st("monthNames")],a:vt,A:vt,ZZ:$t,Z:$t},Nt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},wt=function(It){return lt(Nt,It)},Et=function(It,Pt,Dt){if(Pt===void 0&&(Pt=Nt.default),Dt===void 0&&(Dt={}),typeof It=="number"&&(It=new Date(It)),Object.prototype.toString.call(It)!=="[object Date]"||isNaN(It.getTime()))throw new Error("Invalid Date pass to format");var Ct=[];Pt=(Pt=Nt[Pt]||Pt).replace(ot,function(Ut,At){return Ct.push(At),"@@@"});var Ot=lt(lt({},ht),Dt);return(Pt=Pt.replace(rt,function(Ut){return yt[Ut](It,Ot)})).replace(/@@@/g,function(){return Ct.shift()})};function Rt(It,Pt,Dt){if(Dt===void 0&&(Dt={}),typeof Pt!="string")throw new Error("Invalid format in fecha parse");if(Pt=Nt[Pt]||Pt,It.length>1e3)return null;var Ct={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Ot=[],Ut=[],At=Pt.replace(ot,function(Xt,dn){return Ut.push(gt(dn)),"@@@"}),Mt={},jt={};At=gt(At).replace(rt,function(Xt){var dn=zt[Xt],Yt=dn[0],yn=dn[1],Qt=dn[3];if(Mt[Yt])throw new Error("Invalid format. "+Yt+" specified twice in format");return Mt[Yt]=!0,Qt&&(jt[Qt]=!0),Ot.push(dn),"("+yn+")"}),Object.keys(jt).forEach(function(Xt){if(!Mt[Xt])throw new Error("Invalid format. "+Xt+" is required in specified format")}),At=At.replace(/@@@/g,function(){return Ut.shift()});var kt=It.match(new RegExp(At,"i"));if(!kt)return null;for(var Gt=lt(lt({},ht),Dt),Ht=1;Ht<kt.length;Ht++){var Jt=Ot[Ht-1],Vt=Jt[0],Wt=Jt[2],Lt=Wt?Wt(kt[Ht],Gt):+kt[Ht];if(Lt==null)return null;Ct[Vt]=Lt}Ct.isPm===1&&Ct.hour!=null&&+Ct.hour!=12?Ct.hour=+Ct.hour+12:Ct.isPm===0&&+Ct.hour==12&&(Ct.hour=0);for(var Bt=new Date(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute,Ct.second,Ct.millisecond),Ft=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],sn=(Ht=0,Ft.length);Ht<sn;Ht++)if(Mt[Ft[Ht][0]]&&Ct[Ft[Ht][0]]!==Bt[Ft[Ht][1]]())return null;return Ct.timezoneOffset==null?Bt:new Date(Date.UTC(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute-Ct.timezoneOffset,Ct.second,Ct.millisecond))}var Tt={format:Et,parse:Rt,defaultI18n:dt,setGlobalDateI18n:pt,setGlobalDateMasks:wt};et.default=Tt},function(tt,et,nt){var rt=nt(57),it=nt(9),ot=nt(3).MESSAGE;tt.exports=it(function(at,st){return st.level!==!1&&(at.level=rt.strip(at.level)),st.message!==!1&&(at.message=rt.strip(at.message)),st.raw!==!1&&at[ot]&&(at[ot]=rt.strip(at[ot])),at})},function(tt){tt.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(tt,et,nt){Object.defineProperty(et,"Console",{configurable:!0,enumerable:!0,get:function(){return nt(139)}}),Object.defineProperty(et,"File",{configurable:!0,enumerable:!0,get:function(){return nt(148)}}),Object.defineProperty(et,"Http",{configurable:!0,enumerable:!0,get:function(){return nt(188)}}),Object.defineProperty(et,"Stream",{configurable:!0,enumerable:!0,get:function(){return nt(200)}})},function(tt,et,nt){(function(rt){function it(mt){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(yt){return typeof yt}:function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(mt)}function ot(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")}function at(mt,yt){for(var bt=0;bt<yt.length;bt++){var St=yt[bt];St.enumerable=St.enumerable||!1,St.configurable=!0,"value"in St&&(St.writable=!0),Object.defineProperty(mt,St.key,St)}}function st(mt,yt){return(st=Object.setPrototypeOf||function(bt,St){return bt.__proto__=St,bt})(mt,yt)}function lt(mt){var yt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var bt,St=ft(mt);if(yt){var xt=ft(this).constructor;bt=Reflect.construct(St,arguments,xt)}else bt=St.apply(this,arguments);return ct(this,bt)}}function ct(mt,yt){return!yt||it(yt)!=="object"&&typeof yt!="function"?function(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}(mt):yt}function ft(mt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(mt)}var ut=nt(15),dt=nt(3),ht=dt.LEVEL,pt=dt.MESSAGE,gt=nt(17);tt.exports=function(mt){(function(vt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create($t&&$t.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),$t&&st(vt,$t)})(xt,mt);var yt,bt,St=lt(xt);function xt(){var vt,$t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ot(this,xt),(vt=St.call(this,$t)).name=$t.name||"console",vt.stderrLevels=vt._stringArrayToSet($t.stderrLevels),vt.consoleWarnLevels=vt._stringArrayToSet($t.consoleWarnLevels),vt.eol=$t.eol||ut.EOL,vt.setMaxListeners(30),vt}return yt=xt,(bt=[{key:"log",value:function(vt,$t){var zt=this;return rt(function(){return zt.emit("logged",vt)}),this.stderrLevels[vt[ht]]?(console._stderr?console._stderr.write("".concat(vt[pt]).concat(this.eol)):console.error(vt[pt]),void($t&&$t())):this.consoleWarnLevels[vt[ht]]?(console._stderr?console._stderr.write("".concat(vt[pt]).concat(this.eol)):console.warn(vt[pt]),void($t&&$t())):(console._stdout?console._stdout.write("".concat(vt[pt]).concat(this.eol)):console.log(vt[pt]),void($t&&$t()))}},{key:"_stringArrayToSet",value:function(vt,$t){if(!vt)return{};if($t=$t||"Cannot make set from type other than Array of string elements",!Array.isArray(vt))throw new Error($t);return vt.reduce(function(zt,Nt){if(typeof Nt!="string")throw new Error($t);return zt[Nt]=!0,zt},{})}}])&&at(yt.prototype,bt),xt}(gt)}).call(this,nt(12).setImmediate)},function(tt,et,nt){(function(rt,it){(function(ot,at){if(!ot.setImmediate){var st,lt,ct,ft,ut,dt=1,ht={},pt=!1,gt=ot.document,mt=Object.getPrototypeOf&&Object.getPrototypeOf(ot);mt=mt&&mt.setTimeout?mt:ot,{}.toString.call(ot.process)==="[object process]"?st=function(St){it.nextTick(function(){bt(St)})}:function(){if(ot.postMessage&&!ot.importScripts){var St=!0,xt=ot.onmessage;return ot.onmessage=function(){St=!1},ot.postMessage("","*"),ot.onmessage=xt,St}}()?(ft="setImmediate$"+Math.random()+"$",ut=function(St){St.source===ot&&typeof St.data=="string"&&St.data.indexOf(ft)===0&&bt(+St.data.slice(ft.length))},ot.addEventListener?ot.addEventListener("message",ut,!1):ot.attachEvent("onmessage",ut),st=function(St){ot.postMessage(ft+St,"*")}):ot.MessageChannel?((ct=new MessageChannel).port1.onmessage=function(St){bt(St.data)},st=function(St){ct.port2.postMessage(St)}):gt&&"onreadystatechange"in gt.createElement("script")?(lt=gt.documentElement,st=function(St){var xt=gt.createElement("script");xt.onreadystatechange=function(){bt(St),xt.onreadystatechange=null,lt.removeChild(xt),xt=null},lt.appendChild(xt)}):st=function(St){setTimeout(bt,0,St)},mt.setImmediate=function(St){typeof St!="function"&&(St=new Function(""+St));for(var xt=new Array(arguments.length-1),vt=0;vt<xt.length;vt++)xt[vt]=arguments[vt+1];var $t={callback:St,args:xt};return ht[dt]=$t,st(dt),dt++},mt.clearImmediate=yt}function yt(St){delete ht[St]}function bt(St){if(pt)setTimeout(bt,0,St);else{var xt=ht[St];if(xt){pt=!0;try{(function(vt){var $t=vt.callback,zt=vt.args;switch(zt.length){case 0:$t();break;case 1:$t(zt[0]);break;case 2:$t(zt[0],zt[1]);break;case 3:$t(zt[0],zt[1],zt[2]);break;default:$t.apply(void 0,zt)}})(xt)}finally{yt(St),pt=!1}}}}})(typeof self=="undefined"?rt===void 0?this:rt:self)}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=nt(60)},function(tt,et,nt){(function(rt,it){var ot=nt(13);tt.exports=xt;var at,st=nt(38);xt.ReadableState=St,nt(18).EventEmitter;var lt=function(At,Mt){return At.listeners(Mt).length},ct=nt(61),ft=nt(40).Buffer,ut=rt.Uint8Array||function(){},dt=Object.create(nt(14));dt.inherits=nt(6);var ht=nt(143),pt=void 0;pt=ht&&ht.debuglog?ht.debuglog("stream"):function(){};var gt,mt=nt(144),yt=nt(62);dt.inherits(xt,ct);var bt=["error","close","destroy","pause","resume"];function St(At,Mt){At=At||{};var jt=Mt instanceof(at=at||nt(32));this.objectMode=!!At.objectMode,jt&&(this.objectMode=this.objectMode||!!At.readableObjectMode);var kt=At.highWaterMark,Gt=At.readableHighWaterMark,Ht=this.objectMode?16:16384;this.highWaterMark=kt||kt===0?kt:jt&&(Gt||Gt===0)?Gt:Ht,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=At.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,At.encoding&&(gt||(gt=nt(19).StringDecoder),this.decoder=new gt(At.encoding),this.encoding=At.encoding)}function xt(At){if(at=at||nt(32),!(this instanceof xt))return new xt(At);this._readableState=new St(At,this),this.readable=!0,At&&(typeof At.read=="function"&&(this._read=At.read),typeof At.destroy=="function"&&(this._destroy=At.destroy)),ct.call(this)}function vt(At,Mt,jt,kt,Gt){var Ht,Jt=At._readableState;return Mt===null?(Jt.reading=!1,function(Vt,Wt){if(!Wt.ended){if(Wt.decoder){var Lt=Wt.decoder.end();Lt&&Lt.length&&(Wt.buffer.push(Lt),Wt.length+=Wt.objectMode?1:Lt.length)}Wt.ended=!0,Nt(Vt)}}(At,Jt)):(Gt||(Ht=function(Vt,Wt){var Lt;Bt=Wt,ft.isBuffer(Bt)||Bt instanceof ut||typeof Wt=="string"||Wt===void 0||Vt.objectMode||(Lt=new TypeError("Invalid non-string/buffer chunk"));var Bt;return Lt}(Jt,Mt)),Ht?At.emit("error",Ht):Jt.objectMode||Mt&&Mt.length>0?(typeof Mt=="string"||Jt.objectMode||Object.getPrototypeOf(Mt)===ft.prototype||(Mt=function(Vt){return ft.from(Vt)}(Mt)),kt?Jt.endEmitted?At.emit("error",new Error("stream.unshift() after end event")):$t(At,Jt,Mt,!0):Jt.ended?At.emit("error",new Error("stream.push() after EOF")):(Jt.reading=!1,Jt.decoder&&!jt?(Mt=Jt.decoder.write(Mt),Jt.objectMode||Mt.length!==0?$t(At,Jt,Mt,!1):Et(At,Jt)):$t(At,Jt,Mt,!1))):kt||(Jt.reading=!1)),function(Vt){return!Vt.ended&&(Vt.needReadable||Vt.length<Vt.highWaterMark||Vt.length===0)}(Jt)}function $t(At,Mt,jt,kt){Mt.flowing&&Mt.length===0&&!Mt.sync?(At.emit("data",jt),At.read(0)):(Mt.length+=Mt.objectMode?1:jt.length,kt?Mt.buffer.unshift(jt):Mt.buffer.push(jt),Mt.needReadable&&Nt(At)),Et(At,Mt)}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(At){this._readableState&&(this._readableState.destroyed=At)}}),xt.prototype.destroy=yt.destroy,xt.prototype._undestroy=yt.undestroy,xt.prototype._destroy=function(At,Mt){this.push(null),Mt(At)},xt.prototype.push=function(At,Mt){var jt,kt=this._readableState;return kt.objectMode?jt=!0:typeof At=="string"&&((Mt=Mt||kt.defaultEncoding)!==kt.encoding&&(At=ft.from(At,Mt),Mt=""),jt=!0),vt(this,At,Mt,!1,jt)},xt.prototype.unshift=function(At){return vt(this,At,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(At){return gt||(gt=nt(19).StringDecoder),this._readableState.decoder=new gt(At),this._readableState.encoding=At,this};function zt(At,Mt){return At<=0||Mt.length===0&&Mt.ended?0:Mt.objectMode?1:At!=At?Mt.flowing&&Mt.length?Mt.buffer.head.data.length:Mt.length:(At>Mt.highWaterMark&&(Mt.highWaterMark=function(jt){return jt>=8388608?jt=8388608:(jt--,jt|=jt>>>1,jt|=jt>>>2,jt|=jt>>>4,jt|=jt>>>8,jt|=jt>>>16,jt++),jt}(At)),At<=Mt.length?At:Mt.ended?Mt.length:(Mt.needReadable=!0,0))}function Nt(At){var Mt=At._readableState;Mt.needReadable=!1,Mt.emittedReadable||(pt("emitReadable",Mt.flowing),Mt.emittedReadable=!0,Mt.sync?ot.nextTick(wt,At):wt(At))}function wt(At){pt("emit readable"),At.emit("readable"),Pt(At)}function Et(At,Mt){Mt.readingMore||(Mt.readingMore=!0,ot.nextTick(Rt,At,Mt))}function Rt(At,Mt){for(var jt=Mt.length;!Mt.reading&&!Mt.flowing&&!Mt.ended&&Mt.length<Mt.highWaterMark&&(pt("maybeReadMore read 0"),At.read(0),jt!==Mt.length);)jt=Mt.length;Mt.readingMore=!1}function Tt(At){pt("readable nexttick read 0"),At.read(0)}function It(At,Mt){Mt.reading||(pt("resume read 0"),At.read(0)),Mt.resumeScheduled=!1,Mt.awaitDrain=0,At.emit("resume"),Pt(At),Mt.flowing&&!Mt.reading&&At.read(0)}function Pt(At){var Mt=At._readableState;for(pt("flow",Mt.flowing);Mt.flowing&&At.read()!==null;);}function Dt(At,Mt){return Mt.length===0?null:(Mt.objectMode?jt=Mt.buffer.shift():!At||At>=Mt.length?(jt=Mt.decoder?Mt.buffer.join(""):Mt.buffer.length===1?Mt.buffer.head.data:Mt.buffer.concat(Mt.length),Mt.buffer.clear()):jt=function(kt,Gt,Ht){var Jt;return kt<Gt.head.data.length?(Jt=Gt.head.data.slice(0,kt),Gt.head.data=Gt.head.data.slice(kt)):Jt=kt===Gt.head.data.length?Gt.shift():Ht?function(Vt,Wt){var Lt=Wt.head,Bt=1,Ft=Lt.data;for(Vt-=Ft.length;Lt=Lt.next;){var sn=Lt.data,Xt=Vt>sn.length?sn.length:Vt;if(Xt===sn.length?Ft+=sn:Ft+=sn.slice(0,Vt),(Vt-=Xt)===0){Xt===sn.length?(++Bt,Lt.next?Wt.head=Lt.next:Wt.head=Wt.tail=null):(Wt.head=Lt,Lt.data=sn.slice(Xt));break}++Bt}return Wt.length-=Bt,Ft}(kt,Gt):function(Vt,Wt){var Lt=ft.allocUnsafe(Vt),Bt=Wt.head,Ft=1;for(Bt.data.copy(Lt),Vt-=Bt.data.length;Bt=Bt.next;){var sn=Bt.data,Xt=Vt>sn.length?sn.length:Vt;if(sn.copy(Lt,Lt.length-Vt,0,Xt),(Vt-=Xt)===0){Xt===sn.length?(++Ft,Bt.next?Wt.head=Bt.next:Wt.head=Wt.tail=null):(Wt.head=Bt,Bt.data=sn.slice(Xt));break}++Ft}return Wt.length-=Ft,Lt}(kt,Gt),Jt}(At,Mt.buffer,Mt.decoder),jt);var jt}function Ct(At){var Mt=At._readableState;if(Mt.length>0)throw new Error('"endReadable()" called on non-empty stream');Mt.endEmitted||(Mt.ended=!0,ot.nextTick(Ot,Mt,At))}function Ot(At,Mt){At.endEmitted||At.length!==0||(At.endEmitted=!0,Mt.readable=!1,Mt.emit("end"))}function Ut(At,Mt){for(var jt=0,kt=At.length;jt<kt;jt++)if(At[jt]===Mt)return jt;return-1}xt.prototype.read=function(At){pt("read",At),At=parseInt(At,10);var Mt=this._readableState,jt=At;if(At!==0&&(Mt.emittedReadable=!1),At===0&&Mt.needReadable&&(Mt.length>=Mt.highWaterMark||Mt.ended))return pt("read: emitReadable",Mt.length,Mt.ended),Mt.length===0&&Mt.ended?Ct(this):Nt(this),null;if((At=zt(At,Mt))===0&&Mt.ended)return Mt.length===0&&Ct(this),null;var kt,Gt=Mt.needReadable;return pt("need readable",Gt),(Mt.length===0||Mt.length-At<Mt.highWaterMark)&&pt("length less than watermark",Gt=!0),Mt.ended||Mt.reading?pt("reading or ended",Gt=!1):Gt&&(pt("do read"),Mt.reading=!0,Mt.sync=!0,Mt.length===0&&(Mt.needReadable=!0),this._read(Mt.highWaterMark),Mt.sync=!1,Mt.reading||(At=zt(jt,Mt))),(kt=At>0?Dt(At,Mt):null)===null?(Mt.needReadable=!0,At=0):Mt.length-=At,Mt.length===0&&(Mt.ended||(Mt.needReadable=!0),jt!==At&&Mt.ended&&Ct(this)),kt!==null&&this.emit("data",kt),kt},xt.prototype._read=function(At){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(At,Mt){var jt=this,kt=this._readableState;switch(kt.pipesCount){case 0:kt.pipes=At;break;case 1:kt.pipes=[kt.pipes,At];break;default:kt.pipes.push(At)}kt.pipesCount+=1,pt("pipe count=%d opts=%j",kt.pipesCount,Mt);var Gt=(!Mt||Mt.end!==!1)&&At!==it.stdout&&At!==it.stderr?Jt:dn;function Ht(Yt,yn){pt("onunpipe"),Yt===jt&&yn&&yn.hasUnpiped===!1&&(yn.hasUnpiped=!0,pt("cleanup"),At.removeListener("close",sn),At.removeListener("finish",Xt),At.removeListener("drain",Vt),At.removeListener("error",Ft),At.removeListener("unpipe",Ht),jt.removeListener("end",Jt),jt.removeListener("end",dn),jt.removeListener("data",Bt),Wt=!0,!kt.awaitDrain||At._writableState&&!At._writableState.needDrain||Vt())}function Jt(){pt("onend"),At.end()}kt.endEmitted?ot.nextTick(Gt):jt.once("end",Gt),At.on("unpipe",Ht);var Vt=function(Yt){return function(){var yn=Yt._readableState;pt("pipeOnDrain",yn.awaitDrain),yn.awaitDrain&&yn.awaitDrain--,yn.awaitDrain===0&&lt(Yt,"data")&&(yn.flowing=!0,Pt(Yt))}}(jt);At.on("drain",Vt);var Wt=!1,Lt=!1;function Bt(Yt){pt("ondata"),Lt=!1,At.write(Yt)!==!1||Lt||((kt.pipesCount===1&&kt.pipes===At||kt.pipesCount>1&&Ut(kt.pipes,At)!==-1)&&!Wt&&(pt("false write response, pause",jt._readableState.awaitDrain),jt._readableState.awaitDrain++,Lt=!0),jt.pause())}function Ft(Yt){pt("onerror",Yt),dn(),At.removeListener("error",Ft),lt(At,"error")===0&&At.emit("error",Yt)}function sn(){At.removeListener("finish",Xt),dn()}function Xt(){pt("onfinish"),At.removeListener("close",sn),dn()}function dn(){pt("unpipe"),jt.unpipe(At)}return jt.on("data",Bt),function(Yt,yn,Qt){if(typeof Yt.prependListener=="function")return Yt.prependListener(yn,Qt);Yt._events&&Yt._events[yn]?st(Yt._events[yn])?Yt._events[yn].unshift(Qt):Yt._events[yn]=[Qt,Yt._events[yn]]:Yt.on(yn,Qt)}(At,"error",Ft),At.once("close",sn),At.once("finish",Xt),At.emit("pipe",jt),kt.flowing||(pt("pipe resume"),jt.resume()),At},xt.prototype.unpipe=function(At){var Mt=this._readableState,jt={hasUnpiped:!1};if(Mt.pipesCount===0)return this;if(Mt.pipesCount===1)return At&&At!==Mt.pipes||(At||(At=Mt.pipes),Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1,At&&At.emit("unpipe",this,jt)),this;if(!At){var kt=Mt.pipes,Gt=Mt.pipesCount;Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1;for(var Ht=0;Ht<Gt;Ht++)kt[Ht].emit("unpipe",this,jt);return this}var Jt=Ut(Mt.pipes,At);return Jt===-1||(Mt.pipes.splice(Jt,1),Mt.pipesCount-=1,Mt.pipesCount===1&&(Mt.pipes=Mt.pipes[0]),At.emit("unpipe",this,jt)),this},xt.prototype.on=function(At,Mt){var jt=ct.prototype.on.call(this,At,Mt);if(At==="data")this._readableState.flowing!==!1&&this.resume();else if(At==="readable"){var kt=this._readableState;kt.endEmitted||kt.readableListening||(kt.readableListening=kt.needReadable=!0,kt.emittedReadable=!1,kt.reading?kt.length&&Nt(this):ot.nextTick(Tt,this))}return jt},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var At=this._readableState;return At.flowing||(pt("resume"),At.flowing=!0,function(Mt,jt){jt.resumeScheduled||(jt.resumeScheduled=!0,ot.nextTick(It,Mt,jt))}(this,At)),this},xt.prototype.pause=function(){return pt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(At){var Mt=this,jt=this._readableState,kt=!1;for(var Gt in At.on("end",function(){if(pt("wrapped end"),jt.decoder&&!jt.ended){var Jt=jt.decoder.end();Jt&&Jt.length&&Mt.push(Jt)}Mt.push(null)}),At.on("data",function(Jt){pt("wrapped data"),jt.decoder&&(Jt=jt.decoder.write(Jt)),jt.objectMode&&Jt==null||(jt.objectMode||Jt&&Jt.length)&&(Mt.push(Jt)||(kt=!0,At.pause()))}),At)this[Gt]===void 0&&typeof At[Gt]=="function"&&(this[Gt]=function(Jt){return function(){return At[Jt].apply(At,arguments)}}(Gt));for(var Ht=0;Ht<bt.length;Ht++)At.on(bt[Ht],this.emit.bind(this,bt[Ht]));return this._read=function(Jt){pt("wrapped _read",Jt),kt&&(kt=!1,At.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=Dt}).call(this,nt(5),nt(2))},function(tt,et){},function(tt,et,nt){var rt=nt(40).Buffer,it=nt(145);tt.exports=function(){function ot(){(function(at,st){if(!(at instanceof st))throw new TypeError("Cannot call a class as a function")})(this,ot),this.head=null,this.tail=null,this.length=0}return ot.prototype.push=function(at){var st={data:at,next:null};this.length>0?this.tail.next=st:this.head=st,this.tail=st,++this.length},ot.prototype.unshift=function(at){var st={data:at,next:this.head};this.length===0&&(this.tail=st),this.head=st,++this.length},ot.prototype.shift=function(){if(this.length!==0){var at=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,at}},ot.prototype.clear=function(){this.head=this.tail=null,this.length=0},ot.prototype.join=function(at){if(this.length===0)return"";for(var st=this.head,lt=""+st.data;st=st.next;)lt+=at+st.data;return lt},ot.prototype.concat=function(at){if(this.length===0)return rt.alloc(0);if(this.length===1)return this.head.data;for(var st,lt,ct,ft=rt.allocUnsafe(at>>>0),ut=this.head,dt=0;ut;)st=ut.data,lt=ft,ct=dt,st.copy(lt,ct),dt+=ut.data.length,ut=ut.next;return ft},ot}(),it&&it.inspect&&it.inspect.custom&&(tt.exports.prototype[it.inspect.custom]=function(){var ot=it.inspect({length:this.length});return this.constructor.name+" "+ot})},function(tt,et){},function(tt,et,nt){var rt=nt(4),it=rt.Buffer;function ot(st,lt){for(var ct in st)lt[ct]=st[ct]}function at(st,lt,ct){return it(st,lt,ct)}it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?tt.exports=rt:(ot(rt,et),et.Buffer=at),ot(it,at),at.from=function(st,lt,ct){if(typeof st=="number")throw new TypeError("Argument must not be a number");return it(st,lt,ct)},at.alloc=function(st,lt,ct){if(typeof st!="number")throw new TypeError("Argument must be a number");var ft=it(st);return lt!==void 0?typeof ct=="string"?ft.fill(lt,ct):ft.fill(lt):ft.fill(0),ft},at.allocUnsafe=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return it(st)},at.allocUnsafeSlow=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return rt.SlowBuffer(st)}},function(tt,et,nt){var rt=nt(10),it=nt(3).LEVEL,ot=nt(17),at=tt.exports=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ot.call(this,st),!st.transport||typeof st.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function lt(ct){this.emit("error",ct,this.transport)}this.transport=st.transport,this.level=this.level||st.transport.level,this.handleExceptions=this.handleExceptions||st.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=lt.bind(this),this.transport.on("error",this.transport.__winstonError))};rt.inherits(at,ot),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);(!this.level||this.levels[this.level]>=this.levels[st[it]])&&this.transport.log(st[it],st.message,st,this._nop),ct(null)},at.prototype._writev=function(st,lt){for(var ct=0;ct<st.length;ct++)this._accept(st[ct])&&(this.transport.log(st[ct].chunk[it],st[ct].chunk.message,st[ct].chunk,this._nop),st[ct].callback());return lt(null)},at.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},at.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(tt,et,nt){(function(rt,it){function ot(wt){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Et){return typeof Et}:function(Et){return Et&&typeof Symbol=="function"&&Et.constructor===Symbol&&Et!==Symbol.prototype?"symbol":typeof Et})(wt)}function at(wt,Et){if(!(wt instanceof Et))throw new TypeError("Cannot call a class as a function")}function st(wt,Et){for(var Rt=0;Rt<Et.length;Rt++){var Tt=Et[Rt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(wt,Tt.key,Tt)}}function lt(wt,Et){return(lt=Object.setPrototypeOf||function(Rt,Tt){return Rt.__proto__=Tt,Rt})(wt,Et)}function ct(wt){var Et=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Rt,Tt=dt(wt);if(Et){var It=dt(this).constructor;Rt=Reflect.construct(Tt,arguments,It)}else Rt=Tt.apply(this,arguments);return ft(this,Rt)}}function ft(wt,Et){return!Et||ot(Et)!=="object"&&typeof Et!="function"?ut(wt):Et}function ut(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function dt(wt){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(Et){return Et.__proto__||Object.getPrototypeOf(Et)})(wt)}var ht=nt(63),pt=nt(53),gt=nt(149),mt=nt(159),yt=nt(3).MESSAGE,bt=nt(29),St=bt.Stream,xt=bt.PassThrough,vt=nt(17),$t=nt(34)("winston:file"),zt=nt(15),Nt=nt(187);tt.exports=function(wt){(function(Pt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");Pt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:Pt,writable:!0,configurable:!0}}),Dt&&lt(Pt,Dt)})(It,wt);var Et,Rt,Tt=ct(It);function It(){var Pt,Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Ct(Ot){for(var Ut=arguments.length,At=new Array(Ut>1?Ut-1:0),Mt=1;Mt<Ut;Mt++)At[Mt-1]=arguments[Mt];At.slice(1).forEach(function(jt){if(Dt[jt])throw new Error("Cannot set ".concat(jt," and ").concat(Ot," together"))})}if(at(this,It),(Pt=Tt.call(this,Dt)).name=Dt.name||"file",Pt._stream=new xt,Pt._stream.setMaxListeners(30),Pt._onError=Pt._onError.bind(ut(Pt)),Dt.filename||Dt.dirname)Ct("filename or dirname","stream"),Pt._basename=Pt.filename=Dt.filename?pt.basename(Dt.filename):"winston.log",Pt.dirname=Dt.dirname||pt.dirname(Dt.filename),Pt.options=Dt.options||{flags:"a"};else{if(!Dt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),Ct("stream","filename","maxsize"),Pt._dest=Pt._stream.pipe(Pt._setupStream(Dt.stream)),Pt.dirname=pt.dirname(Pt._dest.path)}return Pt.maxsize=Dt.maxsize||null,Pt.rotationFormat=Dt.rotationFormat||!1,Pt.zippedArchive=Dt.zippedArchive||!1,Pt.maxFiles=Dt.maxFiles||null,Pt.eol=Dt.eol||zt.EOL,Pt.tailable=Dt.tailable||!1,Pt._size=0,Pt._pendingSize=0,Pt._created=0,Pt._drain=!1,Pt._opening=!1,Pt._ending=!1,Pt.dirname&&Pt._createLogDirIfNotExist(Pt.dirname),Pt.open(),Pt}return Et=It,(Rt=[{key:"finishIfEnding",value:function(){var Pt=this;this._ending&&(this._opening?this.once("open",function(){Pt._stream.once("finish",function(){return Pt.emit("finish")}),rt(function(){return Pt._stream.end()})}):(this._stream.once("finish",function(){return Pt.emit("finish")}),rt(function(){return Pt._stream.end()})))}},{key:"log",value:function(Pt){var Dt=this,Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return Ct(),!0;if(this._drain)this._stream.once("drain",function(){Dt._drain=!1,Dt.log(Pt,Ct)});else{if(!this._rotate){var Ot="".concat(Pt[yt]).concat(this.eol),Ut=it.byteLength(Ot);this._pendingSize+=Ut,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var At=this._stream.write(Ot,Mt.bind(this));return At?Ct():(this._drain=!0,this._stream.once("drain",function(){Dt._drain=!1,Ct()})),$t("written",At,this._drain),this.finishIfEnding(),At}this._stream.once("rotate",function(){Dt._rotate=!1,Dt.log(Pt,Ct)})}function Mt(){var jt=this;this._size+=Ut,this._pendingSize-=Ut,$t("logged %s %s",this._size,Ot),this.emit("logged",Pt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return jt._rotateFile()}))}}},{key:"query",value:function(Pt,Dt){typeof Pt=="function"&&(Dt=Pt,Pt={}),Pt=function(kt){return(kt=kt||{}).rows=kt.rows||kt.limit||10,kt.start=kt.start||0,kt.until=kt.until||new Date,ot(kt.until)!=="object"&&(kt.until=new Date(kt.until)),kt.from=kt.from||kt.until-864e5,ot(kt.from)!=="object"&&(kt.from=new Date(kt.from)),kt.order=kt.order||"desc",kt}(Pt);var Ct=pt.join(this.dirname,this.filename),Ot="",Ut=[],At=0,Mt=ht.createReadStream(Ct,{encoding:"utf8"});function jt(kt,Gt){try{var Ht=JSON.parse(kt);(function(Jt){if(Jt&&ot(Jt)==="object"){var Vt=new Date(Jt.timestamp);if(!(Pt.from&&Vt<Pt.from||Pt.until&&Vt>Pt.until||Pt.level&&Pt.level!==Jt.level))return!0}})(Ht)&&function(Jt){Pt.rows&&Ut.length>=Pt.rows&&Pt.order!=="desc"?Mt.readable&&Mt.destroy():(Pt.fields&&(Jt=Pt.fields.reduce(function(Vt,Wt){return Vt[Wt]=Jt[Wt],Vt},{})),Pt.order==="desc"&&Ut.length>=Pt.rows&&Ut.shift(),Ut.push(Jt))}(Ht)}catch(Jt){Gt||Mt.emit("error",Jt)}}Mt.on("error",function(kt){if(Mt.readable&&Mt.destroy(),Dt)return kt.code!=="ENOENT"?Dt(kt):Dt(null,Ut)}),Mt.on("data",function(kt){for(var Gt=(kt=(Ot+kt).split(/\n+/)).length-1,Ht=0;Ht<Gt;Ht++)(!Pt.start||At>=Pt.start)&&jt(kt[Ht]),At++;Ot=kt[Gt]}),Mt.on("close",function(){Ot&&jt(Ot,!0),Pt.order==="desc"&&(Ut=Ut.reverse()),Dt&&Dt(null,Ut)})}},{key:"stream",value:function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Dt=pt.join(this.dirname,this.filename),Ct=new St,Ot={file:Dt,start:Pt.start};return Ct.destroy=Nt(Ot,function(Ut,At){if(Ut)return Ct.emit("error",Ut);try{Ct.emit("data",At),At=JSON.parse(At),Ct.emit("log",At)}catch(Mt){Ct.emit("error",Mt)}}),Ct}},{key:"open",value:function(){var Pt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Dt,Ct){if(Dt)return Pt.emit("error",Dt);$t("stat done: %s { size: %s }",Pt.filename,Ct),Pt._size=Ct,Pt._dest=Pt._createStream(Pt._stream),Pt._opening=!1,Pt.once("open",function(){Pt._stream.eventNames().includes("rotate")?Pt._stream.emit("rotate"):Pt._rotate=!1})})))}},{key:"stat",value:function(Pt){var Dt=this,Ct=this._getFile(),Ot=pt.join(this.dirname,Ct);ht.stat(Ot,function(Ut,At){return Ut&&Ut.code==="ENOENT"?($t("ENOENT\xA0ok",Ot),Dt.filename=Ct,Pt(null,0)):Ut?($t("err ".concat(Ut.code," ").concat(Ot)),Pt(Ut)):!At||Dt._needsNewFile(At.size)?Dt._incFile(function(){return Dt.stat(Pt)}):(Dt.filename=Ct,void Pt(null,At.size))})}},{key:"close",value:function(Pt){var Dt=this;this._stream&&this._stream.end(function(){Pt&&Pt(),Dt.emit("flush"),Dt.emit("closed")})}},{key:"_needsNewFile",value:function(Pt){return Pt=Pt||this._size,this.maxsize&&Pt>=this.maxsize}},{key:"_onError",value:function(Pt){this.emit("error",Pt)}},{key:"_setupStream",value:function(Pt){return Pt.on("error",this._onError),Pt}},{key:"_cleanupStream",value:function(Pt){return Pt.removeListener("error",this._onError),Pt}},{key:"_rotateFile",value:function(){var Pt=this;this._incFile(function(){return Pt.open()})}},{key:"_endStream",value:function(){var Pt=this,Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){Pt._cleanupStream(Pt._dest),Dt()})):Dt()}},{key:"_createStream",value:function(Pt){var Dt=this,Ct=pt.join(this.dirname,this.filename);$t("create stream start",Ct,this.options);var Ot=ht.createWriteStream(Ct,this.options).on("error",function(At){return $t(At)}).on("close",function(){return $t("close",Ot.path,Ot.bytesWritten)}).on("open",function(){$t("file open ok",Ct),Dt.emit("open",Ct),Pt.pipe(Ot),Dt.rotatedWhileOpening&&(Dt._stream=new xt,Dt._stream.setMaxListeners(30),Dt._rotateFile(),Dt.rotatedWhileOpening=!1,Dt._cleanupStream(Ot),Pt.end())});if($t("create stream ok",Ct),this.zippedArchive){var Ut=mt.createGzip();return Ut.pipe(Ot),Ut}return Ot}},{key:"_incFile",value:function(Pt){$t("_incFile",this.filename);var Dt=pt.extname(this._basename),Ct=pt.basename(this._basename,Dt);this.tailable?this._checkMaxFilesTailable(Dt,Ct,Pt):(this._created+=1,this._checkMaxFilesIncrementing(Dt,Ct,Pt))}},{key:"_getFile",value:function(){var Pt=pt.extname(this._basename),Dt=pt.basename(this._basename,Pt),Ct=this.rotationFormat?this.rotationFormat():this._created,Ot=!this.tailable&&this._created?"".concat(Dt).concat(Ct).concat(Pt):"".concat(Dt).concat(Pt);return this.zippedArchive&&!this.tailable?"".concat(Ot,".gz"):Ot}},{key:"_checkMaxFilesIncrementing",value:function(Pt,Dt,Ct){if(!this.maxFiles||this._created<this.maxFiles)return rt(Ct);var Ot=this._created-this.maxFiles,Ut=Ot!==0?Ot:"",At=this.zippedArchive?".gz":"",Mt="".concat(Dt).concat(Ut).concat(Pt).concat(At),jt=pt.join(this.dirname,Mt);ht.unlink(jt,Ct)}},{key:"_checkMaxFilesTailable",value:function(Pt,Dt,Ct){var Ot=this,Ut=[];if(this.maxFiles){for(var At=this.zippedArchive?".gz":"",Mt=this.maxFiles-1;Mt>1;Mt--)Ut.push(function(jt,kt){var Gt=this,Ht="".concat(Dt).concat(jt-1).concat(Pt).concat(At),Jt=pt.join(this.dirname,Ht);ht.exists(Jt,function(Vt){if(!Vt)return kt(null);Ht="".concat(Dt).concat(jt).concat(Pt).concat(At),ht.rename(Jt,pt.join(Gt.dirname,Ht),kt)})}.bind(this,Mt));gt(Ut,function(){ht.rename(pt.join(Ot.dirname,"".concat(Dt).concat(Pt)),pt.join(Ot.dirname,"".concat(Dt,"1").concat(Pt).concat(At)),Ct)})}}},{key:"_createLogDirIfNotExist",value:function(Pt){ht.existsSync(Pt)||ht.mkdirSync(Pt,{recursive:!0})}}])&&st(Et.prototype,Rt),It}(vt)}).call(this,nt(12).setImmediate,nt(4).Buffer)},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(at,st){return(0,rt.default)(it.default,at,st)};var rt=ot(nt(150)),it=ot(nt(154));function ot(at){return at&&at.__esModule?at:{default:at}}tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=at(nt(41)),it=at(nt(23)),ot=at(nt(27));function at(st){return st&&st.__esModule?st:{default:st}}et.default=(0,ot.default)((st,lt,ct)=>{var ft=(0,rt.default)(lt)?[]:{};st(lt,(ut,dt,ht)=>{(0,it.default)(ut)((pt,...gt)=>{gt.length<2&&([gt]=gt),ft[dt]=gt,ht(pt)})},ut=>ct(ut,ft))},3),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(ct){return(0,ot.isAsync)(ct)?function(...ft){const ut=ft.pop();return st(ct.apply(this,ft),ut)}:(0,rt.default)(function(ft,ut){var dt;try{dt=ct.apply(this,ft)}catch(ht){return ut(ht)}if(dt&&typeof dt.then=="function")return st(dt,ut);ut(null,dt)})};var rt=at(nt(152)),it=at(nt(153)),ot=nt(23);function at(ct){return ct&&ct.__esModule?ct:{default:ct}}function st(ct,ft){return ct.then(ut=>{lt(ft,null,ut)},ut=>{lt(ft,ut&&ut.message?ut:new Error(ut))})}function lt(ct,ft,ut){try{ct(ft,ut)}catch(dt){(0,it.default)(ht=>{throw ht},dt)}}tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return function(...it){var ot=it.pop();return rt.call(this,it,ot)}},tt.exports=et.default},function(tt,et,nt){(function(rt,it){Object.defineProperty(et,"__esModule",{value:!0}),et.fallback=lt,et.wrap=ct;var ot,at=et.hasSetImmediate=typeof rt=="function"&&rt,st=et.hasNextTick=typeof it=="object"&&typeof it.nextTick=="function";function lt(ft){setTimeout(ft,0)}function ct(ft){return(ut,...dt)=>ft(()=>ut(...dt))}ot=at?rt:st?it.nextTick:lt,et.default=ct(ot)}).call(this,nt(12).setImmediate,nt(2))},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=ot(nt(64)),it=ot(nt(27));function ot(at){return at&&at.__esModule?at:{default:at}}et.default=(0,it.default)(function(at,st,lt){return(0,rt.default)(at,1,st,lt)},3),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=ct(nt(65)),it=ct(nt(156)),ot=ct(nt(66)),at=nt(23),st=ct(nt(158)),lt=ct(nt(42));function ct(ft){return ft&&ft.__esModule?ft:{default:ft}}et.default=ft=>(ut,dt,ht)=>{if(ht=(0,rt.default)(ht),ft<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!ut)return ht(null);if((0,at.isAsyncGenerator)(ut))return(0,st.default)(ut,ft,dt,ht);if((0,at.isAsyncIterable)(ut))return(0,st.default)(ut[Symbol.asyncIterator](),ft,dt,ht);var pt=(0,it.default)(ut),gt=!1,mt=!1,yt=0,bt=!1;function St(vt,$t){if(!mt)if(yt-=1,vt)gt=!0,ht(vt);else if(vt===!1)gt=!0,mt=!0;else{if($t===lt.default||gt&&yt<=0)return gt=!0,ht(null);bt||xt()}}function xt(){for(bt=!0;yt<ft&&!gt;){var vt=pt();if(vt===null)return gt=!0,void(yt<=0&&ht(null));yt+=1,dt(vt.value,vt.key,(0,ot.default)(St))}bt=!1}xt()},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(at){if((0,rt.default)(at))return function(dt){var ht=-1,pt=dt.length;return function(){return++ht<pt?{value:dt[ht],key:ht}:null}}(at);var st=(0,it.default)(at);return st?function(dt){var ht=-1;return function(){var pt=dt.next();return pt.done?null:(ht++,{value:pt.value,key:ht})}}(st):(lt=at,ct=lt?Object.keys(lt):[],ft=-1,ut=ct.length,function(){var dt=ct[++ft];return ft<ut?{value:lt[dt],key:dt}:null});var lt,ct,ft,ut};var rt=ot(nt(41)),it=ot(nt(157));function ot(at){return at&&at.__esModule?at:{default:at}}tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return rt[Symbol.iterator]&&rt[Symbol.iterator]()},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(at,st,lt,ct){let ft=!1,ut=!1,dt=!1,ht=0,pt=0;function gt(){ht>=st||dt||ft||(dt=!0,at.next().then(({value:bt,done:St})=>{if(!ut&&!ft){if(dt=!1,St)return ft=!0,void(ht<=0&&ct(null));ht++,lt(bt,pt,mt),pt++,gt()}}).catch(yt))}function mt(bt,St){if(ht-=1,!ut)return bt?yt(bt):bt===!1?(ft=!0,void(ut=!0)):St===ot.default||ft&&ht<=0?(ft=!0,ct(null)):void gt()}function yt(bt){ut||(dt=!1,ft=!0,ct(bt))}gt()};var rt,it=nt(42),ot=(rt=it)&&rt.__esModule?rt:{default:rt};tt.exports=et.default},function(tt,et,nt){(function(rt){var it=nt(4).Buffer,ot=nt(160).Transform,at=nt(168),st=nt(10),lt=nt(72).ok,ct=nt(4).kMaxLength,ft="Cannot create final Buffer. It would be larger than 0x"+ct.toString(16)+" bytes";at.Z_MIN_WINDOWBITS=8,at.Z_MAX_WINDOWBITS=15,at.Z_DEFAULT_WINDOWBITS=15,at.Z_MIN_CHUNK=64,at.Z_MAX_CHUNK=1/0,at.Z_DEFAULT_CHUNK=16384,at.Z_MIN_MEMLEVEL=1,at.Z_MAX_MEMLEVEL=9,at.Z_DEFAULT_MEMLEVEL=8,at.Z_MIN_LEVEL=-1,at.Z_MAX_LEVEL=9,at.Z_DEFAULT_LEVEL=at.Z_DEFAULT_COMPRESSION;for(var ut=Object.keys(at),dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.match(/^Z/)&&Object.defineProperty(et,ht,{enumerable:!0,value:at[ht],writable:!1})}for(var pt={Z_OK:at.Z_OK,Z_STREAM_END:at.Z_STREAM_END,Z_NEED_DICT:at.Z_NEED_DICT,Z_ERRNO:at.Z_ERRNO,Z_STREAM_ERROR:at.Z_STREAM_ERROR,Z_DATA_ERROR:at.Z_DATA_ERROR,Z_MEM_ERROR:at.Z_MEM_ERROR,Z_BUF_ERROR:at.Z_BUF_ERROR,Z_VERSION_ERROR:at.Z_VERSION_ERROR},gt=Object.keys(pt),mt=0;mt<gt.length;mt++){var yt=gt[mt];pt[pt[yt]]=yt}function bt(Dt,Ct,Ot){var Ut=[],At=0;function Mt(){for(var kt;(kt=Dt.read())!==null;)Ut.push(kt),At+=kt.length;Dt.once("readable",Mt)}function jt(){var kt,Gt=null;At>=ct?Gt=new RangeError(ft):kt=it.concat(Ut,At),Ut=[],Dt.close(),Ot(Gt,kt)}Dt.on("error",function(kt){Dt.removeListener("end",jt),Dt.removeListener("readable",Mt),Ot(kt)}),Dt.on("end",jt),Dt.end(Ct),Mt()}function St(Dt,Ct){if(typeof Ct=="string"&&(Ct=it.from(Ct)),!it.isBuffer(Ct))throw new TypeError("Not a string or buffer");var Ot=Dt._finishFlushFlag;return Dt._processChunk(Ct,Ot)}function xt(Dt){if(!(this instanceof xt))return new xt(Dt);Tt.call(this,Dt,at.DEFLATE)}function vt(Dt){if(!(this instanceof vt))return new vt(Dt);Tt.call(this,Dt,at.INFLATE)}function $t(Dt){if(!(this instanceof $t))return new $t(Dt);Tt.call(this,Dt,at.GZIP)}function zt(Dt){if(!(this instanceof zt))return new zt(Dt);Tt.call(this,Dt,at.GUNZIP)}function Nt(Dt){if(!(this instanceof Nt))return new Nt(Dt);Tt.call(this,Dt,at.DEFLATERAW)}function wt(Dt){if(!(this instanceof wt))return new wt(Dt);Tt.call(this,Dt,at.INFLATERAW)}function Et(Dt){if(!(this instanceof Et))return new Et(Dt);Tt.call(this,Dt,at.UNZIP)}function Rt(Dt){return Dt===at.Z_NO_FLUSH||Dt===at.Z_PARTIAL_FLUSH||Dt===at.Z_SYNC_FLUSH||Dt===at.Z_FULL_FLUSH||Dt===at.Z_FINISH||Dt===at.Z_BLOCK}function Tt(Dt,Ct){var Ot=this;if(this._opts=Dt=Dt||{},this._chunkSize=Dt.chunkSize||et.Z_DEFAULT_CHUNK,ot.call(this,Dt),Dt.flush&&!Rt(Dt.flush))throw new Error("Invalid flush flag: "+Dt.flush);if(Dt.finishFlush&&!Rt(Dt.finishFlush))throw new Error("Invalid flush flag: "+Dt.finishFlush);if(this._flushFlag=Dt.flush||at.Z_NO_FLUSH,this._finishFlushFlag=Dt.finishFlush!==void 0?Dt.finishFlush:at.Z_FINISH,Dt.chunkSize&&(Dt.chunkSize<et.Z_MIN_CHUNK||Dt.chunkSize>et.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Dt.chunkSize);if(Dt.windowBits&&(Dt.windowBits<et.Z_MIN_WINDOWBITS||Dt.windowBits>et.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Dt.windowBits);if(Dt.level&&(Dt.level<et.Z_MIN_LEVEL||Dt.level>et.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Dt.level);if(Dt.memLevel&&(Dt.memLevel<et.Z_MIN_MEMLEVEL||Dt.memLevel>et.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Dt.memLevel);if(Dt.strategy&&Dt.strategy!=et.Z_FILTERED&&Dt.strategy!=et.Z_HUFFMAN_ONLY&&Dt.strategy!=et.Z_RLE&&Dt.strategy!=et.Z_FIXED&&Dt.strategy!=et.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Dt.strategy);if(Dt.dictionary&&!it.isBuffer(Dt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new at.Zlib(Ct);var Ut=this;this._hadError=!1,this._handle.onerror=function(jt,kt){It(Ut),Ut._hadError=!0;var Gt=new Error(jt);Gt.errno=kt,Gt.code=et.codes[kt],Ut.emit("error",Gt)};var At=et.Z_DEFAULT_COMPRESSION;typeof Dt.level=="number"&&(At=Dt.level);var Mt=et.Z_DEFAULT_STRATEGY;typeof Dt.strategy=="number"&&(Mt=Dt.strategy),this._handle.init(Dt.windowBits||et.Z_DEFAULT_WINDOWBITS,At,Dt.memLevel||et.Z_DEFAULT_MEMLEVEL,Mt,Dt.dictionary),this._buffer=it.allocUnsafe(this._chunkSize),this._offset=0,this._level=At,this._strategy=Mt,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Ot._handle},configurable:!0,enumerable:!0})}function It(Dt,Ct){Ct&&rt.nextTick(Ct),Dt._handle&&(Dt._handle.close(),Dt._handle=null)}function Pt(Dt){Dt.emit("close")}Object.defineProperty(et,"codes",{enumerable:!0,value:Object.freeze(pt),writable:!1}),et.Deflate=xt,et.Inflate=vt,et.Gzip=$t,et.Gunzip=zt,et.DeflateRaw=Nt,et.InflateRaw=wt,et.Unzip=Et,et.createDeflate=function(Dt){return new xt(Dt)},et.createInflate=function(Dt){return new vt(Dt)},et.createDeflateRaw=function(Dt){return new Nt(Dt)},et.createInflateRaw=function(Dt){return new wt(Dt)},et.createGzip=function(Dt){return new $t(Dt)},et.createGunzip=function(Dt){return new zt(Dt)},et.createUnzip=function(Dt){return new Et(Dt)},et.deflate=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new xt(Ct),Dt,Ot)},et.deflateSync=function(Dt,Ct){return St(new xt(Ct),Dt)},et.gzip=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new $t(Ct),Dt,Ot)},et.gzipSync=function(Dt,Ct){return St(new $t(Ct),Dt)},et.deflateRaw=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new Nt(Ct),Dt,Ot)},et.deflateRawSync=function(Dt,Ct){return St(new Nt(Ct),Dt)},et.unzip=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new Et(Ct),Dt,Ot)},et.unzipSync=function(Dt,Ct){return St(new Et(Ct),Dt)},et.inflate=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new vt(Ct),Dt,Ot)},et.inflateSync=function(Dt,Ct){return St(new vt(Ct),Dt)},et.gunzip=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new zt(Ct),Dt,Ot)},et.gunzipSync=function(Dt,Ct){return St(new zt(Ct),Dt)},et.inflateRaw=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new wt(Ct),Dt,Ot)},et.inflateRawSync=function(Dt,Ct){return St(new wt(Ct),Dt)},st.inherits(Tt,ot),Tt.prototype.params=function(Dt,Ct,Ot){if(Dt<et.Z_MIN_LEVEL||Dt>et.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Dt);if(Ct!=et.Z_FILTERED&&Ct!=et.Z_HUFFMAN_ONLY&&Ct!=et.Z_RLE&&Ct!=et.Z_FIXED&&Ct!=et.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Ct);if(this._level!==Dt||this._strategy!==Ct){var Ut=this;this.flush(at.Z_SYNC_FLUSH,function(){lt(Ut._handle,"zlib binding closed"),Ut._handle.params(Dt,Ct),Ut._hadError||(Ut._level=Dt,Ut._strategy=Ct,Ot&&Ot())})}else rt.nextTick(Ot)},Tt.prototype.reset=function(){return lt(this._handle,"zlib binding closed"),this._handle.reset()},Tt.prototype._flush=function(Dt){this._transform(it.alloc(0),"",Dt)},Tt.prototype.flush=function(Dt,Ct){var Ot=this,Ut=this._writableState;(typeof Dt=="function"||Dt===void 0&&!Ct)&&(Ct=Dt,Dt=at.Z_FULL_FLUSH),Ut.ended?Ct&&rt.nextTick(Ct):Ut.ending?Ct&&this.once("end",Ct):Ut.needDrain?Ct&&this.once("drain",function(){return Ot.flush(Dt,Ct)}):(this._flushFlag=Dt,this.write(it.alloc(0),"",Ct))},Tt.prototype.close=function(Dt){It(this,Dt),rt.nextTick(Pt,this)},Tt.prototype._transform=function(Dt,Ct,Ot){var Ut,At=this._writableState,Mt=(At.ending||At.ended)&&(!Dt||At.length===Dt.length);return Dt===null||it.isBuffer(Dt)?this._handle?(Mt?Ut=this._finishFlushFlag:(Ut=this._flushFlag,Dt.length>=At.length&&(this._flushFlag=this._opts.flush||at.Z_NO_FLUSH)),void this._processChunk(Dt,Ut,Ot)):Ot(new Error("zlib binding closed")):Ot(new Error("invalid input"))},Tt.prototype._processChunk=function(Dt,Ct,Ot){var Ut=Dt&&Dt.length,At=this._chunkSize-this._offset,Mt=0,jt=this,kt=typeof Ot=="function";if(!kt){var Gt,Ht=[],Jt=0;this.on("error",function(Ft){Gt=Ft}),lt(this._handle,"zlib binding closed");do var Vt=this._handle.writeSync(Ct,Dt,Mt,Ut,this._buffer,this._offset,At);while(!this._hadError&&Bt(Vt[0],Vt[1]));if(this._hadError)throw Gt;if(Jt>=ct)throw It(this),new RangeError(ft);var Wt=it.concat(Ht,Jt);return It(this),Wt}lt(this._handle,"zlib binding closed");var Lt=this._handle.write(Ct,Dt,Mt,Ut,this._buffer,this._offset,At);function Bt(Ft,sn){if(this&&(this.buffer=null,this.callback=null),!jt._hadError){var Xt=At-sn;if(lt(Xt>=0,"have should not go down"),Xt>0){var dn=jt._buffer.slice(jt._offset,jt._offset+Xt);jt._offset+=Xt,kt?jt.push(dn):(Ht.push(dn),Jt+=dn.length)}if((sn===0||jt._offset>=jt._chunkSize)&&(At=jt._chunkSize,jt._offset=0,jt._buffer=it.allocUnsafe(jt._chunkSize)),sn===0){if(Mt+=Ut-Ft,Ut=Ft,!kt)return!0;var Yt=jt._handle.write(Ct,Dt,Mt,Ut,jt._buffer,jt._offset,jt._chunkSize);return Yt.callback=Bt,void(Yt.buffer=Dt)}if(!kt)return!1;Ot()}}Lt.buffer=Dt,Lt.callback=Bt},st.inherits(xt,Tt),st.inherits(vt,Tt),st.inherits($t,Tt),st.inherits(zt,Tt),st.inherits(Nt,Tt),st.inherits(wt,Tt),st.inherits(Et,Tt)}).call(this,nt(2))},function(tt,et,nt){tt.exports=it;var rt=nt(18).EventEmitter;function it(){rt.call(this)}nt(6)(it,rt),it.Readable=nt(28),it.Writable=nt(71),it.Duplex=nt(165),it.Transform=nt(166),it.PassThrough=nt(167),it.Stream=it,it.prototype.pipe=function(ot,at){var st=this;function lt(gt){ot.writable&&ot.write(gt)===!1&&st.pause&&st.pause()}function ct(){st.readable&&st.resume&&st.resume()}st.on("data",lt),ot.on("drain",ct),ot._isStdio||at&&at.end===!1||(st.on("end",ut),st.on("close",dt));var ft=!1;function ut(){ft||(ft=!0,ot.end())}function dt(){ft||(ft=!0,typeof ot.destroy=="function"&&ot.destroy())}function ht(gt){if(pt(),rt.listenerCount(this,"error")===0)throw gt}function pt(){st.removeListener("data",lt),ot.removeListener("drain",ct),st.removeListener("end",ut),st.removeListener("close",dt),st.removeListener("error",ht),ot.removeListener("error",ht),st.removeListener("end",pt),st.removeListener("close",pt),ot.removeListener("close",pt)}return st.on("error",ht),ot.on("error",ht),st.on("end",pt),st.on("close",pt),ot.on("close",pt),ot.emit("pipe",st),ot}},function(tt,et){},function(tt,et,nt){var rt=nt(43).Buffer,it=nt(163);tt.exports=function(){function ot(){(function(at,st){if(!(at instanceof st))throw new TypeError("Cannot call a class as a function")})(this,ot),this.head=null,this.tail=null,this.length=0}return ot.prototype.push=function(at){var st={data:at,next:null};this.length>0?this.tail.next=st:this.head=st,this.tail=st,++this.length},ot.prototype.unshift=function(at){var st={data:at,next:this.head};this.length===0&&(this.tail=st),this.head=st,++this.length},ot.prototype.shift=function(){if(this.length!==0){var at=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,at}},ot.prototype.clear=function(){this.head=this.tail=null,this.length=0},ot.prototype.join=function(at){if(this.length===0)return"";for(var st=this.head,lt=""+st.data;st=st.next;)lt+=at+st.data;return lt},ot.prototype.concat=function(at){if(this.length===0)return rt.alloc(0);if(this.length===1)return this.head.data;for(var st,lt,ct,ft=rt.allocUnsafe(at>>>0),ut=this.head,dt=0;ut;)st=ut.data,lt=ft,ct=dt,st.copy(lt,ct),dt+=ut.data.length,ut=ut.next;return ft},ot}(),it&&it.inspect&&it.inspect.custom&&(tt.exports.prototype[it.inspect.custom]=function(){var ot=it.inspect({length:this.length});return this.constructor.name+" "+ot})},function(tt,et){},function(tt,et,nt){tt.exports=ot;var rt=nt(70),it=nt(14);function ot(at){if(!(this instanceof ot))return new ot(at);rt.call(this,at)}it.inherits=nt(6),it.inherits(ot,rt),ot.prototype._transform=function(at,st,lt){lt(null,at)}},function(tt,et,nt){tt.exports=nt(20)},function(tt,et,nt){tt.exports=nt(28).Transform},function(tt,et,nt){tt.exports=nt(28).PassThrough},function(tt,et,nt){(function(rt,it){var ot=nt(72),at=nt(170),st=nt(171),lt=nt(174),ct=nt(177);for(var ft in ct)et[ft]=ct[ft];et.NONE=0,et.DEFLATE=1,et.INFLATE=2,et.GZIP=3,et.GUNZIP=4,et.DEFLATERAW=5,et.INFLATERAW=6,et.UNZIP=7;function ut(dt){if(typeof dt!="number"||dt<et.DEFLATE||dt>et.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=dt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}ut.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,ot(this.init_done,"close before init"),ot(this.mode<=et.UNZIP),this.mode===et.DEFLATE||this.mode===et.GZIP||this.mode===et.DEFLATERAW?st.deflateEnd(this.strm):this.mode!==et.INFLATE&&this.mode!==et.GUNZIP&&this.mode!==et.INFLATERAW&&this.mode!==et.UNZIP||lt.inflateEnd(this.strm),this.mode=et.NONE,this.dictionary=null)},ut.prototype.write=function(dt,ht,pt,gt,mt,yt,bt){return this._write(!0,dt,ht,pt,gt,mt,yt,bt)},ut.prototype.writeSync=function(dt,ht,pt,gt,mt,yt,bt){return this._write(!1,dt,ht,pt,gt,mt,yt,bt)},ut.prototype._write=function(dt,ht,pt,gt,mt,yt,bt,St){if(ot.equal(arguments.length,8),ot(this.init_done,"write before init"),ot(this.mode!==et.NONE,"already finalized"),ot.equal(!1,this.write_in_progress,"write already in progress"),ot.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,ot.equal(!1,ht===void 0,"must provide flush value"),this.write_in_progress=!0,ht!==et.Z_NO_FLUSH&&ht!==et.Z_PARTIAL_FLUSH&&ht!==et.Z_SYNC_FLUSH&&ht!==et.Z_FULL_FLUSH&&ht!==et.Z_FINISH&&ht!==et.Z_BLOCK)throw new Error("Invalid flush value");if(pt==null&&(pt=rt.alloc(0),mt=0,gt=0),this.strm.avail_in=mt,this.strm.input=pt,this.strm.next_in=gt,this.strm.avail_out=St,this.strm.output=yt,this.strm.next_out=bt,this.flush=ht,!dt)return this._process(),this._checkError()?this._afterSync():void 0;var xt=this;return it.nextTick(function(){xt._process(),xt._after()}),this},ut.prototype._afterSync=function(){var dt=this.strm.avail_out,ht=this.strm.avail_in;return this.write_in_progress=!1,[ht,dt]},ut.prototype._process=function(){var dt=null;switch(this.mode){case et.DEFLATE:case et.GZIP:case et.DEFLATERAW:this.err=st.deflate(this.strm,this.flush);break;case et.UNZIP:switch(this.strm.avail_in>0&&(dt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(dt===null)break;if(this.strm.input[dt]!==31){this.mode=et.INFLATE;break}if(this.gzip_id_bytes_read=1,dt++,this.strm.avail_in===1)break;case 1:if(dt===null)break;this.strm.input[dt]===139?(this.gzip_id_bytes_read=2,this.mode=et.GUNZIP):this.mode=et.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case et.INFLATE:case et.GUNZIP:case et.INFLATERAW:for(this.err=lt.inflate(this.strm,this.flush),this.err===et.Z_NEED_DICT&&this.dictionary&&(this.err=lt.inflateSetDictionary(this.strm,this.dictionary),this.err===et.Z_OK?this.err=lt.inflate(this.strm,this.flush):this.err===et.Z_DATA_ERROR&&(this.err=et.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===et.GUNZIP&&this.err===et.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=lt.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},ut.prototype._checkError=function(){switch(this.err){case et.Z_OK:case et.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===et.Z_FINISH)return this._error("unexpected end of file"),!1;break;case et.Z_STREAM_END:break;case et.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},ut.prototype._after=function(){if(this._checkError()){var dt=this.strm.avail_out,ht=this.strm.avail_in;this.write_in_progress=!1,this.callback(ht,dt),this.pending_close&&this.close()}},ut.prototype._error=function(dt){this.strm.msg&&(dt=this.strm.msg),this.onerror(dt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},ut.prototype.init=function(dt,ht,pt,gt,mt){ot(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),ot(dt>=8&&dt<=15,"invalid windowBits"),ot(ht>=-1&&ht<=9,"invalid compression level"),ot(pt>=1&&pt<=9,"invalid memlevel"),ot(gt===et.Z_FILTERED||gt===et.Z_HUFFMAN_ONLY||gt===et.Z_RLE||gt===et.Z_FIXED||gt===et.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ht,dt,pt,gt,mt),this._setDictionary()},ut.prototype.params=function(){throw new Error("deflateParams Not supported")},ut.prototype.reset=function(){this._reset(),this._setDictionary()},ut.prototype._init=function(dt,ht,pt,gt,mt){switch(this.level=dt,this.windowBits=ht,this.memLevel=pt,this.strategy=gt,this.flush=et.Z_NO_FLUSH,this.err=et.Z_OK,this.mode!==et.GZIP&&this.mode!==et.GUNZIP||(this.windowBits+=16),this.mode===et.UNZIP&&(this.windowBits+=32),this.mode!==et.DEFLATERAW&&this.mode!==et.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new at,this.mode){case et.DEFLATE:case et.GZIP:case et.DEFLATERAW:this.err=st.deflateInit2(this.strm,this.level,et.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case et.INFLATE:case et.GUNZIP:case et.INFLATERAW:case et.UNZIP:this.err=lt.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==et.Z_OK&&this._error("Init error"),this.dictionary=mt,this.write_in_progress=!1,this.init_done=!0},ut.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=et.Z_OK,this.mode){case et.DEFLATE:case et.DEFLATERAW:this.err=st.deflateSetDictionary(this.strm,this.dictionary)}this.err!==et.Z_OK&&this._error("Failed to set dictionary")}},ut.prototype._reset=function(){switch(this.err=et.Z_OK,this.mode){case et.DEFLATE:case et.DEFLATERAW:case et.GZIP:this.err=st.deflateReset(this.strm);break;case et.INFLATE:case et.INFLATERAW:case et.GUNZIP:this.err=lt.inflateReset(this.strm)}this.err!==et.Z_OK&&this._error("Failed to reset stream")},et.Zlib=ut}).call(this,nt(4).Buffer,nt(2))},function(tt,et,nt){var rt=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;function at(st){if(st==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(st)}tt.exports=function(){try{if(!Object.assign)return!1;var st=new String("abc");if(st[5]="de",Object.getOwnPropertyNames(st)[0]==="5")return!1;for(var lt={},ct=0;ct<10;ct++)lt["_"+String.fromCharCode(ct)]=ct;if(Object.getOwnPropertyNames(lt).map(function(ut){return lt[ut]}).join("")!=="0123456789")return!1;var ft={};return"abcdefghijklmnopqrst".split("").forEach(function(ut){ft[ut]=ut}),Object.keys(Object.assign({},ft)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(st,lt){for(var ct,ft,ut=at(st),dt=1;dt<arguments.length;dt++){for(var ht in ct=Object(arguments[dt]))it.call(ct,ht)&&(ut[ht]=ct[ht]);if(rt){ft=rt(ct);for(var pt=0;pt<ft.length;pt++)ot.call(ct,ft[pt])&&(ut[ft[pt]]=ct[ft[pt]])}}return ut}},function(tt,et,nt){tt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(tt,et,nt){var rt,it=nt(33),ot=nt(172),at=nt(73),st=nt(74),lt=nt(173);function ct(wt,Et){return wt.msg=lt[Et],Et}function ft(wt){return(wt<<1)-(wt>4?9:0)}function ut(wt){for(var Et=wt.length;--Et>=0;)wt[Et]=0}function dt(wt){var Et=wt.state,Rt=Et.pending;Rt>wt.avail_out&&(Rt=wt.avail_out),Rt!==0&&(it.arraySet(wt.output,Et.pending_buf,Et.pending_out,Rt,wt.next_out),wt.next_out+=Rt,Et.pending_out+=Rt,wt.total_out+=Rt,wt.avail_out-=Rt,Et.pending-=Rt,Et.pending===0&&(Et.pending_out=0))}function ht(wt,Et){ot._tr_flush_block(wt,wt.block_start>=0?wt.block_start:-1,wt.strstart-wt.block_start,Et),wt.block_start=wt.strstart,dt(wt.strm)}function pt(wt,Et){wt.pending_buf[wt.pending++]=Et}function gt(wt,Et){wt.pending_buf[wt.pending++]=Et>>>8&255,wt.pending_buf[wt.pending++]=255&Et}function mt(wt,Et){var Rt,Tt,It=wt.max_chain_length,Pt=wt.strstart,Dt=wt.prev_length,Ct=wt.nice_match,Ot=wt.strstart>wt.w_size-262?wt.strstart-(wt.w_size-262):0,Ut=wt.window,At=wt.w_mask,Mt=wt.prev,jt=wt.strstart+258,kt=Ut[Pt+Dt-1],Gt=Ut[Pt+Dt];wt.prev_length>=wt.good_match&&(It>>=2),Ct>wt.lookahead&&(Ct=wt.lookahead);do if(Ut[(Rt=Et)+Dt]===Gt&&Ut[Rt+Dt-1]===kt&&Ut[Rt]===Ut[Pt]&&Ut[++Rt]===Ut[Pt+1]){Pt+=2,Rt++;do;while(Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Pt<jt);if(Tt=258-(jt-Pt),Pt=jt-258,Tt>Dt){if(wt.match_start=Et,Dt=Tt,Tt>=Ct)break;kt=Ut[Pt+Dt-1],Gt=Ut[Pt+Dt]}}while((Et=Mt[Et&At])>Ot&&--It!=0);return Dt<=wt.lookahead?Dt:wt.lookahead}function yt(wt){var Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt=wt.w_size;do{if(It=wt.window_size-wt.lookahead-wt.strstart,wt.strstart>=Mt+(Mt-262)){it.arraySet(wt.window,wt.window,Mt,Mt,0),wt.match_start-=Mt,wt.strstart-=Mt,wt.block_start-=Mt,Et=Rt=wt.hash_size;do Tt=wt.head[--Et],wt.head[Et]=Tt>=Mt?Tt-Mt:0;while(--Rt);Et=Rt=Mt;do Tt=wt.prev[--Et],wt.prev[Et]=Tt>=Mt?Tt-Mt:0;while(--Rt);It+=Mt}if(wt.strm.avail_in===0)break;if(Dt=wt.strm,Ct=wt.window,Ot=wt.strstart+wt.lookahead,Ut=It,At=void 0,(At=Dt.avail_in)>Ut&&(At=Ut),Rt=At===0?0:(Dt.avail_in-=At,it.arraySet(Ct,Dt.input,Dt.next_in,At,Ot),Dt.state.wrap===1?Dt.adler=at(Dt.adler,Ct,At,Ot):Dt.state.wrap===2&&(Dt.adler=st(Dt.adler,Ct,At,Ot)),Dt.next_in+=At,Dt.total_in+=At,At),wt.lookahead+=Rt,wt.lookahead+wt.insert>=3)for(Pt=wt.strstart-wt.insert,wt.ins_h=wt.window[Pt],wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[Pt+1])&wt.hash_mask;wt.insert&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[Pt+3-1])&wt.hash_mask,wt.prev[Pt&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=Pt,Pt++,wt.insert--,!(wt.lookahead+wt.insert<3)););}while(wt.lookahead<262&&wt.strm.avail_in!==0)}function bt(wt,Et){for(var Rt,Tt;;){if(wt.lookahead<262){if(yt(wt),wt.lookahead<262&&Et===0)return 1;if(wt.lookahead===0)break}if(Rt=0,wt.lookahead>=3&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),Rt!==0&&wt.strstart-Rt<=wt.w_size-262&&(wt.match_length=mt(wt,Rt)),wt.match_length>=3)if(Tt=ot._tr_tally(wt,wt.strstart-wt.match_start,wt.match_length-3),wt.lookahead-=wt.match_length,wt.match_length<=wt.max_lazy_match&&wt.lookahead>=3){wt.match_length--;do wt.strstart++,wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart;while(--wt.match_length!=0);wt.strstart++}else wt.strstart+=wt.match_length,wt.match_length=0,wt.ins_h=wt.window[wt.strstart],wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+1])&wt.hash_mask;else Tt=ot._tr_tally(wt,0,wt.window[wt.strstart]),wt.lookahead--,wt.strstart++;if(Tt&&(ht(wt,!1),wt.strm.avail_out===0))return 1}return wt.insert=wt.strstart<2?wt.strstart:2,Et===4?(ht(wt,!0),wt.strm.avail_out===0?3:4):wt.last_lit&&(ht(wt,!1),wt.strm.avail_out===0)?1:2}function St(wt,Et){for(var Rt,Tt,It;;){if(wt.lookahead<262){if(yt(wt),wt.lookahead<262&&Et===0)return 1;if(wt.lookahead===0)break}if(Rt=0,wt.lookahead>=3&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),wt.prev_length=wt.match_length,wt.prev_match=wt.match_start,wt.match_length=2,Rt!==0&&wt.prev_length<wt.max_lazy_match&&wt.strstart-Rt<=wt.w_size-262&&(wt.match_length=mt(wt,Rt),wt.match_length<=5&&(wt.strategy===1||wt.match_length===3&&wt.strstart-wt.match_start>4096)&&(wt.match_length=2)),wt.prev_length>=3&&wt.match_length<=wt.prev_length){It=wt.strstart+wt.lookahead-3,Tt=ot._tr_tally(wt,wt.strstart-1-wt.prev_match,wt.prev_length-3),wt.lookahead-=wt.prev_length-1,wt.prev_length-=2;do++wt.strstart<=It&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart);while(--wt.prev_length!=0);if(wt.match_available=0,wt.match_length=2,wt.strstart++,Tt&&(ht(wt,!1),wt.strm.avail_out===0))return 1}else if(wt.match_available){if((Tt=ot._tr_tally(wt,0,wt.window[wt.strstart-1]))&&ht(wt,!1),wt.strstart++,wt.lookahead--,wt.strm.avail_out===0)return 1}else wt.match_available=1,wt.strstart++,wt.lookahead--}return wt.match_available&&(Tt=ot._tr_tally(wt,0,wt.window[wt.strstart-1]),wt.match_available=0),wt.insert=wt.strstart<2?wt.strstart:2,Et===4?(ht(wt,!0),wt.strm.avail_out===0?3:4):wt.last_lit&&(ht(wt,!1),wt.strm.avail_out===0)?1:2}function xt(wt,Et,Rt,Tt,It){this.good_length=wt,this.max_lazy=Et,this.nice_length=Rt,this.max_chain=Tt,this.func=It}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new it.Buf16(1146),this.dyn_dtree=new it.Buf16(122),this.bl_tree=new it.Buf16(78),ut(this.dyn_ltree),ut(this.dyn_dtree),ut(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new it.Buf16(16),this.heap=new it.Buf16(573),ut(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new it.Buf16(573),ut(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $t(wt){var Et;return wt&&wt.state?(wt.total_in=wt.total_out=0,wt.data_type=2,(Et=wt.state).pending=0,Et.pending_out=0,Et.wrap<0&&(Et.wrap=-Et.wrap),Et.status=Et.wrap?42:113,wt.adler=Et.wrap===2?0:1,Et.last_flush=0,ot._tr_init(Et),0):ct(wt,-2)}function zt(wt){var Et,Rt=$t(wt);return Rt===0&&((Et=wt.state).window_size=2*Et.w_size,ut(Et.head),Et.max_lazy_match=rt[Et.level].max_lazy,Et.good_match=rt[Et.level].good_length,Et.nice_match=rt[Et.level].nice_length,Et.max_chain_length=rt[Et.level].max_chain,Et.strstart=0,Et.block_start=0,Et.lookahead=0,Et.insert=0,Et.match_length=Et.prev_length=2,Et.match_available=0,Et.ins_h=0),Rt}function Nt(wt,Et,Rt,Tt,It,Pt){if(!wt)return-2;var Dt=1;if(Et===-1&&(Et=6),Tt<0?(Dt=0,Tt=-Tt):Tt>15&&(Dt=2,Tt-=16),It<1||It>9||Rt!==8||Tt<8||Tt>15||Et<0||Et>9||Pt<0||Pt>4)return ct(wt,-2);Tt===8&&(Tt=9);var Ct=new vt;return wt.state=Ct,Ct.strm=wt,Ct.wrap=Dt,Ct.gzhead=null,Ct.w_bits=Tt,Ct.w_size=1<<Ct.w_bits,Ct.w_mask=Ct.w_size-1,Ct.hash_bits=It+7,Ct.hash_size=1<<Ct.hash_bits,Ct.hash_mask=Ct.hash_size-1,Ct.hash_shift=~~((Ct.hash_bits+3-1)/3),Ct.window=new it.Buf8(2*Ct.w_size),Ct.head=new it.Buf16(Ct.hash_size),Ct.prev=new it.Buf16(Ct.w_size),Ct.lit_bufsize=1<<It+6,Ct.pending_buf_size=4*Ct.lit_bufsize,Ct.pending_buf=new it.Buf8(Ct.pending_buf_size),Ct.d_buf=1*Ct.lit_bufsize,Ct.l_buf=3*Ct.lit_bufsize,Ct.level=Et,Ct.strategy=Pt,Ct.method=Rt,zt(wt)}rt=[new xt(0,0,0,0,function(wt,Et){var Rt=65535;for(Rt>wt.pending_buf_size-5&&(Rt=wt.pending_buf_size-5);;){if(wt.lookahead<=1){if(yt(wt),wt.lookahead===0&&Et===0)return 1;if(wt.lookahead===0)break}wt.strstart+=wt.lookahead,wt.lookahead=0;var Tt=wt.block_start+Rt;if((wt.strstart===0||wt.strstart>=Tt)&&(wt.lookahead=wt.strstart-Tt,wt.strstart=Tt,ht(wt,!1),wt.strm.avail_out===0)||wt.strstart-wt.block_start>=wt.w_size-262&&(ht(wt,!1),wt.strm.avail_out===0))return 1}return wt.insert=0,Et===4?(ht(wt,!0),wt.strm.avail_out===0?3:4):(wt.strstart>wt.block_start&&(ht(wt,!1),wt.strm.avail_out),1)}),new xt(4,4,8,4,bt),new xt(4,5,16,8,bt),new xt(4,6,32,32,bt),new xt(4,4,16,16,St),new xt(8,16,32,32,St),new xt(8,16,128,128,St),new xt(8,32,128,256,St),new xt(32,128,258,1024,St),new xt(32,258,258,4096,St)],et.deflateInit=function(wt,Et){return Nt(wt,Et,8,15,8,0)},et.deflateInit2=Nt,et.deflateReset=zt,et.deflateResetKeep=$t,et.deflateSetHeader=function(wt,Et){return wt&&wt.state?wt.state.wrap!==2?-2:(wt.state.gzhead=Et,0):-2},et.deflate=function(wt,Et){var Rt,Tt,It,Pt;if(!wt||!wt.state||Et>5||Et<0)return wt?ct(wt,-2):-2;if(Tt=wt.state,!wt.output||!wt.input&&wt.avail_in!==0||Tt.status===666&&Et!==4)return ct(wt,wt.avail_out===0?-5:-2);if(Tt.strm=wt,Rt=Tt.last_flush,Tt.last_flush=Et,Tt.status===42)if(Tt.wrap===2)wt.adler=0,pt(Tt,31),pt(Tt,139),pt(Tt,8),Tt.gzhead?(pt(Tt,(Tt.gzhead.text?1:0)+(Tt.gzhead.hcrc?2:0)+(Tt.gzhead.extra?4:0)+(Tt.gzhead.name?8:0)+(Tt.gzhead.comment?16:0)),pt(Tt,255&Tt.gzhead.time),pt(Tt,Tt.gzhead.time>>8&255),pt(Tt,Tt.gzhead.time>>16&255),pt(Tt,Tt.gzhead.time>>24&255),pt(Tt,Tt.level===9?2:Tt.strategy>=2||Tt.level<2?4:0),pt(Tt,255&Tt.gzhead.os),Tt.gzhead.extra&&Tt.gzhead.extra.length&&(pt(Tt,255&Tt.gzhead.extra.length),pt(Tt,Tt.gzhead.extra.length>>8&255)),Tt.gzhead.hcrc&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending,0)),Tt.gzindex=0,Tt.status=69):(pt(Tt,0),pt(Tt,0),pt(Tt,0),pt(Tt,0),pt(Tt,0),pt(Tt,Tt.level===9?2:Tt.strategy>=2||Tt.level<2?4:0),pt(Tt,3),Tt.status=113);else{var Dt=8+(Tt.w_bits-8<<4)<<8;Dt|=(Tt.strategy>=2||Tt.level<2?0:Tt.level<6?1:Tt.level===6?2:3)<<6,Tt.strstart!==0&&(Dt|=32),Dt+=31-Dt%31,Tt.status=113,gt(Tt,Dt),Tt.strstart!==0&&(gt(Tt,wt.adler>>>16),gt(Tt,65535&wt.adler)),wt.adler=1}if(Tt.status===69)if(Tt.gzhead.extra){for(It=Tt.pending;Tt.gzindex<(65535&Tt.gzhead.extra.length)&&(Tt.pending!==Tt.pending_buf_size||(Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),dt(wt),It=Tt.pending,Tt.pending!==Tt.pending_buf_size));)pt(Tt,255&Tt.gzhead.extra[Tt.gzindex]),Tt.gzindex++;Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),Tt.gzindex===Tt.gzhead.extra.length&&(Tt.gzindex=0,Tt.status=73)}else Tt.status=73;if(Tt.status===73)if(Tt.gzhead.name){It=Tt.pending;do{if(Tt.pending===Tt.pending_buf_size&&(Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),dt(wt),It=Tt.pending,Tt.pending===Tt.pending_buf_size)){Pt=1;break}Pt=Tt.gzindex<Tt.gzhead.name.length?255&Tt.gzhead.name.charCodeAt(Tt.gzindex++):0,pt(Tt,Pt)}while(Pt!==0);Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),Pt===0&&(Tt.gzindex=0,Tt.status=91)}else Tt.status=91;if(Tt.status===91)if(Tt.gzhead.comment){It=Tt.pending;do{if(Tt.pending===Tt.pending_buf_size&&(Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),dt(wt),It=Tt.pending,Tt.pending===Tt.pending_buf_size)){Pt=1;break}Pt=Tt.gzindex<Tt.gzhead.comment.length?255&Tt.gzhead.comment.charCodeAt(Tt.gzindex++):0,pt(Tt,Pt)}while(Pt!==0);Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),Pt===0&&(Tt.status=103)}else Tt.status=103;if(Tt.status===103&&(Tt.gzhead.hcrc?(Tt.pending+2>Tt.pending_buf_size&&dt(wt),Tt.pending+2<=Tt.pending_buf_size&&(pt(Tt,255&wt.adler),pt(Tt,wt.adler>>8&255),wt.adler=0,Tt.status=113)):Tt.status=113),Tt.pending!==0){if(dt(wt),wt.avail_out===0)return Tt.last_flush=-1,0}else if(wt.avail_in===0&&ft(Et)<=ft(Rt)&&Et!==4)return ct(wt,-5);if(Tt.status===666&&wt.avail_in!==0)return ct(wt,-5);if(wt.avail_in!==0||Tt.lookahead!==0||Et!==0&&Tt.status!==666){var Ct=Tt.strategy===2?function(Ot,Ut){for(var At;;){if(Ot.lookahead===0&&(yt(Ot),Ot.lookahead===0)){if(Ut===0)return 1;break}if(Ot.match_length=0,At=ot._tr_tally(Ot,0,Ot.window[Ot.strstart]),Ot.lookahead--,Ot.strstart++,At&&(ht(Ot,!1),Ot.strm.avail_out===0))return 1}return Ot.insert=0,Ut===4?(ht(Ot,!0),Ot.strm.avail_out===0?3:4):Ot.last_lit&&(ht(Ot,!1),Ot.strm.avail_out===0)?1:2}(Tt,Et):Tt.strategy===3?function(Ot,Ut){for(var At,Mt,jt,kt,Gt=Ot.window;;){if(Ot.lookahead<=258){if(yt(Ot),Ot.lookahead<=258&&Ut===0)return 1;if(Ot.lookahead===0)break}if(Ot.match_length=0,Ot.lookahead>=3&&Ot.strstart>0&&(Mt=Gt[jt=Ot.strstart-1])===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]){kt=Ot.strstart+258;do;while(Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&jt<kt);Ot.match_length=258-(kt-jt),Ot.match_length>Ot.lookahead&&(Ot.match_length=Ot.lookahead)}if(Ot.match_length>=3?(At=ot._tr_tally(Ot,1,Ot.match_length-3),Ot.lookahead-=Ot.match_length,Ot.strstart+=Ot.match_length,Ot.match_length=0):(At=ot._tr_tally(Ot,0,Ot.window[Ot.strstart]),Ot.lookahead--,Ot.strstart++),At&&(ht(Ot,!1),Ot.strm.avail_out===0))return 1}return Ot.insert=0,Ut===4?(ht(Ot,!0),Ot.strm.avail_out===0?3:4):Ot.last_lit&&(ht(Ot,!1),Ot.strm.avail_out===0)?1:2}(Tt,Et):rt[Tt.level].func(Tt,Et);if(Ct!==3&&Ct!==4||(Tt.status=666),Ct===1||Ct===3)return wt.avail_out===0&&(Tt.last_flush=-1),0;if(Ct===2&&(Et===1?ot._tr_align(Tt):Et!==5&&(ot._tr_stored_block(Tt,0,0,!1),Et===3&&(ut(Tt.head),Tt.lookahead===0&&(Tt.strstart=0,Tt.block_start=0,Tt.insert=0))),dt(wt),wt.avail_out===0))return Tt.last_flush=-1,0}return Et!==4?0:Tt.wrap<=0?1:(Tt.wrap===2?(pt(Tt,255&wt.adler),pt(Tt,wt.adler>>8&255),pt(Tt,wt.adler>>16&255),pt(Tt,wt.adler>>24&255),pt(Tt,255&wt.total_in),pt(Tt,wt.total_in>>8&255),pt(Tt,wt.total_in>>16&255),pt(Tt,wt.total_in>>24&255)):(gt(Tt,wt.adler>>>16),gt(Tt,65535&wt.adler)),dt(wt),Tt.wrap>0&&(Tt.wrap=-Tt.wrap),Tt.pending!==0?0:1)},et.deflateEnd=function(wt){var Et;return wt&&wt.state?(Et=wt.state.status)!==42&&Et!==69&&Et!==73&&Et!==91&&Et!==103&&Et!==113&&Et!==666?ct(wt,-2):(wt.state=null,Et===113?ct(wt,-3):0):-2},et.deflateSetDictionary=function(wt,Et){var Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At=Et.length;if(!wt||!wt.state||(Pt=(Rt=wt.state).wrap)===2||Pt===1&&Rt.status!==42||Rt.lookahead)return-2;for(Pt===1&&(wt.adler=at(wt.adler,Et,At,0)),Rt.wrap=0,At>=Rt.w_size&&(Pt===0&&(ut(Rt.head),Rt.strstart=0,Rt.block_start=0,Rt.insert=0),Ut=new it.Buf8(Rt.w_size),it.arraySet(Ut,Et,At-Rt.w_size,Rt.w_size,0),Et=Ut,At=Rt.w_size),Dt=wt.avail_in,Ct=wt.next_in,Ot=wt.input,wt.avail_in=At,wt.next_in=0,wt.input=Et,yt(Rt);Rt.lookahead>=3;){Tt=Rt.strstart,It=Rt.lookahead-2;do Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Tt+3-1])&Rt.hash_mask,Rt.prev[Tt&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Tt,Tt++;while(--It);Rt.strstart=Tt,Rt.lookahead=2,yt(Rt)}return Rt.strstart+=Rt.lookahead,Rt.block_start=Rt.strstart,Rt.insert=Rt.lookahead,Rt.lookahead=0,Rt.match_length=Rt.prev_length=2,Rt.match_available=0,wt.next_in=Ct,wt.input=Ot,wt.avail_in=Dt,Rt.wrap=Pt,0},et.deflateInfo="pako deflate (from Nodeca project)"},function(tt,et,nt){var rt=nt(33);function it(Mt){for(var jt=Mt.length;--jt>=0;)Mt[jt]=0}var ot=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],st=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ct=new Array(576);it(ct);var ft=new Array(60);it(ft);var ut=new Array(512);it(ut);var dt=new Array(256);it(dt);var ht=new Array(29);it(ht);var pt,gt,mt,yt=new Array(30);function bt(Mt,jt,kt,Gt,Ht){this.static_tree=Mt,this.extra_bits=jt,this.extra_base=kt,this.elems=Gt,this.max_length=Ht,this.has_stree=Mt&&Mt.length}function St(Mt,jt){this.dyn_tree=Mt,this.max_code=0,this.stat_desc=jt}function xt(Mt){return Mt<256?ut[Mt]:ut[256+(Mt>>>7)]}function vt(Mt,jt){Mt.pending_buf[Mt.pending++]=255&jt,Mt.pending_buf[Mt.pending++]=jt>>>8&255}function $t(Mt,jt,kt){Mt.bi_valid>16-kt?(Mt.bi_buf|=jt<<Mt.bi_valid&65535,vt(Mt,Mt.bi_buf),Mt.bi_buf=jt>>16-Mt.bi_valid,Mt.bi_valid+=kt-16):(Mt.bi_buf|=jt<<Mt.bi_valid&65535,Mt.bi_valid+=kt)}function zt(Mt,jt,kt){$t(Mt,kt[2*jt],kt[2*jt+1])}function Nt(Mt,jt){var kt=0;do kt|=1&Mt,Mt>>>=1,kt<<=1;while(--jt>0);return kt>>>1}function wt(Mt,jt,kt){var Gt,Ht,Jt=new Array(16),Vt=0;for(Gt=1;Gt<=15;Gt++)Jt[Gt]=Vt=Vt+kt[Gt-1]<<1;for(Ht=0;Ht<=jt;Ht++){var Wt=Mt[2*Ht+1];Wt!==0&&(Mt[2*Ht]=Nt(Jt[Wt]++,Wt))}}function Et(Mt){var jt;for(jt=0;jt<286;jt++)Mt.dyn_ltree[2*jt]=0;for(jt=0;jt<30;jt++)Mt.dyn_dtree[2*jt]=0;for(jt=0;jt<19;jt++)Mt.bl_tree[2*jt]=0;Mt.dyn_ltree[512]=1,Mt.opt_len=Mt.static_len=0,Mt.last_lit=Mt.matches=0}function Rt(Mt){Mt.bi_valid>8?vt(Mt,Mt.bi_buf):Mt.bi_valid>0&&(Mt.pending_buf[Mt.pending++]=Mt.bi_buf),Mt.bi_buf=0,Mt.bi_valid=0}function Tt(Mt,jt,kt,Gt){var Ht=2*jt,Jt=2*kt;return Mt[Ht]<Mt[Jt]||Mt[Ht]===Mt[Jt]&&Gt[jt]<=Gt[kt]}function It(Mt,jt,kt){for(var Gt=Mt.heap[kt],Ht=kt<<1;Ht<=Mt.heap_len&&(Ht<Mt.heap_len&&Tt(jt,Mt.heap[Ht+1],Mt.heap[Ht],Mt.depth)&&Ht++,!Tt(jt,Gt,Mt.heap[Ht],Mt.depth));)Mt.heap[kt]=Mt.heap[Ht],kt=Ht,Ht<<=1;Mt.heap[kt]=Gt}function Pt(Mt,jt,kt){var Gt,Ht,Jt,Vt,Wt=0;if(Mt.last_lit!==0)do Gt=Mt.pending_buf[Mt.d_buf+2*Wt]<<8|Mt.pending_buf[Mt.d_buf+2*Wt+1],Ht=Mt.pending_buf[Mt.l_buf+Wt],Wt++,Gt===0?zt(Mt,Ht,jt):(zt(Mt,(Jt=dt[Ht])+256+1,jt),(Vt=ot[Jt])!==0&&$t(Mt,Ht-=ht[Jt],Vt),zt(Mt,Jt=xt(--Gt),kt),(Vt=at[Jt])!==0&&$t(Mt,Gt-=yt[Jt],Vt));while(Wt<Mt.last_lit);zt(Mt,256,jt)}function Dt(Mt,jt){var kt,Gt,Ht,Jt=jt.dyn_tree,Vt=jt.stat_desc.static_tree,Wt=jt.stat_desc.has_stree,Lt=jt.stat_desc.elems,Bt=-1;for(Mt.heap_len=0,Mt.heap_max=573,kt=0;kt<Lt;kt++)Jt[2*kt]!==0?(Mt.heap[++Mt.heap_len]=Bt=kt,Mt.depth[kt]=0):Jt[2*kt+1]=0;for(;Mt.heap_len<2;)Jt[2*(Ht=Mt.heap[++Mt.heap_len]=Bt<2?++Bt:0)]=1,Mt.depth[Ht]=0,Mt.opt_len--,Wt&&(Mt.static_len-=Vt[2*Ht+1]);for(jt.max_code=Bt,kt=Mt.heap_len>>1;kt>=1;kt--)It(Mt,Jt,kt);Ht=Lt;do kt=Mt.heap[1],Mt.heap[1]=Mt.heap[Mt.heap_len--],It(Mt,Jt,1),Gt=Mt.heap[1],Mt.heap[--Mt.heap_max]=kt,Mt.heap[--Mt.heap_max]=Gt,Jt[2*Ht]=Jt[2*kt]+Jt[2*Gt],Mt.depth[Ht]=(Mt.depth[kt]>=Mt.depth[Gt]?Mt.depth[kt]:Mt.depth[Gt])+1,Jt[2*kt+1]=Jt[2*Gt+1]=Ht,Mt.heap[1]=Ht++,It(Mt,Jt,1);while(Mt.heap_len>=2);Mt.heap[--Mt.heap_max]=Mt.heap[1],function(Ft,sn){var Xt,dn,Yt,yn,Qt,Kt,hn=sn.dyn_tree,vn=sn.max_code,Sn=sn.stat_desc.static_tree,Cn=sn.stat_desc.has_stree,cn=sn.stat_desc.extra_bits,ln=sn.stat_desc.extra_base,bn=sn.stat_desc.max_length,xn=0;for(yn=0;yn<=15;yn++)Ft.bl_count[yn]=0;for(hn[2*Ft.heap[Ft.heap_max]+1]=0,Xt=Ft.heap_max+1;Xt<573;Xt++)(yn=hn[2*hn[2*(dn=Ft.heap[Xt])+1]+1]+1)>bn&&(yn=bn,xn++),hn[2*dn+1]=yn,dn>vn||(Ft.bl_count[yn]++,Qt=0,dn>=ln&&(Qt=cn[dn-ln]),Kt=hn[2*dn],Ft.opt_len+=Kt*(yn+Qt),Cn&&(Ft.static_len+=Kt*(Sn[2*dn+1]+Qt)));if(xn!==0){do{for(yn=bn-1;Ft.bl_count[yn]===0;)yn--;Ft.bl_count[yn]--,Ft.bl_count[yn+1]+=2,Ft.bl_count[bn]--,xn-=2}while(xn>0);for(yn=bn;yn!==0;yn--)for(dn=Ft.bl_count[yn];dn!==0;)(Yt=Ft.heap[--Xt])>vn||(hn[2*Yt+1]!==yn&&(Ft.opt_len+=(yn-hn[2*Yt+1])*hn[2*Yt],hn[2*Yt+1]=yn),dn--)}}(Mt,jt),wt(Jt,Bt,Mt.bl_count)}function Ct(Mt,jt,kt){var Gt,Ht,Jt=-1,Vt=jt[1],Wt=0,Lt=7,Bt=4;for(Vt===0&&(Lt=138,Bt=3),jt[2*(kt+1)+1]=65535,Gt=0;Gt<=kt;Gt++)Ht=Vt,Vt=jt[2*(Gt+1)+1],++Wt<Lt&&Ht===Vt||(Wt<Bt?Mt.bl_tree[2*Ht]+=Wt:Ht!==0?(Ht!==Jt&&Mt.bl_tree[2*Ht]++,Mt.bl_tree[32]++):Wt<=10?Mt.bl_tree[34]++:Mt.bl_tree[36]++,Wt=0,Jt=Ht,Vt===0?(Lt=138,Bt=3):Ht===Vt?(Lt=6,Bt=3):(Lt=7,Bt=4))}function Ot(Mt,jt,kt){var Gt,Ht,Jt=-1,Vt=jt[1],Wt=0,Lt=7,Bt=4;for(Vt===0&&(Lt=138,Bt=3),Gt=0;Gt<=kt;Gt++)if(Ht=Vt,Vt=jt[2*(Gt+1)+1],!(++Wt<Lt&&Ht===Vt)){if(Wt<Bt)do zt(Mt,Ht,Mt.bl_tree);while(--Wt!=0);else Ht!==0?(Ht!==Jt&&(zt(Mt,Ht,Mt.bl_tree),Wt--),zt(Mt,16,Mt.bl_tree),$t(Mt,Wt-3,2)):Wt<=10?(zt(Mt,17,Mt.bl_tree),$t(Mt,Wt-3,3)):(zt(Mt,18,Mt.bl_tree),$t(Mt,Wt-11,7));Wt=0,Jt=Ht,Vt===0?(Lt=138,Bt=3):Ht===Vt?(Lt=6,Bt=3):(Lt=7,Bt=4)}}it(yt);var Ut=!1;function At(Mt,jt,kt,Gt){$t(Mt,0+(Gt?1:0),3),function(Ht,Jt,Vt,Wt){Rt(Ht),Wt&&(vt(Ht,Vt),vt(Ht,~Vt)),rt.arraySet(Ht.pending_buf,Ht.window,Jt,Vt,Ht.pending),Ht.pending+=Vt}(Mt,jt,kt,!0)}et._tr_init=function(Mt){Ut||(function(){var jt,kt,Gt,Ht,Jt,Vt=new Array(16);for(Gt=0,Ht=0;Ht<28;Ht++)for(ht[Ht]=Gt,jt=0;jt<1<<ot[Ht];jt++)dt[Gt++]=Ht;for(dt[Gt-1]=Ht,Jt=0,Ht=0;Ht<16;Ht++)for(yt[Ht]=Jt,jt=0;jt<1<<at[Ht];jt++)ut[Jt++]=Ht;for(Jt>>=7;Ht<30;Ht++)for(yt[Ht]=Jt<<7,jt=0;jt<1<<at[Ht]-7;jt++)ut[256+Jt++]=Ht;for(kt=0;kt<=15;kt++)Vt[kt]=0;for(jt=0;jt<=143;)ct[2*jt+1]=8,jt++,Vt[8]++;for(;jt<=255;)ct[2*jt+1]=9,jt++,Vt[9]++;for(;jt<=279;)ct[2*jt+1]=7,jt++,Vt[7]++;for(;jt<=287;)ct[2*jt+1]=8,jt++,Vt[8]++;for(wt(ct,287,Vt),jt=0;jt<30;jt++)ft[2*jt+1]=5,ft[2*jt]=Nt(jt,5);pt=new bt(ct,ot,257,286,15),gt=new bt(ft,at,0,30,15),mt=new bt(new Array(0),st,0,19,7)}(),Ut=!0),Mt.l_desc=new St(Mt.dyn_ltree,pt),Mt.d_desc=new St(Mt.dyn_dtree,gt),Mt.bl_desc=new St(Mt.bl_tree,mt),Mt.bi_buf=0,Mt.bi_valid=0,Et(Mt)},et._tr_stored_block=At,et._tr_flush_block=function(Mt,jt,kt,Gt){var Ht,Jt,Vt=0;Mt.level>0?(Mt.strm.data_type===2&&(Mt.strm.data_type=function(Wt){var Lt,Bt=4093624447;for(Lt=0;Lt<=31;Lt++,Bt>>>=1)if(1&Bt&&Wt.dyn_ltree[2*Lt]!==0)return 0;if(Wt.dyn_ltree[18]!==0||Wt.dyn_ltree[20]!==0||Wt.dyn_ltree[26]!==0)return 1;for(Lt=32;Lt<256;Lt++)if(Wt.dyn_ltree[2*Lt]!==0)return 1;return 0}(Mt)),Dt(Mt,Mt.l_desc),Dt(Mt,Mt.d_desc),Vt=function(Wt){var Lt;for(Ct(Wt,Wt.dyn_ltree,Wt.l_desc.max_code),Ct(Wt,Wt.dyn_dtree,Wt.d_desc.max_code),Dt(Wt,Wt.bl_desc),Lt=18;Lt>=3&&Wt.bl_tree[2*lt[Lt]+1]===0;Lt--);return Wt.opt_len+=3*(Lt+1)+5+5+4,Lt}(Mt),Ht=Mt.opt_len+3+7>>>3,(Jt=Mt.static_len+3+7>>>3)<=Ht&&(Ht=Jt)):Ht=Jt=kt+5,kt+4<=Ht&&jt!==-1?At(Mt,jt,kt,Gt):Mt.strategy===4||Jt===Ht?($t(Mt,2+(Gt?1:0),3),Pt(Mt,ct,ft)):($t(Mt,4+(Gt?1:0),3),function(Wt,Lt,Bt,Ft){var sn;for($t(Wt,Lt-257,5),$t(Wt,Bt-1,5),$t(Wt,Ft-4,4),sn=0;sn<Ft;sn++)$t(Wt,Wt.bl_tree[2*lt[sn]+1],3);Ot(Wt,Wt.dyn_ltree,Lt-1),Ot(Wt,Wt.dyn_dtree,Bt-1)}(Mt,Mt.l_desc.max_code+1,Mt.d_desc.max_code+1,Vt+1),Pt(Mt,Mt.dyn_ltree,Mt.dyn_dtree)),Et(Mt),Gt&&Rt(Mt)},et._tr_tally=function(Mt,jt,kt){return Mt.pending_buf[Mt.d_buf+2*Mt.last_lit]=jt>>>8&255,Mt.pending_buf[Mt.d_buf+2*Mt.last_lit+1]=255&jt,Mt.pending_buf[Mt.l_buf+Mt.last_lit]=255&kt,Mt.last_lit++,jt===0?Mt.dyn_ltree[2*kt]++:(Mt.matches++,jt--,Mt.dyn_ltree[2*(dt[kt]+256+1)]++,Mt.dyn_dtree[2*xt(jt)]++),Mt.last_lit===Mt.lit_bufsize-1},et._tr_align=function(Mt){$t(Mt,2,3),zt(Mt,256,ct),function(jt){jt.bi_valid===16?(vt(jt,jt.bi_buf),jt.bi_buf=0,jt.bi_valid=0):jt.bi_valid>=8&&(jt.pending_buf[jt.pending++]=255&jt.bi_buf,jt.bi_buf>>=8,jt.bi_valid-=8)}(Mt)}},function(tt,et,nt){tt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(tt,et,nt){var rt=nt(33),it=nt(73),ot=nt(74),at=nt(175),st=nt(176);function lt(St){return(St>>>24&255)+(St>>>8&65280)+((65280&St)<<8)+((255&St)<<24)}function ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new rt.Buf16(320),this.work=new rt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ft(St){var xt;return St&&St.state?(xt=St.state,St.total_in=St.total_out=xt.total=0,St.msg="",xt.wrap&&(St.adler=1&xt.wrap),xt.mode=1,xt.last=0,xt.havedict=0,xt.dmax=32768,xt.head=null,xt.hold=0,xt.bits=0,xt.lencode=xt.lendyn=new rt.Buf32(852),xt.distcode=xt.distdyn=new rt.Buf32(592),xt.sane=1,xt.back=-1,0):-2}function ut(St){var xt;return St&&St.state?((xt=St.state).wsize=0,xt.whave=0,xt.wnext=0,ft(St)):-2}function dt(St,xt){var vt,$t;return St&&St.state?($t=St.state,xt<0?(vt=0,xt=-xt):(vt=1+(xt>>4),xt<48&&(xt&=15)),xt&&(xt<8||xt>15)?-2:($t.window!==null&&$t.wbits!==xt&&($t.window=null),$t.wrap=vt,$t.wbits=xt,ut(St))):-2}function ht(St,xt){var vt,$t;return St?($t=new ct,St.state=$t,$t.window=null,(vt=dt(St,xt))!==0&&(St.state=null),vt):-2}var pt,gt,mt=!0;function yt(St){if(mt){var xt;for(pt=new rt.Buf32(512),gt=new rt.Buf32(32),xt=0;xt<144;)St.lens[xt++]=8;for(;xt<256;)St.lens[xt++]=9;for(;xt<280;)St.lens[xt++]=7;for(;xt<288;)St.lens[xt++]=8;for(st(1,St.lens,0,288,pt,0,St.work,{bits:9}),xt=0;xt<32;)St.lens[xt++]=5;st(2,St.lens,0,32,gt,0,St.work,{bits:5}),mt=!1}St.lencode=pt,St.lenbits=9,St.distcode=gt,St.distbits=5}function bt(St,xt,vt,$t){var zt,Nt=St.state;return Nt.window===null&&(Nt.wsize=1<<Nt.wbits,Nt.wnext=0,Nt.whave=0,Nt.window=new rt.Buf8(Nt.wsize)),$t>=Nt.wsize?(rt.arraySet(Nt.window,xt,vt-Nt.wsize,Nt.wsize,0),Nt.wnext=0,Nt.whave=Nt.wsize):((zt=Nt.wsize-Nt.wnext)>$t&&(zt=$t),rt.arraySet(Nt.window,xt,vt-$t,zt,Nt.wnext),($t-=zt)?(rt.arraySet(Nt.window,xt,vt-$t,$t,0),Nt.wnext=$t,Nt.whave=Nt.wsize):(Nt.wnext+=zt,Nt.wnext===Nt.wsize&&(Nt.wnext=0),Nt.whave<Nt.wsize&&(Nt.whave+=zt))),0}et.inflateReset=ut,et.inflateReset2=dt,et.inflateResetKeep=ft,et.inflateInit=function(St){return ht(St,15)},et.inflateInit2=ht,et.inflate=function(St,xt){var vt,$t,zt,Nt,wt,Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht,Jt,Vt,Wt,Lt,Bt=0,Ft=new rt.Buf8(4),sn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!St||!St.state||!St.output||!St.input&&St.avail_in!==0)return-2;(vt=St.state).mode===12&&(vt.mode=13),wt=St.next_out,zt=St.output,Rt=St.avail_out,Nt=St.next_in,$t=St.input,Et=St.avail_in,Tt=vt.hold,It=vt.bits,Pt=Et,Dt=Rt,Vt=0;e:for(;;)switch(vt.mode){case 1:if(vt.wrap===0){vt.mode=13;break}for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(2&vt.wrap&&Tt===35615){vt.check=0,Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0),Tt=0,It=0,vt.mode=2;break}if(vt.flags=0,vt.head&&(vt.head.done=!1),!(1&vt.wrap)||(((255&Tt)<<8)+(Tt>>8))%31){St.msg="incorrect header check",vt.mode=30;break}if((15&Tt)!=8){St.msg="unknown compression method",vt.mode=30;break}if(It-=4,Jt=8+(15&(Tt>>>=4)),vt.wbits===0)vt.wbits=Jt;else if(Jt>vt.wbits){St.msg="invalid window size",vt.mode=30;break}vt.dmax=1<<Jt,St.adler=vt.check=1,vt.mode=512&Tt?10:12,Tt=0,It=0;break;case 2:for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(vt.flags=Tt,(255&vt.flags)!=8){St.msg="unknown compression method",vt.mode=30;break}if(57344&vt.flags){St.msg="unknown header flags set",vt.mode=30;break}vt.head&&(vt.head.text=Tt>>8&1),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0)),Tt=0,It=0,vt.mode=3;case 3:for(;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.head&&(vt.head.time=Tt),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,Ft[2]=Tt>>>16&255,Ft[3]=Tt>>>24&255,vt.check=ot(vt.check,Ft,4,0)),Tt=0,It=0,vt.mode=4;case 4:for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.head&&(vt.head.xflags=255&Tt,vt.head.os=Tt>>8),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0)),Tt=0,It=0,vt.mode=5;case 5:if(1024&vt.flags){for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.length=Tt,vt.head&&(vt.head.extra_len=Tt),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0)),Tt=0,It=0}else vt.head&&(vt.head.extra=null);vt.mode=6;case 6:if(1024&vt.flags&&((Ct=vt.length)>Et&&(Ct=Et),Ct&&(vt.head&&(Jt=vt.head.extra_len-vt.length,vt.head.extra||(vt.head.extra=new Array(vt.head.extra_len)),rt.arraySet(vt.head.extra,$t,Nt,Ct,Jt)),512&vt.flags&&(vt.check=ot(vt.check,$t,Ct,Nt)),Et-=Ct,Nt+=Ct,vt.length-=Ct),vt.length))break e;vt.length=0,vt.mode=7;case 7:if(2048&vt.flags){if(Et===0)break e;Ct=0;do Jt=$t[Nt+Ct++],vt.head&&Jt&&vt.length<65536&&(vt.head.name+=String.fromCharCode(Jt));while(Jt&&Ct<Et);if(512&vt.flags&&(vt.check=ot(vt.check,$t,Ct,Nt)),Et-=Ct,Nt+=Ct,Jt)break e}else vt.head&&(vt.head.name=null);vt.length=0,vt.mode=8;case 8:if(4096&vt.flags){if(Et===0)break e;Ct=0;do Jt=$t[Nt+Ct++],vt.head&&Jt&&vt.length<65536&&(vt.head.comment+=String.fromCharCode(Jt));while(Jt&&Ct<Et);if(512&vt.flags&&(vt.check=ot(vt.check,$t,Ct,Nt)),Et-=Ct,Nt+=Ct,Jt)break e}else vt.head&&(vt.head.comment=null);vt.mode=9;case 9:if(512&vt.flags){for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Tt!==(65535&vt.check)){St.msg="header crc mismatch",vt.mode=30;break}Tt=0,It=0}vt.head&&(vt.head.hcrc=vt.flags>>9&1,vt.head.done=!0),St.adler=vt.check=0,vt.mode=12;break;case 10:for(;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}St.adler=vt.check=lt(Tt),Tt=0,It=0,vt.mode=11;case 11:if(vt.havedict===0)return St.next_out=wt,St.avail_out=Rt,St.next_in=Nt,St.avail_in=Et,vt.hold=Tt,vt.bits=It,2;St.adler=vt.check=1,vt.mode=12;case 12:if(xt===5||xt===6)break e;case 13:if(vt.last){Tt>>>=7&It,It-=7&It,vt.mode=27;break}for(;It<3;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}switch(vt.last=1&Tt,It-=1,3&(Tt>>>=1)){case 0:vt.mode=14;break;case 1:if(yt(vt),vt.mode=20,xt===6){Tt>>>=2,It-=2;break e}break;case 2:vt.mode=17;break;case 3:St.msg="invalid block type",vt.mode=30}Tt>>>=2,It-=2;break;case 14:for(Tt>>>=7&It,It-=7&It;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if((65535&Tt)!=(Tt>>>16^65535)){St.msg="invalid stored block lengths",vt.mode=30;break}if(vt.length=65535&Tt,Tt=0,It=0,vt.mode=15,xt===6)break e;case 15:vt.mode=16;case 16:if(Ct=vt.length){if(Ct>Et&&(Ct=Et),Ct>Rt&&(Ct=Rt),Ct===0)break e;rt.arraySet(zt,$t,Nt,Ct,wt),Et-=Ct,Nt+=Ct,Rt-=Ct,wt+=Ct,vt.length-=Ct;break}vt.mode=12;break;case 17:for(;It<14;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(vt.nlen=257+(31&Tt),Tt>>>=5,It-=5,vt.ndist=1+(31&Tt),Tt>>>=5,It-=5,vt.ncode=4+(15&Tt),Tt>>>=4,It-=4,vt.nlen>286||vt.ndist>30){St.msg="too many length or distance symbols",vt.mode=30;break}vt.have=0,vt.mode=18;case 18:for(;vt.have<vt.ncode;){for(;It<3;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.lens[sn[vt.have++]]=7&Tt,Tt>>>=3,It-=3}for(;vt.have<19;)vt.lens[sn[vt.have++]]=0;if(vt.lencode=vt.lendyn,vt.lenbits=7,Wt={bits:vt.lenbits},Vt=st(0,vt.lens,0,19,vt.lencode,0,vt.work,Wt),vt.lenbits=Wt.bits,Vt){St.msg="invalid code lengths set",vt.mode=30;break}vt.have=0,vt.mode=19;case 19:for(;vt.have<vt.nlen+vt.ndist;){for(;Mt=(Bt=vt.lencode[Tt&(1<<vt.lenbits)-1])>>>16&255,jt=65535&Bt,!((At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(jt<16)Tt>>>=At,It-=At,vt.lens[vt.have++]=jt;else{if(jt===16){for(Lt=At+2;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Tt>>>=At,It-=At,vt.have===0){St.msg="invalid bit length repeat",vt.mode=30;break}Jt=vt.lens[vt.have-1],Ct=3+(3&Tt),Tt>>>=2,It-=2}else if(jt===17){for(Lt=At+3;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}It-=At,Jt=0,Ct=3+(7&(Tt>>>=At)),Tt>>>=3,It-=3}else{for(Lt=At+7;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}It-=At,Jt=0,Ct=11+(127&(Tt>>>=At)),Tt>>>=7,It-=7}if(vt.have+Ct>vt.nlen+vt.ndist){St.msg="invalid bit length repeat",vt.mode=30;break}for(;Ct--;)vt.lens[vt.have++]=Jt}}if(vt.mode===30)break;if(vt.lens[256]===0){St.msg="invalid code -- missing end-of-block",vt.mode=30;break}if(vt.lenbits=9,Wt={bits:vt.lenbits},Vt=st(1,vt.lens,0,vt.nlen,vt.lencode,0,vt.work,Wt),vt.lenbits=Wt.bits,Vt){St.msg="invalid literal/lengths set",vt.mode=30;break}if(vt.distbits=6,vt.distcode=vt.distdyn,Wt={bits:vt.distbits},Vt=st(2,vt.lens,vt.nlen,vt.ndist,vt.distcode,0,vt.work,Wt),vt.distbits=Wt.bits,Vt){St.msg="invalid distances set",vt.mode=30;break}if(vt.mode=20,xt===6)break e;case 20:vt.mode=21;case 21:if(Et>=6&&Rt>=258){St.next_out=wt,St.avail_out=Rt,St.next_in=Nt,St.avail_in=Et,vt.hold=Tt,vt.bits=It,at(St,Dt),wt=St.next_out,zt=St.output,Rt=St.avail_out,Nt=St.next_in,$t=St.input,Et=St.avail_in,Tt=vt.hold,It=vt.bits,vt.mode===12&&(vt.back=-1);break}for(vt.back=0;Mt=(Bt=vt.lencode[Tt&(1<<vt.lenbits)-1])>>>16&255,jt=65535&Bt,!((At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Mt&&(240&Mt)==0){for(kt=At,Gt=Mt,Ht=jt;Mt=(Bt=vt.lencode[Ht+((Tt&(1<<kt+Gt)-1)>>kt)])>>>16&255,jt=65535&Bt,!(kt+(At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}Tt>>>=kt,It-=kt,vt.back+=kt}if(Tt>>>=At,It-=At,vt.back+=At,vt.length=jt,Mt===0){vt.mode=26;break}if(32&Mt){vt.back=-1,vt.mode=12;break}if(64&Mt){St.msg="invalid literal/length code",vt.mode=30;break}vt.extra=15&Mt,vt.mode=22;case 22:if(vt.extra){for(Lt=vt.extra;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.length+=Tt&(1<<vt.extra)-1,Tt>>>=vt.extra,It-=vt.extra,vt.back+=vt.extra}vt.was=vt.length,vt.mode=23;case 23:for(;Mt=(Bt=vt.distcode[Tt&(1<<vt.distbits)-1])>>>16&255,jt=65535&Bt,!((At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if((240&Mt)==0){for(kt=At,Gt=Mt,Ht=jt;Mt=(Bt=vt.distcode[Ht+((Tt&(1<<kt+Gt)-1)>>kt)])>>>16&255,jt=65535&Bt,!(kt+(At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}Tt>>>=kt,It-=kt,vt.back+=kt}if(Tt>>>=At,It-=At,vt.back+=At,64&Mt){St.msg="invalid distance code",vt.mode=30;break}vt.offset=jt,vt.extra=15&Mt,vt.mode=24;case 24:if(vt.extra){for(Lt=vt.extra;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.offset+=Tt&(1<<vt.extra)-1,Tt>>>=vt.extra,It-=vt.extra,vt.back+=vt.extra}if(vt.offset>vt.dmax){St.msg="invalid distance too far back",vt.mode=30;break}vt.mode=25;case 25:if(Rt===0)break e;if(Ct=Dt-Rt,vt.offset>Ct){if((Ct=vt.offset-Ct)>vt.whave&&vt.sane){St.msg="invalid distance too far back",vt.mode=30;break}Ct>vt.wnext?(Ct-=vt.wnext,Ot=vt.wsize-Ct):Ot=vt.wnext-Ct,Ct>vt.length&&(Ct=vt.length),Ut=vt.window}else Ut=zt,Ot=wt-vt.offset,Ct=vt.length;Ct>Rt&&(Ct=Rt),Rt-=Ct,vt.length-=Ct;do zt[wt++]=Ut[Ot++];while(--Ct);vt.length===0&&(vt.mode=21);break;case 26:if(Rt===0)break e;zt[wt++]=vt.length,Rt--,vt.mode=21;break;case 27:if(vt.wrap){for(;It<32;){if(Et===0)break e;Et--,Tt|=$t[Nt++]<<It,It+=8}if(Dt-=Rt,St.total_out+=Dt,vt.total+=Dt,Dt&&(St.adler=vt.check=vt.flags?ot(vt.check,zt,Dt,wt-Dt):it(vt.check,zt,Dt,wt-Dt)),Dt=Rt,(vt.flags?Tt:lt(Tt))!==vt.check){St.msg="incorrect data check",vt.mode=30;break}Tt=0,It=0}vt.mode=28;case 28:if(vt.wrap&&vt.flags){for(;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Tt!==(4294967295&vt.total)){St.msg="incorrect length check",vt.mode=30;break}Tt=0,It=0}vt.mode=29;case 29:Vt=1;break e;case 30:Vt=-3;break e;case 31:return-4;case 32:default:return-2}return St.next_out=wt,St.avail_out=Rt,St.next_in=Nt,St.avail_in=Et,vt.hold=Tt,vt.bits=It,(vt.wsize||Dt!==St.avail_out&&vt.mode<30&&(vt.mode<27||xt!==4))&&bt(St,St.output,St.next_out,Dt-St.avail_out)?(vt.mode=31,-4):(Pt-=St.avail_in,Dt-=St.avail_out,St.total_in+=Pt,St.total_out+=Dt,vt.total+=Dt,vt.wrap&&Dt&&(St.adler=vt.check=vt.flags?ot(vt.check,zt,Dt,St.next_out-Dt):it(vt.check,zt,Dt,St.next_out-Dt)),St.data_type=vt.bits+(vt.last?64:0)+(vt.mode===12?128:0)+(vt.mode===20||vt.mode===15?256:0),(Pt===0&&Dt===0||xt===4)&&Vt===0&&(Vt=-5),Vt)},et.inflateEnd=function(St){if(!St||!St.state)return-2;var xt=St.state;return xt.window&&(xt.window=null),St.state=null,0},et.inflateGetHeader=function(St,xt){var vt;return St&&St.state?(2&(vt=St.state).wrap)==0?-2:(vt.head=xt,xt.done=!1,0):-2},et.inflateSetDictionary=function(St,xt){var vt,$t=xt.length;return St&&St.state?(vt=St.state).wrap!==0&&vt.mode!==11?-2:vt.mode===11&&it(1,xt,$t,0)!==vt.check?-3:bt(St,xt,$t,$t)?(vt.mode=31,-4):(vt.havedict=1,0):-2},et.inflateInfo="pako inflate (from Nodeca project)"},function(tt,et,nt){tt.exports=function(rt,it){var ot,at,st,lt,ct,ft,ut,dt,ht,pt,gt,mt,yt,bt,St,xt,vt,$t,zt,Nt,wt,Et,Rt,Tt,It;ot=rt.state,at=rt.next_in,Tt=rt.input,st=at+(rt.avail_in-5),lt=rt.next_out,It=rt.output,ct=lt-(it-rt.avail_out),ft=lt+(rt.avail_out-257),ut=ot.dmax,dt=ot.wsize,ht=ot.whave,pt=ot.wnext,gt=ot.window,mt=ot.hold,yt=ot.bits,bt=ot.lencode,St=ot.distcode,xt=(1<<ot.lenbits)-1,vt=(1<<ot.distbits)-1;e:do{yt<15&&(mt+=Tt[at++]<<yt,yt+=8,mt+=Tt[at++]<<yt,yt+=8),$t=bt[mt&xt];t:for(;;){if(mt>>>=zt=$t>>>24,yt-=zt,(zt=$t>>>16&255)===0)It[lt++]=65535&$t;else{if(!(16&zt)){if((64&zt)==0){$t=bt[(65535&$t)+(mt&(1<<zt)-1)];continue t}if(32&zt){ot.mode=12;break e}rt.msg="invalid literal/length code",ot.mode=30;break e}Nt=65535&$t,(zt&=15)&&(yt<zt&&(mt+=Tt[at++]<<yt,yt+=8),Nt+=mt&(1<<zt)-1,mt>>>=zt,yt-=zt),yt<15&&(mt+=Tt[at++]<<yt,yt+=8,mt+=Tt[at++]<<yt,yt+=8),$t=St[mt&vt];n:for(;;){if(mt>>>=zt=$t>>>24,yt-=zt,!(16&(zt=$t>>>16&255))){if((64&zt)==0){$t=St[(65535&$t)+(mt&(1<<zt)-1)];continue n}rt.msg="invalid distance code",ot.mode=30;break e}if(wt=65535&$t,yt<(zt&=15)&&(mt+=Tt[at++]<<yt,(yt+=8)<zt&&(mt+=Tt[at++]<<yt,yt+=8)),(wt+=mt&(1<<zt)-1)>ut){rt.msg="invalid distance too far back",ot.mode=30;break e}if(mt>>>=zt,yt-=zt,wt>(zt=lt-ct)){if((zt=wt-zt)>ht&&ot.sane){rt.msg="invalid distance too far back",ot.mode=30;break e}if(Et=0,Rt=gt,pt===0){if(Et+=dt-zt,zt<Nt){Nt-=zt;do It[lt++]=gt[Et++];while(--zt);Et=lt-wt,Rt=It}}else if(pt<zt){if(Et+=dt+pt-zt,(zt-=pt)<Nt){Nt-=zt;do It[lt++]=gt[Et++];while(--zt);if(Et=0,pt<Nt){Nt-=zt=pt;do It[lt++]=gt[Et++];while(--zt);Et=lt-wt,Rt=It}}}else if(Et+=pt-zt,zt<Nt){Nt-=zt;do It[lt++]=gt[Et++];while(--zt);Et=lt-wt,Rt=It}for(;Nt>2;)It[lt++]=Rt[Et++],It[lt++]=Rt[Et++],It[lt++]=Rt[Et++],Nt-=3;Nt&&(It[lt++]=Rt[Et++],Nt>1&&(It[lt++]=Rt[Et++]))}else{Et=lt-wt;do It[lt++]=It[Et++],It[lt++]=It[Et++],It[lt++]=It[Et++],Nt-=3;while(Nt>2);Nt&&(It[lt++]=It[Et++],Nt>1&&(It[lt++]=It[Et++]))}break}}break}}while(at<st&&lt<ft);at-=Nt=yt>>3,mt&=(1<<(yt-=Nt<<3))-1,rt.next_in=at,rt.next_out=lt,rt.avail_in=at<st?st-at+5:5-(at-st),rt.avail_out=lt<ft?ft-lt+257:257-(lt-ft),ot.hold=mt,ot.bits=yt}},function(tt,et,nt){var rt=nt(33),it=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ot=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],at=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],st=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];tt.exports=function(lt,ct,ft,ut,dt,ht,pt,gt){var mt,yt,bt,St,xt,vt,$t,zt,Nt,wt=gt.bits,Et=0,Rt=0,Tt=0,It=0,Pt=0,Dt=0,Ct=0,Ot=0,Ut=0,At=0,Mt=null,jt=0,kt=new rt.Buf16(16),Gt=new rt.Buf16(16),Ht=null,Jt=0;for(Et=0;Et<=15;Et++)kt[Et]=0;for(Rt=0;Rt<ut;Rt++)kt[ct[ft+Rt]]++;for(Pt=wt,It=15;It>=1&&kt[It]===0;It--);if(Pt>It&&(Pt=It),It===0)return dt[ht++]=20971520,dt[ht++]=20971520,gt.bits=1,0;for(Tt=1;Tt<It&&kt[Tt]===0;Tt++);for(Pt<Tt&&(Pt=Tt),Ot=1,Et=1;Et<=15;Et++)if(Ot<<=1,(Ot-=kt[Et])<0)return-1;if(Ot>0&&(lt===0||It!==1))return-1;for(Gt[1]=0,Et=1;Et<15;Et++)Gt[Et+1]=Gt[Et]+kt[Et];for(Rt=0;Rt<ut;Rt++)ct[ft+Rt]!==0&&(pt[Gt[ct[ft+Rt]]++]=Rt);if(lt===0?(Mt=Ht=pt,vt=19):lt===1?(Mt=it,jt-=257,Ht=ot,Jt-=257,vt=256):(Mt=at,Ht=st,vt=-1),At=0,Rt=0,Et=Tt,xt=ht,Dt=Pt,Ct=0,bt=-1,St=(Ut=1<<Pt)-1,lt===1&&Ut>852||lt===2&&Ut>592)return 1;for(;;){$t=Et-Ct,pt[Rt]<vt?(zt=0,Nt=pt[Rt]):pt[Rt]>vt?(zt=Ht[Jt+pt[Rt]],Nt=Mt[jt+pt[Rt]]):(zt=96,Nt=0),mt=1<<Et-Ct,Tt=yt=1<<Dt;do dt[xt+(At>>Ct)+(yt-=mt)]=$t<<24|zt<<16|Nt|0;while(yt!==0);for(mt=1<<Et-1;At&mt;)mt>>=1;if(mt!==0?(At&=mt-1,At+=mt):At=0,Rt++,--kt[Et]==0){if(Et===It)break;Et=ct[ft+pt[Rt]]}if(Et>Pt&&(At&St)!==bt){for(Ct===0&&(Ct=Pt),xt+=Tt,Ot=1<<(Dt=Et-Ct);Dt+Ct<It&&!((Ot-=kt[Dt+Ct])<=0);)Dt++,Ot<<=1;if(Ut+=1<<Dt,lt===1&&Ut>852||lt===2&&Ut>592)return 1;dt[bt=At&St]=Pt<<24|Dt<<16|xt-ht|0}}return At!==0&&(dt[xt+At]=Et-Ct<<24|64<<16|0),gt.bits=Pt,0}},function(tt,et,nt){tt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(tt,et){},function(tt,et,nt){function rt(ct,ft){var ut=Object.keys(ct);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(ct);ft&&(dt=dt.filter(function(ht){return Object.getOwnPropertyDescriptor(ct,ht).enumerable})),ut.push.apply(ut,dt)}return ut}function it(ct,ft,ut){return ft in ct?Object.defineProperty(ct,ft,{value:ut,enumerable:!0,configurable:!0,writable:!0}):ct[ft]=ut,ct}function ot(ct,ft){for(var ut=0;ut<ft.length;ut++){var dt=ft[ut];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ct,dt.key,dt)}}var at=nt(4).Buffer,st=nt(180).inspect,lt=st&&st.custom||"inspect";tt.exports=function(){function ct(){(function(dt,ht){if(!(dt instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,ct),this.head=null,this.tail=null,this.length=0}var ft,ut;return ft=ct,(ut=[{key:"push",value:function(dt){var ht={data:dt,next:null};this.length>0?this.tail.next=ht:this.head=ht,this.tail=ht,++this.length}},{key:"unshift",value:function(dt){var ht={data:dt,next:this.head};this.length===0&&(this.tail=ht),this.head=ht,++this.length}},{key:"shift",value:function(){if(this.length!==0){var dt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,dt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(dt){if(this.length===0)return"";for(var ht=this.head,pt=""+ht.data;ht=ht.next;)pt+=dt+ht.data;return pt}},{key:"concat",value:function(dt){if(this.length===0)return at.alloc(0);for(var ht,pt,gt,mt=at.allocUnsafe(dt>>>0),yt=this.head,bt=0;yt;)ht=yt.data,pt=mt,gt=bt,at.prototype.copy.call(ht,pt,gt),bt+=yt.data.length,yt=yt.next;return mt}},{key:"consume",value:function(dt,ht){var pt;return dt<this.head.data.length?(pt=this.head.data.slice(0,dt),this.head.data=this.head.data.slice(dt)):pt=dt===this.head.data.length?this.shift():ht?this._getString(dt):this._getBuffer(dt),pt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(dt){var ht=this.head,pt=1,gt=ht.data;for(dt-=gt.length;ht=ht.next;){var mt=ht.data,yt=dt>mt.length?mt.length:dt;if(yt===mt.length?gt+=mt:gt+=mt.slice(0,dt),(dt-=yt)==0){yt===mt.length?(++pt,ht.next?this.head=ht.next:this.head=this.tail=null):(this.head=ht,ht.data=mt.slice(yt));break}++pt}return this.length-=pt,gt}},{key:"_getBuffer",value:function(dt){var ht=at.allocUnsafe(dt),pt=this.head,gt=1;for(pt.data.copy(ht),dt-=pt.data.length;pt=pt.next;){var mt=pt.data,yt=dt>mt.length?mt.length:dt;if(mt.copy(ht,ht.length-dt,0,yt),(dt-=yt)==0){yt===mt.length?(++gt,pt.next?this.head=pt.next:this.head=this.tail=null):(this.head=pt,pt.data=mt.slice(yt));break}++gt}return this.length-=gt,ht}},{key:lt,value:function(dt,ht){return st(this,function(pt){for(var gt=1;gt<arguments.length;gt++){var mt=arguments[gt]!=null?arguments[gt]:{};gt%2?rt(Object(mt),!0).forEach(function(yt){it(pt,yt,mt[yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pt,Object.getOwnPropertyDescriptors(mt)):rt(Object(mt)).forEach(function(yt){Object.defineProperty(pt,yt,Object.getOwnPropertyDescriptor(mt,yt))})}return pt}({},ht,{depth:0,customInspect:!1}))}}])&&ot(ft.prototype,ut),ct}()},function(tt,et){},function(tt,et,nt){(function(rt){var it;function ot(St,xt,vt){return xt in St?Object.defineProperty(St,xt,{value:vt,enumerable:!0,configurable:!0,writable:!0}):St[xt]=vt,St}var at=nt(45),st=Symbol("lastResolve"),lt=Symbol("lastReject"),ct=Symbol("error"),ft=Symbol("ended"),ut=Symbol("lastPromise"),dt=Symbol("handlePromise"),ht=Symbol("stream");function pt(St,xt){return{value:St,done:xt}}function gt(St){var xt=St[st];if(xt!==null){var vt=St[ht].read();vt!==null&&(St[ut]=null,St[st]=null,St[lt]=null,xt(pt(vt,!1)))}}function mt(St){rt.nextTick(gt,St)}var yt=Object.getPrototypeOf(function(){}),bt=Object.setPrototypeOf((ot(it={get stream(){return this[ht]},next:function(){var St=this,xt=this[ct];if(xt!==null)return Promise.reject(xt);if(this[ft])return Promise.resolve(pt(void 0,!0));if(this[ht].destroyed)return new Promise(function(Nt,wt){rt.nextTick(function(){St[ct]?wt(St[ct]):Nt(pt(void 0,!0))})});var vt,$t=this[ut];if($t)vt=new Promise(function(Nt,wt){return function(Et,Rt){Nt.then(function(){wt[ft]?Et(pt(void 0,!0)):wt[dt](Et,Rt)},Rt)}}($t,this));else{var zt=this[ht].read();if(zt!==null)return Promise.resolve(pt(zt,!1));vt=new Promise(this[dt])}return this[ut]=vt,vt}},Symbol.asyncIterator,function(){return this}),ot(it,"return",function(){var St=this;return new Promise(function(xt,vt){St[ht].destroy(null,function($t){$t?vt($t):xt(pt(void 0,!0))})})}),it),yt);tt.exports=function(St){var xt,vt=Object.create(bt,(ot(xt={},ht,{value:St,writable:!0}),ot(xt,st,{value:null,writable:!0}),ot(xt,lt,{value:null,writable:!0}),ot(xt,ct,{value:null,writable:!0}),ot(xt,ft,{value:St._readableState.endEmitted,writable:!0}),ot(xt,dt,{value:function($t,zt){var Nt=vt[ht].read();Nt?(vt[ut]=null,vt[st]=null,vt[lt]=null,$t(pt(Nt,!1))):(vt[st]=$t,vt[lt]=zt)},writable:!0}),xt));return vt[ut]=null,at(St,function($t){if($t&&$t.code!=="ERR_STREAM_PREMATURE_CLOSE"){var zt=vt[lt];return zt!==null&&(vt[ut]=null,vt[st]=null,vt[lt]=null,zt($t)),void(vt[ct]=$t)}var Nt=vt[st];Nt!==null&&(vt[ut]=null,vt[st]=null,vt[lt]=null,Nt(pt(void 0,!0))),vt[ft]=!0}),St.on("readable",mt.bind(null,vt)),vt}}).call(this,nt(2))},function(tt,et){tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(tt,et,nt){tt.exports=it;var rt=nt(80);function it(ot){if(!(this instanceof it))return new it(ot);rt.call(this,ot)}nt(6)(it,rt),it.prototype._transform=function(ot,at,st){st(null,ot)}},function(tt,et,nt){var rt,it=nt(24).codes,ot=it.ERR_MISSING_ARGS,at=it.ERR_STREAM_DESTROYED;function st(dt){if(dt)throw dt}function lt(dt,ht,pt,gt){gt=function(bt){var St=!1;return function(){St||(St=!0,bt.apply(void 0,arguments))}}(gt);var mt=!1;dt.on("close",function(){mt=!0}),rt===void 0&&(rt=nt(45)),rt(dt,{readable:ht,writable:pt},function(bt){if(bt)return gt(bt);mt=!0,gt()});var yt=!1;return function(bt){if(!mt&&!yt)return yt=!0,function(St){return St.setHeader&&typeof St.abort=="function"}(dt)?dt.abort():typeof dt.destroy=="function"?dt.destroy():void gt(bt||new at("pipe"))}}function ct(dt){dt()}function ft(dt,ht){return dt.pipe(ht)}function ut(dt){return dt.length?typeof dt[dt.length-1]!="function"?st:dt.pop():st}tt.exports=function(){for(var dt=arguments.length,ht=new Array(dt),pt=0;pt<dt;pt++)ht[pt]=arguments[pt];var gt,mt=ut(ht);if(Array.isArray(ht[0])&&(ht=ht[0]),ht.length<2)throw new ot("streams");var yt=ht.map(function(bt,St){var xt=St<ht.length-1;return lt(bt,xt,St>0,function(vt){gt||(gt=vt),vt&&yt.forEach(ct),xt||(yt.forEach(ct),mt(gt))})});return ht.reduce(ft)}},function(tt,et,nt){var rt=nt(186)(function it(ot,at){return(at=at||{}).namespace=ot,at.prod=!0,at.dev=!1,at.force||it.force?it.yep(at):it.nope(at)});tt.exports=rt},function(tt,et){var nt=[],rt=[],it=function(){};function ot(pt){return!~nt.indexOf(pt)&&(nt.push(pt),!0)}function at(pt){it=pt}function st(pt){for(var gt=[],mt=0;mt<nt.length;mt++)if(nt[mt].async)gt.push(nt[mt]);else if(nt[mt](pt))return!0;return!!gt.length&&new Promise(function(yt){Promise.all(gt.map(function(bt){return bt(pt)})).then(function(bt){yt(bt.some(Boolean))})})}function lt(pt){return!~rt.indexOf(pt)&&(rt.push(pt),!0)}function ct(){it.apply(it,arguments)}function ft(pt){for(var gt=0;gt<rt.length;gt++)pt=rt[gt].apply(rt[gt],arguments);return pt}function ut(pt,gt){var mt=Object.prototype.hasOwnProperty;for(var yt in gt)mt.call(gt,yt)&&(pt[yt]=gt[yt]);return pt}function dt(pt){return pt.enabled=!1,pt.modify=lt,pt.set=at,pt.use=ot,ut(function(){return!1},pt)}function ht(pt){return pt.enabled=!0,pt.modify=lt,pt.set=at,pt.use=ot,ut(function(){var gt=Array.prototype.slice.call(arguments,0);return ct.call(ct,pt,ft(gt,pt)),!0},pt)}tt.exports=function(pt){return pt.introduce=ut,pt.enabled=st,pt.process=ft,pt.modify=lt,pt.write=ct,pt.nope=dt,pt.yep=ht,pt.set=at,pt.use=ot,pt}},function(tt,et,nt){(function(rt){var it=nt(63),ot=nt(19).StringDecoder,at=nt(29).Stream;function st(){}tt.exports=function(lt,ct){var ft=rt.alloc(65536),ut=new ot("utf8"),dt=new at,ht="",pt=0,gt=0;return lt.start===-1&&delete lt.start,dt.readable=!0,dt.destroy=function(){dt.destroyed=!0,dt.emit("end"),dt.emit("close")},it.open(lt.file,"a+","0644",function(mt,yt){if(mt)return ct?ct(mt):dt.emit("error",mt),void dt.destroy();(function bt(){if(!dt.destroyed)return it.read(yt,ft,0,ft.length,pt,function(St,xt){if(St)return ct?ct(St):dt.emit("error",St),void dt.destroy();if(!xt)return ht&&((lt.start==null||gt>lt.start)&&(ct?ct(null,ht):dt.emit("line",ht)),gt++,ht=""),setTimeout(bt,1e3);var vt=ut.write(ft.slice(0,xt));ct||dt.emit("data",vt);for(var $t=(vt=(ht+vt).split(/\n+/)).length-1,zt=0;zt<$t;zt++)(lt.start==null||gt>lt.start)&&(ct?ct(null,vt[zt]):dt.emit("line",vt[zt])),gt++;return ht=vt[$t],pt+=xt,bt()});it.close(yt,st)})()}),ct?dt.destroy:dt}}).call(this,nt(4).Buffer)},function(tt,et,nt){(function(rt,it){function ot(St){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xt){return typeof xt}:function(xt){return xt&&typeof Symbol=="function"&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt})(St)}function at(St,xt){var vt=Object.keys(St);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(St);xt&&($t=$t.filter(function(zt){return Object.getOwnPropertyDescriptor(St,zt).enumerable})),vt.push.apply(vt,$t)}return vt}function st(St){for(var xt=1;xt<arguments.length;xt++){var vt=arguments[xt]!=null?arguments[xt]:{};xt%2?at(Object(vt),!0).forEach(function($t){lt(St,$t,vt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(vt)):at(Object(vt)).forEach(function($t){Object.defineProperty(St,$t,Object.getOwnPropertyDescriptor(vt,$t))})}return St}function lt(St,xt,vt){return xt in St?Object.defineProperty(St,xt,{value:vt,enumerable:!0,configurable:!0,writable:!0}):St[xt]=vt,St}function ct(St,xt){if(!(St instanceof xt))throw new TypeError("Cannot call a class as a function")}function ft(St,xt){for(var vt=0;vt<xt.length;vt++){var $t=xt[vt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(St,$t.key,$t)}}function ut(St,xt){return(ut=Object.setPrototypeOf||function(vt,$t){return vt.__proto__=$t,vt})(St,xt)}function dt(St){var xt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var vt,$t=pt(St);if(xt){var zt=pt(this).constructor;vt=Reflect.construct($t,arguments,zt)}else vt=$t.apply(this,arguments);return ht(this,vt)}}function ht(St,xt){return!xt||ot(xt)!=="object"&&typeof xt!="function"?function(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(St):xt}function pt(St){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(xt){return xt.__proto__||Object.getPrototypeOf(xt)})(St)}var gt=nt(81),mt=nt(199),yt=nt(29).Stream,bt=nt(17);tt.exports=function(St){(function(Nt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),wt&&ut(Nt,wt)})(zt,St);var xt,vt,$t=dt(zt);function zt(){var Nt,wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ct(this,zt),(Nt=$t.call(this,wt)).options=wt,Nt.name=wt.name||"http",Nt.ssl=!!wt.ssl,Nt.host=wt.host||"localhost",Nt.port=wt.port,Nt.auth=wt.auth,Nt.path=wt.path||"",Nt.agent=wt.agent,Nt.headers=wt.headers||{},Nt.headers["content-type"]="application/json",Nt.port||(Nt.port=Nt.ssl?443:80),Nt}return xt=zt,(vt=[{key:"log",value:function(Nt,wt){var Et=this;this._request(Nt,function(Rt,Tt){Tt&&Tt.statusCode!==200&&(Rt=new Error("Invalid HTTP Status Code: ".concat(Tt.statusCode))),Rt?Et.emit("warn",Rt):Et.emit("logged",Nt)}),wt&&rt(wt)}},{key:"query",value:function(Nt,wt){typeof Nt=="function"&&(wt=Nt,Nt={}),(Nt={method:"query",params:this.normalizeQuery(Nt)}).params.path&&(Nt.path=Nt.params.path,delete Nt.params.path),Nt.params.auth&&(Nt.auth=Nt.params.auth,delete Nt.params.auth),this._request(Nt,function(Et,Rt,Tt){if(Rt&&Rt.statusCode!==200&&(Et=new Error("Invalid HTTP Status Code: ".concat(Rt.statusCode))),Et)return wt(Et);if(typeof Tt=="string")try{Tt=JSON.parse(Tt)}catch(It){return wt(It)}wt(null,Tt)})}},{key:"stream",value:function(){var Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=new yt;(Nt={method:"stream",params:Nt}).params.path&&(Nt.path=Nt.params.path,delete Nt.params.path),Nt.params.auth&&(Nt.auth=Nt.params.auth,delete Nt.params.auth);var Et="",Rt=this._request(Nt);return wt.destroy=function(){return Rt.destroy()},Rt.on("data",function(Tt){for(var It=(Tt=(Et+Tt).split(/\n+/)).length-1,Pt=0;Pt<It;Pt++)try{wt.emit("log",JSON.parse(Tt[Pt]))}catch(Dt){wt.emit("error",Dt)}Et=Tt[It]}),Rt.on("error",function(Tt){return wt.emit("error",Tt)}),wt}},{key:"_request",value:function(Nt,wt){var Et=(Nt=Nt||{}).auth||this.auth,Rt=Nt.path||this.path||"";delete Nt.auth,delete Nt.path;var Tt=Object.assign({},this.headers);Et&&Et.bearer&&(Tt.Authorization="Bearer ".concat(Et.bearer));var It=(this.ssl?mt:gt).request(st(st({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(Rt.replace(/^\//,"")),headers:Tt,auth:Et&&Et.username&&Et.password?"".concat(Et.username,":").concat(Et.password):"",agent:this.agent}));It.on("error",wt),It.on("response",function(Pt){return Pt.on("end",function(){return wt(null,Pt)}).resume()}),It.end(it.from(JSON.stringify(Nt),"utf8"))}}])&&ft(xt.prototype,vt),zt}(bt)}).call(this,nt(12).setImmediate,nt(4).Buffer)},function(tt,et,nt){(function(rt,it,ot){var at=nt(82),st=nt(6),lt=nt(83),ct=nt(28),ft=nt(190),ut=lt.IncomingMessage,dt=lt.readyStates,ht=tt.exports=function(gt){var mt,yt=this;ct.Writable.call(yt),yt._opts=gt,yt._body=[],yt._headers={},gt.auth&&yt.setHeader("Authorization","Basic "+new rt(gt.auth).toString("base64")),Object.keys(gt.headers).forEach(function(St){yt.setHeader(St,gt.headers[St])});var bt=!0;if(gt.mode==="disable-fetch"||"requestTimeout"in gt&&!at.abortController)bt=!1,mt=!0;else if(gt.mode==="prefer-streaming")mt=!1;else if(gt.mode==="allow-wrong-content-type")mt=!at.overrideMimeType;else{if(gt.mode&&gt.mode!=="default"&&gt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");mt=!0}yt._mode=function(St,xt){return at.fetch&&xt?"fetch":at.mozchunkedarraybuffer?"moz-chunked-arraybuffer":at.msstream?"ms-stream":at.arraybuffer&&St?"arraybuffer":at.vbArray&&St?"text:vbarray":"text"}(mt,bt),yt._fetchTimer=null,yt.on("finish",function(){yt._onFinish()})};st(ht,ct.Writable),ht.prototype.setHeader=function(gt,mt){var yt=gt.toLowerCase();pt.indexOf(yt)===-1&&(this._headers[yt]={name:gt,value:mt})},ht.prototype.getHeader=function(gt){var mt=this._headers[gt.toLowerCase()];return mt?mt.value:null},ht.prototype.removeHeader=function(gt){delete this._headers[gt.toLowerCase()]},ht.prototype._onFinish=function(){var gt=this;if(!gt._destroyed){var mt=gt._opts,yt=gt._headers,bt=null;mt.method!=="GET"&&mt.method!=="HEAD"&&(bt=at.arraybuffer?ft(rt.concat(gt._body)):at.blobConstructor?new it.Blob(gt._body.map(function(zt){return ft(zt)}),{type:(yt["content-type"]||{}).value||""}):rt.concat(gt._body).toString());var St=[];if(Object.keys(yt).forEach(function(zt){var Nt=yt[zt].name,wt=yt[zt].value;Array.isArray(wt)?wt.forEach(function(Et){St.push([Nt,Et])}):St.push([Nt,wt])}),gt._mode==="fetch"){var xt=null;if(at.abortController){var vt=new AbortController;xt=vt.signal,gt._fetchAbortController=vt,"requestTimeout"in mt&&mt.requestTimeout!==0&&(gt._fetchTimer=it.setTimeout(function(){gt.emit("requestTimeout"),gt._fetchAbortController&&gt._fetchAbortController.abort()},mt.requestTimeout))}it.fetch(gt._opts.url,{method:gt._opts.method,headers:St,body:bt||void 0,mode:"cors",credentials:mt.withCredentials?"include":"same-origin",signal:xt}).then(function(zt){gt._fetchResponse=zt,gt._connect()},function(zt){it.clearTimeout(gt._fetchTimer),gt._destroyed||gt.emit("error",zt)})}else{var $t=gt._xhr=new it.XMLHttpRequest;try{$t.open(gt._opts.method,gt._opts.url,!0)}catch(zt){return void ot.nextTick(function(){gt.emit("error",zt)})}"responseType"in $t&&($t.responseType=gt._mode.split(":")[0]),"withCredentials"in $t&&($t.withCredentials=!!mt.withCredentials),gt._mode==="text"&&"overrideMimeType"in $t&&$t.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in mt&&($t.timeout=mt.requestTimeout,$t.ontimeout=function(){gt.emit("requestTimeout")}),St.forEach(function(zt){$t.setRequestHeader(zt[0],zt[1])}),gt._response=null,$t.onreadystatechange=function(){switch($t.readyState){case dt.LOADING:case dt.DONE:gt._onXHRProgress()}},gt._mode==="moz-chunked-arraybuffer"&&($t.onprogress=function(){gt._onXHRProgress()}),$t.onerror=function(){gt._destroyed||gt.emit("error",new Error("XHR error"))};try{$t.send(bt)}catch(zt){return void ot.nextTick(function(){gt.emit("error",zt)})}}}},ht.prototype._onXHRProgress=function(){(function(gt){try{var mt=gt.status;return mt!==null&&mt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ht.prototype._connect=function(){var gt=this;gt._destroyed||(gt._response=new ut(gt._xhr,gt._fetchResponse,gt._mode,gt._fetchTimer),gt._response.on("error",function(mt){gt.emit("error",mt)}),gt.emit("response",gt._response))},ht.prototype._write=function(gt,mt,yt){this._body.push(gt),yt()},ht.prototype.abort=ht.prototype.destroy=function(){this._destroyed=!0,it.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},ht.prototype.end=function(gt,mt,yt){typeof gt=="function"&&(yt=gt,gt=void 0),ct.Writable.prototype.end.call(this,gt,mt,yt)},ht.prototype.flushHeaders=function(){},ht.prototype.setTimeout=function(){},ht.prototype.setNoDelay=function(){},ht.prototype.setSocketKeepAlive=function(){};var pt=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,nt(4).Buffer,nt(5),nt(2))},function(tt,et,nt){var rt=nt(4).Buffer;tt.exports=function(it){if(it instanceof Uint8Array){if(it.byteOffset===0&&it.byteLength===it.buffer.byteLength)return it.buffer;if(typeof it.buffer.slice=="function")return it.buffer.slice(it.byteOffset,it.byteOffset+it.byteLength)}if(rt.isBuffer(it)){for(var ot=new Uint8Array(it.length),at=it.length,st=0;st<at;st++)ot[st]=it[st];return ot.buffer}throw new Error("Argument must be a Buffer")}},function(tt,et){tt.exports=function(){for(var rt={},it=0;it<arguments.length;it++){var ot=arguments[it];for(var at in ot)nt.call(ot,at)&&(rt[at]=ot[at])}return rt};var nt=Object.prototype.hasOwnProperty},function(tt,et){tt.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(tt,et,nt){(function(rt,it){var ot;(function(at){et&&et.nodeType,rt&&rt.nodeType;var st=typeof it=="object"&&it;st.global!==st&&st.window!==st&&st.self;var lt,ct=2147483647,ft=/^xn--/,ut=/[^\x20-\x7E]/,dt=/[\x2E\u3002\uFF0E\uFF61]/g,ht={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pt=Math.floor,gt=String.fromCharCode;function mt(wt){throw new RangeError(ht[wt])}function yt(wt,Et){for(var Rt=wt.length,Tt=[];Rt--;)Tt[Rt]=Et(wt[Rt]);return Tt}function bt(wt,Et){var Rt=wt.split("@"),Tt="";return Rt.length>1&&(Tt=Rt[0]+"@",wt=Rt[1]),Tt+yt((wt=wt.replace(dt,".")).split("."),Et).join(".")}function St(wt){for(var Et,Rt,Tt=[],It=0,Pt=wt.length;It<Pt;)(Et=wt.charCodeAt(It++))>=55296&&Et<=56319&&It<Pt?(64512&(Rt=wt.charCodeAt(It++)))==56320?Tt.push(((1023&Et)<<10)+(1023&Rt)+65536):(Tt.push(Et),It--):Tt.push(Et);return Tt}function xt(wt){return yt(wt,function(Et){var Rt="";return Et>65535&&(Rt+=gt((Et-=65536)>>>10&1023|55296),Et=56320|1023&Et),Rt+=gt(Et)}).join("")}function vt(wt,Et){return wt+22+75*(wt<26)-((Et!=0)<<5)}function $t(wt,Et,Rt){var Tt=0;for(wt=Rt?pt(wt/700):wt>>1,wt+=pt(wt/Et);wt>455;Tt+=36)wt=pt(wt/35);return pt(Tt+36*wt/(wt+38))}function zt(wt){var Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt,jt=[],kt=wt.length,Gt=0,Ht=128,Jt=72;for((Rt=wt.lastIndexOf("-"))<0&&(Rt=0),Tt=0;Tt<Rt;++Tt)wt.charCodeAt(Tt)>=128&&mt("not-basic"),jt.push(wt.charCodeAt(Tt));for(It=Rt>0?Rt+1:0;It<kt;){for(Pt=Gt,Dt=1,Ct=36;It>=kt&&mt("invalid-input"),((Ot=(Mt=wt.charCodeAt(It++))-48<10?Mt-22:Mt-65<26?Mt-65:Mt-97<26?Mt-97:36)>=36||Ot>pt((ct-Gt)/Dt))&&mt("overflow"),Gt+=Ot*Dt,!(Ot<(Ut=Ct<=Jt?1:Ct>=Jt+26?26:Ct-Jt));Ct+=36)Dt>pt(ct/(At=36-Ut))&&mt("overflow"),Dt*=At;Jt=$t(Gt-Pt,Et=jt.length+1,Pt==0),pt(Gt/Et)>ct-Ht&&mt("overflow"),Ht+=pt(Gt/Et),Gt%=Et,jt.splice(Gt++,0,Ht)}return xt(jt)}function Nt(wt){var Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht,Jt=[];for(jt=(wt=St(wt)).length,Et=128,Rt=0,Pt=72,Dt=0;Dt<jt;++Dt)(Mt=wt[Dt])<128&&Jt.push(gt(Mt));for(Tt=It=Jt.length,It&&Jt.push("-");Tt<jt;){for(Ct=ct,Dt=0;Dt<jt;++Dt)(Mt=wt[Dt])>=Et&&Mt<Ct&&(Ct=Mt);for(Ct-Et>pt((ct-Rt)/(kt=Tt+1))&&mt("overflow"),Rt+=(Ct-Et)*kt,Et=Ct,Dt=0;Dt<jt;++Dt)if((Mt=wt[Dt])<Et&&++Rt>ct&&mt("overflow"),Mt==Et){for(Ot=Rt,Ut=36;!(Ot<(At=Ut<=Pt?1:Ut>=Pt+26?26:Ut-Pt));Ut+=36)Ht=Ot-At,Gt=36-At,Jt.push(gt(vt(At+Ht%Gt,0))),Ot=pt(Ht/Gt);Jt.push(gt(vt(Ot,0))),Pt=$t(Rt,kt,Tt==It),Rt=0,++Tt}++Rt,++Et}return Jt.join("")}lt={version:"1.4.1",ucs2:{decode:St,encode:xt},decode:zt,encode:Nt,toASCII:function(wt){return bt(wt,function(Et){return ut.test(Et)?"xn--"+Nt(Et):Et})},toUnicode:function(wt){return bt(wt,function(Et){return ft.test(Et)?zt(Et.slice(4).toLowerCase()):Et})}},(ot=function(){return lt}.call(et,nt,et,rt))===void 0||(rt.exports=ot)})()}).call(this,nt(194)(tt),nt(5))},function(tt,et){tt.exports=function(nt){return nt.webpackPolyfill||(nt.deprecate=function(){},nt.paths=[],nt.children||(nt.children=[]),Object.defineProperty(nt,"loaded",{enumerable:!0,get:function(){return nt.l}}),Object.defineProperty(nt,"id",{enumerable:!0,get:function(){return nt.i}}),nt.webpackPolyfill=1),nt}},function(tt,et,nt){tt.exports={isString:function(rt){return typeof rt=="string"},isObject:function(rt){return typeof rt=="object"&&rt!==null},isNull:function(rt){return rt===null},isNullOrUndefined:function(rt){return rt==null}}},function(tt,et,nt){et.decode=et.parse=nt(197),et.encode=et.stringify=nt(198)},function(tt,et,nt){function rt(ot,at){return Object.prototype.hasOwnProperty.call(ot,at)}tt.exports=function(ot,at,st,lt){at=at||"&",st=st||"=";var ct={};if(typeof ot!="string"||ot.length===0)return ct;var ft=/\+/g;ot=ot.split(at);var ut=1e3;lt&&typeof lt.maxKeys=="number"&&(ut=lt.maxKeys);var dt=ot.length;ut>0&&dt>ut&&(dt=ut);for(var ht=0;ht<dt;++ht){var pt,gt,mt,yt,bt=ot[ht].replace(ft,"%20"),St=bt.indexOf(st);St>=0?(pt=bt.substr(0,St),gt=bt.substr(St+1)):(pt=bt,gt=""),mt=decodeURIComponent(pt),yt=decodeURIComponent(gt),rt(ct,mt)?it(ct[mt])?ct[mt].push(yt):ct[mt]=[ct[mt],yt]:ct[mt]=yt}return ct};var it=Array.isArray||function(ot){return Object.prototype.toString.call(ot)==="[object Array]"}},function(tt,et,nt){var rt=function(st){switch(typeof st){case"string":return st;case"boolean":return st?"true":"false";case"number":return isFinite(st)?st:"";default:return""}};tt.exports=function(st,lt,ct,ft){return lt=lt||"&",ct=ct||"=",st===null&&(st=void 0),typeof st=="object"?ot(at(st),function(ut){var dt=encodeURIComponent(rt(ut))+ct;return it(st[ut])?ot(st[ut],function(ht){return dt+encodeURIComponent(rt(ht))}).join(lt):dt+encodeURIComponent(rt(st[ut]))}).join(lt):ft?encodeURIComponent(rt(ft))+ct+encodeURIComponent(rt(st)):""};var it=Array.isArray||function(st){return Object.prototype.toString.call(st)==="[object Array]"};function ot(st,lt){if(st.map)return st.map(lt);for(var ct=[],ft=0;ft<st.length;ft++)ct.push(lt(st[ft],ft));return ct}var at=Object.keys||function(st){var lt=[];for(var ct in st)Object.prototype.hasOwnProperty.call(st,ct)&&lt.push(ct);return lt}},function(tt,et,nt){var rt=nt(81),it=nt(46),ot=tt.exports;for(var at in rt)rt.hasOwnProperty(at)&&(ot[at]=rt[at]);function st(lt){if(typeof lt=="string"&&(lt=it.parse(lt)),lt.protocol||(lt.protocol="https:"),lt.protocol!=="https:")throw new Error('Protocol "'+lt.protocol+'" not supported. Expected "https:"');return lt}ot.request=function(lt,ct){return lt=st(lt),rt.request.call(this,lt,ct)},ot.get=function(lt,ct){return lt=st(lt),rt.get.call(this,lt,ct)}},function(tt,et,nt){(function(rt){function it(gt){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt})(gt)}function ot(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")}function at(gt,mt){for(var yt=0;yt<mt.length;yt++){var bt=mt[yt];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(gt,bt.key,bt)}}function st(gt,mt){return(st=Object.setPrototypeOf||function(yt,bt){return yt.__proto__=bt,yt})(gt,mt)}function lt(gt){var mt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var yt,bt=ft(gt);if(mt){var St=ft(this).constructor;yt=Reflect.construct(bt,arguments,St)}else yt=bt.apply(this,arguments);return ct(this,yt)}}function ct(gt,mt){return!mt||it(mt)!=="object"&&typeof mt!="function"?function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(gt):mt}function ft(gt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(mt){return mt.__proto__||Object.getPrototypeOf(mt)})(gt)}var ut=nt(84),dt=nt(3).MESSAGE,ht=nt(15),pt=nt(17);tt.exports=function(gt){(function(xt,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");xt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:xt,writable:!0,configurable:!0}}),vt&&st(xt,vt)})(St,gt);var mt,yt,bt=lt(St);function St(){var xt,vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ot(this,St),xt=bt.call(this,vt),!vt.stream||!ut(vt.stream))throw new Error("options.stream is required.");return xt._stream=vt.stream,xt._stream.setMaxListeners(1/0),xt.isObjectMode=vt.stream._writableState.objectMode,xt.eol=vt.eol||ht.EOL,xt}return mt=St,(yt=[{key:"log",value:function(xt,vt){var $t=this;if(rt(function(){return $t.emit("logged",xt)}),this.isObjectMode)return this._stream.write(xt),void(vt&&vt());this._stream.write("".concat(xt[dt]).concat(this.eol)),vt&&vt()}}])&&at(mt.prototype,yt),St}(pt)}).call(this,nt(12).setImmediate)},function(tt,et,nt){(function(rt){function it(Tt,It,Pt){return It in Tt?Object.defineProperty(Tt,It,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):Tt[It]=Pt,Tt}function ot(Tt){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(It){return typeof It}:function(It){return It&&typeof Symbol=="function"&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It})(Tt)}function at(Tt,It){for(var Pt=0;Pt<It.length;Pt++){var Dt=It[Pt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Tt,Dt.key,Dt)}}function st(Tt,It){return(st=Object.setPrototypeOf||function(Pt,Dt){return Pt.__proto__=Dt,Pt})(Tt,It)}function lt(Tt){var It=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Pt,Dt=ft(Tt);if(It){var Ct=ft(this).constructor;Pt=Reflect.construct(Dt,arguments,Ct)}else Pt=Dt.apply(this,arguments);return ct(this,Pt)}}function ct(Tt,It){return!It||ot(It)!=="object"&&typeof It!="function"?function(Pt){if(Pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pt}(Tt):It}function ft(Tt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(It){return It.__proto__||Object.getPrototypeOf(It)})(Tt)}var ut=nt(29),dt=ut.Stream,ht=ut.Transform,pt=nt(48),gt=nt(3),mt=gt.LEVEL,yt=gt.SPLAT,bt=nt(84),St=nt(86),xt=nt(90),vt=nt(205),$t=nt(206),zt=nt(59).warn,Nt=nt(47),wt=/%[scdjifoO%]/g,Et=function(Tt){(function(Ot,Ut){if(typeof Ut!="function"&&Ut!==null)throw new TypeError("Super expression must either be null or a function");Ot.prototype=Object.create(Ut&&Ut.prototype,{constructor:{value:Ot,writable:!0,configurable:!0}}),Ut&&st(Ot,Ut)})(Ct,Tt);var It,Pt,Dt=lt(Ct);function Ct(Ot){var Ut;return function(At,Mt){if(!(At instanceof Mt))throw new TypeError("Cannot call a class as a function")}(this,Ct),(Ut=Dt.call(this,{objectMode:!0})).configure(Ot),Ut}return It=Ct,(Pt=[{key:"child",value:function(Ot){var Ut=this;return Object.create(Ut,{write:{value:function(At){var Mt=Object.assign({},Ot,At);At instanceof Error&&(Mt.stack=At.stack,Mt.message=At.message),Ut.write(Mt)}}})}},{key:"configure",value:function(){var Ot=this,Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},At=Ut.silent,Mt=Ut.format,jt=Ut.defaultMeta,kt=Ut.levels,Gt=Ut.level,Ht=Gt===void 0?"info":Gt,Jt=Ut.exitOnError,Vt=Jt===void 0||Jt,Wt=Ut.transports,Lt=Ut.colors,Bt=Ut.emitErrs,Ft=Ut.formatters,sn=Ut.padLevels,Xt=Ut.rewriters,dn=Ut.stripColors,Yt=Ut.exceptionHandlers,yn=Ut.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=At,this.format=Mt||this.format||nt(207)(),this.defaultMeta=jt||null,this.levels=kt||this.levels||Nt.npm.levels,this.level=Ht,this.exceptions=new St(this),this.rejections=new xt(this),this.profilers={},this.exitOnError=Vt,Wt&&(Wt=Array.isArray(Wt)?Wt:[Wt]).forEach(function(Qt){return Ot.add(Qt)}),Lt||Bt||Ft||sn||Xt||dn)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));Yt&&this.exceptions.handle(Yt),yn&&this.rejections.handle(yn)}},{key:"isLevelEnabled",value:function(Ot){var Ut=this,At=Rt(this.levels,Ot);if(At===null)return!1;var Mt=Rt(this.levels,this.level);return Mt!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(jt){var kt=Rt(Ut.levels,jt.level);return kt===null&&(kt=Mt),kt>=At})!==-1:Mt>=At)}},{key:"log",value:function(Ot,Ut){for(var At,Mt,jt=arguments.length,kt=new Array(jt>2?jt-2:0),Gt=2;Gt<jt;Gt++)kt[Gt-2]=arguments[Gt];if(arguments.length===1)return Ot[mt]=Ot.level,this._addDefaultMeta(Ot),this.write(Ot),this;if(arguments.length===2)return Ut&&ot(Ut)==="object"?(Ut[mt]=Ut.level=Ot,this._addDefaultMeta(Ut),this.write(Ut),this):(this.write((it(Mt={},mt,Ot),it(Mt,"level",Ot),it(Mt,"message",Ut),Mt)),this);var Ht=kt[0];if(ot(Ht)==="object"&&Ht!==null){var Jt=Ut&&Ut.match&&Ut.match(wt);if(!Jt){var Vt,Wt=Object.assign({},this.defaultMeta,Ht,(it(Vt={},mt,Ot),it(Vt,yt,kt),it(Vt,"level",Ot),it(Vt,"message",Ut),Vt));return Ht.message&&(Wt.message="".concat(Wt.message," ").concat(Ht.message)),Ht.stack&&(Wt.stack=Ht.stack),this.write(Wt),this}}return this.write(Object.assign({},this.defaultMeta,(it(At={},mt,Ot),it(At,yt,kt),it(At,"level",Ot),it(At,"message",Ut),At))),this}},{key:"_transform",value:function(Ot,Ut,At){if(this.silent)return At();Ot[mt]||(Ot[mt]=Ot.level),this.levels[Ot[mt]]||this.levels[Ot[mt]]===0||console.error("[winston] Unknown logger level: %s",Ot[mt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",Ot);try{this.push(this.format.transform(Ot,this.format.options))}catch(Mt){throw Mt}finally{At()}}},{key:"_final",value:function(Ot){var Ut=this.transports.slice();pt(Ut,function(At,Mt){if(!At||At.finished)return rt(Mt);At.once("finish",Mt),At.end()},Ot)}},{key:"add",value:function(Ot){var Ut=!bt(Ot)||Ot.log.length>2?new vt({transport:Ot}):Ot;if(!Ut._writableState||!Ut._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Ut),this._onEvent("warn",Ut),this.pipe(Ut),Ot.handleExceptions&&this.exceptions.handle(),Ot.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Ot){if(!Ot)return this;var Ut=Ot;return(!bt(Ot)||Ot.log.length>2)&&(Ut=this.transports.filter(function(At){return At.transport===Ot})[0]),Ut&&this.unpipe(Ut),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){zt.deprecated("setLevels")}},{key:"query",value:function(Ot,Ut){typeof Ot=="function"&&(Ut=Ot,Ot={}),Ot=Ot||{};var At={},Mt=Object.assign({},Ot.query||{});pt(this.transports.filter(function(jt){return!!jt.query}),function(jt,kt){(function(Gt,Ht){Ot.query&&typeof Gt.formatQuery=="function"&&(Ot.query=Gt.formatQuery(Mt)),Gt.query(Ot,function(Jt,Vt){if(Jt)return Ht(Jt);typeof Gt.formatResults=="function"&&(Vt=Gt.formatResults(Vt,Ot.format)),Ht(null,Vt)})})(jt,function(Gt,Ht){kt&&((Ht=Gt||Ht)&&(At[jt.name]=Ht),kt()),kt=null})},function(){return Ut(null,At)})}},{key:"stream",value:function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ut=new dt,At=[];return Ut._streams=At,Ut.destroy=function(){for(var Mt=At.length;Mt--;)At[Mt].destroy()},this.transports.filter(function(Mt){return!!Mt.stream}).forEach(function(Mt){var jt=Mt.stream(Ot);jt&&(At.push(jt),jt.on("log",function(kt){kt.transport=kt.transport||[],kt.transport.push(Mt.name),Ut.emit("log",kt)}),jt.on("error",function(kt){kt.transport=kt.transport||[],kt.transport.push(Mt.name),Ut.emit("error",kt)}))}),Ut}},{key:"startTimer",value:function(){return new $t(this)}},{key:"profile",value:function(Ot){var Ut=Date.now();if(this.profilers[Ot]){var At=this.profilers[Ot];delete this.profilers[Ot];for(var Mt=arguments.length,jt=new Array(Mt>1?Mt-1:0),kt=1;kt<Mt;kt++)jt[kt-1]=arguments[kt];typeof jt[jt.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),jt.pop());var Gt=ot(jt[jt.length-1])==="object"?jt.pop():{};return Gt.level=Gt.level||"info",Gt.durationMs=Ut-At,Gt.message=Gt.message||Ot,this.write(Gt)}return this.profilers[Ot]=Ut,this}},{key:"handleExceptions",value:function(){var Ot;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Ot=this.exceptions).handle.apply(Ot,arguments)}},{key:"unhandleExceptions",value:function(){var Ot;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Ot=this.exceptions).unhandle.apply(Ot,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Ot,Ut){Ut["__winston"+Ot]||(Ut["__winston"+Ot]=function(At){Ot!=="error"||this.transports.includes(Ut)||this.add(Ut),this.emit(Ot,At,Ut)}.bind(this),Ut.on(Ot,Ut["__winston"+Ot]))}},{key:"_addDefaultMeta",value:function(Ot){this.defaultMeta&&Object.assign(Ot,this.defaultMeta)}}])&&at(It.prototype,Pt),Ct}(ht);function Rt(Tt,It){var Pt=Tt[It];return Pt||Pt===0?Pt:null}Object.defineProperty(Et.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Tt=this._readableState.pipes;return Array.isArray(Tt)?Tt:[Tt].filter(Boolean)}}),tt.exports=Et}).call(this,nt(12).setImmediate)},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=ft(nt(41)),it=ft(nt(42)),ot=ft(nt(64)),at=ft(nt(65)),st=ft(nt(66)),lt=ft(nt(23)),ct=ft(nt(27));function ft(ht){return ht&&ht.__esModule?ht:{default:ht}}function ut(ht,pt,gt){gt=(0,at.default)(gt);var mt=0,yt=0,{length:bt}=ht,St=!1;function xt(vt,$t){vt===!1&&(St=!0),St!==!0&&(vt?gt(vt):++yt!==bt&&$t!==it.default||gt(null))}for(bt===0&&gt(null);mt<bt;mt++)pt(ht[mt],mt,(0,st.default)(xt))}function dt(ht,pt,gt){return(0,ot.default)(ht,1/0,pt,gt)}et.default=(0,ct.default)(function(ht,pt,gt){return((0,rt.default)(ht)?ut:dt)(ht,(0,lt.default)(pt),gt)},3),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return(it,ot,at)=>rt(it,at)},tt.exports=et.default},function(tt,et,nt){var rt=Object.prototype.toString;tt.exports=function(it){if(typeof it.displayName=="string"&&it.constructor.name)return it.displayName;if(typeof it.name=="string"&&it.name)return it.name;if(typeof it=="object"&&it.constructor&&typeof it.constructor.name=="string")return it.constructor.name;var ot=it.toString(),at=rt.call(it).slice(8,-1);return(ot=at==="Function"?ot.substring(ot.indexOf("(")+1,ot.indexOf(")")):at)||"anonymous"}},function(tt,et,nt){const rt=nt(10),{LEVEL:it}=nt(3),ot=nt(17),at=tt.exports=function(st={}){if(ot.call(this,st),!st.transport||typeof st.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=st.transport,this.level=this.level||st.transport.level,this.handleExceptions=this.handleExceptions||st.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(lt){this.emit("error",lt,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};rt.inherits(at,ot),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);(!this.level||this.levels[this.level]>=this.levels[st[it]])&&this.transport.log(st[it],st.message,st,this._nop),ct(null)},at.prototype._writev=function(st,lt){for(let ct=0;ct<st.length;ct++)this._accept(st[ct])&&(this.transport.log(st[ct].chunk[it],st[ct].chunk.message,st[ct].chunk,this._nop),st[ct].callback());return lt(null)},at.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},at.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(tt,et,nt){function rt(ot){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(at){return typeof at}:function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at})(ot)}function it(ot,at){for(var st=0;st<at.length;st++){var lt=at[st];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ot,lt.key,lt)}}tt.exports=function(){function ot(lt){if(function(ct,ft){if(!(ct instanceof ft))throw new TypeError("Cannot call a class as a function")}(this,ot),!lt)throw new Error("Logger is required for profiling.");this.logger=lt,this.start=Date.now()}var at,st;return at=ot,(st=[{key:"done",value:function(){for(var lt=arguments.length,ct=new Array(lt),ft=0;ft<lt;ft++)ct[ft]=arguments[ft];typeof ct[ct.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),ct.pop());var ut=rt(ct[ct.length-1])==="object"?ct.pop():{};return ut.level=ut.level||"info",ut.durationMs=Date.now()-this.start,this.logger.write(ut)}}])&&it(at.prototype,st),ot}()},function(tt,et,nt){(function(rt){const it=nt(208),{MESSAGE:ot}=nt(3),at=nt(31);function st(lt,ct){return ct instanceof rt?ct.toString("base64"):typeof ct=="bigint"?ct.toString():ct}tt.exports=it((lt,ct={})=>(lt[ot]=(ct.stable?at.stableStringify:at)(lt,ct.replacer||st,ct.space),lt))}).call(this,nt(4).Buffer)},function(tt,et,nt){class rt extends Error{constructor(ot){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${ot.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,rt)}}tt.exports=it=>{if(it.length>2)throw new rt(it);function ot(st={}){this.options=st}function at(st){return new ot(st)}return ot.prototype.transform=it,at.Format=ot,at}},function(tt,et,nt){function rt(at,st){if(!(at instanceof st))throw new TypeError("Cannot call a class as a function")}function it(at,st){for(var lt=0;lt<st.length;lt++){var ct=st[lt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(at,ct.key,ct)}}var ot=nt(85);tt.exports=function(){function at(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(this,at),this.loggers=new Map,this.options=ct}var st,lt;return st=at,(lt=[{key:"add",value:function(ct,ft){var ut=this;if(!this.loggers.has(ct)){var dt=(ft=Object.assign({},ft||this.options)).transports||this.options.transports;ft.transports=dt?dt.slice():[];var ht=ot(ft);ht.on("close",function(){return ut._delete(ct)}),this.loggers.set(ct,ht)}return this.loggers.get(ct)}},{key:"get",value:function(ct,ft){return this.add(ct,ft)}},{key:"has",value:function(ct){return!!this.loggers.has(ct)}},{key:"close",value:function(ct){var ft=this;if(ct)return this._removeLogger(ct);this.loggers.forEach(function(ut,dt){return ft._removeLogger(dt)})}},{key:"_removeLogger",value:function(ct){this.loggers.has(ct)&&(this.loggers.get(ct).close(),this._delete(ct))}},{key:"_delete",value:function(ct){this.loggers.delete(ct)}}])&&it(st.prototype,lt),at}()},function(tt,et,nt){(function(rt){const it=nt(49),ot=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;tt.exports=function(at,st,lt){let ct,ft,ut=!1,dt=!1;function ht(mt,yt){let bt=`"${st}" ${yt}`;throw mt&&(bt=`${bt}, but is set to "${mt}"`),ft&&(bt=`${bt}. An example of a valid value would be: ${ft}`),new it(bt)}function pt(mt){return function(){let yt=at[st];if(yt===void 0)if(ct===void 0&&dt)ht(void 0,"is a required variable, but it was not set");else{if(ct===void 0)return;yt=ct}dt&&yt.trim().length===0&&ht(void 0,"is a required variable, but its value was empty"),ut&&(yt.match(ot)||ht(yt,"should be a valid base64 string if using convertFromBase64"),yt=rt.from(yt,"base64").toString());const bt=[yt].concat(Array.prototype.slice.call(arguments));try{return mt.apply(mt,bt)}catch(St){ht(yt,St.message)}}}const gt={asArray:pt(nt(211)),asBoolStrict:pt(nt(212)),asBool:pt(nt(213)),asPortNumber:pt(nt(214)),asEnum:pt(nt(215)),asFloatNegative:pt(nt(216)),asFloatPositive:pt(nt(217)),asFloat:pt(nt(51)),asIntNegative:pt(nt(218)),asIntPositive:pt(nt(91)),asInt:pt(nt(50)),asJsonArray:pt(nt(219)),asJsonObject:pt(nt(220)),asJson:pt(nt(52)),asString:pt(nt(35)),asUrlObject:pt(nt(92)),asUrlString:pt(nt(221)),convertFromBase64:function(){return ut=!0,gt},default:function(mt){if(typeof mt=="number")ct=mt.toString();else if(Array.isArray(mt)||typeof mt=="object"&&mt!==null)ct=JSON.stringify(mt);else{if(typeof mt!="string")throw new it("values passed to default() must be of Number, String, Array, or Object type");ct=mt}return gt},required:function(mt){return dt=mt===void 0||mt,gt},example:function(mt){return ft=mt,gt}};return Object.entries(lt).forEach(([mt,yt])=>{gt[mt]=pt(yt)}),gt}}).call(this,nt(4).Buffer)},function(tt,et,nt){const rt=nt(35);tt.exports=function(it,ot){return ot=ot||",",it.length?rt(it).split(ot).filter(Boolean):[]}},function(tt,et,nt){tt.exports=function(rt){const it=rt.toLowerCase();if(it!=="false"&&it!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return it!=="false"}},function(tt,et,nt){tt.exports=function(rt){const it=rt.toLowerCase();if(["false","0","true","1"].indexOf(it)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!(it==="0"||it==="false")}},function(tt,et,nt){const rt=nt(91);tt.exports=function(it){var ot=rt(it);if(ot>65535)throw new Error("cannot assign a port number greater than 65535");return ot}},function(tt,et,nt){const rt=nt(35);tt.exports=function(it,ot){const at=rt(it);if(ot.indexOf(at)<0)throw new Error(`should be one of [${ot.join(", ")}]`);return at}},function(tt,et,nt){const rt=nt(51);tt.exports=function(it){const ot=rt(it);if(ot>0)throw new Error("should be a negative float");return ot}},function(tt,et,nt){const rt=nt(51);tt.exports=function(it){const ot=rt(it);if(ot<0)throw new Error("should be a positive float");return ot}},function(tt,et,nt){const rt=nt(50);tt.exports=function(it){const ot=rt(it);if(ot>0)throw new Error("should be a negative integer");return ot}},function(tt,et,nt){const rt=nt(52);tt.exports=function(it){var ot=rt(it);if(!Array.isArray(ot))throw new Error("should be a parseable JSON Array");return ot}},function(tt,et,nt){const rt=nt(52);tt.exports=function(it){var ot=rt(it);if(Array.isArray(ot))throw new Error("should be a parseable JSON Object");return ot}},function(tt,et,nt){const rt=nt(92);tt.exports=function(it){return rt(it).toString()}},function(tt,et,nt){function rt(st){var lt=this;if(lt instanceof rt||(lt=new rt),lt.tail=null,lt.head=null,lt.length=0,st&&typeof st.forEach=="function")st.forEach(function(ut){lt.push(ut)});else if(arguments.length>0)for(var ct=0,ft=arguments.length;ct<ft;ct++)lt.push(arguments[ct]);return lt}function it(st,lt){st.tail=new at(lt,st.tail,null,st),st.head||(st.head=st.tail),st.length++}function ot(st,lt){st.head=new at(lt,null,st.head,st),st.tail||(st.tail=st.head),st.length++}function at(st,lt,ct,ft){if(!(this instanceof at))return new at(st,lt,ct,ft);this.list=ft,this.value=st,lt?(lt.next=this,this.prev=lt):this.prev=null,ct?(ct.prev=this,this.next=ct):this.next=null}tt.exports=rt,rt.Node=at,rt.create=rt,rt.prototype.removeNode=function(st){if(st.list!==this)throw new Error("removing node which does not belong to this list");var lt=st.next,ct=st.prev;lt&&(lt.prev=ct),ct&&(ct.next=lt),st===this.head&&(this.head=lt),st===this.tail&&(this.tail=ct),st.list.length--,st.next=null,st.prev=null,st.list=null},rt.prototype.unshiftNode=function(st){if(st!==this.head){st.list&&st.list.removeNode(st);var lt=this.head;st.list=this,st.next=lt,lt&&(lt.prev=st),this.head=st,this.tail||(this.tail=st),this.length++}},rt.prototype.pushNode=function(st){if(st!==this.tail){st.list&&st.list.removeNode(st);var lt=this.tail;st.list=this,st.prev=lt,lt&&(lt.next=st),this.tail=st,this.head||(this.head=st),this.length++}},rt.prototype.push=function(){for(var st=0,lt=arguments.length;st<lt;st++)it(this,arguments[st]);return this.length},rt.prototype.unshift=function(){for(var st=0,lt=arguments.length;st<lt;st++)ot(this,arguments[st]);return this.length},rt.prototype.pop=function(){if(this.tail){var st=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,st}},rt.prototype.shift=function(){if(this.head){var st=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,st}},rt.prototype.forEach=function(st,lt){lt=lt||this;for(var ct=this.head,ft=0;ct!==null;ft++)st.call(lt,ct.value,ft,this),ct=ct.next},rt.prototype.forEachReverse=function(st,lt){lt=lt||this;for(var ct=this.tail,ft=this.length-1;ct!==null;ft--)st.call(lt,ct.value,ft,this),ct=ct.prev},rt.prototype.get=function(st){for(var lt=0,ct=this.head;ct!==null&&lt<st;lt++)ct=ct.next;if(lt===st&&ct!==null)return ct.value},rt.prototype.getReverse=function(st){for(var lt=0,ct=this.tail;ct!==null&&lt<st;lt++)ct=ct.prev;if(lt===st&&ct!==null)return ct.value},rt.prototype.map=function(st,lt){lt=lt||this;for(var ct=new rt,ft=this.head;ft!==null;)ct.push(st.call(lt,ft.value,this)),ft=ft.next;return ct},rt.prototype.mapReverse=function(st,lt){lt=lt||this;for(var ct=new rt,ft=this.tail;ft!==null;)ct.push(st.call(lt,ft.value,this)),ft=ft.prev;return ct},rt.prototype.reduce=function(st,lt){var ct,ft=this.head;if(arguments.length>1)ct=lt;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");ft=this.head.next,ct=this.head.value}for(var ut=0;ft!==null;ut++)ct=st(ct,ft.value,ut),ft=ft.next;return ct},rt.prototype.reduceReverse=function(st,lt){var ct,ft=this.tail;if(arguments.length>1)ct=lt;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");ft=this.tail.prev,ct=this.tail.value}for(var ut=this.length-1;ft!==null;ut--)ct=st(ct,ft.value,ut),ft=ft.prev;return ct},rt.prototype.toArray=function(){for(var st=new Array(this.length),lt=0,ct=this.head;ct!==null;lt++)st[lt]=ct.value,ct=ct.next;return st},rt.prototype.toArrayReverse=function(){for(var st=new Array(this.length),lt=0,ct=this.tail;ct!==null;lt++)st[lt]=ct.value,ct=ct.prev;return st},rt.prototype.slice=function(st,lt){(lt=lt||this.length)<0&&(lt+=this.length),(st=st||0)<0&&(st+=this.length);var ct=new rt;if(lt<st||lt<0)return ct;st<0&&(st=0),lt>this.length&&(lt=this.length);for(var ft=0,ut=this.head;ut!==null&&ft<st;ft++)ut=ut.next;for(;ut!==null&&ft<lt;ft++,ut=ut.next)ct.push(ut.value);return ct},rt.prototype.sliceReverse=function(st,lt){(lt=lt||this.length)<0&&(lt+=this.length),(st=st||0)<0&&(st+=this.length);var ct=new rt;if(lt<st||lt<0)return ct;st<0&&(st=0),lt>this.length&&(lt=this.length);for(var ft=this.length,ut=this.tail;ut!==null&&ft>lt;ft--)ut=ut.prev;for(;ut!==null&&ft>st;ft--,ut=ut.prev)ct.push(ut.value);return ct},rt.prototype.reverse=function(){for(var st=this.head,lt=this.tail,ct=st;ct!==null;ct=ct.prev){var ft=ct.prev;ct.prev=ct.next,ct.next=ft}return this.head=lt,this.tail=st,this};try{nt(223)(rt)}catch{}},function(tt,et,nt){tt.exports=function(rt){rt.prototype[Symbol.iterator]=function*(){for(let it=this.head;it;it=it.next)yield it.value}}},function(tt,et,nt){(function(rt){(function(){var it,ot,at,st,lt,ct;typeof performance!="undefined"&&performance!==null&&performance.now?tt.exports=function(){return performance.now()}:rt!=null&&rt.hrtime?(tt.exports=function(){return(it()-lt)/1e6},ot=rt.hrtime,st=(it=function(){var ft;return 1e9*(ft=ot())[0]+ft[1]})(),ct=1e9*rt.uptime(),lt=st-ct):Date.now?(tt.exports=function(){return Date.now()-at},at=Date.now()):(tt.exports=function(){return new Date().getTime()-at},at=new Date().getTime())}).call(this)}).call(this,nt(2))},function(tt,et,nt){var rt,it,ot=nt(96),at=nt(97),st=0,lt=0;tt.exports=function(ct,ft,ut){var dt=ft&&ut||0,ht=ft||[],pt=(ct=ct||{}).node||rt,gt=ct.clockseq!==void 0?ct.clockseq:it;if(pt==null||gt==null){var mt=ot();pt==null&&(pt=rt=[1|mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]]),gt==null&&(gt=it=16383&(mt[6]<<8|mt[7]))}var yt=ct.msecs!==void 0?ct.msecs:new Date().getTime(),bt=ct.nsecs!==void 0?ct.nsecs:lt+1,St=yt-st+(bt-lt)/1e4;if(St<0&&ct.clockseq===void 0&&(gt=gt+1&16383),(St<0||yt>st)&&ct.nsecs===void 0&&(bt=0),bt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");st=yt,lt=bt,it=gt;var xt=(1e4*(268435455&(yt+=122192928e5))+bt)%4294967296;ht[dt++]=xt>>>24&255,ht[dt++]=xt>>>16&255,ht[dt++]=xt>>>8&255,ht[dt++]=255&xt;var vt=yt/4294967296*1e4&268435455;ht[dt++]=vt>>>8&255,ht[dt++]=255&vt,ht[dt++]=vt>>>24&15|16,ht[dt++]=vt>>>16&255,ht[dt++]=gt>>>8|128,ht[dt++]=255&gt;for(var $t=0;$t<6;++$t)ht[dt+$t]=pt[$t];return ft||at(ht)}},function(tt,et,nt){var rt=nt(96),it=nt(97);tt.exports=function(ot,at,st){var lt=at&&st||0;typeof ot=="string"&&(at=ot==="binary"?new Array(16):null,ot=null);var ct=(ot=ot||{}).random||(ot.rng||rt)();if(ct[6]=15&ct[6]|64,ct[8]=63&ct[8]|128,at)for(var ft=0;ft<16;++ft)at[lt+ft]=ct[ft];return at||it(ct)}},function(tt,et,nt){(function(rt){(function(it){function ot(st){if((st=st===void 0?"utf-8":st)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+st+"') is invalid.")}function at(st,lt){if(lt=lt===void 0?{fatal:!1}:lt,(st=st===void 0?"utf-8":st)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+st+"') is invalid.");if(lt.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(it.TextEncoder&&it.TextDecoder)return!1;Object.defineProperty(ot.prototype,"encoding",{value:"utf-8"}),ot.prototype.encode=function(st,lt){if((lt=lt===void 0?{stream:!1}:lt).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");lt=0;for(var ct=st.length,ft=0,ut=Math.max(32,ct+(ct>>1)+7),dt=new Uint8Array(ut>>3<<3);lt<ct;){var ht=st.charCodeAt(lt++);if(55296<=ht&&56319>=ht){if(lt<ct){var pt=st.charCodeAt(lt);(64512&pt)==56320&&(++lt,ht=((1023&ht)<<10)+(1023&pt)+65536)}if(55296<=ht&&56319>=ht)continue}if(ft+4>dt.length&&(ut+=8,ut=(ut*=1+lt/st.length*2)>>3<<3,(pt=new Uint8Array(ut)).set(dt),dt=pt),(4294967168&ht)==0)dt[ft++]=ht;else{if((4294965248&ht)==0)dt[ft++]=ht>>6&31|192;else if((4294901760&ht)==0)dt[ft++]=ht>>12&15|224,dt[ft++]=ht>>6&63|128;else{if((4292870144&ht)!=0)continue;dt[ft++]=ht>>18&7|240,dt[ft++]=ht>>12&63|128,dt[ft++]=ht>>6&63|128}dt[ft++]=63&ht|128}}return dt.slice(0,ft)},Object.defineProperty(at.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(at.prototype,"fatal",{value:!1}),Object.defineProperty(at.prototype,"ignoreBOM",{value:!1}),at.prototype.decode=function(st,lt){if((lt=lt===void 0?{stream:!1}:lt).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");lt=0;for(var ct=(st=new Uint8Array(st)).length,ft=[];lt<ct;){var ut=st[lt++];if(ut===0)break;if((128&ut)==0)ft.push(ut);else if((224&ut)==192){var dt=63&st[lt++];ft.push((31&ut)<<6|dt)}else if((240&ut)==224){dt=63&st[lt++];var ht=63&st[lt++];ft.push((31&ut)<<12|dt<<6|ht)}else(248&ut)==240&&(65535<(ut=(7&ut)<<18|(dt=63&st[lt++])<<12|(ht=63&st[lt++])<<6|63&st[lt++])&&(ut-=65536,ft.push(ut>>>10&1023|55296),ut=56320|1023&ut),ft.push(ut))}return String.fromCharCode.apply(null,ft)},it.TextEncoder=ot,it.TextDecoder=at})(typeof window!="undefined"?window:rt!==void 0?rt:this)}).call(this,nt(5))},function(tt,et,nt){nt.r(et),nt.d(et,"AuthClient",function(){return ot}),nt.d(et,"RtcSignalingClient",function(){return st}),nt.d(et,"Credentials",function(){return gt}),nt.d(et,"SignalingPromiseClient",function(){return mt.SignalingPromiseClient}),nt.d(et,"IRtcClientConfiguration",function(){}),nt.d(et,"IRtcConnectConfiguration",function(){}),nt.d(et,"IRtcConnectionStatsInfo",function(){}),nt.d(et,"IRtcSendConfiguration",function(){}),nt.d(et,"IRtcSessionMetricsMessageCounts",function(){}),nt.d(et,"IRtcStreamMessage",function(){}),nt.d(et,"IStreamControl",function(){}),nt.d(et,"RtcClient",function(){return Yt});var rt=nt(26),it=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class ot extends rt.a{adminSignup(Qt,Kt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:Kt,method:"POST",body:JSON.stringify(Qt)})})}login(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(Qt),allowUnsafeRetries:!0})})}loginWithGoogleToken(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(Qt),allowUnsafeRetries:!0})})}refresh(Qt,Kt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:Qt,tokenExpirationSeconds:Kt}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(Qt)})})}forgotPassword(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:Qt})})})}confirmForgotPassword(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(Qt)})})}resendInvitation(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:Qt})})})}changePassword({token:Qt,refreshToken:Kt,currentPassword:hn,newPassword:vn}){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:Qt,method:"POST",body:JSON.stringify({refreshToken:Kt,currentPassword:hn,newPassword:vn})})})}getDeviceCredentials(Qt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:Qt,method:"POST",allowUnsafeRetries:!0})})}impersonate(Qt,Kt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:Qt,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:Kt})})})}createServiceAccount(Qt,Kt,hn){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:Qt,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:Kt,roleId:hn})})})}getFeatures(Qt){return it(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:Qt})).features})}}var at=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class st extends rt.a{createPeer(Qt,Kt){return at(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:Qt,method:"POST",body:JSON.stringify(Kt)})})}getPeers(Qt){return at(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:Qt})).items})}refreshPeer(Qt,Kt){return at(this,void 0,void 0,function*(){yield this.fetch(`peers/${Kt}/refresh`,{token:Qt,method:"POST",allowUnsafeRetries:!0})})}createSession(Qt,Kt){return at(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:Qt,method:"POST",body:JSON.stringify(Kt)})})}refreshSession(Qt,Kt){return at(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Kt}/refresh`,{token:Qt,method:"POST",allowUnsafeRetries:!0})})}deleteSession(Qt,Kt){return at(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Kt}`,{token:Qt,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(Qt){return at(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:Qt})).items})}getIceServers(Qt){return at(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:Qt})).items})}addSignals(Qt,Kt,hn){return at(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Kt}/add-signals`,{token:Qt,method:"POST",body:JSON.stringify(hn)})})}takeSignals(Qt,Kt){return at(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${Kt}/take-signals`,{token:Qt,method:"POST"})).items})}}var lt=nt(1),ct=nt(11),ft=nt(21),ut=nt(102),dt=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class ht extends class{constructor(Qt={}){this.cache=new ut(Qt),this.stringify=Qt.fastStringify?JSON.stringify:ft}set(Qt,Kt,hn){if(!this.cache.set(this.stringify(Qt),Kt,hn))throw Error(`Value too large (${this.cache.lengthCalculator(Kt)} > ${this.cache.max})`)}get(Qt){return this.cache.get(this.stringify(Qt))}del(Qt){this.cache.del(this.stringify(Qt))}length(){return this.cache.length}reset(){this.cache.reset()}prune(){return this.cache.prune()}forEach(Qt){return this.cache.forEach(Qt)}}{constructor(Qt={}){if(super(Qt),this.expireRejectedPromiseValues=Qt.expireRejectedPromiseValues===void 0||Qt.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=Qt.rejectedPromiseValueTtl!==void 0?Qt.rejectedPromiseValueTtl:lt.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(Qt,Kt,hn){const vn=this.stringify(Qt);this.cache.set(vn,Kt,hn),this.expireRejectedPromiseValues&&Promise.resolve(Kt).catch(()=>dt(this,void 0,void 0,function*(){yield Object(ct.a)(this.rejectedPromiseValueTtl),this.cache.peek(vn)===Kt&&this.cache.del(vn)}))}}var pt=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class gt{constructor(Qt,Kt,hn){this.authClient=Qt,this.email=Kt,this.password=hn,this.tokenTtlMs=1*lt.a.hour,this.tokenCache=new ht({max:100,maxAge:this.tokenTtlMs-5*lt.a.minute,fastStringify:!0})}getToken(){return pt(this,void 0,void 0,function*(){let Qt=this.tokenCache.get(this.email);return Qt||(Qt=(()=>pt(this,void 0,void 0,function*(){const{authentication:Kt}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/lt.a.second});if(!Kt)throw new Error("User account not verified.");return Kt.accessToken}))(),this.tokenCache.set(this.email,Qt)),Qt})}}var mt=nt(93),yt=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};function bt(yn){return yt(this,void 0,void 0,function*(){return(yield Promise.all(yn.map(Qt=>Qt.catch(Kt=>Kt)))).filter(Qt=>Qt instanceof Error)})}function St(yn){if(yn!==void 0)return yn;throw new Error("Value is undefined")}var xt=nt(0),vt=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};function $t({func:yn,delay:Qt,immediate:Kt}){let hn=!1,vn=setTimeout(function Cn(){return vt(this,void 0,void 0,function*(){if(hn)return;const cn=new Date().getTime();try{Sn=yn(),yield Sn}finally{if(!hn){const ln=new Date().getTime();vn=setTimeout(Cn,Math.max(Qt-(ln-cn),0))}}})},Kt?0:Qt),Sn=Promise.resolve();return{stop(){return vt(this,void 0,void 0,function*(){hn=!0,clearTimeout(vn),yield Sn})}}}function zt(yn,Qt){return Object.keys(yn).reduce((Kt,hn)=>Object.assign(Object.assign({},Kt),{[hn]:Qt(yn[hn])}),{})}var Nt=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class wt{constructor(Qt){this.message=Qt}send(Qt){return Nt(this,void 0,void 0,function*(){xt.a.info(this.message,zt(Qt,Kt=>{const{sum:hn,count:vn}=Kt,Sn=hn/vn;return Object.assign(Object.assign({},Kt),{average:Sn})}))})}}var Et=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};const Rt=nt(224),Tt=!!nt(7).c,It=new class{constructor(yn=60){this.buffer={},this.metrics={},this.reporters=[],this.flushInterval=$t({func:()=>this.flushStats(),delay:yn*lt.a.second})}shutdown(){return Et(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(ct.a)(2*lt.a.second)})}aggregate(yn,Qt){if(this.buffer[yn]){const{min:Kt,max:hn,sum:vn,count:Sn}=this.buffer[yn];this.buffer[yn]={min:Math.min(Kt,Qt),max:Math.max(hn,Qt),sum:vn+Qt,count:Sn+1}}else this.buffer[yn]={min:Qt,max:Qt,sum:Qt,count:1}}increment(yn){this.aggregate(yn,1)}timer(yn,Qt){return Et(this,void 0,void 0,function*(){const Kt=Rt(),hn=yield Qt(),vn=Rt();return this.aggregate(yn,vn-Kt),hn})}metric(yn,Qt){this.metrics[yn]=Qt}registerStatsReporter(yn){this.reporters.push(yn)}write(yn){return Et(this,void 0,void 0,function*(){if(Object.values(yn).length===0)return;const Qt=yield bt(this.reporters.map(Kt=>Kt.send(yn)));for(const Kt of Qt)xt.a.warn("Failed to write stats",{error:Kt})})}flushStats(){return Et(this,void 0,void 0,function*(){const yn=Object.assign(Object.assign({},this.buffer),zt(this.metrics,Qt=>{const Kt=Qt();return{min:Kt,max:Kt,sum:Kt,count:1}}));Object.keys(yn).length>0&&(yield this.write(yn),this.buffer={})})}};Tt||It.registerStatsReporter(new wt("stats"));var Pt=nt(8),Dt=nt(22),Ct=nt(103),Ot=nt(36),Ut=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class At extends Ot.a{constructor(Qt){super(Qt)}postLanRtcOffer(Qt){return Ut(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(Qt)})})}}var Mt=nt(55);const jt={ordered:!1,maxPacketLifeTime:300*lt.a.millisecond},kt={ordered:!0},Gt={ordered:!0},Ht={ordered:!1,maxRetransmits:0},Jt={ordered:!1,maxRetransmits:0};function Vt({entityId:yn,streamName:Qt,streamType:Kt}){return`${yn}.${Qt}.${Kt}`}var Wt=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class Lt{constructor(Qt,Kt){this.sessionId=Qt,this.connection=Kt,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=Qt,this.connection=Kt}updateRemoteMessagesCounts(Qt){if(Qt.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const Kt of Qt.payload.streamsInfo.items)this.counts.remoteSent.set(Kt.streamId,Kt.sentCount),this.counts.remoteReceived.set(Kt.streamId,Kt.receivedCount)}}getLocalStreamsInfo(Qt){const{localSent:Kt,localReceived:hn}=this.counts;return{items:[...new Set([...Kt.keys(),...hn.keys()])].map(vn=>{var Sn,Cn;return{streamId:vn,sentCount:(Sn=Kt.get(vn))!==null&&Sn!==void 0?Sn:0,receivedCount:(Cn=hn.get(vn))!==null&&Cn!==void 0?Cn:0}}),timestamp:Qt}}incrementLocalSent(Qt){const{localSent:Kt}=this.counts,hn=Vt(Qt.header.stream);Kt.set(hn,(Kt.get(hn)||0)+1)}incrementLocalReceived(Qt){const{localReceived:Kt}=this.counts,hn=Vt(Qt.header.stream),vn=Kt.get(hn)||0;if(vn===0){const{streamName:Sn,streamType:Cn}=Qt.header.stream;xt.a.debug("RTC client received first message for stream",{streamName:Sn,streamType:Cn})}Kt.set(hn,vn+1)}uploadMetrics(){return Wt(this,void 0,void 0,function*(){const{sessionId:Qt}=this,Kt=yield this.connection.peerConnection.getStats(),hn={};Kt.forEach(bn=>hn[bn.id]=bn),xt.a.debug("rtc-stats",Object.assign(Object.assign({},hn),{sessionId:Qt}));const{localSent:vn,localReceived:Sn,remoteSent:Cn,remoteReceived:cn}=this.counts,ln=[...new Set([...vn.keys(),...Sn.keys()])].reduce((bn,xn)=>{const Nn=vn.get(xn),zn=Sn.get(xn),Ln=Cn.get(xn),Mn=cn.get(xn);return Object.assign(Object.assign({},bn),{[`local-${xn}-sent`]:Nn,[`local-${xn}-received`]:zn,[`remote-${xn}-sent`]:Ln,[`remote-${xn}-received`]:Mn})},{sessionId:Qt});xt.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},ln))})}}function Bt(yn){return new Set(["disconnected","failed","closed"]).has(yn.iceConnectionState)}var Ft=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class sn{constructor(Qt,Kt,hn){this.peerConnection=Qt,this.config=Kt,this.dataChannelNotifier=hn,this.connectTimeoutMs=20*lt.a.second,this.iceGatheringTimeoutMs=15*lt.a.second,this.pingUpdateTimeoutMs=1*lt.a.second,this.streamsInfoUpdateTimeoutMs=2*lt.a.second,this.reassemblyTimeoutMs=500*lt.a.millisecond,this.reassemblyTableCleanupMs=1*lt.a.second,this.heartbeatTimeoutMs=20*lt.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1;const{isOffer:vn}=Kt.baseConfig;vn?this.initializeChannels(Qt):Qt.ondatachannel=Sn=>{switch(Sn.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=Sn.channel;break;case"stream.reliable":this.reliableStreamChannel=Sn.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=Sn.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=Sn.channel;break;case"heartbeat":return void(this.heartbeatChannel=Sn.channel);default:return void this.dataChannelNotifier(Sn.channel)}this.setupChannel(Sn.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:Sn}=this;Sn&&this.sendSystemMessage(Sn,{type:"ping"})},this.pingUpdateTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:Sn}=this;Sn&&this.sendSystemMessage(Sn,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const Sn=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((Cn,cn,ln)=>{Sn>cn+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(Cn)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:Sn}=this;Sn&&Sn.readyState==="open"&&Sn.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(Qt){return Ft(this,void 0,void 0,function*(){const{peerConnection:Kt}=this,{track:hn}=this.config.baseConfig,vn=(()=>{try{return JSON.parse(Qt.getPayload())}catch{return}})();if(!vn)return void xt.a.error("Received unparseable signal.");xt.a.debug("Handling signal",{description:vn});const{sdp:Sn,type:Cn}=vn;if(!Sn||!Cn)return void xt.a.warn("Received non-SDP signal");const{signalingState:cn,connectionState:ln}=Kt;if(cn!=="stable"||ln!=="connected")if(Kt.remoteDescription)xt.a.warn(`Received SDP after remote description was set: ${Sn}`);else{if(Cn==="offer"){if(cn!=="stable")return void xt.a.warn("Received offer SDP when signaling is ongoing.");yield Kt.setRemoteDescription(vn);const bn=yield Kt.createAnswer();yield Kt.setLocalDescription(bn);const xn=Qt.clone();return hn==null||hn("Answer Received",xn),xn.setPayload(JSON.stringify(bn)),xn.setReceiverId(Qt.getSenderId()),xn.setSenderId(Qt.getReceiverId()),xn}if(Cn==="answer"){if(cn==="stable")return void xt.a.warn("Received answer SDP when signaling hasn't started.");yield Kt.setRemoteDescription(vn)}}else xt.a.warn(`Received SDP when already connected: ${Sn}`)})}send(Qt,Kt){const hn=this.getChannelFromLabel(Kt.channelLabel);hn?this.sendOnChannel(hn,Qt):xt.a.warn("Send called with unexpected channel label",{channelLabel:Kt.channelLabel})}controlRemoteStream(Qt){this.sendSystemMessage(St(this.reliableStreamChannel),{type:"stream-control",streamControl:Qt})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:Qt,latestTtlStreamChannel:Kt,latestTryOnceStreamChannel:hn,latestReliableStreamChannel:vn}=this;return(Qt==null?void 0:Qt.readyState)==="open"&&(Kt==null?void 0:Kt.readyState)==="open"&&(hn==null?void 0:hn.readyState)==="open"&&(vn==null?void 0:vn.readyState)==="open"}close(){return Ft(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.reassemblyTableCleanupTimeout&&clearInterval(this.reassemblyTableCleanupTimeout),this.streamsInfoUpdateTimeout&&clearInterval(this.streamsInfoUpdateTimeout),this.heartbeatTimeout&&clearInterval(this.heartbeatTimeout);const{peerConnection:Qt,reliableStreamChannel:Kt,latestTtlStreamChannel:hn,latestTryOnceStreamChannel:vn,latestReliableStreamChannel:Sn}=this;Qt.close(),Kt==null||Kt.close(),hn==null||hn.close(),vn==null||vn.close(),Sn==null||Sn.close()})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var Qt;return(Qt=this.config.remoteConfig)===null||Qt===void 0?void 0:Qt.sessionCreatedTimestamp}setSessionCreatedTimestamp(Qt){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=Qt)}getSessionId(){var Qt;return(Qt=this.config.remoteConfig)===null||Qt===void 0?void 0:Qt.sessionId}setSessionId(Qt){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=Qt,this.sessionMetrics=new Lt(Qt,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var Qt;return(Qt=this.config.baseConfig)===null||Qt===void 0?void 0:Qt.remoteDeviceId}setRemoteDeviceId(Qt){this.config.baseConfig.remoteDeviceId=Qt}getSessionMetricsMessageCounts(){var Qt;return(Qt=this.sessionMetrics)===null||Qt===void 0?void 0:Qt.counts}getConnectionStatsInfo(){return Ft(this,void 0,void 0,function*(){const{peerConnection:Qt}=this;if(!Qt)return;const Kt=yield Qt.getStats(null),hn=[];Kt.forEach(ln=>{hn.push(ln)});const vn=hn.find(ln=>ln.type==="transport");if(!vn)return;const Sn=hn.find(ln=>(ln.type==="candidate-pair"||ln.type==="candidatepair")&&ln.id===vn.selectedCandidatePairId);if(!Sn)return;const Cn=hn.find(ln=>ln.id===Sn.localCandidateId),cn=hn.find(ln=>ln.id===Sn.remoteCandidateId);return Cn&&cn&&(Cn.address=Cn.address||Cn.ip,cn.address=cn.address||cn.ip,Cn.address!==void 0&&cn.address!==void 0)?{transport:vn,localCandidate:Cn,remoteCandidate:cn}:void 0})}initializeChannels(Qt){this.heartbeatChannel=Qt.createDataChannel("heartbeat",Jt),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=Qt.createDataChannel("stream.latest-ttl",jt),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=Qt.createDataChannel("stream.reliable",kt),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=Qt.createDataChannel("stream.latest-reliable",Gt),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=Qt.createDataChannel("stream.latest-try-once",Ht),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var Qt,Kt,hn;return Ft(this,void 0,void 0,function*(){const{gotOffer:vn}=this,{peerConnection:Sn,config:Cn}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const cn=(Qt=this.config.remoteConfig)===null||Qt===void 0?void 0:Qt.sessionId;if(vn)return void xt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Bt(this.peerConnection))return void xt.a.debug("Failed to generate offer because the peer connection was inactive.");const ln=Cn.baseConfig.track;Sn.onicecandidate=()=>{this.hasIceCandidate=!0},Sn.oniceconnectionstatechange=()=>Ft(this,void 0,void 0,function*(){const Ln=Sn.iceConnectionState;if(Ln==="connected"||Ln==="completed"){const Mn=yield this.getConnectionStatsInfo(),Wn=Mn?function(Jn){const Zn=Jn.localCandidate.candidateType,Rn=Jn.remoteCandidate.candidateType;return Zn==="host"&&Rn==="host"?"local":Zn==="relay"||Rn==="relay"?"TURN":"STUN"}(Mn):void 0;xt.a.info(`ICE connection state changed to ${Ln}`,{sessionId:cn,connectionStatsInfo:Mn,iceMode:Wn}),ln==null||ln("ICE connection state change",{iceConnectionState:Ln,sessionId:cn,connectionStatsInfo:Mn,iceMode:Wn})}}),yield Sn.setLocalDescription(yield Sn.createOffer());const bn=new Date().getTime();for(;;){const Ln=new Date().getTime()-bn;if(Ln>this.connectTimeoutMs)return void xt.a.debug("Failed to generate offer because ICE gathering timed out.");if(Ln>this.iceGatheringTimeoutMs&&this.hasIceCandidate){xt.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:Sn.getConfiguration().iceTransportPolicy,waitTime:Ln}),ln==null||ln("ICE gathering partially completed",{sessionId:cn,iceTransportPolicy:Sn.getConfiguration().iceTransportPolicy,waitTime:Ln});break}if(Sn.iceGatheringState==="complete"){xt.a.debug("ICE gathering complete",{iceTransportPolicy:Sn.getConfiguration().iceTransportPolicy,waitTime:Ln}),ln==null||ln("ICE gathering completed",{sessionId:cn,iceTransportPolicy:Sn.getConfiguration().iceTransportPolicy,waitTime:Ln});break}yield Object(ct.a)(.1*lt.a.second)}const xn=(Kt=this.peerConnection.getConfiguration().iceServers)!==null&&Kt!==void 0?Kt:[];for(const Ln of xn)Ln.credentialType=void 0;const Nn=JSON.stringify(xn),zn=new Pt.Signal;return zn.setPayload(JSON.stringify(Sn.localDescription)),zn.setSenderId(this.config.baseConfig.localPeerId),zn.setReceiverId(this.config.baseConfig.remotePeerId),zn.setIceServers(Nn),zn.setIceTransportPolicy((hn=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&hn!==void 0?hn:"all"),zn.setSessionType(Pt.SessionType.TELEOP),xt.a.debug("Sending offer signal with description",{description:zn.getPayload()}),zn})}getLanOffer(){return Ft(this,void 0,void 0,function*(){const{peerConnection:Qt,gotOffer:Kt}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(Kt)return void xt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Bt(this.peerConnection))return void xt.a.debug("Failed to generate offer because the peer connection was inactive.");yield Qt.setLocalDescription(yield Qt.createOffer());const hn=new Date().getTime();for(;;){if(new Date().getTime()-hn>this.iceGatheringTimeoutMs)return void xt.a.debug("Failed to generate offer because ICE gathering timed out.");if(Qt.iceGatheringState==="complete")break;yield Object(ct.a)(.1*lt.a.second)}const vn=Qt.localDescription;if(vn)return xt.a.debug("Sending LAN offer signal with description",{description:vn}),vn;xt.a.error("Failed to generate LAN offer description")})}handleLanAnswer(Qt){return Ft(this,void 0,void 0,function*(){const{peerConnection:Kt}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield Kt.setRemoteDescription(Qt)})}getChannelFromLabel(Qt){switch(Qt){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Qt,Kt){let hn;try{hn=Object(Mt.encode)(JSON.stringify(Kt))}catch(vn){return void xt.a.warn("Failed to encode RTC message",{error:vn})}try{Qt.send(hn),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(Kt)}catch(vn){xt.a.warn("Failed to send message to channel",{error:vn,channel:Qt.label})}}channelNotRecognized(Qt){return Qt!==this.latestTtlStreamChannel&&Qt!==this.latestReliableStreamChannel&&Qt!==this.latestTryOnceStreamChannel&&Qt!==this.reliableStreamChannel}setupChannel(Qt){Qt.onmessage=Kt=>{if(this.channelNotRecognized(Qt))return void xt.a.warn("Received message on unrecognized data channel.");let hn;try{hn=JSON.parse(Object(Mt.decode)(Kt.data))}catch(vn){return void xt.a.warn("Received unparseable message on RTC stream data channel",{error:vn,channel:Qt.label})}hn.communicationType==="message-chunk"?this.receiveChannelMessageChunk(Qt,hn):this.receiveChannelMessage(Qt,hn)},Qt.onerror=Kt=>{xt.a.warn(`Channel error: ${Kt.error}`,{error:Kt.error,sessionId:this.getSessionId(),channelLabel:Qt.label})},Qt.onopen=()=>{xt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Qt.label})},Qt.onclose=()=>{const Kt={bufferedAmount:Qt.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Qt.label};this.closeCalled===!1?xt.a.debug("Unexpected channel closed",Kt):xt.a.debug("Channel closed",Kt)}}receiveChannelMessage(Qt,Kt){const{config:hn}=this,{remotePeerId:vn}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),Kt=function(Sn){switch(Sn.header.stream.streamType){case"twist":const{twist:Cn}=Sn.payload;if(!Cn)throw Error("twist not in payload of RTC message with type twist");return{header:Sn.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},Cn.linear),angular:Object.assign({x:0,y:0,z:0},Cn.angular)}}};case"pose":const{pose:cn}=Sn.payload;if(!cn)throw Error("pose not in payload of RTC message with type pose");return{header:Sn.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},cn.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},cn.rotation)}}};case"pose-with-covariance":const{poseWithCovariance:ln}=Sn.payload;if(!ln)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const bn=new Array(36).fill(0);return ln.covariance.forEach((Nn,zn)=>{if(zn>=36)throw Error("covariance contains more than 36 elements");bn[zn]=Nn}),{header:Sn.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},ln.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},ln.pose.rotation)},covariance:bn}}};case"point":const{point:xn}=Sn.payload;if(!xn)throw Error("point not in payload of RTC message with type point");return{header:Sn.header,payload:{point:Object.assign({x:0,y:0,z:0},xn)}};default:return Sn}}(Kt),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(Kt),this.handleSystemMessage(Qt,Kt)||(Qt===this.latestTryOnceStreamChannel||Qt===this.latestTtlStreamChannel||Qt===this.latestReliableStreamChannel)&&!this.isLatestMessage(Kt)||hn.baseConfig.receive(vn,Kt)}receiveChannelMessageChunk(Qt,Kt){const hn=this.reassemblyTable.get(Kt.id)||[];if(hn.push(Kt),hn.length===Kt.total){const vn=function(Sn){const Cn=Sn.sort((cn,ln)=>cn.seq<ln.seq?-1:1).map(cn=>cn.part).reduce((cn,ln)=>cn+ln);try{return JSON.parse(Cn)}catch{return void xt.a.warn("Could not reassemble RTC message chunks")}}(hn);return vn&&this.receiveChannelMessage(Qt,vn),void this.reassemblyTable.delete(Kt.id)}this.reassemblyTable.set(Kt.id,hn),this.reassemblyTableLastTimestamp.set(Kt.id,new Date().getTime())}handleSystemMessage(Qt,Kt){var hn,vn;const{config:Sn}=this,{baseConfig:Cn}=Sn,{remotePeerId:cn}=Cn;switch(Kt.header.stream.streamType){case"ping":return this.sendSystemMessage(Qt,{type:"pong",timestamp:St(Kt.payload.ping)}),!0;case"pong":const ln=new Date().getTime()-St(Kt.payload.pong);return this.pingTimeMs=ln,It.aggregate("rtc-ping-time",ln),!0;case"streams-info":const{sessionMetrics:bn}=this,xn=(hn=Kt.payload.streamsInfo)===null||hn===void 0?void 0:hn.timestamp;return!!xn&&(bn==null||bn.updateRemoteMessagesCounts(Kt),(vn=Cn.onStreamsInfoUpdate)===null||vn===void 0||vn.call(Cn,cn,xn),!0);case"stream-control":return!0;default:return!1}}sendSystemMessage(Qt,Kt){var hn;const{localUserId:vn,localPeerId:Sn}=this.config.baseConfig;if(Qt.readyState!=="open")return;const Cn={entityId:vn!=null?vn:Sn,streamName:`$.${Kt.type}`,streamType:Kt.type};let cn;switch(Kt.type){case"ping":cn={ping:new Date().getTime()};break;case"pong":cn={pong:Kt.timestamp};break;case"stream-control":cn={streamControl:Kt.streamControl};break;case"streams-info":cn={streamsInfo:(hn=this.sessionMetrics)===null||hn===void 0?void 0:hn.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(Qt,function(ln,bn){return{header:{stream:ln,created:Date.now(),frameId:""},payload:bn}}(Cn,cn))}isLatestMessage(Qt){const Kt=Vt(Qt.header.stream),hn=(this.streamLatestTimestamp.get(Kt)||0)<=Qt.header.created;return hn&&this.streamLatestTimestamp.set(Kt,Qt.header.created),hn}}function Xt(yn){var Qt,Kt;return{userId:(Qt=yn.getUserId())===null||Qt===void 0?void 0:Qt.getValue(),deviceId:(Kt=yn.getDeviceId())===null||Kt===void 0?void 0:Kt.getValue(),organizationId:yn.getOrganizationId(),id:yn.getPeerId(),capabilities:[],capabilitySet:{}}}var dn=function(yn,Qt,Kt,hn){return new(Kt||(Kt=Promise))(function(vn,Sn){function Cn(bn){try{ln(hn.next(bn))}catch(xn){Sn(xn)}}function cn(bn){try{ln(hn.throw(bn))}catch(xn){Sn(xn)}}function ln(bn){var xn;bn.done?vn(bn.value):(xn=bn.value,xn instanceof Kt?xn:new Kt(function(Nn){Nn(xn)})).then(Cn,cn)}ln((hn=hn.apply(yn,Qt||[])).next())})};class Yt{constructor(Qt){this.config=Qt,this.grpcCallDeadline=5*lt.a.second,this.refreshIntervalDelayMs=2*lt.a.second,this.iceServersTtl=30*lt.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:Kt}=this;this.refreshInterval=$t({func:()=>dn(this,void 0,void 0,function*(){try{yield this.update()}catch(hn){xt.a.warn("RTC refresh failed",{error:hn})}}),delay:Kt,immediate:!0})}send(Qt,Kt,hn){const vn=this.getActiveConnection(Qt);vn?vn.isReady()?vn.send(Kt,hn):xt.a.warn("Send called with unready connection."):xt.a.warn("Send called with no connection.")}controlRemoteStream(Qt,Kt){const hn=this.getActiveConnection(Qt);hn?hn.isReady()?hn.controlRemoteStream(Kt):xt.a.warn("controlRemoteStream called with unready connection."):xt.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return dn(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(ct.a)(.1*lt.a.second);return Xt(this.localPeer)})}connect(Qt,Kt){var hn,vn,Sn;return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:Cn,signalingClient:cn}=this.config,{localPeer:ln,receiveSignalStream:bn,iceServers:xn}=this;if(!ln||!bn||!xn)return void xt.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(Qt))return void xt.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(Qt))return void xt.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(Qt,!0);const Nn=new sn(yield this.createRTCPeerConnection(xn,Kt),{baseConfig:{isOffer:!0,isLan:!1,receive:(Zn,Rn)=>this.config.receive(Zn,Rn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Zn,Rn)=>{var Kn,kn;return(kn=(Kn=this.config).onStreamsInfoUpdate)===null||kn===void 0?void 0:kn.call(Kn,Zn,Rn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(hn=ln.getUserId())===null||hn===void 0?void 0:hn.getValue(),localPeerId:ln.getPeerId(),remotePeerId:Qt},remoteConfig:{}},Zn=>this.onCustomDataChannel(Qt,Zn)),zn=yield Nn.getOffer();if(!zn)return xt.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(Qt);xt.a.debug("Sending offer."),Cn==null||Cn("Sending offer",zn);const Ln=new Pt.SendSignalRequest;Ln.setSignal(zn);const Mn=yield(()=>dn(this,void 0,void 0,function*(){try{return yield cn.sendSignal(Ln,yield this.getMetadata({}))}catch(Zn){xt.a.warn("Error when sending signal",{error:Zn})}}))();if(!this.isOutgoingConnection.get(Qt))return void xt.a.debug("No offer set after receiving offer signal response.");xt.a.debug("Offer sent.");const Wn=(vn=Mn==null?void 0:Mn.getSessionId())===null||vn===void 0?void 0:vn.getValue(),Jn=(Sn=Mn==null?void 0:Mn.getSessionCreatedTimestamp())===null||Sn===void 0?void 0:Sn.getValue();return Wn&&Jn?(Nn.setSessionId(Wn),Nn.setSessionCreatedTimestamp(Jn),this.isOutgoingConnection.delete(Qt),this.connections.push(Nn),this.isConnectionInitiator.set(Nn,!0),this.setupHandlers(Nn),Wn):(xt.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(Qt))})}connectLan(Qt){var Kt,hn;return dn(this,void 0,void 0,function*(){const vn=new At(Qt),Sn=new sn(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(bn,xn)=>this.config.receive(bn,xn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(bn,xn)=>{var Nn,zn;return(zn=(Nn=this.config).onStreamsInfoUpdate)===null||zn===void 0?void 0:zn.call(Nn,bn,xn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(hn=(Kt=this.localPeer)===null||Kt===void 0?void 0:Kt.getUserId())===null||hn===void 0?void 0:hn.getValue(),localPeerId:"lan_client",remotePeerId:Qt}},bn=>this.onCustomDataChannel(Qt,bn)),Cn=yield Sn.getLanOffer();if(!Cn)return xt.a.warn("Could not generate LAN offer"),!1;const cn=yield vn.postLanRtcOffer({offer:JSON.stringify(Cn)}),ln=new RTCSessionDescription(JSON.parse(cn.answer));return yield Sn.handleLanAnswer(ln),this.localConnections.push(Sn),Object(Ct.v4)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(Qt,Kt,hn,vn,Sn){const Cn=this.getActiveConnection(Qt);if(Cn&&this.isConnectionInitiator.has(Cn)){const ln=Cn.peerConnection.createDataChannel("custom."+Kt,hn);return vn&&(ln.binaryType="arraybuffer"),Sn(Qt,ln),()=>{}}const cn=(ln,bn)=>{Qt===ln&&bn.label==="custom."+Kt&&Sn(Qt,bn)};return this.peerDataChannelListeners.push(cn),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(ln=>ln!==cn)}}onCustomDataChannel(Qt,Kt){this.peerDataChannelListeners.forEach(hn=>hn(Qt,Kt))}getConnectionStatus(Qt){if(this.isOutgoingConnection.get(Qt))return"connecting";const Kt=this.getActiveConnection(Qt);return Kt?Kt.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(Qt){return dn(this,void 0,void 0,function*(){const Kt=this.getActiveConnection(Qt);if(Kt)return yield Kt.getConnectionStatsInfo()})}disconnect(Qt){return dn(this,void 0,void 0,function*(){const Kt=this.getActiveConnection(Qt);Kt&&(yield Kt.close())})}getPeers(){return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Qt}=this.config,Kt=yield(()=>dn(this,void 0,void 0,function*(){try{return yield Qt.getPeers(new Pt.GetPeersRequest,yield this.getMetadata({}))}catch(Sn){xt.a.warn("Error when getting peers",{error:Sn})}}))();if(!Kt)return[];const hn=Kt.getPeersList();if(!hn)return[];const vn=Sn=>{var Cn,cn;return(cn=(Cn=Sn.getPeerCreatedTimestamp())===null||Cn===void 0?void 0:Cn.getValue())!==null&&cn!==void 0?cn:0};return hn.sort((Sn,Cn)=>vn(Cn)-vn(Sn)).map(Sn=>Xt(Sn))})}getSessions(){return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Qt}=this.config,Kt=yield(()=>dn(this,void 0,void 0,function*(){try{return yield Qt.getPeers(new Pt.GetPeersRequest,yield this.getMetadata({}))}catch(Sn){xt.a.warn("Error when getting peers",{error:Sn})}}))();if(!Kt)return{};const hn=Kt.getPeersList(),vn={};for(const Sn of hn)vn[Sn.getPeerId()]=Sn.getSessionIdsList();return vn})}getPing(Qt){const Kt=this.getActiveConnection(Qt);if(Kt)return Kt.getPing();xt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Qt){const Kt=this.getActiveConnection(Qt);if(Kt)return Kt.getLastMessageTimestamp();xt.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(Qt){const Kt=this.getActiveConnection(Qt);if(Kt)return Kt.getSessionMetricsMessageCounts();xt.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:Qt,receiveSignalStream:Kt,iceServers:hn}=this;return!!(Qt&&Kt&&hn)}shutdown(){return dn(this,void 0,void 0,function*(){xt.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const Qt=this.connections;this.connections=[],yield this.closeConnections(Qt);const{localPeer:Kt}=this;if(!Kt||this.config.lanOnlyMode)return;const{signalingClient:hn}=this.config;yield(()=>dn(this,void 0,void 0,function*(){try{const vn=new Pt.DeletePeerRequest;vn.setPeerId(Kt.getPeerId()),yield hn.deletePeer(vn,yield this.getMetadata({}))}catch(vn){return void xt.a.warn("Error deleting local peer",{error:vn})}}))()})}createPeer(){return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:Qt}=this.config,Kt=yield(()=>dn(this,void 0,void 0,function*(){try{return yield Qt.createPeer(new Pt.CreatePeerRequest,yield this.getMetadata({}))}catch(vn){throw new Error(`Was not able to create peer: ${JSON.stringify(vn)}`)}}))(),hn=Kt==null?void 0:Kt.getPeer();if(!hn)throw new Error("Response did not provide peer.");return this.localPeer=hn})}createReceiveSignalStream(){return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:Qt}=this.config,{localPeer:Kt,iceServers:hn}=this;if(!Kt||!hn)return;const{receiveSignalStream:vn}=this;vn&&vn.cancel();const Sn=new Pt.ReceiveSignalStreamRequest;Sn.setPeerId(Kt.getPeerId());const Cn=yield(()=>dn(this,void 0,void 0,function*(){try{return Qt.receiveSignalStream(Sn,yield this.getMetadata({hasDeadline:!1}))}catch(cn){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(cn)}`)}}))();if(!Cn)throw new Error("Response did not provide stream.");return Cn.on("data",cn=>dn(this,void 0,void 0,function*(){var ln,bn,xn,Nn;const zn=cn.getSignal(),Ln=(ln=zn==null?void 0:zn.getSessionId())===null||ln===void 0?void 0:ln.getValue(),Mn=zn==null?void 0:zn.getSenderId(),Wn=zn==null?void 0:zn.getReceiverId(),Jn=(bn=zn==null?void 0:zn.getSessionCreatedTimestamp())===null||bn===void 0?void 0:bn.getValue();if(!(zn&&Ln&&Mn&&Wn&&Jn))return void xt.a.warn("Received signal with missing information.");const Zn=this.getActiveConnection(Mn);if(Zn)if(Zn.getSessionId()!==Ln){if(xt.a.debug("Received signal: different session for a peer we're already connected to."),(Zn.getSessionCreatedTimestamp()||0)>Jn)return;const Rn=new sn(yield this.createRTCPeerConnection(hn),{baseConfig:{isOffer:!1,isLan:!1,receive:(Kn,kn)=>this.config.receive(Kn,kn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Kn,kn)=>{var Bn,Hn;return(Hn=(Bn=this.config).onStreamsInfoUpdate)===null||Hn===void 0?void 0:Hn.call(Bn,Kn,kn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:Kt.getPeerId(),localUserId:(Nn=Kt.getUserId())===null||Nn===void 0?void 0:Nn.getValue(),remotePeerId:Mn},remoteConfig:{sessionId:Ln,sessionCreatedTimestamp:Jn}},Kn=>this.onCustomDataChannel(Mn,Kn));yield Rn.handleSignal(zn),this.connections.push(Rn)}else xt.a.debug("Received signal: for an existing connection."),yield Zn.handleSignal(zn);else{xt.a.debug("Received signal: new connection.");const Rn=new sn(yield this.createRTCPeerConnection(hn),{baseConfig:{isOffer:!1,isLan:!1,receive:(Kn,kn)=>this.config.receive(Kn,kn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Kn,kn)=>{var Bn,Hn;return(Hn=(Bn=this.config).onStreamsInfoUpdate)===null||Hn===void 0?void 0:Hn.call(Bn,Kn,kn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:Kt.getPeerId(),localUserId:(xn=Kt.getUserId())===null||xn===void 0?void 0:xn.getValue(),remotePeerId:Mn},remoteConfig:{sessionId:Ln,sessionCreatedTimestamp:Jn}},Kn=>this.onCustomDataChannel(Mn,Kn));yield Rn.handleSignal(zn),this.connections.push(Rn)}})),Cn.on("end",()=>{Cn.cancel(),this.receiveSignalStream=void 0}),Cn.on("error",cn=>{switch(cn.code){case Dt.StatusCode.CANCELLED:case Dt.StatusCode.UNAVAILABLE:case Dt.StatusCode.UNKNOWN:xt.a.debug("Receive signal stream error",{error:cn});break;case Dt.StatusCode.UNAUTHENTICATED:xt.a.warn("Receive signal stream error",{error:cn});break;default:xt.a.error("Receive signal stream error",{error:cn})}Cn.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=Cn})}createRTCPeerConnection(Qt,Kt){var hn;return dn(this,void 0,void 0,function*(){const vn=Kt==null?void 0:Kt.rtcIceTransportPolicy,Sn=Kt==null?void 0:Kt.rtcIceServerProtocol,Cn=(bn,xn)=>typeof bn=="string"?bn.endsWith(`transport=${xn}`):bn.some(Nn=>Nn.endsWith(`transport=${xn}`)),cn=Qt.filter(bn=>{return vn!=="relay"||(typeof(xn=bn.urls)=="string"?xn.startsWith("turn:"):xn.some(Nn=>Nn.startsWith("turn:")));var xn}).filter(bn=>Sn!=="udp"||Cn(bn.urls,"udp")).filter(bn=>Sn!=="tcp"||Cn(bn.urls,"tcp")),ln=(hn=this.config.alternateRTCPeerConnection)!==null&&hn!==void 0?hn:window.RTCPeerConnection;if(!ln)throw new Error("RTCPeerConnection class not found. WebRTC must be enabled.");return new ln(Object.assign({iceServers:cn,iceTransportPolicy:vn},Kt))})}closeConnections(Qt){return dn(this,void 0,void 0,function*(){const Kt=yield bt(Qt.map(hn=>dn(this,void 0,void 0,function*(){yield hn.close()})));for(const hn of Kt)xt.a.warn("Request to close session failed",{error:hn})})}getActiveConnection(Qt){return this.getConnections().find(Kt=>Kt.getRemotePeerId()===Qt&&Kt.isActive())}update(){var Qt;return dn(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(cn=>cn.isActive()),this.config.lanOnlyMode)return;const{signalingClient:Kt}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(cn=>!cn.isActive())),this.connections=this.connections.filter(cn=>cn.isActive());const{localPeer:hn}=this,vn=this.connections.filter(cn=>cn.getSessionId).map(cn=>St(cn.getSessionId()));hn.setSessionIdsList(vn);const Sn=new Pt.RefreshPeerRequest;Sn.setPeer(hn);try{yield Kt.refreshPeer(Sn,yield this.getMetadata({}))}catch(cn){cn.code===Dt.StatusCode.NOT_FOUND?(xt.a.warn("Peer expired, creating new peer",{peerId:hn.getPeerId()}),yield this.reset()):xt.a.warn("Error calling RefreshPeer",{error:cn})}const Cn=yield this.getPeers();for(const cn of this.connections)cn.setRemoteDeviceId((Qt=Cn.find(ln=>ln.id===cn.getRemotePeerId()))===null||Qt===void 0?void 0:Qt.deviceId)})}reset(){return dn(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:Qt,iceServersTtl:Kt}=this,hn=new Date().getTime();if(!Qt||hn-Qt>Kt)try{const vn=(yield this.config.signalingClient.getIceServers(new Pt.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(vn),this.iceServersLastUpdate=hn}catch(vn){xt.a.warn("Error in updateIceServers",{error:vn})}})}setupHandlers(Qt){const{peerConnection:Kt}=Qt,hn=Qt.getSessionCreatedTimestamp();Kt.onconnectionstatechange=()=>dn(this,void 0,void 0,function*(){const vn=Kt.connectionState;if(hn)switch(vn){case"connected":It.aggregate("rtc-connect-time",new Date().getTime()-hn);break;case"failed":It.increment("rtc-connect-failed")}})}getMetadata(Qt){return dn(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:Kt}=this.config,{grpcCallDeadline:hn}=this,{hasDeadline:vn}=Qt,Sn=vn===!1?void 0:new Date().getTime()+hn;return{authorization:yield Kt(),deadline:Sn}})}}},,function(tt,et,nt){nt.r(et),nt.d(et,"LogClient",function(){return ot});var rt=nt(26),it=function(at,st,lt,ct){return new(lt||(lt=Promise))(function(ft,ut){function dt(gt){try{pt(ct.next(gt))}catch(mt){ut(mt)}}function ht(gt){try{pt(ct.throw(gt))}catch(mt){ut(mt)}}function pt(gt){var mt;gt.done?ft(gt.value):(mt=gt.value,mt instanceof lt?mt:new lt(function(yt){yt(mt)})).then(dt,ht)}pt((ct=ct.apply(at,st||[])).next())})};class ot extends rt.a{log(st){return it(this,void 0,void 0,function*(){yield this.fetch("logs",{method:"POST",body:JSON.stringify({logs:st}),allowUnsafeRetries:!0})})}}}])})})(dist$1);let FORMANT_API_URL$1="https://api.formant.io";typeof window!="undefined"&&(FORMANT_API_URL$1=window.FORMANT_API_URL||FORMANT_API_URL$1);let urlParams$1$1=new URLSearchParams("");typeof window!="undefined"&&(urlParams$1$1=new URLSearchParams(window.location.search));const envDev$1=urlParams$1$1.get("formant_dev");envDev$1&&(FORMANT_API_URL$1="https://api-dev.formant.io");const envStage$1=urlParams$1$1.get("formant_stage");envStage$1&&(FORMANT_API_URL$1="https://api-stage.formant.io");function delay$1(tt){return new Promise(et=>setTimeout(et,tt))}function defined$2(tt,et){if(tt!==void 0)return tt;throw new Error(et||"Value is undefined")}class App$2{static sendAppMessage(et){window.parent.postMessage(et,"*")}static getCurrentModuleContext(){let et=new URLSearchParams("");return typeof window!="undefined"&&(et=new URLSearchParams(window.location.search)),et.get("module")}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(et){this.sendAppMessage({type:"go_to_time",time:et.getTime()})}static showMessage(et){this.sendAppMessage({type:"show_message",message:et})}static requestModuleData(){const et=this.getCurrentModuleContext();if(!et)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:et})}static setModuleDateTimeRange(et,nt){const rt=this.getCurrentModuleContext();if(!rt)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:rt,before:et,after:nt||0})}static refreshAuthToken(){const et=this.getCurrentModuleContext();if(!et)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:et})}static setupModuleMenus(et){const nt=this.getCurrentModuleContext();if(!nt)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:nt,menus:et})}static addMenuListener(et){window.addEventListener("message",nt=>{const rt=nt.data;rt.type==="module_menu_item_clicked"&&et(rt.menu)})}static addAccessTokenRefreshListener(et){window.addEventListener("message",nt=>{const rt=nt.data;rt.type==="auth_token"&&et(rt.token)})}static addModuleDataListener(et){window.addEventListener("message",nt=>{const rt=nt.data;rt.type==="module_data"&&et({streams:rt.streams,time:rt.time,queryRange:rt.queryRange})})}}const _Authentication$1=class{static async login(tt,et){try{const nt=await fetch(`${FORMANT_API_URL$1}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:tt,password:et}),headers:{"Content-Type":"application/json"}}),rt=await nt.json();if(nt.status!==200)throw new Error(rt.message);return await _Authentication$1.loginWithToken(rt.authentication.accessToken,rt.authentication.refreshToken),rt.authentication}catch(nt){return _Authentication$1.waitingForAuth.forEach(rt=>rt(!1)),_Authentication$1.waitingForAuth=[],Promise.reject(nt)}}static async loginWithToken(tt,et){const nt=JSON.parse(atob(tt.split(".")[1]));try{let rt;if(_Authentication$1.isShareToken=nt["formant:claims"]&&nt["formant:claims"].type=="share",nt["formant:claims"]&&(_Authentication$1.currentOrganization=nt["formant:claims"].organizationId),nt["custom:organization_id"]&&(_Authentication$1.currentOrganization=nt["custom:organization_id"]),_Authentication$1.isShareToken||(rt=nt.sub),nt["formant:claims"]&&nt["formant:claims"].userId&&(rt=nt["formant:claims"].userId),rt){const it=await fetch(`${FORMANT_API_URL$1}/v1/admin/users/${rt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+tt}}),ot=await it.json();if(it.status!==200)throw new Error(ot.message);_Authentication$1.currentUser=ot}_Authentication$1.token=tt,_Authentication$1.waitingForAuth.forEach(it=>it(!0))}catch(rt){console.error(rt),_Authentication$1.waitingForAuth.forEach(it=>it(!1))}_Authentication$1.waitingForAuth=[],et&&(_Authentication$1.refreshToken=et,setInterval(async()=>{if(_Authentication$1.refreshToken){const it=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication$1.refreshToken})})).json();_Authentication$1.token=it.authentication.accessToken}},1e3*60*60))}static isAuthenticated(){return _Authentication$1.token!==void 0}static getCurrentUser(){return _Authentication$1.currentUser}static async waitTilAuthenticated(){return _Authentication$1.token!==void 0?!0:new Promise(tt=>{_Authentication$1.waitingForAuth.push(function(et){tt(et)})})}static async listenForRefresh(){App$2.addAccessTokenRefreshListener(tt=>{this.loginWithToken(tt)}),setInterval(async()=>{App$2.refreshAuthToken()},1e3*60*60)}};let Authentication$1=_Authentication$1;__publicField$2(Authentication$1,"token");__publicField$2(Authentication$1,"refreshToken");__publicField$2(Authentication$1,"currentUser");__publicField$2(Authentication$1,"currentOrganization");__publicField$2(Authentication$1,"isShareToken",!1);__publicField$2(Authentication$1,"defaultDeviceId");__publicField$2(Authentication$1,"waitingForAuth",[]);class DataChannel$1{constructor(et){__publicField$2(this,"ready",!1),__publicField$2(this,"listeners",[]),__publicField$2(this,"binaryListeners",[]),__publicField$2(this,"error"),__publicField$2(this,"decoder",new TextDecoder),this.dataChannel=et,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0},this.dataChannel.onclose=()=>{this.ready=!1},this.dataChannel.onerror=nt=>{console.error(nt),this.error="An error occurred in DataChannel"},this.dataChannel.onmessage=nt=>{this.listeners.forEach(rt=>{const it=new Uint8Array(nt.data),ot=this.decoder.decode(it);rt(ot)}),this.binaryListeners.forEach(rt=>{rt(new Uint8Array(nt.data))})}}async waitTilReady(){return this.ready?!0:new Promise((nt,rt)=>{let it=window.setInterval(()=>{this.ready&&(window.clearInterval(it),nt(!0)),this.error&&rt(this.error)},10)})}send(et){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(et)}sendBinary(et){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(et)}addListener(et){this.listeners.push(et)}removeListener(et){const nt=this.listeners.indexOf(et);if(nt===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(nt,1)}addBinaryListener(et){this.binaryListeners.push(et)}removeBinaryListener(et){const nt=this.binaryListeners.indexOf(et);if(nt===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(nt,1)}}class CaptureStream$1{constructor(et){__publicField$2(this,"token"),this.captureSession=et}async ingestJSON(et){if(!this.token){const rt=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=rt.token}await fetch(`${FORMANT_API_URL$1}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(et)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator$1{constructor(et,nt){__publicField$2(this,"currentListeners",[]),__publicField$2(this,"onRealtimeMessage",(rt,it)=>{it.payload.jointState&&this.currentListeners.forEach(ot=>ot(it.payload.jointState))}),this.device=et,this.config=nt}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(et){this.currentListeners.push(et)}}class RequestDataChannel$1{constructor(et,nt,rt){__publicField$2(this,"channel"),__publicField$2(this,"requestIdToResponseMap",new Map),this.device=et,this.channel_name=nt,this.timeout=rt}}class BinaryRequestDataChannel$1 extends RequestDataChannel$1{constructor(){super(...arguments),__publicField$2(this,"RESPONSE_SUCCESS_BYTE",0),__publicField$2(this,"decoder",new TextDecoder)}generateBinaryId(){const et=new Uint8Array(16);for(let nt=0;nt<et.length;nt++)et[nt]=Math.floor(Math.random()*256);return et}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(et=>{const rt=et.slice(0,16).toString();if(rt.length===0)throw new Error("Invalid response");const it=et.slice(16);if(it.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(rt)&&this.requestIdToResponseMap.set(rt,it)})}async request(et){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:nt,requestIdToResponseMap:rt,timeout:it}=this;await nt.waitTilReady();const ot=this.generateBinaryId(),at=ot.toString();rt.set(at,!0),nt.sendBinary(new Uint8Array([...ot,...et]));const st=new Date().getTime();for(;new Date().getTime()<st+it;)if(await delay$1(50),rt.has(at)){const lt=rt.get(at);if(lt!==!0){rt.delete(at);const ct=lt[0]===this.RESPONSE_SUCCESS_BYTE,ft=lt.slice(1);if(ct)return ft;throw{name:"AdapterError",message:this.decoder.decode(ft)}}}throw rt.delete(at),{name:"TimeoutError",message:`Request timed out after ${it/1e3} seconds`}}}class TextRequestDataChannel$1 extends RequestDataChannel$1{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(et=>{const nt=JSON.parse(et),{id:rt,data:it,error:ot}=nt;if(!rt)throw new Error("Invalid response");if(!it&&!ot)throw new Error("Invalid response");this.requestIdToResponseMap.has(rt)&&this.requestIdToResponseMap.set(rt,nt)})}async request(et){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:nt,requestIdToResponseMap:rt,timeout:it}=this;await nt.waitTilReady();const ot=this.generateTextId();rt.set(ot,!0),nt.send(JSON.stringify({id:ot,data:et}));const at=new Date().getTime();for(;new Date().getTime()<at+it;)if(await delay$1(50),rt.has(ot)){const st=rt.get(ot);if(st!==!0){rt.delete(ot);const{data:lt,error:ct}=st;if(lt)return lt;if(ct)throw{name:"AdapterError",message:ct}}}throw rt.delete(ot),{name:"TimeoutError",message:`Request timed out after ${it/1e3} seconds`}}}class Device$1{constructor(et,nt,rt){__publicField$2(this,"rtcClient"),__publicField$2(this,"realtimeListeners",[]),__publicField$2(this,"handleMessage",(it,ot)=>{this.realtimeListeners.forEach(at=>at(it,ot))}),this.id=et,this.name=nt,this.organizationId=rt}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}async getConfiguration(){let et=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}});const nt=await et.json();if(!nt.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const rt=nt.state.reportedConfiguration.version;return et=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}/configurations/${rt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),(await et.json()).document}async getFileUrl(et){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileId:[et]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).fileUrls}async startRealtimeConnection(){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const et=new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:this.handleMessage});for(;!et.isReady();)await delay$1(100);const rt=(await et.getPeers()).find(ot=>ot.deviceId===this.id);if(!rt)throw new Error("Cannot find peer, is the robot offline?");const it=rt.id;for(await et.connect(it);et.getConnectionStatus(it)!=="connected";)await delay$1(100);this.rtcClient=et}}addRealtimeListener(et){this.realtimeListeners.push(et)}removeRealtimeListener(et){const nt=this.realtimeListeners.indexOf(et);if(nt===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(nt,1)}async getRealtimeVideoStreams(){var et,nt,rt;const it=await this.getConfiguration(),ot=[];for(const at of(et=it.teleop.hardwareStreams)!=null?et:[])at.rtcStreamType==="h264-video-frame"&&ot.push({name:at.name});for(const at of(nt=it.teleop.rosStreams)!=null?nt:[])at.topicType=="formant/H264VideoFrame"&&ot.push({name:at.topicName});for(const at of(rt=it.teleop.customStreams)!=null?rt:[])at.rtcStreamType==="h264-video-frame"&&ot.push({name:at.name});return ot}async getRealtimeManipulators(){var et;const nt=await this.getConfiguration(),rt=[];for(const it of(et=nt.teleop.rosStreams)!=null?et:[])it.topicType=="sensor_msgs/JointState"&&rt.push(new Manipulator$1(this,{currentJointStateStream:{name:it.topicName},plannedJointStateStream:it.plannedTopic?{name:it.plannedTopic}:void 0,planValidStream:it.planValidTopic?{name:it.planValidTopic}:void 0,endEffectorStream:it.endEffectorTopic?{name:it.endEffectorTopic}:void 0,endEffectorLinkName:it.endEffectorLinkName,baseReferenceFrame:it.baseReferenceFrame,localFrame:it.localFrame}));return rt}async startListeningToRealtimeVideo(et){const nt=defined$2(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined$2(rt).id,{streamName:et.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(et){const nt=defined$2(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined$2(rt).id,{streamName:et.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(et){const nt=defined$2(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined$2(rt).id,{streamName:et.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(et){const nt=defined$2(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined$2(rt).id,{streamName:et.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(et){const nt=defined$2(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined$2(rt).id,{streamName:et,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(et){const nt=defined$2(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined$2(rt).id,{streamName:et,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const nt=(await defined$2(this.rtcClient,"Realtime connection has not been started").getPeers()).find(rt=>rt.deviceId===this.id);return defined$2(nt,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){let et=await Fleet$1.getPeers(),nt=await Fleet$1.getRealtimeSessions(),rt=et.find(it=>it.deviceId===this.id);return rt?nt[rt.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(rt=>({name:rt.name,id:rt.id,command:rt.command,description:rt.description,parameterEnabled:rt.parameterEnabled,parameterValue:rt.parameterValue,parameterMeta:rt.parameterMeta}))}async sendCommand(et,nt,rt,it){var ot;const st=(await this.getAvailableCommands()).find(dt=>dt.name===et);if(!st)throw new Error(`Could not find command with name "${et}"`);let lt;if(nt===void 0)if(st.parameterEnabled&&st.parameterValue)lt=st.parameterValue;else throw new Error("Command has no default parameter value, you must provide one");else lt=nt;let ct={value:lt,scrubberTime:(rt||new Date).toISOString(),meta:__spreadValues$3(__spreadValues$3({},st.parameterMeta),it)};return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:st.id,organizationId:this.organizationId,deviceId:this.id,command:st.command,parameter:ct,userId:(ot=Authentication$1.currentUser)==null?void 0:ot.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).fileUrls}async createCustomDataChannel(et,nt){const rt=defined$2(this.rtcClient,"Realtime connection has not been started"),it=await this.getRemotePeer();return new Promise(at=>{rt.createCustomDataChannel(defined$2(it).id,et,__spreadValues$3({ordered:!0},nt),!1,(st,lt)=>{const ct=new DataChannel$1(lt);at(ct)})})}createCustomRequestDataChannel(et,nt=3e3){return new TextRequestDataChannel$1(this,et,nt)}createCustomBinaryRequestDataChannel(et,nt=3e3){return new BinaryRequestDataChannel$1(this,et,nt)}async createCaptureStream(et){const rt=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:et,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();return new CaptureStream$1(rt)}async getTelemetry(et,nt,rt,it){return await Fleet$1.getTelemetry(this.id,et,nt,rt,it)}async getTelemetryStreams(){var et,nt;const rt=await this.getConfiguration(),it=await fetch(`${FORMANT_API_URL$1}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),ot=[],at=[];return(nt=(et=rt.telemetry)==null?void 0:et.streams)==null||nt.forEach(ct=>{ct.disabled!==!0&&ot.push(ct.name),ct.onDemand===!0&&at.push(ct.name)}),console.log(at),(await it.json()).items.filter(ct=>!ot.includes(ct)).map(ct=>({name:ct,onDemand:at.includes(ct)}))}}const _Fleet$1=class{static async setDefaultDevice(tt){_Fleet$1.defaultDeviceId=tt}static async getCurrentDevice(){if(!Authentication$1.token)throw new Error("Not authenticated");if(!_Fleet$1.defaultDeviceId)throw new Error("No known default device");const rt=(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.find(ot=>ot.id===_Fleet$1.defaultDeviceId).name,it=new Device$1(_Fleet$1.defaultDeviceId,rt,defined$2(Authentication$1.currentOrganization));return _Fleet$1.knownContext.push(new WeakRef(it)),it}static async getDevice(tt){if(!Authentication$1.token)throw new Error("Not authenticated");const nt=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${tt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json(),rt=nt.name,it=new Device$1(tt,rt,nt.organizationId);return _Fleet$1.knownContext.push(new WeakRef(it)),it}static async getDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const et=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();return et.items,et.items.map(nt=>new Device$1(nt.id,nt.name,nt.organizationId))}static async getOnlineDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const nt=(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items;return(await _Fleet$1.getDevices()).filter(it=>nt.includes(it.id))}static async getPeers(){if(!Authentication$1.token)throw new Error("Not authenticated");return await new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication$1.token)throw new Error("Not authenticated");return await new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$2(Authentication$1.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const nt=(await(await fetch(`${FORMANT_API_URL$1}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(it=>it.deviceId);return(await _Fleet$1.getDevices()).filter(it=>nt.includes(it.id))}static async getLatestTelemetry(tt){let et=tt;return tt&&!Array.isArray(tt)&&(tt=[tt]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:et}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getTelemetry(tt,et,nt,rt,it){let ot=tt;Array.isArray(tt)||(ot=[tt]);let at=et;return Array.isArray(et)||(at=[et]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:ot,end:rt.toISOString(),names:at,start:nt.toISOString(),tags:it}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getFileUrl(tt){const nt=await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[tt]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json();if(nt.fileUrls.length===0)throw new Error("File not found");return nt.fileUrls[0]}static async queryTelemetry(tt){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify(tt),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async queryEvents(tt){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(tt),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}};let Fleet$1=_Fleet$1;__publicField$2(Fleet$1,"defaultDeviceId");__publicField$2(Fleet$1,"knownContext",[]);let urlParams$3=new URLSearchParams("");typeof window!="undefined"&&(urlParams$3=new URLSearchParams(window.location.search));const urlDevice$1=urlParams$3.get("device");urlDevice$1&&Fleet$1.setDefaultDevice(urlDevice$1);const urlAuth$1=urlParams$3.get("auth");urlAuth$1&&Authentication$1.loginWithToken(urlAuth$1);const moduleName$1=urlParams$3.get("module");moduleName$1&&Authentication$1.listenForRefresh();/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION$1="140",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone$1=0,CullFaceBack$1=1,CullFaceFront$1=2,PCFShadowMap$1=1,PCFSoftShadowMap$1=2,VSMShadowMap$1=3,FrontSide$1=0,BackSide$1=1,DoubleSide$1=2,FlatShading$1=1,NoBlending$1=0,NormalBlending$1=1,AdditiveBlending$1=2,SubtractiveBlending$1=3,MultiplyBlending$1=4,CustomBlending$1=5,AddEquation$1=100,SubtractEquation$1=101,ReverseSubtractEquation$1=102,MinEquation$1=103,MaxEquation$1=104,ZeroFactor$1=200,OneFactor$1=201,SrcColorFactor$1=202,OneMinusSrcColorFactor$1=203,SrcAlphaFactor$1=204,OneMinusSrcAlphaFactor$1=205,DstAlphaFactor$1=206,OneMinusDstAlphaFactor$1=207,DstColorFactor$1=208,OneMinusDstColorFactor$1=209,SrcAlphaSaturateFactor$1=210,NeverDepth$1=0,AlwaysDepth$1=1,LessDepth$1=2,LessEqualDepth$1=3,EqualDepth$1=4,GreaterEqualDepth$1=5,GreaterDepth$1=6,NotEqualDepth$1=7,MultiplyOperation$1=0,MixOperation$1=1,AddOperation$1=2,NoToneMapping$1=0,LinearToneMapping$1=1,ReinhardToneMapping$1=2,CineonToneMapping$1=3,ACESFilmicToneMapping$1=4,CustomToneMapping$1=5,UVMapping$1=300,CubeReflectionMapping$1=301,CubeRefractionMapping$1=302,EquirectangularReflectionMapping$1=303,EquirectangularRefractionMapping$1=304,CubeUVReflectionMapping$1=306,RepeatWrapping$1=1e3,ClampToEdgeWrapping$1=1001,MirroredRepeatWrapping$1=1002,NearestFilter$1=1003,NearestMipmapNearestFilter$1=1004,NearestMipmapLinearFilter$1=1005,LinearFilter$1=1006,LinearMipmapNearestFilter$1=1007,LinearMipmapLinearFilter$1=1008,UnsignedByteType$1=1009,ByteType$1=1010,ShortType$1=1011,UnsignedShortType$1=1012,IntType$1=1013,UnsignedIntType$1=1014,FloatType$1=1015,HalfFloatType$1=1016,UnsignedShort4444Type$1=1017,UnsignedShort5551Type$1=1018,UnsignedInt248Type$1=1020,AlphaFormat$1=1021,RGBFormat$1=1022,RGBAFormat$1=1023,LuminanceFormat$1=1024,LuminanceAlphaFormat$1=1025,DepthFormat$1=1026,DepthStencilFormat$1=1027,RedFormat$1=1028,RedIntegerFormat$1=1029,RGFormat$1=1030,RGIntegerFormat$1=1031,RGBAIntegerFormat$1=1033,RGB_S3TC_DXT1_Format$1=33776,RGBA_S3TC_DXT1_Format$1=33777,RGBA_S3TC_DXT3_Format$1=33778,RGBA_S3TC_DXT5_Format$1=33779,RGB_PVRTC_4BPPV1_Format$1=35840,RGB_PVRTC_2BPPV1_Format$1=35841,RGBA_PVRTC_4BPPV1_Format$1=35842,RGBA_PVRTC_2BPPV1_Format$1=35843,RGB_ETC1_Format$1=36196,RGB_ETC2_Format$1=37492,RGBA_ETC2_EAC_Format$1=37496,RGBA_ASTC_4x4_Format$1=37808,RGBA_ASTC_5x4_Format$1=37809,RGBA_ASTC_5x5_Format$1=37810,RGBA_ASTC_6x5_Format$1=37811,RGBA_ASTC_6x6_Format$1=37812,RGBA_ASTC_8x5_Format$1=37813,RGBA_ASTC_8x6_Format$1=37814,RGBA_ASTC_8x8_Format$1=37815,RGBA_ASTC_10x5_Format$1=37816,RGBA_ASTC_10x6_Format$1=37817,RGBA_ASTC_10x8_Format$1=37818,RGBA_ASTC_10x10_Format$1=37819,RGBA_ASTC_12x10_Format$1=37820,RGBA_ASTC_12x12_Format$1=37821,RGBA_BPTC_Format$1=36492,LoopOnce$1=2200,LoopRepeat$1=2201,LoopPingPong$1=2202,InterpolateDiscrete$1=2300,InterpolateLinear$1=2301,InterpolateSmooth$1=2302,ZeroCurvatureEnding$1=2400,ZeroSlopeEnding$1=2401,WrapAroundEnding$1=2402,NormalAnimationBlendMode$1=2500,AdditiveAnimationBlendMode$1=2501,TrianglesDrawMode$1=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding$1=3e3,sRGBEncoding$1=3001,BasicDepthPacking$1=3200,RGBADepthPacking$1=3201,TangentSpaceNormalMap$1=0,ObjectSpaceNormalMap$1=1,SRGBColorSpace$1="srgb",LinearSRGBColorSpace$1="srgb-linear",KeepStencilOp$1=7680,AlwaysStencilFunc$1=519,StaticDrawUsage$1=35044,DynamicDrawUsage$1=35048,GLSL3$1="300 es",_SRGBAFormat$1=1035;class EventDispatcher$1{addEventListener(et,nt){this._listeners===void 0&&(this._listeners={});const rt=this._listeners;rt[et]===void 0&&(rt[et]=[]),rt[et].indexOf(nt)===-1&&rt[et].push(nt)}hasEventListener(et,nt){if(this._listeners===void 0)return!1;const rt=this._listeners;return rt[et]!==void 0&&rt[et].indexOf(nt)!==-1}removeEventListener(et,nt){if(this._listeners===void 0)return;const it=this._listeners[et];if(it!==void 0){const ot=it.indexOf(nt);ot!==-1&&it.splice(ot,1)}}dispatchEvent(et){if(this._listeners===void 0)return;const rt=this._listeners[et.type];if(rt!==void 0){et.target=this;const it=rt.slice(0);for(let ot=0,at=it.length;ot<at;ot++)it[ot].call(this,et);et.target=null}}}const _lut$1=[];for(let tt=0;tt<256;tt++)_lut$1[tt]=(tt<16?"0":"")+tt.toString(16);let _seed=1234567;const DEG2RAD$1=Math.PI/180,RAD2DEG$1=180/Math.PI;function generateUUID$1(){const tt=Math.random()*4294967295|0,et=Math.random()*4294967295|0,nt=Math.random()*4294967295|0,rt=Math.random()*4294967295|0;return(_lut$1[tt&255]+_lut$1[tt>>8&255]+_lut$1[tt>>16&255]+_lut$1[tt>>24&255]+"-"+_lut$1[et&255]+_lut$1[et>>8&255]+"-"+_lut$1[et>>16&15|64]+_lut$1[et>>24&255]+"-"+_lut$1[nt&63|128]+_lut$1[nt>>8&255]+"-"+_lut$1[nt>>16&255]+_lut$1[nt>>24&255]+_lut$1[rt&255]+_lut$1[rt>>8&255]+_lut$1[rt>>16&255]+_lut$1[rt>>24&255]).toLowerCase()}function clamp$1(tt,et,nt){return Math.max(et,Math.min(nt,tt))}function euclideanModulo$1(tt,et){return(tt%et+et)%et}function mapLinear(tt,et,nt,rt,it){return rt+(tt-et)*(it-rt)/(nt-et)}function inverseLerp(tt,et,nt){return tt!==et?(nt-tt)/(et-tt):0}function lerp$1(tt,et,nt){return(1-nt)*tt+nt*et}function damp(tt,et,nt,rt){return lerp$1(tt,et,1-Math.exp(-nt*rt))}function pingpong(tt,et=1){return et-Math.abs(euclideanModulo$1(tt,et*2)-et)}function smoothstep(tt,et,nt){return tt<=et?0:tt>=nt?1:(tt=(tt-et)/(nt-et),tt*tt*(3-2*tt))}function smootherstep(tt,et,nt){return tt<=et?0:tt>=nt?1:(tt=(tt-et)/(nt-et),tt*tt*tt*(tt*(tt*6-15)+10))}function randInt(tt,et){return tt+Math.floor(Math.random()*(et-tt+1))}function randFloat(tt,et){return tt+Math.random()*(et-tt)}function randFloatSpread(tt){return tt*(.5-Math.random())}function seededRandom(tt){tt!==void 0&&(_seed=tt);let et=_seed+=1831565813;return et=Math.imul(et^et>>>15,et|1),et^=et+Math.imul(et^et>>>7,et|61),((et^et>>>14)>>>0)/4294967296}function degToRad(tt){return tt*DEG2RAD$1}function radToDeg(tt){return tt*RAD2DEG$1}function isPowerOfTwo$1(tt){return(tt&tt-1)===0&&tt!==0}function ceilPowerOfTwo(tt){return Math.pow(2,Math.ceil(Math.log(tt)/Math.LN2))}function floorPowerOfTwo$1(tt){return Math.pow(2,Math.floor(Math.log(tt)/Math.LN2))}function setQuaternionFromProperEuler(tt,et,nt,rt,it){const ot=Math.cos,at=Math.sin,st=ot(nt/2),lt=at(nt/2),ct=ot((et+rt)/2),ft=at((et+rt)/2),ut=ot((et-rt)/2),dt=at((et-rt)/2),ht=ot((rt-et)/2),pt=at((rt-et)/2);switch(it){case"XYX":tt.set(st*ft,lt*ut,lt*dt,st*ct);break;case"YZY":tt.set(lt*dt,st*ft,lt*ut,st*ct);break;case"ZXZ":tt.set(lt*ut,lt*dt,st*ft,st*ct);break;case"XZX":tt.set(st*ft,lt*pt,lt*ht,st*ct);break;case"YXY":tt.set(lt*ht,st*ft,lt*pt,st*ct);break;case"ZYZ":tt.set(lt*pt,lt*ht,st*ft,st*ct);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+it)}}function denormalize$1(tt,et){switch(et.constructor){case Float32Array:return tt;case Uint16Array:return tt/65535;case Uint8Array:return tt/255;case Int16Array:return Math.max(tt/32767,-1);case Int8Array:return Math.max(tt/127,-1);default:throw new Error("Invalid component type.")}}function normalize(tt,et){switch(et.constructor){case Float32Array:return tt;case Uint16Array:return Math.round(tt*65535);case Uint8Array:return Math.round(tt*255);case Int16Array:return Math.round(tt*32767);case Int8Array:return Math.round(tt*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD:DEG2RAD$1,RAD2DEG:RAD2DEG$1,generateUUID:generateUUID$1,clamp:clamp$1,euclideanModulo:euclideanModulo$1,mapLinear,inverseLerp,lerp:lerp$1,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo:isPowerOfTwo$1,ceilPowerOfTwo,floorPowerOfTwo:floorPowerOfTwo$1,setQuaternionFromProperEuler,normalize,denormalize:denormalize$1});class Vector2$1{constructor(et=0,nt=0){this.x=et,this.y=nt}get width(){return this.x}set width(et){this.x=et}get height(){return this.y}set height(et){this.y=et}set(et,nt){return this.x=et,this.y=nt,this}setScalar(et){return this.x=et,this.y=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setComponent(et,nt){switch(et){case 0:this.x=nt;break;case 1:this.y=nt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y)}copy(et){return this.x=et.x,this.y=et.y,this}add(et,nt){return nt!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(et,nt)):(this.x+=et.x,this.y+=et.y,this)}addScalar(et){return this.x+=et,this.y+=et,this}addVectors(et,nt){return this.x=et.x+nt.x,this.y=et.y+nt.y,this}addScaledVector(et,nt){return this.x+=et.x*nt,this.y+=et.y*nt,this}sub(et,nt){return nt!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(et,nt)):(this.x-=et.x,this.y-=et.y,this)}subScalar(et){return this.x-=et,this.y-=et,this}subVectors(et,nt){return this.x=et.x-nt.x,this.y=et.y-nt.y,this}multiply(et){return this.x*=et.x,this.y*=et.y,this}multiplyScalar(et){return this.x*=et,this.y*=et,this}divide(et){return this.x/=et.x,this.y/=et.y,this}divideScalar(et){return this.multiplyScalar(1/et)}applyMatrix3(et){const nt=this.x,rt=this.y,it=et.elements;return this.x=it[0]*nt+it[3]*rt+it[6],this.y=it[1]*nt+it[4]*rt+it[7],this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this}clamp(et,nt){return this.x=Math.max(et.x,Math.min(nt.x,this.x)),this.y=Math.max(et.y,Math.min(nt.y,this.y)),this}clampScalar(et,nt){return this.x=Math.max(et,Math.min(nt,this.x)),this.y=Math.max(et,Math.min(nt,this.y)),this}clampLength(et,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(et,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(et){return this.x*et.x+this.y*et.y}cross(et){return this.x*et.y-this.y*et.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const nt=this.x-et.x,rt=this.y-et.y;return nt*nt+rt*rt}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,nt){return this.x+=(et.x-this.x)*nt,this.y+=(et.y-this.y)*nt,this}lerpVectors(et,nt,rt){return this.x=et.x+(nt.x-et.x)*rt,this.y=et.y+(nt.y-et.y)*rt,this}equals(et){return et.x===this.x&&et.y===this.y}fromArray(et,nt=0){return this.x=et[nt],this.y=et[nt+1],this}toArray(et=[],nt=0){return et[nt]=this.x,et[nt+1]=this.y,et}fromBufferAttribute(et,nt,rt){return rt!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=et.getX(nt),this.y=et.getY(nt),this}rotateAround(et,nt){const rt=Math.cos(nt),it=Math.sin(nt),ot=this.x-et.x,at=this.y-et.y;return this.x=ot*rt-at*it+et.x,this.y=ot*it+at*rt+et.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Vector2$1.prototype.isVector2=!0;class Matrix3$1{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(et,nt,rt,it,ot,at,st,lt,ct){const ft=this.elements;return ft[0]=et,ft[1]=it,ft[2]=st,ft[3]=nt,ft[4]=ot,ft[5]=lt,ft[6]=rt,ft[7]=at,ft[8]=ct,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(et){const nt=this.elements,rt=et.elements;return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt[3]=rt[3],nt[4]=rt[4],nt[5]=rt[5],nt[6]=rt[6],nt[7]=rt[7],nt[8]=rt[8],this}extractBasis(et,nt,rt){return et.setFromMatrix3Column(this,0),nt.setFromMatrix3Column(this,1),rt.setFromMatrix3Column(this,2),this}setFromMatrix4(et){const nt=et.elements;return this.set(nt[0],nt[4],nt[8],nt[1],nt[5],nt[9],nt[2],nt[6],nt[10]),this}multiply(et){return this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,nt){const rt=et.elements,it=nt.elements,ot=this.elements,at=rt[0],st=rt[3],lt=rt[6],ct=rt[1],ft=rt[4],ut=rt[7],dt=rt[2],ht=rt[5],pt=rt[8],gt=it[0],mt=it[3],yt=it[6],bt=it[1],St=it[4],xt=it[7],vt=it[2],$t=it[5],zt=it[8];return ot[0]=at*gt+st*bt+lt*vt,ot[3]=at*mt+st*St+lt*$t,ot[6]=at*yt+st*xt+lt*zt,ot[1]=ct*gt+ft*bt+ut*vt,ot[4]=ct*mt+ft*St+ut*$t,ot[7]=ct*yt+ft*xt+ut*zt,ot[2]=dt*gt+ht*bt+pt*vt,ot[5]=dt*mt+ht*St+pt*$t,ot[8]=dt*yt+ht*xt+pt*zt,this}multiplyScalar(et){const nt=this.elements;return nt[0]*=et,nt[3]*=et,nt[6]*=et,nt[1]*=et,nt[4]*=et,nt[7]*=et,nt[2]*=et,nt[5]*=et,nt[8]*=et,this}determinant(){const et=this.elements,nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ft=et[8];return nt*at*ft-nt*st*ct-rt*ot*ft+rt*st*lt+it*ot*ct-it*at*lt}invert(){const et=this.elements,nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ft=et[8],ut=ft*at-st*ct,dt=st*lt-ft*ot,ht=ct*ot-at*lt,pt=nt*ut+rt*dt+it*ht;if(pt===0)return this.set(0,0,0,0,0,0,0,0,0);const gt=1/pt;return et[0]=ut*gt,et[1]=(it*ct-ft*rt)*gt,et[2]=(st*rt-it*at)*gt,et[3]=dt*gt,et[4]=(ft*nt-it*lt)*gt,et[5]=(it*ot-st*nt)*gt,et[6]=ht*gt,et[7]=(rt*lt-ct*nt)*gt,et[8]=(at*nt-rt*ot)*gt,this}transpose(){let et;const nt=this.elements;return et=nt[1],nt[1]=nt[3],nt[3]=et,et=nt[2],nt[2]=nt[6],nt[6]=et,et=nt[5],nt[5]=nt[7],nt[7]=et,this}getNormalMatrix(et){return this.setFromMatrix4(et).invert().transpose()}transposeIntoArray(et){const nt=this.elements;return et[0]=nt[0],et[1]=nt[3],et[2]=nt[6],et[3]=nt[1],et[4]=nt[4],et[5]=nt[7],et[6]=nt[2],et[7]=nt[5],et[8]=nt[8],this}setUvTransform(et,nt,rt,it,ot,at,st){const lt=Math.cos(ot),ct=Math.sin(ot);return this.set(rt*lt,rt*ct,-rt*(lt*at+ct*st)+at+et,-it*ct,it*lt,-it*(-ct*at+lt*st)+st+nt,0,0,1),this}scale(et,nt){const rt=this.elements;return rt[0]*=et,rt[3]*=et,rt[6]*=et,rt[1]*=nt,rt[4]*=nt,rt[7]*=nt,this}rotate(et){const nt=Math.cos(et),rt=Math.sin(et),it=this.elements,ot=it[0],at=it[3],st=it[6],lt=it[1],ct=it[4],ft=it[7];return it[0]=nt*ot+rt*lt,it[3]=nt*at+rt*ct,it[6]=nt*st+rt*ft,it[1]=-rt*ot+nt*lt,it[4]=-rt*at+nt*ct,it[7]=-rt*st+nt*ft,this}translate(et,nt){const rt=this.elements;return rt[0]+=et*rt[2],rt[3]+=et*rt[5],rt[6]+=et*rt[8],rt[1]+=nt*rt[2],rt[4]+=nt*rt[5],rt[7]+=nt*rt[8],this}equals(et){const nt=this.elements,rt=et.elements;for(let it=0;it<9;it++)if(nt[it]!==rt[it])return!1;return!0}fromArray(et,nt=0){for(let rt=0;rt<9;rt++)this.elements[rt]=et[rt+nt];return this}toArray(et=[],nt=0){const rt=this.elements;return et[nt]=rt[0],et[nt+1]=rt[1],et[nt+2]=rt[2],et[nt+3]=rt[3],et[nt+4]=rt[4],et[nt+5]=rt[5],et[nt+6]=rt[6],et[nt+7]=rt[7],et[nt+8]=rt[8],et}clone(){return new this.constructor().fromArray(this.elements)}}Matrix3$1.prototype.isMatrix3=!0;function arrayNeedsUint32$1(tt){for(let et=tt.length-1;et>=0;--et)if(tt[et]>65535)return!0;return!1}function createElementNS$1(tt){return document.createElementNS("http://www.w3.org/1999/xhtml",tt)}function SRGBToLinear$1(tt){return tt<.04045?tt*.0773993808:Math.pow(tt*.9478672986+.0521327014,2.4)}function LinearToSRGB$1(tt){return tt<.0031308?tt*12.92:1.055*Math.pow(tt,.41666)-.055}const FN$1={[SRGBColorSpace$1]:{[LinearSRGBColorSpace$1]:SRGBToLinear$1},[LinearSRGBColorSpace$1]:{[SRGBColorSpace$1]:LinearToSRGB$1}},ColorManagement$1={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace$1},set workingColorSpace(tt){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(tt,et,nt){if(this.legacyMode||et===nt||!et||!nt)return tt;if(FN$1[et]&&FN$1[et][nt]!==void 0){const rt=FN$1[et][nt];return tt.r=rt(tt.r),tt.g=rt(tt.g),tt.b=rt(tt.b),tt}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(tt,et){return this.convert(tt,this.workingColorSpace,et)},toWorkingColorSpace:function(tt,et){return this.convert(tt,et,this.workingColorSpace)}},_colorKeywords$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb$1={r:0,g:0,b:0},_hslA$1={h:0,s:0,l:0},_hslB$1={h:0,s:0,l:0};function hue2rgb$1(tt,et,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(et-tt)*6*nt:nt<1/2?et:nt<2/3?tt+(et-tt)*6*(2/3-nt):tt}function toComponents$1(tt,et){return et.r=tt.r,et.g=tt.g,et.b=tt.b,et}class Color$2{constructor(et,nt,rt){return nt===void 0&&rt===void 0?this.set(et):this.setRGB(et,nt,rt)}set(et){return et&&et.isColor?this.copy(et):typeof et=="number"?this.setHex(et):typeof et=="string"&&this.setStyle(et),this}setScalar(et){return this.r=et,this.g=et,this.b=et,this}setHex(et,nt=SRGBColorSpace$1){return et=Math.floor(et),this.r=(et>>16&255)/255,this.g=(et>>8&255)/255,this.b=(et&255)/255,ColorManagement$1.toWorkingColorSpace(this,nt),this}setRGB(et,nt,rt,it=LinearSRGBColorSpace$1){return this.r=et,this.g=nt,this.b=rt,ColorManagement$1.toWorkingColorSpace(this,it),this}setHSL(et,nt,rt,it=LinearSRGBColorSpace$1){if(et=euclideanModulo$1(et,1),nt=clamp$1(nt,0,1),rt=clamp$1(rt,0,1),nt===0)this.r=this.g=this.b=rt;else{const ot=rt<=.5?rt*(1+nt):rt+nt-rt*nt,at=2*rt-ot;this.r=hue2rgb$1(at,ot,et+1/3),this.g=hue2rgb$1(at,ot,et),this.b=hue2rgb$1(at,ot,et-1/3)}return ColorManagement$1.toWorkingColorSpace(this,it),this}setStyle(et,nt=SRGBColorSpace$1){function rt(ot){ot!==void 0&&parseFloat(ot)<1&&console.warn("THREE.Color: Alpha component of "+et+" will be ignored.")}let it;if(it=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(et)){let ot;const at=it[1],st=it[2];switch(at){case"rgb":case"rgba":if(ot=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(255,parseInt(ot[1],10))/255,this.g=Math.min(255,parseInt(ot[2],10))/255,this.b=Math.min(255,parseInt(ot[3],10))/255,ColorManagement$1.toWorkingColorSpace(this,nt),rt(ot[4]),this;if(ot=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(100,parseInt(ot[1],10))/100,this.g=Math.min(100,parseInt(ot[2],10))/100,this.b=Math.min(100,parseInt(ot[3],10))/100,ColorManagement$1.toWorkingColorSpace(this,nt),rt(ot[4]),this;break;case"hsl":case"hsla":if(ot=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st)){const lt=parseFloat(ot[1])/360,ct=parseInt(ot[2],10)/100,ft=parseInt(ot[3],10)/100;return rt(ot[4]),this.setHSL(lt,ct,ft,nt)}break}}else if(it=/^\#([A-Fa-f\d]+)$/.exec(et)){const ot=it[1],at=ot.length;if(at===3)return this.r=parseInt(ot.charAt(0)+ot.charAt(0),16)/255,this.g=parseInt(ot.charAt(1)+ot.charAt(1),16)/255,this.b=parseInt(ot.charAt(2)+ot.charAt(2),16)/255,ColorManagement$1.toWorkingColorSpace(this,nt),this;if(at===6)return this.r=parseInt(ot.charAt(0)+ot.charAt(1),16)/255,this.g=parseInt(ot.charAt(2)+ot.charAt(3),16)/255,this.b=parseInt(ot.charAt(4)+ot.charAt(5),16)/255,ColorManagement$1.toWorkingColorSpace(this,nt),this}return et&&et.length>0?this.setColorName(et,nt):this}setColorName(et,nt=SRGBColorSpace$1){const rt=_colorKeywords$1[et.toLowerCase()];return rt!==void 0?this.setHex(rt,nt):console.warn("THREE.Color: Unknown color "+et),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(et){return this.r=et.r,this.g=et.g,this.b=et.b,this}copySRGBToLinear(et){return this.r=SRGBToLinear$1(et.r),this.g=SRGBToLinear$1(et.g),this.b=SRGBToLinear$1(et.b),this}copyLinearToSRGB(et){return this.r=LinearToSRGB$1(et.r),this.g=LinearToSRGB$1(et.g),this.b=LinearToSRGB$1(et.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(et=SRGBColorSpace$1){return ColorManagement$1.fromWorkingColorSpace(toComponents$1(this,_rgb$1),et),clamp$1(_rgb$1.r*255,0,255)<<16^clamp$1(_rgb$1.g*255,0,255)<<8^clamp$1(_rgb$1.b*255,0,255)<<0}getHexString(et=SRGBColorSpace$1){return("000000"+this.getHex(et).toString(16)).slice(-6)}getHSL(et,nt=LinearSRGBColorSpace$1){ColorManagement$1.fromWorkingColorSpace(toComponents$1(this,_rgb$1),nt);const rt=_rgb$1.r,it=_rgb$1.g,ot=_rgb$1.b,at=Math.max(rt,it,ot),st=Math.min(rt,it,ot);let lt,ct;const ft=(st+at)/2;if(st===at)lt=0,ct=0;else{const ut=at-st;switch(ct=ft<=.5?ut/(at+st):ut/(2-at-st),at){case rt:lt=(it-ot)/ut+(it<ot?6:0);break;case it:lt=(ot-rt)/ut+2;break;case ot:lt=(rt-it)/ut+4;break}lt/=6}return et.h=lt,et.s=ct,et.l=ft,et}getRGB(et,nt=LinearSRGBColorSpace$1){return ColorManagement$1.fromWorkingColorSpace(toComponents$1(this,_rgb$1),nt),et.r=_rgb$1.r,et.g=_rgb$1.g,et.b=_rgb$1.b,et}getStyle(et=SRGBColorSpace$1){return ColorManagement$1.fromWorkingColorSpace(toComponents$1(this,_rgb$1),et),et!==SRGBColorSpace$1?`color(${et} ${_rgb$1.r} ${_rgb$1.g} ${_rgb$1.b})`:`rgb(${_rgb$1.r*255|0},${_rgb$1.g*255|0},${_rgb$1.b*255|0})`}offsetHSL(et,nt,rt){return this.getHSL(_hslA$1),_hslA$1.h+=et,_hslA$1.s+=nt,_hslA$1.l+=rt,this.setHSL(_hslA$1.h,_hslA$1.s,_hslA$1.l),this}add(et){return this.r+=et.r,this.g+=et.g,this.b+=et.b,this}addColors(et,nt){return this.r=et.r+nt.r,this.g=et.g+nt.g,this.b=et.b+nt.b,this}addScalar(et){return this.r+=et,this.g+=et,this.b+=et,this}sub(et){return this.r=Math.max(0,this.r-et.r),this.g=Math.max(0,this.g-et.g),this.b=Math.max(0,this.b-et.b),this}multiply(et){return this.r*=et.r,this.g*=et.g,this.b*=et.b,this}multiplyScalar(et){return this.r*=et,this.g*=et,this.b*=et,this}lerp(et,nt){return this.r+=(et.r-this.r)*nt,this.g+=(et.g-this.g)*nt,this.b+=(et.b-this.b)*nt,this}lerpColors(et,nt,rt){return this.r=et.r+(nt.r-et.r)*rt,this.g=et.g+(nt.g-et.g)*rt,this.b=et.b+(nt.b-et.b)*rt,this}lerpHSL(et,nt){this.getHSL(_hslA$1),et.getHSL(_hslB$1);const rt=lerp$1(_hslA$1.h,_hslB$1.h,nt),it=lerp$1(_hslA$1.s,_hslB$1.s,nt),ot=lerp$1(_hslA$1.l,_hslB$1.l,nt);return this.setHSL(rt,it,ot),this}equals(et){return et.r===this.r&&et.g===this.g&&et.b===this.b}fromArray(et,nt=0){return this.r=et[nt],this.g=et[nt+1],this.b=et[nt+2],this}toArray(et=[],nt=0){return et[nt]=this.r,et[nt+1]=this.g,et[nt+2]=this.b,et}fromBufferAttribute(et,nt){return this.r=et.getX(nt),this.g=et.getY(nt),this.b=et.getZ(nt),et.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color$2.NAMES=_colorKeywords$1;Color$2.prototype.isColor=!0;Color$2.prototype.r=1;Color$2.prototype.g=1;Color$2.prototype.b=1;let _canvas$1;class ImageUtils$1{static getDataURL(et){if(/^data:/i.test(et.src)||typeof HTMLCanvasElement=="undefined")return et.src;let nt;if(et instanceof HTMLCanvasElement)nt=et;else{_canvas$1===void 0&&(_canvas$1=createElementNS$1("canvas")),_canvas$1.width=et.width,_canvas$1.height=et.height;const rt=_canvas$1.getContext("2d");et instanceof ImageData?rt.putImageData(et,0,0):rt.drawImage(et,0,0,et.width,et.height),nt=_canvas$1}return nt.width>2048||nt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",et),nt.toDataURL("image/jpeg",.6)):nt.toDataURL("image/png")}static sRGBToLinear(et){if(typeof HTMLImageElement!="undefined"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&et instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&et instanceof ImageBitmap){const nt=createElementNS$1("canvas");nt.width=et.width,nt.height=et.height;const rt=nt.getContext("2d");rt.drawImage(et,0,0,et.width,et.height);const it=rt.getImageData(0,0,et.width,et.height),ot=it.data;for(let at=0;at<ot.length;at++)ot[at]=SRGBToLinear$1(ot[at]/255)*255;return rt.putImageData(it,0,0),nt}else if(et.data){const nt=et.data.slice(0);for(let rt=0;rt<nt.length;rt++)nt instanceof Uint8Array||nt instanceof Uint8ClampedArray?nt[rt]=Math.floor(SRGBToLinear$1(nt[rt]/255)*255):nt[rt]=SRGBToLinear$1(nt[rt]);return{data:nt,width:et.width,height:et.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),et}}class Source$1{constructor(et=null){this.uuid=generateUUID$1(),this.data=et,this.version=0}set needsUpdate(et){et===!0&&this.version++}toJSON(et){const nt=et===void 0||typeof et=="string";if(!nt&&et.images[this.uuid]!==void 0)return et.images[this.uuid];const rt={uuid:this.uuid,url:""},it=this.data;if(it!==null){let ot;if(Array.isArray(it)){ot=[];for(let at=0,st=it.length;at<st;at++)it[at].isDataTexture?ot.push(serializeImage$1(it[at].image)):ot.push(serializeImage$1(it[at]))}else ot=serializeImage$1(it);rt.url=ot}return nt||(et.images[this.uuid]=rt),rt}}function serializeImage$1(tt){return typeof HTMLImageElement!="undefined"&&tt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&tt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&tt instanceof ImageBitmap?ImageUtils$1.getDataURL(tt):tt.data?{data:Array.prototype.slice.call(tt.data),width:tt.width,height:tt.height,type:tt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Source$1.prototype.isSource=!0;let textureId$1=0;class Texture$1 extends EventDispatcher$1{constructor(et=Texture$1.DEFAULT_IMAGE,nt=Texture$1.DEFAULT_MAPPING,rt=ClampToEdgeWrapping$1,it=ClampToEdgeWrapping$1,ot=LinearFilter$1,at=LinearMipmapLinearFilter$1,st=RGBAFormat$1,lt=UnsignedByteType$1,ct=1,ft=LinearEncoding$1){super(),Object.defineProperty(this,"id",{value:textureId$1++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source$1(et),this.mipmaps=[],this.mapping=nt,this.wrapS=rt,this.wrapT=it,this.magFilter=ot,this.minFilter=at,this.anisotropy=ct,this.format=st,this.internalFormat=null,this.type=lt,this.offset=new Vector2$1(0,0),this.repeat=new Vector2$1(1,1),this.center=new Vector2$1(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3$1,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ft,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(et){this.source.data=et}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(et){return this.name=et.name,this.source=et.source,this.mipmaps=et.mipmaps.slice(0),this.mapping=et.mapping,this.wrapS=et.wrapS,this.wrapT=et.wrapT,this.magFilter=et.magFilter,this.minFilter=et.minFilter,this.anisotropy=et.anisotropy,this.format=et.format,this.internalFormat=et.internalFormat,this.type=et.type,this.offset.copy(et.offset),this.repeat.copy(et.repeat),this.center.copy(et.center),this.rotation=et.rotation,this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrix.copy(et.matrix),this.generateMipmaps=et.generateMipmaps,this.premultiplyAlpha=et.premultiplyAlpha,this.flipY=et.flipY,this.unpackAlignment=et.unpackAlignment,this.encoding=et.encoding,this.userData=JSON.parse(JSON.stringify(et.userData)),this.needsUpdate=!0,this}toJSON(et){const nt=et===void 0||typeof et=="string";if(!nt&&et.textures[this.uuid]!==void 0)return et.textures[this.uuid];const rt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(et).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(rt.userData=this.userData),nt||(et.textures[this.uuid]=rt),rt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(et){if(this.mapping!==UVMapping$1)return et;if(et.applyMatrix3(this.matrix),et.x<0||et.x>1)switch(this.wrapS){case RepeatWrapping$1:et.x=et.x-Math.floor(et.x);break;case ClampToEdgeWrapping$1:et.x=et.x<0?0:1;break;case MirroredRepeatWrapping$1:Math.abs(Math.floor(et.x)%2)===1?et.x=Math.ceil(et.x)-et.x:et.x=et.x-Math.floor(et.x);break}if(et.y<0||et.y>1)switch(this.wrapT){case RepeatWrapping$1:et.y=et.y-Math.floor(et.y);break;case ClampToEdgeWrapping$1:et.y=et.y<0?0:1;break;case MirroredRepeatWrapping$1:Math.abs(Math.floor(et.y)%2)===1?et.y=Math.ceil(et.y)-et.y:et.y=et.y-Math.floor(et.y);break}return this.flipY&&(et.y=1-et.y),et}set needsUpdate(et){et===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture$1.DEFAULT_IMAGE=null;Texture$1.DEFAULT_MAPPING=UVMapping$1;Texture$1.prototype.isTexture=!0;class Vector4$1{constructor(et=0,nt=0,rt=0,it=1){this.x=et,this.y=nt,this.z=rt,this.w=it}get width(){return this.z}set width(et){this.z=et}get height(){return this.w}set height(et){this.w=et}set(et,nt,rt,it){return this.x=et,this.y=nt,this.z=rt,this.w=it,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this.w=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setW(et){return this.w=et,this}setComponent(et,nt){switch(et){case 0:this.x=nt;break;case 1:this.y=nt;break;case 2:this.z=nt;break;case 3:this.w=nt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this.w=et.w!==void 0?et.w:1,this}add(et,nt){return nt!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(et,nt)):(this.x+=et.x,this.y+=et.y,this.z+=et.z,this.w+=et.w,this)}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this.w+=et,this}addVectors(et,nt){return this.x=et.x+nt.x,this.y=et.y+nt.y,this.z=et.z+nt.z,this.w=et.w+nt.w,this}addScaledVector(et,nt){return this.x+=et.x*nt,this.y+=et.y*nt,this.z+=et.z*nt,this.w+=et.w*nt,this}sub(et,nt){return nt!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(et,nt)):(this.x-=et.x,this.y-=et.y,this.z-=et.z,this.w-=et.w,this)}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this.w-=et,this}subVectors(et,nt){return this.x=et.x-nt.x,this.y=et.y-nt.y,this.z=et.z-nt.z,this.w=et.w-nt.w,this}multiply(et){return this.x*=et.x,this.y*=et.y,this.z*=et.z,this.w*=et.w,this}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this.w*=et,this}applyMatrix4(et){const nt=this.x,rt=this.y,it=this.z,ot=this.w,at=et.elements;return this.x=at[0]*nt+at[4]*rt+at[8]*it+at[12]*ot,this.y=at[1]*nt+at[5]*rt+at[9]*it+at[13]*ot,this.z=at[2]*nt+at[6]*rt+at[10]*it+at[14]*ot,this.w=at[3]*nt+at[7]*rt+at[11]*it+at[15]*ot,this}divideScalar(et){return this.multiplyScalar(1/et)}setAxisAngleFromQuaternion(et){this.w=2*Math.acos(et.w);const nt=Math.sqrt(1-et.w*et.w);return nt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=et.x/nt,this.y=et.y/nt,this.z=et.z/nt),this}setAxisAngleFromRotationMatrix(et){let nt,rt,it,ot;const lt=et.elements,ct=lt[0],ft=lt[4],ut=lt[8],dt=lt[1],ht=lt[5],pt=lt[9],gt=lt[2],mt=lt[6],yt=lt[10];if(Math.abs(ft-dt)<.01&&Math.abs(ut-gt)<.01&&Math.abs(pt-mt)<.01){if(Math.abs(ft+dt)<.1&&Math.abs(ut+gt)<.1&&Math.abs(pt+mt)<.1&&Math.abs(ct+ht+yt-3)<.1)return this.set(1,0,0,0),this;nt=Math.PI;const St=(ct+1)/2,xt=(ht+1)/2,vt=(yt+1)/2,$t=(ft+dt)/4,zt=(ut+gt)/4,Nt=(pt+mt)/4;return St>xt&&St>vt?St<.01?(rt=0,it=.707106781,ot=.707106781):(rt=Math.sqrt(St),it=$t/rt,ot=zt/rt):xt>vt?xt<.01?(rt=.707106781,it=0,ot=.707106781):(it=Math.sqrt(xt),rt=$t/it,ot=Nt/it):vt<.01?(rt=.707106781,it=.707106781,ot=0):(ot=Math.sqrt(vt),rt=zt/ot,it=Nt/ot),this.set(rt,it,ot,nt),this}let bt=Math.sqrt((mt-pt)*(mt-pt)+(ut-gt)*(ut-gt)+(dt-ft)*(dt-ft));return Math.abs(bt)<.001&&(bt=1),this.x=(mt-pt)/bt,this.y=(ut-gt)/bt,this.z=(dt-ft)/bt,this.w=Math.acos((ct+ht+yt-1)/2),this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this.w=Math.min(this.w,et.w),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this.w=Math.max(this.w,et.w),this}clamp(et,nt){return this.x=Math.max(et.x,Math.min(nt.x,this.x)),this.y=Math.max(et.y,Math.min(nt.y,this.y)),this.z=Math.max(et.z,Math.min(nt.z,this.z)),this.w=Math.max(et.w,Math.min(nt.w,this.w)),this}clampScalar(et,nt){return this.x=Math.max(et,Math.min(nt,this.x)),this.y=Math.max(et,Math.min(nt,this.y)),this.z=Math.max(et,Math.min(nt,this.z)),this.w=Math.max(et,Math.min(nt,this.w)),this}clampLength(et,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(et,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z+this.w*et.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,nt){return this.x+=(et.x-this.x)*nt,this.y+=(et.y-this.y)*nt,this.z+=(et.z-this.z)*nt,this.w+=(et.w-this.w)*nt,this}lerpVectors(et,nt,rt){return this.x=et.x+(nt.x-et.x)*rt,this.y=et.y+(nt.y-et.y)*rt,this.z=et.z+(nt.z-et.z)*rt,this.w=et.w+(nt.w-et.w)*rt,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z&&et.w===this.w}fromArray(et,nt=0){return this.x=et[nt],this.y=et[nt+1],this.z=et[nt+2],this.w=et[nt+3],this}toArray(et=[],nt=0){return et[nt]=this.x,et[nt+1]=this.y,et[nt+2]=this.z,et[nt+3]=this.w,et}fromBufferAttribute(et,nt,rt){return rt!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=et.getX(nt),this.y=et.getY(nt),this.z=et.getZ(nt),this.w=et.getW(nt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Vector4$1.prototype.isVector4=!0;class WebGLRenderTarget$1 extends EventDispatcher$1{constructor(et,nt,rt={}){super(),this.width=et,this.height=nt,this.depth=1,this.scissor=new Vector4$1(0,0,et,nt),this.scissorTest=!1,this.viewport=new Vector4$1(0,0,et,nt);const it={width:et,height:nt,depth:1};this.texture=new Texture$1(it,rt.mapping,rt.wrapS,rt.wrapT,rt.magFilter,rt.minFilter,rt.format,rt.type,rt.anisotropy,rt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=rt.generateMipmaps!==void 0?rt.generateMipmaps:!1,this.texture.internalFormat=rt.internalFormat!==void 0?rt.internalFormat:null,this.texture.minFilter=rt.minFilter!==void 0?rt.minFilter:LinearFilter$1,this.depthBuffer=rt.depthBuffer!==void 0?rt.depthBuffer:!0,this.stencilBuffer=rt.stencilBuffer!==void 0?rt.stencilBuffer:!1,this.depthTexture=rt.depthTexture!==void 0?rt.depthTexture:null,this.samples=rt.samples!==void 0?rt.samples:0}setSize(et,nt,rt=1){(this.width!==et||this.height!==nt||this.depth!==rt)&&(this.width=et,this.height=nt,this.depth=rt,this.texture.image.width=et,this.texture.image.height=nt,this.texture.image.depth=rt,this.dispose()),this.viewport.set(0,0,et,nt),this.scissor.set(0,0,et,nt)}clone(){return new this.constructor().copy(this)}copy(et){return this.width=et.width,this.height=et.height,this.depth=et.depth,this.viewport.copy(et.viewport),this.texture=et.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},et.texture.image),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.samples=et.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}WebGLRenderTarget$1.prototype.isWebGLRenderTarget=!0;class DataArrayTexture$1 extends Texture$1{constructor(et=null,nt=1,rt=1,it=1){super(null),this.image={data:et,width:nt,height:rt,depth:it},this.magFilter=NearestFilter$1,this.minFilter=NearestFilter$1,this.wrapR=ClampToEdgeWrapping$1,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataArrayTexture$1.prototype.isDataArrayTexture=!0;class WebGLArrayRenderTarget$1 extends WebGLRenderTarget$1{constructor(et,nt,rt){super(et,nt),this.depth=rt,this.texture=new DataArrayTexture$1(null,et,nt,rt),this.texture.isRenderTargetTexture=!0}}WebGLArrayRenderTarget$1.prototype.isWebGLArrayRenderTarget=!0;class Data3DTexture$1 extends Texture$1{constructor(et=null,nt=1,rt=1,it=1){super(null),this.image={data:et,width:nt,height:rt,depth:it},this.magFilter=NearestFilter$1,this.minFilter=NearestFilter$1,this.wrapR=ClampToEdgeWrapping$1,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Data3DTexture$1.prototype.isData3DTexture=!0;class WebGL3DRenderTarget$1 extends WebGLRenderTarget$1{constructor(et,nt,rt){super(et,nt),this.depth=rt,this.texture=new Data3DTexture$1(null,et,nt,rt),this.texture.isRenderTargetTexture=!0}}WebGL3DRenderTarget$1.prototype.isWebGL3DRenderTarget=!0;class WebGLMultipleRenderTargets$1 extends WebGLRenderTarget$1{constructor(et,nt,rt,it={}){super(et,nt,it);const ot=this.texture;this.texture=[];for(let at=0;at<rt;at++)this.texture[at]=ot.clone(),this.texture[at].isRenderTargetTexture=!0}setSize(et,nt,rt=1){if(this.width!==et||this.height!==nt||this.depth!==rt){this.width=et,this.height=nt,this.depth=rt;for(let it=0,ot=this.texture.length;it<ot;it++)this.texture[it].image.width=et,this.texture[it].image.height=nt,this.texture[it].image.depth=rt;this.dispose()}return this.viewport.set(0,0,et,nt),this.scissor.set(0,0,et,nt),this}copy(et){this.dispose(),this.width=et.width,this.height=et.height,this.depth=et.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.texture.length=0;for(let nt=0,rt=et.texture.length;nt<rt;nt++)this.texture[nt]=et.texture[nt].clone(),this.texture[nt].isRenderTargetTexture=!0;return this}}WebGLMultipleRenderTargets$1.prototype.isWebGLMultipleRenderTargets=!0;class Quaternion$1{constructor(et=0,nt=0,rt=0,it=1){this._x=et,this._y=nt,this._z=rt,this._w=it}static slerp(et,nt,rt,it){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),rt.slerpQuaternions(et,nt,it)}static slerpFlat(et,nt,rt,it,ot,at,st){let lt=rt[it+0],ct=rt[it+1],ft=rt[it+2],ut=rt[it+3];const dt=ot[at+0],ht=ot[at+1],pt=ot[at+2],gt=ot[at+3];if(st===0){et[nt+0]=lt,et[nt+1]=ct,et[nt+2]=ft,et[nt+3]=ut;return}if(st===1){et[nt+0]=dt,et[nt+1]=ht,et[nt+2]=pt,et[nt+3]=gt;return}if(ut!==gt||lt!==dt||ct!==ht||ft!==pt){let mt=1-st;const yt=lt*dt+ct*ht+ft*pt+ut*gt,bt=yt>=0?1:-1,St=1-yt*yt;if(St>Number.EPSILON){const vt=Math.sqrt(St),$t=Math.atan2(vt,yt*bt);mt=Math.sin(mt*$t)/vt,st=Math.sin(st*$t)/vt}const xt=st*bt;if(lt=lt*mt+dt*xt,ct=ct*mt+ht*xt,ft=ft*mt+pt*xt,ut=ut*mt+gt*xt,mt===1-st){const vt=1/Math.sqrt(lt*lt+ct*ct+ft*ft+ut*ut);lt*=vt,ct*=vt,ft*=vt,ut*=vt}}et[nt]=lt,et[nt+1]=ct,et[nt+2]=ft,et[nt+3]=ut}static multiplyQuaternionsFlat(et,nt,rt,it,ot,at){const st=rt[it],lt=rt[it+1],ct=rt[it+2],ft=rt[it+3],ut=ot[at],dt=ot[at+1],ht=ot[at+2],pt=ot[at+3];return et[nt]=st*pt+ft*ut+lt*ht-ct*dt,et[nt+1]=lt*pt+ft*dt+ct*ut-st*ht,et[nt+2]=ct*pt+ft*ht+st*dt-lt*ut,et[nt+3]=ft*pt-st*ut-lt*dt-ct*ht,et}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get w(){return this._w}set w(et){this._w=et,this._onChangeCallback()}set(et,nt,rt,it){return this._x=et,this._y=nt,this._z=rt,this._w=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(et){return this._x=et.x,this._y=et.y,this._z=et.z,this._w=et.w,this._onChangeCallback(),this}setFromEuler(et,nt){if(!(et&&et.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const rt=et._x,it=et._y,ot=et._z,at=et._order,st=Math.cos,lt=Math.sin,ct=st(rt/2),ft=st(it/2),ut=st(ot/2),dt=lt(rt/2),ht=lt(it/2),pt=lt(ot/2);switch(at){case"XYZ":this._x=dt*ft*ut+ct*ht*pt,this._y=ct*ht*ut-dt*ft*pt,this._z=ct*ft*pt+dt*ht*ut,this._w=ct*ft*ut-dt*ht*pt;break;case"YXZ":this._x=dt*ft*ut+ct*ht*pt,this._y=ct*ht*ut-dt*ft*pt,this._z=ct*ft*pt-dt*ht*ut,this._w=ct*ft*ut+dt*ht*pt;break;case"ZXY":this._x=dt*ft*ut-ct*ht*pt,this._y=ct*ht*ut+dt*ft*pt,this._z=ct*ft*pt+dt*ht*ut,this._w=ct*ft*ut-dt*ht*pt;break;case"ZYX":this._x=dt*ft*ut-ct*ht*pt,this._y=ct*ht*ut+dt*ft*pt,this._z=ct*ft*pt-dt*ht*ut,this._w=ct*ft*ut+dt*ht*pt;break;case"YZX":this._x=dt*ft*ut+ct*ht*pt,this._y=ct*ht*ut+dt*ft*pt,this._z=ct*ft*pt-dt*ht*ut,this._w=ct*ft*ut-dt*ht*pt;break;case"XZY":this._x=dt*ft*ut-ct*ht*pt,this._y=ct*ht*ut-dt*ft*pt,this._z=ct*ft*pt+dt*ht*ut,this._w=ct*ft*ut+dt*ht*pt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+at)}return nt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(et,nt){const rt=nt/2,it=Math.sin(rt);return this._x=et.x*it,this._y=et.y*it,this._z=et.z*it,this._w=Math.cos(rt),this._onChangeCallback(),this}setFromRotationMatrix(et){const nt=et.elements,rt=nt[0],it=nt[4],ot=nt[8],at=nt[1],st=nt[5],lt=nt[9],ct=nt[2],ft=nt[6],ut=nt[10],dt=rt+st+ut;if(dt>0){const ht=.5/Math.sqrt(dt+1);this._w=.25/ht,this._x=(ft-lt)*ht,this._y=(ot-ct)*ht,this._z=(at-it)*ht}else if(rt>st&&rt>ut){const ht=2*Math.sqrt(1+rt-st-ut);this._w=(ft-lt)/ht,this._x=.25*ht,this._y=(it+at)/ht,this._z=(ot+ct)/ht}else if(st>ut){const ht=2*Math.sqrt(1+st-rt-ut);this._w=(ot-ct)/ht,this._x=(it+at)/ht,this._y=.25*ht,this._z=(lt+ft)/ht}else{const ht=2*Math.sqrt(1+ut-rt-st);this._w=(at-it)/ht,this._x=(ot+ct)/ht,this._y=(lt+ft)/ht,this._z=.25*ht}return this._onChangeCallback(),this}setFromUnitVectors(et,nt){let rt=et.dot(nt)+1;return rt<Number.EPSILON?(rt=0,Math.abs(et.x)>Math.abs(et.z)?(this._x=-et.y,this._y=et.x,this._z=0,this._w=rt):(this._x=0,this._y=-et.z,this._z=et.y,this._w=rt)):(this._x=et.y*nt.z-et.z*nt.y,this._y=et.z*nt.x-et.x*nt.z,this._z=et.x*nt.y-et.y*nt.x,this._w=rt),this.normalize()}angleTo(et){return 2*Math.acos(Math.abs(clamp$1(this.dot(et),-1,1)))}rotateTowards(et,nt){const rt=this.angleTo(et);if(rt===0)return this;const it=Math.min(1,nt/rt);return this.slerp(et,it),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(et){return this._x*et._x+this._y*et._y+this._z*et._z+this._w*et._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let et=this.length();return et===0?(this._x=0,this._y=0,this._z=0,this._w=1):(et=1/et,this._x=this._x*et,this._y=this._y*et,this._z=this._z*et,this._w=this._w*et),this._onChangeCallback(),this}multiply(et,nt){return nt!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(et,nt)):this.multiplyQuaternions(this,et)}premultiply(et){return this.multiplyQuaternions(et,this)}multiplyQuaternions(et,nt){const rt=et._x,it=et._y,ot=et._z,at=et._w,st=nt._x,lt=nt._y,ct=nt._z,ft=nt._w;return this._x=rt*ft+at*st+it*ct-ot*lt,this._y=it*ft+at*lt+ot*st-rt*ct,this._z=ot*ft+at*ct+rt*lt-it*st,this._w=at*ft-rt*st-it*lt-ot*ct,this._onChangeCallback(),this}slerp(et,nt){if(nt===0)return this;if(nt===1)return this.copy(et);const rt=this._x,it=this._y,ot=this._z,at=this._w;let st=at*et._w+rt*et._x+it*et._y+ot*et._z;if(st<0?(this._w=-et._w,this._x=-et._x,this._y=-et._y,this._z=-et._z,st=-st):this.copy(et),st>=1)return this._w=at,this._x=rt,this._y=it,this._z=ot,this;const lt=1-st*st;if(lt<=Number.EPSILON){const ht=1-nt;return this._w=ht*at+nt*this._w,this._x=ht*rt+nt*this._x,this._y=ht*it+nt*this._y,this._z=ht*ot+nt*this._z,this.normalize(),this._onChangeCallback(),this}const ct=Math.sqrt(lt),ft=Math.atan2(ct,st),ut=Math.sin((1-nt)*ft)/ct,dt=Math.sin(nt*ft)/ct;return this._w=at*ut+this._w*dt,this._x=rt*ut+this._x*dt,this._y=it*ut+this._y*dt,this._z=ot*ut+this._z*dt,this._onChangeCallback(),this}slerpQuaternions(et,nt,rt){return this.copy(et).slerp(nt,rt)}random(){const et=Math.random(),nt=Math.sqrt(1-et),rt=Math.sqrt(et),it=2*Math.PI*Math.random(),ot=2*Math.PI*Math.random();return this.set(nt*Math.cos(it),rt*Math.sin(ot),rt*Math.cos(ot),nt*Math.sin(it))}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._w===this._w}fromArray(et,nt=0){return this._x=et[nt],this._y=et[nt+1],this._z=et[nt+2],this._w=et[nt+3],this._onChangeCallback(),this}toArray(et=[],nt=0){return et[nt]=this._x,et[nt+1]=this._y,et[nt+2]=this._z,et[nt+3]=this._w,et}fromBufferAttribute(et,nt){return this._x=et.getX(nt),this._y=et.getY(nt),this._z=et.getZ(nt),this._w=et.getW(nt),this}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}Quaternion$1.prototype.isQuaternion=!0;class Vector3$1{constructor(et=0,nt=0,rt=0){this.x=et,this.y=nt,this.z=rt}set(et,nt,rt){return rt===void 0&&(rt=this.z),this.x=et,this.y=nt,this.z=rt,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setComponent(et,nt){switch(et){case 0:this.x=nt;break;case 1:this.y=nt;break;case 2:this.z=nt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this}add(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(et,nt)):(this.x+=et.x,this.y+=et.y,this.z+=et.z,this)}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this}addVectors(et,nt){return this.x=et.x+nt.x,this.y=et.y+nt.y,this.z=et.z+nt.z,this}addScaledVector(et,nt){return this.x+=et.x*nt,this.y+=et.y*nt,this.z+=et.z*nt,this}sub(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(et,nt)):(this.x-=et.x,this.y-=et.y,this.z-=et.z,this)}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this}subVectors(et,nt){return this.x=et.x-nt.x,this.y=et.y-nt.y,this.z=et.z-nt.z,this}multiply(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(et,nt)):(this.x*=et.x,this.y*=et.y,this.z*=et.z,this)}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this}multiplyVectors(et,nt){return this.x=et.x*nt.x,this.y=et.y*nt.y,this.z=et.z*nt.z,this}applyEuler(et){return et&&et.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_quaternion$4$1.setFromEuler(et))}applyAxisAngle(et,nt){return this.applyQuaternion(_quaternion$4$1.setFromAxisAngle(et,nt))}applyMatrix3(et){const nt=this.x,rt=this.y,it=this.z,ot=et.elements;return this.x=ot[0]*nt+ot[3]*rt+ot[6]*it,this.y=ot[1]*nt+ot[4]*rt+ot[7]*it,this.z=ot[2]*nt+ot[5]*rt+ot[8]*it,this}applyNormalMatrix(et){return this.applyMatrix3(et).normalize()}applyMatrix4(et){const nt=this.x,rt=this.y,it=this.z,ot=et.elements,at=1/(ot[3]*nt+ot[7]*rt+ot[11]*it+ot[15]);return this.x=(ot[0]*nt+ot[4]*rt+ot[8]*it+ot[12])*at,this.y=(ot[1]*nt+ot[5]*rt+ot[9]*it+ot[13])*at,this.z=(ot[2]*nt+ot[6]*rt+ot[10]*it+ot[14])*at,this}applyQuaternion(et){const nt=this.x,rt=this.y,it=this.z,ot=et.x,at=et.y,st=et.z,lt=et.w,ct=lt*nt+at*it-st*rt,ft=lt*rt+st*nt-ot*it,ut=lt*it+ot*rt-at*nt,dt=-ot*nt-at*rt-st*it;return this.x=ct*lt+dt*-ot+ft*-st-ut*-at,this.y=ft*lt+dt*-at+ut*-ot-ct*-st,this.z=ut*lt+dt*-st+ct*-at-ft*-ot,this}project(et){return this.applyMatrix4(et.matrixWorldInverse).applyMatrix4(et.projectionMatrix)}unproject(et){return this.applyMatrix4(et.projectionMatrixInverse).applyMatrix4(et.matrixWorld)}transformDirection(et){const nt=this.x,rt=this.y,it=this.z,ot=et.elements;return this.x=ot[0]*nt+ot[4]*rt+ot[8]*it,this.y=ot[1]*nt+ot[5]*rt+ot[9]*it,this.z=ot[2]*nt+ot[6]*rt+ot[10]*it,this.normalize()}divide(et){return this.x/=et.x,this.y/=et.y,this.z/=et.z,this}divideScalar(et){return this.multiplyScalar(1/et)}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this}clamp(et,nt){return this.x=Math.max(et.x,Math.min(nt.x,this.x)),this.y=Math.max(et.y,Math.min(nt.y,this.y)),this.z=Math.max(et.z,Math.min(nt.z,this.z)),this}clampScalar(et,nt){return this.x=Math.max(et,Math.min(nt,this.x)),this.y=Math.max(et,Math.min(nt,this.y)),this.z=Math.max(et,Math.min(nt,this.z)),this}clampLength(et,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(et,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,nt){return this.x+=(et.x-this.x)*nt,this.y+=(et.y-this.y)*nt,this.z+=(et.z-this.z)*nt,this}lerpVectors(et,nt,rt){return this.x=et.x+(nt.x-et.x)*rt,this.y=et.y+(nt.y-et.y)*rt,this.z=et.z+(nt.z-et.z)*rt,this}cross(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(et,nt)):this.crossVectors(this,et)}crossVectors(et,nt){const rt=et.x,it=et.y,ot=et.z,at=nt.x,st=nt.y,lt=nt.z;return this.x=it*lt-ot*st,this.y=ot*at-rt*lt,this.z=rt*st-it*at,this}projectOnVector(et){const nt=et.lengthSq();if(nt===0)return this.set(0,0,0);const rt=et.dot(this)/nt;return this.copy(et).multiplyScalar(rt)}projectOnPlane(et){return _vector$c$1.copy(this).projectOnVector(et),this.sub(_vector$c$1)}reflect(et){return this.sub(_vector$c$1.copy(et).multiplyScalar(2*this.dot(et)))}angleTo(et){const nt=Math.sqrt(this.lengthSq()*et.lengthSq());if(nt===0)return Math.PI/2;const rt=this.dot(et)/nt;return Math.acos(clamp$1(rt,-1,1))}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const nt=this.x-et.x,rt=this.y-et.y,it=this.z-et.z;return nt*nt+rt*rt+it*it}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)+Math.abs(this.z-et.z)}setFromSpherical(et){return this.setFromSphericalCoords(et.radius,et.phi,et.theta)}setFromSphericalCoords(et,nt,rt){const it=Math.sin(nt)*et;return this.x=it*Math.sin(rt),this.y=Math.cos(nt)*et,this.z=it*Math.cos(rt),this}setFromCylindrical(et){return this.setFromCylindricalCoords(et.radius,et.theta,et.y)}setFromCylindricalCoords(et,nt,rt){return this.x=et*Math.sin(nt),this.y=rt,this.z=et*Math.cos(nt),this}setFromMatrixPosition(et){const nt=et.elements;return this.x=nt[12],this.y=nt[13],this.z=nt[14],this}setFromMatrixScale(et){const nt=this.setFromMatrixColumn(et,0).length(),rt=this.setFromMatrixColumn(et,1).length(),it=this.setFromMatrixColumn(et,2).length();return this.x=nt,this.y=rt,this.z=it,this}setFromMatrixColumn(et,nt){return this.fromArray(et.elements,nt*4)}setFromMatrix3Column(et,nt){return this.fromArray(et.elements,nt*3)}setFromEuler(et){return this.x=et._x,this.y=et._y,this.z=et._z,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z}fromArray(et,nt=0){return this.x=et[nt],this.y=et[nt+1],this.z=et[nt+2],this}toArray(et=[],nt=0){return et[nt]=this.x,et[nt+1]=this.y,et[nt+2]=this.z,et}fromBufferAttribute(et,nt,rt){return rt!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=et.getX(nt),this.y=et.getY(nt),this.z=et.getZ(nt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const et=(Math.random()-.5)*2,nt=Math.random()*Math.PI*2,rt=Math.sqrt(1-et**2);return this.x=rt*Math.cos(nt),this.y=rt*Math.sin(nt),this.z=et,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Vector3$1.prototype.isVector3=!0;const _vector$c$1=new Vector3$1,_quaternion$4$1=new Quaternion$1;class Box3$1{constructor(et=new Vector3$1(1/0,1/0,1/0),nt=new Vector3$1(-1/0,-1/0,-1/0)){this.min=et,this.max=nt}set(et,nt){return this.min.copy(et),this.max.copy(nt),this}setFromArray(et){let nt=1/0,rt=1/0,it=1/0,ot=-1/0,at=-1/0,st=-1/0;for(let lt=0,ct=et.length;lt<ct;lt+=3){const ft=et[lt],ut=et[lt+1],dt=et[lt+2];ft<nt&&(nt=ft),ut<rt&&(rt=ut),dt<it&&(it=dt),ft>ot&&(ot=ft),ut>at&&(at=ut),dt>st&&(st=dt)}return this.min.set(nt,rt,it),this.max.set(ot,at,st),this}setFromBufferAttribute(et){let nt=1/0,rt=1/0,it=1/0,ot=-1/0,at=-1/0,st=-1/0;for(let lt=0,ct=et.count;lt<ct;lt++){const ft=et.getX(lt),ut=et.getY(lt),dt=et.getZ(lt);ft<nt&&(nt=ft),ut<rt&&(rt=ut),dt<it&&(it=dt),ft>ot&&(ot=ft),ut>at&&(at=ut),dt>st&&(st=dt)}return this.min.set(nt,rt,it),this.max.set(ot,at,st),this}setFromPoints(et){this.makeEmpty();for(let nt=0,rt=et.length;nt<rt;nt++)this.expandByPoint(et[nt]);return this}setFromCenterAndSize(et,nt){const rt=_vector$b$1.copy(nt).multiplyScalar(.5);return this.min.copy(et).sub(rt),this.max.copy(et).add(rt),this}setFromObject(et,nt=!1){return this.makeEmpty(),this.expandByObject(et,nt)}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(et){return this.isEmpty()?et.set(0,0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}expandByObject(et,nt=!1){et.updateWorldMatrix(!1,!1);const rt=et.geometry;if(rt!==void 0)if(nt&&rt.attributes!=null&&rt.attributes.position!==void 0){const ot=rt.attributes.position;for(let at=0,st=ot.count;at<st;at++)_vector$b$1.fromBufferAttribute(ot,at).applyMatrix4(et.matrixWorld),this.expandByPoint(_vector$b$1)}else rt.boundingBox===null&&rt.computeBoundingBox(),_box$3$1.copy(rt.boundingBox),_box$3$1.applyMatrix4(et.matrixWorld),this.union(_box$3$1);const it=et.children;for(let ot=0,at=it.length;ot<at;ot++)this.expandByObject(it[ot],nt);return this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y||et.z<this.min.z||et.z>this.max.z)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y&&this.min.z<=et.min.z&&et.max.z<=this.max.z}getParameter(et,nt){return nt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y),(et.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y||et.max.z<this.min.z||et.min.z>this.max.z)}intersectsSphere(et){return this.clampPoint(et.center,_vector$b$1),_vector$b$1.distanceToSquared(et.center)<=et.radius*et.radius}intersectsPlane(et){let nt,rt;return et.normal.x>0?(nt=et.normal.x*this.min.x,rt=et.normal.x*this.max.x):(nt=et.normal.x*this.max.x,rt=et.normal.x*this.min.x),et.normal.y>0?(nt+=et.normal.y*this.min.y,rt+=et.normal.y*this.max.y):(nt+=et.normal.y*this.max.y,rt+=et.normal.y*this.min.y),et.normal.z>0?(nt+=et.normal.z*this.min.z,rt+=et.normal.z*this.max.z):(nt+=et.normal.z*this.max.z,rt+=et.normal.z*this.min.z),nt<=-et.constant&&rt>=-et.constant}intersectsTriangle(et){if(this.isEmpty())return!1;this.getCenter(_center$1),_extents$1.subVectors(this.max,_center$1),_v0$2$1.subVectors(et.a,_center$1),_v1$7$1.subVectors(et.b,_center$1),_v2$3$1.subVectors(et.c,_center$1),_f0$1.subVectors(_v1$7$1,_v0$2$1),_f1$1.subVectors(_v2$3$1,_v1$7$1),_f2$1.subVectors(_v0$2$1,_v2$3$1);let nt=[0,-_f0$1.z,_f0$1.y,0,-_f1$1.z,_f1$1.y,0,-_f2$1.z,_f2$1.y,_f0$1.z,0,-_f0$1.x,_f1$1.z,0,-_f1$1.x,_f2$1.z,0,-_f2$1.x,-_f0$1.y,_f0$1.x,0,-_f1$1.y,_f1$1.x,0,-_f2$1.y,_f2$1.x,0];return!satForAxes$1(nt,_v0$2$1,_v1$7$1,_v2$3$1,_extents$1)||(nt=[1,0,0,0,1,0,0,0,1],!satForAxes$1(nt,_v0$2$1,_v1$7$1,_v2$3$1,_extents$1))?!1:(_triangleNormal$1.crossVectors(_f0$1,_f1$1),nt=[_triangleNormal$1.x,_triangleNormal$1.y,_triangleNormal$1.z],satForAxes$1(nt,_v0$2$1,_v1$7$1,_v2$3$1,_extents$1))}clampPoint(et,nt){return nt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return _vector$b$1.copy(et).clamp(this.min,this.max).sub(et).length()}getBoundingSphere(et){return this.getCenter(et.center),et.radius=this.getSize(_vector$b$1).length()*.5,et}intersect(et){return this.min.max(et.min),this.max.min(et.max),this.isEmpty()&&this.makeEmpty(),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}applyMatrix4(et){return this.isEmpty()?this:(_points$1[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(et),_points$1[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(et),_points$1[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(et),_points$1[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(et),_points$1[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(et),_points$1[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(et),_points$1[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(et),_points$1[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(et),this.setFromPoints(_points$1),this)}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}Box3$1.prototype.isBox3=!0;const _points$1=[new Vector3$1,new Vector3$1,new Vector3$1,new Vector3$1,new Vector3$1,new Vector3$1,new Vector3$1,new Vector3$1],_vector$b$1=new Vector3$1,_box$3$1=new Box3$1,_v0$2$1=new Vector3$1,_v1$7$1=new Vector3$1,_v2$3$1=new Vector3$1,_f0$1=new Vector3$1,_f1$1=new Vector3$1,_f2$1=new Vector3$1,_center$1=new Vector3$1,_extents$1=new Vector3$1,_triangleNormal$1=new Vector3$1,_testAxis$1=new Vector3$1;function satForAxes$1(tt,et,nt,rt,it){for(let ot=0,at=tt.length-3;ot<=at;ot+=3){_testAxis$1.fromArray(tt,ot);const st=it.x*Math.abs(_testAxis$1.x)+it.y*Math.abs(_testAxis$1.y)+it.z*Math.abs(_testAxis$1.z),lt=et.dot(_testAxis$1),ct=nt.dot(_testAxis$1),ft=rt.dot(_testAxis$1);if(Math.max(-Math.max(lt,ct,ft),Math.min(lt,ct,ft))>st)return!1}return!0}const _box$2$1=new Box3$1,_v1$6$1=new Vector3$1,_toFarthestPoint$1=new Vector3$1,_toPoint$1=new Vector3$1;class Sphere$1{constructor(et=new Vector3$1,nt=-1){this.center=et,this.radius=nt}set(et,nt){return this.center.copy(et),this.radius=nt,this}setFromPoints(et,nt){const rt=this.center;nt!==void 0?rt.copy(nt):_box$2$1.setFromPoints(et).getCenter(rt);let it=0;for(let ot=0,at=et.length;ot<at;ot++)it=Math.max(it,rt.distanceToSquared(et[ot]));return this.radius=Math.sqrt(it),this}copy(et){return this.center.copy(et.center),this.radius=et.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(et){return et.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(et){return et.distanceTo(this.center)-this.radius}intersectsSphere(et){const nt=this.radius+et.radius;return et.center.distanceToSquared(this.center)<=nt*nt}intersectsBox(et){return et.intersectsSphere(this)}intersectsPlane(et){return Math.abs(et.distanceToPoint(this.center))<=this.radius}clampPoint(et,nt){const rt=this.center.distanceToSquared(et);return nt.copy(et),rt>this.radius*this.radius&&(nt.sub(this.center).normalize(),nt.multiplyScalar(this.radius).add(this.center)),nt}getBoundingBox(et){return this.isEmpty()?(et.makeEmpty(),et):(et.set(this.center,this.center),et.expandByScalar(this.radius),et)}applyMatrix4(et){return this.center.applyMatrix4(et),this.radius=this.radius*et.getMaxScaleOnAxis(),this}translate(et){return this.center.add(et),this}expandByPoint(et){_toPoint$1.subVectors(et,this.center);const nt=_toPoint$1.lengthSq();if(nt>this.radius*this.radius){const rt=Math.sqrt(nt),it=(rt-this.radius)*.5;this.center.add(_toPoint$1.multiplyScalar(it/rt)),this.radius+=it}return this}union(et){return this.center.equals(et.center)===!0?_toFarthestPoint$1.set(0,0,1).multiplyScalar(et.radius):_toFarthestPoint$1.subVectors(et.center,this.center).normalize().multiplyScalar(et.radius),this.expandByPoint(_v1$6$1.copy(et.center).add(_toFarthestPoint$1)),this.expandByPoint(_v1$6$1.copy(et.center).sub(_toFarthestPoint$1)),this}equals(et){return et.center.equals(this.center)&&et.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a$1=new Vector3$1,_segCenter$1=new Vector3$1,_segDir$1=new Vector3$1,_diff$1=new Vector3$1,_edge1$1=new Vector3$1,_edge2$1=new Vector3$1,_normal$1$1=new Vector3$1;class Ray$1{constructor(et=new Vector3$1,nt=new Vector3$1(0,0,-1)){this.origin=et,this.direction=nt}set(et,nt){return this.origin.copy(et),this.direction.copy(nt),this}copy(et){return this.origin.copy(et.origin),this.direction.copy(et.direction),this}at(et,nt){return nt.copy(this.direction).multiplyScalar(et).add(this.origin)}lookAt(et){return this.direction.copy(et).sub(this.origin).normalize(),this}recast(et){return this.origin.copy(this.at(et,_vector$a$1)),this}closestPointToPoint(et,nt){nt.subVectors(et,this.origin);const rt=nt.dot(this.direction);return rt<0?nt.copy(this.origin):nt.copy(this.direction).multiplyScalar(rt).add(this.origin)}distanceToPoint(et){return Math.sqrt(this.distanceSqToPoint(et))}distanceSqToPoint(et){const nt=_vector$a$1.subVectors(et,this.origin).dot(this.direction);return nt<0?this.origin.distanceToSquared(et):(_vector$a$1.copy(this.direction).multiplyScalar(nt).add(this.origin),_vector$a$1.distanceToSquared(et))}distanceSqToSegment(et,nt,rt,it){_segCenter$1.copy(et).add(nt).multiplyScalar(.5),_segDir$1.copy(nt).sub(et).normalize(),_diff$1.copy(this.origin).sub(_segCenter$1);const ot=et.distanceTo(nt)*.5,at=-this.direction.dot(_segDir$1),st=_diff$1.dot(this.direction),lt=-_diff$1.dot(_segDir$1),ct=_diff$1.lengthSq(),ft=Math.abs(1-at*at);let ut,dt,ht,pt;if(ft>0)if(ut=at*lt-st,dt=at*st-lt,pt=ot*ft,ut>=0)if(dt>=-pt)if(dt<=pt){const gt=1/ft;ut*=gt,dt*=gt,ht=ut*(ut+at*dt+2*st)+dt*(at*ut+dt+2*lt)+ct}else dt=ot,ut=Math.max(0,-(at*dt+st)),ht=-ut*ut+dt*(dt+2*lt)+ct;else dt=-ot,ut=Math.max(0,-(at*dt+st)),ht=-ut*ut+dt*(dt+2*lt)+ct;else dt<=-pt?(ut=Math.max(0,-(-at*ot+st)),dt=ut>0?-ot:Math.min(Math.max(-ot,-lt),ot),ht=-ut*ut+dt*(dt+2*lt)+ct):dt<=pt?(ut=0,dt=Math.min(Math.max(-ot,-lt),ot),ht=dt*(dt+2*lt)+ct):(ut=Math.max(0,-(at*ot+st)),dt=ut>0?ot:Math.min(Math.max(-ot,-lt),ot),ht=-ut*ut+dt*(dt+2*lt)+ct);else dt=at>0?-ot:ot,ut=Math.max(0,-(at*dt+st)),ht=-ut*ut+dt*(dt+2*lt)+ct;return rt&&rt.copy(this.direction).multiplyScalar(ut).add(this.origin),it&&it.copy(_segDir$1).multiplyScalar(dt).add(_segCenter$1),ht}intersectSphere(et,nt){_vector$a$1.subVectors(et.center,this.origin);const rt=_vector$a$1.dot(this.direction),it=_vector$a$1.dot(_vector$a$1)-rt*rt,ot=et.radius*et.radius;if(it>ot)return null;const at=Math.sqrt(ot-it),st=rt-at,lt=rt+at;return st<0&&lt<0?null:st<0?this.at(lt,nt):this.at(st,nt)}intersectsSphere(et){return this.distanceSqToPoint(et.center)<=et.radius*et.radius}distanceToPlane(et){const nt=et.normal.dot(this.direction);if(nt===0)return et.distanceToPoint(this.origin)===0?0:null;const rt=-(this.origin.dot(et.normal)+et.constant)/nt;return rt>=0?rt:null}intersectPlane(et,nt){const rt=this.distanceToPlane(et);return rt===null?null:this.at(rt,nt)}intersectsPlane(et){const nt=et.distanceToPoint(this.origin);return nt===0||et.normal.dot(this.direction)*nt<0}intersectBox(et,nt){let rt,it,ot,at,st,lt;const ct=1/this.direction.x,ft=1/this.direction.y,ut=1/this.direction.z,dt=this.origin;return ct>=0?(rt=(et.min.x-dt.x)*ct,it=(et.max.x-dt.x)*ct):(rt=(et.max.x-dt.x)*ct,it=(et.min.x-dt.x)*ct),ft>=0?(ot=(et.min.y-dt.y)*ft,at=(et.max.y-dt.y)*ft):(ot=(et.max.y-dt.y)*ft,at=(et.min.y-dt.y)*ft),rt>at||ot>it||((ot>rt||rt!==rt)&&(rt=ot),(at<it||it!==it)&&(it=at),ut>=0?(st=(et.min.z-dt.z)*ut,lt=(et.max.z-dt.z)*ut):(st=(et.max.z-dt.z)*ut,lt=(et.min.z-dt.z)*ut),rt>lt||st>it)||((st>rt||rt!==rt)&&(rt=st),(lt<it||it!==it)&&(it=lt),it<0)?null:this.at(rt>=0?rt:it,nt)}intersectsBox(et){return this.intersectBox(et,_vector$a$1)!==null}intersectTriangle(et,nt,rt,it,ot){_edge1$1.subVectors(nt,et),_edge2$1.subVectors(rt,et),_normal$1$1.crossVectors(_edge1$1,_edge2$1);let at=this.direction.dot(_normal$1$1),st;if(at>0){if(it)return null;st=1}else if(at<0)st=-1,at=-at;else return null;_diff$1.subVectors(this.origin,et);const lt=st*this.direction.dot(_edge2$1.crossVectors(_diff$1,_edge2$1));if(lt<0)return null;const ct=st*this.direction.dot(_edge1$1.cross(_diff$1));if(ct<0||lt+ct>at)return null;const ft=-st*_diff$1.dot(_normal$1$1);return ft<0?null:this.at(ft/at,ot)}applyMatrix4(et){return this.origin.applyMatrix4(et),this.direction.transformDirection(et),this}equals(et){return et.origin.equals(this.origin)&&et.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4$1{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(et,nt,rt,it,ot,at,st,lt,ct,ft,ut,dt,ht,pt,gt,mt){const yt=this.elements;return yt[0]=et,yt[4]=nt,yt[8]=rt,yt[12]=it,yt[1]=ot,yt[5]=at,yt[9]=st,yt[13]=lt,yt[2]=ct,yt[6]=ft,yt[10]=ut,yt[14]=dt,yt[3]=ht,yt[7]=pt,yt[11]=gt,yt[15]=mt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4$1().fromArray(this.elements)}copy(et){const nt=this.elements,rt=et.elements;return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt[3]=rt[3],nt[4]=rt[4],nt[5]=rt[5],nt[6]=rt[6],nt[7]=rt[7],nt[8]=rt[8],nt[9]=rt[9],nt[10]=rt[10],nt[11]=rt[11],nt[12]=rt[12],nt[13]=rt[13],nt[14]=rt[14],nt[15]=rt[15],this}copyPosition(et){const nt=this.elements,rt=et.elements;return nt[12]=rt[12],nt[13]=rt[13],nt[14]=rt[14],this}setFromMatrix3(et){const nt=et.elements;return this.set(nt[0],nt[3],nt[6],0,nt[1],nt[4],nt[7],0,nt[2],nt[5],nt[8],0,0,0,0,1),this}extractBasis(et,nt,rt){return et.setFromMatrixColumn(this,0),nt.setFromMatrixColumn(this,1),rt.setFromMatrixColumn(this,2),this}makeBasis(et,nt,rt){return this.set(et.x,nt.x,rt.x,0,et.y,nt.y,rt.y,0,et.z,nt.z,rt.z,0,0,0,0,1),this}extractRotation(et){const nt=this.elements,rt=et.elements,it=1/_v1$5$1.setFromMatrixColumn(et,0).length(),ot=1/_v1$5$1.setFromMatrixColumn(et,1).length(),at=1/_v1$5$1.setFromMatrixColumn(et,2).length();return nt[0]=rt[0]*it,nt[1]=rt[1]*it,nt[2]=rt[2]*it,nt[3]=0,nt[4]=rt[4]*ot,nt[5]=rt[5]*ot,nt[6]=rt[6]*ot,nt[7]=0,nt[8]=rt[8]*at,nt[9]=rt[9]*at,nt[10]=rt[10]*at,nt[11]=0,nt[12]=0,nt[13]=0,nt[14]=0,nt[15]=1,this}makeRotationFromEuler(et){et&&et.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const nt=this.elements,rt=et.x,it=et.y,ot=et.z,at=Math.cos(rt),st=Math.sin(rt),lt=Math.cos(it),ct=Math.sin(it),ft=Math.cos(ot),ut=Math.sin(ot);if(et.order==="XYZ"){const dt=at*ft,ht=at*ut,pt=st*ft,gt=st*ut;nt[0]=lt*ft,nt[4]=-lt*ut,nt[8]=ct,nt[1]=ht+pt*ct,nt[5]=dt-gt*ct,nt[9]=-st*lt,nt[2]=gt-dt*ct,nt[6]=pt+ht*ct,nt[10]=at*lt}else if(et.order==="YXZ"){const dt=lt*ft,ht=lt*ut,pt=ct*ft,gt=ct*ut;nt[0]=dt+gt*st,nt[4]=pt*st-ht,nt[8]=at*ct,nt[1]=at*ut,nt[5]=at*ft,nt[9]=-st,nt[2]=ht*st-pt,nt[6]=gt+dt*st,nt[10]=at*lt}else if(et.order==="ZXY"){const dt=lt*ft,ht=lt*ut,pt=ct*ft,gt=ct*ut;nt[0]=dt-gt*st,nt[4]=-at*ut,nt[8]=pt+ht*st,nt[1]=ht+pt*st,nt[5]=at*ft,nt[9]=gt-dt*st,nt[2]=-at*ct,nt[6]=st,nt[10]=at*lt}else if(et.order==="ZYX"){const dt=at*ft,ht=at*ut,pt=st*ft,gt=st*ut;nt[0]=lt*ft,nt[4]=pt*ct-ht,nt[8]=dt*ct+gt,nt[1]=lt*ut,nt[5]=gt*ct+dt,nt[9]=ht*ct-pt,nt[2]=-ct,nt[6]=st*lt,nt[10]=at*lt}else if(et.order==="YZX"){const dt=at*lt,ht=at*ct,pt=st*lt,gt=st*ct;nt[0]=lt*ft,nt[4]=gt-dt*ut,nt[8]=pt*ut+ht,nt[1]=ut,nt[5]=at*ft,nt[9]=-st*ft,nt[2]=-ct*ft,nt[6]=ht*ut+pt,nt[10]=dt-gt*ut}else if(et.order==="XZY"){const dt=at*lt,ht=at*ct,pt=st*lt,gt=st*ct;nt[0]=lt*ft,nt[4]=-ut,nt[8]=ct*ft,nt[1]=dt*ut+gt,nt[5]=at*ft,nt[9]=ht*ut-pt,nt[2]=pt*ut-ht,nt[6]=st*ft,nt[10]=gt*ut+dt}return nt[3]=0,nt[7]=0,nt[11]=0,nt[12]=0,nt[13]=0,nt[14]=0,nt[15]=1,this}makeRotationFromQuaternion(et){return this.compose(_zero$1,et,_one$1)}lookAt(et,nt,rt){const it=this.elements;return _z$1.subVectors(et,nt),_z$1.lengthSq()===0&&(_z$1.z=1),_z$1.normalize(),_x$1.crossVectors(rt,_z$1),_x$1.lengthSq()===0&&(Math.abs(rt.z)===1?_z$1.x+=1e-4:_z$1.z+=1e-4,_z$1.normalize(),_x$1.crossVectors(rt,_z$1)),_x$1.normalize(),_y$1.crossVectors(_z$1,_x$1),it[0]=_x$1.x,it[4]=_y$1.x,it[8]=_z$1.x,it[1]=_x$1.y,it[5]=_y$1.y,it[9]=_z$1.y,it[2]=_x$1.z,it[6]=_y$1.z,it[10]=_z$1.z,this}multiply(et,nt){return nt!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(et,nt)):this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,nt){const rt=et.elements,it=nt.elements,ot=this.elements,at=rt[0],st=rt[4],lt=rt[8],ct=rt[12],ft=rt[1],ut=rt[5],dt=rt[9],ht=rt[13],pt=rt[2],gt=rt[6],mt=rt[10],yt=rt[14],bt=rt[3],St=rt[7],xt=rt[11],vt=rt[15],$t=it[0],zt=it[4],Nt=it[8],wt=it[12],Et=it[1],Rt=it[5],Tt=it[9],It=it[13],Pt=it[2],Dt=it[6],Ct=it[10],Ot=it[14],Ut=it[3],At=it[7],Mt=it[11],jt=it[15];return ot[0]=at*$t+st*Et+lt*Pt+ct*Ut,ot[4]=at*zt+st*Rt+lt*Dt+ct*At,ot[8]=at*Nt+st*Tt+lt*Ct+ct*Mt,ot[12]=at*wt+st*It+lt*Ot+ct*jt,ot[1]=ft*$t+ut*Et+dt*Pt+ht*Ut,ot[5]=ft*zt+ut*Rt+dt*Dt+ht*At,ot[9]=ft*Nt+ut*Tt+dt*Ct+ht*Mt,ot[13]=ft*wt+ut*It+dt*Ot+ht*jt,ot[2]=pt*$t+gt*Et+mt*Pt+yt*Ut,ot[6]=pt*zt+gt*Rt+mt*Dt+yt*At,ot[10]=pt*Nt+gt*Tt+mt*Ct+yt*Mt,ot[14]=pt*wt+gt*It+mt*Ot+yt*jt,ot[3]=bt*$t+St*Et+xt*Pt+vt*Ut,ot[7]=bt*zt+St*Rt+xt*Dt+vt*At,ot[11]=bt*Nt+St*Tt+xt*Ct+vt*Mt,ot[15]=bt*wt+St*It+xt*Ot+vt*jt,this}multiplyScalar(et){const nt=this.elements;return nt[0]*=et,nt[4]*=et,nt[8]*=et,nt[12]*=et,nt[1]*=et,nt[5]*=et,nt[9]*=et,nt[13]*=et,nt[2]*=et,nt[6]*=et,nt[10]*=et,nt[14]*=et,nt[3]*=et,nt[7]*=et,nt[11]*=et,nt[15]*=et,this}determinant(){const et=this.elements,nt=et[0],rt=et[4],it=et[8],ot=et[12],at=et[1],st=et[5],lt=et[9],ct=et[13],ft=et[2],ut=et[6],dt=et[10],ht=et[14],pt=et[3],gt=et[7],mt=et[11],yt=et[15];return pt*(+ot*lt*ut-it*ct*ut-ot*st*dt+rt*ct*dt+it*st*ht-rt*lt*ht)+gt*(+nt*lt*ht-nt*ct*dt+ot*at*dt-it*at*ht+it*ct*ft-ot*lt*ft)+mt*(+nt*ct*ut-nt*st*ht-ot*at*ut+rt*at*ht+ot*st*ft-rt*ct*ft)+yt*(-it*st*ft-nt*lt*ut+nt*st*dt+it*at*ut-rt*at*dt+rt*lt*ft)}transpose(){const et=this.elements;let nt;return nt=et[1],et[1]=et[4],et[4]=nt,nt=et[2],et[2]=et[8],et[8]=nt,nt=et[6],et[6]=et[9],et[9]=nt,nt=et[3],et[3]=et[12],et[12]=nt,nt=et[7],et[7]=et[13],et[13]=nt,nt=et[11],et[11]=et[14],et[14]=nt,this}setPosition(et,nt,rt){const it=this.elements;return et.isVector3?(it[12]=et.x,it[13]=et.y,it[14]=et.z):(it[12]=et,it[13]=nt,it[14]=rt),this}invert(){const et=this.elements,nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ft=et[8],ut=et[9],dt=et[10],ht=et[11],pt=et[12],gt=et[13],mt=et[14],yt=et[15],bt=ut*mt*ct-gt*dt*ct+gt*lt*ht-st*mt*ht-ut*lt*yt+st*dt*yt,St=pt*dt*ct-ft*mt*ct-pt*lt*ht+at*mt*ht+ft*lt*yt-at*dt*yt,xt=ft*gt*ct-pt*ut*ct+pt*st*ht-at*gt*ht-ft*st*yt+at*ut*yt,vt=pt*ut*lt-ft*gt*lt-pt*st*dt+at*gt*dt+ft*st*mt-at*ut*mt,$t=nt*bt+rt*St+it*xt+ot*vt;if($t===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const zt=1/$t;return et[0]=bt*zt,et[1]=(gt*dt*ot-ut*mt*ot-gt*it*ht+rt*mt*ht+ut*it*yt-rt*dt*yt)*zt,et[2]=(st*mt*ot-gt*lt*ot+gt*it*ct-rt*mt*ct-st*it*yt+rt*lt*yt)*zt,et[3]=(ut*lt*ot-st*dt*ot-ut*it*ct+rt*dt*ct+st*it*ht-rt*lt*ht)*zt,et[4]=St*zt,et[5]=(ft*mt*ot-pt*dt*ot+pt*it*ht-nt*mt*ht-ft*it*yt+nt*dt*yt)*zt,et[6]=(pt*lt*ot-at*mt*ot-pt*it*ct+nt*mt*ct+at*it*yt-nt*lt*yt)*zt,et[7]=(at*dt*ot-ft*lt*ot+ft*it*ct-nt*dt*ct-at*it*ht+nt*lt*ht)*zt,et[8]=xt*zt,et[9]=(pt*ut*ot-ft*gt*ot-pt*rt*ht+nt*gt*ht+ft*rt*yt-nt*ut*yt)*zt,et[10]=(at*gt*ot-pt*st*ot+pt*rt*ct-nt*gt*ct-at*rt*yt+nt*st*yt)*zt,et[11]=(ft*st*ot-at*ut*ot-ft*rt*ct+nt*ut*ct+at*rt*ht-nt*st*ht)*zt,et[12]=vt*zt,et[13]=(ft*gt*it-pt*ut*it+pt*rt*dt-nt*gt*dt-ft*rt*mt+nt*ut*mt)*zt,et[14]=(pt*st*it-at*gt*it-pt*rt*lt+nt*gt*lt+at*rt*mt-nt*st*mt)*zt,et[15]=(at*ut*it-ft*st*it+ft*rt*lt-nt*ut*lt-at*rt*dt+nt*st*dt)*zt,this}scale(et){const nt=this.elements,rt=et.x,it=et.y,ot=et.z;return nt[0]*=rt,nt[4]*=it,nt[8]*=ot,nt[1]*=rt,nt[5]*=it,nt[9]*=ot,nt[2]*=rt,nt[6]*=it,nt[10]*=ot,nt[3]*=rt,nt[7]*=it,nt[11]*=ot,this}getMaxScaleOnAxis(){const et=this.elements,nt=et[0]*et[0]+et[1]*et[1]+et[2]*et[2],rt=et[4]*et[4]+et[5]*et[5]+et[6]*et[6],it=et[8]*et[8]+et[9]*et[9]+et[10]*et[10];return Math.sqrt(Math.max(nt,rt,it))}makeTranslation(et,nt,rt){return this.set(1,0,0,et,0,1,0,nt,0,0,1,rt,0,0,0,1),this}makeRotationX(et){const nt=Math.cos(et),rt=Math.sin(et);return this.set(1,0,0,0,0,nt,-rt,0,0,rt,nt,0,0,0,0,1),this}makeRotationY(et){const nt=Math.cos(et),rt=Math.sin(et);return this.set(nt,0,rt,0,0,1,0,0,-rt,0,nt,0,0,0,0,1),this}makeRotationZ(et){const nt=Math.cos(et),rt=Math.sin(et);return this.set(nt,-rt,0,0,rt,nt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(et,nt){const rt=Math.cos(nt),it=Math.sin(nt),ot=1-rt,at=et.x,st=et.y,lt=et.z,ct=ot*at,ft=ot*st;return this.set(ct*at+rt,ct*st-it*lt,ct*lt+it*st,0,ct*st+it*lt,ft*st+rt,ft*lt-it*at,0,ct*lt-it*st,ft*lt+it*at,ot*lt*lt+rt,0,0,0,0,1),this}makeScale(et,nt,rt){return this.set(et,0,0,0,0,nt,0,0,0,0,rt,0,0,0,0,1),this}makeShear(et,nt,rt,it,ot,at){return this.set(1,rt,ot,0,et,1,at,0,nt,it,1,0,0,0,0,1),this}compose(et,nt,rt){const it=this.elements,ot=nt._x,at=nt._y,st=nt._z,lt=nt._w,ct=ot+ot,ft=at+at,ut=st+st,dt=ot*ct,ht=ot*ft,pt=ot*ut,gt=at*ft,mt=at*ut,yt=st*ut,bt=lt*ct,St=lt*ft,xt=lt*ut,vt=rt.x,$t=rt.y,zt=rt.z;return it[0]=(1-(gt+yt))*vt,it[1]=(ht+xt)*vt,it[2]=(pt-St)*vt,it[3]=0,it[4]=(ht-xt)*$t,it[5]=(1-(dt+yt))*$t,it[6]=(mt+bt)*$t,it[7]=0,it[8]=(pt+St)*zt,it[9]=(mt-bt)*zt,it[10]=(1-(dt+gt))*zt,it[11]=0,it[12]=et.x,it[13]=et.y,it[14]=et.z,it[15]=1,this}decompose(et,nt,rt){const it=this.elements;let ot=_v1$5$1.set(it[0],it[1],it[2]).length();const at=_v1$5$1.set(it[4],it[5],it[6]).length(),st=_v1$5$1.set(it[8],it[9],it[10]).length();this.determinant()<0&&(ot=-ot),et.x=it[12],et.y=it[13],et.z=it[14],_m1$2$1.copy(this);const ct=1/ot,ft=1/at,ut=1/st;return _m1$2$1.elements[0]*=ct,_m1$2$1.elements[1]*=ct,_m1$2$1.elements[2]*=ct,_m1$2$1.elements[4]*=ft,_m1$2$1.elements[5]*=ft,_m1$2$1.elements[6]*=ft,_m1$2$1.elements[8]*=ut,_m1$2$1.elements[9]*=ut,_m1$2$1.elements[10]*=ut,nt.setFromRotationMatrix(_m1$2$1),rt.x=ot,rt.y=at,rt.z=st,this}makePerspective(et,nt,rt,it,ot,at){at===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const st=this.elements,lt=2*ot/(nt-et),ct=2*ot/(rt-it),ft=(nt+et)/(nt-et),ut=(rt+it)/(rt-it),dt=-(at+ot)/(at-ot),ht=-2*at*ot/(at-ot);return st[0]=lt,st[4]=0,st[8]=ft,st[12]=0,st[1]=0,st[5]=ct,st[9]=ut,st[13]=0,st[2]=0,st[6]=0,st[10]=dt,st[14]=ht,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic(et,nt,rt,it,ot,at){const st=this.elements,lt=1/(nt-et),ct=1/(rt-it),ft=1/(at-ot),ut=(nt+et)*lt,dt=(rt+it)*ct,ht=(at+ot)*ft;return st[0]=2*lt,st[4]=0,st[8]=0,st[12]=-ut,st[1]=0,st[5]=2*ct,st[9]=0,st[13]=-dt,st[2]=0,st[6]=0,st[10]=-2*ft,st[14]=-ht,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals(et){const nt=this.elements,rt=et.elements;for(let it=0;it<16;it++)if(nt[it]!==rt[it])return!1;return!0}fromArray(et,nt=0){for(let rt=0;rt<16;rt++)this.elements[rt]=et[rt+nt];return this}toArray(et=[],nt=0){const rt=this.elements;return et[nt]=rt[0],et[nt+1]=rt[1],et[nt+2]=rt[2],et[nt+3]=rt[3],et[nt+4]=rt[4],et[nt+5]=rt[5],et[nt+6]=rt[6],et[nt+7]=rt[7],et[nt+8]=rt[8],et[nt+9]=rt[9],et[nt+10]=rt[10],et[nt+11]=rt[11],et[nt+12]=rt[12],et[nt+13]=rt[13],et[nt+14]=rt[14],et[nt+15]=rt[15],et}}Matrix4$1.prototype.isMatrix4=!0;const _v1$5$1=new Vector3$1,_m1$2$1=new Matrix4$1,_zero$1=new Vector3$1(0,0,0),_one$1=new Vector3$1(1,1,1),_x$1=new Vector3$1,_y$1=new Vector3$1,_z$1=new Vector3$1,_matrix$1$1=new Matrix4$1,_quaternion$3$1=new Quaternion$1;class Euler$1{constructor(et=0,nt=0,rt=0,it=Euler$1.DefaultOrder){this._x=et,this._y=nt,this._z=rt,this._order=it}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get order(){return this._order}set order(et){this._order=et,this._onChangeCallback()}set(et,nt,rt,it=this._order){return this._x=et,this._y=nt,this._z=rt,this._order=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(et){return this._x=et._x,this._y=et._y,this._z=et._z,this._order=et._order,this._onChangeCallback(),this}setFromRotationMatrix(et,nt=this._order,rt=!0){const it=et.elements,ot=it[0],at=it[4],st=it[8],lt=it[1],ct=it[5],ft=it[9],ut=it[2],dt=it[6],ht=it[10];switch(nt){case"XYZ":this._y=Math.asin(clamp$1(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-ft,ht),this._z=Math.atan2(-at,ot)):(this._x=Math.atan2(dt,ct),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(ft,-1,1)),Math.abs(ft)<.9999999?(this._y=Math.atan2(st,ht),this._z=Math.atan2(lt,ct)):(this._y=Math.atan2(-ut,ot),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(dt,-1,1)),Math.abs(dt)<.9999999?(this._y=Math.atan2(-ut,ht),this._z=Math.atan2(-at,ct)):(this._y=0,this._z=Math.atan2(lt,ot));break;case"ZYX":this._y=Math.asin(-clamp$1(ut,-1,1)),Math.abs(ut)<.9999999?(this._x=Math.atan2(dt,ht),this._z=Math.atan2(lt,ot)):(this._x=0,this._z=Math.atan2(-at,ct));break;case"YZX":this._z=Math.asin(clamp$1(lt,-1,1)),Math.abs(lt)<.9999999?(this._x=Math.atan2(-ft,ct),this._y=Math.atan2(-ut,ot)):(this._x=0,this._y=Math.atan2(st,ht));break;case"XZY":this._z=Math.asin(-clamp$1(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(dt,ct),this._y=Math.atan2(st,ot)):(this._x=Math.atan2(-ft,ht),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+nt)}return this._order=nt,rt===!0&&this._onChangeCallback(),this}setFromQuaternion(et,nt,rt){return _matrix$1$1.makeRotationFromQuaternion(et),this.setFromRotationMatrix(_matrix$1$1,nt,rt)}setFromVector3(et,nt=this._order){return this.set(et.x,et.y,et.z,nt)}reorder(et){return _quaternion$3$1.setFromEuler(this),this.setFromQuaternion(_quaternion$3$1,et)}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._order===this._order}fromArray(et){return this._x=et[0],this._y=et[1],this._z=et[2],et[3]!==void 0&&(this._order=et[3]),this._onChangeCallback(),this}toArray(et=[],nt=0){return et[nt]=this._x,et[nt+1]=this._y,et[nt+2]=this._z,et[nt+3]=this._order,et}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler$1.prototype.isEuler=!0;Euler$1.DefaultOrder="XYZ";Euler$1.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers$1{constructor(){this.mask=1}set(et){this.mask=(1<<et|0)>>>0}enable(et){this.mask|=1<<et|0}enableAll(){this.mask=-1}toggle(et){this.mask^=1<<et|0}disable(et){this.mask&=~(1<<et|0)}disableAll(){this.mask=0}test(et){return(this.mask&et.mask)!==0}isEnabled(et){return(this.mask&(1<<et|0))!==0}}let _object3DId$1=0;const _v1$4$1=new Vector3$1,_q1$1=new Quaternion$1,_m1$1$1=new Matrix4$1,_target$1=new Vector3$1,_position$3$1=new Vector3$1,_scale$2$1=new Vector3$1,_quaternion$2$1=new Quaternion$1,_xAxis$1=new Vector3$1(1,0,0),_yAxis$1=new Vector3$1(0,1,0),_zAxis$1=new Vector3$1(0,0,1),_addedEvent$1={type:"added"},_removedEvent$1={type:"removed"};class Object3D$1 extends EventDispatcher$1{constructor(){super(),Object.defineProperty(this,"id",{value:_object3DId$1++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D$1.DefaultUp.clone();const et=new Vector3$1,nt=new Euler$1,rt=new Quaternion$1,it=new Vector3$1(1,1,1);function ot(){rt.setFromEuler(nt,!1)}function at(){nt.setFromQuaternion(rt,void 0,!1)}nt._onChange(ot),rt._onChange(at),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:et},rotation:{configurable:!0,enumerable:!0,value:nt},quaternion:{configurable:!0,enumerable:!0,value:rt},scale:{configurable:!0,enumerable:!0,value:it},modelViewMatrix:{value:new Matrix4$1},normalMatrix:{value:new Matrix3$1}}),this.matrix=new Matrix4$1,this.matrixWorld=new Matrix4$1,this.matrixAutoUpdate=Object3D$1.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers$1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(et){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(et),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(et){return this.quaternion.premultiply(et),this}setRotationFromAxisAngle(et,nt){this.quaternion.setFromAxisAngle(et,nt)}setRotationFromEuler(et){this.quaternion.setFromEuler(et,!0)}setRotationFromMatrix(et){this.quaternion.setFromRotationMatrix(et)}setRotationFromQuaternion(et){this.quaternion.copy(et)}rotateOnAxis(et,nt){return _q1$1.setFromAxisAngle(et,nt),this.quaternion.multiply(_q1$1),this}rotateOnWorldAxis(et,nt){return _q1$1.setFromAxisAngle(et,nt),this.quaternion.premultiply(_q1$1),this}rotateX(et){return this.rotateOnAxis(_xAxis$1,et)}rotateY(et){return this.rotateOnAxis(_yAxis$1,et)}rotateZ(et){return this.rotateOnAxis(_zAxis$1,et)}translateOnAxis(et,nt){return _v1$4$1.copy(et).applyQuaternion(this.quaternion),this.position.add(_v1$4$1.multiplyScalar(nt)),this}translateX(et){return this.translateOnAxis(_xAxis$1,et)}translateY(et){return this.translateOnAxis(_yAxis$1,et)}translateZ(et){return this.translateOnAxis(_zAxis$1,et)}localToWorld(et){return et.applyMatrix4(this.matrixWorld)}worldToLocal(et){return et.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(et,nt,rt){et.isVector3?_target$1.copy(et):_target$1.set(et,nt,rt);const it=this.parent;this.updateWorldMatrix(!0,!1),_position$3$1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3$1,_target$1,this.up):_m1$1$1.lookAt(_target$1,_position$3$1,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),it&&(_m1$1$1.extractRotation(it.matrixWorld),_q1$1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1$1.invert()))}add(et){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.add(arguments[nt]);return this}return et===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",et),this):(et&&et.isObject3D?(et.parent!==null&&et.parent.remove(et),et.parent=this,this.children.push(et),et.dispatchEvent(_addedEvent$1)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",et),this)}remove(et){if(arguments.length>1){for(let rt=0;rt<arguments.length;rt++)this.remove(arguments[rt]);return this}const nt=this.children.indexOf(et);return nt!==-1&&(et.parent=null,this.children.splice(nt,1),et.dispatchEvent(_removedEvent$1)),this}removeFromParent(){const et=this.parent;return et!==null&&et.remove(this),this}clear(){for(let et=0;et<this.children.length;et++){const nt=this.children[et];nt.parent=null,nt.dispatchEvent(_removedEvent$1)}return this.children.length=0,this}attach(et){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),et.parent!==null&&(et.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(et.parent.matrixWorld)),et.applyMatrix4(_m1$1$1),this.add(et),et.updateWorldMatrix(!1,!0),this}getObjectById(et){return this.getObjectByProperty("id",et)}getObjectByName(et){return this.getObjectByProperty("name",et)}getObjectByProperty(et,nt){if(this[et]===nt)return this;for(let rt=0,it=this.children.length;rt<it;rt++){const at=this.children[rt].getObjectByProperty(et,nt);if(at!==void 0)return at}}getWorldPosition(et){return this.updateWorldMatrix(!0,!1),et.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3$1,et,_scale$2$1),et}getWorldScale(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3$1,_quaternion$2$1,et),et}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const nt=this.matrixWorld.elements;return et.set(nt[8],nt[9],nt[10]).normalize()}raycast(){}traverse(et){et(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].traverse(et)}traverseVisible(et){if(this.visible===!1)return;et(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].traverseVisible(et)}traverseAncestors(et){const nt=this.parent;nt!==null&&(et(nt),nt.traverseAncestors(et))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(et){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||et)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,et=!0);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].updateMatrixWorld(et)}updateWorldMatrix(et,nt){const rt=this.parent;if(et===!0&&rt!==null&&rt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),nt===!0){const it=this.children;for(let ot=0,at=it.length;ot<at;ot++)it[ot].updateWorldMatrix(!1,!0)}}toJSON(et){const nt=et===void 0||typeof et=="string",rt={};nt&&(et={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},rt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const it={};it.uuid=this.uuid,it.type=this.type,this.name!==""&&(it.name=this.name),this.castShadow===!0&&(it.castShadow=!0),this.receiveShadow===!0&&(it.receiveShadow=!0),this.visible===!1&&(it.visible=!1),this.frustumCulled===!1&&(it.frustumCulled=!1),this.renderOrder!==0&&(it.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(it.userData=this.userData),it.layers=this.layers.mask,it.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(it.matrixAutoUpdate=!1),this.isInstancedMesh&&(it.type="InstancedMesh",it.count=this.count,it.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(it.instanceColor=this.instanceColor.toJSON()));function ot(st,lt){return st[lt.uuid]===void 0&&(st[lt.uuid]=lt.toJSON(et)),lt.uuid}if(this.isScene)this.background&&(this.background.isColor?it.background=this.background.toJSON():this.background.isTexture&&(it.background=this.background.toJSON(et).uuid)),this.environment&&this.environment.isTexture&&(it.environment=this.environment.toJSON(et).uuid);else if(this.isMesh||this.isLine||this.isPoints){it.geometry=ot(et.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const lt=st.shapes;if(Array.isArray(lt))for(let ct=0,ft=lt.length;ct<ft;ct++){const ut=lt[ct];ot(et.shapes,ut)}else ot(et.shapes,lt)}}if(this.isSkinnedMesh&&(it.bindMode=this.bindMode,it.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(ot(et.skeletons,this.skeleton),it.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let lt=0,ct=this.material.length;lt<ct;lt++)st.push(ot(et.materials,this.material[lt]));it.material=st}else it.material=ot(et.materials,this.material);if(this.children.length>0){it.children=[];for(let st=0;st<this.children.length;st++)it.children.push(this.children[st].toJSON(et).object)}if(this.animations.length>0){it.animations=[];for(let st=0;st<this.animations.length;st++){const lt=this.animations[st];it.animations.push(ot(et.animations,lt))}}if(nt){const st=at(et.geometries),lt=at(et.materials),ct=at(et.textures),ft=at(et.images),ut=at(et.shapes),dt=at(et.skeletons),ht=at(et.animations),pt=at(et.nodes);st.length>0&&(rt.geometries=st),lt.length>0&&(rt.materials=lt),ct.length>0&&(rt.textures=ct),ft.length>0&&(rt.images=ft),ut.length>0&&(rt.shapes=ut),dt.length>0&&(rt.skeletons=dt),ht.length>0&&(rt.animations=ht),pt.length>0&&(rt.nodes=pt)}return rt.object=it,rt;function at(st){const lt=[];for(const ct in st){const ft=st[ct];delete ft.metadata,lt.push(ft)}return lt}}clone(et){return new this.constructor().copy(this,et)}copy(et,nt=!0){if(this.name=et.name,this.up.copy(et.up),this.position.copy(et.position),this.rotation.order=et.rotation.order,this.quaternion.copy(et.quaternion),this.scale.copy(et.scale),this.matrix.copy(et.matrix),this.matrixWorld.copy(et.matrixWorld),this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrixWorldNeedsUpdate=et.matrixWorldNeedsUpdate,this.layers.mask=et.layers.mask,this.visible=et.visible,this.castShadow=et.castShadow,this.receiveShadow=et.receiveShadow,this.frustumCulled=et.frustumCulled,this.renderOrder=et.renderOrder,this.userData=JSON.parse(JSON.stringify(et.userData)),nt===!0)for(let rt=0;rt<et.children.length;rt++){const it=et.children[rt];this.add(it.clone())}return this}}Object3D$1.DefaultUp=new Vector3$1(0,1,0);Object3D$1.DefaultMatrixAutoUpdate=!0;Object3D$1.prototype.isObject3D=!0;const _v0$1$1=new Vector3$1,_v1$3$1=new Vector3$1,_v2$2$1=new Vector3$1,_v3$1$1=new Vector3$1,_vab$1=new Vector3$1,_vac$1=new Vector3$1,_vbc$1=new Vector3$1,_vap$1=new Vector3$1,_vbp$1=new Vector3$1,_vcp$1=new Vector3$1;class Triangle$1{constructor(et=new Vector3$1,nt=new Vector3$1,rt=new Vector3$1){this.a=et,this.b=nt,this.c=rt}static getNormal(et,nt,rt,it){it.subVectors(rt,nt),_v0$1$1.subVectors(et,nt),it.cross(_v0$1$1);const ot=it.lengthSq();return ot>0?it.multiplyScalar(1/Math.sqrt(ot)):it.set(0,0,0)}static getBarycoord(et,nt,rt,it,ot){_v0$1$1.subVectors(it,nt),_v1$3$1.subVectors(rt,nt),_v2$2$1.subVectors(et,nt);const at=_v0$1$1.dot(_v0$1$1),st=_v0$1$1.dot(_v1$3$1),lt=_v0$1$1.dot(_v2$2$1),ct=_v1$3$1.dot(_v1$3$1),ft=_v1$3$1.dot(_v2$2$1),ut=at*ct-st*st;if(ut===0)return ot.set(-2,-1,-1);const dt=1/ut,ht=(ct*lt-st*ft)*dt,pt=(at*ft-st*lt)*dt;return ot.set(1-ht-pt,pt,ht)}static containsPoint(et,nt,rt,it){return this.getBarycoord(et,nt,rt,it,_v3$1$1),_v3$1$1.x>=0&&_v3$1$1.y>=0&&_v3$1$1.x+_v3$1$1.y<=1}static getUV(et,nt,rt,it,ot,at,st,lt){return this.getBarycoord(et,nt,rt,it,_v3$1$1),lt.set(0,0),lt.addScaledVector(ot,_v3$1$1.x),lt.addScaledVector(at,_v3$1$1.y),lt.addScaledVector(st,_v3$1$1.z),lt}static isFrontFacing(et,nt,rt,it){return _v0$1$1.subVectors(rt,nt),_v1$3$1.subVectors(et,nt),_v0$1$1.cross(_v1$3$1).dot(it)<0}set(et,nt,rt){return this.a.copy(et),this.b.copy(nt),this.c.copy(rt),this}setFromPointsAndIndices(et,nt,rt,it){return this.a.copy(et[nt]),this.b.copy(et[rt]),this.c.copy(et[it]),this}setFromAttributeAndIndices(et,nt,rt,it){return this.a.fromBufferAttribute(et,nt),this.b.fromBufferAttribute(et,rt),this.c.fromBufferAttribute(et,it),this}clone(){return new this.constructor().copy(this)}copy(et){return this.a.copy(et.a),this.b.copy(et.b),this.c.copy(et.c),this}getArea(){return _v0$1$1.subVectors(this.c,this.b),_v1$3$1.subVectors(this.a,this.b),_v0$1$1.cross(_v1$3$1).length()*.5}getMidpoint(et){return et.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(et){return Triangle$1.getNormal(this.a,this.b,this.c,et)}getPlane(et){return et.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(et,nt){return Triangle$1.getBarycoord(et,this.a,this.b,this.c,nt)}getUV(et,nt,rt,it,ot){return Triangle$1.getUV(et,this.a,this.b,this.c,nt,rt,it,ot)}containsPoint(et){return Triangle$1.containsPoint(et,this.a,this.b,this.c)}isFrontFacing(et){return Triangle$1.isFrontFacing(this.a,this.b,this.c,et)}intersectsBox(et){return et.intersectsTriangle(this)}closestPointToPoint(et,nt){const rt=this.a,it=this.b,ot=this.c;let at,st;_vab$1.subVectors(it,rt),_vac$1.subVectors(ot,rt),_vap$1.subVectors(et,rt);const lt=_vab$1.dot(_vap$1),ct=_vac$1.dot(_vap$1);if(lt<=0&&ct<=0)return nt.copy(rt);_vbp$1.subVectors(et,it);const ft=_vab$1.dot(_vbp$1),ut=_vac$1.dot(_vbp$1);if(ft>=0&&ut<=ft)return nt.copy(it);const dt=lt*ut-ft*ct;if(dt<=0&&lt>=0&&ft<=0)return at=lt/(lt-ft),nt.copy(rt).addScaledVector(_vab$1,at);_vcp$1.subVectors(et,ot);const ht=_vab$1.dot(_vcp$1),pt=_vac$1.dot(_vcp$1);if(pt>=0&&ht<=pt)return nt.copy(ot);const gt=ht*ct-lt*pt;if(gt<=0&&ct>=0&&pt<=0)return st=ct/(ct-pt),nt.copy(rt).addScaledVector(_vac$1,st);const mt=ft*pt-ht*ut;if(mt<=0&&ut-ft>=0&&ht-pt>=0)return _vbc$1.subVectors(ot,it),st=(ut-ft)/(ut-ft+(ht-pt)),nt.copy(it).addScaledVector(_vbc$1,st);const yt=1/(mt+gt+dt);return at=gt*yt,st=dt*yt,nt.copy(rt).addScaledVector(_vab$1,at).addScaledVector(_vac$1,st)}equals(et){return et.a.equals(this.a)&&et.b.equals(this.b)&&et.c.equals(this.c)}}let materialId$1=0;class Material$1 extends EventDispatcher$1{constructor(){super(),Object.defineProperty(this,"id",{value:materialId$1++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending$1,this.side=FrontSide$1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor$1,this.blendDst=OneMinusSrcAlphaFactor$1,this.blendEquation=AddEquation$1,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth$1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc$1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp$1,this.stencilZFail=KeepStencilOp$1,this.stencilZPass=KeepStencilOp$1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(et){this._alphaTest>0!=et>0&&this.version++,this._alphaTest=et}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(et){if(et!==void 0)for(const nt in et){const rt=et[nt];if(rt===void 0){console.warn("THREE.Material: '"+nt+"' parameter is undefined.");continue}if(nt==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=rt===FlatShading$1;continue}const it=this[nt];if(it===void 0){console.warn("THREE."+this.type+": '"+nt+"' is not a property of this material.");continue}it&&it.isColor?it.set(rt):it&&it.isVector3&&rt&&rt.isVector3?it.copy(rt):this[nt]=rt}}toJSON(et){const nt=et===void 0||typeof et=="string";nt&&(et={textures:{},images:{}});const rt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};rt.uuid=this.uuid,rt.type=this.type,this.name!==""&&(rt.name=this.name),this.color&&this.color.isColor&&(rt.color=this.color.getHex()),this.roughness!==void 0&&(rt.roughness=this.roughness),this.metalness!==void 0&&(rt.metalness=this.metalness),this.sheen!==void 0&&(rt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(rt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(rt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(rt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(rt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(rt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(rt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(rt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(rt.shininess=this.shininess),this.clearcoat!==void 0&&(rt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(rt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(rt.clearcoatMap=this.clearcoatMap.toJSON(et).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(rt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(et).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(rt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(et).uuid,rt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(rt.map=this.map.toJSON(et).uuid),this.matcap&&this.matcap.isTexture&&(rt.matcap=this.matcap.toJSON(et).uuid),this.alphaMap&&this.alphaMap.isTexture&&(rt.alphaMap=this.alphaMap.toJSON(et).uuid),this.lightMap&&this.lightMap.isTexture&&(rt.lightMap=this.lightMap.toJSON(et).uuid,rt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(rt.aoMap=this.aoMap.toJSON(et).uuid,rt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(rt.bumpMap=this.bumpMap.toJSON(et).uuid,rt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(rt.normalMap=this.normalMap.toJSON(et).uuid,rt.normalMapType=this.normalMapType,rt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(rt.displacementMap=this.displacementMap.toJSON(et).uuid,rt.displacementScale=this.displacementScale,rt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(rt.roughnessMap=this.roughnessMap.toJSON(et).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(rt.metalnessMap=this.metalnessMap.toJSON(et).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(rt.emissiveMap=this.emissiveMap.toJSON(et).uuid),this.specularMap&&this.specularMap.isTexture&&(rt.specularMap=this.specularMap.toJSON(et).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(rt.specularIntensityMap=this.specularIntensityMap.toJSON(et).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(rt.specularColorMap=this.specularColorMap.toJSON(et).uuid),this.envMap&&this.envMap.isTexture&&(rt.envMap=this.envMap.toJSON(et).uuid,this.combine!==void 0&&(rt.combine=this.combine)),this.envMapIntensity!==void 0&&(rt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(rt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(rt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(rt.gradientMap=this.gradientMap.toJSON(et).uuid),this.transmission!==void 0&&(rt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(rt.transmissionMap=this.transmissionMap.toJSON(et).uuid),this.thickness!==void 0&&(rt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(rt.thicknessMap=this.thicknessMap.toJSON(et).uuid),this.attenuationDistance!==void 0&&(rt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(rt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(rt.size=this.size),this.shadowSide!==null&&(rt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(rt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending$1&&(rt.blending=this.blending),this.side!==FrontSide$1&&(rt.side=this.side),this.vertexColors&&(rt.vertexColors=!0),this.opacity<1&&(rt.opacity=this.opacity),this.transparent===!0&&(rt.transparent=this.transparent),rt.depthFunc=this.depthFunc,rt.depthTest=this.depthTest,rt.depthWrite=this.depthWrite,rt.colorWrite=this.colorWrite,rt.stencilWrite=this.stencilWrite,rt.stencilWriteMask=this.stencilWriteMask,rt.stencilFunc=this.stencilFunc,rt.stencilRef=this.stencilRef,rt.stencilFuncMask=this.stencilFuncMask,rt.stencilFail=this.stencilFail,rt.stencilZFail=this.stencilZFail,rt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(rt.rotation=this.rotation),this.polygonOffset===!0&&(rt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(rt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(rt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(rt.linewidth=this.linewidth),this.dashSize!==void 0&&(rt.dashSize=this.dashSize),this.gapSize!==void 0&&(rt.gapSize=this.gapSize),this.scale!==void 0&&(rt.scale=this.scale),this.dithering===!0&&(rt.dithering=!0),this.alphaTest>0&&(rt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(rt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(rt.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(rt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(rt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(rt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(rt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(rt.flatShading=this.flatShading),this.visible===!1&&(rt.visible=!1),this.toneMapped===!1&&(rt.toneMapped=!1),this.fog===!1&&(rt.fog=!1),JSON.stringify(this.userData)!=="{}"&&(rt.userData=this.userData);function it(ot){const at=[];for(const st in ot){const lt=ot[st];delete lt.metadata,at.push(lt)}return at}if(nt){const ot=it(et.textures),at=it(et.images);ot.length>0&&(rt.textures=ot),at.length>0&&(rt.images=at)}return rt}clone(){return new this.constructor().copy(this)}copy(et){this.name=et.name,this.blending=et.blending,this.side=et.side,this.vertexColors=et.vertexColors,this.opacity=et.opacity,this.transparent=et.transparent,this.blendSrc=et.blendSrc,this.blendDst=et.blendDst,this.blendEquation=et.blendEquation,this.blendSrcAlpha=et.blendSrcAlpha,this.blendDstAlpha=et.blendDstAlpha,this.blendEquationAlpha=et.blendEquationAlpha,this.depthFunc=et.depthFunc,this.depthTest=et.depthTest,this.depthWrite=et.depthWrite,this.stencilWriteMask=et.stencilWriteMask,this.stencilFunc=et.stencilFunc,this.stencilRef=et.stencilRef,this.stencilFuncMask=et.stencilFuncMask,this.stencilFail=et.stencilFail,this.stencilZFail=et.stencilZFail,this.stencilZPass=et.stencilZPass,this.stencilWrite=et.stencilWrite;const nt=et.clippingPlanes;let rt=null;if(nt!==null){const it=nt.length;rt=new Array(it);for(let ot=0;ot!==it;++ot)rt[ot]=nt[ot].clone()}return this.clippingPlanes=rt,this.clipIntersection=et.clipIntersection,this.clipShadows=et.clipShadows,this.shadowSide=et.shadowSide,this.colorWrite=et.colorWrite,this.precision=et.precision,this.polygonOffset=et.polygonOffset,this.polygonOffsetFactor=et.polygonOffsetFactor,this.polygonOffsetUnits=et.polygonOffsetUnits,this.dithering=et.dithering,this.alphaTest=et.alphaTest,this.alphaToCoverage=et.alphaToCoverage,this.premultipliedAlpha=et.premultipliedAlpha,this.visible=et.visible,this.toneMapped=et.toneMapped,this.userData=JSON.parse(JSON.stringify(et.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(et){et===!0&&this.version++}}Material$1.prototype.isMaterial=!0;Material$1.fromType=function(){return null};class MeshBasicMaterial$1 extends Material$1{constructor(et){super(),this.type="MeshBasicMaterial",this.color=new Color$2(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation$1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}MeshBasicMaterial$1.prototype.isMeshBasicMaterial=!0;const _vector$9$1=new Vector3$1,_vector2$1$1=new Vector2$1;class BufferAttribute$1{constructor(et,nt,rt){if(Array.isArray(et))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=et,this.itemSize=nt,this.count=et!==void 0?et.length/nt:0,this.normalized=rt===!0,this.usage=StaticDrawUsage$1,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.name=et.name,this.array=new et.array.constructor(et.array),this.itemSize=et.itemSize,this.count=et.count,this.normalized=et.normalized,this.usage=et.usage,this}copyAt(et,nt,rt){et*=this.itemSize,rt*=nt.itemSize;for(let it=0,ot=this.itemSize;it<ot;it++)this.array[et+it]=nt.array[rt+it];return this}copyArray(et){return this.array.set(et),this}copyColorsArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",it),at=new Color$2),nt[rt++]=at.r,nt[rt++]=at.g,nt[rt++]=at.b}return this}copyVector2sArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",it),at=new Vector2$1),nt[rt++]=at.x,nt[rt++]=at.y}return this}copyVector3sArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",it),at=new Vector3$1),nt[rt++]=at.x,nt[rt++]=at.y,nt[rt++]=at.z}return this}copyVector4sArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",it),at=new Vector4$1),nt[rt++]=at.x,nt[rt++]=at.y,nt[rt++]=at.z,nt[rt++]=at.w}return this}applyMatrix3(et){if(this.itemSize===2)for(let nt=0,rt=this.count;nt<rt;nt++)_vector2$1$1.fromBufferAttribute(this,nt),_vector2$1$1.applyMatrix3(et),this.setXY(nt,_vector2$1$1.x,_vector2$1$1.y);else if(this.itemSize===3)for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9$1.fromBufferAttribute(this,nt),_vector$9$1.applyMatrix3(et),this.setXYZ(nt,_vector$9$1.x,_vector$9$1.y,_vector$9$1.z);return this}applyMatrix4(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9$1.fromBufferAttribute(this,nt),_vector$9$1.applyMatrix4(et),this.setXYZ(nt,_vector$9$1.x,_vector$9$1.y,_vector$9$1.z);return this}applyNormalMatrix(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9$1.fromBufferAttribute(this,nt),_vector$9$1.applyNormalMatrix(et),this.setXYZ(nt,_vector$9$1.x,_vector$9$1.y,_vector$9$1.z);return this}transformDirection(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9$1.fromBufferAttribute(this,nt),_vector$9$1.transformDirection(et),this.setXYZ(nt,_vector$9$1.x,_vector$9$1.y,_vector$9$1.z);return this}set(et,nt=0){return this.array.set(et,nt),this}getX(et){return this.array[et*this.itemSize]}setX(et,nt){return this.array[et*this.itemSize]=nt,this}getY(et){return this.array[et*this.itemSize+1]}setY(et,nt){return this.array[et*this.itemSize+1]=nt,this}getZ(et){return this.array[et*this.itemSize+2]}setZ(et,nt){return this.array[et*this.itemSize+2]=nt,this}getW(et){return this.array[et*this.itemSize+3]}setW(et,nt){return this.array[et*this.itemSize+3]=nt,this}setXY(et,nt,rt){return et*=this.itemSize,this.array[et+0]=nt,this.array[et+1]=rt,this}setXYZ(et,nt,rt,it){return et*=this.itemSize,this.array[et+0]=nt,this.array[et+1]=rt,this.array[et+2]=it,this}setXYZW(et,nt,rt,it,ot){return et*=this.itemSize,this.array[et+0]=nt,this.array[et+1]=rt,this.array[et+2]=it,this.array[et+3]=ot,this}onUpload(et){return this.onUploadCallback=et,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const et={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(et.name=this.name),this.usage!==StaticDrawUsage$1&&(et.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(et.updateRange=this.updateRange),et}}BufferAttribute$1.prototype.isBufferAttribute=!0;class Uint16BufferAttribute$1 extends BufferAttribute$1{constructor(et,nt,rt){super(new Uint16Array(et),nt,rt)}}class Uint32BufferAttribute$1 extends BufferAttribute$1{constructor(et,nt,rt){super(new Uint32Array(et),nt,rt)}}class Float16BufferAttribute$1 extends BufferAttribute$1{constructor(et,nt,rt){super(new Uint16Array(et),nt,rt)}}Float16BufferAttribute$1.prototype.isFloat16BufferAttribute=!0;class Float32BufferAttribute$1 extends BufferAttribute$1{constructor(et,nt,rt){super(new Float32Array(et),nt,rt)}}let _id$1$1=0;const _m1$3=new Matrix4$1,_obj$1=new Object3D$1,_offset$1=new Vector3$1,_box$1$2=new Box3$1,_boxMorphTargets$1=new Box3$1,_vector$8$1=new Vector3$1;class BufferGeometry$1 extends EventDispatcher$1{constructor(){super(),Object.defineProperty(this,"id",{value:_id$1$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(et){return Array.isArray(et)?this.index=new(arrayNeedsUint32$1(et)?Uint32BufferAttribute$1:Uint16BufferAttribute$1)(et,1):this.index=et,this}getAttribute(et){return this.attributes[et]}setAttribute(et,nt){return this.attributes[et]=nt,this}deleteAttribute(et){return delete this.attributes[et],this}hasAttribute(et){return this.attributes[et]!==void 0}addGroup(et,nt,rt=0){this.groups.push({start:et,count:nt,materialIndex:rt})}clearGroups(){this.groups=[]}setDrawRange(et,nt){this.drawRange.start=et,this.drawRange.count=nt}applyMatrix4(et){const nt=this.attributes.position;nt!==void 0&&(nt.applyMatrix4(et),nt.needsUpdate=!0);const rt=this.attributes.normal;if(rt!==void 0){const ot=new Matrix3$1().getNormalMatrix(et);rt.applyNormalMatrix(ot),rt.needsUpdate=!0}const it=this.attributes.tangent;return it!==void 0&&(it.transformDirection(et),it.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(et){return _m1$3.makeRotationFromQuaternion(et),this.applyMatrix4(_m1$3),this}rotateX(et){return _m1$3.makeRotationX(et),this.applyMatrix4(_m1$3),this}rotateY(et){return _m1$3.makeRotationY(et),this.applyMatrix4(_m1$3),this}rotateZ(et){return _m1$3.makeRotationZ(et),this.applyMatrix4(_m1$3),this}translate(et,nt,rt){return _m1$3.makeTranslation(et,nt,rt),this.applyMatrix4(_m1$3),this}scale(et,nt,rt){return _m1$3.makeScale(et,nt,rt),this.applyMatrix4(_m1$3),this}lookAt(et){return _obj$1.lookAt(et),_obj$1.updateMatrix(),this.applyMatrix4(_obj$1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset$1).negate(),this.translate(_offset$1.x,_offset$1.y,_offset$1.z),this}setFromPoints(et){const nt=[];for(let rt=0,it=et.length;rt<it;rt++){const ot=et[rt];nt.push(ot.x,ot.y,ot.z||0)}return this.setAttribute("position",new Float32BufferAttribute$1(nt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3$1);const et=this.attributes.position,nt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3$1(-1/0,-1/0,-1/0),new Vector3$1(1/0,1/0,1/0));return}if(et!==void 0){if(this.boundingBox.setFromBufferAttribute(et),nt)for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt];_box$1$2.setFromBufferAttribute(ot),this.morphTargetsRelative?(_vector$8$1.addVectors(this.boundingBox.min,_box$1$2.min),this.boundingBox.expandByPoint(_vector$8$1),_vector$8$1.addVectors(this.boundingBox.max,_box$1$2.max),this.boundingBox.expandByPoint(_vector$8$1)):(this.boundingBox.expandByPoint(_box$1$2.min),this.boundingBox.expandByPoint(_box$1$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1);const et=this.attributes.position,nt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3$1,1/0);return}if(et){const rt=this.boundingSphere.center;if(_box$1$2.setFromBufferAttribute(et),nt)for(let ot=0,at=nt.length;ot<at;ot++){const st=nt[ot];_boxMorphTargets$1.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8$1.addVectors(_box$1$2.min,_boxMorphTargets$1.min),_box$1$2.expandByPoint(_vector$8$1),_vector$8$1.addVectors(_box$1$2.max,_boxMorphTargets$1.max),_box$1$2.expandByPoint(_vector$8$1)):(_box$1$2.expandByPoint(_boxMorphTargets$1.min),_box$1$2.expandByPoint(_boxMorphTargets$1.max))}_box$1$2.getCenter(rt);let it=0;for(let ot=0,at=et.count;ot<at;ot++)_vector$8$1.fromBufferAttribute(et,ot),it=Math.max(it,rt.distanceToSquared(_vector$8$1));if(nt)for(let ot=0,at=nt.length;ot<at;ot++){const st=nt[ot],lt=this.morphTargetsRelative;for(let ct=0,ft=st.count;ct<ft;ct++)_vector$8$1.fromBufferAttribute(st,ct),lt&&(_offset$1.fromBufferAttribute(et,ct),_vector$8$1.add(_offset$1)),it=Math.max(it,rt.distanceToSquared(_vector$8$1))}this.boundingSphere.radius=Math.sqrt(it),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const et=this.index,nt=this.attributes;if(et===null||nt.position===void 0||nt.normal===void 0||nt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const rt=et.array,it=nt.position.array,ot=nt.normal.array,at=nt.uv.array,st=it.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute$1(new Float32Array(4*st),4));const lt=this.getAttribute("tangent").array,ct=[],ft=[];for(let Et=0;Et<st;Et++)ct[Et]=new Vector3$1,ft[Et]=new Vector3$1;const ut=new Vector3$1,dt=new Vector3$1,ht=new Vector3$1,pt=new Vector2$1,gt=new Vector2$1,mt=new Vector2$1,yt=new Vector3$1,bt=new Vector3$1;function St(Et,Rt,Tt){ut.fromArray(it,Et*3),dt.fromArray(it,Rt*3),ht.fromArray(it,Tt*3),pt.fromArray(at,Et*2),gt.fromArray(at,Rt*2),mt.fromArray(at,Tt*2),dt.sub(ut),ht.sub(ut),gt.sub(pt),mt.sub(pt);const It=1/(gt.x*mt.y-mt.x*gt.y);!isFinite(It)||(yt.copy(dt).multiplyScalar(mt.y).addScaledVector(ht,-gt.y).multiplyScalar(It),bt.copy(ht).multiplyScalar(gt.x).addScaledVector(dt,-mt.x).multiplyScalar(It),ct[Et].add(yt),ct[Rt].add(yt),ct[Tt].add(yt),ft[Et].add(bt),ft[Rt].add(bt),ft[Tt].add(bt))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:rt.length}]);for(let Et=0,Rt=xt.length;Et<Rt;++Et){const Tt=xt[Et],It=Tt.start,Pt=Tt.count;for(let Dt=It,Ct=It+Pt;Dt<Ct;Dt+=3)St(rt[Dt+0],rt[Dt+1],rt[Dt+2])}const vt=new Vector3$1,$t=new Vector3$1,zt=new Vector3$1,Nt=new Vector3$1;function wt(Et){zt.fromArray(ot,Et*3),Nt.copy(zt);const Rt=ct[Et];vt.copy(Rt),vt.sub(zt.multiplyScalar(zt.dot(Rt))).normalize(),$t.crossVectors(Nt,Rt);const It=$t.dot(ft[Et])<0?-1:1;lt[Et*4]=vt.x,lt[Et*4+1]=vt.y,lt[Et*4+2]=vt.z,lt[Et*4+3]=It}for(let Et=0,Rt=xt.length;Et<Rt;++Et){const Tt=xt[Et],It=Tt.start,Pt=Tt.count;for(let Dt=It,Ct=It+Pt;Dt<Ct;Dt+=3)wt(rt[Dt+0]),wt(rt[Dt+1]),wt(rt[Dt+2])}}computeVertexNormals(){const et=this.index,nt=this.getAttribute("position");if(nt!==void 0){let rt=this.getAttribute("normal");if(rt===void 0)rt=new BufferAttribute$1(new Float32Array(nt.count*3),3),this.setAttribute("normal",rt);else for(let dt=0,ht=rt.count;dt<ht;dt++)rt.setXYZ(dt,0,0,0);const it=new Vector3$1,ot=new Vector3$1,at=new Vector3$1,st=new Vector3$1,lt=new Vector3$1,ct=new Vector3$1,ft=new Vector3$1,ut=new Vector3$1;if(et)for(let dt=0,ht=et.count;dt<ht;dt+=3){const pt=et.getX(dt+0),gt=et.getX(dt+1),mt=et.getX(dt+2);it.fromBufferAttribute(nt,pt),ot.fromBufferAttribute(nt,gt),at.fromBufferAttribute(nt,mt),ft.subVectors(at,ot),ut.subVectors(it,ot),ft.cross(ut),st.fromBufferAttribute(rt,pt),lt.fromBufferAttribute(rt,gt),ct.fromBufferAttribute(rt,mt),st.add(ft),lt.add(ft),ct.add(ft),rt.setXYZ(pt,st.x,st.y,st.z),rt.setXYZ(gt,lt.x,lt.y,lt.z),rt.setXYZ(mt,ct.x,ct.y,ct.z)}else for(let dt=0,ht=nt.count;dt<ht;dt+=3)it.fromBufferAttribute(nt,dt+0),ot.fromBufferAttribute(nt,dt+1),at.fromBufferAttribute(nt,dt+2),ft.subVectors(at,ot),ut.subVectors(it,ot),ft.cross(ut),rt.setXYZ(dt+0,ft.x,ft.y,ft.z),rt.setXYZ(dt+1,ft.x,ft.y,ft.z),rt.setXYZ(dt+2,ft.x,ft.y,ft.z);this.normalizeNormals(),rt.needsUpdate=!0}}merge(et,nt){if(!(et&&et.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",et);return}nt===void 0&&(nt=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const rt=this.attributes;for(const it in rt){if(et.attributes[it]===void 0)continue;const at=rt[it].array,st=et.attributes[it],lt=st.array,ct=st.itemSize*nt,ft=Math.min(lt.length,at.length-ct);for(let ut=0,dt=ct;ut<ft;ut++,dt++)at[dt]=lt[ut]}return this}normalizeNormals(){const et=this.attributes.normal;for(let nt=0,rt=et.count;nt<rt;nt++)_vector$8$1.fromBufferAttribute(et,nt),_vector$8$1.normalize(),et.setXYZ(nt,_vector$8$1.x,_vector$8$1.y,_vector$8$1.z)}toNonIndexed(){function et(st,lt){const ct=st.array,ft=st.itemSize,ut=st.normalized,dt=new ct.constructor(lt.length*ft);let ht=0,pt=0;for(let gt=0,mt=lt.length;gt<mt;gt++){st.isInterleavedBufferAttribute?ht=lt[gt]*st.data.stride+st.offset:ht=lt[gt]*ft;for(let yt=0;yt<ft;yt++)dt[pt++]=ct[ht++]}return new BufferAttribute$1(dt,ft,ut)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const nt=new BufferGeometry$1,rt=this.index.array,it=this.attributes;for(const st in it){const lt=it[st],ct=et(lt,rt);nt.setAttribute(st,ct)}const ot=this.morphAttributes;for(const st in ot){const lt=[],ct=ot[st];for(let ft=0,ut=ct.length;ft<ut;ft++){const dt=ct[ft],ht=et(dt,rt);lt.push(ht)}nt.morphAttributes[st]=lt}nt.morphTargetsRelative=this.morphTargetsRelative;const at=this.groups;for(let st=0,lt=at.length;st<lt;st++){const ct=at[st];nt.addGroup(ct.start,ct.count,ct.materialIndex)}return nt}toJSON(){const et={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(et.uuid=this.uuid,et.type=this.type,this.name!==""&&(et.name=this.name),Object.keys(this.userData).length>0&&(et.userData=this.userData),this.parameters!==void 0){const lt=this.parameters;for(const ct in lt)lt[ct]!==void 0&&(et[ct]=lt[ct]);return et}et.data={attributes:{}};const nt=this.index;nt!==null&&(et.data.index={type:nt.array.constructor.name,array:Array.prototype.slice.call(nt.array)});const rt=this.attributes;for(const lt in rt){const ct=rt[lt];et.data.attributes[lt]=ct.toJSON(et.data)}const it={};let ot=!1;for(const lt in this.morphAttributes){const ct=this.morphAttributes[lt],ft=[];for(let ut=0,dt=ct.length;ut<dt;ut++){const ht=ct[ut];ft.push(ht.toJSON(et.data))}ft.length>0&&(it[lt]=ft,ot=!0)}ot&&(et.data.morphAttributes=it,et.data.morphTargetsRelative=this.morphTargetsRelative);const at=this.groups;at.length>0&&(et.data.groups=JSON.parse(JSON.stringify(at)));const st=this.boundingSphere;return st!==null&&(et.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),et}clone(){return new this.constructor().copy(this)}copy(et){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const nt={};this.name=et.name;const rt=et.index;rt!==null&&this.setIndex(rt.clone(nt));const it=et.attributes;for(const ct in it){const ft=it[ct];this.setAttribute(ct,ft.clone(nt))}const ot=et.morphAttributes;for(const ct in ot){const ft=[],ut=ot[ct];for(let dt=0,ht=ut.length;dt<ht;dt++)ft.push(ut[dt].clone(nt));this.morphAttributes[ct]=ft}this.morphTargetsRelative=et.morphTargetsRelative;const at=et.groups;for(let ct=0,ft=at.length;ct<ft;ct++){const ut=at[ct];this.addGroup(ut.start,ut.count,ut.materialIndex)}const st=et.boundingBox;st!==null&&(this.boundingBox=st.clone());const lt=et.boundingSphere;return lt!==null&&(this.boundingSphere=lt.clone()),this.drawRange.start=et.drawRange.start,this.drawRange.count=et.drawRange.count,this.userData=et.userData,et.parameters!==void 0&&(this.parameters=Object.assign({},et.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}BufferGeometry$1.prototype.isBufferGeometry=!0;const _inverseMatrix$2$1=new Matrix4$1,_ray$2$1=new Ray$1,_sphere$3$1=new Sphere$1,_vA$1$1=new Vector3$1,_vB$1$1=new Vector3$1,_vC$1$1=new Vector3$1,_tempA$1=new Vector3$1,_tempB$1=new Vector3$1,_tempC$1=new Vector3$1,_morphA$1=new Vector3$1,_morphB$1=new Vector3$1,_morphC$1=new Vector3$1,_uvA$1$1=new Vector2$1,_uvB$1$1=new Vector2$1,_uvC$1$1=new Vector2$1,_intersectionPoint$1=new Vector3$1,_intersectionPointWorld$1=new Vector3$1;class Mesh$1 extends Object3D$1{constructor(et=new BufferGeometry$1,nt=new MeshBasicMaterial$1){super(),this.type="Mesh",this.geometry=et,this.material=nt,this.updateMorphTargets()}copy(et){return super.copy(et),et.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=et.morphTargetInfluences.slice()),et.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},et.morphTargetDictionary)),this.material=et.material,this.geometry=et.geometry,this}updateMorphTargets(){const et=this.geometry;if(et.isBufferGeometry){const nt=et.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}else{const nt=et.morphTargets;nt!==void 0&&nt.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(et,nt){const rt=this.geometry,it=this.material,ot=this.matrixWorld;if(it===void 0||(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$3$1.copy(rt.boundingSphere),_sphere$3$1.applyMatrix4(ot),et.ray.intersectsSphere(_sphere$3$1)===!1)||(_inverseMatrix$2$1.copy(ot).invert(),_ray$2$1.copy(et.ray).applyMatrix4(_inverseMatrix$2$1),rt.boundingBox!==null&&_ray$2$1.intersectsBox(rt.boundingBox)===!1))return;let at;if(rt.isBufferGeometry){const st=rt.index,lt=rt.attributes.position,ct=rt.morphAttributes.position,ft=rt.morphTargetsRelative,ut=rt.attributes.uv,dt=rt.attributes.uv2,ht=rt.groups,pt=rt.drawRange;if(st!==null)if(Array.isArray(it))for(let gt=0,mt=ht.length;gt<mt;gt++){const yt=ht[gt],bt=it[yt.materialIndex],St=Math.max(yt.start,pt.start),xt=Math.min(st.count,Math.min(yt.start+yt.count,pt.start+pt.count));for(let vt=St,$t=xt;vt<$t;vt+=3){const zt=st.getX(vt),Nt=st.getX(vt+1),wt=st.getX(vt+2);at=checkBufferGeometryIntersection$1(this,bt,et,_ray$2$1,lt,ct,ft,ut,dt,zt,Nt,wt),at&&(at.faceIndex=Math.floor(vt/3),at.face.materialIndex=yt.materialIndex,nt.push(at))}}else{const gt=Math.max(0,pt.start),mt=Math.min(st.count,pt.start+pt.count);for(let yt=gt,bt=mt;yt<bt;yt+=3){const St=st.getX(yt),xt=st.getX(yt+1),vt=st.getX(yt+2);at=checkBufferGeometryIntersection$1(this,it,et,_ray$2$1,lt,ct,ft,ut,dt,St,xt,vt),at&&(at.faceIndex=Math.floor(yt/3),nt.push(at))}}else if(lt!==void 0)if(Array.isArray(it))for(let gt=0,mt=ht.length;gt<mt;gt++){const yt=ht[gt],bt=it[yt.materialIndex],St=Math.max(yt.start,pt.start),xt=Math.min(lt.count,Math.min(yt.start+yt.count,pt.start+pt.count));for(let vt=St,$t=xt;vt<$t;vt+=3){const zt=vt,Nt=vt+1,wt=vt+2;at=checkBufferGeometryIntersection$1(this,bt,et,_ray$2$1,lt,ct,ft,ut,dt,zt,Nt,wt),at&&(at.faceIndex=Math.floor(vt/3),at.face.materialIndex=yt.materialIndex,nt.push(at))}}else{const gt=Math.max(0,pt.start),mt=Math.min(lt.count,pt.start+pt.count);for(let yt=gt,bt=mt;yt<bt;yt+=3){const St=yt,xt=yt+1,vt=yt+2;at=checkBufferGeometryIntersection$1(this,it,et,_ray$2$1,lt,ct,ft,ut,dt,St,xt,vt),at&&(at.faceIndex=Math.floor(yt/3),nt.push(at))}}}else rt.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Mesh$1.prototype.isMesh=!0;function checkIntersection$1(tt,et,nt,rt,it,ot,at,st){let lt;if(et.side===BackSide$1?lt=rt.intersectTriangle(at,ot,it,!0,st):lt=rt.intersectTriangle(it,ot,at,et.side!==DoubleSide$1,st),lt===null)return null;_intersectionPointWorld$1.copy(st),_intersectionPointWorld$1.applyMatrix4(tt.matrixWorld);const ct=nt.ray.origin.distanceTo(_intersectionPointWorld$1);return ct<nt.near||ct>nt.far?null:{distance:ct,point:_intersectionPointWorld$1.clone(),object:tt}}function checkBufferGeometryIntersection$1(tt,et,nt,rt,it,ot,at,st,lt,ct,ft,ut){_vA$1$1.fromBufferAttribute(it,ct),_vB$1$1.fromBufferAttribute(it,ft),_vC$1$1.fromBufferAttribute(it,ut);const dt=tt.morphTargetInfluences;if(ot&&dt){_morphA$1.set(0,0,0),_morphB$1.set(0,0,0),_morphC$1.set(0,0,0);for(let pt=0,gt=ot.length;pt<gt;pt++){const mt=dt[pt],yt=ot[pt];mt!==0&&(_tempA$1.fromBufferAttribute(yt,ct),_tempB$1.fromBufferAttribute(yt,ft),_tempC$1.fromBufferAttribute(yt,ut),at?(_morphA$1.addScaledVector(_tempA$1,mt),_morphB$1.addScaledVector(_tempB$1,mt),_morphC$1.addScaledVector(_tempC$1,mt)):(_morphA$1.addScaledVector(_tempA$1.sub(_vA$1$1),mt),_morphB$1.addScaledVector(_tempB$1.sub(_vB$1$1),mt),_morphC$1.addScaledVector(_tempC$1.sub(_vC$1$1),mt)))}_vA$1$1.add(_morphA$1),_vB$1$1.add(_morphB$1),_vC$1$1.add(_morphC$1)}tt.isSkinnedMesh&&(tt.boneTransform(ct,_vA$1$1),tt.boneTransform(ft,_vB$1$1),tt.boneTransform(ut,_vC$1$1));const ht=checkIntersection$1(tt,et,nt,rt,_vA$1$1,_vB$1$1,_vC$1$1,_intersectionPoint$1);if(ht){st&&(_uvA$1$1.fromBufferAttribute(st,ct),_uvB$1$1.fromBufferAttribute(st,ft),_uvC$1$1.fromBufferAttribute(st,ut),ht.uv=Triangle$1.getUV(_intersectionPoint$1,_vA$1$1,_vB$1$1,_vC$1$1,_uvA$1$1,_uvB$1$1,_uvC$1$1,new Vector2$1)),lt&&(_uvA$1$1.fromBufferAttribute(lt,ct),_uvB$1$1.fromBufferAttribute(lt,ft),_uvC$1$1.fromBufferAttribute(lt,ut),ht.uv2=Triangle$1.getUV(_intersectionPoint$1,_vA$1$1,_vB$1$1,_vC$1$1,_uvA$1$1,_uvB$1$1,_uvC$1$1,new Vector2$1));const pt={a:ct,b:ft,c:ut,normal:new Vector3$1,materialIndex:0};Triangle$1.getNormal(_vA$1$1,_vB$1$1,_vC$1$1,pt.normal),ht.face=pt}return ht}class BoxGeometry$1 extends BufferGeometry$1{constructor(et=1,nt=1,rt=1,it=1,ot=1,at=1){super(),this.type="BoxGeometry",this.parameters={width:et,height:nt,depth:rt,widthSegments:it,heightSegments:ot,depthSegments:at};const st=this;it=Math.floor(it),ot=Math.floor(ot),at=Math.floor(at);const lt=[],ct=[],ft=[],ut=[];let dt=0,ht=0;pt("z","y","x",-1,-1,rt,nt,et,at,ot,0),pt("z","y","x",1,-1,rt,nt,-et,at,ot,1),pt("x","z","y",1,1,et,rt,nt,it,at,2),pt("x","z","y",1,-1,et,rt,-nt,it,at,3),pt("x","y","z",1,-1,et,nt,rt,it,ot,4),pt("x","y","z",-1,-1,et,nt,-rt,it,ot,5),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute$1(ct,3)),this.setAttribute("normal",new Float32BufferAttribute$1(ft,3)),this.setAttribute("uv",new Float32BufferAttribute$1(ut,2));function pt(gt,mt,yt,bt,St,xt,vt,$t,zt,Nt,wt){const Et=xt/zt,Rt=vt/Nt,Tt=xt/2,It=vt/2,Pt=$t/2,Dt=zt+1,Ct=Nt+1;let Ot=0,Ut=0;const At=new Vector3$1;for(let Mt=0;Mt<Ct;Mt++){const jt=Mt*Rt-It;for(let kt=0;kt<Dt;kt++){const Gt=kt*Et-Tt;At[gt]=Gt*bt,At[mt]=jt*St,At[yt]=Pt,ct.push(At.x,At.y,At.z),At[gt]=0,At[mt]=0,At[yt]=$t>0?1:-1,ft.push(At.x,At.y,At.z),ut.push(kt/zt),ut.push(1-Mt/Nt),Ot+=1}}for(let Mt=0;Mt<Nt;Mt++)for(let jt=0;jt<zt;jt++){const kt=dt+jt+Dt*Mt,Gt=dt+jt+Dt*(Mt+1),Ht=dt+(jt+1)+Dt*(Mt+1),Jt=dt+(jt+1)+Dt*Mt;lt.push(kt,Gt,Jt),lt.push(Gt,Ht,Jt),Ut+=6}st.addGroup(ht,Ut,wt),ht+=Ut,dt+=Ot}}static fromJSON(et){return new BoxGeometry$1(et.width,et.height,et.depth,et.widthSegments,et.heightSegments,et.depthSegments)}}function cloneUniforms$1(tt){const et={};for(const nt in tt){et[nt]={};for(const rt in tt[nt]){const it=tt[nt][rt];it&&(it.isColor||it.isMatrix3||it.isMatrix4||it.isVector2||it.isVector3||it.isVector4||it.isTexture||it.isQuaternion)?et[nt][rt]=it.clone():Array.isArray(it)?et[nt][rt]=it.slice():et[nt][rt]=it}}return et}function mergeUniforms$1(tt){const et={};for(let nt=0;nt<tt.length;nt++){const rt=cloneUniforms$1(tt[nt]);for(const it in rt)et[it]=rt[it]}return et}const UniformsUtils$1={clone:cloneUniforms$1,merge:mergeUniforms$1};var default_vertex$1=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment$1=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial$1 extends Material$1{constructor(et){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=default_vertex$1,this.fragmentShader=default_fragment$1,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,et!==void 0&&(et.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(et))}copy(et){return super.copy(et),this.fragmentShader=et.fragmentShader,this.vertexShader=et.vertexShader,this.uniforms=cloneUniforms$1(et.uniforms),this.defines=Object.assign({},et.defines),this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.fog=et.fog,this.lights=et.lights,this.clipping=et.clipping,this.extensions=Object.assign({},et.extensions),this.glslVersion=et.glslVersion,this}toJSON(et){const nt=super.toJSON(et);nt.glslVersion=this.glslVersion,nt.uniforms={};for(const it in this.uniforms){const at=this.uniforms[it].value;at&&at.isTexture?nt.uniforms[it]={type:"t",value:at.toJSON(et).uuid}:at&&at.isColor?nt.uniforms[it]={type:"c",value:at.getHex()}:at&&at.isVector2?nt.uniforms[it]={type:"v2",value:at.toArray()}:at&&at.isVector3?nt.uniforms[it]={type:"v3",value:at.toArray()}:at&&at.isVector4?nt.uniforms[it]={type:"v4",value:at.toArray()}:at&&at.isMatrix3?nt.uniforms[it]={type:"m3",value:at.toArray()}:at&&at.isMatrix4?nt.uniforms[it]={type:"m4",value:at.toArray()}:nt.uniforms[it]={value:at}}Object.keys(this.defines).length>0&&(nt.defines=this.defines),nt.vertexShader=this.vertexShader,nt.fragmentShader=this.fragmentShader;const rt={};for(const it in this.extensions)this.extensions[it]===!0&&(rt[it]=!0);return Object.keys(rt).length>0&&(nt.extensions=rt),nt}}ShaderMaterial$1.prototype.isShaderMaterial=!0;class Camera$1 extends Object3D$1{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Matrix4$1,this.projectionMatrix=new Matrix4$1,this.projectionMatrixInverse=new Matrix4$1}copy(et,nt){return super.copy(et,nt),this.matrixWorldInverse.copy(et.matrixWorldInverse),this.projectionMatrix.copy(et.projectionMatrix),this.projectionMatrixInverse.copy(et.projectionMatrixInverse),this}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const nt=this.matrixWorld.elements;return et.set(-nt[8],-nt[9],-nt[10]).normalize()}updateMatrixWorld(et){super.updateMatrixWorld(et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(et,nt){super.updateWorldMatrix(et,nt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Camera$1.prototype.isCamera=!0;class PerspectiveCamera$1 extends Camera$1{constructor(et=50,nt=1,rt=.1,it=2e3){super(),this.type="PerspectiveCamera",this.fov=et,this.zoom=1,this.near=rt,this.far=it,this.focus=10,this.aspect=nt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(et,nt){return super.copy(et,nt),this.fov=et.fov,this.zoom=et.zoom,this.near=et.near,this.far=et.far,this.focus=et.focus,this.aspect=et.aspect,this.view=et.view===null?null:Object.assign({},et.view),this.filmGauge=et.filmGauge,this.filmOffset=et.filmOffset,this}setFocalLength(et){const nt=.5*this.getFilmHeight()/et;this.fov=RAD2DEG$1*2*Math.atan(nt),this.updateProjectionMatrix()}getFocalLength(){const et=Math.tan(DEG2RAD$1*.5*this.fov);return .5*this.getFilmHeight()/et}getEffectiveFOV(){return RAD2DEG$1*2*Math.atan(Math.tan(DEG2RAD$1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(et,nt,rt,it,ot,at){this.aspect=et/nt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=nt,this.view.offsetX=rt,this.view.offsetY=it,this.view.width=ot,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=this.near;let nt=et*Math.tan(DEG2RAD$1*.5*this.fov)/this.zoom,rt=2*nt,it=this.aspect*rt,ot=-.5*it;const at=this.view;if(this.view!==null&&this.view.enabled){const lt=at.fullWidth,ct=at.fullHeight;ot+=at.offsetX*it/lt,nt-=at.offsetY*rt/ct,it*=at.width/lt,rt*=at.height/ct}const st=this.filmOffset;st!==0&&(ot+=et*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(ot,ot+it,nt,nt-rt,et,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const nt=super.toJSON(et);return nt.object.fov=this.fov,nt.object.zoom=this.zoom,nt.object.near=this.near,nt.object.far=this.far,nt.object.focus=this.focus,nt.object.aspect=this.aspect,this.view!==null&&(nt.object.view=Object.assign({},this.view)),nt.object.filmGauge=this.filmGauge,nt.object.filmOffset=this.filmOffset,nt}}PerspectiveCamera$1.prototype.isPerspectiveCamera=!0;const fov$1=90,aspect$1=1;class CubeCamera$1 extends Object3D$1{constructor(et,nt,rt){if(super(),this.type="CubeCamera",rt.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=rt;const it=new PerspectiveCamera$1(fov$1,aspect$1,et,nt);it.layers=this.layers,it.up.set(0,-1,0),it.lookAt(new Vector3$1(1,0,0)),this.add(it);const ot=new PerspectiveCamera$1(fov$1,aspect$1,et,nt);ot.layers=this.layers,ot.up.set(0,-1,0),ot.lookAt(new Vector3$1(-1,0,0)),this.add(ot);const at=new PerspectiveCamera$1(fov$1,aspect$1,et,nt);at.layers=this.layers,at.up.set(0,0,1),at.lookAt(new Vector3$1(0,1,0)),this.add(at);const st=new PerspectiveCamera$1(fov$1,aspect$1,et,nt);st.layers=this.layers,st.up.set(0,0,-1),st.lookAt(new Vector3$1(0,-1,0)),this.add(st);const lt=new PerspectiveCamera$1(fov$1,aspect$1,et,nt);lt.layers=this.layers,lt.up.set(0,-1,0),lt.lookAt(new Vector3$1(0,0,1)),this.add(lt);const ct=new PerspectiveCamera$1(fov$1,aspect$1,et,nt);ct.layers=this.layers,ct.up.set(0,-1,0),ct.lookAt(new Vector3$1(0,0,-1)),this.add(ct)}update(et,nt){this.parent===null&&this.updateMatrixWorld();const rt=this.renderTarget,[it,ot,at,st,lt,ct]=this.children,ft=et.getRenderTarget(),ut=et.toneMapping,dt=et.xr.enabled;et.toneMapping=NoToneMapping$1,et.xr.enabled=!1;const ht=rt.texture.generateMipmaps;rt.texture.generateMipmaps=!1,et.setRenderTarget(rt,0),et.render(nt,it),et.setRenderTarget(rt,1),et.render(nt,ot),et.setRenderTarget(rt,2),et.render(nt,at),et.setRenderTarget(rt,3),et.render(nt,st),et.setRenderTarget(rt,4),et.render(nt,lt),rt.texture.generateMipmaps=ht,et.setRenderTarget(rt,5),et.render(nt,ct),et.setRenderTarget(ft),et.toneMapping=ut,et.xr.enabled=dt,rt.texture.needsPMREMUpdate=!0}}class CubeTexture$1 extends Texture$1{constructor(et,nt,rt,it,ot,at,st,lt,ct,ft){et=et!==void 0?et:[],nt=nt!==void 0?nt:CubeReflectionMapping$1,super(et,nt,rt,it,ot,at,st,lt,ct,ft),this.flipY=!1}get images(){return this.image}set images(et){this.image=et}}CubeTexture$1.prototype.isCubeTexture=!0;class WebGLCubeRenderTarget$1 extends WebGLRenderTarget$1{constructor(et,nt={}){super(et,et,nt);const rt={width:et,height:et,depth:1},it=[rt,rt,rt,rt,rt,rt];this.texture=new CubeTexture$1(it,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=nt.generateMipmaps!==void 0?nt.generateMipmaps:!1,this.texture.minFilter=nt.minFilter!==void 0?nt.minFilter:LinearFilter$1}fromEquirectangularTexture(et,nt){this.texture.type=nt.type,this.texture.encoding=nt.encoding,this.texture.generateMipmaps=nt.generateMipmaps,this.texture.minFilter=nt.minFilter,this.texture.magFilter=nt.magFilter;const rt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},it=new BoxGeometry$1(5,5,5),ot=new ShaderMaterial$1({name:"CubemapFromEquirect",uniforms:cloneUniforms$1(rt.uniforms),vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader,side:BackSide$1,blending:NoBlending$1});ot.uniforms.tEquirect.value=nt;const at=new Mesh$1(it,ot),st=nt.minFilter;return nt.minFilter===LinearMipmapLinearFilter$1&&(nt.minFilter=LinearFilter$1),new CubeCamera$1(1,10,this).update(et,at),nt.minFilter=st,at.geometry.dispose(),at.material.dispose(),this}clear(et,nt,rt,it){const ot=et.getRenderTarget();for(let at=0;at<6;at++)et.setRenderTarget(this,at),et.clear(nt,rt,it);et.setRenderTarget(ot)}}WebGLCubeRenderTarget$1.prototype.isWebGLCubeRenderTarget=!0;const _vector1$1=new Vector3$1,_vector2$2=new Vector3$1,_normalMatrix$1=new Matrix3$1;class Plane$1{constructor(et=new Vector3$1(1,0,0),nt=0){this.normal=et,this.constant=nt}set(et,nt){return this.normal.copy(et),this.constant=nt,this}setComponents(et,nt,rt,it){return this.normal.set(et,nt,rt),this.constant=it,this}setFromNormalAndCoplanarPoint(et,nt){return this.normal.copy(et),this.constant=-nt.dot(this.normal),this}setFromCoplanarPoints(et,nt,rt){const it=_vector1$1.subVectors(rt,nt).cross(_vector2$2.subVectors(et,nt)).normalize();return this.setFromNormalAndCoplanarPoint(it,et),this}copy(et){return this.normal.copy(et.normal),this.constant=et.constant,this}normalize(){const et=1/this.normal.length();return this.normal.multiplyScalar(et),this.constant*=et,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(et){return this.normal.dot(et)+this.constant}distanceToSphere(et){return this.distanceToPoint(et.center)-et.radius}projectPoint(et,nt){return nt.copy(this.normal).multiplyScalar(-this.distanceToPoint(et)).add(et)}intersectLine(et,nt){const rt=et.delta(_vector1$1),it=this.normal.dot(rt);if(it===0)return this.distanceToPoint(et.start)===0?nt.copy(et.start):null;const ot=-(et.start.dot(this.normal)+this.constant)/it;return ot<0||ot>1?null:nt.copy(rt).multiplyScalar(ot).add(et.start)}intersectsLine(et){const nt=this.distanceToPoint(et.start),rt=this.distanceToPoint(et.end);return nt<0&&rt>0||rt<0&&nt>0}intersectsBox(et){return et.intersectsPlane(this)}intersectsSphere(et){return et.intersectsPlane(this)}coplanarPoint(et){return et.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(et,nt){const rt=nt||_normalMatrix$1.getNormalMatrix(et),it=this.coplanarPoint(_vector1$1).applyMatrix4(et),ot=this.normal.applyMatrix3(rt).normalize();return this.constant=-it.dot(ot),this}translate(et){return this.constant-=et.dot(this.normal),this}equals(et){return et.normal.equals(this.normal)&&et.constant===this.constant}clone(){return new this.constructor().copy(this)}}Plane$1.prototype.isPlane=!0;const _sphere$2$1=new Sphere$1,_vector$7$1=new Vector3$1;class Frustum$1{constructor(et=new Plane$1,nt=new Plane$1,rt=new Plane$1,it=new Plane$1,ot=new Plane$1,at=new Plane$1){this.planes=[et,nt,rt,it,ot,at]}set(et,nt,rt,it,ot,at){const st=this.planes;return st[0].copy(et),st[1].copy(nt),st[2].copy(rt),st[3].copy(it),st[4].copy(ot),st[5].copy(at),this}copy(et){const nt=this.planes;for(let rt=0;rt<6;rt++)nt[rt].copy(et.planes[rt]);return this}setFromProjectionMatrix(et){const nt=this.planes,rt=et.elements,it=rt[0],ot=rt[1],at=rt[2],st=rt[3],lt=rt[4],ct=rt[5],ft=rt[6],ut=rt[7],dt=rt[8],ht=rt[9],pt=rt[10],gt=rt[11],mt=rt[12],yt=rt[13],bt=rt[14],St=rt[15];return nt[0].setComponents(st-it,ut-lt,gt-dt,St-mt).normalize(),nt[1].setComponents(st+it,ut+lt,gt+dt,St+mt).normalize(),nt[2].setComponents(st+ot,ut+ct,gt+ht,St+yt).normalize(),nt[3].setComponents(st-ot,ut-ct,gt-ht,St-yt).normalize(),nt[4].setComponents(st-at,ut-ft,gt-pt,St-bt).normalize(),nt[5].setComponents(st+at,ut+ft,gt+pt,St+bt).normalize(),this}intersectsObject(et){const nt=et.geometry;return nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$2$1.copy(nt.boundingSphere).applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$2$1)}intersectsSprite(et){return _sphere$2$1.center.set(0,0,0),_sphere$2$1.radius=.7071067811865476,_sphere$2$1.applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$2$1)}intersectsSphere(et){const nt=this.planes,rt=et.center,it=-et.radius;for(let ot=0;ot<6;ot++)if(nt[ot].distanceToPoint(rt)<it)return!1;return!0}intersectsBox(et){const nt=this.planes;for(let rt=0;rt<6;rt++){const it=nt[rt];if(_vector$7$1.x=it.normal.x>0?et.max.x:et.min.x,_vector$7$1.y=it.normal.y>0?et.max.y:et.min.y,_vector$7$1.z=it.normal.z>0?et.max.z:et.min.z,it.distanceToPoint(_vector$7$1)<0)return!1}return!0}containsPoint(et){const nt=this.planes;for(let rt=0;rt<6;rt++)if(nt[rt].distanceToPoint(et)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation$1(){let tt=null,et=!1,nt=null,rt=null;function it(ot,at){nt(ot,at),rt=tt.requestAnimationFrame(it)}return{start:function(){et!==!0&&nt!==null&&(rt=tt.requestAnimationFrame(it),et=!0)},stop:function(){tt.cancelAnimationFrame(rt),et=!1},setAnimationLoop:function(ot){nt=ot},setContext:function(ot){tt=ot}}}function WebGLAttributes$1(tt,et){const nt=et.isWebGL2,rt=new WeakMap;function it(ct,ft){const ut=ct.array,dt=ct.usage,ht=tt.createBuffer();tt.bindBuffer(ft,ht),tt.bufferData(ft,ut,dt),ct.onUploadCallback();let pt;if(ut instanceof Float32Array)pt=5126;else if(ut instanceof Uint16Array)if(ct.isFloat16BufferAttribute)if(nt)pt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else pt=5123;else if(ut instanceof Int16Array)pt=5122;else if(ut instanceof Uint32Array)pt=5125;else if(ut instanceof Int32Array)pt=5124;else if(ut instanceof Int8Array)pt=5120;else if(ut instanceof Uint8Array)pt=5121;else if(ut instanceof Uint8ClampedArray)pt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ut);return{buffer:ht,type:pt,bytesPerElement:ut.BYTES_PER_ELEMENT,version:ct.version}}function ot(ct,ft,ut){const dt=ft.array,ht=ft.updateRange;tt.bindBuffer(ut,ct),ht.count===-1?tt.bufferSubData(ut,0,dt):(nt?tt.bufferSubData(ut,ht.offset*dt.BYTES_PER_ELEMENT,dt,ht.offset,ht.count):tt.bufferSubData(ut,ht.offset*dt.BYTES_PER_ELEMENT,dt.subarray(ht.offset,ht.offset+ht.count)),ht.count=-1)}function at(ct){return ct.isInterleavedBufferAttribute&&(ct=ct.data),rt.get(ct)}function st(ct){ct.isInterleavedBufferAttribute&&(ct=ct.data);const ft=rt.get(ct);ft&&(tt.deleteBuffer(ft.buffer),rt.delete(ct))}function lt(ct,ft){if(ct.isGLBufferAttribute){const dt=rt.get(ct);(!dt||dt.version<ct.version)&&rt.set(ct,{buffer:ct.buffer,type:ct.type,bytesPerElement:ct.elementSize,version:ct.version});return}ct.isInterleavedBufferAttribute&&(ct=ct.data);const ut=rt.get(ct);ut===void 0?rt.set(ct,it(ct,ft)):ut.version<ct.version&&(ot(ut.buffer,ct,ft),ut.version=ct.version)}return{get:at,remove:st,update:lt}}class PlaneGeometry$1 extends BufferGeometry$1{constructor(et=1,nt=1,rt=1,it=1){super(),this.type="PlaneGeometry",this.parameters={width:et,height:nt,widthSegments:rt,heightSegments:it};const ot=et/2,at=nt/2,st=Math.floor(rt),lt=Math.floor(it),ct=st+1,ft=lt+1,ut=et/st,dt=nt/lt,ht=[],pt=[],gt=[],mt=[];for(let yt=0;yt<ft;yt++){const bt=yt*dt-at;for(let St=0;St<ct;St++){const xt=St*ut-ot;pt.push(xt,-bt,0),gt.push(0,0,1),mt.push(St/st),mt.push(1-yt/lt)}}for(let yt=0;yt<lt;yt++)for(let bt=0;bt<st;bt++){const St=bt+ct*yt,xt=bt+ct*(yt+1),vt=bt+1+ct*(yt+1),$t=bt+1+ct*yt;ht.push(St,xt,$t),ht.push(xt,vt,$t)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute$1(pt,3)),this.setAttribute("normal",new Float32BufferAttribute$1(gt,3)),this.setAttribute("uv",new Float32BufferAttribute$1(mt,2))}static fromJSON(et){return new PlaneGeometry$1(et.width,et.height,et.widthSegments,et.heightSegments)}}var alphamap_fragment$1=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment$1=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment$1=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment$1=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment$1=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment$1=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex$1="vec3 transformed = vec3( position );",beginnormal_vertex$1=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs$1=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bumpmap_pars_fragment$1=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment$1=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment$1=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex$1=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex$1=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment$1=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment$1=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex$1=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex$1=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common$1=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment$1=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex$1=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex$1=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex$1=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment$1=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment$1=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment$1="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment$1=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment$1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment$1=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment$1=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex$1=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex$1=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex$1=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex$1=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment$1=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment$1=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment$1=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment$1=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment$1=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex$1=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin$1=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment$1=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment$1=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment$1=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment$1=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment$1=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment$1=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment$1=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin$1=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps$1=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end$1=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment$1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment$1=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex$1=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex$1=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment$1=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment$1=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment$1=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment$1=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment$1=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment$1=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex$1=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex$1=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex$1=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex$1=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin$1=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps$1=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment$1=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex$1=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex$1=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment$1=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin$1=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps$1=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment$1=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,output_fragment$1=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing$1=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment$1=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex$1=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment$1=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment$1=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment$1=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment$1=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment$1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex$1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex$1=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment$1=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex$1=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex$1=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex$1=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex$1=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment$1=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment$1=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment$1=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment$1=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment$1=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,transmission_pars_fragment$1=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment$1=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex$1=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex$1=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment$1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex$1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex$1=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex$1=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g$1=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g$1=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f$1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f$1=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e$1=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e$1=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d$1=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d$1=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c$1=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c$1=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b$1=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b$1=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a$1=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a$1=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9$1=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9$1=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8$1=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8$1=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7$1=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7$1=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6$1=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6$1=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5$1=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5$1=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4$1=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4$1=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3$1=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2$1=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2$1=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk$1={alphamap_fragment:alphamap_fragment$1,alphamap_pars_fragment:alphamap_pars_fragment$1,alphatest_fragment:alphatest_fragment$1,alphatest_pars_fragment:alphatest_pars_fragment$1,aomap_fragment:aomap_fragment$1,aomap_pars_fragment:aomap_pars_fragment$1,begin_vertex:begin_vertex$1,beginnormal_vertex:beginnormal_vertex$1,bsdfs:bsdfs$1,bumpmap_pars_fragment:bumpmap_pars_fragment$1,clipping_planes_fragment:clipping_planes_fragment$1,clipping_planes_pars_fragment:clipping_planes_pars_fragment$1,clipping_planes_pars_vertex:clipping_planes_pars_vertex$1,clipping_planes_vertex:clipping_planes_vertex$1,color_fragment:color_fragment$1,color_pars_fragment:color_pars_fragment$1,color_pars_vertex:color_pars_vertex$1,color_vertex:color_vertex$1,common:common$1,cube_uv_reflection_fragment:cube_uv_reflection_fragment$1,defaultnormal_vertex:defaultnormal_vertex$1,displacementmap_pars_vertex:displacementmap_pars_vertex$1,displacementmap_vertex:displacementmap_vertex$1,emissivemap_fragment:emissivemap_fragment$1,emissivemap_pars_fragment:emissivemap_pars_fragment$1,encodings_fragment:encodings_fragment$1,encodings_pars_fragment:encodings_pars_fragment$1,envmap_fragment:envmap_fragment$1,envmap_common_pars_fragment:envmap_common_pars_fragment$1,envmap_pars_fragment:envmap_pars_fragment$1,envmap_pars_vertex:envmap_pars_vertex$1,envmap_physical_pars_fragment:envmap_physical_pars_fragment$1,envmap_vertex:envmap_vertex$1,fog_vertex:fog_vertex$1,fog_pars_vertex:fog_pars_vertex$1,fog_fragment:fog_fragment$1,fog_pars_fragment:fog_pars_fragment$1,gradientmap_pars_fragment:gradientmap_pars_fragment$1,lightmap_fragment:lightmap_fragment$1,lightmap_pars_fragment:lightmap_pars_fragment$1,lights_lambert_vertex:lights_lambert_vertex$1,lights_pars_begin:lights_pars_begin$1,lights_toon_fragment:lights_toon_fragment$1,lights_toon_pars_fragment:lights_toon_pars_fragment$1,lights_phong_fragment:lights_phong_fragment$1,lights_phong_pars_fragment:lights_phong_pars_fragment$1,lights_physical_fragment:lights_physical_fragment$1,lights_physical_pars_fragment:lights_physical_pars_fragment$1,lights_fragment_begin:lights_fragment_begin$1,lights_fragment_maps:lights_fragment_maps$1,lights_fragment_end:lights_fragment_end$1,logdepthbuf_fragment:logdepthbuf_fragment$1,logdepthbuf_pars_fragment:logdepthbuf_pars_fragment$1,logdepthbuf_pars_vertex:logdepthbuf_pars_vertex$1,logdepthbuf_vertex:logdepthbuf_vertex$1,map_fragment:map_fragment$1,map_pars_fragment:map_pars_fragment$1,map_particle_fragment:map_particle_fragment$1,map_particle_pars_fragment:map_particle_pars_fragment$1,metalnessmap_fragment:metalnessmap_fragment$1,metalnessmap_pars_fragment:metalnessmap_pars_fragment$1,morphcolor_vertex:morphcolor_vertex$1,morphnormal_vertex:morphnormal_vertex$1,morphtarget_pars_vertex:morphtarget_pars_vertex$1,morphtarget_vertex:morphtarget_vertex$1,normal_fragment_begin:normal_fragment_begin$1,normal_fragment_maps:normal_fragment_maps$1,normal_pars_fragment:normal_pars_fragment$1,normal_pars_vertex:normal_pars_vertex$1,normal_vertex:normal_vertex$1,normalmap_pars_fragment:normalmap_pars_fragment$1,clearcoat_normal_fragment_begin:clearcoat_normal_fragment_begin$1,clearcoat_normal_fragment_maps:clearcoat_normal_fragment_maps$1,clearcoat_pars_fragment:clearcoat_pars_fragment$1,output_fragment:output_fragment$1,packing:packing$1,premultiplied_alpha_fragment:premultiplied_alpha_fragment$1,project_vertex:project_vertex$1,dithering_fragment:dithering_fragment$1,dithering_pars_fragment:dithering_pars_fragment$1,roughnessmap_fragment:roughnessmap_fragment$1,roughnessmap_pars_fragment:roughnessmap_pars_fragment$1,shadowmap_pars_fragment:shadowmap_pars_fragment$1,shadowmap_pars_vertex:shadowmap_pars_vertex$1,shadowmap_vertex:shadowmap_vertex$1,shadowmask_pars_fragment:shadowmask_pars_fragment$1,skinbase_vertex:skinbase_vertex$1,skinning_pars_vertex:skinning_pars_vertex$1,skinning_vertex:skinning_vertex$1,skinnormal_vertex:skinnormal_vertex$1,specularmap_fragment:specularmap_fragment$1,specularmap_pars_fragment:specularmap_pars_fragment$1,tonemapping_fragment:tonemapping_fragment$1,tonemapping_pars_fragment:tonemapping_pars_fragment$1,transmission_fragment:transmission_fragment$1,transmission_pars_fragment:transmission_pars_fragment$1,uv_pars_fragment:uv_pars_fragment$1,uv_pars_vertex:uv_pars_vertex$1,uv_vertex:uv_vertex$1,uv2_pars_fragment:uv2_pars_fragment$1,uv2_pars_vertex:uv2_pars_vertex$1,uv2_vertex:uv2_vertex$1,worldpos_vertex:worldpos_vertex$1,background_vert:vertex$g$1,background_frag:fragment$g$1,cube_vert:vertex$f$1,cube_frag:fragment$f$1,depth_vert:vertex$e$1,depth_frag:fragment$e$1,distanceRGBA_vert:vertex$d$1,distanceRGBA_frag:fragment$d$1,equirect_vert:vertex$c$1,equirect_frag:fragment$c$1,linedashed_vert:vertex$b$1,linedashed_frag:fragment$b$1,meshbasic_vert:vertex$a$1,meshbasic_frag:fragment$a$1,meshlambert_vert:vertex$9$1,meshlambert_frag:fragment$9$1,meshmatcap_vert:vertex$8$1,meshmatcap_frag:fragment$8$1,meshnormal_vert:vertex$7$1,meshnormal_frag:fragment$7$1,meshphong_vert:vertex$6$1,meshphong_frag:fragment$6$1,meshphysical_vert:vertex$5$1,meshphysical_frag:fragment$5$1,meshtoon_vert:vertex$4$1,meshtoon_frag:fragment$4$1,points_vert:vertex$3$1,points_frag:fragment$3$1,shadow_vert:vertex$2$1,shadow_frag:fragment$2$1,sprite_vert:vertex$1$1,sprite_frag:fragment$1$1},UniformsLib$1={common:{diffuse:{value:new Color$2(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3$1},uv2Transform:{value:new Matrix3$1},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2$1(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$2(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$2(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3$1}},sprite:{diffuse:{value:new Color$2(16777215)},opacity:{value:1},center:{value:new Vector2$1(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3$1}}},ShaderLib$1={basic:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.specularmap,UniformsLib$1.envmap,UniformsLib$1.aomap,UniformsLib$1.lightmap,UniformsLib$1.fog]),vertexShader:ShaderChunk$1.meshbasic_vert,fragmentShader:ShaderChunk$1.meshbasic_frag},lambert:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.specularmap,UniformsLib$1.envmap,UniformsLib$1.aomap,UniformsLib$1.lightmap,UniformsLib$1.emissivemap,UniformsLib$1.fog,UniformsLib$1.lights,{emissive:{value:new Color$2(0)}}]),vertexShader:ShaderChunk$1.meshlambert_vert,fragmentShader:ShaderChunk$1.meshlambert_frag},phong:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.specularmap,UniformsLib$1.envmap,UniformsLib$1.aomap,UniformsLib$1.lightmap,UniformsLib$1.emissivemap,UniformsLib$1.bumpmap,UniformsLib$1.normalmap,UniformsLib$1.displacementmap,UniformsLib$1.fog,UniformsLib$1.lights,{emissive:{value:new Color$2(0)},specular:{value:new Color$2(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk$1.meshphong_vert,fragmentShader:ShaderChunk$1.meshphong_frag},standard:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.envmap,UniformsLib$1.aomap,UniformsLib$1.lightmap,UniformsLib$1.emissivemap,UniformsLib$1.bumpmap,UniformsLib$1.normalmap,UniformsLib$1.displacementmap,UniformsLib$1.roughnessmap,UniformsLib$1.metalnessmap,UniformsLib$1.fog,UniformsLib$1.lights,{emissive:{value:new Color$2(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk$1.meshphysical_vert,fragmentShader:ShaderChunk$1.meshphysical_frag},toon:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.aomap,UniformsLib$1.lightmap,UniformsLib$1.emissivemap,UniformsLib$1.bumpmap,UniformsLib$1.normalmap,UniformsLib$1.displacementmap,UniformsLib$1.gradientmap,UniformsLib$1.fog,UniformsLib$1.lights,{emissive:{value:new Color$2(0)}}]),vertexShader:ShaderChunk$1.meshtoon_vert,fragmentShader:ShaderChunk$1.meshtoon_frag},matcap:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.bumpmap,UniformsLib$1.normalmap,UniformsLib$1.displacementmap,UniformsLib$1.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk$1.meshmatcap_vert,fragmentShader:ShaderChunk$1.meshmatcap_frag},points:{uniforms:mergeUniforms$1([UniformsLib$1.points,UniformsLib$1.fog]),vertexShader:ShaderChunk$1.points_vert,fragmentShader:ShaderChunk$1.points_frag},dashed:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk$1.linedashed_vert,fragmentShader:ShaderChunk$1.linedashed_frag},depth:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.displacementmap]),vertexShader:ShaderChunk$1.depth_vert,fragmentShader:ShaderChunk$1.depth_frag},normal:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.bumpmap,UniformsLib$1.normalmap,UniformsLib$1.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk$1.meshnormal_vert,fragmentShader:ShaderChunk$1.meshnormal_frag},sprite:{uniforms:mergeUniforms$1([UniformsLib$1.sprite,UniformsLib$1.fog]),vertexShader:ShaderChunk$1.sprite_vert,fragmentShader:ShaderChunk$1.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3$1},t2D:{value:null}},vertexShader:ShaderChunk$1.background_vert,fragmentShader:ShaderChunk$1.background_frag},cube:{uniforms:mergeUniforms$1([UniformsLib$1.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk$1.cube_vert,fragmentShader:ShaderChunk$1.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk$1.equirect_vert,fragmentShader:ShaderChunk$1.equirect_frag},distanceRGBA:{uniforms:mergeUniforms$1([UniformsLib$1.common,UniformsLib$1.displacementmap,{referencePosition:{value:new Vector3$1},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk$1.distanceRGBA_vert,fragmentShader:ShaderChunk$1.distanceRGBA_frag},shadow:{uniforms:mergeUniforms$1([UniformsLib$1.lights,UniformsLib$1.fog,{color:{value:new Color$2(0)},opacity:{value:1}}]),vertexShader:ShaderChunk$1.shadow_vert,fragmentShader:ShaderChunk$1.shadow_frag}};ShaderLib$1.physical={uniforms:mergeUniforms$1([ShaderLib$1.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2$1(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Color$2(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2$1},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color$2(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color$2(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk$1.meshphysical_vert,fragmentShader:ShaderChunk$1.meshphysical_frag};function WebGLBackground$1(tt,et,nt,rt,it,ot){const at=new Color$2(0);let st=it===!0?0:1,lt,ct,ft=null,ut=0,dt=null;function ht(gt,mt){let yt=!1,bt=mt.isScene===!0?mt.background:null;bt&&bt.isTexture&&(bt=et.get(bt));const St=tt.xr,xt=St.getSession&&St.getSession();xt&&xt.environmentBlendMode==="additive"&&(bt=null),bt===null?pt(at,st):bt&&bt.isColor&&(pt(bt,1),yt=!0),(tt.autoClear||yt)&&tt.clear(tt.autoClearColor,tt.autoClearDepth,tt.autoClearStencil),bt&&(bt.isCubeTexture||bt.mapping===CubeUVReflectionMapping$1)?(ct===void 0&&(ct=new Mesh$1(new BoxGeometry$1(1,1,1),new ShaderMaterial$1({name:"BackgroundCubeMaterial",uniforms:cloneUniforms$1(ShaderLib$1.cube.uniforms),vertexShader:ShaderLib$1.cube.vertexShader,fragmentShader:ShaderLib$1.cube.fragmentShader,side:BackSide$1,depthTest:!1,depthWrite:!1,fog:!1})),ct.geometry.deleteAttribute("normal"),ct.geometry.deleteAttribute("uv"),ct.onBeforeRender=function(vt,$t,zt){this.matrixWorld.copyPosition(zt.matrixWorld)},Object.defineProperty(ct.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),rt.update(ct)),ct.material.uniforms.envMap.value=bt,ct.material.uniforms.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1,(ft!==bt||ut!==bt.version||dt!==tt.toneMapping)&&(ct.material.needsUpdate=!0,ft=bt,ut=bt.version,dt=tt.toneMapping),ct.layers.enableAll(),gt.unshift(ct,ct.geometry,ct.material,0,0,null)):bt&&bt.isTexture&&(lt===void 0&&(lt=new Mesh$1(new PlaneGeometry$1(2,2),new ShaderMaterial$1({name:"BackgroundMaterial",uniforms:cloneUniforms$1(ShaderLib$1.background.uniforms),vertexShader:ShaderLib$1.background.vertexShader,fragmentShader:ShaderLib$1.background.fragmentShader,side:FrontSide$1,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),Object.defineProperty(lt.material,"map",{get:function(){return this.uniforms.t2D.value}}),rt.update(lt)),lt.material.uniforms.t2D.value=bt,bt.matrixAutoUpdate===!0&&bt.updateMatrix(),lt.material.uniforms.uvTransform.value.copy(bt.matrix),(ft!==bt||ut!==bt.version||dt!==tt.toneMapping)&&(lt.material.needsUpdate=!0,ft=bt,ut=bt.version,dt=tt.toneMapping),lt.layers.enableAll(),gt.unshift(lt,lt.geometry,lt.material,0,0,null))}function pt(gt,mt){nt.buffers.color.setClear(gt.r,gt.g,gt.b,mt,ot)}return{getClearColor:function(){return at},setClearColor:function(gt,mt=1){at.set(gt),st=mt,pt(at,st)},getClearAlpha:function(){return st},setClearAlpha:function(gt){st=gt,pt(at,st)},render:ht}}function WebGLBindingStates$1(tt,et,nt,rt){const it=tt.getParameter(34921),ot=rt.isWebGL2?null:et.get("OES_vertex_array_object"),at=rt.isWebGL2||ot!==null,st={},lt=mt(null);let ct=lt,ft=!1;function ut(Pt,Dt,Ct,Ot,Ut){let At=!1;if(at){const Mt=gt(Ot,Ct,Dt);ct!==Mt&&(ct=Mt,ht(ct.object)),At=yt(Pt,Ot,Ct,Ut),At&&bt(Pt,Ot,Ct,Ut)}else{const Mt=Dt.wireframe===!0;(ct.geometry!==Ot.id||ct.program!==Ct.id||ct.wireframe!==Mt)&&(ct.geometry=Ot.id,ct.program=Ct.id,ct.wireframe=Mt,At=!0)}Ut!==null&&nt.update(Ut,34963),(At||ft)&&(ft=!1,Nt(Pt,Dt,Ct,Ot),Ut!==null&&tt.bindBuffer(34963,nt.get(Ut).buffer))}function dt(){return rt.isWebGL2?tt.createVertexArray():ot.createVertexArrayOES()}function ht(Pt){return rt.isWebGL2?tt.bindVertexArray(Pt):ot.bindVertexArrayOES(Pt)}function pt(Pt){return rt.isWebGL2?tt.deleteVertexArray(Pt):ot.deleteVertexArrayOES(Pt)}function gt(Pt,Dt,Ct){const Ot=Ct.wireframe===!0;let Ut=st[Pt.id];Ut===void 0&&(Ut={},st[Pt.id]=Ut);let At=Ut[Dt.id];At===void 0&&(At={},Ut[Dt.id]=At);let Mt=At[Ot];return Mt===void 0&&(Mt=mt(dt()),At[Ot]=Mt),Mt}function mt(Pt){const Dt=[],Ct=[],Ot=[];for(let Ut=0;Ut<it;Ut++)Dt[Ut]=0,Ct[Ut]=0,Ot[Ut]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Dt,enabledAttributes:Ct,attributeDivisors:Ot,object:Pt,attributes:{},index:null}}function yt(Pt,Dt,Ct,Ot){const Ut=ct.attributes,At=Dt.attributes;let Mt=0;const jt=Ct.getAttributes();for(const kt in jt)if(jt[kt].location>=0){const Ht=Ut[kt];let Jt=At[kt];if(Jt===void 0&&(kt==="instanceMatrix"&&Pt.instanceMatrix&&(Jt=Pt.instanceMatrix),kt==="instanceColor"&&Pt.instanceColor&&(Jt=Pt.instanceColor)),Ht===void 0||Ht.attribute!==Jt||Jt&&Ht.data!==Jt.data)return!0;Mt++}return ct.attributesNum!==Mt||ct.index!==Ot}function bt(Pt,Dt,Ct,Ot){const Ut={},At=Dt.attributes;let Mt=0;const jt=Ct.getAttributes();for(const kt in jt)if(jt[kt].location>=0){let Ht=At[kt];Ht===void 0&&(kt==="instanceMatrix"&&Pt.instanceMatrix&&(Ht=Pt.instanceMatrix),kt==="instanceColor"&&Pt.instanceColor&&(Ht=Pt.instanceColor));const Jt={};Jt.attribute=Ht,Ht&&Ht.data&&(Jt.data=Ht.data),Ut[kt]=Jt,Mt++}ct.attributes=Ut,ct.attributesNum=Mt,ct.index=Ot}function St(){const Pt=ct.newAttributes;for(let Dt=0,Ct=Pt.length;Dt<Ct;Dt++)Pt[Dt]=0}function xt(Pt){vt(Pt,0)}function vt(Pt,Dt){const Ct=ct.newAttributes,Ot=ct.enabledAttributes,Ut=ct.attributeDivisors;Ct[Pt]=1,Ot[Pt]===0&&(tt.enableVertexAttribArray(Pt),Ot[Pt]=1),Ut[Pt]!==Dt&&((rt.isWebGL2?tt:et.get("ANGLE_instanced_arrays"))[rt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Pt,Dt),Ut[Pt]=Dt)}function $t(){const Pt=ct.newAttributes,Dt=ct.enabledAttributes;for(let Ct=0,Ot=Dt.length;Ct<Ot;Ct++)Dt[Ct]!==Pt[Ct]&&(tt.disableVertexAttribArray(Ct),Dt[Ct]=0)}function zt(Pt,Dt,Ct,Ot,Ut,At){rt.isWebGL2===!0&&(Ct===5124||Ct===5125)?tt.vertexAttribIPointer(Pt,Dt,Ct,Ut,At):tt.vertexAttribPointer(Pt,Dt,Ct,Ot,Ut,At)}function Nt(Pt,Dt,Ct,Ot){if(rt.isWebGL2===!1&&(Pt.isInstancedMesh||Ot.isInstancedBufferGeometry)&&et.get("ANGLE_instanced_arrays")===null)return;St();const Ut=Ot.attributes,At=Ct.getAttributes(),Mt=Dt.defaultAttributeValues;for(const jt in At){const kt=At[jt];if(kt.location>=0){let Gt=Ut[jt];if(Gt===void 0&&(jt==="instanceMatrix"&&Pt.instanceMatrix&&(Gt=Pt.instanceMatrix),jt==="instanceColor"&&Pt.instanceColor&&(Gt=Pt.instanceColor)),Gt!==void 0){const Ht=Gt.normalized,Jt=Gt.itemSize,Vt=nt.get(Gt);if(Vt===void 0)continue;const Wt=Vt.buffer,Lt=Vt.type,Bt=Vt.bytesPerElement;if(Gt.isInterleavedBufferAttribute){const Ft=Gt.data,sn=Ft.stride,Xt=Gt.offset;if(Ft.isInstancedInterleavedBuffer){for(let dn=0;dn<kt.locationSize;dn++)vt(kt.location+dn,Ft.meshPerAttribute);Pt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Ft.meshPerAttribute*Ft.count)}else for(let dn=0;dn<kt.locationSize;dn++)xt(kt.location+dn);tt.bindBuffer(34962,Wt);for(let dn=0;dn<kt.locationSize;dn++)zt(kt.location+dn,Jt/kt.locationSize,Lt,Ht,sn*Bt,(Xt+Jt/kt.locationSize*dn)*Bt)}else{if(Gt.isInstancedBufferAttribute){for(let Ft=0;Ft<kt.locationSize;Ft++)vt(kt.location+Ft,Gt.meshPerAttribute);Pt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Gt.meshPerAttribute*Gt.count)}else for(let Ft=0;Ft<kt.locationSize;Ft++)xt(kt.location+Ft);tt.bindBuffer(34962,Wt);for(let Ft=0;Ft<kt.locationSize;Ft++)zt(kt.location+Ft,Jt/kt.locationSize,Lt,Ht,Jt*Bt,Jt/kt.locationSize*Ft*Bt)}}else if(Mt!==void 0){const Ht=Mt[jt];if(Ht!==void 0)switch(Ht.length){case 2:tt.vertexAttrib2fv(kt.location,Ht);break;case 3:tt.vertexAttrib3fv(kt.location,Ht);break;case 4:tt.vertexAttrib4fv(kt.location,Ht);break;default:tt.vertexAttrib1fv(kt.location,Ht)}}}}$t()}function wt(){Tt();for(const Pt in st){const Dt=st[Pt];for(const Ct in Dt){const Ot=Dt[Ct];for(const Ut in Ot)pt(Ot[Ut].object),delete Ot[Ut];delete Dt[Ct]}delete st[Pt]}}function Et(Pt){if(st[Pt.id]===void 0)return;const Dt=st[Pt.id];for(const Ct in Dt){const Ot=Dt[Ct];for(const Ut in Ot)pt(Ot[Ut].object),delete Ot[Ut];delete Dt[Ct]}delete st[Pt.id]}function Rt(Pt){for(const Dt in st){const Ct=st[Dt];if(Ct[Pt.id]===void 0)continue;const Ot=Ct[Pt.id];for(const Ut in Ot)pt(Ot[Ut].object),delete Ot[Ut];delete Ct[Pt.id]}}function Tt(){It(),ft=!0,ct!==lt&&(ct=lt,ht(ct.object))}function It(){lt.geometry=null,lt.program=null,lt.wireframe=!1}return{setup:ut,reset:Tt,resetDefaultState:It,dispose:wt,releaseStatesOfGeometry:Et,releaseStatesOfProgram:Rt,initAttributes:St,enableAttribute:xt,disableUnusedAttributes:$t}}function WebGLBufferRenderer$1(tt,et,nt,rt){const it=rt.isWebGL2;let ot;function at(ct){ot=ct}function st(ct,ft){tt.drawArrays(ot,ct,ft),nt.update(ft,ot,1)}function lt(ct,ft,ut){if(ut===0)return;let dt,ht;if(it)dt=tt,ht="drawArraysInstanced";else if(dt=et.get("ANGLE_instanced_arrays"),ht="drawArraysInstancedANGLE",dt===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}dt[ht](ot,ct,ft,ut),nt.update(ft,ot,ut)}this.setMode=at,this.render=st,this.renderInstances=lt}function WebGLCapabilities$1(tt,et,nt){let rt;function it(){if(rt!==void 0)return rt;if(et.has("EXT_texture_filter_anisotropic")===!0){const zt=et.get("EXT_texture_filter_anisotropic");rt=tt.getParameter(zt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else rt=0;return rt}function ot(zt){if(zt==="highp"){if(tt.getShaderPrecisionFormat(35633,36338).precision>0&&tt.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";zt="mediump"}return zt==="mediump"&&tt.getShaderPrecisionFormat(35633,36337).precision>0&&tt.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const at=typeof WebGL2RenderingContext!="undefined"&&tt instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&tt instanceof WebGL2ComputeRenderingContext;let st=nt.precision!==void 0?nt.precision:"highp";const lt=ot(st);lt!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",lt,"instead."),st=lt);const ct=at||et.has("WEBGL_draw_buffers"),ft=nt.logarithmicDepthBuffer===!0,ut=tt.getParameter(34930),dt=tt.getParameter(35660),ht=tt.getParameter(3379),pt=tt.getParameter(34076),gt=tt.getParameter(34921),mt=tt.getParameter(36347),yt=tt.getParameter(36348),bt=tt.getParameter(36349),St=dt>0,xt=at||et.has("OES_texture_float"),vt=St&&xt,$t=at?tt.getParameter(36183):0;return{isWebGL2:at,drawBuffers:ct,getMaxAnisotropy:it,getMaxPrecision:ot,precision:st,logarithmicDepthBuffer:ft,maxTextures:ut,maxVertexTextures:dt,maxTextureSize:ht,maxCubemapSize:pt,maxAttributes:gt,maxVertexUniforms:mt,maxVaryings:yt,maxFragmentUniforms:bt,vertexTextures:St,floatFragmentTextures:xt,floatVertexTextures:vt,maxSamples:$t}}function WebGLClipping$1(tt){const et=this;let nt=null,rt=0,it=!1,ot=!1;const at=new Plane$1,st=new Matrix3$1,lt={value:null,needsUpdate:!1};this.uniform=lt,this.numPlanes=0,this.numIntersection=0,this.init=function(ut,dt,ht){const pt=ut.length!==0||dt||rt!==0||it;return it=dt,nt=ft(ut,ht,0),rt=ut.length,pt},this.beginShadows=function(){ot=!0,ft(null)},this.endShadows=function(){ot=!1,ct()},this.setState=function(ut,dt,ht){const pt=ut.clippingPlanes,gt=ut.clipIntersection,mt=ut.clipShadows,yt=tt.get(ut);if(!it||pt===null||pt.length===0||ot&&!mt)ot?ft(null):ct();else{const bt=ot?0:rt,St=bt*4;let xt=yt.clippingState||null;lt.value=xt,xt=ft(pt,dt,St,ht);for(let vt=0;vt!==St;++vt)xt[vt]=nt[vt];yt.clippingState=xt,this.numIntersection=gt?this.numPlanes:0,this.numPlanes+=bt}};function ct(){lt.value!==nt&&(lt.value=nt,lt.needsUpdate=rt>0),et.numPlanes=rt,et.numIntersection=0}function ft(ut,dt,ht,pt){const gt=ut!==null?ut.length:0;let mt=null;if(gt!==0){if(mt=lt.value,pt!==!0||mt===null){const yt=ht+gt*4,bt=dt.matrixWorldInverse;st.getNormalMatrix(bt),(mt===null||mt.length<yt)&&(mt=new Float32Array(yt));for(let St=0,xt=ht;St!==gt;++St,xt+=4)at.copy(ut[St]).applyMatrix4(bt,st),at.normal.toArray(mt,xt),mt[xt+3]=at.constant}lt.value=mt,lt.needsUpdate=!0}return et.numPlanes=gt,et.numIntersection=0,mt}}function WebGLCubeMaps$1(tt){let et=new WeakMap;function nt(at,st){return st===EquirectangularReflectionMapping$1?at.mapping=CubeReflectionMapping$1:st===EquirectangularRefractionMapping$1&&(at.mapping=CubeRefractionMapping$1),at}function rt(at){if(at&&at.isTexture&&at.isRenderTargetTexture===!1){const st=at.mapping;if(st===EquirectangularReflectionMapping$1||st===EquirectangularRefractionMapping$1)if(et.has(at)){const lt=et.get(at).texture;return nt(lt,at.mapping)}else{const lt=at.image;if(lt&&lt.height>0){const ct=new WebGLCubeRenderTarget$1(lt.height/2);return ct.fromEquirectangularTexture(tt,at),et.set(at,ct),at.addEventListener("dispose",it),nt(ct.texture,at.mapping)}else return null}}return at}function it(at){const st=at.target;st.removeEventListener("dispose",it);const lt=et.get(st);lt!==void 0&&(et.delete(st),lt.dispose())}function ot(){et=new WeakMap}return{get:rt,dispose:ot}}class OrthographicCamera$1 extends Camera$1{constructor(et=-1,nt=1,rt=1,it=-1,ot=.1,at=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=et,this.right=nt,this.top=rt,this.bottom=it,this.near=ot,this.far=at,this.updateProjectionMatrix()}copy(et,nt){return super.copy(et,nt),this.left=et.left,this.right=et.right,this.top=et.top,this.bottom=et.bottom,this.near=et.near,this.far=et.far,this.zoom=et.zoom,this.view=et.view===null?null:Object.assign({},et.view),this}setViewOffset(et,nt,rt,it,ot,at){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=nt,this.view.offsetX=rt,this.view.offsetY=it,this.view.width=ot,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=(this.right-this.left)/(2*this.zoom),nt=(this.top-this.bottom)/(2*this.zoom),rt=(this.right+this.left)/2,it=(this.top+this.bottom)/2;let ot=rt-et,at=rt+et,st=it+nt,lt=it-nt;if(this.view!==null&&this.view.enabled){const ct=(this.right-this.left)/this.view.fullWidth/this.zoom,ft=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ot+=ct*this.view.offsetX,at=ot+ct*this.view.width,st-=ft*this.view.offsetY,lt=st-ft*this.view.height}this.projectionMatrix.makeOrthographic(ot,at,st,lt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const nt=super.toJSON(et);return nt.object.zoom=this.zoom,nt.object.left=this.left,nt.object.right=this.right,nt.object.top=this.top,nt.object.bottom=this.bottom,nt.object.near=this.near,nt.object.far=this.far,this.view!==null&&(nt.object.view=Object.assign({},this.view)),nt}}OrthographicCamera$1.prototype.isOrthographicCamera=!0;const LOD_MIN$1=4,EXTRA_LOD_SIGMA$1=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES$1=20,_flatCamera$1=new OrthographicCamera$1,_clearColor$1=new Color$2;let _oldTarget$1=null;const PHI$1=(1+Math.sqrt(5))/2,INV_PHI$1=1/PHI$1,_axisDirections$1=[new Vector3$1(1,1,1),new Vector3$1(-1,1,1),new Vector3$1(1,1,-1),new Vector3$1(-1,1,-1),new Vector3$1(0,PHI$1,INV_PHI$1),new Vector3$1(0,PHI$1,-INV_PHI$1),new Vector3$1(INV_PHI$1,0,PHI$1),new Vector3$1(-INV_PHI$1,0,PHI$1),new Vector3$1(PHI$1,INV_PHI$1,0),new Vector3$1(-PHI$1,INV_PHI$1,0)];class PMREMGenerator$1{constructor(et){this._renderer=et,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(et,nt=0,rt=.1,it=100){_oldTarget$1=this._renderer.getRenderTarget(),this._setSize(256);const ot=this._allocateTargets();return ot.depthBuffer=!0,this._sceneToCubeUV(et,rt,it,ot),nt>0&&this._blur(ot,0,0,nt),this._applyPMREM(ot),this._cleanup(ot),ot}fromEquirectangular(et,nt=null){return this._fromTexture(et,nt)}fromCubemap(et,nt=null){return this._fromTexture(et,nt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial$1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial$1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(et){this._lodMax=Math.floor(Math.log2(et)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let et=0;et<this._lodPlanes.length;et++)this._lodPlanes[et].dispose()}_cleanup(et){this._renderer.setRenderTarget(_oldTarget$1),et.scissorTest=!1,_setViewport$1(et,0,0,et.width,et.height)}_fromTexture(et,nt){et.mapping===CubeReflectionMapping$1||et.mapping===CubeRefractionMapping$1?this._setSize(et.image.length===0?16:et.image[0].width||et.image[0].image.width):this._setSize(et.image.width/4),_oldTarget$1=this._renderer.getRenderTarget();const rt=nt||this._allocateTargets();return this._textureToCubeUV(et,rt),this._applyPMREM(rt),this._cleanup(rt),rt}_allocateTargets(){const et=3*Math.max(this._cubeSize,112),nt=4*this._cubeSize,rt={magFilter:LinearFilter$1,minFilter:LinearFilter$1,generateMipmaps:!1,type:HalfFloatType$1,format:RGBAFormat$1,encoding:LinearEncoding$1,depthBuffer:!1},it=_createRenderTarget$1(et,nt,rt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==et){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget$1(et,nt,rt);const{_lodMax:ot}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes$1(ot)),this._blurMaterial=_getBlurShader$1(ot,et,nt)}return it}_compileMaterial(et){const nt=new Mesh$1(this._lodPlanes[0],et);this._renderer.compile(nt,_flatCamera$1)}_sceneToCubeUV(et,nt,rt,it){const st=new PerspectiveCamera$1(90,1,nt,rt),lt=[1,-1,1,1,1,1],ct=[1,1,1,-1,-1,-1],ft=this._renderer,ut=ft.autoClear,dt=ft.toneMapping;ft.getClearColor(_clearColor$1),ft.toneMapping=NoToneMapping$1,ft.autoClear=!1;const ht=new MeshBasicMaterial$1({name:"PMREM.Background",side:BackSide$1,depthWrite:!1,depthTest:!1}),pt=new Mesh$1(new BoxGeometry$1,ht);let gt=!1;const mt=et.background;mt?mt.isColor&&(ht.color.copy(mt),et.background=null,gt=!0):(ht.color.copy(_clearColor$1),gt=!0);for(let yt=0;yt<6;yt++){const bt=yt%3;bt===0?(st.up.set(0,lt[yt],0),st.lookAt(ct[yt],0,0)):bt===1?(st.up.set(0,0,lt[yt]),st.lookAt(0,ct[yt],0)):(st.up.set(0,lt[yt],0),st.lookAt(0,0,ct[yt]));const St=this._cubeSize;_setViewport$1(it,bt*St,yt>2?St:0,St,St),ft.setRenderTarget(it),gt&&ft.render(pt,st),ft.render(et,st)}pt.geometry.dispose(),pt.material.dispose(),ft.toneMapping=dt,ft.autoClear=ut,et.background=mt}_textureToCubeUV(et,nt){const rt=this._renderer,it=et.mapping===CubeReflectionMapping$1||et.mapping===CubeRefractionMapping$1;it?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial$1()),this._cubemapMaterial.uniforms.flipEnvMap.value=et.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial$1());const ot=it?this._cubemapMaterial:this._equirectMaterial,at=new Mesh$1(this._lodPlanes[0],ot),st=ot.uniforms;st.envMap.value=et;const lt=this._cubeSize;_setViewport$1(nt,0,0,3*lt,2*lt),rt.setRenderTarget(nt),rt.render(at,_flatCamera$1)}_applyPMREM(et){const nt=this._renderer,rt=nt.autoClear;nt.autoClear=!1;for(let it=1;it<this._lodPlanes.length;it++){const ot=Math.sqrt(this._sigmas[it]*this._sigmas[it]-this._sigmas[it-1]*this._sigmas[it-1]),at=_axisDirections$1[(it-1)%_axisDirections$1.length];this._blur(et,it-1,it,ot,at)}nt.autoClear=rt}_blur(et,nt,rt,it,ot){const at=this._pingPongRenderTarget;this._halfBlur(et,at,nt,rt,it,"latitudinal",ot),this._halfBlur(at,et,rt,rt,it,"longitudinal",ot)}_halfBlur(et,nt,rt,it,ot,at,st){const lt=this._renderer,ct=this._blurMaterial;at!=="latitudinal"&&at!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ft=3,ut=new Mesh$1(this._lodPlanes[it],ct),dt=ct.uniforms,ht=this._sizeLods[rt]-1,pt=isFinite(ot)?Math.PI/(2*ht):2*Math.PI/(2*MAX_SAMPLES$1-1),gt=ot/pt,mt=isFinite(ot)?1+Math.floor(ft*gt):MAX_SAMPLES$1;mt>MAX_SAMPLES$1&&console.warn(`sigmaRadians, ${ot}, is too large and will clip, as it requested ${mt} samples when the maximum is set to ${MAX_SAMPLES$1}`);const yt=[];let bt=0;for(let zt=0;zt<MAX_SAMPLES$1;++zt){const Nt=zt/gt,wt=Math.exp(-Nt*Nt/2);yt.push(wt),zt===0?bt+=wt:zt<mt&&(bt+=2*wt)}for(let zt=0;zt<yt.length;zt++)yt[zt]=yt[zt]/bt;dt.envMap.value=et.texture,dt.samples.value=mt,dt.weights.value=yt,dt.latitudinal.value=at==="latitudinal",st&&(dt.poleAxis.value=st);const{_lodMax:St}=this;dt.dTheta.value=pt,dt.mipInt.value=St-rt;const xt=this._sizeLods[it],vt=3*xt*(it>St-LOD_MIN$1?it-St+LOD_MIN$1:0),$t=4*(this._cubeSize-xt);_setViewport$1(nt,vt,$t,3*xt,2*xt),lt.setRenderTarget(nt),lt.render(ut,_flatCamera$1)}}function _createPlanes$1(tt){const et=[],nt=[],rt=[];let it=tt;const ot=tt-LOD_MIN$1+1+EXTRA_LOD_SIGMA$1.length;for(let at=0;at<ot;at++){const st=Math.pow(2,it);nt.push(st);let lt=1/st;at>tt-LOD_MIN$1?lt=EXTRA_LOD_SIGMA$1[at-tt+LOD_MIN$1-1]:at===0&&(lt=0),rt.push(lt);const ct=1/(st-2),ft=-ct,ut=1+ct,dt=[ft,ft,ut,ft,ut,ut,ft,ft,ut,ut,ft,ut],ht=6,pt=6,gt=3,mt=2,yt=1,bt=new Float32Array(gt*pt*ht),St=new Float32Array(mt*pt*ht),xt=new Float32Array(yt*pt*ht);for(let $t=0;$t<ht;$t++){const zt=$t%3*2/3-1,Nt=$t>2?0:-1,wt=[zt,Nt,0,zt+2/3,Nt,0,zt+2/3,Nt+1,0,zt,Nt,0,zt+2/3,Nt+1,0,zt,Nt+1,0];bt.set(wt,gt*pt*$t),St.set(dt,mt*pt*$t);const Et=[$t,$t,$t,$t,$t,$t];xt.set(Et,yt*pt*$t)}const vt=new BufferGeometry$1;vt.setAttribute("position",new BufferAttribute$1(bt,gt)),vt.setAttribute("uv",new BufferAttribute$1(St,mt)),vt.setAttribute("faceIndex",new BufferAttribute$1(xt,yt)),et.push(vt),it>LOD_MIN$1&&it--}return{lodPlanes:et,sizeLods:nt,sigmas:rt}}function _createRenderTarget$1(tt,et,nt){const rt=new WebGLRenderTarget$1(tt,et,nt);return rt.texture.mapping=CubeUVReflectionMapping$1,rt.texture.name="PMREM.cubeUv",rt.scissorTest=!0,rt}function _setViewport$1(tt,et,nt,rt,it){tt.viewport.set(et,nt,rt,it),tt.scissor.set(et,nt,rt,it)}function _getBlurShader$1(tt,et,nt){const rt=new Float32Array(MAX_SAMPLES$1),it=new Vector3$1(0,1,0);return new ShaderMaterial$1({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES$1,CUBEUV_TEXEL_WIDTH:1/et,CUBEUV_TEXEL_HEIGHT:1/nt,CUBEUV_MAX_MIP:`${tt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:rt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:it}},vertexShader:_getCommonVertexShader$1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending$1,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial$1(){return new ShaderMaterial$1({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader$1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending$1,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial$1(){return new ShaderMaterial$1({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader$1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending$1,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader$1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps$1(tt){let et=new WeakMap,nt=null;function rt(st){if(st&&st.isTexture){const lt=st.mapping,ct=lt===EquirectangularReflectionMapping$1||lt===EquirectangularRefractionMapping$1,ft=lt===CubeReflectionMapping$1||lt===CubeRefractionMapping$1;if(ct||ft)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let ut=et.get(st);return nt===null&&(nt=new PMREMGenerator$1(tt)),ut=ct?nt.fromEquirectangular(st,ut):nt.fromCubemap(st,ut),et.set(st,ut),ut.texture}else{if(et.has(st))return et.get(st).texture;{const ut=st.image;if(ct&&ut&&ut.height>0||ft&&ut&&it(ut)){nt===null&&(nt=new PMREMGenerator$1(tt));const dt=ct?nt.fromEquirectangular(st):nt.fromCubemap(st);return et.set(st,dt),st.addEventListener("dispose",ot),dt.texture}else return null}}}return st}function it(st){let lt=0;const ct=6;for(let ft=0;ft<ct;ft++)st[ft]!==void 0&&lt++;return lt===ct}function ot(st){const lt=st.target;lt.removeEventListener("dispose",ot);const ct=et.get(lt);ct!==void 0&&(et.delete(lt),ct.dispose())}function at(){et=new WeakMap,nt!==null&&(nt.dispose(),nt=null)}return{get:rt,dispose:at}}function WebGLExtensions$1(tt){const et={};function nt(rt){if(et[rt]!==void 0)return et[rt];let it;switch(rt){case"WEBGL_depth_texture":it=tt.getExtension("WEBGL_depth_texture")||tt.getExtension("MOZ_WEBGL_depth_texture")||tt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":it=tt.getExtension("EXT_texture_filter_anisotropic")||tt.getExtension("MOZ_EXT_texture_filter_anisotropic")||tt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":it=tt.getExtension("WEBGL_compressed_texture_s3tc")||tt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":it=tt.getExtension("WEBGL_compressed_texture_pvrtc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:it=tt.getExtension(rt)}return et[rt]=it,it}return{has:function(rt){return nt(rt)!==null},init:function(rt){rt.isWebGL2?nt("EXT_color_buffer_float"):(nt("WEBGL_depth_texture"),nt("OES_texture_float"),nt("OES_texture_half_float"),nt("OES_texture_half_float_linear"),nt("OES_standard_derivatives"),nt("OES_element_index_uint"),nt("OES_vertex_array_object"),nt("ANGLE_instanced_arrays")),nt("OES_texture_float_linear"),nt("EXT_color_buffer_half_float"),nt("WEBGL_multisampled_render_to_texture")},get:function(rt){const it=nt(rt);return it===null&&console.warn("THREE.WebGLRenderer: "+rt+" extension not supported."),it}}}function WebGLGeometries$1(tt,et,nt,rt){const it={},ot=new WeakMap;function at(ut){const dt=ut.target;dt.index!==null&&et.remove(dt.index);for(const pt in dt.attributes)et.remove(dt.attributes[pt]);dt.removeEventListener("dispose",at),delete it[dt.id];const ht=ot.get(dt);ht&&(et.remove(ht),ot.delete(dt)),rt.releaseStatesOfGeometry(dt),dt.isInstancedBufferGeometry===!0&&delete dt._maxInstanceCount,nt.memory.geometries--}function st(ut,dt){return it[dt.id]===!0||(dt.addEventListener("dispose",at),it[dt.id]=!0,nt.memory.geometries++),dt}function lt(ut){const dt=ut.attributes;for(const pt in dt)et.update(dt[pt],34962);const ht=ut.morphAttributes;for(const pt in ht){const gt=ht[pt];for(let mt=0,yt=gt.length;mt<yt;mt++)et.update(gt[mt],34962)}}function ct(ut){const dt=[],ht=ut.index,pt=ut.attributes.position;let gt=0;if(ht!==null){const bt=ht.array;gt=ht.version;for(let St=0,xt=bt.length;St<xt;St+=3){const vt=bt[St+0],$t=bt[St+1],zt=bt[St+2];dt.push(vt,$t,$t,zt,zt,vt)}}else{const bt=pt.array;gt=pt.version;for(let St=0,xt=bt.length/3-1;St<xt;St+=3){const vt=St+0,$t=St+1,zt=St+2;dt.push(vt,$t,$t,zt,zt,vt)}}const mt=new(arrayNeedsUint32$1(dt)?Uint32BufferAttribute$1:Uint16BufferAttribute$1)(dt,1);mt.version=gt;const yt=ot.get(ut);yt&&et.remove(yt),ot.set(ut,mt)}function ft(ut){const dt=ot.get(ut);if(dt){const ht=ut.index;ht!==null&&dt.version<ht.version&&ct(ut)}else ct(ut);return ot.get(ut)}return{get:st,update:lt,getWireframeAttribute:ft}}function WebGLIndexedBufferRenderer$1(tt,et,nt,rt){const it=rt.isWebGL2;let ot;function at(dt){ot=dt}let st,lt;function ct(dt){st=dt.type,lt=dt.bytesPerElement}function ft(dt,ht){tt.drawElements(ot,ht,st,dt*lt),nt.update(ht,ot,1)}function ut(dt,ht,pt){if(pt===0)return;let gt,mt;if(it)gt=tt,mt="drawElementsInstanced";else if(gt=et.get("ANGLE_instanced_arrays"),mt="drawElementsInstancedANGLE",gt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}gt[mt](ot,ht,st,dt*lt,pt),nt.update(ht,ot,pt)}this.setMode=at,this.setIndex=ct,this.render=ft,this.renderInstances=ut}function WebGLInfo$1(tt){const et={geometries:0,textures:0},nt={frame:0,calls:0,triangles:0,points:0,lines:0};function rt(ot,at,st){switch(nt.calls++,at){case 4:nt.triangles+=st*(ot/3);break;case 1:nt.lines+=st*(ot/2);break;case 3:nt.lines+=st*(ot-1);break;case 2:nt.lines+=st*ot;break;case 0:nt.points+=st*ot;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",at);break}}function it(){nt.frame++,nt.calls=0,nt.triangles=0,nt.points=0,nt.lines=0}return{memory:et,render:nt,programs:null,autoReset:!0,reset:it,update:rt}}function numericalSort$1(tt,et){return tt[0]-et[0]}function absNumericalSort$1(tt,et){return Math.abs(et[1])-Math.abs(tt[1])}function denormalize$2(tt,et){let nt=1;const rt=et.isInterleavedBufferAttribute?et.data.array:et.array;rt instanceof Int8Array?nt=127:rt instanceof Int16Array?nt=32767:rt instanceof Int32Array?nt=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",rt),tt.divideScalar(nt)}function WebGLMorphtargets$1(tt,et,nt){const rt={},it=new Float32Array(8),ot=new WeakMap,at=new Vector4$1,st=[];for(let ct=0;ct<8;ct++)st[ct]=[ct,0];function lt(ct,ft,ut,dt){const ht=ct.morphTargetInfluences;if(et.isWebGL2===!0){const gt=ft.morphAttributes.position||ft.morphAttributes.normal||ft.morphAttributes.color,mt=gt!==void 0?gt.length:0;let yt=ot.get(ft);if(yt===void 0||yt.count!==mt){let Ct=function(){Pt.dispose(),ot.delete(ft),ft.removeEventListener("dispose",Ct)};var pt=Ct;yt!==void 0&&yt.texture.dispose();const xt=ft.morphAttributes.position!==void 0,vt=ft.morphAttributes.normal!==void 0,$t=ft.morphAttributes.color!==void 0,zt=ft.morphAttributes.position||[],Nt=ft.morphAttributes.normal||[],wt=ft.morphAttributes.color||[];let Et=0;xt===!0&&(Et=1),vt===!0&&(Et=2),$t===!0&&(Et=3);let Rt=ft.attributes.position.count*Et,Tt=1;Rt>et.maxTextureSize&&(Tt=Math.ceil(Rt/et.maxTextureSize),Rt=et.maxTextureSize);const It=new Float32Array(Rt*Tt*4*mt),Pt=new DataArrayTexture$1(It,Rt,Tt,mt);Pt.type=FloatType$1,Pt.needsUpdate=!0;const Dt=Et*4;for(let Ot=0;Ot<mt;Ot++){const Ut=zt[Ot],At=Nt[Ot],Mt=wt[Ot],jt=Rt*Tt*4*Ot;for(let kt=0;kt<Ut.count;kt++){const Gt=kt*Dt;xt===!0&&(at.fromBufferAttribute(Ut,kt),Ut.normalized===!0&&denormalize$2(at,Ut),It[jt+Gt+0]=at.x,It[jt+Gt+1]=at.y,It[jt+Gt+2]=at.z,It[jt+Gt+3]=0),vt===!0&&(at.fromBufferAttribute(At,kt),At.normalized===!0&&denormalize$2(at,At),It[jt+Gt+4]=at.x,It[jt+Gt+5]=at.y,It[jt+Gt+6]=at.z,It[jt+Gt+7]=0),$t===!0&&(at.fromBufferAttribute(Mt,kt),Mt.normalized===!0&&denormalize$2(at,Mt),It[jt+Gt+8]=at.x,It[jt+Gt+9]=at.y,It[jt+Gt+10]=at.z,It[jt+Gt+11]=Mt.itemSize===4?at.w:1)}}yt={count:mt,texture:Pt,size:new Vector2$1(Rt,Tt)},ot.set(ft,yt),ft.addEventListener("dispose",Ct)}let bt=0;for(let xt=0;xt<ht.length;xt++)bt+=ht[xt];const St=ft.morphTargetsRelative?1:1-bt;dt.getUniforms().setValue(tt,"morphTargetBaseInfluence",St),dt.getUniforms().setValue(tt,"morphTargetInfluences",ht),dt.getUniforms().setValue(tt,"morphTargetsTexture",yt.texture,nt),dt.getUniforms().setValue(tt,"morphTargetsTextureSize",yt.size)}else{const gt=ht===void 0?0:ht.length;let mt=rt[ft.id];if(mt===void 0||mt.length!==gt){mt=[];for(let vt=0;vt<gt;vt++)mt[vt]=[vt,0];rt[ft.id]=mt}for(let vt=0;vt<gt;vt++){const $t=mt[vt];$t[0]=vt,$t[1]=ht[vt]}mt.sort(absNumericalSort$1);for(let vt=0;vt<8;vt++)vt<gt&&mt[vt][1]?(st[vt][0]=mt[vt][0],st[vt][1]=mt[vt][1]):(st[vt][0]=Number.MAX_SAFE_INTEGER,st[vt][1]=0);st.sort(numericalSort$1);const yt=ft.morphAttributes.position,bt=ft.morphAttributes.normal;let St=0;for(let vt=0;vt<8;vt++){const $t=st[vt],zt=$t[0],Nt=$t[1];zt!==Number.MAX_SAFE_INTEGER&&Nt?(yt&&ft.getAttribute("morphTarget"+vt)!==yt[zt]&&ft.setAttribute("morphTarget"+vt,yt[zt]),bt&&ft.getAttribute("morphNormal"+vt)!==bt[zt]&&ft.setAttribute("morphNormal"+vt,bt[zt]),it[vt]=Nt,St+=Nt):(yt&&ft.hasAttribute("morphTarget"+vt)===!0&&ft.deleteAttribute("morphTarget"+vt),bt&&ft.hasAttribute("morphNormal"+vt)===!0&&ft.deleteAttribute("morphNormal"+vt),it[vt]=0)}const xt=ft.morphTargetsRelative?1:1-St;dt.getUniforms().setValue(tt,"morphTargetBaseInfluence",xt),dt.getUniforms().setValue(tt,"morphTargetInfluences",it)}}return{update:lt}}function WebGLObjects$1(tt,et,nt,rt){let it=new WeakMap;function ot(lt){const ct=rt.render.frame,ft=lt.geometry,ut=et.get(lt,ft);return it.get(ut)!==ct&&(et.update(ut),it.set(ut,ct)),lt.isInstancedMesh&&(lt.hasEventListener("dispose",st)===!1&&lt.addEventListener("dispose",st),nt.update(lt.instanceMatrix,34962),lt.instanceColor!==null&&nt.update(lt.instanceColor,34962)),ut}function at(){it=new WeakMap}function st(lt){const ct=lt.target;ct.removeEventListener("dispose",st),nt.remove(ct.instanceMatrix),ct.instanceColor!==null&&nt.remove(ct.instanceColor)}return{update:ot,dispose:at}}const emptyTexture$1=new Texture$1,emptyArrayTexture$1=new DataArrayTexture$1,empty3dTexture$1=new Data3DTexture$1,emptyCubeTexture$1=new CubeTexture$1,arrayCacheF32$1=[],arrayCacheI32$1=[],mat4array$1=new Float32Array(16),mat3array$1=new Float32Array(9),mat2array$1=new Float32Array(4);function flatten$1(tt,et,nt){const rt=tt[0];if(rt<=0||rt>0)return tt;const it=et*nt;let ot=arrayCacheF32$1[it];if(ot===void 0&&(ot=new Float32Array(it),arrayCacheF32$1[it]=ot),et!==0){rt.toArray(ot,0);for(let at=1,st=0;at!==et;++at)st+=nt,tt[at].toArray(ot,st)}return ot}function arraysEqual$1(tt,et){if(tt.length!==et.length)return!1;for(let nt=0,rt=tt.length;nt<rt;nt++)if(tt[nt]!==et[nt])return!1;return!0}function copyArray$1(tt,et){for(let nt=0,rt=et.length;nt<rt;nt++)tt[nt]=et[nt]}function allocTexUnits$1(tt,et){let nt=arrayCacheI32$1[et];nt===void 0&&(nt=new Int32Array(et),arrayCacheI32$1[et]=nt);for(let rt=0;rt!==et;++rt)nt[rt]=tt.allocateTextureUnit();return nt}function setValueV1f$1(tt,et){const nt=this.cache;nt[0]!==et&&(tt.uniform1f(this.addr,et),nt[0]=et)}function setValueV2f$1(tt,et){const nt=this.cache;if(et.x!==void 0)(nt[0]!==et.x||nt[1]!==et.y)&&(tt.uniform2f(this.addr,et.x,et.y),nt[0]=et.x,nt[1]=et.y);else{if(arraysEqual$1(nt,et))return;tt.uniform2fv(this.addr,et),copyArray$1(nt,et)}}function setValueV3f$1(tt,et){const nt=this.cache;if(et.x!==void 0)(nt[0]!==et.x||nt[1]!==et.y||nt[2]!==et.z)&&(tt.uniform3f(this.addr,et.x,et.y,et.z),nt[0]=et.x,nt[1]=et.y,nt[2]=et.z);else if(et.r!==void 0)(nt[0]!==et.r||nt[1]!==et.g||nt[2]!==et.b)&&(tt.uniform3f(this.addr,et.r,et.g,et.b),nt[0]=et.r,nt[1]=et.g,nt[2]=et.b);else{if(arraysEqual$1(nt,et))return;tt.uniform3fv(this.addr,et),copyArray$1(nt,et)}}function setValueV4f$1(tt,et){const nt=this.cache;if(et.x!==void 0)(nt[0]!==et.x||nt[1]!==et.y||nt[2]!==et.z||nt[3]!==et.w)&&(tt.uniform4f(this.addr,et.x,et.y,et.z,et.w),nt[0]=et.x,nt[1]=et.y,nt[2]=et.z,nt[3]=et.w);else{if(arraysEqual$1(nt,et))return;tt.uniform4fv(this.addr,et),copyArray$1(nt,et)}}function setValueM2$1(tt,et){const nt=this.cache,rt=et.elements;if(rt===void 0){if(arraysEqual$1(nt,et))return;tt.uniformMatrix2fv(this.addr,!1,et),copyArray$1(nt,et)}else{if(arraysEqual$1(nt,rt))return;mat2array$1.set(rt),tt.uniformMatrix2fv(this.addr,!1,mat2array$1),copyArray$1(nt,rt)}}function setValueM3$1(tt,et){const nt=this.cache,rt=et.elements;if(rt===void 0){if(arraysEqual$1(nt,et))return;tt.uniformMatrix3fv(this.addr,!1,et),copyArray$1(nt,et)}else{if(arraysEqual$1(nt,rt))return;mat3array$1.set(rt),tt.uniformMatrix3fv(this.addr,!1,mat3array$1),copyArray$1(nt,rt)}}function setValueM4$1(tt,et){const nt=this.cache,rt=et.elements;if(rt===void 0){if(arraysEqual$1(nt,et))return;tt.uniformMatrix4fv(this.addr,!1,et),copyArray$1(nt,et)}else{if(arraysEqual$1(nt,rt))return;mat4array$1.set(rt),tt.uniformMatrix4fv(this.addr,!1,mat4array$1),copyArray$1(nt,rt)}}function setValueV1i$1(tt,et){const nt=this.cache;nt[0]!==et&&(tt.uniform1i(this.addr,et),nt[0]=et)}function setValueV2i$1(tt,et){const nt=this.cache;arraysEqual$1(nt,et)||(tt.uniform2iv(this.addr,et),copyArray$1(nt,et))}function setValueV3i$1(tt,et){const nt=this.cache;arraysEqual$1(nt,et)||(tt.uniform3iv(this.addr,et),copyArray$1(nt,et))}function setValueV4i$1(tt,et){const nt=this.cache;arraysEqual$1(nt,et)||(tt.uniform4iv(this.addr,et),copyArray$1(nt,et))}function setValueV1ui$1(tt,et){const nt=this.cache;nt[0]!==et&&(tt.uniform1ui(this.addr,et),nt[0]=et)}function setValueV2ui$1(tt,et){const nt=this.cache;arraysEqual$1(nt,et)||(tt.uniform2uiv(this.addr,et),copyArray$1(nt,et))}function setValueV3ui$1(tt,et){const nt=this.cache;arraysEqual$1(nt,et)||(tt.uniform3uiv(this.addr,et),copyArray$1(nt,et))}function setValueV4ui$1(tt,et){const nt=this.cache;arraysEqual$1(nt,et)||(tt.uniform4uiv(this.addr,et),copyArray$1(nt,et))}function setValueT1$1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture2D(et||emptyTexture$1,it)}function setValueT3D1$1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture3D(et||empty3dTexture$1,it)}function setValueT6$1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTextureCube(et||emptyCubeTexture$1,it)}function setValueT2DArray1$1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture2DArray(et||emptyArrayTexture$1,it)}function getSingularSetter$1(tt){switch(tt){case 5126:return setValueV1f$1;case 35664:return setValueV2f$1;case 35665:return setValueV3f$1;case 35666:return setValueV4f$1;case 35674:return setValueM2$1;case 35675:return setValueM3$1;case 35676:return setValueM4$1;case 5124:case 35670:return setValueV1i$1;case 35667:case 35671:return setValueV2i$1;case 35668:case 35672:return setValueV3i$1;case 35669:case 35673:return setValueV4i$1;case 5125:return setValueV1ui$1;case 36294:return setValueV2ui$1;case 36295:return setValueV3ui$1;case 36296:return setValueV4ui$1;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1$1;case 35679:case 36299:case 36307:return setValueT3D1$1;case 35680:case 36300:case 36308:case 36293:return setValueT6$1;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1$1}}function setValueV1fArray$1(tt,et){tt.uniform1fv(this.addr,et)}function setValueV2fArray$1(tt,et){const nt=flatten$1(et,this.size,2);tt.uniform2fv(this.addr,nt)}function setValueV3fArray$1(tt,et){const nt=flatten$1(et,this.size,3);tt.uniform3fv(this.addr,nt)}function setValueV4fArray$1(tt,et){const nt=flatten$1(et,this.size,4);tt.uniform4fv(this.addr,nt)}function setValueM2Array$1(tt,et){const nt=flatten$1(et,this.size,4);tt.uniformMatrix2fv(this.addr,!1,nt)}function setValueM3Array$1(tt,et){const nt=flatten$1(et,this.size,9);tt.uniformMatrix3fv(this.addr,!1,nt)}function setValueM4Array$1(tt,et){const nt=flatten$1(et,this.size,16);tt.uniformMatrix4fv(this.addr,!1,nt)}function setValueV1iArray$1(tt,et){tt.uniform1iv(this.addr,et)}function setValueV2iArray$1(tt,et){tt.uniform2iv(this.addr,et)}function setValueV3iArray$1(tt,et){tt.uniform3iv(this.addr,et)}function setValueV4iArray$1(tt,et){tt.uniform4iv(this.addr,et)}function setValueV1uiArray$1(tt,et){tt.uniform1uiv(this.addr,et)}function setValueV2uiArray$1(tt,et){tt.uniform2uiv(this.addr,et)}function setValueV3uiArray$1(tt,et){tt.uniform3uiv(this.addr,et)}function setValueV4uiArray$1(tt,et){tt.uniform4uiv(this.addr,et)}function setValueT1Array$1(tt,et,nt){const rt=et.length,it=allocTexUnits$1(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTexture2D(et[ot]||emptyTexture$1,it[ot])}function setValueT3DArray$1(tt,et,nt){const rt=et.length,it=allocTexUnits$1(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTexture3D(et[ot]||empty3dTexture$1,it[ot])}function setValueT6Array$1(tt,et,nt){const rt=et.length,it=allocTexUnits$1(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTextureCube(et[ot]||emptyCubeTexture$1,it[ot])}function setValueT2DArrayArray$1(tt,et,nt){const rt=et.length,it=allocTexUnits$1(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTexture2DArray(et[ot]||emptyArrayTexture$1,it[ot])}function getPureArraySetter$1(tt){switch(tt){case 5126:return setValueV1fArray$1;case 35664:return setValueV2fArray$1;case 35665:return setValueV3fArray$1;case 35666:return setValueV4fArray$1;case 35674:return setValueM2Array$1;case 35675:return setValueM3Array$1;case 35676:return setValueM4Array$1;case 5124:case 35670:return setValueV1iArray$1;case 35667:case 35671:return setValueV2iArray$1;case 35668:case 35672:return setValueV3iArray$1;case 35669:case 35673:return setValueV4iArray$1;case 5125:return setValueV1uiArray$1;case 36294:return setValueV2uiArray$1;case 36295:return setValueV3uiArray$1;case 36296:return setValueV4uiArray$1;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array$1;case 35679:case 36299:case 36307:return setValueT3DArray$1;case 35680:case 36300:case 36308:case 36293:return setValueT6Array$1;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray$1}}function SingleUniform$1(tt,et,nt){this.id=tt,this.addr=nt,this.cache=[],this.setValue=getSingularSetter$1(et.type)}function PureArrayUniform$1(tt,et,nt){this.id=tt,this.addr=nt,this.cache=[],this.size=et.size,this.setValue=getPureArraySetter$1(et.type)}function StructuredUniform$1(tt){this.id=tt,this.seq=[],this.map={}}StructuredUniform$1.prototype.setValue=function(tt,et,nt){const rt=this.seq;for(let it=0,ot=rt.length;it!==ot;++it){const at=rt[it];at.setValue(tt,et[at.id],nt)}};const RePathPart$1=/(\w+)(\])?(\[|\.)?/g;function addUniform$1(tt,et){tt.seq.push(et),tt.map[et.id]=et}function parseUniform$1(tt,et,nt){const rt=tt.name,it=rt.length;for(RePathPart$1.lastIndex=0;;){const ot=RePathPart$1.exec(rt),at=RePathPart$1.lastIndex;let st=ot[1];const lt=ot[2]==="]",ct=ot[3];if(lt&&(st=st|0),ct===void 0||ct==="["&&at+2===it){addUniform$1(nt,ct===void 0?new SingleUniform$1(st,tt,et):new PureArrayUniform$1(st,tt,et));break}else{let ut=nt.map[st];ut===void 0&&(ut=new StructuredUniform$1(st),addUniform$1(nt,ut)),nt=ut}}}function WebGLUniforms$1(tt,et){this.seq=[],this.map={};const nt=tt.getProgramParameter(et,35718);for(let rt=0;rt<nt;++rt){const it=tt.getActiveUniform(et,rt),ot=tt.getUniformLocation(et,it.name);parseUniform$1(it,ot,this)}}WebGLUniforms$1.prototype.setValue=function(tt,et,nt,rt){const it=this.map[et];it!==void 0&&it.setValue(tt,nt,rt)};WebGLUniforms$1.prototype.setOptional=function(tt,et,nt){const rt=et[nt];rt!==void 0&&this.setValue(tt,nt,rt)};WebGLUniforms$1.upload=function(tt,et,nt,rt){for(let it=0,ot=et.length;it!==ot;++it){const at=et[it],st=nt[at.id];st.needsUpdate!==!1&&at.setValue(tt,st.value,rt)}};WebGLUniforms$1.seqWithValue=function(tt,et){const nt=[];for(let rt=0,it=tt.length;rt!==it;++rt){const ot=tt[rt];ot.id in et&&nt.push(ot)}return nt};function WebGLShader$1(tt,et,nt){const rt=tt.createShader(et);return tt.shaderSource(rt,nt),tt.compileShader(rt),rt}let programIdCount$1=0;function handleSource$1(tt,et){const nt=tt.split(`
`),rt=[],it=Math.max(et-6,0),ot=Math.min(et+6,nt.length);for(let at=it;at<ot;at++)rt.push(at+1+": "+nt[at]);return rt.join(`
`)}function getEncodingComponents$1(tt){switch(tt){case LinearEncoding$1:return["Linear","( value )"];case sRGBEncoding$1:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",tt),["Linear","( value )"]}}function getShaderErrors$1(tt,et,nt){const rt=tt.getShaderParameter(et,35713),it=tt.getShaderInfoLog(et).trim();if(rt&&it==="")return"";const ot=/ERROR: 0:(\d+)/.exec(it);if(ot){const at=parseInt(ot[0]);return nt.toUpperCase()+`

`+it+`

`+handleSource$1(tt.getShaderSource(et),at)}else return it}function getTexelEncodingFunction$1(tt,et){const nt=getEncodingComponents$1(et);return"vec4 "+tt+"( vec4 value ) { return LinearTo"+nt[0]+nt[1]+"; }"}function getToneMappingFunction$1(tt,et){let nt;switch(et){case LinearToneMapping$1:nt="Linear";break;case ReinhardToneMapping$1:nt="Reinhard";break;case CineonToneMapping$1:nt="OptimizedCineon";break;case ACESFilmicToneMapping$1:nt="ACESFilmic";break;case CustomToneMapping$1:nt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",et),nt="Linear"}return"vec3 "+tt+"( vec3 color ) { return "+nt+"ToneMapping( color ); }"}function generateExtensions$1(tt){return[tt.extensionDerivatives||!!tt.envMapCubeUVHeight||tt.bumpMap||tt.tangentSpaceNormalMap||tt.clearcoatNormalMap||tt.flatShading||tt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(tt.extensionFragDepth||tt.logarithmicDepthBuffer)&&tt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",tt.extensionDrawBuffers&&tt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(tt.extensionShaderTextureLOD||tt.envMap||tt.transmission)&&tt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine$1).join(`
`)}function generateDefines$1(tt){const et=[];for(const nt in tt){const rt=tt[nt];rt!==!1&&et.push("#define "+nt+" "+rt)}return et.join(`
`)}function fetchAttributeLocations$1(tt,et){const nt={},rt=tt.getProgramParameter(et,35721);for(let it=0;it<rt;it++){const ot=tt.getActiveAttrib(et,it),at=ot.name;let st=1;ot.type===35674&&(st=2),ot.type===35675&&(st=3),ot.type===35676&&(st=4),nt[at]={type:ot.type,location:tt.getAttribLocation(et,at),locationSize:st}}return nt}function filterEmptyLine$1(tt){return tt!==""}function replaceLightNums$1(tt,et){return tt.replace(/NUM_DIR_LIGHTS/g,et.numDirLights).replace(/NUM_SPOT_LIGHTS/g,et.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,et.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,et.numPointLights).replace(/NUM_HEMI_LIGHTS/g,et.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,et.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,et.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,et.numPointLightShadows)}function replaceClippingPlaneNums$1(tt,et){return tt.replace(/NUM_CLIPPING_PLANES/g,et.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,et.numClippingPlanes-et.numClipIntersection)}const includePattern$1=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes$1(tt){return tt.replace(includePattern$1,includeReplacer$1)}function includeReplacer$1(tt,et){const nt=ShaderChunk$1[et];if(nt===void 0)throw new Error("Can not resolve #include <"+et+">");return resolveIncludes$1(nt)}const deprecatedUnrollLoopPattern$1=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern$1=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops$1(tt){return tt.replace(unrollLoopPattern$1,loopReplacer$1).replace(deprecatedUnrollLoopPattern$1,deprecatedLoopReplacer$1)}function deprecatedLoopReplacer$1(tt,et,nt,rt){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer$1(tt,et,nt,rt)}function loopReplacer$1(tt,et,nt,rt){let it="";for(let ot=parseInt(et);ot<parseInt(nt);ot++)it+=rt.replace(/\[\s*i\s*\]/g,"[ "+ot+" ]").replace(/UNROLLED_LOOP_INDEX/g,ot);return it}function generatePrecision$1(tt){let et="precision "+tt.precision+` float;
precision `+tt.precision+" int;";return tt.precision==="highp"?et+=`
#define HIGH_PRECISION`:tt.precision==="mediump"?et+=`
#define MEDIUM_PRECISION`:tt.precision==="lowp"&&(et+=`
#define LOW_PRECISION`),et}function generateShadowMapTypeDefine$1(tt){let et="SHADOWMAP_TYPE_BASIC";return tt.shadowMapType===PCFShadowMap$1?et="SHADOWMAP_TYPE_PCF":tt.shadowMapType===PCFSoftShadowMap$1?et="SHADOWMAP_TYPE_PCF_SOFT":tt.shadowMapType===VSMShadowMap$1&&(et="SHADOWMAP_TYPE_VSM"),et}function generateEnvMapTypeDefine$1(tt){let et="ENVMAP_TYPE_CUBE";if(tt.envMap)switch(tt.envMapMode){case CubeReflectionMapping$1:case CubeRefractionMapping$1:et="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping$1:et="ENVMAP_TYPE_CUBE_UV";break}return et}function generateEnvMapModeDefine$1(tt){let et="ENVMAP_MODE_REFLECTION";if(tt.envMap)switch(tt.envMapMode){case CubeRefractionMapping$1:et="ENVMAP_MODE_REFRACTION";break}return et}function generateEnvMapBlendingDefine$1(tt){let et="ENVMAP_BLENDING_NONE";if(tt.envMap)switch(tt.combine){case MultiplyOperation$1:et="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation$1:et="ENVMAP_BLENDING_MIX";break;case AddOperation$1:et="ENVMAP_BLENDING_ADD";break}return et}function generateCubeUVSize$1(tt){const et=tt.envMapCubeUVHeight;if(et===null)return null;const nt=Math.log2(et)-2,rt=1/et;return{texelWidth:1/(3*Math.max(Math.pow(2,nt),7*16)),texelHeight:rt,maxMip:nt}}function WebGLProgram$1(tt,et,nt,rt){const it=tt.getContext(),ot=nt.defines;let at=nt.vertexShader,st=nt.fragmentShader;const lt=generateShadowMapTypeDefine$1(nt),ct=generateEnvMapTypeDefine$1(nt),ft=generateEnvMapModeDefine$1(nt),ut=generateEnvMapBlendingDefine$1(nt),dt=generateCubeUVSize$1(nt),ht=nt.isWebGL2?"":generateExtensions$1(nt),pt=generateDefines$1(ot),gt=it.createProgram();let mt,yt,bt=nt.glslVersion?"#version "+nt.glslVersion+`
`:"";nt.isRawShaderMaterial?(mt=[pt].filter(filterEmptyLine$1).join(`
`),mt.length>0&&(mt+=`
`),yt=[ht,pt].filter(filterEmptyLine$1).join(`
`),yt.length>0&&(yt+=`
`)):(mt=[generatePrecision$1(nt),"#define SHADER_NAME "+nt.shaderName,pt,nt.instancing?"#define USE_INSTANCING":"",nt.instancingColor?"#define USE_INSTANCING_COLOR":"",nt.supportsVertexTextures?"#define VERTEX_TEXTURES":"",nt.useFog&&nt.fog?"#define USE_FOG":"",nt.useFog&&nt.fogExp2?"#define FOG_EXP2":"",nt.map?"#define USE_MAP":"",nt.envMap?"#define USE_ENVMAP":"",nt.envMap?"#define "+ft:"",nt.lightMap?"#define USE_LIGHTMAP":"",nt.aoMap?"#define USE_AOMAP":"",nt.emissiveMap?"#define USE_EMISSIVEMAP":"",nt.bumpMap?"#define USE_BUMPMAP":"",nt.normalMap?"#define USE_NORMALMAP":"",nt.normalMap&&nt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",nt.normalMap&&nt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",nt.clearcoatMap?"#define USE_CLEARCOATMAP":"",nt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",nt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",nt.displacementMap&&nt.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",nt.specularMap?"#define USE_SPECULARMAP":"",nt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",nt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",nt.roughnessMap?"#define USE_ROUGHNESSMAP":"",nt.metalnessMap?"#define USE_METALNESSMAP":"",nt.alphaMap?"#define USE_ALPHAMAP":"",nt.transmission?"#define USE_TRANSMISSION":"",nt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",nt.thicknessMap?"#define USE_THICKNESSMAP":"",nt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",nt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",nt.vertexTangents?"#define USE_TANGENT":"",nt.vertexColors?"#define USE_COLOR":"",nt.vertexAlphas?"#define USE_COLOR_ALPHA":"",nt.vertexUvs?"#define USE_UV":"",nt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",nt.flatShading?"#define FLAT_SHADED":"",nt.skinning?"#define USE_SKINNING":"",nt.morphTargets?"#define USE_MORPHTARGETS":"",nt.morphNormals&&nt.flatShading===!1?"#define USE_MORPHNORMALS":"",nt.morphColors&&nt.isWebGL2?"#define USE_MORPHCOLORS":"",nt.morphTargetsCount>0&&nt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",nt.morphTargetsCount>0&&nt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+nt.morphTextureStride:"",nt.morphTargetsCount>0&&nt.isWebGL2?"#define MORPHTARGETS_COUNT "+nt.morphTargetsCount:"",nt.doubleSided?"#define DOUBLE_SIDED":"",nt.flipSided?"#define FLIP_SIDED":"",nt.shadowMapEnabled?"#define USE_SHADOWMAP":"",nt.shadowMapEnabled?"#define "+lt:"",nt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",nt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",nt.logarithmicDepthBuffer&&nt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine$1).join(`
`),yt=[ht,generatePrecision$1(nt),"#define SHADER_NAME "+nt.shaderName,pt,nt.useFog&&nt.fog?"#define USE_FOG":"",nt.useFog&&nt.fogExp2?"#define FOG_EXP2":"",nt.map?"#define USE_MAP":"",nt.matcap?"#define USE_MATCAP":"",nt.envMap?"#define USE_ENVMAP":"",nt.envMap?"#define "+ct:"",nt.envMap?"#define "+ft:"",nt.envMap?"#define "+ut:"",dt?"#define CUBEUV_TEXEL_WIDTH "+dt.texelWidth:"",dt?"#define CUBEUV_TEXEL_HEIGHT "+dt.texelHeight:"",dt?"#define CUBEUV_MAX_MIP "+dt.maxMip+".0":"",nt.lightMap?"#define USE_LIGHTMAP":"",nt.aoMap?"#define USE_AOMAP":"",nt.emissiveMap?"#define USE_EMISSIVEMAP":"",nt.bumpMap?"#define USE_BUMPMAP":"",nt.normalMap?"#define USE_NORMALMAP":"",nt.normalMap&&nt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",nt.normalMap&&nt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",nt.clearcoat?"#define USE_CLEARCOAT":"",nt.clearcoatMap?"#define USE_CLEARCOATMAP":"",nt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",nt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",nt.specularMap?"#define USE_SPECULARMAP":"",nt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",nt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",nt.roughnessMap?"#define USE_ROUGHNESSMAP":"",nt.metalnessMap?"#define USE_METALNESSMAP":"",nt.alphaMap?"#define USE_ALPHAMAP":"",nt.alphaTest?"#define USE_ALPHATEST":"",nt.sheen?"#define USE_SHEEN":"",nt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",nt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",nt.transmission?"#define USE_TRANSMISSION":"",nt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",nt.thicknessMap?"#define USE_THICKNESSMAP":"",nt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",nt.vertexTangents?"#define USE_TANGENT":"",nt.vertexColors||nt.instancingColor?"#define USE_COLOR":"",nt.vertexAlphas?"#define USE_COLOR_ALPHA":"",nt.vertexUvs?"#define USE_UV":"",nt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",nt.gradientMap?"#define USE_GRADIENTMAP":"",nt.flatShading?"#define FLAT_SHADED":"",nt.doubleSided?"#define DOUBLE_SIDED":"",nt.flipSided?"#define FLIP_SIDED":"",nt.shadowMapEnabled?"#define USE_SHADOWMAP":"",nt.shadowMapEnabled?"#define "+lt:"",nt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",nt.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",nt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",nt.logarithmicDepthBuffer&&nt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",nt.toneMapping!==NoToneMapping$1?"#define TONE_MAPPING":"",nt.toneMapping!==NoToneMapping$1?ShaderChunk$1.tonemapping_pars_fragment:"",nt.toneMapping!==NoToneMapping$1?getToneMappingFunction$1("toneMapping",nt.toneMapping):"",nt.dithering?"#define DITHERING":"",nt.opaque?"#define OPAQUE":"",ShaderChunk$1.encodings_pars_fragment,getTexelEncodingFunction$1("linearToOutputTexel",nt.outputEncoding),nt.useDepthPacking?"#define DEPTH_PACKING "+nt.depthPacking:"",`
`].filter(filterEmptyLine$1).join(`
`)),at=resolveIncludes$1(at),at=replaceLightNums$1(at,nt),at=replaceClippingPlaneNums$1(at,nt),st=resolveIncludes$1(st),st=replaceLightNums$1(st,nt),st=replaceClippingPlaneNums$1(st,nt),at=unrollLoops$1(at),st=unrollLoops$1(st),nt.isWebGL2&&nt.isRawShaderMaterial!==!0&&(bt=`#version 300 es
`,mt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+mt,yt=["#define varying in",nt.glslVersion===GLSL3$1?"":"layout(location = 0) out highp vec4 pc_fragColor;",nt.glslVersion===GLSL3$1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+yt);const St=bt+mt+at,xt=bt+yt+st,vt=WebGLShader$1(it,35633,St),$t=WebGLShader$1(it,35632,xt);if(it.attachShader(gt,vt),it.attachShader(gt,$t),nt.index0AttributeName!==void 0?it.bindAttribLocation(gt,0,nt.index0AttributeName):nt.morphTargets===!0&&it.bindAttribLocation(gt,0,"position"),it.linkProgram(gt),tt.debug.checkShaderErrors){const wt=it.getProgramInfoLog(gt).trim(),Et=it.getShaderInfoLog(vt).trim(),Rt=it.getShaderInfoLog($t).trim();let Tt=!0,It=!0;if(it.getProgramParameter(gt,35714)===!1){Tt=!1;const Pt=getShaderErrors$1(it,vt,"vertex"),Dt=getShaderErrors$1(it,$t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+it.getError()+" - VALIDATE_STATUS "+it.getProgramParameter(gt,35715)+`

Program Info Log: `+wt+`
`+Pt+`
`+Dt)}else wt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",wt):(Et===""||Rt==="")&&(It=!1);It&&(this.diagnostics={runnable:Tt,programLog:wt,vertexShader:{log:Et,prefix:mt},fragmentShader:{log:Rt,prefix:yt}})}it.deleteShader(vt),it.deleteShader($t);let zt;this.getUniforms=function(){return zt===void 0&&(zt=new WebGLUniforms$1(it,gt)),zt};let Nt;return this.getAttributes=function(){return Nt===void 0&&(Nt=fetchAttributeLocations$1(it,gt)),Nt},this.destroy=function(){rt.releaseStatesOfProgram(this),it.deleteProgram(gt),this.program=void 0},this.name=nt.shaderName,this.id=programIdCount$1++,this.cacheKey=et,this.usedTimes=1,this.program=gt,this.vertexShader=vt,this.fragmentShader=$t,this}let _id$2=0;class WebGLShaderCache$1{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(et){const nt=et.vertexShader,rt=et.fragmentShader,it=this._getShaderStage(nt),ot=this._getShaderStage(rt),at=this._getShaderCacheForMaterial(et);return at.has(it)===!1&&(at.add(it),it.usedTimes++),at.has(ot)===!1&&(at.add(ot),ot.usedTimes++),this}remove(et){const nt=this.materialCache.get(et);for(const rt of nt)rt.usedTimes--,rt.usedTimes===0&&this.shaderCache.delete(rt.code);return this.materialCache.delete(et),this}getVertexShaderID(et){return this._getShaderStage(et.vertexShader).id}getFragmentShaderID(et){return this._getShaderStage(et.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(et){const nt=this.materialCache;return nt.has(et)===!1&&nt.set(et,new Set),nt.get(et)}_getShaderStage(et){const nt=this.shaderCache;if(nt.has(et)===!1){const rt=new WebGLShaderStage$1(et);nt.set(et,rt)}return nt.get(et)}}class WebGLShaderStage$1{constructor(et){this.id=_id$2++,this.code=et,this.usedTimes=0}}function WebGLPrograms$1(tt,et,nt,rt,it,ot,at){const st=new Layers$1,lt=new WebGLShaderCache$1,ct=[],ft=it.isWebGL2,ut=it.logarithmicDepthBuffer,dt=it.vertexTextures;let ht=it.precision;const pt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function gt(Nt,wt,Et,Rt,Tt){const It=Rt.fog,Pt=Tt.geometry,Dt=Nt.isMeshStandardMaterial?Rt.environment:null,Ct=(Nt.isMeshStandardMaterial?nt:et).get(Nt.envMap||Dt),Ot=!!Ct&&Ct.mapping===CubeUVReflectionMapping$1?Ct.image.height:null,Ut=pt[Nt.type];Nt.precision!==null&&(ht=it.getMaxPrecision(Nt.precision),ht!==Nt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Nt.precision,"not supported, using",ht,"instead."));const At=Pt.morphAttributes.position||Pt.morphAttributes.normal||Pt.morphAttributes.color,Mt=At!==void 0?At.length:0;let jt=0;Pt.morphAttributes.position!==void 0&&(jt=1),Pt.morphAttributes.normal!==void 0&&(jt=2),Pt.morphAttributes.color!==void 0&&(jt=3);let kt,Gt,Ht,Jt;if(Ut){const Ft=ShaderLib$1[Ut];kt=Ft.vertexShader,Gt=Ft.fragmentShader}else kt=Nt.vertexShader,Gt=Nt.fragmentShader,lt.update(Nt),Ht=lt.getVertexShaderID(Nt),Jt=lt.getFragmentShaderID(Nt);const Vt=tt.getRenderTarget(),Wt=Nt.alphaTest>0,Lt=Nt.clearcoat>0;return{isWebGL2:ft,shaderID:Ut,shaderName:Nt.type,vertexShader:kt,fragmentShader:Gt,defines:Nt.defines,customVertexShaderID:Ht,customFragmentShaderID:Jt,isRawShaderMaterial:Nt.isRawShaderMaterial===!0,glslVersion:Nt.glslVersion,precision:ht,instancing:Tt.isInstancedMesh===!0,instancingColor:Tt.isInstancedMesh===!0&&Tt.instanceColor!==null,supportsVertexTextures:dt,outputEncoding:Vt===null?tt.outputEncoding:Vt.isXRRenderTarget===!0?Vt.texture.encoding:LinearEncoding$1,map:!!Nt.map,matcap:!!Nt.matcap,envMap:!!Ct,envMapMode:Ct&&Ct.mapping,envMapCubeUVHeight:Ot,lightMap:!!Nt.lightMap,aoMap:!!Nt.aoMap,emissiveMap:!!Nt.emissiveMap,bumpMap:!!Nt.bumpMap,normalMap:!!Nt.normalMap,objectSpaceNormalMap:Nt.normalMapType===ObjectSpaceNormalMap$1,tangentSpaceNormalMap:Nt.normalMapType===TangentSpaceNormalMap$1,decodeVideoTexture:!!Nt.map&&Nt.map.isVideoTexture===!0&&Nt.map.encoding===sRGBEncoding$1,clearcoat:Lt,clearcoatMap:Lt&&!!Nt.clearcoatMap,clearcoatRoughnessMap:Lt&&!!Nt.clearcoatRoughnessMap,clearcoatNormalMap:Lt&&!!Nt.clearcoatNormalMap,displacementMap:!!Nt.displacementMap,roughnessMap:!!Nt.roughnessMap,metalnessMap:!!Nt.metalnessMap,specularMap:!!Nt.specularMap,specularIntensityMap:!!Nt.specularIntensityMap,specularColorMap:!!Nt.specularColorMap,opaque:Nt.transparent===!1&&Nt.blending===NormalBlending$1,alphaMap:!!Nt.alphaMap,alphaTest:Wt,gradientMap:!!Nt.gradientMap,sheen:Nt.sheen>0,sheenColorMap:!!Nt.sheenColorMap,sheenRoughnessMap:!!Nt.sheenRoughnessMap,transmission:Nt.transmission>0,transmissionMap:!!Nt.transmissionMap,thicknessMap:!!Nt.thicknessMap,combine:Nt.combine,vertexTangents:!!Nt.normalMap&&!!Pt.attributes.tangent,vertexColors:Nt.vertexColors,vertexAlphas:Nt.vertexColors===!0&&!!Pt.attributes.color&&Pt.attributes.color.itemSize===4,vertexUvs:!!Nt.map||!!Nt.bumpMap||!!Nt.normalMap||!!Nt.specularMap||!!Nt.alphaMap||!!Nt.emissiveMap||!!Nt.roughnessMap||!!Nt.metalnessMap||!!Nt.clearcoatMap||!!Nt.clearcoatRoughnessMap||!!Nt.clearcoatNormalMap||!!Nt.displacementMap||!!Nt.transmissionMap||!!Nt.thicknessMap||!!Nt.specularIntensityMap||!!Nt.specularColorMap||!!Nt.sheenColorMap||!!Nt.sheenRoughnessMap,uvsVertexOnly:!(!!Nt.map||!!Nt.bumpMap||!!Nt.normalMap||!!Nt.specularMap||!!Nt.alphaMap||!!Nt.emissiveMap||!!Nt.roughnessMap||!!Nt.metalnessMap||!!Nt.clearcoatNormalMap||Nt.transmission>0||!!Nt.transmissionMap||!!Nt.thicknessMap||!!Nt.specularIntensityMap||!!Nt.specularColorMap||Nt.sheen>0||!!Nt.sheenColorMap||!!Nt.sheenRoughnessMap)&&!!Nt.displacementMap,fog:!!It,useFog:Nt.fog===!0,fogExp2:It&&It.isFogExp2,flatShading:!!Nt.flatShading,sizeAttenuation:Nt.sizeAttenuation,logarithmicDepthBuffer:ut,skinning:Tt.isSkinnedMesh===!0,morphTargets:Pt.morphAttributes.position!==void 0,morphNormals:Pt.morphAttributes.normal!==void 0,morphColors:Pt.morphAttributes.color!==void 0,morphTargetsCount:Mt,morphTextureStride:jt,numDirLights:wt.directional.length,numPointLights:wt.point.length,numSpotLights:wt.spot.length,numRectAreaLights:wt.rectArea.length,numHemiLights:wt.hemi.length,numDirLightShadows:wt.directionalShadowMap.length,numPointLightShadows:wt.pointShadowMap.length,numSpotLightShadows:wt.spotShadowMap.length,numClippingPlanes:at.numPlanes,numClipIntersection:at.numIntersection,dithering:Nt.dithering,shadowMapEnabled:tt.shadowMap.enabled&&Et.length>0,shadowMapType:tt.shadowMap.type,toneMapping:Nt.toneMapped?tt.toneMapping:NoToneMapping$1,physicallyCorrectLights:tt.physicallyCorrectLights,premultipliedAlpha:Nt.premultipliedAlpha,doubleSided:Nt.side===DoubleSide$1,flipSided:Nt.side===BackSide$1,useDepthPacking:!!Nt.depthPacking,depthPacking:Nt.depthPacking||0,index0AttributeName:Nt.index0AttributeName,extensionDerivatives:Nt.extensions&&Nt.extensions.derivatives,extensionFragDepth:Nt.extensions&&Nt.extensions.fragDepth,extensionDrawBuffers:Nt.extensions&&Nt.extensions.drawBuffers,extensionShaderTextureLOD:Nt.extensions&&Nt.extensions.shaderTextureLOD,rendererExtensionFragDepth:ft||rt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ft||rt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ft||rt.has("EXT_shader_texture_lod"),customProgramCacheKey:Nt.customProgramCacheKey()}}function mt(Nt){const wt=[];if(Nt.shaderID?wt.push(Nt.shaderID):(wt.push(Nt.customVertexShaderID),wt.push(Nt.customFragmentShaderID)),Nt.defines!==void 0)for(const Et in Nt.defines)wt.push(Et),wt.push(Nt.defines[Et]);return Nt.isRawShaderMaterial===!1&&(yt(wt,Nt),bt(wt,Nt),wt.push(tt.outputEncoding)),wt.push(Nt.customProgramCacheKey),wt.join()}function yt(Nt,wt){Nt.push(wt.precision),Nt.push(wt.outputEncoding),Nt.push(wt.envMapMode),Nt.push(wt.envMapCubeUVHeight),Nt.push(wt.combine),Nt.push(wt.vertexUvs),Nt.push(wt.fogExp2),Nt.push(wt.sizeAttenuation),Nt.push(wt.morphTargetsCount),Nt.push(wt.morphAttributeCount),Nt.push(wt.numDirLights),Nt.push(wt.numPointLights),Nt.push(wt.numSpotLights),Nt.push(wt.numHemiLights),Nt.push(wt.numRectAreaLights),Nt.push(wt.numDirLightShadows),Nt.push(wt.numPointLightShadows),Nt.push(wt.numSpotLightShadows),Nt.push(wt.shadowMapType),Nt.push(wt.toneMapping),Nt.push(wt.numClippingPlanes),Nt.push(wt.numClipIntersection),Nt.push(wt.depthPacking)}function bt(Nt,wt){st.disableAll(),wt.isWebGL2&&st.enable(0),wt.supportsVertexTextures&&st.enable(1),wt.instancing&&st.enable(2),wt.instancingColor&&st.enable(3),wt.map&&st.enable(4),wt.matcap&&st.enable(5),wt.envMap&&st.enable(6),wt.lightMap&&st.enable(7),wt.aoMap&&st.enable(8),wt.emissiveMap&&st.enable(9),wt.bumpMap&&st.enable(10),wt.normalMap&&st.enable(11),wt.objectSpaceNormalMap&&st.enable(12),wt.tangentSpaceNormalMap&&st.enable(13),wt.clearcoat&&st.enable(14),wt.clearcoatMap&&st.enable(15),wt.clearcoatRoughnessMap&&st.enable(16),wt.clearcoatNormalMap&&st.enable(17),wt.displacementMap&&st.enable(18),wt.specularMap&&st.enable(19),wt.roughnessMap&&st.enable(20),wt.metalnessMap&&st.enable(21),wt.gradientMap&&st.enable(22),wt.alphaMap&&st.enable(23),wt.alphaTest&&st.enable(24),wt.vertexColors&&st.enable(25),wt.vertexAlphas&&st.enable(26),wt.vertexUvs&&st.enable(27),wt.vertexTangents&&st.enable(28),wt.uvsVertexOnly&&st.enable(29),wt.fog&&st.enable(30),Nt.push(st.mask),st.disableAll(),wt.useFog&&st.enable(0),wt.flatShading&&st.enable(1),wt.logarithmicDepthBuffer&&st.enable(2),wt.skinning&&st.enable(3),wt.morphTargets&&st.enable(4),wt.morphNormals&&st.enable(5),wt.morphColors&&st.enable(6),wt.premultipliedAlpha&&st.enable(7),wt.shadowMapEnabled&&st.enable(8),wt.physicallyCorrectLights&&st.enable(9),wt.doubleSided&&st.enable(10),wt.flipSided&&st.enable(11),wt.useDepthPacking&&st.enable(12),wt.dithering&&st.enable(13),wt.specularIntensityMap&&st.enable(14),wt.specularColorMap&&st.enable(15),wt.transmission&&st.enable(16),wt.transmissionMap&&st.enable(17),wt.thicknessMap&&st.enable(18),wt.sheen&&st.enable(19),wt.sheenColorMap&&st.enable(20),wt.sheenRoughnessMap&&st.enable(21),wt.decodeVideoTexture&&st.enable(22),wt.opaque&&st.enable(23),Nt.push(st.mask)}function St(Nt){const wt=pt[Nt.type];let Et;if(wt){const Rt=ShaderLib$1[wt];Et=UniformsUtils$1.clone(Rt.uniforms)}else Et=Nt.uniforms;return Et}function xt(Nt,wt){let Et;for(let Rt=0,Tt=ct.length;Rt<Tt;Rt++){const It=ct[Rt];if(It.cacheKey===wt){Et=It,++Et.usedTimes;break}}return Et===void 0&&(Et=new WebGLProgram$1(tt,wt,Nt,ot),ct.push(Et)),Et}function vt(Nt){if(--Nt.usedTimes===0){const wt=ct.indexOf(Nt);ct[wt]=ct[ct.length-1],ct.pop(),Nt.destroy()}}function $t(Nt){lt.remove(Nt)}function zt(){lt.dispose()}return{getParameters:gt,getProgramCacheKey:mt,getUniforms:St,acquireProgram:xt,releaseProgram:vt,releaseShaderCache:$t,programs:ct,dispose:zt}}function WebGLProperties$1(){let tt=new WeakMap;function et(ot){let at=tt.get(ot);return at===void 0&&(at={},tt.set(ot,at)),at}function nt(ot){tt.delete(ot)}function rt(ot,at,st){tt.get(ot)[at]=st}function it(){tt=new WeakMap}return{get:et,remove:nt,update:rt,dispose:it}}function painterSortStable$1(tt,et){return tt.groupOrder!==et.groupOrder?tt.groupOrder-et.groupOrder:tt.renderOrder!==et.renderOrder?tt.renderOrder-et.renderOrder:tt.material.id!==et.material.id?tt.material.id-et.material.id:tt.z!==et.z?tt.z-et.z:tt.id-et.id}function reversePainterSortStable$1(tt,et){return tt.groupOrder!==et.groupOrder?tt.groupOrder-et.groupOrder:tt.renderOrder!==et.renderOrder?tt.renderOrder-et.renderOrder:tt.z!==et.z?et.z-tt.z:tt.id-et.id}function WebGLRenderList$1(){const tt=[];let et=0;const nt=[],rt=[],it=[];function ot(){et=0,nt.length=0,rt.length=0,it.length=0}function at(ut,dt,ht,pt,gt,mt){let yt=tt[et];return yt===void 0?(yt={id:ut.id,object:ut,geometry:dt,material:ht,groupOrder:pt,renderOrder:ut.renderOrder,z:gt,group:mt},tt[et]=yt):(yt.id=ut.id,yt.object=ut,yt.geometry=dt,yt.material=ht,yt.groupOrder=pt,yt.renderOrder=ut.renderOrder,yt.z=gt,yt.group=mt),et++,yt}function st(ut,dt,ht,pt,gt,mt){const yt=at(ut,dt,ht,pt,gt,mt);ht.transmission>0?rt.push(yt):ht.transparent===!0?it.push(yt):nt.push(yt)}function lt(ut,dt,ht,pt,gt,mt){const yt=at(ut,dt,ht,pt,gt,mt);ht.transmission>0?rt.unshift(yt):ht.transparent===!0?it.unshift(yt):nt.unshift(yt)}function ct(ut,dt){nt.length>1&&nt.sort(ut||painterSortStable$1),rt.length>1&&rt.sort(dt||reversePainterSortStable$1),it.length>1&&it.sort(dt||reversePainterSortStable$1)}function ft(){for(let ut=et,dt=tt.length;ut<dt;ut++){const ht=tt[ut];if(ht.id===null)break;ht.id=null,ht.object=null,ht.geometry=null,ht.material=null,ht.group=null}}return{opaque:nt,transmissive:rt,transparent:it,init:ot,push:st,unshift:lt,finish:ft,sort:ct}}function WebGLRenderLists$1(){let tt=new WeakMap;function et(rt,it){let ot;return tt.has(rt)===!1?(ot=new WebGLRenderList$1,tt.set(rt,[ot])):it>=tt.get(rt).length?(ot=new WebGLRenderList$1,tt.get(rt).push(ot)):ot=tt.get(rt)[it],ot}function nt(){tt=new WeakMap}return{get:et,dispose:nt}}function UniformsCache$1(){const tt={};return{get:function(et){if(tt[et.id]!==void 0)return tt[et.id];let nt;switch(et.type){case"DirectionalLight":nt={direction:new Vector3$1,color:new Color$2};break;case"SpotLight":nt={position:new Vector3$1,direction:new Vector3$1,color:new Color$2,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":nt={position:new Vector3$1,color:new Color$2,distance:0,decay:0};break;case"HemisphereLight":nt={direction:new Vector3$1,skyColor:new Color$2,groundColor:new Color$2};break;case"RectAreaLight":nt={color:new Color$2,position:new Vector3$1,halfWidth:new Vector3$1,halfHeight:new Vector3$1};break}return tt[et.id]=nt,nt}}}function ShadowUniformsCache$1(){const tt={};return{get:function(et){if(tt[et.id]!==void 0)return tt[et.id];let nt;switch(et.type){case"DirectionalLight":nt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$1};break;case"SpotLight":nt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$1};break;case"PointLight":nt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$1,shadowCameraNear:1,shadowCameraFar:1e3};break}return tt[et.id]=nt,nt}}}let nextVersion$1=0;function shadowCastingLightsFirst$1(tt,et){return(et.castShadow?1:0)-(tt.castShadow?1:0)}function WebGLLights$1(tt,et){const nt=new UniformsCache$1,rt=ShadowUniformsCache$1(),it={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let ft=0;ft<9;ft++)it.probe.push(new Vector3$1);const ot=new Vector3$1,at=new Matrix4$1,st=new Matrix4$1;function lt(ft,ut){let dt=0,ht=0,pt=0;for(let wt=0;wt<9;wt++)it.probe[wt].set(0,0,0);let gt=0,mt=0,yt=0,bt=0,St=0,xt=0,vt=0,$t=0;ft.sort(shadowCastingLightsFirst$1);const zt=ut!==!0?Math.PI:1;for(let wt=0,Et=ft.length;wt<Et;wt++){const Rt=ft[wt],Tt=Rt.color,It=Rt.intensity,Pt=Rt.distance,Dt=Rt.shadow&&Rt.shadow.map?Rt.shadow.map.texture:null;if(Rt.isAmbientLight)dt+=Tt.r*It*zt,ht+=Tt.g*It*zt,pt+=Tt.b*It*zt;else if(Rt.isLightProbe)for(let Ct=0;Ct<9;Ct++)it.probe[Ct].addScaledVector(Rt.sh.coefficients[Ct],It);else if(Rt.isDirectionalLight){const Ct=nt.get(Rt);if(Ct.color.copy(Rt.color).multiplyScalar(Rt.intensity*zt),Rt.castShadow){const Ot=Rt.shadow,Ut=rt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,it.directionalShadow[gt]=Ut,it.directionalShadowMap[gt]=Dt,it.directionalShadowMatrix[gt]=Rt.shadow.matrix,xt++}it.directional[gt]=Ct,gt++}else if(Rt.isSpotLight){const Ct=nt.get(Rt);if(Ct.position.setFromMatrixPosition(Rt.matrixWorld),Ct.color.copy(Tt).multiplyScalar(It*zt),Ct.distance=Pt,Ct.coneCos=Math.cos(Rt.angle),Ct.penumbraCos=Math.cos(Rt.angle*(1-Rt.penumbra)),Ct.decay=Rt.decay,Rt.castShadow){const Ot=Rt.shadow,Ut=rt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,it.spotShadow[yt]=Ut,it.spotShadowMap[yt]=Dt,it.spotShadowMatrix[yt]=Rt.shadow.matrix,$t++}it.spot[yt]=Ct,yt++}else if(Rt.isRectAreaLight){const Ct=nt.get(Rt);Ct.color.copy(Tt).multiplyScalar(It),Ct.halfWidth.set(Rt.width*.5,0,0),Ct.halfHeight.set(0,Rt.height*.5,0),it.rectArea[bt]=Ct,bt++}else if(Rt.isPointLight){const Ct=nt.get(Rt);if(Ct.color.copy(Rt.color).multiplyScalar(Rt.intensity*zt),Ct.distance=Rt.distance,Ct.decay=Rt.decay,Rt.castShadow){const Ot=Rt.shadow,Ut=rt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,Ut.shadowCameraNear=Ot.camera.near,Ut.shadowCameraFar=Ot.camera.far,it.pointShadow[mt]=Ut,it.pointShadowMap[mt]=Dt,it.pointShadowMatrix[mt]=Rt.shadow.matrix,vt++}it.point[mt]=Ct,mt++}else if(Rt.isHemisphereLight){const Ct=nt.get(Rt);Ct.skyColor.copy(Rt.color).multiplyScalar(It*zt),Ct.groundColor.copy(Rt.groundColor).multiplyScalar(It*zt),it.hemi[St]=Ct,St++}}bt>0&&(et.isWebGL2||tt.has("OES_texture_float_linear")===!0?(it.rectAreaLTC1=UniformsLib$1.LTC_FLOAT_1,it.rectAreaLTC2=UniformsLib$1.LTC_FLOAT_2):tt.has("OES_texture_half_float_linear")===!0?(it.rectAreaLTC1=UniformsLib$1.LTC_HALF_1,it.rectAreaLTC2=UniformsLib$1.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),it.ambient[0]=dt,it.ambient[1]=ht,it.ambient[2]=pt;const Nt=it.hash;(Nt.directionalLength!==gt||Nt.pointLength!==mt||Nt.spotLength!==yt||Nt.rectAreaLength!==bt||Nt.hemiLength!==St||Nt.numDirectionalShadows!==xt||Nt.numPointShadows!==vt||Nt.numSpotShadows!==$t)&&(it.directional.length=gt,it.spot.length=yt,it.rectArea.length=bt,it.point.length=mt,it.hemi.length=St,it.directionalShadow.length=xt,it.directionalShadowMap.length=xt,it.pointShadow.length=vt,it.pointShadowMap.length=vt,it.spotShadow.length=$t,it.spotShadowMap.length=$t,it.directionalShadowMatrix.length=xt,it.pointShadowMatrix.length=vt,it.spotShadowMatrix.length=$t,Nt.directionalLength=gt,Nt.pointLength=mt,Nt.spotLength=yt,Nt.rectAreaLength=bt,Nt.hemiLength=St,Nt.numDirectionalShadows=xt,Nt.numPointShadows=vt,Nt.numSpotShadows=$t,it.version=nextVersion$1++)}function ct(ft,ut){let dt=0,ht=0,pt=0,gt=0,mt=0;const yt=ut.matrixWorldInverse;for(let bt=0,St=ft.length;bt<St;bt++){const xt=ft[bt];if(xt.isDirectionalLight){const vt=it.directional[dt];vt.direction.setFromMatrixPosition(xt.matrixWorld),ot.setFromMatrixPosition(xt.target.matrixWorld),vt.direction.sub(ot),vt.direction.transformDirection(yt),dt++}else if(xt.isSpotLight){const vt=it.spot[pt];vt.position.setFromMatrixPosition(xt.matrixWorld),vt.position.applyMatrix4(yt),vt.direction.setFromMatrixPosition(xt.matrixWorld),ot.setFromMatrixPosition(xt.target.matrixWorld),vt.direction.sub(ot),vt.direction.transformDirection(yt),pt++}else if(xt.isRectAreaLight){const vt=it.rectArea[gt];vt.position.setFromMatrixPosition(xt.matrixWorld),vt.position.applyMatrix4(yt),st.identity(),at.copy(xt.matrixWorld),at.premultiply(yt),st.extractRotation(at),vt.halfWidth.set(xt.width*.5,0,0),vt.halfHeight.set(0,xt.height*.5,0),vt.halfWidth.applyMatrix4(st),vt.halfHeight.applyMatrix4(st),gt++}else if(xt.isPointLight){const vt=it.point[ht];vt.position.setFromMatrixPosition(xt.matrixWorld),vt.position.applyMatrix4(yt),ht++}else if(xt.isHemisphereLight){const vt=it.hemi[mt];vt.direction.setFromMatrixPosition(xt.matrixWorld),vt.direction.transformDirection(yt),mt++}}}return{setup:lt,setupView:ct,state:it}}function WebGLRenderState$1(tt,et){const nt=new WebGLLights$1(tt,et),rt=[],it=[];function ot(){rt.length=0,it.length=0}function at(ut){rt.push(ut)}function st(ut){it.push(ut)}function lt(ut){nt.setup(rt,ut)}function ct(ut){nt.setupView(rt,ut)}return{init:ot,state:{lightsArray:rt,shadowsArray:it,lights:nt},setupLights:lt,setupLightsView:ct,pushLight:at,pushShadow:st}}function WebGLRenderStates$1(tt,et){let nt=new WeakMap;function rt(ot,at=0){let st;return nt.has(ot)===!1?(st=new WebGLRenderState$1(tt,et),nt.set(ot,[st])):at>=nt.get(ot).length?(st=new WebGLRenderState$1(tt,et),nt.get(ot).push(st)):st=nt.get(ot)[at],st}function it(){nt=new WeakMap}return{get:rt,dispose:it}}class MeshDepthMaterial$1 extends Material$1{constructor(et){super(),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking$1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(et)}copy(et){return super.copy(et),this.depthPacking=et.depthPacking,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this}}MeshDepthMaterial$1.prototype.isMeshDepthMaterial=!0;class MeshDistanceMaterial$1 extends Material$1{constructor(et){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3$1,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(et)}copy(et){return super.copy(et),this.referencePosition.copy(et.referencePosition),this.nearDistance=et.nearDistance,this.farDistance=et.farDistance,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this}}MeshDistanceMaterial$1.prototype.isMeshDistanceMaterial=!0;const vertex$h=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment$h=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap$1(tt,et,nt){let rt=new Frustum$1;const it=new Vector2$1,ot=new Vector2$1,at=new Vector4$1,st=new MeshDepthMaterial$1({depthPacking:RGBADepthPacking$1}),lt=new MeshDistanceMaterial$1,ct={},ft=nt.maxTextureSize,ut={0:BackSide$1,1:FrontSide$1,2:DoubleSide$1},dt=new ShaderMaterial$1({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2$1},radius:{value:4}},vertexShader:vertex$h,fragmentShader:fragment$h}),ht=dt.clone();ht.defines.HORIZONTAL_PASS=1;const pt=new BufferGeometry$1;pt.setAttribute("position",new BufferAttribute$1(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const gt=new Mesh$1(pt,dt),mt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap$1,this.render=function(xt,vt,$t){if(mt.enabled===!1||mt.autoUpdate===!1&&mt.needsUpdate===!1||xt.length===0)return;const zt=tt.getRenderTarget(),Nt=tt.getActiveCubeFace(),wt=tt.getActiveMipmapLevel(),Et=tt.state;Et.setBlending(NoBlending$1),Et.buffers.color.setClear(1,1,1,1),Et.buffers.depth.setTest(!0),Et.setScissorTest(!1);for(let Rt=0,Tt=xt.length;Rt<Tt;Rt++){const It=xt[Rt],Pt=It.shadow;if(Pt===void 0){console.warn("THREE.WebGLShadowMap:",It,"has no shadow.");continue}if(Pt.autoUpdate===!1&&Pt.needsUpdate===!1)continue;it.copy(Pt.mapSize);const Dt=Pt.getFrameExtents();if(it.multiply(Dt),ot.copy(Pt.mapSize),(it.x>ft||it.y>ft)&&(it.x>ft&&(ot.x=Math.floor(ft/Dt.x),it.x=ot.x*Dt.x,Pt.mapSize.x=ot.x),it.y>ft&&(ot.y=Math.floor(ft/Dt.y),it.y=ot.y*Dt.y,Pt.mapSize.y=ot.y)),Pt.map===null&&!Pt.isPointLightShadow&&this.type===VSMShadowMap$1&&(Pt.map=new WebGLRenderTarget$1(it.x,it.y),Pt.map.texture.name=It.name+".shadowMap",Pt.mapPass=new WebGLRenderTarget$1(it.x,it.y),Pt.camera.updateProjectionMatrix()),Pt.map===null){const Ot={minFilter:NearestFilter$1,magFilter:NearestFilter$1,format:RGBAFormat$1};Pt.map=new WebGLRenderTarget$1(it.x,it.y,Ot),Pt.map.texture.name=It.name+".shadowMap",Pt.camera.updateProjectionMatrix()}tt.setRenderTarget(Pt.map),tt.clear();const Ct=Pt.getViewportCount();for(let Ot=0;Ot<Ct;Ot++){const Ut=Pt.getViewport(Ot);at.set(ot.x*Ut.x,ot.y*Ut.y,ot.x*Ut.z,ot.y*Ut.w),Et.viewport(at),Pt.updateMatrices(It,Ot),rt=Pt.getFrustum(),St(vt,$t,Pt.camera,It,this.type)}!Pt.isPointLightShadow&&this.type===VSMShadowMap$1&&yt(Pt,$t),Pt.needsUpdate=!1}mt.needsUpdate=!1,tt.setRenderTarget(zt,Nt,wt)};function yt(xt,vt){const $t=et.update(gt);dt.defines.VSM_SAMPLES!==xt.blurSamples&&(dt.defines.VSM_SAMPLES=xt.blurSamples,ht.defines.VSM_SAMPLES=xt.blurSamples,dt.needsUpdate=!0,ht.needsUpdate=!0),dt.uniforms.shadow_pass.value=xt.map.texture,dt.uniforms.resolution.value=xt.mapSize,dt.uniforms.radius.value=xt.radius,tt.setRenderTarget(xt.mapPass),tt.clear(),tt.renderBufferDirect(vt,null,$t,dt,gt,null),ht.uniforms.shadow_pass.value=xt.mapPass.texture,ht.uniforms.resolution.value=xt.mapSize,ht.uniforms.radius.value=xt.radius,tt.setRenderTarget(xt.map),tt.clear(),tt.renderBufferDirect(vt,null,$t,ht,gt,null)}function bt(xt,vt,$t,zt,Nt,wt){let Et=null;const Rt=$t.isPointLight===!0?xt.customDistanceMaterial:xt.customDepthMaterial;if(Rt!==void 0?Et=Rt:Et=$t.isPointLight===!0?lt:st,tt.localClippingEnabled&&vt.clipShadows===!0&&vt.clippingPlanes.length!==0||vt.displacementMap&&vt.displacementScale!==0||vt.alphaMap&&vt.alphaTest>0){const Tt=Et.uuid,It=vt.uuid;let Pt=ct[Tt];Pt===void 0&&(Pt={},ct[Tt]=Pt);let Dt=Pt[It];Dt===void 0&&(Dt=Et.clone(),Pt[It]=Dt),Et=Dt}return Et.visible=vt.visible,Et.wireframe=vt.wireframe,wt===VSMShadowMap$1?Et.side=vt.shadowSide!==null?vt.shadowSide:vt.side:Et.side=vt.shadowSide!==null?vt.shadowSide:ut[vt.side],Et.alphaMap=vt.alphaMap,Et.alphaTest=vt.alphaTest,Et.clipShadows=vt.clipShadows,Et.clippingPlanes=vt.clippingPlanes,Et.clipIntersection=vt.clipIntersection,Et.displacementMap=vt.displacementMap,Et.displacementScale=vt.displacementScale,Et.displacementBias=vt.displacementBias,Et.wireframeLinewidth=vt.wireframeLinewidth,Et.linewidth=vt.linewidth,$t.isPointLight===!0&&Et.isMeshDistanceMaterial===!0&&(Et.referencePosition.setFromMatrixPosition($t.matrixWorld),Et.nearDistance=zt,Et.farDistance=Nt),Et}function St(xt,vt,$t,zt,Nt){if(xt.visible===!1)return;if(xt.layers.test(vt.layers)&&(xt.isMesh||xt.isLine||xt.isPoints)&&(xt.castShadow||xt.receiveShadow&&Nt===VSMShadowMap$1)&&(!xt.frustumCulled||rt.intersectsObject(xt))){xt.modelViewMatrix.multiplyMatrices($t.matrixWorldInverse,xt.matrixWorld);const Rt=et.update(xt),Tt=xt.material;if(Array.isArray(Tt)){const It=Rt.groups;for(let Pt=0,Dt=It.length;Pt<Dt;Pt++){const Ct=It[Pt],Ot=Tt[Ct.materialIndex];if(Ot&&Ot.visible){const Ut=bt(xt,Ot,zt,$t.near,$t.far,Nt);tt.renderBufferDirect($t,null,Rt,Ut,xt,Ct)}}}else if(Tt.visible){const It=bt(xt,Tt,zt,$t.near,$t.far,Nt);tt.renderBufferDirect($t,null,Rt,It,xt,null)}}const Et=xt.children;for(let Rt=0,Tt=Et.length;Rt<Tt;Rt++)St(Et[Rt],vt,$t,zt,Nt)}}function WebGLState$1(tt,et,nt){const rt=nt.isWebGL2;function it(){let Rn=!1;const Kn=new Vector4$1;let kn=null;const Bn=new Vector4$1(0,0,0,0);return{setMask:function(Hn){kn!==Hn&&!Rn&&(tt.colorMask(Hn,Hn,Hn,Hn),kn=Hn)},setLocked:function(Hn){Rn=Hn},setClear:function(Hn,Qn,qn,er,ir){ir===!0&&(Hn*=er,Qn*=er,qn*=er),Kn.set(Hn,Qn,qn,er),Bn.equals(Kn)===!1&&(tt.clearColor(Hn,Qn,qn,er),Bn.copy(Kn))},reset:function(){Rn=!1,kn=null,Bn.set(-1,0,0,0)}}}function ot(){let Rn=!1,Kn=null,kn=null,Bn=null;return{setTest:function(Hn){Hn?Jt(2929):Vt(2929)},setMask:function(Hn){Kn!==Hn&&!Rn&&(tt.depthMask(Hn),Kn=Hn)},setFunc:function(Hn){if(kn!==Hn){if(Hn)switch(Hn){case NeverDepth$1:tt.depthFunc(512);break;case AlwaysDepth$1:tt.depthFunc(519);break;case LessDepth$1:tt.depthFunc(513);break;case LessEqualDepth$1:tt.depthFunc(515);break;case EqualDepth$1:tt.depthFunc(514);break;case GreaterEqualDepth$1:tt.depthFunc(518);break;case GreaterDepth$1:tt.depthFunc(516);break;case NotEqualDepth$1:tt.depthFunc(517);break;default:tt.depthFunc(515)}else tt.depthFunc(515);kn=Hn}},setLocked:function(Hn){Rn=Hn},setClear:function(Hn){Bn!==Hn&&(tt.clearDepth(Hn),Bn=Hn)},reset:function(){Rn=!1,Kn=null,kn=null,Bn=null}}}function at(){let Rn=!1,Kn=null,kn=null,Bn=null,Hn=null,Qn=null,qn=null,er=null,ir=null;return{setTest:function(nr){Rn||(nr?Jt(2960):Vt(2960))},setMask:function(nr){Kn!==nr&&!Rn&&(tt.stencilMask(nr),Kn=nr)},setFunc:function(nr,ur,mr){(kn!==nr||Bn!==ur||Hn!==mr)&&(tt.stencilFunc(nr,ur,mr),kn=nr,Bn=ur,Hn=mr)},setOp:function(nr,ur,mr){(Qn!==nr||qn!==ur||er!==mr)&&(tt.stencilOp(nr,ur,mr),Qn=nr,qn=ur,er=mr)},setLocked:function(nr){Rn=nr},setClear:function(nr){ir!==nr&&(tt.clearStencil(nr),ir=nr)},reset:function(){Rn=!1,Kn=null,kn=null,Bn=null,Hn=null,Qn=null,qn=null,er=null,ir=null}}}const st=new it,lt=new ot,ct=new at;let ft={},ut={},dt=new WeakMap,ht=[],pt=null,gt=!1,mt=null,yt=null,bt=null,St=null,xt=null,vt=null,$t=null,zt=!1,Nt=null,wt=null,Et=null,Rt=null,Tt=null;const It=tt.getParameter(35661);let Pt=!1,Dt=0;const Ct=tt.getParameter(7938);Ct.indexOf("WebGL")!==-1?(Dt=parseFloat(/^WebGL (\d)/.exec(Ct)[1]),Pt=Dt>=1):Ct.indexOf("OpenGL ES")!==-1&&(Dt=parseFloat(/^OpenGL ES (\d)/.exec(Ct)[1]),Pt=Dt>=2);let Ot=null,Ut={};const At=tt.getParameter(3088),Mt=tt.getParameter(2978),jt=new Vector4$1().fromArray(At),kt=new Vector4$1().fromArray(Mt);function Gt(Rn,Kn,kn){const Bn=new Uint8Array(4),Hn=tt.createTexture();tt.bindTexture(Rn,Hn),tt.texParameteri(Rn,10241,9728),tt.texParameteri(Rn,10240,9728);for(let Qn=0;Qn<kn;Qn++)tt.texImage2D(Kn+Qn,0,6408,1,1,0,6408,5121,Bn);return Hn}const Ht={};Ht[3553]=Gt(3553,3553,1),Ht[34067]=Gt(34067,34069,6),st.setClear(0,0,0,1),lt.setClear(1),ct.setClear(0),Jt(2929),lt.setFunc(LessEqualDepth$1),Yt(!1),yn(CullFaceBack$1),Jt(2884),Xt(NoBlending$1);function Jt(Rn){ft[Rn]!==!0&&(tt.enable(Rn),ft[Rn]=!0)}function Vt(Rn){ft[Rn]!==!1&&(tt.disable(Rn),ft[Rn]=!1)}function Wt(Rn,Kn){return ut[Rn]!==Kn?(tt.bindFramebuffer(Rn,Kn),ut[Rn]=Kn,rt&&(Rn===36009&&(ut[36160]=Kn),Rn===36160&&(ut[36009]=Kn)),!0):!1}function Lt(Rn,Kn){let kn=ht,Bn=!1;if(Rn)if(kn=dt.get(Kn),kn===void 0&&(kn=[],dt.set(Kn,kn)),Rn.isWebGLMultipleRenderTargets){const Hn=Rn.texture;if(kn.length!==Hn.length||kn[0]!==36064){for(let Qn=0,qn=Hn.length;Qn<qn;Qn++)kn[Qn]=36064+Qn;kn.length=Hn.length,Bn=!0}}else kn[0]!==36064&&(kn[0]=36064,Bn=!0);else kn[0]!==1029&&(kn[0]=1029,Bn=!0);Bn&&(nt.isWebGL2?tt.drawBuffers(kn):et.get("WEBGL_draw_buffers").drawBuffersWEBGL(kn))}function Bt(Rn){return pt!==Rn?(tt.useProgram(Rn),pt=Rn,!0):!1}const Ft={[AddEquation$1]:32774,[SubtractEquation$1]:32778,[ReverseSubtractEquation$1]:32779};if(rt)Ft[MinEquation$1]=32775,Ft[MaxEquation$1]=32776;else{const Rn=et.get("EXT_blend_minmax");Rn!==null&&(Ft[MinEquation$1]=Rn.MIN_EXT,Ft[MaxEquation$1]=Rn.MAX_EXT)}const sn={[ZeroFactor$1]:0,[OneFactor$1]:1,[SrcColorFactor$1]:768,[SrcAlphaFactor$1]:770,[SrcAlphaSaturateFactor$1]:776,[DstColorFactor$1]:774,[DstAlphaFactor$1]:772,[OneMinusSrcColorFactor$1]:769,[OneMinusSrcAlphaFactor$1]:771,[OneMinusDstColorFactor$1]:775,[OneMinusDstAlphaFactor$1]:773};function Xt(Rn,Kn,kn,Bn,Hn,Qn,qn,er){if(Rn===NoBlending$1){gt===!0&&(Vt(3042),gt=!1);return}if(gt===!1&&(Jt(3042),gt=!0),Rn!==CustomBlending$1){if(Rn!==mt||er!==zt){if((yt!==AddEquation$1||xt!==AddEquation$1)&&(tt.blendEquation(32774),yt=AddEquation$1,xt=AddEquation$1),er)switch(Rn){case NormalBlending$1:tt.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending$1:tt.blendFunc(1,1);break;case SubtractiveBlending$1:tt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending$1:tt.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Rn);break}else switch(Rn){case NormalBlending$1:tt.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending$1:tt.blendFunc(770,1);break;case SubtractiveBlending$1:tt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending$1:tt.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Rn);break}bt=null,St=null,vt=null,$t=null,mt=Rn,zt=er}return}Hn=Hn||Kn,Qn=Qn||kn,qn=qn||Bn,(Kn!==yt||Hn!==xt)&&(tt.blendEquationSeparate(Ft[Kn],Ft[Hn]),yt=Kn,xt=Hn),(kn!==bt||Bn!==St||Qn!==vt||qn!==$t)&&(tt.blendFuncSeparate(sn[kn],sn[Bn],sn[Qn],sn[qn]),bt=kn,St=Bn,vt=Qn,$t=qn),mt=Rn,zt=null}function dn(Rn,Kn){Rn.side===DoubleSide$1?Vt(2884):Jt(2884);let kn=Rn.side===BackSide$1;Kn&&(kn=!kn),Yt(kn),Rn.blending===NormalBlending$1&&Rn.transparent===!1?Xt(NoBlending$1):Xt(Rn.blending,Rn.blendEquation,Rn.blendSrc,Rn.blendDst,Rn.blendEquationAlpha,Rn.blendSrcAlpha,Rn.blendDstAlpha,Rn.premultipliedAlpha),lt.setFunc(Rn.depthFunc),lt.setTest(Rn.depthTest),lt.setMask(Rn.depthWrite),st.setMask(Rn.colorWrite);const Bn=Rn.stencilWrite;ct.setTest(Bn),Bn&&(ct.setMask(Rn.stencilWriteMask),ct.setFunc(Rn.stencilFunc,Rn.stencilRef,Rn.stencilFuncMask),ct.setOp(Rn.stencilFail,Rn.stencilZFail,Rn.stencilZPass)),Kt(Rn.polygonOffset,Rn.polygonOffsetFactor,Rn.polygonOffsetUnits),Rn.alphaToCoverage===!0?Jt(32926):Vt(32926)}function Yt(Rn){Nt!==Rn&&(Rn?tt.frontFace(2304):tt.frontFace(2305),Nt=Rn)}function yn(Rn){Rn!==CullFaceNone$1?(Jt(2884),Rn!==wt&&(Rn===CullFaceBack$1?tt.cullFace(1029):Rn===CullFaceFront$1?tt.cullFace(1028):tt.cullFace(1032))):Vt(2884),wt=Rn}function Qt(Rn){Rn!==Et&&(Pt&&tt.lineWidth(Rn),Et=Rn)}function Kt(Rn,Kn,kn){Rn?(Jt(32823),(Rt!==Kn||Tt!==kn)&&(tt.polygonOffset(Kn,kn),Rt=Kn,Tt=kn)):Vt(32823)}function hn(Rn){Rn?Jt(3089):Vt(3089)}function vn(Rn){Rn===void 0&&(Rn=33984+It-1),Ot!==Rn&&(tt.activeTexture(Rn),Ot=Rn)}function Sn(Rn,Kn){Ot===null&&vn();let kn=Ut[Ot];kn===void 0&&(kn={type:void 0,texture:void 0},Ut[Ot]=kn),(kn.type!==Rn||kn.texture!==Kn)&&(tt.bindTexture(Rn,Kn||Ht[Rn]),kn.type=Rn,kn.texture=Kn)}function Cn(){const Rn=Ut[Ot];Rn!==void 0&&Rn.type!==void 0&&(tt.bindTexture(Rn.type,null),Rn.type=void 0,Rn.texture=void 0)}function cn(){try{tt.compressedTexImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function ln(){try{tt.texSubImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function bn(){try{tt.texSubImage3D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function xn(){try{tt.compressedTexSubImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Nn(){try{tt.texStorage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function zn(){try{tt.texStorage3D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Ln(){try{tt.texImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Mn(){try{tt.texImage3D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Wn(Rn){jt.equals(Rn)===!1&&(tt.scissor(Rn.x,Rn.y,Rn.z,Rn.w),jt.copy(Rn))}function Jn(Rn){kt.equals(Rn)===!1&&(tt.viewport(Rn.x,Rn.y,Rn.z,Rn.w),kt.copy(Rn))}function Zn(){tt.disable(3042),tt.disable(2884),tt.disable(2929),tt.disable(32823),tt.disable(3089),tt.disable(2960),tt.disable(32926),tt.blendEquation(32774),tt.blendFunc(1,0),tt.blendFuncSeparate(1,0,1,0),tt.colorMask(!0,!0,!0,!0),tt.clearColor(0,0,0,0),tt.depthMask(!0),tt.depthFunc(513),tt.clearDepth(1),tt.stencilMask(4294967295),tt.stencilFunc(519,0,4294967295),tt.stencilOp(7680,7680,7680),tt.clearStencil(0),tt.cullFace(1029),tt.frontFace(2305),tt.polygonOffset(0,0),tt.activeTexture(33984),tt.bindFramebuffer(36160,null),rt===!0&&(tt.bindFramebuffer(36009,null),tt.bindFramebuffer(36008,null)),tt.useProgram(null),tt.lineWidth(1),tt.scissor(0,0,tt.canvas.width,tt.canvas.height),tt.viewport(0,0,tt.canvas.width,tt.canvas.height),ft={},Ot=null,Ut={},ut={},dt=new WeakMap,ht=[],pt=null,gt=!1,mt=null,yt=null,bt=null,St=null,xt=null,vt=null,$t=null,zt=!1,Nt=null,wt=null,Et=null,Rt=null,Tt=null,jt.set(0,0,tt.canvas.width,tt.canvas.height),kt.set(0,0,tt.canvas.width,tt.canvas.height),st.reset(),lt.reset(),ct.reset()}return{buffers:{color:st,depth:lt,stencil:ct},enable:Jt,disable:Vt,bindFramebuffer:Wt,drawBuffers:Lt,useProgram:Bt,setBlending:Xt,setMaterial:dn,setFlipSided:Yt,setCullFace:yn,setLineWidth:Qt,setPolygonOffset:Kt,setScissorTest:hn,activeTexture:vn,bindTexture:Sn,unbindTexture:Cn,compressedTexImage2D:cn,texImage2D:Ln,texImage3D:Mn,texStorage2D:Nn,texStorage3D:zn,texSubImage2D:ln,texSubImage3D:bn,compressedTexSubImage2D:xn,scissor:Wn,viewport:Jn,reset:Zn}}function WebGLTextures$1(tt,et,nt,rt,it,ot,at){const st=it.isWebGL2,lt=it.maxTextures,ct=it.maxCubemapSize,ft=it.maxTextureSize,ut=it.maxSamples,dt=et.has("WEBGL_multisampled_render_to_texture")?et.get("WEBGL_multisampled_render_to_texture"):null,ht=/OculusBrowser/g.test(navigator.userAgent),pt=new WeakMap;let gt;const mt=new WeakMap;let yt=!1;try{yt=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function bt(cn,ln){return yt?new OffscreenCanvas(cn,ln):createElementNS$1("canvas")}function St(cn,ln,bn,xn){let Nn=1;if((cn.width>xn||cn.height>xn)&&(Nn=xn/Math.max(cn.width,cn.height)),Nn<1||ln===!0)if(typeof HTMLImageElement!="undefined"&&cn instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&cn instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&cn instanceof ImageBitmap){const zn=ln?floorPowerOfTwo$1:Math.floor,Ln=zn(Nn*cn.width),Mn=zn(Nn*cn.height);gt===void 0&&(gt=bt(Ln,Mn));const Wn=bn?bt(Ln,Mn):gt;return Wn.width=Ln,Wn.height=Mn,Wn.getContext("2d").drawImage(cn,0,0,Ln,Mn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+cn.width+"x"+cn.height+") to ("+Ln+"x"+Mn+")."),Wn}else return"data"in cn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+cn.width+"x"+cn.height+")."),cn;return cn}function xt(cn){return isPowerOfTwo$1(cn.width)&&isPowerOfTwo$1(cn.height)}function vt(cn){return st?!1:cn.wrapS!==ClampToEdgeWrapping$1||cn.wrapT!==ClampToEdgeWrapping$1||cn.minFilter!==NearestFilter$1&&cn.minFilter!==LinearFilter$1}function $t(cn,ln){return cn.generateMipmaps&&ln&&cn.minFilter!==NearestFilter$1&&cn.minFilter!==LinearFilter$1}function zt(cn){tt.generateMipmap(cn)}function Nt(cn,ln,bn,xn,Nn=!1){if(st===!1)return ln;if(cn!==null){if(tt[cn]!==void 0)return tt[cn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+cn+"'")}let zn=ln;return ln===6403&&(bn===5126&&(zn=33326),bn===5131&&(zn=33325),bn===5121&&(zn=33321)),ln===33319&&(bn===5126&&(zn=33328),bn===5131&&(zn=33327),bn===5121&&(zn=33323)),ln===6408&&(bn===5126&&(zn=34836),bn===5131&&(zn=34842),bn===5121&&(zn=xn===sRGBEncoding$1&&Nn===!1?35907:32856),bn===32819&&(zn=32854),bn===32820&&(zn=32855)),(zn===33325||zn===33326||zn===33327||zn===33328||zn===34842||zn===34836)&&et.get("EXT_color_buffer_float"),zn}function wt(cn,ln,bn){return $t(cn,bn)===!0||cn.isFramebufferTexture&&cn.minFilter!==NearestFilter$1&&cn.minFilter!==LinearFilter$1?Math.log2(Math.max(ln.width,ln.height))+1:cn.mipmaps!==void 0&&cn.mipmaps.length>0?cn.mipmaps.length:cn.isCompressedTexture&&Array.isArray(cn.image)?ln.mipmaps.length:1}function Et(cn){return cn===NearestFilter$1||cn===NearestMipmapNearestFilter$1||cn===NearestMipmapLinearFilter$1?9728:9729}function Rt(cn){const ln=cn.target;ln.removeEventListener("dispose",Rt),It(ln),ln.isVideoTexture&&pt.delete(ln)}function Tt(cn){const ln=cn.target;ln.removeEventListener("dispose",Tt),Dt(ln)}function It(cn){const ln=rt.get(cn);if(ln.__webglInit===void 0)return;const bn=cn.source,xn=mt.get(bn);if(xn){const Nn=xn[ln.__cacheKey];Nn.usedTimes--,Nn.usedTimes===0&&Pt(cn),Object.keys(xn).length===0&&mt.delete(bn)}rt.remove(cn)}function Pt(cn){const ln=rt.get(cn);tt.deleteTexture(ln.__webglTexture);const bn=cn.source,xn=mt.get(bn);delete xn[ln.__cacheKey],at.memory.textures--}function Dt(cn){const ln=cn.texture,bn=rt.get(cn),xn=rt.get(ln);if(xn.__webglTexture!==void 0&&(tt.deleteTexture(xn.__webglTexture),at.memory.textures--),cn.depthTexture&&cn.depthTexture.dispose(),cn.isWebGLCubeRenderTarget)for(let Nn=0;Nn<6;Nn++)tt.deleteFramebuffer(bn.__webglFramebuffer[Nn]),bn.__webglDepthbuffer&&tt.deleteRenderbuffer(bn.__webglDepthbuffer[Nn]);else tt.deleteFramebuffer(bn.__webglFramebuffer),bn.__webglDepthbuffer&&tt.deleteRenderbuffer(bn.__webglDepthbuffer),bn.__webglMultisampledFramebuffer&&tt.deleteFramebuffer(bn.__webglMultisampledFramebuffer),bn.__webglColorRenderbuffer&&tt.deleteRenderbuffer(bn.__webglColorRenderbuffer),bn.__webglDepthRenderbuffer&&tt.deleteRenderbuffer(bn.__webglDepthRenderbuffer);if(cn.isWebGLMultipleRenderTargets)for(let Nn=0,zn=ln.length;Nn<zn;Nn++){const Ln=rt.get(ln[Nn]);Ln.__webglTexture&&(tt.deleteTexture(Ln.__webglTexture),at.memory.textures--),rt.remove(ln[Nn])}rt.remove(ln),rt.remove(cn)}let Ct=0;function Ot(){Ct=0}function Ut(){const cn=Ct;return cn>=lt&&console.warn("THREE.WebGLTextures: Trying to use "+cn+" texture units while this GPU supports only "+lt),Ct+=1,cn}function At(cn){const ln=[];return ln.push(cn.wrapS),ln.push(cn.wrapT),ln.push(cn.magFilter),ln.push(cn.minFilter),ln.push(cn.anisotropy),ln.push(cn.internalFormat),ln.push(cn.format),ln.push(cn.type),ln.push(cn.generateMipmaps),ln.push(cn.premultiplyAlpha),ln.push(cn.flipY),ln.push(cn.unpackAlignment),ln.push(cn.encoding),ln.join()}function Mt(cn,ln){const bn=rt.get(cn);if(cn.isVideoTexture&&Sn(cn),cn.isRenderTargetTexture===!1&&cn.version>0&&bn.__version!==cn.version){const xn=cn.image;if(xn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Lt(bn,cn,ln);return}}nt.activeTexture(33984+ln),nt.bindTexture(3553,bn.__webglTexture)}function jt(cn,ln){const bn=rt.get(cn);if(cn.version>0&&bn.__version!==cn.version){Lt(bn,cn,ln);return}nt.activeTexture(33984+ln),nt.bindTexture(35866,bn.__webglTexture)}function kt(cn,ln){const bn=rt.get(cn);if(cn.version>0&&bn.__version!==cn.version){Lt(bn,cn,ln);return}nt.activeTexture(33984+ln),nt.bindTexture(32879,bn.__webglTexture)}function Gt(cn,ln){const bn=rt.get(cn);if(cn.version>0&&bn.__version!==cn.version){Bt(bn,cn,ln);return}nt.activeTexture(33984+ln),nt.bindTexture(34067,bn.__webglTexture)}const Ht={[RepeatWrapping$1]:10497,[ClampToEdgeWrapping$1]:33071,[MirroredRepeatWrapping$1]:33648},Jt={[NearestFilter$1]:9728,[NearestMipmapNearestFilter$1]:9984,[NearestMipmapLinearFilter$1]:9986,[LinearFilter$1]:9729,[LinearMipmapNearestFilter$1]:9985,[LinearMipmapLinearFilter$1]:9987};function Vt(cn,ln,bn){if(bn?(tt.texParameteri(cn,10242,Ht[ln.wrapS]),tt.texParameteri(cn,10243,Ht[ln.wrapT]),(cn===32879||cn===35866)&&tt.texParameteri(cn,32882,Ht[ln.wrapR]),tt.texParameteri(cn,10240,Jt[ln.magFilter]),tt.texParameteri(cn,10241,Jt[ln.minFilter])):(tt.texParameteri(cn,10242,33071),tt.texParameteri(cn,10243,33071),(cn===32879||cn===35866)&&tt.texParameteri(cn,32882,33071),(ln.wrapS!==ClampToEdgeWrapping$1||ln.wrapT!==ClampToEdgeWrapping$1)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),tt.texParameteri(cn,10240,Et(ln.magFilter)),tt.texParameteri(cn,10241,Et(ln.minFilter)),ln.minFilter!==NearestFilter$1&&ln.minFilter!==LinearFilter$1&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),et.has("EXT_texture_filter_anisotropic")===!0){const xn=et.get("EXT_texture_filter_anisotropic");if(ln.type===FloatType$1&&et.has("OES_texture_float_linear")===!1||st===!1&&ln.type===HalfFloatType$1&&et.has("OES_texture_half_float_linear")===!1)return;(ln.anisotropy>1||rt.get(ln).__currentAnisotropy)&&(tt.texParameterf(cn,xn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ln.anisotropy,it.getMaxAnisotropy())),rt.get(ln).__currentAnisotropy=ln.anisotropy)}}function Wt(cn,ln){let bn=!1;cn.__webglInit===void 0&&(cn.__webglInit=!0,ln.addEventListener("dispose",Rt));const xn=ln.source;let Nn=mt.get(xn);Nn===void 0&&(Nn={},mt.set(xn,Nn));const zn=At(ln);if(zn!==cn.__cacheKey){Nn[zn]===void 0&&(Nn[zn]={texture:tt.createTexture(),usedTimes:0},at.memory.textures++,bn=!0),Nn[zn].usedTimes++;const Ln=Nn[cn.__cacheKey];Ln!==void 0&&(Nn[cn.__cacheKey].usedTimes--,Ln.usedTimes===0&&Pt(ln)),cn.__cacheKey=zn,cn.__webglTexture=Nn[zn].texture}return bn}function Lt(cn,ln,bn){let xn=3553;ln.isDataArrayTexture&&(xn=35866),ln.isData3DTexture&&(xn=32879);const Nn=Wt(cn,ln),zn=ln.source;if(nt.activeTexture(33984+bn),nt.bindTexture(xn,cn.__webglTexture),zn.version!==zn.__currentVersion||Nn===!0){tt.pixelStorei(37440,ln.flipY),tt.pixelStorei(37441,ln.premultiplyAlpha),tt.pixelStorei(3317,ln.unpackAlignment),tt.pixelStorei(37443,0);const Ln=vt(ln)&&xt(ln.image)===!1;let Mn=St(ln.image,Ln,!1,ft);Mn=Cn(ln,Mn);const Wn=xt(Mn)||st,Jn=ot.convert(ln.format,ln.encoding);let Zn=ot.convert(ln.type),Rn=Nt(ln.internalFormat,Jn,Zn,ln.encoding,ln.isVideoTexture);Vt(xn,ln,Wn);let Kn;const kn=ln.mipmaps,Bn=st&&ln.isVideoTexture!==!0,Hn=cn.__version===void 0||Nn===!0,Qn=wt(ln,Mn,Wn);if(ln.isDepthTexture)Rn=6402,st?ln.type===FloatType$1?Rn=36012:ln.type===UnsignedIntType$1?Rn=33190:ln.type===UnsignedInt248Type$1?Rn=35056:Rn=33189:ln.type===FloatType$1&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ln.format===DepthFormat$1&&Rn===6402&&ln.type!==UnsignedShortType$1&&ln.type!==UnsignedIntType$1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ln.type=UnsignedShortType$1,Zn=ot.convert(ln.type)),ln.format===DepthStencilFormat$1&&Rn===6402&&(Rn=34041,ln.type!==UnsignedInt248Type$1&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ln.type=UnsignedInt248Type$1,Zn=ot.convert(ln.type))),Hn&&(Bn?nt.texStorage2D(3553,1,Rn,Mn.width,Mn.height):nt.texImage2D(3553,0,Rn,Mn.width,Mn.height,0,Jn,Zn,null));else if(ln.isDataTexture)if(kn.length>0&&Wn){Bn&&Hn&&nt.texStorage2D(3553,Qn,Rn,kn[0].width,kn[0].height);for(let qn=0,er=kn.length;qn<er;qn++)Kn=kn[qn],Bn?nt.texSubImage2D(3553,qn,0,0,Kn.width,Kn.height,Jn,Zn,Kn.data):nt.texImage2D(3553,qn,Rn,Kn.width,Kn.height,0,Jn,Zn,Kn.data);ln.generateMipmaps=!1}else Bn?(Hn&&nt.texStorage2D(3553,Qn,Rn,Mn.width,Mn.height),nt.texSubImage2D(3553,0,0,0,Mn.width,Mn.height,Jn,Zn,Mn.data)):nt.texImage2D(3553,0,Rn,Mn.width,Mn.height,0,Jn,Zn,Mn.data);else if(ln.isCompressedTexture){Bn&&Hn&&nt.texStorage2D(3553,Qn,Rn,kn[0].width,kn[0].height);for(let qn=0,er=kn.length;qn<er;qn++)Kn=kn[qn],ln.format!==RGBAFormat$1?Jn!==null?Bn?nt.compressedTexSubImage2D(3553,qn,0,0,Kn.width,Kn.height,Jn,Kn.data):nt.compressedTexImage2D(3553,qn,Rn,Kn.width,Kn.height,0,Kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bn?nt.texSubImage2D(3553,qn,0,0,Kn.width,Kn.height,Jn,Zn,Kn.data):nt.texImage2D(3553,qn,Rn,Kn.width,Kn.height,0,Jn,Zn,Kn.data)}else if(ln.isDataArrayTexture)Bn?(Hn&&nt.texStorage3D(35866,Qn,Rn,Mn.width,Mn.height,Mn.depth),nt.texSubImage3D(35866,0,0,0,0,Mn.width,Mn.height,Mn.depth,Jn,Zn,Mn.data)):nt.texImage3D(35866,0,Rn,Mn.width,Mn.height,Mn.depth,0,Jn,Zn,Mn.data);else if(ln.isData3DTexture)Bn?(Hn&&nt.texStorage3D(32879,Qn,Rn,Mn.width,Mn.height,Mn.depth),nt.texSubImage3D(32879,0,0,0,0,Mn.width,Mn.height,Mn.depth,Jn,Zn,Mn.data)):nt.texImage3D(32879,0,Rn,Mn.width,Mn.height,Mn.depth,0,Jn,Zn,Mn.data);else if(ln.isFramebufferTexture){if(Hn)if(Bn)nt.texStorage2D(3553,Qn,Rn,Mn.width,Mn.height);else{let qn=Mn.width,er=Mn.height;for(let ir=0;ir<Qn;ir++)nt.texImage2D(3553,ir,Rn,qn,er,0,Jn,Zn,null),qn>>=1,er>>=1}}else if(kn.length>0&&Wn){Bn&&Hn&&nt.texStorage2D(3553,Qn,Rn,kn[0].width,kn[0].height);for(let qn=0,er=kn.length;qn<er;qn++)Kn=kn[qn],Bn?nt.texSubImage2D(3553,qn,0,0,Jn,Zn,Kn):nt.texImage2D(3553,qn,Rn,Jn,Zn,Kn);ln.generateMipmaps=!1}else Bn?(Hn&&nt.texStorage2D(3553,Qn,Rn,Mn.width,Mn.height),nt.texSubImage2D(3553,0,0,0,Jn,Zn,Mn)):nt.texImage2D(3553,0,Rn,Jn,Zn,Mn);$t(ln,Wn)&&zt(xn),zn.__currentVersion=zn.version,ln.onUpdate&&ln.onUpdate(ln)}cn.__version=ln.version}function Bt(cn,ln,bn){if(ln.image.length!==6)return;const xn=Wt(cn,ln),Nn=ln.source;if(nt.activeTexture(33984+bn),nt.bindTexture(34067,cn.__webglTexture),Nn.version!==Nn.__currentVersion||xn===!0){tt.pixelStorei(37440,ln.flipY),tt.pixelStorei(37441,ln.premultiplyAlpha),tt.pixelStorei(3317,ln.unpackAlignment),tt.pixelStorei(37443,0);const zn=ln.isCompressedTexture||ln.image[0].isCompressedTexture,Ln=ln.image[0]&&ln.image[0].isDataTexture,Mn=[];for(let qn=0;qn<6;qn++)!zn&&!Ln?Mn[qn]=St(ln.image[qn],!1,!0,ct):Mn[qn]=Ln?ln.image[qn].image:ln.image[qn],Mn[qn]=Cn(ln,Mn[qn]);const Wn=Mn[0],Jn=xt(Wn)||st,Zn=ot.convert(ln.format,ln.encoding),Rn=ot.convert(ln.type),Kn=Nt(ln.internalFormat,Zn,Rn,ln.encoding),kn=st&&ln.isVideoTexture!==!0,Bn=cn.__version===void 0;let Hn=wt(ln,Wn,Jn);Vt(34067,ln,Jn);let Qn;if(zn){kn&&Bn&&nt.texStorage2D(34067,Hn,Kn,Wn.width,Wn.height);for(let qn=0;qn<6;qn++){Qn=Mn[qn].mipmaps;for(let er=0;er<Qn.length;er++){const ir=Qn[er];ln.format!==RGBAFormat$1?Zn!==null?kn?nt.compressedTexSubImage2D(34069+qn,er,0,0,ir.width,ir.height,Zn,ir.data):nt.compressedTexImage2D(34069+qn,er,Kn,ir.width,ir.height,0,ir.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):kn?nt.texSubImage2D(34069+qn,er,0,0,ir.width,ir.height,Zn,Rn,ir.data):nt.texImage2D(34069+qn,er,Kn,ir.width,ir.height,0,Zn,Rn,ir.data)}}}else{Qn=ln.mipmaps,kn&&Bn&&(Qn.length>0&&Hn++,nt.texStorage2D(34067,Hn,Kn,Mn[0].width,Mn[0].height));for(let qn=0;qn<6;qn++)if(Ln){kn?nt.texSubImage2D(34069+qn,0,0,0,Mn[qn].width,Mn[qn].height,Zn,Rn,Mn[qn].data):nt.texImage2D(34069+qn,0,Kn,Mn[qn].width,Mn[qn].height,0,Zn,Rn,Mn[qn].data);for(let er=0;er<Qn.length;er++){const nr=Qn[er].image[qn].image;kn?nt.texSubImage2D(34069+qn,er+1,0,0,nr.width,nr.height,Zn,Rn,nr.data):nt.texImage2D(34069+qn,er+1,Kn,nr.width,nr.height,0,Zn,Rn,nr.data)}}else{kn?nt.texSubImage2D(34069+qn,0,0,0,Zn,Rn,Mn[qn]):nt.texImage2D(34069+qn,0,Kn,Zn,Rn,Mn[qn]);for(let er=0;er<Qn.length;er++){const ir=Qn[er];kn?nt.texSubImage2D(34069+qn,er+1,0,0,Zn,Rn,ir.image[qn]):nt.texImage2D(34069+qn,er+1,Kn,Zn,Rn,ir.image[qn])}}}$t(ln,Jn)&&zt(34067),Nn.__currentVersion=Nn.version,ln.onUpdate&&ln.onUpdate(ln)}cn.__version=ln.version}function Ft(cn,ln,bn,xn,Nn){const zn=ot.convert(bn.format,bn.encoding),Ln=ot.convert(bn.type),Mn=Nt(bn.internalFormat,zn,Ln,bn.encoding);rt.get(ln).__hasExternalTextures||(Nn===32879||Nn===35866?nt.texImage3D(Nn,0,Mn,ln.width,ln.height,ln.depth,0,zn,Ln,null):nt.texImage2D(Nn,0,Mn,ln.width,ln.height,0,zn,Ln,null)),nt.bindFramebuffer(36160,cn),vn(ln)?dt.framebufferTexture2DMultisampleEXT(36160,xn,Nn,rt.get(bn).__webglTexture,0,hn(ln)):tt.framebufferTexture2D(36160,xn,Nn,rt.get(bn).__webglTexture,0),nt.bindFramebuffer(36160,null)}function sn(cn,ln,bn){if(tt.bindRenderbuffer(36161,cn),ln.depthBuffer&&!ln.stencilBuffer){let xn=33189;if(bn||vn(ln)){const Nn=ln.depthTexture;Nn&&Nn.isDepthTexture&&(Nn.type===FloatType$1?xn=36012:Nn.type===UnsignedIntType$1&&(xn=33190));const zn=hn(ln);vn(ln)?dt.renderbufferStorageMultisampleEXT(36161,zn,xn,ln.width,ln.height):tt.renderbufferStorageMultisample(36161,zn,xn,ln.width,ln.height)}else tt.renderbufferStorage(36161,xn,ln.width,ln.height);tt.framebufferRenderbuffer(36160,36096,36161,cn)}else if(ln.depthBuffer&&ln.stencilBuffer){const xn=hn(ln);bn&&vn(ln)===!1?tt.renderbufferStorageMultisample(36161,xn,35056,ln.width,ln.height):vn(ln)?dt.renderbufferStorageMultisampleEXT(36161,xn,35056,ln.width,ln.height):tt.renderbufferStorage(36161,34041,ln.width,ln.height),tt.framebufferRenderbuffer(36160,33306,36161,cn)}else{const xn=ln.isWebGLMultipleRenderTargets===!0?ln.texture[0]:ln.texture,Nn=ot.convert(xn.format,xn.encoding),zn=ot.convert(xn.type),Ln=Nt(xn.internalFormat,Nn,zn,xn.encoding),Mn=hn(ln);bn&&vn(ln)===!1?tt.renderbufferStorageMultisample(36161,Mn,Ln,ln.width,ln.height):vn(ln)?dt.renderbufferStorageMultisampleEXT(36161,Mn,Ln,ln.width,ln.height):tt.renderbufferStorage(36161,Ln,ln.width,ln.height)}tt.bindRenderbuffer(36161,null)}function Xt(cn,ln){if(ln&&ln.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(nt.bindFramebuffer(36160,cn),!(ln.depthTexture&&ln.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!rt.get(ln.depthTexture).__webglTexture||ln.depthTexture.image.width!==ln.width||ln.depthTexture.image.height!==ln.height)&&(ln.depthTexture.image.width=ln.width,ln.depthTexture.image.height=ln.height,ln.depthTexture.needsUpdate=!0),Mt(ln.depthTexture,0);const xn=rt.get(ln.depthTexture).__webglTexture,Nn=hn(ln);if(ln.depthTexture.format===DepthFormat$1)vn(ln)?dt.framebufferTexture2DMultisampleEXT(36160,36096,3553,xn,0,Nn):tt.framebufferTexture2D(36160,36096,3553,xn,0);else if(ln.depthTexture.format===DepthStencilFormat$1)vn(ln)?dt.framebufferTexture2DMultisampleEXT(36160,33306,3553,xn,0,Nn):tt.framebufferTexture2D(36160,33306,3553,xn,0);else throw new Error("Unknown depthTexture format")}function dn(cn){const ln=rt.get(cn),bn=cn.isWebGLCubeRenderTarget===!0;if(cn.depthTexture&&!ln.__autoAllocateDepthBuffer){if(bn)throw new Error("target.depthTexture not supported in Cube render targets");Xt(ln.__webglFramebuffer,cn)}else if(bn){ln.__webglDepthbuffer=[];for(let xn=0;xn<6;xn++)nt.bindFramebuffer(36160,ln.__webglFramebuffer[xn]),ln.__webglDepthbuffer[xn]=tt.createRenderbuffer(),sn(ln.__webglDepthbuffer[xn],cn,!1)}else nt.bindFramebuffer(36160,ln.__webglFramebuffer),ln.__webglDepthbuffer=tt.createRenderbuffer(),sn(ln.__webglDepthbuffer,cn,!1);nt.bindFramebuffer(36160,null)}function Yt(cn,ln,bn){const xn=rt.get(cn);ln!==void 0&&Ft(xn.__webglFramebuffer,cn,cn.texture,36064,3553),bn!==void 0&&dn(cn)}function yn(cn){const ln=cn.texture,bn=rt.get(cn),xn=rt.get(ln);cn.addEventListener("dispose",Tt),cn.isWebGLMultipleRenderTargets!==!0&&(xn.__webglTexture===void 0&&(xn.__webglTexture=tt.createTexture()),xn.__version=ln.version,at.memory.textures++);const Nn=cn.isWebGLCubeRenderTarget===!0,zn=cn.isWebGLMultipleRenderTargets===!0,Ln=xt(cn)||st;if(Nn){bn.__webglFramebuffer=[];for(let Mn=0;Mn<6;Mn++)bn.__webglFramebuffer[Mn]=tt.createFramebuffer()}else if(bn.__webglFramebuffer=tt.createFramebuffer(),zn)if(it.drawBuffers){const Mn=cn.texture;for(let Wn=0,Jn=Mn.length;Wn<Jn;Wn++){const Zn=rt.get(Mn[Wn]);Zn.__webglTexture===void 0&&(Zn.__webglTexture=tt.createTexture(),at.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(st&&cn.samples>0&&vn(cn)===!1){bn.__webglMultisampledFramebuffer=tt.createFramebuffer(),bn.__webglColorRenderbuffer=tt.createRenderbuffer(),tt.bindRenderbuffer(36161,bn.__webglColorRenderbuffer);const Mn=ot.convert(ln.format,ln.encoding),Wn=ot.convert(ln.type),Jn=Nt(ln.internalFormat,Mn,Wn,ln.encoding),Zn=hn(cn);tt.renderbufferStorageMultisample(36161,Zn,Jn,cn.width,cn.height),nt.bindFramebuffer(36160,bn.__webglMultisampledFramebuffer),tt.framebufferRenderbuffer(36160,36064,36161,bn.__webglColorRenderbuffer),tt.bindRenderbuffer(36161,null),cn.depthBuffer&&(bn.__webglDepthRenderbuffer=tt.createRenderbuffer(),sn(bn.__webglDepthRenderbuffer,cn,!0)),nt.bindFramebuffer(36160,null)}if(Nn){nt.bindTexture(34067,xn.__webglTexture),Vt(34067,ln,Ln);for(let Mn=0;Mn<6;Mn++)Ft(bn.__webglFramebuffer[Mn],cn,ln,36064,34069+Mn);$t(ln,Ln)&&zt(34067),nt.unbindTexture()}else if(zn){const Mn=cn.texture;for(let Wn=0,Jn=Mn.length;Wn<Jn;Wn++){const Zn=Mn[Wn],Rn=rt.get(Zn);nt.bindTexture(3553,Rn.__webglTexture),Vt(3553,Zn,Ln),Ft(bn.__webglFramebuffer,cn,Zn,36064+Wn,3553),$t(Zn,Ln)&&zt(3553)}nt.unbindTexture()}else{let Mn=3553;(cn.isWebGL3DRenderTarget||cn.isWebGLArrayRenderTarget)&&(st?Mn=cn.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),nt.bindTexture(Mn,xn.__webglTexture),Vt(Mn,ln,Ln),Ft(bn.__webglFramebuffer,cn,ln,36064,Mn),$t(ln,Ln)&&zt(Mn),nt.unbindTexture()}cn.depthBuffer&&dn(cn)}function Qt(cn){const ln=xt(cn)||st,bn=cn.isWebGLMultipleRenderTargets===!0?cn.texture:[cn.texture];for(let xn=0,Nn=bn.length;xn<Nn;xn++){const zn=bn[xn];if($t(zn,ln)){const Ln=cn.isWebGLCubeRenderTarget?34067:3553,Mn=rt.get(zn).__webglTexture;nt.bindTexture(Ln,Mn),zt(Ln),nt.unbindTexture()}}}function Kt(cn){if(st&&cn.samples>0&&vn(cn)===!1){const ln=cn.width,bn=cn.height;let xn=16384;const Nn=[36064],zn=cn.stencilBuffer?33306:36096;cn.depthBuffer&&Nn.push(zn);const Ln=rt.get(cn),Mn=Ln.__ignoreDepthValues!==void 0?Ln.__ignoreDepthValues:!1;Mn===!1&&(cn.depthBuffer&&(xn|=256),cn.stencilBuffer&&(xn|=1024)),nt.bindFramebuffer(36008,Ln.__webglMultisampledFramebuffer),nt.bindFramebuffer(36009,Ln.__webglFramebuffer),Mn===!0&&(tt.invalidateFramebuffer(36008,[zn]),tt.invalidateFramebuffer(36009,[zn])),tt.blitFramebuffer(0,0,ln,bn,0,0,ln,bn,xn,9728),ht&&tt.invalidateFramebuffer(36008,Nn),nt.bindFramebuffer(36008,null),nt.bindFramebuffer(36009,Ln.__webglMultisampledFramebuffer)}}function hn(cn){return Math.min(ut,cn.samples)}function vn(cn){const ln=rt.get(cn);return st&&cn.samples>0&&et.has("WEBGL_multisampled_render_to_texture")===!0&&ln.__useRenderToTexture!==!1}function Sn(cn){const ln=at.render.frame;pt.get(cn)!==ln&&(pt.set(cn,ln),cn.update())}function Cn(cn,ln){const bn=cn.encoding,xn=cn.format,Nn=cn.type;return cn.isCompressedTexture===!0||cn.isVideoTexture===!0||cn.format===_SRGBAFormat$1||bn!==LinearEncoding$1&&(bn===sRGBEncoding$1?st===!1?et.has("EXT_sRGB")===!0&&xn===RGBAFormat$1?(cn.format=_SRGBAFormat$1,cn.minFilter=LinearFilter$1,cn.generateMipmaps=!1):ln=ImageUtils$1.sRGBToLinear(ln):(xn!==RGBAFormat$1||Nn!==UnsignedByteType$1)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",bn)),ln}this.allocateTextureUnit=Ut,this.resetTextureUnits=Ot,this.setTexture2D=Mt,this.setTexture2DArray=jt,this.setTexture3D=kt,this.setTextureCube=Gt,this.rebindTextures=Yt,this.setupRenderTarget=yn,this.updateRenderTargetMipmap=Qt,this.updateMultisampleRenderTarget=Kt,this.setupDepthRenderbuffer=dn,this.setupFrameBufferTexture=Ft,this.useMultisampledRTT=vn}function WebGLUtils$1(tt,et,nt){const rt=nt.isWebGL2;function it(ot,at=null){let st;if(ot===UnsignedByteType$1)return 5121;if(ot===UnsignedShort4444Type$1)return 32819;if(ot===UnsignedShort5551Type$1)return 32820;if(ot===ByteType$1)return 5120;if(ot===ShortType$1)return 5122;if(ot===UnsignedShortType$1)return 5123;if(ot===IntType$1)return 5124;if(ot===UnsignedIntType$1)return 5125;if(ot===FloatType$1)return 5126;if(ot===HalfFloatType$1)return rt?5131:(st=et.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(ot===AlphaFormat$1)return 6406;if(ot===RGBAFormat$1)return 6408;if(ot===LuminanceFormat$1)return 6409;if(ot===LuminanceAlphaFormat$1)return 6410;if(ot===DepthFormat$1)return 6402;if(ot===DepthStencilFormat$1)return 34041;if(ot===RedFormat$1)return 6403;if(ot===RGBFormat$1)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(ot===_SRGBAFormat$1)return st=et.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(ot===RedIntegerFormat$1)return 36244;if(ot===RGFormat$1)return 33319;if(ot===RGIntegerFormat$1)return 33320;if(ot===RGBAIntegerFormat$1)return 36249;if(ot===RGB_S3TC_DXT1_Format$1||ot===RGBA_S3TC_DXT1_Format$1||ot===RGBA_S3TC_DXT3_Format$1||ot===RGBA_S3TC_DXT5_Format$1)if(at===sRGBEncoding$1)if(st=et.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(ot===RGB_S3TC_DXT1_Format$1)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT1_Format$1)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT3_Format$1)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(ot===RGBA_S3TC_DXT5_Format$1)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=et.get("WEBGL_compressed_texture_s3tc"),st!==null){if(ot===RGB_S3TC_DXT1_Format$1)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT1_Format$1)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT3_Format$1)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(ot===RGBA_S3TC_DXT5_Format$1)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(ot===RGB_PVRTC_4BPPV1_Format$1||ot===RGB_PVRTC_2BPPV1_Format$1||ot===RGBA_PVRTC_4BPPV1_Format$1||ot===RGBA_PVRTC_2BPPV1_Format$1)if(st=et.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(ot===RGB_PVRTC_4BPPV1_Format$1)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(ot===RGB_PVRTC_2BPPV1_Format$1)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(ot===RGBA_PVRTC_4BPPV1_Format$1)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(ot===RGBA_PVRTC_2BPPV1_Format$1)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(ot===RGB_ETC1_Format$1)return st=et.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(ot===RGB_ETC2_Format$1||ot===RGBA_ETC2_EAC_Format$1)if(st=et.get("WEBGL_compressed_texture_etc"),st!==null){if(ot===RGB_ETC2_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(ot===RGBA_ETC2_EAC_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(ot===RGBA_ASTC_4x4_Format$1||ot===RGBA_ASTC_5x4_Format$1||ot===RGBA_ASTC_5x5_Format$1||ot===RGBA_ASTC_6x5_Format$1||ot===RGBA_ASTC_6x6_Format$1||ot===RGBA_ASTC_8x5_Format$1||ot===RGBA_ASTC_8x6_Format$1||ot===RGBA_ASTC_8x8_Format$1||ot===RGBA_ASTC_10x5_Format$1||ot===RGBA_ASTC_10x6_Format$1||ot===RGBA_ASTC_10x8_Format$1||ot===RGBA_ASTC_10x10_Format$1||ot===RGBA_ASTC_12x10_Format$1||ot===RGBA_ASTC_12x12_Format$1)if(st=et.get("WEBGL_compressed_texture_astc"),st!==null){if(ot===RGBA_ASTC_4x4_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(ot===RGBA_ASTC_5x4_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(ot===RGBA_ASTC_5x5_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(ot===RGBA_ASTC_6x5_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(ot===RGBA_ASTC_6x6_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(ot===RGBA_ASTC_8x5_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(ot===RGBA_ASTC_8x6_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(ot===RGBA_ASTC_8x8_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(ot===RGBA_ASTC_10x5_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(ot===RGBA_ASTC_10x6_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(ot===RGBA_ASTC_10x8_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(ot===RGBA_ASTC_10x10_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(ot===RGBA_ASTC_12x10_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(ot===RGBA_ASTC_12x12_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(ot===RGBA_BPTC_Format$1)if(st=et.get("EXT_texture_compression_bptc"),st!==null){if(ot===RGBA_BPTC_Format$1)return at===sRGBEncoding$1?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return ot===UnsignedInt248Type$1?rt?34042:(st=et.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):tt[ot]!==void 0?tt[ot]:null}return{convert:it}}class ArrayCamera$1 extends PerspectiveCamera$1{constructor(et=[]){super(),this.cameras=et}}ArrayCamera$1.prototype.isArrayCamera=!0;class Group$1 extends Object3D$1{constructor(){super(),this.type="Group"}}Group$1.prototype.isGroup=!0;const _moveEvent$1={type:"move"};class WebXRController$1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group$1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group$1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3$1,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3$1),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group$1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3$1,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3$1),this._grip}dispatchEvent(et){return this._targetRay!==null&&this._targetRay.dispatchEvent(et),this._grip!==null&&this._grip.dispatchEvent(et),this._hand!==null&&this._hand.dispatchEvent(et),this}disconnect(et){return this.dispatchEvent({type:"disconnected",data:et}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(et,nt,rt){let it=null,ot=null,at=null;const st=this._targetRay,lt=this._grip,ct=this._hand;if(et&&nt.session.visibilityState!=="visible-blurred")if(st!==null&&(it=nt.getPose(et.targetRaySpace,rt),it!==null&&(st.matrix.fromArray(it.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),it.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(it.linearVelocity)):st.hasLinearVelocity=!1,it.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(it.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent$1))),ct&&et.hand){at=!0;for(const gt of et.hand.values()){const mt=nt.getJointPose(gt,rt);if(ct.joints[gt.jointName]===void 0){const bt=new Group$1;bt.matrixAutoUpdate=!1,bt.visible=!1,ct.joints[gt.jointName]=bt,ct.add(bt)}const yt=ct.joints[gt.jointName];mt!==null&&(yt.matrix.fromArray(mt.transform.matrix),yt.matrix.decompose(yt.position,yt.rotation,yt.scale),yt.jointRadius=mt.radius),yt.visible=mt!==null}const ft=ct.joints["index-finger-tip"],ut=ct.joints["thumb-tip"],dt=ft.position.distanceTo(ut.position),ht=.02,pt=.005;ct.inputState.pinching&&dt>ht+pt?(ct.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:et.handedness,target:this})):!ct.inputState.pinching&&dt<=ht-pt&&(ct.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:et.handedness,target:this}))}else lt!==null&&et.gripSpace&&(ot=nt.getPose(et.gripSpace,rt),ot!==null&&(lt.matrix.fromArray(ot.transform.matrix),lt.matrix.decompose(lt.position,lt.rotation,lt.scale),ot.linearVelocity?(lt.hasLinearVelocity=!0,lt.linearVelocity.copy(ot.linearVelocity)):lt.hasLinearVelocity=!1,ot.angularVelocity?(lt.hasAngularVelocity=!0,lt.angularVelocity.copy(ot.angularVelocity)):lt.hasAngularVelocity=!1));return st!==null&&(st.visible=it!==null),lt!==null&&(lt.visible=ot!==null),ct!==null&&(ct.visible=at!==null),this}}class DepthTexture$1 extends Texture$1{constructor(et,nt,rt,it,ot,at,st,lt,ct,ft){if(ft=ft!==void 0?ft:DepthFormat$1,ft!==DepthFormat$1&&ft!==DepthStencilFormat$1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");rt===void 0&&ft===DepthFormat$1&&(rt=UnsignedShortType$1),rt===void 0&&ft===DepthStencilFormat$1&&(rt=UnsignedInt248Type$1),super(null,it,ot,at,st,lt,ft,rt,ct),this.image={width:et,height:nt},this.magFilter=st!==void 0?st:NearestFilter$1,this.minFilter=lt!==void 0?lt:NearestFilter$1,this.flipY=!1,this.generateMipmaps=!1}}DepthTexture$1.prototype.isDepthTexture=!0;class WebXRManager$1 extends EventDispatcher$1{constructor(et,nt){super();const rt=this;let it=null,ot=1,at=null,st="local-floor",lt=null,ct=null,ft=null,ut=null,dt=null,ht=null;const pt=nt.getContextAttributes();let gt=null,mt=null;const yt=[],bt=new Map,St=new PerspectiveCamera$1;St.layers.enable(1),St.viewport=new Vector4$1;const xt=new PerspectiveCamera$1;xt.layers.enable(2),xt.viewport=new Vector4$1;const vt=[St,xt],$t=new ArrayCamera$1;$t.layers.enable(1),$t.layers.enable(2);let zt=null,Nt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(At){let Mt=yt[At];return Mt===void 0&&(Mt=new WebXRController$1,yt[At]=Mt),Mt.getTargetRaySpace()},this.getControllerGrip=function(At){let Mt=yt[At];return Mt===void 0&&(Mt=new WebXRController$1,yt[At]=Mt),Mt.getGripSpace()},this.getHand=function(At){let Mt=yt[At];return Mt===void 0&&(Mt=new WebXRController$1,yt[At]=Mt),Mt.getHandSpace()};function wt(At){const Mt=bt.get(At.inputSource);Mt&&Mt.dispatchEvent({type:At.type,data:At.inputSource})}function Et(){bt.forEach(function(At,Mt){At.disconnect(Mt)}),bt.clear(),zt=null,Nt=null,et.setRenderTarget(gt),dt=null,ut=null,ft=null,it=null,mt=null,Ut.stop(),rt.isPresenting=!1,rt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(At){ot=At,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(At){st=At,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return lt||at},this.setReferenceSpace=function(At){lt=At},this.getBaseLayer=function(){return ut!==null?ut:dt},this.getBinding=function(){return ft},this.getFrame=function(){return ht},this.getSession=function(){return it},this.setSession=async function(At){if(it=At,it!==null){if(gt=et.getRenderTarget(),it.addEventListener("select",wt),it.addEventListener("selectstart",wt),it.addEventListener("selectend",wt),it.addEventListener("squeeze",wt),it.addEventListener("squeezestart",wt),it.addEventListener("squeezeend",wt),it.addEventListener("end",Et),it.addEventListener("inputsourceschange",Rt),pt.xrCompatible!==!0&&await nt.makeXRCompatible(),it.renderState.layers===void 0||et.capabilities.isWebGL2===!1){const Mt={antialias:it.renderState.layers===void 0?pt.antialias:!0,alpha:pt.alpha,depth:pt.depth,stencil:pt.stencil,framebufferScaleFactor:ot};dt=new XRWebGLLayer(it,nt,Mt),it.updateRenderState({baseLayer:dt}),mt=new WebGLRenderTarget$1(dt.framebufferWidth,dt.framebufferHeight,{format:RGBAFormat$1,type:UnsignedByteType$1,encoding:et.outputEncoding})}else{let Mt=null,jt=null,kt=null;pt.depth&&(kt=pt.stencil?35056:33190,Mt=pt.stencil?DepthStencilFormat$1:DepthFormat$1,jt=pt.stencil?UnsignedInt248Type$1:UnsignedShortType$1);const Gt={colorFormat:et.outputEncoding===sRGBEncoding$1?35907:32856,depthFormat:kt,scaleFactor:ot};ft=new XRWebGLBinding(it,nt),ut=ft.createProjectionLayer(Gt),it.updateRenderState({layers:[ut]}),mt=new WebGLRenderTarget$1(ut.textureWidth,ut.textureHeight,{format:RGBAFormat$1,type:UnsignedByteType$1,depthTexture:new DepthTexture$1(ut.textureWidth,ut.textureHeight,jt,void 0,void 0,void 0,void 0,void 0,void 0,Mt),stencilBuffer:pt.stencil,encoding:et.outputEncoding,samples:pt.antialias?4:0});const Ht=et.properties.get(mt);Ht.__ignoreDepthValues=ut.ignoreDepthValues}mt.isXRRenderTarget=!0,this.setFoveation(1),at=await it.requestReferenceSpace(st),Ut.setContext(it),Ut.start(),rt.isPresenting=!0,rt.dispatchEvent({type:"sessionstart"})}};function Rt(At){const Mt=it.inputSources;for(let jt=0;jt<Mt.length;jt++){const kt=Mt[jt].handedness==="right"?1:0;bt.set(Mt[jt],yt[kt])}for(let jt=0;jt<At.removed.length;jt++){const kt=At.removed[jt],Gt=bt.get(kt);Gt&&(Gt.dispatchEvent({type:"disconnected",data:kt}),bt.delete(kt))}for(let jt=0;jt<At.added.length;jt++){const kt=At.added[jt],Gt=bt.get(kt);Gt&&Gt.dispatchEvent({type:"connected",data:kt})}}const Tt=new Vector3$1,It=new Vector3$1;function Pt(At,Mt,jt){Tt.setFromMatrixPosition(Mt.matrixWorld),It.setFromMatrixPosition(jt.matrixWorld);const kt=Tt.distanceTo(It),Gt=Mt.projectionMatrix.elements,Ht=jt.projectionMatrix.elements,Jt=Gt[14]/(Gt[10]-1),Vt=Gt[14]/(Gt[10]+1),Wt=(Gt[9]+1)/Gt[5],Lt=(Gt[9]-1)/Gt[5],Bt=(Gt[8]-1)/Gt[0],Ft=(Ht[8]+1)/Ht[0],sn=Jt*Bt,Xt=Jt*Ft,dn=kt/(-Bt+Ft),Yt=dn*-Bt;Mt.matrixWorld.decompose(At.position,At.quaternion,At.scale),At.translateX(Yt),At.translateZ(dn),At.matrixWorld.compose(At.position,At.quaternion,At.scale),At.matrixWorldInverse.copy(At.matrixWorld).invert();const yn=Jt+dn,Qt=Vt+dn,Kt=sn-Yt,hn=Xt+(kt-Yt),vn=Wt*Vt/Qt*yn,Sn=Lt*Vt/Qt*yn;At.projectionMatrix.makePerspective(Kt,hn,vn,Sn,yn,Qt)}function Dt(At,Mt){Mt===null?At.matrixWorld.copy(At.matrix):At.matrixWorld.multiplyMatrices(Mt.matrixWorld,At.matrix),At.matrixWorldInverse.copy(At.matrixWorld).invert()}this.updateCamera=function(At){if(it===null)return;$t.near=xt.near=St.near=At.near,$t.far=xt.far=St.far=At.far,(zt!==$t.near||Nt!==$t.far)&&(it.updateRenderState({depthNear:$t.near,depthFar:$t.far}),zt=$t.near,Nt=$t.far);const Mt=At.parent,jt=$t.cameras;Dt($t,Mt);for(let Gt=0;Gt<jt.length;Gt++)Dt(jt[Gt],Mt);$t.matrixWorld.decompose($t.position,$t.quaternion,$t.scale),At.position.copy($t.position),At.quaternion.copy($t.quaternion),At.scale.copy($t.scale),At.matrix.copy($t.matrix),At.matrixWorld.copy($t.matrixWorld);const kt=At.children;for(let Gt=0,Ht=kt.length;Gt<Ht;Gt++)kt[Gt].updateMatrixWorld(!0);jt.length===2?Pt($t,St,xt):$t.projectionMatrix.copy(St.projectionMatrix)},this.getCamera=function(){return $t},this.getFoveation=function(){if(ut!==null)return ut.fixedFoveation;if(dt!==null)return dt.fixedFoveation},this.setFoveation=function(At){ut!==null&&(ut.fixedFoveation=At),dt!==null&&dt.fixedFoveation!==void 0&&(dt.fixedFoveation=At)};let Ct=null;function Ot(At,Mt){if(ct=Mt.getViewerPose(lt||at),ht=Mt,ct!==null){const kt=ct.views;dt!==null&&(et.setRenderTargetFramebuffer(mt,dt.framebuffer),et.setRenderTarget(mt));let Gt=!1;kt.length!==$t.cameras.length&&($t.cameras.length=0,Gt=!0);for(let Ht=0;Ht<kt.length;Ht++){const Jt=kt[Ht];let Vt=null;if(dt!==null)Vt=dt.getViewport(Jt);else{const Lt=ft.getViewSubImage(ut,Jt);Vt=Lt.viewport,Ht===0&&(et.setRenderTargetTextures(mt,Lt.colorTexture,ut.ignoreDepthValues?void 0:Lt.depthStencilTexture),et.setRenderTarget(mt))}const Wt=vt[Ht];Wt.matrix.fromArray(Jt.transform.matrix),Wt.projectionMatrix.fromArray(Jt.projectionMatrix),Wt.viewport.set(Vt.x,Vt.y,Vt.width,Vt.height),Ht===0&&$t.matrix.copy(Wt.matrix),Gt===!0&&$t.cameras.push(Wt)}}const jt=it.inputSources;for(let kt=0;kt<yt.length;kt++){const Gt=jt[kt],Ht=bt.get(Gt);Ht!==void 0&&Ht.update(Gt,Mt,lt||at)}Ct&&Ct(At,Mt),ht=null}const Ut=new WebGLAnimation$1;Ut.setAnimationLoop(Ot),this.setAnimationLoop=function(At){Ct=At},this.dispose=function(){}}}function WebGLMaterials$1(tt,et){function nt(gt,mt){gt.fogColor.value.copy(mt.color),mt.isFog?(gt.fogNear.value=mt.near,gt.fogFar.value=mt.far):mt.isFogExp2&&(gt.fogDensity.value=mt.density)}function rt(gt,mt,yt,bt,St){mt.isMeshBasicMaterial||mt.isMeshLambertMaterial?it(gt,mt):mt.isMeshToonMaterial?(it(gt,mt),ft(gt,mt)):mt.isMeshPhongMaterial?(it(gt,mt),ct(gt,mt)):mt.isMeshStandardMaterial?(it(gt,mt),ut(gt,mt),mt.isMeshPhysicalMaterial&&dt(gt,mt,St)):mt.isMeshMatcapMaterial?(it(gt,mt),ht(gt,mt)):mt.isMeshDepthMaterial?it(gt,mt):mt.isMeshDistanceMaterial?(it(gt,mt),pt(gt,mt)):mt.isMeshNormalMaterial?it(gt,mt):mt.isLineBasicMaterial?(ot(gt,mt),mt.isLineDashedMaterial&&at(gt,mt)):mt.isPointsMaterial?st(gt,mt,yt,bt):mt.isSpriteMaterial?lt(gt,mt):mt.isShadowMaterial?(gt.color.value.copy(mt.color),gt.opacity.value=mt.opacity):mt.isShaderMaterial&&(mt.uniformsNeedUpdate=!1)}function it(gt,mt){gt.opacity.value=mt.opacity,mt.color&&gt.diffuse.value.copy(mt.color),mt.emissive&&gt.emissive.value.copy(mt.emissive).multiplyScalar(mt.emissiveIntensity),mt.map&&(gt.map.value=mt.map),mt.alphaMap&&(gt.alphaMap.value=mt.alphaMap),mt.bumpMap&&(gt.bumpMap.value=mt.bumpMap,gt.bumpScale.value=mt.bumpScale,mt.side===BackSide$1&&(gt.bumpScale.value*=-1)),mt.displacementMap&&(gt.displacementMap.value=mt.displacementMap,gt.displacementScale.value=mt.displacementScale,gt.displacementBias.value=mt.displacementBias),mt.emissiveMap&&(gt.emissiveMap.value=mt.emissiveMap),mt.normalMap&&(gt.normalMap.value=mt.normalMap,gt.normalScale.value.copy(mt.normalScale),mt.side===BackSide$1&&gt.normalScale.value.negate()),mt.specularMap&&(gt.specularMap.value=mt.specularMap),mt.alphaTest>0&&(gt.alphaTest.value=mt.alphaTest);const yt=et.get(mt).envMap;if(yt&&(gt.envMap.value=yt,gt.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1,gt.reflectivity.value=mt.reflectivity,gt.ior.value=mt.ior,gt.refractionRatio.value=mt.refractionRatio),mt.lightMap){gt.lightMap.value=mt.lightMap;const xt=tt.physicallyCorrectLights!==!0?Math.PI:1;gt.lightMapIntensity.value=mt.lightMapIntensity*xt}mt.aoMap&&(gt.aoMap.value=mt.aoMap,gt.aoMapIntensity.value=mt.aoMapIntensity);let bt;mt.map?bt=mt.map:mt.specularMap?bt=mt.specularMap:mt.displacementMap?bt=mt.displacementMap:mt.normalMap?bt=mt.normalMap:mt.bumpMap?bt=mt.bumpMap:mt.roughnessMap?bt=mt.roughnessMap:mt.metalnessMap?bt=mt.metalnessMap:mt.alphaMap?bt=mt.alphaMap:mt.emissiveMap?bt=mt.emissiveMap:mt.clearcoatMap?bt=mt.clearcoatMap:mt.clearcoatNormalMap?bt=mt.clearcoatNormalMap:mt.clearcoatRoughnessMap?bt=mt.clearcoatRoughnessMap:mt.specularIntensityMap?bt=mt.specularIntensityMap:mt.specularColorMap?bt=mt.specularColorMap:mt.transmissionMap?bt=mt.transmissionMap:mt.thicknessMap?bt=mt.thicknessMap:mt.sheenColorMap?bt=mt.sheenColorMap:mt.sheenRoughnessMap&&(bt=mt.sheenRoughnessMap),bt!==void 0&&(bt.isWebGLRenderTarget&&(bt=bt.texture),bt.matrixAutoUpdate===!0&&bt.updateMatrix(),gt.uvTransform.value.copy(bt.matrix));let St;mt.aoMap?St=mt.aoMap:mt.lightMap&&(St=mt.lightMap),St!==void 0&&(St.isWebGLRenderTarget&&(St=St.texture),St.matrixAutoUpdate===!0&&St.updateMatrix(),gt.uv2Transform.value.copy(St.matrix))}function ot(gt,mt){gt.diffuse.value.copy(mt.color),gt.opacity.value=mt.opacity}function at(gt,mt){gt.dashSize.value=mt.dashSize,gt.totalSize.value=mt.dashSize+mt.gapSize,gt.scale.value=mt.scale}function st(gt,mt,yt,bt){gt.diffuse.value.copy(mt.color),gt.opacity.value=mt.opacity,gt.size.value=mt.size*yt,gt.scale.value=bt*.5,mt.map&&(gt.map.value=mt.map),mt.alphaMap&&(gt.alphaMap.value=mt.alphaMap),mt.alphaTest>0&&(gt.alphaTest.value=mt.alphaTest);let St;mt.map?St=mt.map:mt.alphaMap&&(St=mt.alphaMap),St!==void 0&&(St.matrixAutoUpdate===!0&&St.updateMatrix(),gt.uvTransform.value.copy(St.matrix))}function lt(gt,mt){gt.diffuse.value.copy(mt.color),gt.opacity.value=mt.opacity,gt.rotation.value=mt.rotation,mt.map&&(gt.map.value=mt.map),mt.alphaMap&&(gt.alphaMap.value=mt.alphaMap),mt.alphaTest>0&&(gt.alphaTest.value=mt.alphaTest);let yt;mt.map?yt=mt.map:mt.alphaMap&&(yt=mt.alphaMap),yt!==void 0&&(yt.matrixAutoUpdate===!0&&yt.updateMatrix(),gt.uvTransform.value.copy(yt.matrix))}function ct(gt,mt){gt.specular.value.copy(mt.specular),gt.shininess.value=Math.max(mt.shininess,1e-4)}function ft(gt,mt){mt.gradientMap&&(gt.gradientMap.value=mt.gradientMap)}function ut(gt,mt){gt.roughness.value=mt.roughness,gt.metalness.value=mt.metalness,mt.roughnessMap&&(gt.roughnessMap.value=mt.roughnessMap),mt.metalnessMap&&(gt.metalnessMap.value=mt.metalnessMap),et.get(mt).envMap&&(gt.envMapIntensity.value=mt.envMapIntensity)}function dt(gt,mt,yt){gt.ior.value=mt.ior,mt.sheen>0&&(gt.sheenColor.value.copy(mt.sheenColor).multiplyScalar(mt.sheen),gt.sheenRoughness.value=mt.sheenRoughness,mt.sheenColorMap&&(gt.sheenColorMap.value=mt.sheenColorMap),mt.sheenRoughnessMap&&(gt.sheenRoughnessMap.value=mt.sheenRoughnessMap)),mt.clearcoat>0&&(gt.clearcoat.value=mt.clearcoat,gt.clearcoatRoughness.value=mt.clearcoatRoughness,mt.clearcoatMap&&(gt.clearcoatMap.value=mt.clearcoatMap),mt.clearcoatRoughnessMap&&(gt.clearcoatRoughnessMap.value=mt.clearcoatRoughnessMap),mt.clearcoatNormalMap&&(gt.clearcoatNormalScale.value.copy(mt.clearcoatNormalScale),gt.clearcoatNormalMap.value=mt.clearcoatNormalMap,mt.side===BackSide$1&&gt.clearcoatNormalScale.value.negate())),mt.transmission>0&&(gt.transmission.value=mt.transmission,gt.transmissionSamplerMap.value=yt.texture,gt.transmissionSamplerSize.value.set(yt.width,yt.height),mt.transmissionMap&&(gt.transmissionMap.value=mt.transmissionMap),gt.thickness.value=mt.thickness,mt.thicknessMap&&(gt.thicknessMap.value=mt.thicknessMap),gt.attenuationDistance.value=mt.attenuationDistance,gt.attenuationColor.value.copy(mt.attenuationColor)),gt.specularIntensity.value=mt.specularIntensity,gt.specularColor.value.copy(mt.specularColor),mt.specularIntensityMap&&(gt.specularIntensityMap.value=mt.specularIntensityMap),mt.specularColorMap&&(gt.specularColorMap.value=mt.specularColorMap)}function ht(gt,mt){mt.matcap&&(gt.matcap.value=mt.matcap)}function pt(gt,mt){gt.referencePosition.value.copy(mt.referencePosition),gt.nearDistance.value=mt.nearDistance,gt.farDistance.value=mt.farDistance}return{refreshFogUniforms:nt,refreshMaterialUniforms:rt}}function createCanvasElement$1(){const tt=createElementNS$1("canvas");return tt.style.display="block",tt}function WebGLRenderer$1(tt={}){const et=tt.canvas!==void 0?tt.canvas:createCanvasElement$1(),nt=tt.context!==void 0?tt.context:null,rt=tt.depth!==void 0?tt.depth:!0,it=tt.stencil!==void 0?tt.stencil:!0,ot=tt.antialias!==void 0?tt.antialias:!1,at=tt.premultipliedAlpha!==void 0?tt.premultipliedAlpha:!0,st=tt.preserveDrawingBuffer!==void 0?tt.preserveDrawingBuffer:!1,lt=tt.powerPreference!==void 0?tt.powerPreference:"default",ct=tt.failIfMajorPerformanceCaveat!==void 0?tt.failIfMajorPerformanceCaveat:!1;let ft;nt!==null?ft=nt.getContextAttributes().alpha:ft=tt.alpha!==void 0?tt.alpha:!1;let ut=null,dt=null;const ht=[],pt=[];this.domElement=et,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding$1,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping$1,this.toneMappingExposure=1;const gt=this;let mt=!1,yt=0,bt=0,St=null,xt=-1,vt=null;const $t=new Vector4$1,zt=new Vector4$1;let Nt=null,wt=et.width,Et=et.height,Rt=1,Tt=null,It=null;const Pt=new Vector4$1(0,0,wt,Et),Dt=new Vector4$1(0,0,wt,Et);let Ct=!1;const Ot=new Frustum$1;let Ut=!1,At=!1,Mt=null;const jt=new Matrix4$1,kt=new Vector2$1,Gt=new Vector3$1,Ht={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Jt(){return St===null?Rt:1}let Vt=nt;function Wt(En,Fn){for(let Vn=0;Vn<En.length;Vn++){const Un=En[Vn],Xn=et.getContext(Un,Fn);if(Xn!==null)return Xn}return null}try{const En={alpha:!0,depth:rt,stencil:it,antialias:ot,premultipliedAlpha:at,preserveDrawingBuffer:st,powerPreference:lt,failIfMajorPerformanceCaveat:ct};if("setAttribute"in et&&et.setAttribute("data-engine",`three.js r${REVISION$1}`),et.addEventListener("webglcontextlost",Rn,!1),et.addEventListener("webglcontextrestored",Kn,!1),Vt===null){const Fn=["webgl2","webgl","experimental-webgl"];if(gt.isWebGL1Renderer===!0&&Fn.shift(),Vt=Wt(Fn,En),Vt===null)throw Wt(Fn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Vt.getShaderPrecisionFormat===void 0&&(Vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(En){throw console.error("THREE.WebGLRenderer: "+En.message),En}let Lt,Bt,Ft,sn,Xt,dn,Yt,yn,Qt,Kt,hn,vn,Sn,Cn,cn,ln,bn,xn,Nn,zn,Ln,Mn,Wn;function Jn(){Lt=new WebGLExtensions$1(Vt),Bt=new WebGLCapabilities$1(Vt,Lt,tt),Lt.init(Bt),Mn=new WebGLUtils$1(Vt,Lt,Bt),Ft=new WebGLState$1(Vt,Lt,Bt),sn=new WebGLInfo$1(Vt),Xt=new WebGLProperties$1,dn=new WebGLTextures$1(Vt,Lt,Ft,Xt,Bt,Mn,sn),Yt=new WebGLCubeMaps$1(gt),yn=new WebGLCubeUVMaps$1(gt),Qt=new WebGLAttributes$1(Vt,Bt),Wn=new WebGLBindingStates$1(Vt,Lt,Qt,Bt),Kt=new WebGLGeometries$1(Vt,Qt,sn,Wn),hn=new WebGLObjects$1(Vt,Kt,Qt,sn),Nn=new WebGLMorphtargets$1(Vt,Bt,dn),ln=new WebGLClipping$1(Xt),vn=new WebGLPrograms$1(gt,Yt,yn,Lt,Bt,Wn,ln),Sn=new WebGLMaterials$1(gt,Xt),Cn=new WebGLRenderLists$1,cn=new WebGLRenderStates$1(Lt,Bt),xn=new WebGLBackground$1(gt,Yt,Ft,hn,ft,at),bn=new WebGLShadowMap$1(gt,hn,Bt),zn=new WebGLBufferRenderer$1(Vt,Lt,sn,Bt),Ln=new WebGLIndexedBufferRenderer$1(Vt,Lt,sn,Bt),sn.programs=vn.programs,gt.capabilities=Bt,gt.extensions=Lt,gt.properties=Xt,gt.renderLists=Cn,gt.shadowMap=bn,gt.state=Ft,gt.info=sn}Jn();const Zn=new WebXRManager$1(gt,Vt);this.xr=Zn,this.getContext=function(){return Vt},this.getContextAttributes=function(){return Vt.getContextAttributes()},this.forceContextLoss=function(){const En=Lt.get("WEBGL_lose_context");En&&En.loseContext()},this.forceContextRestore=function(){const En=Lt.get("WEBGL_lose_context");En&&En.restoreContext()},this.getPixelRatio=function(){return Rt},this.setPixelRatio=function(En){En!==void 0&&(Rt=En,this.setSize(wt,Et,!1))},this.getSize=function(En){return En.set(wt,Et)},this.setSize=function(En,Fn,Vn){if(Zn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}wt=En,Et=Fn,et.width=Math.floor(En*Rt),et.height=Math.floor(Fn*Rt),Vn!==!1&&(et.style.width=En+"px",et.style.height=Fn+"px"),this.setViewport(0,0,En,Fn)},this.getDrawingBufferSize=function(En){return En.set(wt*Rt,Et*Rt).floor()},this.setDrawingBufferSize=function(En,Fn,Vn){wt=En,Et=Fn,Rt=Vn,et.width=Math.floor(En*Vn),et.height=Math.floor(Fn*Vn),this.setViewport(0,0,En,Fn)},this.getCurrentViewport=function(En){return En.copy($t)},this.getViewport=function(En){return En.copy(Pt)},this.setViewport=function(En,Fn,Vn,Un){En.isVector4?Pt.set(En.x,En.y,En.z,En.w):Pt.set(En,Fn,Vn,Un),Ft.viewport($t.copy(Pt).multiplyScalar(Rt).floor())},this.getScissor=function(En){return En.copy(Dt)},this.setScissor=function(En,Fn,Vn,Un){En.isVector4?Dt.set(En.x,En.y,En.z,En.w):Dt.set(En,Fn,Vn,Un),Ft.scissor(zt.copy(Dt).multiplyScalar(Rt).floor())},this.getScissorTest=function(){return Ct},this.setScissorTest=function(En){Ft.setScissorTest(Ct=En)},this.setOpaqueSort=function(En){Tt=En},this.setTransparentSort=function(En){It=En},this.getClearColor=function(En){return En.copy(xn.getClearColor())},this.setClearColor=function(){xn.setClearColor.apply(xn,arguments)},this.getClearAlpha=function(){return xn.getClearAlpha()},this.setClearAlpha=function(){xn.setClearAlpha.apply(xn,arguments)},this.clear=function(En=!0,Fn=!0,Vn=!0){let Un=0;En&&(Un|=16384),Fn&&(Un|=256),Vn&&(Un|=1024),Vt.clear(Un)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){et.removeEventListener("webglcontextlost",Rn,!1),et.removeEventListener("webglcontextrestored",Kn,!1),Cn.dispose(),cn.dispose(),Xt.dispose(),Yt.dispose(),yn.dispose(),hn.dispose(),Wn.dispose(),vn.dispose(),Zn.dispose(),Zn.removeEventListener("sessionstart",er),Zn.removeEventListener("sessionend",ir),Mt&&(Mt.dispose(),Mt=null),nr.stop()};function Rn(En){En.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),mt=!0}function Kn(){console.log("THREE.WebGLRenderer: Context Restored."),mt=!1;const En=sn.autoReset,Fn=bn.enabled,Vn=bn.autoUpdate,Un=bn.needsUpdate,Xn=bn.type;Jn(),sn.autoReset=En,bn.enabled=Fn,bn.autoUpdate=Vn,bn.needsUpdate=Un,bn.type=Xn}function kn(En){const Fn=En.target;Fn.removeEventListener("dispose",kn),Bn(Fn)}function Bn(En){Hn(En),Xt.remove(En)}function Hn(En){const Fn=Xt.get(En).programs;Fn!==void 0&&(Fn.forEach(function(Vn){vn.releaseProgram(Vn)}),En.isShaderMaterial&&vn.releaseShaderCache(En))}this.renderBufferDirect=function(En,Fn,Vn,Un,Xn,ar){Fn===null&&(Fn=Ht);const cr=Xn.isMesh&&Xn.matrixWorld.determinant()<0,fr=Nr(En,Fn,Vn,Un,Xn);Ft.setMaterial(Un,cr);let dr=Vn.index;const yr=Vn.attributes.position;if(dr===null){if(yr===void 0||yr.count===0)return}else if(dr.count===0)return;let hr=1;Un.wireframe===!0&&(dr=Kt.getWireframeAttribute(Vn),hr=2),Wn.setup(Xn,Un,fr,Vn,dr);let gr,xr=zn;dr!==null&&(gr=Qt.get(dr),xr=Ln,xr.setIndex(gr));const Br=dr!==null?dr.count:yr.count,Gr=Vn.drawRange.start*hr,zr=Vn.drawRange.count*hr,_r=ar!==null?ar.start*hr:0,pr=ar!==null?ar.count*hr:1/0,kr=Math.max(Gr,_r),Sr=Math.min(Br,Gr+zr,_r+pr)-1,Dr=Math.max(0,Sr-kr+1);if(Dr!==0){if(Xn.isMesh)Un.wireframe===!0?(Ft.setLineWidth(Un.wireframeLinewidth*Jt()),xr.setMode(1)):xr.setMode(4);else if(Xn.isLine){let Or=Un.linewidth;Or===void 0&&(Or=1),Ft.setLineWidth(Or*Jt()),Xn.isLineSegments?xr.setMode(1):Xn.isLineLoop?xr.setMode(2):xr.setMode(3)}else Xn.isPoints?xr.setMode(0):Xn.isSprite&&xr.setMode(4);if(Xn.isInstancedMesh)xr.renderInstances(kr,Dr,Xn.count);else if(Vn.isInstancedBufferGeometry){const Or=Math.min(Vn.instanceCount,Vn._maxInstanceCount);xr.renderInstances(kr,Dr,Or)}else xr.render(kr,Dr)}},this.compile=function(En,Fn){dt=cn.get(En),dt.init(),pt.push(dt),En.traverseVisible(function(Vn){Vn.isLight&&Vn.layers.test(Fn.layers)&&(dt.pushLight(Vn),Vn.castShadow&&dt.pushShadow(Vn))}),dt.setupLights(gt.physicallyCorrectLights),En.traverse(function(Vn){const Un=Vn.material;if(Un)if(Array.isArray(Un))for(let Xn=0;Xn<Un.length;Xn++){const ar=Un[Xn];Er(ar,En,Vn)}else Er(Un,En,Vn)}),pt.pop(),dt=null};let Qn=null;function qn(En){Qn&&Qn(En)}function er(){nr.stop()}function ir(){nr.start()}const nr=new WebGLAnimation$1;nr.setAnimationLoop(qn),typeof self!="undefined"&&nr.setContext(self),this.setAnimationLoop=function(En){Qn=En,Zn.setAnimationLoop(En),En===null?nr.stop():nr.start()},Zn.addEventListener("sessionstart",er),Zn.addEventListener("sessionend",ir),this.render=function(En,Fn){if(Fn!==void 0&&Fn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(mt===!0)return;En.autoUpdate===!0&&En.updateMatrixWorld(),Fn.parent===null&&Fn.updateMatrixWorld(),Zn.enabled===!0&&Zn.isPresenting===!0&&(Zn.cameraAutoUpdate===!0&&Zn.updateCamera(Fn),Fn=Zn.getCamera()),En.isScene===!0&&En.onBeforeRender(gt,En,Fn,St),dt=cn.get(En,pt.length),dt.init(),pt.push(dt),jt.multiplyMatrices(Fn.projectionMatrix,Fn.matrixWorldInverse),Ot.setFromProjectionMatrix(jt),At=this.localClippingEnabled,Ut=ln.init(this.clippingPlanes,At,Fn),ut=Cn.get(En,ht.length),ut.init(),ht.push(ut),ur(En,Fn,0,gt.sortObjects),ut.finish(),gt.sortObjects===!0&&ut.sort(Tt,It),Ut===!0&&ln.beginShadows();const Vn=dt.state.shadowsArray;if(bn.render(Vn,En,Fn),Ut===!0&&ln.endShadows(),this.info.autoReset===!0&&this.info.reset(),xn.render(ut,En),dt.setupLights(gt.physicallyCorrectLights),Fn.isArrayCamera){const Un=Fn.cameras;for(let Xn=0,ar=Un.length;Xn<ar;Xn++){const cr=Un[Xn];mr(ut,En,cr,cr.viewport)}}else mr(ut,En,Fn);St!==null&&(dn.updateMultisampleRenderTarget(St),dn.updateRenderTargetMipmap(St)),En.isScene===!0&&En.onAfterRender(gt,En,Fn),Wn.resetDefaultState(),xt=-1,vt=null,pt.pop(),pt.length>0?dt=pt[pt.length-1]:dt=null,ht.pop(),ht.length>0?ut=ht[ht.length-1]:ut=null};function ur(En,Fn,Vn,Un){if(En.visible===!1)return;if(En.layers.test(Fn.layers)){if(En.isGroup)Vn=En.renderOrder;else if(En.isLOD)En.autoUpdate===!0&&En.update(Fn);else if(En.isLight)dt.pushLight(En),En.castShadow&&dt.pushShadow(En);else if(En.isSprite){if(!En.frustumCulled||Ot.intersectsSprite(En)){Un&&Gt.setFromMatrixPosition(En.matrixWorld).applyMatrix4(jt);const cr=hn.update(En),fr=En.material;fr.visible&&ut.push(En,cr,fr,Vn,Gt.z,null)}}else if((En.isMesh||En.isLine||En.isPoints)&&(En.isSkinnedMesh&&En.skeleton.frame!==sn.render.frame&&(En.skeleton.update(),En.skeleton.frame=sn.render.frame),!En.frustumCulled||Ot.intersectsObject(En))){Un&&Gt.setFromMatrixPosition(En.matrixWorld).applyMatrix4(jt);const cr=hn.update(En),fr=En.material;if(Array.isArray(fr)){const dr=cr.groups;for(let yr=0,hr=dr.length;yr<hr;yr++){const gr=dr[yr],xr=fr[gr.materialIndex];xr&&xr.visible&&ut.push(En,cr,xr,Vn,Gt.z,gr)}}else fr.visible&&ut.push(En,cr,fr,Vn,Gt.z,null)}}const ar=En.children;for(let cr=0,fr=ar.length;cr<fr;cr++)ur(ar[cr],Fn,Vn,Un)}function mr(En,Fn,Vn,Un){const Xn=En.opaque,ar=En.transmissive,cr=En.transparent;dt.setupLightsView(Vn),ar.length>0&&Rr(Xn,Fn,Vn),Un&&Ft.viewport($t.copy(Un)),Xn.length>0&&$r(Xn,Fn,Vn),ar.length>0&&$r(ar,Fn,Vn),cr.length>0&&$r(cr,Fn,Vn),Ft.buffers.depth.setTest(!0),Ft.buffers.depth.setMask(!0),Ft.buffers.color.setMask(!0),Ft.setPolygonOffset(!1)}function Rr(En,Fn,Vn){const Un=Bt.isWebGL2;Mt===null&&(Mt=new WebGLRenderTarget$1(1,1,{generateMipmaps:!0,type:Lt.has("EXT_color_buffer_half_float")?HalfFloatType$1:UnsignedByteType$1,minFilter:LinearMipmapLinearFilter$1,samples:Un&&ot===!0?4:0})),gt.getDrawingBufferSize(kt),Un?Mt.setSize(kt.x,kt.y):Mt.setSize(floorPowerOfTwo$1(kt.x),floorPowerOfTwo$1(kt.y));const Xn=gt.getRenderTarget();gt.setRenderTarget(Mt),gt.clear();const ar=gt.toneMapping;gt.toneMapping=NoToneMapping$1,$r(En,Fn,Vn),gt.toneMapping=ar,dn.updateMultisampleRenderTarget(Mt),dn.updateRenderTargetMipmap(Mt),gt.setRenderTarget(Xn)}function $r(En,Fn,Vn){const Un=Fn.isScene===!0?Fn.overrideMaterial:null;for(let Xn=0,ar=En.length;Xn<ar;Xn++){const cr=En[Xn],fr=cr.object,dr=cr.geometry,yr=Un===null?cr.material:Un,hr=cr.group;fr.layers.test(Vn.layers)&&Pr(fr,Fn,Vn,dr,yr,hr)}}function Pr(En,Fn,Vn,Un,Xn,ar){En.onBeforeRender(gt,Fn,Vn,Un,Xn,ar),En.modelViewMatrix.multiplyMatrices(Vn.matrixWorldInverse,En.matrixWorld),En.normalMatrix.getNormalMatrix(En.modelViewMatrix),Xn.onBeforeRender(gt,Fn,Vn,Un,En,ar),Xn.transparent===!0&&Xn.side===DoubleSide$1?(Xn.side=BackSide$1,Xn.needsUpdate=!0,gt.renderBufferDirect(Vn,Fn,Un,Xn,En,ar),Xn.side=FrontSide$1,Xn.needsUpdate=!0,gt.renderBufferDirect(Vn,Fn,Un,Xn,En,ar),Xn.side=DoubleSide$1):gt.renderBufferDirect(Vn,Fn,Un,Xn,En,ar),En.onAfterRender(gt,Fn,Vn,Un,Xn,ar)}function Er(En,Fn,Vn){Fn.isScene!==!0&&(Fn=Ht);const Un=Xt.get(En),Xn=dt.state.lights,ar=dt.state.shadowsArray,cr=Xn.state.version,fr=vn.getParameters(En,Xn.state,ar,Fn,Vn),dr=vn.getProgramCacheKey(fr);let yr=Un.programs;Un.environment=En.isMeshStandardMaterial?Fn.environment:null,Un.fog=Fn.fog,Un.envMap=(En.isMeshStandardMaterial?yn:Yt).get(En.envMap||Un.environment),yr===void 0&&(En.addEventListener("dispose",kn),yr=new Map,Un.programs=yr);let hr=yr.get(dr);if(hr!==void 0){if(Un.currentProgram===hr&&Un.lightsStateVersion===cr)return Ir(En,fr),hr}else fr.uniforms=vn.getUniforms(En),En.onBuild(Vn,fr,gt),En.onBeforeCompile(fr,gt),hr=vn.acquireProgram(fr,dr),yr.set(dr,hr),Un.uniforms=fr.uniforms;const gr=Un.uniforms;(!En.isShaderMaterial&&!En.isRawShaderMaterial||En.clipping===!0)&&(gr.clippingPlanes=ln.uniform),Ir(En,fr),Un.needsLights=qr(En),Un.lightsStateVersion=cr,Un.needsLights&&(gr.ambientLightColor.value=Xn.state.ambient,gr.lightProbe.value=Xn.state.probe,gr.directionalLights.value=Xn.state.directional,gr.directionalLightShadows.value=Xn.state.directionalShadow,gr.spotLights.value=Xn.state.spot,gr.spotLightShadows.value=Xn.state.spotShadow,gr.rectAreaLights.value=Xn.state.rectArea,gr.ltc_1.value=Xn.state.rectAreaLTC1,gr.ltc_2.value=Xn.state.rectAreaLTC2,gr.pointLights.value=Xn.state.point,gr.pointLightShadows.value=Xn.state.pointShadow,gr.hemisphereLights.value=Xn.state.hemi,gr.directionalShadowMap.value=Xn.state.directionalShadowMap,gr.directionalShadowMatrix.value=Xn.state.directionalShadowMatrix,gr.spotShadowMap.value=Xn.state.spotShadowMap,gr.spotShadowMatrix.value=Xn.state.spotShadowMatrix,gr.pointShadowMap.value=Xn.state.pointShadowMap,gr.pointShadowMatrix.value=Xn.state.pointShadowMatrix);const xr=hr.getUniforms(),Br=WebGLUniforms$1.seqWithValue(xr.seq,gr);return Un.currentProgram=hr,Un.uniformsList=Br,hr}function Ir(En,Fn){const Vn=Xt.get(En);Vn.outputEncoding=Fn.outputEncoding,Vn.instancing=Fn.instancing,Vn.skinning=Fn.skinning,Vn.morphTargets=Fn.morphTargets,Vn.morphNormals=Fn.morphNormals,Vn.morphColors=Fn.morphColors,Vn.morphTargetsCount=Fn.morphTargetsCount,Vn.numClippingPlanes=Fn.numClippingPlanes,Vn.numIntersection=Fn.numClipIntersection,Vn.vertexAlphas=Fn.vertexAlphas,Vn.vertexTangents=Fn.vertexTangents,Vn.toneMapping=Fn.toneMapping}function Nr(En,Fn,Vn,Un,Xn){Fn.isScene!==!0&&(Fn=Ht),dn.resetTextureUnits();const ar=Fn.fog,cr=Un.isMeshStandardMaterial?Fn.environment:null,fr=St===null?gt.outputEncoding:St.isXRRenderTarget===!0?St.texture.encoding:LinearEncoding$1,dr=(Un.isMeshStandardMaterial?yn:Yt).get(Un.envMap||cr),yr=Un.vertexColors===!0&&!!Vn.attributes.color&&Vn.attributes.color.itemSize===4,hr=!!Un.normalMap&&!!Vn.attributes.tangent,gr=!!Vn.morphAttributes.position,xr=!!Vn.morphAttributes.normal,Br=!!Vn.morphAttributes.color,Gr=Un.toneMapped?gt.toneMapping:NoToneMapping$1,zr=Vn.morphAttributes.position||Vn.morphAttributes.normal||Vn.morphAttributes.color,_r=zr!==void 0?zr.length:0,pr=Xt.get(Un),kr=dt.state.lights;if(Ut===!0&&(At===!0||En!==vt)){const Mr=En===vt&&Un.id===xt;ln.setState(Un,En,Mr)}let Sr=!1;Un.version===pr.__version?(pr.needsLights&&pr.lightsStateVersion!==kr.state.version||pr.outputEncoding!==fr||Xn.isInstancedMesh&&pr.instancing===!1||!Xn.isInstancedMesh&&pr.instancing===!0||Xn.isSkinnedMesh&&pr.skinning===!1||!Xn.isSkinnedMesh&&pr.skinning===!0||pr.envMap!==dr||Un.fog===!0&&pr.fog!==ar||pr.numClippingPlanes!==void 0&&(pr.numClippingPlanes!==ln.numPlanes||pr.numIntersection!==ln.numIntersection)||pr.vertexAlphas!==yr||pr.vertexTangents!==hr||pr.morphTargets!==gr||pr.morphNormals!==xr||pr.morphColors!==Br||pr.toneMapping!==Gr||Bt.isWebGL2===!0&&pr.morphTargetsCount!==_r)&&(Sr=!0):(Sr=!0,pr.__version=Un.version);let Dr=pr.currentProgram;Sr===!0&&(Dr=Er(Un,Fn,Xn));let Or=!1,Fr=!1,Zr=!1;const Lr=Dr.getUniforms(),Ur=pr.uniforms;if(Ft.useProgram(Dr.program)&&(Or=!0,Fr=!0,Zr=!0),Un.id!==xt&&(xt=Un.id,Fr=!0),Or||vt!==En){if(Lr.setValue(Vt,"projectionMatrix",En.projectionMatrix),Bt.logarithmicDepthBuffer&&Lr.setValue(Vt,"logDepthBufFC",2/(Math.log(En.far+1)/Math.LN2)),vt!==En&&(vt=En,Fr=!0,Zr=!0),Un.isShaderMaterial||Un.isMeshPhongMaterial||Un.isMeshToonMaterial||Un.isMeshStandardMaterial||Un.envMap){const Mr=Lr.map.cameraPosition;Mr!==void 0&&Mr.setValue(Vt,Gt.setFromMatrixPosition(En.matrixWorld))}(Un.isMeshPhongMaterial||Un.isMeshToonMaterial||Un.isMeshLambertMaterial||Un.isMeshBasicMaterial||Un.isMeshStandardMaterial||Un.isShaderMaterial)&&Lr.setValue(Vt,"isOrthographic",En.isOrthographicCamera===!0),(Un.isMeshPhongMaterial||Un.isMeshToonMaterial||Un.isMeshLambertMaterial||Un.isMeshBasicMaterial||Un.isMeshStandardMaterial||Un.isShaderMaterial||Un.isShadowMaterial||Xn.isSkinnedMesh)&&Lr.setValue(Vt,"viewMatrix",En.matrixWorldInverse)}if(Xn.isSkinnedMesh){Lr.setOptional(Vt,Xn,"bindMatrix"),Lr.setOptional(Vt,Xn,"bindMatrixInverse");const Mr=Xn.skeleton;Mr&&(Bt.floatVertexTextures?(Mr.boneTexture===null&&Mr.computeBoneTexture(),Lr.setValue(Vt,"boneTexture",Mr.boneTexture,dn),Lr.setValue(Vt,"boneTextureSize",Mr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Kr=Vn.morphAttributes;return(Kr.position!==void 0||Kr.normal!==void 0||Kr.color!==void 0&&Bt.isWebGL2===!0)&&Nn.update(Xn,Vn,Un,Dr),(Fr||pr.receiveShadow!==Xn.receiveShadow)&&(pr.receiveShadow=Xn.receiveShadow,Lr.setValue(Vt,"receiveShadow",Xn.receiveShadow)),Fr&&(Lr.setValue(Vt,"toneMappingExposure",gt.toneMappingExposure),pr.needsLights&&Yr(Ur,Zr),ar&&Un.fog===!0&&Sn.refreshFogUniforms(Ur,ar),Sn.refreshMaterialUniforms(Ur,Un,Rt,Et,Mt),WebGLUniforms$1.upload(Vt,pr.uniformsList,Ur,dn)),Un.isShaderMaterial&&Un.uniformsNeedUpdate===!0&&(WebGLUniforms$1.upload(Vt,pr.uniformsList,Ur,dn),Un.uniformsNeedUpdate=!1),Un.isSpriteMaterial&&Lr.setValue(Vt,"center",Xn.center),Lr.setValue(Vt,"modelViewMatrix",Xn.modelViewMatrix),Lr.setValue(Vt,"normalMatrix",Xn.normalMatrix),Lr.setValue(Vt,"modelMatrix",Xn.matrixWorld),Dr}function Yr(En,Fn){En.ambientLightColor.needsUpdate=Fn,En.lightProbe.needsUpdate=Fn,En.directionalLights.needsUpdate=Fn,En.directionalLightShadows.needsUpdate=Fn,En.pointLights.needsUpdate=Fn,En.pointLightShadows.needsUpdate=Fn,En.spotLights.needsUpdate=Fn,En.spotLightShadows.needsUpdate=Fn,En.rectAreaLights.needsUpdate=Fn,En.hemisphereLights.needsUpdate=Fn}function qr(En){return En.isMeshLambertMaterial||En.isMeshToonMaterial||En.isMeshPhongMaterial||En.isMeshStandardMaterial||En.isShadowMaterial||En.isShaderMaterial&&En.lights===!0}this.getActiveCubeFace=function(){return yt},this.getActiveMipmapLevel=function(){return bt},this.getRenderTarget=function(){return St},this.setRenderTargetTextures=function(En,Fn,Vn){Xt.get(En.texture).__webglTexture=Fn,Xt.get(En.depthTexture).__webglTexture=Vn;const Un=Xt.get(En);Un.__hasExternalTextures=!0,Un.__hasExternalTextures&&(Un.__autoAllocateDepthBuffer=Vn===void 0,Un.__autoAllocateDepthBuffer||Lt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Un.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(En,Fn){const Vn=Xt.get(En);Vn.__webglFramebuffer=Fn,Vn.__useDefaultFramebuffer=Fn===void 0},this.setRenderTarget=function(En,Fn=0,Vn=0){St=En,yt=Fn,bt=Vn;let Un=!0;if(En){const dr=Xt.get(En);dr.__useDefaultFramebuffer!==void 0?(Ft.bindFramebuffer(36160,null),Un=!1):dr.__webglFramebuffer===void 0?dn.setupRenderTarget(En):dr.__hasExternalTextures&&dn.rebindTextures(En,Xt.get(En.texture).__webglTexture,Xt.get(En.depthTexture).__webglTexture)}let Xn=null,ar=!1,cr=!1;if(En){const dr=En.texture;(dr.isData3DTexture||dr.isDataArrayTexture)&&(cr=!0);const yr=Xt.get(En).__webglFramebuffer;En.isWebGLCubeRenderTarget?(Xn=yr[Fn],ar=!0):Bt.isWebGL2&&En.samples>0&&dn.useMultisampledRTT(En)===!1?Xn=Xt.get(En).__webglMultisampledFramebuffer:Xn=yr,$t.copy(En.viewport),zt.copy(En.scissor),Nt=En.scissorTest}else $t.copy(Pt).multiplyScalar(Rt).floor(),zt.copy(Dt).multiplyScalar(Rt).floor(),Nt=Ct;if(Ft.bindFramebuffer(36160,Xn)&&Bt.drawBuffers&&Un&&Ft.drawBuffers(En,Xn),Ft.viewport($t),Ft.scissor(zt),Ft.setScissorTest(Nt),ar){const dr=Xt.get(En.texture);Vt.framebufferTexture2D(36160,36064,34069+Fn,dr.__webglTexture,Vn)}else if(cr){const dr=Xt.get(En.texture),yr=Fn||0;Vt.framebufferTextureLayer(36160,36064,dr.__webglTexture,Vn||0,yr)}xt=-1},this.readRenderTargetPixels=function(En,Fn,Vn,Un,Xn,ar,cr){if(!(En&&En.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let fr=Xt.get(En).__webglFramebuffer;if(En.isWebGLCubeRenderTarget&&cr!==void 0&&(fr=fr[cr]),fr){Ft.bindFramebuffer(36160,fr);try{const dr=En.texture,yr=dr.format,hr=dr.type;if(yr!==RGBAFormat$1&&Mn.convert(yr)!==Vt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const gr=hr===HalfFloatType$1&&(Lt.has("EXT_color_buffer_half_float")||Bt.isWebGL2&&Lt.has("EXT_color_buffer_float"));if(hr!==UnsignedByteType$1&&Mn.convert(hr)!==Vt.getParameter(35738)&&!(hr===FloatType$1&&(Bt.isWebGL2||Lt.has("OES_texture_float")||Lt.has("WEBGL_color_buffer_float")))&&!gr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Fn>=0&&Fn<=En.width-Un&&Vn>=0&&Vn<=En.height-Xn&&Vt.readPixels(Fn,Vn,Un,Xn,Mn.convert(yr),Mn.convert(hr),ar)}finally{const dr=St!==null?Xt.get(St).__webglFramebuffer:null;Ft.bindFramebuffer(36160,dr)}}},this.copyFramebufferToTexture=function(En,Fn,Vn=0){if(Fn.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const Un=Math.pow(2,-Vn),Xn=Math.floor(Fn.image.width*Un),ar=Math.floor(Fn.image.height*Un);dn.setTexture2D(Fn,0),Vt.copyTexSubImage2D(3553,Vn,0,0,En.x,En.y,Xn,ar),Ft.unbindTexture()},this.copyTextureToTexture=function(En,Fn,Vn,Un=0){const Xn=Fn.image.width,ar=Fn.image.height,cr=Mn.convert(Vn.format),fr=Mn.convert(Vn.type);dn.setTexture2D(Vn,0),Vt.pixelStorei(37440,Vn.flipY),Vt.pixelStorei(37441,Vn.premultiplyAlpha),Vt.pixelStorei(3317,Vn.unpackAlignment),Fn.isDataTexture?Vt.texSubImage2D(3553,Un,En.x,En.y,Xn,ar,cr,fr,Fn.image.data):Fn.isCompressedTexture?Vt.compressedTexSubImage2D(3553,Un,En.x,En.y,Fn.mipmaps[0].width,Fn.mipmaps[0].height,cr,Fn.mipmaps[0].data):Vt.texSubImage2D(3553,Un,En.x,En.y,cr,fr,Fn.image),Un===0&&Vn.generateMipmaps&&Vt.generateMipmap(3553),Ft.unbindTexture()},this.copyTextureToTexture3D=function(En,Fn,Vn,Un,Xn=0){if(gt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ar=En.max.x-En.min.x+1,cr=En.max.y-En.min.y+1,fr=En.max.z-En.min.z+1,dr=Mn.convert(Un.format),yr=Mn.convert(Un.type);let hr;if(Un.isData3DTexture)dn.setTexture3D(Un,0),hr=32879;else if(Un.isDataArrayTexture)dn.setTexture2DArray(Un,0),hr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Vt.pixelStorei(37440,Un.flipY),Vt.pixelStorei(37441,Un.premultiplyAlpha),Vt.pixelStorei(3317,Un.unpackAlignment);const gr=Vt.getParameter(3314),xr=Vt.getParameter(32878),Br=Vt.getParameter(3316),Gr=Vt.getParameter(3315),zr=Vt.getParameter(32877),_r=Vn.isCompressedTexture?Vn.mipmaps[0]:Vn.image;Vt.pixelStorei(3314,_r.width),Vt.pixelStorei(32878,_r.height),Vt.pixelStorei(3316,En.min.x),Vt.pixelStorei(3315,En.min.y),Vt.pixelStorei(32877,En.min.z),Vn.isDataTexture||Vn.isData3DTexture?Vt.texSubImage3D(hr,Xn,Fn.x,Fn.y,Fn.z,ar,cr,fr,dr,yr,_r.data):Vn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Vt.compressedTexSubImage3D(hr,Xn,Fn.x,Fn.y,Fn.z,ar,cr,fr,dr,_r.data)):Vt.texSubImage3D(hr,Xn,Fn.x,Fn.y,Fn.z,ar,cr,fr,dr,yr,_r),Vt.pixelStorei(3314,gr),Vt.pixelStorei(32878,xr),Vt.pixelStorei(3316,Br),Vt.pixelStorei(3315,Gr),Vt.pixelStorei(32877,zr),Xn===0&&Un.generateMipmaps&&Vt.generateMipmap(hr),Ft.unbindTexture()},this.initTexture=function(En){dn.setTexture2D(En,0),Ft.unbindTexture()},this.resetState=function(){yt=0,bt=0,St=null,Ft.reset(),Wn.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}WebGLRenderer$1.prototype.isWebGLRenderer=!0;class WebGL1Renderer$1 extends WebGLRenderer$1{}WebGL1Renderer$1.prototype.isWebGL1Renderer=!0;class Scene$1 extends Object3D$1{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(et,nt){return super.copy(et,nt),et.background!==null&&(this.background=et.background.clone()),et.environment!==null&&(this.environment=et.environment.clone()),et.fog!==null&&(this.fog=et.fog.clone()),et.overrideMaterial!==null&&(this.overrideMaterial=et.overrideMaterial.clone()),this.autoUpdate=et.autoUpdate,this.matrixAutoUpdate=et.matrixAutoUpdate,this}toJSON(et){const nt=super.toJSON(et);return this.fog!==null&&(nt.object.fog=this.fog.toJSON()),nt}}Scene$1.prototype.isScene=!0;class InterleavedBuffer$1{constructor(et,nt){this.array=et,this.stride=nt,this.count=et!==void 0?et.length/nt:0,this.usage=StaticDrawUsage$1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.array=new et.array.constructor(et.array),this.count=et.count,this.stride=et.stride,this.usage=et.usage,this}copyAt(et,nt,rt){et*=this.stride,rt*=nt.stride;for(let it=0,ot=this.stride;it<ot;it++)this.array[et+it]=nt.array[rt+it];return this}set(et,nt=0){return this.array.set(et,nt),this}clone(et){et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const nt=new this.array.constructor(et.arrayBuffers[this.array.buffer._uuid]),rt=new this.constructor(nt,this.stride);return rt.setUsage(this.usage),rt}onUpload(et){return this.onUploadCallback=et,this}toJSON(et){return et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}InterleavedBuffer$1.prototype.isInterleavedBuffer=!0;const _vector$6$1=new Vector3$1;class InterleavedBufferAttribute$1{constructor(et,nt,rt,it=!1){this.name="",this.data=et,this.itemSize=nt,this.offset=rt,this.normalized=it===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(et){this.data.needsUpdate=et}applyMatrix4(et){for(let nt=0,rt=this.data.count;nt<rt;nt++)_vector$6$1.fromBufferAttribute(this,nt),_vector$6$1.applyMatrix4(et),this.setXYZ(nt,_vector$6$1.x,_vector$6$1.y,_vector$6$1.z);return this}applyNormalMatrix(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$6$1.fromBufferAttribute(this,nt),_vector$6$1.applyNormalMatrix(et),this.setXYZ(nt,_vector$6$1.x,_vector$6$1.y,_vector$6$1.z);return this}transformDirection(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$6$1.fromBufferAttribute(this,nt),_vector$6$1.transformDirection(et),this.setXYZ(nt,_vector$6$1.x,_vector$6$1.y,_vector$6$1.z);return this}setX(et,nt){return this.data.array[et*this.data.stride+this.offset]=nt,this}setY(et,nt){return this.data.array[et*this.data.stride+this.offset+1]=nt,this}setZ(et,nt){return this.data.array[et*this.data.stride+this.offset+2]=nt,this}setW(et,nt){return this.data.array[et*this.data.stride+this.offset+3]=nt,this}getX(et){return this.data.array[et*this.data.stride+this.offset]}getY(et){return this.data.array[et*this.data.stride+this.offset+1]}getZ(et){return this.data.array[et*this.data.stride+this.offset+2]}getW(et){return this.data.array[et*this.data.stride+this.offset+3]}setXY(et,nt,rt){return et=et*this.data.stride+this.offset,this.data.array[et+0]=nt,this.data.array[et+1]=rt,this}setXYZ(et,nt,rt,it){return et=et*this.data.stride+this.offset,this.data.array[et+0]=nt,this.data.array[et+1]=rt,this.data.array[et+2]=it,this}setXYZW(et,nt,rt,it,ot){return et=et*this.data.stride+this.offset,this.data.array[et+0]=nt,this.data.array[et+1]=rt,this.data.array[et+2]=it,this.data.array[et+3]=ot,this}clone(et){if(et===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const nt=[];for(let rt=0;rt<this.count;rt++){const it=rt*this.data.stride+this.offset;for(let ot=0;ot<this.itemSize;ot++)nt.push(this.data.array[it+ot])}return new BufferAttribute$1(new this.array.constructor(nt),this.itemSize,this.normalized)}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.clone(et)),new InterleavedBufferAttribute$1(et.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(et){if(et===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const nt=[];for(let rt=0;rt<this.count;rt++){const it=rt*this.data.stride+this.offset;for(let ot=0;ot<this.itemSize;ot++)nt.push(this.data.array[it+ot])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:nt,normalized:this.normalized}}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.toJSON(et)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}InterleavedBufferAttribute$1.prototype.isInterleavedBufferAttribute=!0;class SpriteMaterial$1 extends Material$1{constructor(et){super(),this.type="SpriteMaterial",this.color=new Color$2(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.rotation=et.rotation,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}SpriteMaterial$1.prototype.isSpriteMaterial=!0;let _geometry$1;const _intersectPoint$1=new Vector3$1,_worldScale$1=new Vector3$1,_mvPosition$1=new Vector3$1,_alignedPosition$1=new Vector2$1,_rotatedPosition$1=new Vector2$1,_viewWorldMatrix$1=new Matrix4$1,_vA$2=new Vector3$1,_vB$2=new Vector3$1,_vC$2=new Vector3$1,_uvA$2=new Vector2$1,_uvB$2=new Vector2$1,_uvC$2=new Vector2$1;class Sprite$1 extends Object3D$1{constructor(et){if(super(),this.type="Sprite",_geometry$1===void 0){_geometry$1=new BufferGeometry$1;const nt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),rt=new InterleavedBuffer$1(nt,5);_geometry$1.setIndex([0,1,2,0,2,3]),_geometry$1.setAttribute("position",new InterleavedBufferAttribute$1(rt,3,0,!1)),_geometry$1.setAttribute("uv",new InterleavedBufferAttribute$1(rt,2,3,!1))}this.geometry=_geometry$1,this.material=et!==void 0?et:new SpriteMaterial$1,this.center=new Vector2$1(.5,.5)}raycast(et,nt){et.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale$1.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix$1.copy(et.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(et.camera.matrixWorldInverse,this.matrixWorld),_mvPosition$1.setFromMatrixPosition(this.modelViewMatrix),et.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale$1.multiplyScalar(-_mvPosition$1.z);const rt=this.material.rotation;let it,ot;rt!==0&&(ot=Math.cos(rt),it=Math.sin(rt));const at=this.center;transformVertex$1(_vA$2.set(-.5,-.5,0),_mvPosition$1,at,_worldScale$1,it,ot),transformVertex$1(_vB$2.set(.5,-.5,0),_mvPosition$1,at,_worldScale$1,it,ot),transformVertex$1(_vC$2.set(.5,.5,0),_mvPosition$1,at,_worldScale$1,it,ot),_uvA$2.set(0,0),_uvB$2.set(1,0),_uvC$2.set(1,1);let st=et.ray.intersectTriangle(_vA$2,_vB$2,_vC$2,!1,_intersectPoint$1);if(st===null&&(transformVertex$1(_vB$2.set(-.5,.5,0),_mvPosition$1,at,_worldScale$1,it,ot),_uvB$2.set(0,1),st=et.ray.intersectTriangle(_vA$2,_vC$2,_vB$2,!1,_intersectPoint$1),st===null))return;const lt=et.ray.origin.distanceTo(_intersectPoint$1);lt<et.near||lt>et.far||nt.push({distance:lt,point:_intersectPoint$1.clone(),uv:Triangle$1.getUV(_intersectPoint$1,_vA$2,_vB$2,_vC$2,_uvA$2,_uvB$2,_uvC$2,new Vector2$1),face:null,object:this})}copy(et){return super.copy(et),et.center!==void 0&&this.center.copy(et.center),this.material=et.material,this}}Sprite$1.prototype.isSprite=!0;function transformVertex$1(tt,et,nt,rt,it,ot){_alignedPosition$1.subVectors(tt,nt).addScalar(.5).multiply(rt),it!==void 0?(_rotatedPosition$1.x=ot*_alignedPosition$1.x-it*_alignedPosition$1.y,_rotatedPosition$1.y=it*_alignedPosition$1.x+ot*_alignedPosition$1.y):_rotatedPosition$1.copy(_alignedPosition$1),tt.copy(et),tt.x+=_rotatedPosition$1.x,tt.y+=_rotatedPosition$1.y,tt.applyMatrix4(_viewWorldMatrix$1)}const _basePosition$1=new Vector3$1,_skinIndex$1=new Vector4$1,_skinWeight$1=new Vector4$1,_vector$5$1=new Vector3$1,_matrix$2=new Matrix4$1;class SkinnedMesh$1 extends Mesh$1{constructor(et,nt){super(et,nt),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4$1,this.bindMatrixInverse=new Matrix4$1}copy(et){return super.copy(et),this.bindMode=et.bindMode,this.bindMatrix.copy(et.bindMatrix),this.bindMatrixInverse.copy(et.bindMatrixInverse),this.skeleton=et.skeleton,this}bind(et,nt){this.skeleton=et,nt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),nt=this.matrixWorld),this.bindMatrix.copy(nt),this.bindMatrixInverse.copy(nt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const et=new Vector4$1,nt=this.geometry.attributes.skinWeight;for(let rt=0,it=nt.count;rt<it;rt++){et.fromBufferAttribute(nt,rt);const ot=1/et.manhattanLength();ot!==1/0?et.multiplyScalar(ot):et.set(1,0,0,0),nt.setXYZW(rt,et.x,et.y,et.z,et.w)}}updateMatrixWorld(et){super.updateMatrixWorld(et),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(et,nt){const rt=this.skeleton,it=this.geometry;_skinIndex$1.fromBufferAttribute(it.attributes.skinIndex,et),_skinWeight$1.fromBufferAttribute(it.attributes.skinWeight,et),_basePosition$1.copy(nt).applyMatrix4(this.bindMatrix),nt.set(0,0,0);for(let ot=0;ot<4;ot++){const at=_skinWeight$1.getComponent(ot);if(at!==0){const st=_skinIndex$1.getComponent(ot);_matrix$2.multiplyMatrices(rt.bones[st].matrixWorld,rt.boneInverses[st]),nt.addScaledVector(_vector$5$1.copy(_basePosition$1).applyMatrix4(_matrix$2),at)}}return nt.applyMatrix4(this.bindMatrixInverse)}}SkinnedMesh$1.prototype.isSkinnedMesh=!0;class Bone$1 extends Object3D$1{constructor(){super(),this.type="Bone"}}Bone$1.prototype.isBone=!0;class DataTexture$1 extends Texture$1{constructor(et=null,nt=1,rt=1,it,ot,at,st,lt,ct=NearestFilter$1,ft=NearestFilter$1,ut,dt){super(null,at,st,lt,ct,ft,it,ot,ut,dt),this.image={data:et,width:nt,height:rt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataTexture$1.prototype.isDataTexture=!0;const _offsetMatrix=new Matrix4$1,_identityMatrix=new Matrix4$1;class Skeleton{constructor(et=[],nt=[]){this.uuid=generateUUID$1(),this.bones=et.slice(0),this.boneInverses=nt,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const et=this.bones,nt=this.boneInverses;if(this.boneMatrices=new Float32Array(et.length*16),nt.length===0)this.calculateInverses();else if(et.length!==nt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let rt=0,it=this.bones.length;rt<it;rt++)this.boneInverses.push(new Matrix4$1)}}calculateInverses(){this.boneInverses.length=0;for(let et=0,nt=this.bones.length;et<nt;et++){const rt=new Matrix4$1;this.bones[et]&&rt.copy(this.bones[et].matrixWorld).invert(),this.boneInverses.push(rt)}}pose(){for(let et=0,nt=this.bones.length;et<nt;et++){const rt=this.bones[et];rt&&rt.matrixWorld.copy(this.boneInverses[et]).invert()}for(let et=0,nt=this.bones.length;et<nt;et++){const rt=this.bones[et];rt&&(rt.parent&&rt.parent.isBone?(rt.matrix.copy(rt.parent.matrixWorld).invert(),rt.matrix.multiply(rt.matrixWorld)):rt.matrix.copy(rt.matrixWorld),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale))}}update(){const et=this.bones,nt=this.boneInverses,rt=this.boneMatrices,it=this.boneTexture;for(let ot=0,at=et.length;ot<at;ot++){const st=et[ot]?et[ot].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(st,nt[ot]),_offsetMatrix.toArray(rt,ot*16)}it!==null&&(it.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let et=Math.sqrt(this.bones.length*4);et=ceilPowerOfTwo(et),et=Math.max(et,4);const nt=new Float32Array(et*et*4);nt.set(this.boneMatrices);const rt=new DataTexture$1(nt,et,et,RGBAFormat$1,FloatType$1);return rt.needsUpdate=!0,this.boneMatrices=nt,this.boneTexture=rt,this.boneTextureSize=et,this}getBoneByName(et){for(let nt=0,rt=this.bones.length;nt<rt;nt++){const it=this.bones[nt];if(it.name===et)return it}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(et,nt){this.uuid=et.uuid;for(let rt=0,it=et.bones.length;rt<it;rt++){const ot=et.bones[rt];let at=nt[ot];at===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",ot),at=new Bone$1),this.bones.push(at),this.boneInverses.push(new Matrix4$1().fromArray(et.boneInverses[rt]))}return this.init(),this}toJSON(){const et={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};et.uuid=this.uuid;const nt=this.bones,rt=this.boneInverses;for(let it=0,ot=nt.length;it<ot;it++){const at=nt[it];et.bones.push(at.uuid);const st=rt[it];et.boneInverses.push(st.toArray())}return et}}class InstancedBufferAttribute$1 extends BufferAttribute$1{constructor(et,nt,rt,it=1){typeof rt=="number"&&(it=rt,rt=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(et,nt,rt),this.meshPerAttribute=it}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}toJSON(){const et=super.toJSON();return et.meshPerAttribute=this.meshPerAttribute,et.isInstancedBufferAttribute=!0,et}}InstancedBufferAttribute$1.prototype.isInstancedBufferAttribute=!0;const _instanceLocalMatrix$1=new Matrix4$1,_instanceWorldMatrix$1=new Matrix4$1,_instanceIntersects$1=[],_mesh$1=new Mesh$1;class InstancedMesh$1 extends Mesh$1{constructor(et,nt,rt){super(et,nt),this.instanceMatrix=new InstancedBufferAttribute$1(new Float32Array(rt*16),16),this.instanceColor=null,this.count=rt,this.frustumCulled=!1}copy(et){return super.copy(et),this.instanceMatrix.copy(et.instanceMatrix),et.instanceColor!==null&&(this.instanceColor=et.instanceColor.clone()),this.count=et.count,this}getColorAt(et,nt){nt.fromArray(this.instanceColor.array,et*3)}getMatrixAt(et,nt){nt.fromArray(this.instanceMatrix.array,et*16)}raycast(et,nt){const rt=this.matrixWorld,it=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0)for(let ot=0;ot<it;ot++){this.getMatrixAt(ot,_instanceLocalMatrix$1),_instanceWorldMatrix$1.multiplyMatrices(rt,_instanceLocalMatrix$1),_mesh$1.matrixWorld=_instanceWorldMatrix$1,_mesh$1.raycast(et,_instanceIntersects$1);for(let at=0,st=_instanceIntersects$1.length;at<st;at++){const lt=_instanceIntersects$1[at];lt.instanceId=ot,lt.object=this,nt.push(lt)}_instanceIntersects$1.length=0}}setColorAt(et,nt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute$1(new Float32Array(this.instanceMatrix.count*3),3)),nt.toArray(this.instanceColor.array,et*3)}setMatrixAt(et,nt){nt.toArray(this.instanceMatrix.array,et*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}InstancedMesh$1.prototype.isInstancedMesh=!0;class LineBasicMaterial$1 extends Material$1{constructor(et){super(),this.type="LineBasicMaterial",this.color=new Color$2(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.linewidth=et.linewidth,this.linecap=et.linecap,this.linejoin=et.linejoin,this.fog=et.fog,this}}LineBasicMaterial$1.prototype.isLineBasicMaterial=!0;const _start$1$1=new Vector3$1,_end$1$1=new Vector3$1,_inverseMatrix$1$1=new Matrix4$1,_ray$1$1=new Ray$1,_sphere$1$1=new Sphere$1;class Line$1 extends Object3D$1{constructor(et=new BufferGeometry$1,nt=new LineBasicMaterial$1){super(),this.type="Line",this.geometry=et,this.material=nt,this.updateMorphTargets()}copy(et){return super.copy(et),this.material=et.material,this.geometry=et.geometry,this}computeLineDistances(){const et=this.geometry;if(et.isBufferGeometry)if(et.index===null){const nt=et.attributes.position,rt=[0];for(let it=1,ot=nt.count;it<ot;it++)_start$1$1.fromBufferAttribute(nt,it-1),_end$1$1.fromBufferAttribute(nt,it),rt[it]=rt[it-1],rt[it]+=_start$1$1.distanceTo(_end$1$1);et.setAttribute("lineDistance",new Float32BufferAttribute$1(rt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else et.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(et,nt){const rt=this.geometry,it=this.matrixWorld,ot=et.params.Line.threshold,at=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$1$1.copy(rt.boundingSphere),_sphere$1$1.applyMatrix4(it),_sphere$1$1.radius+=ot,et.ray.intersectsSphere(_sphere$1$1)===!1)return;_inverseMatrix$1$1.copy(it).invert(),_ray$1$1.copy(et.ray).applyMatrix4(_inverseMatrix$1$1);const st=ot/((this.scale.x+this.scale.y+this.scale.z)/3),lt=st*st,ct=new Vector3$1,ft=new Vector3$1,ut=new Vector3$1,dt=new Vector3$1,ht=this.isLineSegments?2:1;if(rt.isBufferGeometry){const pt=rt.index,mt=rt.attributes.position;if(pt!==null){const yt=Math.max(0,at.start),bt=Math.min(pt.count,at.start+at.count);for(let St=yt,xt=bt-1;St<xt;St+=ht){const vt=pt.getX(St),$t=pt.getX(St+1);if(ct.fromBufferAttribute(mt,vt),ft.fromBufferAttribute(mt,$t),_ray$1$1.distanceSqToSegment(ct,ft,dt,ut)>lt)continue;dt.applyMatrix4(this.matrixWorld);const Nt=et.ray.origin.distanceTo(dt);Nt<et.near||Nt>et.far||nt.push({distance:Nt,point:ut.clone().applyMatrix4(this.matrixWorld),index:St,face:null,faceIndex:null,object:this})}}else{const yt=Math.max(0,at.start),bt=Math.min(mt.count,at.start+at.count);for(let St=yt,xt=bt-1;St<xt;St+=ht){if(ct.fromBufferAttribute(mt,St),ft.fromBufferAttribute(mt,St+1),_ray$1$1.distanceSqToSegment(ct,ft,dt,ut)>lt)continue;dt.applyMatrix4(this.matrixWorld);const $t=et.ray.origin.distanceTo(dt);$t<et.near||$t>et.far||nt.push({distance:$t,point:ut.clone().applyMatrix4(this.matrixWorld),index:St,face:null,faceIndex:null,object:this})}}}else rt.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const et=this.geometry;if(et.isBufferGeometry){const nt=et.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}else{const nt=et.morphTargets;nt!==void 0&&nt.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Line$1.prototype.isLine=!0;const _start$3=new Vector3$1,_end$3=new Vector3$1;class LineSegments$1 extends Line$1{constructor(et,nt){super(et,nt),this.type="LineSegments"}computeLineDistances(){const et=this.geometry;if(et.isBufferGeometry)if(et.index===null){const nt=et.attributes.position,rt=[];for(let it=0,ot=nt.count;it<ot;it+=2)_start$3.fromBufferAttribute(nt,it),_end$3.fromBufferAttribute(nt,it+1),rt[it]=it===0?0:rt[it-1],rt[it+1]=rt[it]+_start$3.distanceTo(_end$3);et.setAttribute("lineDistance",new Float32BufferAttribute$1(rt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else et.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}LineSegments$1.prototype.isLineSegments=!0;class LineLoop$1 extends Line$1{constructor(et,nt){super(et,nt),this.type="LineLoop"}}LineLoop$1.prototype.isLineLoop=!0;class PointsMaterial$1 extends Material$1{constructor(et){super(),this.type="PointsMaterial",this.color=new Color$2(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.size=et.size,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}PointsMaterial$1.prototype.isPointsMaterial=!0;const _inverseMatrix$3=new Matrix4$1,_ray$4=new Ray$1,_sphere$5=new Sphere$1,_position$2$1=new Vector3$1;class Points$1 extends Object3D$1{constructor(et=new BufferGeometry$1,nt=new PointsMaterial$1){super(),this.type="Points",this.geometry=et,this.material=nt,this.updateMorphTargets()}copy(et){return super.copy(et),this.material=et.material,this.geometry=et.geometry,this}raycast(et,nt){const rt=this.geometry,it=this.matrixWorld,ot=et.params.Points.threshold,at=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$5.copy(rt.boundingSphere),_sphere$5.applyMatrix4(it),_sphere$5.radius+=ot,et.ray.intersectsSphere(_sphere$5)===!1)return;_inverseMatrix$3.copy(it).invert(),_ray$4.copy(et.ray).applyMatrix4(_inverseMatrix$3);const st=ot/((this.scale.x+this.scale.y+this.scale.z)/3),lt=st*st;if(rt.isBufferGeometry){const ct=rt.index,ut=rt.attributes.position;if(ct!==null){const dt=Math.max(0,at.start),ht=Math.min(ct.count,at.start+at.count);for(let pt=dt,gt=ht;pt<gt;pt++){const mt=ct.getX(pt);_position$2$1.fromBufferAttribute(ut,mt),testPoint$1(_position$2$1,mt,lt,it,et,nt,this)}}else{const dt=Math.max(0,at.start),ht=Math.min(ut.count,at.start+at.count);for(let pt=dt,gt=ht;pt<gt;pt++)_position$2$1.fromBufferAttribute(ut,pt),testPoint$1(_position$2$1,pt,lt,it,et,nt,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const et=this.geometry;if(et.isBufferGeometry){const nt=et.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}else{const nt=et.morphTargets;nt!==void 0&&nt.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Points$1.prototype.isPoints=!0;function testPoint$1(tt,et,nt,rt,it,ot,at){const st=_ray$4.distanceSqToPoint(tt);if(st<nt){const lt=new Vector3$1;_ray$4.closestPointToPoint(tt,lt),lt.applyMatrix4(rt);const ct=it.ray.origin.distanceTo(lt);if(ct<it.near||ct>it.far)return;ot.push({distance:ct,distanceToRay:Math.sqrt(st),point:lt,index:et,face:null,object:at})}}class VideoTexture$1 extends Texture$1{constructor(et,nt,rt,it,ot,at,st,lt,ct){super(et,nt,rt,it,ot,at,st,lt,ct),this.minFilter=at!==void 0?at:LinearFilter$1,this.magFilter=ot!==void 0?ot:LinearFilter$1,this.generateMipmaps=!1;const ft=this;function ut(){ft.needsUpdate=!0,et.requestVideoFrameCallback(ut)}"requestVideoFrameCallback"in et&&et.requestVideoFrameCallback(ut)}clone(){return new this.constructor(this.image).copy(this)}update(){const et=this.image;"requestVideoFrameCallback"in et===!1&&et.readyState>=et.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}VideoTexture$1.prototype.isVideoTexture=!0;class FramebufferTexture$1 extends Texture$1{constructor(et,nt,rt){super({width:et,height:nt}),this.format=rt,this.magFilter=NearestFilter$1,this.minFilter=NearestFilter$1,this.generateMipmaps=!1,this.needsUpdate=!0}}FramebufferTexture$1.prototype.isFramebufferTexture=!0;class CompressedTexture$1 extends Texture$1{constructor(et,nt,rt,it,ot,at,st,lt,ct,ft,ut,dt){super(null,at,st,lt,ct,ft,it,ot,ut,dt),this.image={width:nt,height:rt},this.mipmaps=et,this.flipY=!1,this.generateMipmaps=!1}}CompressedTexture$1.prototype.isCompressedTexture=!0;class CanvasTexture$1 extends Texture$1{constructor(et,nt,rt,it,ot,at,st,lt,ct){super(et,nt,rt,it,ot,at,st,lt,ct),this.needsUpdate=!0}}CanvasTexture$1.prototype.isCanvasTexture=!0;class Curve$1{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(et,nt){const rt=this.getUtoTmapping(et);return this.getPoint(rt,nt)}getPoints(et=5){const nt=[];for(let rt=0;rt<=et;rt++)nt.push(this.getPoint(rt/et));return nt}getSpacedPoints(et=5){const nt=[];for(let rt=0;rt<=et;rt++)nt.push(this.getPointAt(rt/et));return nt}getLength(){const et=this.getLengths();return et[et.length-1]}getLengths(et=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===et+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const nt=[];let rt,it=this.getPoint(0),ot=0;nt.push(0);for(let at=1;at<=et;at++)rt=this.getPoint(at/et),ot+=rt.distanceTo(it),nt.push(ot),it=rt;return this.cacheArcLengths=nt,nt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(et,nt){const rt=this.getLengths();let it=0;const ot=rt.length;let at;nt?at=nt:at=et*rt[ot-1];let st=0,lt=ot-1,ct;for(;st<=lt;)if(it=Math.floor(st+(lt-st)/2),ct=rt[it]-at,ct<0)st=it+1;else if(ct>0)lt=it-1;else{lt=it;break}if(it=lt,rt[it]===at)return it/(ot-1);const ft=rt[it],dt=rt[it+1]-ft,ht=(at-ft)/dt;return(it+ht)/(ot-1)}getTangent(et,nt){let it=et-1e-4,ot=et+1e-4;it<0&&(it=0),ot>1&&(ot=1);const at=this.getPoint(it),st=this.getPoint(ot),lt=nt||(at.isVector2?new Vector2$1:new Vector3$1);return lt.copy(st).sub(at).normalize(),lt}getTangentAt(et,nt){const rt=this.getUtoTmapping(et);return this.getTangent(rt,nt)}computeFrenetFrames(et,nt){const rt=new Vector3$1,it=[],ot=[],at=[],st=new Vector3$1,lt=new Matrix4$1;for(let ht=0;ht<=et;ht++){const pt=ht/et;it[ht]=this.getTangentAt(pt,new Vector3$1)}ot[0]=new Vector3$1,at[0]=new Vector3$1;let ct=Number.MAX_VALUE;const ft=Math.abs(it[0].x),ut=Math.abs(it[0].y),dt=Math.abs(it[0].z);ft<=ct&&(ct=ft,rt.set(1,0,0)),ut<=ct&&(ct=ut,rt.set(0,1,0)),dt<=ct&&rt.set(0,0,1),st.crossVectors(it[0],rt).normalize(),ot[0].crossVectors(it[0],st),at[0].crossVectors(it[0],ot[0]);for(let ht=1;ht<=et;ht++){if(ot[ht]=ot[ht-1].clone(),at[ht]=at[ht-1].clone(),st.crossVectors(it[ht-1],it[ht]),st.length()>Number.EPSILON){st.normalize();const pt=Math.acos(clamp$1(it[ht-1].dot(it[ht]),-1,1));ot[ht].applyMatrix4(lt.makeRotationAxis(st,pt))}at[ht].crossVectors(it[ht],ot[ht])}if(nt===!0){let ht=Math.acos(clamp$1(ot[0].dot(ot[et]),-1,1));ht/=et,it[0].dot(st.crossVectors(ot[0],ot[et]))>0&&(ht=-ht);for(let pt=1;pt<=et;pt++)ot[pt].applyMatrix4(lt.makeRotationAxis(it[pt],ht*pt)),at[pt].crossVectors(it[pt],ot[pt])}return{tangents:it,normals:ot,binormals:at}}clone(){return new this.constructor().copy(this)}copy(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}toJSON(){const et={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return et.arcLengthDivisions=this.arcLengthDivisions,et.type=this.type,et}fromJSON(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}}class EllipseCurve$1 extends Curve$1{constructor(et=0,nt=0,rt=1,it=1,ot=0,at=Math.PI*2,st=!1,lt=0){super(),this.type="EllipseCurve",this.aX=et,this.aY=nt,this.xRadius=rt,this.yRadius=it,this.aStartAngle=ot,this.aEndAngle=at,this.aClockwise=st,this.aRotation=lt}getPoint(et,nt){const rt=nt||new Vector2$1,it=Math.PI*2;let ot=this.aEndAngle-this.aStartAngle;const at=Math.abs(ot)<Number.EPSILON;for(;ot<0;)ot+=it;for(;ot>it;)ot-=it;ot<Number.EPSILON&&(at?ot=0:ot=it),this.aClockwise===!0&&!at&&(ot===it?ot=-it:ot=ot-it);const st=this.aStartAngle+et*ot;let lt=this.aX+this.xRadius*Math.cos(st),ct=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const ft=Math.cos(this.aRotation),ut=Math.sin(this.aRotation),dt=lt-this.aX,ht=ct-this.aY;lt=dt*ft-ht*ut+this.aX,ct=dt*ut+ht*ft+this.aY}return rt.set(lt,ct)}copy(et){return super.copy(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}toJSON(){const et=super.toJSON();return et.aX=this.aX,et.aY=this.aY,et.xRadius=this.xRadius,et.yRadius=this.yRadius,et.aStartAngle=this.aStartAngle,et.aEndAngle=this.aEndAngle,et.aClockwise=this.aClockwise,et.aRotation=this.aRotation,et}fromJSON(et){return super.fromJSON(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}}EllipseCurve$1.prototype.isEllipseCurve=!0;class ArcCurve$1 extends EllipseCurve$1{constructor(et,nt,rt,it,ot,at){super(et,nt,rt,rt,it,ot,at),this.type="ArcCurve"}}ArcCurve$1.prototype.isArcCurve=!0;function CubicPoly$1(){let tt=0,et=0,nt=0,rt=0;function it(ot,at,st,lt){tt=ot,et=st,nt=-3*ot+3*at-2*st-lt,rt=2*ot-2*at+st+lt}return{initCatmullRom:function(ot,at,st,lt,ct){it(at,st,ct*(st-ot),ct*(lt-at))},initNonuniformCatmullRom:function(ot,at,st,lt,ct,ft,ut){let dt=(at-ot)/ct-(st-ot)/(ct+ft)+(st-at)/ft,ht=(st-at)/ft-(lt-at)/(ft+ut)+(lt-st)/ut;dt*=ft,ht*=ft,it(at,st,dt,ht)},calc:function(ot){const at=ot*ot,st=at*ot;return tt+et*ot+nt*at+rt*st}}}const tmp$1=new Vector3$1,px$1=new CubicPoly$1,py$1=new CubicPoly$1,pz$1=new CubicPoly$1;class CatmullRomCurve3$1 extends Curve$1{constructor(et=[],nt=!1,rt="centripetal",it=.5){super(),this.type="CatmullRomCurve3",this.points=et,this.closed=nt,this.curveType=rt,this.tension=it}getPoint(et,nt=new Vector3$1){const rt=nt,it=this.points,ot=it.length,at=(ot-(this.closed?0:1))*et;let st=Math.floor(at),lt=at-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/ot)+1)*ot:lt===0&&st===ot-1&&(st=ot-2,lt=1);let ct,ft;this.closed||st>0?ct=it[(st-1)%ot]:(tmp$1.subVectors(it[0],it[1]).add(it[0]),ct=tmp$1);const ut=it[st%ot],dt=it[(st+1)%ot];if(this.closed||st+2<ot?ft=it[(st+2)%ot]:(tmp$1.subVectors(it[ot-1],it[ot-2]).add(it[ot-1]),ft=tmp$1),this.curveType==="centripetal"||this.curveType==="chordal"){const ht=this.curveType==="chordal"?.5:.25;let pt=Math.pow(ct.distanceToSquared(ut),ht),gt=Math.pow(ut.distanceToSquared(dt),ht),mt=Math.pow(dt.distanceToSquared(ft),ht);gt<1e-4&&(gt=1),pt<1e-4&&(pt=gt),mt<1e-4&&(mt=gt),px$1.initNonuniformCatmullRom(ct.x,ut.x,dt.x,ft.x,pt,gt,mt),py$1.initNonuniformCatmullRom(ct.y,ut.y,dt.y,ft.y,pt,gt,mt),pz$1.initNonuniformCatmullRom(ct.z,ut.z,dt.z,ft.z,pt,gt,mt)}else this.curveType==="catmullrom"&&(px$1.initCatmullRom(ct.x,ut.x,dt.x,ft.x,this.tension),py$1.initCatmullRom(ct.y,ut.y,dt.y,ft.y,this.tension),pz$1.initCatmullRom(ct.z,ut.z,dt.z,ft.z,this.tension));return rt.set(px$1.calc(lt),py$1.calc(lt),pz$1.calc(lt)),rt}copy(et){super.copy(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(it.clone())}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}toJSON(){const et=super.toJSON();et.points=[];for(let nt=0,rt=this.points.length;nt<rt;nt++){const it=this.points[nt];et.points.push(it.toArray())}return et.closed=this.closed,et.curveType=this.curveType,et.tension=this.tension,et}fromJSON(et){super.fromJSON(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(new Vector3$1().fromArray(it))}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}}CatmullRomCurve3$1.prototype.isCatmullRomCurve3=!0;function CatmullRom$1(tt,et,nt,rt,it){const ot=(rt-et)*.5,at=(it-nt)*.5,st=tt*tt,lt=tt*st;return(2*nt-2*rt+ot+at)*lt+(-3*nt+3*rt-2*ot-at)*st+ot*tt+nt}function QuadraticBezierP0$1(tt,et){const nt=1-tt;return nt*nt*et}function QuadraticBezierP1$1(tt,et){return 2*(1-tt)*tt*et}function QuadraticBezierP2$1(tt,et){return tt*tt*et}function QuadraticBezier$1(tt,et,nt,rt){return QuadraticBezierP0$1(tt,et)+QuadraticBezierP1$1(tt,nt)+QuadraticBezierP2$1(tt,rt)}function CubicBezierP0$1(tt,et){const nt=1-tt;return nt*nt*nt*et}function CubicBezierP1$1(tt,et){const nt=1-tt;return 3*nt*nt*tt*et}function CubicBezierP2$1(tt,et){return 3*(1-tt)*tt*tt*et}function CubicBezierP3$1(tt,et){return tt*tt*tt*et}function CubicBezier$1(tt,et,nt,rt,it){return CubicBezierP0$1(tt,et)+CubicBezierP1$1(tt,nt)+CubicBezierP2$1(tt,rt)+CubicBezierP3$1(tt,it)}class CubicBezierCurve$1 extends Curve$1{constructor(et=new Vector2$1,nt=new Vector2$1,rt=new Vector2$1,it=new Vector2$1){super(),this.type="CubicBezierCurve",this.v0=et,this.v1=nt,this.v2=rt,this.v3=it}getPoint(et,nt=new Vector2$1){const rt=nt,it=this.v0,ot=this.v1,at=this.v2,st=this.v3;return rt.set(CubicBezier$1(et,it.x,ot.x,at.x,st.x),CubicBezier$1(et,it.y,ot.y,at.y,st.y)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}CubicBezierCurve$1.prototype.isCubicBezierCurve=!0;class CubicBezierCurve3$1 extends Curve$1{constructor(et=new Vector3$1,nt=new Vector3$1,rt=new Vector3$1,it=new Vector3$1){super(),this.type="CubicBezierCurve3",this.v0=et,this.v1=nt,this.v2=rt,this.v3=it}getPoint(et,nt=new Vector3$1){const rt=nt,it=this.v0,ot=this.v1,at=this.v2,st=this.v3;return rt.set(CubicBezier$1(et,it.x,ot.x,at.x,st.x),CubicBezier$1(et,it.y,ot.y,at.y,st.y),CubicBezier$1(et,it.z,ot.z,at.z,st.z)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}CubicBezierCurve3$1.prototype.isCubicBezierCurve3=!0;class LineCurve$1 extends Curve$1{constructor(et=new Vector2$1,nt=new Vector2$1){super(),this.type="LineCurve",this.v1=et,this.v2=nt}getPoint(et,nt=new Vector2$1){const rt=nt;return et===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(et).add(this.v1)),rt}getPointAt(et,nt){return this.getPoint(et,nt)}getTangent(et,nt){const rt=nt||new Vector2$1;return rt.copy(this.v2).sub(this.v1).normalize(),rt}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}LineCurve$1.prototype.isLineCurve=!0;class LineCurve3$1 extends Curve$1{constructor(et=new Vector3$1,nt=new Vector3$1){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=et,this.v2=nt}getPoint(et,nt=new Vector3$1){const rt=nt;return et===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(et).add(this.v1)),rt}getPointAt(et,nt){return this.getPoint(et,nt)}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class QuadraticBezierCurve$1 extends Curve$1{constructor(et=new Vector2$1,nt=new Vector2$1,rt=new Vector2$1){super(),this.type="QuadraticBezierCurve",this.v0=et,this.v1=nt,this.v2=rt}getPoint(et,nt=new Vector2$1){const rt=nt,it=this.v0,ot=this.v1,at=this.v2;return rt.set(QuadraticBezier$1(et,it.x,ot.x,at.x),QuadraticBezier$1(et,it.y,ot.y,at.y)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}QuadraticBezierCurve$1.prototype.isQuadraticBezierCurve=!0;class QuadraticBezierCurve3$1 extends Curve$1{constructor(et=new Vector3$1,nt=new Vector3$1,rt=new Vector3$1){super(),this.type="QuadraticBezierCurve3",this.v0=et,this.v1=nt,this.v2=rt}getPoint(et,nt=new Vector3$1){const rt=nt,it=this.v0,ot=this.v1,at=this.v2;return rt.set(QuadraticBezier$1(et,it.x,ot.x,at.x),QuadraticBezier$1(et,it.y,ot.y,at.y),QuadraticBezier$1(et,it.z,ot.z,at.z)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}QuadraticBezierCurve3$1.prototype.isQuadraticBezierCurve3=!0;class SplineCurve$1 extends Curve$1{constructor(et=[]){super(),this.type="SplineCurve",this.points=et}getPoint(et,nt=new Vector2$1){const rt=nt,it=this.points,ot=(it.length-1)*et,at=Math.floor(ot),st=ot-at,lt=it[at===0?at:at-1],ct=it[at],ft=it[at>it.length-2?it.length-1:at+1],ut=it[at>it.length-3?it.length-1:at+2];return rt.set(CatmullRom$1(st,lt.x,ct.x,ft.x,ut.x),CatmullRom$1(st,lt.y,ct.y,ft.y,ut.y)),rt}copy(et){super.copy(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(it.clone())}return this}toJSON(){const et=super.toJSON();et.points=[];for(let nt=0,rt=this.points.length;nt<rt;nt++){const it=this.points[nt];et.points.push(it.toArray())}return et}fromJSON(et){super.fromJSON(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(new Vector2$1().fromArray(it))}return this}}SplineCurve$1.prototype.isSplineCurve=!0;var Curves$1=Object.freeze({__proto__:null,ArcCurve:ArcCurve$1,CatmullRomCurve3:CatmullRomCurve3$1,CubicBezierCurve:CubicBezierCurve$1,CubicBezierCurve3:CubicBezierCurve3$1,EllipseCurve:EllipseCurve$1,LineCurve:LineCurve$1,LineCurve3:LineCurve3$1,QuadraticBezierCurve:QuadraticBezierCurve$1,QuadraticBezierCurve3:QuadraticBezierCurve3$1,SplineCurve:SplineCurve$1});class CurvePath$1 extends Curve$1{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(et){this.curves.push(et)}closePath(){const et=this.curves[0].getPoint(0),nt=this.curves[this.curves.length-1].getPoint(1);et.equals(nt)||this.curves.push(new LineCurve$1(nt,et))}getPoint(et,nt){const rt=et*this.getLength(),it=this.getCurveLengths();let ot=0;for(;ot<it.length;){if(it[ot]>=rt){const at=it[ot]-rt,st=this.curves[ot],lt=st.getLength(),ct=lt===0?0:1-at/lt;return st.getPointAt(ct,nt)}ot++}return null}getLength(){const et=this.getCurveLengths();return et[et.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const et=[];let nt=0;for(let rt=0,it=this.curves.length;rt<it;rt++)nt+=this.curves[rt].getLength(),et.push(nt);return this.cacheLengths=et,et}getSpacedPoints(et=40){const nt=[];for(let rt=0;rt<=et;rt++)nt.push(this.getPoint(rt/et));return this.autoClose&&nt.push(nt[0]),nt}getPoints(et=12){const nt=[];let rt;for(let it=0,ot=this.curves;it<ot.length;it++){const at=ot[it],st=at.isEllipseCurve?et*2:at.isLineCurve||at.isLineCurve3?1:at.isSplineCurve?et*at.points.length:et,lt=at.getPoints(st);for(let ct=0;ct<lt.length;ct++){const ft=lt[ct];rt&&rt.equals(ft)||(nt.push(ft),rt=ft)}}return this.autoClose&&nt.length>1&&!nt[nt.length-1].equals(nt[0])&&nt.push(nt[0]),nt}copy(et){super.copy(et),this.curves=[];for(let nt=0,rt=et.curves.length;nt<rt;nt++){const it=et.curves[nt];this.curves.push(it.clone())}return this.autoClose=et.autoClose,this}toJSON(){const et=super.toJSON();et.autoClose=this.autoClose,et.curves=[];for(let nt=0,rt=this.curves.length;nt<rt;nt++){const it=this.curves[nt];et.curves.push(it.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.autoClose=et.autoClose,this.curves=[];for(let nt=0,rt=et.curves.length;nt<rt;nt++){const it=et.curves[nt];this.curves.push(new Curves$1[it.type]().fromJSON(it))}return this}}class Path$1 extends CurvePath$1{constructor(et){super(),this.type="Path",this.currentPoint=new Vector2$1,et&&this.setFromPoints(et)}setFromPoints(et){this.moveTo(et[0].x,et[0].y);for(let nt=1,rt=et.length;nt<rt;nt++)this.lineTo(et[nt].x,et[nt].y);return this}moveTo(et,nt){return this.currentPoint.set(et,nt),this}lineTo(et,nt){const rt=new LineCurve$1(this.currentPoint.clone(),new Vector2$1(et,nt));return this.curves.push(rt),this.currentPoint.set(et,nt),this}quadraticCurveTo(et,nt,rt,it){const ot=new QuadraticBezierCurve$1(this.currentPoint.clone(),new Vector2$1(et,nt),new Vector2$1(rt,it));return this.curves.push(ot),this.currentPoint.set(rt,it),this}bezierCurveTo(et,nt,rt,it,ot,at){const st=new CubicBezierCurve$1(this.currentPoint.clone(),new Vector2$1(et,nt),new Vector2$1(rt,it),new Vector2$1(ot,at));return this.curves.push(st),this.currentPoint.set(ot,at),this}splineThru(et){const nt=[this.currentPoint.clone()].concat(et),rt=new SplineCurve$1(nt);return this.curves.push(rt),this.currentPoint.copy(et[et.length-1]),this}arc(et,nt,rt,it,ot,at){const st=this.currentPoint.x,lt=this.currentPoint.y;return this.absarc(et+st,nt+lt,rt,it,ot,at),this}absarc(et,nt,rt,it,ot,at){return this.absellipse(et,nt,rt,rt,it,ot,at),this}ellipse(et,nt,rt,it,ot,at,st,lt){const ct=this.currentPoint.x,ft=this.currentPoint.y;return this.absellipse(et+ct,nt+ft,rt,it,ot,at,st,lt),this}absellipse(et,nt,rt,it,ot,at,st,lt){const ct=new EllipseCurve$1(et,nt,rt,it,ot,at,st,lt);if(this.curves.length>0){const ut=ct.getPoint(0);ut.equals(this.currentPoint)||this.lineTo(ut.x,ut.y)}this.curves.push(ct);const ft=ct.getPoint(1);return this.currentPoint.copy(ft),this}copy(et){return super.copy(et),this.currentPoint.copy(et.currentPoint),this}toJSON(){const et=super.toJSON();return et.currentPoint=this.currentPoint.toArray(),et}fromJSON(et){return super.fromJSON(et),this.currentPoint.fromArray(et.currentPoint),this}}class CircleGeometry extends BufferGeometry$1{constructor(et=1,nt=8,rt=0,it=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:et,segments:nt,thetaStart:rt,thetaLength:it},nt=Math.max(3,nt);const ot=[],at=[],st=[],lt=[],ct=new Vector3$1,ft=new Vector2$1;at.push(0,0,0),st.push(0,0,1),lt.push(.5,.5);for(let ut=0,dt=3;ut<=nt;ut++,dt+=3){const ht=rt+ut/nt*it;ct.x=et*Math.cos(ht),ct.y=et*Math.sin(ht),at.push(ct.x,ct.y,ct.z),st.push(0,0,1),ft.x=(at[dt]/et+1)/2,ft.y=(at[dt+1]/et+1)/2,lt.push(ft.x,ft.y)}for(let ut=1;ut<=nt;ut++)ot.push(ut,ut+1,0);this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute$1(at,3)),this.setAttribute("normal",new Float32BufferAttribute$1(st,3)),this.setAttribute("uv",new Float32BufferAttribute$1(lt,2))}static fromJSON(et){return new CircleGeometry(et.radius,et.segments,et.thetaStart,et.thetaLength)}}class CylinderGeometry extends BufferGeometry$1{constructor(et=1,nt=1,rt=1,it=8,ot=1,at=!1,st=0,lt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:et,radiusBottom:nt,height:rt,radialSegments:it,heightSegments:ot,openEnded:at,thetaStart:st,thetaLength:lt};const ct=this;it=Math.floor(it),ot=Math.floor(ot);const ft=[],ut=[],dt=[],ht=[];let pt=0;const gt=[],mt=rt/2;let yt=0;bt(),at===!1&&(et>0&&St(!0),nt>0&&St(!1)),this.setIndex(ft),this.setAttribute("position",new Float32BufferAttribute$1(ut,3)),this.setAttribute("normal",new Float32BufferAttribute$1(dt,3)),this.setAttribute("uv",new Float32BufferAttribute$1(ht,2));function bt(){const xt=new Vector3$1,vt=new Vector3$1;let $t=0;const zt=(nt-et)/rt;for(let Nt=0;Nt<=ot;Nt++){const wt=[],Et=Nt/ot,Rt=Et*(nt-et)+et;for(let Tt=0;Tt<=it;Tt++){const It=Tt/it,Pt=It*lt+st,Dt=Math.sin(Pt),Ct=Math.cos(Pt);vt.x=Rt*Dt,vt.y=-Et*rt+mt,vt.z=Rt*Ct,ut.push(vt.x,vt.y,vt.z),xt.set(Dt,zt,Ct).normalize(),dt.push(xt.x,xt.y,xt.z),ht.push(It,1-Et),wt.push(pt++)}gt.push(wt)}for(let Nt=0;Nt<it;Nt++)for(let wt=0;wt<ot;wt++){const Et=gt[wt][Nt],Rt=gt[wt+1][Nt],Tt=gt[wt+1][Nt+1],It=gt[wt][Nt+1];ft.push(Et,Rt,It),ft.push(Rt,Tt,It),$t+=6}ct.addGroup(yt,$t,0),yt+=$t}function St(xt){const vt=pt,$t=new Vector2$1,zt=new Vector3$1;let Nt=0;const wt=xt===!0?et:nt,Et=xt===!0?1:-1;for(let Tt=1;Tt<=it;Tt++)ut.push(0,mt*Et,0),dt.push(0,Et,0),ht.push(.5,.5),pt++;const Rt=pt;for(let Tt=0;Tt<=it;Tt++){const Pt=Tt/it*lt+st,Dt=Math.cos(Pt),Ct=Math.sin(Pt);zt.x=wt*Ct,zt.y=mt*Et,zt.z=wt*Dt,ut.push(zt.x,zt.y,zt.z),dt.push(0,Et,0),$t.x=Dt*.5+.5,$t.y=Ct*.5*Et+.5,ht.push($t.x,$t.y),pt++}for(let Tt=0;Tt<it;Tt++){const It=vt+Tt,Pt=Rt+Tt;xt===!0?ft.push(Pt,Pt+1,It):ft.push(Pt+1,Pt,It),Nt+=3}ct.addGroup(yt,Nt,xt===!0?1:2),yt+=Nt}}static fromJSON(et){return new CylinderGeometry(et.radiusTop,et.radiusBottom,et.height,et.radialSegments,et.heightSegments,et.openEnded,et.thetaStart,et.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(et=1,nt=1,rt=8,it=1,ot=!1,at=0,st=Math.PI*2){super(0,et,nt,rt,it,ot,at,st),this.type="ConeGeometry",this.parameters={radius:et,height:nt,radialSegments:rt,heightSegments:it,openEnded:ot,thetaStart:at,thetaLength:st}}static fromJSON(et){return new ConeGeometry(et.radius,et.height,et.radialSegments,et.heightSegments,et.openEnded,et.thetaStart,et.thetaLength)}}class PolyhedronGeometry extends BufferGeometry$1{constructor(et=[],nt=[],rt=1,it=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:et,indices:nt,radius:rt,detail:it};const ot=[],at=[];st(it),ct(rt),ft(),this.setAttribute("position",new Float32BufferAttribute$1(ot,3)),this.setAttribute("normal",new Float32BufferAttribute$1(ot.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute$1(at,2)),it===0?this.computeVertexNormals():this.normalizeNormals();function st(bt){const St=new Vector3$1,xt=new Vector3$1,vt=new Vector3$1;for(let $t=0;$t<nt.length;$t+=3)ht(nt[$t+0],St),ht(nt[$t+1],xt),ht(nt[$t+2],vt),lt(St,xt,vt,bt)}function lt(bt,St,xt,vt){const $t=vt+1,zt=[];for(let Nt=0;Nt<=$t;Nt++){zt[Nt]=[];const wt=bt.clone().lerp(xt,Nt/$t),Et=St.clone().lerp(xt,Nt/$t),Rt=$t-Nt;for(let Tt=0;Tt<=Rt;Tt++)Tt===0&&Nt===$t?zt[Nt][Tt]=wt:zt[Nt][Tt]=wt.clone().lerp(Et,Tt/Rt)}for(let Nt=0;Nt<$t;Nt++)for(let wt=0;wt<2*($t-Nt)-1;wt++){const Et=Math.floor(wt/2);wt%2===0?(dt(zt[Nt][Et+1]),dt(zt[Nt+1][Et]),dt(zt[Nt][Et])):(dt(zt[Nt][Et+1]),dt(zt[Nt+1][Et+1]),dt(zt[Nt+1][Et]))}}function ct(bt){const St=new Vector3$1;for(let xt=0;xt<ot.length;xt+=3)St.x=ot[xt+0],St.y=ot[xt+1],St.z=ot[xt+2],St.normalize().multiplyScalar(bt),ot[xt+0]=St.x,ot[xt+1]=St.y,ot[xt+2]=St.z}function ft(){const bt=new Vector3$1;for(let St=0;St<ot.length;St+=3){bt.x=ot[St+0],bt.y=ot[St+1],bt.z=ot[St+2];const xt=mt(bt)/2/Math.PI+.5,vt=yt(bt)/Math.PI+.5;at.push(xt,1-vt)}pt(),ut()}function ut(){for(let bt=0;bt<at.length;bt+=6){const St=at[bt+0],xt=at[bt+2],vt=at[bt+4],$t=Math.max(St,xt,vt),zt=Math.min(St,xt,vt);$t>.9&&zt<.1&&(St<.2&&(at[bt+0]+=1),xt<.2&&(at[bt+2]+=1),vt<.2&&(at[bt+4]+=1))}}function dt(bt){ot.push(bt.x,bt.y,bt.z)}function ht(bt,St){const xt=bt*3;St.x=et[xt+0],St.y=et[xt+1],St.z=et[xt+2]}function pt(){const bt=new Vector3$1,St=new Vector3$1,xt=new Vector3$1,vt=new Vector3$1,$t=new Vector2$1,zt=new Vector2$1,Nt=new Vector2$1;for(let wt=0,Et=0;wt<ot.length;wt+=9,Et+=6){bt.set(ot[wt+0],ot[wt+1],ot[wt+2]),St.set(ot[wt+3],ot[wt+4],ot[wt+5]),xt.set(ot[wt+6],ot[wt+7],ot[wt+8]),$t.set(at[Et+0],at[Et+1]),zt.set(at[Et+2],at[Et+3]),Nt.set(at[Et+4],at[Et+5]),vt.copy(bt).add(St).add(xt).divideScalar(3);const Rt=mt(vt);gt($t,Et+0,bt,Rt),gt(zt,Et+2,St,Rt),gt(Nt,Et+4,xt,Rt)}}function gt(bt,St,xt,vt){vt<0&&bt.x===1&&(at[St]=bt.x-1),xt.x===0&&xt.z===0&&(at[St]=vt/2/Math.PI+.5)}function mt(bt){return Math.atan2(bt.z,-bt.x)}function yt(bt){return Math.atan2(-bt.y,Math.sqrt(bt.x*bt.x+bt.z*bt.z))}}static fromJSON(et){return new PolyhedronGeometry(et.vertices,et.indices,et.radius,et.details)}}new Vector3$1;new Vector3$1;new Vector3$1;new Triangle$1;class Shape$1 extends Path$1{constructor(et){super(et),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(et){const nt=[];for(let rt=0,it=this.holes.length;rt<it;rt++)nt[rt]=this.holes[rt].getPoints(et);return nt}extractPoints(et){return{shape:this.getPoints(et),holes:this.getPointsHoles(et)}}copy(et){super.copy(et),this.holes=[];for(let nt=0,rt=et.holes.length;nt<rt;nt++){const it=et.holes[nt];this.holes.push(it.clone())}return this}toJSON(){const et=super.toJSON();et.uuid=this.uuid,et.holes=[];for(let nt=0,rt=this.holes.length;nt<rt;nt++){const it=this.holes[nt];et.holes.push(it.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.uuid=et.uuid,this.holes=[];for(let nt=0,rt=et.holes.length;nt<rt;nt++){const it=et.holes[nt];this.holes.push(new Path$1().fromJSON(it))}return this}}const Earcut$1={triangulate:function(tt,et,nt=2){const rt=et&&et.length,it=rt?et[0]*nt:tt.length;let ot=linkedList$1(tt,0,it,nt,!0);const at=[];if(!ot||ot.next===ot.prev)return at;let st,lt,ct,ft,ut,dt,ht;if(rt&&(ot=eliminateHoles$1(tt,et,ot,nt)),tt.length>80*nt){st=ct=tt[0],lt=ft=tt[1];for(let pt=nt;pt<it;pt+=nt)ut=tt[pt],dt=tt[pt+1],ut<st&&(st=ut),dt<lt&&(lt=dt),ut>ct&&(ct=ut),dt>ft&&(ft=dt);ht=Math.max(ct-st,ft-lt),ht=ht!==0?1/ht:0}return earcutLinked$1(ot,at,nt,st,lt,ht),at}};function linkedList$1(tt,et,nt,rt,it){let ot,at;if(it===signedArea$1(tt,et,nt,rt)>0)for(ot=et;ot<nt;ot+=rt)at=insertNode$1(ot,tt[ot],tt[ot+1],at);else for(ot=nt-rt;ot>=et;ot-=rt)at=insertNode$1(ot,tt[ot],tt[ot+1],at);return at&&equals$1(at,at.next)&&(removeNode$1(at),at=at.next),at}function filterPoints$1(tt,et){if(!tt)return tt;et||(et=tt);let nt=tt,rt;do if(rt=!1,!nt.steiner&&(equals$1(nt,nt.next)||area$1(nt.prev,nt,nt.next)===0)){if(removeNode$1(nt),nt=et=nt.prev,nt===nt.next)break;rt=!0}else nt=nt.next;while(rt||nt!==et);return et}function earcutLinked$1(tt,et,nt,rt,it,ot,at){if(!tt)return;!at&&ot&&indexCurve$1(tt,rt,it,ot);let st=tt,lt,ct;for(;tt.prev!==tt.next;){if(lt=tt.prev,ct=tt.next,ot?isEarHashed$1(tt,rt,it,ot):isEar$1(tt)){et.push(lt.i/nt),et.push(tt.i/nt),et.push(ct.i/nt),removeNode$1(tt),tt=ct.next,st=ct.next;continue}if(tt=ct,tt===st){at?at===1?(tt=cureLocalIntersections$1(filterPoints$1(tt),et,nt),earcutLinked$1(tt,et,nt,rt,it,ot,2)):at===2&&splitEarcut$1(tt,et,nt,rt,it,ot):earcutLinked$1(filterPoints$1(tt),et,nt,rt,it,ot,1);break}}}function isEar$1(tt){const et=tt.prev,nt=tt,rt=tt.next;if(area$1(et,nt,rt)>=0)return!1;let it=tt.next.next;for(;it!==tt.prev;){if(pointInTriangle$1(et.x,et.y,nt.x,nt.y,rt.x,rt.y,it.x,it.y)&&area$1(it.prev,it,it.next)>=0)return!1;it=it.next}return!0}function isEarHashed$1(tt,et,nt,rt){const it=tt.prev,ot=tt,at=tt.next;if(area$1(it,ot,at)>=0)return!1;const st=it.x<ot.x?it.x<at.x?it.x:at.x:ot.x<at.x?ot.x:at.x,lt=it.y<ot.y?it.y<at.y?it.y:at.y:ot.y<at.y?ot.y:at.y,ct=it.x>ot.x?it.x>at.x?it.x:at.x:ot.x>at.x?ot.x:at.x,ft=it.y>ot.y?it.y>at.y?it.y:at.y:ot.y>at.y?ot.y:at.y,ut=zOrder$1(st,lt,et,nt,rt),dt=zOrder$1(ct,ft,et,nt,rt);let ht=tt.prevZ,pt=tt.nextZ;for(;ht&&ht.z>=ut&&pt&&pt.z<=dt;){if(ht!==tt.prev&&ht!==tt.next&&pointInTriangle$1(it.x,it.y,ot.x,ot.y,at.x,at.y,ht.x,ht.y)&&area$1(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,pt!==tt.prev&&pt!==tt.next&&pointInTriangle$1(it.x,it.y,ot.x,ot.y,at.x,at.y,pt.x,pt.y)&&area$1(pt.prev,pt,pt.next)>=0))return!1;pt=pt.nextZ}for(;ht&&ht.z>=ut;){if(ht!==tt.prev&&ht!==tt.next&&pointInTriangle$1(it.x,it.y,ot.x,ot.y,at.x,at.y,ht.x,ht.y)&&area$1(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;pt&&pt.z<=dt;){if(pt!==tt.prev&&pt!==tt.next&&pointInTriangle$1(it.x,it.y,ot.x,ot.y,at.x,at.y,pt.x,pt.y)&&area$1(pt.prev,pt,pt.next)>=0)return!1;pt=pt.nextZ}return!0}function cureLocalIntersections$1(tt,et,nt){let rt=tt;do{const it=rt.prev,ot=rt.next.next;!equals$1(it,ot)&&intersects$1(it,rt,rt.next,ot)&&locallyInside$1(it,ot)&&locallyInside$1(ot,it)&&(et.push(it.i/nt),et.push(rt.i/nt),et.push(ot.i/nt),removeNode$1(rt),removeNode$1(rt.next),rt=tt=ot),rt=rt.next}while(rt!==tt);return filterPoints$1(rt)}function splitEarcut$1(tt,et,nt,rt,it,ot){let at=tt;do{let st=at.next.next;for(;st!==at.prev;){if(at.i!==st.i&&isValidDiagonal$1(at,st)){let lt=splitPolygon$1(at,st);at=filterPoints$1(at,at.next),lt=filterPoints$1(lt,lt.next),earcutLinked$1(at,et,nt,rt,it,ot),earcutLinked$1(lt,et,nt,rt,it,ot);return}st=st.next}at=at.next}while(at!==tt)}function eliminateHoles$1(tt,et,nt,rt){const it=[];let ot,at,st,lt,ct;for(ot=0,at=et.length;ot<at;ot++)st=et[ot]*rt,lt=ot<at-1?et[ot+1]*rt:tt.length,ct=linkedList$1(tt,st,lt,rt,!1),ct===ct.next&&(ct.steiner=!0),it.push(getLeftmost$1(ct));for(it.sort(compareX$1),ot=0;ot<it.length;ot++)eliminateHole$1(it[ot],nt),nt=filterPoints$1(nt,nt.next);return nt}function compareX$1(tt,et){return tt.x-et.x}function eliminateHole$1(tt,et){if(et=findHoleBridge$1(tt,et),et){const nt=splitPolygon$1(et,tt);filterPoints$1(et,et.next),filterPoints$1(nt,nt.next)}}function findHoleBridge$1(tt,et){let nt=et;const rt=tt.x,it=tt.y;let ot=-1/0,at;do{if(it<=nt.y&&it>=nt.next.y&&nt.next.y!==nt.y){const dt=nt.x+(it-nt.y)*(nt.next.x-nt.x)/(nt.next.y-nt.y);if(dt<=rt&&dt>ot){if(ot=dt,dt===rt){if(it===nt.y)return nt;if(it===nt.next.y)return nt.next}at=nt.x<nt.next.x?nt:nt.next}}nt=nt.next}while(nt!==et);if(!at)return null;if(rt===ot)return at;const st=at,lt=at.x,ct=at.y;let ft=1/0,ut;nt=at;do rt>=nt.x&&nt.x>=lt&&rt!==nt.x&&pointInTriangle$1(it<ct?rt:ot,it,lt,ct,it<ct?ot:rt,it,nt.x,nt.y)&&(ut=Math.abs(it-nt.y)/(rt-nt.x),locallyInside$1(nt,tt)&&(ut<ft||ut===ft&&(nt.x>at.x||nt.x===at.x&&sectorContainsSector$1(at,nt)))&&(at=nt,ft=ut)),nt=nt.next;while(nt!==st);return at}function sectorContainsSector$1(tt,et){return area$1(tt.prev,tt,et.prev)<0&&area$1(et.next,tt,tt.next)<0}function indexCurve$1(tt,et,nt,rt){let it=tt;do it.z===null&&(it.z=zOrder$1(it.x,it.y,et,nt,rt)),it.prevZ=it.prev,it.nextZ=it.next,it=it.next;while(it!==tt);it.prevZ.nextZ=null,it.prevZ=null,sortLinked$1(it)}function sortLinked$1(tt){let et,nt,rt,it,ot,at,st,lt,ct=1;do{for(nt=tt,tt=null,ot=null,at=0;nt;){for(at++,rt=nt,st=0,et=0;et<ct&&(st++,rt=rt.nextZ,!!rt);et++);for(lt=ct;st>0||lt>0&&rt;)st!==0&&(lt===0||!rt||nt.z<=rt.z)?(it=nt,nt=nt.nextZ,st--):(it=rt,rt=rt.nextZ,lt--),ot?ot.nextZ=it:tt=it,it.prevZ=ot,ot=it;nt=rt}ot.nextZ=null,ct*=2}while(at>1);return tt}function zOrder$1(tt,et,nt,rt,it){return tt=32767*(tt-nt)*it,et=32767*(et-rt)*it,tt=(tt|tt<<8)&16711935,tt=(tt|tt<<4)&252645135,tt=(tt|tt<<2)&858993459,tt=(tt|tt<<1)&1431655765,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,tt|et<<1}function getLeftmost$1(tt){let et=tt,nt=tt;do(et.x<nt.x||et.x===nt.x&&et.y<nt.y)&&(nt=et),et=et.next;while(et!==tt);return nt}function pointInTriangle$1(tt,et,nt,rt,it,ot,at,st){return(it-at)*(et-st)-(tt-at)*(ot-st)>=0&&(tt-at)*(rt-st)-(nt-at)*(et-st)>=0&&(nt-at)*(ot-st)-(it-at)*(rt-st)>=0}function isValidDiagonal$1(tt,et){return tt.next.i!==et.i&&tt.prev.i!==et.i&&!intersectsPolygon$1(tt,et)&&(locallyInside$1(tt,et)&&locallyInside$1(et,tt)&&middleInside$1(tt,et)&&(area$1(tt.prev,tt,et.prev)||area$1(tt,et.prev,et))||equals$1(tt,et)&&area$1(tt.prev,tt,tt.next)>0&&area$1(et.prev,et,et.next)>0)}function area$1(tt,et,nt){return(et.y-tt.y)*(nt.x-et.x)-(et.x-tt.x)*(nt.y-et.y)}function equals$1(tt,et){return tt.x===et.x&&tt.y===et.y}function intersects$1(tt,et,nt,rt){const it=sign$1(area$1(tt,et,nt)),ot=sign$1(area$1(tt,et,rt)),at=sign$1(area$1(nt,rt,tt)),st=sign$1(area$1(nt,rt,et));return!!(it!==ot&&at!==st||it===0&&onSegment$1(tt,nt,et)||ot===0&&onSegment$1(tt,rt,et)||at===0&&onSegment$1(nt,tt,rt)||st===0&&onSegment$1(nt,et,rt))}function onSegment$1(tt,et,nt){return et.x<=Math.max(tt.x,nt.x)&&et.x>=Math.min(tt.x,nt.x)&&et.y<=Math.max(tt.y,nt.y)&&et.y>=Math.min(tt.y,nt.y)}function sign$1(tt){return tt>0?1:tt<0?-1:0}function intersectsPolygon$1(tt,et){let nt=tt;do{if(nt.i!==tt.i&&nt.next.i!==tt.i&&nt.i!==et.i&&nt.next.i!==et.i&&intersects$1(nt,nt.next,tt,et))return!0;nt=nt.next}while(nt!==tt);return!1}function locallyInside$1(tt,et){return area$1(tt.prev,tt,tt.next)<0?area$1(tt,et,tt.next)>=0&&area$1(tt,tt.prev,et)>=0:area$1(tt,et,tt.prev)<0||area$1(tt,tt.next,et)<0}function middleInside$1(tt,et){let nt=tt,rt=!1;const it=(tt.x+et.x)/2,ot=(tt.y+et.y)/2;do nt.y>ot!=nt.next.y>ot&&nt.next.y!==nt.y&&it<(nt.next.x-nt.x)*(ot-nt.y)/(nt.next.y-nt.y)+nt.x&&(rt=!rt),nt=nt.next;while(nt!==tt);return rt}function splitPolygon$1(tt,et){const nt=new Node$2(tt.i,tt.x,tt.y),rt=new Node$2(et.i,et.x,et.y),it=tt.next,ot=et.prev;return tt.next=et,et.prev=tt,nt.next=it,it.prev=nt,rt.next=nt,nt.prev=rt,ot.next=rt,rt.prev=ot,rt}function insertNode$1(tt,et,nt,rt){const it=new Node$2(tt,et,nt);return rt?(it.next=rt.next,it.prev=rt,rt.next.prev=it,rt.next=it):(it.prev=it,it.next=it),it}function removeNode$1(tt){tt.next.prev=tt.prev,tt.prev.next=tt.next,tt.prevZ&&(tt.prevZ.nextZ=tt.nextZ),tt.nextZ&&(tt.nextZ.prevZ=tt.prevZ)}function Node$2(tt,et,nt){this.i=tt,this.x=et,this.y=nt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea$1(tt,et,nt,rt){let it=0;for(let ot=et,at=nt-rt;ot<nt;ot+=rt)it+=(tt[at]-tt[ot])*(tt[ot+1]+tt[at+1]),at=ot;return it}class ShapeUtils$1{static area(et){const nt=et.length;let rt=0;for(let it=nt-1,ot=0;ot<nt;it=ot++)rt+=et[it].x*et[ot].y-et[ot].x*et[it].y;return rt*.5}static isClockWise(et){return ShapeUtils$1.area(et)<0}static triangulateShape(et,nt){const rt=[],it=[],ot=[];removeDupEndPts$1(et),addContour$1(rt,et);let at=et.length;nt.forEach(removeDupEndPts$1);for(let lt=0;lt<nt.length;lt++)it.push(at),at+=nt[lt].length,addContour$1(rt,nt[lt]);const st=Earcut$1.triangulate(rt,it);for(let lt=0;lt<st.length;lt+=3)ot.push(st.slice(lt,lt+3));return ot}}function removeDupEndPts$1(tt){const et=tt.length;et>2&&tt[et-1].equals(tt[0])&&tt.pop()}function addContour$1(tt,et){for(let nt=0;nt<et.length;nt++)tt.push(et[nt].x),tt.push(et[nt].y)}class ExtrudeGeometry$1 extends BufferGeometry$1{constructor(et=new Shape$1([new Vector2$1(.5,.5),new Vector2$1(-.5,.5),new Vector2$1(-.5,-.5),new Vector2$1(.5,-.5)]),nt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:et,options:nt},et=Array.isArray(et)?et:[et];const rt=this,it=[],ot=[];for(let st=0,lt=et.length;st<lt;st++){const ct=et[st];at(ct)}this.setAttribute("position",new Float32BufferAttribute$1(it,3)),this.setAttribute("uv",new Float32BufferAttribute$1(ot,2)),this.computeVertexNormals();function at(st){const lt=[],ct=nt.curveSegments!==void 0?nt.curveSegments:12,ft=nt.steps!==void 0?nt.steps:1;let ut=nt.depth!==void 0?nt.depth:1,dt=nt.bevelEnabled!==void 0?nt.bevelEnabled:!0,ht=nt.bevelThickness!==void 0?nt.bevelThickness:.2,pt=nt.bevelSize!==void 0?nt.bevelSize:ht-.1,gt=nt.bevelOffset!==void 0?nt.bevelOffset:0,mt=nt.bevelSegments!==void 0?nt.bevelSegments:3;const yt=nt.extrudePath,bt=nt.UVGenerator!==void 0?nt.UVGenerator:WorldUVGenerator$1;nt.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),ut=nt.amount);let St,xt=!1,vt,$t,zt,Nt;yt&&(St=yt.getSpacedPoints(ft),xt=!0,dt=!1,vt=yt.computeFrenetFrames(ft,!1),$t=new Vector3$1,zt=new Vector3$1,Nt=new Vector3$1),dt||(mt=0,ht=0,pt=0,gt=0);const wt=st.extractPoints(ct);let Et=wt.shape;const Rt=wt.holes;if(!ShapeUtils$1.isClockWise(Et)){Et=Et.reverse();for(let Xt=0,dn=Rt.length;Xt<dn;Xt++){const Yt=Rt[Xt];ShapeUtils$1.isClockWise(Yt)&&(Rt[Xt]=Yt.reverse())}}const It=ShapeUtils$1.triangulateShape(Et,Rt),Pt=Et;for(let Xt=0,dn=Rt.length;Xt<dn;Xt++){const Yt=Rt[Xt];Et=Et.concat(Yt)}function Dt(Xt,dn,Yt){return dn||console.error("THREE.ExtrudeGeometry: vec does not exist"),dn.clone().multiplyScalar(Yt).add(Xt)}const Ct=Et.length,Ot=It.length;function Ut(Xt,dn,Yt){let yn,Qt,Kt;const hn=Xt.x-dn.x,vn=Xt.y-dn.y,Sn=Yt.x-Xt.x,Cn=Yt.y-Xt.y,cn=hn*hn+vn*vn,ln=hn*Cn-vn*Sn;if(Math.abs(ln)>Number.EPSILON){const bn=Math.sqrt(cn),xn=Math.sqrt(Sn*Sn+Cn*Cn),Nn=dn.x-vn/bn,zn=dn.y+hn/bn,Ln=Yt.x-Cn/xn,Mn=Yt.y+Sn/xn,Wn=((Ln-Nn)*Cn-(Mn-zn)*Sn)/(hn*Cn-vn*Sn);yn=Nn+hn*Wn-Xt.x,Qt=zn+vn*Wn-Xt.y;const Jn=yn*yn+Qt*Qt;if(Jn<=2)return new Vector2$1(yn,Qt);Kt=Math.sqrt(Jn/2)}else{let bn=!1;hn>Number.EPSILON?Sn>Number.EPSILON&&(bn=!0):hn<-Number.EPSILON?Sn<-Number.EPSILON&&(bn=!0):Math.sign(vn)===Math.sign(Cn)&&(bn=!0),bn?(yn=-vn,Qt=hn,Kt=Math.sqrt(cn)):(yn=hn,Qt=vn,Kt=Math.sqrt(cn/2))}return new Vector2$1(yn/Kt,Qt/Kt)}const At=[];for(let Xt=0,dn=Pt.length,Yt=dn-1,yn=Xt+1;Xt<dn;Xt++,Yt++,yn++)Yt===dn&&(Yt=0),yn===dn&&(yn=0),At[Xt]=Ut(Pt[Xt],Pt[Yt],Pt[yn]);const Mt=[];let jt,kt=At.concat();for(let Xt=0,dn=Rt.length;Xt<dn;Xt++){const Yt=Rt[Xt];jt=[];for(let yn=0,Qt=Yt.length,Kt=Qt-1,hn=yn+1;yn<Qt;yn++,Kt++,hn++)Kt===Qt&&(Kt=0),hn===Qt&&(hn=0),jt[yn]=Ut(Yt[yn],Yt[Kt],Yt[hn]);Mt.push(jt),kt=kt.concat(jt)}for(let Xt=0;Xt<mt;Xt++){const dn=Xt/mt,Yt=ht*Math.cos(dn*Math.PI/2),yn=pt*Math.sin(dn*Math.PI/2)+gt;for(let Qt=0,Kt=Pt.length;Qt<Kt;Qt++){const hn=Dt(Pt[Qt],At[Qt],yn);Wt(hn.x,hn.y,-Yt)}for(let Qt=0,Kt=Rt.length;Qt<Kt;Qt++){const hn=Rt[Qt];jt=Mt[Qt];for(let vn=0,Sn=hn.length;vn<Sn;vn++){const Cn=Dt(hn[vn],jt[vn],yn);Wt(Cn.x,Cn.y,-Yt)}}}const Gt=pt+gt;for(let Xt=0;Xt<Ct;Xt++){const dn=dt?Dt(Et[Xt],kt[Xt],Gt):Et[Xt];xt?(zt.copy(vt.normals[0]).multiplyScalar(dn.x),$t.copy(vt.binormals[0]).multiplyScalar(dn.y),Nt.copy(St[0]).add(zt).add($t),Wt(Nt.x,Nt.y,Nt.z)):Wt(dn.x,dn.y,0)}for(let Xt=1;Xt<=ft;Xt++)for(let dn=0;dn<Ct;dn++){const Yt=dt?Dt(Et[dn],kt[dn],Gt):Et[dn];xt?(zt.copy(vt.normals[Xt]).multiplyScalar(Yt.x),$t.copy(vt.binormals[Xt]).multiplyScalar(Yt.y),Nt.copy(St[Xt]).add(zt).add($t),Wt(Nt.x,Nt.y,Nt.z)):Wt(Yt.x,Yt.y,ut/ft*Xt)}for(let Xt=mt-1;Xt>=0;Xt--){const dn=Xt/mt,Yt=ht*Math.cos(dn*Math.PI/2),yn=pt*Math.sin(dn*Math.PI/2)+gt;for(let Qt=0,Kt=Pt.length;Qt<Kt;Qt++){const hn=Dt(Pt[Qt],At[Qt],yn);Wt(hn.x,hn.y,ut+Yt)}for(let Qt=0,Kt=Rt.length;Qt<Kt;Qt++){const hn=Rt[Qt];jt=Mt[Qt];for(let vn=0,Sn=hn.length;vn<Sn;vn++){const Cn=Dt(hn[vn],jt[vn],yn);xt?Wt(Cn.x,Cn.y+St[ft-1].y,St[ft-1].x+Yt):Wt(Cn.x,Cn.y,ut+Yt)}}}Ht(),Jt();function Ht(){const Xt=it.length/3;if(dt){let dn=0,Yt=Ct*dn;for(let yn=0;yn<Ot;yn++){const Qt=It[yn];Lt(Qt[2]+Yt,Qt[1]+Yt,Qt[0]+Yt)}dn=ft+mt*2,Yt=Ct*dn;for(let yn=0;yn<Ot;yn++){const Qt=It[yn];Lt(Qt[0]+Yt,Qt[1]+Yt,Qt[2]+Yt)}}else{for(let dn=0;dn<Ot;dn++){const Yt=It[dn];Lt(Yt[2],Yt[1],Yt[0])}for(let dn=0;dn<Ot;dn++){const Yt=It[dn];Lt(Yt[0]+Ct*ft,Yt[1]+Ct*ft,Yt[2]+Ct*ft)}}rt.addGroup(Xt,it.length/3-Xt,0)}function Jt(){const Xt=it.length/3;let dn=0;Vt(Pt,dn),dn+=Pt.length;for(let Yt=0,yn=Rt.length;Yt<yn;Yt++){const Qt=Rt[Yt];Vt(Qt,dn),dn+=Qt.length}rt.addGroup(Xt,it.length/3-Xt,1)}function Vt(Xt,dn){let Yt=Xt.length;for(;--Yt>=0;){const yn=Yt;let Qt=Yt-1;Qt<0&&(Qt=Xt.length-1);for(let Kt=0,hn=ft+mt*2;Kt<hn;Kt++){const vn=Ct*Kt,Sn=Ct*(Kt+1),Cn=dn+yn+vn,cn=dn+Qt+vn,ln=dn+Qt+Sn,bn=dn+yn+Sn;Bt(Cn,cn,ln,bn)}}}function Wt(Xt,dn,Yt){lt.push(Xt),lt.push(dn),lt.push(Yt)}function Lt(Xt,dn,Yt){Ft(Xt),Ft(dn),Ft(Yt);const yn=it.length/3,Qt=bt.generateTopUV(rt,it,yn-3,yn-2,yn-1);sn(Qt[0]),sn(Qt[1]),sn(Qt[2])}function Bt(Xt,dn,Yt,yn){Ft(Xt),Ft(dn),Ft(yn),Ft(dn),Ft(Yt),Ft(yn);const Qt=it.length/3,Kt=bt.generateSideWallUV(rt,it,Qt-6,Qt-3,Qt-2,Qt-1);sn(Kt[0]),sn(Kt[1]),sn(Kt[3]),sn(Kt[1]),sn(Kt[2]),sn(Kt[3])}function Ft(Xt){it.push(lt[Xt*3+0]),it.push(lt[Xt*3+1]),it.push(lt[Xt*3+2])}function sn(Xt){ot.push(Xt.x),ot.push(Xt.y)}}}toJSON(){const et=super.toJSON(),nt=this.parameters.shapes,rt=this.parameters.options;return toJSON$1$1(nt,rt,et)}static fromJSON(et,nt){const rt=[];for(let ot=0,at=et.shapes.length;ot<at;ot++){const st=nt[et.shapes[ot]];rt.push(st)}const it=et.options.extrudePath;return it!==void 0&&(et.options.extrudePath=new Curves$1[it.type]().fromJSON(it)),new ExtrudeGeometry$1(rt,et.options)}}const WorldUVGenerator$1={generateTopUV:function(tt,et,nt,rt,it){const ot=et[nt*3],at=et[nt*3+1],st=et[rt*3],lt=et[rt*3+1],ct=et[it*3],ft=et[it*3+1];return[new Vector2$1(ot,at),new Vector2$1(st,lt),new Vector2$1(ct,ft)]},generateSideWallUV:function(tt,et,nt,rt,it,ot){const at=et[nt*3],st=et[nt*3+1],lt=et[nt*3+2],ct=et[rt*3],ft=et[rt*3+1],ut=et[rt*3+2],dt=et[it*3],ht=et[it*3+1],pt=et[it*3+2],gt=et[ot*3],mt=et[ot*3+1],yt=et[ot*3+2];return Math.abs(st-ft)<Math.abs(at-ct)?[new Vector2$1(at,1-lt),new Vector2$1(ct,1-ut),new Vector2$1(dt,1-pt),new Vector2$1(gt,1-yt)]:[new Vector2$1(st,1-lt),new Vector2$1(ft,1-ut),new Vector2$1(ht,1-pt),new Vector2$1(mt,1-yt)]}};function toJSON$1$1(tt,et,nt){if(nt.shapes=[],Array.isArray(tt))for(let rt=0,it=tt.length;rt<it;rt++){const ot=tt[rt];nt.shapes.push(ot.uuid)}else nt.shapes.push(tt.uuid);return et.extrudePath!==void 0&&(nt.options.extrudePath=et.extrudePath.toJSON()),nt}class OctahedronGeometry extends PolyhedronGeometry{constructor(et=1,nt=0){const rt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],it=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(rt,it,et,nt),this.type="OctahedronGeometry",this.parameters={radius:et,detail:nt}}static fromJSON(et){return new OctahedronGeometry(et.radius,et.detail)}}class ShapeGeometry$1 extends BufferGeometry$1{constructor(et=new Shape$1([new Vector2$1(0,.5),new Vector2$1(-.5,-.5),new Vector2$1(.5,-.5)]),nt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:et,curveSegments:nt};const rt=[],it=[],ot=[],at=[];let st=0,lt=0;if(Array.isArray(et)===!1)ct(et);else for(let ft=0;ft<et.length;ft++)ct(et[ft]),this.addGroup(st,lt,ft),st+=lt,lt=0;this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute$1(it,3)),this.setAttribute("normal",new Float32BufferAttribute$1(ot,3)),this.setAttribute("uv",new Float32BufferAttribute$1(at,2));function ct(ft){const ut=it.length/3,dt=ft.extractPoints(nt);let ht=dt.shape;const pt=dt.holes;ShapeUtils$1.isClockWise(ht)===!1&&(ht=ht.reverse());for(let mt=0,yt=pt.length;mt<yt;mt++){const bt=pt[mt];ShapeUtils$1.isClockWise(bt)===!0&&(pt[mt]=bt.reverse())}const gt=ShapeUtils$1.triangulateShape(ht,pt);for(let mt=0,yt=pt.length;mt<yt;mt++){const bt=pt[mt];ht=ht.concat(bt)}for(let mt=0,yt=ht.length;mt<yt;mt++){const bt=ht[mt];it.push(bt.x,bt.y,0),ot.push(0,0,1),at.push(bt.x,bt.y)}for(let mt=0,yt=gt.length;mt<yt;mt++){const bt=gt[mt],St=bt[0]+ut,xt=bt[1]+ut,vt=bt[2]+ut;rt.push(St,xt,vt),lt+=3}}}toJSON(){const et=super.toJSON(),nt=this.parameters.shapes;return toJSON$2(nt,et)}static fromJSON(et,nt){const rt=[];for(let it=0,ot=et.shapes.length;it<ot;it++){const at=nt[et.shapes[it]];rt.push(at)}return new ShapeGeometry$1(rt,et.curveSegments)}}function toJSON$2(tt,et){if(et.shapes=[],Array.isArray(tt))for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];et.shapes.push(it.uuid)}else et.shapes.push(tt.uuid);return et}class SphereGeometry extends BufferGeometry$1{constructor(et=1,nt=32,rt=16,it=0,ot=Math.PI*2,at=0,st=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:et,widthSegments:nt,heightSegments:rt,phiStart:it,phiLength:ot,thetaStart:at,thetaLength:st},nt=Math.max(3,Math.floor(nt)),rt=Math.max(2,Math.floor(rt));const lt=Math.min(at+st,Math.PI);let ct=0;const ft=[],ut=new Vector3$1,dt=new Vector3$1,ht=[],pt=[],gt=[],mt=[];for(let yt=0;yt<=rt;yt++){const bt=[],St=yt/rt;let xt=0;yt==0&&at==0?xt=.5/nt:yt==rt&&lt==Math.PI&&(xt=-.5/nt);for(let vt=0;vt<=nt;vt++){const $t=vt/nt;ut.x=-et*Math.cos(it+$t*ot)*Math.sin(at+St*st),ut.y=et*Math.cos(at+St*st),ut.z=et*Math.sin(it+$t*ot)*Math.sin(at+St*st),pt.push(ut.x,ut.y,ut.z),dt.copy(ut).normalize(),gt.push(dt.x,dt.y,dt.z),mt.push($t+xt,1-St),bt.push(ct++)}ft.push(bt)}for(let yt=0;yt<rt;yt++)for(let bt=0;bt<nt;bt++){const St=ft[yt][bt+1],xt=ft[yt][bt],vt=ft[yt+1][bt],$t=ft[yt+1][bt+1];(yt!==0||at>0)&&ht.push(St,xt,$t),(yt!==rt-1||lt<Math.PI)&&ht.push(xt,vt,$t)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute$1(pt,3)),this.setAttribute("normal",new Float32BufferAttribute$1(gt,3)),this.setAttribute("uv",new Float32BufferAttribute$1(mt,2))}static fromJSON(et){return new SphereGeometry(et.radius,et.widthSegments,et.heightSegments,et.phiStart,et.phiLength,et.thetaStart,et.thetaLength)}}class TorusGeometry extends BufferGeometry$1{constructor(et=1,nt=.4,rt=8,it=6,ot=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:et,tube:nt,radialSegments:rt,tubularSegments:it,arc:ot},rt=Math.floor(rt),it=Math.floor(it);const at=[],st=[],lt=[],ct=[],ft=new Vector3$1,ut=new Vector3$1,dt=new Vector3$1;for(let ht=0;ht<=rt;ht++)for(let pt=0;pt<=it;pt++){const gt=pt/it*ot,mt=ht/rt*Math.PI*2;ut.x=(et+nt*Math.cos(mt))*Math.cos(gt),ut.y=(et+nt*Math.cos(mt))*Math.sin(gt),ut.z=nt*Math.sin(mt),st.push(ut.x,ut.y,ut.z),ft.x=et*Math.cos(gt),ft.y=et*Math.sin(gt),dt.subVectors(ut,ft).normalize(),lt.push(dt.x,dt.y,dt.z),ct.push(pt/it),ct.push(ht/rt)}for(let ht=1;ht<=rt;ht++)for(let pt=1;pt<=it;pt++){const gt=(it+1)*ht+pt-1,mt=(it+1)*(ht-1)+pt-1,yt=(it+1)*(ht-1)+pt,bt=(it+1)*ht+pt;at.push(gt,mt,bt),at.push(mt,yt,bt)}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute$1(st,3)),this.setAttribute("normal",new Float32BufferAttribute$1(lt,3)),this.setAttribute("uv",new Float32BufferAttribute$1(ct,2))}static fromJSON(et){return new TorusGeometry(et.radius,et.tube,et.radialSegments,et.tubularSegments,et.arc)}}class WireframeGeometry extends BufferGeometry$1{constructor(et=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:et},et!==null){const nt=[],rt=new Set,it=new Vector3$1,ot=new Vector3$1;if(et.index!==null){const at=et.attributes.position,st=et.index;let lt=et.groups;lt.length===0&&(lt=[{start:0,count:st.count,materialIndex:0}]);for(let ct=0,ft=lt.length;ct<ft;++ct){const ut=lt[ct],dt=ut.start,ht=ut.count;for(let pt=dt,gt=dt+ht;pt<gt;pt+=3)for(let mt=0;mt<3;mt++){const yt=st.getX(pt+mt),bt=st.getX(pt+(mt+1)%3);it.fromBufferAttribute(at,yt),ot.fromBufferAttribute(at,bt),isUniqueEdge(it,ot,rt)===!0&&(nt.push(it.x,it.y,it.z),nt.push(ot.x,ot.y,ot.z))}}}else{const at=et.attributes.position;for(let st=0,lt=at.count/3;st<lt;st++)for(let ct=0;ct<3;ct++){const ft=3*st+ct,ut=3*st+(ct+1)%3;it.fromBufferAttribute(at,ft),ot.fromBufferAttribute(at,ut),isUniqueEdge(it,ot,rt)===!0&&(nt.push(it.x,it.y,it.z),nt.push(ot.x,ot.y,ot.z))}}this.setAttribute("position",new Float32BufferAttribute$1(nt,3))}}}function isUniqueEdge(tt,et,nt){const rt=`${tt.x},${tt.y},${tt.z}-${et.x},${et.y},${et.z}`,it=`${et.x},${et.y},${et.z}-${tt.x},${tt.y},${tt.z}`;return nt.has(rt)===!0||nt.has(it)===!0?!1:(nt.add(rt),nt.add(it),!0)}class ShadowMaterial$1 extends Material$1{constructor(et){super(),this.type="ShadowMaterial",this.color=new Color$2(0),this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.fog=et.fog,this}}ShadowMaterial$1.prototype.isShadowMaterial=!0;class RawShaderMaterial$1 extends ShaderMaterial$1{constructor(et){super(et),this.type="RawShaderMaterial"}}RawShaderMaterial$1.prototype.isRawShaderMaterial=!0;class MeshStandardMaterial$1 extends Material$1{constructor(et){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color$2(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap$1,this.normalScale=new Vector2$1(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={STANDARD:""},this.color.copy(et.color),this.roughness=et.roughness,this.metalness=et.metalness,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.roughnessMap=et.roughnessMap,this.metalnessMap=et.metalnessMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.envMapIntensity=et.envMapIntensity,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}MeshStandardMaterial$1.prototype.isMeshStandardMaterial=!0;class MeshPhysicalMaterial$1 extends MeshStandardMaterial$1{constructor(et){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2$1(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(nt){this.ior=(1+.4*nt)/(1-.4*nt)}}),this.sheenColor=new Color$2(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Color$2(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$2(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(et)}get sheen(){return this._sheen}set sheen(et){this._sheen>0!=et>0&&this.version++,this._sheen=et}get clearcoat(){return this._clearcoat}set clearcoat(et){this._clearcoat>0!=et>0&&this.version++,this._clearcoat=et}get transmission(){return this._transmission}set transmission(et){this._transmission>0!=et>0&&this.version++,this._transmission=et}copy(et){return super.copy(et),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=et.clearcoat,this.clearcoatMap=et.clearcoatMap,this.clearcoatRoughness=et.clearcoatRoughness,this.clearcoatRoughnessMap=et.clearcoatRoughnessMap,this.clearcoatNormalMap=et.clearcoatNormalMap,this.clearcoatNormalScale.copy(et.clearcoatNormalScale),this.ior=et.ior,this.sheen=et.sheen,this.sheenColor.copy(et.sheenColor),this.sheenColorMap=et.sheenColorMap,this.sheenRoughness=et.sheenRoughness,this.sheenRoughnessMap=et.sheenRoughnessMap,this.transmission=et.transmission,this.transmissionMap=et.transmissionMap,this.thickness=et.thickness,this.thicknessMap=et.thicknessMap,this.attenuationDistance=et.attenuationDistance,this.attenuationColor.copy(et.attenuationColor),this.specularIntensity=et.specularIntensity,this.specularIntensityMap=et.specularIntensityMap,this.specularColor.copy(et.specularColor),this.specularColorMap=et.specularColorMap,this}}MeshPhysicalMaterial$1.prototype.isMeshPhysicalMaterial=!0;class MeshPhongMaterial$1 extends Material$1{constructor(et){super(),this.type="MeshPhongMaterial",this.color=new Color$2(16777215),this.specular=new Color$2(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap$1,this.normalScale=new Vector2$1(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation$1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.specular.copy(et.specular),this.shininess=et.shininess,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}MeshPhongMaterial$1.prototype.isMeshPhongMaterial=!0;class MeshToonMaterial$1 extends Material$1{constructor(et){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$2(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap$1,this.normalScale=new Vector2$1(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.gradientMap=et.gradientMap,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}MeshToonMaterial$1.prototype.isMeshToonMaterial=!0;class MeshNormalMaterial$1 extends Material$1{constructor(et){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap$1,this.normalScale=new Vector2$1(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(et)}copy(et){return super.copy(et),this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.flatShading=et.flatShading,this}}MeshNormalMaterial$1.prototype.isMeshNormalMaterial=!0;class MeshLambertMaterial$1 extends Material$1{constructor(et){super(),this.type="MeshLambertMaterial",this.color=new Color$2(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$2(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation$1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}MeshLambertMaterial$1.prototype.isMeshLambertMaterial=!0;class MeshMatcapMaterial$1 extends Material$1{constructor(et){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$2(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap$1,this.normalScale=new Vector2$1(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={MATCAP:""},this.color.copy(et.color),this.matcap=et.matcap,this.map=et.map,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.flatShading=et.flatShading,this.fog=et.fog,this}}MeshMatcapMaterial$1.prototype.isMeshMatcapMaterial=!0;class LineDashedMaterial$1 extends LineBasicMaterial$1{constructor(et){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(et)}copy(et){return super.copy(et),this.scale=et.scale,this.dashSize=et.dashSize,this.gapSize=et.gapSize,this}}LineDashedMaterial$1.prototype.isLineDashedMaterial=!0;const materialLib$1={ShadowMaterial:ShadowMaterial$1,SpriteMaterial:SpriteMaterial$1,RawShaderMaterial:RawShaderMaterial$1,ShaderMaterial:ShaderMaterial$1,PointsMaterial:PointsMaterial$1,MeshPhysicalMaterial:MeshPhysicalMaterial$1,MeshStandardMaterial:MeshStandardMaterial$1,MeshPhongMaterial:MeshPhongMaterial$1,MeshToonMaterial:MeshToonMaterial$1,MeshNormalMaterial:MeshNormalMaterial$1,MeshLambertMaterial:MeshLambertMaterial$1,MeshDepthMaterial:MeshDepthMaterial$1,MeshDistanceMaterial:MeshDistanceMaterial$1,MeshBasicMaterial:MeshBasicMaterial$1,MeshMatcapMaterial:MeshMatcapMaterial$1,LineDashedMaterial:LineDashedMaterial$1,LineBasicMaterial:LineBasicMaterial$1,Material:Material$1};Material$1.fromType=function(tt){return new materialLib$1[tt]};const AnimationUtils$1={arraySlice:function(tt,et,nt){return AnimationUtils$1.isTypedArray(tt)?new tt.constructor(tt.subarray(et,nt!==void 0?nt:tt.length)):tt.slice(et,nt)},convertArray:function(tt,et,nt){return!tt||!nt&&tt.constructor===et?tt:typeof et.BYTES_PER_ELEMENT=="number"?new et(tt):Array.prototype.slice.call(tt)},isTypedArray:function(tt){return ArrayBuffer.isView(tt)&&!(tt instanceof DataView)},getKeyframeOrder:function(tt){function et(it,ot){return tt[it]-tt[ot]}const nt=tt.length,rt=new Array(nt);for(let it=0;it!==nt;++it)rt[it]=it;return rt.sort(et),rt},sortedArray:function(tt,et,nt){const rt=tt.length,it=new tt.constructor(rt);for(let ot=0,at=0;at!==rt;++ot){const st=nt[ot]*et;for(let lt=0;lt!==et;++lt)it[at++]=tt[st+lt]}return it},flattenJSON:function(tt,et,nt,rt){let it=1,ot=tt[0];for(;ot!==void 0&&ot[rt]===void 0;)ot=tt[it++];if(ot===void 0)return;let at=ot[rt];if(at!==void 0)if(Array.isArray(at))do at=ot[rt],at!==void 0&&(et.push(ot.time),nt.push.apply(nt,at)),ot=tt[it++];while(ot!==void 0);else if(at.toArray!==void 0)do at=ot[rt],at!==void 0&&(et.push(ot.time),at.toArray(nt,nt.length)),ot=tt[it++];while(ot!==void 0);else do at=ot[rt],at!==void 0&&(et.push(ot.time),nt.push(at)),ot=tt[it++];while(ot!==void 0)},subclip:function(tt,et,nt,rt,it=30){const ot=tt.clone();ot.name=et;const at=[];for(let lt=0;lt<ot.tracks.length;++lt){const ct=ot.tracks[lt],ft=ct.getValueSize(),ut=[],dt=[];for(let ht=0;ht<ct.times.length;++ht){const pt=ct.times[ht]*it;if(!(pt<nt||pt>=rt)){ut.push(ct.times[ht]);for(let gt=0;gt<ft;++gt)dt.push(ct.values[ht*ft+gt])}}ut.length!==0&&(ct.times=AnimationUtils$1.convertArray(ut,ct.times.constructor),ct.values=AnimationUtils$1.convertArray(dt,ct.values.constructor),at.push(ct))}ot.tracks=at;let st=1/0;for(let lt=0;lt<ot.tracks.length;++lt)st>ot.tracks[lt].times[0]&&(st=ot.tracks[lt].times[0]);for(let lt=0;lt<ot.tracks.length;++lt)ot.tracks[lt].shift(-1*st);return ot.resetDuration(),ot},makeClipAdditive:function(tt,et=0,nt=tt,rt=30){rt<=0&&(rt=30);const it=nt.tracks.length,ot=et/rt;for(let at=0;at<it;++at){const st=nt.tracks[at],lt=st.ValueTypeName;if(lt==="bool"||lt==="string")continue;const ct=tt.tracks.find(function(yt){return yt.name===st.name&&yt.ValueTypeName===lt});if(ct===void 0)continue;let ft=0;const ut=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ft=ut/3);let dt=0;const ht=ct.getValueSize();ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(dt=ht/3);const pt=st.times.length-1;let gt;if(ot<=st.times[0]){const yt=ft,bt=ut-ft;gt=AnimationUtils$1.arraySlice(st.values,yt,bt)}else if(ot>=st.times[pt]){const yt=pt*ut+ft,bt=yt+ut-ft;gt=AnimationUtils$1.arraySlice(st.values,yt,bt)}else{const yt=st.createInterpolant(),bt=ft,St=ut-ft;yt.evaluate(ot),gt=AnimationUtils$1.arraySlice(yt.resultBuffer,bt,St)}lt==="quaternion"&&new Quaternion$1().fromArray(gt).normalize().conjugate().toArray(gt);const mt=ct.times.length;for(let yt=0;yt<mt;++yt){const bt=yt*ht+dt;if(lt==="quaternion")Quaternion$1.multiplyQuaternionsFlat(ct.values,bt,gt,0,ct.values,bt);else{const St=ht-dt*2;for(let xt=0;xt<St;++xt)ct.values[bt+xt]-=gt[xt]}}}return tt.blendMode=AdditiveAnimationBlendMode$1,tt}};class Interpolant$1{constructor(et,nt,rt,it){this.parameterPositions=et,this._cachedIndex=0,this.resultBuffer=it!==void 0?it:new nt.constructor(rt),this.sampleValues=nt,this.valueSize=rt,this.settings=null,this.DefaultSettings_={}}evaluate(et){const nt=this.parameterPositions;let rt=this._cachedIndex,it=nt[rt],ot=nt[rt-1];e:{t:{let at;n:{r:if(!(et<it)){for(let st=rt+2;;){if(it===void 0){if(et<ot)break r;return rt=nt.length,this._cachedIndex=rt,this.afterEnd_(rt-1,et,ot)}if(rt===st)break;if(ot=it,it=nt[++rt],et<it)break t}at=nt.length;break n}if(!(et>=ot)){const st=nt[1];et<st&&(rt=2,ot=st);for(let lt=rt-2;;){if(ot===void 0)return this._cachedIndex=0,this.beforeStart_(0,et,it);if(rt===lt)break;if(it=ot,ot=nt[--rt-1],et>=ot)break t}at=rt,rt=0;break n}break e}for(;rt<at;){const st=rt+at>>>1;et<nt[st]?at=st:rt=st+1}if(it=nt[rt],ot=nt[rt-1],ot===void 0)return this._cachedIndex=0,this.beforeStart_(0,et,it);if(it===void 0)return rt=nt.length,this._cachedIndex=rt,this.afterEnd_(rt-1,ot,et)}this._cachedIndex=rt,this.intervalChanged_(rt,ot,it)}return this.interpolate_(rt,ot,et,it)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(et){const nt=this.resultBuffer,rt=this.sampleValues,it=this.valueSize,ot=et*it;for(let at=0;at!==it;++at)nt[at]=rt[ot+at];return nt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Interpolant$1.prototype.beforeStart_=Interpolant$1.prototype.copySampleValue_;Interpolant$1.prototype.afterEnd_=Interpolant$1.prototype.copySampleValue_;class CubicInterpolant$1 extends Interpolant$1{constructor(et,nt,rt,it){super(et,nt,rt,it),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding$1,endingEnd:ZeroCurvatureEnding$1}}intervalChanged_(et,nt,rt){const it=this.parameterPositions;let ot=et-2,at=et+1,st=it[ot],lt=it[at];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding$1:ot=et,st=2*nt-rt;break;case WrapAroundEnding$1:ot=it.length-2,st=nt+it[ot]-it[ot+1];break;default:ot=et,st=rt}if(lt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding$1:at=et,lt=2*rt-nt;break;case WrapAroundEnding$1:at=1,lt=rt+it[1]-it[0];break;default:at=et-1,lt=nt}const ct=(rt-nt)*.5,ft=this.valueSize;this._weightPrev=ct/(nt-st),this._weightNext=ct/(lt-rt),this._offsetPrev=ot*ft,this._offsetNext=at*ft}interpolate_(et,nt,rt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=et*st,ct=lt-st,ft=this._offsetPrev,ut=this._offsetNext,dt=this._weightPrev,ht=this._weightNext,pt=(rt-nt)/(it-nt),gt=pt*pt,mt=gt*pt,yt=-dt*mt+2*dt*gt-dt*pt,bt=(1+dt)*mt+(-1.5-2*dt)*gt+(-.5+dt)*pt+1,St=(-1-ht)*mt+(1.5+ht)*gt+.5*pt,xt=ht*mt-ht*gt;for(let vt=0;vt!==st;++vt)ot[vt]=yt*at[ft+vt]+bt*at[ct+vt]+St*at[lt+vt]+xt*at[ut+vt];return ot}}class LinearInterpolant$1 extends Interpolant$1{constructor(et,nt,rt,it){super(et,nt,rt,it)}interpolate_(et,nt,rt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=et*st,ct=lt-st,ft=(rt-nt)/(it-nt),ut=1-ft;for(let dt=0;dt!==st;++dt)ot[dt]=at[ct+dt]*ut+at[lt+dt]*ft;return ot}}class DiscreteInterpolant$1 extends Interpolant$1{constructor(et,nt,rt,it){super(et,nt,rt,it)}interpolate_(et){return this.copySampleValue_(et-1)}}class KeyframeTrack$1{constructor(et,nt,rt,it){if(et===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(nt===void 0||nt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+et);this.name=et,this.times=AnimationUtils$1.convertArray(nt,this.TimeBufferType),this.values=AnimationUtils$1.convertArray(rt,this.ValueBufferType),this.setInterpolation(it||this.DefaultInterpolation)}static toJSON(et){const nt=et.constructor;let rt;if(nt.toJSON!==this.toJSON)rt=nt.toJSON(et);else{rt={name:et.name,times:AnimationUtils$1.convertArray(et.times,Array),values:AnimationUtils$1.convertArray(et.values,Array)};const it=et.getInterpolation();it!==et.DefaultInterpolation&&(rt.interpolation=it)}return rt.type=et.ValueTypeName,rt}InterpolantFactoryMethodDiscrete(et){return new DiscreteInterpolant$1(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodLinear(et){return new LinearInterpolant$1(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodSmooth(et){return new CubicInterpolant$1(this.times,this.values,this.getValueSize(),et)}setInterpolation(et){let nt;switch(et){case InterpolateDiscrete$1:nt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear$1:nt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth$1:nt=this.InterpolantFactoryMethodSmooth;break}if(nt===void 0){const rt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(et!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(rt);return console.warn("THREE.KeyframeTrack:",rt),this}return this.createInterpolant=nt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete$1;case this.InterpolantFactoryMethodLinear:return InterpolateLinear$1;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth$1}}getValueSize(){return this.values.length/this.times.length}shift(et){if(et!==0){const nt=this.times;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]+=et}return this}scale(et){if(et!==1){const nt=this.times;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]*=et}return this}trim(et,nt){const rt=this.times,it=rt.length;let ot=0,at=it-1;for(;ot!==it&&rt[ot]<et;)++ot;for(;at!==-1&&rt[at]>nt;)--at;if(++at,ot!==0||at!==it){ot>=at&&(at=Math.max(at,1),ot=at-1);const st=this.getValueSize();this.times=AnimationUtils$1.arraySlice(rt,ot,at),this.values=AnimationUtils$1.arraySlice(this.values,ot*st,at*st)}return this}validate(){let et=!0;const nt=this.getValueSize();nt-Math.floor(nt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),et=!1);const rt=this.times,it=this.values,ot=rt.length;ot===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),et=!1);let at=null;for(let st=0;st!==ot;st++){const lt=rt[st];if(typeof lt=="number"&&isNaN(lt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,lt),et=!1;break}if(at!==null&&at>lt){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,lt,at),et=!1;break}at=lt}if(it!==void 0&&AnimationUtils$1.isTypedArray(it))for(let st=0,lt=it.length;st!==lt;++st){const ct=it[st];if(isNaN(ct)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,ct),et=!1;break}}return et}optimize(){const et=AnimationUtils$1.arraySlice(this.times),nt=AnimationUtils$1.arraySlice(this.values),rt=this.getValueSize(),it=this.getInterpolation()===InterpolateSmooth$1,ot=et.length-1;let at=1;for(let st=1;st<ot;++st){let lt=!1;const ct=et[st],ft=et[st+1];if(ct!==ft&&(st!==1||ct!==et[0]))if(it)lt=!0;else{const ut=st*rt,dt=ut-rt,ht=ut+rt;for(let pt=0;pt!==rt;++pt){const gt=nt[ut+pt];if(gt!==nt[dt+pt]||gt!==nt[ht+pt]){lt=!0;break}}}if(lt){if(st!==at){et[at]=et[st];const ut=st*rt,dt=at*rt;for(let ht=0;ht!==rt;++ht)nt[dt+ht]=nt[ut+ht]}++at}}if(ot>0){et[at]=et[ot];for(let st=ot*rt,lt=at*rt,ct=0;ct!==rt;++ct)nt[lt+ct]=nt[st+ct];++at}return at!==et.length?(this.times=AnimationUtils$1.arraySlice(et,0,at),this.values=AnimationUtils$1.arraySlice(nt,0,at*rt)):(this.times=et,this.values=nt),this}clone(){const et=AnimationUtils$1.arraySlice(this.times,0),nt=AnimationUtils$1.arraySlice(this.values,0),rt=this.constructor,it=new rt(this.name,et,nt);return it.createInterpolant=this.createInterpolant,it}}KeyframeTrack$1.prototype.TimeBufferType=Float32Array;KeyframeTrack$1.prototype.ValueBufferType=Float32Array;KeyframeTrack$1.prototype.DefaultInterpolation=InterpolateLinear$1;class BooleanKeyframeTrack$1 extends KeyframeTrack$1{}BooleanKeyframeTrack$1.prototype.ValueTypeName="bool";BooleanKeyframeTrack$1.prototype.ValueBufferType=Array;BooleanKeyframeTrack$1.prototype.DefaultInterpolation=InterpolateDiscrete$1;BooleanKeyframeTrack$1.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack$1.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack$1 extends KeyframeTrack$1{}ColorKeyframeTrack$1.prototype.ValueTypeName="color";class NumberKeyframeTrack$1 extends KeyframeTrack$1{}NumberKeyframeTrack$1.prototype.ValueTypeName="number";class QuaternionLinearInterpolant$1 extends Interpolant$1{constructor(et,nt,rt,it){super(et,nt,rt,it)}interpolate_(et,nt,rt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=(rt-nt)/(it-nt);let ct=et*st;for(let ft=ct+st;ct!==ft;ct+=4)Quaternion$1.slerpFlat(ot,0,at,ct-st,at,ct,lt);return ot}}class QuaternionKeyframeTrack$1 extends KeyframeTrack$1{InterpolantFactoryMethodLinear(et){return new QuaternionLinearInterpolant$1(this.times,this.values,this.getValueSize(),et)}}QuaternionKeyframeTrack$1.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack$1.prototype.DefaultInterpolation=InterpolateLinear$1;QuaternionKeyframeTrack$1.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack$1 extends KeyframeTrack$1{}StringKeyframeTrack$1.prototype.ValueTypeName="string";StringKeyframeTrack$1.prototype.ValueBufferType=Array;StringKeyframeTrack$1.prototype.DefaultInterpolation=InterpolateDiscrete$1;StringKeyframeTrack$1.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack$1.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack$1 extends KeyframeTrack$1{}VectorKeyframeTrack$1.prototype.ValueTypeName="vector";class AnimationClip$1{constructor(et,nt=-1,rt,it=NormalAnimationBlendMode$1){this.name=et,this.tracks=rt,this.duration=nt,this.blendMode=it,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(et){const nt=[],rt=et.tracks,it=1/(et.fps||1);for(let at=0,st=rt.length;at!==st;++at)nt.push(parseKeyframeTrack$1(rt[at]).scale(it));const ot=new this(et.name,et.duration,nt,et.blendMode);return ot.uuid=et.uuid,ot}static toJSON(et){const nt=[],rt=et.tracks,it={name:et.name,duration:et.duration,tracks:nt,uuid:et.uuid,blendMode:et.blendMode};for(let ot=0,at=rt.length;ot!==at;++ot)nt.push(KeyframeTrack$1.toJSON(rt[ot]));return it}static CreateFromMorphTargetSequence(et,nt,rt,it){const ot=nt.length,at=[];for(let st=0;st<ot;st++){let lt=[],ct=[];lt.push((st+ot-1)%ot,st,(st+1)%ot),ct.push(0,1,0);const ft=AnimationUtils$1.getKeyframeOrder(lt);lt=AnimationUtils$1.sortedArray(lt,1,ft),ct=AnimationUtils$1.sortedArray(ct,1,ft),!it&&lt[0]===0&&(lt.push(ot),ct.push(ct[0])),at.push(new NumberKeyframeTrack$1(".morphTargetInfluences["+nt[st].name+"]",lt,ct).scale(1/rt))}return new this(et,-1,at)}static findByName(et,nt){let rt=et;if(!Array.isArray(et)){const it=et;rt=it.geometry&&it.geometry.animations||it.animations}for(let it=0;it<rt.length;it++)if(rt[it].name===nt)return rt[it];return null}static CreateClipsFromMorphTargetSequences(et,nt,rt){const it={},ot=/^([\w-]*?)([\d]+)$/;for(let st=0,lt=et.length;st<lt;st++){const ct=et[st],ft=ct.name.match(ot);if(ft&&ft.length>1){const ut=ft[1];let dt=it[ut];dt||(it[ut]=dt=[]),dt.push(ct)}}const at=[];for(const st in it)at.push(this.CreateFromMorphTargetSequence(st,it[st],nt,rt));return at}static parseAnimation(et,nt){if(!et)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const rt=function(ut,dt,ht,pt,gt){if(ht.length!==0){const mt=[],yt=[];AnimationUtils$1.flattenJSON(ht,mt,yt,pt),mt.length!==0&&gt.push(new ut(dt,mt,yt))}},it=[],ot=et.name||"default",at=et.fps||30,st=et.blendMode;let lt=et.length||-1;const ct=et.hierarchy||[];for(let ut=0;ut<ct.length;ut++){const dt=ct[ut].keys;if(!(!dt||dt.length===0))if(dt[0].morphTargets){const ht={};let pt;for(pt=0;pt<dt.length;pt++)if(dt[pt].morphTargets)for(let gt=0;gt<dt[pt].morphTargets.length;gt++)ht[dt[pt].morphTargets[gt]]=-1;for(const gt in ht){const mt=[],yt=[];for(let bt=0;bt!==dt[pt].morphTargets.length;++bt){const St=dt[pt];mt.push(St.time),yt.push(St.morphTarget===gt?1:0)}it.push(new NumberKeyframeTrack$1(".morphTargetInfluence["+gt+"]",mt,yt))}lt=ht.length*at}else{const ht=".bones["+nt[ut].name+"]";rt(VectorKeyframeTrack$1,ht+".position",dt,"pos",it),rt(QuaternionKeyframeTrack$1,ht+".quaternion",dt,"rot",it),rt(VectorKeyframeTrack$1,ht+".scale",dt,"scl",it)}}return it.length===0?null:new this(ot,lt,it,st)}resetDuration(){const et=this.tracks;let nt=0;for(let rt=0,it=et.length;rt!==it;++rt){const ot=this.tracks[rt];nt=Math.max(nt,ot.times[ot.times.length-1])}return this.duration=nt,this}trim(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].trim(0,this.duration);return this}validate(){let et=!0;for(let nt=0;nt<this.tracks.length;nt++)et=et&&this.tracks[nt].validate();return et}optimize(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].optimize();return this}clone(){const et=[];for(let nt=0;nt<this.tracks.length;nt++)et.push(this.tracks[nt].clone());return new this.constructor(this.name,this.duration,et,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName$1(tt){switch(tt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack$1;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack$1;case"color":return ColorKeyframeTrack$1;case"quaternion":return QuaternionKeyframeTrack$1;case"bool":case"boolean":return BooleanKeyframeTrack$1;case"string":return StringKeyframeTrack$1}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+tt)}function parseKeyframeTrack$1(tt){if(tt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const et=getTrackTypeForValueTypeName$1(tt.type);if(tt.times===void 0){const nt=[],rt=[];AnimationUtils$1.flattenJSON(tt.keys,nt,rt,"value"),tt.times=nt,tt.values=rt}return et.parse!==void 0?et.parse(tt):new et(tt.name,tt.times,tt.values,tt.interpolation)}const Cache$1={enabled:!1,files:{},add:function(tt,et){this.enabled!==!1&&(this.files[tt]=et)},get:function(tt){if(this.enabled!==!1)return this.files[tt]},remove:function(tt){delete this.files[tt]},clear:function(){this.files={}}};class LoadingManager$1{constructor(et,nt,rt){const it=this;let ot=!1,at=0,st=0,lt;const ct=[];this.onStart=void 0,this.onLoad=et,this.onProgress=nt,this.onError=rt,this.itemStart=function(ft){st++,ot===!1&&it.onStart!==void 0&&it.onStart(ft,at,st),ot=!0},this.itemEnd=function(ft){at++,it.onProgress!==void 0&&it.onProgress(ft,at,st),at===st&&(ot=!1,it.onLoad!==void 0&&it.onLoad())},this.itemError=function(ft){it.onError!==void 0&&it.onError(ft)},this.resolveURL=function(ft){return lt?lt(ft):ft},this.setURLModifier=function(ft){return lt=ft,this},this.addHandler=function(ft,ut){return ct.push(ft,ut),this},this.removeHandler=function(ft){const ut=ct.indexOf(ft);return ut!==-1&&ct.splice(ut,2),this},this.getHandler=function(ft){for(let ut=0,dt=ct.length;ut<dt;ut+=2){const ht=ct[ut],pt=ct[ut+1];if(ht.global&&(ht.lastIndex=0),ht.test(ft))return pt}return null}}}const DefaultLoadingManager$1=new LoadingManager$1;class Loader$1{constructor(et){this.manager=et!==void 0?et:DefaultLoadingManager$1,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(et,nt){const rt=this;return new Promise(function(it,ot){rt.load(et,it,nt,ot)})}parse(){}setCrossOrigin(et){return this.crossOrigin=et,this}setWithCredentials(et){return this.withCredentials=et,this}setPath(et){return this.path=et,this}setResourcePath(et){return this.resourcePath=et,this}setRequestHeader(et){return this.requestHeader=et,this}}const loading$1={};class FileLoader$1 extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=Cache$1.get(et);if(ot!==void 0)return this.manager.itemStart(et),setTimeout(()=>{nt&&nt(ot),this.manager.itemEnd(et)},0),ot;if(loading$1[et]!==void 0){loading$1[et].push({onLoad:nt,onProgress:rt,onError:it});return}loading$1[et]=[],loading$1[et].push({onLoad:nt,onProgress:rt,onError:it});const at=new Request(et,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,lt=this.responseType;fetch(at).then(ct=>{if(ct.status===200||ct.status===0){if(ct.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||ct.body===void 0||ct.body.getReader===void 0)return ct;const ft=loading$1[et],ut=ct.body.getReader(),dt=ct.headers.get("Content-Length"),ht=dt?parseInt(dt):0,pt=ht!==0;let gt=0;const mt=new ReadableStream({start(yt){bt();function bt(){ut.read().then(({done:St,value:xt})=>{if(St)yt.close();else{gt+=xt.byteLength;const vt=new ProgressEvent("progress",{lengthComputable:pt,loaded:gt,total:ht});for(let $t=0,zt=ft.length;$t<zt;$t++){const Nt=ft[$t];Nt.onProgress&&Nt.onProgress(vt)}yt.enqueue(xt),bt()}})}}});return new Response(mt)}else throw Error(`fetch for "${ct.url}" responded with ${ct.status}: ${ct.statusText}`)}).then(ct=>{switch(lt){case"arraybuffer":return ct.arrayBuffer();case"blob":return ct.blob();case"document":return ct.text().then(ft=>new DOMParser().parseFromString(ft,st));case"json":return ct.json();default:if(st===void 0)return ct.text();{const ut=/charset="?([^;"\s]*)"?/i.exec(st),dt=ut&&ut[1]?ut[1].toLowerCase():void 0,ht=new TextDecoder(dt);return ct.arrayBuffer().then(pt=>ht.decode(pt))}}}).then(ct=>{Cache$1.add(et,ct);const ft=loading$1[et];delete loading$1[et];for(let ut=0,dt=ft.length;ut<dt;ut++){const ht=ft[ut];ht.onLoad&&ht.onLoad(ct)}}).catch(ct=>{const ft=loading$1[et];if(ft===void 0)throw this.manager.itemError(et),ct;delete loading$1[et];for(let ut=0,dt=ft.length;ut<dt;ut++){const ht=ft[ut];ht.onError&&ht.onError(ct)}this.manager.itemError(et)}).finally(()=>{this.manager.itemEnd(et)}),this.manager.itemStart(et)}setResponseType(et){return this.responseType=et,this}setMimeType(et){return this.mimeType=et,this}}class ImageLoader$1 extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=this,at=Cache$1.get(et);if(at!==void 0)return ot.manager.itemStart(et),setTimeout(function(){nt&&nt(at),ot.manager.itemEnd(et)},0),at;const st=createElementNS$1("img");function lt(){ft(),Cache$1.add(et,this),nt&&nt(this),ot.manager.itemEnd(et)}function ct(ut){ft(),it&&it(ut),ot.manager.itemError(et),ot.manager.itemEnd(et)}function ft(){st.removeEventListener("load",lt,!1),st.removeEventListener("error",ct,!1)}return st.addEventListener("load",lt,!1),st.addEventListener("error",ct,!1),et.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),ot.manager.itemStart(et),st.src=et,st}}class CubeTextureLoader$1 extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=new CubeTexture$1,at=new ImageLoader$1(this.manager);at.setCrossOrigin(this.crossOrigin),at.setPath(this.path);let st=0;function lt(ct){at.load(et[ct],function(ft){ot.images[ct]=ft,st++,st===6&&(ot.needsUpdate=!0,nt&&nt(ot))},void 0,it)}for(let ct=0;ct<et.length;++ct)lt(ct);return ot}}class DataTextureLoader extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=this,at=new DataTexture$1,st=new FileLoader$1(this.manager);return st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setPath(this.path),st.setWithCredentials(ot.withCredentials),st.load(et,function(lt){const ct=ot.parse(lt);!ct||(ct.image!==void 0?at.image=ct.image:ct.data!==void 0&&(at.image.width=ct.width,at.image.height=ct.height,at.image.data=ct.data),at.wrapS=ct.wrapS!==void 0?ct.wrapS:ClampToEdgeWrapping$1,at.wrapT=ct.wrapT!==void 0?ct.wrapT:ClampToEdgeWrapping$1,at.magFilter=ct.magFilter!==void 0?ct.magFilter:LinearFilter$1,at.minFilter=ct.minFilter!==void 0?ct.minFilter:LinearFilter$1,at.anisotropy=ct.anisotropy!==void 0?ct.anisotropy:1,ct.encoding!==void 0&&(at.encoding=ct.encoding),ct.flipY!==void 0&&(at.flipY=ct.flipY),ct.format!==void 0&&(at.format=ct.format),ct.type!==void 0&&(at.type=ct.type),ct.mipmaps!==void 0&&(at.mipmaps=ct.mipmaps,at.minFilter=LinearMipmapLinearFilter$1),ct.mipmapCount===1&&(at.minFilter=LinearFilter$1),ct.generateMipmaps!==void 0&&(at.generateMipmaps=ct.generateMipmaps),at.needsUpdate=!0,nt&&nt(at,ct))},rt,it),at}}class TextureLoader$1 extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=new Texture$1,at=new ImageLoader$1(this.manager);return at.setCrossOrigin(this.crossOrigin),at.setPath(this.path),at.load(et,function(st){ot.image=st,ot.needsUpdate=!0,nt!==void 0&&nt(ot)},rt,it),ot}}class Light$1 extends Object3D$1{constructor(et,nt=1){super(),this.type="Light",this.color=new Color$2(et),this.intensity=nt}dispose(){}copy(et){return super.copy(et),this.color.copy(et.color),this.intensity=et.intensity,this}toJSON(et){const nt=super.toJSON(et);return nt.object.color=this.color.getHex(),nt.object.intensity=this.intensity,this.groundColor!==void 0&&(nt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(nt.object.distance=this.distance),this.angle!==void 0&&(nt.object.angle=this.angle),this.decay!==void 0&&(nt.object.decay=this.decay),this.penumbra!==void 0&&(nt.object.penumbra=this.penumbra),this.shadow!==void 0&&(nt.object.shadow=this.shadow.toJSON()),nt}}Light$1.prototype.isLight=!0;class HemisphereLight$1 extends Light$1{constructor(et,nt,rt){super(et,rt),this.type="HemisphereLight",this.position.copy(Object3D$1.DefaultUp),this.updateMatrix(),this.groundColor=new Color$2(nt)}copy(et){return Light$1.prototype.copy.call(this,et),this.groundColor.copy(et.groundColor),this}}HemisphereLight$1.prototype.isHemisphereLight=!0;const _projScreenMatrix$1$1=new Matrix4$1,_lightPositionWorld$1$1=new Vector3$1,_lookTarget$1$1=new Vector3$1;class LightShadow$1{constructor(et){this.camera=et,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2$1(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4$1,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum$1,this._frameExtents=new Vector2$1(1,1),this._viewportCount=1,this._viewports=[new Vector4$1(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(et){const nt=this.camera,rt=this.matrix;_lightPositionWorld$1$1.setFromMatrixPosition(et.matrixWorld),nt.position.copy(_lightPositionWorld$1$1),_lookTarget$1$1.setFromMatrixPosition(et.target.matrixWorld),nt.lookAt(_lookTarget$1$1),nt.updateMatrixWorld(),_projScreenMatrix$1$1.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1$1),rt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),rt.multiply(nt.projectionMatrix),rt.multiply(nt.matrixWorldInverse)}getViewport(et){return this._viewports[et]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(et){return this.camera=et.camera.clone(),this.bias=et.bias,this.radius=et.radius,this.mapSize.copy(et.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const et={};return this.bias!==0&&(et.bias=this.bias),this.normalBias!==0&&(et.normalBias=this.normalBias),this.radius!==1&&(et.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(et.mapSize=this.mapSize.toArray()),et.camera=this.camera.toJSON(!1).object,delete et.camera.matrix,et}}class SpotLightShadow$1 extends LightShadow$1{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.focus=1}updateMatrices(et){const nt=this.camera,rt=RAD2DEG$1*2*et.angle*this.focus,it=this.mapSize.width/this.mapSize.height,ot=et.distance||nt.far;(rt!==nt.fov||it!==nt.aspect||ot!==nt.far)&&(nt.fov=rt,nt.aspect=it,nt.far=ot,nt.updateProjectionMatrix()),super.updateMatrices(et)}copy(et){return super.copy(et),this.focus=et.focus,this}}SpotLightShadow$1.prototype.isSpotLightShadow=!0;class SpotLight$1 extends Light$1{constructor(et,nt,rt=0,it=Math.PI/3,ot=0,at=1){super(et,nt),this.type="SpotLight",this.position.copy(Object3D$1.DefaultUp),this.updateMatrix(),this.target=new Object3D$1,this.distance=rt,this.angle=it,this.penumbra=ot,this.decay=at,this.shadow=new SpotLightShadow$1}get power(){return this.intensity*Math.PI}set power(et){this.intensity=et/Math.PI}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.distance=et.distance,this.angle=et.angle,this.penumbra=et.penumbra,this.decay=et.decay,this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}SpotLight$1.prototype.isSpotLight=!0;const _projScreenMatrix$2=new Matrix4$1,_lightPositionWorld$2=new Vector3$1,_lookTarget$2=new Vector3$1;class PointLightShadow$1 extends LightShadow$1{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this._frameExtents=new Vector2$1(4,2),this._viewportCount=6,this._viewports=[new Vector4$1(2,1,1,1),new Vector4$1(0,1,1,1),new Vector4$1(3,1,1,1),new Vector4$1(1,1,1,1),new Vector4$1(3,0,1,1),new Vector4$1(1,0,1,1)],this._cubeDirections=[new Vector3$1(1,0,0),new Vector3$1(-1,0,0),new Vector3$1(0,0,1),new Vector3$1(0,0,-1),new Vector3$1(0,1,0),new Vector3$1(0,-1,0)],this._cubeUps=[new Vector3$1(0,1,0),new Vector3$1(0,1,0),new Vector3$1(0,1,0),new Vector3$1(0,1,0),new Vector3$1(0,0,1),new Vector3$1(0,0,-1)]}updateMatrices(et,nt=0){const rt=this.camera,it=this.matrix,ot=et.distance||rt.far;ot!==rt.far&&(rt.far=ot,rt.updateProjectionMatrix()),_lightPositionWorld$2.setFromMatrixPosition(et.matrixWorld),rt.position.copy(_lightPositionWorld$2),_lookTarget$2.copy(rt.position),_lookTarget$2.add(this._cubeDirections[nt]),rt.up.copy(this._cubeUps[nt]),rt.lookAt(_lookTarget$2),rt.updateMatrixWorld(),it.makeTranslation(-_lightPositionWorld$2.x,-_lightPositionWorld$2.y,-_lightPositionWorld$2.z),_projScreenMatrix$2.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$2)}}PointLightShadow$1.prototype.isPointLightShadow=!0;class PointLight$1 extends Light$1{constructor(et,nt,rt=0,it=1){super(et,nt),this.type="PointLight",this.distance=rt,this.decay=it,this.shadow=new PointLightShadow$1}get power(){return this.intensity*4*Math.PI}set power(et){this.intensity=et/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.distance=et.distance,this.decay=et.decay,this.shadow=et.shadow.clone(),this}}PointLight$1.prototype.isPointLight=!0;class DirectionalLightShadow$1 extends LightShadow$1{constructor(){super(new OrthographicCamera$1(-5,5,5,-5,.5,500))}}DirectionalLightShadow$1.prototype.isDirectionalLightShadow=!0;class DirectionalLight$1 extends Light$1{constructor(et,nt){super(et,nt),this.type="DirectionalLight",this.position.copy(Object3D$1.DefaultUp),this.updateMatrix(),this.target=new Object3D$1,this.shadow=new DirectionalLightShadow$1}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}DirectionalLight$1.prototype.isDirectionalLight=!0;class AmbientLight$1 extends Light$1{constructor(et,nt){super(et,nt),this.type="AmbientLight"}}AmbientLight$1.prototype.isAmbientLight=!0;class RectAreaLight$1 extends Light$1{constructor(et,nt,rt=10,it=10){super(et,nt),this.type="RectAreaLight",this.width=rt,this.height=it}get power(){return this.intensity*this.width*this.height*Math.PI}set power(et){this.intensity=et/(this.width*this.height*Math.PI)}copy(et){return super.copy(et),this.width=et.width,this.height=et.height,this}toJSON(et){const nt=super.toJSON(et);return nt.object.width=this.width,nt.object.height=this.height,nt}}RectAreaLight$1.prototype.isRectAreaLight=!0;class SphericalHarmonics3$1{constructor(){this.coefficients=[];for(let et=0;et<9;et++)this.coefficients.push(new Vector3$1)}set(et){for(let nt=0;nt<9;nt++)this.coefficients[nt].copy(et[nt]);return this}zero(){for(let et=0;et<9;et++)this.coefficients[et].set(0,0,0);return this}getAt(et,nt){const rt=et.x,it=et.y,ot=et.z,at=this.coefficients;return nt.copy(at[0]).multiplyScalar(.282095),nt.addScaledVector(at[1],.488603*it),nt.addScaledVector(at[2],.488603*ot),nt.addScaledVector(at[3],.488603*rt),nt.addScaledVector(at[4],1.092548*(rt*it)),nt.addScaledVector(at[5],1.092548*(it*ot)),nt.addScaledVector(at[6],.315392*(3*ot*ot-1)),nt.addScaledVector(at[7],1.092548*(rt*ot)),nt.addScaledVector(at[8],.546274*(rt*rt-it*it)),nt}getIrradianceAt(et,nt){const rt=et.x,it=et.y,ot=et.z,at=this.coefficients;return nt.copy(at[0]).multiplyScalar(.886227),nt.addScaledVector(at[1],2*.511664*it),nt.addScaledVector(at[2],2*.511664*ot),nt.addScaledVector(at[3],2*.511664*rt),nt.addScaledVector(at[4],2*.429043*rt*it),nt.addScaledVector(at[5],2*.429043*it*ot),nt.addScaledVector(at[6],.743125*ot*ot-.247708),nt.addScaledVector(at[7],2*.429043*rt*ot),nt.addScaledVector(at[8],.429043*(rt*rt-it*it)),nt}add(et){for(let nt=0;nt<9;nt++)this.coefficients[nt].add(et.coefficients[nt]);return this}addScaledSH(et,nt){for(let rt=0;rt<9;rt++)this.coefficients[rt].addScaledVector(et.coefficients[rt],nt);return this}scale(et){for(let nt=0;nt<9;nt++)this.coefficients[nt].multiplyScalar(et);return this}lerp(et,nt){for(let rt=0;rt<9;rt++)this.coefficients[rt].lerp(et.coefficients[rt],nt);return this}equals(et){for(let nt=0;nt<9;nt++)if(!this.coefficients[nt].equals(et.coefficients[nt]))return!1;return!0}copy(et){return this.set(et.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(et,nt=0){const rt=this.coefficients;for(let it=0;it<9;it++)rt[it].fromArray(et,nt+it*3);return this}toArray(et=[],nt=0){const rt=this.coefficients;for(let it=0;it<9;it++)rt[it].toArray(et,nt+it*3);return et}static getBasisAt(et,nt){const rt=et.x,it=et.y,ot=et.z;nt[0]=.282095,nt[1]=.488603*it,nt[2]=.488603*ot,nt[3]=.488603*rt,nt[4]=1.092548*rt*it,nt[5]=1.092548*it*ot,nt[6]=.315392*(3*ot*ot-1),nt[7]=1.092548*rt*ot,nt[8]=.546274*(rt*rt-it*it)}}SphericalHarmonics3$1.prototype.isSphericalHarmonics3=!0;class LightProbe$1 extends Light$1{constructor(et=new SphericalHarmonics3$1,nt=1){super(void 0,nt),this.sh=et}copy(et){return super.copy(et),this.sh.copy(et.sh),this}fromJSON(et){return this.intensity=et.intensity,this.sh.fromArray(et.sh),this}toJSON(et){const nt=super.toJSON(et);return nt.object.sh=this.sh.toArray(),nt}}LightProbe$1.prototype.isLightProbe=!0;class LoaderUtils$1{static decodeText(et){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(et);let nt="";for(let rt=0,it=et.length;rt<it;rt++)nt+=String.fromCharCode(et[rt]);try{return decodeURIComponent(escape(nt))}catch{return nt}}static extractUrlBase(et){const nt=et.lastIndexOf("/");return nt===-1?"./":et.slice(0,nt+1)}static resolveURL(et,nt){return typeof et!="string"||et===""?"":(/^https?:\/\//i.test(nt)&&/^\//.test(et)&&(nt=nt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(et)||/^data:.*,.*$/i.test(et)||/^blob:.*$/i.test(et)?et:nt+et)}}class InstancedBufferGeometry$1 extends BufferGeometry$1{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(et){return super.copy(et),this.instanceCount=et.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const et=super.toJSON(this);return et.instanceCount=this.instanceCount,et.isInstancedBufferGeometry=!0,et}}InstancedBufferGeometry$1.prototype.isInstancedBufferGeometry=!0;class ImageBitmapLoader$1 extends Loader$1{constructor(et){super(et),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(et){return this.options=et,this}load(et,nt,rt,it){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=this,at=Cache$1.get(et);if(at!==void 0)return ot.manager.itemStart(et),setTimeout(function(){nt&&nt(at),ot.manager.itemEnd(et)},0),at;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(et,st).then(function(lt){return lt.blob()}).then(function(lt){return createImageBitmap(lt,Object.assign(ot.options,{colorSpaceConversion:"none"}))}).then(function(lt){Cache$1.add(et,lt),nt&&nt(lt),ot.manager.itemEnd(et)}).catch(function(lt){it&&it(lt),ot.manager.itemError(et),ot.manager.itemEnd(et)}),ot.manager.itemStart(et)}}ImageBitmapLoader$1.prototype.isImageBitmapLoader=!0;let _context$1;const AudioContext$2={getContext:function(){return _context$1===void 0&&(_context$1=new(window.AudioContext||window.webkitAudioContext)),_context$1},setContext:function(tt){_context$1=tt}};class AudioLoader$1 extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=this,at=new FileLoader$1(this.manager);at.setResponseType("arraybuffer"),at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(st){try{const lt=st.slice(0);AudioContext$2.getContext().decodeAudioData(lt,function(ft){nt(ft)})}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},rt,it)}}class HemisphereLightProbe$1 extends LightProbe$1{constructor(et,nt,rt=1){super(void 0,rt);const it=new Color$2().set(et),ot=new Color$2().set(nt),at=new Vector3$1(it.r,it.g,it.b),st=new Vector3$1(ot.r,ot.g,ot.b),lt=Math.sqrt(Math.PI),ct=lt*Math.sqrt(.75);this.sh.coefficients[0].copy(at).add(st).multiplyScalar(lt),this.sh.coefficients[1].copy(at).sub(st).multiplyScalar(ct)}}HemisphereLightProbe$1.prototype.isHemisphereLightProbe=!0;class AmbientLightProbe$1 extends LightProbe$1{constructor(et,nt=1){super(void 0,nt);const rt=new Color$2().set(et);this.sh.coefficients[0].set(rt.r,rt.g,rt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}AmbientLightProbe$1.prototype.isAmbientLightProbe=!0;class Clock{constructor(et=!0){this.autoStart=et,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let et=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const nt=now();et=(nt-this.oldTime)/1e3,this.oldTime=nt,this.elapsedTime+=et}return et}}function now(){return(typeof performance=="undefined"?Date:performance).now()}class Audio$2 extends Object3D$1{constructor(et){super(),this.type="Audio",this.listener=et,this.context=et.context,this.gain=this.context.createGain(),this.gain.connect(et.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(et){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=et,this.connect(),this}setMediaElementSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(et),this.connect(),this}setMediaStreamSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(et),this.connect(),this}setBuffer(et){return this.buffer=et,this.sourceType="buffer",this.autoplay&&this.play(),this}play(et=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+et;const nt=this.context.createBufferSource();return nt.buffer=this.buffer,nt.loop=this.loop,nt.loopStart=this.loopStart,nt.loopEnd=this.loopEnd,nt.onended=this.onEnded.bind(this),nt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=nt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let et=1,nt=this.filters.length;et<nt;et++)this.filters[et-1].connect(this.filters[et]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let et=1,nt=this.filters.length;et<nt;et++)this.filters[et-1].disconnect(this.filters[et]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(et){return et||(et=[]),this._connected===!0?(this.disconnect(),this.filters=et.slice(),this.connect()):this.filters=et.slice(),this}setDetune(et){if(this.detune=et,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(et){return this.setFilters(et?[et]:[])}setPlaybackRate(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=et,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=et,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(et){return this.loopStart=et,this}setLoopEnd(et){return this.loopEnd=et,this}getVolume(){return this.gain.gain.value}setVolume(et){return this.gain.gain.setTargetAtTime(et,this.context.currentTime,.01),this}}class PropertyMixer$1{constructor(et,nt,rt){this.binding=et,this.valueSize=rt;let it,ot,at;switch(nt){case"quaternion":it=this._slerp,ot=this._slerpAdditive,at=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(rt*6),this._workIndex=5;break;case"string":case"bool":it=this._select,ot=this._select,at=this._setAdditiveIdentityOther,this.buffer=new Array(rt*5);break;default:it=this._lerp,ot=this._lerpAdditive,at=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(rt*5)}this._mixBufferRegion=it,this._mixBufferRegionAdditive=ot,this._setIdentity=at,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(et,nt){const rt=this.buffer,it=this.valueSize,ot=et*it+it;let at=this.cumulativeWeight;if(at===0){for(let st=0;st!==it;++st)rt[ot+st]=rt[st];at=nt}else{at+=nt;const st=nt/at;this._mixBufferRegion(rt,ot,0,st,it)}this.cumulativeWeight=at}accumulateAdditive(et){const nt=this.buffer,rt=this.valueSize,it=rt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(nt,it,0,et,rt),this.cumulativeWeightAdditive+=et}apply(et){const nt=this.valueSize,rt=this.buffer,it=et*nt+nt,ot=this.cumulativeWeight,at=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ot<1){const lt=nt*this._origIndex;this._mixBufferRegion(rt,it,lt,1-ot,nt)}at>0&&this._mixBufferRegionAdditive(rt,it,this._addIndex*nt,1,nt);for(let lt=nt,ct=nt+nt;lt!==ct;++lt)if(rt[lt]!==rt[lt+nt]){st.setValue(rt,it);break}}saveOriginalState(){const et=this.binding,nt=this.buffer,rt=this.valueSize,it=rt*this._origIndex;et.getValue(nt,it);for(let ot=rt,at=it;ot!==at;++ot)nt[ot]=nt[it+ot%rt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const et=this.valueSize*3;this.binding.setValue(this.buffer,et)}_setAdditiveIdentityNumeric(){const et=this._addIndex*this.valueSize,nt=et+this.valueSize;for(let rt=et;rt<nt;rt++)this.buffer[rt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const et=this._origIndex*this.valueSize,nt=this._addIndex*this.valueSize;for(let rt=0;rt<this.valueSize;rt++)this.buffer[nt+rt]=this.buffer[et+rt]}_select(et,nt,rt,it,ot){if(it>=.5)for(let at=0;at!==ot;++at)et[nt+at]=et[rt+at]}_slerp(et,nt,rt,it){Quaternion$1.slerpFlat(et,nt,et,nt,et,rt,it)}_slerpAdditive(et,nt,rt,it,ot){const at=this._workIndex*ot;Quaternion$1.multiplyQuaternionsFlat(et,at,et,nt,et,rt),Quaternion$1.slerpFlat(et,nt,et,nt,et,at,it)}_lerp(et,nt,rt,it,ot){const at=1-it;for(let st=0;st!==ot;++st){const lt=nt+st;et[lt]=et[lt]*at+et[rt+st]*it}}_lerpAdditive(et,nt,rt,it,ot){for(let at=0;at!==ot;++at){const st=nt+at;et[st]=et[st]+et[rt+at]*it}}}const _RESERVED_CHARS_RE$1="\\[\\]\\.:\\/",_reservedRe$1=new RegExp("["+_RESERVED_CHARS_RE$1+"]","g"),_wordChar$1="[^"+_RESERVED_CHARS_RE$1+"]",_wordCharOrDot$1="[^"+_RESERVED_CHARS_RE$1.replace("\\.","")+"]",_directoryRe$1=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar$1),_nodeRe$1=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot$1),_objectRe$1=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar$1),_propertyRe$1=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar$1),_trackRe$1=new RegExp("^"+_directoryRe$1+_nodeRe$1+_objectRe$1+_propertyRe$1+"$"),_supportedObjectNames$1=["material","materials","bones"];class Composite$1{constructor(et,nt,rt){const it=rt||PropertyBinding$1.parseTrackName(nt);this._targetGroup=et,this._bindings=et.subscribe_(nt,it)}getValue(et,nt){this.bind();const rt=this._targetGroup.nCachedObjects_,it=this._bindings[rt];it!==void 0&&it.getValue(et,nt)}setValue(et,nt){const rt=this._bindings;for(let it=this._targetGroup.nCachedObjects_,ot=rt.length;it!==ot;++it)rt[it].setValue(et,nt)}bind(){const et=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=et.length;nt!==rt;++nt)et[nt].bind()}unbind(){const et=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=et.length;nt!==rt;++nt)et[nt].unbind()}}class PropertyBinding$1{constructor(et,nt,rt){this.path=nt,this.parsedPath=rt||PropertyBinding$1.parseTrackName(nt),this.node=PropertyBinding$1.findNode(et,this.parsedPath.nodeName)||et,this.rootNode=et,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(et,nt,rt){return et&&et.isAnimationObjectGroup?new PropertyBinding$1.Composite(et,nt,rt):new PropertyBinding$1(et,nt,rt)}static sanitizeNodeName(et){return et.replace(/\s/g,"_").replace(_reservedRe$1,"")}static parseTrackName(et){const nt=_trackRe$1.exec(et);if(nt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+et);const rt={nodeName:nt[2],objectName:nt[3],objectIndex:nt[4],propertyName:nt[5],propertyIndex:nt[6]},it=rt.nodeName&&rt.nodeName.lastIndexOf(".");if(it!==void 0&&it!==-1){const ot=rt.nodeName.substring(it+1);_supportedObjectNames$1.indexOf(ot)!==-1&&(rt.nodeName=rt.nodeName.substring(0,it),rt.objectName=ot)}if(rt.propertyName===null||rt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+et);return rt}static findNode(et,nt){if(nt===void 0||nt===""||nt==="."||nt===-1||nt===et.name||nt===et.uuid)return et;if(et.skeleton){const rt=et.skeleton.getBoneByName(nt);if(rt!==void 0)return rt}if(et.children){const rt=function(ot){for(let at=0;at<ot.length;at++){const st=ot[at];if(st.name===nt||st.uuid===nt)return st;const lt=rt(st.children);if(lt)return lt}return null},it=rt(et.children);if(it)return it}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(et,nt){et[nt]=this.targetObject[this.propertyName]}_getValue_array(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)et[nt++]=rt[it]}_getValue_arrayElement(et,nt){et[nt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(et,nt){this.resolvedProperty.toArray(et,nt)}_setValue_direct(et,nt){this.targetObject[this.propertyName]=et[nt]}_setValue_direct_setNeedsUpdate(et,nt){this.targetObject[this.propertyName]=et[nt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(et,nt){this.targetObject[this.propertyName]=et[nt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)rt[it]=et[nt++]}_setValue_array_setNeedsUpdate(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)rt[it]=et[nt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)rt[it]=et[nt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(et,nt){this.resolvedProperty[this.propertyIndex]=et[nt]}_setValue_arrayElement_setNeedsUpdate(et,nt){this.resolvedProperty[this.propertyIndex]=et[nt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(et,nt){this.resolvedProperty[this.propertyIndex]=et[nt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(et,nt){this.resolvedProperty.fromArray(et,nt)}_setValue_fromArray_setNeedsUpdate(et,nt){this.resolvedProperty.fromArray(et,nt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(et,nt){this.resolvedProperty.fromArray(et,nt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(et,nt){this.bind(),this.getValue(et,nt)}_setValue_unbound(et,nt){this.bind(),this.setValue(et,nt)}bind(){let et=this.node;const nt=this.parsedPath,rt=nt.objectName,it=nt.propertyName;let ot=nt.propertyIndex;if(et||(et=PropertyBinding$1.findNode(this.rootNode,nt.nodeName)||this.rootNode,this.node=et),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!et){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(rt){let ct=nt.objectIndex;switch(rt){case"materials":if(!et.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!et.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}et=et.material.materials;break;case"bones":if(!et.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}et=et.skeleton.bones;for(let ft=0;ft<et.length;ft++)if(et[ft].name===ct){ct=ft;break}break;default:if(et[rt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}et=et[rt]}if(ct!==void 0){if(et[ct]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,et);return}et=et[ct]}}const at=et[it];if(at===void 0){const ct=nt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ct+"."+it+" but it wasn't found.",et);return}let st=this.Versioning.None;this.targetObject=et,et.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:et.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let lt=this.BindingType.Direct;if(ot!==void 0){if(it==="morphTargetInfluences"){if(!et.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(et.geometry.isBufferGeometry){if(!et.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}et.morphTargetDictionary[ot]!==void 0&&(ot=et.morphTargetDictionary[ot])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}lt=this.BindingType.ArrayElement,this.resolvedProperty=at,this.propertyIndex=ot}else at.fromArray!==void 0&&at.toArray!==void 0?(lt=this.BindingType.HasFromToArray,this.resolvedProperty=at):Array.isArray(at)?(lt=this.BindingType.EntireArray,this.resolvedProperty=at):this.propertyName=it;this.getValue=this.GetterByBindingType[lt],this.setValue=this.SetterByBindingTypeAndVersioning[lt][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding$1.Composite=Composite$1;PropertyBinding$1.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding$1.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding$1.prototype.GetterByBindingType=[PropertyBinding$1.prototype._getValue_direct,PropertyBinding$1.prototype._getValue_array,PropertyBinding$1.prototype._getValue_arrayElement,PropertyBinding$1.prototype._getValue_toArray];PropertyBinding$1.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding$1.prototype._setValue_direct,PropertyBinding$1.prototype._setValue_direct_setNeedsUpdate,PropertyBinding$1.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding$1.prototype._setValue_array,PropertyBinding$1.prototype._setValue_array_setNeedsUpdate,PropertyBinding$1.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding$1.prototype._setValue_arrayElement,PropertyBinding$1.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding$1.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding$1.prototype._setValue_fromArray,PropertyBinding$1.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding$1.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationAction$1{constructor(et,nt,rt=null,it=nt.blendMode){this._mixer=et,this._clip=nt,this._localRoot=rt,this.blendMode=it;const ot=nt.tracks,at=ot.length,st=new Array(at),lt={endingStart:ZeroCurvatureEnding$1,endingEnd:ZeroCurvatureEnding$1};for(let ct=0;ct!==at;++ct){const ft=ot[ct].createInterpolant(null);st[ct]=ft,ft.settings=lt}this._interpolantSettings=lt,this._interpolants=st,this._propertyBindings=new Array(at),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat$1,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(et){return this._startTime=et,this}setLoop(et,nt){return this.loop=et,this.repetitions=nt,this}setEffectiveWeight(et){return this.weight=et,this._effectiveWeight=this.enabled?et:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(et){return this._scheduleFading(et,0,1)}fadeOut(et){return this._scheduleFading(et,1,0)}crossFadeFrom(et,nt,rt){if(et.fadeOut(nt),this.fadeIn(nt),rt){const it=this._clip.duration,ot=et._clip.duration,at=ot/it,st=it/ot;et.warp(1,at,nt),this.warp(st,1,nt)}return this}crossFadeTo(et,nt,rt){return et.crossFadeFrom(this,nt,rt)}stopFading(){const et=this._weightInterpolant;return et!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}setEffectiveTimeScale(et){return this.timeScale=et,this._effectiveTimeScale=this.paused?0:et,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(et){return this.timeScale=this._clip.duration/et,this.stopWarping()}syncWith(et){return this.time=et.time,this.timeScale=et.timeScale,this.stopWarping()}halt(et){return this.warp(this._effectiveTimeScale,0,et)}warp(et,nt,rt){const it=this._mixer,ot=it.time,at=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=it._lendControlInterpolant(),this._timeScaleInterpolant=st);const lt=st.parameterPositions,ct=st.sampleValues;return lt[0]=ot,lt[1]=ot+rt,ct[0]=et/at,ct[1]=nt/at,this}stopWarping(){const et=this._timeScaleInterpolant;return et!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(et,nt,rt,it){if(!this.enabled){this._updateWeight(et);return}const ot=this._startTime;if(ot!==null){const lt=(et-ot)*rt;if(lt<0||rt===0)return;this._startTime=null,nt=rt*lt}nt*=this._updateTimeScale(et);const at=this._updateTime(nt),st=this._updateWeight(et);if(st>0){const lt=this._interpolants,ct=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode$1:for(let ft=0,ut=lt.length;ft!==ut;++ft)lt[ft].evaluate(at),ct[ft].accumulateAdditive(st);break;case NormalAnimationBlendMode$1:default:for(let ft=0,ut=lt.length;ft!==ut;++ft)lt[ft].evaluate(at),ct[ft].accumulate(it,st)}}}_updateWeight(et){let nt=0;if(this.enabled){nt=this.weight;const rt=this._weightInterpolant;if(rt!==null){const it=rt.evaluate(et)[0];nt*=it,et>rt.parameterPositions[1]&&(this.stopFading(),it===0&&(this.enabled=!1))}}return this._effectiveWeight=nt,nt}_updateTimeScale(et){let nt=0;if(!this.paused){nt=this.timeScale;const rt=this._timeScaleInterpolant;rt!==null&&(nt*=rt.evaluate(et)[0],et>rt.parameterPositions[1]&&(this.stopWarping(),nt===0?this.paused=!0:this.timeScale=nt))}return this._effectiveTimeScale=nt,nt}_updateTime(et){const nt=this._clip.duration,rt=this.loop;let it=this.time+et,ot=this._loopCount;const at=rt===LoopPingPong$1;if(et===0)return ot===-1?it:at&&(ot&1)===1?nt-it:it;if(rt===LoopOnce$1){ot===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(it>=nt)it=nt;else if(it<0)it=0;else{this.time=it;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:et<0?-1:1})}}else{if(ot===-1&&(et>=0?(ot=0,this._setEndings(!0,this.repetitions===0,at)):this._setEndings(this.repetitions===0,!0,at)),it>=nt||it<0){const st=Math.floor(it/nt);it-=nt*st,ot+=Math.abs(st);const lt=this.repetitions-ot;if(lt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,it=et>0?nt:0,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:et>0?1:-1});else{if(lt===1){const ct=et<0;this._setEndings(ct,!ct,at)}else this._setEndings(!1,!1,at);this._loopCount=ot,this.time=it,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=it;if(at&&(ot&1)===1)return nt-it}return it}_setEndings(et,nt,rt){const it=this._interpolantSettings;rt?(it.endingStart=ZeroSlopeEnding$1,it.endingEnd=ZeroSlopeEnding$1):(et?it.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding$1:ZeroCurvatureEnding$1:it.endingStart=WrapAroundEnding$1,nt?it.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding$1:ZeroCurvatureEnding$1:it.endingEnd=WrapAroundEnding$1)}_scheduleFading(et,nt,rt){const it=this._mixer,ot=it.time;let at=this._weightInterpolant;at===null&&(at=it._lendControlInterpolant(),this._weightInterpolant=at);const st=at.parameterPositions,lt=at.sampleValues;return st[0]=ot,lt[0]=nt,st[1]=ot+et,lt[1]=rt,this}}class AnimationMixer$1 extends EventDispatcher$1{constructor(et){super(),this._root=et,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(et,nt){const rt=et._localRoot||this._root,it=et._clip.tracks,ot=it.length,at=et._propertyBindings,st=et._interpolants,lt=rt.uuid,ct=this._bindingsByRootAndName;let ft=ct[lt];ft===void 0&&(ft={},ct[lt]=ft);for(let ut=0;ut!==ot;++ut){const dt=it[ut],ht=dt.name;let pt=ft[ht];if(pt!==void 0)++pt.referenceCount,at[ut]=pt;else{if(pt=at[ut],pt!==void 0){pt._cacheIndex===null&&(++pt.referenceCount,this._addInactiveBinding(pt,lt,ht));continue}const gt=nt&&nt._propertyBindings[ut].binding.parsedPath;pt=new PropertyMixer$1(PropertyBinding$1.create(rt,ht,gt),dt.ValueTypeName,dt.getValueSize()),++pt.referenceCount,this._addInactiveBinding(pt,lt,ht),at[ut]=pt}st[ut].resultBuffer=pt.buffer}}_activateAction(et){if(!this._isActiveAction(et)){if(et._cacheIndex===null){const rt=(et._localRoot||this._root).uuid,it=et._clip.uuid,ot=this._actionsByClip[it];this._bindAction(et,ot&&ot.knownActions[0]),this._addInactiveAction(et,it,rt)}const nt=et._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];ot.useCount++===0&&(this._lendBinding(ot),ot.saveOriginalState())}this._lendAction(et)}}_deactivateAction(et){if(this._isActiveAction(et)){const nt=et._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];--ot.useCount===0&&(ot.restoreOriginalState(),this._takeBackBinding(ot))}this._takeBackAction(et)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const et=this;this.stats={actions:{get total(){return et._actions.length},get inUse(){return et._nActiveActions}},bindings:{get total(){return et._bindings.length},get inUse(){return et._nActiveBindings}},controlInterpolants:{get total(){return et._controlInterpolants.length},get inUse(){return et._nActiveControlInterpolants}}}}_isActiveAction(et){const nt=et._cacheIndex;return nt!==null&&nt<this._nActiveActions}_addInactiveAction(et,nt,rt){const it=this._actions,ot=this._actionsByClip;let at=ot[nt];if(at===void 0)at={knownActions:[et],actionByRoot:{}},et._byClipCacheIndex=0,ot[nt]=at;else{const st=at.knownActions;et._byClipCacheIndex=st.length,st.push(et)}et._cacheIndex=it.length,it.push(et),at.actionByRoot[rt]=et}_removeInactiveAction(et){const nt=this._actions,rt=nt[nt.length-1],it=et._cacheIndex;rt._cacheIndex=it,nt[it]=rt,nt.pop(),et._cacheIndex=null;const ot=et._clip.uuid,at=this._actionsByClip,st=at[ot],lt=st.knownActions,ct=lt[lt.length-1],ft=et._byClipCacheIndex;ct._byClipCacheIndex=ft,lt[ft]=ct,lt.pop(),et._byClipCacheIndex=null;const ut=st.actionByRoot,dt=(et._localRoot||this._root).uuid;delete ut[dt],lt.length===0&&delete at[ot],this._removeInactiveBindingsForAction(et)}_removeInactiveBindingsForAction(et){const nt=et._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];--ot.referenceCount===0&&this._removeInactiveBinding(ot)}}_lendAction(et){const nt=this._actions,rt=et._cacheIndex,it=this._nActiveActions++,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_takeBackAction(et){const nt=this._actions,rt=et._cacheIndex,it=--this._nActiveActions,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_addInactiveBinding(et,nt,rt){const it=this._bindingsByRootAndName,ot=this._bindings;let at=it[nt];at===void 0&&(at={},it[nt]=at),at[rt]=et,et._cacheIndex=ot.length,ot.push(et)}_removeInactiveBinding(et){const nt=this._bindings,rt=et.binding,it=rt.rootNode.uuid,ot=rt.path,at=this._bindingsByRootAndName,st=at[it],lt=nt[nt.length-1],ct=et._cacheIndex;lt._cacheIndex=ct,nt[ct]=lt,nt.pop(),delete st[ot],Object.keys(st).length===0&&delete at[it]}_lendBinding(et){const nt=this._bindings,rt=et._cacheIndex,it=this._nActiveBindings++,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_takeBackBinding(et){const nt=this._bindings,rt=et._cacheIndex,it=--this._nActiveBindings,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_lendControlInterpolant(){const et=this._controlInterpolants,nt=this._nActiveControlInterpolants++;let rt=et[nt];return rt===void 0&&(rt=new LinearInterpolant$1(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),rt.__cacheIndex=nt,et[nt]=rt),rt}_takeBackControlInterpolant(et){const nt=this._controlInterpolants,rt=et.__cacheIndex,it=--this._nActiveControlInterpolants,ot=nt[it];et.__cacheIndex=it,nt[it]=et,ot.__cacheIndex=rt,nt[rt]=ot}clipAction(et,nt,rt){const it=nt||this._root,ot=it.uuid;let at=typeof et=="string"?AnimationClip$1.findByName(it,et):et;const st=at!==null?at.uuid:et,lt=this._actionsByClip[st];let ct=null;if(rt===void 0&&(at!==null?rt=at.blendMode:rt=NormalAnimationBlendMode$1),lt!==void 0){const ut=lt.actionByRoot[ot];if(ut!==void 0&&ut.blendMode===rt)return ut;ct=lt.knownActions[0],at===null&&(at=ct._clip)}if(at===null)return null;const ft=new AnimationAction$1(this,at,nt,rt);return this._bindAction(ft,ct),this._addInactiveAction(ft,st,ot),ft}existingAction(et,nt){const rt=nt||this._root,it=rt.uuid,ot=typeof et=="string"?AnimationClip$1.findByName(rt,et):et,at=ot?ot.uuid:et,st=this._actionsByClip[at];return st!==void 0&&st.actionByRoot[it]||null}stopAllAction(){const et=this._actions,nt=this._nActiveActions;for(let rt=nt-1;rt>=0;--rt)et[rt].stop();return this}update(et){et*=this.timeScale;const nt=this._actions,rt=this._nActiveActions,it=this.time+=et,ot=Math.sign(et),at=this._accuIndex^=1;for(let ct=0;ct!==rt;++ct)nt[ct]._update(it,et,ot,at);const st=this._bindings,lt=this._nActiveBindings;for(let ct=0;ct!==lt;++ct)st[ct].apply(at);return this}setTime(et){this.time=0;for(let nt=0;nt<this._actions.length;nt++)this._actions[nt].time=0;return this.update(et)}getRoot(){return this._root}uncacheClip(et){const nt=this._actions,rt=et.uuid,it=this._actionsByClip,ot=it[rt];if(ot!==void 0){const at=ot.knownActions;for(let st=0,lt=at.length;st!==lt;++st){const ct=at[st];this._deactivateAction(ct);const ft=ct._cacheIndex,ut=nt[nt.length-1];ct._cacheIndex=null,ct._byClipCacheIndex=null,ut._cacheIndex=ft,nt[ft]=ut,nt.pop(),this._removeInactiveBindingsForAction(ct)}delete it[rt]}}uncacheRoot(et){const nt=et.uuid,rt=this._actionsByClip;for(const at in rt){const st=rt[at].actionByRoot,lt=st[nt];lt!==void 0&&(this._deactivateAction(lt),this._removeInactiveAction(lt))}const it=this._bindingsByRootAndName,ot=it[nt];if(ot!==void 0)for(const at in ot){const st=ot[at];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(et,nt){const rt=this.existingAction(et,nt);rt!==null&&(this._deactivateAction(rt),this._removeInactiveAction(rt))}}AnimationMixer$1.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class InstancedInterleavedBuffer$1 extends InterleavedBuffer$1{constructor(et,nt,rt=1){super(et,nt),this.meshPerAttribute=rt}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}clone(et){const nt=super.clone(et);return nt.meshPerAttribute=this.meshPerAttribute,nt}toJSON(et){const nt=super.toJSON(et);return nt.isInstancedInterleavedBuffer=!0,nt.meshPerAttribute=this.meshPerAttribute,nt}}InstancedInterleavedBuffer$1.prototype.isInstancedInterleavedBuffer=!0;class Raycaster{constructor(et,nt,rt=0,it=1/0){this.ray=new Ray$1(et,nt),this.near=rt,this.far=it,this.camera=null,this.layers=new Layers$1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(et,nt){this.ray.set(et,nt)}setFromCamera(et,nt){nt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(nt.matrixWorld),this.ray.direction.set(et.x,et.y,.5).unproject(nt).sub(this.ray.origin).normalize(),this.camera=nt):nt.isOrthographicCamera?(this.ray.origin.set(et.x,et.y,(nt.near+nt.far)/(nt.near-nt.far)).unproject(nt),this.ray.direction.set(0,0,-1).transformDirection(nt.matrixWorld),this.camera=nt):console.error("THREE.Raycaster: Unsupported camera type: "+nt.type)}intersectObject(et,nt=!0,rt=[]){return intersectObject(et,this,rt,nt),rt.sort(ascSort),rt}intersectObjects(et,nt=!0,rt=[]){for(let it=0,ot=et.length;it<ot;it++)intersectObject(et[it],this,rt,nt);return rt.sort(ascSort),rt}}function ascSort(tt,et){return tt.distance-et.distance}function intersectObject(tt,et,nt,rt){if(tt.layers.test(et.layers)&&tt.raycast(et,nt),rt===!0){const it=tt.children;for(let ot=0,at=it.length;ot<at;ot++)intersectObject(it[ot],et,nt,!0)}}class Spherical{constructor(et=1,nt=0,rt=0){return this.radius=et,this.phi=nt,this.theta=rt,this}set(et,nt,rt){return this.radius=et,this.phi=nt,this.theta=rt,this}copy(et){return this.radius=et.radius,this.phi=et.phi,this.theta=et.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(et){return this.setFromCartesianCoords(et.x,et.y,et.z)}setFromCartesianCoords(et,nt,rt){return this.radius=Math.sqrt(et*et+nt*nt+rt*rt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(et,rt),this.phi=Math.acos(clamp$1(nt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2$1;class Box2{constructor(et=new Vector2$1(1/0,1/0),nt=new Vector2$1(-1/0,-1/0)){this.min=et,this.max=nt}set(et,nt){return this.min.copy(et),this.max.copy(nt),this}setFromPoints(et){this.makeEmpty();for(let nt=0,rt=et.length;nt<rt;nt++)this.expandByPoint(et[nt]);return this}setFromCenterAndSize(et,nt){const rt=_vector$4.copy(nt).multiplyScalar(.5);return this.min.copy(et).sub(rt),this.max.copy(et).add(rt),this}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(et){return this.isEmpty()?et.set(0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y}getParameter(et,nt){return nt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y)}clampPoint(et,nt){return nt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return _vector$4.copy(et).clamp(this.min,this.max).sub(et).length()}intersect(et){return this.min.max(et.min),this.max.min(et.max),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}Box2.prototype.isBox2=!0;const _startP=new Vector3$1,_startEnd=new Vector3$1;class Line3{constructor(et=new Vector3$1,nt=new Vector3$1){this.start=et,this.end=nt}set(et,nt){return this.start.copy(et),this.end.copy(nt),this}copy(et){return this.start.copy(et.start),this.end.copy(et.end),this}getCenter(et){return et.addVectors(this.start,this.end).multiplyScalar(.5)}delta(et){return et.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(et,nt){return this.delta(nt).multiplyScalar(et).add(this.start)}closestPointToPointParameter(et,nt){_startP.subVectors(et,this.start),_startEnd.subVectors(this.end,this.start);const rt=_startEnd.dot(_startEnd);let ot=_startEnd.dot(_startP)/rt;return nt&&(ot=clamp$1(ot,0,1)),ot}closestPointToPoint(et,nt,rt){const it=this.closestPointToPointParameter(et,nt);return this.delta(rt).multiplyScalar(it).add(this.start)}applyMatrix4(et){return this.start.applyMatrix4(et),this.end.applyMatrix4(et),this}equals(et){return et.start.equals(this.start)&&et.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$2$1=new Vector3$1,_boneMatrix$1=new Matrix4$1,_matrixWorldInv$1=new Matrix4$1;class SkeletonHelper$1 extends LineSegments$1{constructor(et){const nt=getBoneList$1(et),rt=new BufferGeometry$1,it=[],ot=[],at=new Color$2(0,0,1),st=new Color$2(0,1,0);for(let ct=0;ct<nt.length;ct++){const ft=nt[ct];ft.parent&&ft.parent.isBone&&(it.push(0,0,0),it.push(0,0,0),ot.push(at.r,at.g,at.b),ot.push(st.r,st.g,st.b))}rt.setAttribute("position",new Float32BufferAttribute$1(it,3)),rt.setAttribute("color",new Float32BufferAttribute$1(ot,3));const lt=new LineBasicMaterial$1({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(rt,lt),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=et,this.bones=nt,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(et){const nt=this.bones,rt=this.geometry,it=rt.getAttribute("position");_matrixWorldInv$1.copy(this.root.matrixWorld).invert();for(let ot=0,at=0;ot<nt.length;ot++){const st=nt[ot];st.parent&&st.parent.isBone&&(_boneMatrix$1.multiplyMatrices(_matrixWorldInv$1,st.matrixWorld),_vector$2$1.setFromMatrixPosition(_boneMatrix$1),it.setXYZ(at,_vector$2$1.x,_vector$2$1.y,_vector$2$1.z),_boneMatrix$1.multiplyMatrices(_matrixWorldInv$1,st.parent.matrixWorld),_vector$2$1.setFromMatrixPosition(_boneMatrix$1),it.setXYZ(at+1,_vector$2$1.x,_vector$2$1.y,_vector$2$1.z),at+=2)}rt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(et)}}function getBoneList$1(tt){const et=[];tt.isBone===!0&&et.push(tt);for(let nt=0;nt<tt.children.length;nt++)et.push.apply(et,getBoneList$1(tt.children[nt]));return et}class GridHelper$1 extends LineSegments$1{constructor(et=10,nt=10,rt=4473924,it=8947848){rt=new Color$2(rt),it=new Color$2(it);const ot=nt/2,at=et/nt,st=et/2,lt=[],ct=[];for(let dt=0,ht=0,pt=-st;dt<=nt;dt++,pt+=at){lt.push(-st,0,pt,st,0,pt),lt.push(pt,0,-st,pt,0,st);const gt=dt===ot?rt:it;gt.toArray(ct,ht),ht+=3,gt.toArray(ct,ht),ht+=3,gt.toArray(ct,ht),ht+=3,gt.toArray(ct,ht),ht+=3}const ft=new BufferGeometry$1;ft.setAttribute("position",new Float32BufferAttribute$1(lt,3)),ft.setAttribute("color",new Float32BufferAttribute$1(ct,3));const ut=new LineBasicMaterial$1({vertexColors:!0,toneMapped:!1});super(ft,ut),this.type="GridHelper"}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$2,this.subPaths=[],this.currentPath=null}moveTo(et,nt){return this.currentPath=new Path$1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(et,nt),this}lineTo(et,nt){return this.currentPath.lineTo(et,nt),this}quadraticCurveTo(et,nt,rt,it){return this.currentPath.quadraticCurveTo(et,nt,rt,it),this}bezierCurveTo(et,nt,rt,it,ot,at){return this.currentPath.bezierCurveTo(et,nt,rt,it,ot,at),this}splineThru(et){return this.currentPath.splineThru(et),this}toShapes(et,nt){function rt(bt){const St=[];for(let xt=0,vt=bt.length;xt<vt;xt++){const $t=bt[xt],zt=new Shape$1;zt.curves=$t.curves,St.push(zt)}return St}function it(bt,St){const xt=St.length;let vt=!1;for(let $t=xt-1,zt=0;zt<xt;$t=zt++){let Nt=St[$t],wt=St[zt],Et=wt.x-Nt.x,Rt=wt.y-Nt.y;if(Math.abs(Rt)>Number.EPSILON){if(Rt<0&&(Nt=St[zt],Et=-Et,wt=St[$t],Rt=-Rt),bt.y<Nt.y||bt.y>wt.y)continue;if(bt.y===Nt.y){if(bt.x===Nt.x)return!0}else{const Tt=Rt*(bt.x-Nt.x)-Et*(bt.y-Nt.y);if(Tt===0)return!0;if(Tt<0)continue;vt=!vt}}else{if(bt.y!==Nt.y)continue;if(wt.x<=bt.x&&bt.x<=Nt.x||Nt.x<=bt.x&&bt.x<=wt.x)return!0}}return vt}const ot=ShapeUtils$1.isClockWise,at=this.subPaths;if(at.length===0)return[];if(nt===!0)return rt(at);let st,lt,ct;const ft=[];if(at.length===1)return lt=at[0],ct=new Shape$1,ct.curves=lt.curves,ft.push(ct),ft;let ut=!ot(at[0].getPoints());ut=et?!ut:ut;const dt=[],ht=[];let pt=[],gt=0,mt;ht[gt]=void 0,pt[gt]=[];for(let bt=0,St=at.length;bt<St;bt++)lt=at[bt],mt=lt.getPoints(),st=ot(mt),st=et?!st:st,st?(!ut&&ht[gt]&&gt++,ht[gt]={s:new Shape$1,p:mt},ht[gt].s.curves=lt.curves,ut&&gt++,pt[gt]=[]):pt[gt].push({h:lt,p:mt[0]});if(!ht[0])return rt(at);if(ht.length>1){let bt=!1,St=0;for(let xt=0,vt=ht.length;xt<vt;xt++)dt[xt]=[];for(let xt=0,vt=ht.length;xt<vt;xt++){const $t=pt[xt];for(let zt=0;zt<$t.length;zt++){const Nt=$t[zt];let wt=!0;for(let Et=0;Et<ht.length;Et++)it(Nt.p,ht[Et].p)&&(xt!==Et&&St++,wt?(wt=!1,dt[Et].push(Nt)):bt=!0);wt&&dt[xt].push(Nt)}}St>0&&bt===!1&&(pt=dt)}let yt;for(let bt=0,St=ht.length;bt<St;bt++){ct=ht[bt].s,ft.push(ct),yt=pt[bt];for(let xt=0,vt=yt.length;xt<vt;xt++)ct.holes.push(yt[xt].h)}return ft}}const _baseTable$1=new Uint32Array(512),_shiftTable$1=new Uint32Array(512);for(let tt=0;tt<256;++tt){const et=tt-127;et<-27?(_baseTable$1[tt]=0,_baseTable$1[tt|256]=32768,_shiftTable$1[tt]=24,_shiftTable$1[tt|256]=24):et<-14?(_baseTable$1[tt]=1024>>-et-14,_baseTable$1[tt|256]=1024>>-et-14|32768,_shiftTable$1[tt]=-et-1,_shiftTable$1[tt|256]=-et-1):et<=15?(_baseTable$1[tt]=et+15<<10,_baseTable$1[tt|256]=et+15<<10|32768,_shiftTable$1[tt]=13,_shiftTable$1[tt|256]=13):et<128?(_baseTable$1[tt]=31744,_baseTable$1[tt|256]=64512,_shiftTable$1[tt]=24,_shiftTable$1[tt|256]=24):(_baseTable$1[tt]=31744,_baseTable$1[tt|256]=64512,_shiftTable$1[tt]=13,_shiftTable$1[tt|256]=13)}const _mantissaTable$1=new Uint32Array(2048),_exponentTable$1=new Uint32Array(64),_offsetTable$1=new Uint32Array(64);for(let tt=1;tt<1024;++tt){let et=tt<<13,nt=0;for(;(et&8388608)===0;)et<<=1,nt-=8388608;et&=-8388609,nt+=947912704,_mantissaTable$1[tt]=et|nt}for(let tt=1024;tt<2048;++tt)_mantissaTable$1[tt]=939524096+(tt-1024<<13);for(let tt=1;tt<31;++tt)_exponentTable$1[tt]=tt<<23;_exponentTable$1[31]=1199570944;_exponentTable$1[32]=2147483648;for(let tt=33;tt<63;++tt)_exponentTable$1[tt]=2147483648+(tt-32<<23);_exponentTable$1[63]=3347054592;for(let tt=1;tt<64;++tt)tt!==32&&(_offsetTable$1[tt]=1024);Curve$1.create=function(tt,et){return console.log("THREE.Curve.create() has been deprecated"),tt.prototype=Object.create(Curve$1.prototype),tt.prototype.constructor=tt,tt.prototype.getPoint=et,tt};Path$1.prototype.fromPoints=function(tt){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(tt)};GridHelper$1.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper$1.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Loader$1.prototype.extractUrlBase=function(tt){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils$1.extractUrlBase(tt)};Loader$1.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Box2.prototype.center=function(tt){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(tt)};Box2.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Box2.prototype.isIntersectionBox=function(tt){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(tt)};Box2.prototype.size=function(tt){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(tt)};Box3$1.prototype.center=function(tt){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(tt)};Box3$1.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Box3$1.prototype.isIntersectionBox=function(tt){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(tt)};Box3$1.prototype.isIntersectionSphere=function(tt){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(tt)};Box3$1.prototype.size=function(tt){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(tt)};Euler$1.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Sphere$1.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Frustum$1.prototype.setFromMatrix=function(tt){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(tt)};Line3.prototype.center=function(tt){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(tt)};Matrix3$1.prototype.flattenToArrayOffset=function(tt,et){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(tt,et)};Matrix3$1.prototype.multiplyVector3=function(tt){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),tt.applyMatrix3(this)};Matrix3$1.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Matrix3$1.prototype.applyToBufferAttribute=function(tt){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),tt.applyMatrix3(this)};Matrix3$1.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Matrix3$1.prototype.getInverse=function(tt){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(tt).invert()};Matrix4$1.prototype.extractPosition=function(tt){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(tt)};Matrix4$1.prototype.flattenToArrayOffset=function(tt,et){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(tt,et)};Matrix4$1.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Vector3$1().setFromMatrixColumn(this,3)};Matrix4$1.prototype.setRotationFromQuaternion=function(tt){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(tt)};Matrix4$1.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Matrix4$1.prototype.multiplyVector3=function(tt){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4$1.prototype.multiplyVector4=function(tt){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4$1.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Matrix4$1.prototype.rotateAxis=function(tt){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),tt.transformDirection(this)};Matrix4$1.prototype.crossVector=function(tt){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4$1.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Matrix4$1.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Matrix4$1.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Matrix4$1.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Matrix4$1.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Matrix4$1.prototype.applyToBufferAttribute=function(tt){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4$1.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Matrix4$1.prototype.makeFrustum=function(tt,et,nt,rt,it,ot){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(tt,et,rt,nt,it,ot)};Matrix4$1.prototype.getInverse=function(tt){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(tt).invert()};Plane$1.prototype.isIntersectionLine=function(tt){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(tt)};Quaternion$1.prototype.multiplyVector3=function(tt){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),tt.applyQuaternion(this)};Quaternion$1.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ray$1.prototype.isIntersectionBox=function(tt){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(tt)};Ray$1.prototype.isIntersectionPlane=function(tt){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(tt)};Ray$1.prototype.isIntersectionSphere=function(tt){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(tt)};Triangle$1.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Triangle$1.prototype.barycoordFromPoint=function(tt,et){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(tt,et)};Triangle$1.prototype.midpoint=function(tt){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(tt)};Triangle$1.prototypenormal=function(tt){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(tt)};Triangle$1.prototype.plane=function(tt){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(tt)};Triangle$1.barycoordFromPoint=function(tt,et,nt,rt,it){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle$1.getBarycoord(tt,et,nt,rt,it)};Triangle$1.normal=function(tt,et,nt,rt){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle$1.getNormal(tt,et,nt,rt)};Shape$1.prototype.extractAllPoints=function(tt){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(tt)};Shape$1.prototype.extrude=function(tt){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry$1(this,tt)};Shape$1.prototype.makeGeometry=function(tt){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry$1(this,tt)};Vector2$1.prototype.fromAttribute=function(tt,et,nt){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(tt,et,nt)};Vector2$1.prototype.distanceToManhattan=function(tt){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(tt)};Vector2$1.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector3$1.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Vector3$1.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Vector3$1.prototype.getPositionFromMatrix=function(tt){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(tt)};Vector3$1.prototype.getScaleFromMatrix=function(tt){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(tt)};Vector3$1.prototype.getColumnFromMatrix=function(tt,et){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(et,tt)};Vector3$1.prototype.applyProjection=function(tt){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(tt)};Vector3$1.prototype.fromAttribute=function(tt,et,nt){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(tt,et,nt)};Vector3$1.prototype.distanceToManhattan=function(tt){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(tt)};Vector3$1.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector4$1.prototype.fromAttribute=function(tt,et,nt){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(tt,et,nt)};Vector4$1.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Object3D$1.prototype.getChildByName=function(tt){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(tt)};Object3D$1.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Object3D$1.prototype.translate=function(tt,et){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(et,tt)};Object3D$1.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Object3D$1.prototype.applyMatrix=function(tt){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(tt)};Object.defineProperties(Object3D$1.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(tt){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=tt}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Mesh$1.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Mesh$1.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TrianglesDrawMode$1},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});SkinnedMesh$1.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};PerspectiveCamera$1.prototype.setLens=function(tt,et){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),et!==void 0&&(this.filmGauge=et),this.setFocalLength(tt)};Object.defineProperties(Light$1.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(tt){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=tt}},shadowCameraLeft:{set:function(tt){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=tt}},shadowCameraRight:{set:function(tt){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=tt}},shadowCameraTop:{set:function(tt){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=tt}},shadowCameraBottom:{set:function(tt){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=tt}},shadowCameraNear:{set:function(tt){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=tt}},shadowCameraFar:{set:function(tt){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=tt}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(tt){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=tt}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(tt){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=tt}},shadowMapHeight:{set:function(tt){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=tt}}});Object.defineProperties(BufferAttribute$1.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage$1},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(DynamicDrawUsage$1)}}});BufferAttribute$1.prototype.setDynamic=function(tt){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(tt===!0?DynamicDrawUsage$1:StaticDrawUsage$1),this};BufferAttribute$1.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},BufferAttribute$1.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};BufferGeometry$1.prototype.addIndex=function(tt){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(tt)};BufferGeometry$1.prototype.addAttribute=function(tt,et){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(et&&et.isBufferAttribute)&&!(et&&et.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(tt,new BufferAttribute$1(arguments[1],arguments[2]))):tt==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(et),this):this.setAttribute(tt,et)};BufferGeometry$1.prototype.addDrawCall=function(tt,et,nt){nt!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(tt,et)};BufferGeometry$1.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};BufferGeometry$1.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};BufferGeometry$1.prototype.removeAttribute=function(tt){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(tt)};BufferGeometry$1.prototype.applyMatrix=function(tt){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(tt)};Object.defineProperties(BufferGeometry$1.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});InterleavedBuffer$1.prototype.setDynamic=function(tt){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(tt===!0?DynamicDrawUsage$1:StaticDrawUsage$1),this};InterleavedBuffer$1.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ExtrudeGeometry$1.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ExtrudeGeometry$1.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ExtrudeGeometry$1.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Scene$1.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Material$1.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color$2}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(tt){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=tt===FlatShading$1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(tt){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=tt}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ShaderMaterial$1.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(tt){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=tt}}});WebGLRenderer$1.prototype.clearTarget=function(tt,et,nt,rt){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(tt),this.clear(et,nt,rt)};WebGLRenderer$1.prototype.animate=function(tt){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(tt)};WebGLRenderer$1.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};WebGLRenderer$1.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};WebGLRenderer$1.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};WebGLRenderer$1.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};WebGLRenderer$1.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};WebGLRenderer$1.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};WebGLRenderer$1.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};WebGLRenderer$1.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};WebGLRenderer$1.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};WebGLRenderer$1.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};WebGLRenderer$1.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};WebGLRenderer$1.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};WebGLRenderer$1.prototype.enableScissorTest=function(tt){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(tt)};WebGLRenderer$1.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};WebGLRenderer$1.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};WebGLRenderer$1.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};WebGLRenderer$1.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};WebGLRenderer$1.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};WebGLRenderer$1.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};WebGLRenderer$1.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};WebGLRenderer$1.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};WebGLRenderer$1.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};WebGLRenderer$1.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(WebGLRenderer$1.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(tt){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=tt}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(tt){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=tt}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(tt){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=tt===!0?sRGBEncoding$1:LinearEncoding$1}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(WebGLShadowMap$1.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLRenderTarget$1.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(tt){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=tt}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(tt){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=tt}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(tt){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=tt}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(tt){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=tt}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(tt){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=tt}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(tt){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=tt}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(tt){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=tt}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(tt){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=tt}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(tt){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=tt}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(tt){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=tt}}});Audio$2.prototype.load=function(tt){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const et=this;return new AudioLoader$1().load(tt,function(rt){et.setBuffer(rt)}),this};CubeCamera$1.prototype.updateCubeMap=function(tt,et){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(tt,et)};CubeCamera$1.prototype.clear=function(tt,et,nt,rt){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(tt,et,nt,rt)};ImageUtils$1.crossOrigin=void 0;ImageUtils$1.loadTexture=function(tt,et,nt,rt){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const it=new TextureLoader$1;it.setCrossOrigin(this.crossOrigin);const ot=it.load(tt,nt,void 0,rt);return et&&(ot.mapping=et),ot};ImageUtils$1.loadTextureCube=function(tt,et,nt,rt){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const it=new CubeTextureLoader$1;it.setCrossOrigin(this.crossOrigin);const ot=it.load(tt,nt,void 0,rt);return et&&(ot.mapping=et),ot};ImageUtils$1.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils$1.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION$1}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION$1);var RecoilNexus$1={};function err(tt){const et=new Error(tt);if(et.stack===void 0)try{throw et}catch{}return et}var err_1=err,Recoil_err=err_1;function isPromise(tt){return!!tt&&typeof tt.then=="function"}var Recoil_isPromise=isPromise;function nullthrows(tt,et){if(tt!=null)return tt;throw Recoil_err(et!=null?et:"Got unexpected null or undefined")}var Recoil_nullthrows=nullthrows;function _defineProperty$3(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}class BaseLoadable{getValue(){throw Recoil_err("BaseLoadable")}toPromise(){throw Recoil_err("BaseLoadable")}valueMaybe(){throw Recoil_err("BaseLoadable")}valueOrThrow(){throw Recoil_err(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Recoil_err("BaseLoadable")}promiseOrThrow(){throw Recoil_err(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Recoil_err("BaseLoadable")}errorOrThrow(){throw Recoil_err(`Loadable expected error, but in "${this.state}" state`)}is(et){return et.state===this.state&&et.contents===this.contents}map(et){throw Recoil_err("BaseLoadable")}}class ValueLoadable extends BaseLoadable{constructor(et){super(),_defineProperty$3(this,"state","hasValue"),_defineProperty$3(this,"contents",void 0),this.contents=et}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(et){try{const nt=et(this.contents);return Recoil_isPromise(nt)?loadableWithPromise(nt):isLoadable(nt)?nt:loadableWithValue(nt)}catch(nt){return Recoil_isPromise(nt)?loadableWithPromise(nt.next(()=>this.map(et))):loadableWithError(nt)}}}class ErrorLoadable extends BaseLoadable{constructor(et){super(),_defineProperty$3(this,"state","hasError"),_defineProperty$3(this,"contents",void 0),this.contents=et}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(et){return this}}class LoadingLoadable extends BaseLoadable{constructor(et){super(),_defineProperty$3(this,"state","loading"),_defineProperty$3(this,"contents",void 0),this.contents=et}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(et){return loadableWithPromise(this.contents.then(nt=>{const rt=et(nt);if(isLoadable(rt)){const it=rt;switch(it.state){case"hasValue":return it.contents;case"hasError":throw it.contents;case"loading":return it.contents}}return rt}).catch(nt=>{if(Recoil_isPromise(nt))return nt.then(()=>this.map(et).contents);throw nt}))}}function loadableWithValue(tt){return Object.freeze(new ValueLoadable(tt))}function loadableWithError(tt){return Object.freeze(new ErrorLoadable(tt))}function loadableWithPromise(tt){return Object.freeze(new LoadingLoadable(tt))}function loadableLoading(){return Object.freeze(new LoadingLoadable(new Promise(()=>{})))}function loadableAllArray(tt){return tt.every(et=>et.state==="hasValue")?loadableWithValue(tt.map(et=>et.contents)):tt.some(et=>et.state==="hasError")?loadableWithError(Recoil_nullthrows(tt.find(et=>et.state==="hasError"),"Invalid loadable passed to loadableAll").contents):loadableWithPromise(Promise.all(tt.map(et=>et.contents)))}function loadableAll(tt){const nt=(Array.isArray(tt)?tt:Object.getOwnPropertyNames(tt).map(it=>tt[it])).map(it=>isLoadable(it)?it:Recoil_isPromise(it)?loadableWithPromise(it):loadableWithValue(it)),rt=loadableAllArray(nt);return Array.isArray(tt)?rt:rt.map(it=>Object.getOwnPropertyNames(tt).reduce((ot,at,st)=>to(Wr({},ot),{[at]:it[st]}),{}))}function isLoadable(tt){return tt instanceof BaseLoadable}const LoadableStaticInterface={of:tt=>Recoil_isPromise(tt)?loadableWithPromise(tt):isLoadable(tt)?tt:loadableWithValue(tt),error:tt=>loadableWithError(tt),loading:()=>loadableLoading(),all:loadableAll,isLoadable};var Recoil_Loadable={loadableWithValue,loadableWithError,loadableWithPromise,loadableLoading,loadableAll,isLoadable,RecoilLoadable:LoadableStaticInterface},Recoil_Loadable_1=Recoil_Loadable.loadableWithValue,Recoil_Loadable_2=Recoil_Loadable.loadableWithError,Recoil_Loadable_3=Recoil_Loadable.loadableWithPromise,Recoil_Loadable_4=Recoil_Loadable.loadableLoading,Recoil_Loadable_5=Recoil_Loadable.loadableAll,Recoil_Loadable_6=Recoil_Loadable.isLoadable,Recoil_Loadable_7=Recoil_Loadable.RecoilLoadable,Recoil_Loadable$1=Object.freeze({__proto__:null,loadableWithValue:Recoil_Loadable_1,loadableWithError:Recoil_Loadable_2,loadableWithPromise:Recoil_Loadable_3,loadableLoading:Recoil_Loadable_4,loadableAll:Recoil_Loadable_5,isLoadable:Recoil_Loadable_6,RecoilLoadable:Recoil_Loadable_7});const gks=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function Recoil_gkx_OSS(tt){var et;return(et=gks.get(tt))!==null&&et!==void 0?et:!1}Recoil_gkx_OSS.setPass=tt=>{gks.set(tt,!0)};Recoil_gkx_OSS.setFail=tt=>{gks.set(tt,!1)};Recoil_gkx_OSS.clear=()=>{gks.clear()};var Recoil_gkx=Recoil_gkx_OSS,_createMutableSource,_useMutableSource,_useSyncExternalStore;const createMutableSource=(_createMutableSource=React__default$2.createMutableSource)!==null&&_createMutableSource!==void 0?_createMutableSource:React__default$2.unstable_createMutableSource,useMutableSource=(_useMutableSource=React__default$2.useMutableSource)!==null&&_useMutableSource!==void 0?_useMutableSource:React__default$2.unstable_useMutableSource,useSyncExternalStore=(_useSyncExternalStore=React__default$2.useSyncExternalStore)!==null&&_useSyncExternalStore!==void 0?_useSyncExternalStore:React__default$2.unstable_useSyncExternalStore;function reactMode(){return Recoil_gkx("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Recoil_gkx("recoil_sync_external_store")&&useSyncExternalStore!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Recoil_gkx("recoil_mutable_source")&&useMutableSource!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Recoil_gkx("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Recoil_gkx("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function isFastRefreshEnabled(){return!1}var Recoil_ReactMode={createMutableSource,useMutableSource,useSyncExternalStore,reactMode,isFastRefreshEnabled};class AbstractRecoilValue{constructor(et){_defineProperty$3(this,"key",void 0),this.key=et}}class RecoilState extends AbstractRecoilValue{}class RecoilValueReadOnly extends AbstractRecoilValue{}function isRecoilValue(tt){return tt instanceof RecoilState||tt instanceof RecoilValueReadOnly}var Recoil_RecoilValue={AbstractRecoilValue,RecoilState,RecoilValueReadOnly,isRecoilValue},Recoil_RecoilValue_1=Recoil_RecoilValue.AbstractRecoilValue,Recoil_RecoilValue_2=Recoil_RecoilValue.RecoilState,Recoil_RecoilValue_3=Recoil_RecoilValue.RecoilValueReadOnly,Recoil_RecoilValue_4=Recoil_RecoilValue.isRecoilValue,Recoil_RecoilValue$1=Object.freeze({__proto__:null,AbstractRecoilValue:Recoil_RecoilValue_1,RecoilState:Recoil_RecoilValue_2,RecoilValueReadOnly:Recoil_RecoilValue_3,isRecoilValue:Recoil_RecoilValue_4});function mapIterable(tt,et){return function*(){let nt=0;for(const rt of tt)yield et(rt,nt++)}()}var Recoil_mapIterable=mapIterable;function recoverableViolation(tt,et,{error:nt}={}){return null}var recoverableViolation_1=recoverableViolation,Recoil_recoverableViolation=recoverableViolation_1;class DefaultValue{}const DEFAULT_VALUE=new DefaultValue;class RecoilValueNotReady extends Error{constructor(et){super(`Tried to set the value of Recoil selector ${et} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const nodes=new Map,recoilValues=new Map;function recoilValuesForKeys(tt){return Recoil_mapIterable(tt,et=>Recoil_nullthrows(recoilValues.get(et)))}function registerNode(tt){if(nodes.has(tt.key)){const nt=`Duplicate atom key "${tt.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(nt)}nodes.set(tt.key,tt);const et=tt.set==null?new Recoil_RecoilValue$1.RecoilValueReadOnly(tt.key):new Recoil_RecoilValue$1.RecoilState(tt.key);return recoilValues.set(tt.key,et),et}class NodeMissingError extends Error{}function getNode(tt){const et=nodes.get(tt);if(et==null)throw new NodeMissingError(`Missing definition for RecoilValue: "${tt}""`);return et}function getNodeMaybe(tt){return nodes.get(tt)}const configDeletionHandlers=new Map;function deleteNodeConfigIfPossible(tt){var et;if(!Recoil_gkx("recoil_memory_managament_2020"))return;const nt=nodes.get(tt);if(nt!=null&&(et=nt.shouldDeleteConfigOnRelease)!==null&&et!==void 0&&et.call(nt)){var rt;nodes.delete(tt),(rt=getConfigDeletionHandler(tt))===null||rt===void 0||rt(),configDeletionHandlers.delete(tt)}}function setConfigDeletionHandler(tt,et){!Recoil_gkx("recoil_memory_managament_2020")||(et===void 0?configDeletionHandlers.delete(tt):configDeletionHandlers.set(tt,et))}function getConfigDeletionHandler(tt){return configDeletionHandlers.get(tt)}var Recoil_Node={nodes,recoilValues,registerNode,getNode,getNodeMaybe,deleteNodeConfigIfPossible,setConfigDeletionHandler,getConfigDeletionHandler,recoilValuesForKeys,NodeMissingError,DefaultValue,DEFAULT_VALUE,RecoilValueNotReady};function enqueueExecution(tt,et){et()}var Recoil_Queue={enqueueExecution};function createCommonjsModule(tt,et){return et={exports:{}},tt(et,et.exports),et.exports}var hamt_1=createCommonjsModule(function(tt){var et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kn){return typeof kn}:function(kn){return kn&&typeof Symbol=="function"&&kn.constructor===Symbol&&kn!==Symbol.prototype?"symbol":typeof kn},nt={},rt=5,it=Math.pow(2,rt),ot=it-1,at=it/2,st=it/4,lt={},ct=function(Bn){return function(){return Bn}},ft=nt.hash=function(kn){var Bn=typeof kn=="undefined"?"undefined":et(kn);if(Bn==="number")return kn;Bn!=="string"&&(kn+="");for(var Hn=0,Qn=0,qn=kn.length;Qn<qn;++Qn){var er=kn.charCodeAt(Qn);Hn=(Hn<<5)-Hn+er|0}return Hn},ut=function(Bn){return Bn-=Bn>>1&1431655765,Bn=(Bn&858993459)+(Bn>>2&858993459),Bn=Bn+(Bn>>4)&252645135,Bn+=Bn>>8,Bn+=Bn>>16,Bn&127},dt=function(Bn,Hn){return Hn>>>Bn&ot},ht=function(Bn){return 1<<Bn},pt=function(Bn,Hn){return ut(Bn&Hn-1)},gt=function(Bn,Hn,Qn,qn){var er=qn;if(!Bn){var ir=qn.length;er=new Array(ir);for(var nr=0;nr<ir;++nr)er[nr]=qn[nr]}return er[Hn]=Qn,er},mt=function(Bn,Hn,Qn){var qn=Qn.length-1,er=0,ir=0,nr=Qn;if(Bn)er=ir=Hn;else for(nr=new Array(qn);er<Hn;)nr[ir++]=Qn[er++];for(++er;er<=qn;)nr[ir++]=Qn[er++];return Bn&&(nr.length=qn),nr},yt=function(Bn,Hn,Qn,qn){var er=qn.length;if(Bn){for(var ir=er;ir>=Hn;)qn[ir--]=qn[ir];return qn[Hn]=Qn,qn}for(var nr=0,ur=0,mr=new Array(er+1);nr<Hn;)mr[ur++]=qn[nr++];for(mr[Hn]=Qn;nr<er;)mr[++ur]=qn[nr++];return mr},bt=1,St=2,xt=3,vt=4,$t={__hamt_isEmpty:!0},zt=function(Bn){return Bn===$t||Bn&&Bn.__hamt_isEmpty},Nt=function(Bn,Hn,Qn,qn){return{type:bt,edit:Bn,hash:Hn,key:Qn,value:qn,_modify:Ut}},wt=function(Bn,Hn,Qn){return{type:St,edit:Bn,hash:Hn,children:Qn,_modify:At}},Et=function(Bn,Hn,Qn){return{type:xt,edit:Bn,mask:Hn,children:Qn,_modify:Mt}},Rt=function(Bn,Hn,Qn){return{type:vt,edit:Bn,size:Hn,children:Qn,_modify:jt}},Tt=function(Bn){return Bn===$t||Bn.type===bt||Bn.type===St},It=function(Bn,Hn,Qn,qn,er){for(var ir=[],nr=qn,ur=0,mr=0;nr;++mr)nr&1&&(ir[mr]=er[ur++]),nr>>>=1;return ir[Hn]=Qn,Rt(Bn,ur+1,ir)},Pt=function(Bn,Hn,Qn,qn){for(var er=new Array(Hn-1),ir=0,nr=0,ur=0,mr=qn.length;ur<mr;++ur)if(ur!==Qn){var Rr=qn[ur];Rr&&!zt(Rr)&&(er[ir++]=Rr,nr|=1<<ur)}return Et(Bn,nr,er)},Dt=function kn(Bn,Hn,Qn,qn,er,ir){if(Qn===er)return wt(Bn,Qn,[ir,qn]);var nr=dt(Hn,Qn),ur=dt(Hn,er);return Et(Bn,ht(nr)|ht(ur),nr===ur?[kn(Bn,Hn+rt,Qn,qn,er,ir)]:nr<ur?[qn,ir]:[ir,qn])},Ct=function(Bn,Hn,Qn,qn,er,ir,nr,ur){for(var mr=er.length,Rr=0;Rr<mr;++Rr){var $r=er[Rr];if(Qn(nr,$r.key)){var Pr=$r.value,Er=ir(Pr);return Er===Pr?er:Er===lt?(--ur.value,mt(Bn,Rr,er)):gt(Bn,Rr,Nt(Hn,qn,nr,Er),er)}}var Ir=ir();return Ir===lt?er:(++ur.value,gt(Bn,mr,Nt(Hn,qn,nr,Ir),er))},Ot=function(Bn,Hn){return Bn===Hn.edit},Ut=function(Bn,Hn,Qn,qn,er,ir,nr){if(Hn(ir,this.key)){var ur=qn(this.value);return ur===this.value?this:ur===lt?(--nr.value,$t):Ot(Bn,this)?(this.value=ur,this):Nt(Bn,er,ir,ur)}var mr=qn();return mr===lt?this:(++nr.value,Dt(Bn,Qn,this.hash,this,er,Nt(Bn,er,ir,mr)))},At=function(Bn,Hn,Qn,qn,er,ir,nr){if(er===this.hash){var ur=Ot(Bn,this),mr=Ct(ur,Bn,Hn,this.hash,this.children,qn,ir,nr);return mr===this.children?this:mr.length>1?wt(Bn,this.hash,mr):mr[0]}var Rr=qn();return Rr===lt?this:(++nr.value,Dt(Bn,Qn,this.hash,this,er,Nt(Bn,er,ir,Rr)))},Mt=function(Bn,Hn,Qn,qn,er,ir,nr){var ur=this.mask,mr=this.children,Rr=dt(Qn,er),$r=ht(Rr),Pr=pt(ur,$r),Er=ur&$r,Ir=Er?mr[Pr]:$t,Nr=Ir._modify(Bn,Hn,Qn+rt,qn,er,ir,nr);if(Ir===Nr)return this;var Yr=Ot(Bn,this),qr=ur,En=void 0;if(Er&&zt(Nr)){if(qr&=~$r,!qr)return $t;if(mr.length<=2&&Tt(mr[Pr^1]))return mr[Pr^1];En=mt(Yr,Pr,mr)}else if(!Er&&!zt(Nr)){if(mr.length>=at)return It(Bn,Rr,Nr,ur,mr);qr|=$r,En=yt(Yr,Pr,Nr,mr)}else En=gt(Yr,Pr,Nr,mr);return Yr?(this.mask=qr,this.children=En,this):Et(Bn,qr,En)},jt=function(Bn,Hn,Qn,qn,er,ir,nr){var ur=this.size,mr=this.children,Rr=dt(Qn,er),$r=mr[Rr],Pr=($r||$t)._modify(Bn,Hn,Qn+rt,qn,er,ir,nr);if($r===Pr)return this;var Er=Ot(Bn,this),Ir=void 0;if(zt($r)&&!zt(Pr))++ur,Ir=gt(Er,Rr,Pr,mr);else if(!zt($r)&&zt(Pr)){if(--ur,ur<=st)return Pt(Bn,ur,Rr,mr);Ir=gt(Er,Rr,$t,mr)}else Ir=gt(Er,Rr,Pr,mr);return Er?(this.size=ur,this.children=Ir,this):Rt(Bn,ur,Ir)};$t._modify=function(kn,Bn,Hn,Qn,qn,er,ir){var nr=Qn();return nr===lt?$t:(++ir.value,Nt(kn,qn,er,nr))};function kt(kn,Bn,Hn,Qn,qn){this._editable=kn,this._edit=Bn,this._config=Hn,this._root=Qn,this._size=qn}kt.prototype.setTree=function(kn,Bn){return this._editable?(this._root=kn,this._size=Bn,this):kn===this._root?this:new kt(this._editable,this._edit,this._config,kn,Bn)};var Gt=nt.tryGetHash=function(kn,Bn,Hn,Qn){for(var qn=Qn._root,er=0,ir=Qn._config.keyEq;;)switch(qn.type){case bt:return ir(Hn,qn.key)?qn.value:kn;case St:{if(Bn===qn.hash)for(var nr=qn.children,ur=0,mr=nr.length;ur<mr;++ur){var Rr=nr[ur];if(ir(Hn,Rr.key))return Rr.value}return kn}case xt:{var $r=dt(er,Bn),Pr=ht($r);if(qn.mask&Pr){qn=qn.children[pt(qn.mask,Pr)],er+=rt;break}return kn}case vt:{if(qn=qn.children[dt(er,Bn)],qn){er+=rt;break}return kn}default:return kn}};kt.prototype.tryGetHash=function(kn,Bn,Hn){return Gt(kn,Bn,Hn,this)};var Ht=nt.tryGet=function(kn,Bn,Hn){return Gt(kn,Hn._config.hash(Bn),Bn,Hn)};kt.prototype.tryGet=function(kn,Bn){return Ht(kn,Bn,this)};var Jt=nt.getHash=function(kn,Bn,Hn){return Gt(void 0,kn,Bn,Hn)};kt.prototype.getHash=function(kn,Bn){return Jt(kn,Bn,this)},nt.get=function(kn,Bn){return Gt(void 0,Bn._config.hash(kn),kn,Bn)},kt.prototype.get=function(kn,Bn){return Ht(Bn,kn,this)};var Vt=nt.has=function(kn,Bn,Hn){return Gt(lt,kn,Bn,Hn)!==lt};kt.prototype.hasHash=function(kn,Bn){return Vt(kn,Bn,this)};var Wt=nt.has=function(kn,Bn){return Vt(Bn._config.hash(kn),kn,Bn)};kt.prototype.has=function(kn){return Wt(kn,this)};var Lt=function(Bn,Hn){return Bn===Hn};nt.make=function(kn){return new kt(0,0,{keyEq:kn&&kn.keyEq||Lt,hash:kn&&kn.hash||ft},$t,0)},nt.empty=nt.make();var Bt=nt.isEmpty=function(kn){return kn&&!!zt(kn._root)};kt.prototype.isEmpty=function(){return Bt(this)};var Ft=nt.modifyHash=function(kn,Bn,Hn,Qn){var qn={value:Qn._size},er=Qn._root._modify(Qn._editable?Qn._edit:NaN,Qn._config.keyEq,0,kn,Bn,Hn,qn);return Qn.setTree(er,qn.value)};kt.prototype.modifyHash=function(kn,Bn,Hn){return Ft(Hn,kn,Bn,this)};var sn=nt.modify=function(kn,Bn,Hn){return Ft(kn,Hn._config.hash(Bn),Bn,Hn)};kt.prototype.modify=function(kn,Bn){return sn(Bn,kn,this)};var Xt=nt.setHash=function(kn,Bn,Hn,Qn){return Ft(ct(Hn),kn,Bn,Qn)};kt.prototype.setHash=function(kn,Bn,Hn){return Xt(kn,Bn,Hn,this)};var dn=nt.set=function(kn,Bn,Hn){return Xt(Hn._config.hash(kn),kn,Bn,Hn)};kt.prototype.set=function(kn,Bn){return dn(kn,Bn,this)};var Yt=ct(lt),yn=nt.removeHash=function(kn,Bn,Hn){return Ft(Yt,kn,Bn,Hn)};kt.prototype.removeHash=kt.prototype.deleteHash=function(kn,Bn){return yn(kn,Bn,this)};var Qt=nt.remove=function(kn,Bn){return yn(Bn._config.hash(kn),kn,Bn)};kt.prototype.remove=kt.prototype.delete=function(kn){return Qt(kn,this)};var Kt=nt.beginMutation=function(kn){return new kt(kn._editable+1,kn._edit+1,kn._config,kn._root,kn._size)};kt.prototype.beginMutation=function(){return Kt(this)};var hn=nt.endMutation=function(kn){return kn._editable=kn._editable&&kn._editable-1,kn};kt.prototype.endMutation=function(){return hn(this)};var vn=nt.mutate=function(kn,Bn){var Hn=Kt(Bn);return kn(Hn),hn(Hn)};kt.prototype.mutate=function(kn){return vn(kn,this)};var Sn=function(Bn){return Bn&&Cn(Bn[0],Bn[1],Bn[2],Bn[3],Bn[4])},Cn=function(Bn,Hn,Qn,qn,er){for(;Qn<Bn;){var ir=Hn[Qn++];if(ir&&!zt(ir))return cn(ir,qn,[Bn,Hn,Qn,qn,er])}return Sn(er)},cn=function(Bn,Hn,Qn){switch(Bn.type){case bt:return{value:Hn(Bn),rest:Qn};case St:case vt:case xt:var qn=Bn.children;return Cn(qn.length,qn,0,Hn,Qn);default:return Sn(Qn)}},ln={done:!0};function bn(kn){this.v=kn}bn.prototype.next=function(){if(!this.v)return ln;var kn=this.v;return this.v=Sn(kn.rest),kn},bn.prototype[Symbol.iterator]=function(){return this};var xn=function(Bn,Hn){return new bn(cn(Bn._root,Hn))},Nn=function(Bn){return[Bn.key,Bn.value]},zn=nt.entries=function(kn){return xn(kn,Nn)};kt.prototype.entries=kt.prototype[Symbol.iterator]=function(){return zn(this)};var Ln=function(Bn){return Bn.key},Mn=nt.keys=function(kn){return xn(kn,Ln)};kt.prototype.keys=function(){return Mn(this)};var Wn=function(Bn){return Bn.value},Jn=nt.values=kt.prototype.values=function(kn){return xn(kn,Wn)};kt.prototype.values=function(){return Jn(this)};var Zn=nt.fold=function(kn,Bn,Hn){var Qn=Hn._root;if(Qn.type===bt)return kn(Bn,Qn.value,Qn.key);for(var qn=[Qn.children],er=void 0;er=qn.pop();)for(var ir=0,nr=er.length;ir<nr;){var ur=er[ir++];ur&&ur.type&&(ur.type===bt?Bn=kn(Bn,ur.value,ur.key):qn.push(ur.children))}return Bn};kt.prototype.fold=function(kn,Bn){return Zn(kn,Bn,this)};var Rn=nt.forEach=function(kn,Bn){return Zn(function(Hn,Qn,qn){return kn(Qn,qn,Bn)},null,Bn)};kt.prototype.forEach=function(kn){return Rn(kn,this)};var Kn=nt.count=function(kn){return kn._size};kt.prototype.count=function(){return Kn(this)},Object.defineProperty(kt.prototype,"size",{get:kt.prototype.count}),tt.exports?tt.exports=nt:(void 0).hamt=nt});class BuiltInMap{constructor(et){_defineProperty$3(this,"_map",void 0),this._map=new Map(et==null?void 0:et.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(et){return this._map.get(et)}has(et){return this._map.has(et)}set(et,nt){return this._map.set(et,nt),this}delete(et){return this._map.delete(et),this}clone(){return persistentMap(this)}toMap(){return new Map(this._map)}}class HashArrayMappedTrieMap{constructor(et){if(_defineProperty$3(this,"_hamt",hamt_1.empty.beginMutation()),et instanceof HashArrayMappedTrieMap){const nt=et._hamt.endMutation();et._hamt=nt.beginMutation(),this._hamt=nt.beginMutation()}else if(et)for(const[nt,rt]of et.entries())this._hamt.set(nt,rt)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(et){return this._hamt.get(et)}has(et){return this._hamt.has(et)}set(et,nt){return this._hamt.set(et,nt),this}delete(et){return this._hamt.delete(et),this}clone(){return persistentMap(this)}toMap(){return new Map(this._hamt)}}function persistentMap(tt){return Recoil_gkx("recoil_hamt_2020")?new HashArrayMappedTrieMap(tt):new BuiltInMap(tt)}var Recoil_PersistentMap={persistentMap},Recoil_PersistentMap_1=Recoil_PersistentMap.persistentMap,Recoil_PersistentMap$1=Object.freeze({__proto__:null,persistentMap:Recoil_PersistentMap_1});function differenceSets(tt,...et){const nt=new Set;e:for(const rt of tt){for(const it of et)if(it.has(rt))continue e;nt.add(rt)}return nt}var Recoil_differenceSets=differenceSets;function mapMap(tt,et){const nt=new Map;return tt.forEach((rt,it)=>{nt.set(it,et(rt,it))}),nt}var Recoil_mapMap=mapMap;function makeGraph(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function cloneGraph(tt){return{nodeDeps:Recoil_mapMap(tt.nodeDeps,et=>new Set(et)),nodeToNodeSubscriptions:Recoil_mapMap(tt.nodeToNodeSubscriptions,et=>new Set(et))}}function mergeDepsIntoGraph(tt,et,nt,rt){const{nodeDeps:it,nodeToNodeSubscriptions:ot}=nt,at=it.get(tt);if(at&&rt&&at!==rt.nodeDeps.get(tt))return;it.set(tt,et);const st=at==null?et:Recoil_differenceSets(et,at);for(const lt of st)ot.has(lt)||ot.set(lt,new Set),Recoil_nullthrows(ot.get(lt)).add(tt);if(at){const lt=Recoil_differenceSets(at,et);for(const ct of lt){if(!ot.has(ct))return;const ft=Recoil_nullthrows(ot.get(ct));ft.delete(tt),ft.size===0&&ot.delete(ct)}}}function saveDepsToStore(tt,et,nt,rt){var it,ot,at,st;const lt=nt.getState();rt===lt.currentTree.version||rt===((it=lt.nextTree)===null||it===void 0?void 0:it.version)||((ot=lt.previousTree)===null||ot===void 0||ot.version);const ct=nt.getGraph(rt);if(mergeDepsIntoGraph(tt,et,ct),rt===((at=lt.previousTree)===null||at===void 0?void 0:at.version)){const ut=nt.getGraph(lt.currentTree.version);mergeDepsIntoGraph(tt,et,ut,ct)}if(rt===((st=lt.previousTree)===null||st===void 0?void 0:st.version)||rt===lt.currentTree.version){var ft;const ut=(ft=lt.nextTree)===null||ft===void 0?void 0:ft.version;if(ut!==void 0){const dt=nt.getGraph(ut);mergeDepsIntoGraph(tt,et,dt,ct)}}}var Recoil_Graph={cloneGraph,graph:makeGraph,saveDepsToStore};let nextTreeStateVersion=0;const getNextTreeStateVersion=()=>nextTreeStateVersion++;let nextStoreID=0;const getNextStoreID=()=>nextStoreID++;let nextComponentID=0;const getNextComponentID=()=>nextComponentID++;var Recoil_Keys={getNextTreeStateVersion,getNextStoreID,getNextComponentID};const{persistentMap:persistentMap$1}=Recoil_PersistentMap$1,{graph}=Recoil_Graph,{getNextTreeStateVersion:getNextTreeStateVersion$1}=Recoil_Keys;function makeEmptyTreeState(){const tt=getNextTreeStateVersion$1();return{version:tt,stateID:tt,transactionMetadata:{},dirtyAtoms:new Set,atomValues:persistentMap$1(),nonvalidatedAtoms:persistentMap$1()}}function makeEmptyStoreState(){const tt=makeEmptyTreeState();return{currentTree:tt,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(tt.version,graph()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Recoil_State={makeEmptyTreeState,makeEmptyStoreState,getNextTreeStateVersion:getNextTreeStateVersion$1};class RetentionZone{}function retentionZone(){return new RetentionZone}var Recoil_RetentionZone={RetentionZone,retentionZone};function setByAddingToSet(tt,et){const nt=new Set(tt);return nt.add(et),nt}function setByDeletingFromSet(tt,et){const nt=new Set(tt);return nt.delete(et),nt}function mapBySettingInMap(tt,et,nt){const rt=new Map(tt);return rt.set(et,nt),rt}function mapByUpdatingInMap(tt,et,nt){const rt=new Map(tt);return rt.set(et,nt(rt.get(et))),rt}function mapByDeletingFromMap(tt,et){const nt=new Map(tt);return nt.delete(et),nt}function mapByDeletingMultipleFromMap(tt,et){const nt=new Map(tt);return et.forEach(rt=>nt.delete(rt)),nt}var Recoil_CopyOnWrite={setByAddingToSet,setByDeletingFromSet,mapBySettingInMap,mapByUpdatingInMap,mapByDeletingFromMap,mapByDeletingMultipleFromMap};function*filterIterable(tt,et){let nt=0;for(const rt of tt)et(rt,nt++)&&(yield rt)}var Recoil_filterIterable=filterIterable;function lazyProxy(tt,et){return new Proxy(tt,{get:(rt,it)=>(!(it in rt)&&it in et&&(rt[it]=et[it]()),rt[it]),ownKeys:rt=>Object.keys(rt)})}var Recoil_lazyProxy=lazyProxy;const{getNode:getNode$1,getNodeMaybe:getNodeMaybe$1,recoilValuesForKeys:recoilValuesForKeys$1}=Recoil_Node,{RetentionZone:RetentionZone$1}=Recoil_RetentionZone,{setByAddingToSet:setByAddingToSet$1}=Recoil_CopyOnWrite,emptySet=Object.freeze(new Set);class ReadOnlyRecoilValueError extends Error{}function initializeRetentionForNode(tt,et,nt){if(!Recoil_gkx("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:rt}=tt.getState().retention;function it(ot){let at=rt.get(ot);at||rt.set(ot,at=new Set),at.add(et)}if(nt instanceof RetentionZone$1)it(nt);else if(Array.isArray(nt))for(const ot of nt)it(ot);return()=>{if(!Recoil_gkx("recoil_memory_managament_2020"))return;const{retention:ot}=tt.getState();function at(st){const lt=ot.nodesRetainedByZone.get(st);lt==null||lt.delete(et),lt&&lt.size===0&&ot.nodesRetainedByZone.delete(st)}if(nt instanceof RetentionZone$1)at(nt);else if(Array.isArray(nt))for(const st of nt)at(st)}}function initializeNodeIfNewToStore(tt,et,nt,rt){const it=tt.getState();if(it.nodeCleanupFunctions.has(nt))return;const ot=getNode$1(nt),at=initializeRetentionForNode(tt,nt,ot.retainedBy),st=ot.init(tt,et,rt);it.nodeCleanupFunctions.set(nt,()=>{st(),at()})}function initializeNode(tt,et,nt){initializeNodeIfNewToStore(tt,tt.getState().currentTree,et,nt)}function cleanUpNode(tt,et){var nt;const rt=tt.getState();(nt=rt.nodeCleanupFunctions.get(et))===null||nt===void 0||nt(),rt.nodeCleanupFunctions.delete(et)}function getNodeLoadable(tt,et,nt){return initializeNodeIfNewToStore(tt,et,nt,"get"),getNode$1(nt).get(tt,et)}function peekNodeLoadable(tt,et,nt){return getNode$1(nt).peek(tt,et)}function setUnvalidatedAtomValue_DEPRECATED(tt,et,nt){var rt;const it=getNodeMaybe$1(et);return it==null||(rt=it.invalidate)===null||rt===void 0||rt.call(it,tt),to(Wr({},tt),{atomValues:tt.atomValues.clone().delete(et),nonvalidatedAtoms:tt.nonvalidatedAtoms.clone().set(et,nt),dirtyAtoms:setByAddingToSet$1(tt.dirtyAtoms,et)})}function setNodeValue(tt,et,nt,rt){const it=getNode$1(nt);if(it.set==null)throw new ReadOnlyRecoilValueError(`Attempt to set read-only RecoilValue: ${nt}`);const ot=it.set;return initializeNodeIfNewToStore(tt,et,nt,"set"),ot(tt,et,rt)}function peekNodeInfo(tt,et,nt){const rt=tt.getState(),it=tt.getGraph(et.version),ot=getNode$1(nt).nodeType;return Recoil_lazyProxy({type:ot},{loadable:()=>peekNodeLoadable(tt,et,nt),isActive:()=>rt.knownAtoms.has(nt)||rt.knownSelectors.has(nt),isSet:()=>ot==="selector"?!1:et.atomValues.has(nt),isModified:()=>et.dirtyAtoms.has(nt),deps:()=>{var at;return recoilValuesForKeys$1((at=it.nodeDeps.get(nt))!==null&&at!==void 0?at:[])},subscribers:()=>{var at,st;return{nodes:recoilValuesForKeys$1(Recoil_filterIterable(getDownstreamNodes(tt,et,new Set([nt])),lt=>lt!==nt)),components:Recoil_mapIterable((at=(st=rt.nodeToComponentSubscriptions.get(nt))===null||st===void 0?void 0:st.values())!==null&&at!==void 0?at:[],([lt])=>({name:lt}))}}})}function getDownstreamNodes(tt,et,nt){const rt=new Set,it=Array.from(nt),ot=tt.getGraph(et.version);for(let st=it.pop();st;st=it.pop()){var at;rt.add(st);const lt=(at=ot.nodeToNodeSubscriptions.get(st))!==null&&at!==void 0?at:emptySet;for(const ct of lt)rt.has(ct)||it.push(ct)}return rt}var Recoil_FunctionalCore={getNodeLoadable,peekNodeLoadable,setNodeValue,initializeNode,cleanUpNode,setUnvalidatedAtomValue_DEPRECATED,peekNodeInfo,getDownstreamNodes};let _invalidateMemoizedSnapshot=null;function setInvalidateMemoizedSnapshot(tt){_invalidateMemoizedSnapshot=tt}function invalidateMemoizedSnapshot(){var tt;(tt=_invalidateMemoizedSnapshot)===null||tt===void 0||tt()}var Recoil_SnapshotCache={setInvalidateMemoizedSnapshot,invalidateMemoizedSnapshot};const{getDownstreamNodes:getDownstreamNodes$1,getNodeLoadable:getNodeLoadable$1,setNodeValue:setNodeValue$1}=Recoil_FunctionalCore,{getNextComponentID:getNextComponentID$1}=Recoil_Keys,{getNode:getNode$2,getNodeMaybe:getNodeMaybe$2}=Recoil_Node,{DefaultValue:DefaultValue$1,RecoilValueNotReady:RecoilValueNotReady$1}=Recoil_Node,{reactMode:reactMode$1}=Recoil_ReactMode,{AbstractRecoilValue:AbstractRecoilValue$1,RecoilState:RecoilState$1,RecoilValueReadOnly:RecoilValueReadOnly$1,isRecoilValue:isRecoilValue$1}=Recoil_RecoilValue$1,{invalidateMemoizedSnapshot:invalidateMemoizedSnapshot$1}=Recoil_SnapshotCache;function getRecoilValueAsLoadable(tt,{key:et},nt=tt.getState().currentTree){var rt,it;const ot=tt.getState();nt.version===ot.currentTree.version||nt.version===((rt=ot.nextTree)===null||rt===void 0?void 0:rt.version)||(nt.version,(it=ot.previousTree)===null||it===void 0||it.version);const at=getNodeLoadable$1(tt,nt,et);return at.state==="loading"&&at.contents.catch(()=>{}),at}function applyAtomValueWrites(tt,et){const nt=tt.clone();return et.forEach((rt,it)=>{rt.state==="hasValue"&&rt.contents instanceof DefaultValue$1?nt.delete(it):nt.set(it,rt)}),nt}function valueFromValueOrUpdater(tt,et,{key:nt},rt){if(typeof rt=="function"){const it=getNodeLoadable$1(tt,et,nt);if(it.state==="loading")throw new RecoilValueNotReady$1(nt);if(it.state==="hasError")throw it.contents;return rt(it.contents)}else return rt}function applyAction(tt,et,nt){if(nt.type==="set"){const{recoilValue:it,valueOrUpdater:ot}=nt,at=valueFromValueOrUpdater(tt,et,it,ot),st=setNodeValue$1(tt,et,it.key,at);for(const[lt,ct]of st.entries())writeLoadableToTreeState(et,lt,ct)}else if(nt.type==="setLoadable"){const{recoilValue:{key:it},loadable:ot}=nt;writeLoadableToTreeState(et,it,ot)}else if(nt.type==="markModified"){const{recoilValue:{key:it}}=nt;et.dirtyAtoms.add(it)}else if(nt.type==="setUnvalidated"){var rt;const{recoilValue:{key:it},unvalidatedValue:ot}=nt,at=getNodeMaybe$2(it);at==null||(rt=at.invalidate)===null||rt===void 0||rt.call(at,et),et.atomValues.delete(it),et.nonvalidatedAtoms.set(it,ot),et.dirtyAtoms.add(it)}else Recoil_recoverableViolation(`Unknown action ${nt.type}`)}function writeLoadableToTreeState(tt,et,nt){nt.state==="hasValue"&&nt.contents instanceof DefaultValue$1?tt.atomValues.delete(et):tt.atomValues.set(et,nt),tt.dirtyAtoms.add(et),tt.nonvalidatedAtoms.delete(et)}function applyActionsToStore(tt,et){tt.replaceState(nt=>{const rt=copyTreeState(nt);for(const it of et)applyAction(tt,rt,it);return invalidateDownstreams(tt,rt),invalidateMemoizedSnapshot$1(),rt})}function queueOrPerformStateUpdate(tt,et){if(batchStack.length){const nt=batchStack[batchStack.length-1];let rt=nt.get(tt);rt||nt.set(tt,rt=[]),rt.push(et)}else applyActionsToStore(tt,[et])}const batchStack=[];function batchStart(){const tt=new Map;return batchStack.push(tt),()=>{for(const[et,nt]of tt)applyActionsToStore(et,nt);batchStack.pop()}}function copyTreeState(tt){return to(Wr({},tt),{atomValues:tt.atomValues.clone(),nonvalidatedAtoms:tt.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(tt.dirtyAtoms)})}function invalidateDownstreams(tt,et){const nt=getDownstreamNodes$1(tt,et,et.dirtyAtoms);for(const ot of nt){var rt,it;(rt=getNodeMaybe$2(ot))===null||rt===void 0||(it=rt.invalidate)===null||it===void 0||it.call(rt,et)}}function setRecoilValue(tt,et,nt){queueOrPerformStateUpdate(tt,{type:"set",recoilValue:et,valueOrUpdater:nt})}function setRecoilValueLoadable(tt,et,nt){if(nt instanceof DefaultValue$1)return setRecoilValue(tt,et,nt);queueOrPerformStateUpdate(tt,{type:"setLoadable",recoilValue:et,loadable:nt})}function markRecoilValueModified(tt,et){queueOrPerformStateUpdate(tt,{type:"markModified",recoilValue:et})}function setUnvalidatedRecoilValue(tt,et,nt){queueOrPerformStateUpdate(tt,{type:"setUnvalidated",recoilValue:et,unvalidatedValue:nt})}function subscribeToRecoilValue(tt,{key:et},nt,rt=null){const it=getNextComponentID$1(),ot=tt.getState();ot.nodeToComponentSubscriptions.has(et)||ot.nodeToComponentSubscriptions.set(et,new Map),Recoil_nullthrows(ot.nodeToComponentSubscriptions.get(et)).set(it,[rt!=null?rt:"<not captured>",nt]);const at=reactMode$1();if(at.early&&(at.mode==="LEGACY"||at.mode==="MUTABLE_SOURCE")){const st=tt.getState().nextTree;st&&st.dirtyAtoms.has(et)&&nt(st)}return{release:()=>{const st=tt.getState(),lt=st.nodeToComponentSubscriptions.get(et);lt===void 0||!lt.has(it)||(lt.delete(it),lt.size===0&&st.nodeToComponentSubscriptions.delete(et))}}}function refreshRecoilValue(tt,et){var nt;const{currentTree:rt}=tt.getState(),it=getNode$2(et.key);(nt=it.clearCache)===null||nt===void 0||nt.call(it,tt,rt)}var Recoil_RecoilValueInterface={RecoilValueReadOnly:RecoilValueReadOnly$1,AbstractRecoilValue:AbstractRecoilValue$1,RecoilState:RecoilState$1,getRecoilValueAsLoadable,setRecoilValue,setRecoilValueLoadable,markRecoilValueModified,setUnvalidatedRecoilValue,subscribeToRecoilValue,isRecoilValue:isRecoilValue$1,applyAtomValueWrites,batchStart,writeLoadableToTreeState,invalidateDownstreams,copyTreeState,refreshRecoilValue};function someSet(tt,et,nt){const rt=tt.entries();let it=rt.next();for(;!it.done;){const ot=it.value;if(et.call(nt,ot[1],ot[0],tt))return!0;it=rt.next()}return!1}var Recoil_someSet=someSet;const{cleanUpNode:cleanUpNode$1}=Recoil_FunctionalCore,{deleteNodeConfigIfPossible:deleteNodeConfigIfPossible$1,getNode:getNode$3}=Recoil_Node,{RetentionZone:RetentionZone$2}=Recoil_RetentionZone,SUSPENSE_TIMEOUT_MS=12e4,emptySet$1=new Set;function releaseRetainablesNowOnCurrentTree(tt,et){const nt=tt.getState(),rt=nt.currentTree;if(nt.nextTree)return;const it=new Set;for(const at of et)if(at instanceof RetentionZone$2)for(const st of nodesRetainedByZone(nt,at))it.add(st);else it.add(at);const ot=findReleasableNodes(tt,it);for(const at of ot)releaseNode(tt,rt,at)}function findReleasableNodes(tt,et){const nt=tt.getState(),rt=nt.currentTree,it=tt.getGraph(rt.version),ot=new Set,at=new Set;return st(et),ot;function st(lt){const ct=new Set,ft=getDownstreamNodesInTopologicalOrder(tt,rt,lt,ot,at);for(const pt of ft){var ut;if(getNode$3(pt).retainedBy==="recoilRoot"){at.add(pt);continue}if(((ut=nt.retention.referenceCounts.get(pt))!==null&&ut!==void 0?ut:0)>0){at.add(pt);continue}if(zonesThatCouldRetainNode(pt).some(mt=>nt.retention.referenceCounts.get(mt))){at.add(pt);continue}const gt=it.nodeToNodeSubscriptions.get(pt);if(gt&&Recoil_someSet(gt,mt=>at.has(mt))){at.add(pt);continue}ot.add(pt),ct.add(pt)}const dt=new Set;for(const pt of ct)for(const gt of(ht=it.nodeDeps.get(pt))!==null&&ht!==void 0?ht:emptySet$1){var ht;ot.has(gt)||dt.add(gt)}dt.size&&st(dt)}}function getDownstreamNodesInTopologicalOrder(tt,et,nt,rt,it){const ot=tt.getGraph(et.version),at=[],st=new Set;for(;nt.size>0;)lt(Recoil_nullthrows(nt.values().next().value));return at;function lt(ct){if(rt.has(ct)||it.has(ct)){nt.delete(ct);return}if(st.has(ct))return;const ft=ot.nodeToNodeSubscriptions.get(ct);if(ft)for(const ut of ft)lt(ut);st.add(ct),nt.delete(ct),at.push(ct)}}function releaseNode(tt,et,nt){if(!Recoil_gkx("recoil_memory_managament_2020"))return;cleanUpNode$1(tt,nt);const rt=tt.getState();rt.knownAtoms.delete(nt),rt.knownSelectors.delete(nt),rt.nodeTransactionSubscriptions.delete(nt),rt.retention.referenceCounts.delete(nt);const it=zonesThatCouldRetainNode(nt);for(const lt of it){var ot;(ot=rt.retention.nodesRetainedByZone.get(lt))===null||ot===void 0||ot.delete(nt)}et.atomValues.delete(nt),et.dirtyAtoms.delete(nt),et.nonvalidatedAtoms.delete(nt);const at=rt.graphsByVersion.get(et.version);if(at){const lt=at.nodeDeps.get(nt);if(lt!==void 0){at.nodeDeps.delete(nt);for(const ct of lt){var st;(st=at.nodeToNodeSubscriptions.get(ct))===null||st===void 0||st.delete(nt)}}at.nodeToNodeSubscriptions.delete(nt)}deleteNodeConfigIfPossible$1(nt)}function nodesRetainedByZone(tt,et){var nt;return(nt=tt.retention.nodesRetainedByZone.get(et))!==null&&nt!==void 0?nt:emptySet$1}function zonesThatCouldRetainNode(tt){const et=getNode$3(tt).retainedBy;return et===void 0||et==="components"||et==="recoilRoot"?[]:et instanceof RetentionZone$2?[et]:et}function scheduleOrPerformPossibleReleaseOfRetainable(tt,et){const nt=tt.getState();nt.nextTree?nt.retention.retainablesToCheckForRelease.add(et):releaseRetainablesNowOnCurrentTree(tt,new Set([et]))}function updateRetainCount(tt,et,nt){var rt;if(!Recoil_gkx("recoil_memory_managament_2020"))return;const it=tt.getState().retention.referenceCounts,ot=((rt=it.get(et))!==null&&rt!==void 0?rt:0)+nt;ot===0?updateRetainCountToZero(tt,et):it.set(et,ot)}function updateRetainCountToZero(tt,et){if(!Recoil_gkx("recoil_memory_managament_2020"))return;tt.getState().retention.referenceCounts.delete(et),scheduleOrPerformPossibleReleaseOfRetainable(tt,et)}function releaseScheduledRetainablesNow(tt){if(!Recoil_gkx("recoil_memory_managament_2020"))return;const et=tt.getState();releaseRetainablesNowOnCurrentTree(tt,et.retention.retainablesToCheckForRelease),et.retention.retainablesToCheckForRelease.clear()}function retainedByOptionWithDefault(tt){return tt===void 0?"recoilRoot":tt}var Recoil_Retention={SUSPENSE_TIMEOUT_MS,updateRetainCount,updateRetainCountToZero,releaseScheduledRetainablesNow,retainedByOptionWithDefault};const{unstable_batchedUpdates}=reactDom;var ReactBatchedUpdates={unstable_batchedUpdates};const{unstable_batchedUpdates:unstable_batchedUpdates$1}=ReactBatchedUpdates;var Recoil_ReactBatchedUpdates={unstable_batchedUpdates:unstable_batchedUpdates$1};const{batchStart:batchStart$1}=Recoil_RecoilValueInterface,{unstable_batchedUpdates:unstable_batchedUpdates$2}=Recoil_ReactBatchedUpdates;let batcher=unstable_batchedUpdates$2;const setBatcher=tt=>{batcher=tt},getBatcher=()=>batcher,batchUpdates=tt=>{batcher(()=>{let et=()=>{};try{et=batchStart$1(),tt()}finally{et()}})};var Recoil_Batching={getBatcher,setBatcher,batchUpdates};function*concatIterables(tt){for(const et of tt)for(const nt of et)yield nt}var Recoil_concatIterables=concatIterables;const isSSR=typeof Window=="undefined"||typeof window=="undefined",isWindow=tt=>!isSSR&&(tt===window||tt instanceof Window),isReactNative=typeof navigator!="undefined"&&navigator.product==="ReactNative";var Recoil_Environment={isSSR,isReactNative,isWindow};function memoizeWithArgsHash(tt,et){let nt;return(...it)=>{nt||(nt={});const ot=et(...it);return Object.hasOwnProperty.call(nt,ot)||(nt[ot]=tt(...it)),nt[ot]}}function memoizeOneWithArgsHash(tt,et){let nt,rt;return(...ot)=>{const at=et(...ot);return nt===at||(nt=at,rt=tt(...ot)),rt}}function memoizeOneWithArgsHashAndInvalidation(tt,et){let nt,rt;return[(...at)=>{const st=et(...at);return nt===st||(nt=st,rt=tt(...at)),rt},()=>{nt=null}]}var Recoil_Memoize={memoizeWithArgsHash,memoizeOneWithArgsHash,memoizeOneWithArgsHashAndInvalidation};const{batchUpdates:batchUpdates$1}=Recoil_Batching,{initializeNode:initializeNode$1,peekNodeInfo:peekNodeInfo$1}=Recoil_FunctionalCore,{graph:graph$1}=Recoil_Graph,{getNextStoreID:getNextStoreID$1}=Recoil_Keys,{DEFAULT_VALUE:DEFAULT_VALUE$1,recoilValues:recoilValues$1,recoilValuesForKeys:recoilValuesForKeys$2}=Recoil_Node,{AbstractRecoilValue:AbstractRecoilValue$2,getRecoilValueAsLoadable:getRecoilValueAsLoadable$1,setRecoilValue:setRecoilValue$1,setUnvalidatedRecoilValue:setUnvalidatedRecoilValue$1}=Recoil_RecoilValueInterface,{updateRetainCount:updateRetainCount$1}=Recoil_Retention,{setInvalidateMemoizedSnapshot:setInvalidateMemoizedSnapshot$1}=Recoil_SnapshotCache,{getNextTreeStateVersion:getNextTreeStateVersion$2,makeEmptyStoreState:makeEmptyStoreState$1}=Recoil_State,{isSSR:isSSR$1}=Recoil_Environment,{memoizeOneWithArgsHashAndInvalidation:memoizeOneWithArgsHashAndInvalidation$1}=Recoil_Memoize;class Snapshot{constructor(et){_defineProperty$3(this,"_store",void 0),_defineProperty$3(this,"_refCount",1),_defineProperty$3(this,"getLoadable",nt=>(this.checkRefCount_INTERNAL(),getRecoilValueAsLoadable$1(this._store,nt))),_defineProperty$3(this,"getPromise",nt=>(this.checkRefCount_INTERNAL(),this.getLoadable(nt).toPromise())),_defineProperty$3(this,"getNodes_UNSTABLE",nt=>{if(this.checkRefCount_INTERNAL(),(nt==null?void 0:nt.isModified)===!0){if((nt==null?void 0:nt.isInitialized)===!1)return[];const ot=this._store.getState().currentTree;return recoilValuesForKeys$2(ot.dirtyAtoms)}const rt=this._store.getState().knownAtoms,it=this._store.getState().knownSelectors;return(nt==null?void 0:nt.isInitialized)==null?recoilValues$1.values():nt.isInitialized===!0?recoilValuesForKeys$2(Recoil_concatIterables([rt,it])):Recoil_filterIterable(recoilValues$1.values(),({key:ot})=>!rt.has(ot)&&!it.has(ot))}),_defineProperty$3(this,"getInfo_UNSTABLE",({key:nt})=>(this.checkRefCount_INTERNAL(),peekNodeInfo$1(this._store,this._store.getState().currentTree,nt))),_defineProperty$3(this,"map",nt=>{this.checkRefCount_INTERNAL();const rt=new MutableSnapshot(this,batchUpdates$1);return nt(rt),rt}),_defineProperty$3(this,"asyncMap",async nt=>{this.checkRefCount_INTERNAL();const rt=new MutableSnapshot(this,batchUpdates$1);return rt.retain(),await nt(rt),rt.autoRelease_INTERNAL(),rt}),this._store={storeID:getNextStoreID$1(),getState:()=>et,replaceState:nt=>{et.currentTree=nt(et.currentTree)},getGraph:nt=>{const rt=et.graphsByVersion;if(rt.has(nt))return Recoil_nullthrows(rt.get(nt));const it=graph$1();return rt.set(nt,it),it},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Recoil_err("Cannot subscribe to Snapshots")}};for(const nt of this._store.getState().knownAtoms)initializeNode$1(this._store,nt,"get"),updateRetainCount$1(this._store,nt,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let et=!1;return()=>{et||(et=!0,this._release())}}autoRelease_INTERNAL(){isSSR$1||window.setTimeout(()=>this._release(),0)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(et=>et()),this._store.getState().nodeCleanupFunctions.clear(),!Recoil_gkx("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Recoil_gkx("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function cloneStoreState(tt,et,nt=!1){const rt=tt.getState(),it=nt?getNextTreeStateVersion$2():et.version;return{currentTree:{version:nt?it:et.version,stateID:nt?it:et.stateID,transactionMetadata:Wr({},et.transactionMetadata),dirtyAtoms:new Set(et.dirtyAtoms),atomValues:et.atomValues.clone(),nonvalidatedAtoms:et.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(rt.knownAtoms),knownSelectors:new Set(rt.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(it,tt.getGraph(et.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Recoil_mapIterable(rt.nodeCleanupFunctions.entries(),([ot])=>[ot,()=>{}]))}}function freshSnapshot(tt){const et=new Snapshot(makeEmptyStoreState$1());return tt!=null?et.map(tt):et}const[memoizedCloneSnapshot,invalidateMemoizedSnapshot$2]=memoizeOneWithArgsHashAndInvalidation$1((tt,et)=>{var nt;const rt=tt.getState(),it=et==="latest"?(nt=rt.nextTree)!==null&&nt!==void 0?nt:rt.currentTree:Recoil_nullthrows(rt.previousTree);return new Snapshot(cloneStoreState(tt,it))},(tt,et)=>{var nt,rt;return String(et)+String(tt.storeID)+String((nt=tt.getState().nextTree)===null||nt===void 0?void 0:nt.version)+String(tt.getState().currentTree.version)+String((rt=tt.getState().previousTree)===null||rt===void 0?void 0:rt.version)});setInvalidateMemoizedSnapshot$1(invalidateMemoizedSnapshot$2);function cloneSnapshot(tt,et="latest"){const nt=memoizedCloneSnapshot(tt,et);return nt.isRetained()?nt:(invalidateMemoizedSnapshot$2(),memoizedCloneSnapshot(tt,et))}class MutableSnapshot extends Snapshot{constructor(et,nt){super(cloneStoreState(et.getStore_INTERNAL(),et.getStore_INTERNAL().getState().currentTree,!0)),_defineProperty$3(this,"_batch",void 0),_defineProperty$3(this,"set",(rt,it)=>{this.checkRefCount_INTERNAL();const ot=this.getStore_INTERNAL();this._batch(()=>{updateRetainCount$1(ot,rt.key,1),setRecoilValue$1(this.getStore_INTERNAL(),rt,it)})}),_defineProperty$3(this,"reset",rt=>{this.checkRefCount_INTERNAL();const it=this.getStore_INTERNAL();this._batch(()=>{updateRetainCount$1(it,rt.key,1),setRecoilValue$1(this.getStore_INTERNAL(),rt,DEFAULT_VALUE$1)})}),_defineProperty$3(this,"setUnvalidatedAtomValues_DEPRECATED",rt=>{this.checkRefCount_INTERNAL();const it=this.getStore_INTERNAL();batchUpdates$1(()=>{for(const[ot,at]of rt.entries())updateRetainCount$1(it,ot,1),setUnvalidatedRecoilValue$1(it,new AbstractRecoilValue$2(ot),at)})}),this._batch=nt}}var Recoil_Snapshot={Snapshot,MutableSnapshot,freshSnapshot,cloneSnapshot},Recoil_Snapshot_1=Recoil_Snapshot.Snapshot,Recoil_Snapshot_2=Recoil_Snapshot.MutableSnapshot,Recoil_Snapshot_3=Recoil_Snapshot.freshSnapshot,Recoil_Snapshot_4=Recoil_Snapshot.cloneSnapshot,Recoil_Snapshot$1=Object.freeze({__proto__:null,Snapshot:Recoil_Snapshot_1,MutableSnapshot:Recoil_Snapshot_2,freshSnapshot:Recoil_Snapshot_3,cloneSnapshot:Recoil_Snapshot_4});function unionSets(...tt){const et=new Set;for(const nt of tt)for(const rt of nt)et.add(rt);return et}var Recoil_unionSets=unionSets;const{useRef}=React__default$2;function useRefInitOnce(tt){const et=useRef(tt);return et.current===tt&&typeof tt=="function"&&(et.current=tt()),et}var Recoil_useRefInitOnce=useRefInitOnce;const{getNextTreeStateVersion:getNextTreeStateVersion$3,makeEmptyStoreState:makeEmptyStoreState$2}=Recoil_State,{cleanUpNode:cleanUpNode$2,getDownstreamNodes:getDownstreamNodes$2,initializeNode:initializeNode$2,setNodeValue:setNodeValue$2,setUnvalidatedAtomValue_DEPRECATED:setUnvalidatedAtomValue_DEPRECATED$1}=Recoil_FunctionalCore,{graph:graph$2}=Recoil_Graph,{cloneGraph:cloneGraph$1}=Recoil_Graph,{getNextStoreID:getNextStoreID$2}=Recoil_Keys,{createMutableSource:createMutableSource$1,reactMode:reactMode$2}=Recoil_ReactMode,{applyAtomValueWrites:applyAtomValueWrites$1}=Recoil_RecoilValueInterface,{releaseScheduledRetainablesNow:releaseScheduledRetainablesNow$1}=Recoil_Retention,{freshSnapshot:freshSnapshot$1}=Recoil_Snapshot$1,{useCallback,useContext,useEffect,useMemo,useRef:useRef$1,useState}=React__default$2;function notInAContext(){throw Recoil_err("This component must be used inside a <RecoilRoot> component.")}const defaultStore=Object.freeze({storeID:getNextStoreID$2(),getState:notInAContext,replaceState:notInAContext,getGraph:notInAContext,subscribeToTransactions:notInAContext,addTransactionMetadata:notInAContext});let stateReplacerIsBeingExecuted=!1;function startNextTreeIfNeeded(tt){if(stateReplacerIsBeingExecuted)throw Recoil_err("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const et=tt.getState();if(et.nextTree===null){Recoil_gkx("recoil_memory_managament_2020")&&Recoil_gkx("recoil_release_on_cascading_update_killswitch_2021")&&et.commitDepth>0&&releaseScheduledRetainablesNow$1(tt);const nt=et.currentTree.version,rt=getNextTreeStateVersion$3();et.nextTree=to(Wr({},et.currentTree),{version:rt,stateID:rt,dirtyAtoms:new Set,transactionMetadata:{}}),et.graphsByVersion.set(rt,cloneGraph$1(Recoil_nullthrows(et.graphsByVersion.get(nt))))}}const AppContext=React__default$2.createContext({current:defaultStore}),useStoreRef=()=>useContext(AppContext),MutableSourceContext=React__default$2.createContext(null);function useRecoilMutableSource(){return useContext(MutableSourceContext)}function notifyComponents(tt,et,nt){const rt=getDownstreamNodes$2(tt,nt,nt.dirtyAtoms);for(const it of rt){const ot=et.nodeToComponentSubscriptions.get(it);if(ot)for(const[at,[st,lt]]of ot)lt(nt)}}function sendEndOfBatchNotifications(tt){const et=tt.getState(),nt=et.currentTree,rt=nt.dirtyAtoms;if(rt.size){for(const[it,ot]of et.nodeTransactionSubscriptions)if(rt.has(it))for(const[at,st]of ot)st(tt);for(const[it,ot]of et.transactionSubscriptions)ot(tt);(!reactMode$2().early||et.suspendedComponentResolvers.size>0)&&(notifyComponents(tt,et,nt),et.suspendedComponentResolvers.forEach(it=>it()),et.suspendedComponentResolvers.clear())}et.queuedComponentCallbacks_DEPRECATED.forEach(it=>it(nt)),et.queuedComponentCallbacks_DEPRECATED.splice(0,et.queuedComponentCallbacks_DEPRECATED.length)}function endBatch(tt){const et=tt.getState();et.commitDepth++;try{const{nextTree:nt}=et;if(nt==null)return;et.previousTree=et.currentTree,et.currentTree=nt,et.nextTree=null,sendEndOfBatchNotifications(tt),et.previousTree!=null?et.graphsByVersion.delete(et.previousTree.version):Recoil_recoverableViolation("Ended batch with no previous state, which is unexpected","recoil"),et.previousTree=null,Recoil_gkx("recoil_memory_managament_2020")&&nt==null&&releaseScheduledRetainablesNow$1(tt)}finally{et.commitDepth--}}function Batcher({setNotifyBatcherOfChange:tt}){const et=useStoreRef(),[,nt]=useState([]);return tt(()=>nt({})),useEffect(()=>(tt(()=>nt({})),()=>{tt(()=>{})}),[tt]),useEffect(()=>{Recoil_Queue.enqueueExecution("Batcher",()=>{endBatch(et.current)})}),null}function initialStoreState_DEPRECATED(tt,et){const nt=makeEmptyStoreState$2();return et({set:(rt,it)=>{const ot=nt.currentTree,at=setNodeValue$2(tt,ot,rt.key,it),st=new Set(at.keys()),lt=ot.nonvalidatedAtoms.clone();for(const ct of st)lt.delete(ct);nt.currentTree=to(Wr({},ot),{dirtyAtoms:Recoil_unionSets(ot.dirtyAtoms,st),atomValues:applyAtomValueWrites$1(ot.atomValues,at),nonvalidatedAtoms:lt})},setUnvalidatedAtomValues:rt=>{rt.forEach((it,ot)=>{nt.currentTree=setUnvalidatedAtomValue_DEPRECATED$1(nt.currentTree,ot,it)})}}),nt}function initialStoreState(tt){const et=freshSnapshot$1().map(tt),nt=et.getStore_INTERNAL().getState();return et.retain(),nt.nodeCleanupFunctions.forEach(rt=>rt()),nt.nodeCleanupFunctions.clear(),nt}let nextID=0;function RecoilRoot_INTERNAL({initializeState_DEPRECATED:tt,initializeState:et,store_INTERNAL:nt,children:rt}){let it;const ot=ht=>{const pt=it.current.graphsByVersion;if(pt.has(ht))return Recoil_nullthrows(pt.get(ht));const gt=graph$2();return pt.set(ht,gt),gt},at=(ht,pt)=>{if(pt==null){const{transactionSubscriptions:gt}=ut.current.getState(),mt=nextID++;return gt.set(mt,ht),{release:()=>{gt.delete(mt)}}}else{const{nodeTransactionSubscriptions:gt}=ut.current.getState();gt.has(pt)||gt.set(pt,new Map);const mt=nextID++;return Recoil_nullthrows(gt.get(pt)).set(mt,ht),{release:()=>{const yt=gt.get(pt);yt&&(yt.delete(mt),yt.size===0&&gt.delete(pt))}}}},st=ht=>{startNextTreeIfNeeded(ut.current);for(const pt of Object.keys(ht))Recoil_nullthrows(ut.current.getState().nextTree).transactionMetadata[pt]=ht[pt]},lt=ht=>{startNextTreeIfNeeded(ut.current);const pt=Recoil_nullthrows(it.current.nextTree);let gt;try{stateReplacerIsBeingExecuted=!0,gt=ht(pt)}finally{stateReplacerIsBeingExecuted=!1}gt!==pt&&(it.current.nextTree=gt,reactMode$2().early&&notifyComponents(ut.current,it.current,gt),Recoil_nullthrows(ct.current)())},ct=useRef$1(null),ft=useCallback(ht=>{ct.current=ht},[ct]),ut=Recoil_useRefInitOnce(()=>nt!=null?nt:{storeID:getNextStoreID$2(),getState:()=>it.current,replaceState:lt,getGraph:ot,subscribeToTransactions:at,addTransactionMetadata:st});nt!=null&&(ut.current=nt),it=Recoil_useRefInitOnce(()=>tt!=null?initialStoreState_DEPRECATED(ut.current,tt):et!=null?initialStoreState(et):makeEmptyStoreState$2());const dt=useMemo(()=>createMutableSource$1==null?void 0:createMutableSource$1(it,()=>it.current.currentTree.version),[it]);return useEffect(()=>{const ht=ut.current;for(const pt of new Set(ht.getState().knownAtoms))initializeNode$2(ht,pt,"get");return()=>{for(const pt of ht.getState().knownAtoms)cleanUpNode$2(ht,pt)}},[ut]),React__default$2.createElement(AppContext.Provider,{value:ut},React__default$2.createElement(MutableSourceContext.Provider,{value:dt},React__default$2.createElement(Batcher,{setNotifyBatcherOfChange:ft}),rt))}function RecoilRoot(tt){const it=tt,{override:et}=it,nt=mo(it,["override"]),rt=useStoreRef();return et===!1&&rt.current!==defaultStore?tt.children:React__default$2.createElement(RecoilRoot_INTERNAL,nt)}function useRecoilStoreID(){return useStoreRef().current.storeID}var Recoil_RecoilRoot={RecoilRoot,useStoreRef,useRecoilMutableSource,useRecoilStoreID,notifyComponents_FOR_TESTING:notifyComponents,sendEndOfBatchNotifications_FOR_TESTING:sendEndOfBatchNotifications};function shallowArrayEqual(tt,et){if(tt===et)return!0;if(tt.length!==et.length)return!1;for(let nt=0,rt=tt.length;nt<rt;nt++)if(tt[nt]!==et[nt])return!1;return!0}var Recoil_shallowArrayEqual=shallowArrayEqual;const{useEffect:useEffect$1,useRef:useRef$2}=React__default$2;function usePrevious(tt){const et=useRef$2();return useEffect$1(()=>{et.current=tt}),et.current}var Recoil_usePrevious=usePrevious;const{useStoreRef:useStoreRef$1}=Recoil_RecoilRoot,{SUSPENSE_TIMEOUT_MS:SUSPENSE_TIMEOUT_MS$1}=Recoil_Retention,{updateRetainCount:updateRetainCount$2}=Recoil_Retention,{RetentionZone:RetentionZone$3}=Recoil_RetentionZone,{useEffect:useEffect$2,useRef:useRef$3}=React__default$2,{isSSR:isSSR$2}=Recoil_Environment;function useRetain(tt){if(!!Recoil_gkx("recoil_memory_managament_2020"))return useRetain_ACTUAL(tt)}function useRetain_ACTUAL(tt){const nt=(Array.isArray(tt)?tt:[tt]).map(at=>at instanceof RetentionZone$3?at:at.key),rt=useStoreRef$1();useEffect$2(()=>{if(!Recoil_gkx("recoil_memory_managament_2020"))return;const at=rt.current;if(it.current&&!isSSR$2)window.clearTimeout(it.current),it.current=null;else for(const st of nt)updateRetainCount$2(at,st,1);return()=>{for(const st of nt)updateRetainCount$2(at,st,-1)}},[rt,...nt]);const it=useRef$3(),ot=Recoil_usePrevious(nt);if(!isSSR$2&&(ot===void 0||!Recoil_shallowArrayEqual(ot,nt))){const at=rt.current;for(const st of nt)updateRetainCount$2(at,st,1);if(ot)for(const st of ot)updateRetainCount$2(at,st,-1);it.current&&window.clearTimeout(it.current),it.current=window.setTimeout(()=>{it.current=null;for(const st of nt)updateRetainCount$2(at,st,-1)},SUSPENSE_TIMEOUT_MS$1)}}var Recoil_useRetain=useRetain;function useComponentName(){return"<component name not available>"}var Recoil_useComponentName=useComponentName;const{batchUpdates:batchUpdates$2}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$2}=Recoil_Node,{reactMode:reactMode$3,useMutableSource:useMutableSource$1,useSyncExternalStore:useSyncExternalStore$1}=Recoil_ReactMode,{useRecoilMutableSource:useRecoilMutableSource$1,useStoreRef:useStoreRef$2}=Recoil_RecoilRoot,{AbstractRecoilValue:AbstractRecoilValue$3,getRecoilValueAsLoadable:getRecoilValueAsLoadable$2,setRecoilValue:setRecoilValue$2,setUnvalidatedRecoilValue:setUnvalidatedRecoilValue$2,subscribeToRecoilValue:subscribeToRecoilValue$1}=Recoil_RecoilValueInterface,{useCallback:useCallback$1,useEffect:useEffect$3,useMemo:useMemo$1,useRef:useRef$4,useState:useState$1}=React__default$2,{setByAddingToSet:setByAddingToSet$2}=Recoil_CopyOnWrite;function handleLoadable(tt,et,nt){if(tt.state==="hasValue")return tt.contents;throw tt.state==="loading"?new Promise(it=>{nt.current.getState().suspendedComponentResolvers.add(it)}):tt.state==="hasError"?tt.contents:Recoil_err(`Invalid value of loadable atom "${et.key}"`)}function useRecoilInterface_DEPRECATED(){const tt=Recoil_useComponentName(),et=useStoreRef$2(),[,nt]=useState$1([]),rt=useRef$4(new Set);rt.current=new Set;const it=useRef$4(new Set),ot=useRef$4(new Map),at=useCallback$1(lt=>{const ct=ot.current.get(lt);ct&&(ct.release(),ot.current.delete(lt))},[ot]),st=useCallback$1((lt,ct)=>{ot.current.has(ct)&&nt([])},[]);return useEffect$3(()=>{const lt=et.current;Recoil_differenceSets(rt.current,it.current).forEach(ct=>{if(ot.current.has(ct))return;const ft=subscribeToRecoilValue$1(lt,new AbstractRecoilValue$3(ct),dt=>st(dt,ct),tt);ot.current.set(ct,ft),lt.getState().nextTree?lt.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{st(lt.getState(),ct)}):st(lt.getState(),ct)}),Recoil_differenceSets(it.current,rt.current).forEach(ct=>{at(ct)}),it.current=rt.current}),useEffect$3(()=>{const lt=ot.current;return Recoil_differenceSets(rt.current,new Set(lt.keys())).forEach(ct=>{const ft=subscribeToRecoilValue$1(et.current,new AbstractRecoilValue$3(ct),ut=>st(ut,ct),tt);lt.set(ct,ft)}),()=>lt.forEach((ct,ft)=>at(ft))},[tt,et,at,st]),useMemo$1(()=>{function lt(pt){return gt=>{setRecoilValue$2(et.current,pt,gt)}}function ct(pt){return()=>setRecoilValue$2(et.current,pt,DEFAULT_VALUE$2)}function ft(pt){var gt;rt.current.has(pt.key)||(rt.current=setByAddingToSet$2(rt.current,pt.key));const mt=et.current.getState();return getRecoilValueAsLoadable$2(et.current,pt,reactMode$3().early&&(gt=mt.nextTree)!==null&&gt!==void 0?gt:mt.currentTree)}function ut(pt){const gt=ft(pt);return handleLoadable(gt,pt,et)}function dt(pt){return[ut(pt),lt(pt)]}function ht(pt){return[ft(pt),lt(pt)]}return{getRecoilValue:ut,getRecoilValueLoadable:ft,getRecoilState:dt,getRecoilStateLoadable:ht,getSetRecoilState:lt,getResetRecoilState:ct}},[rt,et])}const recoilComponentGetRecoilValueCount_FOR_TESTING={current:0};function useRecoilValueLoadable_SYNC_EXTERNAL_STORE(tt){const et=useStoreRef$2(),nt=Recoil_useComponentName(),rt=useCallback$1(()=>{var st;const lt=et.current,ct=lt.getState(),ft=reactMode$3().early&&(st=ct.nextTree)!==null&&st!==void 0?st:ct.currentTree;return{loadable:getRecoilValueAsLoadable$2(lt,tt,ft),key:tt.key}},[et,tt]),it=useCallback$1(st=>{let lt;return()=>{var ct,ft;const ut=st();return(ct=lt)!==null&&ct!==void 0&&ct.loadable.is(ut.loadable)&&((ft=lt)===null||ft===void 0?void 0:ft.key)===ut.key?lt:(lt=ut,ut)}},[]),ot=useMemo$1(()=>it(rt),[rt,it]),at=useCallback$1(st=>{const lt=et.current;return subscribeToRecoilValue$1(lt,tt,st,nt).release},[et,tt,nt]);return useSyncExternalStore$1(at,ot,ot).loadable}function useRecoilValueLoadable_MUTABLE_SOURCE(tt){const et=useStoreRef$2(),nt=useCallback$1(()=>{var ct;const ft=et.current,ut=ft.getState(),dt=reactMode$3().early&&(ct=ut.nextTree)!==null&&ct!==void 0?ct:ut.currentTree;return getRecoilValueAsLoadable$2(ft,tt,dt)},[et,tt]),rt=useCallback$1(()=>nt(),[nt]),it=Recoil_useComponentName(),ot=useCallback$1((ct,ft)=>{const ut=et.current;return subscribeToRecoilValue$1(ut,tt,()=>{if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return ft();const ht=nt();lt.current.is(ht)||ft(),lt.current=ht},it).release},[et,tt,it,nt]),at=useRecoilMutableSource$1();if(at==null)throw Recoil_err("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const st=useMutableSource$1(at,rt,ot),lt=useRef$4(st);return useEffect$3(()=>{lt.current=st}),st}function useRecoilValueLoadable_TRANSITION_SUPPORT(tt){const et=useStoreRef$2(),nt=Recoil_useComponentName(),rt=useCallback$1(()=>{var lt;const ct=et.current,ft=ct.getState(),ut=reactMode$3().early&&(lt=ft.nextTree)!==null&&lt!==void 0?lt:ft.currentTree;return getRecoilValueAsLoadable$2(ct,tt,ut)},[et,tt]),it=useCallback$1(()=>({loadable:rt(),key:tt.key}),[rt,tt.key]),ot=useCallback$1(lt=>{const ct=it();return lt.loadable.is(ct.loadable)&&lt.key===ct.key?lt:ct},[it]);useEffect$3(()=>{const lt=subscribeToRecoilValue$1(et.current,tt,ct=>{st(ot)},nt);return st(ot),lt.release},[nt,tt,et,ot]);const[at,st]=useState$1(it);return at.key!==tt.key?it().loadable:at.loadable}function useRecoilValueLoadable_LEGACY(tt){const et=useStoreRef$2(),[,nt]=useState$1([]),rt=Recoil_useComponentName(),it=useCallback$1(()=>{var st;const lt=et.current,ct=lt.getState(),ft=reactMode$3().early&&(st=ct.nextTree)!==null&&st!==void 0?st:ct.currentTree;return getRecoilValueAsLoadable$2(lt,tt,ft)},[et,tt]),ot=it(),at=useRef$4(ot);return useEffect$3(()=>{at.current=ot}),useEffect$3(()=>{const st=et.current,lt=st.getState(),ct=subscribeToRecoilValue$1(st,tt,ut=>{var dt;if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return nt([]);const ht=it();(dt=at.current)!==null&&dt!==void 0&&dt.is(ht)||nt(ht),at.current=ht},rt);if(lt.nextTree)st.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{at.current=null,nt([])});else{var ft;if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return nt([]);const ut=it();(ft=at.current)!==null&&ft!==void 0&&ft.is(ut)||nt(ut),at.current=ut}return ct.release},[rt,it,tt,et]),ot}function useRecoilValueLoadable(tt){return Recoil_gkx("recoil_memory_managament_2020")&&Recoil_useRetain(tt),{TRANSITION_SUPPORT:useRecoilValueLoadable_TRANSITION_SUPPORT,SYNC_EXTERNAL_STORE:useRecoilValueLoadable_SYNC_EXTERNAL_STORE,MUTABLE_SOURCE:useRecoilValueLoadable_MUTABLE_SOURCE,LEGACY:useRecoilValueLoadable_LEGACY}[reactMode$3().mode](tt)}function useRecoilValue(tt){const et=useStoreRef$2(),nt=useRecoilValueLoadable(tt);return handleLoadable(nt,tt,et)}function useSetRecoilState(tt){const et=useStoreRef$2();return useCallback$1(nt=>{setRecoilValue$2(et.current,tt,nt)},[et,tt])}function useResetRecoilState(tt){const et=useStoreRef$2();return useCallback$1(()=>{setRecoilValue$2(et.current,tt,DEFAULT_VALUE$2)},[et,tt])}function useRecoilState(tt){return[useRecoilValue(tt),useSetRecoilState(tt)]}function useRecoilStateLoadable(tt){return[useRecoilValueLoadable(tt),useSetRecoilState(tt)]}function useSetUnvalidatedAtomValues(){const tt=useStoreRef$2();return(et,nt={})=>{batchUpdates$2(()=>{tt.current.addTransactionMetadata(nt),et.forEach((rt,it)=>setUnvalidatedRecoilValue$2(tt.current,new AbstractRecoilValue$3(it),rt))})}}function useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE(tt){return Recoil_gkx("recoil_memory_managament_2020")&&Recoil_useRetain(tt),useRecoilValueLoadable_TRANSITION_SUPPORT(tt)}function useRecoilValue_TRANSITION_SUPPORT_UNSTABLE(tt){const et=useStoreRef$2(),nt=useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE(tt);return handleLoadable(nt,tt,et)}function useRecoilState_TRANSITION_SUPPORT_UNSTABLE(tt){return[useRecoilValue_TRANSITION_SUPPORT_UNSTABLE(tt),useSetRecoilState(tt)]}var Recoil_Hooks={recoilComponentGetRecoilValueCount_FOR_TESTING,useRecoilInterface:useRecoilInterface_DEPRECATED,useRecoilState,useRecoilStateLoadable,useRecoilValue,useRecoilValueLoadable,useResetRecoilState,useSetRecoilState,useSetUnvalidatedAtomValues,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,useRecoilState_TRANSITION_SUPPORT_UNSTABLE};function filterMap(tt,et){const nt=new Map;for(const[rt,it]of tt)et(it,rt)&&nt.set(rt,it);return nt}var Recoil_filterMap=filterMap;function filterSet(tt,et){const nt=new Set;for(const rt of tt)et(rt)&&nt.add(rt);return nt}var Recoil_filterSet=filterSet;function mergeMaps(...tt){const et=new Map;for(let nt=0;nt<tt.length;nt++){const rt=tt[nt].keys();let it;for(;!(it=rt.next()).done;)et.set(it.value,tt[nt].get(it.value))}return et}var Recoil_mergeMaps=mergeMaps;const{batchUpdates:batchUpdates$3}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$3,getNode:getNode$4,nodes:nodes$1}=Recoil_Node,{useStoreRef:useStoreRef$3}=Recoil_RecoilRoot,{AbstractRecoilValue:AbstractRecoilValue$4,setRecoilValueLoadable:setRecoilValueLoadable$1}=Recoil_RecoilValueInterface,{SUSPENSE_TIMEOUT_MS:SUSPENSE_TIMEOUT_MS$2}=Recoil_Retention,{cloneSnapshot:cloneSnapshot$1}=Recoil_Snapshot$1,{useCallback:useCallback$2,useEffect:useEffect$4,useRef:useRef$5,useState:useState$2}=React__default$2,{isSSR:isSSR$3}=Recoil_Environment;function useTransactionSubscription(tt){const et=useStoreRef$3();useEffect$4(()=>et.current.subscribeToTransactions(tt).release,[tt,et])}function externallyVisibleAtomValuesInState(tt){const et=tt.atomValues.toMap(),nt=Recoil_mapMap(Recoil_filterMap(et,(rt,it)=>{const at=getNode$4(it).persistence_UNSTABLE;return at!=null&&at.type!=="none"&&rt.state==="hasValue"}),rt=>rt.contents);return Recoil_mergeMaps(tt.nonvalidatedAtoms.toMap(),nt)}function useTransactionObservation_DEPRECATED(tt){useTransactionSubscription(useCallback$2(et=>{let nt=et.getState().previousTree;const rt=et.getState().currentTree;nt||(nt=et.getState().currentTree);const it=externallyVisibleAtomValuesInState(rt),ot=externallyVisibleAtomValuesInState(nt),at=Recoil_mapMap(nodes$1,lt=>{var ct,ft,ut,dt;return{persistence_UNSTABLE:{type:(ct=(ft=lt.persistence_UNSTABLE)===null||ft===void 0?void 0:ft.type)!==null&&ct!==void 0?ct:"none",backButton:(ut=(dt=lt.persistence_UNSTABLE)===null||dt===void 0?void 0:dt.backButton)!==null&&ut!==void 0?ut:!1}}}),st=Recoil_filterSet(rt.dirtyAtoms,lt=>it.has(lt)||ot.has(lt));tt({atomValues:it,previousAtomValues:ot,atomInfo:at,modifiedAtoms:st,transactionMetadata:Wr({},rt.transactionMetadata)})},[tt]))}function useRecoilTransactionObserver(tt){useTransactionSubscription(useCallback$2(et=>{const nt=cloneSnapshot$1(et,"latest"),rt=cloneSnapshot$1(et,"previous");tt({snapshot:nt,previousSnapshot:rt})},[tt]))}function useRecoilSnapshot(){const tt=useStoreRef$3(),[et,nt]=useState$2(()=>cloneSnapshot$1(tt.current)),rt=Recoil_usePrevious(et),it=useRef$5(),ot=useRef$5();if(useTransactionSubscription(useCallback$2(st=>nt(cloneSnapshot$1(st)),[])),useEffect$4(()=>{const st=et.retain();if(it.current&&!isSSR$3){var lt;window.clearTimeout(it.current),it.current=null,(lt=ot.current)===null||lt===void 0||lt.call(ot),ot.current=null}return st},[et]),rt!==et&&!isSSR$3){if(it.current){var at;window.clearTimeout(it.current),it.current=null,(at=ot.current)===null||at===void 0||at.call(ot),ot.current=null}ot.current=et.retain(),it.current=window.setTimeout(()=>{var st;it.current=null,(st=ot.current)===null||st===void 0||st.call(ot),ot.current=null},SUSPENSE_TIMEOUT_MS$2)}return et}function gotoSnapshot(tt,et){var nt;const rt=tt.getState(),it=(nt=rt.nextTree)!==null&&nt!==void 0?nt:rt.currentTree,ot=et.getStore_INTERNAL().getState().currentTree;batchUpdates$3(()=>{const at=new Set;for(const ct of[it.atomValues.keys(),ot.atomValues.keys()])for(const ft of ct){var st,lt;((st=it.atomValues.get(ft))===null||st===void 0?void 0:st.contents)!==((lt=ot.atomValues.get(ft))===null||lt===void 0?void 0:lt.contents)&&getNode$4(ft).shouldRestoreFromSnapshots&&at.add(ft)}at.forEach(ct=>{setRecoilValueLoadable$1(tt,new AbstractRecoilValue$4(ct),ot.atomValues.has(ct)?Recoil_nullthrows(ot.atomValues.get(ct)):DEFAULT_VALUE$3)}),tt.replaceState(ct=>to(Wr({},ct),{stateID:et.getID()}))})}function useGotoRecoilSnapshot(){const tt=useStoreRef$3();return useCallback$2(et=>gotoSnapshot(tt.current,et),[tt])}var Recoil_SnapshotHooks={useRecoilSnapshot,gotoSnapshot,useGotoRecoilSnapshot,useRecoilTransactionObserver,useTransactionObservation_DEPRECATED,useTransactionSubscription_DEPRECATED:useTransactionSubscription};const{peekNodeInfo:peekNodeInfo$2}=Recoil_FunctionalCore,{useStoreRef:useStoreRef$4}=Recoil_RecoilRoot;function useGetRecoilValueInfo(){const tt=useStoreRef$4();return({key:et})=>peekNodeInfo$2(tt.current,tt.current.getState().currentTree,et)}var Recoil_useGetRecoilValueInfo=useGetRecoilValueInfo;const{reactMode:reactMode$4}=Recoil_ReactMode,{RecoilRoot:RecoilRoot$1,useStoreRef:useStoreRef$5}=Recoil_RecoilRoot,{useMemo:useMemo$2}=React__default$2;function useRecoilBridgeAcrossReactRoots(){reactMode$4().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const tt=useStoreRef$5().current;return useMemo$2(()=>{function et({children:nt}){return React__default$2.createElement(RecoilRoot$1,{store_INTERNAL:tt},nt)}return et},[tt])}var Recoil_useRecoilBridgeAcrossReactRoots=useRecoilBridgeAcrossReactRoots;const{loadableWithValue:loadableWithValue$1}=Recoil_Loadable$1,{initializeNode:initializeNode$3}=Recoil_FunctionalCore,{DEFAULT_VALUE:DEFAULT_VALUE$4,getNode:getNode$5}=Recoil_Node,{copyTreeState:copyTreeState$1,getRecoilValueAsLoadable:getRecoilValueAsLoadable$3,invalidateDownstreams:invalidateDownstreams$1,writeLoadableToTreeState:writeLoadableToTreeState$1}=Recoil_RecoilValueInterface;function isAtom(tt){return getNode$5(tt.key).nodeType==="atom"}class TransactionInterfaceImpl{constructor(et,nt){_defineProperty$3(this,"_store",void 0),_defineProperty$3(this,"_treeState",void 0),_defineProperty$3(this,"_changes",void 0),_defineProperty$3(this,"get",rt=>{if(this._changes.has(rt.key))return this._changes.get(rt.key);if(!isAtom(rt))throw Recoil_err("Reading selectors within atomicUpdate is not supported");const it=getRecoilValueAsLoadable$3(this._store,rt,this._treeState);if(it.state==="hasValue")return it.contents;throw it.state==="hasError"?it.contents:Recoil_err(`Expected Recoil atom ${rt.key} to have a value, but it is in a loading state.`)}),_defineProperty$3(this,"set",(rt,it)=>{if(!isAtom(rt))throw Recoil_err("Setting selectors within atomicUpdate is not supported");if(typeof it=="function"){const ot=this.get(rt);this._changes.set(rt.key,it(ot))}else initializeNode$3(this._store,rt.key,"set"),this._changes.set(rt.key,it)}),_defineProperty$3(this,"reset",rt=>{this.set(rt,DEFAULT_VALUE$4)}),this._store=et,this._treeState=nt,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const et=copyTreeState$1(this._treeState);for(const[nt,rt]of this._changes)writeLoadableToTreeState$1(et,nt,loadableWithValue$1(rt));return invalidateDownstreams$1(this._store,et),et}}function atomicUpdater(tt){return et=>{tt.replaceState(nt=>{const rt=new TransactionInterfaceImpl(tt,nt);return et(rt),rt.newTreeState_INTERNAL()})}}var Recoil_AtomicUpdates={atomicUpdater},Recoil_AtomicUpdates_1=Recoil_AtomicUpdates.atomicUpdater,Recoil_AtomicUpdates$1=Object.freeze({__proto__:null,atomicUpdater:Recoil_AtomicUpdates_1});function invariant(tt,et){if(!tt)throw new Error(et)}var invariant_1=invariant,Recoil_invariant=invariant_1;const{atomicUpdater:atomicUpdater$1}=Recoil_AtomicUpdates$1,{batchUpdates:batchUpdates$4}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$5}=Recoil_Node,{useStoreRef:useStoreRef$6}=Recoil_RecoilRoot,{refreshRecoilValue:refreshRecoilValue$1,setRecoilValue:setRecoilValue$3}=Recoil_RecoilValueInterface,{cloneSnapshot:cloneSnapshot$2}=Recoil_Snapshot$1,{gotoSnapshot:gotoSnapshot$1}=Recoil_SnapshotHooks,{useCallback:useCallback$3}=React__default$2;class Sentinel{}const SENTINEL=new Sentinel;function recoilCallback(tt,et,nt,rt){let it=SENTINEL,ot;if(batchUpdates$4(()=>{const st="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof et!="function")throw Recoil_err(st);const lt=Recoil_lazyProxy(to(Wr({},rt!=null?rt:{}),{set:(ft,ut)=>setRecoilValue$3(tt,ft,ut),reset:ft=>setRecoilValue$3(tt,ft,DEFAULT_VALUE$5),refresh:ft=>refreshRecoilValue$1(tt,ft),gotoSnapshot:ft=>gotoSnapshot$1(tt,ft),transact_UNSTABLE:ft=>atomicUpdater$1(tt)(ft)}),{snapshot:()=>{const ft=cloneSnapshot$2(tt);return ot=ft.retain(),ft}}),ct=et(lt);if(typeof ct!="function")throw Recoil_err(st);it=ct(...nt)}),it instanceof Sentinel&&Recoil_invariant(!1),Recoil_isPromise(it))it.finally(()=>{var st;(st=ot)===null||st===void 0||st()});else{var at;(at=ot)===null||at===void 0||at()}return it}function useRecoilCallback(tt,et){const nt=useStoreRef$6();return useCallback$3((...rt)=>recoilCallback(nt.current,tt,rt),et!=null?[...et,nt]:void 0)}var Recoil_useRecoilCallback={recoilCallback,useRecoilCallback};const{useStoreRef:useStoreRef$7}=Recoil_RecoilRoot,{refreshRecoilValue:refreshRecoilValue$2}=Recoil_RecoilValueInterface,{useCallback:useCallback$4}=React__default$2;function useRecoilRefresher(tt){const et=useStoreRef$7();return useCallback$4(()=>{const nt=et.current;refreshRecoilValue$2(nt,tt)},[tt,et])}var Recoil_useRecoilRefresher=useRecoilRefresher;const{atomicUpdater:atomicUpdater$2}=Recoil_AtomicUpdates$1,{useStoreRef:useStoreRef$8}=Recoil_RecoilRoot,{useMemo:useMemo$3}=React__default$2;function useRecoilTransaction(tt,et){const nt=useStoreRef$8();return useMemo$3(()=>(...rt)=>{atomicUpdater$2(nt.current)(ot=>{tt(ot)(...rt)})},et!=null?[...et,nt]:void 0)}var Recoil_useRecoilTransaction=useRecoilTransaction;class WrappedValue{constructor(et){_defineProperty$3(this,"value",void 0),this.value=et}}var Recoil_Wrapper={WrappedValue},Recoil_Wrapper_1=Recoil_Wrapper.WrappedValue,Recoil_Wrapper$1=Object.freeze({__proto__:null,WrappedValue:Recoil_Wrapper_1});const{isFastRefreshEnabled:isFastRefreshEnabled$2}=Recoil_ReactMode;class ChangedPathError extends Error{}class TreeCache{constructor(et){var nt,rt,it;_defineProperty$3(this,"_name",void 0),_defineProperty$3(this,"_numLeafs",void 0),_defineProperty$3(this,"_root",void 0),_defineProperty$3(this,"_onHit",void 0),_defineProperty$3(this,"_onSet",void 0),_defineProperty$3(this,"_mapNodeValue",void 0),this._name=et==null?void 0:et.name,this._numLeafs=0,this._root=null,this._onHit=(nt=et==null?void 0:et.onHit)!==null&&nt!==void 0?nt:()=>{},this._onSet=(rt=et==null?void 0:et.onSet)!==null&&rt!==void 0?rt:()=>{},this._mapNodeValue=(it=et==null?void 0:et.mapNodeValue)!==null&&it!==void 0?it:ot=>ot}size(){return this._numLeafs}root(){return this._root}get(et,nt){var rt;return(rt=this.getLeafNode(et,nt))===null||rt===void 0?void 0:rt.value}getLeafNode(et,nt){if(this._root==null)return;let rt=this._root;for(;rt;){if(nt==null||nt.onNodeVisit(rt),rt.type==="leaf")return this._onHit(rt),rt;const it=this._mapNodeValue(et(rt.nodeKey));rt=rt.branches.get(it)}}set(et,nt,rt){const it=()=>{var ot,at,st,lt;let ct,ft;for(const[mt,yt]of et){var ut,dt,ht;const bt=this._root;if((bt==null?void 0:bt.type)==="leaf")throw this.invalidCacheError();const St=ct;if(ct=St?St.branches.get(ft):bt,ct=(ut=ct)!==null&&ut!==void 0?ut:{type:"branch",nodeKey:mt,parent:St,branches:new Map,branchKey:ft},ct.type!=="branch"||ct.nodeKey!==mt)throw this.invalidCacheError();St==null||St.branches.set(ft,ct),rt==null||(dt=rt.onNodeVisit)===null||dt===void 0||dt.call(rt,ct),ft=this._mapNodeValue(yt),this._root=(ht=this._root)!==null&&ht!==void 0?ht:ct}const pt=ct?(ot=ct)===null||ot===void 0?void 0:ot.branches.get(ft):this._root;if(pt!=null&&(pt.type!=="leaf"||pt.branchKey!==ft))throw this.invalidCacheError();const gt={type:"leaf",value:nt,parent:ct,branchKey:ft};(at=ct)===null||at===void 0||at.branches.set(ft,gt),this._root=(st=this._root)!==null&&st!==void 0?st:gt,this._numLeafs++,this._onSet(gt),rt==null||(lt=rt.onNodeVisit)===null||lt===void 0||lt.call(rt,gt)};try{it()}catch(ot){if(ot instanceof ChangedPathError)this.clear(),it();else throw ot}}delete(et){const nt=this.root();if(!nt)return!1;if(et===nt)return this._root=null,this._numLeafs=0,!0;let rt=et.parent,it=et.branchKey;for(;rt;){var ot;if(rt.branches.delete(it),rt===nt)return rt.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(rt.branches.size>0)break;it=(ot=rt)===null||ot===void 0?void 0:ot.branchKey,rt=rt.parent}for(;rt!==nt;rt=rt.parent)if(rt==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const et=isFastRefreshEnabled$2()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Recoil_recoverableViolation(et+(this._name!=null?` - ${this._name}`:"")),new ChangedPathError}}var Recoil_TreeCache={TreeCache},Recoil_TreeCache_1=Recoil_TreeCache.TreeCache,Recoil_TreeCache$1=Object.freeze({__proto__:null,TreeCache:Recoil_TreeCache_1});class LRUCache{constructor(et){var nt;_defineProperty$3(this,"_maxSize",void 0),_defineProperty$3(this,"_size",void 0),_defineProperty$3(this,"_head",void 0),_defineProperty$3(this,"_tail",void 0),_defineProperty$3(this,"_map",void 0),_defineProperty$3(this,"_keyMapper",void 0),this._maxSize=et.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(nt=et.mapKey)!==null&&nt!==void 0?nt:rt=>rt}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(et){return this._map.has(this._keyMapper(et))}get(et){const nt=this._keyMapper(et),rt=this._map.get(nt);if(!!rt)return this.set(et,rt.value),rt.value}set(et,nt){const rt=this._keyMapper(et);this._map.get(rt)&&this.delete(et);const ot=this.head(),at={key:et,right:ot,left:null,value:nt};ot?ot.left=at:this._tail=at,this._map.set(rt,at),this._head=at,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const et=this.tail();et&&this.delete(et.key)}delete(et){const nt=this._keyMapper(et);if(!this._size||!this._map.has(nt))return;const rt=Recoil_nullthrows(this._map.get(nt)),it=rt.right,ot=rt.left;it&&(it.left=rt.left),ot&&(ot.right=rt.right),rt===this.head()&&(this._head=it),rt===this.tail()&&(this._tail=ot),this._map.delete(nt),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var Recoil_LRUCache={LRUCache},Recoil_LRUCache_1=Recoil_LRUCache.LRUCache,Recoil_LRUCache$1=Object.freeze({__proto__:null,LRUCache:Recoil_LRUCache_1});const{LRUCache:LRUCache$1}=Recoil_LRUCache$1,{TreeCache:TreeCache$1}=Recoil_TreeCache$1;function treeCacheLRU({name:tt,maxSize:et,mapNodeValue:nt=rt=>rt}){const rt=new LRUCache$1({maxSize:et}),it=new TreeCache$1({name:tt,mapNodeValue:nt,onHit:ot=>{rt.set(ot,!0)},onSet:ot=>{const at=rt.tail();rt.set(ot,!0),at&&it.size()>et&&it.delete(at.key)}});return it}var Recoil_treeCacheLRU=treeCacheLRU;function stringify$1(tt,et,nt){if(typeof tt=="string"&&!tt.includes('"')&&!tt.includes("\\"))return`"${tt}"`;switch(typeof tt){case"undefined":return"";case"boolean":return tt?"true":"false";case"number":case"symbol":return String(tt);case"string":return JSON.stringify(tt);case"function":if((et==null?void 0:et.allowFunctions)!==!0)throw Recoil_err("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${tt.name})__`}if(tt===null)return"null";if(typeof tt!="object"){var rt;return(rt=JSON.stringify(tt))!==null&&rt!==void 0?rt:""}if(Recoil_isPromise(tt))return"__PROMISE__";if(Array.isArray(tt))return`[${tt.map((it,ot)=>stringify$1(it,et,ot.toString()))}]`;if(typeof tt.toJSON=="function")return stringify$1(tt.toJSON(nt),et,nt);if(tt instanceof Map){const it={};for(const[ot,at]of tt)it[typeof ot=="string"?ot:stringify$1(ot,et)]=at;return stringify$1(it,et,nt)}return tt instanceof Set?stringify$1(Array.from(tt).sort((it,ot)=>stringify$1(it,et).localeCompare(stringify$1(ot,et))),et,nt):Symbol!==void 0&&tt[Symbol.iterator]!=null&&typeof tt[Symbol.iterator]=="function"?stringify$1(Array.from(tt),et,nt):`{${Object.keys(tt).filter(it=>tt[it]!==void 0).sort().map(it=>`${stringify$1(it,et)}:${stringify$1(tt[it],et,it)}`).join(",")}}`}function stableStringify(tt,et={allowFunctions:!1}){return stringify$1(tt,et)}var Recoil_stableStringify=stableStringify;const{TreeCache:TreeCache$2}=Recoil_TreeCache$1,defaultPolicy={equality:"reference",eviction:"keep-all",maxSize:1/0};function treeCacheFromPolicy({equality:tt=defaultPolicy.equality,eviction:et=defaultPolicy.eviction,maxSize:nt=defaultPolicy.maxSize}=defaultPolicy,rt){const it=getValueMapper(tt);return getTreeCache(et,nt,it,rt)}function getValueMapper(tt){switch(tt){case"reference":return et=>et;case"value":return et=>Recoil_stableStringify(et)}throw Recoil_err(`Unrecognized equality policy ${tt}`)}function getTreeCache(tt,et,nt,rt){switch(tt){case"keep-all":return new TreeCache$2({name:rt,mapNodeValue:nt});case"lru":return Recoil_treeCacheLRU({name:rt,maxSize:Recoil_nullthrows(et),mapNodeValue:nt});case"most-recent":return Recoil_treeCacheLRU({name:rt,maxSize:1,mapNodeValue:nt})}throw Recoil_err(`Unrecognized eviction policy ${tt}`)}var Recoil_treeCacheFromPolicy=treeCacheFromPolicy;function startPerfBlock(tt){return()=>null}var Recoil_PerformanceTimings={startPerfBlock};const{isLoadable:isLoadable$1,loadableWithError:loadableWithError$1,loadableWithPromise:loadableWithPromise$1,loadableWithValue:loadableWithValue$2}=Recoil_Loadable$1,{WrappedValue:WrappedValue$1}=Recoil_Wrapper$1,{getNodeLoadable:getNodeLoadable$2,peekNodeLoadable:peekNodeLoadable$1,setNodeValue:setNodeValue$3}=Recoil_FunctionalCore,{saveDepsToStore:saveDepsToStore$1}=Recoil_Graph,{DEFAULT_VALUE:DEFAULT_VALUE$6,RecoilValueNotReady:RecoilValueNotReady$2,getConfigDeletionHandler:getConfigDeletionHandler$1,getNode:getNode$6,registerNode:registerNode$1}=Recoil_Node,{isRecoilValue:isRecoilValue$3}=Recoil_RecoilValue$1,{markRecoilValueModified:markRecoilValueModified$1}=Recoil_RecoilValueInterface,{retainedByOptionWithDefault:retainedByOptionWithDefault$1}=Recoil_Retention,{recoilCallback:recoilCallback$1}=Recoil_useRecoilCallback,{startPerfBlock:startPerfBlock$1}=Recoil_PerformanceTimings;class Canceled{}const CANCELED=new Canceled,dependencyStack=[],waitingStores=new Map,getNewExecutionID=(()=>{let tt=0;return()=>tt++})();function selector(tt){let et=null;const{key:nt,get:rt,cachePolicy_UNSTABLE:it}=tt,ot=tt.set!=null?tt.set:void 0,at=new Set,st=Recoil_treeCacheFromPolicy(it!=null?it:{equality:"reference",eviction:"keep-all"},nt),lt=retainedByOptionWithDefault$1(tt.retainedBy_UNSTABLE),ct=new Map;let ft=0;function ut(){return!Recoil_gkx("recoil_memory_managament_2020")||ft>0}function dt(kt){return kt.getState().knownSelectors.add(nt),ft++,()=>{ft--}}function ht(){return getConfigDeletionHandler$1(nt)!==void 0&&!ut()}function pt(kt,Gt,Ht,Jt,Vt){Ct(Gt,Jt,Vt),gt(kt,Ht)}function gt(kt,Gt){Pt(kt,Gt)&&It(kt),yt(Gt,!0)}function mt(kt,Gt){Pt(kt,Gt)&&(Recoil_nullthrows(Et(kt)).stateVersions.clear(),yt(Gt,!1))}function yt(kt,Gt){const Ht=waitingStores.get(kt);if(Ht!=null){for(const Jt of Ht)markRecoilValueModified$1(Jt,Recoil_nullthrows(et));Gt&&waitingStores.delete(kt)}}function bt(kt,Gt){let Ht=waitingStores.get(Gt);Ht==null&&waitingStores.set(Gt,Ht=new Set),Ht.add(kt)}function St(kt,Gt,Ht,Jt,Vt,Wt){return Gt.then(Lt=>{if(!ut())throw It(kt),CANCELED;const Bt=loadableWithValue$2(Lt);return pt(kt,Ht,Vt,Bt,Jt),Lt}).catch(Lt=>{if(!ut())throw It(kt),CANCELED;if(Recoil_isPromise(Lt))return xt(kt,Lt,Ht,Jt,Vt,Wt);const Bt=loadableWithError$1(Lt);throw pt(kt,Ht,Vt,Bt,Jt),Lt})}function xt(kt,Gt,Ht,Jt,Vt,Wt){return Gt.then(Lt=>{if(!ut())throw It(kt),CANCELED;Wt.loadingDepKey!=null&&Wt.loadingDepPromise===Gt?Ht.atomValues.set(Wt.loadingDepKey,loadableWithValue$2(Lt)):kt.getState().knownSelectors.forEach(Xt=>{Ht.atomValues.delete(Xt)});const Bt=zt(kt,Ht);if(Bt&&Bt.state!=="loading"){if((Pt(kt,Vt)||Et(kt)==null)&&gt(kt,Vt),Bt.state==="hasValue")return Bt.contents;throw Bt.contents}if(!Pt(kt,Vt)){const Xt=wt(kt,Ht);if(Xt!=null)return Xt.loadingLoadable.contents}const[Ft,sn]=$t(kt,Ht,Vt);if(Ft.state!=="loading"&&pt(kt,Ht,Vt,Ft,sn),Ft.state==="hasError")throw Ft.contents;return Ft.contents}).catch(Lt=>{if(Lt instanceof Canceled)throw CANCELED;if(!ut())throw It(kt),CANCELED;const Bt=loadableWithError$1(Lt);throw pt(kt,Ht,Vt,Bt,Jt),Lt})}function vt(kt,Gt,Ht,Jt){var Vt,Wt,Lt,Bt;if(Pt(kt,Jt)||Gt.version===((Vt=kt.getState())===null||Vt===void 0||(Wt=Vt.currentTree)===null||Wt===void 0?void 0:Wt.version)||Gt.version===((Lt=kt.getState())===null||Lt===void 0||(Bt=Lt.nextTree)===null||Bt===void 0?void 0:Bt.version)){var Ft,sn,Xt;saveDepsToStore$1(nt,Ht,kt,(Ft=(sn=kt.getState())===null||sn===void 0||(Xt=sn.nextTree)===null||Xt===void 0?void 0:Xt.version)!==null&&Ft!==void 0?Ft:kt.getState().currentTree.version)}for(const dn of Ht)at.add(dn)}function $t(kt,Gt,Ht){const Jt=startPerfBlock$1(nt);let Vt=!0,Wt=!0;const Lt=()=>{Jt(),Wt=!1};let Bt,Ft=!1,sn;const Xt={loadingDepKey:null,loadingDepPromise:null},dn=new Map;function Yt({key:Qt}){const Kt=getNodeLoadable$2(kt,Gt,Qt);switch(dn.set(Qt,Kt),Vt||(vt(kt,Gt,new Set(dn.keys()),Ht),mt(kt,Ht)),Kt.state){case"hasValue":return Kt.contents;case"hasError":throw Kt.contents;case"loading":throw Xt.loadingDepKey=Qt,Xt.loadingDepPromise=Kt.contents,Kt.contents}throw Recoil_err("Invalid Loadable state")}const yn=Qt=>(...Kt)=>{if(Wt)throw Recoil_err("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return et==null&&Recoil_invariant(!1),recoilCallback$1(kt,Qt,Kt,{node:et})};try{Bt=rt({get:Yt,getCallback:yn}),Bt=isRecoilValue$3(Bt)?Yt(Bt):Bt,isLoadable$1(Bt)&&(Bt.state==="hasError"&&(Ft=!0),Bt=Bt.contents),Recoil_isPromise(Bt)?Bt=St(kt,Bt,Gt,dn,Ht,Xt).finally(Lt):Lt(),Bt=Bt instanceof WrappedValue$1?Bt.value:Bt}catch(Qt){Bt=Qt,Recoil_isPromise(Bt)?Bt=xt(kt,Bt,Gt,dn,Ht,Xt).finally(Lt):(Ft=!0,Lt())}return Ft?sn=loadableWithError$1(Bt):Recoil_isPromise(Bt)?sn=loadableWithPromise$1(Bt):sn=loadableWithValue$2(Bt),Vt=!1,Tt(kt,Ht,dn),vt(kt,Gt,new Set(dn.keys()),Ht),[sn,dn]}function zt(kt,Gt){let Ht=Gt.atomValues.get(nt);if(Ht!=null)return Ht;const Jt=new Set;try{Ht=st.get(Wt=>(typeof Wt!="string"&&Recoil_invariant(!1),getNodeLoadable$2(kt,Gt,Wt).contents),{onNodeVisit:Wt=>{Wt.type==="branch"&&Wt.nodeKey!==nt&&Jt.add(Wt.nodeKey)}})}catch(Wt){throw Recoil_err(`Problem with cache lookup for selector "${nt}": ${Wt.message}`)}if(Ht){var Vt;Gt.atomValues.set(nt,Ht),vt(kt,Gt,Jt,(Vt=Et(kt))===null||Vt===void 0?void 0:Vt.executionID)}return Ht}function Nt(kt,Gt){const Ht=zt(kt,Gt);if(Ht!=null)return It(kt),Ht;const Jt=wt(kt,Gt);if(Jt!=null){var Vt;return((Vt=Jt.loadingLoadable)===null||Vt===void 0?void 0:Vt.state)==="loading"&&bt(kt,Jt.executionID),Jt.loadingLoadable}const Wt=getNewExecutionID(),[Lt,Bt]=$t(kt,Gt,Wt);return Lt.state==="loading"?(Rt(kt,Wt,Lt,Bt,Gt),bt(kt,Wt)):(It(kt),Ct(Gt,Lt,Bt)),Lt}function wt(kt,Gt){const Ht=Recoil_concatIterables([ct.has(kt)?[Recoil_nullthrows(ct.get(kt))]:[],Recoil_mapIterable(Recoil_filterIterable(ct,([Vt])=>Vt!==kt),([,Vt])=>Vt)]);function Jt(Vt){for(const[Wt,Lt]of Vt)if(!getNodeLoadable$2(kt,Gt,Wt).is(Lt))return!0;return!1}for(const Vt of Ht){if(Vt.stateVersions.get(Gt.version)||!Jt(Vt.depValuesDiscoveredSoFarDuringAsyncWork))return Vt.stateVersions.set(Gt.version,!0),Vt;Vt.stateVersions.set(Gt.version,!1)}}function Et(kt){return ct.get(kt)}function Rt(kt,Gt,Ht,Jt,Vt){ct.set(kt,{depValuesDiscoveredSoFarDuringAsyncWork:Jt,executionID:Gt,loadingLoadable:Ht,stateVersions:new Map([[Vt.version,!0]])})}function Tt(kt,Gt,Ht){if(Pt(kt,Gt)){const Jt=Et(kt);Jt!=null&&(Jt.depValuesDiscoveredSoFarDuringAsyncWork=Ht)}}function It(kt){ct.delete(kt)}function Pt(kt,Gt){var Ht;return Gt===((Ht=Et(kt))===null||Ht===void 0?void 0:Ht.executionID)}function Dt(kt){return Array.from(kt.entries()).map(([Gt,Ht])=>[Gt,Ht.contents])}function Ct(kt,Gt,Ht){kt.atomValues.set(nt,Gt);try{st.set(Dt(Ht),Gt)}catch(Jt){throw Recoil_err(`Problem with setting cache for selector "${nt}": ${Jt.message}`)}}function Ot(kt){if(dependencyStack.includes(nt)){const Gt=`Recoil selector has circular dependencies: ${dependencyStack.slice(dependencyStack.indexOf(nt)).join(" \u2192 ")}`;return loadableWithError$1(Recoil_err(Gt))}dependencyStack.push(nt);try{return kt()}finally{dependencyStack.pop()}}function Ut(kt,Gt){const Ht=Gt.atomValues.get(nt);return Ht!=null?Ht:st.get(Jt=>{var Vt;return typeof Jt!="string"&&Recoil_invariant(!1),(Vt=peekNodeLoadable$1(kt,Gt,Jt))===null||Vt===void 0?void 0:Vt.contents})}function At(kt,Gt){return Ot(()=>Nt(kt,Gt))}function Mt(kt){kt.atomValues.delete(nt)}function jt(kt,Gt){et==null&&Recoil_invariant(!1);for(const Jt of at){var Ht;const Vt=getNode$6(Jt);(Ht=Vt.clearCache)===null||Ht===void 0||Ht.call(Vt,kt,Gt)}at.clear(),Mt(Gt),st.clear(),markRecoilValueModified$1(kt,et)}return ot!=null?et=registerNode$1({key:nt,nodeType:"selector",peek:Ut,get:At,set:(Gt,Ht,Jt)=>{let Vt=!1;const Wt=new Map;function Lt({key:Xt}){if(Vt)throw Recoil_err("Recoil: Async selector sets are not currently supported.");const dn=getNodeLoadable$2(Gt,Ht,Xt);if(dn.state==="hasValue")return dn.contents;throw dn.state==="loading"?new RecoilValueNotReady$2(Xt):dn.contents}function Bt(Xt,dn){if(Vt)throw Recoil_err("Recoil: Async selector sets are not currently supported.");const Yt=typeof dn=="function"?dn(Lt(Xt)):dn;setNodeValue$3(Gt,Ht,Xt.key,Yt).forEach((Qt,Kt)=>Wt.set(Kt,Qt))}function Ft(Xt){Bt(Xt,DEFAULT_VALUE$6)}const sn=ot({set:Bt,get:Lt,reset:Ft},Jt);if(sn!==void 0)throw Recoil_isPromise(sn)?Recoil_err("Recoil: Async selector sets are not currently supported."):Recoil_err("Recoil: selector set should be a void function.");return Vt=!0,Wt},init:dt,invalidate:Mt,clearCache:jt,shouldDeleteConfigOnRelease:ht,dangerouslyAllowMutability:tt.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:lt}):et=registerNode$1({key:nt,nodeType:"selector",peek:Ut,get:At,init:dt,invalidate:Mt,clearCache:jt,shouldDeleteConfigOnRelease:ht,dangerouslyAllowMutability:tt.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:lt})}selector.value=tt=>new WrappedValue$1(tt);var Recoil_selector=selector;const{isLoadable:isLoadable$2,loadableWithError:loadableWithError$2,loadableWithPromise:loadableWithPromise$2,loadableWithValue:loadableWithValue$3}=Recoil_Loadable$1,{WrappedValue:WrappedValue$2}=Recoil_Wrapper$1,{peekNodeInfo:peekNodeInfo$3}=Recoil_FunctionalCore,{DEFAULT_VALUE:DEFAULT_VALUE$7,DefaultValue:DefaultValue$2,getConfigDeletionHandler:getConfigDeletionHandler$2,registerNode:registerNode$2,setConfigDeletionHandler:setConfigDeletionHandler$1}=Recoil_Node,{isRecoilValue:isRecoilValue$4}=Recoil_RecoilValue$1,{getRecoilValueAsLoadable:getRecoilValueAsLoadable$4,markRecoilValueModified:markRecoilValueModified$2,setRecoilValue:setRecoilValue$4,setRecoilValueLoadable:setRecoilValueLoadable$2}=Recoil_RecoilValueInterface,{retainedByOptionWithDefault:retainedByOptionWithDefault$2}=Recoil_Retention;function baseAtom(tt){const{key:et,persistence_UNSTABLE:nt}=tt,rt=retainedByOptionWithDefault$2(tt.retainedBy_UNSTABLE);let it=0;function ot(bt){return loadableWithPromise$2(bt.then(St=>(at=loadableWithValue$3(St),St)).catch(St=>{throw at=loadableWithError$2(St),St}))}let at=Recoil_isPromise(tt.default)?ot(tt.default):isLoadable$2(tt.default)?tt.default.state==="loading"?ot(tt.default.contents):tt.default:loadableWithValue$3(tt.default instanceof WrappedValue$2?tt.default.value:tt.default);at.contents;let st;const lt=new Map;function ct(bt){return bt}function ft(bt,St){const xt=St.then(vt=>{var $t,zt;return((zt=(($t=bt.getState().nextTree)!==null&&$t!==void 0?$t:bt.getState().currentTree).atomValues.get(et))===null||zt===void 0?void 0:zt.contents)===xt&&setRecoilValue$4(bt,yt,vt),vt}).catch(vt=>{var $t,zt;throw((zt=(($t=bt.getState().nextTree)!==null&&$t!==void 0?$t:bt.getState().currentTree).atomValues.get(et))===null||zt===void 0?void 0:zt.contents)===xt&&setRecoilValueLoadable$2(bt,yt,loadableWithError$2(vt)),vt});return xt}function ut(bt,St,xt){var vt;it++;const $t=()=>{var It;it--,(It=lt.get(bt))===null||It===void 0||It.forEach(Pt=>Pt()),lt.delete(bt)};if(bt.getState().knownAtoms.add(et),at.state==="loading"){const It=()=>{var Pt;((Pt=bt.getState().nextTree)!==null&&Pt!==void 0?Pt:bt.getState().currentTree).atomValues.has(et)||markRecoilValueModified$2(bt,yt)};at.contents.finally(It)}const zt=(vt=tt.effects)!==null&&vt!==void 0?vt:tt.effects_UNSTABLE;if(zt!=null){let Ot=function(Gt){if(It&&Gt.key===et){const Ht=Pt;return Ht instanceof DefaultValue$2?dt(bt,St):Recoil_isPromise(Ht)?loadableWithPromise$2(Ht.then(Jt=>Jt instanceof DefaultValue$2?at.toPromise():Jt)):loadableWithValue$3(Ht)}return getRecoilValueAsLoadable$4(bt,Gt)},Ut=function(Gt){return Ot(Gt).toPromise()},At=function(Gt){var Ht;const Jt=peekNodeInfo$3(bt,(Ht=bt.getState().nextTree)!==null&&Ht!==void 0?Ht:bt.getState().currentTree,Gt.key);return It&&Gt.key===et&&!(Pt instanceof DefaultValue$2)?to(Wr({},Jt),{isSet:!0,loadable:Ot(Gt)}):Jt};var Rt=Ot,Et=Ut,Tt=At;let It=!0,Pt=DEFAULT_VALUE$7,Dt=!1,Ct=null;const Mt=Gt=>Ht=>{if(It){const Jt=Ot(yt),Vt=Jt.state==="hasValue"?Jt.contents:DEFAULT_VALUE$7;Pt=typeof Ht=="function"?Ht(Vt):Ht,Recoil_isPromise(Pt)&&(Pt=Pt.then(Wt=>(Ct={effect:Gt,value:Wt},Wt)))}else{if(Recoil_isPromise(Ht))throw Recoil_err("Setting atoms to async values is not implemented.");typeof Ht!="function"&&(Ct={effect:Gt,value:Ht}),setRecoilValue$4(bt,yt,typeof Ht=="function"?Jt=>{const Vt=Ht(Jt);return Ct={effect:Gt,value:Vt},Vt}:Ht)}},jt=Gt=>()=>Mt(Gt)(DEFAULT_VALUE$7),kt=Gt=>Ht=>{var Jt;const{release:Vt}=bt.subscribeToTransactions(Wt=>{var Lt;let{currentTree:Bt,previousTree:Ft}=Wt.getState();Ft||(Ft=Bt);const sn=(Lt=Bt.atomValues.get(et))!==null&&Lt!==void 0?Lt:at;if(sn.state==="hasValue"){var Xt,dn,Yt,yn;const Qt=sn.contents,Kt=(Xt=Ft.atomValues.get(et))!==null&&Xt!==void 0?Xt:at,hn=Kt.state==="hasValue"?Kt.contents:DEFAULT_VALUE$7;((dn=Ct)===null||dn===void 0?void 0:dn.effect)!==Gt||((Yt=Ct)===null||Yt===void 0?void 0:Yt.value)!==Qt?Ht(Qt,hn,!Bt.atomValues.has(et)):((yn=Ct)===null||yn===void 0?void 0:yn.effect)===Gt&&(Ct=null)}},et);lt.set(bt,[...(Jt=lt.get(bt))!==null&&Jt!==void 0?Jt:[],Vt])};for(const Gt of zt)try{const Ht=Gt({node:yt,storeID:bt.storeID,trigger:xt,setSelf:Mt(Gt),resetSelf:jt(Gt),onSet:kt(Gt),getPromise:Ut,getLoadable:Ot,getInfo_UNSTABLE:At});if(Ht!=null){var Nt;lt.set(bt,[...(Nt=lt.get(bt))!==null&&Nt!==void 0?Nt:[],Ht])}}catch(Ht){Pt=Ht,Dt=!0}if(It=!1,!(Pt instanceof DefaultValue$2)){var wt;const Gt=Pt,Ht=Dt?loadableWithError$2(Pt):Recoil_isPromise(Gt)?loadableWithPromise$2(ft(bt,Gt)):loadableWithValue$3(Gt);St.atomValues.set(et,Ht),(wt=bt.getState().nextTree)===null||wt===void 0||wt.atomValues.set(et,Ht)}}return $t}function dt(bt,St){var xt,vt;return(xt=(vt=St.atomValues.get(et))!==null&&vt!==void 0?vt:st)!==null&&xt!==void 0?xt:at}function ht(bt,St){if(St.atomValues.has(et))return Recoil_nullthrows(St.atomValues.get(et));if(St.nonvalidatedAtoms.has(et)){if(st!=null)return st;if(nt==null)return at;const xt=St.nonvalidatedAtoms.get(et),vt=nt.validator(xt,DEFAULT_VALUE$7);return st=vt instanceof DefaultValue$2?at:loadableWithValue$3(vt),st}else return at}function pt(){st=void 0}function gt(bt,St,xt){if(St.atomValues.has(et)){const vt=Recoil_nullthrows(St.atomValues.get(et));if(vt.state==="hasValue"&&xt===vt.contents)return new Map}else if(!St.nonvalidatedAtoms.has(et)&&xt instanceof DefaultValue$2)return new Map;return st=void 0,new Map().set(et,loadableWithValue$3(xt))}function mt(){return getConfigDeletionHandler$2(et)!==void 0&&it<=0}const yt=registerNode$2({key:et,nodeType:"atom",peek:dt,get:ht,set:gt,init:ut,invalidate:pt,shouldDeleteConfigOnRelease:mt,dangerouslyAllowMutability:tt.dangerouslyAllowMutability,persistence_UNSTABLE:tt.persistence_UNSTABLE?{type:tt.persistence_UNSTABLE.type,backButton:tt.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:rt});return yt}function atom(tt){const et=mo(tt,[]),nt="default"in tt?tt.default:new Promise(()=>{});return isRecoilValue$4(nt)?atomWithFallback(to(Wr({},et),{default:nt})):baseAtom(to(Wr({},et),{default:nt}))}function atomWithFallback(tt){const et=atom(to(Wr({},tt),{default:DEFAULT_VALUE$7,persistence_UNSTABLE:tt.persistence_UNSTABLE===void 0?void 0:to(Wr({},tt.persistence_UNSTABLE),{validator:rt=>rt instanceof DefaultValue$2?rt:Recoil_nullthrows(tt.persistence_UNSTABLE).validator(rt,DEFAULT_VALUE$7)}),effects:tt.effects,effects_UNSTABLE:tt.effects_UNSTABLE})),nt=Recoil_selector({key:`${tt.key}__withFallback`,get:({get:rt})=>{const it=rt(et);return it instanceof DefaultValue$2?tt.default:it},set:({set:rt},it)=>rt(et,it),dangerouslyAllowMutability:tt.dangerouslyAllowMutability});return setConfigDeletionHandler$1(nt.key,getConfigDeletionHandler$2(tt.key)),nt}atom.value=tt=>new WrappedValue$2(tt);var Recoil_atom=atom;class MapCache{constructor(et){var nt;_defineProperty$3(this,"_map",void 0),_defineProperty$3(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(nt=et==null?void 0:et.mapKey)!==null&&nt!==void 0?nt:rt=>rt}size(){return this._map.size}has(et){return this._map.has(this._keyMapper(et))}get(et){return this._map.get(this._keyMapper(et))}set(et,nt){this._map.set(this._keyMapper(et),nt)}delete(et){this._map.delete(this._keyMapper(et))}clear(){this._map.clear()}}var Recoil_MapCache={MapCache},Recoil_MapCache_1=Recoil_MapCache.MapCache,Recoil_MapCache$1=Object.freeze({__proto__:null,MapCache:Recoil_MapCache_1});const{LRUCache:LRUCache$2}=Recoil_LRUCache$1,{MapCache:MapCache$1}=Recoil_MapCache$1,defaultPolicy$1={equality:"reference",eviction:"none",maxSize:1/0};function cacheFromPolicy({equality:tt=defaultPolicy$1.equality,eviction:et=defaultPolicy$1.eviction,maxSize:nt=defaultPolicy$1.maxSize}=defaultPolicy$1){const rt=getValueMapper$1(tt);return getCache(et,nt,rt)}function getValueMapper$1(tt){switch(tt){case"reference":return et=>et;case"value":return et=>Recoil_stableStringify(et)}throw Recoil_err(`Unrecognized equality policy ${tt}`)}function getCache(tt,et,nt){switch(tt){case"keep-all":return new MapCache$1({mapKey:nt});case"lru":return new LRUCache$2({mapKey:nt,maxSize:Recoil_nullthrows(et)});case"most-recent":return new LRUCache$2({mapKey:nt,maxSize:1})}throw Recoil_err(`Unrecognized eviction policy ${tt}`)}var Recoil_cacheFromPolicy=cacheFromPolicy;const{setConfigDeletionHandler:setConfigDeletionHandler$2}=Recoil_Node;function atomFamily(tt){var et,nt;const rt=Recoil_cacheFromPolicy({equality:(et=(nt=tt.cachePolicyForParams_UNSTABLE)===null||nt===void 0?void 0:nt.equality)!==null&&et!==void 0?et:"value",eviction:"keep-all"});return it=>{var ot,at;const st=rt.get(it);if(st!=null)return st;const dt=tt,{cachePolicyForParams_UNSTABLE:lt}=dt,ct=mo(dt,["cachePolicyForParams_UNSTABLE"]),ft="default"in tt?tt.default:new Promise(()=>{}),ut=Recoil_atom(to(Wr({},ct),{key:`${tt.key}__${(ot=Recoil_stableStringify(it))!==null&&ot!==void 0?ot:"void"}`,default:typeof ft=="function"?ft(it):ft,retainedBy_UNSTABLE:typeof tt.retainedBy_UNSTABLE=="function"?tt.retainedBy_UNSTABLE(it):tt.retainedBy_UNSTABLE,effects:typeof tt.effects=="function"?tt.effects(it):typeof tt.effects_UNSTABLE=="function"?tt.effects_UNSTABLE(it):(at=tt.effects)!==null&&at!==void 0?at:tt.effects_UNSTABLE}));return rt.set(it,ut),setConfigDeletionHandler$2(ut.key,()=>{rt.delete(it)}),ut}}var Recoil_atomFamily=atomFamily;const{setConfigDeletionHandler:setConfigDeletionHandler$3}=Recoil_Node;let nextIndex=0;function selectorFamily(tt){var et,nt;const rt=Recoil_cacheFromPolicy({equality:(et=(nt=tt.cachePolicyForParams_UNSTABLE)===null||nt===void 0?void 0:nt.equality)!==null&&et!==void 0?et:"value",eviction:"keep-all"});return it=>{var ot;let at;try{at=rt.get(it)}catch(dt){throw Recoil_err(`Problem with cache lookup for selector ${tt.key}: ${dt.message}`)}if(at!=null)return at;const st=`${tt.key}__selectorFamily/${(ot=Recoil_stableStringify(it,{allowFunctions:!0}))!==null&&ot!==void 0?ot:"void"}/${nextIndex++}`,lt=dt=>tt.get(it)(dt),ct=tt.cachePolicy_UNSTABLE,ft=typeof tt.retainedBy_UNSTABLE=="function"?tt.retainedBy_UNSTABLE(it):tt.retainedBy_UNSTABLE;let ut;if(tt.set!=null){const dt=tt.set;ut=Recoil_selector({key:st,get:lt,set:(pt,gt)=>dt(it)(pt,gt),cachePolicy_UNSTABLE:ct,dangerouslyAllowMutability:tt.dangerouslyAllowMutability,retainedBy_UNSTABLE:ft})}else ut=Recoil_selector({key:st,get:lt,cachePolicy_UNSTABLE:ct,dangerouslyAllowMutability:tt.dangerouslyAllowMutability,retainedBy_UNSTABLE:ft});return rt.set(it,ut),setConfigDeletionHandler$3(ut.key,()=>{rt.delete(it)}),ut}}var Recoil_selectorFamily=selectorFamily;const constantSelector=Recoil_selectorFamily({key:"__constant",get:tt=>()=>tt,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function constSelector(tt){return constantSelector(tt)}var Recoil_constSelector=constSelector;const throwingSelector=Recoil_selectorFamily({key:"__error",get:tt=>()=>{throw Recoil_err(tt)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function errorSelector(tt){return throwingSelector(tt)}var Recoil_errorSelector=errorSelector;function readOnlySelector(tt){return tt}var Recoil_readOnlySelector=readOnlySelector;const{loadableWithError:loadableWithError$3,loadableWithPromise:loadableWithPromise$3,loadableWithValue:loadableWithValue$4}=Recoil_Loadable$1;function concurrentRequests(tt,et){const nt=Array(et.length).fill(void 0),rt=Array(et.length).fill(void 0);for(const[it,ot]of et.entries())try{nt[it]=tt(ot)}catch(at){rt[it]=at}return[nt,rt]}function isError(tt){return tt!=null&&!Recoil_isPromise(tt)}function unwrapDependencies(tt){return Array.isArray(tt)?tt:Object.getOwnPropertyNames(tt).map(et=>tt[et])}function wrapResults(tt,et){return Array.isArray(tt)?et:Object.getOwnPropertyNames(tt).reduce((nt,rt,it)=>to(Wr({},nt),{[rt]:et[it]}),{})}function wrapLoadables(tt,et,nt){const rt=nt.map((it,ot)=>it==null?loadableWithValue$4(et[ot]):Recoil_isPromise(it)?loadableWithPromise$3(it):loadableWithError$3(it));return wrapResults(tt,rt)}function combineAsyncResultsWithSyncResults(tt,et){return et.map((nt,rt)=>nt===void 0?tt[rt]:nt)}const waitForNone=Recoil_selectorFamily({key:"__waitForNone",get:tt=>({get:et})=>{const nt=unwrapDependencies(tt),[rt,it]=concurrentRequests(et,nt);return wrapLoadables(tt,rt,it)},dangerouslyAllowMutability:!0}),waitForAny=Recoil_selectorFamily({key:"__waitForAny",get:tt=>({get:et})=>{const nt=unwrapDependencies(tt),[rt,it]=concurrentRequests(et,nt);return it.some(ot=>!Recoil_isPromise(ot))?wrapLoadables(tt,rt,it):new Promise(ot=>{for(const[at,st]of it.entries())Recoil_isPromise(st)&&st.then(lt=>{rt[at]=lt,it[at]=void 0,ot(wrapLoadables(tt,rt,it))}).catch(lt=>{it[at]=lt,ot(wrapLoadables(tt,rt,it))})})},dangerouslyAllowMutability:!0}),waitForAll=Recoil_selectorFamily({key:"__waitForAll",get:tt=>({get:et})=>{const nt=unwrapDependencies(tt),[rt,it]=concurrentRequests(et,nt);if(it.every(at=>at==null))return wrapResults(tt,rt);const ot=it.find(isError);if(ot!=null)throw ot;return Promise.all(it).then(at=>wrapResults(tt,combineAsyncResultsWithSyncResults(rt,at)))},dangerouslyAllowMutability:!0}),waitForAllSettled=Recoil_selectorFamily({key:"__waitForAllSettled",get:tt=>({get:et})=>{const nt=unwrapDependencies(tt),[rt,it]=concurrentRequests(et,nt);return it.every(ot=>!Recoil_isPromise(ot))?wrapLoadables(tt,rt,it):Promise.all(it.map((ot,at)=>Recoil_isPromise(ot)?ot.then(st=>{rt[at]=st,it[at]=void 0}).catch(st=>{rt[at]=void 0,it[at]=st}):null)).then(()=>wrapLoadables(tt,rt,it))},dangerouslyAllowMutability:!0}),noWait=Recoil_selectorFamily({key:"__noWait",get:tt=>({get:et})=>{try{return Recoil_selector.value(loadableWithValue$4(et(tt)))}catch(nt){return Recoil_selector.value(Recoil_isPromise(nt)?loadableWithPromise$3(nt):loadableWithError$3(nt))}},dangerouslyAllowMutability:!0});var Recoil_WaitFor={waitForNone,waitForAny,waitForAll,waitForAllSettled,noWait};const{RecoilLoadable}=Recoil_Loadable$1,{DefaultValue:DefaultValue$3}=Recoil_Node,{RecoilRoot:RecoilRoot$2,useRecoilStoreID:useRecoilStoreID$1}=Recoil_RecoilRoot,{isRecoilValue:isRecoilValue$5}=Recoil_RecoilValue$1,{retentionZone:retentionZone$1}=Recoil_RetentionZone,{freshSnapshot:freshSnapshot$2}=Recoil_Snapshot$1,{useRecoilState:useRecoilState$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:useRecoilState_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilStateLoadable:useRecoilStateLoadable$1,useRecoilValue:useRecoilValue$1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:useRecoilValue_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilValueLoadable:useRecoilValueLoadable$1,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE$1,useResetRecoilState:useResetRecoilState$1,useSetRecoilState:useSetRecoilState$1}=Recoil_Hooks,{useGotoRecoilSnapshot:useGotoRecoilSnapshot$1,useRecoilSnapshot:useRecoilSnapshot$1,useRecoilTransactionObserver:useRecoilTransactionObserver$1}=Recoil_SnapshotHooks,{useRecoilCallback:useRecoilCallback$1}=Recoil_useRecoilCallback,{noWait:noWait$1,waitForAll:waitForAll$1,waitForAllSettled:waitForAllSettled$1,waitForAny:waitForAny$1,waitForNone:waitForNone$1}=Recoil_WaitFor;var Recoil_index={DefaultValue:DefaultValue$3,isRecoilValue:isRecoilValue$5,RecoilLoadable,RecoilRoot:RecoilRoot$2,useRecoilStoreID:useRecoilStoreID$1,useRecoilBridgeAcrossReactRoots_UNSTABLE:Recoil_useRecoilBridgeAcrossReactRoots,atom:Recoil_atom,selector:Recoil_selector,atomFamily:Recoil_atomFamily,selectorFamily:Recoil_selectorFamily,constSelector:Recoil_constSelector,errorSelector:Recoil_errorSelector,readOnlySelector:Recoil_readOnlySelector,noWait:noWait$1,waitForNone:waitForNone$1,waitForAny:waitForAny$1,waitForAll:waitForAll$1,waitForAllSettled:waitForAllSettled$1,useRecoilValue:useRecoilValue$1,useRecoilValueLoadable:useRecoilValueLoadable$1,useRecoilState:useRecoilState$1,useRecoilStateLoadable:useRecoilStateLoadable$1,useSetRecoilState:useSetRecoilState$1,useResetRecoilState:useResetRecoilState$1,useGetRecoilValueInfo_UNSTABLE:Recoil_useGetRecoilValueInfo,useRecoilRefresher_UNSTABLE:Recoil_useRecoilRefresher,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:useRecoilValue_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:useRecoilState_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilCallback:useRecoilCallback$1,useRecoilTransaction_UNSTABLE:Recoil_useRecoilTransaction,useGotoRecoilSnapshot:useGotoRecoilSnapshot$1,useRecoilSnapshot:useRecoilSnapshot$1,useRecoilTransactionObserver_UNSTABLE:useRecoilTransactionObserver$1,snapshot_UNSTABLE:freshSnapshot$2,useRetain:Recoil_useRetain,retentionZone:retentionZone$1},Recoil_index_1=Recoil_index.DefaultValue,Recoil_index_2=Recoil_index.isRecoilValue,Recoil_index_3=Recoil_index.RecoilLoadable,Recoil_index_4=Recoil_index.RecoilRoot,Recoil_index_5=Recoil_index.useRecoilStoreID,Recoil_index_6=Recoil_index.useRecoilBridgeAcrossReactRoots_UNSTABLE,Recoil_index_7=Recoil_index.atom,Recoil_index_8=Recoil_index.selector,Recoil_index_9=Recoil_index.atomFamily,Recoil_index_10=Recoil_index.selectorFamily,Recoil_index_11=Recoil_index.constSelector,Recoil_index_12=Recoil_index.errorSelector,Recoil_index_13=Recoil_index.readOnlySelector,Recoil_index_14=Recoil_index.noWait,Recoil_index_15=Recoil_index.waitForNone,Recoil_index_16=Recoil_index.waitForAny,Recoil_index_17=Recoil_index.waitForAll,Recoil_index_18=Recoil_index.waitForAllSettled,Recoil_index_19=Recoil_index.useRecoilValue,Recoil_index_20=Recoil_index.useRecoilValueLoadable,Recoil_index_21=Recoil_index.useRecoilState,Recoil_index_22=Recoil_index.useRecoilStateLoadable,Recoil_index_23=Recoil_index.useSetRecoilState,Recoil_index_24=Recoil_index.useResetRecoilState,Recoil_index_25=Recoil_index.useGetRecoilValueInfo_UNSTABLE,Recoil_index_26=Recoil_index.useRecoilRefresher_UNSTABLE,Recoil_index_27=Recoil_index.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,Recoil_index_28=Recoil_index.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,Recoil_index_29=Recoil_index.useRecoilState_TRANSITION_SUPPORT_UNSTABLE,Recoil_index_30=Recoil_index.useRecoilCallback,Recoil_index_31=Recoil_index.useRecoilTransaction_UNSTABLE,Recoil_index_32=Recoil_index.useGotoRecoilSnapshot,Recoil_index_33=Recoil_index.useRecoilSnapshot,Recoil_index_34=Recoil_index.useRecoilTransactionObserver_UNSTABLE,Recoil_index_35=Recoil_index.snapshot_UNSTABLE,Recoil_index_36=Recoil_index.useRetain,Recoil_index_37=Recoil_index.retentionZone,recoil=Object.freeze(Object.defineProperty({__proto__:null,default:Recoil_index,DefaultValue:Recoil_index_1,RecoilLoadable:Recoil_index_3,RecoilRoot:Recoil_index_4,atom:Recoil_index_7,atomFamily:Recoil_index_9,constSelector:Recoil_index_11,errorSelector:Recoil_index_12,isRecoilValue:Recoil_index_2,noWait:Recoil_index_14,readOnlySelector:Recoil_index_13,retentionZone:Recoil_index_37,selector:Recoil_index_8,selectorFamily:Recoil_index_10,snapshot_UNSTABLE:Recoil_index_35,useGetRecoilValueInfo_UNSTABLE:Recoil_index_25,useGotoRecoilSnapshot:Recoil_index_32,useRecoilBridgeAcrossReactRoots_UNSTABLE:Recoil_index_6,useRecoilCallback:Recoil_index_30,useRecoilRefresher_UNSTABLE:Recoil_index_26,useRecoilSnapshot:Recoil_index_33,useRecoilState:Recoil_index_21,useRecoilStateLoadable:Recoil_index_22,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Recoil_index_29,useRecoilStoreID:Recoil_index_5,useRecoilTransactionObserver_UNSTABLE:Recoil_index_34,useRecoilTransaction_UNSTABLE:Recoil_index_31,useRecoilValue:Recoil_index_19,useRecoilValueLoadable:Recoil_index_20,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Recoil_index_27,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Recoil_index_28,useResetRecoilState:Recoil_index_24,useRetain:Recoil_index_36,useSetRecoilState:Recoil_index_23,waitForAll:Recoil_index_17,waitForAllSettled:Recoil_index_18,waitForAny:Recoil_index_16,waitForNone:Recoil_index_15},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(recoil);Object.defineProperty(RecoilNexus$1,"__esModule",{value:!0});RecoilNexus$1.resetRecoil=setRecoil_1=RecoilNexus$1.setRecoil=RecoilNexus$1.getRecoilPromise=getRecoil_1=RecoilNexus$1.getRecoil=void 0;var recoil_1=require$$0,nexus={};function RecoilNexus(){return nexus.get=(0,recoil_1.useRecoilCallback)(function(tt){var et=tt.snapshot;return function(nt){return et.getLoadable(nt).contents}},[]),nexus.getPromise=(0,recoil_1.useRecoilCallback)(function(tt){var et=tt.snapshot;return function(nt){return et.getPromise(nt)}},[]),nexus.set=(0,recoil_1.useRecoilCallback)(function(tt){var et=tt.set;return et},[]),nexus.reset=(0,recoil_1.useRecoilCallback)(function(tt){var et=tt.reset;return et},[]),null}var _default$E=RecoilNexus$1.default=RecoilNexus;function getRecoil(tt){return nexus.get(tt)}var getRecoil_1=RecoilNexus$1.getRecoil=getRecoil;function getRecoilPromise(tt){return nexus.getPromise(tt)}RecoilNexus$1.getRecoilPromise=getRecoilPromise;function setRecoil(tt,et){nexus.set(tt,et)}var setRecoil_1=RecoilNexus$1.setRecoil=setRecoil;function resetRecoil(tt){nexus.reset(tt)}RecoilNexus$1.resetRecoil=resetRecoil;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(tt){return typeof tt=="string"&&REGEX.test(tt)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nt=(byteToHex[tt[et+0]]+byteToHex[tt[et+1]]+byteToHex[tt[et+2]]+byteToHex[tt[et+3]]+"-"+byteToHex[tt[et+4]]+byteToHex[tt[et+5]]+"-"+byteToHex[tt[et+6]]+byteToHex[tt[et+7]]+"-"+byteToHex[tt[et+8]]+byteToHex[tt[et+9]]+"-"+byteToHex[tt[et+10]]+byteToHex[tt[et+11]]+byteToHex[tt[et+12]]+byteToHex[tt[et+13]]+byteToHex[tt[et+14]]+byteToHex[tt[et+15]]).toLowerCase();if(!validate(nt))throw TypeError("Stringified UUID is invalid");return nt}function v4(tt,et,nt){tt=tt||{};var rt=tt.random||(tt.rng||rng)();if(rt[6]=rt[6]&15|64,rt[8]=rt[8]&63|128,et){nt=nt||0;for(var it=0;it<16;++it)et[nt+it]=rt[it];return et}return stringify(rt)}var es={},computeDestinationPoint$1={},getLatitude$1={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.areaConversion=constants.timeConversion=constants.distanceConversion=constants.altitudeKeys=constants.latitudeKeys=constants.longitudeKeys=constants.MAXLON=constants.MINLON=constants.MAXLAT=constants.MINLAT=constants.earthRadius=constants.sexagesimalPattern=void 0;var sexagesimalPattern=/^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)[']\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["]\s*)?([NEOSW]?)$/;constants.sexagesimalPattern=sexagesimalPattern;var earthRadius=6378137;constants.earthRadius=earthRadius;var MINLAT=-90;constants.MINLAT=MINLAT;var MAXLAT=90;constants.MAXLAT=MAXLAT;var MINLON=-180;constants.MINLON=MINLON;var MAXLON=180;constants.MAXLON=MAXLON;var longitudeKeys=["lng","lon","longitude",0];constants.longitudeKeys=longitudeKeys;var latitudeKeys=["lat","latitude",1];constants.latitudeKeys=latitudeKeys;var altitudeKeys=["alt","altitude","elevation","elev",2];constants.altitudeKeys=altitudeKeys;var distanceConversion={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};constants.distanceConversion=distanceConversion;var timeConversion={m:60,h:3600,d:86400};constants.timeConversion=timeConversion;var areaConversion={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};constants.areaConversion=areaConversion;areaConversion.sqm=areaConversion.m2;areaConversion.sqkm=areaConversion.km2;areaConversion.sqft=areaConversion.ft2;areaConversion.sqyd=areaConversion.yd2;areaConversion.sqin=areaConversion.in2;var getCoordinateKey$1={};Object.defineProperty(getCoordinateKey$1,"__esModule",{value:!0});getCoordinateKey$1.default=void 0;var getCoordinateKey=function tt(et,nt){return nt.reduce(function(rt,it){if(typeof et=="undefined"||et===null)throw new Error("'".concat(et,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(et,it)&&typeof it!="undefined"&&typeof rt=="undefined"?(rt=it,it):rt},void 0)},_default$D=getCoordinateKey;getCoordinateKey$1.default=_default$D;var toDecimal$1={},isDecimal$1={};Object.defineProperty(isDecimal$1,"__esModule",{value:!0});isDecimal$1.default=void 0;var isDecimal=function tt(et){var nt=et.toString().trim();return isNaN(parseFloat(nt))?!1:parseFloat(nt)===Number(nt)},_default$C=isDecimal;isDecimal$1.default=_default$C;var isSexagesimal$1={};Object.defineProperty(isSexagesimal$1,"__esModule",{value:!0});isSexagesimal$1.default=void 0;var _constants$e=constants,isSexagesimal=function tt(et){return _constants$e.sexagesimalPattern.test(et.toString().trim())},_default$B=isSexagesimal;isSexagesimal$1.default=_default$B;var sexagesimalToDecimal$1={};Object.defineProperty(sexagesimalToDecimal$1,"__esModule",{value:!0});sexagesimalToDecimal$1.default=void 0;var _constants$d=constants,sexagesimalToDecimal=function tt(et){var nt=new RegExp(_constants$d.sexagesimalPattern).exec(et.toString().trim());if(typeof nt=="undefined"||nt===null)throw new Error("Given value is not in sexagesimal format");var rt=Number(nt[2])/60||0,it=Number(nt[4])/3600||0,ot=parseFloat(nt[1])+rt+it;return["S","W"].includes(nt[7])?-ot:ot},_default$A=sexagesimalToDecimal;sexagesimalToDecimal$1.default=_default$A;var isValidCoordinate$1={},getCoordinateKeys$1={};Object.defineProperty(getCoordinateKeys$1,"__esModule",{value:!0});getCoordinateKeys$1.default=void 0;var _constants$c=constants,_getCoordinateKey$2=_interopRequireDefault$q(getCoordinateKey$1);function _interopRequireDefault$q(tt){return tt&&tt.__esModule?tt:{default:tt}}function ownKeys$2(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread$1(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object(nt),!0).forEach(function(rt){_defineProperty$2(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys$2(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _defineProperty$2(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}var getCoordinateKeys=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:_constants$c.longitudeKeys,latitude:_constants$c.latitudeKeys,altitude:_constants$c.altitudeKeys},rt=(0,_getCoordinateKey$2.default)(et,nt.longitude),it=(0,_getCoordinateKey$2.default)(et,nt.latitude),ot=(0,_getCoordinateKey$2.default)(et,nt.altitude);return _objectSpread$1({latitude:it,longitude:rt},ot?{altitude:ot}:{})},_default$z=getCoordinateKeys;getCoordinateKeys$1.default=_default$z;var isValidLatitude$1={};Object.defineProperty(isValidLatitude$1,"__esModule",{value:!0});isValidLatitude$1.default=void 0;var _isDecimal$2=_interopRequireDefault$p(isDecimal$1),_isSexagesimal$2=_interopRequireDefault$p(isSexagesimal$1),_sexagesimalToDecimal$2=_interopRequireDefault$p(sexagesimalToDecimal$1),_constants$b=constants;function _interopRequireDefault$p(tt){return tt&&tt.__esModule?tt:{default:tt}}var isValidLatitude=function tt(et){return(0,_isDecimal$2.default)(et)?!(parseFloat(et)>_constants$b.MAXLAT||et<_constants$b.MINLAT):(0,_isSexagesimal$2.default)(et)?tt((0,_sexagesimalToDecimal$2.default)(et)):!1},_default$y=isValidLatitude;isValidLatitude$1.default=_default$y;var isValidLongitude$1={};Object.defineProperty(isValidLongitude$1,"__esModule",{value:!0});isValidLongitude$1.default=void 0;var _isDecimal$1=_interopRequireDefault$o(isDecimal$1),_isSexagesimal$1=_interopRequireDefault$o(isSexagesimal$1),_sexagesimalToDecimal$1=_interopRequireDefault$o(sexagesimalToDecimal$1),_constants$a=constants;function _interopRequireDefault$o(tt){return tt&&tt.__esModule?tt:{default:tt}}var isValidLongitude=function tt(et){return(0,_isDecimal$1.default)(et)?!(parseFloat(et)>_constants$a.MAXLON||et<_constants$a.MINLON):(0,_isSexagesimal$1.default)(et)?tt((0,_sexagesimalToDecimal$1.default)(et)):!1},_default$x=isValidLongitude;isValidLongitude$1.default=_default$x;Object.defineProperty(isValidCoordinate$1,"__esModule",{value:!0});isValidCoordinate$1.default=void 0;var _getCoordinateKeys2=_interopRequireDefault$n(getCoordinateKeys$1),_isValidLatitude=_interopRequireDefault$n(isValidLatitude$1),_isValidLongitude=_interopRequireDefault$n(isValidLongitude$1);function _interopRequireDefault$n(tt){return tt&&tt.__esModule?tt:{default:tt}}var isValidCoordinate=function tt(et){var nt=(0,_getCoordinateKeys2.default)(et),rt=nt.latitude,it=nt.longitude;if(Array.isArray(et)&&et.length>=2)return(0,_isValidLongitude.default)(et[0])&&(0,_isValidLatitude.default)(et[1]);if(typeof rt=="undefined"||typeof it=="undefined")return!1;var ot=et[it],at=et[rt];return!(typeof at=="undefined"||typeof ot=="undefined"||(0,_isValidLatitude.default)(at)===!1||(0,_isValidLongitude.default)(ot)===!1)},_default$w=isValidCoordinate;isValidCoordinate$1.default=_default$w;Object.defineProperty(toDecimal$1,"__esModule",{value:!0});toDecimal$1.default=void 0;var _isDecimal=_interopRequireDefault$m(isDecimal$1),_isSexagesimal=_interopRequireDefault$m(isSexagesimal$1),_sexagesimalToDecimal=_interopRequireDefault$m(sexagesimalToDecimal$1),_isValidCoordinate=_interopRequireDefault$m(isValidCoordinate$1),_getCoordinateKeys=_interopRequireDefault$m(getCoordinateKeys$1);function _interopRequireDefault$m(tt){return tt&&tt.__esModule?tt:{default:tt}}function ownKeys$1(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(nt),!0).forEach(function(rt){_defineProperty$1(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys$1(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _defineProperty$1(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}var toDecimal=function tt(et){if((0,_isDecimal.default)(et))return Number(et);if((0,_isSexagesimal.default)(et))return(0,_sexagesimalToDecimal.default)(et);if((0,_isValidCoordinate.default)(et)){var nt=(0,_getCoordinateKeys.default)(et);return Array.isArray(et)?et.map(function(rt,it){return[0,1].includes(it)?tt(rt):rt}):_objectSpread(_objectSpread(_objectSpread({},et),nt.latitude&&_defineProperty$1({},nt.latitude,tt(et[nt.latitude]))),nt.longitude&&_defineProperty$1({},nt.longitude,tt(et[nt.longitude])))}return Array.isArray(et)?et.map(function(rt){return(0,_isValidCoordinate.default)(rt)?tt(rt):rt}):et},_default$v=toDecimal;toDecimal$1.default=_default$v;Object.defineProperty(getLatitude$1,"__esModule",{value:!0});getLatitude$1.default=void 0;var _constants$9=constants,_getCoordinateKey$1=_interopRequireDefault$l(getCoordinateKey$1),_toDecimal$1=_interopRequireDefault$l(toDecimal$1);function _interopRequireDefault$l(tt){return tt&&tt.__esModule?tt:{default:tt}}var getLatitude=function tt(et,nt){var rt=(0,_getCoordinateKey$1.default)(et,_constants$9.latitudeKeys);if(!(typeof rt=="undefined"||rt===null)){var it=et[rt];return nt===!0?it:(0,_toDecimal$1.default)(it)}},_default$u=getLatitude;getLatitude$1.default=_default$u;var getLongitude$1={};Object.defineProperty(getLongitude$1,"__esModule",{value:!0});getLongitude$1.default=void 0;var _constants$8=constants,_getCoordinateKey=_interopRequireDefault$k(getCoordinateKey$1),_toDecimal=_interopRequireDefault$k(toDecimal$1);function _interopRequireDefault$k(tt){return tt&&tt.__esModule?tt:{default:tt}}var getLongitude=function tt(et,nt){var rt=(0,_getCoordinateKey.default)(et,_constants$8.longitudeKeys);if(!(typeof rt=="undefined"||rt===null)){var it=et[rt];return nt===!0?it:(0,_toDecimal.default)(it)}},_default$t=getLongitude;getLongitude$1.default=_default$t;var toRad$1={};Object.defineProperty(toRad$1,"__esModule",{value:!0});toRad$1.default=void 0;var toRad=function tt(et){return et*Math.PI/180},_default$s=toRad;toRad$1.default=_default$s;var toDeg$1={};Object.defineProperty(toDeg$1,"__esModule",{value:!0});toDeg$1.default=void 0;var toDeg=function tt(et){return et*180/Math.PI},_default$r=toDeg;toDeg$1.default=_default$r;Object.defineProperty(computeDestinationPoint$1,"__esModule",{value:!0});computeDestinationPoint$1.default=void 0;var _getLatitude$9=_interopRequireDefault$j(getLatitude$1),_getLongitude$9=_interopRequireDefault$j(getLongitude$1),_toRad$7=_interopRequireDefault$j(toRad$1),_toDeg$4=_interopRequireDefault$j(toDeg$1),_constants$7=constants;function _interopRequireDefault$j(tt){return tt&&tt.__esModule?tt:{default:tt}}var computeDestinationPoint=function tt(et,nt,rt){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,ot=(0,_getLatitude$9.default)(et),at=(0,_getLongitude$9.default)(et),st=nt/it,lt=(0,_toRad$7.default)(rt),ct=(0,_toRad$7.default)(ot),ft=(0,_toRad$7.default)(at),ut=Math.asin(Math.sin(ct)*Math.cos(st)+Math.cos(ct)*Math.sin(st)*Math.cos(lt)),dt=ft+Math.atan2(Math.sin(lt)*Math.sin(st)*Math.cos(ct),Math.cos(st)-Math.sin(ct)*Math.sin(ut)),ht=(0,_toDeg$4.default)(dt);return(ht<_constants$7.MINLON||ht>_constants$7.MAXLON)&&(dt=(dt+3*Math.PI)%(2*Math.PI)-Math.PI,ht=(0,_toDeg$4.default)(dt)),{latitude:(0,_toDeg$4.default)(ut),longitude:ht}},_default$q=computeDestinationPoint;computeDestinationPoint$1.default=_default$q;var convertArea$1={};Object.defineProperty(convertArea$1,"__esModule",{value:!0});convertArea$1.default=void 0;var _constants$6=constants,convertArea=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",rt=_constants$6.areaConversion[nt];if(rt)return et*rt;throw new Error("Invalid unit used for area conversion.")},_default$p=convertArea;convertArea$1.default=_default$p;var convertDistance$1={};Object.defineProperty(convertDistance$1,"__esModule",{value:!0});convertDistance$1.default=void 0;var _constants$5=constants,convertDistance=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",rt=_constants$5.distanceConversion[nt];if(rt)return et*rt;throw new Error("Invalid unit used for distance conversion.")},_default$o=convertDistance;convertDistance$1.default=_default$o;var convertSpeed$1={};Object.defineProperty(convertSpeed$1,"__esModule",{value:!0});convertSpeed$1.default=void 0;var _constants$4=constants,convertSpeed=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(nt){case"kmh":return et*_constants$4.timeConversion.h*_constants$4.distanceConversion.km;case"mph":return et*_constants$4.timeConversion.h*_constants$4.distanceConversion.mi;default:return et}},_default$n=convertSpeed;convertSpeed$1.default=_default$n;var decimalToSexagesimal={};Object.defineProperty(decimalToSexagesimal,"__esModule",{value:!0});decimalToSexagesimal.default=void 0;function _slicedToArray$2(tt,et){return _arrayWithHoles$2(tt)||_iterableToArrayLimit$2(tt,et)||_unsupportedIterableToArray$2(tt,et)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(tt,et){if(!!tt){if(typeof tt=="string")return _arrayLikeToArray$2(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray$2(tt,et)}}function _arrayLikeToArray$2(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _iterableToArrayLimit$2(tt,et){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(tt)))){var nt=[],rt=!0,it=!1,ot=void 0;try{for(var at=tt[Symbol.iterator](),st;!(rt=(st=at.next()).done)&&(nt.push(st.value),!(et&&nt.length===et));rt=!0);}catch(lt){it=!0,ot=lt}finally{try{!rt&&at.return!=null&&at.return()}finally{if(it)throw ot}}return nt}}function _arrayWithHoles$2(tt){if(Array.isArray(tt))return tt}var imprecise=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,rt=Math.pow(10,nt);return Math.round(et*rt)/rt},decimal2sexagesimalNext=function tt(et){var nt=et.toString().split("."),rt=_slicedToArray$2(nt,2),it=rt[0],ot=rt[1],at=Math.abs(Number(it)),st=Number("0."+(ot||0))*60,lt=st.toString().split("."),ct=Math.floor(st),ft=imprecise(Number("0."+(lt[1]||0))*60).toString(),ut=ft.split("."),dt=_slicedToArray$2(ut,2),ht=dt[0],pt=dt[1],gt=pt===void 0?"0":pt;return at+"\xB0 "+ct.toString().padStart(2,"0")+"' "+ht.padStart(2,"0")+"."+gt.padEnd(1,"0")+'"'},_default$m=decimal2sexagesimalNext;decimalToSexagesimal.default=_default$m;var findNearest$1={},orderByDistance$1={},getDistance$2={},robustAcos$1={};Object.defineProperty(robustAcos$1,"__esModule",{value:!0});robustAcos$1.default=void 0;var robustAcos=function tt(et){return et>1?1:et<-1?-1:et},_default$l=robustAcos;robustAcos$1.default=_default$l;Object.defineProperty(getDistance$2,"__esModule",{value:!0});getDistance$2.default=void 0;var _getLatitude$8=_interopRequireDefault$i(getLatitude$1),_getLongitude$8=_interopRequireDefault$i(getLongitude$1),_toRad$6=_interopRequireDefault$i(toRad$1),_robustAcos$1=_interopRequireDefault$i(robustAcos$1),_constants$3=constants;function _interopRequireDefault$i(tt){return tt&&tt.__esModule?tt:{default:tt}}var getDistance$1=function tt(et,nt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;rt=typeof rt!="undefined"&&!isNaN(rt)?rt:1;var it=(0,_getLatitude$8.default)(et),ot=(0,_getLongitude$8.default)(et),at=(0,_getLatitude$8.default)(nt),st=(0,_getLongitude$8.default)(nt),lt=Math.acos((0,_robustAcos$1.default)(Math.sin((0,_toRad$6.default)(at))*Math.sin((0,_toRad$6.default)(it))+Math.cos((0,_toRad$6.default)(at))*Math.cos((0,_toRad$6.default)(it))*Math.cos((0,_toRad$6.default)(ot)-(0,_toRad$6.default)(st))))*_constants$3.earthRadius;return Math.round(lt/rt)*rt},_default$k=getDistance$1;getDistance$2.default=_default$k;Object.defineProperty(orderByDistance$1,"__esModule",{value:!0});orderByDistance$1.default=void 0;var _getDistance$5=_interopRequireDefault$h(getDistance$2);function _interopRequireDefault$h(tt){return tt&&tt.__esModule?tt:{default:tt}}var orderByDistance=function tt(et,nt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_getDistance$5.default;return rt=typeof rt=="function"?rt:_getDistance$5.default,nt.slice().sort(function(it,ot){return rt(et,it)-rt(et,ot)})},_default$j=orderByDistance;orderByDistance$1.default=_default$j;Object.defineProperty(findNearest$1,"__esModule",{value:!0});findNearest$1.default=void 0;var _orderByDistance=_interopRequireDefault$g(orderByDistance$1);function _interopRequireDefault$g(tt){return tt&&tt.__esModule?tt:{default:tt}}var findNearest=function tt(et,nt){return(0,_orderByDistance.default)(et,nt)[0]},_default$i=findNearest;findNearest$1.default=_default$i;var getAreaOfPolygon$1={};Object.defineProperty(getAreaOfPolygon$1,"__esModule",{value:!0});getAreaOfPolygon$1.default=void 0;var _toRad$5=_interopRequireDefault$f(toRad$1),_getLatitude$7=_interopRequireDefault$f(getLatitude$1),_getLongitude$7=_interopRequireDefault$f(getLongitude$1),_constants$2=constants;function _interopRequireDefault$f(tt){return tt&&tt.__esModule?tt:{default:tt}}var getAreaOfPolygon=function tt(et){var nt=0;if(et.length>2){for(var rt,it,ot,at=0;at<et.length;at++){at===et.length-2?(rt=et.length-2,it=et.length-1,ot=0):at===et.length-1?(rt=et.length-1,it=0,ot=1):(rt=at,it=at+1,ot=at+2);var st=(0,_getLongitude$7.default)(et[rt]),lt=(0,_getLatitude$7.default)(et[it]),ct=(0,_getLongitude$7.default)(et[ot]);nt+=((0,_toRad$5.default)(ct)-(0,_toRad$5.default)(st))*Math.sin((0,_toRad$5.default)(lt))}nt=nt*_constants$2.earthRadius*_constants$2.earthRadius/2}return Math.abs(nt)},_default$h=getAreaOfPolygon;getAreaOfPolygon$1.default=_default$h;var getBounds$1={};Object.defineProperty(getBounds$1,"__esModule",{value:!0});getBounds$1.default=void 0;var _getLatitude$6=_interopRequireDefault$e(getLatitude$1),_getLongitude$6=_interopRequireDefault$e(getLongitude$1);function _interopRequireDefault$e(tt){return tt&&tt.__esModule?tt:{default:tt}}var getBounds=function tt(et){if(Array.isArray(et)===!1||et.length===0)throw new Error("No points were given.");return et.reduce(function(nt,rt){var it=(0,_getLatitude$6.default)(rt),ot=(0,_getLongitude$6.default)(rt);return{maxLat:Math.max(it,nt.maxLat),minLat:Math.min(it,nt.minLat),maxLng:Math.max(ot,nt.maxLng),minLng:Math.min(ot,nt.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},_default$g=getBounds;getBounds$1.default=_default$g;var getBoundsOfDistance$1={};Object.defineProperty(getBoundsOfDistance$1,"__esModule",{value:!0});getBoundsOfDistance$1.default=void 0;var _getLatitude$5=_interopRequireDefault$d(getLatitude$1),_getLongitude$5=_interopRequireDefault$d(getLongitude$1),_toRad$4=_interopRequireDefault$d(toRad$1),_toDeg$3=_interopRequireDefault$d(toDeg$1),_constants$1=constants;function _interopRequireDefault$d(tt){return tt&&tt.__esModule?tt:{default:tt}}var getBoundsOfDistance=function tt(et,nt){var rt=(0,_getLatitude$5.default)(et),it=(0,_getLongitude$5.default)(et),ot=(0,_toRad$4.default)(rt),at=(0,_toRad$4.default)(it),st=nt/_constants$1.earthRadius,lt=ot-st,ct=ot+st,ft=(0,_toRad$4.default)(_constants$1.MAXLAT),ut=(0,_toRad$4.default)(_constants$1.MINLAT),dt=(0,_toRad$4.default)(_constants$1.MAXLON),ht=(0,_toRad$4.default)(_constants$1.MINLON),pt,gt;if(lt>ut&&ct<ft){var mt=Math.asin(Math.sin(st)/Math.cos(ot));pt=at-mt,pt<ht&&(pt+=Math.PI*2),gt=at+mt,gt>dt&&(gt-=Math.PI*2)}else lt=Math.max(lt,ut),ct=Math.min(ct,ft),pt=ht,gt=dt;return[{latitude:(0,_toDeg$3.default)(lt),longitude:(0,_toDeg$3.default)(pt)},{latitude:(0,_toDeg$3.default)(ct),longitude:(0,_toDeg$3.default)(gt)}]},_default$f=getBoundsOfDistance;getBoundsOfDistance$1.default=_default$f;var getCenter$1={};Object.defineProperty(getCenter$1,"__esModule",{value:!0});getCenter$1.default=void 0;var _getLatitude$4=_interopRequireDefault$c(getLatitude$1),_getLongitude$4=_interopRequireDefault$c(getLongitude$1),_toRad$3=_interopRequireDefault$c(toRad$1),_toDeg$2=_interopRequireDefault$c(toDeg$1);function _interopRequireDefault$c(tt){return tt&&tt.__esModule?tt:{default:tt}}var getCenter=function tt(et){if(Array.isArray(et)===!1||et.length===0)return!1;var nt=et.length,rt=et.reduce(function(st,lt){var ct=(0,_toRad$3.default)((0,_getLatitude$4.default)(lt)),ft=(0,_toRad$3.default)((0,_getLongitude$4.default)(lt));return{X:st.X+Math.cos(ct)*Math.cos(ft),Y:st.Y+Math.cos(ct)*Math.sin(ft),Z:st.Z+Math.sin(ct)}},{X:0,Y:0,Z:0}),it=rt.X/nt,ot=rt.Y/nt,at=rt.Z/nt;return{longitude:(0,_toDeg$2.default)(Math.atan2(ot,it)),latitude:(0,_toDeg$2.default)(Math.atan2(at,Math.sqrt(it*it+ot*ot)))}},_default$e=getCenter;getCenter$1.default=_default$e;var getCenterOfBounds$1={};Object.defineProperty(getCenterOfBounds$1,"__esModule",{value:!0});getCenterOfBounds$1.default=void 0;var _getBounds=_interopRequireDefault$b(getBounds$1);function _interopRequireDefault$b(tt){return tt&&tt.__esModule?tt:{default:tt}}var getCenterOfBounds=function tt(et){var nt=(0,_getBounds.default)(et),rt=nt.minLat+(nt.maxLat-nt.minLat)/2,it=nt.minLng+(nt.maxLng-nt.minLng)/2;return{latitude:parseFloat(rt.toFixed(6)),longitude:parseFloat(it.toFixed(6))}},_default$d=getCenterOfBounds;getCenterOfBounds$1.default=_default$d;var getCompassDirection$1={},getRhumbLineBearing$1={};Object.defineProperty(getRhumbLineBearing$1,"__esModule",{value:!0});getRhumbLineBearing$1.default=void 0;var _getLatitude$3=_interopRequireDefault$a(getLatitude$1),_getLongitude$3=_interopRequireDefault$a(getLongitude$1),_toRad$2=_interopRequireDefault$a(toRad$1),_toDeg$1=_interopRequireDefault$a(toDeg$1);function _interopRequireDefault$a(tt){return tt&&tt.__esModule?tt:{default:tt}}var getRhumbLineBearing=function tt(et,nt){var rt=(0,_toRad$2.default)((0,_getLongitude$3.default)(nt))-(0,_toRad$2.default)((0,_getLongitude$3.default)(et)),it=Math.log(Math.tan((0,_toRad$2.default)((0,_getLatitude$3.default)(nt))/2+Math.PI/4)/Math.tan((0,_toRad$2.default)((0,_getLatitude$3.default)(et))/2+Math.PI/4));return Math.abs(rt)>Math.PI&&(rt>0?rt=(Math.PI*2-rt)*-1:rt=Math.PI*2+rt),((0,_toDeg$1.default)(Math.atan2(rt,it))+360)%360},_default$c=getRhumbLineBearing;getRhumbLineBearing$1.default=_default$c;Object.defineProperty(getCompassDirection$1,"__esModule",{value:!0});getCompassDirection$1.default=void 0;var _getRhumbLineBearing=_interopRequireDefault$9(getRhumbLineBearing$1);function _interopRequireDefault$9(tt){return tt&&tt.__esModule?tt:{default:tt}}var getCompassDirection=function tt(et,nt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_getRhumbLineBearing.default,it=typeof rt=="function"?rt(et,nt):(0,_getRhumbLineBearing.default)(et,nt);if(isNaN(it))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(it/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},_default$b=getCompassDirection;getCompassDirection$1.default=_default$b;var getDistanceFromLine$1={};Object.defineProperty(getDistanceFromLine$1,"__esModule",{value:!0});getDistanceFromLine$1.default=void 0;var _getDistance$4=_interopRequireDefault$8(getDistance$2),_robustAcos=_interopRequireDefault$8(robustAcos$1);function _interopRequireDefault$8(tt){return tt&&tt.__esModule?tt:{default:tt}}var getDistanceFromLine=function tt(et,nt,rt){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,ot=(0,_getDistance$4.default)(nt,et,it),at=(0,_getDistance$4.default)(et,rt,it),st=(0,_getDistance$4.default)(nt,rt,it),lt=Math.acos((0,_robustAcos.default)((ot*ot+st*st-at*at)/(2*ot*st))),ct=Math.acos((0,_robustAcos.default)((at*at+st*st-ot*ot)/(2*at*st)));return lt>Math.PI/2?ot:ct>Math.PI/2?at:Math.sin(lt)*ot},_default$a=getDistanceFromLine;getDistanceFromLine$1.default=_default$a;var getGreatCircleBearing$1={};Object.defineProperty(getGreatCircleBearing$1,"__esModule",{value:!0});getGreatCircleBearing$1.default=void 0;var _getLatitude$2=_interopRequireDefault$7(getLatitude$1),_getLongitude$2=_interopRequireDefault$7(getLongitude$1),_toRad$1=_interopRequireDefault$7(toRad$1),_toDeg=_interopRequireDefault$7(toDeg$1);function _interopRequireDefault$7(tt){return tt&&tt.__esModule?tt:{default:tt}}var getGreatCircleBearing=function tt(et,nt){var rt=(0,_getLatitude$2.default)(nt),it=(0,_getLongitude$2.default)(nt),ot=(0,_getLatitude$2.default)(et),at=(0,_getLongitude$2.default)(et),st=((0,_toDeg.default)(Math.atan2(Math.sin((0,_toRad$1.default)(it)-(0,_toRad$1.default)(at))*Math.cos((0,_toRad$1.default)(rt)),Math.cos((0,_toRad$1.default)(ot))*Math.sin((0,_toRad$1.default)(rt))-Math.sin((0,_toRad$1.default)(ot))*Math.cos((0,_toRad$1.default)(rt))*Math.cos((0,_toRad$1.default)(it)-(0,_toRad$1.default)(at))))+360)%360;return st},_default$9=getGreatCircleBearing;getGreatCircleBearing$1.default=_default$9;var getPathLength$1={};Object.defineProperty(getPathLength$1,"__esModule",{value:!0});getPathLength$1.default=void 0;var _getDistance$3=_interopRequireDefault$6(getDistance$2);function _interopRequireDefault$6(tt){return tt&&tt.__esModule?tt:{default:tt}}function _typeof$1(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(nt){return typeof nt}:_typeof$1=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$1(tt)}var getPathLength=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_getDistance$3.default;return et.reduce(function(rt,it){return _typeof$1(rt)==="object"&&rt.last!==null&&(rt.distance+=nt(it,rt.last)),rt.last=it,rt},{last:null,distance:0}).distance},_default$8=getPathLength;getPathLength$1.default=_default$8;var getPreciseDistance={};Object.defineProperty(getPreciseDistance,"__esModule",{value:!0});getPreciseDistance.default=void 0;var _getLatitude$1=_interopRequireDefault$5(getLatitude$1),_getLongitude$1=_interopRequireDefault$5(getLongitude$1),_toRad=_interopRequireDefault$5(toRad$1),_constants=constants;function _interopRequireDefault$5(tt){return tt&&tt.__esModule?tt:{default:tt}}var getDistance=function tt(et,nt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;rt=typeof rt!="undefined"&&!isNaN(rt)?rt:1;var it=(0,_getLatitude$1.default)(et),ot=(0,_getLongitude$1.default)(et),at=(0,_getLatitude$1.default)(nt),st=(0,_getLongitude$1.default)(nt),lt=6356752314245e-6,ct=1/298.257223563,ft=(0,_toRad.default)(st-ot),ut,dt,ht,pt,gt,mt,yt=Math.atan((1-ct)*Math.tan((0,_toRad.default)(parseFloat(it)))),bt=Math.atan((1-ct)*Math.tan((0,_toRad.default)(parseFloat(at)))),St=Math.sin(yt),xt=Math.cos(yt),vt=Math.sin(bt),$t=Math.cos(bt),zt=ft,Nt,wt=100;do{var Et=Math.sin(zt),Rt=Math.cos(zt);if(mt=Math.sqrt($t*Et*($t*Et)+(xt*vt-St*$t*Rt)*(xt*vt-St*$t*Rt)),mt===0)return 0;ut=St*vt+xt*$t*Rt,dt=Math.atan2(mt,ut),ht=xt*$t*Et/mt,pt=1-ht*ht,gt=ut-2*St*vt/pt,isNaN(gt)&&(gt=0);var Tt=ct/16*pt*(4+ct*(4-3*pt));Nt=zt,zt=ft+(1-Tt)*ct*ht*(dt+Tt*mt*(gt+Tt*ut*(-1+2*gt*gt)))}while(Math.abs(zt-Nt)>1e-12&&--wt>0);if(wt===0)return NaN;var It=pt*(_constants.earthRadius*_constants.earthRadius-lt*lt)/(lt*lt),Pt=1+It/16384*(4096+It*(-768+It*(320-175*It))),Dt=It/1024*(256+It*(-128+It*(74-47*It))),Ct=Dt*mt*(gt+Dt/4*(ut*(-1+2*gt*gt)-Dt/6*gt*(-3+4*mt*mt)*(-3+4*gt*gt))),Ot=lt*Pt*(dt-Ct);return Math.round(Ot/rt)*rt},_default$7=getDistance;getPreciseDistance.default=_default$7;var getRoughCompassDirection$1={};Object.defineProperty(getRoughCompassDirection$1,"__esModule",{value:!0});getRoughCompassDirection$1.default=void 0;var getRoughCompassDirection=function tt(et){if(/^NNE|NE|NNW|N$/.test(et))return"N";if(/^ENE|E|ESE|SE$/.test(et))return"E";if(/^SSE|S|SSW|SW$/.test(et))return"S";if(/^WSW|W|WNW|NW$/.test(et))return"W"},_default$6=getRoughCompassDirection;getRoughCompassDirection$1.default=_default$6;var getSpeed$1={};Object.defineProperty(getSpeed$1,"__esModule",{value:!0});getSpeed$1.default=void 0;var _getDistance$2=_interopRequireDefault$4(getDistance$2);function _interopRequireDefault$4(tt){return tt&&tt.__esModule?tt:{default:tt}}var getSpeed=function tt(et,nt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_getDistance$2.default,it=rt(et,nt),ot=Number(nt.time)-Number(et.time),at=it/ot*1e3;return at},_default$5=getSpeed;getSpeed$1.default=_default$5;var isPointInLine$1={};Object.defineProperty(isPointInLine$1,"__esModule",{value:!0});isPointInLine$1.default=void 0;var _getDistance$1=_interopRequireDefault$3(getDistance$2);function _interopRequireDefault$3(tt){return tt&&tt.__esModule?tt:{default:tt}}var isPointInLine=function tt(et,nt,rt){return(0,_getDistance$1.default)(nt,et)+(0,_getDistance$1.default)(et,rt)===(0,_getDistance$1.default)(nt,rt)},_default$4=isPointInLine;isPointInLine$1.default=_default$4;var isPointInPolygon$1={};Object.defineProperty(isPointInPolygon$1,"__esModule",{value:!0});isPointInPolygon$1.default=void 0;var _getLatitude=_interopRequireDefault$2(getLatitude$1),_getLongitude=_interopRequireDefault$2(getLongitude$1);function _interopRequireDefault$2(tt){return tt&&tt.__esModule?tt:{default:tt}}var isPointInPolygon=function tt(et,nt){for(var rt=!1,it=nt.length,ot=-1,at=it-1;++ot<it;at=ot)((0,_getLongitude.default)(nt[ot])<=(0,_getLongitude.default)(et)&&(0,_getLongitude.default)(et)<(0,_getLongitude.default)(nt[at])||(0,_getLongitude.default)(nt[at])<=(0,_getLongitude.default)(et)&&(0,_getLongitude.default)(et)<(0,_getLongitude.default)(nt[ot]))&&(0,_getLatitude.default)(et)<((0,_getLatitude.default)(nt[at])-(0,_getLatitude.default)(nt[ot]))*((0,_getLongitude.default)(et)-(0,_getLongitude.default)(nt[ot]))/((0,_getLongitude.default)(nt[at])-(0,_getLongitude.default)(nt[ot]))+(0,_getLatitude.default)(nt[ot])&&(rt=!rt);return rt},_default$3=isPointInPolygon;isPointInPolygon$1.default=_default$3;var isPointNearLine$1={};Object.defineProperty(isPointNearLine$1,"__esModule",{value:!0});isPointNearLine$1.default=void 0;var _getDistanceFromLine=_interopRequireDefault$1(getDistanceFromLine$1);function _interopRequireDefault$1(tt){return tt&&tt.__esModule?tt:{default:tt}}var isPointNearLine=function tt(et,nt,rt,it){return(0,_getDistanceFromLine.default)(et,nt,rt)<it},_default$2=isPointNearLine;isPointNearLine$1.default=_default$2;var isPointWithinRadius$1={};Object.defineProperty(isPointWithinRadius$1,"__esModule",{value:!0});isPointWithinRadius$1.default=void 0;var _getDistance=_interopRequireDefault(getDistance$2);function _interopRequireDefault(tt){return tt&&tt.__esModule?tt:{default:tt}}var isPointWithinRadius=function tt(et,nt,rt){return(0,_getDistance.default)(et,nt)<rt},_default$1=isPointWithinRadius;isPointWithinRadius$1.default=_default$1;var wktToPolygon$1={};Object.defineProperty(wktToPolygon$1,"__esModule",{value:!0});wktToPolygon$1.default=void 0;function _slicedToArray$1(tt,et){return _arrayWithHoles$1(tt)||_iterableToArrayLimit$1(tt,et)||_unsupportedIterableToArray$1(tt,et)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(tt,et){if(!!tt){if(typeof tt=="string")return _arrayLikeToArray$1(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray$1(tt,et)}}function _arrayLikeToArray$1(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _iterableToArrayLimit$1(tt,et){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(tt)))){var nt=[],rt=!0,it=!1,ot=void 0;try{for(var at=tt[Symbol.iterator](),st;!(rt=(st=at.next()).done)&&(nt.push(st.value),!(et&&nt.length===et));rt=!0);}catch(lt){it=!0,ot=lt}finally{try{!rt&&at.return!=null&&at.return()}finally{if(it)throw ot}}return nt}}function _arrayWithHoles$1(tt){if(Array.isArray(tt))return tt}var wktToPolygon=function tt(et){if(!et.startsWith("POLYGON"))throw new Error("Invalid wkt.");var nt=et.slice(et.indexOf("(")+2,et.indexOf(")")).split(", "),rt=nt.map(function(it){var ot=it.split(" "),at=_slicedToArray$1(ot,2),st=at[0],lt=at[1];return{longitude:parseFloat(st),latitude:parseFloat(lt)}});return rt},_default=wktToPolygon;wktToPolygon$1.default=_default;(function(tt){Object.defineProperty(tt,"__esModule",{value:!0});var et={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(tt,"computeDestinationPoint",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(tt,"convertArea",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(tt,"convertDistance",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(tt,"convertSpeed",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(tt,"decimalToSexagesimal",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(tt,"findNearest",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(tt,"getAreaOfPolygon",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(tt,"getBounds",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(tt,"getBoundsOfDistance",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(tt,"getCenter",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(tt,"getCenterOfBounds",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(tt,"getCompassDirection",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(tt,"getCoordinateKey",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(tt,"getCoordinateKeys",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(tt,"getDistance",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(tt,"getDistanceFromLine",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(tt,"getGreatCircleBearing",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(tt,"getLatitude",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(tt,"getLongitude",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(tt,"getPathLength",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(tt,"getPreciseDistance",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(tt,"getRhumbLineBearing",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(tt,"getRoughCompassDirection",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(tt,"getSpeed",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(tt,"isDecimal",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(tt,"isPointInLine",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(tt,"isPointInPolygon",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(tt,"isPointNearLine",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(tt,"isPointWithinRadius",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(tt,"isSexagesimal",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(tt,"isValidCoordinate",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(tt,"isValidLatitude",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(tt,"isValidLongitude",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(tt,"orderByDistance",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(tt,"sexagesimalToDecimal",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(tt,"toDecimal",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(tt,"toRad",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(tt,"toDeg",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(tt,"wktToPolygon",{enumerable:!0,get:function(){return Ht.default}});var nt=Vt(computeDestinationPoint$1),rt=Vt(convertArea$1),it=Vt(convertDistance$1),ot=Vt(convertSpeed$1),at=Vt(decimalToSexagesimal),st=Vt(findNearest$1),lt=Vt(getAreaOfPolygon$1),ct=Vt(getBounds$1),ft=Vt(getBoundsOfDistance$1),ut=Vt(getCenter$1),dt=Vt(getCenterOfBounds$1),ht=Vt(getCompassDirection$1),pt=Vt(getCoordinateKey$1),gt=Vt(getCoordinateKeys$1),mt=Vt(getDistance$2),yt=Vt(getDistanceFromLine$1),bt=Vt(getGreatCircleBearing$1),St=Vt(getLatitude$1),xt=Vt(getLongitude$1),vt=Vt(getPathLength$1),$t=Vt(getPreciseDistance),zt=Vt(getRhumbLineBearing$1),Nt=Vt(getRoughCompassDirection$1),wt=Vt(getSpeed$1),Et=Vt(isDecimal$1),Rt=Vt(isPointInLine$1),Tt=Vt(isPointInPolygon$1),It=Vt(isPointNearLine$1),Pt=Vt(isPointWithinRadius$1),Dt=Vt(isSexagesimal$1),Ct=Vt(isValidCoordinate$1),Ot=Vt(isValidLatitude$1),Ut=Vt(isValidLongitude$1),At=Vt(orderByDistance$1),Mt=Vt(sexagesimalToDecimal$1),jt=Vt(toDecimal$1),kt=Vt(toRad$1),Gt=Vt(toDeg$1),Ht=Vt(wktToPolygon$1),Jt=constants;Object.keys(Jt).forEach(function(Wt){Wt==="default"||Wt==="__esModule"||Object.prototype.hasOwnProperty.call(et,Wt)||Object.defineProperty(tt,Wt,{enumerable:!0,get:function(){return Jt[Wt]}})});function Vt(Wt){return Wt&&Wt.__esModule?Wt:{default:Wt}}})(es);var jszip_min={exports:{}};/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(tt,et){(function(nt){tt.exports=nt()})(function(){return function nt(rt,it,ot){function at(ct,ft){if(!it[ct]){if(!rt[ct]){var ut=typeof commonjsRequire=="function"&&commonjsRequire;if(!ft&&ut)return ut(ct,!0);if(st)return st(ct,!0);var dt=new Error("Cannot find module '"+ct+"'");throw dt.code="MODULE_NOT_FOUND",dt}var ht=it[ct]={exports:{}};rt[ct][0].call(ht.exports,function(pt){var gt=rt[ct][1][pt];return at(gt||pt)},ht,ht.exports,nt,rt,it,ot)}return it[ct].exports}for(var st=typeof commonjsRequire=="function"&&commonjsRequire,lt=0;lt<ot.length;lt++)at(ot[lt]);return at}({1:[function(nt,rt,it){var ot=nt("./utils"),at=nt("./support"),st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";it.encode=function(lt){for(var ct,ft,ut,dt,ht,pt,gt,mt=[],yt=0,bt=lt.length,St=bt,xt=ot.getTypeOf(lt)!=="string";yt<lt.length;)St=bt-yt,ut=xt?(ct=lt[yt++],ft=yt<bt?lt[yt++]:0,yt<bt?lt[yt++]:0):(ct=lt.charCodeAt(yt++),ft=yt<bt?lt.charCodeAt(yt++):0,yt<bt?lt.charCodeAt(yt++):0),dt=ct>>2,ht=(3&ct)<<4|ft>>4,pt=1<St?(15&ft)<<2|ut>>6:64,gt=2<St?63&ut:64,mt.push(st.charAt(dt)+st.charAt(ht)+st.charAt(pt)+st.charAt(gt));return mt.join("")},it.decode=function(lt){var ct,ft,ut,dt,ht,pt,gt=0,mt=0,yt="data:";if(lt.substr(0,yt.length)===yt)throw new Error("Invalid base64 input, it looks like a data url.");var bt,St=3*(lt=lt.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(lt.charAt(lt.length-1)===st.charAt(64)&&St--,lt.charAt(lt.length-2)===st.charAt(64)&&St--,St%1!=0)throw new Error("Invalid base64 input, bad content length.");for(bt=at.uint8array?new Uint8Array(0|St):new Array(0|St);gt<lt.length;)ct=st.indexOf(lt.charAt(gt++))<<2|(dt=st.indexOf(lt.charAt(gt++)))>>4,ft=(15&dt)<<4|(ht=st.indexOf(lt.charAt(gt++)))>>2,ut=(3&ht)<<6|(pt=st.indexOf(lt.charAt(gt++))),bt[mt++]=ct,ht!==64&&(bt[mt++]=ft),pt!==64&&(bt[mt++]=ut);return bt}},{"./support":30,"./utils":32}],2:[function(nt,rt,it){var ot=nt("./external"),at=nt("./stream/DataWorker"),st=nt("./stream/Crc32Probe"),lt=nt("./stream/DataLengthProbe");function ct(ft,ut,dt,ht,pt){this.compressedSize=ft,this.uncompressedSize=ut,this.crc32=dt,this.compression=ht,this.compressedContent=pt}ct.prototype={getContentWorker:function(){var ft=new at(ot.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new lt("data_length")),ut=this;return ft.on("end",function(){if(this.streamInfo.data_length!==ut.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ft},getCompressedWorker:function(){return new at(ot.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ct.createWorkerFrom=function(ft,ut,dt){return ft.pipe(new st).pipe(new lt("uncompressedSize")).pipe(ut.compressWorker(dt)).pipe(new lt("compressedSize")).withStreamInfo("compression",ut)},rt.exports=ct},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(nt,rt,it){var ot=nt("./stream/GenericWorker");it.STORE={magic:"\0\0",compressWorker:function(at){return new ot("STORE compression")},uncompressWorker:function(){return new ot("STORE decompression")}},it.DEFLATE=nt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(nt,rt,it){var ot=nt("./utils"),at=function(){for(var st,lt=[],ct=0;ct<256;ct++){st=ct;for(var ft=0;ft<8;ft++)st=1&st?3988292384^st>>>1:st>>>1;lt[ct]=st}return lt}();rt.exports=function(st,lt){return st!==void 0&&st.length?ot.getTypeOf(st)!=="string"?function(ct,ft,ut,dt){var ht=at,pt=dt+ut;ct^=-1;for(var gt=dt;gt<pt;gt++)ct=ct>>>8^ht[255&(ct^ft[gt])];return-1^ct}(0|lt,st,st.length,0):function(ct,ft,ut,dt){var ht=at,pt=dt+ut;ct^=-1;for(var gt=dt;gt<pt;gt++)ct=ct>>>8^ht[255&(ct^ft.charCodeAt(gt))];return-1^ct}(0|lt,st,st.length,0):0}},{"./utils":32}],5:[function(nt,rt,it){it.base64=!1,it.binary=!1,it.dir=!1,it.createFolders=!0,it.date=null,it.compression=null,it.compressionOptions=null,it.comment=null,it.unixPermissions=null,it.dosPermissions=null},{}],6:[function(nt,rt,it){var ot=null;ot=typeof Promise!="undefined"?Promise:nt("lie"),rt.exports={Promise:ot}},{lie:37}],7:[function(nt,rt,it){var ot=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",at=nt("pako"),st=nt("./utils"),lt=nt("./stream/GenericWorker"),ct=ot?"uint8array":"array";function ft(ut,dt){lt.call(this,"FlateWorker/"+ut),this._pako=null,this._pakoAction=ut,this._pakoOptions=dt,this.meta={}}it.magic="\b\0",st.inherits(ft,lt),ft.prototype.processChunk=function(ut){this.meta=ut.meta,this._pako===null&&this._createPako(),this._pako.push(st.transformTo(ct,ut.data),!1)},ft.prototype.flush=function(){lt.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ft.prototype.cleanUp=function(){lt.prototype.cleanUp.call(this),this._pako=null},ft.prototype._createPako=function(){this._pako=new at[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ut=this;this._pako.onData=function(dt){ut.push({data:dt,meta:ut.meta})}},it.compressWorker=function(ut){return new ft("Deflate",ut)},it.uncompressWorker=function(){return new ft("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(nt,rt,it){function ot(ht,pt){var gt,mt="";for(gt=0;gt<pt;gt++)mt+=String.fromCharCode(255&ht),ht>>>=8;return mt}function at(ht,pt,gt,mt,yt,bt){var St,xt,vt=ht.file,$t=ht.compression,zt=bt!==ct.utf8encode,Nt=st.transformTo("string",bt(vt.name)),wt=st.transformTo("string",ct.utf8encode(vt.name)),Et=vt.comment,Rt=st.transformTo("string",bt(Et)),Tt=st.transformTo("string",ct.utf8encode(Et)),It=wt.length!==vt.name.length,Pt=Tt.length!==Et.length,Dt="",Ct="",Ot="",Ut=vt.dir,At=vt.date,Mt={crc32:0,compressedSize:0,uncompressedSize:0};pt&&!gt||(Mt.crc32=ht.crc32,Mt.compressedSize=ht.compressedSize,Mt.uncompressedSize=ht.uncompressedSize);var jt=0;pt&&(jt|=8),zt||!It&&!Pt||(jt|=2048);var kt=0,Gt=0;Ut&&(kt|=16),yt==="UNIX"?(Gt=798,kt|=function(Jt,Vt){var Wt=Jt;return Jt||(Wt=Vt?16893:33204),(65535&Wt)<<16}(vt.unixPermissions,Ut)):(Gt=20,kt|=function(Jt){return 63&(Jt||0)}(vt.dosPermissions)),St=At.getUTCHours(),St<<=6,St|=At.getUTCMinutes(),St<<=5,St|=At.getUTCSeconds()/2,xt=At.getUTCFullYear()-1980,xt<<=4,xt|=At.getUTCMonth()+1,xt<<=5,xt|=At.getUTCDate(),It&&(Ct=ot(1,1)+ot(ft(Nt),4)+wt,Dt+="up"+ot(Ct.length,2)+Ct),Pt&&(Ot=ot(1,1)+ot(ft(Rt),4)+Tt,Dt+="uc"+ot(Ot.length,2)+Ot);var Ht="";return Ht+=`
\0`,Ht+=ot(jt,2),Ht+=$t.magic,Ht+=ot(St,2),Ht+=ot(xt,2),Ht+=ot(Mt.crc32,4),Ht+=ot(Mt.compressedSize,4),Ht+=ot(Mt.uncompressedSize,4),Ht+=ot(Nt.length,2),Ht+=ot(Dt.length,2),{fileRecord:ut.LOCAL_FILE_HEADER+Ht+Nt+Dt,dirRecord:ut.CENTRAL_FILE_HEADER+ot(Gt,2)+Ht+ot(Rt.length,2)+"\0\0\0\0"+ot(kt,4)+ot(mt,4)+Nt+Dt+Rt}}var st=nt("../utils"),lt=nt("../stream/GenericWorker"),ct=nt("../utf8"),ft=nt("../crc32"),ut=nt("../signature");function dt(ht,pt,gt,mt){lt.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=pt,this.zipPlatform=gt,this.encodeFileName=mt,this.streamFiles=ht,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}st.inherits(dt,lt),dt.prototype.push=function(ht){var pt=ht.meta.percent||0,gt=this.entriesCount,mt=this._sources.length;this.accumulate?this.contentBuffer.push(ht):(this.bytesWritten+=ht.data.length,lt.prototype.push.call(this,{data:ht.data,meta:{currentFile:this.currentFile,percent:gt?(pt+100*(gt-mt-1))/gt:100}}))},dt.prototype.openedSource=function(ht){this.currentSourceOffset=this.bytesWritten,this.currentFile=ht.file.name;var pt=this.streamFiles&&!ht.file.dir;if(pt){var gt=at(ht,pt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:gt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},dt.prototype.closedSource=function(ht){this.accumulate=!1;var pt=this.streamFiles&&!ht.file.dir,gt=at(ht,pt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(gt.dirRecord),pt)this.push({data:function(mt){return ut.DATA_DESCRIPTOR+ot(mt.crc32,4)+ot(mt.compressedSize,4)+ot(mt.uncompressedSize,4)}(ht),meta:{percent:100}});else for(this.push({data:gt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},dt.prototype.flush=function(){for(var ht=this.bytesWritten,pt=0;pt<this.dirRecords.length;pt++)this.push({data:this.dirRecords[pt],meta:{percent:100}});var gt=this.bytesWritten-ht,mt=function(yt,bt,St,xt,vt){var $t=st.transformTo("string",vt(xt));return ut.CENTRAL_DIRECTORY_END+"\0\0\0\0"+ot(yt,2)+ot(yt,2)+ot(bt,4)+ot(St,4)+ot($t.length,2)+$t}(this.dirRecords.length,gt,ht,this.zipComment,this.encodeFileName);this.push({data:mt,meta:{percent:100}})},dt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},dt.prototype.registerPrevious=function(ht){this._sources.push(ht);var pt=this;return ht.on("data",function(gt){pt.processChunk(gt)}),ht.on("end",function(){pt.closedSource(pt.previous.streamInfo),pt._sources.length?pt.prepareNextSource():pt.end()}),ht.on("error",function(gt){pt.error(gt)}),this},dt.prototype.resume=function(){return!!lt.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},dt.prototype.error=function(ht){var pt=this._sources;if(!lt.prototype.error.call(this,ht))return!1;for(var gt=0;gt<pt.length;gt++)try{pt[gt].error(ht)}catch{}return!0},dt.prototype.lock=function(){lt.prototype.lock.call(this);for(var ht=this._sources,pt=0;pt<ht.length;pt++)ht[pt].lock()},rt.exports=dt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(nt,rt,it){var ot=nt("../compressions"),at=nt("./ZipFileWorker");it.generateWorker=function(st,lt,ct){var ft=new at(lt.streamFiles,ct,lt.platform,lt.encodeFileName),ut=0;try{st.forEach(function(dt,ht){ut++;var pt=function(bt,St){var xt=bt||St,vt=ot[xt];if(!vt)throw new Error(xt+" is not a valid compression method !");return vt}(ht.options.compression,lt.compression),gt=ht.options.compressionOptions||lt.compressionOptions||{},mt=ht.dir,yt=ht.date;ht._compressWorker(pt,gt).withStreamInfo("file",{name:dt,dir:mt,date:yt,comment:ht.comment||"",unixPermissions:ht.unixPermissions,dosPermissions:ht.dosPermissions}).pipe(ft)}),ft.entriesCount=ut}catch(dt){ft.error(dt)}return ft}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(nt,rt,it){function ot(){if(!(this instanceof ot))return new ot;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var at=new ot;for(var st in this)typeof this[st]!="function"&&(at[st]=this[st]);return at}}(ot.prototype=nt("./object")).loadAsync=nt("./load"),ot.support=nt("./support"),ot.defaults=nt("./defaults"),ot.version="3.10.0",ot.loadAsync=function(at,st){return new ot().loadAsync(at,st)},ot.external=nt("./external"),rt.exports=ot},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(nt,rt,it){var ot=nt("./utils"),at=nt("./external"),st=nt("./utf8"),lt=nt("./zipEntries"),ct=nt("./stream/Crc32Probe"),ft=nt("./nodejsUtils");function ut(dt){return new at.Promise(function(ht,pt){var gt=dt.decompressed.getContentWorker().pipe(new ct);gt.on("error",function(mt){pt(mt)}).on("end",function(){gt.streamInfo.crc32!==dt.decompressed.crc32?pt(new Error("Corrupted zip : CRC32 mismatch")):ht()}).resume()})}rt.exports=function(dt,ht){var pt=this;return ht=ot.extend(ht||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:st.utf8decode}),ft.isNode&&ft.isStream(dt)?at.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):ot.prepareContent("the loaded zip file",dt,!0,ht.optimizedBinaryString,ht.base64).then(function(gt){var mt=new lt(ht);return mt.load(gt),mt}).then(function(gt){var mt=[at.Promise.resolve(gt)],yt=gt.files;if(ht.checkCRC32)for(var bt=0;bt<yt.length;bt++)mt.push(ut(yt[bt]));return at.Promise.all(mt)}).then(function(gt){for(var mt=gt.shift(),yt=mt.files,bt=0;bt<yt.length;bt++){var St=yt[bt],xt=St.fileNameStr,vt=ot.resolve(St.fileNameStr);pt.file(vt,St.decompressed,{binary:!0,optimizedBinaryString:!0,date:St.date,dir:St.dir,comment:St.fileCommentStr.length?St.fileCommentStr:null,unixPermissions:St.unixPermissions,dosPermissions:St.dosPermissions,createFolders:ht.createFolders}),St.dir||(pt.file(vt).unsafeOriginalName=xt)}return mt.zipComment.length&&(pt.comment=mt.zipComment),pt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(nt,rt,it){var ot=nt("../utils"),at=nt("../stream/GenericWorker");function st(lt,ct){at.call(this,"Nodejs stream input adapter for "+lt),this._upstreamEnded=!1,this._bindStream(ct)}ot.inherits(st,at),st.prototype._bindStream=function(lt){var ct=this;(this._stream=lt).pause(),lt.on("data",function(ft){ct.push({data:ft,meta:{percent:0}})}).on("error",function(ft){ct.isPaused?this.generatedError=ft:ct.error(ft)}).on("end",function(){ct.isPaused?ct._upstreamEnded=!0:ct.end()})},st.prototype.pause=function(){return!!at.prototype.pause.call(this)&&(this._stream.pause(),!0)},st.prototype.resume=function(){return!!at.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},rt.exports=st},{"../stream/GenericWorker":28,"../utils":32}],13:[function(nt,rt,it){var ot=nt("readable-stream").Readable;function at(st,lt,ct){ot.call(this,lt),this._helper=st;var ft=this;st.on("data",function(ut,dt){ft.push(ut)||ft._helper.pause(),ct&&ct(dt)}).on("error",function(ut){ft.emit("error",ut)}).on("end",function(){ft.push(null)})}nt("../utils").inherits(at,ot),at.prototype._read=function(){this._helper.resume()},rt.exports=at},{"../utils":32,"readable-stream":16}],14:[function(nt,rt,it){rt.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(ot,at){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(ot,at);if(typeof ot=="number")throw new Error('The "data" argument must not be a number');return new Buffer(ot,at)},allocBuffer:function(ot){if(Buffer.alloc)return Buffer.alloc(ot);var at=new Buffer(ot);return at.fill(0),at},isBuffer:function(ot){return Buffer.isBuffer(ot)},isStream:function(ot){return ot&&typeof ot.on=="function"&&typeof ot.pause=="function"&&typeof ot.resume=="function"}}},{}],15:[function(nt,rt,it){function ot(vt,$t,zt){var Nt,wt=st.getTypeOf($t),Et=st.extend(zt||{},ft);Et.date=Et.date||new Date,Et.compression!==null&&(Et.compression=Et.compression.toUpperCase()),typeof Et.unixPermissions=="string"&&(Et.unixPermissions=parseInt(Et.unixPermissions,8)),Et.unixPermissions&&16384&Et.unixPermissions&&(Et.dir=!0),Et.dosPermissions&&16&Et.dosPermissions&&(Et.dir=!0),Et.dir&&(vt=yt(vt)),Et.createFolders&&(Nt=mt(vt))&&bt.call(this,Nt,!0);var Rt=wt==="string"&&Et.binary===!1&&Et.base64===!1;zt&&zt.binary!==void 0||(Et.binary=!Rt),($t instanceof ut&&$t.uncompressedSize===0||Et.dir||!$t||$t.length===0)&&(Et.base64=!1,Et.binary=!0,$t="",Et.compression="STORE",wt="string");var Tt=null;Tt=$t instanceof ut||$t instanceof lt?$t:pt.isNode&&pt.isStream($t)?new gt(vt,$t):st.prepareContent(vt,$t,Et.binary,Et.optimizedBinaryString,Et.base64);var It=new dt(vt,Tt,Et);this.files[vt]=It}var at=nt("./utf8"),st=nt("./utils"),lt=nt("./stream/GenericWorker"),ct=nt("./stream/StreamHelper"),ft=nt("./defaults"),ut=nt("./compressedObject"),dt=nt("./zipObject"),ht=nt("./generate"),pt=nt("./nodejsUtils"),gt=nt("./nodejs/NodejsStreamInputAdapter"),mt=function(vt){vt.slice(-1)==="/"&&(vt=vt.substring(0,vt.length-1));var $t=vt.lastIndexOf("/");return 0<$t?vt.substring(0,$t):""},yt=function(vt){return vt.slice(-1)!=="/"&&(vt+="/"),vt},bt=function(vt,$t){return $t=$t!==void 0?$t:ft.createFolders,vt=yt(vt),this.files[vt]||ot.call(this,vt,null,{dir:!0,createFolders:$t}),this.files[vt]};function St(vt){return Object.prototype.toString.call(vt)==="[object RegExp]"}var xt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(vt){var $t,zt,Nt;for($t in this.files)Nt=this.files[$t],(zt=$t.slice(this.root.length,$t.length))&&$t.slice(0,this.root.length)===this.root&&vt(zt,Nt)},filter:function(vt){var $t=[];return this.forEach(function(zt,Nt){vt(zt,Nt)&&$t.push(Nt)}),$t},file:function(vt,$t,zt){if(arguments.length!==1)return vt=this.root+vt,ot.call(this,vt,$t,zt),this;if(St(vt)){var Nt=vt;return this.filter(function(Et,Rt){return!Rt.dir&&Nt.test(Et)})}var wt=this.files[this.root+vt];return wt&&!wt.dir?wt:null},folder:function(vt){if(!vt)return this;if(St(vt))return this.filter(function(wt,Et){return Et.dir&&vt.test(wt)});var $t=this.root+vt,zt=bt.call(this,$t),Nt=this.clone();return Nt.root=zt.name,Nt},remove:function(vt){vt=this.root+vt;var $t=this.files[vt];if($t||(vt.slice(-1)!=="/"&&(vt+="/"),$t=this.files[vt]),$t&&!$t.dir)delete this.files[vt];else for(var zt=this.filter(function(wt,Et){return Et.name.slice(0,vt.length)===vt}),Nt=0;Nt<zt.length;Nt++)delete this.files[zt[Nt].name];return this},generate:function(vt){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(vt){var $t,zt={};try{if((zt=st.extend(vt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:at.utf8encode})).type=zt.type.toLowerCase(),zt.compression=zt.compression.toUpperCase(),zt.type==="binarystring"&&(zt.type="string"),!zt.type)throw new Error("No output type specified.");st.checkSupport(zt.type),zt.platform!=="darwin"&&zt.platform!=="freebsd"&&zt.platform!=="linux"&&zt.platform!=="sunos"||(zt.platform="UNIX"),zt.platform==="win32"&&(zt.platform="DOS");var Nt=zt.comment||this.comment||"";$t=ht.generateWorker(this,zt,Nt)}catch(wt){($t=new lt("error")).error(wt)}return new ct($t,zt.type||"string",zt.mimeType)},generateAsync:function(vt,$t){return this.generateInternalStream(vt).accumulate($t)},generateNodeStream:function(vt,$t){return(vt=vt||{}).type||(vt.type="nodebuffer"),this.generateInternalStream(vt).toNodejsStream($t)}};rt.exports=xt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(nt,rt,it){rt.exports=nt("stream")},{stream:void 0}],17:[function(nt,rt,it){var ot=nt("./DataReader");function at(st){ot.call(this,st);for(var lt=0;lt<this.data.length;lt++)st[lt]=255&st[lt]}nt("../utils").inherits(at,ot),at.prototype.byteAt=function(st){return this.data[this.zero+st]},at.prototype.lastIndexOfSignature=function(st){for(var lt=st.charCodeAt(0),ct=st.charCodeAt(1),ft=st.charCodeAt(2),ut=st.charCodeAt(3),dt=this.length-4;0<=dt;--dt)if(this.data[dt]===lt&&this.data[dt+1]===ct&&this.data[dt+2]===ft&&this.data[dt+3]===ut)return dt-this.zero;return-1},at.prototype.readAndCheckSignature=function(st){var lt=st.charCodeAt(0),ct=st.charCodeAt(1),ft=st.charCodeAt(2),ut=st.charCodeAt(3),dt=this.readData(4);return lt===dt[0]&&ct===dt[1]&&ft===dt[2]&&ut===dt[3]},at.prototype.readData=function(st){if(this.checkOffset(st),st===0)return[];var lt=this.data.slice(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},rt.exports=at},{"../utils":32,"./DataReader":18}],18:[function(nt,rt,it){var ot=nt("../utils");function at(st){this.data=st,this.length=st.length,this.index=0,this.zero=0}at.prototype={checkOffset:function(st){this.checkIndex(this.index+st)},checkIndex:function(st){if(this.length<this.zero+st||st<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+st+"). Corrupted zip ?")},setIndex:function(st){this.checkIndex(st),this.index=st},skip:function(st){this.setIndex(this.index+st)},byteAt:function(st){},readInt:function(st){var lt,ct=0;for(this.checkOffset(st),lt=this.index+st-1;lt>=this.index;lt--)ct=(ct<<8)+this.byteAt(lt);return this.index+=st,ct},readString:function(st){return ot.transformTo("string",this.readData(st))},readData:function(st){},lastIndexOfSignature:function(st){},readAndCheckSignature:function(st){},readDate:function(){var st=this.readInt(4);return new Date(Date.UTC(1980+(st>>25&127),(st>>21&15)-1,st>>16&31,st>>11&31,st>>5&63,(31&st)<<1))}},rt.exports=at},{"../utils":32}],19:[function(nt,rt,it){var ot=nt("./Uint8ArrayReader");function at(st){ot.call(this,st)}nt("../utils").inherits(at,ot),at.prototype.readData=function(st){this.checkOffset(st);var lt=this.data.slice(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},rt.exports=at},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(nt,rt,it){var ot=nt("./DataReader");function at(st){ot.call(this,st)}nt("../utils").inherits(at,ot),at.prototype.byteAt=function(st){return this.data.charCodeAt(this.zero+st)},at.prototype.lastIndexOfSignature=function(st){return this.data.lastIndexOf(st)-this.zero},at.prototype.readAndCheckSignature=function(st){return st===this.readData(4)},at.prototype.readData=function(st){this.checkOffset(st);var lt=this.data.slice(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},rt.exports=at},{"../utils":32,"./DataReader":18}],21:[function(nt,rt,it){var ot=nt("./ArrayReader");function at(st){ot.call(this,st)}nt("../utils").inherits(at,ot),at.prototype.readData=function(st){if(this.checkOffset(st),st===0)return new Uint8Array(0);var lt=this.data.subarray(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},rt.exports=at},{"../utils":32,"./ArrayReader":17}],22:[function(nt,rt,it){var ot=nt("../utils"),at=nt("../support"),st=nt("./ArrayReader"),lt=nt("./StringReader"),ct=nt("./NodeBufferReader"),ft=nt("./Uint8ArrayReader");rt.exports=function(ut){var dt=ot.getTypeOf(ut);return ot.checkSupport(dt),dt!=="string"||at.uint8array?dt==="nodebuffer"?new ct(ut):at.uint8array?new ft(ot.transformTo("uint8array",ut)):new st(ot.transformTo("array",ut)):new lt(ut)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(nt,rt,it){it.LOCAL_FILE_HEADER="PK",it.CENTRAL_FILE_HEADER="PK",it.CENTRAL_DIRECTORY_END="PK",it.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",it.ZIP64_CENTRAL_DIRECTORY_END="PK",it.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(nt,rt,it){var ot=nt("./GenericWorker"),at=nt("../utils");function st(lt){ot.call(this,"ConvertWorker to "+lt),this.destType=lt}at.inherits(st,ot),st.prototype.processChunk=function(lt){this.push({data:at.transformTo(this.destType,lt.data),meta:lt.meta})},rt.exports=st},{"../utils":32,"./GenericWorker":28}],25:[function(nt,rt,it){var ot=nt("./GenericWorker"),at=nt("../crc32");function st(){ot.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}nt("../utils").inherits(st,ot),st.prototype.processChunk=function(lt){this.streamInfo.crc32=at(lt.data,this.streamInfo.crc32||0),this.push(lt)},rt.exports=st},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(nt,rt,it){var ot=nt("../utils"),at=nt("./GenericWorker");function st(lt){at.call(this,"DataLengthProbe for "+lt),this.propName=lt,this.withStreamInfo(lt,0)}ot.inherits(st,at),st.prototype.processChunk=function(lt){if(lt){var ct=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=ct+lt.data.length}at.prototype.processChunk.call(this,lt)},rt.exports=st},{"../utils":32,"./GenericWorker":28}],27:[function(nt,rt,it){var ot=nt("../utils"),at=nt("./GenericWorker");function st(lt){at.call(this,"DataWorker");var ct=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,lt.then(function(ft){ct.dataIsReady=!0,ct.data=ft,ct.max=ft&&ft.length||0,ct.type=ot.getTypeOf(ft),ct.isPaused||ct._tickAndRepeat()},function(ft){ct.error(ft)})}ot.inherits(st,at),st.prototype.cleanUp=function(){at.prototype.cleanUp.call(this),this.data=null},st.prototype.resume=function(){return!!at.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,ot.delay(this._tickAndRepeat,[],this)),!0)},st.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(ot.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},st.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var lt=null,ct=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":lt=this.data.substring(this.index,ct);break;case"uint8array":lt=this.data.subarray(this.index,ct);break;case"array":case"nodebuffer":lt=this.data.slice(this.index,ct)}return this.index=ct,this.push({data:lt,meta:{percent:this.max?this.index/this.max*100:0}})},rt.exports=st},{"../utils":32,"./GenericWorker":28}],28:[function(nt,rt,it){function ot(at){this.name=at||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}ot.prototype={push:function(at){this.emit("data",at)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(at){this.emit("error",at)}return!0},error:function(at){return!this.isFinished&&(this.isPaused?this.generatedError=at:(this.isFinished=!0,this.emit("error",at),this.previous&&this.previous.error(at),this.cleanUp()),!0)},on:function(at,st){return this._listeners[at].push(st),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(at,st){if(this._listeners[at])for(var lt=0;lt<this._listeners[at].length;lt++)this._listeners[at][lt].call(this,st)},pipe:function(at){return at.registerPrevious(this)},registerPrevious:function(at){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=at.streamInfo,this.mergeStreamInfo(),this.previous=at;var st=this;return at.on("data",function(lt){st.processChunk(lt)}),at.on("end",function(){st.end()}),at.on("error",function(lt){st.error(lt)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var at=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),at=!0),this.previous&&this.previous.resume(),!at},flush:function(){},processChunk:function(at){this.push(at)},withStreamInfo:function(at,st){return this.extraStreamInfo[at]=st,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var at in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(at)&&(this.streamInfo[at]=this.extraStreamInfo[at])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var at="Worker "+this.name;return this.previous?this.previous+" -> "+at:at}},rt.exports=ot},{}],29:[function(nt,rt,it){var ot=nt("../utils"),at=nt("./ConvertWorker"),st=nt("./GenericWorker"),lt=nt("../base64"),ct=nt("../support"),ft=nt("../external"),ut=null;if(ct.nodestream)try{ut=nt("../nodejs/NodejsStreamOutputAdapter")}catch{}function dt(pt,gt){return new ft.Promise(function(mt,yt){var bt=[],St=pt._internalType,xt=pt._outputType,vt=pt._mimeType;pt.on("data",function($t,zt){bt.push($t),gt&&gt(zt)}).on("error",function($t){bt=[],yt($t)}).on("end",function(){try{var $t=function(zt,Nt,wt){switch(zt){case"blob":return ot.newBlob(ot.transformTo("arraybuffer",Nt),wt);case"base64":return lt.encode(Nt);default:return ot.transformTo(zt,Nt)}}(xt,function(zt,Nt){var wt,Et=0,Rt=null,Tt=0;for(wt=0;wt<Nt.length;wt++)Tt+=Nt[wt].length;switch(zt){case"string":return Nt.join("");case"array":return Array.prototype.concat.apply([],Nt);case"uint8array":for(Rt=new Uint8Array(Tt),wt=0;wt<Nt.length;wt++)Rt.set(Nt[wt],Et),Et+=Nt[wt].length;return Rt;case"nodebuffer":return Buffer.concat(Nt);default:throw new Error("concat : unsupported type '"+zt+"'")}}(St,bt),vt);mt($t)}catch(zt){yt(zt)}bt=[]}).resume()})}function ht(pt,gt,mt){var yt=gt;switch(gt){case"blob":case"arraybuffer":yt="uint8array";break;case"base64":yt="string"}try{this._internalType=yt,this._outputType=gt,this._mimeType=mt,ot.checkSupport(yt),this._worker=pt.pipe(new at(yt)),pt.lock()}catch(bt){this._worker=new st("error"),this._worker.error(bt)}}ht.prototype={accumulate:function(pt){return dt(this,pt)},on:function(pt,gt){var mt=this;return pt==="data"?this._worker.on(pt,function(yt){gt.call(mt,yt.data,yt.meta)}):this._worker.on(pt,function(){ot.delay(gt,arguments,mt)}),this},resume:function(){return ot.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(pt){if(ot.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ut(this,{objectMode:this._outputType!=="nodebuffer"},pt)}},rt.exports=ht},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(nt,rt,it){if(it.base64=!0,it.array=!0,it.string=!0,it.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",it.nodebuffer=typeof Buffer!="undefined",it.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")it.blob=!1;else{var ot=new ArrayBuffer(0);try{it.blob=new Blob([ot],{type:"application/zip"}).size===0}catch{try{var at=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);at.append(ot),it.blob=at.getBlob("application/zip").size===0}catch{it.blob=!1}}}try{it.nodestream=!!nt("readable-stream").Readable}catch{it.nodestream=!1}},{"readable-stream":16}],31:[function(nt,rt,it){for(var ot=nt("./utils"),at=nt("./support"),st=nt("./nodejsUtils"),lt=nt("./stream/GenericWorker"),ct=new Array(256),ft=0;ft<256;ft++)ct[ft]=252<=ft?6:248<=ft?5:240<=ft?4:224<=ft?3:192<=ft?2:1;ct[254]=ct[254]=1;function ut(){lt.call(this,"utf-8 decode"),this.leftOver=null}function dt(){lt.call(this,"utf-8 encode")}it.utf8encode=function(ht){return at.nodebuffer?st.newBufferFrom(ht,"utf-8"):function(pt){var gt,mt,yt,bt,St,xt=pt.length,vt=0;for(bt=0;bt<xt;bt++)(64512&(mt=pt.charCodeAt(bt)))==55296&&bt+1<xt&&(64512&(yt=pt.charCodeAt(bt+1)))==56320&&(mt=65536+(mt-55296<<10)+(yt-56320),bt++),vt+=mt<128?1:mt<2048?2:mt<65536?3:4;for(gt=at.uint8array?new Uint8Array(vt):new Array(vt),bt=St=0;St<vt;bt++)(64512&(mt=pt.charCodeAt(bt)))==55296&&bt+1<xt&&(64512&(yt=pt.charCodeAt(bt+1)))==56320&&(mt=65536+(mt-55296<<10)+(yt-56320),bt++),mt<128?gt[St++]=mt:(mt<2048?gt[St++]=192|mt>>>6:(mt<65536?gt[St++]=224|mt>>>12:(gt[St++]=240|mt>>>18,gt[St++]=128|mt>>>12&63),gt[St++]=128|mt>>>6&63),gt[St++]=128|63&mt);return gt}(ht)},it.utf8decode=function(ht){return at.nodebuffer?ot.transformTo("nodebuffer",ht).toString("utf-8"):function(pt){var gt,mt,yt,bt,St=pt.length,xt=new Array(2*St);for(gt=mt=0;gt<St;)if((yt=pt[gt++])<128)xt[mt++]=yt;else if(4<(bt=ct[yt]))xt[mt++]=65533,gt+=bt-1;else{for(yt&=bt===2?31:bt===3?15:7;1<bt&&gt<St;)yt=yt<<6|63&pt[gt++],bt--;1<bt?xt[mt++]=65533:yt<65536?xt[mt++]=yt:(yt-=65536,xt[mt++]=55296|yt>>10&1023,xt[mt++]=56320|1023&yt)}return xt.length!==mt&&(xt.subarray?xt=xt.subarray(0,mt):xt.length=mt),ot.applyFromCharCode(xt)}(ht=ot.transformTo(at.uint8array?"uint8array":"array",ht))},ot.inherits(ut,lt),ut.prototype.processChunk=function(ht){var pt=ot.transformTo(at.uint8array?"uint8array":"array",ht.data);if(this.leftOver&&this.leftOver.length){if(at.uint8array){var gt=pt;(pt=new Uint8Array(gt.length+this.leftOver.length)).set(this.leftOver,0),pt.set(gt,this.leftOver.length)}else pt=this.leftOver.concat(pt);this.leftOver=null}var mt=function(bt,St){var xt;for((St=St||bt.length)>bt.length&&(St=bt.length),xt=St-1;0<=xt&&(192&bt[xt])==128;)xt--;return xt<0||xt===0?St:xt+ct[bt[xt]]>St?xt:St}(pt),yt=pt;mt!==pt.length&&(at.uint8array?(yt=pt.subarray(0,mt),this.leftOver=pt.subarray(mt,pt.length)):(yt=pt.slice(0,mt),this.leftOver=pt.slice(mt,pt.length))),this.push({data:it.utf8decode(yt),meta:ht.meta})},ut.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:it.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},it.Utf8DecodeWorker=ut,ot.inherits(dt,lt),dt.prototype.processChunk=function(ht){this.push({data:it.utf8encode(ht.data),meta:ht.meta})},it.Utf8EncodeWorker=dt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(nt,rt,it){var ot=nt("./support"),at=nt("./base64"),st=nt("./nodejsUtils"),lt=nt("./external");function ct(gt){return gt}function ft(gt,mt){for(var yt=0;yt<gt.length;++yt)mt[yt]=255&gt.charCodeAt(yt);return mt}nt("setimmediate"),it.newBlob=function(gt,mt){it.checkSupport("blob");try{return new Blob([gt],{type:mt})}catch{try{var yt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return yt.append(gt),yt.getBlob(mt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ut={stringifyByChunk:function(gt,mt,yt){var bt=[],St=0,xt=gt.length;if(xt<=yt)return String.fromCharCode.apply(null,gt);for(;St<xt;)mt==="array"||mt==="nodebuffer"?bt.push(String.fromCharCode.apply(null,gt.slice(St,Math.min(St+yt,xt)))):bt.push(String.fromCharCode.apply(null,gt.subarray(St,Math.min(St+yt,xt)))),St+=yt;return bt.join("")},stringifyByChar:function(gt){for(var mt="",yt=0;yt<gt.length;yt++)mt+=String.fromCharCode(gt[yt]);return mt},applyCanBeUsed:{uint8array:function(){try{return ot.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return ot.nodebuffer&&String.fromCharCode.apply(null,st.allocBuffer(1)).length===1}catch{return!1}}()}};function dt(gt){var mt=65536,yt=it.getTypeOf(gt),bt=!0;if(yt==="uint8array"?bt=ut.applyCanBeUsed.uint8array:yt==="nodebuffer"&&(bt=ut.applyCanBeUsed.nodebuffer),bt)for(;1<mt;)try{return ut.stringifyByChunk(gt,yt,mt)}catch{mt=Math.floor(mt/2)}return ut.stringifyByChar(gt)}function ht(gt,mt){for(var yt=0;yt<gt.length;yt++)mt[yt]=gt[yt];return mt}it.applyFromCharCode=dt;var pt={};pt.string={string:ct,array:function(gt){return ft(gt,new Array(gt.length))},arraybuffer:function(gt){return pt.string.uint8array(gt).buffer},uint8array:function(gt){return ft(gt,new Uint8Array(gt.length))},nodebuffer:function(gt){return ft(gt,st.allocBuffer(gt.length))}},pt.array={string:dt,array:ct,arraybuffer:function(gt){return new Uint8Array(gt).buffer},uint8array:function(gt){return new Uint8Array(gt)},nodebuffer:function(gt){return st.newBufferFrom(gt)}},pt.arraybuffer={string:function(gt){return dt(new Uint8Array(gt))},array:function(gt){return ht(new Uint8Array(gt),new Array(gt.byteLength))},arraybuffer:ct,uint8array:function(gt){return new Uint8Array(gt)},nodebuffer:function(gt){return st.newBufferFrom(new Uint8Array(gt))}},pt.uint8array={string:dt,array:function(gt){return ht(gt,new Array(gt.length))},arraybuffer:function(gt){return gt.buffer},uint8array:ct,nodebuffer:function(gt){return st.newBufferFrom(gt)}},pt.nodebuffer={string:dt,array:function(gt){return ht(gt,new Array(gt.length))},arraybuffer:function(gt){return pt.nodebuffer.uint8array(gt).buffer},uint8array:function(gt){return ht(gt,new Uint8Array(gt.length))},nodebuffer:ct},it.transformTo=function(gt,mt){if(mt=mt||"",!gt)return mt;it.checkSupport(gt);var yt=it.getTypeOf(mt);return pt[yt][gt](mt)},it.resolve=function(gt){for(var mt=gt.split("/"),yt=[],bt=0;bt<mt.length;bt++){var St=mt[bt];St==="."||St===""&&bt!==0&&bt!==mt.length-1||(St===".."?yt.pop():yt.push(St))}return yt.join("/")},it.getTypeOf=function(gt){return typeof gt=="string"?"string":Object.prototype.toString.call(gt)==="[object Array]"?"array":ot.nodebuffer&&st.isBuffer(gt)?"nodebuffer":ot.uint8array&&gt instanceof Uint8Array?"uint8array":ot.arraybuffer&&gt instanceof ArrayBuffer?"arraybuffer":void 0},it.checkSupport=function(gt){if(!ot[gt.toLowerCase()])throw new Error(gt+" is not supported by this platform")},it.MAX_VALUE_16BITS=65535,it.MAX_VALUE_32BITS=-1,it.pretty=function(gt){var mt,yt,bt="";for(yt=0;yt<(gt||"").length;yt++)bt+="\\x"+((mt=gt.charCodeAt(yt))<16?"0":"")+mt.toString(16).toUpperCase();return bt},it.delay=function(gt,mt,yt){setImmediate(function(){gt.apply(yt||null,mt||[])})},it.inherits=function(gt,mt){function yt(){}yt.prototype=mt.prototype,gt.prototype=new yt},it.extend=function(){var gt,mt,yt={};for(gt=0;gt<arguments.length;gt++)for(mt in arguments[gt])arguments[gt].hasOwnProperty(mt)&&yt[mt]===void 0&&(yt[mt]=arguments[gt][mt]);return yt},it.prepareContent=function(gt,mt,yt,bt,St){return lt.Promise.resolve(mt).then(function(xt){return ot.blob&&(xt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(xt))!==-1)&&typeof FileReader!="undefined"?new lt.Promise(function(vt,$t){var zt=new FileReader;zt.onload=function(Nt){vt(Nt.target.result)},zt.onerror=function(Nt){$t(Nt.target.error)},zt.readAsArrayBuffer(xt)}):xt}).then(function(xt){var vt=it.getTypeOf(xt);return vt?(vt==="arraybuffer"?xt=it.transformTo("uint8array",xt):vt==="string"&&(St?xt=at.decode(xt):yt&&bt!==!0&&(xt=function($t){return ft($t,ot.uint8array?new Uint8Array($t.length):new Array($t.length))}(xt))),xt):lt.Promise.reject(new Error("Can't read the data of '"+gt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(nt,rt,it){var ot=nt("./reader/readerFor"),at=nt("./utils"),st=nt("./signature"),lt=nt("./zipEntry"),ct=(nt("./utf8"),nt("./support"));function ft(ut){this.files=[],this.loadOptions=ut}ft.prototype={checkSignature:function(ut){if(!this.reader.readAndCheckSignature(ut)){this.reader.index-=4;var dt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+at.pretty(dt)+", expected "+at.pretty(ut)+")")}},isSignature:function(ut,dt){var ht=this.reader.index;this.reader.setIndex(ut);var pt=this.reader.readString(4)===dt;return this.reader.setIndex(ht),pt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ut=this.reader.readData(this.zipCommentLength),dt=ct.uint8array?"uint8array":"array",ht=at.transformTo(dt,ut);this.zipComment=this.loadOptions.decodeFileName(ht)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ut,dt,ht,pt=this.zip64EndOfCentralSize-44;0<pt;)ut=this.reader.readInt(2),dt=this.reader.readInt(4),ht=this.reader.readData(dt),this.zip64ExtensibleData[ut]={id:ut,length:dt,value:ht}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ut,dt;for(ut=0;ut<this.files.length;ut++)dt=this.files[ut],this.reader.setIndex(dt.localHeaderOffset),this.checkSignature(st.LOCAL_FILE_HEADER),dt.readLocalPart(this.reader),dt.handleUTF8(),dt.processAttributes()},readCentralDir:function(){var ut;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(st.CENTRAL_FILE_HEADER);)(ut=new lt({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ut);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ut=this.reader.lastIndexOfSignature(st.CENTRAL_DIRECTORY_END);if(ut<0)throw this.isSignature(0,st.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ut);var dt=ut;if(this.checkSignature(st.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===at.MAX_VALUE_16BITS||this.diskWithCentralDirStart===at.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===at.MAX_VALUE_16BITS||this.centralDirRecords===at.MAX_VALUE_16BITS||this.centralDirSize===at.MAX_VALUE_32BITS||this.centralDirOffset===at.MAX_VALUE_32BITS){if(this.zip64=!0,(ut=this.reader.lastIndexOfSignature(st.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ut),this.checkSignature(st.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,st.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(st.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(st.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ht=this.centralDirOffset+this.centralDirSize;this.zip64&&(ht+=20,ht+=12+this.zip64EndOfCentralSize);var pt=dt-ht;if(0<pt)this.isSignature(dt,st.CENTRAL_FILE_HEADER)||(this.reader.zero=pt);else if(pt<0)throw new Error("Corrupted zip: missing "+Math.abs(pt)+" bytes.")},prepareReader:function(ut){this.reader=ot(ut)},load:function(ut){this.prepareReader(ut),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},rt.exports=ft},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(nt,rt,it){var ot=nt("./reader/readerFor"),at=nt("./utils"),st=nt("./compressedObject"),lt=nt("./crc32"),ct=nt("./utf8"),ft=nt("./compressions"),ut=nt("./support");function dt(ht,pt){this.options=ht,this.loadOptions=pt}dt.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(ht){var pt,gt;if(ht.skip(22),this.fileNameLength=ht.readInt(2),gt=ht.readInt(2),this.fileName=ht.readData(this.fileNameLength),ht.skip(gt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((pt=function(mt){for(var yt in ft)if(ft.hasOwnProperty(yt)&&ft[yt].magic===mt)return ft[yt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+at.pretty(this.compressionMethod)+" unknown (inner file : "+at.transformTo("string",this.fileName)+")");this.decompressed=new st(this.compressedSize,this.uncompressedSize,this.crc32,pt,ht.readData(this.compressedSize))},readCentralPart:function(ht){this.versionMadeBy=ht.readInt(2),ht.skip(2),this.bitFlag=ht.readInt(2),this.compressionMethod=ht.readString(2),this.date=ht.readDate(),this.crc32=ht.readInt(4),this.compressedSize=ht.readInt(4),this.uncompressedSize=ht.readInt(4);var pt=ht.readInt(2);if(this.extraFieldsLength=ht.readInt(2),this.fileCommentLength=ht.readInt(2),this.diskNumberStart=ht.readInt(2),this.internalFileAttributes=ht.readInt(2),this.externalFileAttributes=ht.readInt(4),this.localHeaderOffset=ht.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");ht.skip(pt),this.readExtraFields(ht),this.parseZIP64ExtraField(ht),this.fileComment=ht.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var ht=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),ht==0&&(this.dosPermissions=63&this.externalFileAttributes),ht==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(ht){if(this.extraFields[1]){var pt=ot(this.extraFields[1].value);this.uncompressedSize===at.MAX_VALUE_32BITS&&(this.uncompressedSize=pt.readInt(8)),this.compressedSize===at.MAX_VALUE_32BITS&&(this.compressedSize=pt.readInt(8)),this.localHeaderOffset===at.MAX_VALUE_32BITS&&(this.localHeaderOffset=pt.readInt(8)),this.diskNumberStart===at.MAX_VALUE_32BITS&&(this.diskNumberStart=pt.readInt(4))}},readExtraFields:function(ht){var pt,gt,mt,yt=ht.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});ht.index+4<yt;)pt=ht.readInt(2),gt=ht.readInt(2),mt=ht.readData(gt),this.extraFields[pt]={id:pt,length:gt,value:mt};ht.setIndex(yt)},handleUTF8:function(){var ht=ut.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ct.utf8decode(this.fileName),this.fileCommentStr=ct.utf8decode(this.fileComment);else{var pt=this.findExtraFieldUnicodePath();if(pt!==null)this.fileNameStr=pt;else{var gt=at.transformTo(ht,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(gt)}var mt=this.findExtraFieldUnicodeComment();if(mt!==null)this.fileCommentStr=mt;else{var yt=at.transformTo(ht,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(yt)}}},findExtraFieldUnicodePath:function(){var ht=this.extraFields[28789];if(ht){var pt=ot(ht.value);return pt.readInt(1)!==1||lt(this.fileName)!==pt.readInt(4)?null:ct.utf8decode(pt.readData(ht.length-5))}return null},findExtraFieldUnicodeComment:function(){var ht=this.extraFields[25461];if(ht){var pt=ot(ht.value);return pt.readInt(1)!==1||lt(this.fileComment)!==pt.readInt(4)?null:ct.utf8decode(pt.readData(ht.length-5))}return null}},rt.exports=dt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(nt,rt,it){function ot(pt,gt,mt){this.name=pt,this.dir=mt.dir,this.date=mt.date,this.comment=mt.comment,this.unixPermissions=mt.unixPermissions,this.dosPermissions=mt.dosPermissions,this._data=gt,this._dataBinary=mt.binary,this.options={compression:mt.compression,compressionOptions:mt.compressionOptions}}var at=nt("./stream/StreamHelper"),st=nt("./stream/DataWorker"),lt=nt("./utf8"),ct=nt("./compressedObject"),ft=nt("./stream/GenericWorker");ot.prototype={internalStream:function(pt){var gt=null,mt="string";try{if(!pt)throw new Error("No output type specified.");var yt=(mt=pt.toLowerCase())==="string"||mt==="text";mt!=="binarystring"&&mt!=="text"||(mt="string"),gt=this._decompressWorker();var bt=!this._dataBinary;bt&&!yt&&(gt=gt.pipe(new lt.Utf8EncodeWorker)),!bt&&yt&&(gt=gt.pipe(new lt.Utf8DecodeWorker))}catch(St){(gt=new ft("error")).error(St)}return new at(gt,mt,"")},async:function(pt,gt){return this.internalStream(pt).accumulate(gt)},nodeStream:function(pt,gt){return this.internalStream(pt||"nodebuffer").toNodejsStream(gt)},_compressWorker:function(pt,gt){if(this._data instanceof ct&&this._data.compression.magic===pt.magic)return this._data.getCompressedWorker();var mt=this._decompressWorker();return this._dataBinary||(mt=mt.pipe(new lt.Utf8EncodeWorker)),ct.createWorkerFrom(mt,pt,gt)},_decompressWorker:function(){return this._data instanceof ct?this._data.getContentWorker():this._data instanceof ft?this._data:new st(this._data)}};for(var ut=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],dt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ht=0;ht<ut.length;ht++)ot.prototype[ut[ht]]=dt;rt.exports=ot},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(nt,rt,it){(function(ot){var at,st,lt=ot.MutationObserver||ot.WebKitMutationObserver;if(lt){var ct=0,ft=new lt(pt),ut=ot.document.createTextNode("");ft.observe(ut,{characterData:!0}),at=function(){ut.data=ct=++ct%2}}else if(ot.setImmediate||ot.MessageChannel===void 0)at="document"in ot&&"onreadystatechange"in ot.document.createElement("script")?function(){var gt=ot.document.createElement("script");gt.onreadystatechange=function(){pt(),gt.onreadystatechange=null,gt.parentNode.removeChild(gt),gt=null},ot.document.documentElement.appendChild(gt)}:function(){setTimeout(pt,0)};else{var dt=new ot.MessageChannel;dt.port1.onmessage=pt,at=function(){dt.port2.postMessage(0)}}var ht=[];function pt(){var gt,mt;st=!0;for(var yt=ht.length;yt;){for(mt=ht,ht=[],gt=-1;++gt<yt;)mt[gt]();yt=ht.length}st=!1}rt.exports=function(gt){ht.push(gt)!==1||st||at()}}).call(this,typeof commonjsGlobal$3!="undefined"?commonjsGlobal$3:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(nt,rt,it){var ot=nt("immediate");function at(){}var st={},lt=["REJECTED"],ct=["FULFILLED"],ft=["PENDING"];function ut(yt){if(typeof yt!="function")throw new TypeError("resolver must be a function");this.state=ft,this.queue=[],this.outcome=void 0,yt!==at&&gt(this,yt)}function dt(yt,bt,St){this.promise=yt,typeof bt=="function"&&(this.onFulfilled=bt,this.callFulfilled=this.otherCallFulfilled),typeof St=="function"&&(this.onRejected=St,this.callRejected=this.otherCallRejected)}function ht(yt,bt,St){ot(function(){var xt;try{xt=bt(St)}catch(vt){return st.reject(yt,vt)}xt===yt?st.reject(yt,new TypeError("Cannot resolve promise with itself")):st.resolve(yt,xt)})}function pt(yt){var bt=yt&&yt.then;if(yt&&(typeof yt=="object"||typeof yt=="function")&&typeof bt=="function")return function(){bt.apply(yt,arguments)}}function gt(yt,bt){var St=!1;function xt(zt){St||(St=!0,st.reject(yt,zt))}function vt(zt){St||(St=!0,st.resolve(yt,zt))}var $t=mt(function(){bt(vt,xt)});$t.status==="error"&&xt($t.value)}function mt(yt,bt){var St={};try{St.value=yt(bt),St.status="success"}catch(xt){St.status="error",St.value=xt}return St}(rt.exports=ut).prototype.finally=function(yt){if(typeof yt!="function")return this;var bt=this.constructor;return this.then(function(St){return bt.resolve(yt()).then(function(){return St})},function(St){return bt.resolve(yt()).then(function(){throw St})})},ut.prototype.catch=function(yt){return this.then(null,yt)},ut.prototype.then=function(yt,bt){if(typeof yt!="function"&&this.state===ct||typeof bt!="function"&&this.state===lt)return this;var St=new this.constructor(at);return this.state!==ft?ht(St,this.state===ct?yt:bt,this.outcome):this.queue.push(new dt(St,yt,bt)),St},dt.prototype.callFulfilled=function(yt){st.resolve(this.promise,yt)},dt.prototype.otherCallFulfilled=function(yt){ht(this.promise,this.onFulfilled,yt)},dt.prototype.callRejected=function(yt){st.reject(this.promise,yt)},dt.prototype.otherCallRejected=function(yt){ht(this.promise,this.onRejected,yt)},st.resolve=function(yt,bt){var St=mt(pt,bt);if(St.status==="error")return st.reject(yt,St.value);var xt=St.value;if(xt)gt(yt,xt);else{yt.state=ct,yt.outcome=bt;for(var vt=-1,$t=yt.queue.length;++vt<$t;)yt.queue[vt].callFulfilled(bt)}return yt},st.reject=function(yt,bt){yt.state=lt,yt.outcome=bt;for(var St=-1,xt=yt.queue.length;++St<xt;)yt.queue[St].callRejected(bt);return yt},ut.resolve=function(yt){return yt instanceof this?yt:st.resolve(new this(at),yt)},ut.reject=function(yt){var bt=new this(at);return st.reject(bt,yt)},ut.all=function(yt){var bt=this;if(Object.prototype.toString.call(yt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var St=yt.length,xt=!1;if(!St)return this.resolve([]);for(var vt=new Array(St),$t=0,zt=-1,Nt=new this(at);++zt<St;)wt(yt[zt],zt);return Nt;function wt(Et,Rt){bt.resolve(Et).then(function(Tt){vt[Rt]=Tt,++$t!==St||xt||(xt=!0,st.resolve(Nt,vt))},function(Tt){xt||(xt=!0,st.reject(Nt,Tt))})}},ut.race=function(yt){var bt=this;if(Object.prototype.toString.call(yt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var St=yt.length,xt=!1;if(!St)return this.resolve([]);for(var vt=-1,$t=new this(at);++vt<St;)zt=yt[vt],bt.resolve(zt).then(function(Nt){xt||(xt=!0,st.resolve($t,Nt))},function(Nt){xt||(xt=!0,st.reject($t,Nt))});var zt;return $t}},{immediate:36}],38:[function(nt,rt,it){var ot={};(0,nt("./lib/utils/common").assign)(ot,nt("./lib/deflate"),nt("./lib/inflate"),nt("./lib/zlib/constants")),rt.exports=ot},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(nt,rt,it){var ot=nt("./zlib/deflate"),at=nt("./utils/common"),st=nt("./utils/strings"),lt=nt("./zlib/messages"),ct=nt("./zlib/zstream"),ft=Object.prototype.toString,ut=0,dt=-1,ht=0,pt=8;function gt(yt){if(!(this instanceof gt))return new gt(yt);this.options=at.assign({level:dt,method:pt,chunkSize:16384,windowBits:15,memLevel:8,strategy:ht,to:""},yt||{});var bt=this.options;bt.raw&&0<bt.windowBits?bt.windowBits=-bt.windowBits:bt.gzip&&0<bt.windowBits&&bt.windowBits<16&&(bt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;var St=ot.deflateInit2(this.strm,bt.level,bt.method,bt.windowBits,bt.memLevel,bt.strategy);if(St!==ut)throw new Error(lt[St]);if(bt.header&&ot.deflateSetHeader(this.strm,bt.header),bt.dictionary){var xt;if(xt=typeof bt.dictionary=="string"?st.string2buf(bt.dictionary):ft.call(bt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(bt.dictionary):bt.dictionary,(St=ot.deflateSetDictionary(this.strm,xt))!==ut)throw new Error(lt[St]);this._dict_set=!0}}function mt(yt,bt){var St=new gt(bt);if(St.push(yt,!0),St.err)throw St.msg||lt[St.err];return St.result}gt.prototype.push=function(yt,bt){var St,xt,vt=this.strm,$t=this.options.chunkSize;if(this.ended)return!1;xt=bt===~~bt?bt:bt===!0?4:0,typeof yt=="string"?vt.input=st.string2buf(yt):ft.call(yt)==="[object ArrayBuffer]"?vt.input=new Uint8Array(yt):vt.input=yt,vt.next_in=0,vt.avail_in=vt.input.length;do{if(vt.avail_out===0&&(vt.output=new at.Buf8($t),vt.next_out=0,vt.avail_out=$t),(St=ot.deflate(vt,xt))!==1&&St!==ut)return this.onEnd(St),!(this.ended=!0);vt.avail_out!==0&&(vt.avail_in!==0||xt!==4&&xt!==2)||(this.options.to==="string"?this.onData(st.buf2binstring(at.shrinkBuf(vt.output,vt.next_out))):this.onData(at.shrinkBuf(vt.output,vt.next_out)))}while((0<vt.avail_in||vt.avail_out===0)&&St!==1);return xt===4?(St=ot.deflateEnd(this.strm),this.onEnd(St),this.ended=!0,St===ut):xt!==2||(this.onEnd(ut),!(vt.avail_out=0))},gt.prototype.onData=function(yt){this.chunks.push(yt)},gt.prototype.onEnd=function(yt){yt===ut&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=at.flattenChunks(this.chunks)),this.chunks=[],this.err=yt,this.msg=this.strm.msg},it.Deflate=gt,it.deflate=mt,it.deflateRaw=function(yt,bt){return(bt=bt||{}).raw=!0,mt(yt,bt)},it.gzip=function(yt,bt){return(bt=bt||{}).gzip=!0,mt(yt,bt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(nt,rt,it){var ot=nt("./zlib/inflate"),at=nt("./utils/common"),st=nt("./utils/strings"),lt=nt("./zlib/constants"),ct=nt("./zlib/messages"),ft=nt("./zlib/zstream"),ut=nt("./zlib/gzheader"),dt=Object.prototype.toString;function ht(gt){if(!(this instanceof ht))return new ht(gt);this.options=at.assign({chunkSize:16384,windowBits:0,to:""},gt||{});var mt=this.options;mt.raw&&0<=mt.windowBits&&mt.windowBits<16&&(mt.windowBits=-mt.windowBits,mt.windowBits===0&&(mt.windowBits=-15)),!(0<=mt.windowBits&&mt.windowBits<16)||gt&&gt.windowBits||(mt.windowBits+=32),15<mt.windowBits&&mt.windowBits<48&&(15&mt.windowBits)==0&&(mt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ft,this.strm.avail_out=0;var yt=ot.inflateInit2(this.strm,mt.windowBits);if(yt!==lt.Z_OK)throw new Error(ct[yt]);this.header=new ut,ot.inflateGetHeader(this.strm,this.header)}function pt(gt,mt){var yt=new ht(mt);if(yt.push(gt,!0),yt.err)throw yt.msg||ct[yt.err];return yt.result}ht.prototype.push=function(gt,mt){var yt,bt,St,xt,vt,$t,zt=this.strm,Nt=this.options.chunkSize,wt=this.options.dictionary,Et=!1;if(this.ended)return!1;bt=mt===~~mt?mt:mt===!0?lt.Z_FINISH:lt.Z_NO_FLUSH,typeof gt=="string"?zt.input=st.binstring2buf(gt):dt.call(gt)==="[object ArrayBuffer]"?zt.input=new Uint8Array(gt):zt.input=gt,zt.next_in=0,zt.avail_in=zt.input.length;do{if(zt.avail_out===0&&(zt.output=new at.Buf8(Nt),zt.next_out=0,zt.avail_out=Nt),(yt=ot.inflate(zt,lt.Z_NO_FLUSH))===lt.Z_NEED_DICT&&wt&&($t=typeof wt=="string"?st.string2buf(wt):dt.call(wt)==="[object ArrayBuffer]"?new Uint8Array(wt):wt,yt=ot.inflateSetDictionary(this.strm,$t)),yt===lt.Z_BUF_ERROR&&Et===!0&&(yt=lt.Z_OK,Et=!1),yt!==lt.Z_STREAM_END&&yt!==lt.Z_OK)return this.onEnd(yt),!(this.ended=!0);zt.next_out&&(zt.avail_out!==0&&yt!==lt.Z_STREAM_END&&(zt.avail_in!==0||bt!==lt.Z_FINISH&&bt!==lt.Z_SYNC_FLUSH)||(this.options.to==="string"?(St=st.utf8border(zt.output,zt.next_out),xt=zt.next_out-St,vt=st.buf2string(zt.output,St),zt.next_out=xt,zt.avail_out=Nt-xt,xt&&at.arraySet(zt.output,zt.output,St,xt,0),this.onData(vt)):this.onData(at.shrinkBuf(zt.output,zt.next_out)))),zt.avail_in===0&&zt.avail_out===0&&(Et=!0)}while((0<zt.avail_in||zt.avail_out===0)&&yt!==lt.Z_STREAM_END);return yt===lt.Z_STREAM_END&&(bt=lt.Z_FINISH),bt===lt.Z_FINISH?(yt=ot.inflateEnd(this.strm),this.onEnd(yt),this.ended=!0,yt===lt.Z_OK):bt!==lt.Z_SYNC_FLUSH||(this.onEnd(lt.Z_OK),!(zt.avail_out=0))},ht.prototype.onData=function(gt){this.chunks.push(gt)},ht.prototype.onEnd=function(gt){gt===lt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=at.flattenChunks(this.chunks)),this.chunks=[],this.err=gt,this.msg=this.strm.msg},it.Inflate=ht,it.inflate=pt,it.inflateRaw=function(gt,mt){return(mt=mt||{}).raw=!0,pt(gt,mt)},it.ungzip=pt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(nt,rt,it){var ot=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";it.assign=function(lt){for(var ct=Array.prototype.slice.call(arguments,1);ct.length;){var ft=ct.shift();if(ft){if(typeof ft!="object")throw new TypeError(ft+"must be non-object");for(var ut in ft)ft.hasOwnProperty(ut)&&(lt[ut]=ft[ut])}}return lt},it.shrinkBuf=function(lt,ct){return lt.length===ct?lt:lt.subarray?lt.subarray(0,ct):(lt.length=ct,lt)};var at={arraySet:function(lt,ct,ft,ut,dt){if(ct.subarray&&lt.subarray)lt.set(ct.subarray(ft,ft+ut),dt);else for(var ht=0;ht<ut;ht++)lt[dt+ht]=ct[ft+ht]},flattenChunks:function(lt){var ct,ft,ut,dt,ht,pt;for(ct=ut=0,ft=lt.length;ct<ft;ct++)ut+=lt[ct].length;for(pt=new Uint8Array(ut),ct=dt=0,ft=lt.length;ct<ft;ct++)ht=lt[ct],pt.set(ht,dt),dt+=ht.length;return pt}},st={arraySet:function(lt,ct,ft,ut,dt){for(var ht=0;ht<ut;ht++)lt[dt+ht]=ct[ft+ht]},flattenChunks:function(lt){return[].concat.apply([],lt)}};it.setTyped=function(lt){lt?(it.Buf8=Uint8Array,it.Buf16=Uint16Array,it.Buf32=Int32Array,it.assign(it,at)):(it.Buf8=Array,it.Buf16=Array,it.Buf32=Array,it.assign(it,st))},it.setTyped(ot)},{}],42:[function(nt,rt,it){var ot=nt("./common"),at=!0,st=!0;try{String.fromCharCode.apply(null,[0])}catch{at=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{st=!1}for(var lt=new ot.Buf8(256),ct=0;ct<256;ct++)lt[ct]=252<=ct?6:248<=ct?5:240<=ct?4:224<=ct?3:192<=ct?2:1;function ft(ut,dt){if(dt<65537&&(ut.subarray&&st||!ut.subarray&&at))return String.fromCharCode.apply(null,ot.shrinkBuf(ut,dt));for(var ht="",pt=0;pt<dt;pt++)ht+=String.fromCharCode(ut[pt]);return ht}lt[254]=lt[254]=1,it.string2buf=function(ut){var dt,ht,pt,gt,mt,yt=ut.length,bt=0;for(gt=0;gt<yt;gt++)(64512&(ht=ut.charCodeAt(gt)))==55296&&gt+1<yt&&(64512&(pt=ut.charCodeAt(gt+1)))==56320&&(ht=65536+(ht-55296<<10)+(pt-56320),gt++),bt+=ht<128?1:ht<2048?2:ht<65536?3:4;for(dt=new ot.Buf8(bt),gt=mt=0;mt<bt;gt++)(64512&(ht=ut.charCodeAt(gt)))==55296&&gt+1<yt&&(64512&(pt=ut.charCodeAt(gt+1)))==56320&&(ht=65536+(ht-55296<<10)+(pt-56320),gt++),ht<128?dt[mt++]=ht:(ht<2048?dt[mt++]=192|ht>>>6:(ht<65536?dt[mt++]=224|ht>>>12:(dt[mt++]=240|ht>>>18,dt[mt++]=128|ht>>>12&63),dt[mt++]=128|ht>>>6&63),dt[mt++]=128|63&ht);return dt},it.buf2binstring=function(ut){return ft(ut,ut.length)},it.binstring2buf=function(ut){for(var dt=new ot.Buf8(ut.length),ht=0,pt=dt.length;ht<pt;ht++)dt[ht]=ut.charCodeAt(ht);return dt},it.buf2string=function(ut,dt){var ht,pt,gt,mt,yt=dt||ut.length,bt=new Array(2*yt);for(ht=pt=0;ht<yt;)if((gt=ut[ht++])<128)bt[pt++]=gt;else if(4<(mt=lt[gt]))bt[pt++]=65533,ht+=mt-1;else{for(gt&=mt===2?31:mt===3?15:7;1<mt&&ht<yt;)gt=gt<<6|63&ut[ht++],mt--;1<mt?bt[pt++]=65533:gt<65536?bt[pt++]=gt:(gt-=65536,bt[pt++]=55296|gt>>10&1023,bt[pt++]=56320|1023&gt)}return ft(bt,pt)},it.utf8border=function(ut,dt){var ht;for((dt=dt||ut.length)>ut.length&&(dt=ut.length),ht=dt-1;0<=ht&&(192&ut[ht])==128;)ht--;return ht<0||ht===0?dt:ht+lt[ut[ht]]>dt?ht:dt}},{"./common":41}],43:[function(nt,rt,it){rt.exports=function(ot,at,st,lt){for(var ct=65535&ot|0,ft=ot>>>16&65535|0,ut=0;st!==0;){for(st-=ut=2e3<st?2e3:st;ft=ft+(ct=ct+at[lt++]|0)|0,--ut;);ct%=65521,ft%=65521}return ct|ft<<16|0}},{}],44:[function(nt,rt,it){rt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(nt,rt,it){var ot=function(){for(var at,st=[],lt=0;lt<256;lt++){at=lt;for(var ct=0;ct<8;ct++)at=1&at?3988292384^at>>>1:at>>>1;st[lt]=at}return st}();rt.exports=function(at,st,lt,ct){var ft=ot,ut=ct+lt;at^=-1;for(var dt=ct;dt<ut;dt++)at=at>>>8^ft[255&(at^st[dt])];return-1^at}},{}],46:[function(nt,rt,it){var ot,at=nt("../utils/common"),st=nt("./trees"),lt=nt("./adler32"),ct=nt("./crc32"),ft=nt("./messages"),ut=0,dt=4,ht=0,pt=-2,gt=-1,mt=4,yt=2,bt=8,St=9,xt=286,vt=30,$t=19,zt=2*xt+1,Nt=15,wt=3,Et=258,Rt=Et+wt+1,Tt=42,It=113,Pt=1,Dt=2,Ct=3,Ot=4;function Ut(Yt,yn){return Yt.msg=ft[yn],yn}function At(Yt){return(Yt<<1)-(4<Yt?9:0)}function Mt(Yt){for(var yn=Yt.length;0<=--yn;)Yt[yn]=0}function jt(Yt){var yn=Yt.state,Qt=yn.pending;Qt>Yt.avail_out&&(Qt=Yt.avail_out),Qt!==0&&(at.arraySet(Yt.output,yn.pending_buf,yn.pending_out,Qt,Yt.next_out),Yt.next_out+=Qt,yn.pending_out+=Qt,Yt.total_out+=Qt,Yt.avail_out-=Qt,yn.pending-=Qt,yn.pending===0&&(yn.pending_out=0))}function kt(Yt,yn){st._tr_flush_block(Yt,0<=Yt.block_start?Yt.block_start:-1,Yt.strstart-Yt.block_start,yn),Yt.block_start=Yt.strstart,jt(Yt.strm)}function Gt(Yt,yn){Yt.pending_buf[Yt.pending++]=yn}function Ht(Yt,yn){Yt.pending_buf[Yt.pending++]=yn>>>8&255,Yt.pending_buf[Yt.pending++]=255&yn}function Jt(Yt,yn){var Qt,Kt,hn=Yt.max_chain_length,vn=Yt.strstart,Sn=Yt.prev_length,Cn=Yt.nice_match,cn=Yt.strstart>Yt.w_size-Rt?Yt.strstart-(Yt.w_size-Rt):0,ln=Yt.window,bn=Yt.w_mask,xn=Yt.prev,Nn=Yt.strstart+Et,zn=ln[vn+Sn-1],Ln=ln[vn+Sn];Yt.prev_length>=Yt.good_match&&(hn>>=2),Cn>Yt.lookahead&&(Cn=Yt.lookahead);do if(ln[(Qt=yn)+Sn]===Ln&&ln[Qt+Sn-1]===zn&&ln[Qt]===ln[vn]&&ln[++Qt]===ln[vn+1]){vn+=2,Qt++;do;while(ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&ln[++vn]===ln[++Qt]&&vn<Nn);if(Kt=Et-(Nn-vn),vn=Nn-Et,Sn<Kt){if(Yt.match_start=yn,Cn<=(Sn=Kt))break;zn=ln[vn+Sn-1],Ln=ln[vn+Sn]}}while((yn=xn[yn&bn])>cn&&--hn!=0);return Sn<=Yt.lookahead?Sn:Yt.lookahead}function Vt(Yt){var yn,Qt,Kt,hn,vn,Sn,Cn,cn,ln,bn,xn=Yt.w_size;do{if(hn=Yt.window_size-Yt.lookahead-Yt.strstart,Yt.strstart>=xn+(xn-Rt)){for(at.arraySet(Yt.window,Yt.window,xn,xn,0),Yt.match_start-=xn,Yt.strstart-=xn,Yt.block_start-=xn,yn=Qt=Yt.hash_size;Kt=Yt.head[--yn],Yt.head[yn]=xn<=Kt?Kt-xn:0,--Qt;);for(yn=Qt=xn;Kt=Yt.prev[--yn],Yt.prev[yn]=xn<=Kt?Kt-xn:0,--Qt;);hn+=xn}if(Yt.strm.avail_in===0)break;if(Sn=Yt.strm,Cn=Yt.window,cn=Yt.strstart+Yt.lookahead,ln=hn,bn=void 0,bn=Sn.avail_in,ln<bn&&(bn=ln),Qt=bn===0?0:(Sn.avail_in-=bn,at.arraySet(Cn,Sn.input,Sn.next_in,bn,cn),Sn.state.wrap===1?Sn.adler=lt(Sn.adler,Cn,bn,cn):Sn.state.wrap===2&&(Sn.adler=ct(Sn.adler,Cn,bn,cn)),Sn.next_in+=bn,Sn.total_in+=bn,bn),Yt.lookahead+=Qt,Yt.lookahead+Yt.insert>=wt)for(vn=Yt.strstart-Yt.insert,Yt.ins_h=Yt.window[vn],Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[vn+1])&Yt.hash_mask;Yt.insert&&(Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[vn+wt-1])&Yt.hash_mask,Yt.prev[vn&Yt.w_mask]=Yt.head[Yt.ins_h],Yt.head[Yt.ins_h]=vn,vn++,Yt.insert--,!(Yt.lookahead+Yt.insert<wt)););}while(Yt.lookahead<Rt&&Yt.strm.avail_in!==0)}function Wt(Yt,yn){for(var Qt,Kt;;){if(Yt.lookahead<Rt){if(Vt(Yt),Yt.lookahead<Rt&&yn===ut)return Pt;if(Yt.lookahead===0)break}if(Qt=0,Yt.lookahead>=wt&&(Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[Yt.strstart+wt-1])&Yt.hash_mask,Qt=Yt.prev[Yt.strstart&Yt.w_mask]=Yt.head[Yt.ins_h],Yt.head[Yt.ins_h]=Yt.strstart),Qt!==0&&Yt.strstart-Qt<=Yt.w_size-Rt&&(Yt.match_length=Jt(Yt,Qt)),Yt.match_length>=wt)if(Kt=st._tr_tally(Yt,Yt.strstart-Yt.match_start,Yt.match_length-wt),Yt.lookahead-=Yt.match_length,Yt.match_length<=Yt.max_lazy_match&&Yt.lookahead>=wt){for(Yt.match_length--;Yt.strstart++,Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[Yt.strstart+wt-1])&Yt.hash_mask,Qt=Yt.prev[Yt.strstart&Yt.w_mask]=Yt.head[Yt.ins_h],Yt.head[Yt.ins_h]=Yt.strstart,--Yt.match_length!=0;);Yt.strstart++}else Yt.strstart+=Yt.match_length,Yt.match_length=0,Yt.ins_h=Yt.window[Yt.strstart],Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[Yt.strstart+1])&Yt.hash_mask;else Kt=st._tr_tally(Yt,0,Yt.window[Yt.strstart]),Yt.lookahead--,Yt.strstart++;if(Kt&&(kt(Yt,!1),Yt.strm.avail_out===0))return Pt}return Yt.insert=Yt.strstart<wt-1?Yt.strstart:wt-1,yn===dt?(kt(Yt,!0),Yt.strm.avail_out===0?Ct:Ot):Yt.last_lit&&(kt(Yt,!1),Yt.strm.avail_out===0)?Pt:Dt}function Lt(Yt,yn){for(var Qt,Kt,hn;;){if(Yt.lookahead<Rt){if(Vt(Yt),Yt.lookahead<Rt&&yn===ut)return Pt;if(Yt.lookahead===0)break}if(Qt=0,Yt.lookahead>=wt&&(Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[Yt.strstart+wt-1])&Yt.hash_mask,Qt=Yt.prev[Yt.strstart&Yt.w_mask]=Yt.head[Yt.ins_h],Yt.head[Yt.ins_h]=Yt.strstart),Yt.prev_length=Yt.match_length,Yt.prev_match=Yt.match_start,Yt.match_length=wt-1,Qt!==0&&Yt.prev_length<Yt.max_lazy_match&&Yt.strstart-Qt<=Yt.w_size-Rt&&(Yt.match_length=Jt(Yt,Qt),Yt.match_length<=5&&(Yt.strategy===1||Yt.match_length===wt&&4096<Yt.strstart-Yt.match_start)&&(Yt.match_length=wt-1)),Yt.prev_length>=wt&&Yt.match_length<=Yt.prev_length){for(hn=Yt.strstart+Yt.lookahead-wt,Kt=st._tr_tally(Yt,Yt.strstart-1-Yt.prev_match,Yt.prev_length-wt),Yt.lookahead-=Yt.prev_length-1,Yt.prev_length-=2;++Yt.strstart<=hn&&(Yt.ins_h=(Yt.ins_h<<Yt.hash_shift^Yt.window[Yt.strstart+wt-1])&Yt.hash_mask,Qt=Yt.prev[Yt.strstart&Yt.w_mask]=Yt.head[Yt.ins_h],Yt.head[Yt.ins_h]=Yt.strstart),--Yt.prev_length!=0;);if(Yt.match_available=0,Yt.match_length=wt-1,Yt.strstart++,Kt&&(kt(Yt,!1),Yt.strm.avail_out===0))return Pt}else if(Yt.match_available){if((Kt=st._tr_tally(Yt,0,Yt.window[Yt.strstart-1]))&&kt(Yt,!1),Yt.strstart++,Yt.lookahead--,Yt.strm.avail_out===0)return Pt}else Yt.match_available=1,Yt.strstart++,Yt.lookahead--}return Yt.match_available&&(Kt=st._tr_tally(Yt,0,Yt.window[Yt.strstart-1]),Yt.match_available=0),Yt.insert=Yt.strstart<wt-1?Yt.strstart:wt-1,yn===dt?(kt(Yt,!0),Yt.strm.avail_out===0?Ct:Ot):Yt.last_lit&&(kt(Yt,!1),Yt.strm.avail_out===0)?Pt:Dt}function Bt(Yt,yn,Qt,Kt,hn){this.good_length=Yt,this.max_lazy=yn,this.nice_length=Qt,this.max_chain=Kt,this.func=hn}function Ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new at.Buf16(2*zt),this.dyn_dtree=new at.Buf16(2*(2*vt+1)),this.bl_tree=new at.Buf16(2*(2*$t+1)),Mt(this.dyn_ltree),Mt(this.dyn_dtree),Mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new at.Buf16(Nt+1),this.heap=new at.Buf16(2*xt+1),Mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new at.Buf16(2*xt+1),Mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function sn(Yt){var yn;return Yt&&Yt.state?(Yt.total_in=Yt.total_out=0,Yt.data_type=yt,(yn=Yt.state).pending=0,yn.pending_out=0,yn.wrap<0&&(yn.wrap=-yn.wrap),yn.status=yn.wrap?Tt:It,Yt.adler=yn.wrap===2?0:1,yn.last_flush=ut,st._tr_init(yn),ht):Ut(Yt,pt)}function Xt(Yt){var yn=sn(Yt);return yn===ht&&function(Qt){Qt.window_size=2*Qt.w_size,Mt(Qt.head),Qt.max_lazy_match=ot[Qt.level].max_lazy,Qt.good_match=ot[Qt.level].good_length,Qt.nice_match=ot[Qt.level].nice_length,Qt.max_chain_length=ot[Qt.level].max_chain,Qt.strstart=0,Qt.block_start=0,Qt.lookahead=0,Qt.insert=0,Qt.match_length=Qt.prev_length=wt-1,Qt.match_available=0,Qt.ins_h=0}(Yt.state),yn}function dn(Yt,yn,Qt,Kt,hn,vn){if(!Yt)return pt;var Sn=1;if(yn===gt&&(yn=6),Kt<0?(Sn=0,Kt=-Kt):15<Kt&&(Sn=2,Kt-=16),hn<1||St<hn||Qt!==bt||Kt<8||15<Kt||yn<0||9<yn||vn<0||mt<vn)return Ut(Yt,pt);Kt===8&&(Kt=9);var Cn=new Ft;return(Yt.state=Cn).strm=Yt,Cn.wrap=Sn,Cn.gzhead=null,Cn.w_bits=Kt,Cn.w_size=1<<Cn.w_bits,Cn.w_mask=Cn.w_size-1,Cn.hash_bits=hn+7,Cn.hash_size=1<<Cn.hash_bits,Cn.hash_mask=Cn.hash_size-1,Cn.hash_shift=~~((Cn.hash_bits+wt-1)/wt),Cn.window=new at.Buf8(2*Cn.w_size),Cn.head=new at.Buf16(Cn.hash_size),Cn.prev=new at.Buf16(Cn.w_size),Cn.lit_bufsize=1<<hn+6,Cn.pending_buf_size=4*Cn.lit_bufsize,Cn.pending_buf=new at.Buf8(Cn.pending_buf_size),Cn.d_buf=1*Cn.lit_bufsize,Cn.l_buf=3*Cn.lit_bufsize,Cn.level=yn,Cn.strategy=vn,Cn.method=Qt,Xt(Yt)}ot=[new Bt(0,0,0,0,function(Yt,yn){var Qt=65535;for(Qt>Yt.pending_buf_size-5&&(Qt=Yt.pending_buf_size-5);;){if(Yt.lookahead<=1){if(Vt(Yt),Yt.lookahead===0&&yn===ut)return Pt;if(Yt.lookahead===0)break}Yt.strstart+=Yt.lookahead,Yt.lookahead=0;var Kt=Yt.block_start+Qt;if((Yt.strstart===0||Yt.strstart>=Kt)&&(Yt.lookahead=Yt.strstart-Kt,Yt.strstart=Kt,kt(Yt,!1),Yt.strm.avail_out===0)||Yt.strstart-Yt.block_start>=Yt.w_size-Rt&&(kt(Yt,!1),Yt.strm.avail_out===0))return Pt}return Yt.insert=0,yn===dt?(kt(Yt,!0),Yt.strm.avail_out===0?Ct:Ot):(Yt.strstart>Yt.block_start&&(kt(Yt,!1),Yt.strm.avail_out),Pt)}),new Bt(4,4,8,4,Wt),new Bt(4,5,16,8,Wt),new Bt(4,6,32,32,Wt),new Bt(4,4,16,16,Lt),new Bt(8,16,32,32,Lt),new Bt(8,16,128,128,Lt),new Bt(8,32,128,256,Lt),new Bt(32,128,258,1024,Lt),new Bt(32,258,258,4096,Lt)],it.deflateInit=function(Yt,yn){return dn(Yt,yn,bt,15,8,0)},it.deflateInit2=dn,it.deflateReset=Xt,it.deflateResetKeep=sn,it.deflateSetHeader=function(Yt,yn){return Yt&&Yt.state?Yt.state.wrap!==2?pt:(Yt.state.gzhead=yn,ht):pt},it.deflate=function(Yt,yn){var Qt,Kt,hn,vn;if(!Yt||!Yt.state||5<yn||yn<0)return Yt?Ut(Yt,pt):pt;if(Kt=Yt.state,!Yt.output||!Yt.input&&Yt.avail_in!==0||Kt.status===666&&yn!==dt)return Ut(Yt,Yt.avail_out===0?-5:pt);if(Kt.strm=Yt,Qt=Kt.last_flush,Kt.last_flush=yn,Kt.status===Tt)if(Kt.wrap===2)Yt.adler=0,Gt(Kt,31),Gt(Kt,139),Gt(Kt,8),Kt.gzhead?(Gt(Kt,(Kt.gzhead.text?1:0)+(Kt.gzhead.hcrc?2:0)+(Kt.gzhead.extra?4:0)+(Kt.gzhead.name?8:0)+(Kt.gzhead.comment?16:0)),Gt(Kt,255&Kt.gzhead.time),Gt(Kt,Kt.gzhead.time>>8&255),Gt(Kt,Kt.gzhead.time>>16&255),Gt(Kt,Kt.gzhead.time>>24&255),Gt(Kt,Kt.level===9?2:2<=Kt.strategy||Kt.level<2?4:0),Gt(Kt,255&Kt.gzhead.os),Kt.gzhead.extra&&Kt.gzhead.extra.length&&(Gt(Kt,255&Kt.gzhead.extra.length),Gt(Kt,Kt.gzhead.extra.length>>8&255)),Kt.gzhead.hcrc&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending,0)),Kt.gzindex=0,Kt.status=69):(Gt(Kt,0),Gt(Kt,0),Gt(Kt,0),Gt(Kt,0),Gt(Kt,0),Gt(Kt,Kt.level===9?2:2<=Kt.strategy||Kt.level<2?4:0),Gt(Kt,3),Kt.status=It);else{var Sn=bt+(Kt.w_bits-8<<4)<<8;Sn|=(2<=Kt.strategy||Kt.level<2?0:Kt.level<6?1:Kt.level===6?2:3)<<6,Kt.strstart!==0&&(Sn|=32),Sn+=31-Sn%31,Kt.status=It,Ht(Kt,Sn),Kt.strstart!==0&&(Ht(Kt,Yt.adler>>>16),Ht(Kt,65535&Yt.adler)),Yt.adler=1}if(Kt.status===69)if(Kt.gzhead.extra){for(hn=Kt.pending;Kt.gzindex<(65535&Kt.gzhead.extra.length)&&(Kt.pending!==Kt.pending_buf_size||(Kt.gzhead.hcrc&&Kt.pending>hn&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending-hn,hn)),jt(Yt),hn=Kt.pending,Kt.pending!==Kt.pending_buf_size));)Gt(Kt,255&Kt.gzhead.extra[Kt.gzindex]),Kt.gzindex++;Kt.gzhead.hcrc&&Kt.pending>hn&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending-hn,hn)),Kt.gzindex===Kt.gzhead.extra.length&&(Kt.gzindex=0,Kt.status=73)}else Kt.status=73;if(Kt.status===73)if(Kt.gzhead.name){hn=Kt.pending;do{if(Kt.pending===Kt.pending_buf_size&&(Kt.gzhead.hcrc&&Kt.pending>hn&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending-hn,hn)),jt(Yt),hn=Kt.pending,Kt.pending===Kt.pending_buf_size)){vn=1;break}vn=Kt.gzindex<Kt.gzhead.name.length?255&Kt.gzhead.name.charCodeAt(Kt.gzindex++):0,Gt(Kt,vn)}while(vn!==0);Kt.gzhead.hcrc&&Kt.pending>hn&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending-hn,hn)),vn===0&&(Kt.gzindex=0,Kt.status=91)}else Kt.status=91;if(Kt.status===91)if(Kt.gzhead.comment){hn=Kt.pending;do{if(Kt.pending===Kt.pending_buf_size&&(Kt.gzhead.hcrc&&Kt.pending>hn&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending-hn,hn)),jt(Yt),hn=Kt.pending,Kt.pending===Kt.pending_buf_size)){vn=1;break}vn=Kt.gzindex<Kt.gzhead.comment.length?255&Kt.gzhead.comment.charCodeAt(Kt.gzindex++):0,Gt(Kt,vn)}while(vn!==0);Kt.gzhead.hcrc&&Kt.pending>hn&&(Yt.adler=ct(Yt.adler,Kt.pending_buf,Kt.pending-hn,hn)),vn===0&&(Kt.status=103)}else Kt.status=103;if(Kt.status===103&&(Kt.gzhead.hcrc?(Kt.pending+2>Kt.pending_buf_size&&jt(Yt),Kt.pending+2<=Kt.pending_buf_size&&(Gt(Kt,255&Yt.adler),Gt(Kt,Yt.adler>>8&255),Yt.adler=0,Kt.status=It)):Kt.status=It),Kt.pending!==0){if(jt(Yt),Yt.avail_out===0)return Kt.last_flush=-1,ht}else if(Yt.avail_in===0&&At(yn)<=At(Qt)&&yn!==dt)return Ut(Yt,-5);if(Kt.status===666&&Yt.avail_in!==0)return Ut(Yt,-5);if(Yt.avail_in!==0||Kt.lookahead!==0||yn!==ut&&Kt.status!==666){var Cn=Kt.strategy===2?function(cn,ln){for(var bn;;){if(cn.lookahead===0&&(Vt(cn),cn.lookahead===0)){if(ln===ut)return Pt;break}if(cn.match_length=0,bn=st._tr_tally(cn,0,cn.window[cn.strstart]),cn.lookahead--,cn.strstart++,bn&&(kt(cn,!1),cn.strm.avail_out===0))return Pt}return cn.insert=0,ln===dt?(kt(cn,!0),cn.strm.avail_out===0?Ct:Ot):cn.last_lit&&(kt(cn,!1),cn.strm.avail_out===0)?Pt:Dt}(Kt,yn):Kt.strategy===3?function(cn,ln){for(var bn,xn,Nn,zn,Ln=cn.window;;){if(cn.lookahead<=Et){if(Vt(cn),cn.lookahead<=Et&&ln===ut)return Pt;if(cn.lookahead===0)break}if(cn.match_length=0,cn.lookahead>=wt&&0<cn.strstart&&(xn=Ln[Nn=cn.strstart-1])===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]){zn=cn.strstart+Et;do;while(xn===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]&&xn===Ln[++Nn]&&Nn<zn);cn.match_length=Et-(zn-Nn),cn.match_length>cn.lookahead&&(cn.match_length=cn.lookahead)}if(cn.match_length>=wt?(bn=st._tr_tally(cn,1,cn.match_length-wt),cn.lookahead-=cn.match_length,cn.strstart+=cn.match_length,cn.match_length=0):(bn=st._tr_tally(cn,0,cn.window[cn.strstart]),cn.lookahead--,cn.strstart++),bn&&(kt(cn,!1),cn.strm.avail_out===0))return Pt}return cn.insert=0,ln===dt?(kt(cn,!0),cn.strm.avail_out===0?Ct:Ot):cn.last_lit&&(kt(cn,!1),cn.strm.avail_out===0)?Pt:Dt}(Kt,yn):ot[Kt.level].func(Kt,yn);if(Cn!==Ct&&Cn!==Ot||(Kt.status=666),Cn===Pt||Cn===Ct)return Yt.avail_out===0&&(Kt.last_flush=-1),ht;if(Cn===Dt&&(yn===1?st._tr_align(Kt):yn!==5&&(st._tr_stored_block(Kt,0,0,!1),yn===3&&(Mt(Kt.head),Kt.lookahead===0&&(Kt.strstart=0,Kt.block_start=0,Kt.insert=0))),jt(Yt),Yt.avail_out===0))return Kt.last_flush=-1,ht}return yn!==dt?ht:Kt.wrap<=0?1:(Kt.wrap===2?(Gt(Kt,255&Yt.adler),Gt(Kt,Yt.adler>>8&255),Gt(Kt,Yt.adler>>16&255),Gt(Kt,Yt.adler>>24&255),Gt(Kt,255&Yt.total_in),Gt(Kt,Yt.total_in>>8&255),Gt(Kt,Yt.total_in>>16&255),Gt(Kt,Yt.total_in>>24&255)):(Ht(Kt,Yt.adler>>>16),Ht(Kt,65535&Yt.adler)),jt(Yt),0<Kt.wrap&&(Kt.wrap=-Kt.wrap),Kt.pending!==0?ht:1)},it.deflateEnd=function(Yt){var yn;return Yt&&Yt.state?(yn=Yt.state.status)!==Tt&&yn!==69&&yn!==73&&yn!==91&&yn!==103&&yn!==It&&yn!==666?Ut(Yt,pt):(Yt.state=null,yn===It?Ut(Yt,-3):ht):pt},it.deflateSetDictionary=function(Yt,yn){var Qt,Kt,hn,vn,Sn,Cn,cn,ln,bn=yn.length;if(!Yt||!Yt.state||(vn=(Qt=Yt.state).wrap)===2||vn===1&&Qt.status!==Tt||Qt.lookahead)return pt;for(vn===1&&(Yt.adler=lt(Yt.adler,yn,bn,0)),Qt.wrap=0,bn>=Qt.w_size&&(vn===0&&(Mt(Qt.head),Qt.strstart=0,Qt.block_start=0,Qt.insert=0),ln=new at.Buf8(Qt.w_size),at.arraySet(ln,yn,bn-Qt.w_size,Qt.w_size,0),yn=ln,bn=Qt.w_size),Sn=Yt.avail_in,Cn=Yt.next_in,cn=Yt.input,Yt.avail_in=bn,Yt.next_in=0,Yt.input=yn,Vt(Qt);Qt.lookahead>=wt;){for(Kt=Qt.strstart,hn=Qt.lookahead-(wt-1);Qt.ins_h=(Qt.ins_h<<Qt.hash_shift^Qt.window[Kt+wt-1])&Qt.hash_mask,Qt.prev[Kt&Qt.w_mask]=Qt.head[Qt.ins_h],Qt.head[Qt.ins_h]=Kt,Kt++,--hn;);Qt.strstart=Kt,Qt.lookahead=wt-1,Vt(Qt)}return Qt.strstart+=Qt.lookahead,Qt.block_start=Qt.strstart,Qt.insert=Qt.lookahead,Qt.lookahead=0,Qt.match_length=Qt.prev_length=wt-1,Qt.match_available=0,Yt.next_in=Cn,Yt.input=cn,Yt.avail_in=Sn,Qt.wrap=vn,ht},it.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(nt,rt,it){rt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(nt,rt,it){rt.exports=function(ot,at){var st,lt,ct,ft,ut,dt,ht,pt,gt,mt,yt,bt,St,xt,vt,$t,zt,Nt,wt,Et,Rt,Tt,It,Pt,Dt;st=ot.state,lt=ot.next_in,Pt=ot.input,ct=lt+(ot.avail_in-5),ft=ot.next_out,Dt=ot.output,ut=ft-(at-ot.avail_out),dt=ft+(ot.avail_out-257),ht=st.dmax,pt=st.wsize,gt=st.whave,mt=st.wnext,yt=st.window,bt=st.hold,St=st.bits,xt=st.lencode,vt=st.distcode,$t=(1<<st.lenbits)-1,zt=(1<<st.distbits)-1;e:do{St<15&&(bt+=Pt[lt++]<<St,St+=8,bt+=Pt[lt++]<<St,St+=8),Nt=xt[bt&$t];t:for(;;){if(bt>>>=wt=Nt>>>24,St-=wt,(wt=Nt>>>16&255)===0)Dt[ft++]=65535&Nt;else{if(!(16&wt)){if((64&wt)==0){Nt=xt[(65535&Nt)+(bt&(1<<wt)-1)];continue t}if(32&wt){st.mode=12;break e}ot.msg="invalid literal/length code",st.mode=30;break e}Et=65535&Nt,(wt&=15)&&(St<wt&&(bt+=Pt[lt++]<<St,St+=8),Et+=bt&(1<<wt)-1,bt>>>=wt,St-=wt),St<15&&(bt+=Pt[lt++]<<St,St+=8,bt+=Pt[lt++]<<St,St+=8),Nt=vt[bt&zt];n:for(;;){if(bt>>>=wt=Nt>>>24,St-=wt,!(16&(wt=Nt>>>16&255))){if((64&wt)==0){Nt=vt[(65535&Nt)+(bt&(1<<wt)-1)];continue n}ot.msg="invalid distance code",st.mode=30;break e}if(Rt=65535&Nt,St<(wt&=15)&&(bt+=Pt[lt++]<<St,(St+=8)<wt&&(bt+=Pt[lt++]<<St,St+=8)),ht<(Rt+=bt&(1<<wt)-1)){ot.msg="invalid distance too far back",st.mode=30;break e}if(bt>>>=wt,St-=wt,(wt=ft-ut)<Rt){if(gt<(wt=Rt-wt)&&st.sane){ot.msg="invalid distance too far back",st.mode=30;break e}if(It=yt,(Tt=0)===mt){if(Tt+=pt-wt,wt<Et){for(Et-=wt;Dt[ft++]=yt[Tt++],--wt;);Tt=ft-Rt,It=Dt}}else if(mt<wt){if(Tt+=pt+mt-wt,(wt-=mt)<Et){for(Et-=wt;Dt[ft++]=yt[Tt++],--wt;);if(Tt=0,mt<Et){for(Et-=wt=mt;Dt[ft++]=yt[Tt++],--wt;);Tt=ft-Rt,It=Dt}}}else if(Tt+=mt-wt,wt<Et){for(Et-=wt;Dt[ft++]=yt[Tt++],--wt;);Tt=ft-Rt,It=Dt}for(;2<Et;)Dt[ft++]=It[Tt++],Dt[ft++]=It[Tt++],Dt[ft++]=It[Tt++],Et-=3;Et&&(Dt[ft++]=It[Tt++],1<Et&&(Dt[ft++]=It[Tt++]))}else{for(Tt=ft-Rt;Dt[ft++]=Dt[Tt++],Dt[ft++]=Dt[Tt++],Dt[ft++]=Dt[Tt++],2<(Et-=3););Et&&(Dt[ft++]=Dt[Tt++],1<Et&&(Dt[ft++]=Dt[Tt++]))}break}}break}}while(lt<ct&&ft<dt);lt-=Et=St>>3,bt&=(1<<(St-=Et<<3))-1,ot.next_in=lt,ot.next_out=ft,ot.avail_in=lt<ct?ct-lt+5:5-(lt-ct),ot.avail_out=ft<dt?dt-ft+257:257-(ft-dt),st.hold=bt,st.bits=St}},{}],49:[function(nt,rt,it){var ot=nt("../utils/common"),at=nt("./adler32"),st=nt("./crc32"),lt=nt("./inffast"),ct=nt("./inftrees"),ft=1,ut=2,dt=0,ht=-2,pt=1,gt=852,mt=592;function yt(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function bt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ot.Buf16(320),this.work=new ot.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function St(Tt){var It;return Tt&&Tt.state?(It=Tt.state,Tt.total_in=Tt.total_out=It.total=0,Tt.msg="",It.wrap&&(Tt.adler=1&It.wrap),It.mode=pt,It.last=0,It.havedict=0,It.dmax=32768,It.head=null,It.hold=0,It.bits=0,It.lencode=It.lendyn=new ot.Buf32(gt),It.distcode=It.distdyn=new ot.Buf32(mt),It.sane=1,It.back=-1,dt):ht}function xt(Tt){var It;return Tt&&Tt.state?((It=Tt.state).wsize=0,It.whave=0,It.wnext=0,St(Tt)):ht}function vt(Tt,It){var Pt,Dt;return Tt&&Tt.state?(Dt=Tt.state,It<0?(Pt=0,It=-It):(Pt=1+(It>>4),It<48&&(It&=15)),It&&(It<8||15<It)?ht:(Dt.window!==null&&Dt.wbits!==It&&(Dt.window=null),Dt.wrap=Pt,Dt.wbits=It,xt(Tt))):ht}function $t(Tt,It){var Pt,Dt;return Tt?(Dt=new bt,(Tt.state=Dt).window=null,(Pt=vt(Tt,It))!==dt&&(Tt.state=null),Pt):ht}var zt,Nt,wt=!0;function Et(Tt){if(wt){var It;for(zt=new ot.Buf32(512),Nt=new ot.Buf32(32),It=0;It<144;)Tt.lens[It++]=8;for(;It<256;)Tt.lens[It++]=9;for(;It<280;)Tt.lens[It++]=7;for(;It<288;)Tt.lens[It++]=8;for(ct(ft,Tt.lens,0,288,zt,0,Tt.work,{bits:9}),It=0;It<32;)Tt.lens[It++]=5;ct(ut,Tt.lens,0,32,Nt,0,Tt.work,{bits:5}),wt=!1}Tt.lencode=zt,Tt.lenbits=9,Tt.distcode=Nt,Tt.distbits=5}function Rt(Tt,It,Pt,Dt){var Ct,Ot=Tt.state;return Ot.window===null&&(Ot.wsize=1<<Ot.wbits,Ot.wnext=0,Ot.whave=0,Ot.window=new ot.Buf8(Ot.wsize)),Dt>=Ot.wsize?(ot.arraySet(Ot.window,It,Pt-Ot.wsize,Ot.wsize,0),Ot.wnext=0,Ot.whave=Ot.wsize):(Dt<(Ct=Ot.wsize-Ot.wnext)&&(Ct=Dt),ot.arraySet(Ot.window,It,Pt-Dt,Ct,Ot.wnext),(Dt-=Ct)?(ot.arraySet(Ot.window,It,Pt-Dt,Dt,0),Ot.wnext=Dt,Ot.whave=Ot.wsize):(Ot.wnext+=Ct,Ot.wnext===Ot.wsize&&(Ot.wnext=0),Ot.whave<Ot.wsize&&(Ot.whave+=Ct))),0}it.inflateReset=xt,it.inflateReset2=vt,it.inflateResetKeep=St,it.inflateInit=function(Tt){return $t(Tt,15)},it.inflateInit2=$t,it.inflate=function(Tt,It){var Pt,Dt,Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht,Jt,Vt,Wt,Lt,Bt,Ft,sn,Xt,dn,Yt,yn,Qt,Kt,hn=0,vn=new ot.Buf8(4),Sn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return ht;(Pt=Tt.state).mode===12&&(Pt.mode=13),Ut=Tt.next_out,Ct=Tt.output,Mt=Tt.avail_out,Ot=Tt.next_in,Dt=Tt.input,At=Tt.avail_in,jt=Pt.hold,kt=Pt.bits,Gt=At,Ht=Mt,yn=dt;e:for(;;)switch(Pt.mode){case pt:if(Pt.wrap===0){Pt.mode=13;break}for(;kt<16;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(2&Pt.wrap&&jt===35615){vn[Pt.check=0]=255&jt,vn[1]=jt>>>8&255,Pt.check=st(Pt.check,vn,2,0),kt=jt=0,Pt.mode=2;break}if(Pt.flags=0,Pt.head&&(Pt.head.done=!1),!(1&Pt.wrap)||(((255&jt)<<8)+(jt>>8))%31){Tt.msg="incorrect header check",Pt.mode=30;break}if((15&jt)!=8){Tt.msg="unknown compression method",Pt.mode=30;break}if(kt-=4,Yt=8+(15&(jt>>>=4)),Pt.wbits===0)Pt.wbits=Yt;else if(Yt>Pt.wbits){Tt.msg="invalid window size",Pt.mode=30;break}Pt.dmax=1<<Yt,Tt.adler=Pt.check=1,Pt.mode=512&jt?10:12,kt=jt=0;break;case 2:for(;kt<16;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(Pt.flags=jt,(255&Pt.flags)!=8){Tt.msg="unknown compression method",Pt.mode=30;break}if(57344&Pt.flags){Tt.msg="unknown header flags set",Pt.mode=30;break}Pt.head&&(Pt.head.text=jt>>8&1),512&Pt.flags&&(vn[0]=255&jt,vn[1]=jt>>>8&255,Pt.check=st(Pt.check,vn,2,0)),kt=jt=0,Pt.mode=3;case 3:for(;kt<32;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Pt.head&&(Pt.head.time=jt),512&Pt.flags&&(vn[0]=255&jt,vn[1]=jt>>>8&255,vn[2]=jt>>>16&255,vn[3]=jt>>>24&255,Pt.check=st(Pt.check,vn,4,0)),kt=jt=0,Pt.mode=4;case 4:for(;kt<16;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Pt.head&&(Pt.head.xflags=255&jt,Pt.head.os=jt>>8),512&Pt.flags&&(vn[0]=255&jt,vn[1]=jt>>>8&255,Pt.check=st(Pt.check,vn,2,0)),kt=jt=0,Pt.mode=5;case 5:if(1024&Pt.flags){for(;kt<16;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Pt.length=jt,Pt.head&&(Pt.head.extra_len=jt),512&Pt.flags&&(vn[0]=255&jt,vn[1]=jt>>>8&255,Pt.check=st(Pt.check,vn,2,0)),kt=jt=0}else Pt.head&&(Pt.head.extra=null);Pt.mode=6;case 6:if(1024&Pt.flags&&(At<(Jt=Pt.length)&&(Jt=At),Jt&&(Pt.head&&(Yt=Pt.head.extra_len-Pt.length,Pt.head.extra||(Pt.head.extra=new Array(Pt.head.extra_len)),ot.arraySet(Pt.head.extra,Dt,Ot,Jt,Yt)),512&Pt.flags&&(Pt.check=st(Pt.check,Dt,Jt,Ot)),At-=Jt,Ot+=Jt,Pt.length-=Jt),Pt.length))break e;Pt.length=0,Pt.mode=7;case 7:if(2048&Pt.flags){if(At===0)break e;for(Jt=0;Yt=Dt[Ot+Jt++],Pt.head&&Yt&&Pt.length<65536&&(Pt.head.name+=String.fromCharCode(Yt)),Yt&&Jt<At;);if(512&Pt.flags&&(Pt.check=st(Pt.check,Dt,Jt,Ot)),At-=Jt,Ot+=Jt,Yt)break e}else Pt.head&&(Pt.head.name=null);Pt.length=0,Pt.mode=8;case 8:if(4096&Pt.flags){if(At===0)break e;for(Jt=0;Yt=Dt[Ot+Jt++],Pt.head&&Yt&&Pt.length<65536&&(Pt.head.comment+=String.fromCharCode(Yt)),Yt&&Jt<At;);if(512&Pt.flags&&(Pt.check=st(Pt.check,Dt,Jt,Ot)),At-=Jt,Ot+=Jt,Yt)break e}else Pt.head&&(Pt.head.comment=null);Pt.mode=9;case 9:if(512&Pt.flags){for(;kt<16;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(jt!==(65535&Pt.check)){Tt.msg="header crc mismatch",Pt.mode=30;break}kt=jt=0}Pt.head&&(Pt.head.hcrc=Pt.flags>>9&1,Pt.head.done=!0),Tt.adler=Pt.check=0,Pt.mode=12;break;case 10:for(;kt<32;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Tt.adler=Pt.check=yt(jt),kt=jt=0,Pt.mode=11;case 11:if(Pt.havedict===0)return Tt.next_out=Ut,Tt.avail_out=Mt,Tt.next_in=Ot,Tt.avail_in=At,Pt.hold=jt,Pt.bits=kt,2;Tt.adler=Pt.check=1,Pt.mode=12;case 12:if(It===5||It===6)break e;case 13:if(Pt.last){jt>>>=7&kt,kt-=7&kt,Pt.mode=27;break}for(;kt<3;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}switch(Pt.last=1&jt,kt-=1,3&(jt>>>=1)){case 0:Pt.mode=14;break;case 1:if(Et(Pt),Pt.mode=20,It!==6)break;jt>>>=2,kt-=2;break e;case 2:Pt.mode=17;break;case 3:Tt.msg="invalid block type",Pt.mode=30}jt>>>=2,kt-=2;break;case 14:for(jt>>>=7&kt,kt-=7&kt;kt<32;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if((65535&jt)!=(jt>>>16^65535)){Tt.msg="invalid stored block lengths",Pt.mode=30;break}if(Pt.length=65535&jt,kt=jt=0,Pt.mode=15,It===6)break e;case 15:Pt.mode=16;case 16:if(Jt=Pt.length){if(At<Jt&&(Jt=At),Mt<Jt&&(Jt=Mt),Jt===0)break e;ot.arraySet(Ct,Dt,Ot,Jt,Ut),At-=Jt,Ot+=Jt,Mt-=Jt,Ut+=Jt,Pt.length-=Jt;break}Pt.mode=12;break;case 17:for(;kt<14;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(Pt.nlen=257+(31&jt),jt>>>=5,kt-=5,Pt.ndist=1+(31&jt),jt>>>=5,kt-=5,Pt.ncode=4+(15&jt),jt>>>=4,kt-=4,286<Pt.nlen||30<Pt.ndist){Tt.msg="too many length or distance symbols",Pt.mode=30;break}Pt.have=0,Pt.mode=18;case 18:for(;Pt.have<Pt.ncode;){for(;kt<3;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Pt.lens[Sn[Pt.have++]]=7&jt,jt>>>=3,kt-=3}for(;Pt.have<19;)Pt.lens[Sn[Pt.have++]]=0;if(Pt.lencode=Pt.lendyn,Pt.lenbits=7,Qt={bits:Pt.lenbits},yn=ct(0,Pt.lens,0,19,Pt.lencode,0,Pt.work,Qt),Pt.lenbits=Qt.bits,yn){Tt.msg="invalid code lengths set",Pt.mode=30;break}Pt.have=0,Pt.mode=19;case 19:for(;Pt.have<Pt.nlen+Pt.ndist;){for(;Bt=(hn=Pt.lencode[jt&(1<<Pt.lenbits)-1])>>>16&255,Ft=65535&hn,!((Lt=hn>>>24)<=kt);){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(Ft<16)jt>>>=Lt,kt-=Lt,Pt.lens[Pt.have++]=Ft;else{if(Ft===16){for(Kt=Lt+2;kt<Kt;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(jt>>>=Lt,kt-=Lt,Pt.have===0){Tt.msg="invalid bit length repeat",Pt.mode=30;break}Yt=Pt.lens[Pt.have-1],Jt=3+(3&jt),jt>>>=2,kt-=2}else if(Ft===17){for(Kt=Lt+3;kt<Kt;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}kt-=Lt,Yt=0,Jt=3+(7&(jt>>>=Lt)),jt>>>=3,kt-=3}else{for(Kt=Lt+7;kt<Kt;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}kt-=Lt,Yt=0,Jt=11+(127&(jt>>>=Lt)),jt>>>=7,kt-=7}if(Pt.have+Jt>Pt.nlen+Pt.ndist){Tt.msg="invalid bit length repeat",Pt.mode=30;break}for(;Jt--;)Pt.lens[Pt.have++]=Yt}}if(Pt.mode===30)break;if(Pt.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",Pt.mode=30;break}if(Pt.lenbits=9,Qt={bits:Pt.lenbits},yn=ct(ft,Pt.lens,0,Pt.nlen,Pt.lencode,0,Pt.work,Qt),Pt.lenbits=Qt.bits,yn){Tt.msg="invalid literal/lengths set",Pt.mode=30;break}if(Pt.distbits=6,Pt.distcode=Pt.distdyn,Qt={bits:Pt.distbits},yn=ct(ut,Pt.lens,Pt.nlen,Pt.ndist,Pt.distcode,0,Pt.work,Qt),Pt.distbits=Qt.bits,yn){Tt.msg="invalid distances set",Pt.mode=30;break}if(Pt.mode=20,It===6)break e;case 20:Pt.mode=21;case 21:if(6<=At&&258<=Mt){Tt.next_out=Ut,Tt.avail_out=Mt,Tt.next_in=Ot,Tt.avail_in=At,Pt.hold=jt,Pt.bits=kt,lt(Tt,Ht),Ut=Tt.next_out,Ct=Tt.output,Mt=Tt.avail_out,Ot=Tt.next_in,Dt=Tt.input,At=Tt.avail_in,jt=Pt.hold,kt=Pt.bits,Pt.mode===12&&(Pt.back=-1);break}for(Pt.back=0;Bt=(hn=Pt.lencode[jt&(1<<Pt.lenbits)-1])>>>16&255,Ft=65535&hn,!((Lt=hn>>>24)<=kt);){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(Bt&&(240&Bt)==0){for(sn=Lt,Xt=Bt,dn=Ft;Bt=(hn=Pt.lencode[dn+((jt&(1<<sn+Xt)-1)>>sn)])>>>16&255,Ft=65535&hn,!(sn+(Lt=hn>>>24)<=kt);){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}jt>>>=sn,kt-=sn,Pt.back+=sn}if(jt>>>=Lt,kt-=Lt,Pt.back+=Lt,Pt.length=Ft,Bt===0){Pt.mode=26;break}if(32&Bt){Pt.back=-1,Pt.mode=12;break}if(64&Bt){Tt.msg="invalid literal/length code",Pt.mode=30;break}Pt.extra=15&Bt,Pt.mode=22;case 22:if(Pt.extra){for(Kt=Pt.extra;kt<Kt;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Pt.length+=jt&(1<<Pt.extra)-1,jt>>>=Pt.extra,kt-=Pt.extra,Pt.back+=Pt.extra}Pt.was=Pt.length,Pt.mode=23;case 23:for(;Bt=(hn=Pt.distcode[jt&(1<<Pt.distbits)-1])>>>16&255,Ft=65535&hn,!((Lt=hn>>>24)<=kt);){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if((240&Bt)==0){for(sn=Lt,Xt=Bt,dn=Ft;Bt=(hn=Pt.distcode[dn+((jt&(1<<sn+Xt)-1)>>sn)])>>>16&255,Ft=65535&hn,!(sn+(Lt=hn>>>24)<=kt);){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}jt>>>=sn,kt-=sn,Pt.back+=sn}if(jt>>>=Lt,kt-=Lt,Pt.back+=Lt,64&Bt){Tt.msg="invalid distance code",Pt.mode=30;break}Pt.offset=Ft,Pt.extra=15&Bt,Pt.mode=24;case 24:if(Pt.extra){for(Kt=Pt.extra;kt<Kt;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}Pt.offset+=jt&(1<<Pt.extra)-1,jt>>>=Pt.extra,kt-=Pt.extra,Pt.back+=Pt.extra}if(Pt.offset>Pt.dmax){Tt.msg="invalid distance too far back",Pt.mode=30;break}Pt.mode=25;case 25:if(Mt===0)break e;if(Jt=Ht-Mt,Pt.offset>Jt){if((Jt=Pt.offset-Jt)>Pt.whave&&Pt.sane){Tt.msg="invalid distance too far back",Pt.mode=30;break}Vt=Jt>Pt.wnext?(Jt-=Pt.wnext,Pt.wsize-Jt):Pt.wnext-Jt,Jt>Pt.length&&(Jt=Pt.length),Wt=Pt.window}else Wt=Ct,Vt=Ut-Pt.offset,Jt=Pt.length;for(Mt<Jt&&(Jt=Mt),Mt-=Jt,Pt.length-=Jt;Ct[Ut++]=Wt[Vt++],--Jt;);Pt.length===0&&(Pt.mode=21);break;case 26:if(Mt===0)break e;Ct[Ut++]=Pt.length,Mt--,Pt.mode=21;break;case 27:if(Pt.wrap){for(;kt<32;){if(At===0)break e;At--,jt|=Dt[Ot++]<<kt,kt+=8}if(Ht-=Mt,Tt.total_out+=Ht,Pt.total+=Ht,Ht&&(Tt.adler=Pt.check=Pt.flags?st(Pt.check,Ct,Ht,Ut-Ht):at(Pt.check,Ct,Ht,Ut-Ht)),Ht=Mt,(Pt.flags?jt:yt(jt))!==Pt.check){Tt.msg="incorrect data check",Pt.mode=30;break}kt=jt=0}Pt.mode=28;case 28:if(Pt.wrap&&Pt.flags){for(;kt<32;){if(At===0)break e;At--,jt+=Dt[Ot++]<<kt,kt+=8}if(jt!==(4294967295&Pt.total)){Tt.msg="incorrect length check",Pt.mode=30;break}kt=jt=0}Pt.mode=29;case 29:yn=1;break e;case 30:yn=-3;break e;case 31:return-4;case 32:default:return ht}return Tt.next_out=Ut,Tt.avail_out=Mt,Tt.next_in=Ot,Tt.avail_in=At,Pt.hold=jt,Pt.bits=kt,(Pt.wsize||Ht!==Tt.avail_out&&Pt.mode<30&&(Pt.mode<27||It!==4))&&Rt(Tt,Tt.output,Tt.next_out,Ht-Tt.avail_out)?(Pt.mode=31,-4):(Gt-=Tt.avail_in,Ht-=Tt.avail_out,Tt.total_in+=Gt,Tt.total_out+=Ht,Pt.total+=Ht,Pt.wrap&&Ht&&(Tt.adler=Pt.check=Pt.flags?st(Pt.check,Ct,Ht,Tt.next_out-Ht):at(Pt.check,Ct,Ht,Tt.next_out-Ht)),Tt.data_type=Pt.bits+(Pt.last?64:0)+(Pt.mode===12?128:0)+(Pt.mode===20||Pt.mode===15?256:0),(Gt==0&&Ht===0||It===4)&&yn===dt&&(yn=-5),yn)},it.inflateEnd=function(Tt){if(!Tt||!Tt.state)return ht;var It=Tt.state;return It.window&&(It.window=null),Tt.state=null,dt},it.inflateGetHeader=function(Tt,It){var Pt;return Tt&&Tt.state?(2&(Pt=Tt.state).wrap)==0?ht:((Pt.head=It).done=!1,dt):ht},it.inflateSetDictionary=function(Tt,It){var Pt,Dt=It.length;return Tt&&Tt.state?(Pt=Tt.state).wrap!==0&&Pt.mode!==11?ht:Pt.mode===11&&at(1,It,Dt,0)!==Pt.check?-3:Rt(Tt,It,Dt,Dt)?(Pt.mode=31,-4):(Pt.havedict=1,dt):ht},it.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(nt,rt,it){var ot=nt("../utils/common"),at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],st=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],lt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ct=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];rt.exports=function(ft,ut,dt,ht,pt,gt,mt,yt){var bt,St,xt,vt,$t,zt,Nt,wt,Et,Rt=yt.bits,Tt=0,It=0,Pt=0,Dt=0,Ct=0,Ot=0,Ut=0,At=0,Mt=0,jt=0,kt=null,Gt=0,Ht=new ot.Buf16(16),Jt=new ot.Buf16(16),Vt=null,Wt=0;for(Tt=0;Tt<=15;Tt++)Ht[Tt]=0;for(It=0;It<ht;It++)Ht[ut[dt+It]]++;for(Ct=Rt,Dt=15;1<=Dt&&Ht[Dt]===0;Dt--);if(Dt<Ct&&(Ct=Dt),Dt===0)return pt[gt++]=20971520,pt[gt++]=20971520,yt.bits=1,0;for(Pt=1;Pt<Dt&&Ht[Pt]===0;Pt++);for(Ct<Pt&&(Ct=Pt),Tt=At=1;Tt<=15;Tt++)if(At<<=1,(At-=Ht[Tt])<0)return-1;if(0<At&&(ft===0||Dt!==1))return-1;for(Jt[1]=0,Tt=1;Tt<15;Tt++)Jt[Tt+1]=Jt[Tt]+Ht[Tt];for(It=0;It<ht;It++)ut[dt+It]!==0&&(mt[Jt[ut[dt+It]]++]=It);if(zt=ft===0?(kt=Vt=mt,19):ft===1?(kt=at,Gt-=257,Vt=st,Wt-=257,256):(kt=lt,Vt=ct,-1),Tt=Pt,$t=gt,Ut=It=jt=0,xt=-1,vt=(Mt=1<<(Ot=Ct))-1,ft===1&&852<Mt||ft===2&&592<Mt)return 1;for(;;){for(Nt=Tt-Ut,Et=mt[It]<zt?(wt=0,mt[It]):mt[It]>zt?(wt=Vt[Wt+mt[It]],kt[Gt+mt[It]]):(wt=96,0),bt=1<<Tt-Ut,Pt=St=1<<Ot;pt[$t+(jt>>Ut)+(St-=bt)]=Nt<<24|wt<<16|Et|0,St!==0;);for(bt=1<<Tt-1;jt&bt;)bt>>=1;if(bt!==0?(jt&=bt-1,jt+=bt):jt=0,It++,--Ht[Tt]==0){if(Tt===Dt)break;Tt=ut[dt+mt[It]]}if(Ct<Tt&&(jt&vt)!==xt){for(Ut===0&&(Ut=Ct),$t+=Pt,At=1<<(Ot=Tt-Ut);Ot+Ut<Dt&&!((At-=Ht[Ot+Ut])<=0);)Ot++,At<<=1;if(Mt+=1<<Ot,ft===1&&852<Mt||ft===2&&592<Mt)return 1;pt[xt=jt&vt]=Ct<<24|Ot<<16|$t-gt|0}}return jt!==0&&(pt[$t+jt]=Tt-Ut<<24|64<<16|0),yt.bits=Ct,0}},{"../utils/common":41}],51:[function(nt,rt,it){rt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(nt,rt,it){var ot=nt("../utils/common"),at=0,st=1;function lt(hn){for(var vn=hn.length;0<=--vn;)hn[vn]=0}var ct=0,ft=29,ut=256,dt=ut+1+ft,ht=30,pt=19,gt=2*dt+1,mt=15,yt=16,bt=7,St=256,xt=16,vt=17,$t=18,zt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Rt=new Array(2*(dt+2));lt(Rt);var Tt=new Array(2*ht);lt(Tt);var It=new Array(512);lt(It);var Pt=new Array(256);lt(Pt);var Dt=new Array(ft);lt(Dt);var Ct,Ot,Ut,At=new Array(ht);function Mt(hn,vn,Sn,Cn,cn){this.static_tree=hn,this.extra_bits=vn,this.extra_base=Sn,this.elems=Cn,this.max_length=cn,this.has_stree=hn&&hn.length}function jt(hn,vn){this.dyn_tree=hn,this.max_code=0,this.stat_desc=vn}function kt(hn){return hn<256?It[hn]:It[256+(hn>>>7)]}function Gt(hn,vn){hn.pending_buf[hn.pending++]=255&vn,hn.pending_buf[hn.pending++]=vn>>>8&255}function Ht(hn,vn,Sn){hn.bi_valid>yt-Sn?(hn.bi_buf|=vn<<hn.bi_valid&65535,Gt(hn,hn.bi_buf),hn.bi_buf=vn>>yt-hn.bi_valid,hn.bi_valid+=Sn-yt):(hn.bi_buf|=vn<<hn.bi_valid&65535,hn.bi_valid+=Sn)}function Jt(hn,vn,Sn){Ht(hn,Sn[2*vn],Sn[2*vn+1])}function Vt(hn,vn){for(var Sn=0;Sn|=1&hn,hn>>>=1,Sn<<=1,0<--vn;);return Sn>>>1}function Wt(hn,vn,Sn){var Cn,cn,ln=new Array(mt+1),bn=0;for(Cn=1;Cn<=mt;Cn++)ln[Cn]=bn=bn+Sn[Cn-1]<<1;for(cn=0;cn<=vn;cn++){var xn=hn[2*cn+1];xn!==0&&(hn[2*cn]=Vt(ln[xn]++,xn))}}function Lt(hn){var vn;for(vn=0;vn<dt;vn++)hn.dyn_ltree[2*vn]=0;for(vn=0;vn<ht;vn++)hn.dyn_dtree[2*vn]=0;for(vn=0;vn<pt;vn++)hn.bl_tree[2*vn]=0;hn.dyn_ltree[2*St]=1,hn.opt_len=hn.static_len=0,hn.last_lit=hn.matches=0}function Bt(hn){8<hn.bi_valid?Gt(hn,hn.bi_buf):0<hn.bi_valid&&(hn.pending_buf[hn.pending++]=hn.bi_buf),hn.bi_buf=0,hn.bi_valid=0}function Ft(hn,vn,Sn,Cn){var cn=2*vn,ln=2*Sn;return hn[cn]<hn[ln]||hn[cn]===hn[ln]&&Cn[vn]<=Cn[Sn]}function sn(hn,vn,Sn){for(var Cn=hn.heap[Sn],cn=Sn<<1;cn<=hn.heap_len&&(cn<hn.heap_len&&Ft(vn,hn.heap[cn+1],hn.heap[cn],hn.depth)&&cn++,!Ft(vn,Cn,hn.heap[cn],hn.depth));)hn.heap[Sn]=hn.heap[cn],Sn=cn,cn<<=1;hn.heap[Sn]=Cn}function Xt(hn,vn,Sn){var Cn,cn,ln,bn,xn=0;if(hn.last_lit!==0)for(;Cn=hn.pending_buf[hn.d_buf+2*xn]<<8|hn.pending_buf[hn.d_buf+2*xn+1],cn=hn.pending_buf[hn.l_buf+xn],xn++,Cn===0?Jt(hn,cn,vn):(Jt(hn,(ln=Pt[cn])+ut+1,vn),(bn=zt[ln])!==0&&Ht(hn,cn-=Dt[ln],bn),Jt(hn,ln=kt(--Cn),Sn),(bn=Nt[ln])!==0&&Ht(hn,Cn-=At[ln],bn)),xn<hn.last_lit;);Jt(hn,St,vn)}function dn(hn,vn){var Sn,Cn,cn,ln=vn.dyn_tree,bn=vn.stat_desc.static_tree,xn=vn.stat_desc.has_stree,Nn=vn.stat_desc.elems,zn=-1;for(hn.heap_len=0,hn.heap_max=gt,Sn=0;Sn<Nn;Sn++)ln[2*Sn]!==0?(hn.heap[++hn.heap_len]=zn=Sn,hn.depth[Sn]=0):ln[2*Sn+1]=0;for(;hn.heap_len<2;)ln[2*(cn=hn.heap[++hn.heap_len]=zn<2?++zn:0)]=1,hn.depth[cn]=0,hn.opt_len--,xn&&(hn.static_len-=bn[2*cn+1]);for(vn.max_code=zn,Sn=hn.heap_len>>1;1<=Sn;Sn--)sn(hn,ln,Sn);for(cn=Nn;Sn=hn.heap[1],hn.heap[1]=hn.heap[hn.heap_len--],sn(hn,ln,1),Cn=hn.heap[1],hn.heap[--hn.heap_max]=Sn,hn.heap[--hn.heap_max]=Cn,ln[2*cn]=ln[2*Sn]+ln[2*Cn],hn.depth[cn]=(hn.depth[Sn]>=hn.depth[Cn]?hn.depth[Sn]:hn.depth[Cn])+1,ln[2*Sn+1]=ln[2*Cn+1]=cn,hn.heap[1]=cn++,sn(hn,ln,1),2<=hn.heap_len;);hn.heap[--hn.heap_max]=hn.heap[1],function(Ln,Mn){var Wn,Jn,Zn,Rn,Kn,kn,Bn=Mn.dyn_tree,Hn=Mn.max_code,Qn=Mn.stat_desc.static_tree,qn=Mn.stat_desc.has_stree,er=Mn.stat_desc.extra_bits,ir=Mn.stat_desc.extra_base,nr=Mn.stat_desc.max_length,ur=0;for(Rn=0;Rn<=mt;Rn++)Ln.bl_count[Rn]=0;for(Bn[2*Ln.heap[Ln.heap_max]+1]=0,Wn=Ln.heap_max+1;Wn<gt;Wn++)nr<(Rn=Bn[2*Bn[2*(Jn=Ln.heap[Wn])+1]+1]+1)&&(Rn=nr,ur++),Bn[2*Jn+1]=Rn,Hn<Jn||(Ln.bl_count[Rn]++,Kn=0,ir<=Jn&&(Kn=er[Jn-ir]),kn=Bn[2*Jn],Ln.opt_len+=kn*(Rn+Kn),qn&&(Ln.static_len+=kn*(Qn[2*Jn+1]+Kn)));if(ur!==0){do{for(Rn=nr-1;Ln.bl_count[Rn]===0;)Rn--;Ln.bl_count[Rn]--,Ln.bl_count[Rn+1]+=2,Ln.bl_count[nr]--,ur-=2}while(0<ur);for(Rn=nr;Rn!==0;Rn--)for(Jn=Ln.bl_count[Rn];Jn!==0;)Hn<(Zn=Ln.heap[--Wn])||(Bn[2*Zn+1]!==Rn&&(Ln.opt_len+=(Rn-Bn[2*Zn+1])*Bn[2*Zn],Bn[2*Zn+1]=Rn),Jn--)}}(hn,vn),Wt(ln,zn,hn.bl_count)}function Yt(hn,vn,Sn){var Cn,cn,ln=-1,bn=vn[1],xn=0,Nn=7,zn=4;for(bn===0&&(Nn=138,zn=3),vn[2*(Sn+1)+1]=65535,Cn=0;Cn<=Sn;Cn++)cn=bn,bn=vn[2*(Cn+1)+1],++xn<Nn&&cn===bn||(xn<zn?hn.bl_tree[2*cn]+=xn:cn!==0?(cn!==ln&&hn.bl_tree[2*cn]++,hn.bl_tree[2*xt]++):xn<=10?hn.bl_tree[2*vt]++:hn.bl_tree[2*$t]++,ln=cn,zn=(xn=0)===bn?(Nn=138,3):cn===bn?(Nn=6,3):(Nn=7,4))}function yn(hn,vn,Sn){var Cn,cn,ln=-1,bn=vn[1],xn=0,Nn=7,zn=4;for(bn===0&&(Nn=138,zn=3),Cn=0;Cn<=Sn;Cn++)if(cn=bn,bn=vn[2*(Cn+1)+1],!(++xn<Nn&&cn===bn)){if(xn<zn)for(;Jt(hn,cn,hn.bl_tree),--xn!=0;);else cn!==0?(cn!==ln&&(Jt(hn,cn,hn.bl_tree),xn--),Jt(hn,xt,hn.bl_tree),Ht(hn,xn-3,2)):xn<=10?(Jt(hn,vt,hn.bl_tree),Ht(hn,xn-3,3)):(Jt(hn,$t,hn.bl_tree),Ht(hn,xn-11,7));ln=cn,zn=(xn=0)===bn?(Nn=138,3):cn===bn?(Nn=6,3):(Nn=7,4)}}lt(At);var Qt=!1;function Kt(hn,vn,Sn,Cn){Ht(hn,(ct<<1)+(Cn?1:0),3),function(cn,ln,bn,xn){Bt(cn),xn&&(Gt(cn,bn),Gt(cn,~bn)),ot.arraySet(cn.pending_buf,cn.window,ln,bn,cn.pending),cn.pending+=bn}(hn,vn,Sn,!0)}it._tr_init=function(hn){Qt||(function(){var vn,Sn,Cn,cn,ln,bn=new Array(mt+1);for(cn=Cn=0;cn<ft-1;cn++)for(Dt[cn]=Cn,vn=0;vn<1<<zt[cn];vn++)Pt[Cn++]=cn;for(Pt[Cn-1]=cn,cn=ln=0;cn<16;cn++)for(At[cn]=ln,vn=0;vn<1<<Nt[cn];vn++)It[ln++]=cn;for(ln>>=7;cn<ht;cn++)for(At[cn]=ln<<7,vn=0;vn<1<<Nt[cn]-7;vn++)It[256+ln++]=cn;for(Sn=0;Sn<=mt;Sn++)bn[Sn]=0;for(vn=0;vn<=143;)Rt[2*vn+1]=8,vn++,bn[8]++;for(;vn<=255;)Rt[2*vn+1]=9,vn++,bn[9]++;for(;vn<=279;)Rt[2*vn+1]=7,vn++,bn[7]++;for(;vn<=287;)Rt[2*vn+1]=8,vn++,bn[8]++;for(Wt(Rt,dt+1,bn),vn=0;vn<ht;vn++)Tt[2*vn+1]=5,Tt[2*vn]=Vt(vn,5);Ct=new Mt(Rt,zt,ut+1,dt,mt),Ot=new Mt(Tt,Nt,0,ht,mt),Ut=new Mt(new Array(0),wt,0,pt,bt)}(),Qt=!0),hn.l_desc=new jt(hn.dyn_ltree,Ct),hn.d_desc=new jt(hn.dyn_dtree,Ot),hn.bl_desc=new jt(hn.bl_tree,Ut),hn.bi_buf=0,hn.bi_valid=0,Lt(hn)},it._tr_stored_block=Kt,it._tr_flush_block=function(hn,vn,Sn,Cn){var cn,ln,bn=0;0<hn.level?(hn.strm.data_type===2&&(hn.strm.data_type=function(xn){var Nn,zn=4093624447;for(Nn=0;Nn<=31;Nn++,zn>>>=1)if(1&zn&&xn.dyn_ltree[2*Nn]!==0)return at;if(xn.dyn_ltree[18]!==0||xn.dyn_ltree[20]!==0||xn.dyn_ltree[26]!==0)return st;for(Nn=32;Nn<ut;Nn++)if(xn.dyn_ltree[2*Nn]!==0)return st;return at}(hn)),dn(hn,hn.l_desc),dn(hn,hn.d_desc),bn=function(xn){var Nn;for(Yt(xn,xn.dyn_ltree,xn.l_desc.max_code),Yt(xn,xn.dyn_dtree,xn.d_desc.max_code),dn(xn,xn.bl_desc),Nn=pt-1;3<=Nn&&xn.bl_tree[2*Et[Nn]+1]===0;Nn--);return xn.opt_len+=3*(Nn+1)+5+5+4,Nn}(hn),cn=hn.opt_len+3+7>>>3,(ln=hn.static_len+3+7>>>3)<=cn&&(cn=ln)):cn=ln=Sn+5,Sn+4<=cn&&vn!==-1?Kt(hn,vn,Sn,Cn):hn.strategy===4||ln===cn?(Ht(hn,2+(Cn?1:0),3),Xt(hn,Rt,Tt)):(Ht(hn,4+(Cn?1:0),3),function(xn,Nn,zn,Ln){var Mn;for(Ht(xn,Nn-257,5),Ht(xn,zn-1,5),Ht(xn,Ln-4,4),Mn=0;Mn<Ln;Mn++)Ht(xn,xn.bl_tree[2*Et[Mn]+1],3);yn(xn,xn.dyn_ltree,Nn-1),yn(xn,xn.dyn_dtree,zn-1)}(hn,hn.l_desc.max_code+1,hn.d_desc.max_code+1,bn+1),Xt(hn,hn.dyn_ltree,hn.dyn_dtree)),Lt(hn),Cn&&Bt(hn)},it._tr_tally=function(hn,vn,Sn){return hn.pending_buf[hn.d_buf+2*hn.last_lit]=vn>>>8&255,hn.pending_buf[hn.d_buf+2*hn.last_lit+1]=255&vn,hn.pending_buf[hn.l_buf+hn.last_lit]=255&Sn,hn.last_lit++,vn===0?hn.dyn_ltree[2*Sn]++:(hn.matches++,vn--,hn.dyn_ltree[2*(Pt[Sn]+ut+1)]++,hn.dyn_dtree[2*kt(vn)]++),hn.last_lit===hn.lit_bufsize-1},it._tr_align=function(hn){Ht(hn,2,3),Jt(hn,St,Rt),function(vn){vn.bi_valid===16?(Gt(vn,vn.bi_buf),vn.bi_buf=0,vn.bi_valid=0):8<=vn.bi_valid&&(vn.pending_buf[vn.pending++]=255&vn.bi_buf,vn.bi_buf>>=8,vn.bi_valid-=8)}(hn)}},{"../utils/common":41}],53:[function(nt,rt,it){rt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(nt,rt,it){(function(ot){(function(at,st){if(!at.setImmediate){var lt,ct,ft,ut,dt=1,ht={},pt=!1,gt=at.document,mt=Object.getPrototypeOf&&Object.getPrototypeOf(at);mt=mt&&mt.setTimeout?mt:at,lt={}.toString.call(at.process)==="[object process]"?function(xt){process.nextTick(function(){bt(xt)})}:function(){if(at.postMessage&&!at.importScripts){var xt=!0,vt=at.onmessage;return at.onmessage=function(){xt=!1},at.postMessage("","*"),at.onmessage=vt,xt}}()?(ut="setImmediate$"+Math.random()+"$",at.addEventListener?at.addEventListener("message",St,!1):at.attachEvent("onmessage",St),function(xt){at.postMessage(ut+xt,"*")}):at.MessageChannel?((ft=new MessageChannel).port1.onmessage=function(xt){bt(xt.data)},function(xt){ft.port2.postMessage(xt)}):gt&&"onreadystatechange"in gt.createElement("script")?(ct=gt.documentElement,function(xt){var vt=gt.createElement("script");vt.onreadystatechange=function(){bt(xt),vt.onreadystatechange=null,ct.removeChild(vt),vt=null},ct.appendChild(vt)}):function(xt){setTimeout(bt,0,xt)},mt.setImmediate=function(xt){typeof xt!="function"&&(xt=new Function(""+xt));for(var vt=new Array(arguments.length-1),$t=0;$t<vt.length;$t++)vt[$t]=arguments[$t+1];var zt={callback:xt,args:vt};return ht[dt]=zt,lt(dt),dt++},mt.clearImmediate=yt}function yt(xt){delete ht[xt]}function bt(xt){if(pt)setTimeout(bt,0,xt);else{var vt=ht[xt];if(vt){pt=!0;try{(function($t){var zt=$t.callback,Nt=$t.args;switch(Nt.length){case 0:zt();break;case 1:zt(Nt[0]);break;case 2:zt(Nt[0],Nt[1]);break;case 3:zt(Nt[0],Nt[1],Nt[2]);break;default:zt.apply(st,Nt)}})(vt)}finally{yt(xt),pt=!1}}}}function St(xt){xt.source===at&&typeof xt.data=="string"&&xt.data.indexOf(ut)===0&&bt(+xt.data.slice(ut.length))}})(typeof self=="undefined"?ot===void 0?this:ot:self)}).call(this,typeof commonjsGlobal$3!="undefined"?commonjsGlobal$3:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(jszip_min);class STLLoader extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=this,at=new FileLoader$1(this.manager);at.setPath(this.path),at.setResponseType("arraybuffer"),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(st){try{nt(ot.parse(st))}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},rt,it)}parse(et){function nt(ct){const ft=new DataView(ct),ut=32/8*3+32/8*3*3+16/8,dt=ft.getUint32(80,!0);if(80+32/8+dt*ut===ft.byteLength)return!0;const pt=[115,111,108,105,100];for(let gt=0;gt<5;gt++)if(rt(pt,ft,gt))return!1;return!0}function rt(ct,ft,ut){for(let dt=0,ht=ct.length;dt<ht;dt++)if(ct[dt]!==ft.getUint8(ut+dt))return!1;return!0}function it(ct){const ft=new DataView(ct),ut=ft.getUint32(80,!0);let dt,ht,pt,gt=!1,mt,yt,bt,St,xt;for(let Et=0;Et<80-10;Et++)ft.getUint32(Et,!1)==1129270351&&ft.getUint8(Et+4)==82&&ft.getUint8(Et+5)==61&&(gt=!0,mt=new Float32Array(ut*3*3),yt=ft.getUint8(Et+6)/255,bt=ft.getUint8(Et+7)/255,St=ft.getUint8(Et+8)/255,xt=ft.getUint8(Et+9)/255);const vt=84,$t=12*4+2,zt=new BufferGeometry$1,Nt=new Float32Array(ut*3*3),wt=new Float32Array(ut*3*3);for(let Et=0;Et<ut;Et++){const Rt=vt+Et*$t,Tt=ft.getFloat32(Rt,!0),It=ft.getFloat32(Rt+4,!0),Pt=ft.getFloat32(Rt+8,!0);if(gt){const Dt=ft.getUint16(Rt+48,!0);(Dt&32768)===0?(dt=(Dt&31)/31,ht=(Dt>>5&31)/31,pt=(Dt>>10&31)/31):(dt=yt,ht=bt,pt=St)}for(let Dt=1;Dt<=3;Dt++){const Ct=Rt+Dt*12,Ot=Et*3*3+(Dt-1)*3;Nt[Ot]=ft.getFloat32(Ct,!0),Nt[Ot+1]=ft.getFloat32(Ct+4,!0),Nt[Ot+2]=ft.getFloat32(Ct+8,!0),wt[Ot]=Tt,wt[Ot+1]=It,wt[Ot+2]=Pt,gt&&(mt[Ot]=dt,mt[Ot+1]=ht,mt[Ot+2]=pt)}}return zt.setAttribute("position",new BufferAttribute$1(Nt,3)),zt.setAttribute("normal",new BufferAttribute$1(wt,3)),gt&&(zt.setAttribute("color",new BufferAttribute$1(mt,3)),zt.hasColors=!0,zt.alpha=xt),zt}function ot(ct){const ft=new BufferGeometry$1,ut=/solid([\s\S]*?)endsolid/g,dt=/facet([\s\S]*?)endfacet/g;let ht=0;const pt=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,gt=new RegExp("vertex"+pt+pt+pt,"g"),mt=new RegExp("normal"+pt+pt+pt,"g"),yt=[],bt=[],St=new Vector3$1;let xt,vt=0,$t=0,zt=0;for(;(xt=ut.exec(ct))!==null;){$t=zt;const Nt=xt[0];for(;(xt=dt.exec(Nt))!==null;){let Rt=0,Tt=0;const It=xt[0];for(;(xt=mt.exec(It))!==null;)St.x=parseFloat(xt[1]),St.y=parseFloat(xt[2]),St.z=parseFloat(xt[3]),Tt++;for(;(xt=gt.exec(It))!==null;)yt.push(parseFloat(xt[1]),parseFloat(xt[2]),parseFloat(xt[3])),bt.push(St.x,St.y,St.z),Rt++,zt++;Tt!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+ht),Rt!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+ht),ht++}const wt=$t,Et=zt-$t;ft.addGroup(wt,Et,vt),vt++}return ft.setAttribute("position",new Float32BufferAttribute$1(yt,3)),ft.setAttribute("normal",new Float32BufferAttribute$1(bt,3)),ft}function at(ct){return typeof ct!="string"?LoaderUtils$1.decodeText(new Uint8Array(ct)):ct}function st(ct){if(typeof ct=="string"){const ft=new Uint8Array(ct.length);for(let ut=0;ut<ct.length;ut++)ft[ut]=ct.charCodeAt(ut)&255;return ft.buffer||ft}else return ct}const lt=st(et);return nt(lt)?it(lt):ot(at(et))}}class TGALoader$1 extends DataTextureLoader{constructor(et){super(et)}parse(et){function nt(Ct){switch(Ct.image_type){case dt:case gt:(Ct.colormap_length>256||Ct.colormap_size!==24||Ct.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case ht:case pt:case mt:case yt:Ct.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case ut:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',Ct.image_type)}(Ct.width<=0||Ct.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),Ct.pixel_size!==8&&Ct.pixel_size!==16&&Ct.pixel_size!==24&&Ct.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',Ct.pixel_size)}function rt(Ct,Ot,Ut,At,Mt){let jt,kt;const Gt=Ut.pixel_size>>3,Ht=Ut.width*Ut.height*Gt;if(Ot&&(kt=Mt.subarray(At,At+=Ut.colormap_length*(Ut.colormap_size>>3))),Ct){jt=new Uint8Array(Ht);let Jt,Vt,Wt,Lt=0;const Bt=new Uint8Array(Gt);for(;Lt<Ht;)if(Jt=Mt[At++],Vt=(Jt&127)+1,Jt&128){for(Wt=0;Wt<Gt;++Wt)Bt[Wt]=Mt[At++];for(Wt=0;Wt<Vt;++Wt)jt.set(Bt,Lt+Wt*Gt);Lt+=Gt*Vt}else{for(Vt*=Gt,Wt=0;Wt<Vt;++Wt)jt[Lt+Wt]=Mt[At++];Lt+=Vt}}else jt=Mt.subarray(At,At+=Ot?Ut.width*Ut.height:Ht);return{pixel_data:jt,palettes:kt}}function it(Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht){const Jt=Ht;let Vt,Wt=0,Lt,Bt;const Ft=Et.width;for(Bt=Ot;Bt!==At;Bt+=Ut)for(Lt=Mt;Lt!==kt;Lt+=jt,Wt++)Vt=Gt[Wt],Ct[(Lt+Ft*Bt)*4+3]=255,Ct[(Lt+Ft*Bt)*4+2]=Jt[Vt*3+0],Ct[(Lt+Ft*Bt)*4+1]=Jt[Vt*3+1],Ct[(Lt+Ft*Bt)*4+0]=Jt[Vt*3+2];return Ct}function ot(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht,Jt=0,Vt,Wt;const Lt=Et.width;for(Wt=Ot;Wt!==At;Wt+=Ut)for(Vt=Mt;Vt!==kt;Vt+=jt,Jt+=2)Ht=Gt[Jt+0]+(Gt[Jt+1]<<8),Ct[(Vt+Lt*Wt)*4+0]=(Ht&31744)>>7,Ct[(Vt+Lt*Wt)*4+1]=(Ht&992)>>2,Ct[(Vt+Lt*Wt)*4+2]=(Ht&31)<<3,Ct[(Vt+Lt*Wt)*4+3]=Ht&32768?0:255;return Ct}function at(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht=0,Jt,Vt;const Wt=Et.width;for(Vt=Ot;Vt!==At;Vt+=Ut)for(Jt=Mt;Jt!==kt;Jt+=jt,Ht+=3)Ct[(Jt+Wt*Vt)*4+3]=255,Ct[(Jt+Wt*Vt)*4+2]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+1]=Gt[Ht+1],Ct[(Jt+Wt*Vt)*4+0]=Gt[Ht+2];return Ct}function st(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht=0,Jt,Vt;const Wt=Et.width;for(Vt=Ot;Vt!==At;Vt+=Ut)for(Jt=Mt;Jt!==kt;Jt+=jt,Ht+=4)Ct[(Jt+Wt*Vt)*4+2]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+1]=Gt[Ht+1],Ct[(Jt+Wt*Vt)*4+0]=Gt[Ht+2],Ct[(Jt+Wt*Vt)*4+3]=Gt[Ht+3];return Ct}function lt(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht,Jt=0,Vt,Wt;const Lt=Et.width;for(Wt=Ot;Wt!==At;Wt+=Ut)for(Vt=Mt;Vt!==kt;Vt+=jt,Jt++)Ht=Gt[Jt],Ct[(Vt+Lt*Wt)*4+0]=Ht,Ct[(Vt+Lt*Wt)*4+1]=Ht,Ct[(Vt+Lt*Wt)*4+2]=Ht,Ct[(Vt+Lt*Wt)*4+3]=255;return Ct}function ct(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht=0,Jt,Vt;const Wt=Et.width;for(Vt=Ot;Vt!==At;Vt+=Ut)for(Jt=Mt;Jt!==kt;Jt+=jt,Ht+=2)Ct[(Jt+Wt*Vt)*4+0]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+1]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+2]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+3]=Gt[Ht+1];return Ct}function ft(Ct,Ot,Ut,At,Mt){let jt,kt,Gt,Ht,Jt,Vt;switch((Et.flags&bt)>>St){default:case $t:jt=0,Gt=1,Jt=Ot,kt=0,Ht=1,Vt=Ut;break;case xt:jt=0,Gt=1,Jt=Ot,kt=Ut-1,Ht=-1,Vt=-1;break;case zt:jt=Ot-1,Gt=-1,Jt=-1,kt=0,Ht=1,Vt=Ut;break;case vt:jt=Ot-1,Gt=-1,Jt=-1,kt=Ut-1,Ht=-1,Vt=-1;break}if(It)switch(Et.pixel_size){case 8:lt(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;case 16:ct(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(Et.pixel_size){case 8:it(Ct,kt,Ht,Vt,jt,Gt,Jt,At,Mt);break;case 16:ot(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;case 24:at(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;case 32:st(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;default:console.error("THREE.TGALoader: Format not supported.");break}return Ct}const ut=0,dt=1,ht=2,pt=3,gt=9,mt=10,yt=11,bt=48,St=4,xt=0,vt=1,$t=2,zt=3;et.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let Nt=0;const wt=new Uint8Array(et),Et={id_length:wt[Nt++],colormap_type:wt[Nt++],image_type:wt[Nt++],colormap_index:wt[Nt++]|wt[Nt++]<<8,colormap_length:wt[Nt++]|wt[Nt++]<<8,colormap_size:wt[Nt++],origin:[wt[Nt++]|wt[Nt++]<<8,wt[Nt++]|wt[Nt++]<<8],width:wt[Nt++]|wt[Nt++]<<8,height:wt[Nt++]|wt[Nt++]<<8,pixel_size:wt[Nt++],flags:wt[Nt++]};nt(Et),Et.id_length+Nt>et.length&&console.error("THREE.TGALoader: No data."),Nt+=Et.id_length;let Rt=!1,Tt=!1,It=!1;switch(Et.image_type){case gt:Rt=!0,Tt=!0;break;case dt:Tt=!0;break;case mt:Rt=!0;break;case ht:break;case yt:Rt=!0,It=!0;break;case pt:It=!0;break}const Pt=new Uint8Array(Et.width*Et.height*4),Dt=rt(Rt,Tt,Et,Nt,wt);return ft(Pt,Et.width,Et.height,Dt.pixel_data,Dt.palettes),{data:Pt,width:Et.width,height:Et.height,flipY:!0,generateMipmaps:!0,minFilter:LinearMipmapLinearFilter$1}}}class ColladaLoader$1 extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=this,at=ot.path===""?LoaderUtils$1.extractUrlBase(et):ot.path,st=new FileLoader$1(ot.manager);st.setPath(ot.path),st.setRequestHeader(ot.requestHeader),st.setWithCredentials(ot.withCredentials),st.load(et,function(lt){try{nt(ot.parse(lt,at))}catch(ct){it?it(ct):console.error(ct),ot.manager.itemError(et)}},rt,it)}parse(et,nt){function rt(qt,Zt){const pn=[],gn=qt.childNodes;for(let _n=0,$n=gn.length;_n<$n;_n++){const In=gn[_n];In.nodeName===Zt&&pn.push(In)}return pn}function it(qt){if(qt.length===0)return[];const Zt=qt.trim().split(/\s+/),pn=new Array(Zt.length);for(let gn=0,_n=Zt.length;gn<_n;gn++)pn[gn]=Zt[gn];return pn}function ot(qt){if(qt.length===0)return[];const Zt=qt.trim().split(/\s+/),pn=new Array(Zt.length);for(let gn=0,_n=Zt.length;gn<_n;gn++)pn[gn]=parseFloat(Zt[gn]);return pn}function at(qt){if(qt.length===0)return[];const Zt=qt.trim().split(/\s+/),pn=new Array(Zt.length);for(let gn=0,_n=Zt.length;gn<_n;gn++)pn[gn]=parseInt(Zt[gn]);return pn}function st(qt){return qt.substring(1)}function lt(){return"three_default_"+ho++}function ct(qt){return Object.keys(qt).length===0}function ft(qt){return{unit:ut(rt(qt,"unit")[0]),upAxis:dt(rt(qt,"up_axis")[0])}}function ut(qt){return qt!==void 0&&qt.hasAttribute("meter")===!0?parseFloat(qt.getAttribute("meter")):1}function dt(qt){return qt!==void 0?qt.textContent:"Y_UP"}function ht(qt,Zt,pn,gn){const _n=rt(qt,Zt)[0];if(_n!==void 0){const $n=rt(_n,pn);for(let In=0;In<$n.length;In++)gn($n[In])}}function pt(qt,Zt){for(const pn in qt){const gn=qt[pn];gn.build=Zt(qt[pn])}}function gt(qt,Zt){return qt.build!==void 0||(qt.build=Zt(qt)),qt.build}function mt(qt){const Zt={sources:{},samplers:{},channels:{}};let pn=!1;for(let gn=0,_n=qt.childNodes.length;gn<_n;gn++){const $n=qt.childNodes[gn];if($n.nodeType!==1)continue;let In;switch($n.nodeName){case"source":In=$n.getAttribute("id"),Zt.sources[In]=ir($n);break;case"sampler":In=$n.getAttribute("id"),Zt.samplers[In]=yt($n);break;case"channel":In=$n.getAttribute("target"),Zt.channels[In]=bt($n);break;case"animation":mt($n),pn=!0;break;default:console.log($n)}}pn===!1&&(sr.animations[qt.getAttribute("id")||MathUtils.generateUUID()]=Zt)}function yt(qt){const Zt={inputs:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=st(_n.getAttribute("source")),In=_n.getAttribute("semantic");Zt.inputs[In]=$n;break}}return Zt}function bt(qt){const Zt={};let gn=qt.getAttribute("target").split("/");const _n=gn.shift();let $n=gn.shift();const In=$n.indexOf("(")!==-1,mn=$n.indexOf(".")!==-1;if(mn)gn=$n.split("."),$n=gn.shift(),Zt.member=gn.shift();else if(In){const wn=$n.split("(");$n=wn.shift();for(let An=0;An<wn.length;An++)wn[An]=parseInt(wn[An].replace(/\)/,""));Zt.indices=wn}return Zt.id=_n,Zt.sid=$n,Zt.arraySyntax=In,Zt.memberSyntax=mn,Zt.sampler=st(qt.getAttribute("source")),Zt}function St(qt){const Zt=[],pn=qt.channels,gn=qt.samplers,_n=qt.sources;for(const $n in pn)if(pn.hasOwnProperty($n)){const In=pn[$n],mn=gn[In.sampler],wn=mn.inputs.INPUT,An=mn.inputs.OUTPUT,Dn=_n[wn],On=_n[An],Gn=vt(In,Dn,On);Et(Gn,Zt)}return Zt}function xt(qt){return gt(sr.animations[qt],St)}function vt(qt,Zt,pn){const gn=sr.nodes[qt.id],_n=Mr(gn.id),$n=gn.transforms[qt.sid],In=gn.matrix.clone().transpose();let mn,wn,An,Dn,On,Gn;const Pn={};switch($n){case"matrix":for(An=0,Dn=Zt.array.length;An<Dn;An++)if(mn=Zt.array[An],wn=An*pn.stride,Pn[mn]===void 0&&(Pn[mn]={}),qt.arraySyntax===!0){const tr=pn.array[wn],rr=qt.indices[0]+4*qt.indices[1];Pn[mn][rr]=tr}else for(On=0,Gn=pn.stride;On<Gn;On++)Pn[mn][On]=pn.array[wn+On];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',$n);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',$n);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',$n);break}const jn=$t(Pn,In);return{name:_n.uuid,keyframes:jn}}function $t(qt,Zt){const pn=[];for(const _n in qt)pn.push({time:parseFloat(_n),value:qt[_n]});pn.sort(gn);for(let _n=0;_n<16;_n++)Rt(pn,_n,Zt.elements[_n]);return pn;function gn(_n,$n){return _n.time-$n.time}}const zt=new Vector3$1,Nt=new Vector3$1,wt=new Quaternion$1;function Et(qt,Zt){const pn=qt.keyframes,gn=qt.name,_n=[],$n=[],In=[],mn=[];for(let wn=0,An=pn.length;wn<An;wn++){const Dn=pn[wn],On=Dn.time,Gn=Dn.value;_r.fromArray(Gn).transpose(),_r.decompose(zt,wt,Nt),_n.push(On),$n.push(zt.x,zt.y,zt.z),In.push(wt.x,wt.y,wt.z,wt.w),mn.push(Nt.x,Nt.y,Nt.z)}return $n.length>0&&Zt.push(new VectorKeyframeTrack$1(gn+".position",_n,$n)),In.length>0&&Zt.push(new QuaternionKeyframeTrack$1(gn+".quaternion",_n,In)),mn.length>0&&Zt.push(new VectorKeyframeTrack$1(gn+".scale",_n,mn)),Zt}function Rt(qt,Zt,pn){let gn,_n=!0,$n,In;for($n=0,In=qt.length;$n<In;$n++)gn=qt[$n],gn.value[Zt]===void 0?gn.value[Zt]=null:_n=!1;if(_n===!0)for($n=0,In=qt.length;$n<In;$n++)gn=qt[$n],gn.value[Zt]=pn;else Tt(qt,Zt)}function Tt(qt,Zt){let pn,gn;for(let _n=0,$n=qt.length;_n<$n;_n++){const In=qt[_n];if(In.value[Zt]===null){if(pn=It(qt,_n,Zt),gn=Pt(qt,_n,Zt),pn===null){In.value[Zt]=gn.value[Zt];continue}if(gn===null){In.value[Zt]=pn.value[Zt];continue}Dt(In,pn,gn,Zt)}}}function It(qt,Zt,pn){for(;Zt>=0;){const gn=qt[Zt];if(gn.value[pn]!==null)return gn;Zt--}return null}function Pt(qt,Zt,pn){for(;Zt<qt.length;){const gn=qt[Zt];if(gn.value[pn]!==null)return gn;Zt++}return null}function Dt(qt,Zt,pn,gn){if(pn.time-Zt.time===0){qt.value[gn]=Zt.value[gn];return}qt.value[gn]=(qt.time-Zt.time)*(pn.value[gn]-Zt.value[gn])/(pn.time-Zt.time)+Zt.value[gn]}function Ct(qt){const Zt={name:qt.getAttribute("id")||"default",start:parseFloat(qt.getAttribute("start")||0),end:parseFloat(qt.getAttribute("end")||0),animations:[]};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"instance_animation":Zt.animations.push(st(_n.getAttribute("url")));break}}sr.clips[qt.getAttribute("id")]=Zt}function Ot(qt){const Zt=[],pn=qt.name,gn=qt.end-qt.start||-1,_n=qt.animations;for(let $n=0,In=_n.length;$n<In;$n++){const mn=xt(_n[$n]);for(let wn=0,An=mn.length;wn<An;wn++)Zt.push(mn[wn])}return new AnimationClip$1(pn,gn,Zt)}function Ut(qt){return gt(sr.clips[qt],Ot)}function At(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"skin":Zt.id=st(_n.getAttribute("source")),Zt.skin=Mt(_n);break;case"morph":Zt.id=st(_n.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}sr.controllers[qt.getAttribute("id")]=Zt}function Mt(qt){const Zt={sources:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"bind_shape_matrix":Zt.bindShapeMatrix=ot(_n.textContent);break;case"source":const $n=_n.getAttribute("id");Zt.sources[$n]=ir(_n);break;case"joints":Zt.joints=jt(_n);break;case"vertex_weights":Zt.vertexWeights=kt(_n);break}}return Zt}function jt(qt){const Zt={inputs:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=_n.getAttribute("semantic"),In=st(_n.getAttribute("source"));Zt.inputs[$n]=In;break}}return Zt}function kt(qt){const Zt={inputs:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=_n.getAttribute("semantic"),In=st(_n.getAttribute("source")),mn=parseInt(_n.getAttribute("offset"));Zt.inputs[$n]={id:In,offset:mn};break;case"vcount":Zt.vcount=at(_n.textContent);break;case"v":Zt.v=at(_n.textContent);break}}return Zt}function Gt(qt){const Zt={id:qt.id},pn=sr.geometries[Zt.id];return qt.skin!==void 0&&(Zt.skin=Ht(qt.skin),pn.sources.skinIndices=Zt.skin.indices,pn.sources.skinWeights=Zt.skin.weights),Zt}function Ht(qt){const pn={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},gn=qt.sources,_n=qt.vertexWeights,$n=_n.vcount,In=_n.v,mn=_n.inputs.JOINT.offset,wn=_n.inputs.WEIGHT.offset,An=qt.sources[qt.joints.inputs.JOINT],Dn=qt.sources[qt.joints.inputs.INV_BIND_MATRIX],On=gn[_n.inputs.WEIGHT.id].array;let Gn=0,Pn,jn,Yn;for(Pn=0,Yn=$n.length;Pn<Yn;Pn++){const rr=$n[Pn],lr=[];for(jn=0;jn<rr;jn++){const or=In[Gn+mn],wr=In[Gn+wn],br=On[wr];lr.push({index:or,weight:br}),Gn+=2}for(lr.sort(tr),jn=0;jn<4;jn++){const or=lr[jn];or!==void 0?(pn.indices.array.push(or.index),pn.weights.array.push(or.weight)):(pn.indices.array.push(0),pn.weights.array.push(0))}}for(qt.bindShapeMatrix?pn.bindMatrix=new Matrix4$1().fromArray(qt.bindShapeMatrix).transpose():pn.bindMatrix=new Matrix4$1().identity(),Pn=0,Yn=An.array.length;Pn<Yn;Pn++){const rr=An.array[Pn],lr=new Matrix4$1().fromArray(Dn.array,Pn*Dn.stride).transpose();pn.joints.push({name:rr,boneInverse:lr})}return pn;function tr(rr,lr){return lr.weight-rr.weight}}function Jt(qt){return gt(sr.controllers[qt],Gt)}function Vt(qt){const Zt={init_from:rt(qt,"init_from")[0].textContent};sr.images[qt.getAttribute("id")]=Zt}function Wt(qt){return qt.build!==void 0?qt.build:qt.init_from}function Lt(qt){const Zt=sr.images[qt];return Zt!==void 0?gt(Zt,Wt):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",qt),null)}function Bt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"profile_COMMON":Zt.profile=Ft(_n);break}}sr.effects[qt.getAttribute("id")]=Zt}function Ft(qt){const Zt={surfaces:{},samplers:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"newparam":sn(_n,Zt);break;case"technique":Zt.technique=Yt(_n);break;case"extra":Zt.extra=Sn(_n);break}}return Zt}function sn(qt,Zt){const pn=qt.getAttribute("sid");for(let gn=0,_n=qt.childNodes.length;gn<_n;gn++){const $n=qt.childNodes[gn];if($n.nodeType===1)switch($n.nodeName){case"surface":Zt.surfaces[pn]=Xt($n);break;case"sampler2D":Zt.samplers[pn]=dn($n);break}}}function Xt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"init_from":Zt.init_from=_n.textContent;break}}return Zt}function dn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"source":Zt.source=_n.textContent;break}}return Zt}function Yt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"constant":case"lambert":case"blinn":case"phong":Zt.type=_n.nodeName,Zt.parameters=yn(_n);break;case"extra":Zt.extra=Sn(_n);break}}return Zt}function yn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":Zt[_n.nodeName]=Qt(_n);break;case"transparent":Zt[_n.nodeName]={opaque:_n.hasAttribute("opaque")?_n.getAttribute("opaque"):"A_ONE",data:Qt(_n)};break}}return Zt}function Qt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"color":Zt[_n.nodeName]=ot(_n.textContent);break;case"float":Zt[_n.nodeName]=parseFloat(_n.textContent);break;case"texture":Zt[_n.nodeName]={id:_n.getAttribute("texture"),extra:Kt(_n)};break}}return Zt}function Kt(qt){const Zt={technique:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"extra":hn(_n,Zt);break}}return Zt}function hn(qt,Zt){for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"technique":vn(_n,Zt);break}}}function vn(qt,Zt){for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":Zt.technique[_n.nodeName]=parseFloat(_n.textContent);break;case"wrapU":case"wrapV":_n.textContent.toUpperCase()==="TRUE"?Zt.technique[_n.nodeName]=1:_n.textContent.toUpperCase()==="FALSE"?Zt.technique[_n.nodeName]=0:Zt.technique[_n.nodeName]=parseInt(_n.textContent);break;case"bump":Zt[_n.nodeName]=cn(_n);break}}}function Sn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"technique":Zt.technique=Cn(_n);break}}return Zt}function Cn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"double_sided":Zt[_n.nodeName]=parseInt(_n.textContent);break;case"bump":Zt[_n.nodeName]=cn(_n);break}}return Zt}function cn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"texture":Zt[_n.nodeName]={id:_n.getAttribute("texture"),texcoord:_n.getAttribute("texcoord"),extra:Kt(_n)};break}}return Zt}function ln(qt){return qt}function bn(qt){return gt(sr.effects[qt],ln)}function xn(qt){const Zt={name:qt.getAttribute("name")};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"instance_effect":Zt.url=st(_n.getAttribute("url"));break}}sr.materials[qt.getAttribute("id")]=Zt}function Nn(qt){let Zt,pn=qt.slice((qt.lastIndexOf(".")-1>>>0)+2);switch(pn=pn.toLowerCase(),pn){case"tga":Zt=Qr;break;default:Zt=Hr}return Zt}function zn(qt){const Zt=bn(qt.url),pn=Zt.profile.technique;let gn;switch(pn.type){case"phong":case"blinn":gn=new MeshPhongMaterial$1;break;case"lambert":gn=new MeshLambertMaterial$1;break;default:gn=new MeshBasicMaterial$1;break}gn.name=qt.name||"";function _n(wn,An=null){const Dn=Zt.profile.samplers[wn.id];let On=null;if(Dn!==void 0){const Gn=Zt.profile.surfaces[Dn.source];On=Lt(Gn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),On=Lt(wn.id);if(On!==null){const Gn=Nn(On);if(Gn!==void 0){const Pn=Gn.load(On),jn=wn.extra;if(jn!==void 0&&jn.technique!==void 0&&ct(jn.technique)===!1){const Yn=jn.technique;Pn.wrapS=Yn.wrapU?RepeatWrapping$1:ClampToEdgeWrapping$1,Pn.wrapT=Yn.wrapV?RepeatWrapping$1:ClampToEdgeWrapping$1,Pn.offset.set(Yn.offsetU||0,Yn.offsetV||0),Pn.repeat.set(Yn.repeatU||1,Yn.repeatV||1)}else Pn.wrapS=RepeatWrapping$1,Pn.wrapT=RepeatWrapping$1;return An!==null&&(Pn.encoding=An),Pn}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",On),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",wn.id),null}const $n=pn.parameters;for(const wn in $n){const An=$n[wn];switch(wn){case"diffuse":An.color&&gn.color.fromArray(An.color),An.texture&&(gn.map=_n(An.texture,sRGBEncoding$1));break;case"specular":An.color&&gn.specular&&gn.specular.fromArray(An.color),An.texture&&(gn.specularMap=_n(An.texture));break;case"bump":An.texture&&(gn.normalMap=_n(An.texture));break;case"ambient":An.texture&&(gn.lightMap=_n(An.texture,sRGBEncoding$1));break;case"shininess":An.float&&gn.shininess&&(gn.shininess=An.float);break;case"emission":An.color&&gn.emissive&&gn.emissive.fromArray(An.color),An.texture&&(gn.emissiveMap=_n(An.texture,sRGBEncoding$1));break}}gn.color.convertSRGBToLinear(),gn.specular&&gn.specular.convertSRGBToLinear(),gn.emissive&&gn.emissive.convertSRGBToLinear();let In=$n.transparent,mn=$n.transparency;if(mn===void 0&&In&&(mn={float:1}),In===void 0&&mn&&(In={opaque:"A_ONE",data:{color:[1,1,1,1]}}),In&&mn)if(In.data.texture)gn.transparent=!0;else{const wn=In.data.color;switch(In.opaque){case"A_ONE":gn.opacity=wn[3]*mn.float;break;case"RGB_ZERO":gn.opacity=1-wn[0]*mn.float;break;case"A_ZERO":gn.opacity=1-wn[3]*mn.float;break;case"RGB_ONE":gn.opacity=wn[0]*mn.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',In.opaque)}gn.opacity<1&&(gn.transparent=!0)}if(pn.extra!==void 0&&pn.extra.technique!==void 0){const wn=pn.extra.technique;for(const An in wn){const Dn=wn[An];switch(An){case"double_sided":gn.side=Dn===1?DoubleSide$1:FrontSide$1;break;case"bump":gn.normalMap=_n(Dn.texture),gn.normalScale=new Vector2$1(1,1);break}}}return gn}function Ln(qt){return gt(sr.materials[qt],zn)}function Mn(qt){const Zt={name:qt.getAttribute("name")};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"optics":Zt.optics=Wn(_n);break}}sr.cameras[qt.getAttribute("id")]=Zt}function Wn(qt){for(let Zt=0;Zt<qt.childNodes.length;Zt++){const pn=qt.childNodes[Zt];switch(pn.nodeName){case"technique_common":return Jn(pn)}}return{}}function Jn(qt){const Zt={};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];switch(gn.nodeName){case"perspective":case"orthographic":Zt.technique=gn.nodeName,Zt.parameters=Zn(gn);break}}return Zt}function Zn(qt){const Zt={};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];switch(gn.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":Zt[gn.nodeName]=parseFloat(gn.textContent);break}}return Zt}function Rn(qt){let Zt;switch(qt.optics.technique){case"perspective":Zt=new PerspectiveCamera$1(qt.optics.parameters.yfov,qt.optics.parameters.aspect_ratio,qt.optics.parameters.znear,qt.optics.parameters.zfar);break;case"orthographic":let pn=qt.optics.parameters.ymag,gn=qt.optics.parameters.xmag;const _n=qt.optics.parameters.aspect_ratio;gn=gn===void 0?pn*_n:gn,pn=pn===void 0?gn/_n:pn,gn*=.5,pn*=.5,Zt=new OrthographicCamera$1(-gn,gn,pn,-pn,qt.optics.parameters.znear,qt.optics.parameters.zfar);break;default:Zt=new PerspectiveCamera$1;break}return Zt.name=qt.name||"",Zt}function Kn(qt){const Zt=sr.cameras[qt];return Zt!==void 0?gt(Zt,Rn):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",qt),null)}function kn(qt){let Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"technique_common":Zt=Bn(_n);break}}sr.lights[qt.getAttribute("id")]=Zt}function Bn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"directional":case"point":case"spot":case"ambient":Zt.technique=_n.nodeName,Zt.parameters=Hn(_n)}}return Zt}function Hn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"color":const $n=ot(_n.textContent);Zt.color=new Color$2().fromArray($n).convertSRGBToLinear();break;case"falloff_angle":Zt.falloffAngle=parseFloat(_n.textContent);break;case"quadratic_attenuation":const In=parseFloat(_n.textContent);Zt.distance=In?Math.sqrt(1/In):0;break}}return Zt}function Qn(qt){let Zt;switch(qt.technique){case"directional":Zt=new DirectionalLight$1;break;case"point":Zt=new PointLight$1;break;case"spot":Zt=new SpotLight$1;break;case"ambient":Zt=new AmbientLight$1;break}return qt.parameters.color&&Zt.color.copy(qt.parameters.color),qt.parameters.distance&&(Zt.distance=qt.parameters.distance),Zt}function qn(qt){const Zt=sr.lights[qt];return Zt!==void 0?gt(Zt,Qn):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",qt),null)}function er(qt){const Zt={name:qt.getAttribute("name"),sources:{},vertices:{},primitives:[]},pn=rt(qt,"mesh")[0];if(pn!==void 0){for(let gn=0;gn<pn.childNodes.length;gn++){const _n=pn.childNodes[gn];if(_n.nodeType!==1)continue;const $n=_n.getAttribute("id");switch(_n.nodeName){case"source":Zt.sources[$n]=ir(_n);break;case"vertices":Zt.vertices=nr(_n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",_n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":Zt.primitives.push(ur(_n));break;default:console.log(_n)}}sr.geometries[qt.getAttribute("id")]=Zt}}function ir(qt){const Zt={array:[],stride:3};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"float_array":Zt.array=ot(gn.textContent);break;case"Name_array":Zt.array=it(gn.textContent);break;case"technique_common":const _n=rt(gn,"accessor")[0];_n!==void 0&&(Zt.stride=parseInt(_n.getAttribute("stride")));break}}return Zt}function nr(qt){const Zt={};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];gn.nodeType===1&&(Zt[gn.getAttribute("semantic")]=st(gn.getAttribute("source")))}return Zt}function ur(qt){const Zt={type:qt.nodeName,material:qt.getAttribute("material"),count:parseInt(qt.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=st(_n.getAttribute("source")),In=_n.getAttribute("semantic"),mn=parseInt(_n.getAttribute("offset")),wn=parseInt(_n.getAttribute("set")),An=wn>0?In+wn:In;Zt.inputs[An]={id:$n,offset:mn},Zt.stride=Math.max(Zt.stride,mn+1),In==="TEXCOORD"&&(Zt.hasUV=!0);break;case"vcount":Zt.vcount=at(_n.textContent);break;case"p":Zt.p=at(_n.textContent);break}}return Zt}function mr(qt){const Zt={};for(let pn=0;pn<qt.length;pn++){const gn=qt[pn];Zt[gn.type]===void 0&&(Zt[gn.type]=[]),Zt[gn.type].push(gn)}return Zt}function Rr(qt){let Zt=0;for(let pn=0,gn=qt.length;pn<gn;pn++)qt[pn].hasUV===!0&&Zt++;Zt>0&&Zt<qt.length&&(qt.uvsNeedsFix=!0)}function $r(qt){const Zt={},pn=qt.sources,gn=qt.vertices,_n=qt.primitives;if(_n.length===0)return{};const $n=mr(_n);for(const In in $n){const mn=$n[In];Rr(mn),Zt[In]=Pr(mn,pn,gn)}return Zt}function Pr(qt,Zt,pn){const gn={},_n={array:[],stride:0},$n={array:[],stride:0},In={array:[],stride:0},mn={array:[],stride:0},wn={array:[],stride:0},An={array:[],stride:4},Dn={array:[],stride:4},On=new BufferGeometry$1,Gn=[];let Pn=0;for(let jn=0;jn<qt.length;jn++){const Yn=qt[jn],tr=Yn.inputs;let rr=0;switch(Yn.type){case"lines":case"linestrips":rr=Yn.count*2;break;case"triangles":rr=Yn.count*3;break;case"polylist":for(let lr=0;lr<Yn.count;lr++){const or=Yn.vcount[lr];switch(or){case 3:rr+=3;break;case 4:rr+=6;break;default:rr+=(or-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Yn.type)}On.addGroup(Pn,rr,jn),Pn+=rr,Yn.material&&Gn.push(Yn.material);for(const lr in tr){const or=tr[lr];switch(lr){case"VERTEX":for(const wr in pn){const br=pn[wr];switch(wr){case"POSITION":const Cr=_n.array.length;if(Er(Yn,Zt[br],or.offset,_n.array),_n.stride=Zt[br].stride,Zt.skinWeights&&Zt.skinIndices&&(Er(Yn,Zt.skinIndices,or.offset,An.array),Er(Yn,Zt.skinWeights,or.offset,Dn.array)),Yn.hasUV===!1&&qt.uvsNeedsFix===!0){const Tr=(_n.array.length-Cr)/_n.stride;for(let _i=0;_i<Tr;_i++)In.array.push(0,0)}break;case"NORMAL":Er(Yn,Zt[br],or.offset,$n.array),$n.stride=Zt[br].stride;break;case"COLOR":Er(Yn,Zt[br],or.offset,wn.array),wn.stride=Zt[br].stride;break;case"TEXCOORD":Er(Yn,Zt[br],or.offset,In.array),In.stride=Zt[br].stride;break;case"TEXCOORD1":Er(Yn,Zt[br],or.offset,mn.array),In.stride=Zt[br].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',wr)}}break;case"NORMAL":Er(Yn,Zt[or.id],or.offset,$n.array),$n.stride=Zt[or.id].stride;break;case"COLOR":Er(Yn,Zt[or.id],or.offset,wn.array,!0),wn.stride=Zt[or.id].stride;break;case"TEXCOORD":Er(Yn,Zt[or.id],or.offset,In.array),In.stride=Zt[or.id].stride;break;case"TEXCOORD1":Er(Yn,Zt[or.id],or.offset,mn.array),mn.stride=Zt[or.id].stride;break}}}return _n.array.length>0&&On.setAttribute("position",new Float32BufferAttribute$1(_n.array,_n.stride)),$n.array.length>0&&On.setAttribute("normal",new Float32BufferAttribute$1($n.array,$n.stride)),wn.array.length>0&&On.setAttribute("color",new Float32BufferAttribute$1(wn.array,wn.stride)),In.array.length>0&&On.setAttribute("uv",new Float32BufferAttribute$1(In.array,In.stride)),mn.array.length>0&&On.setAttribute("uv2",new Float32BufferAttribute$1(mn.array,mn.stride)),An.array.length>0&&On.setAttribute("skinIndex",new Float32BufferAttribute$1(An.array,An.stride)),Dn.array.length>0&&On.setAttribute("skinWeight",new Float32BufferAttribute$1(Dn.array,Dn.stride)),gn.data=On,gn.type=qt[0].type,gn.materialKeys=Gn,gn}function Er(qt,Zt,pn,gn,_n=!1){const $n=qt.p,In=qt.stride,mn=qt.vcount;function wn(On){let Gn=$n[On+pn]*Dn;const Pn=Gn+Dn;for(;Gn<Pn;Gn++)gn.push(An[Gn]);if(_n){const jn=gn.length-Dn-1;Vr.setRGB(gn[jn+0],gn[jn+1],gn[jn+2]).convertSRGBToLinear(),gn[jn+0]=Vr.r,gn[jn+1]=Vr.g,gn[jn+2]=Vr.b}}const An=Zt.array,Dn=Zt.stride;if(qt.vcount!==void 0){let On=0;for(let Gn=0,Pn=mn.length;Gn<Pn;Gn++){const jn=mn[Gn];if(jn===4){const Yn=On+In*0,tr=On+In*1,rr=On+In*2,lr=On+In*3;wn(Yn),wn(tr),wn(lr),wn(tr),wn(rr),wn(lr)}else if(jn===3){const Yn=On+In*0,tr=On+In*1,rr=On+In*2;wn(Yn),wn(tr),wn(rr)}else if(jn>4)for(let Yn=1,tr=jn-2;Yn<=tr;Yn++){const rr=On+In*0,lr=On+In*Yn,or=On+In*(Yn+1);wn(rr),wn(lr),wn(or)}On+=In*jn}}else for(let On=0,Gn=$n.length;On<Gn;On+=In)wn(On)}function Ir(qt){return gt(sr.geometries[qt],$r)}function Nr(qt){const Zt={name:qt.getAttribute("name")||"",joints:{},links:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"technique_common":En(gn,Zt);break}}sr.kinematicsModels[qt.getAttribute("id")]=Zt}function Yr(qt){return qt.build!==void 0?qt.build:qt}function qr(qt){return gt(sr.kinematicsModels[qt],Yr)}function En(qt,Zt){for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"joint":Zt.joints[gn.getAttribute("sid")]=Fn(gn);break;case"link":Zt.links.push(Un(gn));break}}}function Fn(qt){let Zt;for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"prismatic":case"revolute":Zt=Vn(gn);break}}return Zt}function Vn(qt){const Zt={sid:qt.getAttribute("sid"),name:qt.getAttribute("name")||"",axis:new Vector3$1,limits:{min:0,max:0},type:qt.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"axis":const _n=ot(gn.textContent);Zt.axis.fromArray(_n);break;case"limits":const $n=gn.getElementsByTagName("max")[0],In=gn.getElementsByTagName("min")[0];Zt.limits.max=parseFloat($n.textContent),Zt.limits.min=parseFloat(In.textContent);break}}return Zt.limits.min>=Zt.limits.max&&(Zt.static=!0),Zt.middlePosition=(Zt.limits.min+Zt.limits.max)/2,Zt}function Un(qt){const Zt={sid:qt.getAttribute("sid"),name:qt.getAttribute("name")||"",attachments:[],transforms:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"attachment_full":Zt.attachments.push(Xn(gn));break;case"matrix":case"translate":case"rotate":Zt.transforms.push(ar(gn));break}}return Zt}function Xn(qt){const Zt={joint:qt.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"link":Zt.links.push(Un(gn));break;case"matrix":case"translate":case"rotate":Zt.transforms.push(ar(gn));break}}return Zt}function ar(qt){const Zt={type:qt.nodeName},pn=ot(qt.textContent);switch(Zt.type){case"matrix":Zt.obj=new Matrix4$1,Zt.obj.fromArray(pn).transpose();break;case"translate":Zt.obj=new Vector3$1,Zt.obj.fromArray(pn);break;case"rotate":Zt.obj=new Vector3$1,Zt.obj.fromArray(pn),Zt.angle=MathUtils.degToRad(pn[3]);break}return Zt}function cr(qt){const Zt={name:qt.getAttribute("name")||"",rigidBodies:{}};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"rigid_body":Zt.rigidBodies[gn.getAttribute("name")]={},fr(gn,Zt.rigidBodies[gn.getAttribute("name")]);break}}sr.physicsModels[qt.getAttribute("id")]=Zt}function fr(qt,Zt){for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"technique_common":dr(gn,Zt);break}}}function dr(qt,Zt){for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"inertia":Zt.inertia=ot(gn.textContent);break;case"mass":Zt.mass=ot(gn.textContent)[0];break}}}function yr(qt){const Zt={bindJointAxis:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"bind_joint_axis":Zt.bindJointAxis.push(hr(gn));break}}sr.kinematicsScenes[st(qt.getAttribute("url"))]=Zt}function hr(qt){const Zt={target:qt.getAttribute("target").split("/").pop()};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"axis":const _n=gn.getElementsByTagName("param")[0];Zt.axis=_n.textContent;const $n=Zt.axis.split("inst_").pop().split("axis")[0];Zt.jointIndex=$n.substring(0,$n.length-1);break}}return Zt}function gr(qt){return qt.build!==void 0?qt.build:qt}function xr(qt){return gt(sr.kinematicsScenes[qt],gr)}function Br(){const qt=Object.keys(sr.kinematicsModels)[0],Zt=Object.keys(sr.kinematicsScenes)[0],pn=Object.keys(sr.visualScenes)[0];if(qt===void 0||Zt===void 0)return;const gn=qr(qt),_n=xr(Zt),$n=ro(pn),In=_n.bindJointAxis,mn={};for(let Dn=0,On=In.length;Dn<On;Dn++){const Gn=In[Dn],Pn=Ar.querySelector('[sid="'+Gn.target+'"]');if(Pn){const jn=Pn.parentElement;wn(Gn.jointIndex,jn)}}function wn(Dn,On){const Gn=On.getAttribute("name"),Pn=gn.joints[Dn];$n.traverse(function(jn){jn.name===Gn&&(mn[Dn]={object:jn,transforms:Gr(On),joint:Pn,position:Pn.zeroPosition})})}const An=new Matrix4$1;eo={joints:gn&&gn.joints,getJointValue:function(Dn){const On=mn[Dn];if(On)return On.position;console.warn("THREE.ColladaLoader: Joint "+Dn+" doesn't exist.")},setJointValue:function(Dn,On){const Gn=mn[Dn];if(Gn){const Pn=Gn.joint;if(On>Pn.limits.max||On<Pn.limits.min)console.warn("THREE.ColladaLoader: Joint "+Dn+" value "+On+" outside of limits (min: "+Pn.limits.min+", max: "+Pn.limits.max+").");else if(Pn.static)console.warn("THREE.ColladaLoader: Joint "+Dn+" is static.");else{const jn=Gn.object,Yn=Pn.axis,tr=Gn.transforms;_r.identity();for(let rr=0;rr<tr.length;rr++){const lr=tr[rr];if(lr.sid&&lr.sid.indexOf(Dn)!==-1)switch(Pn.type){case"revolute":_r.multiply(An.makeRotationAxis(Yn,MathUtils.degToRad(On)));break;case"prismatic":_r.multiply(An.makeTranslation(Yn.x*On,Yn.y*On,Yn.z*On));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Pn.type);break}else switch(lr.type){case"matrix":_r.multiply(lr.obj);break;case"translate":_r.multiply(An.makeTranslation(lr.obj.x,lr.obj.y,lr.obj.z));break;case"scale":_r.scale(lr.obj);break;case"rotate":_r.multiply(An.makeRotationAxis(lr.obj,lr.angle));break}}jn.matrix.copy(_r),jn.matrix.decompose(jn.position,jn.quaternion,jn.scale),mn[Dn].position=On}}else console.log("THREE.ColladaLoader: "+Dn+" does not exist.")}}}function Gr(qt){const Zt=[],pn=Ar.querySelector('[id="'+qt.id+'"]');for(let gn=0;gn<pn.childNodes.length;gn++){const _n=pn.childNodes[gn];if(_n.nodeType!==1)continue;let $n,In;switch(_n.nodeName){case"matrix":$n=ot(_n.textContent);const mn=new Matrix4$1().fromArray($n).transpose();Zt.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:mn});break;case"translate":case"scale":$n=ot(_n.textContent),In=new Vector3$1().fromArray($n),Zt.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:In});break;case"rotate":$n=ot(_n.textContent),In=new Vector3$1().fromArray($n);const wn=MathUtils.degToRad($n[3]);Zt.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:In,angle:wn});break}}return Zt}function zr(qt){const Zt=qt.getElementsByTagName("node");for(let pn=0;pn<Zt.length;pn++){const gn=Zt[pn];gn.hasAttribute("id")===!1&&gn.setAttribute("id",lt())}}const _r=new Matrix4$1,pr=new Vector3$1;function kr(qt){const Zt={name:qt.getAttribute("name")||"",type:qt.getAttribute("type"),id:qt.getAttribute("id"),sid:qt.getAttribute("sid"),matrix:new Matrix4$1,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType!==1)continue;let _n;switch(gn.nodeName){case"node":Zt.nodes.push(gn.getAttribute("id")),kr(gn);break;case"instance_camera":Zt.instanceCameras.push(st(gn.getAttribute("url")));break;case"instance_controller":Zt.instanceControllers.push(Sr(gn));break;case"instance_light":Zt.instanceLights.push(st(gn.getAttribute("url")));break;case"instance_geometry":Zt.instanceGeometries.push(Sr(gn));break;case"instance_node":Zt.instanceNodes.push(st(gn.getAttribute("url")));break;case"matrix":_n=ot(gn.textContent),Zt.matrix.multiply(_r.fromArray(_n).transpose()),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"translate":_n=ot(gn.textContent),pr.fromArray(_n),Zt.matrix.multiply(_r.makeTranslation(pr.x,pr.y,pr.z)),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"rotate":_n=ot(gn.textContent);const $n=MathUtils.degToRad(_n[3]);Zt.matrix.multiply(_r.makeRotationAxis(pr.fromArray(_n),$n)),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"scale":_n=ot(gn.textContent),Zt.matrix.scale(pr.fromArray(_n)),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"extra":break;default:console.log(gn)}}return Kr(Zt.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",Zt.id):sr.nodes[Zt.id]=Zt,Zt}function Sr(qt){const Zt={id:st(qt.getAttribute("url")),materials:{},skeletons:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];switch(gn.nodeName){case"bind_material":const _n=gn.getElementsByTagName("instance_material");for(let $n=0;$n<_n.length;$n++){const In=_n[$n],mn=In.getAttribute("symbol"),wn=In.getAttribute("target");Zt.materials[mn]=st(wn)}break;case"skeleton":Zt.skeletons.push(st(gn.textContent));break}}return Zt}function Dr(qt,Zt){const pn=[],gn=[];let _n,$n,In;for(_n=0;_n<qt.length;_n++){const An=qt[_n];let Dn;if(Kr(An))Dn=Mr(An),Or(Dn,Zt,pn);else if(co(An)){const Gn=sr.visualScenes[An].children;for(let Pn=0;Pn<Gn.length;Pn++){const jn=Gn[Pn];if(jn.type==="JOINT"){const Yn=Mr(jn.id);Or(Yn,Zt,pn)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",An)}for(_n=0;_n<Zt.length;_n++)for($n=0;$n<pn.length;$n++)if(In=pn[$n],In.bone.name===Zt[_n].name){gn[_n]=In,In.processed=!0;break}for(_n=0;_n<pn.length;_n++)In=pn[_n],In.processed===!1&&(gn.push(In),In.processed=!0);const mn=[],wn=[];for(_n=0;_n<gn.length;_n++)In=gn[_n],mn.push(In.bone),wn.push(In.boneInverse);return new Skeleton(mn,wn)}function Or(qt,Zt,pn){qt.traverse(function(gn){if(gn.isBone===!0){let _n;for(let $n=0;$n<Zt.length;$n++){const In=Zt[$n];if(In.name===gn.name){_n=In.boneInverse;break}}_n===void 0&&(_n=new Matrix4$1),pn.push({bone:gn,boneInverse:_n,processed:!1})}})}function Fr(qt){const Zt=[],pn=qt.matrix,gn=qt.nodes,_n=qt.type,$n=qt.instanceCameras,In=qt.instanceControllers,mn=qt.instanceLights,wn=qt.instanceGeometries,An=qt.instanceNodes;for(let On=0,Gn=gn.length;On<Gn;On++)Zt.push(Mr(gn[On]));for(let On=0,Gn=$n.length;On<Gn;On++){const Pn=Kn($n[On]);Pn!==null&&Zt.push(Pn.clone())}for(let On=0,Gn=In.length;On<Gn;On++){const Pn=In[On],jn=Jt(Pn.id),Yn=Ir(jn.id),tr=Ur(Yn,Pn.materials),rr=Pn.skeletons,lr=jn.skin.joints,or=Dr(rr,lr);for(let wr=0,br=tr.length;wr<br;wr++){const Cr=tr[wr];Cr.isSkinnedMesh&&(Cr.bind(or,jn.skin.bindMatrix),Cr.normalizeSkinWeights()),Zt.push(Cr)}}for(let On=0,Gn=mn.length;On<Gn;On++){const Pn=qn(mn[On]);Pn!==null&&Zt.push(Pn.clone())}for(let On=0,Gn=wn.length;On<Gn;On++){const Pn=wn[On],jn=Ir(Pn.id),Yn=Ur(jn,Pn.materials);for(let tr=0,rr=Yn.length;tr<rr;tr++)Zt.push(Yn[tr])}for(let On=0,Gn=An.length;On<Gn;On++)Zt.push(Mr(An[On]).clone());let Dn;if(gn.length===0&&Zt.length===1)Dn=Zt[0];else{Dn=_n==="JOINT"?new Bone$1:new Group$1;for(let On=0;On<Zt.length;On++)Dn.add(Zt[On])}return Dn.name=_n==="JOINT"?qt.sid:qt.name,Dn.matrix.copy(pn),Dn.matrix.decompose(Dn.position,Dn.quaternion,Dn.scale),Dn}const Zr=new MeshBasicMaterial$1({color:16711935});function Lr(qt,Zt){const pn=[];for(let gn=0,_n=qt.length;gn<_n;gn++){const $n=Zt[qt[gn]];$n===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",qt[gn]),pn.push(Zr)):pn.push(Ln($n))}return pn}function Ur(qt,Zt){const pn=[];for(const gn in qt){const _n=qt[gn],$n=Lr(_n.materialKeys,Zt);$n.length===0&&(gn==="lines"||gn==="linestrips"?$n.push(new LineBasicMaterial$1):$n.push(new MeshPhongMaterial$1));const In=_n.data.attributes.skinIndex!==void 0,mn=$n.length===1?$n[0]:$n;let wn;switch(gn){case"lines":wn=new LineSegments$1(_n.data,mn);break;case"linestrips":wn=new Line$1(_n.data,mn);break;case"triangles":case"polylist":In?wn=new SkinnedMesh$1(_n.data,mn):wn=new Mesh$1(_n.data,mn);break}pn.push(wn)}return pn}function Kr(qt){return sr.nodes[qt]!==void 0}function Mr(qt){return gt(sr.nodes[qt],Fr)}function lo(qt){const Zt={name:qt.getAttribute("name"),children:[]};zr(qt);const pn=rt(qt,"node");for(let gn=0;gn<pn.length;gn++)Zt.children.push(kr(pn[gn]));sr.visualScenes[qt.getAttribute("id")]=Zt}function oo(qt){const Zt=new Group$1;Zt.name=qt.name;const pn=qt.children;for(let gn=0;gn<pn.length;gn++){const _n=pn[gn];Zt.add(Mr(_n.id))}return Zt}function co(qt){return sr.visualScenes[qt]!==void 0}function ro(qt){return gt(sr.visualScenes[qt],oo)}function uo(qt){const Zt=rt(qt,"instance_visual_scene")[0];return ro(st(Zt.getAttribute("url")))}function no(){const qt=sr.clips;if(ct(qt)===!0){if(ct(sr.animations)===!1){const Zt=[];for(const pn in sr.animations){const gn=xt(pn);for(let _n=0,$n=gn.length;_n<$n;_n++)Zt.push(gn[_n])}jr.push(new AnimationClip$1("default",-1,Zt))}}else for(const Zt in qt)jr.push(Ut(Zt))}function fo(qt){let Zt="";const pn=[qt];for(;pn.length;){const gn=pn.shift();gn.nodeType===Node.TEXT_NODE?Zt+=gn.textContent:(Zt+=`
`,pn.push.apply(pn,gn.childNodes))}return Zt.trim()}if(et.length===0)return{scene:new Scene$1};const Xr=new DOMParser().parseFromString(et,"application/xml"),Ar=rt(Xr,"COLLADA")[0],Jr=Xr.getElementsByTagName("parsererror")[0];if(Jr!==void 0){const qt=rt(Jr,"div")[0];let Zt;return qt?Zt=qt.textContent:Zt=fo(Jr),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,Zt),null}const so=Ar.getAttribute("version");console.log("THREE.ColladaLoader: File version",so);const ao=ft(rt(Ar,"asset")[0]),Hr=new TextureLoader$1(this.manager);Hr.setPath(this.resourcePath||nt).setCrossOrigin(this.crossOrigin);let Qr;TGALoader$1&&(Qr=new TGALoader$1(this.manager),Qr.setPath(this.resourcePath||nt));const Vr=new Color$2,jr=[];let eo={},ho=0;const sr={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};ht(Ar,"library_animations","animation",mt),ht(Ar,"library_animation_clips","animation_clip",Ct),ht(Ar,"library_controllers","controller",At),ht(Ar,"library_images","image",Vt),ht(Ar,"library_effects","effect",Bt),ht(Ar,"library_materials","material",xn),ht(Ar,"library_cameras","camera",Mn),ht(Ar,"library_lights","light",kn),ht(Ar,"library_geometries","geometry",er),ht(Ar,"library_nodes","node",kr),ht(Ar,"library_visual_scenes","visual_scene",lo),ht(Ar,"library_kinematics_models","kinematics_model",Nr),ht(Ar,"library_physics_models","physics_model",cr),ht(Ar,"scene","instance_kinematics_scene",yr),pt(sr.animations,St),pt(sr.clips,Ot),pt(sr.controllers,Gt),pt(sr.images,Wt),pt(sr.effects,ln),pt(sr.materials,zn),pt(sr.cameras,Rn),pt(sr.lights,Qn),pt(sr.geometries,$r),pt(sr.visualScenes,oo),no(),Br();const Tn=uo(rt(Ar,"scene")[0]);return Tn.animations=jr,ao.upAxis==="Z_UP"&&Tn.quaternion.setFromEuler(new Euler$1(-Math.PI/2,0,0)),Tn.scale.multiplyScalar(ao.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),jr},kinematics:eo,library:sr,scene:Tn}}}class URDFBase extends Object3D$1{constructor(...et){super(...et),this.urdfNode=null,this.urdfName=""}copy(et,nt){return super.copy(et,nt),this.urdfNode=et.urdfNode,this.urdfName=et.urdfName,this}}class URDFCollider extends URDFBase{constructor(...et){super(...et),this.isURDFCollider=!0,this.type="URDFCollider"}}class URDFVisual extends URDFBase{constructor(...et){super(...et),this.isURDFVisual=!0,this.type="URDFVisual"}}class URDFLink extends URDFBase{constructor(...et){super(...et),this.isURDFLink=!0,this.type="URDFLink"}}class URDFJoint extends URDFBase{get jointType(){return this._jointType}set jointType(et){if(this.jointType!==et)switch(this._jointType=et,this.matrixWorldNeedsUpdate=!0,et){case"fixed":this.jointValue=[];break;case"continuous":case"revolute":case"prismatic":this.jointValue=new Array(1).fill(0);break;case"planar":this.jointValue=new Array(2).fill(0);break;case"floating":this.jointValue=new Array(6).fill(0);break}}get angle(){return this.jointValue[0]}constructor(...et){super(...et),this.isURDFJoint=!0,this.type="URDFJoint",this.jointValue=null,this.jointType="fixed",this.axis=new Vector3$1(1,0,0),this.limit={lower:0,upper:0},this.ignoreLimits=!1,this.origPosition=null,this.origQuaternion=null,this.mimicJoints=[]}copy(et,nt){return super.copy(et,nt),this.jointType=et.jointType,this.axis=et.axis.clone(),this.limit.lower=et.limit.lower,this.limit.upper=et.limit.upper,this.ignoreLimits=!1,this.jointValue=[...et.jointValue],this.origPosition=et.origPosition?et.origPosition.clone():null,this.origQuaternion=et.origQuaternion?et.origQuaternion.clone():null,this.mimicJoints=[...et.mimicJoints],this}setJointValue(...et){et=et.map(rt=>parseFloat(rt)),(!this.origPosition||!this.origQuaternion)&&(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone());let nt=!1;switch(this.mimicJoints.forEach(rt=>{nt=rt.updateFromMimickedJoint(...et)||nt}),this.jointType){case"fixed":return nt;case"continuous":case"revolute":{let rt=et[0];return rt==null||rt===this.jointValue[0]?nt:(!this.ignoreLimits&&this.jointType==="revolute"&&(rt=Math.min(this.limit.upper,rt),rt=Math.max(this.limit.lower,rt)),this.quaternion.setFromAxisAngle(this.axis,rt).premultiply(this.origQuaternion),this.jointValue[0]!==rt?(this.jointValue[0]=rt,this.matrixWorldNeedsUpdate=!0,!0):nt)}case"prismatic":{let rt=et[0];return rt==null||rt===this.jointValue[0]?nt:(this.ignoreLimits||(rt=Math.min(this.limit.upper,rt),rt=Math.max(this.limit.lower,rt)),this.position.copy(this.origPosition),this.position.addScaledVector(this.axis,rt),this.jointValue[0]!==rt?(this.jointValue[0]=rt,this.matrixWorldNeedsUpdate=!0,!0):nt)}case"floating":case"planar":console.warn(`'${this.jointType}' joint not yet supported`)}return nt}}class URDFMimicJoint extends URDFJoint{constructor(...et){super(...et),this.type="URDFMimicJoint",this.mimicJoint=null,this.offset=0,this.multiplier=1}updateFromMimickedJoint(...et){const nt=et.map(rt=>rt*this.multiplier+this.offset);return super.setJointValue(...nt)}setJointValue(...et){return console.warn(`URDFMimicJoint: Setting the joint value of mimic joint "${this.urdfName}" will cause it to be out of sync.`),super.setJointValue(...et)}copy(et,nt){return super.copy(et,nt),this.mimicJoint=et.mimicJoint,this.offset=et.offset,this.multiplier=et.multiplier,this}}class URDFRobot extends URDFLink{constructor(...et){super(...et),this.isURDFRobot=!0,this.urdfNode=null,this.urdfRobotNode=null,this.robotName=null,this.links=null,this.joints=null,this.colliders=null,this.visual=null,this.frames=null}copy(et,nt){return super.copy(et,nt),this.urdfRobotNode=et.urdfRobotNode,this.robotName=et.robotName,this.links={},this.joints={},this.colliders={},this.visual={},this.traverse(rt=>{rt.isURDFJoint&&rt.urdfName in et.joints&&(this.joints[rt.urdfName]=rt),rt.isURDFLink&&rt.urdfName in et.links&&(this.links[rt.urdfName]=rt),rt.isURDFCollider&&rt.urdfName in et.colliders&&(this.colliders[rt.urdfName]=rt),rt.isURDFVisual&&rt.urdfName in et.visual&&(this.visual[rt.urdfName]=rt)}),this.frames=Wr(Wr(Wr(Wr({},this.colliders),this.visual),this.links),this.joints),this}getFrame(et){return this.frames[et]}setJointValue(et,...nt){const rt=this.joints[et];return rt?rt.setJointValue(...nt):!1}setJointValues(et){let nt=!1;for(const rt in et){const it=et[rt];Array.isArray(it)?nt=this.setJointValue(rt,...it)||nt:nt=this.setJointValue(rt,it)||nt}return nt}}const tempQuaternion=new Quaternion$1,tempEuler=new Euler$1;function processTuple(tt){return tt?tt.trim().split(/\s+/g).map(et=>parseFloat(et)):[0,0,0]}function applyRotation(tt,et,nt=!1){nt||tt.rotation.set(0,0,0),tempEuler.set(et[0],et[1],et[2],"ZYX"),tempQuaternion.setFromEuler(tempEuler),tempQuaternion.multiply(tt.quaternion),tt.quaternion.copy(tempQuaternion)}class URDFLoader{constructor(et){this.manager=et||DefaultLoadingManager$1,this.loadMeshCb=this.defaultMeshLoader.bind(this),this.parseVisual=!0,this.parseCollision=!1,this.packages="",this.workingPath="",this.fetchOptions={}}loadAsync(et){return new Promise((nt,rt)=>{this.load(et,nt,null,rt)})}load(et,nt,rt,it){const ot=this.manager,at=LoaderUtils$1.extractUrlBase(et),st=this.manager.resolveURL(et);ot.itemStart(st),fetch(st,this.fetchOptions).then(lt=>{if(lt.ok)return rt&&rt(null),lt.text();throw new Error(`URDFLoader: Failed to load url '${st}' with error code ${lt.status} : ${lt.statusText}.`)}).then(lt=>{this.workingPath===""&&(this.workingPath=at);const ct=this.parse(lt);nt(ct),ot.itemEnd(st)}).catch(lt=>{it?it(lt):console.error("URDFLoader: Error loading file.",lt),ot.itemError(st),ot.itemEnd(st)})}parse(et){const nt=this.packages,rt=this.loadMeshCb,it=this.parseVisual,ot=this.parseCollision,at=this.workingPath,st=this.manager,lt={},ct={},ft={};function ut(bt){if(!/^package:\/\//.test(bt))return at?at+bt:bt;const[St,xt]=bt.replace(/^package:\/\//,"").split(/\/(.+)/);if(typeof nt=="string")return nt.endsWith(St)?nt+"/"+xt:nt+"/"+St+"/"+xt;if(nt instanceof Function)return nt(St)+"/"+xt;if(typeof nt=="object")return St in nt?nt[St]+"/"+xt:(console.error(`URDFLoader : ${St} not found in provided package list.`),null)}function dt(bt){let St;bt instanceof Document?St=[...bt.children]:bt instanceof Element?St=[bt]:St=[...new DOMParser().parseFromString(bt,"text/xml").children];const xt=St.filter(vt=>vt.nodeName==="robot").pop();return ht(xt)}function ht(bt){const St=[...bt.children],xt=St.filter(Rt=>Rt.nodeName.toLowerCase()==="link"),vt=St.filter(Rt=>Rt.nodeName.toLowerCase()==="joint"),$t=St.filter(Rt=>Rt.nodeName.toLowerCase()==="material"),zt=new URDFRobot;zt.robotName=bt.getAttribute("name"),zt.urdfRobotNode=bt,$t.forEach(Rt=>{const Tt=Rt.getAttribute("name");ft[Tt]=mt(Rt)});const Nt={},wt={};xt.forEach(Rt=>{const Tt=Rt.getAttribute("name"),It=bt.querySelector(`child[link="${Tt}"]`)===null;lt[Tt]=gt(Rt,Nt,wt,It?zt:null)}),vt.forEach(Rt=>{const Tt=Rt.getAttribute("name");ct[Tt]=pt(Rt)}),zt.joints=ct,zt.links=lt,zt.colliders=wt,zt.visual=Nt;const Et=Object.values(ct);return Et.forEach(Rt=>{Rt instanceof URDFMimicJoint&&ct[Rt.mimicJoint].mimicJoints.push(Rt)}),Et.forEach(Rt=>{const Tt=new Set,It=Pt=>{if(Tt.has(Pt))throw new Error("URDFLoader: Detected an infinite loop of mimic joints.");Tt.add(Pt),Pt.mimicJoints.forEach(Dt=>{It(Dt)})};It(Rt)}),zt.frames=Wr(Wr(Wr(Wr({},wt),Nt),lt),ct),zt}function pt(bt){const St=[...bt.children],xt=bt.getAttribute("type");let vt;const $t=St.find(Tt=>Tt.nodeName.toLowerCase()==="mimic");$t?(vt=new URDFMimicJoint,vt.mimicJoint=$t.getAttribute("joint"),vt.multiplier=parseFloat($t.getAttribute("multiplier")||1),vt.offset=parseFloat($t.getAttribute("offset")||0)):vt=new URDFJoint,vt.urdfNode=bt,vt.name=bt.getAttribute("name"),vt.urdfName=vt.name,vt.jointType=xt;let zt=null,Nt=null,wt=[0,0,0],Et=[0,0,0];St.forEach(Tt=>{const It=Tt.nodeName.toLowerCase();It==="origin"?(wt=processTuple(Tt.getAttribute("xyz")),Et=processTuple(Tt.getAttribute("rpy"))):It==="child"?Nt=lt[Tt.getAttribute("link")]:It==="parent"?zt=lt[Tt.getAttribute("link")]:It==="limit"&&(vt.limit.lower=parseFloat(Tt.getAttribute("lower")||vt.limit.lower),vt.limit.upper=parseFloat(Tt.getAttribute("upper")||vt.limit.upper))}),zt.add(vt),vt.add(Nt),applyRotation(vt,Et),vt.position.set(wt[0],wt[1],wt[2]);const Rt=St.filter(Tt=>Tt.nodeName.toLowerCase()==="axis")[0];if(Rt){const Tt=Rt.getAttribute("xyz").split(/\s+/g).map(It=>parseFloat(It));vt.axis=new Vector3$1(Tt[0],Tt[1],Tt[2]),vt.axis.normalize()}return vt}function gt(bt,St,xt,vt=null){vt===null&&(vt=new URDFLink);const $t=[...bt.children];return vt.name=bt.getAttribute("name"),vt.urdfName=vt.name,vt.urdfNode=bt,it&&$t.filter(Nt=>Nt.nodeName.toLowerCase()==="visual").forEach(Nt=>{const wt=yt(Nt,ft);if(vt.add(wt),Nt.hasAttribute("name")){const Et=Nt.getAttribute("name");wt.name=Et,wt.urdfName=Et,St[Et]=wt}}),ot&&$t.filter(Nt=>Nt.nodeName.toLowerCase()==="collision").forEach(Nt=>{const wt=yt(Nt);if(vt.add(wt),Nt.hasAttribute("name")){const Et=Nt.getAttribute("name");wt.name=Et,wt.urdfName=Et,xt[Et]=wt}}),vt}function mt(bt){const St=[...bt.children],xt=new MeshPhongMaterial$1;return xt.name=bt.getAttribute("name")||"",St.forEach(vt=>{const $t=vt.nodeName.toLowerCase();if($t==="color"){const zt=vt.getAttribute("rgba").split(/\s/g).map(Nt=>parseFloat(Nt));xt.color.setRGB(zt[0],zt[1],zt[2]).convertSRGBToLinear(),xt.opacity=zt[3],xt.transparent=zt[3]<1,xt.depthWrite=!xt.transparent}else if($t==="texture"){const zt=vt.getAttribute("filename");if(zt){const Nt=new TextureLoader$1(st),wt=ut(zt);xt.map=Nt.load(wt),xt.map.encoding=sRGBEncoding$1}}}),xt}function yt(bt,St={}){const xt=bt.nodeName.toLowerCase()==="collision",vt=[...bt.children];let $t=null;const zt=vt.filter(wt=>wt.nodeName.toLowerCase()==="material")[0];if(zt){const wt=zt.getAttribute("name");wt&&wt in St?$t=St[wt]:$t=mt(zt)}else $t=new MeshPhongMaterial$1;const Nt=xt?new URDFCollider:new URDFVisual;return Nt.urdfNode=bt,vt.forEach(wt=>{const Et=wt.nodeName.toLowerCase();if(Et==="geometry"){const Rt=wt.children[0].nodeName.toLowerCase();if(Rt==="mesh"){const Tt=wt.children[0].getAttribute("filename"),It=ut(Tt);if(It!==null){const Pt=wt.children[0].getAttribute("scale");if(Pt){const Dt=processTuple(Pt);Nt.scale.set(Dt[0],Dt[1],Dt[2])}rt(It,st,(Dt,Ct)=>{Ct?console.error("URDFLoader: Error loading mesh.",Ct):Dt&&(Dt instanceof Mesh$1&&(Dt.material=$t),Dt.position.set(0,0,0),Dt.quaternion.identity(),Nt.add(Dt))})}}else if(Rt==="box"){const Tt=new Mesh$1;Tt.geometry=new BoxGeometry$1(1,1,1),Tt.material=$t;const It=processTuple(wt.children[0].getAttribute("size"));Tt.scale.set(It[0],It[1],It[2]),Nt.add(Tt)}else if(Rt==="sphere"){const Tt=new Mesh$1;Tt.geometry=new SphereGeometry(1,30,30),Tt.material=$t;const It=parseFloat(wt.children[0].getAttribute("radius"))||0;Tt.scale.set(It,It,It),Nt.add(Tt)}else if(Rt==="cylinder"){const Tt=new Mesh$1;Tt.geometry=new CylinderGeometry(1,1,1,30),Tt.material=$t;const It=parseFloat(wt.children[0].getAttribute("radius"))||0,Pt=parseFloat(wt.children[0].getAttribute("length"))||0;Tt.scale.set(It,Pt,It),Tt.rotation.set(Math.PI/2,0,0),Nt.add(Tt)}}else if(Et==="origin"){const Rt=processTuple(wt.getAttribute("xyz")),Tt=processTuple(wt.getAttribute("rpy"));Nt.position.set(Rt[0],Rt[1],Rt[2]),Nt.rotation.set(0,0,0),applyRotation(Nt,Tt)}}),Nt}return dt(et)}defaultMeshLoader(et,nt,rt){/\.stl$/i.test(et)?new STLLoader(nt).load(et,ot=>{const at=new Mesh$1(ot,new MeshPhongMaterial$1);rt(at)}):/\.dae$/i.test(et)?new ColladaLoader$1(nt).load(et,ot=>rt(ot.scene)):console.warn(`URDFLoader: Could not load model at ${et}.
No loader available`)}}function n(tt){for(var et=arguments.length,nt=Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];throw Error("[Immer] minified error nr: "+tt+(nt.length?" "+nt.map(function(it){return"'"+it+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(tt){return!!tt&&!!tt[Q$1]}function t(tt){return!!tt&&(function(et){if(!et||typeof et!="object")return!1;var nt=Object.getPrototypeOf(et);if(nt===null)return!0;var rt=Object.hasOwnProperty.call(nt,"constructor")&&nt.constructor;return rt===Object||typeof rt=="function"&&Function.toString.call(rt)===Z$1}(tt)||Array.isArray(tt)||!!tt[L$1]||!!tt.constructor[L$1]||s(tt)||v$1(tt))}function i(tt,et,nt){nt===void 0&&(nt=!1),o(tt)===0?(nt?Object.keys:nn)(tt).forEach(function(rt){nt&&typeof rt=="symbol"||et(rt,tt[rt],tt)}):tt.forEach(function(rt,it){return et(it,rt,tt)})}function o(tt){var et=tt[Q$1];return et?et.i>3?et.i-4:et.i:Array.isArray(tt)?1:s(tt)?2:v$1(tt)?3:0}function u(tt,et){return o(tt)===2?tt.has(et):Object.prototype.hasOwnProperty.call(tt,et)}function a(tt,et){return o(tt)===2?tt.get(et):tt[et]}function f(tt,et,nt){var rt=o(tt);rt===2?tt.set(et,nt):rt===3?(tt.delete(et),tt.add(nt)):tt[et]=nt}function c(tt,et){return tt===et?tt!==0||1/tt==1/et:tt!=tt&&et!=et}function s(tt){return X$1&&tt instanceof Map}function v$1(tt){return q$1&&tt instanceof Set}function p(tt){return tt.o||tt.t}function l(tt){if(Array.isArray(tt))return Array.prototype.slice.call(tt);var et=rn(tt);delete et[Q$1];for(var nt=nn(et),rt=0;rt<nt.length;rt++){var it=nt[rt],ot=et[it];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(et[it]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:tt[it]})}return Object.create(Object.getPrototypeOf(tt),et)}function d(tt,et){return et===void 0&&(et=!1),y(tt)||r(tt)||!t(tt)||(o(tt)>1&&(tt.set=tt.add=tt.clear=tt.delete=h),Object.freeze(tt),et&&i(tt,function(nt,rt){return d(rt,!0)},!0)),tt}function h(){n(2)}function y(tt){return tt==null||typeof tt!="object"||Object.isFrozen(tt)}function b$1(tt){var et=tn[tt];return et||n(18,tt),et}function _$1(){return U$1}function j$1(tt,et){et&&(b$1("Patches"),tt.u=[],tt.s=[],tt.v=et)}function O(tt){g$1(tt),tt.p.forEach(S$1),tt.p=null}function g$1(tt){tt===U$1&&(U$1=tt.l)}function w$1(tt){return U$1={p:[],l:U$1,h:tt,m:!0,_:0}}function S$1(tt){var et=tt[Q$1];et.i===0||et.i===1?et.j():et.O=!0}function P$1(tt,et){et._=et.p.length;var nt=et.p[0],rt=tt!==void 0&&tt!==nt;return et.h.g||b$1("ES5").S(et,tt,rt),rt?(nt[Q$1].P&&(O(et),n(4)),t(tt)&&(tt=M$1(et,tt),et.l||x$1(et,tt)),et.u&&b$1("Patches").M(nt[Q$1].t,tt,et.u,et.s)):tt=M$1(et,nt,[]),O(et),et.u&&et.v(et.u,et.s),tt!==H$1?tt:void 0}function M$1(tt,et,nt){if(y(et))return et;var rt=et[Q$1];if(!rt)return i(et,function(ot,at){return A$1(tt,rt,et,ot,at,nt)},!0),et;if(rt.A!==tt)return et;if(!rt.P)return x$1(tt,rt.t,!0),rt.t;if(!rt.I){rt.I=!0,rt.A._--;var it=rt.i===4||rt.i===5?rt.o=l(rt.k):rt.o;i(rt.i===3?new Set(it):it,function(ot,at){return A$1(tt,rt,it,ot,at,nt)}),x$1(tt,it,!1),nt&&tt.u&&b$1("Patches").R(rt,nt,tt.u,tt.s)}return rt.o}function A$1(tt,et,nt,rt,it,ot){if(r(it)){var at=M$1(tt,it,ot&&et&&et.i!==3&&!u(et.D,rt)?ot.concat(rt):void 0);if(f(nt,rt,at),!r(at))return;tt.m=!1}if(t(it)&&!y(it)){if(!tt.h.F&&tt._<1)return;M$1(tt,it),et&&et.A.l||x$1(tt,it)}}function x$1(tt,et,nt){nt===void 0&&(nt=!1),tt.h.F&&tt.m&&d(et,nt)}function z$1(tt,et){var nt=tt[Q$1];return(nt?p(nt):tt)[et]}function I$1(tt,et){if(et in tt)for(var nt=Object.getPrototypeOf(tt);nt;){var rt=Object.getOwnPropertyDescriptor(nt,et);if(rt)return rt;nt=Object.getPrototypeOf(nt)}}function k$1(tt){tt.P||(tt.P=!0,tt.l&&k$1(tt.l))}function E$1(tt){tt.o||(tt.o=l(tt.t))}function R(tt,et,nt){var rt=s(et)?b$1("MapSet").N(et,nt):v$1(et)?b$1("MapSet").T(et,nt):tt.g?function(it,ot){var at=Array.isArray(it),st={i:at?1:0,A:ot?ot.A:_$1(),P:!1,I:!1,D:{},l:ot,t:it,k:null,o:null,j:null,C:!1},lt=st,ct=en;at&&(lt=[st],ct=on);var ft=Proxy.revocable(lt,ct),ut=ft.revoke,dt=ft.proxy;return st.k=dt,st.j=ut,dt}(et,nt):b$1("ES5").J(et,nt);return(nt?nt.A:_$1()).p.push(rt),rt}function D(tt){return r(tt)||n(22,tt),function et(nt){if(!t(nt))return nt;var rt,it=nt[Q$1],ot=o(nt);if(it){if(!it.P&&(it.i<4||!b$1("ES5").K(it)))return it.t;it.I=!0,rt=F$1(nt,ot),it.I=!1}else rt=F$1(nt,ot);return i(rt,function(at,st){it&&a(it.t,at)===st||f(rt,at,et(st))}),ot===3?new Set(rt):rt}(tt)}function F$1(tt,et){switch(et){case 2:return new Map(tt);case 3:return Array.from(tt)}return l(tt)}var G$1,U$1,W$1=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",X$1=typeof Map!="undefined",q$1=typeof Set!="undefined",B$1=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",H$1=W$1?Symbol.for("immer-nothing"):((G$1={})["immer-nothing"]=!0,G$1),L$1=W$1?Symbol.for("immer-draftable"):"__$immer_draftable",Q$1=W$1?Symbol.for("immer-state"):"__$immer_state",Z$1=""+Object.prototype.constructor,nn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(tt){return Object.getOwnPropertyNames(tt).concat(Object.getOwnPropertySymbols(tt))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(tt){var et={};return nn(tt).forEach(function(nt){et[nt]=Object.getOwnPropertyDescriptor(tt,nt)}),et},tn={},en={get:function(tt,et){if(et===Q$1)return tt;var nt=p(tt);if(!u(nt,et))return function(it,ot,at){var st,lt=I$1(ot,at);return lt?"value"in lt?lt.value:(st=lt.get)===null||st===void 0?void 0:st.call(it.k):void 0}(tt,nt,et);var rt=nt[et];return tt.I||!t(rt)?rt:rt===z$1(tt.t,et)?(E$1(tt),tt.o[et]=R(tt.A.h,rt,tt)):rt},has:function(tt,et){return et in p(tt)},ownKeys:function(tt){return Reflect.ownKeys(p(tt))},set:function(tt,et,nt){var rt=I$1(p(tt),et);if(rt!=null&&rt.set)return rt.set.call(tt.k,nt),!0;if(!tt.P){var it=z$1(p(tt),et),ot=it==null?void 0:it[Q$1];if(ot&&ot.t===nt)return tt.o[et]=nt,tt.D[et]=!1,!0;if(c(nt,it)&&(nt!==void 0||u(tt.t,et)))return!0;E$1(tt),k$1(tt)}return tt.o[et]===nt&&typeof nt!="number"&&(nt!==void 0||et in tt.o)||(tt.o[et]=nt,tt.D[et]=!0,!0)},deleteProperty:function(tt,et){return z$1(tt.t,et)!==void 0||et in tt.t?(tt.D[et]=!1,E$1(tt),k$1(tt)):delete tt.D[et],tt.o&&delete tt.o[et],!0},getOwnPropertyDescriptor:function(tt,et){var nt=p(tt),rt=Reflect.getOwnPropertyDescriptor(nt,et);return rt&&{writable:!0,configurable:tt.i!==1||et!=="length",enumerable:rt.enumerable,value:nt[et]}},defineProperty:function(){n(11)},getPrototypeOf:function(tt){return Object.getPrototypeOf(tt.t)},setPrototypeOf:function(){n(12)}},on={};i(en,function(tt,et){on[tt]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}}),on.deleteProperty=function(tt,et){return on.set.call(this,tt,et,void 0)},on.set=function(tt,et,nt){return en.set.call(this,tt[0],et,nt,tt[0])};var un=function(){function tt(nt){var rt=this;this.g=B$1,this.F=!0,this.produce=function(it,ot,at){if(typeof it=="function"&&typeof ot!="function"){var st=ot;ot=it;var lt=rt;return function(gt){var mt=this;gt===void 0&&(gt=st);for(var yt=arguments.length,bt=Array(yt>1?yt-1:0),St=1;St<yt;St++)bt[St-1]=arguments[St];return lt.produce(gt,function(xt){var vt;return(vt=ot).call.apply(vt,[mt,xt].concat(bt))})}}var ct;if(typeof ot!="function"&&n(6),at!==void 0&&typeof at!="function"&&n(7),t(it)){var ft=w$1(rt),ut=R(rt,it,void 0),dt=!0;try{ct=ot(ut),dt=!1}finally{dt?O(ft):g$1(ft)}return typeof Promise!="undefined"&&ct instanceof Promise?ct.then(function(gt){return j$1(ft,at),P$1(gt,ft)},function(gt){throw O(ft),gt}):(j$1(ft,at),P$1(ct,ft))}if(!it||typeof it!="object"){if((ct=ot(it))===void 0&&(ct=it),ct===H$1&&(ct=void 0),rt.F&&d(ct,!0),at){var ht=[],pt=[];b$1("Patches").M(it,ct,ht,pt),at(ht,pt)}return ct}n(21,it)},this.produceWithPatches=function(it,ot){if(typeof it=="function")return function(ct){for(var ft=arguments.length,ut=Array(ft>1?ft-1:0),dt=1;dt<ft;dt++)ut[dt-1]=arguments[dt];return rt.produceWithPatches(ct,function(ht){return it.apply(void 0,[ht].concat(ut))})};var at,st,lt=rt.produce(it,ot,function(ct,ft){at=ct,st=ft});return typeof Promise!="undefined"&&lt instanceof Promise?lt.then(function(ct){return[ct,at,st]}):[lt,at,st]},typeof(nt==null?void 0:nt.useProxies)=="boolean"&&this.setUseProxies(nt.useProxies),typeof(nt==null?void 0:nt.autoFreeze)=="boolean"&&this.setAutoFreeze(nt.autoFreeze)}var et=tt.prototype;return et.createDraft=function(nt){t(nt)||n(8),r(nt)&&(nt=D(nt));var rt=w$1(this),it=R(this,nt,void 0);return it[Q$1].C=!0,g$1(rt),it},et.finishDraft=function(nt,rt){var it=nt&&nt[Q$1],ot=it.A;return j$1(ot,rt),P$1(void 0,ot)},et.setAutoFreeze=function(nt){this.F=nt},et.setUseProxies=function(nt){nt&&!B$1&&n(20),this.g=nt},et.applyPatches=function(nt,rt){var it;for(it=rt.length-1;it>=0;it--){var ot=rt[it];if(ot.path.length===0&&ot.op==="replace"){nt=ot.value;break}}it>-1&&(rt=rt.slice(it+1));var at=b$1("Patches").$;return r(nt)?at(nt,rt):this.produce(nt,function(st){return at(st,rt)})},tt}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);var produce=fn,__defProp$2=Object.defineProperty,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(tt,et,nt)=>et in tt?__defProp$2(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[et]=nt,__spreadValues$2=(tt,et)=>{for(var nt in et||(et={}))__hasOwnProp$2.call(et,nt)&&__defNormalProp$2(tt,nt,et[nt]);if(__getOwnPropSymbols$2)for(var nt of __getOwnPropSymbols$2(et))__propIsEnum$2.call(et,nt)&&__defNormalProp$2(tt,nt,et[nt]);return tt};const baseTheme=createTheme({typography:{fontFamily:"'Moderat', 'Inter', 'Source Sans Pro', sans-serif",h1:{fontStyle:"normal",fontWeight:"normal",fontSize:"2rem",lineHeight:"2.5rem",letterSpacing:0},h2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1.5rem",lineHeight:"2.125rem",letterSpacing:"0.069rem",fontFeatureSettings:'"zero" on'},h3:{fontStyle:"normal",fontWeight:500,fontSize:"1.125rem",lineHeight:"1.688rem",letterSpacing:"0.069rem"},h4:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.375rem",letterSpacing:"0.069rem",textTransform:"uppercase"},h5:{fontStyle:"normal",fontWeight:700,fontSize:"0.813rem",lineHeight:"1.125rem",letterSpacing:"0.038rem",textTransform:"uppercase"},h6:{fontStyle:"normal",fontWeight:"normal",fontSize:"0.625rem",lineHeight:"0.938rem",letterSpacing:"0.063rem"},body1:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on'},body2:{fontStyle:"normal",fontWeight:"normal",fontSize:"1rem",lineHeight:"1.688rem",letterSpacing:"0.063rem",fontFeatureSettings:'"zero" on',fontVariantNumeric:"tabular-nums"},button:{fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053.rem",textTransform:"uppercase"}}}),lightPalette={palette:{mode:"light",success:{main:"#34dea9",dark:"#2d8376"},info:{main:"#297ceb",dark:"#256faf",light:"#3BABFF"},error:{main:"#fd76a7",dark:"#7f5072"},warning:{main:"#ffb179",dark:"#94645f"},primary:{main:"#657197",light:"#BAC4E2",dark:"#3B4668"},secondary:{main:"#3babff",dark:"#76a7dc"},background:{default:"#FFFFFF",paper:"#F1F3F9"},common:{black:"#ffffff",white:"#000000"}}},darkPalette={palette:{mode:"dark",primary:{main:"#657197",dark:"#3B4668",light:"#BAC4E2",contrastText:"#ffffff"},secondary:{main:"#18d2ff",light:"#18d2ff",dark:"#256faf"},background:{default:"#2d3855",paper:"#2d3855"},common:{black:"#000000",white:"#ffffff"},text:{primary:"#bac4e2"},error:{main:"#ea719d",dark:"#7F5072"},warning:{main:"#a961e4",dark:"#564A94"},info:{main:"#20a0ff",dark:"#256FAF"},success:{main:"#2ec495",dark:"#2D8376"}}};function createComponents(tt){const et={components:{MuiCssBaseline:{styleOverrides:{body:{"&::-webkit-scrollbar, & *::-webkit-scrollbar":{background:"transparent",width:"0.5rem",height:"0.5rem"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{background:tt.palette.primary.light,borderRadius:"0.25rem"},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:tt.palette.primary.light},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:tt.palette.primary.light}}}},MuiLink:{styleOverrides:{root:{color:tt.palette.secondary.main}}},MuiDialogActions:{styleOverrides:{root:{padding:baseTheme.spacing(3)}}},MuiInputLabel:{styleOverrides:{root:{color:tt.palette.primary.light,"&.Mui-focused":{color:tt.palette.secondary.main}}}},MuiFilledInput:{styleOverrides:{root:{backgroundColor:tt.palette.primary.dark,borderTop:"1px solid transparent",":before":{borderBottom:`1px dotted ${tt.palette.primary.light}`},"&.Mui-focused":{background:tt.palette.common.black,border:`1px solid ${tt.palette.secondary.main}`,borderBottom:"none",borderTop:`1px solid ${tt.palette.secondary.main}`},":after":{borderBottom:`1px solid ${tt.palette.secondary.main}`}}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.87)",color:"white",padding:baseTheme.spacing(1.2)}}},MuiDialogTitle:{styleOverrides:{root:__spreadValues$2({color:tt.palette.common.white,fontStyle:"normal",fontWeight:500},baseTheme.typography.h3)}},MuiDialogContentText:{styleOverrides:{root:{color:tt.palette.primary.light}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{willChange:"background-color , color , border-color , box-shadow",transition:"background-color 200ms ease-in-out 0ms , color 200ms ease-in-out 0ms , border-color 200ms ease-in-out 0ms , box-shadow 200ms ease-in-out 0ms",borderRadius:40,boxShadow:`0 0 0 0rem ${tt.palette.primary.main}`,"&.Mui-disabled":{color:tt.palette.primary.main}},sizeSmall:{height:"1.25rem",fontWeight:500,fontSize:"0.688rem",lineHeight:"0.825rem",letterSpacing:"0.047rem"},sizeMedium:{height:"1.813rem",fontWeight:500},sizeLarge:{height:"2.563rem",fontWeight:500,fontSize:"0.875rem",lineHeight:"1.05rem",letterSpacing:"0.053rem"},containedPrimary:{background:tt.palette.primary.light,color:tt.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${tt.palette.primary.light}`,background:tt.palette.primary.light}}},containedSecondary:{color:tt.palette.common.black,"@media(hover: hover)":{"&:hover":{boxShadow:`0 0 0 0.4rem ${tt.palette.secondary.main}`,background:tt.palette.secondary.main}}},outlinedPrimary:{color:tt.palette.primary.light}}},MuiDialog:{styleOverrides:{paper:{background:tt.palette.background.paper}}},MuiNativeSelect:{styleOverrides:{root:{backgroundColor:tt.palette.primary.dark,borderTop:"1px solid transparent"},icon:{color:tt.palette.primary.light}}},MuiSelect:{styleOverrides:{icon:{color:tt.palette.primary.light}}},MuiSnackbarContent:{styleOverrides:{root:{backgroundColor:tt.palette.primary.dark,color:tt.palette.primary.light}}},MuiSwitch:{styleOverrides:{switchBase:{"&.Mui-checked+.MuiSwitch-track":{backgroundColor:tt.palette.common.black},"&.Mui-checked .MuiSwitch-thumb":{backgroundColor:tt.palette.secondary.main}},thumb:{backgroundColor:tt.palette.primary.light},track:{backgroundColor:tt.palette.common.black}}}}};return createTheme(tt,et)}createComponents(createTheme(baseTheme,darkPalette));createComponents(createTheme(baseTheme,lightPalette));react.exports.createContext(void 0);const millisecond=1,second=1e3,minute=60*second,hour=60*minute,day=24*hour,week=7*day,month=30*day,year=365*day,duration={millisecond,second,minute,hour,day,week,month,year},measures=new Set;let measureInterval;function Measure(tt){const{dimension:et,onResize:nt,children:rt}=tt,it=react.exports.useRef(null);return react.exports.useEffect(()=>{let ot=0,at=0;const st=()=>{if(!it.current)return;const lt=et==="offset"&&it.current.offsetWidth||et==="scroll"&&it.current.scrollWidth||it.current.clientWidth,ct=et==="offset"&&it.current.offsetHeight||et==="scroll"&&it.current.scrollHeight||it.current.clientHeight;(ot!==lt||at!==ct)&&(ot=lt,at=ct,nt(lt,ct))};return measures.add(st),st(),setInterval(()=>measures.forEach(lt=>lt()),.5*duration.second),()=>{measures.delete(st),measures.size===0&&clearInterval(measureInterval)}},[]),react.exports.createElement("div",__spreadValues$2({ref:it},tt),rt)}const icons={"add-small":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.71252 2.25V15.75H8.21252V2.25H9.71252Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.75 9.75L2.25 9.75V8.25L15.75 8.25V9.75Z"}),react.exports.createElement("path",{d:"M8.96252 3V15",strokeWidth:"1.5",strokeLinecap:"square"}),react.exports.createElement("path",{d:"M15 9L3 9",strokeWidth:"1.5",strokeLinecap:"square"})),annotation:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M17.1363 2.46967C17.4292 2.17678 17.9041 2.17678 18.197 2.46967L21.5303 5.803C21.8232 6.0959 21.8232 6.57077 21.5303 6.86366L12.8637 15.5303C12.723 15.671 12.5322 15.75 12.3333 15.75H9C8.58579 15.75 8.25 15.4142 8.25 15V11.6667C8.25 11.4678 8.32902 11.277 8.46967 11.1363L17.1363 2.46967ZM9.75 11.9773V14.25H12.0227L17.9337 8.33899L15.661 6.06631L9.75 11.9773ZM16.1913 5.53598L18.464 7.80866L19.9393 6.33333L17.6667 4.06066L16.1913 5.53598ZM5.875 7.375H10.25V5.625H5.48276C4.68367 5.625 4.125 6.29713 4.125 7.01293V19.3567C4.125 20.0725 4.68367 20.7446 5.48276 20.7446H18.5173C19.3164 20.7446 19.875 20.0725 19.875 19.3567V12.2963H18.125V18.9946H5.875V7.375Z"})),audio:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0765 16.751C17.3366 15.4908 18.0443 13.782 18.0443 12.0001C18.0443 10.2181 17.3366 8.50929 16.0765 7.24915L15 8.32564C15.9742 9.29986 16.5222 10.622 16.5222 12.0001C16.5222 13.3781 15.9742 14.7003 15 15.6745L16.0765 16.751Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1877 18.8621C20.0077 17.042 21.0305 14.574 21.0305 12C21.0305 9.42594 20.0077 6.95792 18.1877 5.13788L17.1343 6.19123C18.6752 7.73132 19.5404 9.82086 19.5404 12C19.5404 14.1791 18.6752 16.2686 17.1343 17.8087L18.1877 18.8621Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4393 4.14645C11.3843 3.2015 13 3.87075 13 5.20711V18.7929C13 20.1292 11.3843 20.7985 10.4393 19.8536L6.58579 16H3V8H6.58579L10.4393 4.14645ZM11 6.41422L7.41421 10H5V14H7.41421L11 17.5858V6.41422Z"})),"audio-muted":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.9437 4.17441L3.74457 3.37354L15.4854 15.1144C16.1543 14.2209 16.5222 13.1293 16.5222 12.0001C16.5222 10.622 15.9742 9.29986 15 8.32564L16.0765 7.24915C17.3366 8.50929 18.0443 10.2181 18.0443 12.0001C18.0443 13.5339 17.52 15.0134 16.5704 16.1994L17.6336 17.2626C18.8608 15.7922 19.5404 13.9313 19.5404 12C19.5404 9.82092 18.6752 7.73138 17.1343 6.19129L18.1877 5.13794C20.0077 6.95798 21.0305 9.426 21.0305 12C21.0305 14.3265 20.195 16.5664 18.6905 18.3195L20.4311 20.0601L19.6302 20.8609L2.9437 4.17441Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 5.20711C13 3.87075 11.3843 3.2015 10.4393 4.14645L6.70271 7.88307L8.11693 9.29729L11 6.41422V12.1804L13 14.1804V5.20711ZM13 15.7411L11 13.7411V17.5858L7.41421 14H5V10H7.25894L5.25894 8H3V16H6.58579L10.4393 19.8536C11.3843 20.7985 13 20.1292 13 18.7929V15.7411Z"})),"audio-volume-0":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4393 4.14645C11.3843 3.2015 13 3.87075 13 5.20711V18.7929C13 20.1292 11.3843 20.7985 10.4393 19.8536L6.58579 16H3V8H6.58579L10.4393 4.14645ZM11 6.41422L7.41421 10H5V14H7.41421L11 17.5858V6.41422Z"})),"audio-volume-half":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0765 16.751C17.3366 15.4908 18.0443 13.782 18.0443 12.0001C18.0443 10.2181 17.3366 8.50929 16.0765 7.24915L15 8.32564C15.9742 9.29986 16.5222 10.622 16.5222 12.0001C16.5222 13.3781 15.9742 14.7003 15 15.6745L16.0765 16.751Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4393 4.14645C11.3843 3.2015 13 3.87075 13 5.20711V18.7929C13 20.1292 11.3843 20.7985 10.4393 19.8536L6.58579 16H3V8H6.58579L10.4393 4.14645ZM11 6.41422L7.41421 10H5V14H7.41421L11 17.5858V6.41422Z"})),"arrow-down":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M11 20V4H13V20H11Z"}),react.exports.createElement("path",{d:"M12 18.5858L6.70712 13.2929L5.29291 14.7071L11.2929 20.7071C11.6834 21.0976 12.3166 21.0976 12.7071 20.7071L18.7071 14.7071L17.2929 13.2929L12 18.5858Z"})),"arrow-left":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M4 11H20V13H4V11Z"}),react.exports.createElement("path",{d:"M5.41421 12L10.7071 6.70711L9.29289 5.29289L3.29289 11.2929C2.90237 11.6834 2.90237 12.3166 3.29289 12.7071L9.29289 18.7071L10.7071 17.2929L5.41421 12Z"})),"arrow-right":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M20 13H4V11H20V13Z"}),react.exports.createElement("path",{d:"M18.5858 12L13.2929 6.70711L14.7071 5.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L14.7071 18.7071L13.2929 17.2929L18.5858 12Z"})),"arrow-up":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M13 4V20H11V4H13Z"}),react.exports.createElement("path",{d:"M11.2929 3.29289C11.6834 2.90237 12.3166 2.90237 12.7071 3.29289L18.7071 9.29289L17.2929 10.7071L12 5.41421L6.70712 10.7071L5.29291 9.29289L11.2929 3.29289Z"})),board:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M10.9,8.5c0,2.7-1.6,4.1-3.4,4.1c-1.8,0-3.3-1.4-3.3-3.9c0-2.5,1.4-4.1,3.4-4.1C9.6,4.6,10.9,6.2,10.9,8.5z M6,8.6
    c0,1.5,0.5,2.6,1.5,2.6c1,0,1.5-1,1.5-2.6C9,7.2,8.6,6,7.5,6C6.5,6,6,7.2,6,8.6z M7.5,18.1l7.5-13.4h1.4L8.9,18.1H7.5z M19.8,13.9
    c0,2.7-1.6,4.1-3.4,4.1c-1.8,0-3.3-1.4-3.3-3.9c0-2.5,1.4-4.1,3.4-4.1C18.6,10,19.8,11.6,19.8,13.9z M15,14c0,1.5,0.5,2.6,1.5,2.6
    c1,0,1.5-1,1.5-2.6c0-1.4-0.4-2.6-1.5-2.6C15.5,11.4,15,12.6,15,14z`})),arrow:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:"30.4,15 29.3,16.1 33,19.8 4.1,19.8 4.1,21.2 33,21.2 29.3,24.9 30.4,26 35.9,20.5 "})),assistance:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M19.5,12c0-1.2-0.9-2.3-2.1-2.5c0-2-1.2-5.6-5.2-5.6C8.2,4,7,7.5,7,9.5c-1.4,0-2.5,1.1-2.5,2.5
        c0,1.4,1.1,2.5,2.5,2.5v0h1.5V9.7c0-0.2,0-4.2,3.7-4.2s3.7,4,3.7,4.2v4.6c0,1.7-0.5,2.8-1.6,3.5c-0.3-0.7-1-1.2-1.8-1.2
        c-1.1,0-2,0.9-2,2s0.9,2,2,2c0.8,0,1.4-0.4,1.8-1.1l0,0c1.4-0.6,3-1.9,3.1-5C18.6,14.3,19.5,13.2,19.5,12z M5.5,12
        c0-0.8,0.7-1.5,1.5-1.5v3C6.2,13.5,5.5,12.8,5.5,12z M12.5,19.5c-0.6,0-1-0.4-1-1s0.4-1,1-1c0.6,0,1,0.4,1,1S13.1,19.5,12.5,19.5z
         M17.4,13.4v-2.9c0.6,0.2,1.1,0.8,1.1,1.4S18,13.3,17.4,13.4z`})),battery:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M16,16.9H4.9c-1.1,0-2-0.9-2-2V8.8c0-1.1,0.9-2,2-2H16c1.1,0,2,0.9,2,2v6.1C18,16,17.1,16.9,16,16.9z M4.9,8.8
	v6.1H16l0-6.1H4.9L4.9,8.8z`}),react.exports.createElement("path",{d:`M20,13.7c-0.5,0-0.9-0.4-0.9-0.9v-1.7c0-0.5,0.4-0.9,0.9-0.9c0.5,0,0.9,0.4,0.9,0.9v1.7
	C20.8,13.3,20.4,13.7,20,13.7z`})),bitset:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M15.3,8.7V4H4v11.3h4.7V20H20V8.7H15.3z M10,13.8V10h3.8v0.2H14V14h-3.8v-0.2H10z M5.5,13.8V5.5h8.3V9H9v4.8
            H5.5z M18.5,18.5h-8.3V15H15v-4.8h3.5V18.5z`})),capture:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M12,10L12,10c1.1,0,2,0.9,2,2l0,0c0,1.1-0.9,2-2,2l0,0c-1.1,0-2-0.9-2-2l0,0
	C10,10.9,10.9,10,12,10z`}),react.exports.createElement("path",{d:`M14.4,13.8C13.8,14.5,13,15,12,15s-1.8-0.5-2.4-1.2L9,14.6c0.7,0.8,1.8,1.4,3,1.4c1.2,0,2.3-0.5,3-1.4
	L14.4,13.8z`}),react.exports.createElement("path",{d:"M12,8c-1.2,0-2.3,0.5-3,1.4l0.6,0.8C10.2,9.5,11,9,12,9s1.8,0.5,2.4,1.2L15,9.4C14.3,8.5,13.2,8,12,8z"}),react.exports.createElement("path",{d:`M15.7,15.4c-0.9,1-2.2,1.6-3.7,1.6s-2.7-0.6-3.7-1.6l-0.7,0.8C8.8,17.3,10.3,18,12,18s3.2-0.7,4.3-1.8
	L15.7,15.4z`}),react.exports.createElement("path",{d:"M12,6c-1.7,0-3.2,0.7-4.3,1.8l0.7,0.8C9.3,7.6,10.6,7,12,7s2.7,0.6,3.7,1.6l0.7-0.8C15.2,6.7,13.7,6,12,6z"}),react.exports.createElement("path",{d:`M17.6,17.7L17,16.9c-1.3,1.3-3,2.1-5,2.1c-1.9,0-3.7-0.8-5-2.1l-0.6,0.8C7.9,19.1,9.8,20,12,20
	S16.1,19.1,17.6,17.7z`}),react.exports.createElement("path",{d:"M6.4,6.3L7,7.1c1.3-1.3,3-2.1,5-2.1c1.9,0,3.7,0.8,5,2.1l0.6-0.8C16.1,4.9,14.2,4,12,4S7.9,4.9,6.4,6.3z"})),channel:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M18.1,10.2V8.8h-2.4l0.7-3.6L15,4.9l-0.8,3.9h-3.5l0.7-3.6L10,4.9L9.2,8.8H6.5v1.5h2.4l-0.7,3.5H5.5v1.5h2.4
	l-0.7,3.5L8.7,19l0.7-3.8h3.5l-0.7,3.5l1.5,0.3l0.7-3.8h2.7v-1.5h-2.4l0.7-3.5H18.1z M13.2,13.8H9.8l0.7-3.5h3.5L13.2,13.8z`})),check:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:"9.4,18.5 5.4,12.4 6.6,11.6 9.5,16 17.6,6.5 18.7,7.5 "})),"chevron-up":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M11.2929 8.29289C11.6834 7.90237 12.3166 7.90237 12.7071 8.29289L19.4142 15L18 16.4142L12 10.4142L6.00003 16.4142L4.58582 15L11.2929 8.29289Z"})),"chevron-down":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M6.00003 7.58579L12 13.5858L18 7.58579L19.4142 9L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L4.58582 9L6.00003 7.58579Z"})),"chevron-left":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M15.0142 6L9.01419 12L15.0142 18L13.6 19.4142L6.89287 12.7071C6.50234 12.3166 6.50234 11.6834 6.89287 11.2929L13.6 4.58579L15.0142 6Z"})),"chevron-right":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M10.0142 4.58579L16.7213 11.2929C17.1118 11.6834 17.1118 12.3166 16.7213 12.7071L10.0142 19.4142L8.59998 18L14.6 12L8.59998 6L10.0142 4.58579Z"})),clock:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM7 12.8892V11.8591L11.5502 11.6368L11.8007 7H12.9987L13.2943 12.2667C13.2981 12.3 13.3 12.3339 13.3 12.3683C13.3 12.3683 13.3 12.3683 13.3 12.3683C13.3 12.8624 12.8995 13.263 12.4053 13.263C12.2269 13.263 12.0607 13.2107 11.9211 13.1207L7 12.8892Z"}),react.exports.createElement("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2",fill:"none"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.8592L7 12.8893L12.3029 13.1388L12.3029 11.6001L7 11.8592Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9985 7H11.8005L11.5104 12.3683H13.2998L12.9985 7Z"}),react.exports.createElement("circle",{r:"0.89471",transform:"matrix(-1 0 0 1 12.4051 12.3683)"})),clone:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M10,14c-0.9,0-1.7,0-2.6,0C6.6,14,6,13.4,6,12.6c0-1.7,0-3.4,0-5.2C6,6.6,6.6,6,7.4,6c1.7,0,3.5,0,5.2,0
	C13.4,6,14,6.6,14,7.4c0,1.8,0,3.5,0,5.3c0,0.8-0.6,1.4-1.4,1.4C11.8,14,10.9,14,10,14z M12.6,12.7c0-1.8,0-3.5,0-5.3
	c-1.8,0-3.5,0-5.3,0c0,1.8,0,3.5,0,5.3C9.1,12.7,10.9,12.7,12.6,12.7z`}),react.exports.createElement("path",{d:`M10,15.3c0.5,0,0.9,0,1.3,0c0,0.4,0,0.9,0,1.3c1.8,0,3.5,0,5.3,0c0-1.8,0-3.5,0-5.3c-0.4,0-0.9,0-1.3,0c0-0.5,0-0.9,0-1.3
	c0.3,0,0.6,0,0.9,0c0.2,0,0.5,0,0.7,0c0.6,0.1,1.1,0.7,1.1,1.3c0,1.8,0,3.6,0,5.4c0,0.7-0.6,1.3-1.3,1.3c-1.8,0-3.6,0-5.4,0
	c-0.7,0-1.3-0.6-1.3-1.3C10,16.2,10,15.8,10,15.3z`})),close:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M15.9,16.2c0.2,0,0.3-0.1,0.4-0.2c0.1-0.1,0.2-0.2,0.2-0.4s-0.1-0.3-0.2-0.4l-3.5-3.5l3.5-3.5
	c0.1-0.1,0.2-0.2,0.2-0.4s-0.1-0.3-0.2-0.4S16,7.4,15.9,7.4s-0.3,0.1-0.4,0.2L12,11L8.5,7.6C8.4,7.4,8.3,7.4,8.1,7.4
	S7.9,7.4,7.8,7.5S7.6,7.8,7.6,7.9s0.1,0.3,0.2,0.4l3.5,3.5l-3.5,3.5c-0.1,0.1-0.2,0.2-0.2,0.4s0.1,0.3,0.2,0.4
	c0.1,0.1,0.2,0.2,0.4,0.2s0.3-0.1,0.4-0.2l3.5-3.5l3.5,3.5C15.6,16.1,15.7,16.2,15.9,16.2z`})),"close-large":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:`27.5,14.5 26.5,13.5 20.5,19.4 14.5,13.5 13.5,14.5 19.4,20.5 13.5,26.5 14.5,27.5 20.5,21.6 
	26.5,27.5 27.5,26.5 21.6,20.5 `})),command:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:"3.7,6.2 8.1,11.6 3.7,17 5,18.1 10.3,11.6 5,5.1 "}),react.exports.createElement("rect",{x:"11",y:"17",width:"9",height:"1"})),comment:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M16.2,20.7l-4.5-3.9H5c-0.7,0-1.2-0.6-1.2-1.2v-9c0-0.7,0.6-1.2,1.2-1.2h14c0.7,0,1.2,0.6,1.2,1.2v9
	c0,0.7-0.6,1.2-1.2,1.2h-2.8V20.7z M5.2,15.2h6.9l2.5,2.2v-2.2h4.1V6.8H5.2V15.2z`})),configuration:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M5.2,9.5h7.5c1,0,1.8-0.8,1.8-1.8V6.2c0-1-0.8-1.8-1.8-1.8H5.2c-1,0-1.8,0.8-1.8,1.8v1.5
	C3.5,8.7,4.3,9.5,5.2,9.5z M5,6.2C5,6.1,5.1,6,5.2,6h7.5C12.9,6,13,6.1,13,6.2v1.5C13,7.9,12.9,8,12.8,8H5.2C5.1,8,5,7.9,5,7.8V6.2z
	`}),react.exports.createElement("path",{d:`M20,9.2l-1.3-1.3c-0.5-0.5-1.3-0.5-1.7,0l-6.7,6.7L8,19.9l5.3-2.2l6.7-6.7c0.2-0.2,0.4-0.5,0.4-0.9
	S20.3,9.4,20,9.2z M17.9,9.1l0.9,0.9l-0.8,0.8L17,9.9L17.9,9.1z M12.5,16.3L10.8,17l0.7-1.6l4.8-4.8l0.9,0.9L12.5,16.3z`}),react.exports.createElement("path",{d:`M9.1,14.1H6c-0.7,0-1.2-0.4-1.2-1.1s0.6-1.1,1.2-1.1h5.2l1.6-1.5H6c-1.5,0-2.8,1.1-2.8,2.6s1.2,2.6,2.7,2.6h2.3
	L9.1,14.1z`}),react.exports.createElement("rect",{x:"8",y:"12.5",width:"2.1",height:"1"}),react.exports.createElement("rect",{x:"8",y:"6.5",width:"2.1",height:"1"})),copy:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M9 7H20V21H9V7ZM11 9V19H18V9H11Z"}),react.exports.createElement("path",{d:"M5 3H16V6H14V5H7V15H8V17H5V3Z"})),critical:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M16,3.1H8.1l-5,5V16l5,5H16l5-5V8.1L16,3.1z M19.5,15.4l-4.1,4.1H8.7l-4.2-4.1V8.7l4.2-4.1h6.7l4.1,4.1V15.4z"}),react.exports.createElement("polygon",{points:`14.9,8.5 12,11.3 9.2,8.5 8.5,9.2 11.3,12 8.5,14.9 9.2,15.6 12,12.7 14.9,15.6 15.6,14.9 12.8,12 
    15.6,9.2 	`})),cube:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M12,20.7c-0.2,0-0.3,0-0.5-0.1l-7.2-4.2V7.6l7.2-4.2c0.3-0.2,0.7-0.2,0.9,0l7.2,4.2v8.9l-7.2,4.2
	C12.3,20.7,12.2,20.7,12,20.7z M5.8,15.6l6.2,3.6l6.2-3.6V8.4L12,4.9L5.8,8.4V15.6z`}),react.exports.createElement("polygon",{points:"12,12.2 4.8,8.4 5.2,7.6 12,11.1 18.3,7.6 18.8,8.4 "}),react.exports.createElement("rect",{x:"11.5",y:"11.7",width:"1",height:"8.3"})),delete:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("rect",{x:"10",y:"10",width:"1",height:"5.3"}),react.exports.createElement("rect",{x:"13",y:"10",width:"1",height:"5.3"}),react.exports.createElement("path",{d:"M15,7V5H9v2H6v1h3h6h3V7H15z M10,7V6h4v1H10z"}),react.exports.createElement("path",{d:"M15.5,16.5h-7V9H7v7.9c0,0.6,0.5,1,1,1h7.9c0.6,0,1-0.5,1-1V9h-1.5V16.5z"})),device:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M13.5 7.70029V7.69974C13.5 6.87146 12.8286 6.20001 12.0003 6.20001C11.172 6.20001 10.5005 6.87146 10.5005 7.69974V7.70029C10.5005 8.52856 11.172 9.20001 12.0003 9.20001C12.8286 9.20001 13.5 8.52856 13.5 7.70029Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.3001 2.95222C20.1357 4.28579 20.6188 5.86275 20.6188 7.55254C20.6188 9.20946 20.1543 10.7579 19.3485 12.0747L18.4752 11.5855C19.2003 10.4135 19.6188 9.03192 19.6188 7.55254C19.6188 6.04025 19.1814 4.6301 18.4264 3.44167L19.3001 2.95222ZM4.56629 12.1225C3.74235 10.7954 3.26656 9.22953 3.26656 7.55254C3.26656 5.84266 3.76119 4.24831 4.61518 2.90477L5.48925 3.3944C4.71559 4.59264 4.26656 6.02015 4.26656 7.55254C4.26656 9.052 4.6965 10.451 5.43981 11.6331L4.56629 12.1225ZM17.4523 11.0124C18.083 10.0103 18.4478 8.82404 18.4478 7.55256C18.4478 6.2481 18.0638 5.03332 17.4027 4.01507L16.528 4.50506C17.1091 5.37766 17.4478 6.42556 17.4478 7.55256C17.4478 8.64652 17.1287 9.66595 16.5785 10.5229L17.4523 11.0124ZM7.33746 10.57L6.46311 11.0598C5.81401 10.0478 5.43761 8.84413 5.43761 7.55256C5.43761 6.22799 5.8335 4.99587 6.51342 3.9681L7.38877 4.45844C6.78848 5.34022 6.43761 6.40541 6.43761 7.55256C6.43761 8.66663 6.76854 9.70341 7.33746 10.57ZM15.5552 9.94955C16.0111 9.26334 16.2767 8.43976 16.2767 7.55414V7.55255C16.2767 6.6333 15.9905 5.78089 15.5024 5.07956L14.6245 5.57134C15.0344 6.12524 15.2767 6.81059 15.2767 7.55255V7.55414C15.2767 8.26233 15.0559 8.91895 14.6794 9.45891L15.5552 9.94955ZM9.23858 9.50485L8.36162 9.99617C7.8865 9.30078 7.60865 8.45991 7.60865 7.55414V7.55255C7.60865 6.6131 7.90755 5.74346 8.41545 5.03355L9.2949 5.52618C8.86445 6.08779 8.60865 6.7903 8.60865 7.55255V7.55414C8.60865 8.28254 8.84224 8.95638 9.23858 9.50485Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1257 17.5H11V16.5H13.1257V17.5Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 15C5 13.8954 5.89543 13 7 13H17C18.1046 13 19 13.8954 19 15V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V15ZM17 15H7V19H17V15Z"})),down:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M7.4,8.9l4.6,4.6l4.6-4.6l1.1,1.1l-4.9,4.9c-0.4,0.4-1.1,0.4-1.6,0L6.4,9.9L7.4,8.9z"})),dropdown:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M8.575 10.475C8.36266 10.475 8.17123 10.6029 8.08997 10.7991C8.00871 10.9953 8.05362 11.2211 8.20377 11.3712L12.4464 15.6139C12.6514 15.8189 12.9838 15.8189 13.1889 15.6139L17.4315 11.3712C17.5817 11.2211 17.6266 10.9953 17.5453 10.7991C17.4641 10.6029 17.2726 10.475 17.0603 10.475H8.575Z"})),download:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M15.1002 11.0628L13 13.0805V3.63892H11V13.087L8.91385 11.0008L7.47159 12.3864L11.9486 16.8634L16.5144 12.477L15.1002 11.0628ZM5 19V16H3V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V16H19V19H5Z"})),"download-18":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M15.1002 11.0628L13 13.0805V3.63892H11V13.087L8.91385 11.0008L7.47159 12.3864L11.9486 16.8634L16.5144 12.477L15.1002 11.0628ZM5 19V16H3V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V16H19V19H5Z"})),duration:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m 12,4 c -4.41828,0 -8,3.58172 -8,8 0,4.4183 3.58172,8 8,8 4.4183,0 8,-3.5817 8,-8 C 20,7.58172 16.4183,4 12,4 Z M 2,12 C 2,6.47715 6.47715,2 12,2 17.5228,2 22,6.47715 22,12 22,17.5228 17.5228,22 12,22 6.47715,22 2,17.5228 2,12 Z"}),react.exports.createElement("path",{d:"m 11.5632,5.55493 c 0.9752,-0.14376 1.4909,0.00703 2.4296,0.30828 0.9386,0.30126 1.7956,0.81384 2.505,1.4983 0.7094,0.68447 1.2523,1.52256 1.587,2.4498 0.3347,0.92719 0.4915,1.66819 0.3827,2.64799 h -6.9043 z"})),edit:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M18,8.2l-1.3-1.3c-0.5-0.5-1.3-0.5-1.7,0l-6.7,6.7L6,18.9l5.3-2.2L18,9.9c0.2-0.2,0.4-0.5,0.4-0.9
	S18.3,8.4,18,8.2z M10.5,15.3L8.8,16l0.7-1.6l4.8-4.8l0.9,0.9L10.5,15.3z M16,9.8l-1-0.9l0.9-0.8L16.8,9L16,9.8z`})),"edit-layout":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M21 13.6667H17V15.6667H19V19H15.6667V17H13.6667V21H21V13.6667Z"}),react.exports.createElement("path",{d:"M15 3H3V15H15V3ZM13 5V13H5V5H13Z"}),react.exports.createElement("path",{d:"M9.40002 19V17H11.4V21H3.00002V17H5.00002V19H9.40002Z"}),react.exports.createElement("path",{d:"M21 3H16V5H19V9.4H16V11.4H21V3Z"})),error:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M20.5,20.2h-17c-0.2,0-0.4-0.1-0.5-0.3c-0.1-0.2-0.1-0.4,0-0.6l8.5-15.9c0.2-0.4,0.8-0.4,1.1,0L21,19.3
	c0.1,0.2,0.1,0.4,0,0.6C20.9,20.1,20.7,20.2,20.5,20.2z M4.5,19h15L12,5L4.5,19z`}),react.exports.createElement("path",{d:`M12.5,14.9C12.4,15,12.3,15,12.1,15c-0.2,0-0.3-0.1-0.4-0.2s-0.2-0.2-0.2-0.4V9.5
	c0-0.2,0.1-0.3,0.2-0.4S11.9,9,12.1,9c0.2,0,0.3,0.1,0.4,0.2s0.2,0.2,0.2,0.4v4.9C12.7,14.6,12.6,14.7,12.5,14.9z`}),react.exports.createElement("path",{d:`M11.6,17.3c-0.1-0.1-0.2-0.3-0.2-0.5s0.1-0.4,0.2-0.5c0.1-0.1,0.3-0.2,0.5-0.2s0.4,0.1,0.5,0.2
	c0.1,0.1,0.2,0.3,0.2,0.5s-0.1,0.4-0.2,0.5c-0.1,0.1-0.3,0.2-0.5,0.2S11.7,17.4,11.6,17.3z`})),event:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M17.9,16.8H17V10c0-2.6-2-4.7-4.4-4.9V4.3h-1V5C9,5.3,7,7.4,7,10v6.8H6v1.5h5V19c0,0.6,0.4,1,1,1
c0.6,0,1-0.4,1-1v-0.8h4.9V16.8z M8.5,10c0-1.9,1.6-3.5,3.5-3.5s3.5,1.6,3.5,3.5v6.5h-7V10z`})),expand:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M20 4H15V2H21C21.5523 2 22 2.44772 22 3V9H20V4Z"}),react.exports.createElement("path",{d:"M4 20V15H2V21C2 21.5523 2.44772 22 3 22H9V20H4Z"}),react.exports.createElement("path",{d:"M13.2928 9.29289L20.2928 2.29289L21.7071 3.70711L14.7071 10.7071L13.2928 9.29289Z"}),react.exports.createElement("path",{d:"M10.7071 13.2929C11.0976 13.6834 11.0976 14.3166 10.7071 14.7071L3.70711 21.7071C3.31658 22.0976 2.68342 22.0976 2.29289 21.7071C1.90237 21.3166 1.90237 20.6834 2.29289 20.2929L9.29289 13.2929C9.68342 12.9024 10.3166 12.9024 10.7071 13.2929Z"})),eye:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("g",{transform:"matrix(0.05086977,0,0,0.05086977,0.94317968,1.47373)"},react.exports.createElement("g",null,react.exports.createElement("g",null,react.exports.createElement("path",{d:"M 436.583,210.464 C 435.553,208.808 410.899,169.49 371.394,131.298 336.405,97.472 281.665,57.15 219.588,57.15 157.511,57.15 102.772,97.472 67.782,131.298 28.173,169.591 3.626,208.81 2.601,210.459 c -3.466,5.545 -3.467,12.707 -0.005,18.248 1.028,1.654 25.603,40.9 65.187,79.17 34.989,33.826 89.729,74.148 151.806,74.148 120.236,0 213.097,-147.055 216.993,-153.312 3.459,-5.545 3.46,-12.706 0.001,-18.249 z m -36.609,10.859 c -11.508,16.269 -35.521,47.647 -67.053,75.038 -39.101,33.967 -77.231,51.189 -113.333,51.189 -36.103,0 -74.232,-17.223 -113.332,-51.188 C 74.729,268.974 50.711,237.591 39.2,221.324 l -1.226,-1.732 1.226,-1.732 c 11.506,-16.268 35.519,-47.647 67.056,-75.046 39.101,-33.967 77.23,-51.189 113.332,-51.189 36.101,0 74.232,17.223 113.333,51.189 31.542,27.403 55.55,58.78 67.053,75.046 l 1.227,1.732 z"}),react.exports.createElement("path",{d:"m 219.588,106.224 c -62.509,0 -113.364,50.856 -113.364,113.367 0,62.509 50.855,113.364 113.364,113.364 62.508,0 113.364,-50.854 113.364,-113.364 0,-62.51 -50.856,-113.367 -113.364,-113.367 z m 0,192.253 c -43.5,0 -78.891,-35.387 -78.891,-78.885 0,-43.502 35.391,-78.893 78.891,-78.893 43.5,0 78.889,35.391 78.889,78.893 0,43.498 -35.39,78.885 -78.889,78.885 z"}),react.exports.createElement("path",{d:"m 219.588,182.108 c -20.664,0 -37.475,16.814 -37.475,37.482 0,20.662 16.811,37.473 37.475,37.473 20.665,0 37.476,-16.812 37.476,-37.473 0,-20.667 -16.812,-37.482 -37.476,-37.482 z"}))))),eye_closed:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("g",{transform:"matrix(0.05086977,0,0,0.05086977,0.94317968,1.47373)"},react.exports.createElement("g",null,react.exports.createElement("g",null,react.exports.createElement("path",{d:"M 436.583,210.464 C 435.553,208.808 410.899,169.49 371.394,131.298 336.405,97.472 281.665,57.15 219.588,57.15 157.511,57.15 102.772,97.472 67.782,131.298 28.173,169.591 3.626,208.81 2.601,210.459 c -3.466,5.545 -3.467,12.707 -0.005,18.248 1.028,1.654 25.603,40.9 65.187,79.17 34.989,33.826 89.729,74.148 151.806,74.148 120.236,0 213.097,-147.055 216.993,-153.312 3.459,-5.545 3.46,-12.706 0.001,-18.249 z m -36.609,10.859 c -11.508,16.269 -35.521,47.647 -67.053,75.038 -39.101,33.967 -77.231,51.189 -113.333,51.189 -36.103,0 -74.232,-17.223 -113.332,-51.188 C 74.729,268.974 50.711,237.591 39.2,221.324 l -1.226,-1.732 1.226,-1.732 c 11.506,-16.268 35.519,-47.647 67.056,-75.046 39.101,-33.967 77.23,-51.189 113.332,-51.189 36.101,0 74.232,17.223 113.333,51.189 31.542,27.403 55.55,58.78 67.053,75.046 l 1.227,1.732 z"}))))),collapse:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M9 15H4V13H10C10.5523 13 11 13.4477 11 14V20H9V15Z"}),react.exports.createElement("path",{d:"M15 9V4H13V10C13 10.5523 13.4477 11 14 11H20V9H15Z"}),react.exports.createElement("path",{d:"M13.2929 9.29291L20.2929 2.29291L21.7071 3.70712L14.7071 10.7071L13.2929 9.29291Z"}),react.exports.createElement("path",{d:"M10.7071 13.2929C11.0976 13.6834 11.0976 14.3166 10.7071 14.7071L3.70711 21.7071C3.31658 22.0976 2.68342 22.0976 2.29289 21.7071C1.90237 21.3166 1.90237 20.6834 2.29289 20.2929L9.29289 13.2929C9.68342 12.9024 10.3166 12.9024 10.7071 13.2929Z"})),favorite:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M12,19.5l-6.4-6.4c-1.7-1.7-1.7-4.6,0-6.3c1.7-1.7,4.4-1.8,6.2-0.1L12,6.8l0,0c1.7-1.7,4.6-1.7,6.3,0
	s1.7,4.6,0,6.3L12,19.5z M8.8,7C8,7,7.3,7.3,6.7,7.9C5.5,9,5.5,11,6.7,12.1l5.3,5.3l5.3-5.3c1.2-1.2,1.2-3.1,0-4.3
	c-1.2-1.2-3.1-1.2-4.3,0l-1,1.1l-1.2-1.2C10.3,7.2,9.5,7,8.8,7z`})),file:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M13.4,4H6v16h12V8.5L13.4,4z M15.6,9H13V6.4L15.6,9z M16.5,18.5h-9v-13H12V10h4.5V18.5z"})),filter:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("rect",{x:"6",y:"8",width:"12",height:"1.5"}),react.exports.createElement("rect",{x:"9",y:"12",width:"6",height:"1.5"}),react.exports.createElement("rect",{x:"11",y:"16",width:"2",height:"1.5"})),gamepad:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M2.257,8.878L0.948,18.697L5.553,18.697L8.046,16.204C8.219,16.031 8.453,15.934 8.698,15.934L15.343,15.934C15.563,15.934 15.776,16.013 15.943,16.156C15.943,16.156 18.907,18.697 18.907,18.697L23.052,18.697L21.743,8.878C21.438,6.591 19.486,4.882 17.178,4.882C17.178,4.882 6.822,4.882 6.822,4.882C4.514,4.882 2.562,6.591 2.257,8.878L2.257,8.878ZM4.083,9.122C4.266,7.749 5.437,6.724 6.822,6.724L17.178,6.724C18.563,6.724 19.734,7.749 19.917,9.122L20.948,16.855C20.948,16.855 19.589,16.855 19.589,16.855C19.589,16.855 17.141,14.757 17.141,14.757C16.641,14.328 16.003,14.092 15.343,14.092C15.343,14.092 8.698,14.092 8.698,14.092C7.965,14.092 7.262,14.383 6.744,14.901C6.744,14.901 4.79,16.855 4.79,16.855C4.79,16.855 3.052,16.855 3.052,16.855C3.052,16.855 4.083,9.122 4.083,9.122Z"}),react.exports.createElement("rect",{x:"7.329",y:"8.106",width:"0.903",height:"4.513"}),react.exports.createElement("path",{d:"M10.037,10.813L10.037,9.911L5.524,9.911L5.524,10.813L10.037,10.813Z"}),react.exports.createElement("path",{d:"M18.504,10.36C18.504,9.978 18.195,9.669 17.814,9.669C17.432,9.669 17.123,9.978 17.123,10.36C17.123,10.741 17.432,11.05 17.814,11.05C18.195,11.05 18.504,10.741 18.504,10.36Z"}),react.exports.createElement("path",{d:"M15.223,10.357C15.223,9.975 14.914,9.666 14.533,9.666C14.151,9.666 13.842,9.975 13.842,10.357C13.842,10.738 14.151,11.047 14.533,11.047C14.914,11.047 15.223,10.738 15.223,10.357Z"}),react.exports.createElement("path",{d:"M16.181,8.106C15.8,8.106 15.49,8.415 15.49,8.796C15.49,9.178 15.8,9.487 16.181,9.487C16.562,9.487 16.872,9.178 16.872,8.796C16.872,8.415 16.562,8.106 16.181,8.106Z"}),react.exports.createElement("path",{d:"M16.181,11.237C15.8,11.237 15.49,11.546 15.49,11.928C15.49,12.309 15.8,12.618 16.181,12.618C16.562,12.618 16.872,12.309 16.872,11.928C16.872,11.546 16.562,11.237 16.181,11.237Z"})),group:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 3C21.1046 3 22 3.89543 22 5L22 9C22 10.1046 21.1046 11 20 11L15 11C13.8954 11 13 10.1046 13 9L13 5C13 3.89543 13.8954 3 15 3L20 3ZM20 5L15 5L15 9L20 9L20 5ZM11 5C11 3.89543 10.1046 3 9 3L4 3C2.89543 3 2 3.89543 2 5L2 9C2 10.1046 2.89543 11 4 11L9 11C10.1046 11 11 10.1046 11 9L11 5ZM4 5L9 5L9 9L4 9L4 5ZM19 7.5L16 7.5L16 6.5L19 6.5L19 7.5ZM8 7.5L5 7.5L5 6.5L8 6.5L8 7.5ZM16 17.5L19 17.5L19 16.5L16 16.5L16 17.5ZM20 13C21.1046 13 22 13.8954 22 15L22 19C22 20.1046 21.1046 21 20 21L15 21C13.8954 21 13 20.1046 13 19L13 15C13 13.8954 13.8954 13 15 13L20 13ZM20 15L15 15L15 19L20 19L20 15Z"}),react.exports.createElement("path",{d:"M3.52351 20.3795L3.52367 20.3793C3.7533 20.1497 3.75326 19.7773 3.52359 19.5477C3.29392 19.318 2.92157 19.318 2.69194 19.5476L2.69179 19.5477C2.46216 19.7774 2.46219 20.1497 2.69186 20.3794C2.92154 20.6091 3.29388 20.6091 3.52351 20.3795Z"}),react.exports.createElement("path",{d:"M6.09843 20.5289C6.02913 19.6227 5.64793 18.7358 4.95483 18.0427C4.28059 17.3684 3.42297 16.9894 2.54252 16.9054L2.53982 17.8205C3.18743 17.9004 3.81421 18.189 4.31137 18.6861C4.82744 19.2022 5.11872 19.8579 5.18523 20.5316L6.09843 20.5289Z"}),react.exports.createElement("path",{d:"M2.54837 14.9242L2.54567 15.8362C3.69841 15.9233 4.82677 16.4076 5.70832 17.2892C6.60872 18.1896 7.09472 19.3474 7.16631 20.5258L8.07759 20.5231C8.00446 19.1125 7.42919 17.7231 6.35178 16.6457C5.29321 15.5871 3.93346 15.0133 2.54837 14.9242Z"}),react.exports.createElement("path",{d:"M2.55421 12.9458C4.44348 13.0382 6.30587 13.8059 7.74873 15.2487C9.21043 16.7104 9.97917 18.6027 10.055 20.5172L9.14428 20.5199C9.06963 18.8375 8.38997 17.1769 7.10528 15.8922C5.83942 14.6263 4.20859 13.9479 2.55152 13.8569L2.55421 12.9458Z"})),forward:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:"12.5,6 11.4,7.1 15.1,10.8 6,10.8 6,12.2 15.1,12.2 11.4,15.9 12.5,17 18,11.5 "})),fullscreen:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.99997 5.20001L4.99997 10L2.99997 10L2.99997 5.2C2.99997 3.98498 3.98495 3 5.19998 3L10 3L10 5L5.19998 5C5.08952 5 4.99997 5.08954 4.99997 5.20001Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.20001 19.0001L10.0001 19.0001L10.0001 21.0001L5.20001 21.0001C3.98496 21.0001 2.99998 20.0152 2.99998 18.8001L2.99998 14L4.99998 14L4.99998 18.8001C4.99998 18.9106 5.08953 19.0001 5.20001 19.0001Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10L19 5.2C19 5.08954 18.9105 5 18.8 5L14 5L14 3L18.8 3C20.015 3 21 3.98497 21 5.2L21 10L19 10Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8 19.0001C18.9104 19.0001 19 18.9106 19 18.8001L19 14L21 14L21 18.8001C21 20.0152 20.015 21.0001 18.8 21.0001L13.9999 21.0001L13.9999 19.0001L18.8 19.0001Z"})),goal:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M6.75,4.79L19.175,4.79L17.203,9.04L19.175,13.29L6.75,13.29L6.75,20.46L5.25,20.46L5.25,3.54L6.75,3.54L6.75,4.79ZM6.75,11.79L16.825,11.79L15.549,9.04L16.825,6.29L6.75,6.29L6.75,11.79Z"})),hardware:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1.5",strokeWidth:"2"}),react.exports.createElement("rect",{x:"21.9375",y:"9.1875",width:"1",height:"3",transform:"rotate(90 21.9375 9.1875)"}),react.exports.createElement("rect",{x:"21.9375",y:"13.8125",width:"1",height:"3",transform:"rotate(90 21.9375 13.8125)"}),react.exports.createElement("rect",{x:"5.0625",y:"9.1875",width:"1",height:"3",transform:"rotate(90 5.0625 9.1875)"}),react.exports.createElement("rect",{x:"5.0625",y:"13.8125",width:"1",height:"3",transform:"rotate(90 5.0625 13.8125)"}),react.exports.createElement("rect",{x:"10",y:"10",width:"4",height:"4"}),react.exports.createElement("rect",{x:"9.1875",y:"2.125",width:"1",height:"3"}),react.exports.createElement("rect",{x:"13.8125",y:"2.125",width:"1",height:"3"}),react.exports.createElement("rect",{x:"9.1875",y:"19",width:"1",height:"3"}),react.exports.createElement("rect",{x:"13.8125",y:"19",width:"1",height:"3"})),health:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4853 13.3276L11.3455 2.62854L7.79706 10.983H3V12.983H9.12051L10.6545 9.37142L12.5147 18.6724L16.0555 12.983H21V10.983H14.9445L13.4853 13.3276ZM21 20H3V21H21V20Z"})),help:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("rect",{x:"11.5",y:"15.2",width:"1",height:"1"}),react.exports.createElement("path",{d:`M12.4,14.5h-1c0-1,0.2-1.6,0.7-2c0.1-0.1,0.3-0.2,0.5-0.3c0.5-0.3,1.4-0.8,1.4-1.6c0-0.4-0.1-1.5-2-1.5
	c-0.6,0-2,0.1-2,1.4H9C9,8.9,10.1,8,11.9,8c2.1,0,3,1.3,3,2.5c0,1.4-1.2,2.1-1.8,2.5c-0.1,0.1-0.3,0.1-0.3,0.2
	C12.6,13.4,12.4,13.7,12.4,14.5z`}),react.exports.createElement("path",{d:`M12,20.8c-4.8,0-8.8-3.9-8.8-8.8c0-4.8,3.9-8.8,8.8-8.8c4.8,0,8.8,3.9,8.8,8.8C20.8,16.8,16.8,20.8,12,20.8z
	 M12,4.8C8,4.8,4.8,8,4.8,12c0,4,3.3,7.2,7.2,7.2c4,0,7.2-3.3,7.2-7.2C19.2,8,16,4.8,12,4.8z`})),image:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M18.8,5H5.2C4.6,5,4,5.6,4,6.2v11.5C4,18.4,4.6,19,5.2,19h13.5c0.7,0,1.2-0.6,1.2-1.2V6.2C20,5.6,19.4,5,18.8,5
	z M18.5,6.5v6.8l-2.2-1.2l-3.2,2L9,9.3l-3.5,3.5V6.5H18.5z M5.5,17.5v-3.4l3.4-3.4l4,4.8l3.4-2.2l2.2,1.1v3H5.5z`}),react.exports.createElement("path",{d:`M15,11.5c1.1,0,2-0.9,2-2s-0.9-2-2-2s-2,0.9-2,2S13.9,11.5,15,11.5z M15,8.5c0.6,0,1,0.4,1,1s-0.4,1-1,1
	s-1-0.4-1-1S14.4,8.5,15,8.5z`})),integration:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M19.1,8.1l1.4-1.4l-3.2-3.2l-1.4,1.4c-1.7-0.6-3.6-0.3-5.1,0.9l0,0l-0.1,0.1c-0.1,0.1-0.2,0.2-0.3,0.2l0,0
	l-0.3,0.3l2,2l-1.6,1.6l1.2,1.2l1.7-1.7l1.1,1.1l-1.7,1.7l1.2,1.2l1.7-1.7l2,1.9l0.3-0.3l0,0l0.2-0.2c0,0,0.1-0.1,0.1-0.1l0.2-0.2
	l0,0C19.4,11.7,19.7,9.8,19.1,8.1z M17.5,8.2c0.6,1.2,0.5,2.7-0.3,3.8l-5.3-5.2c1.1-0.8,2.6-1,3.8-0.4l0.5,0.2l1.1-1.1l1.1,1.1
	l-1.1,1.1L17.5,8.2z`}),react.exports.createElement("path",{d:`M6.2,10.4L6.2,10.4L6,10.6c0,0,0,0.1-0.1,0.1l0,0l0,0c-1.2,1.4-1.6,3.4-1,5.2l-1.4,1.4l3.2,3.2l1.4-1.4
	c1.8,0.6,3.7,0.3,5.2-1l0,0l0.7-0.7L6.6,10L6.2,10.4z M8.3,17.5l-0.5-0.2l-1.1,1.1l-1.1-1.1l1.1-1.1l-0.2-0.5
	c-0.6-1.3-0.4-2.9,0.5-4l5.3,5.3C11.1,17.9,9.6,18.1,8.3,17.5z`})),"joystick-star":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M15.757,24.243l-7.757,-4.243l7.757,-4.243l4.243,-7.757l4.243,7.757l7.757,4.243l-7.757,4.243l-4.243,7.757l-4.243,-7.757Z"})),jump:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M19.4,17.5l-1.9-2.1c0.6-0.6,1-1.5,1-2.4c0-1.9-1.6-3.5-3.5-3.5s-3.5,1.6-3.5,3.5s1.6,3.5,3.5,3.5
        c0.6,0,1.2-0.2,1.7-0.5l1.9,2.2L19.4,17.5z M12.5,13c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5c0,1.4-1.1,2.5-2.5,2.5
        S12.5,14.4,12.5,13z`}),react.exports.createElement("rect",{x:"5.4",y:"16.8",width:"6",height:"1.5"}),react.exports.createElement("rect",{x:"5.4",y:"5.2",width:"13",height:"1.5"}),react.exports.createElement("rect",{x:"5.4",y:"10.7",width:"4",height:"1.5"})),json:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M8,6C7,6,6.2,6.8,6.2,7.8l0,2.2c0,1.2-1,2.1-2.1,2.1l0,0l0,0c1.2,0,2.1,0.9,2.1,2.1l0,2.1C6.2,17.2,7,18,8,18l0,0l0,0"}),react.exports.createElement("path",{d:"M16,6c1,0,1.8,0.8,1.8,1.8l0,2.2c0,1.2,1,2.1,2.1,2.1l0,0l0,0c-1.2,0-2.1,0.9-2.1,2.1l0,2.1c0,1-0.8,1.8-1.8,1.8l0,0l0,0"}),react.exports.createElement("circle",{id:"Oval",cx:"12",cy:"9",r:"1"})),link:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M17.8,6.2c-1.3-1.3-3.3-1.3-4.6,0L9.7,9.7c-0.6,0.6-1,1.4-1,2.3s0.3,1.7,1,2.3c0.5,0.5,1,0.8,1.5,0.9l-1.5,1.5
	c-0.7,0.7-1.8,0.7-2.5,0c-0.7-0.7-0.7-1.8,0-2.5L8.6,13l-1.1-1.1l-1.3,1.3c-1.3,1.3-1.3,3.3,0,4.6c0.6,0.6,1.5,1,2.3,1
	c0.8,0,1.7-0.3,2.3-1l3.5-3.5c0.6-0.6,1-1.4,1-2.3s-0.3-1.7-1-2.3c-0.5-0.5-1-0.8-1.5-0.9l1.5-1.5c0.7-0.7,1.8-0.7,2.5,0
	c0.7,0.7,0.7,1.8,0,2.5L15.4,11l1.1,1.1l1.3-1.3C19.1,9.5,19.1,7.4,17.8,6.2z M13.2,10.8c0.3,0.3,0.5,0.8,0.5,1.2s-0.2,0.9-0.5,1.2
	c-0.9,0.9-1.6,0.9-2.5,0c-0.3-0.3-0.5-0.8-0.5-1.2s0.2-0.9,0.5-1.2C11.6,9.9,12.3,9.9,13.2,10.8z`})),localization:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M15.8,10.5c0-0.7-0.2-1.4-0.7-1.9L17,7.2c0.4,0.4,0.9,0.6,1.5,0.6c1.2,0,2.2-1,2.2-2.2s-1-2.2-2.2-2.2
	s-2.2,1-2.2,2.2c0,0.3,0.1,0.6,0.2,0.9l-2,1.5c-0.5-0.4-1.2-0.6-1.9-0.6c-1.8,0-3.2,1.5-3.2,3.2c0,1.5,1,2.7,2.4,3.1l-0.2,2.7
	c-1.2,0.1-2.1,1-2.1,2.2c0,1.2,1,2.2,2.2,2.2s2.2-1,2.2-2.2c0-0.9-0.6-1.7-1.4-2.1l0.2-2.7C14.3,13.7,15.8,12.3,15.8,10.5z
	 M18.5,4.8c0.4,0,0.8,0.3,0.8,0.8s-0.3,0.8-0.8,0.8s-0.8-0.3-0.8-0.8S18.1,4.8,18.5,4.8z M10.8,10.5c0-1,0.8-1.8,1.8-1.8
	s1.8,0.8,1.8,1.8s-0.8,1.8-1.8,1.8S10.8,11.5,10.8,10.5z M11.5,19.2c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8s0.8,0.3,0.8,0.8
	S11.9,19.2,11.5,19.2z`}),react.exports.createElement("path",{d:`M20.5,13.7c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2s2.2-1,2.2-2.2S21.7,13.7,20.5,13.7z M20.5,16.7
	c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8s0.8,0.3,0.8,0.8S20.9,16.7,20.5,16.7z`}),react.exports.createElement("path",{d:`M4.5,3.2c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2s2.2-1,2.2-2.2S5.7,3.2,4.5,3.2z M4.5,6.2c-0.4,0-0.8-0.3-0.8-0.8
	s0.3-0.8,0.8-0.8s0.8,0.3,0.8,0.8S4.9,6.2,4.5,6.2z`}),react.exports.createElement("path",{d:`M17.3,13.7c-0.2,0.2-0.1,0.5,0.1,0.7c0.1,0.1,0.2,0.1,0.3,0.1c0.2,0,0.3-0.1,0.4-0.2c0.2-0.2,0.1-0.5-0.1-0.7
	C17.7,13.5,17.4,13.5,17.3,13.7z`}),react.exports.createElement("path",{d:`M7.5,7C7.3,6.9,7,6.9,6.8,7.2C6.7,7.4,6.8,7.7,7,7.9c0.1,0.1,0.2,0.1,0.3,0.1c0.2,0,0.3-0.1,0.4-0.2
	C7.8,7.5,7.7,7.2,7.5,7z`}),react.exports.createElement("path",{d:`M9.2,8.1C9,7.9,8.7,8,8.5,8.2C8.4,8.5,8.4,8.8,8.7,8.9C8.8,9,8.8,9,8.9,9c0.2,0,0.3-0.1,0.4-0.2
	C9.5,8.5,9.4,8.2,9.2,8.1z`}),react.exports.createElement("path",{d:`M15.6,12.6c-0.2,0.2-0.1,0.5,0.1,0.7c0.1,0.1,0.2,0.1,0.3,0.1c0.2,0,0.3-0.1,0.4-0.2c0.2-0.2,0.1-0.5-0.1-0.7
	C16.1,12.3,15.8,12.4,15.6,12.6z`})),location:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M14.4,6L9.3,8.2L4,6v11l5.3,2l5.1-2l5.6,2V8.2L14.4,6z M10,9.6L14,7.8v7.7L10,17.1V9.6z M5.5,8.3L9,9.7v7.5
	l-3.5-1.3V8.3z M18.5,16.9L15,15.6V7.8l3.5,1.4V16.9z`})),"location-arrow":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M2.5,12.8l8.6,0c0.2,0,0.3,0.1,0.3,0.3l0,8.5c0,1.1,0.5,2,1.4,2c0.9,0,1.3-0.8,1.7-1.7l8.7-18.7c0.2-0.4,0.3-0.8,0.3-1.2
	c0-0.8-0.6-1.3-1.3-1.3c-0.3,0-0.7,0.1-1.2,0.3L2.3,9.7c-0.9,0.4-1.7,0.9-1.7,1.7C0.6,12.3,1.4,12.8,2.5,12.8z M3.3,11.1
	c-0.1,0-0.1-0.1,0-0.2l17.9-8.2c0.1,0,0.2,0,0.1,0.2l-8.2,17.9c0,0.1-0.2,0.1-0.2,0l0.1-9c0-0.5-0.3-0.8-0.8-0.8L3.3,11.1z`})),"location-arrow-fill":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M2.5,12.8l8.6,0c0.2,0,0.3,0.1,0.3,0.3l0,8.5c0,1.1,0.5,2,1.4,2c0.9,0,1.3-0.8,1.7-1.7l8.7-18.7c0.2-0.4,0.3-0.8,0.3-1.2
	c0-0.8-0.6-1.3-1.3-1.3c-0.3,0-0.7,0.1-1.2,0.3L2.3,9.7c-0.9,0.4-1.7,0.9-1.7,1.7C0.6,12.3,1.4,12.8,2.5,12.8z`})),"location-arrow-slash":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M17.4,11.6l1.3,1.3l4.5-9.7c0.2-0.4,0.3-0.8,0.3-1.2c0-0.8-0.6-1.3-1.3-1.3c-0.3,0-0.7,0.1-1.2,0.3l-9.7,4.5l1.2,1.3l8.8-4
        c0.1,0,0.2,0,0.1,0.2L17.4,11.6z`}),react.exports.createElement("path",{d:"M21.5,20.2c0.3,0.3,0.9,0.3,1.2,0c0.3-0.3,0.3-0.9,0-1.2L5.3,1.5C5,1.2,4.4,1.2,4.1,1.5c-0.3,0.3-0.3,0.9,0,1.2L21.5,20.2z"}),react.exports.createElement("path",{d:`M16.6,17.2L15.4,16l-2.2,4.9c0,0.1-0.2,0.1-0.2,0l0.1-7.2l-2.5-2.5l-7.2,0c-0.1,0-0.1-0.1,0-0.2l4.8-2.2L6.9,7.5L2.3,9.7
        c-0.9,0.4-1.7,0.9-1.7,1.7c0,0.9,0.8,1.4,1.9,1.4l8.6,0c0.2,0,0.3,0.1,0.3,0.3l0,8.5c0,1.1,0.5,2,1.4,2c0.9,0,1.3-0.8,1.7-1.7
        L16.6,17.2z`})),menu:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M21 13H3V11H21V13Z"}),react.exports.createElement("path",{d:"M21 7H3V5H21V7Z"}),react.exports.createElement("path",{d:"M21 19H3V17H21V19Z"})),minus:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("rect",{x:"6.2",y:"10.8",width:"12.5",height:"1.5"})),more:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("circle",{cx:"5",cy:"12",r:"2"}),react.exports.createElement("circle",{cx:"12",cy:"12",r:"2"}),react.exports.createElement("circle",{cx:"19",cy:"12",r:"2"})),next:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M10.1,17.7L9,16.6l4.6-4.6L9,7.5l1.1-1.1l4.9,4.9c0.4,0.4,0.4,1.1,0,1.6L10.1,17.7z"})),numeric:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:"20,20.8 3.2,20.8 3.2,4 4.8,4 4.8,19.2 20,19.2 "}),react.exports.createElement("path",{d:`M6.5,15.6l-0.9-0.5l2.4-4.2c0.2-0.3,0.5-0.4,0.8-0.2L9,10.7l0.1,0.2l1.3,2.2l3-5.3l0.3-0.1c0.2,0,0.3,0,0.5,0.1
        l0.1,0.1L14.3,8l2,3.5L20,4.9l0.9,0.5l-4.2,7.4l-0.2,0.1c-0.3,0.2-0.6,0.1-0.8-0.2l-2-3.5l-2.9,5.2l-0.2,0.1
        c-0.3,0.2-0.7,0.1-0.8-0.2L8.6,12L6.5,15.6z`})),"on-demand":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M8,5.6C8.3,5.9,8.6,6,9,6c0.8,0,1.5-0.7,1.5-1.5S9.8,3,9,3S7.5,3.7,7.5,4.5c0,0.1,0,0.2,0,0.3
    c-2.5,1.5-4,4.3-4,7.2c0,1.3,0.3,2.6,0.9,3.8l0.9-0.4c-0.5-1-0.8-2.2-0.8-3.3C4.5,9.4,5.9,7,8,5.6z M9,4c0.3,0,0.5,0.2,0.5,0.5
    S9.3,5,9,5S8.5,4.8,8.5,4.5S8.7,4,9,4z`}),react.exports.createElement("path",{d:`M12,19.5c-1.3,0-2.5-0.3-3.6-0.9c0.1-0.2,0.1-0.4,0.1-0.6c0-0.8-0.7-1.5-1.5-1.5S5.5,17.2,5.5,18
    s0.7,1.5,1.5,1.5c0.3,0,0.5-0.1,0.7-0.2c1.3,0.8,2.8,1.2,4.3,1.2c3.1,0,5.9-1.7,7.4-4.3l-0.9-0.5C17.2,18,14.7,19.5,12,19.5z
     M7,18.5c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5S7.3,18.5,7,18.5z`}),react.exports.createElement("path",{d:`M20.5,11.6c-0.2-4.5-3.9-8.1-8.5-8.1v1c4,0,7.3,3.1,7.5,7.1c-0.6,0.2-1,0.8-1,1.4c0,0.8,0.7,1.5,1.5,1.5
    s1.5-0.7,1.5-1.5C21.5,12.3,21.1,11.8,20.5,11.6z M20,13.5c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5
    C20.5,13.3,20.3,13.5,20,13.5z`}),react.exports.createElement("path",{d:"M7.2,14.8l4.8,2.8l4.8-2.8V9.2L12,6.5L7.2,9.2V14.8z M8.7,10.1L12,8.2l3.3,1.9v3.8L12,15.8l-3.3-1.9V10.1z"})),offline:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("svg",{x:"8.5",y:"7.5",width:"5",height:"11",viewBox:"0 0 5 11",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("path",{d:"M0 2.5C0 1.11929 1.11929 0 2.5 0C3.88071 0 5 1.11929 5 2.5V8.5C5 9.88071 3.88071 11 2.5 11C1.11929 11 0 9.88071 0 8.5V2.5Z"}))),online:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("svg",{x:"8.5",y:"7.5",width:"5",height:"11",viewBox:"0 0 5 11",xmlns:"http://www.w3.org/2000/svg"},react.exports.createElement("path",{d:"M0 2.5C0 1.11929 1.11929 0 2.5 0C3.88071 0 5 1.11929 5 2.5V8.5C5 9.88071 3.88071 11 2.5 11C1.11929 11 0 9.88071 0 8.5V2.5Z"}))),organization:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M19,9.2c-0.7,0-1.2,0.2-1.7,0.6l-3.2-3.2c0.4-0.5,0.6-1.1,0.6-1.7c0-1.5-1.2-2.8-2.8-2.8S9.2,3.5,9.2,5
	c0,0.5,0.2,1,0.4,1.5L6.5,9.7C6,9.4,5.5,9.2,5,9.2c-1.5,0-2.8,1.2-2.8,2.8s1.2,2.8,2.8,2.8c0.5,0,0.9-0.1,1.3-0.4l3.3,3.3
	c-0.2,0.4-0.4,0.9-0.4,1.3c0,1.5,1.2,2.8,2.8,2.8s2.8-1.2,2.8-2.8c0-0.5-0.2-1.1-0.4-1.5l3.2-3.2c0.4,0.3,0.9,0.4,1.5,0.4
	c1.5,0,2.8-1.2,2.8-2.8S20.5,9.2,19,9.2z M12,16.2c-0.7,0-1.3,0.2-1.7,0.6l-3.1-3.1c0.4-0.5,0.6-1.1,0.6-1.7c0-0.6-0.2-1.2-0.6-1.6
	l3.2-3.2c0.5,0.3,1,0.6,1.6,0.6c0.5,0,1-0.1,1.4-0.4l3.3,3.3c-0.2,0.4-0.4,0.9-0.4,1.4c0,0.6,0.2,1.2,0.5,1.6l-3.2,3.2
	C13.2,16.5,12.6,16.2,12,16.2z M12,3.8c0.7,0,1.2,0.6,1.2,1.2S12.7,6.2,12,6.2S10.8,5.7,10.8,5S11.3,3.8,12,3.8z M5,13.2
	c-0.7,0-1.2-0.6-1.2-1.2s0.6-1.2,1.2-1.2s1.2,0.6,1.2,1.2S5.7,13.2,5,13.2z M12,20.2c-0.7,0-1.2-0.6-1.2-1.2s0.6-1.2,1.2-1.2
	s1.2,0.6,1.2,1.2S12.7,20.2,12,20.2z M19,13.2c-0.7,0-1.2-0.6-1.2-1.2s0.6-1.2,1.2-1.2s1.2,0.6,1.2,1.2S19.7,13.2,19,13.2z`})),overview:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M12.5,5L6,8.8V19h13V8.8L12.5,5z M17.5,17.5h-10V9.7l5-3l5,3V17.5z"})),pause:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M9.6 5.5H6.4C5.90294 5.5 5.5 5.90294 5.5 6.4V17.6C5.5 18.0971 5.90294 18.5 6.4 18.5H9.6C10.0971 18.5 10.5 18.0971 10.5 17.6V6.4C10.5 5.90294 10.0971 5.5 9.6 5.5Z"}),react.exports.createElement("path",{d:"M17.6 5.5H14.4C13.9029 5.5 13.5 5.90294 13.5 6.4V17.6C13.5 18.0971 13.9029 18.5 14.4 18.5H17.6C18.0971 18.5 18.5 18.0971 18.5 17.6V6.4C18.5 5.90294 18.0971 5.5 17.6 5.5Z"})),play:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5572 12.8655L9.52072 18.3772C9.04922 18.6648 8.43386 18.5157 8.14627 18.0442C8.05061 17.8873 8 17.7072 8 17.5235V6.5C8 5.94772 8.44772 5.5 9 5.5C9.18371 5.5 9.36388 5.55061 9.52072 5.64627L18.5572 11.158C19.0287 11.4456 19.1778 12.0609 18.8902 12.5324C18.8073 12.6684 18.6932 12.7825 18.5572 12.8655Z"})),playback:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7L7 13H1L4 7Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7711 12.4088L10.772 14.922C10.5399 15.0679 10.2301 15.0031 10.0801 14.7773C10.0278 14.6986 10 14.6069 10 14.5132V9.48676C10 9.21793 10.2241 9 10.5004 9C10.5968 9 10.6911 9.02705 10.772 9.07791L14.7711 11.5911C15.0032 11.737 15.0698 12.0383 14.9198 12.2641C14.8814 12.3221 14.8306 12.3714 14.7711 12.4088Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12H5C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5V3Z"})),plus:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("polygon",{points:`18.8,10.8 13.2,10.8 13.2,5.2 11.8,5.2 11.8,10.8 6.2,10.8 6.2,12.2 11.8,12.2 11.8,17.8 13.2,17.8 
	13.2,12.2 18.8,12.2 `})),previous:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M15,7.5l-1.1-1.1l-4.9,4.9c-0.2,0.2-0.3,0.5-0.3,0.8c0,0.3,0.1,0.6,0.3,0.8l4.9,4.9l1.1-1.1L10.4,12L15,7.5z"})),recenter:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M9,10.8H5V9.2h4c0.1,0,0.2-0.1,0.2-0.2V5h1.5v4C10.8,10,10,10.8,9,10.8z"}),react.exports.createElement("path",{d:"M10.8,19H9.2v-4c0-0.1-0.1-0.2-0.2-0.2H5v-1.5h4c1,0,1.8,0.8,1.8,1.8V19z"}),react.exports.createElement("path",{d:"M19,10.8h-4c-1,0-1.8-0.8-1.8-1.8V5h1.5v4c0,0.1,0.1,0.2,0.2,0.2h4V10.8z"}),react.exports.createElement("path",{d:"M14.8,19h-1.5v-4c0-1,0.8-1.8,1.8-1.8h4v1.5h-4c-0.1,0-0.2,0.1-0.2,0.2V19z"})),refresh:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M15.7,16.9c1.4-1.1,2.3-2.8,2.3-4.7c0-3.3-2.7-6-6-6c-3.3,0-6,2.7-6,6c0,1.9,0.9,3.6,2.2,4.7c0.1,0,0.1,0,0.2,0L9,16.1
	c0-0.1,0-0.1,0-0.2c-0.1-0.1-0.2-0.2-0.4-0.3c-0.4-0.4-0.8-1-1-1.5c-0.3-0.6-0.4-1.2-0.4-1.9c0-0.6,0.1-1.3,0.4-1.9
	c0.2-0.6,0.6-1.1,1-1.5c0.4-0.4,1-0.8,1.5-1c0.6-0.3,1.2-0.4,1.9-0.4c0.6,0,1.3,0.1,1.9,0.4c0.6,0.2,1.1,0.6,1.5,1
	c0.4,0.4,0.8,1,1,1.5c0.3,0.6,0.4,1.2,0.4,1.9c0,0.6-0.1,1.3-0.4,1.9c-0.2,0.6-0.6,1.1-1,1.5c-0.1,0.1-0.3,0.3-0.4,0.4l-0.6-0.8
	c0-0.1-0.1-0.1-0.2,0c0,0,0,0,0,0.1l-0.6,2.4c0,0.1,0,0.1,0.1,0.1l2.5,0c0.1,0,0.2-0.1,0.1-0.2C16.3,17.6,15.7,16.9,15.7,16.9z`})),remove:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M12,6C8.686,6 6,8.686 6,12C6,15.314 8.686,18 12,18C15.314,18 18,15.314 18,12C18,8.686 15.314,6 12,6ZM4.5,12C4.5,7.858 7.858,4.5 12,4.5C16.142,4.5 19.5,7.858 19.5,12C19.5,16.142 16.142,19.5 12,19.5C7.858,19.5 4.5,16.142 4.5,12Z"}),react.exports.createElement("rect",{x:"8.25",y:"11.25",width:"7.5",height:"1.5"})),relocalization:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M13.664,12c-0,-0.925 -0.751,-1.676 -1.676,-1.676c-0.925,0 -1.675,0.751 -1.675,1.676c-0,0.925 0.75,1.676 1.675,1.676c0.925,-0 1.676,-0.751 1.676,-1.676Z"}),react.exports.createElement("path",{d:"M12.738,6.473l0,-1.961l-1.5,-0l0,1.961c-2.479,0.334 -4.443,2.299 -4.776,4.777l-1.95,-0l-0,1.5l1.95,-0c0.333,2.479 2.298,4.443 4.776,4.776l0,1.962l1.5,0l0,-1.962c2.479,-0.333 4.443,-2.298 4.777,-4.776l1.973,-0l0,-1.5l-1.973,-0c-0.334,-2.479 -2.298,-4.443 -4.777,-4.777Zm-0.75,1.45c2.25,-0 4.077,1.827 4.077,4.077c0,2.25 -1.827,4.077 -4.077,4.077c-2.25,-0 -4.077,-1.827 -4.077,-4.077c0,-2.25 1.827,-4.077 4.077,-4.077Z"})),search:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M19,18l-3.5-3.5c0.8-1,1.2-2.2,1.2-3.5c0-3.2-2.6-5.8-5.8-5.8c-3.2,0-5.8,2.6-5.8,5.8c0,3.2,2.6,5.8,5.8,5.8
	c1.3,0,2.5-0.4,3.5-1.2L18,19L19,18z M6.8,11c0-2.3,1.9-4.2,4.2-4.2c2.3,0,4.2,1.9,4.2,4.2c0,2.3-1.9,4.2-4.2,4.2
	C8.7,15.2,6.8,13.3,6.8,11z`})),"seek-option":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z"}),react.exports.createElement("path",{d:"M10.7289 11.5912L14.728 9.07797C14.9601 8.93208 15.2699 8.99686 15.4199 9.22266C15.4722 9.30138 15.5 9.3931 15.5 9.48682L15.5 14.5132C15.5 14.7821 15.2759 15 14.9996 15C14.9032 15 14.8089 14.9729 14.728 14.9221L10.7289 12.4089C10.4968 12.263 10.4302 11.9617 10.5802 11.7359C10.6186 11.6779 10.6694 11.6286 10.7289 11.5912Z"}),react.exports.createElement("rect",{x:"8.5",y:"9",width:"2",height:"6"})),"seek-next":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M16 12L6.25 5.93782L6.25 18.0622L16 12Z"}),react.exports.createElement("rect",{width:"2",height:"12",transform:"matrix(-1 -8.74228e-08 -8.74228e-08 1 18 6)"})),"seek-previous":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M8 12L17.75 5.93782L17.75 18.0622L8 12Z"}),react.exports.createElement("rect",{x:"6",y:"6",width:"2",height:"12"})),settings:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M13.1,20.5h-2.2l-0.9-1.8c-0.1-0.3-0.3-0.5-0.6-0.6c-0.3-0.1-0.6-0.1-0.8,0l-1.8,0.6l-1.5-1.5l0.6-1.8
	c0.1-0.3,0.1-0.6,0-0.8c-0.1-0.3-0.3-0.5-0.6-0.6l-1.8-0.9v-2.2L5.3,10c0.3-0.1,0.4-0.3,0.6-0.6c0.1-0.3,0.1-0.6,0-0.8L5.2,6.8
	l1.5-1.5l1.8,0.6c0.3,0.1,0.6,0.1,0.9,0c0.3-0.1,0.5-0.3,0.6-0.6l0.8-1.7h2.2l0.9,1.7c0.1,0.3,0.4,0.5,0.6,0.6
	c0.3,0.1,0.6,0.1,0.8,0l1.8-0.6l1.5,1.5l-0.6,1.8c-0.1,0.3-0.1,0.6,0,0.8c0.1,0.3,0.3,0.5,0.6,0.6l1.7,0.9v2.2l-1.7,0.9
	c-0.3,0.1-0.5,0.4-0.6,0.6c-0.1,0.3-0.1,0.6,0,0.8l0.6,1.8l-1.5,1.5l-1.8-0.6c-0.3-0.1-0.6-0.1-0.8,0c-0.3,0.1-0.5,0.3-0.6,0.6
	L13.1,20.5z M11.5,19.5h0.9l0.6-1.2c0.2-0.5,0.6-0.9,1.1-1.1c0.5-0.2,1-0.2,1.5,0l1.3,0.4l0.7-0.7l-0.4-1.2
	c-0.2-0.5-0.2-1.1,0.1-1.6c0.2-0.5,0.6-0.9,1.1-1.1l1.2-0.6v-0.9L18.3,11c-0.5-0.2-0.9-0.6-1.1-1.1c-0.2-0.5-0.2-1-0.1-1.6L17.6,7
	L17,6.4l-1.2,0.4c-0.5,0.2-1.1,0.2-1.6-0.1c-0.5-0.2-0.9-0.6-1.1-1.1l-0.6-1.2h-0.9L11,5.6c-0.2,0.5-0.6,0.9-1.1,1.1
	C9.3,6.9,8.8,7,8.3,6.8L7,6.4L6.4,7l0.4,1.3c0.2,0.5,0.2,1,0,1.5c-0.2,0.5-0.6,0.9-1,1.1l-1.2,0.6v0.9l1.2,0.6
	c0.5,0.2,0.9,0.6,1.1,1.1c0.2,0.5,0.2,1,0,1.5L6.4,17L7,17.6l1.2-0.4c0.5-0.2,1.1-0.2,1.5,0c0.5,0.2,0.9,0.6,1.1,1.1L11.5,19.5z`}),react.exports.createElement("path",{d:`M12,15.8c-1,0-1.9-0.4-2.6-1C8.7,14,8.2,13,8.2,12c0-1,0.4-1.9,1-2.6C10,8.7,11,8.2,12,8.2
	c1.1,0,2.1,0.4,2.8,1.2c0.6,0.7,1,1.6,1,2.6c0,1-0.4,2-1.1,2.7C13.9,15.4,13,15.8,12,15.8z M12,9.8c-0.6,0-1.2,0.3-1.6,0.7
	c-0.4,0.4-0.6,1-0.6,1.5c0,0.6,0.2,1.2,0.7,1.6c0.9,0.8,2.3,0.8,3.1,0c0.4-0.4,0.7-1,0.7-1.6c0-0.6-0.2-1.1-0.6-1.5
	C13.2,10,12.7,9.8,12,9.8z`})),share:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M17.7,9.2h-2.6v1.5h2.2v7.5H7.8v-7.5h2.2V9.2H7.3c-0.6,0-1.1,0.5-1.1,1.1v8.3c0,0.6,0.5,1.1,1.1,1.1h10.3
	c0.6,0,1.1-0.5,1.1-1.1v-8.3C18.8,9.7,18.3,9.2,17.7,9.2z`}),react.exports.createElement("polygon",{points:"12,4.2 12,13.5 13,13.5 13,4.2 15.7,6.9 16.4,6.1 12.5,2.3 8.6,6.1 9.3,6.9 "})),shift:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M12 3.11557L21.0302 12.5H15.9999V20H7.99991V12.5H2.96979L12 3.11557ZM9.99991 18H13.9999V10.5H16.3301L12 6.00001L7.66984 10.5H9.99991V18Z"})),stop:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M8.939,4.609L15.061,4.609L19.391,8.939L19.391,15.061L15.061,19.391L8.939,19.391L4.609,15.061L4.609,8.939L8.939,4.609ZM15.892,11.5L8,11.5L8,12.5L15.892,12.5L15.892,11.5Z"})),stream:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M2.30442 8.47147C3.15092 7.55616 4.35302 7.02777 5.75231 7.02777C7.45551 7.02777 9.01665 7.8054 10.4219 9.17682L9.06376 10.5684C7.91065 9.44299 6.81145 8.97222 5.75231 8.97222C4.86371 8.97222 4.18965 9.2968 3.73197 9.79169C3.26689 10.2946 2.97222 11.0326 2.97222 11.9349C2.97222 13.6031 4.3618 14.8055 5.75231 14.8055C6.85958 14.8055 7.95018 14.322 9.04095 13.184L9.07076 13.1529L14.1648 8.70308L14.1667 8.70147C15.3977 7.63161 16.7465 7.02777 18.1971 7.02777C20.9595 7.02777 22.9722 9.09874 22.9722 11.9349C22.9722 14.8655 20.4659 16.75 18.1971 16.75C16.3963 16.75 14.8368 16.0117 13.5576 14.6253L14.9867 13.3068C15.9363 14.336 16.9935 14.8055 18.1971 14.8055C19.5386 14.8055 21.0278 13.6507 21.0278 11.9349C21.0278 10.1246 19.8382 8.97222 18.1971 8.97222C17.3263 8.97222 16.4136 9.32505 15.443 10.1684C15.4427 10.1686 15.4424 10.1689 15.4422 10.1691L10.414 14.5614C9.05683 15.9648 7.49743 16.75 5.75231 16.75C3.33613 16.75 1.02777 14.7246 1.02777 11.9349C1.02777 10.6082 1.46531 9.37879 2.30442 8.47147Z"})),tags:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M11.6,20C11.6,20,11.6,20,11.6,20c-0.3,0-0.5-0.1-0.6-0.3l-5.6-5.8C5.1,13.8,5,13.5,5,13.3s0.1-0.5,0.3-0.6
	l6.5-6.4C11.9,6.1,12.2,6,12.4,6l5.7,0.1c0.5,0,0.9,0.4,0.9,0.9v5.7c0,0.2-0.1,0.5-0.3,0.7l-6.5,6.4C12,19.9,11.8,20,11.6,20z
	 M12,18.7L12,18.7C12,18.7,12,18.7,12,18.7z M11.1,18.7C11.1,18.7,11.1,18.7,11.1,18.7L11.1,18.7z M6.7,13.3l4.8,4.9l5.9-5.9V7.6
	l-4.9-0.1L6.7,13.3z M6.3,12.9L6.3,12.9C6.3,12.9,6.3,12.9,6.3,12.9z M17.7,12.2C17.7,12.2,17.7,12.2,17.7,12.2L17.7,12.2z
	 M18.1,7.6C18.1,7.6,18.1,7.6,18.1,7.6L18.1,7.6z M12.4,7.5C12.4,7.5,12.4,7.5,12.4,7.5L12.4,7.5z M12.8,7.3L12.8,7.3
	C12.8,7.3,12.8,7.3,12.8,7.3z`}),react.exports.createElement("circle",{cx:"14.5",cy:"10.5",r:"1"})),teams:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("circle",{cx:"7.63582",cy:"12.1384",r:"6.14418",strokeWidth:"2"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.08411 10.4105C2.08411 10.4105 5.61813 9.94552 6.06215 7.13997C7.09698 7.79701 7.76407 10.6227 13.1875 9.49477C12.7863 8.96677 12.8637 7.49383 11.7384 6.70066C11.1207 6.26529 9.14009 5.50397 7.79431 5.50397C6.44852 5.50397 5.02289 5.92103 3.65883 6.70066C2.29477 7.4803 2.08411 10.4105 2.08411 10.4105Z"}),react.exports.createElement("path",{d:"M10.0901 13.5877C10.6989 13.5877 11.1924 13.0942 11.1924 12.4854C11.1924 11.8766 10.6989 11.3831 10.0901 11.3831C9.48132 11.3831 8.98779 11.8766 8.98779 12.4854C8.98779 13.0942 9.48132 13.5877 10.0901 13.5877Z"}),react.exports.createElement("path",{d:"M5.68082 13.5877C6.28961 13.5877 6.78314 13.0942 6.78314 12.4854C6.78314 11.8766 6.28961 11.3831 5.68082 11.3831C5.07202 11.3831 4.57849 11.8766 4.57849 12.4854C4.57849 13.0942 5.07202 13.5877 5.68082 13.5877Z"}),react.exports.createElement("path",{d:"M18.4339 13.5877C19.0427 13.5877 19.5362 13.0942 19.5362 12.4854C19.5362 11.8766 19.0427 11.3831 18.4339 11.3831C17.8251 11.3831 17.3315 11.8766 17.3315 12.4854C17.3315 13.0942 17.8251 13.5877 18.4339 13.5877Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2059 7.97059C17.611 8.8466 18.1261 9.96024 20.8144 9.72465C21.2368 10.4708 21.4779 11.3331 21.4779 12.2517C21.4779 15.0892 19.1776 17.3894 16.3401 17.3894C15.5548 17.3894 14.8118 17.2138 14.1471 16.8995C13.6827 17.5049 13.177 18.0001 12.7171 18.4027C13.7794 19.0296 15.0187 19.3894 16.3401 19.3894C20.2822 19.3894 23.4779 16.1938 23.4779 12.2517C23.4779 10.2622 22.6639 8.46286 21.3509 7.16843C21.219 6.99761 21.0594 6.83882 20.8634 6.70066C20.8118 6.66426 20.7506 6.62557 20.6811 6.58524C19.4783 5.66243 17.9732 5.11395 16.3401 5.11395C15.1102 5.11395 13.9517 5.42567 12.9408 5.97407C13.4424 6.45341 14.0143 7.14799 14.5084 7.98284C14.6929 8.29464 14.8686 8.62931 15.0266 8.98319C15.8297 8.70138 16.625 8.25088 16.625 7.125C16.8937 7.29558 17.0406 7.61332 17.2059 7.97059ZM14.0665 9.28738C13.9381 9.01009 13.797 8.74425 13.6478 8.49217C13.1233 7.60589 12.5182 6.92161 12.0694 6.53214C11.9932 6.58909 11.9182 6.64753 11.8444 6.7074L12.0731 6.98908C11.6544 7.17418 11.3279 7.46795 11.6729 8.25278C12.0319 9.0697 12.1548 9.09467 12.5921 9.18355C12.8197 9.2298 13.1324 9.29335 13.6077 9.49477C13.7262 9.41554 13.8843 9.34981 14.0665 9.28738ZM11.8744 17.8069C12.3322 17.4192 12.8342 16.9496 13.2888 16.374L13.2797 16.3789L13.2659 16.3687L13.2439 16.3982L11.5942 17.2867L11.8744 17.8069Z"})),teleop:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M17.2,19.3c-1.5,0-2.6-1.2-2.6-2.6v-1H9.5v0.9c0,1.5-1.2,2.7-2.7,2.7H6.8c-1.4,0-2.6-1.2-2.6-2.6
	s1.2-2.6,2.6-2.6h1.2V9.3H6.8c-1.4,0-2.6-1.1-2.6-2.6s1.1-2.6,2.6-2.6c1.6,0,2.7,1.2,2.7,2.7v0.9h5.1V6.8c0-1.4,1.2-2.6,2.6-2.6
	c1.4,0,2.6,1.1,2.6,2.6s-1.1,2.6-2.6,2.6h-1v4.8h1c1.4,0,2.6,1.2,2.6,2.6S18.6,19.3,17.2,19.3z M16.2,15.7v1c0,0.6,0.5,1,1,1
	c0.6,0,1-0.4,1-1s-0.4-1-1-1H16.2z M6.8,15.7c-0.5,0-1,0.4-1,1s0.4,1,1,1h0.1c0.6,0,1.1-0.5,1.1-1.1v-0.9H6.8z M9.5,14.1h5.1V9.3
	H9.5V14.1z M16.2,7.7h1c0.5,0,1-0.4,1-1s-0.4-1-1-1c-0.6,0-1,0.5-1,1V7.7z M6.9,5.8c-0.6,0-1.1,0.4-1.1,1s0.4,1,1,1h1.2V6.9
	C7.9,6.3,7.4,5.8,6.9,5.8z`})),text:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("rect",{x:"9",y:"6.9",width:"9.2",height:"1.5"}),react.exports.createElement("rect",{x:"5",y:"6.9",width:"2",height:"1.5"}),react.exports.createElement("rect",{x:"9",y:"11.3",width:"9.2",height:"1.5"}),react.exports.createElement("rect",{x:"5",y:"11.3",width:"2",height:"1.5"}),react.exports.createElement("rect",{x:"9",y:"15.8",width:"9.2",height:"1.5"}),react.exports.createElement("rect",{x:"5",y:"15.8",width:"2",height:"1.5"})),tools:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"m 13.651627,11.075162 -0.11965,0.30474 0.23149,0.23152 5.59724,5.59801 -2.1213,2.1213 -5.597,-5.59755 -0.23157,-0.2316 -0.30484,0.11976 c -0.50881,0.19991 -1.06335,0.30993 -1.6448002,0.30993 -2.48528,0 -4.499996,-2.01471 -4.499996,-4.5000002 0,-0.69505 0.157274,-1.3525 0.438126,-1.9395 l 3.00128,3.0002302 0.35355,0.35343 0.35349,-0.3535 1.4142102,-1.4142102 0.35357,-0.35356 -0.35358,-0.35356 -3.0009802,-3.0008 c 0.58721,-0.281104 1.24495,-0.438526 1.94033,-0.438526 2.4852902,1e-6 4.5000002,2.014716 4.5000002,4.499996 0,0.5811002 -0.10989,1.1353302 -0.30957,1.6438902 z"})),undo:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M16.5,8.2H5.8l3.7-3.7L8.4,3.5L2.9,8.9l5.5,5.5l1.1-1.1L5.9,9.8h10.7c1.2,0,2.2,1,2.2,2.2v6.4h1.5V12
            C20.3,9.9,18.6,8.2,16.5,8.2z`})),up:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M16.6,15.1L12,10.5l-4.6,4.6l-1.1-1.1l4.9-4.9c0.4-0.4,1.1-0.4,1.6,0l4.9,4.9L16.6,15.1z"})),user:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M12,5.1c-3.9,0-7,3.1-7,7c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7C19,8.2,15.9,5.1,12,5.1z M12,17.6
	c-3,0-5.5-2.5-5.5-5.5c0-0.4,0.1-0.9,0.2-1.3c0.7-0.1,3.3-0.8,3.7-3.1c1,0.6,1.6,3.3,6.7,2.3c0.3,0.7,0.4,1.4,0.4,2.1
	C17.5,15.1,15,17.6,12,17.6z`}),react.exports.createElement("circle",{cx:"14.1",cy:"12.5",r:"1"}),react.exports.createElement("circle",{cx:"9.9",cy:"12.5",r:"1"})),utility:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M10,4c0.265,0 0.52,0.105 0.707,0.293c0.188,0.187 0.293,0.442 0.293,0.707l0,5c0,0.265 -0.105,0.52 -0.293,0.707c-0.187,0.188 -0.442,0.293 -0.707,0.293l-5,0c-0.265,0 -0.52,-0.105 -0.707,-0.293c-0.188,-0.187 -0.293,-0.442 -0.293,-0.707l0,-5c0,-0.265 0.105,-0.52 0.293,-0.707c0.187,-0.188 0.442,-0.293 0.707,-0.293l5,0Zm-0.004,1.004l-4.992,0l0,4.992l4.992,0l0,-4.992Z"}),react.exports.createElement("path",{d:"M18.962,4c0.265,0 0.52,0.105 0.707,0.293c0.188,0.187 0.293,0.442 0.293,0.707l0,5c0,0.265 -0.105,0.52 -0.293,0.707c-0.187,0.188 -0.442,0.293 -0.707,0.293l-5,0c-0.265,0 -0.52,-0.105 -0.707,-0.293c-0.188,-0.187 -0.293,-0.442 -0.293,-0.707l0,-5c0,-0.265 0.105,-0.52 0.293,-0.707c0.187,-0.188 0.442,-0.293 0.707,-0.293l5,0Zm-0.004,1.004l-4.992,0l0,4.992l4.992,0l0,-4.992Z"}),react.exports.createElement("path",{d:"M10,13c0.265,0 0.52,0.105 0.707,0.293c0.188,0.187 0.293,0.442 0.293,0.707l0,5c0,0.265 -0.105,0.52 -0.293,0.707c-0.187,0.188 -0.442,0.293 -0.707,0.293l-5,0c-0.265,0 -0.52,-0.105 -0.707,-0.293c-0.188,-0.187 -0.293,-0.442 -0.293,-0.707l0,-5c0,-0.265 0.105,-0.52 0.293,-0.707c0.187,-0.188 0.442,-0.293 0.707,-0.293l5,0Zm-0.004,1.004l-4.992,0l0,4.992l4.992,0l0,-4.992Z"}),react.exports.createElement("path",{d:"M18.962,13c0.265,0 0.52,0.105 0.707,0.293c0.188,0.187 0.293,0.442 0.293,0.707l0,5c0,0.265 -0.105,0.52 -0.293,0.707c-0.187,0.188 -0.442,0.293 -0.707,0.293l-5,0c-0.265,0 -0.52,-0.105 -0.707,-0.293c-0.188,-0.187 -0.293,-0.442 -0.293,-0.707l0,-5c0,-0.265 0.105,-0.52 0.293,-0.707c0.187,-0.188 0.442,-0.293 0.707,-0.293l5,0Zm-0.004,1.004l-4.992,0l0,4.992l4.992,0l0,-4.992Z"})),video:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M21.8,8.4c-0.2-0.2-0.4-0.4-0.6-0.4c-0.3,0-0.5,0-0.7,0.2L18,9.9V7.2C18,6.6,17.4,6,16.8,6H5.2
	C4.6,6,4,6.6,4,7.2v9.5C4,17.4,4.6,18,5.2,18h11.5c0.7,0,1.2-0.6,1.2-1.2v-2.6l2.4,1.7C20.6,16,20.8,16,21,16c0.6,0,1-0.4,1-1V9
	C22,8.8,21.9,8.6,21.8,8.4z M16.5,16.5h-11v-9h11V16.5z M21,15l-2.9-2v-1.9L21,9V15z`})),"video-off":()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M21.8,8.4c-0.2-0.2-0.4-0.4-0.6-0.4c-0.3,0-0.5,0-0.7,0.2L18,9.9V6.5C18,6.2,17.8,6,17.5,6L6.2,6L4,3.8L3.3,4.5
	l15.7,15.6l0.7-0.7L18,17.7c0-0.1,0-0.1,0-0.2v-3.3l2.4,1.7C20.6,16,20.8,16,21,16c0.6,0,1-0.4,1-1V9C22,8.8,21.9,8.6,21.8,8.4z
	 M7.7,7.5l8.8,0v8.8L7.7,7.5z M21,15l-2.9-2v-1.9L21,9V15z`}),react.exports.createElement("path",{d:"M5.5,16.5v-9L4.1,6.1C4.1,6.2,4,6.4,4,6.5v11C4,17.8,4.2,18,4.5,18l11.3,0l-1.5-1.5L5.5,16.5z"})),view:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M16.5,19.8c-1.8,0-3.2-1.5-3.2-3.2s1.5-3.2,3.2-3.2s3.2,1.5,3.2,3.2S18.3,19.8,16.5,19.8z M16.5,14.8
	c-1,0-1.8,0.8-1.8,1.8s0.8,1.8,1.8,1.8s1.8-0.8,1.8-1.8S17.5,14.8,16.5,14.8z`}),react.exports.createElement("path",{d:`M7.5,10.8c-1.8,0-3.2-1.5-3.2-3.2s1.5-3.2,3.2-3.2s3.2,1.5,3.2,3.2S9.3,10.8,7.5,10.8z M7.5,5.8
	c-1,0-1.8,0.8-1.8,1.8s0.8,1.8,1.8,1.8s1.8-0.8,1.8-1.8S8.5,5.8,7.5,5.8z`}),react.exports.createElement("path",{d:"M10.8,19.8H4.2v-6.5h6.5V19.8z M5.8,18.2h3.5v-3.5H5.8V18.2z"}),react.exports.createElement("path",{d:"M19.8,10.8h-6.5V4.2h6.5V10.8z M14.8,9.2h3.5V5.8h-3.5V9.2z"})),warning:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M12,3.2c-4.8,0-8.8,3.9-8.8,8.8c0,4.8,3.9,8.8,8.8,8.8c4.8,0,8.8-3.9,8.8-8.8C20.8,7.2,16.8,3.2,12,3.2z
    M12,19.2c-4,0-7.2-3.3-7.2-7.2C4.8,8,8,4.8,12,4.8c4,0,7.2,3.3,7.2,7.2C19.2,16,16,19.2,12,19.2z`}),react.exports.createElement("path",{d:`M12.1,14c0.2,0,0.3,0,0.4-0.1c0.1-0.1,0.2-0.2,0.2-0.4V8.5c0-0.2-0.1-0.3-0.2-0.4C12.4,8.1,12.3,8,12.1,8
   c-0.2,0-0.3,0.1-0.4,0.2c-0.1,0.1-0.2,0.2-0.2,0.4v4.9c0,0.2,0.1,0.3,0.2,0.4C11.8,13.9,11.9,14,12.1,14z`}),react.exports.createElement("path",{d:`M12.1,15c-0.2,0-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5s0.1,0.4,0.2,0.5c0.1,0.1,0.3,0.2,0.5,0.2
   c0.2,0,0.4-0.1,0.5-0.2c0.1-0.1,0.2-0.3,0.2-0.5s-0.1-0.4-0.2-0.5C12.5,15.1,12.3,15,12.1,15z`})),infinity:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:`M17.6,16.8c-1.6,0-2.9-0.6-4.1-1.9l1.1-1c0.9,0.9,1.8,1.4,3,1.4c1.3,0,2.7-1.1,2.7-2.7c0-1.7-1.1-2.8-2.7-2.8
	c-0.9,0-1.7,0.4-2.6,1.1l-4.6,4c-1.2,1.3-2.6,1.9-4.1,1.9c-2,0-4.1-1.7-4.1-4.2c0-2.5,1.7-4.3,4.1-4.3c1.4,0,2.8,0.6,4.1,1.9l-1,1.1
	c-1-1-2-1.5-3.1-1.5c-1.6,0-2.6,1.1-2.6,2.8c0,1.6,1.4,2.7,2.6,2.7c1.1,0,2.1-0.5,3.1-1.5l4.6-4c1.1-1,2.3-1.5,3.5-1.5
	c2.4,0,4.2,1.8,4.2,4.3C21.8,15.1,19.6,16.8,17.6,16.8z`})),code:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4881 3.10845C14.548 2.83888 14.378 2.5718 14.1084 2.51189C13.8389 2.45199 13.5718 2.62195 13.5119 2.89152L9.51189 20.8915C9.45199 21.1611 9.62195 21.4282 9.89152 21.4881C10.1611 21.548 10.4282 21.378 10.4881 21.1084L14.4881 3.10845ZM7.70711 15.7071C7.31658 16.0976 6.68342 16.0976 6.29289 15.7071L1.29289 10.7071C0.902369 10.3166 0.902369 9.68342 1.29289 9.29289L6.29289 4.29289C6.68342 3.90237 7.31658 3.90237 7.70711 4.29289C8.09763 4.68342 8.09763 5.31658 7.70711 5.70711L3.41421 10L7.70711 14.2929C8.09763 14.6834 8.09763 15.3166 7.70711 15.7071ZM16.2929 8.29289C16.6834 7.90237 17.3166 7.90237 17.7071 8.29289L22.7071 13.2929C23.0976 13.6834 23.0976 14.3166 22.7071 14.7071L17.7071 19.7071C17.3166 20.0976 16.6834 20.0976 16.2929 19.7071C15.9024 19.3166 15.9024 18.6834 16.2929 18.2929L20.5858 14L16.2929 9.70711C15.9024 9.31658 15.9024 8.68342 16.2929 8.29289Z"})),access:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.40625 11.125H22.0312V13.125H8.40625V11.125Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0156 16.125L14.0156 11.125L16.0156 11.125L16.0156 16.125L14.0156 16.125Z"}),react.exports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0156 16.125L18.0156 11.125L20.0156 11.125L20.0156 16.125L18.0156 16.125Z"}),react.exports.createElement("circle",{cx:"5.90625",cy:"12",r:"2.6875",strokeWidth:"2"})),ros:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",null),react.exports.createElement("circle",{cx:"6.4",cy:"6.4",r:"1.4"}),react.exports.createElement("circle",{cx:"6.4",cy:"12",r:"1.4"}),react.exports.createElement("circle",{cx:"6.4",cy:"17.6",r:"1.4"}),react.exports.createElement("circle",{cx:"12",cy:"6.4",r:"1.4"}),react.exports.createElement("circle",{cx:"12",cy:"12",r:"1.4"}),react.exports.createElement("circle",{cx:"12",cy:"17.6",r:"1.4"}),react.exports.createElement("circle",{cx:"17.6",cy:"6.4",r:"1.4"}),react.exports.createElement("circle",{cx:"17.6",cy:"12",r:"1.4"}),react.exports.createElement("circle",{cx:"17.6",cy:"17.6",r:"1.4"})),adapter:()=>react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("path",{d:"M6.9375 6.03937L6.9375 5.03937L5.9375 5.03937L4.2375 5.03937C3.51953 5.03937 2.9375 5.6214 2.9375 6.33937L2.9375 17.6606C2.9375 18.3786 3.51953 18.9606 4.2375 18.9606L5.9375 18.9606L6.9375 18.9606L6.9375 17.9606L6.9375 6.03937Z",strokeWidth:"2"}),react.exports.createElement("path",{d:"M16.9933 17.9606L16.9933 18.9606L17.9933 18.9606L19.6933 18.9606C20.4113 18.9606 20.9933 18.3785 20.9933 17.6606L20.9933 6.33934C20.9933 5.62137 20.4113 5.03934 19.6933 5.03934L17.9933 5.03934L16.9933 5.03934L16.9933 6.03934L16.9933 17.9606Z",strokeWidth:"2"}),react.exports.createElement("path",{d:"M16.0232 14.5469L14.5352 14.5469C14.2524 14.5469 14.0232 14.3176 14.0232 14.0349L14.0232 9.96514C14.0232 9.68236 14.2524 9.45312 14.5352 9.45312L16.0232 9.45312L16.0232 14.5469Z"}),react.exports.createElement("path",{d:"M7.93213 14.8647H10.4201C10.7029 14.8647 10.9321 15.094 10.9321 15.3768V19.4465C10.9321 19.7293 10.7029 19.9585 10.4201 19.9585H7.93213L7.93213 14.8647Z"}),react.exports.createElement("path",{d:"M7.93213 4.05225H10.4201C10.7029 4.05225 10.9321 4.28148 10.9321 4.56426V8.63398C10.9321 8.91676 10.7029 9.146 10.4201 9.146H7.93213L7.93213 4.05225Z"}))};function Icon(tt){return react.exports.createElement(SvgIcon$1,__spreadValues$2({sx:tt.sx},tt),icons[tt.name]())}var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},lib={},uaParser_min={exports:{}};(function(tt,et){(function(nt,rt){var it="1.0.2",ot="",at="?",st="function",lt="undefined",ct="object",ft="string",ut="major",dt="model",ht="name",pt="type",gt="vendor",mt="version",yt="architecture",bt="console",St="mobile",xt="tablet",vt="smarttv",$t="wearable",zt="embedded",Nt=255,wt="Amazon",Et="Apple",Rt="ASUS",Tt="BlackBerry",It="Browser",Pt="Chrome",Dt="Edge",Ct="Firefox",Ot="Google",Ut="Huawei",At="LG",Mt="Microsoft",jt="Motorola",kt="Opera",Gt="Samsung",Ht="Sony",Jt="Xiaomi",Vt="Zebra",Wt="Facebook",Lt=function(cn,ln){var bn={};for(var xn in cn)ln[xn]&&ln[xn].length%2===0?bn[xn]=ln[xn].concat(cn[xn]):bn[xn]=cn[xn];return bn},Bt=function(cn){for(var ln={},bn=0;bn<cn.length;bn++)ln[cn[bn].toUpperCase()]=cn[bn];return ln},Ft=function(cn,ln){return typeof cn===ft?sn(ln).indexOf(sn(cn))!==-1:!1},sn=function(cn){return cn.toLowerCase()},Xt=function(cn){return typeof cn===ft?cn.replace(/[^\d\.]/g,ot).split(".")[0]:rt},dn=function(cn,ln){if(typeof cn===ft)return cn=cn.replace(/^\s\s*/,ot).replace(/\s\s*$/,ot),typeof ln===lt?cn:cn.substring(0,Nt)},Yt=function(cn,ln){for(var bn=0,xn,Nn,zn,Ln,Mn,Wn;bn<ln.length&&!Mn;){var Jn=ln[bn],Zn=ln[bn+1];for(xn=Nn=0;xn<Jn.length&&!Mn;)if(Mn=Jn[xn++].exec(cn),Mn)for(zn=0;zn<Zn.length;zn++)Wn=Mn[++Nn],Ln=Zn[zn],typeof Ln===ct&&Ln.length>0?Ln.length===2?typeof Ln[1]==st?this[Ln[0]]=Ln[1].call(this,Wn):this[Ln[0]]=Ln[1]:Ln.length===3?typeof Ln[1]===st&&!(Ln[1].exec&&Ln[1].test)?this[Ln[0]]=Wn?Ln[1].call(this,Wn,Ln[2]):rt:this[Ln[0]]=Wn?Wn.replace(Ln[1],Ln[2]):rt:Ln.length===4&&(this[Ln[0]]=Wn?Ln[3].call(this,Wn.replace(Ln[1],Ln[2])):rt):this[Ln]=Wn||rt;bn+=2}},yn=function(cn,ln){for(var bn in ln)if(typeof ln[bn]===ct&&ln[bn].length>0){for(var xn=0;xn<ln[bn].length;xn++)if(Ft(ln[bn][xn],cn))return bn===at?rt:bn}else if(Ft(ln[bn],cn))return bn===at?rt:bn;return cn},Qt={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Kt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},hn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[mt,[ht,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[mt,[ht,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ht,mt],[/opios[\/ ]+([\w\.]+)/i],[mt,[ht,kt+" Mini"]],[/\bopr\/([\w\.]+)/i],[mt,[ht,kt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[ht,mt],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[mt,[ht,"UC"+It]],[/\bqbcore\/([\w\.]+)/i],[mt,[ht,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[mt,[ht,"WeChat"]],[/konqueror\/([\w\.]+)/i],[mt,[ht,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[mt,[ht,"IE"]],[/yabrowser\/([\w\.]+)/i],[mt,[ht,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[ht,/(.+)/,"$1 Secure "+It],mt],[/\bfocus\/([\w\.]+)/i],[mt,[ht,Ct+" Focus"]],[/\bopt\/([\w\.]+)/i],[mt,[ht,kt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[mt,[ht,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[mt,[ht,"Dolphin"]],[/coast\/([\w\.]+)/i],[mt,[ht,kt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[mt,[ht,"MIUI "+It]],[/fxios\/([-\w\.]+)/i],[mt,[ht,Ct]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ht,"360 "+It]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[ht,/(.+)/,"$1 "+It],mt],[/(comodo_dragon)\/([\w\.]+)/i],[[ht,/_/g," "],mt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[ht,mt],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[ht],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ht,Wt],mt],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[ht,mt],[/\bgsa\/([\w\.]+) .*safari\//i],[mt,[ht,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[mt,[ht,Pt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ht,Pt+" WebView"],mt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[mt,[ht,"Android "+It]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ht,mt],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[mt,[ht,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[mt,ht],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ht,[mt,yn,Qt]],[/(webkit|khtml)\/([\w\.]+)/i],[ht,mt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ht,"Netscape"],mt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[mt,[ht,Ct+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ht,mt]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[yt,"amd64"]],[/(ia32(?=;))/i],[[yt,sn]],[/((?:i[346]|x)86)[;\)]/i],[[yt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[yt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[yt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[yt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[yt,/ower/,ot,sn]],[/(sun4\w)[;\)]/i],[[yt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[yt,sn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[dt,[gt,Gt],[pt,xt]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[dt,[gt,Gt],[pt,St]],[/\((ip(?:hone|od)[\w ]*);/i],[dt,[gt,Et],[pt,St]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[dt,[gt,Et],[pt,xt]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[dt,[gt,Ut],[pt,xt]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[dt,[gt,Ut],[pt,St]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[dt,/_/g," "],[gt,Jt],[pt,St]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[dt,/_/g," "],[gt,Jt],[pt,xt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[dt,[gt,"OPPO"],[pt,St]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[dt,[gt,"Vivo"],[pt,St]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[dt,[gt,"Realme"],[pt,St]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[dt,[gt,jt],[pt,St]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[dt,[gt,jt],[pt,xt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[dt,[gt,At],[pt,xt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[dt,[gt,At],[pt,St]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[dt,[gt,"Lenovo"],[pt,xt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[dt,/_/g," "],[gt,"Nokia"],[pt,St]],[/(pixel c)\b/i],[dt,[gt,Ot],[pt,xt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[dt,[gt,Ot],[pt,St]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[dt,[gt,Ht],[pt,St]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[dt,"Xperia Tablet"],[gt,Ht],[pt,xt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[dt,[gt,"OnePlus"],[pt,St]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[dt,[gt,wt],[pt,xt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[dt,/(.+)/g,"Fire Phone $1"],[gt,wt],[pt,St]],[/(playbook);[-\w\),; ]+(rim)/i],[dt,gt,[pt,xt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[dt,[gt,Tt],[pt,St]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[dt,[gt,Rt],[pt,xt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[dt,[gt,Rt],[pt,St]],[/(nexus 9)/i],[dt,[gt,"HTC"],[pt,xt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[gt,[dt,/_/g," "],[pt,St]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[dt,[gt,"Acer"],[pt,xt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[dt,[gt,"Meizu"],[pt,St]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[dt,[gt,"Sharp"],[pt,St]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[gt,dt,[pt,St]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[gt,dt,[pt,xt]],[/(surface duo)/i],[dt,[gt,Mt],[pt,xt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[dt,[gt,"Fairphone"],[pt,St]],[/(u304aa)/i],[dt,[gt,"AT&T"],[pt,St]],[/\bsie-(\w*)/i],[dt,[gt,"Siemens"],[pt,St]],[/\b(rct\w+) b/i],[dt,[gt,"RCA"],[pt,xt]],[/\b(venue[\d ]{2,7}) b/i],[dt,[gt,"Dell"],[pt,xt]],[/\b(q(?:mv|ta)\w+) b/i],[dt,[gt,"Verizon"],[pt,xt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[dt,[gt,"Barnes & Noble"],[pt,xt]],[/\b(tm\d{3}\w+) b/i],[dt,[gt,"NuVision"],[pt,xt]],[/\b(k88) b/i],[dt,[gt,"ZTE"],[pt,xt]],[/\b(nx\d{3}j) b/i],[dt,[gt,"ZTE"],[pt,St]],[/\b(gen\d{3}) b.+49h/i],[dt,[gt,"Swiss"],[pt,St]],[/\b(zur\d{3}) b/i],[dt,[gt,"Swiss"],[pt,xt]],[/\b((zeki)?tb.*\b) b/i],[dt,[gt,"Zeki"],[pt,xt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[gt,"Dragon Touch"],dt,[pt,xt]],[/\b(ns-?\w{0,9}) b/i],[dt,[gt,"Insignia"],[pt,xt]],[/\b((nxa|next)-?\w{0,9}) b/i],[dt,[gt,"NextBook"],[pt,xt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[gt,"Voice"],dt,[pt,St]],[/\b(lvtel\-)?(v1[12]) b/i],[[gt,"LvTel"],dt,[pt,St]],[/\b(ph-1) /i],[dt,[gt,"Essential"],[pt,St]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[dt,[gt,"Envizen"],[pt,xt]],[/\b(trio[-\w\. ]+) b/i],[dt,[gt,"MachSpeed"],[pt,xt]],[/\btu_(1491) b/i],[dt,[gt,"Rotor"],[pt,xt]],[/(shield[\w ]+) b/i],[dt,[gt,"Nvidia"],[pt,xt]],[/(sprint) (\w+)/i],[gt,dt,[pt,St]],[/(kin\.[onetw]{3})/i],[[dt,/\./g," "],[gt,Mt],[pt,St]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[dt,[gt,Vt],[pt,xt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[dt,[gt,Vt],[pt,St]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[gt,dt,[pt,bt]],[/droid.+; (shield) bui/i],[dt,[gt,"Nvidia"],[pt,bt]],[/(playstation [345portablevi]+)/i],[dt,[gt,Ht],[pt,bt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[dt,[gt,Mt],[pt,bt]],[/smart-tv.+(samsung)/i],[gt,[pt,vt]],[/hbbtv.+maple;(\d+)/i],[[dt,/^/,"SmartTV"],[gt,Gt],[pt,vt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[gt,At],[pt,vt]],[/(apple) ?tv/i],[gt,[dt,Et+" TV"],[pt,vt]],[/crkey/i],[[dt,Pt+"cast"],[gt,Ot],[pt,vt]],[/droid.+aft(\w)( bui|\))/i],[dt,[gt,wt],[pt,vt]],[/\(dtv[\);].+(aquos)/i],[dt,[gt,"Sharp"],[pt,vt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[gt,dn],[dt,dn],[pt,vt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[pt,vt]],[/((pebble))app/i],[gt,dt,[pt,$t]],[/droid.+; (glass) \d/i],[dt,[gt,Ot],[pt,$t]],[/droid.+; (wt63?0{2,3})\)/i],[dt,[gt,Vt],[pt,$t]],[/(quest( 2)?)/i],[dt,[gt,Wt],[pt,$t]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[gt,[pt,zt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[dt,[pt,St]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[dt,[pt,xt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[pt,xt]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[pt,St]],[/(android[-\w\. ]{0,9});.+buil/i],[dt,[gt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[mt,[ht,Dt+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[mt,[ht,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[ht,mt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[mt,ht]],os:[[/microsoft (windows) (vista|xp)/i],[ht,mt],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[ht,[mt,yn,Kt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[ht,"Windows"],[mt,yn,Kt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[mt,/_/g,"."],[ht,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ht,"Mac OS"],[mt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[mt,ht],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ht,mt],[/\(bb(10);/i],[mt,[ht,Tt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[mt,[ht,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[mt,[ht,Ct+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[mt,[ht,"webOS"]],[/crkey\/([\d\.]+)/i],[mt,[ht,Pt+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[ht,"Chromium OS"],mt],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ht,mt],[/(sunos) ?([\w\.\d]*)/i],[[ht,"Solaris"],mt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[ht,mt]]},vn=function(cn,ln){if(typeof cn===ct&&(ln=cn,cn=rt),!(this instanceof vn))return new vn(cn,ln).getResult();var bn=cn||(typeof nt!==lt&&nt.navigator&&nt.navigator.userAgent?nt.navigator.userAgent:ot),xn=ln?Lt(hn,ln):hn;return this.getBrowser=function(){var Nn={};return Nn[ht]=rt,Nn[mt]=rt,Yt.call(Nn,bn,xn.browser),Nn.major=Xt(Nn.version),Nn},this.getCPU=function(){var Nn={};return Nn[yt]=rt,Yt.call(Nn,bn,xn.cpu),Nn},this.getDevice=function(){var Nn={};return Nn[gt]=rt,Nn[dt]=rt,Nn[pt]=rt,Yt.call(Nn,bn,xn.device),Nn},this.getEngine=function(){var Nn={};return Nn[ht]=rt,Nn[mt]=rt,Yt.call(Nn,bn,xn.engine),Nn},this.getOS=function(){var Nn={};return Nn[ht]=rt,Nn[mt]=rt,Yt.call(Nn,bn,xn.os),Nn},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return bn},this.setUA=function(Nn){return bn=typeof Nn===ft&&Nn.length>Nt?dn(Nn,Nt):Nn,this},this.setUA(bn),this};vn.VERSION=it,vn.BROWSER=Bt([ht,mt,ut]),vn.CPU=Bt([yt]),vn.DEVICE=Bt([dt,gt,pt,bt,St,vt,xt,$t,zt]),vn.ENGINE=vn.OS=Bt([ht,mt]),tt.exports&&(et=tt.exports=vn),et.UAParser=vn;var Sn=typeof nt!==lt&&(nt.jQuery||nt.Zepto);if(Sn&&!Sn.ua){var Cn=new vn;Sn.ua=Cn.getResult(),Sn.ua.get=function(){return Cn.getUA()},Sn.ua.set=function(cn){Cn.setUA(cn);var ln=Cn.getResult();for(var bn in ln)Sn.ua[bn]=ln[bn]}}})(typeof window=="object"?window:commonjsGlobal$1)})(uaParser_min,uaParser_min.exports);Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(tt){return tt&&typeof tt=="object"&&"default"in tt?tt.default:tt}var React=React__default$2,React__default=_interopDefault(React),UAParser=uaParser_min.exports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function tt(et){return ClientUAInstance.setUA(et)},parseUserAgent=function tt(et){if(!et){console.error("No userAgent string was provided");return}var nt=new UAParser(et);return{UA:nt,browser:nt.getBrowser(),cpu:nt.getCPU(),device:nt.getDevice(),engine:nt.getEngine(),os:nt.getOS(),ua:nt.getUA(),setUserAgent:function(it){return nt.setUA(it)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(tt,et){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);et&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread2(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(nt),!0).forEach(function(rt){_defineProperty(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function _typeof(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(et){return typeof et}:_typeof=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(tt)}function _classCallCheck(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties(tt,et){for(var nt=0;nt<et.length;nt++){var rt=et[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}function _createClass(tt,et,nt){return et&&_defineProperties(tt.prototype,et),nt&&_defineProperties(tt,nt),tt}function _defineProperty(tt,et,nt){return et in tt?Object.defineProperty(tt,et,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=nt,tt}function _extends(){return _extends=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends.apply(this,arguments)}function _inherits(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),et&&_setPrototypeOf(tt,et)}function _getPrototypeOf(tt){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},_getPrototypeOf(tt)}function _setPrototypeOf(tt,et){return _setPrototypeOf=Object.setPrototypeOf||function(rt,it){return rt.__proto__=it,rt},_setPrototypeOf(tt,et)}function _objectWithoutPropertiesLoose(tt,et){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,ot;for(ot=0;ot<rt.length;ot++)it=rt[ot],!(et.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}function _objectWithoutProperties(tt,et){if(tt==null)return{};var nt=_objectWithoutPropertiesLoose(tt,et),rt,it;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(tt);for(it=0;it<ot.length;it++)rt=ot[it],!(et.indexOf(rt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(tt,rt)||(nt[rt]=tt[rt]))}return nt}function _assertThisInitialized(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function _possibleConstructorReturn(tt,et){if(et&&(typeof et=="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(tt)}function _slicedToArray(tt,et){return _arrayWithHoles(tt)||_iterableToArrayLimit(tt,et)||_unsupportedIterableToArray(tt,et)||_nonIterableRest()}function _arrayWithHoles(tt){if(Array.isArray(tt))return tt}function _iterableToArrayLimit(tt,et){var nt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(nt!=null){var rt=[],it=!0,ot=!1,at,st;try{for(nt=nt.call(tt);!(it=(at=nt.next()).done)&&(rt.push(at.value),!(et&&rt.length===et));it=!0);}catch(lt){ot=!0,st=lt}finally{try{!it&&nt.return!=null&&nt.return()}finally{if(ot)throw st}}return rt}}function _unsupportedIterableToArray(tt,et){if(!!tt){if(typeof tt=="string")return _arrayLikeToArray(tt,et);var nt=Object.prototype.toString.call(tt).slice(8,-1);if(nt==="Object"&&tt.constructor&&(nt=tt.constructor.name),nt==="Map"||nt==="Set")return Array.from(tt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return _arrayLikeToArray(tt,et)}}function _arrayLikeToArray(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var nt=0,rt=new Array(et);nt<et;nt++)rt[nt]=tt[nt];return rt}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function tt(et){switch(et){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function tt(et){return setUa(et)},setDefaults=function tt(et){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return et||nt},getNavigatorInstance=function tt(){return typeof window!="undefined"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function tt(et){var nt=getNavigatorInstance();return nt&&nt.platform&&(nt.platform.indexOf(et)!==-1||nt.platform==="MacIntel"&&nt.maxTouchPoints>1&&!window.MSStream)},browserPayload=function tt(et,nt,rt,it,ot){return{isBrowser:et,browserMajorVersion:setDefaults(nt.major),browserFullVersion:setDefaults(nt.version),browserName:setDefaults(nt.name),engineName:setDefaults(rt.name),engineVersion:setDefaults(rt.version),osName:setDefaults(it.name),osVersion:setDefaults(it.version),userAgent:setDefaults(ot)}},mobilePayload=function tt(et,nt,rt,it){return _objectSpread2({},et,{vendor:setDefaults(nt.vendor),model:setDefaults(nt.model),os:setDefaults(rt.name),osVersion:setDefaults(rt.version),ua:setDefaults(it)})},smartTvPayload=function tt(et,nt,rt,it){return{isSmartTV:et,engineName:setDefaults(nt.name),engineVersion:setDefaults(nt.version),osName:setDefaults(rt.name),osVersion:setDefaults(rt.version),userAgent:setDefaults(it)}},consolePayload=function tt(et,nt,rt,it){return{isConsole:et,engineName:setDefaults(nt.name),engineVersion:setDefaults(nt.version),osName:setDefaults(rt.name),osVersion:setDefaults(rt.version),userAgent:setDefaults(it)}},wearablePayload=function tt(et,nt,rt,it){return{isWearable:et,engineName:setDefaults(nt.name),engineVersion:setDefaults(nt.version),osName:setDefaults(rt.name),osVersion:setDefaults(rt.version),userAgent:setDefaults(it)}},embeddedPayload=function tt(et,nt,rt,it,ot){return{isEmbedded:et,vendor:setDefaults(nt.vendor),model:setDefaults(nt.model),engineName:setDefaults(rt.name),engineVersion:setDefaults(rt.version),osName:setDefaults(it.name),osVersion:setDefaults(it.version),userAgent:setDefaults(ot)}};function deviceDetect(tt){var et=tt?parseUserAgent(tt):UAHelper,nt=et.device,rt=et.browser,it=et.engine,ot=et.os,at=et.ua,st=checkDeviceType(nt.type),lt=st.isBrowser,ct=st.isMobile,ft=st.isTablet,ut=st.isSmartTV,dt=st.isConsole,ht=st.isWearable,pt=st.isEmbedded;if(lt)return browserPayload(lt,rt,it,ot,at);if(ut)return smartTvPayload(ut,it,ot,at);if(dt)return consolePayload(dt,it,ot,at);if(ct||ft)return mobilePayload(st,nt,ot,at);if(ht)return wearablePayload(ht,it,ot,at);if(pt)return embeddedPayload(pt,nt,it,ot,at)}var isMobileType=function tt(et){var nt=et.type;return nt===DeviceTypes.Mobile},isTabletType=function tt(et){var nt=et.type;return nt===DeviceTypes.Tablet},isMobileAndTabletType=function tt(et){var nt=et.type;return nt===DeviceTypes.Mobile||nt===DeviceTypes.Tablet},isSmartTVType=function tt(et){var nt=et.type;return nt===DeviceTypes.SmartTv},isBrowserType=function tt(et){var nt=et.type;return nt===DeviceTypes.Browser},isWearableType=function tt(et){var nt=et.type;return nt===DeviceTypes.Wearable},isConsoleType=function tt(et){var nt=et.type;return nt===DeviceTypes.Console},isEmbeddedType=function tt(et){var nt=et.type;return nt===DeviceTypes.Embedded},getMobileVendor=function tt(et){var nt=et.vendor;return setDefaults(nt)},getMobileModel=function tt(et){var nt=et.model;return setDefaults(nt)},getDeviceType=function tt(et){var nt=et.type;return setDefaults(nt,"browser")},isAndroidType=function tt(et){var nt=et.name;return nt===OsTypes.Android},isWindowsType=function tt(et){var nt=et.name;return nt===OsTypes.Windows},isMacOsType=function tt(et){var nt=et.name;return nt===OsTypes.MAC_OS},isWinPhoneType=function tt(et){var nt=et.name;return nt===OsTypes.WindowsPhone},isIOSType=function tt(et){var nt=et.name;return nt===OsTypes.IOS},getOsVersion=function tt(et){var nt=et.version;return setDefaults(nt)},getOsName=function tt(et){var nt=et.name;return setDefaults(nt)},isChromeType=function tt(et){var nt=et.name;return nt===BrowserTypes.Chrome},isFirefoxType=function tt(et){var nt=et.name;return nt===BrowserTypes.Firefox},isChromiumType=function tt(et){var nt=et.name;return nt===BrowserTypes.Chromium},isEdgeType=function tt(et){var nt=et.name;return nt===BrowserTypes.Edge},isYandexType=function tt(et){var nt=et.name;return nt===BrowserTypes.Yandex},isSafariType=function tt(et){var nt=et.name;return nt===BrowserTypes.Safari||nt===BrowserTypes.MobileSafari},isMobileSafariType=function tt(et){var nt=et.name;return nt===BrowserTypes.MobileSafari},isOperaType=function tt(et){var nt=et.name;return nt===BrowserTypes.Opera},isIEType=function tt(et){var nt=et.name;return nt===BrowserTypes.InternetExplorer||nt===BrowserTypes.Ie},isMIUIType=function tt(et){var nt=et.name;return nt===BrowserTypes.MIUI},isSamsungBrowserType=function tt(et){var nt=et.name;return nt===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function tt(et){var nt=et.version;return setDefaults(nt)},getBrowserVersion=function tt(et){var nt=et.major;return setDefaults(nt)},getBrowserName=function tt(et){var nt=et.name;return setDefaults(nt)},getEngineName=function tt(et){var nt=et.name;return setDefaults(nt)},getEngineVersion=function tt(et){var nt=et.version;return setDefaults(nt)},isElectronType=function tt(){var et=getNavigatorInstance(),nt=et&&et.userAgent&&et.userAgent.toLowerCase();return typeof nt=="string"?/electron/.test(nt):!1},isEdgeChromiumType=function tt(et){return typeof et=="string"&&et.indexOf("Edg/")!==-1},getIOS13=function tt(){var et=getNavigatorInstance();return et&&(/iPad|iPhone|iPod/.test(et.platform)||et.platform==="MacIntel"&&et.maxTouchPoints>1)&&!window.MSStream},getIPad13=function tt(){return isIOS13Check("iPad")},getIphone13=function tt(){return isIOS13Check("iPhone")},getIPod13=function tt(){return isIOS13Check("iPod")},getUseragent=function tt(et){return setDefaults(et)};function buildSelectorsObject(tt){var et=tt||UAHelper,nt=et.device,rt=et.browser,it=et.os,ot=et.engine,at=et.ua;return{isSmartTV:isSmartTVType(nt),isConsole:isConsoleType(nt),isWearable:isWearableType(nt),isEmbedded:isEmbeddedType(nt),isMobileSafari:isMobileSafariType(rt)||getIPad13(),isChromium:isChromiumType(rt),isMobile:isMobileAndTabletType(nt)||getIPad13(),isMobileOnly:isMobileType(nt),isTablet:isTabletType(nt)||getIPad13(),isBrowser:isBrowserType(nt),isDesktop:isBrowserType(nt),isAndroid:isAndroidType(it),isWinPhone:isWinPhoneType(it),isIOS:isIOSType(it)||getIPad13(),isChrome:isChromeType(rt),isFirefox:isFirefoxType(rt),isSafari:isSafariType(rt),isOpera:isOperaType(rt),isIE:isIEType(rt),osVersion:getOsVersion(it),osName:getOsName(it),fullBrowserVersion:getBrowserFullVersion(rt),browserVersion:getBrowserVersion(rt),browserName:getBrowserName(rt),mobileVendor:getMobileVendor(nt),mobileModel:getMobileModel(nt),engineName:getEngineName(ot),engineVersion:getEngineVersion(ot),getUA:getUseragent(at),isEdge:isEdgeType(rt)||isEdgeChromiumType(at),isYandex:isYandexType(rt),deviceType:getDeviceType(nt),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(at),isLegacyEdge:isEdgeType(rt)&&!isEdgeChromiumType(at),isWindows:isWindowsType(it),isMacOs:isMacOsType(it),isMIUI:isMIUIType(rt),isSamsungBrowser:isSamsungBrowserType(rt)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function tt(et){if(!et||typeof et!="string"){console.error("No valid user agent string was provided");return}var nt=parseUserAgent(et),rt=nt.device,it=nt.browser,ot=nt.os,at=nt.engine,st=nt.ua;return buildSelectorsObject({device:rt,browser:it,os:ot,engine:at,ua:st})},AndroidView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isAndroid?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},BrowserView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isBrowser?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},IEView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isIE?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},IOSView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isIOS?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},MobileView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isMobile?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},TabletView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isTablet?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},WinPhoneView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isWinPhone?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},MobileOnlyView=function tt(et){var nt=et.renderWithFragment,rt=et.children;et.viewClassName,et.style;var it=_objectWithoutProperties(et,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},SmartTVView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isSmartTV?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},ConsoleView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isConsole?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},WearableView=function tt(et){var nt=et.renderWithFragment,rt=et.children,it=_objectWithoutProperties(et,["renderWithFragment","children"]);return isWearable?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",it,rt):null},CustomView=function tt(et){var nt=et.renderWithFragment,rt=et.children;et.viewClassName,et.style;var it=et.condition,ot=_objectWithoutProperties(et,["renderWithFragment","children","viewClassName","style","condition"]);return it?nt?React__default.createElement(React.Fragment,null,rt):React__default.createElement("div",ot,rt):null};function withOrientationChange(tt){return function(et){_inherits(nt,et);function nt(rt){var it;return _classCallCheck(this,nt),it=_possibleConstructorReturn(this,_getPrototypeOf(nt).call(this,rt)),it.isEventListenerAdded=!1,it.handleOrientationChange=it.handleOrientationChange.bind(_assertThisInitialized(it)),it.onOrientationChange=it.onOrientationChange.bind(_assertThisInitialized(it)),it.onPageLoad=it.onPageLoad.bind(_assertThisInitialized(it)),it.state={isLandscape:!1,isPortrait:!1},it}return _createClass(nt,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var it=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:it===0,isLandscape:it===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window=="undefined"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(tt,_extends({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),nt}(React__default.Component)}function useMobileOrientation(){var tt=React.useState(function(){var ot=window.innerWidth>window.innerHeight?90:0;return{isPortrait:ot===0,isLandscape:ot===90,orientation:ot===0?"portrait":"landscape"}}),et=_slicedToArray(tt,2),nt=et[0],rt=et[1],it=React.useCallback(function(){var ot=window.innerWidth>window.innerHeight?90:0,at={isPortrait:ot===0,isLandscape:ot===90,orientation:ot===0?"portrait":"landscape"};nt.orientation!==at.orientation&&rt(at)},[nt.orientation]);return React.useEffect(function(){return(typeof window=="undefined"?"undefined":_typeof(window))!==void 0&&isMobile&&(it(),window.addEventListener("load",it,!1),window.addEventListener("resize",it,!1)),function(){window.removeEventListener("resize",it,!1),window.removeEventListener("load",it,!1)}},[it]),nt}function useDeviceData(tt){var et=tt||window.navigator.userAgent;return parseUserAgent(et)}function useDeviceSelectors(tt){var et=tt||window.navigator.userAgent,nt=useDeviceData(et),rt=buildSelectorsObject(nt);return[rt,nt]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;var BrowserView_1=lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;var MobileView_1=lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;function Select(tt){const et=rt=>{tt.onChange&&tt.onChange(rt.target.value)},nt=rt=>{tt.onChange&&tt.onChange(rt.target.value)};return React__default$2.createElement(React__default$2.Fragment,null,React__default$2.createElement(MobileView_1,null,React__default$2.createElement(FormControl$1,{sx:__spreadValues$2({minWidth:"20rem"},tt.sx||{}),fullWidth:tt.fullWidth},React__default$2.createElement(NativeSelect$1,{value:tt.value,onChange:nt},(tt.items||[]).map(rt=>React__default$2.createElement("option",{key:rt.label,value:rt.value},rt.label))))),React__default$2.createElement(BrowserView_1,null,React__default$2.createElement(FormControl$1,{sx:__spreadValues$2({minWidth:"20rem"},tt.sx||{}),fullWidth:tt.fullWidth,variant:"filled"},React__default$2.createElement(InputLabel$1,null,tt.label),React__default$2.createElement(Select$1$1,{value:tt.value,label:tt.label,onChange:et},(tt.items||[]).map(rt=>React__default$2.createElement(MenuItem$1,{key:rt.label,value:rt.value},rt.label))))))}function stylis_min(tt){function et(kt,Gt,Ht,Jt,Vt){for(var Wt=0,Lt=0,Bt=0,Ft=0,sn,Xt,dn=0,Yt=0,yn,Qt=yn=sn=0,Kt=0,hn=0,vn=0,Sn=0,Cn=Ht.length,cn=Cn-1,ln,bn="",xn="",Nn="",zn="",Ln;Kt<Cn;){if(Xt=Ht.charCodeAt(Kt),Kt===cn&&Lt+Ft+Bt+Wt!==0&&(Lt!==0&&(Xt=Lt===47?10:47),Ft=Bt=Wt=0,Cn++,cn++),Lt+Ft+Bt+Wt===0){if(Kt===cn&&(0<hn&&(bn=bn.replace(dt,"")),0<bn.trim().length)){switch(Xt){case 32:case 9:case 59:case 13:case 10:break;default:bn+=Ht.charAt(Kt)}Xt=59}switch(Xt){case 123:for(bn=bn.trim(),sn=bn.charCodeAt(0),yn=1,Sn=++Kt;Kt<Cn;){switch(Xt=Ht.charCodeAt(Kt)){case 123:yn++;break;case 125:yn--;break;case 47:switch(Xt=Ht.charCodeAt(Kt+1)){case 42:case 47:e:{for(Qt=Kt+1;Qt<cn;++Qt)switch(Ht.charCodeAt(Qt)){case 47:if(Xt===42&&Ht.charCodeAt(Qt-1)===42&&Kt+2!==Qt){Kt=Qt+1;break e}break;case 10:if(Xt===47){Kt=Qt+1;break e}}Kt=Qt}}break;case 91:Xt++;case 40:Xt++;case 34:case 39:for(;Kt++<cn&&Ht.charCodeAt(Kt)!==Xt;);}if(yn===0)break;Kt++}switch(yn=Ht.substring(Sn,Kt),sn===0&&(sn=(bn=bn.replace(ut,"").trim()).charCodeAt(0)),sn){case 64:switch(0<hn&&(bn=bn.replace(dt,"")),Xt=bn.charCodeAt(1),Xt){case 100:case 109:case 115:case 45:hn=Gt;break;default:hn=Ct}if(yn=et(Gt,hn,yn,Xt,Vt+1),Sn=yn.length,0<Ut&&(hn=nt(Ct,bn,vn),Ln=st(3,yn,hn,Gt,It,Tt,Sn,Xt,Vt,Jt),bn=hn.join(""),Ln!==void 0&&(Sn=(yn=Ln.trim()).length)===0&&(Xt=0,yn="")),0<Sn)switch(Xt){case 115:bn=bn.replace($t,at);case 100:case 109:case 45:yn=bn+"{"+yn+"}";break;case 107:bn=bn.replace(bt,"$1 $2"),yn=bn+"{"+yn+"}",yn=Dt===1||Dt===2&&ot("@"+yn,3)?"@-webkit-"+yn+"@"+yn:"@"+yn;break;default:yn=bn+yn,Jt===112&&(yn=(xn+=yn,""))}else yn="";break;default:yn=et(Gt,nt(Gt,bn,vn),yn,Jt,Vt+1)}Nn+=yn,yn=vn=hn=Qt=sn=0,bn="",Xt=Ht.charCodeAt(++Kt);break;case 125:case 59:if(bn=(0<hn?bn.replace(dt,""):bn).trim(),1<(Sn=bn.length))switch(Qt===0&&(sn=bn.charCodeAt(0),sn===45||96<sn&&123>sn)&&(Sn=(bn=bn.replace(" ",":")).length),0<Ut&&(Ln=st(1,bn,Gt,kt,It,Tt,xn.length,Jt,Vt,Jt))!==void 0&&(Sn=(bn=Ln.trim()).length)===0&&(bn="\0\0"),sn=bn.charCodeAt(0),Xt=bn.charCodeAt(1),sn){case 0:break;case 64:if(Xt===105||Xt===99){zn+=bn+Ht.charAt(Kt);break}default:bn.charCodeAt(Sn-1)!==58&&(xn+=it(bn,sn,Xt,bn.charCodeAt(2)))}vn=hn=Qt=sn=0,bn="",Xt=Ht.charCodeAt(++Kt)}}switch(Xt){case 13:case 10:Lt===47?Lt=0:1+sn===0&&Jt!==107&&0<bn.length&&(hn=1,bn+="\0"),0<Ut*Mt&&st(0,bn,Gt,kt,It,Tt,xn.length,Jt,Vt,Jt),Tt=1,It++;break;case 59:case 125:if(Lt+Ft+Bt+Wt===0){Tt++;break}default:switch(Tt++,ln=Ht.charAt(Kt),Xt){case 9:case 32:if(Ft+Wt+Lt===0)switch(dn){case 44:case 58:case 9:case 32:ln="";break;default:Xt!==32&&(ln=" ")}break;case 0:ln="\\0";break;case 12:ln="\\f";break;case 11:ln="\\v";break;case 38:Ft+Lt+Wt===0&&(hn=vn=1,ln="\f"+ln);break;case 108:if(Ft+Lt+Wt+Pt===0&&0<Qt)switch(Kt-Qt){case 2:dn===112&&Ht.charCodeAt(Kt-3)===58&&(Pt=dn);case 8:Yt===111&&(Pt=Yt)}break;case 58:Ft+Lt+Wt===0&&(Qt=Kt);break;case 44:Lt+Bt+Ft+Wt===0&&(hn=1,ln+="\r");break;case 34:case 39:Lt===0&&(Ft=Ft===Xt?0:Ft===0?Xt:Ft);break;case 91:Ft+Lt+Bt===0&&Wt++;break;case 93:Ft+Lt+Bt===0&&Wt--;break;case 41:Ft+Lt+Wt===0&&Bt--;break;case 40:if(Ft+Lt+Wt===0){if(sn===0)switch(2*dn+3*Yt){case 533:break;default:sn=1}Bt++}break;case 64:Lt+Bt+Ft+Wt+Qt+yn===0&&(yn=1);break;case 42:case 47:if(!(0<Ft+Wt+Bt))switch(Lt){case 0:switch(2*Xt+3*Ht.charCodeAt(Kt+1)){case 235:Lt=47;break;case 220:Sn=Kt,Lt=42}break;case 42:Xt===47&&dn===42&&Sn+2!==Kt&&(Ht.charCodeAt(Sn+2)===33&&(xn+=Ht.substring(Sn,Kt+1)),ln="",Lt=0)}}Lt===0&&(bn+=ln)}Yt=dn,dn=Xt,Kt++}if(Sn=xn.length,0<Sn){if(hn=Gt,0<Ut&&(Ln=st(2,xn,hn,kt,It,Tt,Sn,Jt,Vt,Jt),Ln!==void 0&&(xn=Ln).length===0))return zn+xn+Nn;if(xn=hn.join(",")+"{"+xn+"}",Dt*Pt!==0){switch(Dt!==2||ot(xn,2)||(Pt=0),Pt){case 111:xn=xn.replace(xt,":-moz-$1")+xn;break;case 112:xn=xn.replace(St,"::-webkit-input-$1")+xn.replace(St,"::-moz-$1")+xn.replace(St,":-ms-input-$1")+xn}Pt=0}}return zn+xn+Nn}function nt(kt,Gt,Ht){var Jt=Gt.trim().split(mt);Gt=Jt;var Vt=Jt.length,Wt=kt.length;switch(Wt){case 0:case 1:var Lt=0;for(kt=Wt===0?"":kt[0]+" ";Lt<Vt;++Lt)Gt[Lt]=rt(kt,Gt[Lt],Ht).trim();break;default:var Bt=Lt=0;for(Gt=[];Lt<Vt;++Lt)for(var Ft=0;Ft<Wt;++Ft)Gt[Bt++]=rt(kt[Ft]+" ",Jt[Lt],Ht).trim()}return Gt}function rt(kt,Gt,Ht){var Jt=Gt.charCodeAt(0);switch(33>Jt&&(Jt=(Gt=Gt.trim()).charCodeAt(0)),Jt){case 38:return Gt.replace(yt,"$1"+kt.trim());case 58:return kt.trim()+Gt.replace(yt,"$1"+kt.trim());default:if(0<1*Ht&&0<Gt.indexOf("\f"))return Gt.replace(yt,(kt.charCodeAt(0)===58?"":"$1")+kt.trim())}return kt+Gt}function it(kt,Gt,Ht,Jt){var Vt=kt+";",Wt=2*Gt+3*Ht+4*Jt;if(Wt===944){kt=Vt.indexOf(":",9)+1;var Lt=Vt.substring(kt,Vt.length-1).trim();return Lt=Vt.substring(0,kt).trim()+Lt+";",Dt===1||Dt===2&&ot(Lt,1)?"-webkit-"+Lt+Lt:Lt}if(Dt===0||Dt===2&&!ot(Vt,1))return Vt;switch(Wt){case 1015:return Vt.charCodeAt(10)===97?"-webkit-"+Vt+Vt:Vt;case 951:return Vt.charCodeAt(3)===116?"-webkit-"+Vt+Vt:Vt;case 963:return Vt.charCodeAt(5)===110?"-webkit-"+Vt+Vt:Vt;case 1009:if(Vt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Vt+Vt;case 978:return"-webkit-"+Vt+"-moz-"+Vt+Vt;case 1019:case 983:return"-webkit-"+Vt+"-moz-"+Vt+"-ms-"+Vt+Vt;case 883:if(Vt.charCodeAt(8)===45)return"-webkit-"+Vt+Vt;if(0<Vt.indexOf("image-set(",11))return Vt.replace(Rt,"$1-webkit-$2")+Vt;break;case 932:if(Vt.charCodeAt(4)===45)switch(Vt.charCodeAt(5)){case 103:return"-webkit-box-"+Vt.replace("-grow","")+"-webkit-"+Vt+"-ms-"+Vt.replace("grow","positive")+Vt;case 115:return"-webkit-"+Vt+"-ms-"+Vt.replace("shrink","negative")+Vt;case 98:return"-webkit-"+Vt+"-ms-"+Vt.replace("basis","preferred-size")+Vt}return"-webkit-"+Vt+"-ms-"+Vt+Vt;case 964:return"-webkit-"+Vt+"-ms-flex-"+Vt+Vt;case 1023:if(Vt.charCodeAt(8)!==99)break;return Lt=Vt.substring(Vt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Lt+"-webkit-"+Vt+"-ms-flex-pack"+Lt+Vt;case 1005:return pt.test(Vt)?Vt.replace(ht,":-webkit-")+Vt.replace(ht,":-moz-")+Vt:Vt;case 1e3:switch(Lt=Vt.substring(13).trim(),Gt=Lt.indexOf("-")+1,Lt.charCodeAt(0)+Lt.charCodeAt(Gt)){case 226:Lt=Vt.replace(vt,"tb");break;case 232:Lt=Vt.replace(vt,"tb-rl");break;case 220:Lt=Vt.replace(vt,"lr");break;default:return Vt}return"-webkit-"+Vt+"-ms-"+Lt+Vt;case 1017:if(Vt.indexOf("sticky",9)===-1)break;case 975:switch(Gt=(Vt=kt).length-10,Lt=(Vt.charCodeAt(Gt)===33?Vt.substring(0,Gt):Vt).substring(kt.indexOf(":",7)+1).trim(),Wt=Lt.charCodeAt(0)+(Lt.charCodeAt(7)|0)){case 203:if(111>Lt.charCodeAt(8))break;case 115:Vt=Vt.replace(Lt,"-webkit-"+Lt)+";"+Vt;break;case 207:case 102:Vt=Vt.replace(Lt,"-webkit-"+(102<Wt?"inline-":"")+"box")+";"+Vt.replace(Lt,"-webkit-"+Lt)+";"+Vt.replace(Lt,"-ms-"+Lt+"box")+";"+Vt}return Vt+";";case 938:if(Vt.charCodeAt(5)===45)switch(Vt.charCodeAt(6)){case 105:return Lt=Vt.replace("-items",""),"-webkit-"+Vt+"-webkit-box-"+Lt+"-ms-flex-"+Lt+Vt;case 115:return"-webkit-"+Vt+"-ms-flex-item-"+Vt.replace(Nt,"")+Vt;default:return"-webkit-"+Vt+"-ms-flex-line-pack"+Vt.replace("align-content","").replace(Nt,"")+Vt}break;case 973:case 989:if(Vt.charCodeAt(3)!==45||Vt.charCodeAt(4)===122)break;case 931:case 953:if(Et.test(kt)===!0)return(Lt=kt.substring(kt.indexOf(":")+1)).charCodeAt(0)===115?it(kt.replace("stretch","fill-available"),Gt,Ht,Jt).replace(":fill-available",":stretch"):Vt.replace(Lt,"-webkit-"+Lt)+Vt.replace(Lt,"-moz-"+Lt.replace("fill-",""))+Vt;break;case 962:if(Vt="-webkit-"+Vt+(Vt.charCodeAt(5)===102?"-ms-"+Vt:"")+Vt,Ht+Jt===211&&Vt.charCodeAt(13)===105&&0<Vt.indexOf("transform",10))return Vt.substring(0,Vt.indexOf(";",27)+1).replace(gt,"$1-webkit-$2")+Vt}return Vt}function ot(kt,Gt){var Ht=kt.indexOf(Gt===1?":":"{"),Jt=kt.substring(0,Gt!==3?Ht:10);return Ht=kt.substring(Ht+1,kt.length-1),At(Gt!==2?Jt:Jt.replace(wt,"$1"),Ht,Gt)}function at(kt,Gt){var Ht=it(Gt,Gt.charCodeAt(0),Gt.charCodeAt(1),Gt.charCodeAt(2));return Ht!==Gt+";"?Ht.replace(zt," or ($1)").substring(4):"("+Gt+")"}function st(kt,Gt,Ht,Jt,Vt,Wt,Lt,Bt,Ft,sn){for(var Xt=0,dn=Gt,Yt;Xt<Ut;++Xt)switch(Yt=Ot[Xt].call(ft,kt,dn,Ht,Jt,Vt,Wt,Lt,Bt,Ft,sn)){case void 0:case!1:case!0:case null:break;default:dn=Yt}if(dn!==Gt)return dn}function lt(kt){switch(kt){case void 0:case null:Ut=Ot.length=0;break;default:if(typeof kt=="function")Ot[Ut++]=kt;else if(typeof kt=="object")for(var Gt=0,Ht=kt.length;Gt<Ht;++Gt)lt(kt[Gt]);else Mt=!!kt|0}return lt}function ct(kt){return kt=kt.prefix,kt!==void 0&&(At=null,kt?typeof kt!="function"?Dt=1:(Dt=2,At=kt):Dt=0),ct}function ft(kt,Gt){var Ht=kt;if(33>Ht.charCodeAt(0)&&(Ht=Ht.trim()),jt=Ht,Ht=[jt],0<Ut){var Jt=st(-1,Gt,Ht,Ht,It,Tt,0,0,0,0);Jt!==void 0&&typeof Jt=="string"&&(Gt=Jt)}var Vt=et(Ct,Ht,Gt,0,0);return 0<Ut&&(Jt=st(-2,Vt,Ht,Ht,It,Tt,Vt.length,0,0,0),Jt!==void 0&&(Vt=Jt)),jt="",Pt=0,Tt=It=1,Vt}var ut=/^\0+/g,dt=/[\0\r\f]/g,ht=/: */g,pt=/zoo|gra/,gt=/([,: ])(transform)/g,mt=/,\r+?/g,yt=/([\t\r\n ])*\f?&/g,bt=/@(k\w+)\s*(\S*)\s*/,St=/::(place)/g,xt=/:(read-only)/g,vt=/[svh]\w+-[tblr]{2}/,$t=/\(\s*(.*)\s*\)/g,zt=/([\s\S]*?);/g,Nt=/-self|flex-/g,wt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Et=/stretch|:\s*\w+\-(?:conte|avail)/,Rt=/([^-])(image-set\()/,Tt=1,It=1,Pt=0,Dt=1,Ct=[],Ot=[],Ut=0,At=null,Mt=0,jt="";return ft.use=lt,ft.set=ct,tt!==void 0&&ct(tt),ft}function v(){return(v=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var nt=arguments[et];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt}).apply(this,arguments)}var g=function(tt,et){for(var nt=[tt[0]],rt=0,it=et.length;rt<it;rt+=1)nt.push(et[rt],tt[rt+1]);return nt},S=function(tt){return tt!==null&&typeof tt=="object"&&(tt.toString?tt.toString():Object.prototype.toString.call(tt))==="[object Object]"&&!reactIs.exports.typeOf(tt)},w=Object.freeze([]),E=Object.freeze({});function b(tt){return typeof tt=="function"}function _(tt){return tt.displayName||tt.name||"Component"}function N(tt){return tt&&typeof tt.styledComponentId=="string"}var A=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",I=typeof window!="undefined"&&"HTMLElement"in window,P=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function j(tt){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];throw new Error("An error occurred. See https://git.io/JUIaE#"+tt+" for more information."+(nt.length>0?" Args: "+nt.join(", "):""))}var T=function(){function tt(nt){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=nt}var et=tt.prototype;return et.indexOfGroup=function(nt){for(var rt=0,it=0;it<nt;it++)rt+=this.groupSizes[it];return rt},et.insertRules=function(nt,rt){if(nt>=this.groupSizes.length){for(var it=this.groupSizes,ot=it.length,at=ot;nt>=at;)(at<<=1)<0&&j(16,""+nt);this.groupSizes=new Uint32Array(at),this.groupSizes.set(it),this.length=at;for(var st=ot;st<at;st++)this.groupSizes[st]=0}for(var lt=this.indexOfGroup(nt+1),ct=0,ft=rt.length;ct<ft;ct++)this.tag.insertRule(lt,rt[ct])&&(this.groupSizes[nt]++,lt++)},et.clearGroup=function(nt){if(nt<this.length){var rt=this.groupSizes[nt],it=this.indexOfGroup(nt),ot=it+rt;this.groupSizes[nt]=0;for(var at=it;at<ot;at++)this.tag.deleteRule(it)}},et.getGroup=function(nt){var rt="";if(nt>=this.length||this.groupSizes[nt]===0)return rt;for(var it=this.groupSizes[nt],ot=this.indexOfGroup(nt),at=ot+it,st=ot;st<at;st++)rt+=this.tag.getRule(st)+`/*!sc*/
`;return rt},tt}(),x=new Map,k=new Map,V=1,B=function(tt){if(x.has(tt))return x.get(tt);for(;k.has(V);)V++;var et=V++;return x.set(tt,et),k.set(et,tt),et},z=function(tt){return k.get(tt)},M=function(tt,et){et>=V&&(V=et+1),x.set(tt,et),k.set(et,tt)},G="style["+A+'][data-styled-version="5.3.5"]',L=new RegExp("^"+A+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),F=function(tt,et,nt){for(var rt,it=nt.split(","),ot=0,at=it.length;ot<at;ot++)(rt=it[ot])&&tt.registerName(et,rt)},Y=function(tt,et){for(var nt=(et.textContent||"").split(`/*!sc*/
`),rt=[],it=0,ot=nt.length;it<ot;it++){var at=nt[it].trim();if(at){var st=at.match(L);if(st){var lt=0|parseInt(st[1],10),ct=st[2];lt!==0&&(M(ct,lt),F(tt,ct,st[3]),tt.getTag().insertRules(lt,rt)),rt.length=0}else rt.push(at)}}},q=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},H=function(tt){var et=document.head,nt=tt||et,rt=document.createElement("style"),it=function(st){for(var lt=st.childNodes,ct=lt.length;ct>=0;ct--){var ft=lt[ct];if(ft&&ft.nodeType===1&&ft.hasAttribute(A))return ft}}(nt),ot=it!==void 0?it.nextSibling:null;rt.setAttribute(A,"active"),rt.setAttribute("data-styled-version","5.3.5");var at=q();return at&&rt.setAttribute("nonce",at),nt.insertBefore(rt,ot),rt},$=function(){function tt(nt){var rt=this.element=H(nt);rt.appendChild(document.createTextNode("")),this.sheet=function(it){if(it.sheet)return it.sheet;for(var ot=document.styleSheets,at=0,st=ot.length;at<st;at++){var lt=ot[at];if(lt.ownerNode===it)return lt}j(17)}(rt),this.length=0}var et=tt.prototype;return et.insertRule=function(nt,rt){try{return this.sheet.insertRule(rt,nt),this.length++,!0}catch{return!1}},et.deleteRule=function(nt){this.sheet.deleteRule(nt),this.length--},et.getRule=function(nt){var rt=this.sheet.cssRules[nt];return rt!==void 0&&typeof rt.cssText=="string"?rt.cssText:""},tt}(),W=function(){function tt(nt){var rt=this.element=H(nt);this.nodes=rt.childNodes,this.length=0}var et=tt.prototype;return et.insertRule=function(nt,rt){if(nt<=this.length&&nt>=0){var it=document.createTextNode(rt),ot=this.nodes[nt];return this.element.insertBefore(it,ot||null),this.length++,!0}return!1},et.deleteRule=function(nt){this.element.removeChild(this.nodes[nt]),this.length--},et.getRule=function(nt){return nt<this.length?this.nodes[nt].textContent:""},tt}(),U=function(){function tt(nt){this.rules=[],this.length=0}var et=tt.prototype;return et.insertRule=function(nt,rt){return nt<=this.length&&(this.rules.splice(nt,0,rt),this.length++,!0)},et.deleteRule=function(nt){this.rules.splice(nt,1),this.length--},et.getRule=function(nt){return nt<this.length?this.rules[nt]:""},tt}(),J=I,X={isServer:!I,useCSSOMInjection:!P},Z=function(){function tt(nt,rt,it){nt===void 0&&(nt=E),rt===void 0&&(rt={}),this.options=v({},X,{},nt),this.gs=rt,this.names=new Map(it),this.server=!!nt.isServer,!this.server&&I&&J&&(J=!1,function(ot){for(var at=document.querySelectorAll(G),st=0,lt=at.length;st<lt;st++){var ct=at[st];ct&&ct.getAttribute(A)!=="active"&&(Y(ot,ct),ct.parentNode&&ct.parentNode.removeChild(ct))}}(this))}tt.registerId=function(nt){return B(nt)};var et=tt.prototype;return et.reconstructWithOptions=function(nt,rt){return rt===void 0&&(rt=!0),new tt(v({},this.options,{},nt),this.gs,rt&&this.names||void 0)},et.allocateGSInstance=function(nt){return this.gs[nt]=(this.gs[nt]||0)+1},et.getTag=function(){return this.tag||(this.tag=(it=(rt=this.options).isServer,ot=rt.useCSSOMInjection,at=rt.target,nt=it?new U(at):ot?new $(at):new W(at),new T(nt)));var nt,rt,it,ot,at},et.hasNameForId=function(nt,rt){return this.names.has(nt)&&this.names.get(nt).has(rt)},et.registerName=function(nt,rt){if(B(nt),this.names.has(nt))this.names.get(nt).add(rt);else{var it=new Set;it.add(rt),this.names.set(nt,it)}},et.insertRules=function(nt,rt,it){this.registerName(nt,rt),this.getTag().insertRules(B(nt),it)},et.clearNames=function(nt){this.names.has(nt)&&this.names.get(nt).clear()},et.clearRules=function(nt){this.getTag().clearGroup(B(nt)),this.clearNames(nt)},et.clearTag=function(){this.tag=void 0},et.toString=function(){return function(nt){for(var rt=nt.getTag(),it=rt.length,ot="",at=0;at<it;at++){var st=z(at);if(st!==void 0){var lt=nt.names.get(st),ct=rt.getGroup(at);if(lt&&ct&&lt.size){var ft=A+".g"+at+'[id="'+st+'"]',ut="";lt!==void 0&&lt.forEach(function(dt){dt.length>0&&(ut+=dt+",")}),ot+=""+ct+ft+'{content:"'+ut+`"}/*!sc*/
`}}}return ot}(this)},tt}(),K=/(a)(d)/gi,Q=function(tt){return String.fromCharCode(tt+(tt>25?39:97))};function ee(tt){var et,nt="";for(et=Math.abs(tt);et>52;et=et/52|0)nt=Q(et%52)+nt;return(Q(et%52)+nt).replace(K,"$1-$2")}var te=function(tt,et){for(var nt=et.length;nt;)tt=33*tt^et.charCodeAt(--nt);return tt},ne=function(tt){return te(5381,tt)};function re(tt){for(var et=0;et<tt.length;et+=1){var nt=tt[et];if(b(nt)&&!N(nt))return!1}return!0}var oe=ne("5.3.5"),se=function(){function tt(et,nt,rt){this.rules=et,this.staticRulesId="",this.isStatic=(rt===void 0||rt.isStatic)&&re(et),this.componentId=nt,this.baseHash=te(oe,nt),this.baseStyle=rt,Z.registerId(nt)}return tt.prototype.generateAndInjectStyles=function(et,nt,rt){var it=this.componentId,ot=[];if(this.baseStyle&&ot.push(this.baseStyle.generateAndInjectStyles(et,nt,rt)),this.isStatic&&!rt.hash)if(this.staticRulesId&&nt.hasNameForId(it,this.staticRulesId))ot.push(this.staticRulesId);else{var at=Ne(this.rules,et,nt,rt).join(""),st=ee(te(this.baseHash,at)>>>0);if(!nt.hasNameForId(it,st)){var lt=rt(at,"."+st,void 0,it);nt.insertRules(it,st,lt)}ot.push(st),this.staticRulesId=st}else{for(var ct=this.rules.length,ft=te(this.baseHash,rt.hash),ut="",dt=0;dt<ct;dt++){var ht=this.rules[dt];if(typeof ht=="string")ut+=ht;else if(ht){var pt=Ne(ht,et,nt,rt),gt=Array.isArray(pt)?pt.join(""):pt;ft=te(ft,gt+dt),ut+=gt}}if(ut){var mt=ee(ft>>>0);if(!nt.hasNameForId(it,mt)){var yt=rt(ut,"."+mt,void 0,it);nt.insertRules(it,mt,yt)}ot.push(mt)}}return ot.join(" ")},tt}(),ie=/^\s*\/\/.*$/gm,ae=[":","[",".","#"];function ce(tt){var et,nt,rt,it,ot=tt===void 0?E:tt,at=ot.options,st=at===void 0?E:at,lt=ot.plugins,ct=lt===void 0?w:lt,ft=new stylis_min(st),ut=[],dt=function(gt){function mt(yt){if(yt)try{gt(yt+"}")}catch{}}return function(yt,bt,St,xt,vt,$t,zt,Nt,wt,Et){switch(yt){case 1:if(wt===0&&bt.charCodeAt(0)===64)return gt(bt+";"),"";break;case 2:if(Nt===0)return bt+"/*|*/";break;case 3:switch(Nt){case 102:case 112:return gt(St[0]+bt),"";default:return bt+(Et===0?"/*|*/":"")}case-2:bt.split("/*|*/}").forEach(mt)}}}(function(gt){ut.push(gt)}),ht=function(gt,mt,yt){return mt===0&&ae.indexOf(yt[nt.length])!==-1||yt.match(it)?gt:"."+et};function pt(gt,mt,yt,bt){bt===void 0&&(bt="&");var St=gt.replace(ie,""),xt=mt&&yt?yt+" "+mt+" { "+St+" }":St;return et=bt,nt=mt,rt=new RegExp("\\"+nt+"\\b","g"),it=new RegExp("(\\"+nt+"\\b){2,}"),ft(yt||!mt?"":mt,xt)}return ft.use([].concat(ct,[function(gt,mt,yt){gt===2&&yt.length&&yt[0].lastIndexOf(nt)>0&&(yt[0]=yt[0].replace(rt,ht))},dt,function(gt){if(gt===-2){var mt=ut;return ut=[],mt}}])),pt.hash=ct.length?ct.reduce(function(gt,mt){return mt.name||j(15),te(gt,mt.name)},5381).toString():"",pt}var ue=React__default$2.createContext();ue.Consumer;var de=React__default$2.createContext(),he=(de.Consumer,new Z),pe=ce();function fe(){return react.exports.useContext(ue)||he}function me(){return react.exports.useContext(de)||pe}var ve=function(){function tt(et,nt){var rt=this;this.inject=function(it,ot){ot===void 0&&(ot=pe);var at=rt.name+ot.hash;it.hasNameForId(rt.id,at)||it.insertRules(rt.id,at,ot(rt.rules,at,"@keyframes"))},this.toString=function(){return j(12,String(rt.name))},this.name=et,this.id="sc-keyframes-"+et,this.rules=nt}return tt.prototype.getName=function(et){return et===void 0&&(et=pe),this.name+et.hash},tt}(),ge=/([A-Z])/,Se=/([A-Z])/g,we=/^ms-/,Ee=function(tt){return"-"+tt.toLowerCase()};function be(tt){return ge.test(tt)?tt.replace(Se,Ee).replace(we,"-ms-"):tt}var _e=function(tt){return tt==null||tt===!1||tt===""};function Ne(tt,et,nt,rt){if(Array.isArray(tt)){for(var it,ot=[],at=0,st=tt.length;at<st;at+=1)(it=Ne(tt[at],et,nt,rt))!==""&&(Array.isArray(it)?ot.push.apply(ot,it):ot.push(it));return ot}if(_e(tt))return"";if(N(tt))return"."+tt.styledComponentId;if(b(tt)){if(typeof(ct=tt)!="function"||ct.prototype&&ct.prototype.isReactComponent||!et)return tt;var lt=tt(et);return Ne(lt,et,nt,rt)}var ct;return tt instanceof ve?nt?(tt.inject(nt,rt),tt.getName(rt)):tt:S(tt)?function ft(ut,dt){var ht,pt,gt=[];for(var mt in ut)ut.hasOwnProperty(mt)&&!_e(ut[mt])&&(Array.isArray(ut[mt])&&ut[mt].isCss||b(ut[mt])?gt.push(be(mt)+":",ut[mt],";"):S(ut[mt])?gt.push.apply(gt,ft(ut[mt],mt)):gt.push(be(mt)+": "+(ht=mt,(pt=ut[mt])==null||typeof pt=="boolean"||pt===""?"":typeof pt!="number"||pt===0||ht in unitlessKeys?String(pt).trim():pt+"px")+";"));return dt?[dt+" {"].concat(gt,["}"]):gt}(tt):tt.toString()}var Ae=function(tt){return Array.isArray(tt)&&(tt.isCss=!0),tt};function Ce(tt){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];return b(tt)||S(tt)?Ae(Ne(g(w,[tt].concat(nt)))):nt.length===0&&tt.length===1&&typeof tt[0]=="string"?tt:Ae(Ne(g(tt,nt)))}var Re=function(tt,et,nt){return nt===void 0&&(nt=E),tt.theme!==nt.theme&&tt.theme||et||nt.theme},De=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,je=/(^-|-$)/g;function Te(tt){return tt.replace(De,"-").replace(je,"")}var xe=function(tt){return ee(ne(tt)>>>0)};function ke(tt){return typeof tt=="string"&&!0}var Ve=function(tt){return typeof tt=="function"||typeof tt=="object"&&tt!==null&&!Array.isArray(tt)},Be=function(tt){return tt!=="__proto__"&&tt!=="constructor"&&tt!=="prototype"};function ze(tt,et,nt){var rt=tt[nt];Ve(et)&&Ve(rt)?Me(rt,et):tt[nt]=et}function Me(tt){for(var et=arguments.length,nt=new Array(et>1?et-1:0),rt=1;rt<et;rt++)nt[rt-1]=arguments[rt];for(var it=0,ot=nt;it<ot.length;it++){var at=ot[it];if(Ve(at))for(var st in at)Be(st)&&ze(tt,at[st],st)}return tt}var Ge=React__default$2.createContext();Ge.Consumer;var Ye={};function qe(tt,et,nt){var rt=N(tt),it=!ke(tt),ot=et.attrs,at=ot===void 0?w:ot,st=et.componentId,lt=st===void 0?function(bt,St){var xt=typeof bt!="string"?"sc":Te(bt);Ye[xt]=(Ye[xt]||0)+1;var vt=xt+"-"+xe("5.3.5"+xt+Ye[xt]);return St?St+"-"+vt:vt}(et.displayName,et.parentComponentId):st,ct=et.displayName,ft=ct===void 0?function(bt){return ke(bt)?"styled."+bt:"Styled("+_(bt)+")"}(tt):ct,ut=et.displayName&&et.componentId?Te(et.displayName)+"-"+et.componentId:et.componentId||lt,dt=rt&&tt.attrs?Array.prototype.concat(tt.attrs,at).filter(Boolean):at,ht=et.shouldForwardProp;rt&&tt.shouldForwardProp&&(ht=et.shouldForwardProp?function(bt,St,xt){return tt.shouldForwardProp(bt,St,xt)&&et.shouldForwardProp(bt,St,xt)}:tt.shouldForwardProp);var pt,gt=new se(nt,ut,rt?tt.componentStyle:void 0),mt=gt.isStatic&&at.length===0,yt=function(bt,St){return function(xt,vt,$t,zt){var Nt=xt.attrs,wt=xt.componentStyle,Et=xt.defaultProps,Rt=xt.foldedComponentIds,Tt=xt.shouldForwardProp,It=xt.styledComponentId,Pt=xt.target,Dt=function(Jt,Vt,Wt){Jt===void 0&&(Jt=E);var Lt=v({},Vt,{theme:Jt}),Bt={};return Wt.forEach(function(Ft){var sn,Xt,dn,Yt=Ft;for(sn in b(Yt)&&(Yt=Yt(Lt)),Yt)Lt[sn]=Bt[sn]=sn==="className"?(Xt=Bt[sn],dn=Yt[sn],Xt&&dn?Xt+" "+dn:Xt||dn):Yt[sn]}),[Lt,Bt]}(Re(vt,react.exports.useContext(Ge),Et)||E,vt,Nt),Ct=Dt[0],Ot=Dt[1],Ut=function(Jt,Vt,Wt,Lt){var Bt=fe(),Ft=me(),sn=Vt?Jt.generateAndInjectStyles(E,Bt,Ft):Jt.generateAndInjectStyles(Wt,Bt,Ft);return sn}(wt,zt,Ct),At=$t,Mt=Ot.$as||vt.$as||Ot.as||vt.as||Pt,jt=ke(Mt),kt=Ot!==vt?v({},vt,{},Ot):vt,Gt={};for(var Ht in kt)Ht[0]!=="$"&&Ht!=="as"&&(Ht==="forwardedAs"?Gt.as=kt[Ht]:(Tt?Tt(Ht,isPropValid,Mt):!jt||isPropValid(Ht))&&(Gt[Ht]=kt[Ht]));return vt.style&&Ot.style!==vt.style&&(Gt.style=v({},vt.style,{},Ot.style)),Gt.className=Array.prototype.concat(Rt,It,Ut!==It?Ut:null,vt.className,Ot.className).filter(Boolean).join(" "),Gt.ref=At,react.exports.createElement(Mt,Gt)}(pt,bt,St,mt)};return yt.displayName=ft,(pt=React__default$2.forwardRef(yt)).attrs=dt,pt.componentStyle=gt,pt.displayName=ft,pt.shouldForwardProp=ht,pt.foldedComponentIds=rt?Array.prototype.concat(tt.foldedComponentIds,tt.styledComponentId):w,pt.styledComponentId=ut,pt.target=rt?tt.target:tt,pt.withComponent=function(bt){var St=et.componentId,xt=function($t,zt){if($t==null)return{};var Nt,wt,Et={},Rt=Object.keys($t);for(wt=0;wt<Rt.length;wt++)Nt=Rt[wt],zt.indexOf(Nt)>=0||(Et[Nt]=$t[Nt]);return Et}(et,["componentId"]),vt=St&&St+"-"+(ke(bt)?bt:Te(_(bt)));return qe(bt,v({},xt,{attrs:dt,componentId:vt}),nt)},Object.defineProperty(pt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(bt){this._foldedDefaultProps=rt?Me({},tt.defaultProps,bt):bt}}),pt.toString=function(){return"."+pt.styledComponentId},it&&hoistNonReactStatics_cjs(pt,tt,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),pt}var He=function(tt){return function et(nt,rt,it){if(it===void 0&&(it=E),!reactIs.exports.isValidElementType(rt))return j(1,String(rt));var ot=function(){return nt(rt,it,Ce.apply(void 0,arguments))};return ot.withConfig=function(at){return et(nt,rt,v({},it,{},at))},ot.attrs=function(at){return et(nt,rt,v({},it,{attrs:Array.prototype.concat(it.attrs,at).filter(Boolean)}))},ot}(qe,tt)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(tt){He[tt]=He(tt)});var styled=He,__defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(tt,et,nt)=>et in tt?__defProp$1(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[et]=nt,__spreadValues$1=(tt,et)=>{for(var nt in et||(et={}))__hasOwnProp$1.call(et,nt)&&__defNormalProp$1(tt,nt,et[nt]);if(__getOwnPropSymbols$1)for(var nt of __getOwnPropSymbols$1(et))__propIsEnum$1.call(et,nt)&&__defNormalProp$1(tt,nt,et[nt]);return tt},__spreadProps=(tt,et)=>__defProps(tt,__getOwnPropDescs(et)),__publicField$1=(tt,et,nt)=>(__defNormalProp$1(tt,typeof et!="symbol"?et+"":et,nt),nt),commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},howler={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(tt){(function(){var et=function(){this.init()};et.prototype={init:function(){var ut=this||nt;return ut._counter=1e3,ut._html5AudioPool=[],ut.html5PoolSize=10,ut._codecs={},ut._howls=[],ut._muted=!1,ut._volume=1,ut._canPlayEvent="canplaythrough",ut._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,ut.masterGain=null,ut.noAudio=!1,ut.usingWebAudio=!0,ut.autoSuspend=!0,ut.ctx=null,ut.autoUnlock=!0,ut._setup(),ut},volume:function(ut){var dt=this||nt;if(ut=parseFloat(ut),dt.ctx||ft(),typeof ut!="undefined"&&ut>=0&&ut<=1){if(dt._volume=ut,dt._muted)return dt;dt.usingWebAudio&&dt.masterGain.gain.setValueAtTime(ut,nt.ctx.currentTime);for(var ht=0;ht<dt._howls.length;ht++)if(!dt._howls[ht]._webAudio)for(var pt=dt._howls[ht]._getSoundIds(),gt=0;gt<pt.length;gt++){var mt=dt._howls[ht]._soundById(pt[gt]);mt&&mt._node&&(mt._node.volume=mt._volume*ut)}return dt}return dt._volume},mute:function(ut){var dt=this||nt;dt.ctx||ft(),dt._muted=ut,dt.usingWebAudio&&dt.masterGain.gain.setValueAtTime(ut?0:dt._volume,nt.ctx.currentTime);for(var ht=0;ht<dt._howls.length;ht++)if(!dt._howls[ht]._webAudio)for(var pt=dt._howls[ht]._getSoundIds(),gt=0;gt<pt.length;gt++){var mt=dt._howls[ht]._soundById(pt[gt]);mt&&mt._node&&(mt._node.muted=ut?!0:mt._muted)}return dt},stop:function(){for(var ut=this||nt,dt=0;dt<ut._howls.length;dt++)ut._howls[dt].stop();return ut},unload:function(){for(var ut=this||nt,dt=ut._howls.length-1;dt>=0;dt--)ut._howls[dt].unload();return ut.usingWebAudio&&ut.ctx&&typeof ut.ctx.close!="undefined"&&(ut.ctx.close(),ut.ctx=null,ft()),ut},codecs:function(ut){return(this||nt)._codecs[ut.replace(/^x-/,"")]},_setup:function(){var ut=this||nt;if(ut.state=ut.ctx&&ut.ctx.state||"suspended",ut._autoSuspend(),!ut.usingWebAudio)if(typeof Audio!="undefined")try{var dt=new Audio;typeof dt.oncanplaythrough=="undefined"&&(ut._canPlayEvent="canplay")}catch{ut.noAudio=!0}else ut.noAudio=!0;try{var dt=new Audio;dt.muted&&(ut.noAudio=!0)}catch{}return ut.noAudio||ut._setupCodecs(),ut},_setupCodecs:function(){var ut=this||nt,dt=null;try{dt=typeof Audio!="undefined"?new Audio:null}catch{return ut}if(!dt||typeof dt.canPlayType!="function")return ut;var ht=dt.canPlayType("audio/mpeg;").replace(/^no$/,""),pt=ut._navigator?ut._navigator.userAgent:"",gt=pt.match(/OPR\/([0-6].)/g),mt=gt&&parseInt(gt[0].split("/")[1],10)<33,yt=pt.indexOf("Safari")!==-1&&pt.indexOf("Chrome")===-1,bt=pt.match(/Version\/(.*?) /),St=yt&&bt&&parseInt(bt[1],10)<15;return ut._codecs={mp3:!!(!mt&&(ht||dt.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!ht,opus:!!dt.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!dt.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!dt.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(dt.canPlayType('audio/wav; codecs="1"')||dt.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!dt.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!dt.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(dt.canPlayType("audio/x-m4a;")||dt.canPlayType("audio/m4a;")||dt.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(dt.canPlayType("audio/x-m4b;")||dt.canPlayType("audio/m4b;")||dt.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(dt.canPlayType("audio/x-mp4;")||dt.canPlayType("audio/mp4;")||dt.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!St&&dt.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!St&&dt.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!dt.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(dt.canPlayType("audio/x-flac;")||dt.canPlayType("audio/flac;")).replace(/^no$/,"")},ut},_unlockAudio:function(){var ut=this||nt;if(!(ut._audioUnlocked||!ut.ctx)){ut._audioUnlocked=!1,ut.autoUnlock=!1,!ut._mobileUnloaded&&ut.ctx.sampleRate!==44100&&(ut._mobileUnloaded=!0,ut.unload()),ut._scratchBuffer=ut.ctx.createBuffer(1,1,22050);var dt=function(ht){for(;ut._html5AudioPool.length<ut.html5PoolSize;)try{var pt=new Audio;pt._unlocked=!0,ut._releaseHtml5Audio(pt)}catch{ut.noAudio=!0;break}for(var gt=0;gt<ut._howls.length;gt++)if(!ut._howls[gt]._webAudio)for(var mt=ut._howls[gt]._getSoundIds(),yt=0;yt<mt.length;yt++){var bt=ut._howls[gt]._soundById(mt[yt]);bt&&bt._node&&!bt._node._unlocked&&(bt._node._unlocked=!0,bt._node.load())}ut._autoResume();var St=ut.ctx.createBufferSource();St.buffer=ut._scratchBuffer,St.connect(ut.ctx.destination),typeof St.start=="undefined"?St.noteOn(0):St.start(0),typeof ut.ctx.resume=="function"&&ut.ctx.resume(),St.onended=function(){St.disconnect(0),ut._audioUnlocked=!0,document.removeEventListener("touchstart",dt,!0),document.removeEventListener("touchend",dt,!0),document.removeEventListener("click",dt,!0),document.removeEventListener("keydown",dt,!0);for(var xt=0;xt<ut._howls.length;xt++)ut._howls[xt]._emit("unlock")}};return document.addEventListener("touchstart",dt,!0),document.addEventListener("touchend",dt,!0),document.addEventListener("click",dt,!0),document.addEventListener("keydown",dt,!0),ut}},_obtainHtml5Audio:function(){var ut=this||nt;if(ut._html5AudioPool.length)return ut._html5AudioPool.pop();var dt=new Audio().play();return dt&&typeof Promise!="undefined"&&(dt instanceof Promise||typeof dt.then=="function")&&dt.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(ut){var dt=this||nt;return ut._unlocked&&dt._html5AudioPool.push(ut),dt},_autoSuspend:function(){var ut=this;if(!(!ut.autoSuspend||!ut.ctx||typeof ut.ctx.suspend=="undefined"||!nt.usingWebAudio)){for(var dt=0;dt<ut._howls.length;dt++)if(ut._howls[dt]._webAudio){for(var ht=0;ht<ut._howls[dt]._sounds.length;ht++)if(!ut._howls[dt]._sounds[ht]._paused)return ut}return ut._suspendTimer&&clearTimeout(ut._suspendTimer),ut._suspendTimer=setTimeout(function(){if(!!ut.autoSuspend){ut._suspendTimer=null,ut.state="suspending";var pt=function(){ut.state="suspended",ut._resumeAfterSuspend&&(delete ut._resumeAfterSuspend,ut._autoResume())};ut.ctx.suspend().then(pt,pt)}},3e4),ut}},_autoResume:function(){var ut=this;if(!(!ut.ctx||typeof ut.ctx.resume=="undefined"||!nt.usingWebAudio))return ut.state==="running"&&ut.ctx.state!=="interrupted"&&ut._suspendTimer?(clearTimeout(ut._suspendTimer),ut._suspendTimer=null):ut.state==="suspended"||ut.state==="running"&&ut.ctx.state==="interrupted"?(ut.ctx.resume().then(function(){ut.state="running";for(var dt=0;dt<ut._howls.length;dt++)ut._howls[dt]._emit("resume")}),ut._suspendTimer&&(clearTimeout(ut._suspendTimer),ut._suspendTimer=null)):ut.state==="suspending"&&(ut._resumeAfterSuspend=!0),ut}};var nt=new et,rt=function(ut){var dt=this;if(!ut.src||ut.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}dt.init(ut)};rt.prototype={init:function(ut){var dt=this;return nt.ctx||ft(),dt._autoplay=ut.autoplay||!1,dt._format=typeof ut.format!="string"?ut.format:[ut.format],dt._html5=ut.html5||!1,dt._muted=ut.mute||!1,dt._loop=ut.loop||!1,dt._pool=ut.pool||5,dt._preload=typeof ut.preload=="boolean"||ut.preload==="metadata"?ut.preload:!0,dt._rate=ut.rate||1,dt._sprite=ut.sprite||{},dt._src=typeof ut.src!="string"?ut.src:[ut.src],dt._volume=ut.volume!==void 0?ut.volume:1,dt._xhr={method:ut.xhr&&ut.xhr.method?ut.xhr.method:"GET",headers:ut.xhr&&ut.xhr.headers?ut.xhr.headers:null,withCredentials:ut.xhr&&ut.xhr.withCredentials?ut.xhr.withCredentials:!1},dt._duration=0,dt._state="unloaded",dt._sounds=[],dt._endTimers={},dt._queue=[],dt._playLock=!1,dt._onend=ut.onend?[{fn:ut.onend}]:[],dt._onfade=ut.onfade?[{fn:ut.onfade}]:[],dt._onload=ut.onload?[{fn:ut.onload}]:[],dt._onloaderror=ut.onloaderror?[{fn:ut.onloaderror}]:[],dt._onplayerror=ut.onplayerror?[{fn:ut.onplayerror}]:[],dt._onpause=ut.onpause?[{fn:ut.onpause}]:[],dt._onplay=ut.onplay?[{fn:ut.onplay}]:[],dt._onstop=ut.onstop?[{fn:ut.onstop}]:[],dt._onmute=ut.onmute?[{fn:ut.onmute}]:[],dt._onvolume=ut.onvolume?[{fn:ut.onvolume}]:[],dt._onrate=ut.onrate?[{fn:ut.onrate}]:[],dt._onseek=ut.onseek?[{fn:ut.onseek}]:[],dt._onunlock=ut.onunlock?[{fn:ut.onunlock}]:[],dt._onresume=[],dt._webAudio=nt.usingWebAudio&&!dt._html5,typeof nt.ctx!="undefined"&&nt.ctx&&nt.autoUnlock&&nt._unlockAudio(),nt._howls.push(dt),dt._autoplay&&dt._queue.push({event:"play",action:function(){dt.play()}}),dt._preload&&dt._preload!=="none"&&dt.load(),dt},load:function(){var ut=this,dt=null;if(nt.noAudio){ut._emit("loaderror",null,"No audio support.");return}typeof ut._src=="string"&&(ut._src=[ut._src]);for(var ht=0;ht<ut._src.length;ht++){var pt,gt;if(ut._format&&ut._format[ht])pt=ut._format[ht];else{if(gt=ut._src[ht],typeof gt!="string"){ut._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}pt=/^data:audio\/([^;,]+);/i.exec(gt),pt||(pt=/\.([^.]+)$/.exec(gt.split("?",1)[0])),pt&&(pt=pt[1].toLowerCase())}if(pt||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),pt&&nt.codecs(pt)){dt=ut._src[ht];break}}if(!dt){ut._emit("loaderror",null,"No codec support for selected audio sources.");return}return ut._src=dt,ut._state="loading",window.location.protocol==="https:"&&dt.slice(0,5)==="http:"&&(ut._html5=!0,ut._webAudio=!1),new it(ut),ut._webAudio&&at(ut),ut},play:function(ut,dt){var ht=this,pt=null;if(typeof ut=="number")pt=ut,ut=null;else{if(typeof ut=="string"&&ht._state==="loaded"&&!ht._sprite[ut])return null;if(typeof ut=="undefined"&&(ut="__default",!ht._playLock)){for(var gt=0,mt=0;mt<ht._sounds.length;mt++)ht._sounds[mt]._paused&&!ht._sounds[mt]._ended&&(gt++,pt=ht._sounds[mt]._id);gt===1?ut=null:pt=null}}var yt=pt?ht._soundById(pt):ht._inactiveSound();if(!yt)return null;if(pt&&!ut&&(ut=yt._sprite||"__default"),ht._state!=="loaded"){yt._sprite=ut,yt._ended=!1;var bt=yt._id;return ht._queue.push({event:"play",action:function(){ht.play(bt)}}),bt}if(pt&&!yt._paused)return dt||ht._loadQueue("play"),yt._id;ht._webAudio&&nt._autoResume();var St=Math.max(0,yt._seek>0?yt._seek:ht._sprite[ut][0]/1e3),xt=Math.max(0,(ht._sprite[ut][0]+ht._sprite[ut][1])/1e3-St),vt=xt*1e3/Math.abs(yt._rate),$t=ht._sprite[ut][0]/1e3,zt=(ht._sprite[ut][0]+ht._sprite[ut][1])/1e3;yt._sprite=ut,yt._ended=!1;var Nt=function(){yt._paused=!1,yt._seek=St,yt._start=$t,yt._stop=zt,yt._loop=!!(yt._loop||ht._sprite[ut][2])};if(St>=zt){ht._ended(yt);return}var wt=yt._node;if(ht._webAudio){var Et=function(){ht._playLock=!1,Nt(),ht._refreshBuffer(yt);var Pt=yt._muted||ht._muted?0:yt._volume;wt.gain.setValueAtTime(Pt,nt.ctx.currentTime),yt._playStart=nt.ctx.currentTime,typeof wt.bufferSource.start=="undefined"?yt._loop?wt.bufferSource.noteGrainOn(0,St,86400):wt.bufferSource.noteGrainOn(0,St,xt):yt._loop?wt.bufferSource.start(0,St,86400):wt.bufferSource.start(0,St,xt),vt!==1/0&&(ht._endTimers[yt._id]=setTimeout(ht._ended.bind(ht,yt),vt)),dt||setTimeout(function(){ht._emit("play",yt._id),ht._loadQueue()},0)};nt.state==="running"&&nt.ctx.state!=="interrupted"?Et():(ht._playLock=!0,ht.once("resume",Et),ht._clearTimer(yt._id))}else{var Rt=function(){wt.currentTime=St,wt.muted=yt._muted||ht._muted||nt._muted||wt.muted,wt.volume=yt._volume*nt.volume(),wt.playbackRate=yt._rate;try{var Pt=wt.play();if(Pt&&typeof Promise!="undefined"&&(Pt instanceof Promise||typeof Pt.then=="function")?(ht._playLock=!0,Nt(),Pt.then(function(){ht._playLock=!1,wt._unlocked=!0,dt?ht._loadQueue():ht._emit("play",yt._id)}).catch(function(){ht._playLock=!1,ht._emit("playerror",yt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),yt._ended=!0,yt._paused=!0})):dt||(ht._playLock=!1,Nt(),ht._emit("play",yt._id)),wt.playbackRate=yt._rate,wt.paused){ht._emit("playerror",yt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}ut!=="__default"||yt._loop?ht._endTimers[yt._id]=setTimeout(ht._ended.bind(ht,yt),vt):(ht._endTimers[yt._id]=function(){ht._ended(yt),wt.removeEventListener("ended",ht._endTimers[yt._id],!1)},wt.addEventListener("ended",ht._endTimers[yt._id],!1))}catch(Dt){ht._emit("playerror",yt._id,Dt)}};wt.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(wt.src=ht._src,wt.load());var Tt=window&&window.ejecta||!wt.readyState&&nt._navigator.isCocoonJS;if(wt.readyState>=3||Tt)Rt();else{ht._playLock=!0,ht._state="loading";var It=function(){ht._state="loaded",Rt(),wt.removeEventListener(nt._canPlayEvent,It,!1)};wt.addEventListener(nt._canPlayEvent,It,!1),ht._clearTimer(yt._id)}}return yt._id},pause:function(ut){var dt=this;if(dt._state!=="loaded"||dt._playLock)return dt._queue.push({event:"pause",action:function(){dt.pause(ut)}}),dt;for(var ht=dt._getSoundIds(ut),pt=0;pt<ht.length;pt++){dt._clearTimer(ht[pt]);var gt=dt._soundById(ht[pt]);if(gt&&!gt._paused&&(gt._seek=dt.seek(ht[pt]),gt._rateSeek=0,gt._paused=!0,dt._stopFade(ht[pt]),gt._node))if(dt._webAudio){if(!gt._node.bufferSource)continue;typeof gt._node.bufferSource.stop=="undefined"?gt._node.bufferSource.noteOff(0):gt._node.bufferSource.stop(0),dt._cleanBuffer(gt._node)}else(!isNaN(gt._node.duration)||gt._node.duration===1/0)&&gt._node.pause();arguments[1]||dt._emit("pause",gt?gt._id:null)}return dt},stop:function(ut,dt){var ht=this;if(ht._state!=="loaded"||ht._playLock)return ht._queue.push({event:"stop",action:function(){ht.stop(ut)}}),ht;for(var pt=ht._getSoundIds(ut),gt=0;gt<pt.length;gt++){ht._clearTimer(pt[gt]);var mt=ht._soundById(pt[gt]);mt&&(mt._seek=mt._start||0,mt._rateSeek=0,mt._paused=!0,mt._ended=!0,ht._stopFade(pt[gt]),mt._node&&(ht._webAudio?mt._node.bufferSource&&(typeof mt._node.bufferSource.stop=="undefined"?mt._node.bufferSource.noteOff(0):mt._node.bufferSource.stop(0),ht._cleanBuffer(mt._node)):(!isNaN(mt._node.duration)||mt._node.duration===1/0)&&(mt._node.currentTime=mt._start||0,mt._node.pause(),mt._node.duration===1/0&&ht._clearSound(mt._node))),dt||ht._emit("stop",mt._id))}return ht},mute:function(ut,dt){var ht=this;if(ht._state!=="loaded"||ht._playLock)return ht._queue.push({event:"mute",action:function(){ht.mute(ut,dt)}}),ht;if(typeof dt=="undefined")if(typeof ut=="boolean")ht._muted=ut;else return ht._muted;for(var pt=ht._getSoundIds(dt),gt=0;gt<pt.length;gt++){var mt=ht._soundById(pt[gt]);mt&&(mt._muted=ut,mt._interval&&ht._stopFade(mt._id),ht._webAudio&&mt._node?mt._node.gain.setValueAtTime(ut?0:mt._volume,nt.ctx.currentTime):mt._node&&(mt._node.muted=nt._muted?!0:ut),ht._emit("mute",mt._id))}return ht},volume:function(){var ut=this,dt=arguments,ht,pt;if(dt.length===0)return ut._volume;if(dt.length===1||dt.length===2&&typeof dt[1]=="undefined"){var gt=ut._getSoundIds(),mt=gt.indexOf(dt[0]);mt>=0?pt=parseInt(dt[0],10):ht=parseFloat(dt[0])}else dt.length>=2&&(ht=parseFloat(dt[0]),pt=parseInt(dt[1],10));var yt;if(typeof ht!="undefined"&&ht>=0&&ht<=1){if(ut._state!=="loaded"||ut._playLock)return ut._queue.push({event:"volume",action:function(){ut.volume.apply(ut,dt)}}),ut;typeof pt=="undefined"&&(ut._volume=ht),pt=ut._getSoundIds(pt);for(var bt=0;bt<pt.length;bt++)yt=ut._soundById(pt[bt]),yt&&(yt._volume=ht,dt[2]||ut._stopFade(pt[bt]),ut._webAudio&&yt._node&&!yt._muted?yt._node.gain.setValueAtTime(ht,nt.ctx.currentTime):yt._node&&!yt._muted&&(yt._node.volume=ht*nt.volume()),ut._emit("volume",yt._id))}else return yt=pt?ut._soundById(pt):ut._sounds[0],yt?yt._volume:0;return ut},fade:function(ut,dt,ht,pt){var gt=this;if(gt._state!=="loaded"||gt._playLock)return gt._queue.push({event:"fade",action:function(){gt.fade(ut,dt,ht,pt)}}),gt;ut=Math.min(Math.max(0,parseFloat(ut)),1),dt=Math.min(Math.max(0,parseFloat(dt)),1),ht=parseFloat(ht),gt.volume(ut,pt);for(var mt=gt._getSoundIds(pt),yt=0;yt<mt.length;yt++){var bt=gt._soundById(mt[yt]);if(bt){if(pt||gt._stopFade(mt[yt]),gt._webAudio&&!bt._muted){var St=nt.ctx.currentTime,xt=St+ht/1e3;bt._volume=ut,bt._node.gain.setValueAtTime(ut,St),bt._node.gain.linearRampToValueAtTime(dt,xt)}gt._startFadeInterval(bt,ut,dt,ht,mt[yt],typeof pt=="undefined")}}return gt},_startFadeInterval:function(ut,dt,ht,pt,gt,mt){var yt=this,bt=dt,St=ht-dt,xt=Math.abs(St/.01),vt=Math.max(4,xt>0?pt/xt:pt),$t=Date.now();ut._fadeTo=ht,ut._interval=setInterval(function(){var zt=(Date.now()-$t)/pt;$t=Date.now(),bt+=St*zt,bt=Math.round(bt*100)/100,St<0?bt=Math.max(ht,bt):bt=Math.min(ht,bt),yt._webAudio?ut._volume=bt:yt.volume(bt,ut._id,!0),mt&&(yt._volume=bt),(ht<dt&&bt<=ht||ht>dt&&bt>=ht)&&(clearInterval(ut._interval),ut._interval=null,ut._fadeTo=null,yt.volume(ht,ut._id),yt._emit("fade",ut._id))},vt)},_stopFade:function(ut){var dt=this,ht=dt._soundById(ut);return ht&&ht._interval&&(dt._webAudio&&ht._node.gain.cancelScheduledValues(nt.ctx.currentTime),clearInterval(ht._interval),ht._interval=null,dt.volume(ht._fadeTo,ut),ht._fadeTo=null,dt._emit("fade",ut)),dt},loop:function(){var ut=this,dt=arguments,ht,pt,gt;if(dt.length===0)return ut._loop;if(dt.length===1)if(typeof dt[0]=="boolean")ht=dt[0],ut._loop=ht;else return gt=ut._soundById(parseInt(dt[0],10)),gt?gt._loop:!1;else dt.length===2&&(ht=dt[0],pt=parseInt(dt[1],10));for(var mt=ut._getSoundIds(pt),yt=0;yt<mt.length;yt++)gt=ut._soundById(mt[yt]),gt&&(gt._loop=ht,ut._webAudio&&gt._node&&gt._node.bufferSource&&(gt._node.bufferSource.loop=ht,ht&&(gt._node.bufferSource.loopStart=gt._start||0,gt._node.bufferSource.loopEnd=gt._stop,ut.playing(mt[yt])&&(ut.pause(mt[yt],!0),ut.play(mt[yt],!0)))));return ut},rate:function(){var ut=this,dt=arguments,ht,pt;if(dt.length===0)pt=ut._sounds[0]._id;else if(dt.length===1){var gt=ut._getSoundIds(),mt=gt.indexOf(dt[0]);mt>=0?pt=parseInt(dt[0],10):ht=parseFloat(dt[0])}else dt.length===2&&(ht=parseFloat(dt[0]),pt=parseInt(dt[1],10));var yt;if(typeof ht=="number"){if(ut._state!=="loaded"||ut._playLock)return ut._queue.push({event:"rate",action:function(){ut.rate.apply(ut,dt)}}),ut;typeof pt=="undefined"&&(ut._rate=ht),pt=ut._getSoundIds(pt);for(var bt=0;bt<pt.length;bt++)if(yt=ut._soundById(pt[bt]),yt){ut.playing(pt[bt])&&(yt._rateSeek=ut.seek(pt[bt]),yt._playStart=ut._webAudio?nt.ctx.currentTime:yt._playStart),yt._rate=ht,ut._webAudio&&yt._node&&yt._node.bufferSource?yt._node.bufferSource.playbackRate.setValueAtTime(ht,nt.ctx.currentTime):yt._node&&(yt._node.playbackRate=ht);var St=ut.seek(pt[bt]),xt=(ut._sprite[yt._sprite][0]+ut._sprite[yt._sprite][1])/1e3-St,vt=xt*1e3/Math.abs(yt._rate);(ut._endTimers[pt[bt]]||!yt._paused)&&(ut._clearTimer(pt[bt]),ut._endTimers[pt[bt]]=setTimeout(ut._ended.bind(ut,yt),vt)),ut._emit("rate",yt._id)}}else return yt=ut._soundById(pt),yt?yt._rate:ut._rate;return ut},seek:function(){var ut=this,dt=arguments,ht,pt;if(dt.length===0)ut._sounds.length&&(pt=ut._sounds[0]._id);else if(dt.length===1){var gt=ut._getSoundIds(),mt=gt.indexOf(dt[0]);mt>=0?pt=parseInt(dt[0],10):ut._sounds.length&&(pt=ut._sounds[0]._id,ht=parseFloat(dt[0]))}else dt.length===2&&(ht=parseFloat(dt[0]),pt=parseInt(dt[1],10));if(typeof pt=="undefined")return 0;if(typeof ht=="number"&&(ut._state!=="loaded"||ut._playLock))return ut._queue.push({event:"seek",action:function(){ut.seek.apply(ut,dt)}}),ut;var yt=ut._soundById(pt);if(yt)if(typeof ht=="number"&&ht>=0){var bt=ut.playing(pt);bt&&ut.pause(pt,!0),yt._seek=ht,yt._ended=!1,ut._clearTimer(pt),!ut._webAudio&&yt._node&&!isNaN(yt._node.duration)&&(yt._node.currentTime=ht);var St=function(){bt&&ut.play(pt,!0),ut._emit("seek",pt)};if(bt&&!ut._webAudio){var xt=function(){ut._playLock?setTimeout(xt,0):St()};setTimeout(xt,0)}else St()}else if(ut._webAudio){var vt=ut.playing(pt)?nt.ctx.currentTime-yt._playStart:0,$t=yt._rateSeek?yt._rateSeek-yt._seek:0;return yt._seek+($t+vt*Math.abs(yt._rate))}else return yt._node.currentTime;return ut},playing:function(ut){var dt=this;if(typeof ut=="number"){var ht=dt._soundById(ut);return ht?!ht._paused:!1}for(var pt=0;pt<dt._sounds.length;pt++)if(!dt._sounds[pt]._paused)return!0;return!1},duration:function(ut){var dt=this,ht=dt._duration,pt=dt._soundById(ut);return pt&&(ht=dt._sprite[pt._sprite][1]/1e3),ht},state:function(){return this._state},unload:function(){for(var ut=this,dt=ut._sounds,ht=0;ht<dt.length;ht++)dt[ht]._paused||ut.stop(dt[ht]._id),ut._webAudio||(ut._clearSound(dt[ht]._node),dt[ht]._node.removeEventListener("error",dt[ht]._errorFn,!1),dt[ht]._node.removeEventListener(nt._canPlayEvent,dt[ht]._loadFn,!1),dt[ht]._node.removeEventListener("ended",dt[ht]._endFn,!1),nt._releaseHtml5Audio(dt[ht]._node)),delete dt[ht]._node,ut._clearTimer(dt[ht]._id);var pt=nt._howls.indexOf(ut);pt>=0&&nt._howls.splice(pt,1);var gt=!0;for(ht=0;ht<nt._howls.length;ht++)if(nt._howls[ht]._src===ut._src||ut._src.indexOf(nt._howls[ht]._src)>=0){gt=!1;break}return ot&&gt&&delete ot[ut._src],nt.noAudio=!1,ut._state="unloaded",ut._sounds=[],ut=null,null},on:function(ut,dt,ht,pt){var gt=this,mt=gt["_on"+ut];return typeof dt=="function"&&mt.push(pt?{id:ht,fn:dt,once:pt}:{id:ht,fn:dt}),gt},off:function(ut,dt,ht){var pt=this,gt=pt["_on"+ut],mt=0;if(typeof dt=="number"&&(ht=dt,dt=null),dt||ht)for(mt=0;mt<gt.length;mt++){var yt=ht===gt[mt].id;if(dt===gt[mt].fn&&yt||!dt&&yt){gt.splice(mt,1);break}}else if(ut)pt["_on"+ut]=[];else{var bt=Object.keys(pt);for(mt=0;mt<bt.length;mt++)bt[mt].indexOf("_on")===0&&Array.isArray(pt[bt[mt]])&&(pt[bt[mt]]=[])}return pt},once:function(ut,dt,ht){var pt=this;return pt.on(ut,dt,ht,1),pt},_emit:function(ut,dt,ht){for(var pt=this,gt=pt["_on"+ut],mt=gt.length-1;mt>=0;mt--)(!gt[mt].id||gt[mt].id===dt||ut==="load")&&(setTimeout(function(yt){yt.call(this,dt,ht)}.bind(pt,gt[mt].fn),0),gt[mt].once&&pt.off(ut,gt[mt].fn,gt[mt].id));return pt._loadQueue(ut),pt},_loadQueue:function(ut){var dt=this;if(dt._queue.length>0){var ht=dt._queue[0];ht.event===ut&&(dt._queue.shift(),dt._loadQueue()),ut||ht.action()}return dt},_ended:function(ut){var dt=this,ht=ut._sprite;if(!dt._webAudio&&ut._node&&!ut._node.paused&&!ut._node.ended&&ut._node.currentTime<ut._stop)return setTimeout(dt._ended.bind(dt,ut),100),dt;var pt=!!(ut._loop||dt._sprite[ht][2]);if(dt._emit("end",ut._id),!dt._webAudio&&pt&&dt.stop(ut._id,!0).play(ut._id),dt._webAudio&&pt){dt._emit("play",ut._id),ut._seek=ut._start||0,ut._rateSeek=0,ut._playStart=nt.ctx.currentTime;var gt=(ut._stop-ut._start)*1e3/Math.abs(ut._rate);dt._endTimers[ut._id]=setTimeout(dt._ended.bind(dt,ut),gt)}return dt._webAudio&&!pt&&(ut._paused=!0,ut._ended=!0,ut._seek=ut._start||0,ut._rateSeek=0,dt._clearTimer(ut._id),dt._cleanBuffer(ut._node),nt._autoSuspend()),!dt._webAudio&&!pt&&dt.stop(ut._id,!0),dt},_clearTimer:function(ut){var dt=this;if(dt._endTimers[ut]){if(typeof dt._endTimers[ut]!="function")clearTimeout(dt._endTimers[ut]);else{var ht=dt._soundById(ut);ht&&ht._node&&ht._node.removeEventListener("ended",dt._endTimers[ut],!1)}delete dt._endTimers[ut]}return dt},_soundById:function(ut){for(var dt=this,ht=0;ht<dt._sounds.length;ht++)if(ut===dt._sounds[ht]._id)return dt._sounds[ht];return null},_inactiveSound:function(){var ut=this;ut._drain();for(var dt=0;dt<ut._sounds.length;dt++)if(ut._sounds[dt]._ended)return ut._sounds[dt].reset();return new it(ut)},_drain:function(){var ut=this,dt=ut._pool,ht=0,pt=0;if(!(ut._sounds.length<dt)){for(pt=0;pt<ut._sounds.length;pt++)ut._sounds[pt]._ended&&ht++;for(pt=ut._sounds.length-1;pt>=0;pt--){if(ht<=dt)return;ut._sounds[pt]._ended&&(ut._webAudio&&ut._sounds[pt]._node&&ut._sounds[pt]._node.disconnect(0),ut._sounds.splice(pt,1),ht--)}}},_getSoundIds:function(ut){var dt=this;if(typeof ut=="undefined"){for(var ht=[],pt=0;pt<dt._sounds.length;pt++)ht.push(dt._sounds[pt]._id);return ht}else return[ut]},_refreshBuffer:function(ut){var dt=this;return ut._node.bufferSource=nt.ctx.createBufferSource(),ut._node.bufferSource.buffer=ot[dt._src],ut._panner?ut._node.bufferSource.connect(ut._panner):ut._node.bufferSource.connect(ut._node),ut._node.bufferSource.loop=ut._loop,ut._loop&&(ut._node.bufferSource.loopStart=ut._start||0,ut._node.bufferSource.loopEnd=ut._stop||0),ut._node.bufferSource.playbackRate.setValueAtTime(ut._rate,nt.ctx.currentTime),dt},_cleanBuffer:function(ut){var dt=this,ht=nt._navigator&&nt._navigator.vendor.indexOf("Apple")>=0;if(nt._scratchBuffer&&ut.bufferSource&&(ut.bufferSource.onended=null,ut.bufferSource.disconnect(0),ht))try{ut.bufferSource.buffer=nt._scratchBuffer}catch{}return ut.bufferSource=null,dt},_clearSound:function(ut){var dt=/MSIE |Trident\//.test(nt._navigator&&nt._navigator.userAgent);dt||(ut.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var it=function(ut){this._parent=ut,this.init()};it.prototype={init:function(){var ut=this,dt=ut._parent;return ut._muted=dt._muted,ut._loop=dt._loop,ut._volume=dt._volume,ut._rate=dt._rate,ut._seek=0,ut._paused=!0,ut._ended=!0,ut._sprite="__default",ut._id=++nt._counter,dt._sounds.push(ut),ut.create(),ut},create:function(){var ut=this,dt=ut._parent,ht=nt._muted||ut._muted||ut._parent._muted?0:ut._volume;return dt._webAudio?(ut._node=typeof nt.ctx.createGain=="undefined"?nt.ctx.createGainNode():nt.ctx.createGain(),ut._node.gain.setValueAtTime(ht,nt.ctx.currentTime),ut._node.paused=!0,ut._node.connect(nt.masterGain)):nt.noAudio||(ut._node=nt._obtainHtml5Audio(),ut._errorFn=ut._errorListener.bind(ut),ut._node.addEventListener("error",ut._errorFn,!1),ut._loadFn=ut._loadListener.bind(ut),ut._node.addEventListener(nt._canPlayEvent,ut._loadFn,!1),ut._endFn=ut._endListener.bind(ut),ut._node.addEventListener("ended",ut._endFn,!1),ut._node.src=dt._src,ut._node.preload=dt._preload===!0?"auto":dt._preload,ut._node.volume=ht*nt.volume(),ut._node.load()),ut},reset:function(){var ut=this,dt=ut._parent;return ut._muted=dt._muted,ut._loop=dt._loop,ut._volume=dt._volume,ut._rate=dt._rate,ut._seek=0,ut._rateSeek=0,ut._paused=!0,ut._ended=!0,ut._sprite="__default",ut._id=++nt._counter,ut},_errorListener:function(){var ut=this;ut._parent._emit("loaderror",ut._id,ut._node.error?ut._node.error.code:0),ut._node.removeEventListener("error",ut._errorFn,!1)},_loadListener:function(){var ut=this,dt=ut._parent;dt._duration=Math.ceil(ut._node.duration*10)/10,Object.keys(dt._sprite).length===0&&(dt._sprite={__default:[0,dt._duration*1e3]}),dt._state!=="loaded"&&(dt._state="loaded",dt._emit("load"),dt._loadQueue()),ut._node.removeEventListener(nt._canPlayEvent,ut._loadFn,!1)},_endListener:function(){var ut=this,dt=ut._parent;dt._duration===1/0&&(dt._duration=Math.ceil(ut._node.duration*10)/10,dt._sprite.__default[1]===1/0&&(dt._sprite.__default[1]=dt._duration*1e3),dt._ended(ut)),ut._node.removeEventListener("ended",ut._endFn,!1)}};var ot={},at=function(ut){var dt=ut._src;if(ot[dt]){ut._duration=ot[dt].duration,ct(ut);return}if(/^data:[^;]+;base64,/.test(dt)){for(var ht=atob(dt.split(",")[1]),pt=new Uint8Array(ht.length),gt=0;gt<ht.length;++gt)pt[gt]=ht.charCodeAt(gt);lt(pt.buffer,ut)}else{var mt=new XMLHttpRequest;mt.open(ut._xhr.method,dt,!0),mt.withCredentials=ut._xhr.withCredentials,mt.responseType="arraybuffer",ut._xhr.headers&&Object.keys(ut._xhr.headers).forEach(function(yt){mt.setRequestHeader(yt,ut._xhr.headers[yt])}),mt.onload=function(){var yt=(mt.status+"")[0];if(yt!=="0"&&yt!=="2"&&yt!=="3"){ut._emit("loaderror",null,"Failed loading audio file with status: "+mt.status+".");return}lt(mt.response,ut)},mt.onerror=function(){ut._webAudio&&(ut._html5=!0,ut._webAudio=!1,ut._sounds=[],delete ot[dt],ut.load())},st(mt)}},st=function(ut){try{ut.send()}catch{ut.onerror()}},lt=function(ut,dt){var ht=function(){dt._emit("loaderror",null,"Decoding audio data failed.")},pt=function(gt){gt&&dt._sounds.length>0?(ot[dt._src]=gt,ct(dt,gt)):ht()};typeof Promise!="undefined"&&nt.ctx.decodeAudioData.length===1?nt.ctx.decodeAudioData(ut).then(pt).catch(ht):nt.ctx.decodeAudioData(ut,pt,ht)},ct=function(ut,dt){dt&&!ut._duration&&(ut._duration=dt.duration),Object.keys(ut._sprite).length===0&&(ut._sprite={__default:[0,ut._duration*1e3]}),ut._state!=="loaded"&&(ut._state="loaded",ut._emit("load"),ut._loadQueue())},ft=function(){if(!!nt.usingWebAudio){try{typeof AudioContext!="undefined"?nt.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?nt.ctx=new webkitAudioContext:nt.usingWebAudio=!1}catch{nt.usingWebAudio=!1}nt.ctx||(nt.usingWebAudio=!1);var ut=/iP(hone|od|ad)/.test(nt._navigator&&nt._navigator.platform),dt=nt._navigator&&nt._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),ht=dt?parseInt(dt[1],10):null;if(ut&&ht&&ht<9){var pt=/safari/.test(nt._navigator&&nt._navigator.userAgent.toLowerCase());nt._navigator&&!pt&&(nt.usingWebAudio=!1)}nt.usingWebAudio&&(nt.masterGain=typeof nt.ctx.createGain=="undefined"?nt.ctx.createGainNode():nt.ctx.createGain(),nt.masterGain.gain.setValueAtTime(nt._muted?0:nt._volume,nt.ctx.currentTime),nt.masterGain.connect(nt.ctx.destination)),nt._setup()}};tt.Howler=nt,tt.Howl=rt,typeof commonjsGlobal!="undefined"?(commonjsGlobal.HowlerGlobal=et,commonjsGlobal.Howler=nt,commonjsGlobal.Howl=rt,commonjsGlobal.Sound=it):typeof window!="undefined"&&(window.HowlerGlobal=et,window.Howler=nt,window.Howl=rt,window.Sound=it)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(nt){var rt=this;if(!rt.ctx||!rt.ctx.listener)return rt;for(var it=rt._howls.length-1;it>=0;it--)rt._howls[it].stereo(nt);return rt},HowlerGlobal.prototype.pos=function(nt,rt,it){var ot=this;if(!ot.ctx||!ot.ctx.listener)return ot;if(rt=typeof rt!="number"?ot._pos[1]:rt,it=typeof it!="number"?ot._pos[2]:it,typeof nt=="number")ot._pos=[nt,rt,it],typeof ot.ctx.listener.positionX!="undefined"?(ot.ctx.listener.positionX.setTargetAtTime(ot._pos[0],Howler.ctx.currentTime,.1),ot.ctx.listener.positionY.setTargetAtTime(ot._pos[1],Howler.ctx.currentTime,.1),ot.ctx.listener.positionZ.setTargetAtTime(ot._pos[2],Howler.ctx.currentTime,.1)):ot.ctx.listener.setPosition(ot._pos[0],ot._pos[1],ot._pos[2]);else return ot._pos;return ot},HowlerGlobal.prototype.orientation=function(nt,rt,it,ot,at,st){var lt=this;if(!lt.ctx||!lt.ctx.listener)return lt;var ct=lt._orientation;if(rt=typeof rt!="number"?ct[1]:rt,it=typeof it!="number"?ct[2]:it,ot=typeof ot!="number"?ct[3]:ot,at=typeof at!="number"?ct[4]:at,st=typeof st!="number"?ct[5]:st,typeof nt=="number")lt._orientation=[nt,rt,it,ot,at,st],typeof lt.ctx.listener.forwardX!="undefined"?(lt.ctx.listener.forwardX.setTargetAtTime(nt,Howler.ctx.currentTime,.1),lt.ctx.listener.forwardY.setTargetAtTime(rt,Howler.ctx.currentTime,.1),lt.ctx.listener.forwardZ.setTargetAtTime(it,Howler.ctx.currentTime,.1),lt.ctx.listener.upX.setTargetAtTime(ot,Howler.ctx.currentTime,.1),lt.ctx.listener.upY.setTargetAtTime(at,Howler.ctx.currentTime,.1),lt.ctx.listener.upZ.setTargetAtTime(st,Howler.ctx.currentTime,.1)):lt.ctx.listener.setOrientation(nt,rt,it,ot,at,st);else return ct;return lt},Howl.prototype.init=function(nt){return function(rt){var it=this;return it._orientation=rt.orientation||[1,0,0],it._stereo=rt.stereo||null,it._pos=rt.pos||null,it._pannerAttr={coneInnerAngle:typeof rt.coneInnerAngle!="undefined"?rt.coneInnerAngle:360,coneOuterAngle:typeof rt.coneOuterAngle!="undefined"?rt.coneOuterAngle:360,coneOuterGain:typeof rt.coneOuterGain!="undefined"?rt.coneOuterGain:0,distanceModel:typeof rt.distanceModel!="undefined"?rt.distanceModel:"inverse",maxDistance:typeof rt.maxDistance!="undefined"?rt.maxDistance:1e4,panningModel:typeof rt.panningModel!="undefined"?rt.panningModel:"HRTF",refDistance:typeof rt.refDistance!="undefined"?rt.refDistance:1,rolloffFactor:typeof rt.rolloffFactor!="undefined"?rt.rolloffFactor:1},it._onstereo=rt.onstereo?[{fn:rt.onstereo}]:[],it._onpos=rt.onpos?[{fn:rt.onpos}]:[],it._onorientation=rt.onorientation?[{fn:rt.onorientation}]:[],nt.call(this,rt)}}(Howl.prototype.init),Howl.prototype.stereo=function(nt,rt){var it=this;if(!it._webAudio)return it;if(it._state!=="loaded")return it._queue.push({event:"stereo",action:function(){it.stereo(nt,rt)}}),it;var ot=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof rt=="undefined")if(typeof nt=="number")it._stereo=nt,it._pos=[nt,0,0];else return it._stereo;for(var at=it._getSoundIds(rt),st=0;st<at.length;st++){var lt=it._soundById(at[st]);if(lt)if(typeof nt=="number")lt._stereo=nt,lt._pos=[nt,0,0],lt._node&&(lt._pannerAttr.panningModel="equalpower",(!lt._panner||!lt._panner.pan)&&et(lt,ot),ot==="spatial"?typeof lt._panner.positionX!="undefined"?(lt._panner.positionX.setValueAtTime(nt,Howler.ctx.currentTime),lt._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),lt._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):lt._panner.setPosition(nt,0,0):lt._panner.pan.setValueAtTime(nt,Howler.ctx.currentTime)),it._emit("stereo",lt._id);else return lt._stereo}return it},Howl.prototype.pos=function(nt,rt,it,ot){var at=this;if(!at._webAudio)return at;if(at._state!=="loaded")return at._queue.push({event:"pos",action:function(){at.pos(nt,rt,it,ot)}}),at;if(rt=typeof rt!="number"?0:rt,it=typeof it!="number"?-.5:it,typeof ot=="undefined")if(typeof nt=="number")at._pos=[nt,rt,it];else return at._pos;for(var st=at._getSoundIds(ot),lt=0;lt<st.length;lt++){var ct=at._soundById(st[lt]);if(ct)if(typeof nt=="number")ct._pos=[nt,rt,it],ct._node&&((!ct._panner||ct._panner.pan)&&et(ct,"spatial"),typeof ct._panner.positionX!="undefined"?(ct._panner.positionX.setValueAtTime(nt,Howler.ctx.currentTime),ct._panner.positionY.setValueAtTime(rt,Howler.ctx.currentTime),ct._panner.positionZ.setValueAtTime(it,Howler.ctx.currentTime)):ct._panner.setPosition(nt,rt,it)),at._emit("pos",ct._id);else return ct._pos}return at},Howl.prototype.orientation=function(nt,rt,it,ot){var at=this;if(!at._webAudio)return at;if(at._state!=="loaded")return at._queue.push({event:"orientation",action:function(){at.orientation(nt,rt,it,ot)}}),at;if(rt=typeof rt!="number"?at._orientation[1]:rt,it=typeof it!="number"?at._orientation[2]:it,typeof ot=="undefined")if(typeof nt=="number")at._orientation=[nt,rt,it];else return at._orientation;for(var st=at._getSoundIds(ot),lt=0;lt<st.length;lt++){var ct=at._soundById(st[lt]);if(ct)if(typeof nt=="number")ct._orientation=[nt,rt,it],ct._node&&(ct._panner||(ct._pos||(ct._pos=at._pos||[0,0,-.5]),et(ct,"spatial")),typeof ct._panner.orientationX!="undefined"?(ct._panner.orientationX.setValueAtTime(nt,Howler.ctx.currentTime),ct._panner.orientationY.setValueAtTime(rt,Howler.ctx.currentTime),ct._panner.orientationZ.setValueAtTime(it,Howler.ctx.currentTime)):ct._panner.setOrientation(nt,rt,it)),at._emit("orientation",ct._id);else return ct._orientation}return at},Howl.prototype.pannerAttr=function(){var nt=this,rt=arguments,it,ot,at;if(!nt._webAudio)return nt;if(rt.length===0)return nt._pannerAttr;if(rt.length===1)if(typeof rt[0]=="object")it=rt[0],typeof ot=="undefined"&&(it.pannerAttr||(it.pannerAttr={coneInnerAngle:it.coneInnerAngle,coneOuterAngle:it.coneOuterAngle,coneOuterGain:it.coneOuterGain,distanceModel:it.distanceModel,maxDistance:it.maxDistance,refDistance:it.refDistance,rolloffFactor:it.rolloffFactor,panningModel:it.panningModel}),nt._pannerAttr={coneInnerAngle:typeof it.pannerAttr.coneInnerAngle!="undefined"?it.pannerAttr.coneInnerAngle:nt._coneInnerAngle,coneOuterAngle:typeof it.pannerAttr.coneOuterAngle!="undefined"?it.pannerAttr.coneOuterAngle:nt._coneOuterAngle,coneOuterGain:typeof it.pannerAttr.coneOuterGain!="undefined"?it.pannerAttr.coneOuterGain:nt._coneOuterGain,distanceModel:typeof it.pannerAttr.distanceModel!="undefined"?it.pannerAttr.distanceModel:nt._distanceModel,maxDistance:typeof it.pannerAttr.maxDistance!="undefined"?it.pannerAttr.maxDistance:nt._maxDistance,refDistance:typeof it.pannerAttr.refDistance!="undefined"?it.pannerAttr.refDistance:nt._refDistance,rolloffFactor:typeof it.pannerAttr.rolloffFactor!="undefined"?it.pannerAttr.rolloffFactor:nt._rolloffFactor,panningModel:typeof it.pannerAttr.panningModel!="undefined"?it.pannerAttr.panningModel:nt._panningModel});else return at=nt._soundById(parseInt(rt[0],10)),at?at._pannerAttr:nt._pannerAttr;else rt.length===2&&(it=rt[0],ot=parseInt(rt[1],10));for(var st=nt._getSoundIds(ot),lt=0;lt<st.length;lt++)if(at=nt._soundById(st[lt]),at){var ct=at._pannerAttr;ct={coneInnerAngle:typeof it.coneInnerAngle!="undefined"?it.coneInnerAngle:ct.coneInnerAngle,coneOuterAngle:typeof it.coneOuterAngle!="undefined"?it.coneOuterAngle:ct.coneOuterAngle,coneOuterGain:typeof it.coneOuterGain!="undefined"?it.coneOuterGain:ct.coneOuterGain,distanceModel:typeof it.distanceModel!="undefined"?it.distanceModel:ct.distanceModel,maxDistance:typeof it.maxDistance!="undefined"?it.maxDistance:ct.maxDistance,refDistance:typeof it.refDistance!="undefined"?it.refDistance:ct.refDistance,rolloffFactor:typeof it.rolloffFactor!="undefined"?it.rolloffFactor:ct.rolloffFactor,panningModel:typeof it.panningModel!="undefined"?it.panningModel:ct.panningModel};var ft=at._panner;ft?(ft.coneInnerAngle=ct.coneInnerAngle,ft.coneOuterAngle=ct.coneOuterAngle,ft.coneOuterGain=ct.coneOuterGain,ft.distanceModel=ct.distanceModel,ft.maxDistance=ct.maxDistance,ft.refDistance=ct.refDistance,ft.rolloffFactor=ct.rolloffFactor,ft.panningModel=ct.panningModel):(at._pos||(at._pos=nt._pos||[0,0,-.5]),et(at,"spatial"))}return nt},Sound.prototype.init=function(nt){return function(){var rt=this,it=rt._parent;rt._orientation=it._orientation,rt._stereo=it._stereo,rt._pos=it._pos,rt._pannerAttr=it._pannerAttr,nt.call(this),rt._stereo?it.stereo(rt._stereo):rt._pos&&it.pos(rt._pos[0],rt._pos[1],rt._pos[2],rt._id)}}(Sound.prototype.init),Sound.prototype.reset=function(nt){return function(){var rt=this,it=rt._parent;return rt._orientation=it._orientation,rt._stereo=it._stereo,rt._pos=it._pos,rt._pannerAttr=it._pannerAttr,rt._stereo?it.stereo(rt._stereo):rt._pos?it.pos(rt._pos[0],rt._pos[1],rt._pos[2],rt._id):rt._panner&&(rt._panner.disconnect(0),rt._panner=void 0,it._refreshBuffer(rt)),nt.call(this)}}(Sound.prototype.reset);var et=function(nt,rt){rt=rt||"spatial",rt==="spatial"?(nt._panner=Howler.ctx.createPanner(),nt._panner.coneInnerAngle=nt._pannerAttr.coneInnerAngle,nt._panner.coneOuterAngle=nt._pannerAttr.coneOuterAngle,nt._panner.coneOuterGain=nt._pannerAttr.coneOuterGain,nt._panner.distanceModel=nt._pannerAttr.distanceModel,nt._panner.maxDistance=nt._pannerAttr.maxDistance,nt._panner.refDistance=nt._pannerAttr.refDistance,nt._panner.rolloffFactor=nt._pannerAttr.rolloffFactor,nt._panner.panningModel=nt._pannerAttr.panningModel,typeof nt._panner.positionX!="undefined"?(nt._panner.positionX.setValueAtTime(nt._pos[0],Howler.ctx.currentTime),nt._panner.positionY.setValueAtTime(nt._pos[1],Howler.ctx.currentTime),nt._panner.positionZ.setValueAtTime(nt._pos[2],Howler.ctx.currentTime)):nt._panner.setPosition(nt._pos[0],nt._pos[1],nt._pos[2]),typeof nt._panner.orientationX!="undefined"?(nt._panner.orientationX.setValueAtTime(nt._orientation[0],Howler.ctx.currentTime),nt._panner.orientationY.setValueAtTime(nt._orientation[1],Howler.ctx.currentTime),nt._panner.orientationZ.setValueAtTime(nt._orientation[2],Howler.ctx.currentTime)):nt._panner.setOrientation(nt._orientation[0],nt._orientation[1],nt._orientation[2])):(nt._panner=Howler.ctx.createStereoPanner(),nt._panner.pan.setValueAtTime(nt._stereo,Howler.ctx.currentTime)),nt._panner.connect(nt._node),nt._paused||nt._parent.pause(nt._id,!0).play(nt._id,!0)}})()})(howler);function defined$1(tt,et){if(tt!==void 0)return tt;throw new Error(et||"Value is undefined")}function notNull(tt,et){if(tt!==null)return tt;throw new Error(et||"Value is null")}function definedAndNotNull(tt,et){return notNull(defined$1(tt,et),et)}class TransformLayer extends Object3D$1{constructor(){super(...arguments),__publicField$1(this,"universeData"),__publicField$1(this,"deviceId"),__publicField$1(this,"contentNode"),__publicField$1(this,"positionUnsubsciber")}buildTransformList(et,nt,rt){const it=rt||[],ot=nt.shift();if(ot===void 0)return it;const at=et[ot],st=defined$1(at.transform).translation,{rotation:lt}=defined$1(at.transform);return it.push({pos:new Vector3$1(st.x,st.y,st.z),rotation:new Quaternion$1(lt.x,lt.y,lt.z,lt.w)}),at.children?this.buildTransformList(at.children,nt,it):it}findPathToName(et,nt,rt){const it=rt||[];for(let ot=0;ot<et.length;ot+=1)if(et[ot].name===nt)return it.push(ot),it;for(let ot=0;ot<et.length;ot+=1){const{children:at}=et[ot];if(at&&at.length>0){const st=this.findPathToName(at,nt,[...it,ot]);if(st.length>0)return st}}return[]}setPositioning(et,nt){const{deviceId:rt}=this;this.positionUnsubsciber&&(this.positionUnsubsciber(),this.positionUnsubsciber=void 0),et.type==="gps"&&et.stream&&et.relativeToLongitude!==void 0&&et.relativeToLatitude!==void 0?this.positionUnsubsciber=nt.subscribeToLocation(defined$1(rt),{id:v4(),sourceType:"telemetry",streamName:et.stream,streamType:"location"},it=>{const ot={longitude:it.longitude,latitude:it.latitude},at={longitude:et.relativeToLongitude,latitude:it.latitude},st=es.getDistance(ot,at,1e-6),lt={longitude:it.longitude,latitude:it.latitude},ct={longitude:it.longitude,latitude:et.relativeToLatitude},ft=es.getDistance(lt,ct,1e-6),ut=new Euler$1(0,0,it.orientation),dt=new Quaternion$1;dt.setFromEuler(ut),this.matrix=new Matrix4$1().compose(new Vector3$1(st,it.altitude||0,ft),dt,new Vector3$1(1,1,1)),this.matrixAutoUpdate=!1}):et.type==="transform tree"&&et.stream&&et.end?this.positionUnsubsciber=nt.subscribeToTransformTree(defined$1(rt),{id:v4(),sourceType:"telemetry",streamName:et.stream,streamType:"transform tree"},it=>{fetch(defined$1(it.url)).then(ot=>ot.json()).then(ot=>{const at=this.findPathToName([ot],defined$1(et.end)),ct=this.buildTransformList([ot],at).map(ft=>new Matrix4$1().compose(new Vector3$1(ft.pos.x,ft.pos.y,ft.pos.z),ft.rotation,new Vector3$1(1,1,1))).reduce((ft,ut)=>ft.multiply(ut),new Matrix4$1);this.matrix=ct,this.matrixAutoUpdate=!1}).catch(ot=>{throw ot})}):et.type==="manual"&&this.position.set(et.x,et.y,et.z)}}__publicField$1(TransformLayer,"layerTypeId","transform_space");__publicField$1(TransformLayer,"commonName","Empty");__publicField$1(TransformLayer,"description","An empty layer to fit other layers in.");__publicField$1(TransformLayer,"usesData",!1);const snackbarAtom=Recoil_index_7({key:"snackbarMessage",default:{open:!1}}),sceneGraphAtom=Recoil_index_7({key:"sceneGraph",default:[],dangerouslyAllowMutability:!0});class UniverseLayer extends Object3D$1{constructor(){super(...arguments),__publicField$1(this,"layerId"),__publicField$1(this,"universeData"),__publicField$1(this,"layerContext"),__publicField$1(this,"layerDataSources",[]),__publicField$1(this,"layerFields",{}),__publicField$1(this,"camera")}static async getLayerSuggestions(et,nt){return[]}static createDefault(et,nt,rt,it,ot,at,st){et.layerId=nt,et.universeData=rt,et.layerContext=it,et.layerDataSources=ot||[],et.layerFields=at||{},et.camera=st;const lt=new TransformLayer;return lt.universeData=rt,lt.deviceId=it,lt.contentNode=et,lt.add(et),et.init(),lt}init(){}onPointerMove(et){}onPointerEnter(et){}onPointerLeave(et){}onPointerDown(et,nt){}onPointerUp(et,nt){}onPointerWheel(et,nt){}onFieldChanged(et,nt){}onEnterVR(et){}onExitVR(et){}onVisibilityChanged(et){}onControllerButtonChanged(et,nt,rt){}onControllerAxisChanged(et,nt,rt){}onHandheldControllerButtonChanged(et,nt,rt){}onHandheldControllerAxisChanged(et,nt,rt){}onControllersMoved(et){}onHandsEnter(et){}onHandsLeave(et){}onHandsMoved(et){}onHandPosesChanged(et){}onUpdate(et){}destroy(){}showSnackbar(et){setRecoil_1(snackbarAtom,{message:et,open:!0})}setFieldValue(et,nt){const rt=JSON.parse(JSON.stringify(getRecoil_1(sceneGraphAtom)));rt.forEach(it=>{visitSceneGraphElement(it,ot=>{ot.id===this.layerId&&(ot.fieldValues[et].value=nt)})}),setRecoil_1(sceneGraphAtom,rt)}playSound(et,nt=1,rt=!1,it=void 0){const ot=new howler.Howl({src:[et],volume:nt,loop:rt});return it&&ot.pos(it.x,it.y,it.z),ot.play(),()=>{ot.stop()}}}__publicField$1(UniverseLayer,"layerTypeId");__publicField$1(UniverseLayer,"commonName");__publicField$1(UniverseLayer,"description");__publicField$1(UniverseLayer,"usesData");__publicField$1(UniverseLayer,"fields");class DataLayer extends UniverseLayer{}__publicField$1(DataLayer,"layerTypeId","data");__publicField$1(DataLayer,"commonName","Data Source");__publicField$1(DataLayer,"description","A layer that connects data to layers beneath");__publicField$1(DataLayer,"usesData",!1);function roundRect(tt,et,nt,rt,it,ot,at){tt.fillStyle=at,tt.beginPath(),tt.moveTo(et+ot,nt),tt.lineTo(et+rt-ot,nt),tt.quadraticCurveTo(et+rt,nt,et+rt,nt+ot),tt.lineTo(et+rt,nt+it-ot),tt.quadraticCurveTo(et+rt,nt+it,et+rt-ot,nt+it),tt.lineTo(et+ot,nt+it),tt.quadraticCurveTo(et,nt+it,et,nt+it-ot),tt.lineTo(et,nt+ot),tt.quadraticCurveTo(et,nt,et+ot,nt),tt.closePath(),tt.fill()}class Label extends Group$1{constructor(et,nt=!0){super(),__publicField$1(this,"sprite"),__publicField$1(this,"texture"),__publicField$1(this,"material"),__publicField$1(this,"currentText"),this.sizeAttenuate=nt,this.currentText=et,this.update()}update(){this.sprite&&(this.dispose(),this.remove(this.sprite),this.sprite=void 0);const et="Inter",nt=30,rt=this.currentText,it=`${nt}px ${et}`,ot=document.createElement("canvas"),at=definedAndNotNull(ot.getContext("2d"));at.font=it;const lt=at.measureText(rt).width,ct=nt*1.5,ft=20;ot.width=lt+ft,ot.height=ct+ft,at.globalAlpha=.5,roundRect(at,0,0,lt+ft,ct+ft,10,"#2d3855"),at.globalAlpha=1,at.font=it,at.fillStyle="#bac4e2",at.fillText(rt,0+10,nt+10);const ut=new Texture$1(ot);this.texture=ut,ut.needsUpdate=!0;const dt=new SpriteMaterial$1({map:ut,depthTest:!1,sizeAttenuation:this.sizeAttenuate});this.material=dt;const ht=new Sprite$1(dt),pt=(this.sizeAttenuate?.002:.001)*ot.width;ht.scale.set(pt,(ct+ft)/(lt+ft)*pt,pt),this.add(ht),this.sprite=ht,this.renderOrder=100}get text(){return this.currentText}set text(et){this.currentText!==et&&(this.currentText=et,this.update())}dispose(){this.texture&&(this.texture.dispose(),this.texture=void 0),this.material&&(this.material.dispose(),this.material=void 0)}}class LabelLayer extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"label")}init(){const et=(this.layerFields||{}).label_text;et&&et.type==="text"&&et.value&&this.createLabel(et.value)}createLabel(et){this.label&&(this.remove(this.label),this.label.dispose()),this.label=new Label(et),this.add(this.label)}onFieldChanged(et,nt){this.createLabel(nt)}}__publicField$1(LabelLayer,"layerTypeId","label");__publicField$1(LabelLayer,"commonName","Label");__publicField$1(LabelLayer,"description","A text label");__publicField$1(LabelLayer,"usesData",!1);__publicField$1(LabelLayer,"fields",{label_text:{name:"Label Text",description:"The text you'd like to show in the label",placeholder:"hello world",value:"",type:"text",location:["create","edit"]}});const _LayerRegistry=class{static register(tt){_LayerRegistry.layers.set(tt.layerTypeId,tt)}static async getLayerSuggestions(tt,et){let nt=[];return await Promise.all(Array.from(_LayerRegistry.layers.values()).map(async rt=>{if(rt.usesData){const it=await rt.getLayerSuggestions(tt,et);nt=nt.concat(it)}})),{nonDataLayers:Array.from(_LayerRegistry.layers.entries()).filter(([rt,it])=>!it.usesData).map(([rt])=>rt),dataLayers:nt}}static getCommonName(tt){return defined$1(_LayerRegistry.layers.get(tt)).commonName}static getDescription(tt){return defined$1(_LayerRegistry.layers.get(tt)).description}static getFields(tt,et){var nt;const rt=(nt=_LayerRegistry.layers.get(tt))==null?void 0:nt.fields,it=JSON.parse(JSON.stringify(rt||{}));return et&&Object.keys(it).forEach(ot=>{it[ot].location.includes(et)||delete it[ot]}),it}static createDefaultLayer(tt,et,nt,rt,it,ot,at){const st=defined$1(_LayerRegistry.layers.get(et));return UniverseLayer.createDefault(new st,tt,nt,rt,it,ot,at)}};let LayerRegistry=_LayerRegistry;__publicField$1(LayerRegistry,"layers",new Map);const range=(tt,et)=>et<=tt?[]:new Array(et-tt).fill(0).map((nt,rt)=>rt+tt);function polarGridCircle(tt,et,nt=36){const rt=new EllipseCurve$1(0,0,tt,tt,0,2*Math.PI,!1,0),it=new Path$1(rt.getPoints(nt)),ot=new BufferGeometry$1().setFromPoints(it.getPoints()),at=new LineBasicMaterial$1({color:et}),st=new Line$1(ot,at);return st.rotation.x=Math.PI/2,st}function polarGrid(tt,et){const nt=new Mesh$1;return range(-1,2).forEach((rt,it)=>{range(it===0?1:3,21).forEach(at=>{const st=at===10,lt=10**rt*at;nt.add(polarGridCircle(lt,st?tt:et,36*3))})}),nt}class GroundPlane extends Group$1{constructor(et=new Color$2(2963283),nt=new Color$2(3884393)){super(),this.add(polarGrid(nt,et))}}function axisLine(tt,et,nt=.4){const rt=new LineBasicMaterial$1({color:et,opacity:nt,depthTest:!0,depthWrite:!0});rt.transparent=!0;const it=new BufferGeometry$1,ot=new Float32Array([0,0,0,tt.x,tt.y,tt.z]);return it.setAttribute("position",new BufferAttribute$1(ot,3)),new Line$1(it,rt)}class Axes extends Group$1{constructor(et,nt=new Color$2(15364509),rt=new Color$2(3064981),it=new Color$2(1626879)){super();const ot=1e3;this.add(axisLine(new Vector3$1(ot,0,0),nt)),this.add(axisLine(new Vector3$1(-ot,0,0),nt)),et||(this.add(axisLine(new Vector3$1(0,ot,0),rt,.3)),this.add(axisLine(new Vector3$1(0,-ot,0),rt,.2))),this.add(axisLine(new Vector3$1(0,0,ot),it)),this.add(axisLine(new Vector3$1(0,0,-ot),it))}}class AxisLabels extends Group$1{constructor(et){super(),__publicField$1(this,"labelRadius",1);const nt=new Label("x",!1);nt.position.set(this.labelRadius,0,0),this.add(nt);const rt=new Label("y",!1);if(rt.position.set(0,0,this.labelRadius),this.add(rt),!et){const it=new Label("z",!1);it.position.set(0,this.labelRadius,0),this.add(it)}}}class GroundLayer extends UniverseLayer{init(){const{flatAxes:et}=this.layerFields||{},nt=et&&et.type==="text"&&et.value==="true";this.add(new GroundPlane),this.add(new Axes(nt)),this.add(new AxisLabels(nt))}}__publicField$1(GroundLayer,"layerTypeId","ground");__publicField$1(GroundLayer,"commonName","Ground");__publicField$1(GroundLayer,"description","A flat plane to represent the ground.");__publicField$1(GroundLayer,"usesData",!1);__publicField$1(GroundLayer,"fields",{flatAxes:{name:"Show Flat Axes",description:"Axes should be flat",placeholder:"false",value:"false",type:"text",location:["create"]}});class SVGLoader extends Loader$1{constructor(et){super(et),this.defaultDPI=90,this.defaultUnit="px"}load(et,nt,rt,it){const ot=this,at=new FileLoader$1(ot.manager);at.setPath(ot.path),at.setRequestHeader(ot.requestHeader),at.setWithCredentials(ot.withCredentials),at.load(et,function(st){try{nt(ot.parse(st))}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},rt,it)}parse(et){const nt=this;function rt(kt,Gt){if(kt.nodeType!==1)return;const Ht=xt(kt);let Jt=!1,Vt=null;switch(kt.nodeName){case"svg":break;case"style":ot(kt);break;case"g":Gt=pt(kt,Gt);break;case"path":Gt=pt(kt,Gt),kt.hasAttribute("d")&&(Vt=it(kt));break;case"rect":Gt=pt(kt,Gt),Vt=lt(kt);break;case"polygon":Gt=pt(kt,Gt),Vt=ct(kt);break;case"polyline":Gt=pt(kt,Gt),Vt=ft(kt);break;case"circle":Gt=pt(kt,Gt),Vt=ut(kt);break;case"ellipse":Gt=pt(kt,Gt),Vt=dt(kt);break;case"line":Gt=pt(kt,Gt),Vt=ht(kt);break;case"defs":Jt=!0;break;case"use":Gt=pt(kt,Gt);const Bt=(kt.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),Ft=kt.viewportElement.getElementById(Bt);Ft?rt(Ft,Gt):console.warn("SVGLoader: 'use node' references non-existent node id: "+Bt);break}Vt&&(Gt.fill!==void 0&&Gt.fill!=="none"&&Vt.color.setStyle(Gt.fill),$t(Vt,At),Et.push(Vt),Vt.userData={node:kt,style:Gt});const Wt=kt.childNodes;for(let Lt=0;Lt<Wt.length;Lt++){const Bt=Wt[Lt];Jt&&Bt.nodeName!=="style"&&Bt.nodeName!=="defs"||rt(Bt,Gt)}Ht&&(Tt.pop(),Tt.length>0?At.copy(Tt[Tt.length-1]):At.identity())}function it(kt){const Gt=new ShapePath,Ht=new Vector2$1,Jt=new Vector2$1,Vt=new Vector2$1;let Wt=!0,Lt=!1;const Ft=kt.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let sn=0,Xt=Ft.length;sn<Xt;sn++){const dn=Ft[sn],Yt=dn.charAt(0),yn=dn.slice(1).trim();Wt===!0&&(Lt=!0,Wt=!1);let Qt;switch(Yt){case"M":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=2)Ht.x=Qt[Kt+0],Ht.y=Qt[Kt+1],Jt.x=Ht.x,Jt.y=Ht.y,Kt===0?Gt.moveTo(Ht.x,Ht.y):Gt.lineTo(Ht.x,Ht.y),Kt===0&&Vt.copy(Ht);break;case"H":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt++)Ht.x=Qt[Kt],Jt.x=Ht.x,Jt.y=Ht.y,Gt.lineTo(Ht.x,Ht.y),Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"V":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt++)Ht.y=Qt[Kt],Jt.x=Ht.x,Jt.y=Ht.y,Gt.lineTo(Ht.x,Ht.y),Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"L":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=2)Ht.x=Qt[Kt+0],Ht.y=Qt[Kt+1],Jt.x=Ht.x,Jt.y=Ht.y,Gt.lineTo(Ht.x,Ht.y),Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"C":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=6)Gt.bezierCurveTo(Qt[Kt+0],Qt[Kt+1],Qt[Kt+2],Qt[Kt+3],Qt[Kt+4],Qt[Kt+5]),Jt.x=Qt[Kt+2],Jt.y=Qt[Kt+3],Ht.x=Qt[Kt+4],Ht.y=Qt[Kt+5],Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"S":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=4)Gt.bezierCurveTo(gt(Ht.x,Jt.x),gt(Ht.y,Jt.y),Qt[Kt+0],Qt[Kt+1],Qt[Kt+2],Qt[Kt+3]),Jt.x=Qt[Kt+0],Jt.y=Qt[Kt+1],Ht.x=Qt[Kt+2],Ht.y=Qt[Kt+3],Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"Q":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=4)Gt.quadraticCurveTo(Qt[Kt+0],Qt[Kt+1],Qt[Kt+2],Qt[Kt+3]),Jt.x=Qt[Kt+0],Jt.y=Qt[Kt+1],Ht.x=Qt[Kt+2],Ht.y=Qt[Kt+3],Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"T":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=2){const vn=gt(Ht.x,Jt.x),Sn=gt(Ht.y,Jt.y);Gt.quadraticCurveTo(vn,Sn,Qt[Kt+0],Qt[Kt+1]),Jt.x=vn,Jt.y=Sn,Ht.x=Qt[Kt+0],Ht.y=Qt[Kt+1],Kt===0&&Lt===!0&&Vt.copy(Ht)}break;case"A":Qt=mt(yn,[3,4],7);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=7){if(Qt[Kt+5]==Ht.x&&Qt[Kt+6]==Ht.y)continue;const vn=Ht.clone();Ht.x=Qt[Kt+5],Ht.y=Qt[Kt+6],Jt.x=Ht.x,Jt.y=Ht.y,at(Gt,Qt[Kt],Qt[Kt+1],Qt[Kt+2],Qt[Kt+3],Qt[Kt+4],vn,Ht),Kt===0&&Lt===!0&&Vt.copy(Ht)}break;case"m":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=2)Ht.x+=Qt[Kt+0],Ht.y+=Qt[Kt+1],Jt.x=Ht.x,Jt.y=Ht.y,Kt===0?Gt.moveTo(Ht.x,Ht.y):Gt.lineTo(Ht.x,Ht.y),Kt===0&&Vt.copy(Ht);break;case"h":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt++)Ht.x+=Qt[Kt],Jt.x=Ht.x,Jt.y=Ht.y,Gt.lineTo(Ht.x,Ht.y),Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"v":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt++)Ht.y+=Qt[Kt],Jt.x=Ht.x,Jt.y=Ht.y,Gt.lineTo(Ht.x,Ht.y),Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"l":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=2)Ht.x+=Qt[Kt+0],Ht.y+=Qt[Kt+1],Jt.x=Ht.x,Jt.y=Ht.y,Gt.lineTo(Ht.x,Ht.y),Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"c":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=6)Gt.bezierCurveTo(Ht.x+Qt[Kt+0],Ht.y+Qt[Kt+1],Ht.x+Qt[Kt+2],Ht.y+Qt[Kt+3],Ht.x+Qt[Kt+4],Ht.y+Qt[Kt+5]),Jt.x=Ht.x+Qt[Kt+2],Jt.y=Ht.y+Qt[Kt+3],Ht.x+=Qt[Kt+4],Ht.y+=Qt[Kt+5],Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"s":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=4)Gt.bezierCurveTo(gt(Ht.x,Jt.x),gt(Ht.y,Jt.y),Ht.x+Qt[Kt+0],Ht.y+Qt[Kt+1],Ht.x+Qt[Kt+2],Ht.y+Qt[Kt+3]),Jt.x=Ht.x+Qt[Kt+0],Jt.y=Ht.y+Qt[Kt+1],Ht.x+=Qt[Kt+2],Ht.y+=Qt[Kt+3],Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"q":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=4)Gt.quadraticCurveTo(Ht.x+Qt[Kt+0],Ht.y+Qt[Kt+1],Ht.x+Qt[Kt+2],Ht.y+Qt[Kt+3]),Jt.x=Ht.x+Qt[Kt+0],Jt.y=Ht.y+Qt[Kt+1],Ht.x+=Qt[Kt+2],Ht.y+=Qt[Kt+3],Kt===0&&Lt===!0&&Vt.copy(Ht);break;case"t":Qt=mt(yn);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=2){const vn=gt(Ht.x,Jt.x),Sn=gt(Ht.y,Jt.y);Gt.quadraticCurveTo(vn,Sn,Ht.x+Qt[Kt+0],Ht.y+Qt[Kt+1]),Jt.x=vn,Jt.y=Sn,Ht.x=Ht.x+Qt[Kt+0],Ht.y=Ht.y+Qt[Kt+1],Kt===0&&Lt===!0&&Vt.copy(Ht)}break;case"a":Qt=mt(yn,[3,4],7);for(let Kt=0,hn=Qt.length;Kt<hn;Kt+=7){if(Qt[Kt+5]==0&&Qt[Kt+6]==0)continue;const vn=Ht.clone();Ht.x+=Qt[Kt+5],Ht.y+=Qt[Kt+6],Jt.x=Ht.x,Jt.y=Ht.y,at(Gt,Qt[Kt],Qt[Kt+1],Qt[Kt+2],Qt[Kt+3],Qt[Kt+4],vn,Ht),Kt===0&&Lt===!0&&Vt.copy(Ht)}break;case"Z":case"z":Gt.currentPath.autoClose=!0,Gt.currentPath.curves.length>0&&(Ht.copy(Vt),Gt.currentPath.currentPoint.copy(Ht),Wt=!0);break;default:console.warn(dn)}Lt=!1}return Gt}function ot(kt){if(!(!kt.sheet||!kt.sheet.cssRules||!kt.sheet.cssRules.length))for(let Gt=0;Gt<kt.sheet.cssRules.length;Gt++){const Ht=kt.sheet.cssRules[Gt];if(Ht.type!==1)continue;const Jt=Ht.selectorText.split(/,/gm).filter(Boolean).map(Vt=>Vt.trim());for(let Vt=0;Vt<Jt.length;Vt++){const Wt=Object.fromEntries(Object.entries(Ht.style).filter(([,Lt])=>Lt!==""));Rt[Jt[Vt]]=Object.assign(Rt[Jt[Vt]]||{},Wt)}}}function at(kt,Gt,Ht,Jt,Vt,Wt,Lt,Bt){if(Gt==0||Ht==0){kt.lineTo(Bt.x,Bt.y);return}Jt=Jt*Math.PI/180,Gt=Math.abs(Gt),Ht=Math.abs(Ht);const Ft=(Lt.x-Bt.x)/2,sn=(Lt.y-Bt.y)/2,Xt=Math.cos(Jt)*Ft+Math.sin(Jt)*sn,dn=-Math.sin(Jt)*Ft+Math.cos(Jt)*sn;let Yt=Gt*Gt,yn=Ht*Ht;const Qt=Xt*Xt,Kt=dn*dn,hn=Qt/Yt+Kt/yn;if(hn>1){const Ln=Math.sqrt(hn);Gt=Ln*Gt,Ht=Ln*Ht,Yt=Gt*Gt,yn=Ht*Ht}const vn=Yt*Kt+yn*Qt,Sn=(Yt*yn-vn)/vn;let Cn=Math.sqrt(Math.max(0,Sn));Vt===Wt&&(Cn=-Cn);const cn=Cn*Gt*dn/Ht,ln=-Cn*Ht*Xt/Gt,bn=Math.cos(Jt)*cn-Math.sin(Jt)*ln+(Lt.x+Bt.x)/2,xn=Math.sin(Jt)*cn+Math.cos(Jt)*ln+(Lt.y+Bt.y)/2,Nn=st(1,0,(Xt-cn)/Gt,(dn-ln)/Ht),zn=st((Xt-cn)/Gt,(dn-ln)/Ht,(-Xt-cn)/Gt,(-dn-ln)/Ht)%(Math.PI*2);kt.currentPath.absellipse(bn,xn,Gt,Ht,Nn,Nn+zn,Wt===0,Jt)}function st(kt,Gt,Ht,Jt){const Vt=kt*Ht+Gt*Jt,Wt=Math.sqrt(kt*kt+Gt*Gt)*Math.sqrt(Ht*Ht+Jt*Jt);let Lt=Math.acos(Math.max(-1,Math.min(1,Vt/Wt)));return kt*Jt-Gt*Ht<0&&(Lt=-Lt),Lt}function lt(kt){const Gt=St(kt.getAttribute("x")||0),Ht=St(kt.getAttribute("y")||0),Jt=St(kt.getAttribute("rx")||kt.getAttribute("ry")||0),Vt=St(kt.getAttribute("ry")||kt.getAttribute("rx")||0),Wt=St(kt.getAttribute("width")),Lt=St(kt.getAttribute("height")),Bt=1-.551915024494,Ft=new ShapePath;return Ft.moveTo(Gt+Jt,Ht),Ft.lineTo(Gt+Wt-Jt,Ht),(Jt!==0||Vt!==0)&&Ft.bezierCurveTo(Gt+Wt-Jt*Bt,Ht,Gt+Wt,Ht+Vt*Bt,Gt+Wt,Ht+Vt),Ft.lineTo(Gt+Wt,Ht+Lt-Vt),(Jt!==0||Vt!==0)&&Ft.bezierCurveTo(Gt+Wt,Ht+Lt-Vt*Bt,Gt+Wt-Jt*Bt,Ht+Lt,Gt+Wt-Jt,Ht+Lt),Ft.lineTo(Gt+Jt,Ht+Lt),(Jt!==0||Vt!==0)&&Ft.bezierCurveTo(Gt+Jt*Bt,Ht+Lt,Gt,Ht+Lt-Vt*Bt,Gt,Ht+Lt-Vt),Ft.lineTo(Gt,Ht+Vt),(Jt!==0||Vt!==0)&&Ft.bezierCurveTo(Gt,Ht+Vt*Bt,Gt+Jt*Bt,Ht,Gt+Jt,Ht),Ft}function ct(kt){function Gt(Wt,Lt,Bt){const Ft=St(Lt),sn=St(Bt);Vt===0?Jt.moveTo(Ft,sn):Jt.lineTo(Ft,sn),Vt++}const Ht=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,Jt=new ShapePath;let Vt=0;return kt.getAttribute("points").replace(Ht,Gt),Jt.currentPath.autoClose=!0,Jt}function ft(kt){function Gt(Wt,Lt,Bt){const Ft=St(Lt),sn=St(Bt);Vt===0?Jt.moveTo(Ft,sn):Jt.lineTo(Ft,sn),Vt++}const Ht=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,Jt=new ShapePath;let Vt=0;return kt.getAttribute("points").replace(Ht,Gt),Jt.currentPath.autoClose=!1,Jt}function ut(kt){const Gt=St(kt.getAttribute("cx")||0),Ht=St(kt.getAttribute("cy")||0),Jt=St(kt.getAttribute("r")||0),Vt=new Path$1;Vt.absarc(Gt,Ht,Jt,0,Math.PI*2);const Wt=new ShapePath;return Wt.subPaths.push(Vt),Wt}function dt(kt){const Gt=St(kt.getAttribute("cx")||0),Ht=St(kt.getAttribute("cy")||0),Jt=St(kt.getAttribute("rx")||0),Vt=St(kt.getAttribute("ry")||0),Wt=new Path$1;Wt.absellipse(Gt,Ht,Jt,Vt,0,Math.PI*2);const Lt=new ShapePath;return Lt.subPaths.push(Wt),Lt}function ht(kt){const Gt=St(kt.getAttribute("x1")||0),Ht=St(kt.getAttribute("y1")||0),Jt=St(kt.getAttribute("x2")||0),Vt=St(kt.getAttribute("y2")||0),Wt=new ShapePath;return Wt.moveTo(Gt,Ht),Wt.lineTo(Jt,Vt),Wt.currentPath.autoClose=!1,Wt}function pt(kt,Gt){Gt=Object.assign({},Gt);let Ht={};if(kt.hasAttribute("class")){const Lt=kt.getAttribute("class").split(/\s/).filter(Boolean).map(Bt=>Bt.trim());for(let Bt=0;Bt<Lt.length;Bt++)Ht=Object.assign(Ht,Rt["."+Lt[Bt]])}kt.hasAttribute("id")&&(Ht=Object.assign(Ht,Rt["#"+kt.getAttribute("id")]));function Jt(Lt,Bt,Ft){Ft===void 0&&(Ft=function(Xt){return Xt.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),Xt}),kt.hasAttribute(Lt)&&(Gt[Bt]=Ft(kt.getAttribute(Lt))),Ht[Lt]&&(Gt[Bt]=Ft(Ht[Lt])),kt.style&&kt.style[Lt]!==""&&(Gt[Bt]=Ft(kt.style[Lt]))}function Vt(Lt){return Math.max(0,Math.min(1,St(Lt)))}function Wt(Lt){return Math.max(0,St(Lt))}return Jt("fill","fill"),Jt("fill-opacity","fillOpacity",Vt),Jt("fill-rule","fillRule"),Jt("opacity","opacity",Vt),Jt("stroke","stroke"),Jt("stroke-opacity","strokeOpacity",Vt),Jt("stroke-width","strokeWidth",Wt),Jt("stroke-linejoin","strokeLineJoin"),Jt("stroke-linecap","strokeLineCap"),Jt("stroke-miterlimit","strokeMiterLimit",Wt),Jt("visibility","visibility"),Gt}function gt(kt,Gt){return kt-(Gt-kt)}function mt(kt,Gt,Ht){if(typeof kt!="string")throw new TypeError("Invalid input: "+typeof kt);const Jt={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},Vt=0,Wt=1,Lt=2,Bt=3;let Ft=Vt,sn=!0,Xt="",dn="";const Yt=[];function yn(vn,Sn,Cn){const cn=new SyntaxError('Unexpected character "'+vn+'" at index '+Sn+".");throw cn.partial=Cn,cn}function Qt(){Xt!==""&&(dn===""?Yt.push(Number(Xt)):Yt.push(Number(Xt)*Math.pow(10,Number(dn)))),Xt="",dn=""}let Kt;const hn=kt.length;for(let vn=0;vn<hn;vn++){if(Kt=kt[vn],Array.isArray(Gt)&&Gt.includes(Yt.length%Ht)&&Jt.FLAGS.test(Kt)){Ft=Wt,Xt=Kt,Qt();continue}if(Ft===Vt){if(Jt.WHITESPACE.test(Kt))continue;if(Jt.DIGIT.test(Kt)||Jt.SIGN.test(Kt)){Ft=Wt,Xt=Kt;continue}if(Jt.POINT.test(Kt)){Ft=Lt,Xt=Kt;continue}Jt.COMMA.test(Kt)&&(sn&&yn(Kt,vn,Yt),sn=!0)}if(Ft===Wt){if(Jt.DIGIT.test(Kt)){Xt+=Kt;continue}if(Jt.POINT.test(Kt)){Xt+=Kt,Ft=Lt;continue}if(Jt.EXP.test(Kt)){Ft=Bt;continue}Jt.SIGN.test(Kt)&&Xt.length===1&&Jt.SIGN.test(Xt[0])&&yn(Kt,vn,Yt)}if(Ft===Lt){if(Jt.DIGIT.test(Kt)){Xt+=Kt;continue}if(Jt.EXP.test(Kt)){Ft=Bt;continue}Jt.POINT.test(Kt)&&Xt[Xt.length-1]==="."&&yn(Kt,vn,Yt)}if(Ft===Bt){if(Jt.DIGIT.test(Kt)){dn+=Kt;continue}if(Jt.SIGN.test(Kt)){if(dn===""){dn+=Kt;continue}dn.length===1&&Jt.SIGN.test(dn)&&yn(Kt,vn,Yt)}}Jt.WHITESPACE.test(Kt)?(Qt(),Ft=Vt,sn=!1):Jt.COMMA.test(Kt)?(Qt(),Ft=Vt,sn=!0):Jt.SIGN.test(Kt)?(Qt(),Ft=Wt,Xt=Kt):Jt.POINT.test(Kt)?(Qt(),Ft=Lt,Xt=Kt):yn(Kt,vn,Yt)}return Qt(),Yt}const yt=["mm","cm","in","pt","pc","px"],bt={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function St(kt){let Gt="px";if(typeof kt=="string"||kt instanceof String)for(let Jt=0,Vt=yt.length;Jt<Vt;Jt++){const Wt=yt[Jt];if(kt.endsWith(Wt)){Gt=Wt,kt=kt.substring(0,kt.length-Wt.length);break}}let Ht;return Gt==="px"&&nt.defaultUnit!=="px"?Ht=bt.in[nt.defaultUnit]/nt.defaultDPI:(Ht=bt[Gt][nt.defaultUnit],Ht<0&&(Ht=bt[Gt].in*nt.defaultDPI)),Ht*parseFloat(kt)}function xt(kt){if(!(kt.hasAttribute("transform")||kt.nodeName==="use"&&(kt.hasAttribute("x")||kt.hasAttribute("y"))))return null;const Gt=vt(kt);return Tt.length>0&&Gt.premultiply(Tt[Tt.length-1]),At.copy(Gt),Tt.push(Gt),Gt}function vt(kt){const Gt=new Matrix3$1,Ht=It;if(kt.nodeName==="use"&&(kt.hasAttribute("x")||kt.hasAttribute("y"))){const Jt=St(kt.getAttribute("x")),Vt=St(kt.getAttribute("y"));Gt.translate(Jt,Vt)}if(kt.hasAttribute("transform")){const Jt=kt.getAttribute("transform").split(")");for(let Vt=Jt.length-1;Vt>=0;Vt--){const Wt=Jt[Vt].trim();if(Wt==="")continue;const Lt=Wt.indexOf("("),Bt=Wt.length;if(Lt>0&&Lt<Bt){const Ft=Wt.slice(0,Lt),sn=mt(Wt.slice(Lt+1));switch(Ht.identity(),Ft){case"translate":if(sn.length>=1){const Xt=sn[0];let dn=Xt;sn.length>=2&&(dn=sn[1]),Ht.translate(Xt,dn)}break;case"rotate":if(sn.length>=1){let Xt=0,dn=0,Yt=0;Xt=-sn[0]*Math.PI/180,sn.length>=3&&(dn=sn[1],Yt=sn[2]),Pt.identity().translate(-dn,-Yt),Dt.identity().rotate(Xt),Ct.multiplyMatrices(Dt,Pt),Pt.identity().translate(dn,Yt),Ht.multiplyMatrices(Pt,Ct)}break;case"scale":if(sn.length>=1){const Xt=sn[0];let dn=Xt;sn.length>=2&&(dn=sn[1]),Ht.scale(Xt,dn)}break;case"skewX":sn.length===1&&Ht.set(1,Math.tan(sn[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":sn.length===1&&Ht.set(1,0,0,Math.tan(sn[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":sn.length===6&&Ht.set(sn[0],sn[2],sn[4],sn[1],sn[3],sn[5],0,0,1);break}}Gt.premultiply(Ht)}}return Gt}function $t(kt,Gt){function Ht(Wt){Ut.set(Wt.x,Wt.y,1).applyMatrix3(Gt),Wt.set(Ut.x,Ut.y)}const Jt=zt(Gt),Vt=kt.subPaths;for(let Wt=0,Lt=Vt.length;Wt<Lt;Wt++){const Ft=Vt[Wt].curves;for(let sn=0;sn<Ft.length;sn++){const Xt=Ft[sn];Xt.isLineCurve?(Ht(Xt.v1),Ht(Xt.v2)):Xt.isCubicBezierCurve?(Ht(Xt.v0),Ht(Xt.v1),Ht(Xt.v2),Ht(Xt.v3)):Xt.isQuadraticBezierCurve?(Ht(Xt.v0),Ht(Xt.v1),Ht(Xt.v2)):Xt.isEllipseCurve&&(Jt&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),Ot.set(Xt.aX,Xt.aY),Ht(Ot),Xt.aX=Ot.x,Xt.aY=Ot.y,Xt.xRadius*=Nt(Gt),Xt.yRadius*=wt(Gt))}}}function zt(kt){return kt.elements[1]!==0||kt.elements[3]!==0}function Nt(kt){const Gt=kt.elements;return Math.sqrt(Gt[0]*Gt[0]+Gt[1]*Gt[1])}function wt(kt){const Gt=kt.elements;return Math.sqrt(Gt[3]*Gt[3]+Gt[4]*Gt[4])}const Et=[],Rt={},Tt=[],It=new Matrix3$1,Pt=new Matrix3$1,Dt=new Matrix3$1,Ct=new Matrix3$1,Ot=new Vector2$1,Ut=new Vector3$1,At=new Matrix3$1,Mt=new DOMParser().parseFromString(et,"image/svg+xml");return rt(Mt.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:Et,xml:Mt.documentElement}}static createShapes(et){const rt={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},it={loc:rt.ORIGIN,t:0};function ot(mt,yt,bt,St){const xt=mt.x,vt=yt.x,$t=bt.x,zt=St.x,Nt=mt.y,wt=yt.y,Et=bt.y,Rt=St.y,Tt=(zt-$t)*(Nt-Et)-(Rt-Et)*(xt-$t),It=(vt-xt)*(Nt-Et)-(wt-Nt)*(xt-$t),Pt=(Rt-Et)*(vt-xt)-(zt-$t)*(wt-Nt),Dt=Tt/Pt,Ct=It/Pt;if(Pt===0&&Tt!==0||Dt<=0||Dt>=1||Ct<0||Ct>1)return null;if(Tt===0&&Pt===0){for(let Ot=0;Ot<2;Ot++)if(at(Ot===0?bt:St,mt,yt),it.loc==rt.ORIGIN){const Ut=Ot===0?bt:St;return{x:Ut.x,y:Ut.y,t:it.t}}else if(it.loc==rt.BETWEEN){const Ut=+(xt+it.t*(vt-xt)).toPrecision(10),At=+(Nt+it.t*(wt-Nt)).toPrecision(10);return{x:Ut,y:At,t:it.t}}return null}else{for(let At=0;At<2;At++)if(at(At===0?bt:St,mt,yt),it.loc==rt.ORIGIN){const Mt=At===0?bt:St;return{x:Mt.x,y:Mt.y,t:it.t}}const Ot=+(xt+Dt*(vt-xt)).toPrecision(10),Ut=+(Nt+Dt*(wt-Nt)).toPrecision(10);return{x:Ot,y:Ut,t:Dt}}}function at(mt,yt,bt){const St=bt.x-yt.x,xt=bt.y-yt.y,vt=mt.x-yt.x,$t=mt.y-yt.y,zt=St*$t-vt*xt;if(mt.x===yt.x&&mt.y===yt.y){it.loc=rt.ORIGIN,it.t=0;return}if(mt.x===bt.x&&mt.y===bt.y){it.loc=rt.DESTINATION,it.t=1;return}if(zt<-Number.EPSILON){it.loc=rt.LEFT;return}if(zt>Number.EPSILON){it.loc=rt.RIGHT;return}if(St*vt<0||xt*$t<0){it.loc=rt.BEHIND;return}if(Math.sqrt(St*St+xt*xt)<Math.sqrt(vt*vt+$t*$t)){it.loc=rt.BEYOND;return}let Nt;St!==0?Nt=vt/St:Nt=$t/xt,it.loc=rt.BETWEEN,it.t=Nt}function st(mt,yt){const bt=[],St=[];for(let xt=1;xt<mt.length;xt++){const vt=mt[xt-1],$t=mt[xt];for(let zt=1;zt<yt.length;zt++){const Nt=yt[zt-1],wt=yt[zt],Et=ot(vt,$t,Nt,wt);Et!==null&&bt.find(Rt=>Rt.t<=Et.t+Number.EPSILON&&Rt.t>=Et.t-Number.EPSILON)===void 0&&(bt.push(Et),St.push(new Vector2$1(Et.x,Et.y)))}}return St}function lt(mt,yt,bt){const St=new Vector2$1;yt.getCenter(St);const xt=[];return bt.forEach(vt=>{vt.boundingBox.containsPoint(St)&&st(mt,vt.points).forEach(zt=>{xt.push({identifier:vt.identifier,isCW:vt.isCW,point:zt})})}),xt.sort((vt,$t)=>vt.point.x-$t.point.x),xt}function ct(mt,yt,bt,St,xt){(xt==null||xt==="")&&(xt="nonzero");const vt=new Vector2$1;mt.boundingBox.getCenter(vt);const $t=[new Vector2$1(bt,vt.y),new Vector2$1(St,vt.y)],zt=lt($t,mt.boundingBox,yt);zt.sort((It,Pt)=>It.point.x-Pt.point.x);const Nt=[],wt=[];zt.forEach(It=>{It.identifier===mt.identifier?Nt.push(It):wt.push(It)});const Et=Nt[0].point.x,Rt=[];let Tt=0;for(;Tt<wt.length&&wt[Tt].point.x<Et;)Rt.length>0&&Rt[Rt.length-1]===wt[Tt].identifier?Rt.pop():Rt.push(wt[Tt].identifier),Tt++;if(Rt.push(mt.identifier),xt==="evenodd"){const It=Rt.length%2===0,Pt=Rt[Rt.length-2];return{identifier:mt.identifier,isHole:It,for:Pt}}else if(xt==="nonzero"){let It=!0,Pt=null,Dt=null;for(let Ct=0;Ct<Rt.length;Ct++){const Ot=Rt[Ct];It?(Dt=yt[Ot].isCW,It=!1,Pt=Ot):Dt!==yt[Ot].isCW&&(Dt=yt[Ot].isCW,It=!0)}return{identifier:mt.identifier,isHole:It,for:Pt}}else console.warn('fill-rule: "'+xt+'" is currently not implemented.')}let ft=0,ut=999999999,dt=-999999999,ht=et.subPaths.map(mt=>{const yt=mt.getPoints();let bt=-999999999,St=999999999,xt=-999999999,vt=999999999;for(let $t=0;$t<yt.length;$t++){const zt=yt[$t];zt.y>bt&&(bt=zt.y),zt.y<St&&(St=zt.y),zt.x>xt&&(xt=zt.x),zt.x<vt&&(vt=zt.x)}return dt<=xt&&(dt=xt+1),ut>=vt&&(ut=vt-1),{curves:mt.curves,points:yt,isCW:ShapeUtils$1.isClockWise(yt),identifier:ft++,boundingBox:new Box2(new Vector2$1(vt,St),new Vector2$1(xt,bt))}});ht=ht.filter(mt=>mt.points.length>1);const pt=ht.map(mt=>ct(mt,ht,ut,dt,et.userData.style.fillRule)),gt=[];return ht.forEach(mt=>{if(!pt[mt.identifier].isHole){const bt=new Shape$1;bt.curves=mt.curves,pt.filter(xt=>xt.isHole&&xt.for===mt.identifier).forEach(xt=>{const vt=ht[xt.identifier],$t=new Path$1;$t.curves=vt.curves,bt.holes.push($t)}),gt.push(bt)}}),gt}static getStrokeStyle(et,nt,rt,it,ot){return et=et!==void 0?et:1,nt=nt!==void 0?nt:"#000",rt=rt!==void 0?rt:"miter",it=it!==void 0?it:"butt",ot=ot!==void 0?ot:4,{strokeColor:nt,strokeWidth:et,strokeLineJoin:rt,strokeLineCap:it,strokeMiterLimit:ot}}static pointsToStroke(et,nt,rt,it){const ot=[],at=[],st=[];if(SVGLoader.pointsToStrokeWithBuffers(et,nt,rt,it,ot,at,st)===0)return null;const lt=new BufferGeometry$1;return lt.setAttribute("position",new Float32BufferAttribute$1(ot,3)),lt.setAttribute("normal",new Float32BufferAttribute$1(at,3)),lt.setAttribute("uv",new Float32BufferAttribute$1(st,2)),lt}static pointsToStrokeWithBuffers(et,nt,rt,it,ot,at,st,lt){const ct=new Vector2$1,ft=new Vector2$1,ut=new Vector2$1,dt=new Vector2$1,ht=new Vector2$1,pt=new Vector2$1,gt=new Vector2$1,mt=new Vector2$1,yt=new Vector2$1,bt=new Vector2$1,St=new Vector2$1,xt=new Vector2$1,vt=new Vector2$1,$t=new Vector2$1,zt=new Vector2$1,Nt=new Vector2$1,wt=new Vector2$1;rt=rt!==void 0?rt:12,it=it!==void 0?it:.001,lt=lt!==void 0?lt:0,et=dn(et);const Et=et.length;if(Et<2)return 0;const Rt=et[0].equals(et[Et-1]);let Tt,It=et[0],Pt;const Dt=nt.strokeWidth/2,Ct=1/(Et-1);let Ot=0,Ut,At,Mt,jt,kt=!1,Gt=0,Ht=lt*3,Jt=lt*2;Vt(et[0],et[1],ct).multiplyScalar(Dt),mt.copy(et[0]).sub(ct),yt.copy(et[0]).add(ct),bt.copy(mt),St.copy(yt);for(let Yt=1;Yt<Et;Yt++){Tt=et[Yt],Yt===Et-1?Rt?Pt=et[1]:Pt=void 0:Pt=et[Yt+1];const yn=ct;if(Vt(It,Tt,yn),ut.copy(yn).multiplyScalar(Dt),xt.copy(Tt).sub(ut),vt.copy(Tt).add(ut),Ut=Ot+Ct,At=!1,Pt!==void 0){Vt(Tt,Pt,ft),ut.copy(ft).multiplyScalar(Dt),$t.copy(Tt).sub(ut),zt.copy(Tt).add(ut),Mt=!0,ut.subVectors(Pt,It),yn.dot(ut)<0&&(Mt=!1),Yt===1&&(kt=Mt),ut.subVectors(Pt,Tt),ut.normalize();const Qt=Math.abs(yn.dot(ut));if(Qt!==0){const Kt=Dt/Qt;ut.multiplyScalar(-Kt),dt.subVectors(Tt,It),ht.copy(dt).setLength(Kt).add(ut),Nt.copy(ht).negate();const hn=ht.length(),vn=dt.length();dt.divideScalar(vn),pt.subVectors(Pt,Tt);const Sn=pt.length();switch(pt.divideScalar(Sn),dt.dot(Nt)<vn&&pt.dot(Nt)<Sn&&(At=!0),wt.copy(ht).add(Tt),Nt.add(Tt),jt=!1,At?Mt?(zt.copy(Nt),vt.copy(Nt)):($t.copy(Nt),xt.copy(Nt)):Bt(),nt.strokeLineJoin){case"bevel":Ft(Mt,At,Ut);break;case"round":sn(Mt,At),Mt?Lt(Tt,xt,$t,Ut,0):Lt(Tt,zt,vt,Ut,1);break;case"miter":case"miter-clip":default:const Cn=Dt*nt.strokeMiterLimit/hn;if(Cn<1)if(nt.strokeLineJoin!=="miter-clip"){Ft(Mt,At,Ut);break}else sn(Mt,At),Mt?(pt.subVectors(wt,xt).multiplyScalar(Cn).add(xt),gt.subVectors(wt,$t).multiplyScalar(Cn).add($t),Wt(xt,Ut,0),Wt(pt,Ut,0),Wt(Tt,Ut,.5),Wt(Tt,Ut,.5),Wt(pt,Ut,0),Wt(gt,Ut,0),Wt(Tt,Ut,.5),Wt(gt,Ut,0),Wt($t,Ut,0)):(pt.subVectors(wt,vt).multiplyScalar(Cn).add(vt),gt.subVectors(wt,zt).multiplyScalar(Cn).add(zt),Wt(vt,Ut,1),Wt(pt,Ut,1),Wt(Tt,Ut,.5),Wt(Tt,Ut,.5),Wt(pt,Ut,1),Wt(gt,Ut,1),Wt(Tt,Ut,.5),Wt(gt,Ut,1),Wt(zt,Ut,1));else At?(Mt?(Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(wt,Ut,0),Wt(yt,Ot,1),Wt(wt,Ut,0),Wt(Nt,Ut,1)):(Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(wt,Ut,1),Wt(mt,Ot,0),Wt(Nt,Ut,0),Wt(wt,Ut,1)),Mt?$t.copy(wt):zt.copy(wt)):Mt?(Wt(xt,Ut,0),Wt(wt,Ut,0),Wt(Tt,Ut,.5),Wt(Tt,Ut,.5),Wt(wt,Ut,0),Wt($t,Ut,0)):(Wt(vt,Ut,1),Wt(wt,Ut,1),Wt(Tt,Ut,.5),Wt(Tt,Ut,.5),Wt(wt,Ut,1),Wt(zt,Ut,1)),jt=!0;break}}else Bt()}else Bt();!Rt&&Yt===Et-1&&Xt(et[0],bt,St,Mt,!0,Ot),Ot=Ut,It=Tt,mt.copy($t),yt.copy(zt)}if(!Rt)Xt(Tt,xt,vt,Mt,!1,Ut);else if(At&&ot){let Yt=wt,yn=Nt;kt!==Mt&&(Yt=Nt,yn=wt),Mt?(jt||kt)&&(yn.toArray(ot,0*3),yn.toArray(ot,3*3),jt&&Yt.toArray(ot,1*3)):(jt||!kt)&&(yn.toArray(ot,1*3),yn.toArray(ot,3*3),jt&&Yt.toArray(ot,0*3))}return Gt;function Vt(Yt,yn,Qt){return Qt.subVectors(yn,Yt),Qt.set(-Qt.y,Qt.x).normalize()}function Wt(Yt,yn,Qt){ot&&(ot[Ht]=Yt.x,ot[Ht+1]=Yt.y,ot[Ht+2]=0,at&&(at[Ht]=0,at[Ht+1]=0,at[Ht+2]=1),Ht+=3,st&&(st[Jt]=yn,st[Jt+1]=Qt,Jt+=2)),Gt+=3}function Lt(Yt,yn,Qt,Kt,hn){ct.copy(yn).sub(Yt).normalize(),ft.copy(Qt).sub(Yt).normalize();let vn=Math.PI;const Sn=ct.dot(ft);Math.abs(Sn)<1&&(vn=Math.abs(Math.acos(Sn))),vn/=rt,ut.copy(yn);for(let Cn=0,cn=rt-1;Cn<cn;Cn++)dt.copy(ut).rotateAround(Yt,vn),Wt(ut,Kt,hn),Wt(dt,Kt,hn),Wt(Yt,Kt,.5),ut.copy(dt);Wt(dt,Kt,hn),Wt(Qt,Kt,hn),Wt(Yt,Kt,.5)}function Bt(){Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(xt,Ut,0),Wt(yt,Ot,1),Wt(xt,Ut,1),Wt(vt,Ut,0)}function Ft(Yt,yn,Qt){yn?Yt?(Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(xt,Ut,0),Wt(yt,Ot,1),Wt(xt,Ut,0),Wt(Nt,Ut,1),Wt(xt,Qt,0),Wt($t,Qt,0),Wt(Nt,Qt,.5)):(Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(vt,Ut,1),Wt(mt,Ot,0),Wt(Nt,Ut,0),Wt(vt,Ut,1),Wt(vt,Qt,1),Wt(zt,Qt,0),Wt(Nt,Qt,.5)):Yt?(Wt(xt,Qt,0),Wt($t,Qt,0),Wt(Tt,Qt,.5)):(Wt(vt,Qt,1),Wt(zt,Qt,0),Wt(Tt,Qt,.5))}function sn(Yt,yn){yn&&(Yt?(Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(xt,Ut,0),Wt(yt,Ot,1),Wt(xt,Ut,0),Wt(Nt,Ut,1),Wt(xt,Ot,0),Wt(Tt,Ut,.5),Wt(Nt,Ut,1),Wt(Tt,Ut,.5),Wt($t,Ot,0),Wt(Nt,Ut,1)):(Wt(yt,Ot,1),Wt(mt,Ot,0),Wt(vt,Ut,1),Wt(mt,Ot,0),Wt(Nt,Ut,0),Wt(vt,Ut,1),Wt(vt,Ot,1),Wt(Nt,Ut,0),Wt(Tt,Ut,.5),Wt(Tt,Ut,.5),Wt(Nt,Ut,0),Wt(zt,Ot,1)))}function Xt(Yt,yn,Qt,Kt,hn,vn){switch(nt.strokeLineCap){case"round":hn?Lt(Yt,Qt,yn,vn,.5):Lt(Yt,yn,Qt,vn,.5);break;case"square":if(hn)ct.subVectors(yn,Yt),ft.set(ct.y,-ct.x),ut.addVectors(ct,ft).add(Yt),dt.subVectors(ft,ct).add(Yt),Kt?(ut.toArray(ot,1*3),dt.toArray(ot,0*3),dt.toArray(ot,3*3)):(ut.toArray(ot,1*3),ut.toArray(ot,3*3),dt.toArray(ot,0*3));else{ct.subVectors(Qt,Yt),ft.set(ct.y,-ct.x),ut.addVectors(ct,ft).add(Yt),dt.subVectors(ft,ct).add(Yt);const Sn=ot.length;Kt?(ut.toArray(ot,Sn-1*3),dt.toArray(ot,Sn-2*3),dt.toArray(ot,Sn-4*3)):(ut.toArray(ot,Sn-2*3),dt.toArray(ot,Sn-1*3),dt.toArray(ot,Sn-4*3))}break}}function dn(Yt){let yn=!1;for(let Kt=1,hn=Yt.length-1;Kt<hn;Kt++)if(Yt[Kt].distanceTo(Yt[Kt+1])<it){yn=!0;break}if(!yn)return Yt;const Qt=[];Qt.push(Yt[0]);for(let Kt=1,hn=Yt.length-1;Kt<hn;Kt++)Yt[Kt].distanceTo(Yt[Kt+1])>=it&&Qt.push(Yt[Kt]);return Qt.push(Yt[Yt.length-1]),Qt}}}class ImageLayer extends UniverseLayer{init(){const et=(this.layerFields||{}).url;et&&et.type==="text"&&et.value&&(et.value.toLowerCase().endsWith(".svg")?new SVGLoader().load(et.value,it=>{const{paths:ot}=it,at=new Group$1;ot.forEach(lt=>{const ct=new MeshBasicMaterial$1({color:lt.color,side:DoubleSide$1,depthWrite:!1});lt.toShapes(!1).forEach(ut=>{const dt=new ShapeGeometry$1(ut),ht=new Mesh$1(dt,ct);at.add(ht)})});const st=Math.PI;at.rotation.set(st,0,0),at.scale.set(.001,.001,.001),this.add(at)}):new TextureLoader$1().load(et.value,rt=>{let it=rt.image.width,ot=rt.image.height;it>ot?(ot/=it,it=1):(it/=ot,ot=1);const at=new PlaneGeometry$1(it,ot),st=new MeshBasicMaterial$1({map:rt,transparent:!0}),lt=new Mesh$1(at,st);this.add(lt)}))}}__publicField$1(ImageLayer,"layerTypeId","image");__publicField$1(ImageLayer,"commonName","Image");__publicField$1(ImageLayer,"description","A image plane model.");__publicField$1(ImageLayer,"usesData",!1);__publicField$1(ImageLayer,"fields",{url:{name:"URL",description:"The URL image to use as a texture",placeholder:"https://example.com/image.png",value:"",type:"text",location:["create"]}});class GLTFLoader extends Loader$1{constructor(et){super(et),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(nt){return new GLTFMaterialsClearcoatExtension(nt)}),this.register(function(nt){return new GLTFTextureBasisUExtension(nt)}),this.register(function(nt){return new GLTFTextureWebPExtension(nt)}),this.register(function(nt){return new GLTFMaterialsSheenExtension(nt)}),this.register(function(nt){return new GLTFMaterialsTransmissionExtension(nt)}),this.register(function(nt){return new GLTFMaterialsVolumeExtension(nt)}),this.register(function(nt){return new GLTFMaterialsIorExtension(nt)}),this.register(function(nt){return new GLTFMaterialsEmissiveStrengthExtension(nt)}),this.register(function(nt){return new GLTFMaterialsSpecularExtension(nt)}),this.register(function(nt){return new GLTFLightsExtension(nt)}),this.register(function(nt){return new GLTFMeshoptCompression(nt)})}load(et,nt,rt,it){const ot=this;let at;this.resourcePath!==""?at=this.resourcePath:this.path!==""?at=this.path:at=LoaderUtils$1.extractUrlBase(et),this.manager.itemStart(et);const st=function(ct){it?it(ct):console.error(ct),ot.manager.itemError(et),ot.manager.itemEnd(et)},lt=new FileLoader$1(this.manager);lt.setPath(this.path),lt.setResponseType("arraybuffer"),lt.setRequestHeader(this.requestHeader),lt.setWithCredentials(this.withCredentials),lt.load(et,function(ct){try{ot.parse(ct,at,function(ft){nt(ft),ot.manager.itemEnd(et)},st)}catch(ft){st(ft)}},rt,st)}setDRACOLoader(et){return this.dracoLoader=et,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(et){return this.ktx2Loader=et,this}setMeshoptDecoder(et){return this.meshoptDecoder=et,this}register(et){return this.pluginCallbacks.indexOf(et)===-1&&this.pluginCallbacks.push(et),this}unregister(et){return this.pluginCallbacks.indexOf(et)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(et),1),this}parse(et,nt,rt,it){let ot;const at={},st={};if(typeof et=="string")ot=et;else if(LoaderUtils$1.decodeText(new Uint8Array(et,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{at[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(et)}catch(ut){it&&it(ut);return}ot=at[EXTENSIONS.KHR_BINARY_GLTF].content}else ot=LoaderUtils$1.decodeText(new Uint8Array(et));const lt=JSON.parse(ot);if(lt.asset===void 0||lt.asset.version[0]<2){it&&it(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const ct=new GLTFParser(lt,{path:nt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});ct.fileLoader.setRequestHeader(this.requestHeader);for(let ft=0;ft<this.pluginCallbacks.length;ft++){const ut=this.pluginCallbacks[ft](ct);st[ut.name]=ut,at[ut.name]=!0}if(lt.extensionsUsed)for(let ft=0;ft<lt.extensionsUsed.length;++ft){const ut=lt.extensionsUsed[ft],dt=lt.extensionsRequired||[];switch(ut){case EXTENSIONS.KHR_MATERIALS_UNLIT:at[ut]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:at[ut]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:at[ut]=new GLTFDracoMeshCompressionExtension(lt,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:at[ut]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:at[ut]=new GLTFMeshQuantizationExtension;break;default:dt.indexOf(ut)>=0&&st[ut]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+ut+'".')}}ct.setExtensions(at),ct.setPlugins(st),ct.parse(rt,it)}parseAsync(et,nt){const rt=this;return new Promise(function(it,ot){rt.parse(et,nt,it,ot)})}}function GLTFRegistry(){let tt={};return{get:function(et){return tt[et]},add:function(et,nt){tt[et]=nt},remove:function(et){delete tt[et]},removeAll:function(){tt={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class GLTFLightsExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const et=this.parser,nt=this.parser.json.nodes||[];for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt];ot.extensions&&ot.extensions[this.name]&&ot.extensions[this.name].light!==void 0&&et._addNodeRef(this.cache,ot.extensions[this.name].light)}}_loadLight(et){const nt=this.parser,rt="light:"+et;let it=nt.cache.get(rt);if(it)return it;const ot=nt.json,lt=((ot.extensions&&ot.extensions[this.name]||{}).lights||[])[et];let ct;const ft=new Color$2(16777215);lt.color!==void 0&&ft.fromArray(lt.color);const ut=lt.range!==void 0?lt.range:0;switch(lt.type){case"directional":ct=new DirectionalLight$1(ft),ct.target.position.set(0,0,-1),ct.add(ct.target);break;case"point":ct=new PointLight$1(ft),ct.distance=ut;break;case"spot":ct=new SpotLight$1(ft),ct.distance=ut,lt.spot=lt.spot||{},lt.spot.innerConeAngle=lt.spot.innerConeAngle!==void 0?lt.spot.innerConeAngle:0,lt.spot.outerConeAngle=lt.spot.outerConeAngle!==void 0?lt.spot.outerConeAngle:Math.PI/4,ct.angle=lt.spot.outerConeAngle,ct.penumbra=1-lt.spot.innerConeAngle/lt.spot.outerConeAngle,ct.target.position.set(0,0,-1),ct.add(ct.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+lt.type)}return ct.position.set(0,0,0),ct.decay=2,lt.intensity!==void 0&&(ct.intensity=lt.intensity),ct.name=nt.createUniqueName(lt.name||"light_"+et),it=Promise.resolve(ct),nt.cache.add(rt,it),it}createNodeAttachment(et){const nt=this,rt=this.parser,ot=rt.json.nodes[et],st=(ot.extensions&&ot.extensions[this.name]||{}).light;return st===void 0?null:this._loadLight(st).then(function(lt){return rt._getNodeRef(nt.cache,st,lt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial$1}extendParams(et,nt,rt){const it=[];et.color=new Color$2(1,1,1),et.opacity=1;const ot=nt.pbrMetallicRoughness;if(ot){if(Array.isArray(ot.baseColorFactor)){const at=ot.baseColorFactor;et.color.fromArray(at),et.opacity=at[3]}ot.baseColorTexture!==void 0&&it.push(rt.assignTexture(et,"map",ot.baseColorTexture,sRGBEncoding$1))}return Promise.all(it)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(et,nt){const it=this.parser.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=it.extensions[this.name].emissiveStrength;return ot!==void 0&&(nt.emissiveIntensity=ot),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(et){const rt=this.parser.json.materials[et];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial$1}extendMaterialParams(et,nt){const rt=this.parser,it=rt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];if(at.clearcoatFactor!==void 0&&(nt.clearcoat=at.clearcoatFactor),at.clearcoatTexture!==void 0&&ot.push(rt.assignTexture(nt,"clearcoatMap",at.clearcoatTexture)),at.clearcoatRoughnessFactor!==void 0&&(nt.clearcoatRoughness=at.clearcoatRoughnessFactor),at.clearcoatRoughnessTexture!==void 0&&ot.push(rt.assignTexture(nt,"clearcoatRoughnessMap",at.clearcoatRoughnessTexture)),at.clearcoatNormalTexture!==void 0&&(ot.push(rt.assignTexture(nt,"clearcoatNormalMap",at.clearcoatNormalTexture)),at.clearcoatNormalTexture.scale!==void 0)){const st=at.clearcoatNormalTexture.scale;nt.clearcoatNormalScale=new Vector2$1(st,st)}return Promise.all(ot)}}class GLTFMaterialsSheenExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(et){const rt=this.parser.json.materials[et];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial$1}extendMaterialParams(et,nt){const rt=this.parser,it=rt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[];nt.sheenColor=new Color$2(0,0,0),nt.sheenRoughness=0,nt.sheen=1;const at=it.extensions[this.name];return at.sheenColorFactor!==void 0&&nt.sheenColor.fromArray(at.sheenColorFactor),at.sheenRoughnessFactor!==void 0&&(nt.sheenRoughness=at.sheenRoughnessFactor),at.sheenColorTexture!==void 0&&ot.push(rt.assignTexture(nt,"sheenColorMap",at.sheenColorTexture,sRGBEncoding$1)),at.sheenRoughnessTexture!==void 0&&ot.push(rt.assignTexture(nt,"sheenRoughnessMap",at.sheenRoughnessTexture)),Promise.all(ot)}}class GLTFMaterialsTransmissionExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(et){const rt=this.parser.json.materials[et];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial$1}extendMaterialParams(et,nt){const rt=this.parser,it=rt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];return at.transmissionFactor!==void 0&&(nt.transmission=at.transmissionFactor),at.transmissionTexture!==void 0&&ot.push(rt.assignTexture(nt,"transmissionMap",at.transmissionTexture)),Promise.all(ot)}}class GLTFMaterialsVolumeExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(et){const rt=this.parser.json.materials[et];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial$1}extendMaterialParams(et,nt){const rt=this.parser,it=rt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];nt.thickness=at.thicknessFactor!==void 0?at.thicknessFactor:0,at.thicknessTexture!==void 0&&ot.push(rt.assignTexture(nt,"thicknessMap",at.thicknessTexture)),nt.attenuationDistance=at.attenuationDistance||0;const st=at.attenuationColor||[1,1,1];return nt.attenuationColor=new Color$2(st[0],st[1],st[2]),Promise.all(ot)}}class GLTFMaterialsIorExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(et){const rt=this.parser.json.materials[et];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial$1}extendMaterialParams(et,nt){const it=this.parser.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=it.extensions[this.name];return nt.ior=ot.ior!==void 0?ot.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(et){const rt=this.parser.json.materials[et];return!rt.extensions||!rt.extensions[this.name]?null:MeshPhysicalMaterial$1}extendMaterialParams(et,nt){const rt=this.parser,it=rt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];nt.specularIntensity=at.specularFactor!==void 0?at.specularFactor:1,at.specularTexture!==void 0&&ot.push(rt.assignTexture(nt,"specularIntensityMap",at.specularTexture));const st=at.specularColorFactor||[1,1,1];return nt.specularColor=new Color$2(st[0],st[1],st[2]),at.specularColorTexture!==void 0&&ot.push(rt.assignTexture(nt,"specularColorMap",at.specularColorTexture,sRGBEncoding$1)),Promise.all(ot)}}class GLTFTextureBasisUExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(et){const nt=this.parser,rt=nt.json,it=rt.textures[et];if(!it.extensions||!it.extensions[this.name])return null;const ot=it.extensions[this.name],at=nt.options.ktx2Loader;if(!at){if(rt.extensionsRequired&&rt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return nt.loadTextureImage(et,ot.source,at)}}class GLTFTextureWebPExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(et){const nt=this.name,rt=this.parser,it=rt.json,ot=it.textures[et];if(!ot.extensions||!ot.extensions[nt])return null;const at=ot.extensions[nt],st=it.images[at.source];let lt=rt.textureLoader;if(st.uri){const ct=rt.options.manager.getHandler(st.uri);ct!==null&&(lt=ct)}return this.detectSupport().then(function(ct){if(ct)return rt.loadTextureImage(et,at.source,lt);if(it.extensionsRequired&&it.extensionsRequired.indexOf(nt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return rt.loadTexture(et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(et){const nt=new Image;nt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",nt.onload=nt.onerror=function(){et(nt.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(et){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=et}loadBufferView(et){const nt=this.parser.json,rt=nt.bufferViews[et];if(rt.extensions&&rt.extensions[this.name]){const it=rt.extensions[this.name],ot=this.parser.getDependency("buffer",it.buffer),at=this.parser.options.meshoptDecoder;if(!at||!at.supported){if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([ot,at.ready]).then(function(st){const lt=it.byteOffset||0,ct=it.byteLength||0,ft=it.count,ut=it.byteStride,dt=new ArrayBuffer(ft*ut),ht=new Uint8Array(st[0],lt,ct);return at.decodeGltfBuffer(new Uint8Array(dt),ft,ut,ht,it.mode,it.filter),dt})}else return null}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(et){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const nt=new DataView(et,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils$1.decodeText(new Uint8Array(et.slice(0,4))),version:nt.getUint32(4,!0),length:nt.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const rt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,it=new DataView(et,BINARY_EXTENSION_HEADER_LENGTH);let ot=0;for(;ot<rt;){const at=it.getUint32(ot,!0);ot+=4;const st=it.getUint32(ot,!0);if(ot+=4,st===BINARY_EXTENSION_CHUNK_TYPES.JSON){const lt=new Uint8Array(et,BINARY_EXTENSION_HEADER_LENGTH+ot,at);this.content=LoaderUtils$1.decodeText(lt)}else if(st===BINARY_EXTENSION_CHUNK_TYPES.BIN){const lt=BINARY_EXTENSION_HEADER_LENGTH+ot;this.body=et.slice(lt,lt+at)}ot+=at}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(et,nt){if(!nt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=et,this.dracoLoader=nt,this.dracoLoader.preload()}decodePrimitive(et,nt){const rt=this.json,it=this.dracoLoader,ot=et.extensions[this.name].bufferView,at=et.extensions[this.name].attributes,st={},lt={},ct={};for(const ft in at){const ut=ATTRIBUTES[ft]||ft.toLowerCase();st[ut]=at[ft]}for(const ft in et.attributes){const ut=ATTRIBUTES[ft]||ft.toLowerCase();if(at[ft]!==void 0){const dt=rt.accessors[et.attributes[ft]],ht=WEBGL_COMPONENT_TYPES[dt.componentType];ct[ut]=ht,lt[ut]=dt.normalized===!0}}return nt.getDependency("bufferView",ot).then(function(ft){return new Promise(function(ut){it.decodeDracoFile(ft,function(dt){for(const ht in dt.attributes){const pt=dt.attributes[ht],gt=lt[ht];gt!==void 0&&(pt.normalized=gt)}ut(dt)},st,ct)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(et,nt){return nt.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),nt.offset===void 0&&nt.rotation===void 0&&nt.scale===void 0||(et=et.clone(),nt.offset!==void 0&&et.offset.fromArray(nt.offset),nt.rotation!==void 0&&(et.rotation=nt.rotation),nt.scale!==void 0&&et.repeat.fromArray(nt.scale),et.needsUpdate=!0),et}}class GLTFMeshStandardSGMaterial extends MeshStandardMaterial$1{constructor(et){super(),this.isGLTFSpecularGlossinessMaterial=!0;const nt=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),rt=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),it=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),ot=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),at=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),st={specular:{value:new Color$2().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=st,this.onBeforeCompile=function(lt){for(const ct in st)lt.uniforms[ct]=st[ct];lt.fragmentShader=lt.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",nt).replace("#include <metalnessmap_pars_fragment>",rt).replace("#include <roughnessmap_fragment>",it).replace("#include <metalnessmap_fragment>",ot).replace("#include <lights_physical_fragment>",at)},Object.defineProperties(this,{specular:{get:function(){return st.specular.value},set:function(lt){st.specular.value=lt}},specularMap:{get:function(){return st.specularMap.value},set:function(lt){st.specularMap.value=lt,lt?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return st.glossiness.value},set:function(lt){st.glossiness.value=lt}},glossinessMap:{get:function(){return st.glossinessMap.value},set:function(lt){st.glossinessMap.value=lt,lt?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(et)}copy(et){return super.copy(et),this.specularMap=et.specularMap,this.specular.copy(et.specular),this.glossinessMap=et.glossinessMap,this.glossiness=et.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return GLTFMeshStandardSGMaterial}extendParams(et,nt,rt){const it=nt.extensions[this.name];et.color=new Color$2(1,1,1),et.opacity=1;const ot=[];if(Array.isArray(it.diffuseFactor)){const at=it.diffuseFactor;et.color.fromArray(at),et.opacity=at[3]}if(it.diffuseTexture!==void 0&&ot.push(rt.assignTexture(et,"map",it.diffuseTexture,sRGBEncoding$1)),et.emissive=new Color$2(0,0,0),et.glossiness=it.glossinessFactor!==void 0?it.glossinessFactor:1,et.specular=new Color$2(1,1,1),Array.isArray(it.specularFactor)&&et.specular.fromArray(it.specularFactor),it.specularGlossinessTexture!==void 0){const at=it.specularGlossinessTexture;ot.push(rt.assignTexture(et,"glossinessMap",at)),ot.push(rt.assignTexture(et,"specularMap",at,sRGBEncoding$1))}return Promise.all(ot)}createMaterial(et){const nt=new GLTFMeshStandardSGMaterial(et);return nt.fog=!0,nt.color=et.color,nt.map=et.map===void 0?null:et.map,nt.lightMap=null,nt.lightMapIntensity=1,nt.aoMap=et.aoMap===void 0?null:et.aoMap,nt.aoMapIntensity=1,nt.emissive=et.emissive,nt.emissiveIntensity=et.emissiveIntensity===void 0?1:et.emissiveIntensity,nt.emissiveMap=et.emissiveMap===void 0?null:et.emissiveMap,nt.bumpMap=et.bumpMap===void 0?null:et.bumpMap,nt.bumpScale=1,nt.normalMap=et.normalMap===void 0?null:et.normalMap,nt.normalMapType=TangentSpaceNormalMap$1,et.normalScale&&(nt.normalScale=et.normalScale),nt.displacementMap=null,nt.displacementScale=1,nt.displacementBias=0,nt.specularMap=et.specularMap===void 0?null:et.specularMap,nt.specular=et.specular,nt.glossinessMap=et.glossinessMap===void 0?null:et.glossinessMap,nt.glossiness=et.glossiness,nt.alphaMap=null,nt.envMap=et.envMap===void 0?null:et.envMap,nt.envMapIntensity=1,nt}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant$1{constructor(et,nt,rt,it){super(et,nt,rt,it)}copySampleValue_(et){const nt=this.resultBuffer,rt=this.sampleValues,it=this.valueSize,ot=et*it*3+it;for(let at=0;at!==it;at++)nt[at]=rt[ot+at];return nt}}GLTFCubicSplineInterpolant.prototype.beforeStart_=GLTFCubicSplineInterpolant.prototype.copySampleValue_;GLTFCubicSplineInterpolant.prototype.afterEnd_=GLTFCubicSplineInterpolant.prototype.copySampleValue_;GLTFCubicSplineInterpolant.prototype.interpolate_=function(tt,et,nt,rt){const it=this.resultBuffer,ot=this.sampleValues,at=this.valueSize,st=at*2,lt=at*3,ct=rt-et,ft=(nt-et)/ct,ut=ft*ft,dt=ut*ft,ht=tt*lt,pt=ht-lt,gt=-2*dt+3*ut,mt=dt-ut,yt=1-gt,bt=mt-ut+ft;for(let St=0;St!==at;St++){const xt=ot[pt+St+at],vt=ot[pt+St+st]*ct,$t=ot[ht+St+at],zt=ot[ht+St]*ct;it[St]=yt*xt+bt*vt+gt*$t+mt*zt}return it};const _q=new Quaternion$1;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(et,nt,rt,it){const ot=super.interpolate_(et,nt,rt,it);return _q.fromArray(ot).normalize().toArray(ot),ot}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter$1,9729:LinearFilter$1,9984:NearestMipmapNearestFilter$1,9985:LinearMipmapNearestFilter$1,9986:NearestMipmapLinearFilter$1,9987:LinearMipmapLinearFilter$1},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping$1,33648:MirroredRepeatWrapping$1,10497:RepeatWrapping$1},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear$1,STEP:InterpolateDiscrete$1},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(tt){return tt.DefaultMaterial===void 0&&(tt.DefaultMaterial=new MeshStandardMaterial$1({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide$1})),tt.DefaultMaterial}function addUnknownExtensionsToUserData(tt,et,nt){for(const rt in nt.extensions)tt[rt]===void 0&&(et.userData.gltfExtensions=et.userData.gltfExtensions||{},et.userData.gltfExtensions[rt]=nt.extensions[rt])}function assignExtrasToUserData(tt,et){et.extras!==void 0&&(typeof et.extras=="object"?Object.assign(tt.userData,et.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+et.extras))}function addMorphTargets(tt,et,nt){let rt=!1,it=!1,ot=!1;for(let ct=0,ft=et.length;ct<ft;ct++){const ut=et[ct];if(ut.POSITION!==void 0&&(rt=!0),ut.NORMAL!==void 0&&(it=!0),ut.COLOR_0!==void 0&&(ot=!0),rt&&it&&ot)break}if(!rt&&!it&&!ot)return Promise.resolve(tt);const at=[],st=[],lt=[];for(let ct=0,ft=et.length;ct<ft;ct++){const ut=et[ct];if(rt){const dt=ut.POSITION!==void 0?nt.getDependency("accessor",ut.POSITION):tt.attributes.position;at.push(dt)}if(it){const dt=ut.NORMAL!==void 0?nt.getDependency("accessor",ut.NORMAL):tt.attributes.normal;st.push(dt)}if(ot){const dt=ut.COLOR_0!==void 0?nt.getDependency("accessor",ut.COLOR_0):tt.attributes.color;lt.push(dt)}}return Promise.all([Promise.all(at),Promise.all(st),Promise.all(lt)]).then(function(ct){const ft=ct[0],ut=ct[1],dt=ct[2];return rt&&(tt.morphAttributes.position=ft),it&&(tt.morphAttributes.normal=ut),ot&&(tt.morphAttributes.color=dt),tt.morphTargetsRelative=!0,tt})}function updateMorphTargets(tt,et){if(tt.updateMorphTargets(),et.weights!==void 0)for(let nt=0,rt=et.weights.length;nt<rt;nt++)tt.morphTargetInfluences[nt]=et.weights[nt];if(et.extras&&Array.isArray(et.extras.targetNames)){const nt=et.extras.targetNames;if(tt.morphTargetInfluences.length===nt.length){tt.morphTargetDictionary={};for(let rt=0,it=nt.length;rt<it;rt++)tt.morphTargetDictionary[nt[rt]]=rt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(tt){const et=tt.extensions&&tt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let nt;return et?nt="draco:"+et.bufferView+":"+et.indices+":"+createAttributesKey(et.attributes):nt=tt.indices+":"+createAttributesKey(tt.attributes)+":"+tt.mode,nt}function createAttributesKey(tt){let et="";const nt=Object.keys(tt).sort();for(let rt=0,it=nt.length;rt<it;rt++)et+=nt[rt]+":"+tt[nt[rt]]+";";return et}function getNormalizedComponentScale(tt){switch(tt){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(tt){return tt.search(/\.jpe?g($|\?)/i)>0||tt.search(/^data\:image\/jpeg/)===0?"image/jpeg":tt.search(/\.webp($|\?)/i)>0||tt.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class GLTFParser{constructor(et={},nt={}){this.json=et,this.extensions={},this.plugins={},this.options=nt,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const rt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,it=navigator.userAgent.indexOf("Firefox")>-1,ot=it?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap=="undefined"||rt||it&&ot<98?this.textureLoader=new TextureLoader$1(this.options.manager):this.textureLoader=new ImageBitmapLoader$1(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader$1(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(et){this.extensions=et}setPlugins(et){this.plugins=et}parse(et,nt){const rt=this,it=this.json,ot=this.extensions;this.cache.removeAll(),this._invokeAll(function(at){return at._markDefs&&at._markDefs()}),Promise.all(this._invokeAll(function(at){return at.beforeRoot&&at.beforeRoot()})).then(function(){return Promise.all([rt.getDependencies("scene"),rt.getDependencies("animation"),rt.getDependencies("camera")])}).then(function(at){const st={scene:at[0][it.scene||0],scenes:at[0],animations:at[1],cameras:at[2],asset:it.asset,parser:rt,userData:{}};addUnknownExtensionsToUserData(ot,st,it),assignExtrasToUserData(st,it),Promise.all(rt._invokeAll(function(lt){return lt.afterRoot&&lt.afterRoot(st)})).then(function(){et(st)})}).catch(nt)}_markDefs(){const et=this.json.nodes||[],nt=this.json.skins||[],rt=this.json.meshes||[];for(let it=0,ot=nt.length;it<ot;it++){const at=nt[it].joints;for(let st=0,lt=at.length;st<lt;st++)et[at[st]].isBone=!0}for(let it=0,ot=et.length;it<ot;it++){const at=et[it];at.mesh!==void 0&&(this._addNodeRef(this.meshCache,at.mesh),at.skin!==void 0&&(rt[at.mesh].isSkinnedMesh=!0)),at.camera!==void 0&&this._addNodeRef(this.cameraCache,at.camera)}}_addNodeRef(et,nt){nt!==void 0&&(et.refs[nt]===void 0&&(et.refs[nt]=et.uses[nt]=0),et.refs[nt]++)}_getNodeRef(et,nt,rt){if(et.refs[nt]<=1)return rt;const it=rt.clone(),ot=(at,st)=>{const lt=this.associations.get(at);lt!=null&&this.associations.set(st,lt);for(const[ct,ft]of at.children.entries())ot(ft,st.children[ct])};return ot(rt,it),it.name+="_instance_"+et.uses[nt]++,it}_invokeOne(et){const nt=Object.values(this.plugins);nt.push(this);for(let rt=0;rt<nt.length;rt++){const it=et(nt[rt]);if(it)return it}return null}_invokeAll(et){const nt=Object.values(this.plugins);nt.unshift(this);const rt=[];for(let it=0;it<nt.length;it++){const ot=et(nt[it]);ot&&rt.push(ot)}return rt}getDependency(et,nt){const rt=et+":"+nt;let it=this.cache.get(rt);if(!it){switch(et){case"scene":it=this.loadScene(nt);break;case"node":it=this.loadNode(nt);break;case"mesh":it=this._invokeOne(function(ot){return ot.loadMesh&&ot.loadMesh(nt)});break;case"accessor":it=this.loadAccessor(nt);break;case"bufferView":it=this._invokeOne(function(ot){return ot.loadBufferView&&ot.loadBufferView(nt)});break;case"buffer":it=this.loadBuffer(nt);break;case"material":it=this._invokeOne(function(ot){return ot.loadMaterial&&ot.loadMaterial(nt)});break;case"texture":it=this._invokeOne(function(ot){return ot.loadTexture&&ot.loadTexture(nt)});break;case"skin":it=this.loadSkin(nt);break;case"animation":it=this._invokeOne(function(ot){return ot.loadAnimation&&ot.loadAnimation(nt)});break;case"camera":it=this.loadCamera(nt);break;default:throw new Error("Unknown type: "+et)}this.cache.add(rt,it)}return it}getDependencies(et){let nt=this.cache.get(et);if(!nt){const rt=this,it=this.json[et+(et==="mesh"?"es":"s")]||[];nt=Promise.all(it.map(function(ot,at){return rt.getDependency(et,at)})),this.cache.add(et,nt)}return nt}loadBuffer(et){const nt=this.json.buffers[et],rt=this.fileLoader;if(nt.type&&nt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+nt.type+" buffer type is not supported.");if(nt.uri===void 0&&et===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const it=this.options;return new Promise(function(ot,at){rt.load(LoaderUtils$1.resolveURL(nt.uri,it.path),ot,void 0,function(){at(new Error('THREE.GLTFLoader: Failed to load buffer "'+nt.uri+'".'))})})}loadBufferView(et){const nt=this.json.bufferViews[et];return this.getDependency("buffer",nt.buffer).then(function(rt){const it=nt.byteLength||0,ot=nt.byteOffset||0;return rt.slice(ot,ot+it)})}loadAccessor(et){const nt=this,rt=this.json,it=this.json.accessors[et];if(it.bufferView===void 0&&it.sparse===void 0)return Promise.resolve(null);const ot=[];return it.bufferView!==void 0?ot.push(this.getDependency("bufferView",it.bufferView)):ot.push(null),it.sparse!==void 0&&(ot.push(this.getDependency("bufferView",it.sparse.indices.bufferView)),ot.push(this.getDependency("bufferView",it.sparse.values.bufferView))),Promise.all(ot).then(function(at){const st=at[0],lt=WEBGL_TYPE_SIZES[it.type],ct=WEBGL_COMPONENT_TYPES[it.componentType],ft=ct.BYTES_PER_ELEMENT,ut=ft*lt,dt=it.byteOffset||0,ht=it.bufferView!==void 0?rt.bufferViews[it.bufferView].byteStride:void 0,pt=it.normalized===!0;let gt,mt;if(ht&&ht!==ut){const yt=Math.floor(dt/ht),bt="InterleavedBuffer:"+it.bufferView+":"+it.componentType+":"+yt+":"+it.count;let St=nt.cache.get(bt);St||(gt=new ct(st,yt*ht,it.count*ht/ft),St=new InterleavedBuffer$1(gt,ht/ft),nt.cache.add(bt,St)),mt=new InterleavedBufferAttribute$1(St,lt,dt%ht/ft,pt)}else st===null?gt=new ct(it.count*lt):gt=new ct(st,dt,it.count*lt),mt=new BufferAttribute$1(gt,lt,pt);if(it.sparse!==void 0){const yt=WEBGL_TYPE_SIZES.SCALAR,bt=WEBGL_COMPONENT_TYPES[it.sparse.indices.componentType],St=it.sparse.indices.byteOffset||0,xt=it.sparse.values.byteOffset||0,vt=new bt(at[1],St,it.sparse.count*yt),$t=new ct(at[2],xt,it.sparse.count*lt);st!==null&&(mt=new BufferAttribute$1(mt.array.slice(),mt.itemSize,mt.normalized));for(let zt=0,Nt=vt.length;zt<Nt;zt++){const wt=vt[zt];if(mt.setX(wt,$t[zt*lt]),lt>=2&&mt.setY(wt,$t[zt*lt+1]),lt>=3&&mt.setZ(wt,$t[zt*lt+2]),lt>=4&&mt.setW(wt,$t[zt*lt+3]),lt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return mt})}loadTexture(et){const nt=this.json,rt=this.options,ot=nt.textures[et].source,at=nt.images[ot];let st=this.textureLoader;if(at.uri){const lt=rt.manager.getHandler(at.uri);lt!==null&&(st=lt)}return this.loadTextureImage(et,ot,st)}loadTextureImage(et,nt,rt){const it=this,ot=this.json,at=ot.textures[et],st=ot.images[nt],lt=(st.uri||st.bufferView)+":"+at.sampler;if(this.textureCache[lt])return this.textureCache[lt];const ct=this.loadImageSource(nt,rt).then(function(ft){ft.flipY=!1,at.name&&(ft.name=at.name);const dt=(ot.samplers||{})[at.sampler]||{};return ft.magFilter=WEBGL_FILTERS[dt.magFilter]||LinearFilter$1,ft.minFilter=WEBGL_FILTERS[dt.minFilter]||LinearMipmapLinearFilter$1,ft.wrapS=WEBGL_WRAPPINGS[dt.wrapS]||RepeatWrapping$1,ft.wrapT=WEBGL_WRAPPINGS[dt.wrapT]||RepeatWrapping$1,it.associations.set(ft,{textures:et}),ft}).catch(function(){return null});return this.textureCache[lt]=ct,ct}loadImageSource(et,nt){const rt=this,it=this.json,ot=this.options;if(this.sourceCache[et]!==void 0)return this.sourceCache[et].then(ut=>ut.clone());const at=it.images[et],st=self.URL||self.webkitURL;let lt=at.uri||"",ct=!1;if(at.bufferView!==void 0)lt=rt.getDependency("bufferView",at.bufferView).then(function(ut){ct=!0;const dt=new Blob([ut],{type:at.mimeType});return lt=st.createObjectURL(dt),lt});else if(at.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+et+" is missing URI and bufferView");const ft=Promise.resolve(lt).then(function(ut){return new Promise(function(dt,ht){let pt=dt;nt.isImageBitmapLoader===!0&&(pt=function(gt){const mt=new Texture$1(gt);mt.needsUpdate=!0,dt(mt)}),nt.load(LoaderUtils$1.resolveURL(ut,ot.path),pt,void 0,ht)})}).then(function(ut){return ct===!0&&st.revokeObjectURL(lt),ut.userData.mimeType=at.mimeType||getImageURIMimeType(at.uri),ut}).catch(function(ut){throw console.error("THREE.GLTFLoader: Couldn't load texture",lt),ut});return this.sourceCache[et]=ft,ft}assignTexture(et,nt,rt,it){const ot=this;return this.getDependency("texture",rt.index).then(function(at){if(rt.texCoord!==void 0&&rt.texCoord!=0&&!(nt==="aoMap"&&rt.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+rt.texCoord+" for texture "+nt+" not yet supported."),ot.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const st=rt.extensions!==void 0?rt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(st){const lt=ot.associations.get(at);at=ot.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(at,st),ot.associations.set(at,lt)}}return it!==void 0&&(at.encoding=it),et[nt]=at,at})}assignFinalMaterial(et){const nt=et.geometry;let rt=et.material;const it=nt.attributes.tangent===void 0,ot=nt.attributes.color!==void 0,at=nt.attributes.normal===void 0;if(et.isPoints){const st="PointsMaterial:"+rt.uuid;let lt=this.cache.get(st);lt||(lt=new PointsMaterial$1,Material$1.prototype.copy.call(lt,rt),lt.color.copy(rt.color),lt.map=rt.map,lt.sizeAttenuation=!1,this.cache.add(st,lt)),rt=lt}else if(et.isLine){const st="LineBasicMaterial:"+rt.uuid;let lt=this.cache.get(st);lt||(lt=new LineBasicMaterial$1,Material$1.prototype.copy.call(lt,rt),lt.color.copy(rt.color),this.cache.add(st,lt)),rt=lt}if(it||ot||at){let st="ClonedMaterial:"+rt.uuid+":";rt.isGLTFSpecularGlossinessMaterial&&(st+="specular-glossiness:"),it&&(st+="derivative-tangents:"),ot&&(st+="vertex-colors:"),at&&(st+="flat-shading:");let lt=this.cache.get(st);lt||(lt=rt.clone(),ot&&(lt.vertexColors=!0),at&&(lt.flatShading=!0),it&&(lt.normalScale&&(lt.normalScale.y*=-1),lt.clearcoatNormalScale&&(lt.clearcoatNormalScale.y*=-1)),this.cache.add(st,lt),this.associations.set(lt,this.associations.get(rt))),rt=lt}rt.aoMap&&nt.attributes.uv2===void 0&&nt.attributes.uv!==void 0&&nt.setAttribute("uv2",nt.attributes.uv),et.material=rt}getMaterialType(){return MeshStandardMaterial$1}loadMaterial(et){const nt=this,rt=this.json,it=this.extensions,ot=rt.materials[et];let at;const st={},lt=ot.extensions||{},ct=[];if(lt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const ut=it[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];at=ut.getMaterialType(),ct.push(ut.extendParams(st,ot,nt))}else if(lt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const ut=it[EXTENSIONS.KHR_MATERIALS_UNLIT];at=ut.getMaterialType(),ct.push(ut.extendParams(st,ot,nt))}else{const ut=ot.pbrMetallicRoughness||{};if(st.color=new Color$2(1,1,1),st.opacity=1,Array.isArray(ut.baseColorFactor)){const dt=ut.baseColorFactor;st.color.fromArray(dt),st.opacity=dt[3]}ut.baseColorTexture!==void 0&&ct.push(nt.assignTexture(st,"map",ut.baseColorTexture,sRGBEncoding$1)),st.metalness=ut.metallicFactor!==void 0?ut.metallicFactor:1,st.roughness=ut.roughnessFactor!==void 0?ut.roughnessFactor:1,ut.metallicRoughnessTexture!==void 0&&(ct.push(nt.assignTexture(st,"metalnessMap",ut.metallicRoughnessTexture)),ct.push(nt.assignTexture(st,"roughnessMap",ut.metallicRoughnessTexture))),at=this._invokeOne(function(dt){return dt.getMaterialType&&dt.getMaterialType(et)}),ct.push(Promise.all(this._invokeAll(function(dt){return dt.extendMaterialParams&&dt.extendMaterialParams(et,st)})))}ot.doubleSided===!0&&(st.side=DoubleSide$1);const ft=ot.alphaMode||ALPHA_MODES.OPAQUE;if(ft===ALPHA_MODES.BLEND?(st.transparent=!0,st.depthWrite=!1):(st.transparent=!1,ft===ALPHA_MODES.MASK&&(st.alphaTest=ot.alphaCutoff!==void 0?ot.alphaCutoff:.5)),ot.normalTexture!==void 0&&at!==MeshBasicMaterial$1&&(ct.push(nt.assignTexture(st,"normalMap",ot.normalTexture)),st.normalScale=new Vector2$1(1,1),ot.normalTexture.scale!==void 0)){const ut=ot.normalTexture.scale;st.normalScale.set(ut,ut)}return ot.occlusionTexture!==void 0&&at!==MeshBasicMaterial$1&&(ct.push(nt.assignTexture(st,"aoMap",ot.occlusionTexture)),ot.occlusionTexture.strength!==void 0&&(st.aoMapIntensity=ot.occlusionTexture.strength)),ot.emissiveFactor!==void 0&&at!==MeshBasicMaterial$1&&(st.emissive=new Color$2().fromArray(ot.emissiveFactor)),ot.emissiveTexture!==void 0&&at!==MeshBasicMaterial$1&&ct.push(nt.assignTexture(st,"emissiveMap",ot.emissiveTexture,sRGBEncoding$1)),Promise.all(ct).then(function(){let ut;return at===GLTFMeshStandardSGMaterial?ut=it[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(st):ut=new at(st),ot.name&&(ut.name=ot.name),assignExtrasToUserData(ut,ot),nt.associations.set(ut,{materials:et}),ot.extensions&&addUnknownExtensionsToUserData(it,ut,ot),ut})}createUniqueName(et){const nt=PropertyBinding$1.sanitizeNodeName(et||"");let rt=nt;for(let it=1;this.nodeNamesUsed[rt];++it)rt=nt+"_"+it;return this.nodeNamesUsed[rt]=!0,rt}loadGeometries(et){const nt=this,rt=this.extensions,it=this.primitiveCache;function ot(st){return rt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(st,nt).then(function(lt){return addPrimitiveAttributes(lt,st,nt)})}const at=[];for(let st=0,lt=et.length;st<lt;st++){const ct=et[st],ft=createPrimitiveKey(ct),ut=it[ft];if(ut)at.push(ut.promise);else{let dt;ct.extensions&&ct.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?dt=ot(ct):dt=addPrimitiveAttributes(new BufferGeometry$1,ct,nt),it[ft]={primitive:ct,promise:dt},at.push(dt)}}return Promise.all(at)}loadMesh(et){const nt=this,rt=this.json,it=this.extensions,ot=rt.meshes[et],at=ot.primitives,st=[];for(let lt=0,ct=at.length;lt<ct;lt++){const ft=at[lt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",at[lt].material);st.push(ft)}return st.push(nt.loadGeometries(at)),Promise.all(st).then(function(lt){const ct=lt.slice(0,lt.length-1),ft=lt[lt.length-1],ut=[];for(let ht=0,pt=ft.length;ht<pt;ht++){const gt=ft[ht],mt=at[ht];let yt;const bt=ct[ht];if(mt.mode===WEBGL_CONSTANTS.TRIANGLES||mt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||mt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||mt.mode===void 0)yt=ot.isSkinnedMesh===!0?new SkinnedMesh$1(gt,bt):new Mesh$1(gt,bt),yt.isSkinnedMesh===!0&&!yt.geometry.attributes.skinWeight.normalized&&yt.normalizeSkinWeights(),mt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?yt.geometry=toTrianglesDrawMode(yt.geometry,TriangleStripDrawMode):mt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(yt.geometry=toTrianglesDrawMode(yt.geometry,TriangleFanDrawMode));else if(mt.mode===WEBGL_CONSTANTS.LINES)yt=new LineSegments$1(gt,bt);else if(mt.mode===WEBGL_CONSTANTS.LINE_STRIP)yt=new Line$1(gt,bt);else if(mt.mode===WEBGL_CONSTANTS.LINE_LOOP)yt=new LineLoop$1(gt,bt);else if(mt.mode===WEBGL_CONSTANTS.POINTS)yt=new Points$1(gt,bt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+mt.mode);Object.keys(yt.geometry.morphAttributes).length>0&&updateMorphTargets(yt,ot),yt.name=nt.createUniqueName(ot.name||"mesh_"+et),assignExtrasToUserData(yt,ot),mt.extensions&&addUnknownExtensionsToUserData(it,yt,mt),nt.assignFinalMaterial(yt),ut.push(yt)}for(let ht=0,pt=ut.length;ht<pt;ht++)nt.associations.set(ut[ht],{meshes:et,primitives:ht});if(ut.length===1)return ut[0];const dt=new Group$1;nt.associations.set(dt,{meshes:et});for(let ht=0,pt=ut.length;ht<pt;ht++)dt.add(ut[ht]);return dt})}loadCamera(et){let nt;const rt=this.json.cameras[et],it=rt[rt.type];if(!it){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return rt.type==="perspective"?nt=new PerspectiveCamera$1(MathUtils.radToDeg(it.yfov),it.aspectRatio||1,it.znear||1,it.zfar||2e6):rt.type==="orthographic"&&(nt=new OrthographicCamera$1(-it.xmag,it.xmag,it.ymag,-it.ymag,it.znear,it.zfar)),rt.name&&(nt.name=this.createUniqueName(rt.name)),assignExtrasToUserData(nt,rt),Promise.resolve(nt)}loadSkin(et){const nt=this.json.skins[et],rt={joints:nt.joints};return nt.inverseBindMatrices===void 0?Promise.resolve(rt):this.getDependency("accessor",nt.inverseBindMatrices).then(function(it){return rt.inverseBindMatrices=it,rt})}loadAnimation(et){const rt=this.json.animations[et],it=[],ot=[],at=[],st=[],lt=[];for(let ct=0,ft=rt.channels.length;ct<ft;ct++){const ut=rt.channels[ct],dt=rt.samplers[ut.sampler],ht=ut.target,pt=ht.node!==void 0?ht.node:ht.id,gt=rt.parameters!==void 0?rt.parameters[dt.input]:dt.input,mt=rt.parameters!==void 0?rt.parameters[dt.output]:dt.output;it.push(this.getDependency("node",pt)),ot.push(this.getDependency("accessor",gt)),at.push(this.getDependency("accessor",mt)),st.push(dt),lt.push(ht)}return Promise.all([Promise.all(it),Promise.all(ot),Promise.all(at),Promise.all(st),Promise.all(lt)]).then(function(ct){const ft=ct[0],ut=ct[1],dt=ct[2],ht=ct[3],pt=ct[4],gt=[];for(let yt=0,bt=ft.length;yt<bt;yt++){const St=ft[yt],xt=ut[yt],vt=dt[yt],$t=ht[yt],zt=pt[yt];if(St===void 0)continue;St.updateMatrix(),St.matrixAutoUpdate=!0;let Nt;switch(PATH_PROPERTIES[zt.path]){case PATH_PROPERTIES.weights:Nt=NumberKeyframeTrack$1;break;case PATH_PROPERTIES.rotation:Nt=QuaternionKeyframeTrack$1;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:Nt=VectorKeyframeTrack$1;break}const wt=St.name?St.name:St.uuid,Et=$t.interpolation!==void 0?INTERPOLATION[$t.interpolation]:InterpolateLinear$1,Rt=[];PATH_PROPERTIES[zt.path]===PATH_PROPERTIES.weights?St.traverse(function(It){It.morphTargetInfluences&&Rt.push(It.name?It.name:It.uuid)}):Rt.push(wt);let Tt=vt.array;if(vt.normalized){const It=getNormalizedComponentScale(Tt.constructor),Pt=new Float32Array(Tt.length);for(let Dt=0,Ct=Tt.length;Dt<Ct;Dt++)Pt[Dt]=Tt[Dt]*It;Tt=Pt}for(let It=0,Pt=Rt.length;It<Pt;It++){const Dt=new Nt(Rt[It]+"."+PATH_PROPERTIES[zt.path],xt.array,Tt,Et);$t.interpolation==="CUBICSPLINE"&&(Dt.createInterpolant=function(Ot){const Ut=this instanceof QuaternionKeyframeTrack$1?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Ut(this.times,this.values,this.getValueSize()/3,Ot)},Dt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),gt.push(Dt)}}const mt=rt.name?rt.name:"animation_"+et;return new AnimationClip$1(mt,void 0,gt)})}createNodeMesh(et){const nt=this.json,rt=this,it=nt.nodes[et];return it.mesh===void 0?null:rt.getDependency("mesh",it.mesh).then(function(ot){const at=rt._getNodeRef(rt.meshCache,it.mesh,ot);return it.weights!==void 0&&at.traverse(function(st){if(!!st.isMesh)for(let lt=0,ct=it.weights.length;lt<ct;lt++)st.morphTargetInfluences[lt]=it.weights[lt]}),at})}loadNode(et){const nt=this.json,rt=this.extensions,it=this,ot=nt.nodes[et],at=ot.name?it.createUniqueName(ot.name):"";return function(){const st=[],lt=it._invokeOne(function(ct){return ct.createNodeMesh&&ct.createNodeMesh(et)});return lt&&st.push(lt),ot.camera!==void 0&&st.push(it.getDependency("camera",ot.camera).then(function(ct){return it._getNodeRef(it.cameraCache,ot.camera,ct)})),it._invokeAll(function(ct){return ct.createNodeAttachment&&ct.createNodeAttachment(et)}).forEach(function(ct){st.push(ct)}),Promise.all(st)}().then(function(st){let lt;if(ot.isBone===!0?lt=new Bone$1:st.length>1?lt=new Group$1:st.length===1?lt=st[0]:lt=new Object3D$1,lt!==st[0])for(let ct=0,ft=st.length;ct<ft;ct++)lt.add(st[ct]);if(ot.name&&(lt.userData.name=ot.name,lt.name=at),assignExtrasToUserData(lt,ot),ot.extensions&&addUnknownExtensionsToUserData(rt,lt,ot),ot.matrix!==void 0){const ct=new Matrix4$1;ct.fromArray(ot.matrix),lt.applyMatrix4(ct)}else ot.translation!==void 0&&lt.position.fromArray(ot.translation),ot.rotation!==void 0&&lt.quaternion.fromArray(ot.rotation),ot.scale!==void 0&&lt.scale.fromArray(ot.scale);return it.associations.has(lt)||it.associations.set(lt,{}),it.associations.get(lt).nodes=et,lt})}loadScene(et){const nt=this.json,rt=this.extensions,it=this.json.scenes[et],ot=this,at=new Group$1;it.name&&(at.name=ot.createUniqueName(it.name)),assignExtrasToUserData(at,it),it.extensions&&addUnknownExtensionsToUserData(rt,at,it);const st=it.nodes||[],lt=[];for(let ct=0,ft=st.length;ct<ft;ct++)lt.push(buildNodeHierarchy(st[ct],at,nt,ot));return Promise.all(lt).then(function(){const ct=ft=>{const ut=new Map;for(const[dt,ht]of ot.associations)(dt instanceof Material$1||dt instanceof Texture$1)&&ut.set(dt,ht);return ft.traverse(dt=>{const ht=ot.associations.get(dt);ht!=null&&ut.set(dt,ht)}),ut};return ot.associations=ct(at),at})}}function buildNodeHierarchy(tt,et,nt,rt){const it=nt.nodes[tt];return rt.getDependency("node",tt).then(function(ot){if(it.skin===void 0)return ot;let at;return rt.getDependency("skin",it.skin).then(function(st){at=st;const lt=[];for(let ct=0,ft=at.joints.length;ct<ft;ct++)lt.push(rt.getDependency("node",at.joints[ct]));return Promise.all(lt)}).then(function(st){return ot.traverse(function(lt){if(!lt.isMesh)return;const ct=[],ft=[];for(let ut=0,dt=st.length;ut<dt;ut++){const ht=st[ut];if(ht){ct.push(ht);const pt=new Matrix4$1;at.inverseBindMatrices!==void 0&&pt.fromArray(at.inverseBindMatrices.array,ut*16),ft.push(pt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',at.joints[ut])}lt.bind(new Skeleton(ct,ft),lt.matrixWorld)}),ot})}).then(function(ot){et.add(ot);const at=[];if(it.children){const st=it.children;for(let lt=0,ct=st.length;lt<ct;lt++){const ft=st[lt];at.push(buildNodeHierarchy(ft,ot,nt,rt))}}return Promise.all(at)})}function computeBounds(tt,et,nt){const rt=et.attributes,it=new Box3$1;if(rt.POSITION!==void 0){const st=nt.json.accessors[rt.POSITION],lt=st.min,ct=st.max;if(lt!==void 0&&ct!==void 0){if(it.set(new Vector3$1(lt[0],lt[1],lt[2]),new Vector3$1(ct[0],ct[1],ct[2])),st.normalized){const ft=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[st.componentType]);it.min.multiplyScalar(ft),it.max.multiplyScalar(ft)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const ot=et.targets;if(ot!==void 0){const st=new Vector3$1,lt=new Vector3$1;for(let ct=0,ft=ot.length;ct<ft;ct++){const ut=ot[ct];if(ut.POSITION!==void 0){const dt=nt.json.accessors[ut.POSITION],ht=dt.min,pt=dt.max;if(ht!==void 0&&pt!==void 0){if(lt.setX(Math.max(Math.abs(ht[0]),Math.abs(pt[0]))),lt.setY(Math.max(Math.abs(ht[1]),Math.abs(pt[1]))),lt.setZ(Math.max(Math.abs(ht[2]),Math.abs(pt[2]))),dt.normalized){const gt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[dt.componentType]);lt.multiplyScalar(gt)}st.max(lt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}it.expandByVector(st)}tt.boundingBox=it;const at=new Sphere$1;it.getCenter(at.center),at.radius=it.min.distanceTo(it.max)/2,tt.boundingSphere=at}function addPrimitiveAttributes(tt,et,nt){const rt=et.attributes,it=[];function ot(at,st){return nt.getDependency("accessor",at).then(function(lt){tt.setAttribute(st,lt)})}for(const at in rt){const st=ATTRIBUTES[at]||at.toLowerCase();st in tt.attributes||it.push(ot(rt[at],st))}if(et.indices!==void 0&&!tt.index){const at=nt.getDependency("accessor",et.indices).then(function(st){tt.setIndex(st)});it.push(at)}return assignExtrasToUserData(tt,et),computeBounds(tt,et,nt),Promise.all(it).then(function(){return et.targets!==void 0?addMorphTargets(tt,et.targets,nt):tt})}function toTrianglesDrawMode(tt,et){let nt=tt.getIndex();if(nt===null){const at=[],st=tt.getAttribute("position");if(st!==void 0){for(let lt=0;lt<st.count;lt++)at.push(lt);tt.setIndex(at),nt=tt.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),tt}const rt=nt.count-2,it=[];if(et===TriangleFanDrawMode)for(let at=1;at<=rt;at++)it.push(nt.getX(0)),it.push(nt.getX(at)),it.push(nt.getX(at+1));else for(let at=0;at<rt;at++)at%2===0?(it.push(nt.getX(at)),it.push(nt.getX(at+1)),it.push(nt.getX(at+2))):(it.push(nt.getX(at+2)),it.push(nt.getX(at+1)),it.push(nt.getX(at)));it.length/3!==rt&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const ot=tt.clone();return ot.setIndex(it),ot}class Model3D extends Object3D$1{constructor(et){super(),new GLTFLoader().load(et,rt=>{this.add(rt.scene)})}}class GltfLayer extends UniverseLayer{init(){const et=(this.layerFields||{}).url;et&&et.type==="text"&&et.value&&this.add(new Model3D(et.value))}}__publicField$1(GltfLayer,"layerTypeId","3dmodel");__publicField$1(GltfLayer,"commonName","3D Model");__publicField$1(GltfLayer,"description","A 3D model.");__publicField$1(GltfLayer,"usesData",!1);__publicField$1(GltfLayer,"fields",{url:{name:"URL",description:"The URL of the 3D model (*.gltf only)",placeholder:"https://example.com/model.gltf",value:"",type:"text",location:["create"]}});function fork(tt){}class Color$1{constructor(et,nt,rt,it=1){this.r=et,this.g=nt,this.b=rt,this.a=it;const ot=this.r/255,at=this.g/255,st=this.b/255,lt=Math.max(ot,at,st),ct=Math.min(ot,at,st);let ft=0,ut=0;const dt=(lt+ct)/2;if(lt!==ct){const ht=lt-ct;switch(ut=dt>.5?ht/(2-lt-ct):ht/(lt+ct),lt){case ot:ft=(at-st)/ht+(at<st?6:0);break;case at:ft=(st-ot)/ht+2;break;case st:ft=(ot-at)/ht+4;break}ft/=6}this.h=ft,this.s=ut,this.l=dt}static fromString(et){const nt=/#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(et);if(nt)return new Color$1(parseInt(nt[1],16),parseInt(nt[2],16),parseInt(nt[3],16))}toString(){const et=nt=>nt.toString(16).padStart(2,"0");return`#${et(this.r)}${et(this.g)}${et(this.b)}${this.a===1?"":et(Math.round(this.a*255))}`}withAlpha(et){return new Color$1(this.r,this.g,this.b,et)}}function quaternion({x:tt,y:et,z:nt,w:rt}){return new Quaternion$1(tt,et,nt,rt)}function vector({x:tt,y:et,z:nt}){return new Vector3$1(tt,et,nt)}function transformMatrix({translation:tt,rotation:et}){return new Matrix4$1().multiply(new Matrix4$1().setPosition(vector(tt))).multiply(new Matrix4$1().makeRotationFromQuaternion(quaternion(et)))}class GridMap extends Group$1{constructor(){super(),__publicField$1(this,"onLoad"),__publicField$1(this,"material"),__publicField$1(this,"plane"),__publicField$1(this,"current"),__publicField$1(this,"next"),__publicField$1(this,"loading");const et=defined$1(Color$1.fromString(getComputedStyle(document.body).getPropertyValue("--formant-color-primary-2"))),nt=defined$1(Color$1.fromString(getComputedStyle(document.body).getPropertyValue("--formant-color-primary-3"))),rt=at=>`vec3(${at.r.toFixed(1)}/255.0, ${at.g.toFixed(1)}/255.0, ${at.b.toFixed(1)}/255.0)`,it=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,ot=`
uniform sampler2D mapTexture;
varying vec2 vUv;

void main() {
    vec4 map = texture2D( mapTexture, vUv.xy );
    vec3 mappedColor = ${rt(et)};
    vec3 occupiedColor = ${rt(nt)};
    float occupancy = smoothstep(0.5, 0.01, map.r);
    vec3 color = mix(mappedColor, occupiedColor, smoothstep(0.0, 1.0, occupancy));
    gl_FragColor = vec4(color, map.a);
}`;this.material=new ShaderMaterial$1({blending:CustomBlending$1,uniforms:{mapTexture:{value:new Texture$1}},vertexShader:it,fragmentShader:ot,side:DoubleSide$1}),this.matrixAutoUpdate=!1}set map(et){this.update(et)}async update(et){if(this.loading){this.next=et;return}if(this.current===et)return;this.loading=et;const nt=this.current===void 0;if(!et){this.plane&&(this.remove(this.plane),this.plane=void 0);return}this.plane||(this.plane=new Mesh$1(new PlaneGeometry$1(1,1),this.material),this.plane.position.set(.5,.5,0),this.add(this.plane));const{canvas:rt,worldToLocal:it,origin:ot,width:at,height:st,resolution:lt}=et,ct=new CanvasTexture$1(rt);ct.generateMipmaps=!1,ct.wrapS=ClampToEdgeWrapping$1,ct.wrapT=ClampToEdgeWrapping$1,ct.minFilter=LinearFilter$1,ct.magFilter=NearestFilter$1,this.material.uniforms.mapTexture.value=ct,this.matrix.copy(transformMatrix(it).multiply(transformMatrix(ot)).multiply(new Matrix4$1().makeScale(at*lt,st*lt,1))),nt&&this.onLoad&&this.onLoad(),this.current=et,this.loading=void 0;const{next:ft}=this;ft&&ft!==et&&(this.next=void 0,await this.update(ft))}}const _GridMapLayer=class extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"map",new GridMap),__publicField$1(this,"onData",tt=>{this.map.map=tt})}static async getLayerSuggestions(tt,et){const nt=[];return et&&(await tt.getTelemetryStreams(et)).forEach(rt=>{rt.disabled||rt.configuration.type==="ros-localization"&&rt.configuration.mapTopic&&nt.push({sources:[{id:v4(),sourceType:"telemetry",streamName:rt.name,streamType:rt.configuration.type}],layerType:_GridMapLayer.layerTypeId})}),nt}init(){const tt=defined$1(this.layerDataSources)[0];defined$1(this.universeData).subscribeToGridMap(defined$1(this.layerContext),defined$1(tt),this.onData),this.add(this.map)}};let GridMapLayer=_GridMapLayer;__publicField$1(GridMapLayer,"layerTypeId","grid_map");__publicField$1(GridMapLayer,"commonName","Grid Map");__publicField$1(GridMapLayer,"description","A grid map to represent a set of locations and data intensity.");__publicField$1(GridMapLayer,"usesData",!0);function reifyVector3(tt){tt.x===void 0&&(tt.x=0),tt.y===void 0&&(tt.y=0),tt.z===void 0&&(tt.z=0)}function reifyQuaternion(tt){tt.x===void 0&&(tt.x=0),tt.y===void 0&&(tt.y=0),tt.z===void 0&&(tt.z=0),tt.w===void 0&&(tt.w=1)}function reifyColor(tt){tt.r===void 0&&(tt.r=0),tt.g===void 0&&(tt.g=0),tt.b===void 0&&(tt.b=0),tt.a===void 0&&(tt.a=1)}class GeometryWorld{constructor(){__publicField$1(this,"geometry",new Map)}processMarkers(et){et.markers.forEach(nt=>{let rt=this.geometry.get(nt.ns);rt===void 0&&(rt=new Map,this.geometry.set(nt.ns,rt)),nt.action==="delete_all"?this.geometry=new Map:(nt.id===void 0&&(nt.id=0),reifyVector3(nt.pose.translation),reifyQuaternion(nt.pose.rotation),reifyVector3(nt.scale),reifyColor(nt.color),nt.points&&nt.points.forEach(it=>{reifyVector3(it)}),nt.type==="line_list"?nt.action==="add"||nt.action==="modify"?rt.set(nt.id,{id:`${nt.ns}_${nt.id}`,type:nt.type,position:nt.pose.translation,rotation:nt.pose.rotation,scale:nt.scale,color:nt.color,points:nt.points,dirty:!0}):nt.action==="delete"&&rt.delete(nt.id):nt.type==="sphere"||nt.type==="cube"?nt.action==="add"||nt.action==="modify"?rt.set(nt.id,{id:`${nt.ns}_${nt.id}`,type:nt.type,position:nt.pose.translation,rotation:nt.pose.rotation,scale:nt.scale,color:nt.color,dirty:!0}):nt.action==="delete"&&rt.delete(nt.id):nt.type==="arrow"?nt.action==="add"||nt.action==="modify"?rt.set(nt.id,{id:`${nt.ns}_${nt.id}`,type:nt.type,position:nt.pose.translation,rotation:nt.pose.rotation,scale:nt.scale,color:nt.color,points:nt.points,dirty:!0}):nt.action==="delete"&&rt.delete(nt.id):nt.type==="text_view_facing"&&(nt.action==="add"||nt.action==="modify"?rt.set(nt.id,{id:`${nt.ns}_${nt.id}`,type:"text",position:nt.pose.translation,rotation:nt.pose.rotation,scale:nt.scale,color:nt.color,text:nt.text||"",dirty:!0}):nt.action==="delete"&&rt.delete(nt.id)))})}getAllGeometry(){const et=[];return this.geometry.forEach(nt=>{nt.forEach(rt=>{et.push(rt)})}),et}}const _GeometryLayer=class extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"world",new GeometryWorld),__publicField$1(this,"worldGeometry",new Map),__publicField$1(this,"onData",tt=>{this.world.processMarkers(tt);const et=this.world.getAllGeometry();et.forEach(ot=>{if(ot.dirty){const at=this.worldGeometry.get(ot.id);if(ot.type==="line_list")if(at)at.geometry.setFromPoints(ot.points),at.position.set(ot.position.x,ot.position.y,ot.position.z),at.scale.set(ot.scale.x,ot.scale.y,ot.scale.z),at.rotation.set(ot.rotation.x,ot.rotation.y,ot.rotation.z),at.material=new LineBasicMaterial$1({color:new Color$2(ot.color.r,ot.color.g,ot.color.b),opacity:ot.color.a});else{const st=new LineBasicMaterial$1({color:new Color$2(ot.color.r,ot.color.g,ot.color.b),opacity:ot.color.a}),lt=new BufferGeometry$1().setFromPoints(ot.points),ct=new Line$1(lt,st);ct.position.set(ot.position.x,ot.position.y,ot.position.z),ct.scale.set(ot.scale.x,ot.scale.y,ot.scale.z),ct.rotation.set(ot.rotation.x,ot.rotation.y,ot.rotation.z),this.add(ct),this.worldGeometry.set(ot.id,ct)}else if(ot.type==="text"){const st="Arial",ct=ot.text,ft=`${30}px ${st}`,ut=document.createElement("canvas"),dt=definedAndNotNull(ut.getContext("2d"));dt.font=ft;const pt=dt.measureText(ct).width,gt=30;ut.width=pt,ut.height=gt,dt.fillStyle="#2d3855",dt.fillRect(0,0,pt,gt),dt.font=ft,dt.fillStyle="#bac4e2",dt.fillText(ct,0,30);const mt=new Texture$1(ut);mt.needsUpdate=!0;const yt=new SpriteMaterial$1({map:mt});if(at)at.material=yt;else{const bt=new Sprite$1(yt),St=4;bt.scale.set(1/St,gt/pt/St,1/St),this.add(bt),this.worldGeometry.set(ot.id,bt)}}else if(ot.type==="sphere"||ot.type==="cube")if(at)at.position.set(ot.position.x,ot.position.y,ot.position.z),at.scale.set(ot.scale.x,ot.scale.y,ot.scale.z),at.rotation.set(ot.rotation.x,ot.rotation.y,ot.rotation.z),at.material=new MeshBasicMaterial$1({color:new Color$2(ot.color.r,ot.color.g,ot.color.b),opacity:ot.color.a});else{const st=ot.type==="sphere"?new SphereGeometry(1,32,16):new BoxGeometry$1(1,1,1),lt=new MeshBasicMaterial$1({color:new Color$2(ot.color.r,ot.color.g,ot.color.b),opacity:ot.color.a}),ct=new Mesh$1(st,lt);ct.position.set(ot.position.x,ot.position.y,ot.position.z),ct.scale.set(ot.scale.x,ot.scale.y,ot.scale.z),ct.rotation.set(ot.rotation.x,ot.rotation.y,ot.rotation.z),this.add(ct),this.worldGeometry.set(ot.id,ct)}else if(ot.type==="arrow")if(at)at.geometry.setFromPoints(ot.points),at.position.set(ot.position.x,ot.position.y,ot.position.z),at.scale.set(ot.scale.x,ot.scale.y,ot.scale.z),at.rotation.set(ot.rotation.x,ot.rotation.y,ot.rotation.z),at.material=new LineBasicMaterial$1({color:new Color$2(ot.color.r,ot.color.g,ot.color.b),opacity:ot.color.a});else{const st=new LineBasicMaterial$1({color:new Color$2(ot.color.r,ot.color.g,ot.color.b),opacity:ot.color.a}),lt=new BufferGeometry$1().setFromPoints(ot.points),ct=new Line$1(lt,st);ct.position.set(ot.position.x,ot.position.y,ot.position.z),ct.scale.set(ot.scale.x,ot.scale.y,ot.scale.z),ct.rotation.set(ot.rotation.x,ot.rotation.y,ot.rotation.z),this.add(ct),this.worldGeometry.set(ot.id,ct)}ot.dirty=!1}});const nt=[...this.worldGeometry.keys()],rt=et.map(ot=>ot.id);nt.filter(ot=>!rt.includes(ot)).forEach(ot=>{this.remove(defined$1(this.worldGeometry.get(ot))),this.worldGeometry.delete(ot)})})}static async getLayerSuggestions(tt,et){const nt=[];return et&&(await tt.getTeleopRosStreams(et)).forEach(rt=>{rt.topicType==="visualization_msgs/MarkerArray"&&nt.push({sources:[{id:v4(),sourceType:"realtime",rosTopicName:rt.topicName,rosTopicType:rt.topicType}],layerType:_GeometryLayer.layerTypeId})}),nt}init(){const tt=defined$1(this.layerDataSources)[0];defined$1(this.universeData).subscribeToGeometry(defined$1(this.layerContext),defined$1(tt),this.onData)}};let GeometryLayer=_GeometryLayer;__publicField$1(GeometryLayer,"layerTypeId","geometry");__publicField$1(GeometryLayer,"commonName","Geometry");__publicField$1(GeometryLayer,"description","Geometry driven from a ROS stream.");__publicField$1(GeometryLayer,"usesData",!0);const _PointCloudLayer=class extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"points"),__publicField$1(this,"onData",tt=>{this.points.geometry.setDrawRange(0,tt.positions?tt.positions.length/3:0);const et=Array.from(tt.positions||[]),nt=this.points.geometry.attributes.position;nt.set(et,0),nt.needsUpdate=!0})}static async getLayerSuggestions(tt,et){const nt=[];return et&&(await tt.getTeleopRosStreams(et)).forEach(rt=>{rt.topicType==="sensor_msgs/PointCloud2"&&nt.push({sources:[{id:v4(),sourceType:"realtime",rosTopicName:rt.topicName,rosTopicType:rt.topicType}],layerType:_PointCloudLayer.layerTypeId})}),nt}init(){defined$1(this.universeData).subscribeToPointCloud(defined$1(this.layerContext),defined$1(this.layerDataSources)[0],it=>this.onData(it));const tt=new BufferGeometry$1,et=35e4;tt.setAttribute("position",new BufferAttribute$1(new Float32Array(et*3),3)),tt.setDrawRange(0,0);let nt=.01;this.layerFields&&this.layerFields.pointSize&&this.layerFields.pointSize.value&&(nt=parseFloat(this.layerFields.pointSize.value)),this.points=new Points$1(tt,new PointsMaterial$1({color:12240098,size:nt,vertexColors:!1})),this.points.frustumCulled=!1;const rt=Math.PI/2;this.points.rotation.set(-rt,0,0),this.add(this.points)}};let PointCloudLayer=_PointCloudLayer;__publicField$1(PointCloudLayer,"layerTypeId","point_cloud");__publicField$1(PointCloudLayer,"commonName","Point Cloud");__publicField$1(PointCloudLayer,"description","A point cloud to represent a set of points.");__publicField$1(PointCloudLayer,"usesData",!0);__publicField$1(PointCloudLayer,"fields",{pointSize:{name:"Point Size",description:"Size of points",placeholder:"0.01",value:"0.01",type:"text",location:["create"]}});const _VideoLayer=class extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"loaded",!1),__publicField$1(this,"ctx"),__publicField$1(this,"texture"),__publicField$1(this,"mesh"),__publicField$1(this,"onData",tt=>{if(!this.mesh&&tt.width>0&&tt.height>0){const et=document.createElement("CANVAS");et.width=tt.width,et.height=tt.height;const nt=new CanvasTexture$1(et);this.ctx=definedAndNotNull(et.getContext("2d")),this.texture=nt;const it=(this.layerFields||{}).videoShape.value,ot=Math.PI/2;if(it==="sphere"||it==="sphere_rotated"){const at=new MeshBasicMaterial$1({map:nt,side:BackSide$1}),st=new SphereGeometry(.3);this.mesh=new Mesh$1(st,at),it==="sphere_rotated"&&this.mesh.rotation.set(ot,0,ot)}else{const at=new MeshBasicMaterial$1({map:nt}),st=new BoxGeometry$1(1,1,0);this.mesh=new Mesh$1(st,at)}this.add(this.mesh),it!=="sphere"&&this.mesh.scale.set(1,et.height/et.width,0),this.mesh.material.map.needsUpdate=!0,this.mesh.material.needsUpdate=!0}this.ctx&&this.texture&&(this.ctx.drawImage(tt,0,0),this.texture.needsUpdate=!0)})}static async getLayerSuggestions(tt,et){const nt=[];return et&&(await tt.getHardwareStreams(et)).forEach(rt=>{rt.rtcStreamType==="h264-video-frame"&&nt.push({sources:[{id:v4(),sourceType:"hardware",rtcStreamName:rt.name}],layerType:_VideoLayer.layerTypeId})}),nt}init(){const tt=defined$1(this.layerDataSources)[0];defined$1(this.universeData).subscribeToVideo(defined$1(this.layerContext),defined$1(tt),this.onData)}};let VideoLayer=_VideoLayer;__publicField$1(VideoLayer,"layerTypeId","video");__publicField$1(VideoLayer,"commonName","Video");__publicField$1(VideoLayer,"description","A video representing a camera.");__publicField$1(VideoLayer,"usesData",!0);__publicField$1(VideoLayer,"fields",{videoShape:{name:"Shape",description:"The shape you'd like the video to be",placeholder:"sphere",value:"",type:"text",location:["create"]}});class TGALoader extends DataTextureLoader{constructor(et){super(et)}parse(et){function nt(Ct){switch(Ct.image_type){case dt:case gt:(Ct.colormap_length>256||Ct.colormap_size!==24||Ct.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case ht:case pt:case mt:case yt:Ct.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case ut:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',Ct.image_type)}(Ct.width<=0||Ct.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),Ct.pixel_size!==8&&Ct.pixel_size!==16&&Ct.pixel_size!==24&&Ct.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',Ct.pixel_size)}function rt(Ct,Ot,Ut,At,Mt){let jt,kt;const Gt=Ut.pixel_size>>3,Ht=Ut.width*Ut.height*Gt;if(Ot&&(kt=Mt.subarray(At,At+=Ut.colormap_length*(Ut.colormap_size>>3))),Ct){jt=new Uint8Array(Ht);let Jt,Vt,Wt,Lt=0;const Bt=new Uint8Array(Gt);for(;Lt<Ht;)if(Jt=Mt[At++],Vt=(Jt&127)+1,Jt&128){for(Wt=0;Wt<Gt;++Wt)Bt[Wt]=Mt[At++];for(Wt=0;Wt<Vt;++Wt)jt.set(Bt,Lt+Wt*Gt);Lt+=Gt*Vt}else{for(Vt*=Gt,Wt=0;Wt<Vt;++Wt)jt[Lt+Wt]=Mt[At++];Lt+=Vt}}else jt=Mt.subarray(At,At+=Ot?Ut.width*Ut.height:Ht);return{pixel_data:jt,palettes:kt}}function it(Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht){const Jt=Ht;let Vt,Wt=0,Lt,Bt;const Ft=Et.width;for(Bt=Ot;Bt!==At;Bt+=Ut)for(Lt=Mt;Lt!==kt;Lt+=jt,Wt++)Vt=Gt[Wt],Ct[(Lt+Ft*Bt)*4+3]=255,Ct[(Lt+Ft*Bt)*4+2]=Jt[Vt*3+0],Ct[(Lt+Ft*Bt)*4+1]=Jt[Vt*3+1],Ct[(Lt+Ft*Bt)*4+0]=Jt[Vt*3+2];return Ct}function ot(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht,Jt=0,Vt,Wt;const Lt=Et.width;for(Wt=Ot;Wt!==At;Wt+=Ut)for(Vt=Mt;Vt!==kt;Vt+=jt,Jt+=2)Ht=Gt[Jt+0]+(Gt[Jt+1]<<8),Ct[(Vt+Lt*Wt)*4+0]=(Ht&31744)>>7,Ct[(Vt+Lt*Wt)*4+1]=(Ht&992)>>2,Ct[(Vt+Lt*Wt)*4+2]=(Ht&31)<<3,Ct[(Vt+Lt*Wt)*4+3]=Ht&32768?0:255;return Ct}function at(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht=0,Jt,Vt;const Wt=Et.width;for(Vt=Ot;Vt!==At;Vt+=Ut)for(Jt=Mt;Jt!==kt;Jt+=jt,Ht+=3)Ct[(Jt+Wt*Vt)*4+3]=255,Ct[(Jt+Wt*Vt)*4+2]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+1]=Gt[Ht+1],Ct[(Jt+Wt*Vt)*4+0]=Gt[Ht+2];return Ct}function st(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht=0,Jt,Vt;const Wt=Et.width;for(Vt=Ot;Vt!==At;Vt+=Ut)for(Jt=Mt;Jt!==kt;Jt+=jt,Ht+=4)Ct[(Jt+Wt*Vt)*4+2]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+1]=Gt[Ht+1],Ct[(Jt+Wt*Vt)*4+0]=Gt[Ht+2],Ct[(Jt+Wt*Vt)*4+3]=Gt[Ht+3];return Ct}function lt(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht,Jt=0,Vt,Wt;const Lt=Et.width;for(Wt=Ot;Wt!==At;Wt+=Ut)for(Vt=Mt;Vt!==kt;Vt+=jt,Jt++)Ht=Gt[Jt],Ct[(Vt+Lt*Wt)*4+0]=Ht,Ct[(Vt+Lt*Wt)*4+1]=Ht,Ct[(Vt+Lt*Wt)*4+2]=Ht,Ct[(Vt+Lt*Wt)*4+3]=255;return Ct}function ct(Ct,Ot,Ut,At,Mt,jt,kt,Gt){let Ht=0,Jt,Vt;const Wt=Et.width;for(Vt=Ot;Vt!==At;Vt+=Ut)for(Jt=Mt;Jt!==kt;Jt+=jt,Ht+=2)Ct[(Jt+Wt*Vt)*4+0]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+1]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+2]=Gt[Ht+0],Ct[(Jt+Wt*Vt)*4+3]=Gt[Ht+1];return Ct}function ft(Ct,Ot,Ut,At,Mt){let jt,kt,Gt,Ht,Jt,Vt;switch((Et.flags&bt)>>St){default:case $t:jt=0,Gt=1,Jt=Ot,kt=0,Ht=1,Vt=Ut;break;case xt:jt=0,Gt=1,Jt=Ot,kt=Ut-1,Ht=-1,Vt=-1;break;case zt:jt=Ot-1,Gt=-1,Jt=-1,kt=0,Ht=1,Vt=Ut;break;case vt:jt=Ot-1,Gt=-1,Jt=-1,kt=Ut-1,Ht=-1,Vt=-1;break}if(It)switch(Et.pixel_size){case 8:lt(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;case 16:ct(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(Et.pixel_size){case 8:it(Ct,kt,Ht,Vt,jt,Gt,Jt,At,Mt);break;case 16:ot(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;case 24:at(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;case 32:st(Ct,kt,Ht,Vt,jt,Gt,Jt,At);break;default:console.error("THREE.TGALoader: Format not supported.");break}return Ct}const ut=0,dt=1,ht=2,pt=3,gt=9,mt=10,yt=11,bt=48,St=4,xt=0,vt=1,$t=2,zt=3;et.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let Nt=0;const wt=new Uint8Array(et),Et={id_length:wt[Nt++],colormap_type:wt[Nt++],image_type:wt[Nt++],colormap_index:wt[Nt++]|wt[Nt++]<<8,colormap_length:wt[Nt++]|wt[Nt++]<<8,colormap_size:wt[Nt++],origin:[wt[Nt++]|wt[Nt++]<<8,wt[Nt++]|wt[Nt++]<<8],width:wt[Nt++]|wt[Nt++]<<8,height:wt[Nt++]|wt[Nt++]<<8,pixel_size:wt[Nt++],flags:wt[Nt++]};nt(Et),Et.id_length+Nt>et.length&&console.error("THREE.TGALoader: No data."),Nt+=Et.id_length;let Rt=!1,Tt=!1,It=!1;switch(Et.image_type){case gt:Rt=!0,Tt=!0;break;case dt:Tt=!0;break;case mt:Rt=!0;break;case ht:break;case yt:Rt=!0,It=!0;break;case pt:It=!0;break}const Pt=new Uint8Array(Et.width*Et.height*4),Dt=rt(Rt,Tt,Et,Nt,wt);return ft(Pt,Et.width,Et.height,Dt.pixel_data,Dt.palettes),{data:Pt,width:Et.width,height:Et.height,flipY:!0,generateMipmaps:!0,minFilter:LinearMipmapLinearFilter$1}}}class ColladaLoader extends Loader$1{constructor(et){super(et)}load(et,nt,rt,it){const ot=this,at=ot.path===""?LoaderUtils$1.extractUrlBase(et):ot.path,st=new FileLoader$1(ot.manager);st.setPath(ot.path),st.setRequestHeader(ot.requestHeader),st.setWithCredentials(ot.withCredentials),st.load(et,function(lt){try{nt(ot.parse(lt,at))}catch(ct){it?it(ct):console.error(ct),ot.manager.itemError(et)}},rt,it)}parse(et,nt){function rt(qt,Zt){const pn=[],gn=qt.childNodes;for(let _n=0,$n=gn.length;_n<$n;_n++){const In=gn[_n];In.nodeName===Zt&&pn.push(In)}return pn}function it(qt){if(qt.length===0)return[];const Zt=qt.trim().split(/\s+/),pn=new Array(Zt.length);for(let gn=0,_n=Zt.length;gn<_n;gn++)pn[gn]=Zt[gn];return pn}function ot(qt){if(qt.length===0)return[];const Zt=qt.trim().split(/\s+/),pn=new Array(Zt.length);for(let gn=0,_n=Zt.length;gn<_n;gn++)pn[gn]=parseFloat(Zt[gn]);return pn}function at(qt){if(qt.length===0)return[];const Zt=qt.trim().split(/\s+/),pn=new Array(Zt.length);for(let gn=0,_n=Zt.length;gn<_n;gn++)pn[gn]=parseInt(Zt[gn]);return pn}function st(qt){return qt.substring(1)}function lt(){return"three_default_"+ho++}function ct(qt){return Object.keys(qt).length===0}function ft(qt){return{unit:ut(rt(qt,"unit")[0]),upAxis:dt(rt(qt,"up_axis")[0])}}function ut(qt){return qt!==void 0&&qt.hasAttribute("meter")===!0?parseFloat(qt.getAttribute("meter")):1}function dt(qt){return qt!==void 0?qt.textContent:"Y_UP"}function ht(qt,Zt,pn,gn){const _n=rt(qt,Zt)[0];if(_n!==void 0){const $n=rt(_n,pn);for(let In=0;In<$n.length;In++)gn($n[In])}}function pt(qt,Zt){for(const pn in qt){const gn=qt[pn];gn.build=Zt(qt[pn])}}function gt(qt,Zt){return qt.build!==void 0||(qt.build=Zt(qt)),qt.build}function mt(qt){const Zt={sources:{},samplers:{},channels:{}};let pn=!1;for(let gn=0,_n=qt.childNodes.length;gn<_n;gn++){const $n=qt.childNodes[gn];if($n.nodeType!==1)continue;let In;switch($n.nodeName){case"source":In=$n.getAttribute("id"),Zt.sources[In]=ir($n);break;case"sampler":In=$n.getAttribute("id"),Zt.samplers[In]=yt($n);break;case"channel":In=$n.getAttribute("target"),Zt.channels[In]=bt($n);break;case"animation":mt($n),pn=!0;break;default:console.log($n)}}pn===!1&&(sr.animations[qt.getAttribute("id")||MathUtils.generateUUID()]=Zt)}function yt(qt){const Zt={inputs:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=st(_n.getAttribute("source")),In=_n.getAttribute("semantic");Zt.inputs[In]=$n;break}}return Zt}function bt(qt){const Zt={};let gn=qt.getAttribute("target").split("/");const _n=gn.shift();let $n=gn.shift();const In=$n.indexOf("(")!==-1,mn=$n.indexOf(".")!==-1;if(mn)gn=$n.split("."),$n=gn.shift(),Zt.member=gn.shift();else if(In){const wn=$n.split("(");$n=wn.shift();for(let An=0;An<wn.length;An++)wn[An]=parseInt(wn[An].replace(/\)/,""));Zt.indices=wn}return Zt.id=_n,Zt.sid=$n,Zt.arraySyntax=In,Zt.memberSyntax=mn,Zt.sampler=st(qt.getAttribute("source")),Zt}function St(qt){const Zt=[],pn=qt.channels,gn=qt.samplers,_n=qt.sources;for(const $n in pn)if(pn.hasOwnProperty($n)){const In=pn[$n],mn=gn[In.sampler],wn=mn.inputs.INPUT,An=mn.inputs.OUTPUT,Dn=_n[wn],On=_n[An],Gn=vt(In,Dn,On);Et(Gn,Zt)}return Zt}function xt(qt){return gt(sr.animations[qt],St)}function vt(qt,Zt,pn){const gn=sr.nodes[qt.id],_n=Mr(gn.id),$n=gn.transforms[qt.sid],In=gn.matrix.clone().transpose();let mn,wn,An,Dn,On,Gn;const Pn={};switch($n){case"matrix":for(An=0,Dn=Zt.array.length;An<Dn;An++)if(mn=Zt.array[An],wn=An*pn.stride,Pn[mn]===void 0&&(Pn[mn]={}),qt.arraySyntax===!0){const tr=pn.array[wn],rr=qt.indices[0]+4*qt.indices[1];Pn[mn][rr]=tr}else for(On=0,Gn=pn.stride;On<Gn;On++)Pn[mn][On]=pn.array[wn+On];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',$n);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',$n);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',$n);break}const jn=$t(Pn,In);return{name:_n.uuid,keyframes:jn}}function $t(qt,Zt){const pn=[];for(const _n in qt)pn.push({time:parseFloat(_n),value:qt[_n]});pn.sort(gn);for(let _n=0;_n<16;_n++)Rt(pn,_n,Zt.elements[_n]);return pn;function gn(_n,$n){return _n.time-$n.time}}const zt=new Vector3$1,Nt=new Vector3$1,wt=new Quaternion$1;function Et(qt,Zt){const pn=qt.keyframes,gn=qt.name,_n=[],$n=[],In=[],mn=[];for(let wn=0,An=pn.length;wn<An;wn++){const Dn=pn[wn],On=Dn.time,Gn=Dn.value;_r.fromArray(Gn).transpose(),_r.decompose(zt,wt,Nt),_n.push(On),$n.push(zt.x,zt.y,zt.z),In.push(wt.x,wt.y,wt.z,wt.w),mn.push(Nt.x,Nt.y,Nt.z)}return $n.length>0&&Zt.push(new VectorKeyframeTrack$1(gn+".position",_n,$n)),In.length>0&&Zt.push(new QuaternionKeyframeTrack$1(gn+".quaternion",_n,In)),mn.length>0&&Zt.push(new VectorKeyframeTrack$1(gn+".scale",_n,mn)),Zt}function Rt(qt,Zt,pn){let gn,_n=!0,$n,In;for($n=0,In=qt.length;$n<In;$n++)gn=qt[$n],gn.value[Zt]===void 0?gn.value[Zt]=null:_n=!1;if(_n===!0)for($n=0,In=qt.length;$n<In;$n++)gn=qt[$n],gn.value[Zt]=pn;else Tt(qt,Zt)}function Tt(qt,Zt){let pn,gn;for(let _n=0,$n=qt.length;_n<$n;_n++){const In=qt[_n];if(In.value[Zt]===null){if(pn=It(qt,_n,Zt),gn=Pt(qt,_n,Zt),pn===null){In.value[Zt]=gn.value[Zt];continue}if(gn===null){In.value[Zt]=pn.value[Zt];continue}Dt(In,pn,gn,Zt)}}}function It(qt,Zt,pn){for(;Zt>=0;){const gn=qt[Zt];if(gn.value[pn]!==null)return gn;Zt--}return null}function Pt(qt,Zt,pn){for(;Zt<qt.length;){const gn=qt[Zt];if(gn.value[pn]!==null)return gn;Zt++}return null}function Dt(qt,Zt,pn,gn){if(pn.time-Zt.time===0){qt.value[gn]=Zt.value[gn];return}qt.value[gn]=(qt.time-Zt.time)*(pn.value[gn]-Zt.value[gn])/(pn.time-Zt.time)+Zt.value[gn]}function Ct(qt){const Zt={name:qt.getAttribute("id")||"default",start:parseFloat(qt.getAttribute("start")||0),end:parseFloat(qt.getAttribute("end")||0),animations:[]};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"instance_animation":Zt.animations.push(st(_n.getAttribute("url")));break}}sr.clips[qt.getAttribute("id")]=Zt}function Ot(qt){const Zt=[],pn=qt.name,gn=qt.end-qt.start||-1,_n=qt.animations;for(let $n=0,In=_n.length;$n<In;$n++){const mn=xt(_n[$n]);for(let wn=0,An=mn.length;wn<An;wn++)Zt.push(mn[wn])}return new AnimationClip$1(pn,gn,Zt)}function Ut(qt){return gt(sr.clips[qt],Ot)}function At(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"skin":Zt.id=st(_n.getAttribute("source")),Zt.skin=Mt(_n);break;case"morph":Zt.id=st(_n.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}sr.controllers[qt.getAttribute("id")]=Zt}function Mt(qt){const Zt={sources:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"bind_shape_matrix":Zt.bindShapeMatrix=ot(_n.textContent);break;case"source":const $n=_n.getAttribute("id");Zt.sources[$n]=ir(_n);break;case"joints":Zt.joints=jt(_n);break;case"vertex_weights":Zt.vertexWeights=kt(_n);break}}return Zt}function jt(qt){const Zt={inputs:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=_n.getAttribute("semantic"),In=st(_n.getAttribute("source"));Zt.inputs[$n]=In;break}}return Zt}function kt(qt){const Zt={inputs:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=_n.getAttribute("semantic"),In=st(_n.getAttribute("source")),mn=parseInt(_n.getAttribute("offset"));Zt.inputs[$n]={id:In,offset:mn};break;case"vcount":Zt.vcount=at(_n.textContent);break;case"v":Zt.v=at(_n.textContent);break}}return Zt}function Gt(qt){const Zt={id:qt.id},pn=sr.geometries[Zt.id];return qt.skin!==void 0&&(Zt.skin=Ht(qt.skin),pn.sources.skinIndices=Zt.skin.indices,pn.sources.skinWeights=Zt.skin.weights),Zt}function Ht(qt){const pn={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},gn=qt.sources,_n=qt.vertexWeights,$n=_n.vcount,In=_n.v,mn=_n.inputs.JOINT.offset,wn=_n.inputs.WEIGHT.offset,An=qt.sources[qt.joints.inputs.JOINT],Dn=qt.sources[qt.joints.inputs.INV_BIND_MATRIX],On=gn[_n.inputs.WEIGHT.id].array;let Gn=0,Pn,jn,Yn;for(Pn=0,Yn=$n.length;Pn<Yn;Pn++){const rr=$n[Pn],lr=[];for(jn=0;jn<rr;jn++){const or=In[Gn+mn],wr=In[Gn+wn],br=On[wr];lr.push({index:or,weight:br}),Gn+=2}for(lr.sort(tr),jn=0;jn<4;jn++){const or=lr[jn];or!==void 0?(pn.indices.array.push(or.index),pn.weights.array.push(or.weight)):(pn.indices.array.push(0),pn.weights.array.push(0))}}for(qt.bindShapeMatrix?pn.bindMatrix=new Matrix4$1().fromArray(qt.bindShapeMatrix).transpose():pn.bindMatrix=new Matrix4$1().identity(),Pn=0,Yn=An.array.length;Pn<Yn;Pn++){const rr=An.array[Pn],lr=new Matrix4$1().fromArray(Dn.array,Pn*Dn.stride).transpose();pn.joints.push({name:rr,boneInverse:lr})}return pn;function tr(rr,lr){return lr.weight-rr.weight}}function Jt(qt){return gt(sr.controllers[qt],Gt)}function Vt(qt){const Zt={init_from:rt(qt,"init_from")[0].textContent};sr.images[qt.getAttribute("id")]=Zt}function Wt(qt){return qt.build!==void 0?qt.build:qt.init_from}function Lt(qt){const Zt=sr.images[qt];return Zt!==void 0?gt(Zt,Wt):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",qt),null)}function Bt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"profile_COMMON":Zt.profile=Ft(_n);break}}sr.effects[qt.getAttribute("id")]=Zt}function Ft(qt){const Zt={surfaces:{},samplers:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"newparam":sn(_n,Zt);break;case"technique":Zt.technique=Yt(_n);break;case"extra":Zt.extra=Sn(_n);break}}return Zt}function sn(qt,Zt){const pn=qt.getAttribute("sid");for(let gn=0,_n=qt.childNodes.length;gn<_n;gn++){const $n=qt.childNodes[gn];if($n.nodeType===1)switch($n.nodeName){case"surface":Zt.surfaces[pn]=Xt($n);break;case"sampler2D":Zt.samplers[pn]=dn($n);break}}}function Xt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"init_from":Zt.init_from=_n.textContent;break}}return Zt}function dn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"source":Zt.source=_n.textContent;break}}return Zt}function Yt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"constant":case"lambert":case"blinn":case"phong":Zt.type=_n.nodeName,Zt.parameters=yn(_n);break;case"extra":Zt.extra=Sn(_n);break}}return Zt}function yn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":Zt[_n.nodeName]=Qt(_n);break;case"transparent":Zt[_n.nodeName]={opaque:_n.hasAttribute("opaque")?_n.getAttribute("opaque"):"A_ONE",data:Qt(_n)};break}}return Zt}function Qt(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"color":Zt[_n.nodeName]=ot(_n.textContent);break;case"float":Zt[_n.nodeName]=parseFloat(_n.textContent);break;case"texture":Zt[_n.nodeName]={id:_n.getAttribute("texture"),extra:Kt(_n)};break}}return Zt}function Kt(qt){const Zt={technique:{}};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"extra":hn(_n,Zt);break}}return Zt}function hn(qt,Zt){for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"technique":vn(_n,Zt);break}}}function vn(qt,Zt){for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":Zt.technique[_n.nodeName]=parseFloat(_n.textContent);break;case"wrapU":case"wrapV":_n.textContent.toUpperCase()==="TRUE"?Zt.technique[_n.nodeName]=1:_n.textContent.toUpperCase()==="FALSE"?Zt.technique[_n.nodeName]=0:Zt.technique[_n.nodeName]=parseInt(_n.textContent);break;case"bump":Zt[_n.nodeName]=cn(_n);break}}}function Sn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"technique":Zt.technique=Cn(_n);break}}return Zt}function Cn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"double_sided":Zt[_n.nodeName]=parseInt(_n.textContent);break;case"bump":Zt[_n.nodeName]=cn(_n);break}}return Zt}function cn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"texture":Zt[_n.nodeName]={id:_n.getAttribute("texture"),texcoord:_n.getAttribute("texcoord"),extra:Kt(_n)};break}}return Zt}function ln(qt){return qt}function bn(qt){return gt(sr.effects[qt],ln)}function xn(qt){const Zt={name:qt.getAttribute("name")};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"instance_effect":Zt.url=st(_n.getAttribute("url"));break}}sr.materials[qt.getAttribute("id")]=Zt}function Nn(qt){let Zt,pn=qt.slice((qt.lastIndexOf(".")-1>>>0)+2);switch(pn=pn.toLowerCase(),pn){case"tga":Zt=Qr;break;default:Zt=Hr}return Zt}function zn(qt){const Zt=bn(qt.url),pn=Zt.profile.technique;let gn;switch(pn.type){case"phong":case"blinn":gn=new MeshPhongMaterial$1;break;case"lambert":gn=new MeshLambertMaterial$1;break;default:gn=new MeshBasicMaterial$1;break}gn.name=qt.name||"";function _n(wn,An=null){const Dn=Zt.profile.samplers[wn.id];let On=null;if(Dn!==void 0){const Gn=Zt.profile.surfaces[Dn.source];On=Lt(Gn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),On=Lt(wn.id);if(On!==null){const Gn=Nn(On);if(Gn!==void 0){const Pn=Gn.load(On),jn=wn.extra;if(jn!==void 0&&jn.technique!==void 0&&ct(jn.technique)===!1){const Yn=jn.technique;Pn.wrapS=Yn.wrapU?RepeatWrapping$1:ClampToEdgeWrapping$1,Pn.wrapT=Yn.wrapV?RepeatWrapping$1:ClampToEdgeWrapping$1,Pn.offset.set(Yn.offsetU||0,Yn.offsetV||0),Pn.repeat.set(Yn.repeatU||1,Yn.repeatV||1)}else Pn.wrapS=RepeatWrapping$1,Pn.wrapT=RepeatWrapping$1;return An!==null&&(Pn.encoding=An),Pn}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",On),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",wn.id),null}const $n=pn.parameters;for(const wn in $n){const An=$n[wn];switch(wn){case"diffuse":An.color&&gn.color.fromArray(An.color),An.texture&&(gn.map=_n(An.texture,sRGBEncoding$1));break;case"specular":An.color&&gn.specular&&gn.specular.fromArray(An.color),An.texture&&(gn.specularMap=_n(An.texture));break;case"bump":An.texture&&(gn.normalMap=_n(An.texture));break;case"ambient":An.texture&&(gn.lightMap=_n(An.texture,sRGBEncoding$1));break;case"shininess":An.float&&gn.shininess&&(gn.shininess=An.float);break;case"emission":An.color&&gn.emissive&&gn.emissive.fromArray(An.color),An.texture&&(gn.emissiveMap=_n(An.texture,sRGBEncoding$1));break}}gn.color.convertSRGBToLinear(),gn.specular&&gn.specular.convertSRGBToLinear(),gn.emissive&&gn.emissive.convertSRGBToLinear();let In=$n.transparent,mn=$n.transparency;if(mn===void 0&&In&&(mn={float:1}),In===void 0&&mn&&(In={opaque:"A_ONE",data:{color:[1,1,1,1]}}),In&&mn)if(In.data.texture)gn.transparent=!0;else{const wn=In.data.color;switch(In.opaque){case"A_ONE":gn.opacity=wn[3]*mn.float;break;case"RGB_ZERO":gn.opacity=1-wn[0]*mn.float;break;case"A_ZERO":gn.opacity=1-wn[3]*mn.float;break;case"RGB_ONE":gn.opacity=wn[0]*mn.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',In.opaque)}gn.opacity<1&&(gn.transparent=!0)}if(pn.extra!==void 0&&pn.extra.technique!==void 0){const wn=pn.extra.technique;for(const An in wn){const Dn=wn[An];switch(An){case"double_sided":gn.side=Dn===1?DoubleSide$1:FrontSide$1;break;case"bump":gn.normalMap=_n(Dn.texture),gn.normalScale=new Vector2$1(1,1);break}}}return gn}function Ln(qt){return gt(sr.materials[qt],zn)}function Mn(qt){const Zt={name:qt.getAttribute("name")};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"optics":Zt.optics=Wn(_n);break}}sr.cameras[qt.getAttribute("id")]=Zt}function Wn(qt){for(let Zt=0;Zt<qt.childNodes.length;Zt++){const pn=qt.childNodes[Zt];switch(pn.nodeName){case"technique_common":return Jn(pn)}}return{}}function Jn(qt){const Zt={};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];switch(gn.nodeName){case"perspective":case"orthographic":Zt.technique=gn.nodeName,Zt.parameters=Zn(gn);break}}return Zt}function Zn(qt){const Zt={};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];switch(gn.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":Zt[gn.nodeName]=parseFloat(gn.textContent);break}}return Zt}function Rn(qt){let Zt;switch(qt.optics.technique){case"perspective":Zt=new PerspectiveCamera$1(qt.optics.parameters.yfov,qt.optics.parameters.aspect_ratio,qt.optics.parameters.znear,qt.optics.parameters.zfar);break;case"orthographic":let pn=qt.optics.parameters.ymag,gn=qt.optics.parameters.xmag;const _n=qt.optics.parameters.aspect_ratio;gn=gn===void 0?pn*_n:gn,pn=pn===void 0?gn/_n:pn,gn*=.5,pn*=.5,Zt=new OrthographicCamera$1(-gn,gn,pn,-pn,qt.optics.parameters.znear,qt.optics.parameters.zfar);break;default:Zt=new PerspectiveCamera$1;break}return Zt.name=qt.name||"",Zt}function Kn(qt){const Zt=sr.cameras[qt];return Zt!==void 0?gt(Zt,Rn):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",qt),null)}function kn(qt){let Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"technique_common":Zt=Bn(_n);break}}sr.lights[qt.getAttribute("id")]=Zt}function Bn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"directional":case"point":case"spot":case"ambient":Zt.technique=_n.nodeName,Zt.parameters=Hn(_n)}}return Zt}function Hn(qt){const Zt={};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"color":const $n=ot(_n.textContent);Zt.color=new Color$2().fromArray($n).convertSRGBToLinear();break;case"falloff_angle":Zt.falloffAngle=parseFloat(_n.textContent);break;case"quadratic_attenuation":const In=parseFloat(_n.textContent);Zt.distance=In?Math.sqrt(1/In):0;break}}return Zt}function Qn(qt){let Zt;switch(qt.technique){case"directional":Zt=new DirectionalLight$1;break;case"point":Zt=new PointLight$1;break;case"spot":Zt=new SpotLight$1;break;case"ambient":Zt=new AmbientLight$1;break}return qt.parameters.color&&Zt.color.copy(qt.parameters.color),qt.parameters.distance&&(Zt.distance=qt.parameters.distance),Zt}function qn(qt){const Zt=sr.lights[qt];return Zt!==void 0?gt(Zt,Qn):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",qt),null)}function er(qt){const Zt={name:qt.getAttribute("name"),sources:{},vertices:{},primitives:[]},pn=rt(qt,"mesh")[0];if(pn!==void 0){for(let gn=0;gn<pn.childNodes.length;gn++){const _n=pn.childNodes[gn];if(_n.nodeType!==1)continue;const $n=_n.getAttribute("id");switch(_n.nodeName){case"source":Zt.sources[$n]=ir(_n);break;case"vertices":Zt.vertices=nr(_n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",_n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":Zt.primitives.push(ur(_n));break;default:console.log(_n)}}sr.geometries[qt.getAttribute("id")]=Zt}}function ir(qt){const Zt={array:[],stride:3};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"float_array":Zt.array=ot(gn.textContent);break;case"Name_array":Zt.array=it(gn.textContent);break;case"technique_common":const _n=rt(gn,"accessor")[0];_n!==void 0&&(Zt.stride=parseInt(_n.getAttribute("stride")));break}}return Zt}function nr(qt){const Zt={};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];gn.nodeType===1&&(Zt[gn.getAttribute("semantic")]=st(gn.getAttribute("source")))}return Zt}function ur(qt){const Zt={type:qt.nodeName,material:qt.getAttribute("material"),count:parseInt(qt.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let pn=0,gn=qt.childNodes.length;pn<gn;pn++){const _n=qt.childNodes[pn];if(_n.nodeType===1)switch(_n.nodeName){case"input":const $n=st(_n.getAttribute("source")),In=_n.getAttribute("semantic"),mn=parseInt(_n.getAttribute("offset")),wn=parseInt(_n.getAttribute("set")),An=wn>0?In+wn:In;Zt.inputs[An]={id:$n,offset:mn},Zt.stride=Math.max(Zt.stride,mn+1),In==="TEXCOORD"&&(Zt.hasUV=!0);break;case"vcount":Zt.vcount=at(_n.textContent);break;case"p":Zt.p=at(_n.textContent);break}}return Zt}function mr(qt){const Zt={};for(let pn=0;pn<qt.length;pn++){const gn=qt[pn];Zt[gn.type]===void 0&&(Zt[gn.type]=[]),Zt[gn.type].push(gn)}return Zt}function Rr(qt){let Zt=0;for(let pn=0,gn=qt.length;pn<gn;pn++)qt[pn].hasUV===!0&&Zt++;Zt>0&&Zt<qt.length&&(qt.uvsNeedsFix=!0)}function $r(qt){const Zt={},pn=qt.sources,gn=qt.vertices,_n=qt.primitives;if(_n.length===0)return{};const $n=mr(_n);for(const In in $n){const mn=$n[In];Rr(mn),Zt[In]=Pr(mn,pn,gn)}return Zt}function Pr(qt,Zt,pn){const gn={},_n={array:[],stride:0},$n={array:[],stride:0},In={array:[],stride:0},mn={array:[],stride:0},wn={array:[],stride:0},An={array:[],stride:4},Dn={array:[],stride:4},On=new BufferGeometry$1,Gn=[];let Pn=0;for(let jn=0;jn<qt.length;jn++){const Yn=qt[jn],tr=Yn.inputs;let rr=0;switch(Yn.type){case"lines":case"linestrips":rr=Yn.count*2;break;case"triangles":rr=Yn.count*3;break;case"polylist":for(let lr=0;lr<Yn.count;lr++){const or=Yn.vcount[lr];switch(or){case 3:rr+=3;break;case 4:rr+=6;break;default:rr+=(or-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Yn.type)}On.addGroup(Pn,rr,jn),Pn+=rr,Yn.material&&Gn.push(Yn.material);for(const lr in tr){const or=tr[lr];switch(lr){case"VERTEX":for(const wr in pn){const br=pn[wr];switch(wr){case"POSITION":const Cr=_n.array.length;if(Er(Yn,Zt[br],or.offset,_n.array),_n.stride=Zt[br].stride,Zt.skinWeights&&Zt.skinIndices&&(Er(Yn,Zt.skinIndices,or.offset,An.array),Er(Yn,Zt.skinWeights,or.offset,Dn.array)),Yn.hasUV===!1&&qt.uvsNeedsFix===!0){const Tr=(_n.array.length-Cr)/_n.stride;for(let _i=0;_i<Tr;_i++)In.array.push(0,0)}break;case"NORMAL":Er(Yn,Zt[br],or.offset,$n.array),$n.stride=Zt[br].stride;break;case"COLOR":Er(Yn,Zt[br],or.offset,wn.array),wn.stride=Zt[br].stride;break;case"TEXCOORD":Er(Yn,Zt[br],or.offset,In.array),In.stride=Zt[br].stride;break;case"TEXCOORD1":Er(Yn,Zt[br],or.offset,mn.array),In.stride=Zt[br].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',wr)}}break;case"NORMAL":Er(Yn,Zt[or.id],or.offset,$n.array),$n.stride=Zt[or.id].stride;break;case"COLOR":Er(Yn,Zt[or.id],or.offset,wn.array,!0),wn.stride=Zt[or.id].stride;break;case"TEXCOORD":Er(Yn,Zt[or.id],or.offset,In.array),In.stride=Zt[or.id].stride;break;case"TEXCOORD1":Er(Yn,Zt[or.id],or.offset,mn.array),mn.stride=Zt[or.id].stride;break}}}return _n.array.length>0&&On.setAttribute("position",new Float32BufferAttribute$1(_n.array,_n.stride)),$n.array.length>0&&On.setAttribute("normal",new Float32BufferAttribute$1($n.array,$n.stride)),wn.array.length>0&&On.setAttribute("color",new Float32BufferAttribute$1(wn.array,wn.stride)),In.array.length>0&&On.setAttribute("uv",new Float32BufferAttribute$1(In.array,In.stride)),mn.array.length>0&&On.setAttribute("uv2",new Float32BufferAttribute$1(mn.array,mn.stride)),An.array.length>0&&On.setAttribute("skinIndex",new Float32BufferAttribute$1(An.array,An.stride)),Dn.array.length>0&&On.setAttribute("skinWeight",new Float32BufferAttribute$1(Dn.array,Dn.stride)),gn.data=On,gn.type=qt[0].type,gn.materialKeys=Gn,gn}function Er(qt,Zt,pn,gn,_n=!1){const $n=qt.p,In=qt.stride,mn=qt.vcount;function wn(On){let Gn=$n[On+pn]*Dn;const Pn=Gn+Dn;for(;Gn<Pn;Gn++)gn.push(An[Gn]);if(_n){const jn=gn.length-Dn-1;Vr.setRGB(gn[jn+0],gn[jn+1],gn[jn+2]).convertSRGBToLinear(),gn[jn+0]=Vr.r,gn[jn+1]=Vr.g,gn[jn+2]=Vr.b}}const An=Zt.array,Dn=Zt.stride;if(qt.vcount!==void 0){let On=0;for(let Gn=0,Pn=mn.length;Gn<Pn;Gn++){const jn=mn[Gn];if(jn===4){const Yn=On+In*0,tr=On+In*1,rr=On+In*2,lr=On+In*3;wn(Yn),wn(tr),wn(lr),wn(tr),wn(rr),wn(lr)}else if(jn===3){const Yn=On+In*0,tr=On+In*1,rr=On+In*2;wn(Yn),wn(tr),wn(rr)}else if(jn>4)for(let Yn=1,tr=jn-2;Yn<=tr;Yn++){const rr=On+In*0,lr=On+In*Yn,or=On+In*(Yn+1);wn(rr),wn(lr),wn(or)}On+=In*jn}}else for(let On=0,Gn=$n.length;On<Gn;On+=In)wn(On)}function Ir(qt){return gt(sr.geometries[qt],$r)}function Nr(qt){const Zt={name:qt.getAttribute("name")||"",joints:{},links:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"technique_common":En(gn,Zt);break}}sr.kinematicsModels[qt.getAttribute("id")]=Zt}function Yr(qt){return qt.build!==void 0?qt.build:qt}function qr(qt){return gt(sr.kinematicsModels[qt],Yr)}function En(qt,Zt){for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"joint":Zt.joints[gn.getAttribute("sid")]=Fn(gn);break;case"link":Zt.links.push(Un(gn));break}}}function Fn(qt){let Zt;for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"prismatic":case"revolute":Zt=Vn(gn);break}}return Zt}function Vn(qt){const Zt={sid:qt.getAttribute("sid"),name:qt.getAttribute("name")||"",axis:new Vector3$1,limits:{min:0,max:0},type:qt.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"axis":const _n=ot(gn.textContent);Zt.axis.fromArray(_n);break;case"limits":const $n=gn.getElementsByTagName("max")[0],In=gn.getElementsByTagName("min")[0];Zt.limits.max=parseFloat($n.textContent),Zt.limits.min=parseFloat(In.textContent);break}}return Zt.limits.min>=Zt.limits.max&&(Zt.static=!0),Zt.middlePosition=(Zt.limits.min+Zt.limits.max)/2,Zt}function Un(qt){const Zt={sid:qt.getAttribute("sid"),name:qt.getAttribute("name")||"",attachments:[],transforms:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"attachment_full":Zt.attachments.push(Xn(gn));break;case"matrix":case"translate":case"rotate":Zt.transforms.push(ar(gn));break}}return Zt}function Xn(qt){const Zt={joint:qt.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"link":Zt.links.push(Un(gn));break;case"matrix":case"translate":case"rotate":Zt.transforms.push(ar(gn));break}}return Zt}function ar(qt){const Zt={type:qt.nodeName},pn=ot(qt.textContent);switch(Zt.type){case"matrix":Zt.obj=new Matrix4$1,Zt.obj.fromArray(pn).transpose();break;case"translate":Zt.obj=new Vector3$1,Zt.obj.fromArray(pn);break;case"rotate":Zt.obj=new Vector3$1,Zt.obj.fromArray(pn),Zt.angle=MathUtils.degToRad(pn[3]);break}return Zt}function cr(qt){const Zt={name:qt.getAttribute("name")||"",rigidBodies:{}};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"rigid_body":Zt.rigidBodies[gn.getAttribute("name")]={},fr(gn,Zt.rigidBodies[gn.getAttribute("name")]);break}}sr.physicsModels[qt.getAttribute("id")]=Zt}function fr(qt,Zt){for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"technique_common":dr(gn,Zt);break}}}function dr(qt,Zt){for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"inertia":Zt.inertia=ot(gn.textContent);break;case"mass":Zt.mass=ot(gn.textContent)[0];break}}}function yr(qt){const Zt={bindJointAxis:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"bind_joint_axis":Zt.bindJointAxis.push(hr(gn));break}}sr.kinematicsScenes[st(qt.getAttribute("url"))]=Zt}function hr(qt){const Zt={target:qt.getAttribute("target").split("/").pop()};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType===1)switch(gn.nodeName){case"axis":const _n=gn.getElementsByTagName("param")[0];Zt.axis=_n.textContent;const $n=Zt.axis.split("inst_").pop().split("axis")[0];Zt.jointIndex=$n.substring(0,$n.length-1);break}}return Zt}function gr(qt){return qt.build!==void 0?qt.build:qt}function xr(qt){return gt(sr.kinematicsScenes[qt],gr)}function Br(){const qt=Object.keys(sr.kinematicsModels)[0],Zt=Object.keys(sr.kinematicsScenes)[0],pn=Object.keys(sr.visualScenes)[0];if(qt===void 0||Zt===void 0)return;const gn=qr(qt),_n=xr(Zt),$n=ro(pn),In=_n.bindJointAxis,mn={};for(let Dn=0,On=In.length;Dn<On;Dn++){const Gn=In[Dn],Pn=Ar.querySelector('[sid="'+Gn.target+'"]');if(Pn){const jn=Pn.parentElement;wn(Gn.jointIndex,jn)}}function wn(Dn,On){const Gn=On.getAttribute("name"),Pn=gn.joints[Dn];$n.traverse(function(jn){jn.name===Gn&&(mn[Dn]={object:jn,transforms:Gr(On),joint:Pn,position:Pn.zeroPosition})})}const An=new Matrix4$1;eo={joints:gn&&gn.joints,getJointValue:function(Dn){const On=mn[Dn];if(On)return On.position;console.warn("THREE.ColladaLoader: Joint "+Dn+" doesn't exist.")},setJointValue:function(Dn,On){const Gn=mn[Dn];if(Gn){const Pn=Gn.joint;if(On>Pn.limits.max||On<Pn.limits.min)console.warn("THREE.ColladaLoader: Joint "+Dn+" value "+On+" outside of limits (min: "+Pn.limits.min+", max: "+Pn.limits.max+").");else if(Pn.static)console.warn("THREE.ColladaLoader: Joint "+Dn+" is static.");else{const jn=Gn.object,Yn=Pn.axis,tr=Gn.transforms;_r.identity();for(let rr=0;rr<tr.length;rr++){const lr=tr[rr];if(lr.sid&&lr.sid.indexOf(Dn)!==-1)switch(Pn.type){case"revolute":_r.multiply(An.makeRotationAxis(Yn,MathUtils.degToRad(On)));break;case"prismatic":_r.multiply(An.makeTranslation(Yn.x*On,Yn.y*On,Yn.z*On));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Pn.type);break}else switch(lr.type){case"matrix":_r.multiply(lr.obj);break;case"translate":_r.multiply(An.makeTranslation(lr.obj.x,lr.obj.y,lr.obj.z));break;case"scale":_r.scale(lr.obj);break;case"rotate":_r.multiply(An.makeRotationAxis(lr.obj,lr.angle));break}}jn.matrix.copy(_r),jn.matrix.decompose(jn.position,jn.quaternion,jn.scale),mn[Dn].position=On}}else console.log("THREE.ColladaLoader: "+Dn+" does not exist.")}}}function Gr(qt){const Zt=[],pn=Ar.querySelector('[id="'+qt.id+'"]');for(let gn=0;gn<pn.childNodes.length;gn++){const _n=pn.childNodes[gn];if(_n.nodeType!==1)continue;let $n,In;switch(_n.nodeName){case"matrix":$n=ot(_n.textContent);const mn=new Matrix4$1().fromArray($n).transpose();Zt.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:mn});break;case"translate":case"scale":$n=ot(_n.textContent),In=new Vector3$1().fromArray($n),Zt.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:In});break;case"rotate":$n=ot(_n.textContent),In=new Vector3$1().fromArray($n);const wn=MathUtils.degToRad($n[3]);Zt.push({sid:_n.getAttribute("sid"),type:_n.nodeName,obj:In,angle:wn});break}}return Zt}function zr(qt){const Zt=qt.getElementsByTagName("node");for(let pn=0;pn<Zt.length;pn++){const gn=Zt[pn];gn.hasAttribute("id")===!1&&gn.setAttribute("id",lt())}}const _r=new Matrix4$1,pr=new Vector3$1;function kr(qt){const Zt={name:qt.getAttribute("name")||"",type:qt.getAttribute("type"),id:qt.getAttribute("id"),sid:qt.getAttribute("sid"),matrix:new Matrix4$1,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];if(gn.nodeType!==1)continue;let _n;switch(gn.nodeName){case"node":Zt.nodes.push(gn.getAttribute("id")),kr(gn);break;case"instance_camera":Zt.instanceCameras.push(st(gn.getAttribute("url")));break;case"instance_controller":Zt.instanceControllers.push(Sr(gn));break;case"instance_light":Zt.instanceLights.push(st(gn.getAttribute("url")));break;case"instance_geometry":Zt.instanceGeometries.push(Sr(gn));break;case"instance_node":Zt.instanceNodes.push(st(gn.getAttribute("url")));break;case"matrix":_n=ot(gn.textContent),Zt.matrix.multiply(_r.fromArray(_n).transpose()),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"translate":_n=ot(gn.textContent),pr.fromArray(_n),Zt.matrix.multiply(_r.makeTranslation(pr.x,pr.y,pr.z)),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"rotate":_n=ot(gn.textContent);const $n=MathUtils.degToRad(_n[3]);Zt.matrix.multiply(_r.makeRotationAxis(pr.fromArray(_n),$n)),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"scale":_n=ot(gn.textContent),Zt.matrix.scale(pr.fromArray(_n)),Zt.transforms[gn.getAttribute("sid")]=gn.nodeName;break;case"extra":break;default:console.log(gn)}}return Kr(Zt.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",Zt.id):sr.nodes[Zt.id]=Zt,Zt}function Sr(qt){const Zt={id:st(qt.getAttribute("url")),materials:{},skeletons:[]};for(let pn=0;pn<qt.childNodes.length;pn++){const gn=qt.childNodes[pn];switch(gn.nodeName){case"bind_material":const _n=gn.getElementsByTagName("instance_material");for(let $n=0;$n<_n.length;$n++){const In=_n[$n],mn=In.getAttribute("symbol"),wn=In.getAttribute("target");Zt.materials[mn]=st(wn)}break;case"skeleton":Zt.skeletons.push(st(gn.textContent));break}}return Zt}function Dr(qt,Zt){const pn=[],gn=[];let _n,$n,In;for(_n=0;_n<qt.length;_n++){const An=qt[_n];let Dn;if(Kr(An))Dn=Mr(An),Or(Dn,Zt,pn);else if(co(An)){const Gn=sr.visualScenes[An].children;for(let Pn=0;Pn<Gn.length;Pn++){const jn=Gn[Pn];if(jn.type==="JOINT"){const Yn=Mr(jn.id);Or(Yn,Zt,pn)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",An)}for(_n=0;_n<Zt.length;_n++)for($n=0;$n<pn.length;$n++)if(In=pn[$n],In.bone.name===Zt[_n].name){gn[_n]=In,In.processed=!0;break}for(_n=0;_n<pn.length;_n++)In=pn[_n],In.processed===!1&&(gn.push(In),In.processed=!0);const mn=[],wn=[];for(_n=0;_n<gn.length;_n++)In=gn[_n],mn.push(In.bone),wn.push(In.boneInverse);return new Skeleton(mn,wn)}function Or(qt,Zt,pn){qt.traverse(function(gn){if(gn.isBone===!0){let _n;for(let $n=0;$n<Zt.length;$n++){const In=Zt[$n];if(In.name===gn.name){_n=In.boneInverse;break}}_n===void 0&&(_n=new Matrix4$1),pn.push({bone:gn,boneInverse:_n,processed:!1})}})}function Fr(qt){const Zt=[],pn=qt.matrix,gn=qt.nodes,_n=qt.type,$n=qt.instanceCameras,In=qt.instanceControllers,mn=qt.instanceLights,wn=qt.instanceGeometries,An=qt.instanceNodes;for(let On=0,Gn=gn.length;On<Gn;On++)Zt.push(Mr(gn[On]));for(let On=0,Gn=$n.length;On<Gn;On++){const Pn=Kn($n[On]);Pn!==null&&Zt.push(Pn.clone())}for(let On=0,Gn=In.length;On<Gn;On++){const Pn=In[On],jn=Jt(Pn.id),Yn=Ir(jn.id),tr=Ur(Yn,Pn.materials),rr=Pn.skeletons,lr=jn.skin.joints,or=Dr(rr,lr);for(let wr=0,br=tr.length;wr<br;wr++){const Cr=tr[wr];Cr.isSkinnedMesh&&(Cr.bind(or,jn.skin.bindMatrix),Cr.normalizeSkinWeights()),Zt.push(Cr)}}for(let On=0,Gn=mn.length;On<Gn;On++){const Pn=qn(mn[On]);Pn!==null&&Zt.push(Pn.clone())}for(let On=0,Gn=wn.length;On<Gn;On++){const Pn=wn[On],jn=Ir(Pn.id),Yn=Ur(jn,Pn.materials);for(let tr=0,rr=Yn.length;tr<rr;tr++)Zt.push(Yn[tr])}for(let On=0,Gn=An.length;On<Gn;On++)Zt.push(Mr(An[On]).clone());let Dn;if(gn.length===0&&Zt.length===1)Dn=Zt[0];else{Dn=_n==="JOINT"?new Bone$1:new Group$1;for(let On=0;On<Zt.length;On++)Dn.add(Zt[On])}return Dn.name=_n==="JOINT"?qt.sid:qt.name,Dn.matrix.copy(pn),Dn.matrix.decompose(Dn.position,Dn.quaternion,Dn.scale),Dn}const Zr=new MeshBasicMaterial$1({color:16711935});function Lr(qt,Zt){const pn=[];for(let gn=0,_n=qt.length;gn<_n;gn++){const $n=Zt[qt[gn]];$n===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",qt[gn]),pn.push(Zr)):pn.push(Ln($n))}return pn}function Ur(qt,Zt){const pn=[];for(const gn in qt){const _n=qt[gn],$n=Lr(_n.materialKeys,Zt);$n.length===0&&(gn==="lines"||gn==="linestrips"?$n.push(new LineBasicMaterial$1):$n.push(new MeshPhongMaterial$1));const In=_n.data.attributes.skinIndex!==void 0,mn=$n.length===1?$n[0]:$n;let wn;switch(gn){case"lines":wn=new LineSegments$1(_n.data,mn);break;case"linestrips":wn=new Line$1(_n.data,mn);break;case"triangles":case"polylist":In?wn=new SkinnedMesh$1(_n.data,mn):wn=new Mesh$1(_n.data,mn);break}pn.push(wn)}return pn}function Kr(qt){return sr.nodes[qt]!==void 0}function Mr(qt){return gt(sr.nodes[qt],Fr)}function lo(qt){const Zt={name:qt.getAttribute("name"),children:[]};zr(qt);const pn=rt(qt,"node");for(let gn=0;gn<pn.length;gn++)Zt.children.push(kr(pn[gn]));sr.visualScenes[qt.getAttribute("id")]=Zt}function oo(qt){const Zt=new Group$1;Zt.name=qt.name;const pn=qt.children;for(let gn=0;gn<pn.length;gn++){const _n=pn[gn];Zt.add(Mr(_n.id))}return Zt}function co(qt){return sr.visualScenes[qt]!==void 0}function ro(qt){return gt(sr.visualScenes[qt],oo)}function uo(qt){const Zt=rt(qt,"instance_visual_scene")[0];return ro(st(Zt.getAttribute("url")))}function no(){const qt=sr.clips;if(ct(qt)===!0){if(ct(sr.animations)===!1){const Zt=[];for(const pn in sr.animations){const gn=xt(pn);for(let _n=0,$n=gn.length;_n<$n;_n++)Zt.push(gn[_n])}jr.push(new AnimationClip$1("default",-1,Zt))}}else for(const Zt in qt)jr.push(Ut(Zt))}function fo(qt){let Zt="";const pn=[qt];for(;pn.length;){const gn=pn.shift();gn.nodeType===Node.TEXT_NODE?Zt+=gn.textContent:(Zt+=`
`,pn.push.apply(pn,gn.childNodes))}return Zt.trim()}if(et.length===0)return{scene:new Scene$1};const Xr=new DOMParser().parseFromString(et,"application/xml"),Ar=rt(Xr,"COLLADA")[0],Jr=Xr.getElementsByTagName("parsererror")[0];if(Jr!==void 0){const qt=rt(Jr,"div")[0];let Zt;return qt?Zt=qt.textContent:Zt=fo(Jr),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,Zt),null}const so=Ar.getAttribute("version");console.log("THREE.ColladaLoader: File version",so);const ao=ft(rt(Ar,"asset")[0]),Hr=new TextureLoader$1(this.manager);Hr.setPath(this.resourcePath||nt).setCrossOrigin(this.crossOrigin);let Qr;TGALoader&&(Qr=new TGALoader(this.manager),Qr.setPath(this.resourcePath||nt));const Vr=new Color$2,jr=[];let eo={},ho=0;const sr={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};ht(Ar,"library_animations","animation",mt),ht(Ar,"library_animation_clips","animation_clip",Ct),ht(Ar,"library_controllers","controller",At),ht(Ar,"library_images","image",Vt),ht(Ar,"library_effects","effect",Bt),ht(Ar,"library_materials","material",xn),ht(Ar,"library_cameras","camera",Mn),ht(Ar,"library_lights","light",kn),ht(Ar,"library_geometries","geometry",er),ht(Ar,"library_nodes","node",kr),ht(Ar,"library_visual_scenes","visual_scene",lo),ht(Ar,"library_kinematics_models","kinematics_model",Nr),ht(Ar,"library_physics_models","physics_model",cr),ht(Ar,"scene","instance_kinematics_scene",yr),pt(sr.animations,St),pt(sr.clips,Ot),pt(sr.controllers,Gt),pt(sr.images,Wt),pt(sr.effects,ln),pt(sr.materials,zn),pt(sr.cameras,Rn),pt(sr.lights,Qn),pt(sr.geometries,$r),pt(sr.visualScenes,oo),no(),Br();const Tn=uo(rt(Ar,"scene")[0]);return Tn.animations=jr,ao.upAxis==="Z_UP"&&Tn.quaternion.setFromEuler(new Euler$1(-Math.PI/2,0,0)),Tn.scale.multiplyScalar(ao.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),jr},kinematics:eo,library:sr,scene:Tn}}}const _Urdf=class extends Group$1{constructor(tt,et,nt){var rt,it;super(),__publicField$1(this,"robot"),__publicField$1(this,"meshs",[]),__publicField$1(this,"opacity",1),__publicField$1(this,"transparent",!1),__publicField$1(this,"color",new Color$2("white")),__publicField$1(this,"onLoad",ft=>{var ut,dt;if(this.robot=ft,(ut=this.configuration)!=null&&ut.endEffectorOnly)if(this.configuration.endEffectorLink){const ht=this.robot.links[this.configuration.endEffectorLink];this.add(ht)}else console.warn("URDF configured for endEffectorOnly but endEffectorLink not provided");else this.add(this.robot);(dt=this.onLoaded)==null||dt.call(this)}),__publicField$1(this,"setColor",ft=>{const{opacity:ut,transparent:dt}=this;this.meshs.forEach(ht=>{ht.material=new MeshPhongMaterial$1({opacity:ut,transparent:dt,color:ft})})}),__publicField$1(this,"getLink",ft=>{var ut;return ft?(ut=this.robot)==null?void 0:ut.links[ft]:void 0}),this.configuration=et,this.onLoaded=nt;const ot=new LoadingManager$1,at=new URDFLoader(ot);(rt=this.configuration)!=null&&rt.ghosted&&(this.color=new Color$2("lightgrey"),this.opacity=.25,this.transparent=!0),(it=this.configuration)!=null&&it.endEffectorOnly&&(this.color=new Color$2("green"),this.opacity=.005,this.transparent=!0);const{opacity:st,transparent:lt}=this;let{color:ct}=this;at.loadMeshCb=(ft,ut,dt)=>{new ColladaLoader(ut).load(ft,pt=>{pt.scene.children=pt.scene.children.filter(gt=>!gt.type.endsWith("Light")),pt.scene.traverse(gt=>{var mt,yt;if(gt instanceof Mesh$1){if(this.meshs.push(gt),gt.geometry.computeVertexNormals(),!((mt=this.configuration)!=null&&mt.ghosted)&&!((yt=this.configuration)!=null&&yt.endEffectorOnly)){let bt;Array.isArray(gt.material)?[bt]=gt.material:bt=gt.material,(bt instanceof MeshPhongMaterial$1||bt instanceof MeshStandardMaterial$1||bt instanceof MeshLambertMaterial$1||bt instanceof MeshBasicMaterial$1)&&(ct=bt.color)}gt.material=new MeshPhongMaterial$1({color:ct,opacity:st,transparent:lt})}}),dt(pt.scene)})},at.load(tt,this.onLoad)}static getUrdf(tt,et,nt,rt){const it=`${JSON.stringify(et)}.${tt}`;return _Urdf.urdfMap[it]===void 0?nt?(_Urdf.urdfMap[it]=new _Urdf(nt,et,rt),{urdf:_Urdf.urdfMap[it],loaded:!1}):{urdf:void 0,loaded:!1}:{urdf:_Urdf.urdfMap[it],loaded:!0}}set worldToLocalTransform(tt){tt?this.matrix.copy(transformMatrix(tt)):this.matrix.identity()}set jointState(tt){const{robot:et}=this;if(!et)return;const{name:nt}=tt;Object.keys(et.joints).forEach(rt=>{var it,ot,at,st,lt,ct;const ft=et.joints[rt],ut=nt.indexOf(rt),dt=(ot=(it=tt.effort)==null?void 0:it[ut])!=null?ot:0,ht=(st=(at=tt.position)==null?void 0:at[ut])!=null?st:0,pt=(ct=(lt=tt.velocity)==null?void 0:lt[ut])!=null?ct:0;ft.setJointValue(ht,dt,pt)})}};let Urdf=_Urdf;__publicField$1(Urdf,"urdfMap",{});async function loadURDFIntoBlob(tt){const et=await fetch(tt).then(it=>it.arrayBuffer()),nt=await jszip_min.exports.loadAsync(et),rt=Object.keys(nt.files).find(it=>it.toLowerCase().endsWith("urdf"));if(rt){let it=await nt.files[rt].async("string");const ot=Object.keys(nt.files).filter(lt=>lt.endsWith("png")&&lt!==rt),at={};await Promise.all(ot.map(async lt=>{const ct=nt.files[lt],ft=await nt.files[ct.name].async("arraybuffer");at[lt]=URL.createObjectURL(new Blob([ft],{type:"image/png"}))}));const st=Object.keys(nt.files).filter(lt=>!lt.endsWith(".png")&&lt!==rt);return await Promise.all(st.map(async lt=>{const ct=nt.files[lt];if(!ct.dir){let ft=await nt.files[ct.name].async("string");ot.forEach(dt=>{const ht=dt.split("/"),pt=ht[ht.length-1];ft=ft.replace(new RegExp(pt,"g"),at[dt].replace(`blob:${window.location.origin}/`,""))});const ut=URL.createObjectURL(new Blob([ft],{type:"text/plain"})).replace(`blob:${window.location.origin}/`,"");it=it.replace(new RegExp(`package://${lt}`,"g"),ut),it=it.replace(new RegExp(lt,"g"),ut)}})),URL.createObjectURL(new Blob([it],{type:"text/plain"}))}return!1}const _DeviceVisualUrdfLayer=class extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"urdf"),__publicField$1(this,"loaded",!1),__publicField$1(this,"loadAllUrdfs",tt=>{this.urdf=new Urdf(tt,void 0,this.onLoad),this.add(this.urdf)}),__publicField$1(this,"onLoad",()=>{this.loaded=!0}),__publicField$1(this,"onData",tt=>{this.urdf&&this.loaded&&(this.urdf.jointState=tt)})}static async getLayerSuggestions(tt,et){const nt=[];return et&&(await tt.getTeleopRosStreams(et)).forEach(rt=>{rt.topicType==="sensor_msgs/JointState"&&nt.push({sources:[{id:v4(),sourceType:"realtime",rosTopicName:rt.topicName,rosTopicType:rt.topicType}],layerType:_DeviceVisualUrdfLayer.layerTypeId})}),nt}init(){const tt=Math.PI/2;this.rotation.set(-tt,0,0);const et=defined$1(this.layerDataSources)[0];et&&et.sourceType==="realtime"&&this.layerContext&&(defined$1(this.universeData).subscribeToJointState(this.layerContext,defined$1(et),this.onData),defined$1(this.universeData).getUrdfs(defined$1(this.layerContext)).then(nt=>{nt.length!==0&&loadURDFIntoBlob(nt[0]).then(rt=>{rt!==!1&&this.loadAllUrdfs(rt)}).catch(rt=>{throw rt})}).catch(nt=>{throw nt}))}};let DeviceVisualUrdfLayer=_DeviceVisualUrdfLayer;__publicField$1(DeviceVisualUrdfLayer,"layerTypeId","device_visual_urdf");__publicField$1(DeviceVisualUrdfLayer,"commonName","URDF");__publicField$1(DeviceVisualUrdfLayer,"description","A 3D model to represent a robot.");__publicField$1(DeviceVisualUrdfLayer,"usesData",!0);const _box$1$1=new Box3$1,_vector=new Vector3$1;class LineSegmentsGeometry extends InstancedBufferGeometry$1{constructor(){super(),this.type="LineSegmentsGeometry";const et=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],nt=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],rt=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute$1(et,3)),this.setAttribute("uv",new Float32BufferAttribute$1(nt,2))}applyMatrix4(et){const nt=this.attributes.instanceStart,rt=this.attributes.instanceEnd;return nt!==void 0&&(nt.applyMatrix4(et),rt.applyMatrix4(et),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(et){let nt;et instanceof Float32Array?nt=et:Array.isArray(et)&&(nt=new Float32Array(et));const rt=new InstancedInterleavedBuffer$1(nt,6,1);return this.setAttribute("instanceStart",new InterleavedBufferAttribute$1(rt,3,0)),this.setAttribute("instanceEnd",new InterleavedBufferAttribute$1(rt,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(et){let nt;et instanceof Float32Array?nt=et:Array.isArray(et)&&(nt=new Float32Array(et));const rt=new InstancedInterleavedBuffer$1(nt,6,1);return this.setAttribute("instanceColorStart",new InterleavedBufferAttribute$1(rt,3,0)),this.setAttribute("instanceColorEnd",new InterleavedBufferAttribute$1(rt,3,3)),this}fromWireframeGeometry(et){return this.setPositions(et.attributes.position.array),this}fromEdgesGeometry(et){return this.setPositions(et.attributes.position.array),this}fromMesh(et){return this.fromWireframeGeometry(new WireframeGeometry(et.geometry)),this}fromLineSegments(et){const nt=et.geometry;if(nt.isGeometry){console.error("THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.");return}else nt.isBufferGeometry&&this.setPositions(nt.attributes.position.array);return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3$1);const et=this.attributes.instanceStart,nt=this.attributes.instanceEnd;et!==void 0&&nt!==void 0&&(this.boundingBox.setFromBufferAttribute(et),_box$1$1.setFromBufferAttribute(nt),this.boundingBox.union(_box$1$1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere$1),this.boundingBox===null&&this.computeBoundingBox();const et=this.attributes.instanceStart,nt=this.attributes.instanceEnd;if(et!==void 0&&nt!==void 0){const rt=this.boundingSphere.center;this.boundingBox.getCenter(rt);let it=0;for(let ot=0,at=et.count;ot<at;ot++)_vector.fromBufferAttribute(et,ot),it=Math.max(it,rt.distanceToSquared(_vector)),_vector.fromBufferAttribute(nt,ot),it=Math.max(it,rt.distanceToSquared(_vector));this.boundingSphere.radius=Math.sqrt(it),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(et){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(et)}}LineSegmentsGeometry.prototype.isLineSegmentsGeometry=!0;UniformsLib$1.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Vector2$1(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};ShaderLib$1.line={uniforms:UniformsUtils$1.merge([UniformsLib$1.common,UniformsLib$1.fog,UniformsLib$1.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				// get the offset direction as perpendicular to the view vector
				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 offset;
				if ( position.y < 0.5 ) {

					offset = normalize( cross( start.xyz, worldDir ) );

				} else {

					offset = normalize( cross( end.xyz, worldDir ) );

				}

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// extend the line bounds to encompass  endcaps
					start.xyz += - worldDir * linewidth * 0.5;
					end.xyz += worldDir * linewidth * 0.5;

					// shift the position of the quad so it hugs the forward edge of the line
					offset.xy -= dir * forwardOffset;
					offset.z += 0.5;

				#endif

				// endcaps
				if ( position.y > 1.0 || position.y < 0.0 ) {

					offset.xy += dir * 2.0 * forwardOffset;

				}

				// adjust for linewidth
				offset *= linewidth * 0.5;

				// set the world position
				worldPos = ( position.y < 0.5 ) ? start : end;
				worldPos.xyz += offset;

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <encodings_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class LineMaterial extends ShaderMaterial$1{constructor(et){super({type:"LineMaterial",uniforms:UniformsUtils$1.clone(ShaderLib$1.line.uniforms),vertexShader:ShaderLib$1.line.vertexShader,fragmentShader:ShaderLib$1.line.fragmentShader,clipping:!0}),Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(nt){this.uniforms.diffuse.value=nt}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(nt){nt===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(nt){this.uniforms.linewidth.value=nt}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(nt){Boolean(nt)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),nt===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(nt){this.uniforms.dashScale.value=nt}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(nt){this.uniforms.dashSize.value=nt}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(nt){this.uniforms.dashOffset.value=nt}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(nt){this.uniforms.gapSize.value=nt}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(nt){this.uniforms.opacity.value=nt}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(nt){this.uniforms.resolution.value.copy(nt)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(nt){Boolean(nt)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),nt===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(et)}}LineMaterial.prototype.isLineMaterial=!0;const _start$2=new Vector3$1,_end$2=new Vector3$1,_start4=new Vector4$1,_end4=new Vector4$1,_ssOrigin=new Vector4$1,_ssOrigin3=new Vector3$1,_mvMatrix=new Matrix4$1,_line=new Line3,_closestPoint=new Vector3$1,_box=new Box3$1,_sphere$4=new Sphere$1,_clipToWorldVector=new Vector4$1;let _ray$3,_instanceStart,_instanceEnd,_lineWidth;function getWorldSpaceHalfWidth(tt,et,nt){return _clipToWorldVector.set(0,0,-et,1).applyMatrix4(tt.projectionMatrix),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),_clipToWorldVector.x=_lineWidth/nt.width,_clipToWorldVector.y=_lineWidth/nt.height,_clipToWorldVector.applyMatrix4(tt.projectionMatrixInverse),_clipToWorldVector.multiplyScalar(1/_clipToWorldVector.w),Math.abs(Math.max(_clipToWorldVector.x,_clipToWorldVector.y))}function raycastWorldUnits(tt,et){for(let nt=0,rt=_instanceStart.count;nt<rt;nt++){_line.start.fromBufferAttribute(_instanceStart,nt),_line.end.fromBufferAttribute(_instanceEnd,nt);const it=new Vector3$1,ot=new Vector3$1;_ray$3.distanceSqToSegment(_line.start,_line.end,ot,it),ot.distanceTo(it)<_lineWidth*.5&&et.push({point:ot,pointOnLine:it,distance:_ray$3.origin.distanceTo(ot),object:tt,face:null,faceIndex:nt,uv:null,uv2:null})}}function raycastScreenSpace(tt,et,nt){const rt=et.projectionMatrix,ot=tt.material.resolution,at=tt.matrixWorld,st=tt.geometry,lt=st.attributes.instanceStart,ct=st.attributes.instanceEnd,ft=-et.near;_ray$3.at(1,_ssOrigin),_ssOrigin.w=1,_ssOrigin.applyMatrix4(et.matrixWorldInverse),_ssOrigin.applyMatrix4(rt),_ssOrigin.multiplyScalar(1/_ssOrigin.w),_ssOrigin.x*=ot.x/2,_ssOrigin.y*=ot.y/2,_ssOrigin.z=0,_ssOrigin3.copy(_ssOrigin),_mvMatrix.multiplyMatrices(et.matrixWorldInverse,at);for(let ut=0,dt=lt.count;ut<dt;ut++){if(_start4.fromBufferAttribute(lt,ut),_end4.fromBufferAttribute(ct,ut),_start4.w=1,_end4.w=1,_start4.applyMatrix4(_mvMatrix),_end4.applyMatrix4(_mvMatrix),_start4.z>ft&&_end4.z>ft)continue;if(_start4.z>ft){const bt=_start4.z-_end4.z,St=(_start4.z-ft)/bt;_start4.lerp(_end4,St)}else if(_end4.z>ft){const bt=_end4.z-_start4.z,St=(_end4.z-ft)/bt;_end4.lerp(_start4,St)}_start4.applyMatrix4(rt),_end4.applyMatrix4(rt),_start4.multiplyScalar(1/_start4.w),_end4.multiplyScalar(1/_end4.w),_start4.x*=ot.x/2,_start4.y*=ot.y/2,_end4.x*=ot.x/2,_end4.y*=ot.y/2,_line.start.copy(_start4),_line.start.z=0,_line.end.copy(_end4),_line.end.z=0;const pt=_line.closestPointToPointParameter(_ssOrigin3,!0);_line.at(pt,_closestPoint);const gt=MathUtils.lerp(_start4.z,_end4.z,pt),mt=gt>=-1&&gt<=1,yt=_ssOrigin3.distanceTo(_closestPoint)<_lineWidth*.5;if(mt&&yt){_line.start.fromBufferAttribute(lt,ut),_line.end.fromBufferAttribute(ct,ut),_line.start.applyMatrix4(at),_line.end.applyMatrix4(at);const bt=new Vector3$1,St=new Vector3$1;_ray$3.distanceSqToSegment(_line.start,_line.end,St,bt),nt.push({point:St,pointOnLine:bt,distance:_ray$3.origin.distanceTo(St),object:tt,face:null,faceIndex:ut,uv:null,uv2:null})}}}class LineSegments2 extends Mesh$1{constructor(et=new LineSegmentsGeometry,nt=new LineMaterial({color:Math.random()*16777215})){super(et,nt),this.type="LineSegments2"}computeLineDistances(){const et=this.geometry,nt=et.attributes.instanceStart,rt=et.attributes.instanceEnd,it=new Float32Array(2*nt.count);for(let at=0,st=0,lt=nt.count;at<lt;at++,st+=2)_start$2.fromBufferAttribute(nt,at),_end$2.fromBufferAttribute(rt,at),it[st]=st===0?0:it[st-1],it[st+1]=it[st]+_start$2.distanceTo(_end$2);const ot=new InstancedInterleavedBuffer$1(it,2,1);return et.setAttribute("instanceDistanceStart",new InterleavedBufferAttribute$1(ot,1,0)),et.setAttribute("instanceDistanceEnd",new InterleavedBufferAttribute$1(ot,1,1)),this}raycast(et,nt){const rt=this.material.worldUnits,it=et.camera;it===null&&!rt&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const ot=et.params.Line2!==void 0&&et.params.Line2.threshold||0;_ray$3=et.ray;const at=this.matrixWorld,st=this.geometry,lt=this.material;_lineWidth=lt.linewidth+ot,_instanceStart=st.attributes.instanceStart,_instanceEnd=st.attributes.instanceEnd,st.boundingSphere===null&&st.computeBoundingSphere(),_sphere$4.copy(st.boundingSphere).applyMatrix4(at);let ct;if(rt)ct=_lineWidth*.5;else{const ut=Math.max(it.near,_sphere$4.distanceToPoint(_ray$3.origin));ct=getWorldSpaceHalfWidth(it,ut,lt.resolution)}if(_sphere$4.radius+=ct,_ray$3.intersectsSphere(_sphere$4)===!1)return;st.boundingBox===null&&st.computeBoundingBox(),_box.copy(st.boundingBox).applyMatrix4(at);let ft;if(rt)ft=_lineWidth*.5;else{const ut=Math.max(it.near,_box.distanceToPoint(_ray$3.origin));ft=getWorldSpaceHalfWidth(it,ut,lt.resolution)}_box.expandByScalar(ft),_ray$3.intersectsBox(_box)!==!1&&(rt?raycastWorldUnits(this,nt):raycastScreenSpace(this,it,nt))}}LineSegments2.prototype.isLineSegments2=!0;class LineGeometry extends LineSegmentsGeometry{constructor(){super(),this.type="LineGeometry"}setPositions(et){const nt=et.length-3,rt=new Float32Array(2*nt);for(let it=0;it<nt;it+=3)rt[2*it]=et[it],rt[2*it+1]=et[it+1],rt[2*it+2]=et[it+2],rt[2*it+3]=et[it+3],rt[2*it+4]=et[it+4],rt[2*it+5]=et[it+5];return super.setPositions(rt),this}setColors(et){const nt=et.length-3,rt=new Float32Array(2*nt);for(let it=0;it<nt;it+=3)rt[2*it]=et[it],rt[2*it+1]=et[it+1],rt[2*it+2]=et[it+2],rt[2*it+3]=et[it+3],rt[2*it+4]=et[it+4],rt[2*it+5]=et[it+5];return super.setColors(rt),this}fromLine(et){const nt=et.geometry;if(nt.isGeometry){console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.");return}else nt.isBufferGeometry&&this.setPositions(nt.attributes.position.array);return this}}LineGeometry.prototype.isLineGeometry=!0;class Line2 extends LineSegments2{constructor(et=new LineGeometry,nt=new LineMaterial({color:Math.random()*16777215})){super(et,nt),this.type="Line2"}}Line2.prototype.isLine2=!0;function measurePixel(tt,et,nt){return tt.distanceTo(et.position)/nt.x*et.aspect}class Joint extends Group$1{constructor(et){super(),__publicField$1(this,"resolution",new Vector2$1),__publicField$1(this,"sphere"),this.camera=et;const nt=new MeshNormalMaterial$1;this.sphere=new Mesh$1(new SphereGeometry(.5,32,16),nt),this.add(this.sphere),this.matrixAutoUpdate=!1}update(){const{camera:et,resolution:nt}=this,rt=new Vector3$1().setFromMatrixPosition(this.sphere.matrixWorld),it=10*measurePixel(rt,et,nt);this.sphere.scale.set(it,it,it)}}class Pointer extends Group$1{constructor(et){super(),__publicField$1(this,"resolution",new Vector2$1),__publicField$1(this,"pointer"),this.camera=et;const nt=new MeshNormalMaterial$1;this.pointer=new Group$1;const rt=new Mesh$1(new ConeGeometry(.5,2,32,16),nt);rt.position.set(1,0,0),rt.rotation.set(0,0,Math.PI/2),this.pointer.add(rt),this.add(this.pointer),this.matrixAutoUpdate=!1}update(){const{camera:et,resolution:nt}=this,rt=new Vector3$1().setFromMatrixPosition(this.pointer.matrixWorld),it=10*measurePixel(rt,et,nt);this.pointer.scale.set(it,it,it)}}class Node$1$1 extends Group$1{constructor(et,nt){super(),__publicField$1(this,"nodeResolution",new Vector2$1),__publicField$1(this,"lineGeometry",new LineGeometry),__publicField$1(this,"lineMaterial",new LineMaterial({color:12240098,linewidth:1.5})),__publicField$1(this,"joint"),__publicField$1(this,"pointer"),__publicField$1(this,"line",new Line2(this.lineGeometry,this.lineMaterial)),__publicField$1(this,"nodes",{}),this.camera=et,this.matrixAutoUpdate=!1,this.joint=new Joint(et),nt||(this.add(this.joint),this.add(this.line))}set node(et){const{transform:nt,children:rt}=et,it=Object.keys(this.nodes),ot=(et.children||[]).map(ct=>ct.name);it.filter(ct=>!ot.includes(ct)).forEach(ct=>{this.remove(this.nodes[ct]),delete this.nodes[ct]});const st=transformMatrix(nt);ot.forEach(ct=>{let ft=this.nodes[ct];ft||(ft=new Node$1$1(this.camera),ft.resolution=this.nodeResolution,this.add(ft),this.nodes[ct]=ft);const ut=rt==null?void 0:rt.find(dt=>dt.name===ct);ut&&(ft.node=ut),ft.matrix.copy(st)});const lt=[new Vector3$1,vector(et.transform.translation)];this.lineGeometry=new LineGeometry,this.lineGeometry.setPositions(lt.map(({x:ct,y:ft,z:ut})=>[ct,ft,ut]).flat()),this.line.geometry=this.lineGeometry,this.terminal=!(rt!=null&&rt.length)&&!st.equals(new Matrix4$1().identity()),this.pointer&&this.pointer.matrix.copy(st)}set terminal(et){et!==!!this.pointer&&(!et&&this.pointer&&this.remove(this.pointer),et&&(this.pointer=new Pointer(this.camera),this.pointer.resolution=this.nodeResolution,this.add(this.pointer)))}set resolution(et){this.nodeResolution=et,this.lineMaterial.resolution=et,this.joint.resolution=et,this.pointer&&(this.pointer.resolution=et),Object.values(this.nodes).forEach(nt=>{nt.resolution=et})}update(){this.joint.update(),this.pointer&&this.pointer.update(),Object.values(this.nodes).forEach(et=>{et.update()})}}class Trail extends Group$1{constructor(et){if(super(),__publicField$1(this,"material",new LineMaterial({transparent:!0,color:1626879,linewidth:1.5,depthTest:!1,dashScale:100,dashSize:1,gapSize:.5})),__publicField$1(this,"line"),et){const{r:nt,g:rt,b:it}=et;this.material.color.setRGB(nt/255,rt/255,it/255)}Object.defineProperty(this,"renderOrder",{get(){return this.line?this.line.renderOrder:super.renderOrder},set(nt){this.line&&(this.line.renderOrder=nt)}})}set vertices(et){var nt;const rt=new LineGeometry;this.material.uniforms.opacity.value=.5,this.material.defines.USE_DASH="",et.length>1?(this.line||(this.line=new Line2(rt,this.material),this.add(this.line)),rt.setPositions(et.map(({x:it,y:ot,z:at})=>[it,ot,at]).flat()),this.line.geometry=rt):this.line&&(this.remove(this.line),this.line=void 0),(nt=this.line)==null||nt.computeLineDistances()}set resolution(et){this.material.resolution=et}}const colors=["#20a0ff","#ea719d","#795bce","#f89973","#f9c36e","#2ec495","#64d7d4","#9a8261","#94645f","#7f5072","#564a94","#256faf","#4a8d98","#2d8376"].map(tt=>defined$1(Color$1.fromString(tt)));class Trails extends Group$1{constructor(){super(...arguments),__publicField$1(this,"trailsResolution",new Vector2$1),__publicField$1(this,"trails",[])}set vertices(et){for(let nt=et.length;nt<this.trails.length;nt+=1)this.remove(this.trails[nt]),delete this.trails[nt];for(let nt=0;nt<et.length;nt+=1)this.trails[nt]||(this.trails[nt]=new Trail(colors[nt]),this.trails[nt].resolution=this.trailsResolution,this.add(this.trails[nt])),this.trails[nt].vertices=et[nt].slice(-10)}set resolution(et){this.trailsResolution=et,Object.values(this.trails).forEach(nt=>{nt.resolution=et})}}function calculateEnds(tt){const{name:et,transform:nt,children:rt}=tt;if(!(rt!=null&&rt.length))return{[et]:vector(tt.transform.translation)};const it={};return rt.forEach(ot=>{const at=calculateEnds(ot);Object.keys(at).forEach(st=>{it[st]=vector(at[st]).applyMatrix4(transformMatrix(nt))})}),it}function calculateTrails(tt){const et={};return tt.forEach(nt=>{const rt=calculateEnds(nt);Object.keys(rt).forEach(it=>{et[it]=et[it]||[],et[it].push(rt[it])})}),et}class TransformTreeTrails extends Group$1{constructor(){super(),__publicField$1(this,"trails"),this.trails=new Trails,this.add(this.trails)}set nodes(et){this.trails.vertices=Object.values(calculateTrails(et))}set resolution(et){this.trails.resolution=et}}class TransformTree extends Group$1{constructor(et){super(),__publicField$1(this,"transformTreeResolution",new Vector2$1(0,0)),__publicField$1(this,"trails"),__publicField$1(this,"root"),this.camera=et,this.trails=new TransformTreeTrails,this.trails.resolution=this.transformTreeResolution,this.add(this.trails)}set nodes(et){var nt;this.trails.nodes=et;const rt=(nt=et.slice(-1))==null?void 0:nt[0];if(rt){let{root:it}=this;it||(it=new Node$1$1(this.camera,"root"),it.resolution=this.transformTreeResolution,this.add(it),this.root=it),it.node=rt}else{const{root:it}=this;it&&(this.remove(it),this.root=void 0)}}set resolution(et){this.transformTreeResolution=et,this.trails.resolution=et,this.root&&(this.root.resolution=et)}update(){this.root&&this.root.update()}}const _DeviceVisualTFLayer=class extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"transformTree"),__publicField$1(this,"onTransformTreeData",async tt=>{let et;tt.url&&(et=await(await fetch(tt.url)).json()),et&&this.transformTree&&(this.transformTree.nodes=[et],this.transformTree.resolution=new Vector2$1(600,400),this.transformTree.update())})}static async getLayerSuggestions(tt,et){const nt=[];return et&&await Promise.all((await tt.getTelemetryStreams(et)).map(async rt=>{await tt.getTelemetryStreamType(et,rt.name)==="transform tree"&&nt.push({sources:[{id:v4(),sourceType:"telemetry",streamName:rt.name,streamType:"transform tree"}],layerType:_DeviceVisualTFLayer.layerTypeId})})),nt}init(){const tt=defined$1(this.layerDataSources)[0];this.camera&&(this.transformTree=new TransformTree(this.camera()),this.add(this.transformTree),defined$1(this.universeData).subscribeToTransformTree(defined$1(this.layerContext),defined$1(tt),this.onTransformTreeData))}};let DeviceVisualTFLayer=_DeviceVisualTFLayer;__publicField$1(DeviceVisualTFLayer,"layerTypeId","device_visual_tf");__publicField$1(DeviceVisualTFLayer,"commonName","Transform Tree");__publicField$1(DeviceVisualTFLayer,"description","A transform tree to represent a robot.");__publicField$1(DeviceVisualTFLayer,"usesData",!0);const throttle=(tt,et)=>{let nt,rt;return(...it)=>{const ot=rt!==void 0?Math.max(0,rt+et-Date.now()):0;it.length===0&&nt||(nt&&clearTimeout(nt),nt=setTimeout(()=>{tt(...it),nt=void 0,rt=Date.now()},ot))}};function extractLayerFieldValues(tt){const et={};return Object.entries(tt).forEach(([nt,rt])=>{et[nt]={type:rt.type,value:rt.value,location:rt.location}}),et}function injectLayerFieldValues(tt,et){Object.entries(et).forEach(([nt,rt])=>{tt[nt].value=rt.value})}class SceneGraphElement{constructor(et,nt,rt,it,ot){__publicField$1(this,"children",[]),__publicField$1(this,"id"),__publicField$1(this,"visible",!0),__publicField$1(this,"editing",!1),__publicField$1(this,"position",{type:"manual",x:0,y:0,z:0}),__publicField$1(this,"fieldValues",{}),this.name=et,this.type=nt,this.data=rt,this.dataSources=it,this.deviceContext=ot,this.id=v4()}}function visitSceneGraphElement(tt,et,nt){const rt=nt||[];et(tt,rt)!==!1&&tt.children.length>0&&tt.children.forEach((ot,at)=>{visitSceneGraphElement(ot,et,[...rt,at])})}function cloneSceneGraph(tt){const et=JSON.parse(JSON.stringify(tt));return visitSceneGraphElement(et,nt=>{nt.id=v4(),nt.visible=!0,nt.editing=!1}),et}function visitSceneGraphElementReverse(tt,et,nt){const rt=nt||[];tt.children.length>0&&tt.children.forEach((it,ot)=>{visitSceneGraphElementReverse(it,et,[...rt,ot])}),et(tt,rt)}function findSceneGraphElement(tt,et){if(et.length===0)return null;const nt=tt[et[0]];if(!nt)return null;const rt=et.slice(1);return rt.length===0?nt:findSceneGraphElement(nt.children,rt)}function getSceneGraphElementParent(tt,et){if(et.length===0)return null;const nt=et.slice(0,et.length-1);return findSceneGraphElement(tt,nt)}function findSceneGraphParentElement(tt,et,nt){if(et.length===0)return null;const rt=et.slice(0,et.length-1),it=findSceneGraphElement(tt,rt);return it?nt(it)?it:findSceneGraphParentElement(it.children,et,nt):null}function treePathEquals(tt,et){return tt.length!==et.length?!1:tt.every((nt,rt)=>nt===et[rt])}const IconDiv=styled.div`
  > svg {
    margin-bottom: -0.3rem;
    margin-left: 0.3rem;
  }
  display: inline-block;
`,TitleSpan=styled.span`
  max-width: 20rem;
  text-overflow: ellipsis;
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
`,TreeItemDiv=styled.div`
  cursor: pointer;
  margin-top: 0.5rem;
  margin-bottom: 0rem;
  border-bottom: #3b4668 solid 1px;
`,IconsDiv=styled.div`
  float: right;
`;function SortableTree(tt){const et=(st,lt)=>{tt.onIconSelected&&tt.onIconSelected(st,lt)},nt=st=>{tt.onSelected&&tt.onSelected(st)},rt=st=>{nt(st)},it=(st,lt)=>{et(st,lt)},ot=(st,lt=[])=>{const{selected:ct}=tt;return st.map((ft,ut)=>{const dt=[...lt,ut],ht=ct&&ct.length===dt.length&&ct.every((pt,gt)=>pt===dt[gt]);return react.exports.createElement(react.exports.Fragment,{key:`tree_item${dt.join("-")}`},react.exports.createElement(TreeItemDiv,null,react.exports.createElement("span",{style:{marginLeft:`${(dt.length-1)*1}rem`,color:ht?"#18d2ff":"#BAC4E2"}},react.exports.createElement(TitleSpan,{onClick:rt.bind(void 0,dt),"data-tooltip":ft.title},react.exports.createElement(Typography$1,{variant:"body1"},dt.length>1&&react.exports.createElement("span",null,"\u2014 "),ft.title,ft.textColor&&react.exports.createElement(react.exports.Fragment,null," ",react.exports.createElement(Icon,{name:"device",sx:{color:ft.textColor,width:"1rem",height:"1rem"}}))))),react.exports.createElement(IconsDiv,null,ft.icons&&ft.icons.map((pt,gt)=>react.exports.createElement(IconDiv,{key:`tree_item_icon${dt.join("-")}-${dt.map(mt=>mt.toString()).join("-")}+${pt.icon}`},react.exports.createElement(Tooltip$1,{title:pt.description},react.exports.createElement("div",{tabIndex:gt,role:"button",onClick:it.bind(void 0,dt,gt)},react.exports.createElement(Icon,{name:pt.icon,sx:{color:pt.color,width:"1rem",height:"1rem"}}))))))),react.exports.createElement("div",null,ft.children&&ot(ft.children,dt)))})},{items:at}=tt;return react.exports.createElement("div",null,ot(at,[]))}const SidebarContainer=styled.div`
  background-color: #2d3855;
  padding: 1rem;
  display: grid;
  grid-template-rows: 25rem auto 3rem;
  gap: 1rem;
  height: 100%;
`,PropertiesSectionDiv=styled.div`
  display: grid;
  margin-bottom: 2rem;
`,ButtonsDiv=styled.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
`,TreeArea=styled.div`
  overflow-y: scroll;
  padding-right: 1rem;
`;function UniverseSidebar({onRename:tt,onAdd:et,onRemove:nt,onDuplicate:rt,onIconInteracted:it,onItemSelected:ot,tree:at,children:st}){const[lt,ct]=React__default$2.useState(void 0),ft=mt=>{const yt=lt&&treePathEquals(lt,mt);ct(yt?void 0:mt),ot(yt?void 0:mt.slice(1))},ut=(mt,yt)=>{it&&it(mt.slice(1),yt)},dt=()=>{et((lt==null?void 0:lt.slice(1))||[])},ht=()=>{nt((lt==null?void 0:lt.slice(1))||[]),ct(void 0)},pt=()=>{rt((lt==null?void 0:lt.slice(1))||[])},gt=()=>{tt((lt==null?void 0:lt.slice(1))||[])};return React__default$2.createElement(SidebarContainer,null," ",React__default$2.createElement(TreeArea,null,React__default$2.createElement(SortableTree,{items:at,selected:lt,onSelected:ft,onIconSelected:ut})),React__default$2.createElement(PropertiesSectionDiv,null,st),React__default$2.createElement(ButtonsDiv,null,React__default$2.createElement(Button$1,{variant:"contained",size:"small",onClick:dt},"Add"),React__default$2.createElement(Button$1,{variant:"contained",size:"small",disabled:lt===void 0||lt.length<=1,onClick:ht},"Remove"),React__default$2.createElement(Button$1,{variant:"contained",size:"small",disabled:lt===void 0||lt.length<=1,onClick:pt},"Duplicate"),React__default$2.createElement(Button$1,{variant:"contained",size:"small",disabled:lt===void 0||lt.length<=1,onClick:gt},"Rename")))}const _changeEvent$1={type:"change"},_startEvent={type:"start"},_endEvent={type:"end"};class OrbitControls extends EventDispatcher$1{constructor(et,nt){super(),nt===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),nt===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=et,this.domElement=nt,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Vector3$1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN},this.touches={ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return st.phi},this.getAzimuthalAngle=function(){return st.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Mn){Mn.addEventListener("keydown",Cn),this._domElementKeyEvents=Mn},this.saveState=function(){rt.target0.copy(rt.target),rt.position0.copy(rt.object.position),rt.zoom0=rt.object.zoom},this.reset=function(){rt.target.copy(rt.target0),rt.object.position.copy(rt.position0),rt.object.zoom=rt.zoom0,rt.object.updateProjectionMatrix(),rt.dispatchEvent(_changeEvent$1),rt.update(),ot=it.NONE},this.update=function(){const Mn=new Vector3$1,Wn=new Quaternion$1().setFromUnitVectors(et.up,new Vector3$1(0,1,0)),Jn=Wn.clone().invert(),Zn=new Vector3$1,Rn=new Quaternion$1,Kn=2*Math.PI;return function(){const Bn=rt.object.position;Mn.copy(Bn).sub(rt.target),Mn.applyQuaternion(Wn),st.setFromVector3(Mn),rt.autoRotate&&ot===it.NONE&&wt(zt()),rt.enableDamping?(st.theta+=lt.theta*rt.dampingFactor,st.phi+=lt.phi*rt.dampingFactor):(st.theta+=lt.theta,st.phi+=lt.phi);let Hn=rt.minAzimuthAngle,Qn=rt.maxAzimuthAngle;return isFinite(Hn)&&isFinite(Qn)&&(Hn<-Math.PI?Hn+=Kn:Hn>Math.PI&&(Hn-=Kn),Qn<-Math.PI?Qn+=Kn:Qn>Math.PI&&(Qn-=Kn),Hn<=Qn?st.theta=Math.max(Hn,Math.min(Qn,st.theta)):st.theta=st.theta>(Hn+Qn)/2?Math.max(Hn,st.theta):Math.min(Qn,st.theta)),st.phi=Math.max(rt.minPolarAngle,Math.min(rt.maxPolarAngle,st.phi)),st.makeSafe(),st.radius*=ct,st.radius=Math.max(rt.minDistance,Math.min(rt.maxDistance,st.radius)),rt.enableDamping===!0?rt.target.addScaledVector(ft,rt.dampingFactor):rt.target.add(ft),Mn.setFromSpherical(st),Mn.applyQuaternion(Jn),Bn.copy(rt.target).add(Mn),rt.object.lookAt(rt.target),rt.enableDamping===!0?(lt.theta*=1-rt.dampingFactor,lt.phi*=1-rt.dampingFactor,ft.multiplyScalar(1-rt.dampingFactor)):(lt.set(0,0,0),ft.set(0,0,0)),ct=1,ut||Zn.distanceToSquared(rt.object.position)>at||8*(1-Rn.dot(rt.object.quaternion))>at?(rt.dispatchEvent(_changeEvent$1),Zn.copy(rt.object.position),Rn.copy(rt.object.quaternion),ut=!1,!0):!1}}(),this.dispose=function(){rt.domElement.removeEventListener("contextmenu",bn),rt.domElement.removeEventListener("pointerdown",Yt),rt.domElement.removeEventListener("pointercancel",Kt),rt.domElement.removeEventListener("wheel",Sn),rt.domElement.removeEventListener("pointermove",yn),rt.domElement.removeEventListener("pointerup",Qt),rt._domElementKeyEvents!==null&&rt._domElementKeyEvents.removeEventListener("keydown",Cn)};const rt=this,it={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let ot=it.NONE;const at=1e-6,st=new Spherical,lt=new Spherical;let ct=1;const ft=new Vector3$1;let ut=!1;const dt=new Vector2$1,ht=new Vector2$1,pt=new Vector2$1,gt=new Vector2$1,mt=new Vector2$1,yt=new Vector2$1,bt=new Vector2$1,St=new Vector2$1,xt=new Vector2$1,vt=[],$t={};function zt(){return 2*Math.PI/60/60*rt.autoRotateSpeed}function Nt(){return Math.pow(.95,rt.zoomSpeed)}function wt(Mn){lt.theta-=Mn}function Et(Mn){lt.phi-=Mn}const Rt=function(){const Mn=new Vector3$1;return function(Jn,Zn){Mn.setFromMatrixColumn(Zn,0),Mn.multiplyScalar(-Jn),ft.add(Mn)}}(),Tt=function(){const Mn=new Vector3$1;return function(Jn,Zn){rt.screenSpacePanning===!0?Mn.setFromMatrixColumn(Zn,1):(Mn.setFromMatrixColumn(Zn,0),Mn.crossVectors(rt.object.up,Mn)),Mn.multiplyScalar(Jn),ft.add(Mn)}}(),It=function(){const Mn=new Vector3$1;return function(Jn,Zn){const Rn=rt.domElement;if(rt.object.isPerspectiveCamera){const Kn=rt.object.position;Mn.copy(Kn).sub(rt.target);let kn=Mn.length();kn*=Math.tan(rt.object.fov/2*Math.PI/180),Rt(2*Jn*kn/Rn.clientHeight,rt.object.matrix),Tt(2*Zn*kn/Rn.clientHeight,rt.object.matrix)}else rt.object.isOrthographicCamera?(Rt(Jn*(rt.object.right-rt.object.left)/rt.object.zoom/Rn.clientWidth,rt.object.matrix),Tt(Zn*(rt.object.top-rt.object.bottom)/rt.object.zoom/Rn.clientHeight,rt.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),rt.enablePan=!1)}}();function Pt(Mn){rt.object.isPerspectiveCamera?ct/=Mn:rt.object.isOrthographicCamera?(rt.object.zoom=Math.max(rt.minZoom,Math.min(rt.maxZoom,rt.object.zoom*Mn)),rt.object.updateProjectionMatrix(),ut=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),rt.enableZoom=!1)}function Dt(Mn){rt.object.isPerspectiveCamera?ct*=Mn:rt.object.isOrthographicCamera?(rt.object.zoom=Math.max(rt.minZoom,Math.min(rt.maxZoom,rt.object.zoom/Mn)),rt.object.updateProjectionMatrix(),ut=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),rt.enableZoom=!1)}function Ct(Mn){dt.set(Mn.clientX,Mn.clientY)}function Ot(Mn){bt.set(Mn.clientX,Mn.clientY)}function Ut(Mn){gt.set(Mn.clientX,Mn.clientY)}function At(Mn){ht.set(Mn.clientX,Mn.clientY),pt.subVectors(ht,dt).multiplyScalar(rt.rotateSpeed);const Wn=rt.domElement;wt(2*Math.PI*pt.x/Wn.clientHeight),Et(2*Math.PI*pt.y/Wn.clientHeight),dt.copy(ht),rt.update()}function Mt(Mn){St.set(Mn.clientX,Mn.clientY),xt.subVectors(St,bt),xt.y>0?Pt(Nt()):xt.y<0&&Dt(Nt()),bt.copy(St),rt.update()}function jt(Mn){mt.set(Mn.clientX,Mn.clientY),yt.subVectors(mt,gt).multiplyScalar(rt.panSpeed),It(yt.x,yt.y),gt.copy(mt),rt.update()}function kt(Mn){Mn.deltaY<0?Dt(Nt()):Mn.deltaY>0&&Pt(Nt()),rt.update()}function Gt(Mn){let Wn=!1;switch(Mn.code){case rt.keys.UP:It(0,rt.keyPanSpeed),Wn=!0;break;case rt.keys.BOTTOM:It(0,-rt.keyPanSpeed),Wn=!0;break;case rt.keys.LEFT:It(rt.keyPanSpeed,0),Wn=!0;break;case rt.keys.RIGHT:It(-rt.keyPanSpeed,0),Wn=!0;break}Wn&&(Mn.preventDefault(),rt.update())}function Ht(){if(vt.length===1)dt.set(vt[0].pageX,vt[0].pageY);else{const Mn=.5*(vt[0].pageX+vt[1].pageX),Wn=.5*(vt[0].pageY+vt[1].pageY);dt.set(Mn,Wn)}}function Jt(){if(vt.length===1)gt.set(vt[0].pageX,vt[0].pageY);else{const Mn=.5*(vt[0].pageX+vt[1].pageX),Wn=.5*(vt[0].pageY+vt[1].pageY);gt.set(Mn,Wn)}}function Vt(){const Mn=vt[0].pageX-vt[1].pageX,Wn=vt[0].pageY-vt[1].pageY,Jn=Math.sqrt(Mn*Mn+Wn*Wn);bt.set(0,Jn)}function Wt(){rt.enableZoom&&Vt(),rt.enablePan&&Jt()}function Lt(){rt.enableZoom&&Vt(),rt.enableRotate&&Ht()}function Bt(Mn){if(vt.length==1)ht.set(Mn.pageX,Mn.pageY);else{const Jn=Ln(Mn),Zn=.5*(Mn.pageX+Jn.x),Rn=.5*(Mn.pageY+Jn.y);ht.set(Zn,Rn)}pt.subVectors(ht,dt).multiplyScalar(rt.rotateSpeed);const Wn=rt.domElement;wt(2*Math.PI*pt.x/Wn.clientHeight),Et(2*Math.PI*pt.y/Wn.clientHeight),dt.copy(ht)}function Ft(Mn){if(vt.length===1)mt.set(Mn.pageX,Mn.pageY);else{const Wn=Ln(Mn),Jn=.5*(Mn.pageX+Wn.x),Zn=.5*(Mn.pageY+Wn.y);mt.set(Jn,Zn)}yt.subVectors(mt,gt).multiplyScalar(rt.panSpeed),It(yt.x,yt.y),gt.copy(mt)}function sn(Mn){const Wn=Ln(Mn),Jn=Mn.pageX-Wn.x,Zn=Mn.pageY-Wn.y,Rn=Math.sqrt(Jn*Jn+Zn*Zn);St.set(0,Rn),xt.set(0,Math.pow(St.y/bt.y,rt.zoomSpeed)),Pt(xt.y),bt.copy(St)}function Xt(Mn){rt.enableZoom&&sn(Mn),rt.enablePan&&Ft(Mn)}function dn(Mn){rt.enableZoom&&sn(Mn),rt.enableRotate&&Bt(Mn)}function Yt(Mn){rt.enabled!==!1&&(vt.length===0&&(rt.domElement.setPointerCapture(Mn.pointerId),rt.domElement.addEventListener("pointermove",yn),rt.domElement.addEventListener("pointerup",Qt)),xn(Mn),Mn.pointerType==="touch"?cn(Mn):hn(Mn))}function yn(Mn){rt.enabled!==!1&&(Mn.pointerType==="touch"?ln(Mn):vn(Mn))}function Qt(Mn){Nn(Mn),vt.length===0&&(rt.domElement.releasePointerCapture(Mn.pointerId),rt.domElement.removeEventListener("pointermove",yn),rt.domElement.removeEventListener("pointerup",Qt)),rt.dispatchEvent(_endEvent),ot=it.NONE}function Kt(Mn){Nn(Mn)}function hn(Mn){let Wn;switch(Mn.button){case 0:Wn=rt.mouseButtons.LEFT;break;case 1:Wn=rt.mouseButtons.MIDDLE;break;case 2:Wn=rt.mouseButtons.RIGHT;break;default:Wn=-1}switch(Wn){case MOUSE.DOLLY:if(rt.enableZoom===!1)return;Ot(Mn),ot=it.DOLLY;break;case MOUSE.ROTATE:if(Mn.ctrlKey||Mn.metaKey||Mn.shiftKey){if(rt.enablePan===!1)return;Ut(Mn),ot=it.PAN}else{if(rt.enableRotate===!1)return;Ct(Mn),ot=it.ROTATE}break;case MOUSE.PAN:if(Mn.ctrlKey||Mn.metaKey||Mn.shiftKey){if(rt.enableRotate===!1)return;Ct(Mn),ot=it.ROTATE}else{if(rt.enablePan===!1)return;Ut(Mn),ot=it.PAN}break;default:ot=it.NONE}ot!==it.NONE&&rt.dispatchEvent(_startEvent)}function vn(Mn){if(rt.enabled!==!1)switch(ot){case it.ROTATE:if(rt.enableRotate===!1)return;At(Mn);break;case it.DOLLY:if(rt.enableZoom===!1)return;Mt(Mn);break;case it.PAN:if(rt.enablePan===!1)return;jt(Mn);break}}function Sn(Mn){rt.enabled===!1||rt.enableZoom===!1||ot!==it.NONE||(Mn.preventDefault(),rt.dispatchEvent(_startEvent),kt(Mn),rt.dispatchEvent(_endEvent))}function Cn(Mn){rt.enabled===!1||rt.enablePan===!1||Gt(Mn)}function cn(Mn){switch(zn(Mn),vt.length){case 1:switch(rt.touches.ONE){case TOUCH.ROTATE:if(rt.enableRotate===!1)return;Ht(),ot=it.TOUCH_ROTATE;break;case TOUCH.PAN:if(rt.enablePan===!1)return;Jt(),ot=it.TOUCH_PAN;break;default:ot=it.NONE}break;case 2:switch(rt.touches.TWO){case TOUCH.DOLLY_PAN:if(rt.enableZoom===!1&&rt.enablePan===!1)return;Wt(),ot=it.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(rt.enableZoom===!1&&rt.enableRotate===!1)return;Lt(),ot=it.TOUCH_DOLLY_ROTATE;break;default:ot=it.NONE}break;default:ot=it.NONE}ot!==it.NONE&&rt.dispatchEvent(_startEvent)}function ln(Mn){switch(zn(Mn),ot){case it.TOUCH_ROTATE:if(rt.enableRotate===!1)return;Bt(Mn),rt.update();break;case it.TOUCH_PAN:if(rt.enablePan===!1)return;Ft(Mn),rt.update();break;case it.TOUCH_DOLLY_PAN:if(rt.enableZoom===!1&&rt.enablePan===!1)return;Xt(Mn),rt.update();break;case it.TOUCH_DOLLY_ROTATE:if(rt.enableZoom===!1&&rt.enableRotate===!1)return;dn(Mn),rt.update();break;default:ot=it.NONE}}function bn(Mn){rt.enabled!==!1&&Mn.preventDefault()}function xn(Mn){vt.push(Mn)}function Nn(Mn){delete $t[Mn.pointerId];for(let Wn=0;Wn<vt.length;Wn++)if(vt[Wn].pointerId==Mn.pointerId){vt.splice(Wn,1);return}}function zn(Mn){let Wn=$t[Mn.pointerId];Wn===void 0&&(Wn=new Vector2$1,$t[Mn.pointerId]=Wn),Wn.set(Mn.pageX,Mn.pageY)}function Ln(Mn){const Wn=Mn.pointerId===vt[0].pointerId?vt[1]:vt[0];return $t[Wn.pointerId]}rt.domElement.addEventListener("contextmenu",bn),rt.domElement.addEventListener("pointerdown",Yt),rt.domElement.addEventListener("pointercancel",Kt),rt.domElement.addEventListener("wheel",Sn,{passive:!1}),this.update()}}const _raycaster=new Raycaster,_tempVector=new Vector3$1,_tempVector2=new Vector3$1,_tempQuaternion=new Quaternion$1,_unit={X:new Vector3$1(1,0,0),Y:new Vector3$1(0,1,0),Z:new Vector3$1(0,0,1)},_changeEvent={type:"change"},_mouseDownEvent={type:"mouseDown"},_mouseUpEvent={type:"mouseUp",mode:null},_objectChangeEvent={type:"objectChange"};class TransformControls extends Object3D$1{constructor(et,nt){super(),nt===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),nt=document),this.visible=!1,this.domElement=nt,this.domElement.style.touchAction="none";const rt=new TransformControlsGizmo;this._gizmo=rt,this.add(rt);const it=new TransformControlsPlane;this._plane=it,this.add(it);const ot=this;function at(bt,St){let xt=St;Object.defineProperty(ot,bt,{get:function(){return xt!==void 0?xt:St},set:function(vt){xt!==vt&&(xt=vt,it[bt]=vt,rt[bt]=vt,ot.dispatchEvent({type:bt+"-changed",value:vt}),ot.dispatchEvent(_changeEvent))}}),ot[bt]=St,it[bt]=St,rt[bt]=St}at("camera",et),at("object",void 0),at("enabled",!0),at("axis",null),at("mode","translate"),at("translationSnap",null),at("rotationSnap",null),at("scaleSnap",null),at("space","world"),at("size",1),at("dragging",!1),at("showX",!0),at("showY",!0),at("showZ",!0);const st=new Vector3$1,lt=new Vector3$1,ct=new Quaternion$1,ft=new Quaternion$1,ut=new Vector3$1,dt=new Quaternion$1,ht=new Vector3$1,pt=new Vector3$1,gt=new Vector3$1,mt=0,yt=new Vector3$1;at("worldPosition",st),at("worldPositionStart",lt),at("worldQuaternion",ct),at("worldQuaternionStart",ft),at("cameraPosition",ut),at("cameraQuaternion",dt),at("pointStart",ht),at("pointEnd",pt),at("rotationAxis",gt),at("rotationAngle",mt),at("eye",yt),this._offset=new Vector3$1,this._startNorm=new Vector3$1,this._endNorm=new Vector3$1,this._cameraScale=new Vector3$1,this._parentPosition=new Vector3$1,this._parentQuaternion=new Quaternion$1,this._parentQuaternionInv=new Quaternion$1,this._parentScale=new Vector3$1,this._worldScaleStart=new Vector3$1,this._worldQuaternionInv=new Quaternion$1,this._worldScale=new Vector3$1,this._positionStart=new Vector3$1,this._quaternionStart=new Quaternion$1,this._scaleStart=new Vector3$1,this._getPointer=getPointer.bind(this),this._onPointerDown=onPointerDown.bind(this),this._onPointerHover=onPointerHover.bind(this),this._onPointerMove=onPointerMove.bind(this),this._onPointerUp=onPointerUp.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(et){if(this.object===void 0||this.dragging===!0)return;_raycaster.setFromCamera(et,this.camera);const nt=intersectObjectWithRay(this._gizmo.picker[this.mode],_raycaster);nt?this.axis=nt.object.name:this.axis=null}pointerDown(et){if(!(this.object===void 0||this.dragging===!0||et.button!==0)&&this.axis!==null){_raycaster.setFromCamera(et,this.camera);const nt=intersectObjectWithRay(this._plane,_raycaster,!0);nt&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(nt.point).sub(this.worldPositionStart)),this.dragging=!0,_mouseDownEvent.mode=this.mode,this.dispatchEvent(_mouseDownEvent)}}pointerMove(et){const nt=this.axis,rt=this.mode,it=this.object;let ot=this.space;if(rt==="scale"?ot="local":(nt==="E"||nt==="XYZE"||nt==="XYZ")&&(ot="world"),it===void 0||nt===null||this.dragging===!1||et.button!==-1)return;_raycaster.setFromCamera(et,this.camera);const at=intersectObjectWithRay(this._plane,_raycaster,!0);if(!!at){if(this.pointEnd.copy(at.point).sub(this.worldPositionStart),rt==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),ot==="local"&&nt!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),nt.indexOf("X")===-1&&(this._offset.x=0),nt.indexOf("Y")===-1&&(this._offset.y=0),nt.indexOf("Z")===-1&&(this._offset.z=0),ot==="local"&&nt!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),it.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(ot==="local"&&(it.position.applyQuaternion(_tempQuaternion.copy(this._quaternionStart).invert()),nt.search("X")!==-1&&(it.position.x=Math.round(it.position.x/this.translationSnap)*this.translationSnap),nt.search("Y")!==-1&&(it.position.y=Math.round(it.position.y/this.translationSnap)*this.translationSnap),nt.search("Z")!==-1&&(it.position.z=Math.round(it.position.z/this.translationSnap)*this.translationSnap),it.position.applyQuaternion(this._quaternionStart)),ot==="world"&&(it.parent&&it.position.add(_tempVector.setFromMatrixPosition(it.parent.matrixWorld)),nt.search("X")!==-1&&(it.position.x=Math.round(it.position.x/this.translationSnap)*this.translationSnap),nt.search("Y")!==-1&&(it.position.y=Math.round(it.position.y/this.translationSnap)*this.translationSnap),nt.search("Z")!==-1&&(it.position.z=Math.round(it.position.z/this.translationSnap)*this.translationSnap),it.parent&&it.position.sub(_tempVector.setFromMatrixPosition(it.parent.matrixWorld))));else if(rt==="scale"){if(nt.search("XYZ")!==-1){let st=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(st*=-1),_tempVector2.set(st,st,st)}else _tempVector.copy(this.pointStart),_tempVector2.copy(this.pointEnd),_tempVector.applyQuaternion(this._worldQuaternionInv),_tempVector2.applyQuaternion(this._worldQuaternionInv),_tempVector2.divide(_tempVector),nt.search("X")===-1&&(_tempVector2.x=1),nt.search("Y")===-1&&(_tempVector2.y=1),nt.search("Z")===-1&&(_tempVector2.z=1);it.scale.copy(this._scaleStart).multiply(_tempVector2),this.scaleSnap&&(nt.search("X")!==-1&&(it.scale.x=Math.round(it.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),nt.search("Y")!==-1&&(it.scale.y=Math.round(it.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),nt.search("Z")!==-1&&(it.scale.z=Math.round(it.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(rt==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const st=20/this.worldPosition.distanceTo(_tempVector.setFromMatrixPosition(this.camera.matrixWorld));nt==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):nt==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(_tempVector.copy(this.rotationAxis).cross(this.eye))*st):(nt==="X"||nt==="Y"||nt==="Z")&&(this.rotationAxis.copy(_unit[nt]),_tempVector.copy(_unit[nt]),ot==="local"&&_tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(_tempVector.cross(this.eye).normalize())*st),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),ot==="local"&&nt!=="E"&&nt!=="XYZE"?(it.quaternion.copy(this._quaternionStart),it.quaternion.multiply(_tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),it.quaternion.copy(_tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),it.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(_changeEvent),this.dispatchEvent(_objectChangeEvent)}}pointerUp(et){et.button===0&&(this.dragging&&this.axis!==null&&(_mouseUpEvent.mode=this.mode,this.dispatchEvent(_mouseUpEvent)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(et){et.geometry&&et.geometry.dispose(),et.material&&et.material.dispose()})}attach(et){return this.object=et,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){!this.enabled||this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(_changeEvent),this.dispatchEvent(_objectChangeEvent),this.pointStart.copy(this.pointEnd))}getRaycaster(){return _raycaster}getMode(){return this.mode}setMode(et){this.mode=et}setTranslationSnap(et){this.translationSnap=et}setRotationSnap(et){this.rotationSnap=et}setScaleSnap(et){this.scaleSnap=et}setSize(et){this.size=et}setSpace(et){this.space=et}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}TransformControls.prototype.isTransformControls=!0;function getPointer(tt){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:tt.button};{const et=this.domElement.getBoundingClientRect();return{x:(tt.clientX-et.left)/et.width*2-1,y:-(tt.clientY-et.top)/et.height*2+1,button:tt.button}}}function onPointerHover(tt){if(!!this.enabled)switch(tt.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(tt));break}}function onPointerDown(tt){!this.enabled||(document.pointerLockElement||this.domElement.setPointerCapture(tt.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(tt)),this.pointerDown(this._getPointer(tt)))}function onPointerMove(tt){!this.enabled||this.pointerMove(this._getPointer(tt))}function onPointerUp(tt){!this.enabled||(this.domElement.releasePointerCapture(tt.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(tt)))}function intersectObjectWithRay(tt,et,nt){const rt=et.intersectObject(tt,!0);for(let it=0;it<rt.length;it++)if(rt[it].object.visible||nt)return rt[it];return!1}const _tempEuler=new Euler$1,_alignVector=new Vector3$1(0,1,0),_zeroVector=new Vector3$1(0,0,0),_lookAtMatrix=new Matrix4$1,_tempQuaternion2=new Quaternion$1,_identityQuaternion=new Quaternion$1,_dirVector=new Vector3$1,_tempMatrix=new Matrix4$1,_unitX=new Vector3$1(1,0,0),_unitY=new Vector3$1(0,1,0),_unitZ=new Vector3$1(0,0,1),_v1=new Vector3$1,_v2=new Vector3$1,_v3=new Vector3$1;class TransformControlsGizmo extends Object3D$1{constructor(){super(),this.type="TransformControlsGizmo";const et=new MeshBasicMaterial$1({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0});new LineBasicMaterial$1({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0});const nt=et.clone();nt.opacity=.15;const rt=et.clone();rt.opacity=.33;const it=et.clone();it.color.set(15364509);const ot=et.clone();ot.color.set(1626879);const at=et.clone();at.color.set(3064981);const st=et.clone();st.color.setHex(15364509),st.opacity=.5;const lt=et.clone();lt.color.setHex(1626879),lt.opacity=.5;const ct=et.clone();ct.color.setHex(3064981),ct.opacity=.5;const ft=et.clone();ft.opacity=.25;const ut=et.clone();ut.color.setHex(16776960),ut.opacity=.25,et.clone().color.setHex(16776960);const ht=et.clone();ht.color.setHex(7895160);const pt=new CylinderGeometry(0,.04,.1,12);pt.translate(0,.05,0);const gt=new BoxGeometry$1(.08,.08,.08);gt.translate(0,.04,0);const mt=new BufferGeometry$1;mt.setAttribute("position",new Float32BufferAttribute$1([0,0,0,1,0,0],3));const yt=new CylinderGeometry(.0075,.0075,.5,3);yt.translate(0,.25,0);function bt(Pt,Dt){const Ct=new TorusGeometry(Pt,.0075,3,64,Dt*Math.PI*2);return Ct.rotateY(Math.PI/2),Ct.rotateX(Math.PI/2),Ct}function St(){const Pt=new BufferGeometry$1;return Pt.setAttribute("position",new Float32BufferAttribute$1([0,0,0,1,1,1],3)),Pt}const xt={X:[[new Mesh$1(pt,it),[.5,0,0],[0,0,-Math.PI/2]],[new Mesh$1(pt,it),[-.5,0,0],[0,0,Math.PI/2]],[new Mesh$1(yt,it),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Mesh$1(pt,ot),[0,.5,0]],[new Mesh$1(pt,ot),[0,-.5,0],[Math.PI,0,0]],[new Mesh$1(yt,ot)]],Z:[[new Mesh$1(pt,at),[0,0,.5],[Math.PI/2,0,0]],[new Mesh$1(pt,at),[0,0,-.5],[-Math.PI/2,0,0]],[new Mesh$1(yt,at),null,[Math.PI/2,0,0]]],XYZ:[[new Mesh$1(new OctahedronGeometry(.1,0),ft.clone()),[0,0,0]]],XY:[[new Mesh$1(new BoxGeometry$1(.15,.15,.01),ct.clone()),[.15,.15,0]]],YZ:[[new Mesh$1(new BoxGeometry$1(.15,.15,.01),st.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh$1(new BoxGeometry$1(.15,.15,.01),lt.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},vt={X:[[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[.3,0,0],[0,0,-Math.PI/2]],[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,.3,0]],[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,0,.3],[Math.PI/2,0,0]],[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Mesh$1(new OctahedronGeometry(.2,0),nt)]],XY:[[new Mesh$1(new BoxGeometry$1(.2,.2,.01),nt),[.15,.15,0]]],YZ:[[new Mesh$1(new BoxGeometry$1(.2,.2,.01),nt),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh$1(new BoxGeometry$1(.2,.2,.01),nt),[.15,0,.15],[-Math.PI/2,0,0]]]},$t={START:[[new Mesh$1(new OctahedronGeometry(.01,2),rt),null,null,null,"helper"]],END:[[new Mesh$1(new OctahedronGeometry(.01,2),rt),null,null,null,"helper"]],DELTA:[[new Line$1(St(),rt),null,null,null,"helper"]],X:[[new Line$1(mt,rt.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Line$1(mt,rt.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Line$1(mt,rt.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},zt={XYZE:[[new Mesh$1(bt(.5,1),ht),null,[0,Math.PI/2,0]]],X:[[new Mesh$1(bt(.5,.5),it)]],Y:[[new Mesh$1(bt(.5,.5),ot),null,[0,0,-Math.PI/2]]],Z:[[new Mesh$1(bt(.5,.5),at),null,[0,Math.PI/2,0]]],E:[[new Mesh$1(bt(.75,1),ut),null,[0,Math.PI/2,0]]]},Nt={AXIS:[[new Line$1(mt,rt.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},wt={XYZE:[[new Mesh$1(new SphereGeometry(.25,10,8),nt)]],X:[[new Mesh$1(new TorusGeometry(.5,.1,4,24),nt),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Mesh$1(new TorusGeometry(.5,.1,4,24),nt),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Mesh$1(new TorusGeometry(.5,.1,4,24),nt),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Mesh$1(new TorusGeometry(.75,.1,2,24),nt)]]},Et={X:[[new Mesh$1(gt,it),[.5,0,0],[0,0,-Math.PI/2]],[new Mesh$1(yt,it),[0,0,0],[0,0,-Math.PI/2]],[new Mesh$1(gt,it),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Mesh$1(gt,ot),[0,.5,0]],[new Mesh$1(yt,ot)],[new Mesh$1(gt,ot),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Mesh$1(gt,at),[0,0,.5],[Math.PI/2,0,0]],[new Mesh$1(yt,at),[0,0,0],[Math.PI/2,0,0]],[new Mesh$1(gt,at),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Mesh$1(new BoxGeometry$1(.15,.15,.01),ct),[.15,.15,0]]],YZ:[[new Mesh$1(new BoxGeometry$1(.15,.15,.01),st),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh$1(new BoxGeometry$1(.15,.15,.01),lt),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Mesh$1(new BoxGeometry$1(.1,.1,.1),ft.clone())]]},Rt={X:[[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[.3,0,0],[0,0,-Math.PI/2]],[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,.3,0]],[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,0,.3],[Math.PI/2,0,0]],[new Mesh$1(new CylinderGeometry(.2,0,.6,4),nt),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Mesh$1(new BoxGeometry$1(.2,.2,.01),nt),[.15,.15,0]]],YZ:[[new Mesh$1(new BoxGeometry$1(.2,.2,.01),nt),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Mesh$1(new BoxGeometry$1(.2,.2,.01),nt),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Mesh$1(new BoxGeometry$1(.2,.2,.2),nt),[0,0,0]]]},Tt={X:[[new Line$1(mt,rt.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Line$1(mt,rt.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Line$1(mt,rt.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function It(Pt){const Dt=new Object3D$1;for(const Ct in Pt)for(let Ot=Pt[Ct].length;Ot--;){const Ut=Pt[Ct][Ot][0].clone(),At=Pt[Ct][Ot][1],Mt=Pt[Ct][Ot][2],jt=Pt[Ct][Ot][3],kt=Pt[Ct][Ot][4];Ut.name=Ct,Ut.tag=kt,At&&Ut.position.set(At[0],At[1],At[2]),Mt&&Ut.rotation.set(Mt[0],Mt[1],Mt[2]),jt&&Ut.scale.set(jt[0],jt[1],jt[2]),Ut.updateMatrix();const Gt=Ut.geometry.clone();Gt.applyMatrix4(Ut.matrix),Ut.geometry=Gt,Ut.renderOrder=1/0,Ut.position.set(0,0,0),Ut.rotation.set(0,0,0),Ut.scale.set(1,1,1),Dt.add(Ut)}return Dt}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=It(xt)),this.add(this.gizmo.rotate=It(zt)),this.add(this.gizmo.scale=It(Et)),this.add(this.picker.translate=It(vt)),this.add(this.picker.rotate=It(wt)),this.add(this.picker.scale=It(Rt)),this.add(this.helper.translate=It($t)),this.add(this.helper.rotate=It(Nt)),this.add(this.helper.scale=It(Tt)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(et){const rt=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:_identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let it=[];it=it.concat(this.picker[this.mode].children),it=it.concat(this.gizmo[this.mode].children),it=it.concat(this.helper[this.mode].children);for(let ot=0;ot<it.length;ot++){const at=it[ot];at.visible=!0,at.rotation.set(0,0,0),at.position.copy(this.worldPosition);let st;if(this.camera.isOrthographicCamera?st=(this.camera.top-this.camera.bottom)/this.camera.zoom:st=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),at.scale.set(1,1,1).multiplyScalar(st*this.size/4),at.tag==="helper"){at.visible=!1,at.name==="AXIS"?(at.position.copy(this.worldPositionStart),at.visible=!!this.axis,this.axis==="X"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,0,0)),at.quaternion.copy(rt).multiply(_tempQuaternion),Math.abs(_alignVector.copy(_unitX).applyQuaternion(rt).dot(this.eye))>.9&&(at.visible=!1)),this.axis==="Y"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,0,Math.PI/2)),at.quaternion.copy(rt).multiply(_tempQuaternion),Math.abs(_alignVector.copy(_unitY).applyQuaternion(rt).dot(this.eye))>.9&&(at.visible=!1)),this.axis==="Z"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,Math.PI/2,0)),at.quaternion.copy(rt).multiply(_tempQuaternion),Math.abs(_alignVector.copy(_unitZ).applyQuaternion(rt).dot(this.eye))>.9&&(at.visible=!1)),this.axis==="XYZE"&&(_tempQuaternion.setFromEuler(_tempEuler.set(0,Math.PI/2,0)),_alignVector.copy(this.rotationAxis),at.quaternion.setFromRotationMatrix(_lookAtMatrix.lookAt(_zeroVector,_alignVector,_unitY)),at.quaternion.multiply(_tempQuaternion),at.visible=this.dragging),this.axis==="E"&&(at.visible=!1)):at.name==="START"?(at.position.copy(this.worldPositionStart),at.visible=this.dragging):at.name==="END"?(at.position.copy(this.worldPosition),at.visible=this.dragging):at.name==="DELTA"?(at.position.copy(this.worldPositionStart),at.quaternion.copy(this.worldQuaternionStart),_tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),_tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),at.scale.copy(_tempVector),at.visible=this.dragging):(at.quaternion.copy(rt),this.dragging?at.position.copy(this.worldPositionStart):at.position.copy(this.worldPosition),this.axis&&(at.visible=this.axis.search(at.name)!==-1));continue}at.quaternion.copy(rt),this.mode==="translate"||this.mode==="scale"?(at.name==="X"&&Math.abs(_alignVector.copy(_unitX).applyQuaternion(rt).dot(this.eye))>.99&&(at.scale.set(1e-10,1e-10,1e-10),at.visible=!1),at.name==="Y"&&Math.abs(_alignVector.copy(_unitY).applyQuaternion(rt).dot(this.eye))>.99&&(at.scale.set(1e-10,1e-10,1e-10),at.visible=!1),at.name==="Z"&&Math.abs(_alignVector.copy(_unitZ).applyQuaternion(rt).dot(this.eye))>.99&&(at.scale.set(1e-10,1e-10,1e-10),at.visible=!1),at.name==="XY"&&Math.abs(_alignVector.copy(_unitZ).applyQuaternion(rt).dot(this.eye))<.2&&(at.scale.set(1e-10,1e-10,1e-10),at.visible=!1),at.name==="YZ"&&Math.abs(_alignVector.copy(_unitX).applyQuaternion(rt).dot(this.eye))<.2&&(at.scale.set(1e-10,1e-10,1e-10),at.visible=!1),at.name==="XZ"&&Math.abs(_alignVector.copy(_unitY).applyQuaternion(rt).dot(this.eye))<.2&&(at.scale.set(1e-10,1e-10,1e-10),at.visible=!1)):this.mode==="rotate"&&(_tempQuaternion2.copy(rt),_alignVector.copy(this.eye).applyQuaternion(_tempQuaternion.copy(rt).invert()),at.name.search("E")!==-1&&at.quaternion.setFromRotationMatrix(_lookAtMatrix.lookAt(this.eye,_zeroVector,_unitY)),at.name==="X"&&(_tempQuaternion.setFromAxisAngle(_unitX,Math.atan2(-_alignVector.y,_alignVector.z)),_tempQuaternion.multiplyQuaternions(_tempQuaternion2,_tempQuaternion),at.quaternion.copy(_tempQuaternion)),at.name==="Y"&&(_tempQuaternion.setFromAxisAngle(_unitY,Math.atan2(_alignVector.x,_alignVector.z)),_tempQuaternion.multiplyQuaternions(_tempQuaternion2,_tempQuaternion),at.quaternion.copy(_tempQuaternion)),at.name==="Z"&&(_tempQuaternion.setFromAxisAngle(_unitZ,Math.atan2(_alignVector.y,_alignVector.x)),_tempQuaternion.multiplyQuaternions(_tempQuaternion2,_tempQuaternion),at.quaternion.copy(_tempQuaternion))),at.visible=at.visible&&(at.name.indexOf("X")===-1||this.showX),at.visible=at.visible&&(at.name.indexOf("Y")===-1||this.showY),at.visible=at.visible&&(at.name.indexOf("Z")===-1||this.showZ),at.visible=at.visible&&(at.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),at.material._color=at.material._color||at.material.color.clone(),at.material._opacity=at.material._opacity||at.material.opacity,at.material.color.copy(at.material._color),at.material.opacity=at.material._opacity,this.enabled&&this.axis&&(at.name===this.axis||this.axis.split("").some(function(lt){return at.name===lt}))&&(at.material.color.setHex(16776960),at.material.opacity=1)}super.updateMatrixWorld(et)}}TransformControlsGizmo.prototype.isTransformControlsGizmo=!0;class TransformControlsPlane extends Mesh$1{constructor(){super(new PlaneGeometry$1(1e5,1e5,2,2),new MeshBasicMaterial$1({visible:!1,wireframe:!0,side:DoubleSide$1,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(et){let nt=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(nt="local"),_v1.copy(_unitX).applyQuaternion(nt==="local"?this.worldQuaternion:_identityQuaternion),_v2.copy(_unitY).applyQuaternion(nt==="local"?this.worldQuaternion:_identityQuaternion),_v3.copy(_unitZ).applyQuaternion(nt==="local"?this.worldQuaternion:_identityQuaternion),_alignVector.copy(_v2),this.mode){case"translate":case"scale":switch(this.axis){case"X":_alignVector.copy(this.eye).cross(_v1),_dirVector.copy(_v1).cross(_alignVector);break;case"Y":_alignVector.copy(this.eye).cross(_v2),_dirVector.copy(_v2).cross(_alignVector);break;case"Z":_alignVector.copy(this.eye).cross(_v3),_dirVector.copy(_v3).cross(_alignVector);break;case"XY":_dirVector.copy(_v3);break;case"YZ":_dirVector.copy(_v1);break;case"XZ":_alignVector.copy(_v3),_dirVector.copy(_v2);break;case"XYZ":case"E":_dirVector.set(0,0,0);break}break;case"rotate":default:_dirVector.set(0,0,0)}_dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(_tempMatrix.lookAt(_tempVector.set(0,0,0),_dirVector,_alignVector),this.quaternion.setFromRotationMatrix(_tempMatrix)),super.updateMatrixWorld(et)}}TransformControlsPlane.prototype.isTransformControlsPlane=!0;const _VRButton=class{static createButton(tt,et){et&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const nt=document.createElement("button");function rt(){let lt=null;async function ct(ut){ut.addEventListener("end",ft),tt.xr.setReferenceSpace(null),await tt.xr.setSession(ut),nt.textContent="EXIT VR",lt=ut}function ft(){lt.removeEventListener("end",ft),nt.textContent="ENTER VR",lt=null}nt.style.display="",nt.style.cursor="pointer",nt.style.left="calc(50% - 50px)",nt.style.width="100px",nt.textContent="ENTER VR",nt.onmouseenter=function(){nt.style.opacity="1.0"},nt.onmouseleave=function(){nt.style.opacity="0.5"},nt.onclick=function(){if(lt===null){const ut={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",ut).then(ct)}else lt.end()}}function it(){nt.style.display="",nt.style.cursor="auto",nt.style.left="calc(50% - 75px)",nt.style.width="150px",nt.onmouseenter=null,nt.onmouseleave=null,nt.onclick=null}function ot(){it(),nt.textContent="VR NOT SUPPORTED"}function at(lt){it(),console.warn("Exception when trying to call xr.isSessionSupported",lt),nt.textContent="VR NOT ALLOWED"}function st(lt){lt.style.position="absolute",lt.style.bottom="20px",lt.style.padding="12px 6px",lt.style.border="1px solid #fff",lt.style.borderRadius="4px",lt.style.background="rgba(0,0,0,0.1)",lt.style.color="#fff",lt.style.font="normal 13px sans-serif",lt.style.textAlign="center",lt.style.opacity="0.5",lt.style.outline="none",lt.style.zIndex="999"}if("xr"in navigator)return nt.id="VRButton",nt.style.display="none",st(nt),navigator.xr.isSessionSupported("immersive-vr").then(function(lt){lt?rt():ot(),lt&&_VRButton.xrSessionIsGranted&&nt.click()}).catch(at),nt;{const lt=document.createElement("a");return window.isSecureContext===!1?(lt.href=document.location.href.replace(/^http:/,"https:"),lt.innerHTML="WEBXR NEEDS HTTPS"):(lt.href="https://immersiveweb.dev/",lt.innerHTML="WEBXR NOT AVAILABLE"),lt.style.left="calc(50% - 90px)",lt.style.width="180px",lt.style.textDecoration="none",st(lt),lt}}static registerSessionGrantedListener(){if("xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{_VRButton.xrSessionIsGranted=!0})}}};let VRButton=_VRButton;__publicField$1(VRButton,"xrSessionIsGranted",!1);VRButton.registerSessionGrantedListener();const Constants={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function fetchJsonFile(tt){const et=await fetch(tt);if(et.ok)return et.json();throw new Error(et.statusText)}async function fetchProfilesList(tt){if(!tt)throw new Error("No basePath supplied");return await fetchJsonFile(`${tt}/profilesList.json`)}async function fetchProfile(tt,et,nt=null,rt=!0){if(!tt)throw new Error("No xrInputSource supplied");if(!et)throw new Error("No basePath supplied");const it=await fetchProfilesList(et);let ot;if(tt.profiles.some(lt=>{const ct=it[lt];return ct&&(ot={profileId:lt,profilePath:`${et}/${ct.path}`,deprecated:!!ct.deprecated}),!!ot}),!ot){if(!nt)throw new Error("No matching profile name found");const lt=it[nt];if(!lt)throw new Error(`No matching profile name found and default profile "${nt}" missing.`);ot={profileId:nt,profilePath:`${et}/${lt.path}`,deprecated:!!lt.deprecated}}const at=await fetchJsonFile(ot.profilePath);let st;if(rt){let lt;if(tt.handedness==="any"?lt=at.layouts[Object.keys(at.layouts)[0]]:lt=at.layouts[tt.handedness],!lt)throw new Error(`No matching handedness, ${tt.handedness}, in profile ${ot.profileId}`);lt.assetPath&&(st=ot.profilePath.replace("profile.json",lt.assetPath))}return{profile:at,assetPath:st}}const defaultComponentValues={xAxis:0,yAxis:0,button:0,state:Constants.ComponentState.DEFAULT};function normalizeAxes(tt=0,et=0){let nt=tt,rt=et;if(Math.sqrt(tt*tt+et*et)>1){const at=Math.atan2(et,tt);nt=Math.cos(at),rt=Math.sin(at)}return{normalizedXAxis:nt*.5+.5,normalizedYAxis:rt*.5+.5}}class VisualResponse{constructor(et){this.componentProperty=et.componentProperty,this.states=et.states,this.valueNodeName=et.valueNodeName,this.valueNodeProperty=et.valueNodeProperty,this.valueNodeProperty===Constants.VisualResponseProperty.TRANSFORM&&(this.minNodeName=et.minNodeName,this.maxNodeName=et.maxNodeName),this.value=0,this.updateFromComponent(defaultComponentValues)}updateFromComponent({xAxis:et,yAxis:nt,button:rt,state:it}){const{normalizedXAxis:ot,normalizedYAxis:at}=normalizeAxes(et,nt);switch(this.componentProperty){case Constants.ComponentProperty.X_AXIS:this.value=this.states.includes(it)?ot:.5;break;case Constants.ComponentProperty.Y_AXIS:this.value=this.states.includes(it)?at:.5;break;case Constants.ComponentProperty.BUTTON:this.value=this.states.includes(it)?rt:0;break;case Constants.ComponentProperty.STATE:this.valueNodeProperty===Constants.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(it):this.value=this.states.includes(it)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class Component{constructor(et,nt){if(!et||!nt||!nt.visualResponses||!nt.gamepadIndices||Object.keys(nt.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=et,this.type=nt.type,this.rootNodeName=nt.rootNodeName,this.touchPointNodeName=nt.touchPointNodeName,this.visualResponses={},Object.keys(nt.visualResponses).forEach(rt=>{const it=new VisualResponse(nt.visualResponses[rt]);this.visualResponses[rt]=it}),this.gamepadIndices=Object.assign({},nt.gamepadIndices),this.values={state:Constants.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return __spreadValues$1({id:this.id},this.values)}updateFromGamepad(et){if(this.values.state=Constants.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&et.buttons.length>this.gamepadIndices.button){const nt=et.buttons[this.gamepadIndices.button];this.values.button=nt.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,nt.pressed||this.values.button===1?this.values.state=Constants.ComponentState.PRESSED:(nt.touched||this.values.button>Constants.ButtonTouchThreshold)&&(this.values.state=Constants.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&et.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=et.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===Constants.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>Constants.AxisTouchThreshold&&(this.values.state=Constants.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&et.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=et.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===Constants.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>Constants.AxisTouchThreshold&&(this.values.state=Constants.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(nt=>{nt.updateFromComponent(this.values)})}}class MotionController{constructor(et,nt,rt){if(!et)throw new Error("No xrInputSource supplied");if(!nt)throw new Error("No profile supplied");this.xrInputSource=et,this.assetUrl=rt,this.id=nt.profileId,this.layoutDescription=nt.layouts[et.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(it=>{const ot=this.layoutDescription.components[it];this.components[it]=new Component(it,ot)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const et=[];return Object.values(this.components).forEach(nt=>{et.push(nt.data)}),et}updateFromGamepad(){Object.values(this.components).forEach(et=>{et.updateFromGamepad(this.xrInputSource.gamepad)})}}const DEFAULT_PROFILES_PATH="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",DEFAULT_PROFILE="generic-trigger";class XRControllerModel extends Object3D$1{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(et){return this.envMap==et?this:(this.envMap=et,this.traverse(nt=>{nt.isMesh&&(nt.material.envMap=this.envMap,nt.material.needsUpdate=!0)}),this)}updateMatrixWorld(et){super.updateMatrixWorld(et),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(nt=>{Object.values(nt.visualResponses).forEach(rt=>{const{valueNode:it,minNode:ot,maxNode:at,value:st,valueNodeProperty:lt}=rt;!it||(lt===Constants.VisualResponseProperty.VISIBILITY?it.visible=st:lt===Constants.VisualResponseProperty.TRANSFORM&&(it.quaternion.slerpQuaternions(ot.quaternion,at.quaternion,st),it.position.lerpVectors(ot.position,at.position,st)))})}))}}function findNodes(tt,et){Object.values(tt.components).forEach(nt=>{const{type:rt,touchPointNodeName:it,visualResponses:ot}=nt;if(rt===Constants.ComponentType.TOUCHPAD)if(nt.touchPointNode=et.getObjectByName(it),nt.touchPointNode){const at=new SphereGeometry(.001),st=new MeshBasicMaterial$1({color:255}),lt=new Mesh$1(at,st);nt.touchPointNode.add(lt)}else console.warn(`Could not find touch dot, ${nt.touchPointNodeName}, in touchpad component ${nt.id}`);Object.values(ot).forEach(at=>{const{valueNodeName:st,minNodeName:lt,maxNodeName:ct,valueNodeProperty:ft}=at;if(ft===Constants.VisualResponseProperty.TRANSFORM){if(at.minNode=et.getObjectByName(lt),at.maxNode=et.getObjectByName(ct),!at.minNode){console.warn(`Could not find ${lt} in the model`);return}if(!at.maxNode){console.warn(`Could not find ${ct} in the model`);return}}at.valueNode=et.getObjectByName(st),at.valueNode||console.warn(`Could not find ${st} in the model`)})})}function addAssetSceneToControllerModel(tt,et){findNodes(tt.motionController,et),tt.envMap&&et.traverse(nt=>{nt.isMesh&&(nt.material.envMap=tt.envMap,nt.material.needsUpdate=!0)}),tt.add(et)}class XRControllerModelFactory{constructor(et=null){this.gltfLoader=et,this.path=DEFAULT_PROFILES_PATH,this._assetCache={},this.gltfLoader||(this.gltfLoader=new GLTFLoader)}createControllerModel(et){const nt=new XRControllerModel;let rt=null;return et.addEventListener("connected",it=>{const ot=it.data;ot.targetRayMode!=="tracked-pointer"||!ot.gamepad||fetchProfile(ot,this.path,DEFAULT_PROFILE).then(({profile:at,assetPath:st})=>{nt.motionController=new MotionController(ot,at,st);const lt=this._assetCache[nt.motionController.assetUrl];if(lt)rt=lt.scene.clone(),addAssetSceneToControllerModel(nt,rt);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(nt.motionController.assetUrl,ct=>{this._assetCache[nt.motionController.assetUrl]=ct,rt=ct.scene.clone(),addAssetSceneToControllerModel(nt,rt)},null,()=>{throw new Error(`Asset ${nt.motionController.assetUrl} missing or malformed.`)})}}).catch(at=>{console.warn(at)})}),et.addEventListener("disconnected",()=>{nt.motionController=null,nt.remove(rt),rt=null}),nt}}const DEFAULT_HAND_PROFILE_PATH="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/";class XRHandMeshModel{constructor(et,nt,rt,it){this.controller=nt,this.handModel=et,this.bones=[];const ot=new GLTFLoader;ot.setPath(rt||DEFAULT_HAND_PROFILE_PATH),ot.load(`${it}.glb`,at=>{const st=at.scene.children[0];this.handModel.add(st);const lt=st.getObjectByProperty("type","SkinnedMesh");lt.frustumCulled=!1,lt.castShadow=!0,lt.receiveShadow=!0,["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"].forEach(ft=>{const ut=st.getObjectByName(ft);ut!==void 0?ut.jointName=ft:console.warn(`Couldn't find ${ft} in ${it} hand mesh`),this.bones.push(ut)})})}updateMesh(){const et=this.controller.joints;for(let nt=0;nt<this.bones.length;nt++){const rt=this.bones[nt];if(rt){const it=et[rt.jointName];if(it.visible){const ot=it.position;rt.position.copy(ot),rt.quaternion.copy(it.quaternion)}}}}}const TOUCH_RADIUS=.01,POINTING_JOINT="index-finger-tip";class OculusHandModel extends Object3D$1{constructor(et){super(),this.controller=et,this.motionController=null,this.envMap=null,this.mesh=null,et.addEventListener("connected",nt=>{const rt=nt.data;rt.hand&&!this.motionController&&(this.xrInputSource=rt,this.motionController=new XRHandMeshModel(this,et,this.path,rt.handedness))}),et.addEventListener("disconnected",()=>{this.clear(),this.motionController=null})}updateMatrixWorld(et){super.updateMatrixWorld(et),this.motionController&&this.motionController.updateMesh()}getPointerPosition(){const et=this.controller.joints[POINTING_JOINT];return et&&et.position.x!==0&&et.position.y!==0&&et.position.z!==0?et.position:null}getJoint(et){return this.controller.joints[et]}getHandPose(){let et="unknown";if(this.controller){const nt=this.getJoint("thumb-tip"),rt=this.getJoint("index-finger-tip"),it=this.getJoint("index-finger-metacarpal");let ot=null;rt&&it&&(ot=rt.position.distanceTo(it.position));let at=null;nt&&rt&&(at=nt.position.distanceTo(rt.position));const st=this.getJoint("middle-finger-tip"),lt=this.getJoint("middle-finger-metacarpal");let ct=null;st&&lt&&(ct=st.position.distanceTo(lt.position));const ft=this.getJoint("ring-finger-tip"),ut=this.getJoint("ring-finger-metacarpal");let dt=null;ft&&ut&&(dt=ft.position.distanceTo(ut.position));const ht=this.getJoint("pinky-finger-tip"),pt=this.getJoint("pinky-finger-metacarpal");let gt=null;ht&&pt&&(gt=ht.position.distanceTo(pt.position)),this.controller.visible&&(at&&at<.02?et="pinch":ot&&ot>=.065&&ct&&ct>=.065&&dt&&dt>=.065&&gt&&gt>=.065?et="open":ot&&ot<.065&&ct&&ct<.065&&dt&&dt<.065&&gt&&gt<.065?et="fist":ot&&ct&&dt&&gt&&(et="point"))}return et}intersectBoxObject(et){const nt=this.getPointerPosition();if(nt){const rt=new Sphere$1(nt,TOUCH_RADIUS),it=new Box3$1().setFromObject(et);return rt.intersectsBox(it)}else return!1}checkButton(et){this.intersectBoxObject(et)?et.onPress():et.onClear(),et.isPressed()&&et.whilePressed()}}const MeasureContainer=styled.div`
  width: 100%;
  height: 100vh;

  background: #1c1e2c;

  > div {
    overflow: hidden;
    width: 100%;
    height: 100%;
  }
`;class UniverseViewer extends react.exports.Component{constructor(et){super(et),__publicField$1(this,"element",null),__publicField$1(this,"renderer"),__publicField$1(this,"scene"),__publicField$1(this,"root",new Object3D$1),__publicField$1(this,"camera"),__publicField$1(this,"pathToLayer",new Map),__publicField$1(this,"editControls"),__publicField$1(this,"orbitControls"),__publicField$1(this,"attachedPath"),__publicField$1(this,"raycaster",new Raycaster),__publicField$1(this,"pointer",new Vector2$1),__publicField$1(this,"pointerDirty",!1),__publicField$1(this,"isInVR",!1),__publicField$1(this,"usingHands",!1),__publicField$1(this,"clock",new Clock),__publicField$1(this,"handHeldControllerGamePadState"),__publicField$1(this,"vrControllerGamePads",new Map),__publicField$1(this,"currentHandPoses",["unknown","unknown"]),__publicField$1(this,"onPointerMove",ct=>{this.renderer&&(this.pointer.x=ct.offsetX/this.renderer.domElement.offsetWidth*2-1,this.pointer.y=-(ct.offsetY/this.renderer.domElement.offsetHeight)*2+1,this.pointerDirty=!0)}),__publicField$1(this,"onPointerDown",ct=>{const{button:ft}=ct;Array.from(this.pathToLayer.values()).forEach(ut=>{defined$1(ut.contentNode).onPointerDown(this.raycaster,ft)})}),__publicField$1(this,"onPointerUp",ct=>{const{button:ft}=ct;Array.from(this.pathToLayer.values()).forEach(ut=>{defined$1(ut.contentNode).onPointerUp(this.raycaster,ft)})}),__publicField$1(this,"onPointerEnter",ct=>{Array.from(this.pathToLayer.values()).forEach(ft=>{defined$1(ft.contentNode).onPointerEnter(this.raycaster)})}),__publicField$1(this,"onPointerLeave",ct=>{Array.from(this.pathToLayer.values()).forEach(ft=>{defined$1(ft.contentNode).onPointerLeave(this.raycaster)})}),__publicField$1(this,"onPointerWheel",ct=>{Array.from(this.pathToLayer.values()).forEach(ft=>{defined$1(ft.contentNode).onPointerWheel(this.raycaster,ct.deltaY)})}),__publicField$1(this,"onKeyDown",ct=>{const ft=defined$1(this.editControls);switch(ct.key){case"g":ft.setMode("translate");break;case"r":ft.setMode("rotate");break;case"s":ft.setMode("scale");break}}),__publicField$1(this,"onEditControlsChange",()=>{const{editControls:ct}=this;if(ct){const{attachedPath:ft}=this;if(ft){const{object:ut}=ct;if(ut){const{position:dt}=ut;this.props.onSceneGraphElementEdited(ft,dt)}}}}),__publicField$1(this,"getCurrentCamera",()=>this.camera),__publicField$1(this,"onResize",(ct,ft)=>{var ut;this.camera.aspect=ct/ft,this.camera.updateProjectionMatrix(),this.orbitControls&&this.orbitControls.update(),(ut=this.renderer)==null||ut.setSize(ct,ft)}),howler.Howler.volume(1),this.scene=new Scene$1,this.scene.add(this.root),this.camera=new PerspectiveCamera$1(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=-1.5,this.camera.position.x=1.5,this.camera.position.y=1;const nt=defined$1(Color$1.fromString("#18d2ff")).toString(),rt=defined$1(Color$1.fromString("#ea719d")).toString(),it=defined$1(Color$1.fromString("#f8f9fc")).toString(),ot=defined$1(Color$1.fromString("#282f45")).toString(),at=new PointLight$1(nt,.3,0,0);at.position.set(1e3,1e3,1e3),this.scene.add(at);const st=new PointLight$1(rt,.7,0,0);st.position.set(-1e3,-1e3,1e3),this.scene.add(st);const lt=new HemisphereLight$1(it,ot,.5);this.scene.add(lt)}componentDidMount(){const{element:et}=this,{vr:nt}=this.props;if(et){this.renderer=new WebGLRenderer$1({alpha:!0,antialias:!0}),this.renderer.xr.enabled=!0,et.appendChild(this.renderer.domElement),et.addEventListener("pointermove",this.onPointerMove),et.addEventListener("pointerdown",this.onPointerDown),et.addEventListener("pointerup",this.onPointerUp),et.addEventListener("pointerenter",this.onPointerEnter),et.addEventListener("pointerleave",this.onPointerLeave),et.addEventListener("wheel",this.onPointerWheel);const{devicePixelRatio:rt}=window,{offsetWidth:it,offsetHeight:ot}=et;this.renderer.setPixelRatio(rt),this.renderer.setSize(it,ot);const at=this.renderer.xr.getController(0);this.scene.add(at);const st=this.renderer.xr.getController(1);this.scene.add(st);const lt=new BufferGeometry$1().setFromPoints([new Vector3$1(0,0,0),new Vector3$1(0,0,-1)]),ct=new Line$1(lt);ct.name="line",ct.scale.z=5,at.add(ct.clone()),st.add(ct.clone());const ft=new XRControllerModelFactory,ut=this.renderer.xr.getControllerGrip(0);ut.add(ft.createControllerModel(ut)),this.scene.add(ut);const dt=this.renderer.xr.getHand(0),ht=new OculusHandModel(dt);dt.add(ht),this.scene.add(dt);const pt=this.renderer.xr.getControllerGrip(1);pt.add(ft.createControllerModel(pt)),this.scene.add(pt);const gt=this.renderer.xr.getHand(1),mt=new OculusHandModel(gt);gt.add(mt),this.scene.add(gt);const yt=[ht,mt];this.orbitControls=new OrbitControls(this.camera,this.renderer.domElement),this.orbitControls.update(),this.editControls=new TransformControls(this.camera,this.renderer.domElement),window.addEventListener("keydown",this.onKeyDown),this.editControls.addEventListener("change",this.onEditControlsChange),this.editControls.addEventListener("dragging-changed",bt=>{this.orbitControls&&(this.orbitControls.enabled=!bt.value)}),this.scene.add(this.editControls),this.renderer.setAnimationLoop(()=>{const bt=defined$1(this.renderer);if(bt.xr.isPresenting!==this.isInVR&&(this.isInVR=bt.xr.isPresenting,this.isInVR?(bt.xr.setFoveation&&bt.xr.setFoveation(0),this.notifyEnterVR()):this.notifyExitVR()),this.isInVR){const vt=bt.xr.getSession();if(vt){const $t=[];if(vt.inputSources.forEach((zt,Nt)=>{let wt="none";if(zt&&zt.handedness&&(wt=zt.handedness),zt.gamepad){const Et=bt.xr.getController(Nt);Et.handedness=wt,Et.pulse=function(Ut,At){const Mt=zt.gamepad;Mt.hapticActuators&&Mt.hapticActuators.length>0&&Mt.hapticActuators[0].pulse(Ut,At)},$t.push(Et);const Rt=zt.gamepad.buttons.map(Ot=>Ot.value),Tt=Array.from(zt.gamepad.axes.slice(0)),It=this.vrControllerGamePads.get(zt),Pt={handedness:wt,buttons:Rt,axes:Tt},Dt=new Raycaster,Ct=new Matrix4$1;if(Ct.identity().extractRotation(Et.matrixWorld),Dt.ray.origin.setFromMatrixPosition(Et.matrixWorld),Dt.ray.direction.set(0,0,-1).applyMatrix4(Ct),Et.raycaster=Dt,wt==="left"?yt[1].raycaster=Dt:wt==="right"&&(yt[0].raycaster=Dt),It){for(let Ot=0;Ot<Pt.buttons.length;Ot+=1)Pt.buttons[Ot]!==It.buttons[Ot]&&this.notifyControllerButtonChanged(Et,Ot,Pt.buttons[Ot]);for(let Ot=0;Ot<Pt.axes.length;Ot+=1)Pt.axes[Ot]!==It.axes[Ot]&&this.notifyControllerAxisChanged(Et,Ot,Pt.axes[Ot])}this.vrControllerGamePads.set(zt,Pt)}}),$t.length>0&&this.notifyControllers($t),yt.length>0){yt[0].controller.visible===!0&&yt[1].controller.visible===!0&&this.usingHands===!1&&(this.notifyHandsEnter(yt),this.usingHands=!0),yt[0].controller.visible!==!0&&yt[1].controller.visible!==!0&&this.usingHands===!0&&(this.notifyHandsLeave(yt),this.usingHands=!1,this.currentHandPoses=["unknown","unknown"],this.notifyHandPosesChanged(yt)),this.usingHands&&this.notifyHandsMoved(yt);const zt=yt[0].getHandPose(),Nt=yt[1].getHandPose();(this.currentHandPoses[0]!==zt||this.currentHandPoses[1]!==Nt)&&(this.currentHandPoses=[zt,Nt],this.notifyHandPosesChanged(yt))}}}else{const vt=navigator.getGamepads()[0];if(vt){const $t=vt.buttons.map(Rt=>Rt.value),zt=Array.from(vt.axes.slice(0)),Nt=this.handHeldControllerGamePadState,wt={buttons:$t,axes:zt},Et={gamepad:vt,vibrate(Rt){const Tt=vt.vibrationActuator;Tt&&Tt.playEffect(Tt.type,Rt)}};if(Nt){for(let Rt=0;Rt<wt.buttons.length;Rt+=1)wt.buttons[Rt]!==Nt.buttons[Rt]&&this.notifyHandheldControllerButtonChanged(Et,Rt,wt.buttons[Rt]);for(let Rt=0;Rt<wt.axes.length;Rt+=1)wt.axes[Rt]!==Nt.axes[Rt]&&this.notifyHandheldControllerAxisChanged(Et,Rt,wt.axes[Rt])}this.handHeldControllerGamePadState=wt}}this.raycaster.setFromCamera(this.pointer,this.camera),this.pointerDirty&&(this.notifyRaycasterChanged(),this.pointerDirty=!1),this.orbitControls&&(bt.render(this.scene,this.camera),this.orbitControls.update()),this.notifyUpdate(this.clock.getDelta()),howler.Howler.pos(this.camera.position.x,this.camera.position.y,this.camera.position.z);let St=new Vector3$1(0,0,-1),xt=new Vector3$1(0,1,0);St=St.applyQuaternion(this.camera.quaternion),xt=xt.applyQuaternion(this.camera.quaternion),howler.Howler.orientation(St.x,St.y,St.z,xt.x,xt.y,xt.z)}),nt&&et.appendChild(VRButton.createButton(this.renderer))}}componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown)}notifyHandsEnter(et){Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onHandsEnter(et)})}notifyHandsLeave(et){Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onHandsLeave(et)})}notifyRaycasterChanged(){Array.from(this.pathToLayer.values()).forEach(et=>{defined$1(et.contentNode).onPointerMove(this.raycaster)})}notifyControllerButtonChanged(et,nt,rt){Array.from(this.pathToLayer.values()).forEach(it=>{defined$1(it.contentNode).onControllerButtonChanged(et,nt,rt)})}notifyControllerAxisChanged(et,nt,rt){Array.from(this.pathToLayer.values()).forEach(it=>{defined$1(it.contentNode).onControllerAxisChanged(et,nt,rt)})}notifyHandheldControllerButtonChanged(et,nt,rt){Array.from(this.pathToLayer.values()).forEach(it=>{defined$1(it.contentNode).onHandheldControllerButtonChanged(et,nt,rt)})}notifyHandheldControllerAxisChanged(et,nt,rt){Array.from(this.pathToLayer.values()).forEach(it=>{defined$1(it.contentNode).onHandheldControllerAxisChanged(et,nt,rt)})}notifyControllers(et){Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onControllersMoved(et)})}notifyHandsMoved(et){Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onHandsMoved(et)})}notifyHandPosesChanged(et){Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onHandPosesChanged(et)})}notifyUpdate(et){Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onUpdate(et)})}notifyEnterVR(){const{xr:et}=defined$1(this.renderer);this.scene.add(et.getController(0)),this.scene.add(et.getControllerGrip(0)),this.scene.add(et.getController(1)),this.scene.add(et.getControllerGrip(1)),Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onEnterVR(et)})}notifyExitVR(){const{xr:et}=defined$1(this.renderer);this.scene.remove(et.getController(0)),this.scene.remove(et.getControllerGrip(0)),this.scene.remove(et.getController(1)),this.scene.remove(et.getControllerGrip(1)),Array.from(this.pathToLayer.values()).forEach(nt=>{defined$1(nt.contentNode).onExitVR(et)})}removeSceneGraphItem(et,nt){this.attachedPath&&treePathEquals(nt,this.attachedPath)&&this.toggleEditing(et,nt,!1);const rt=definedAndNotNull(findSceneGraphElement(et,nt)),it=defined$1(this.pathToLayer.get(rt));defined$1(it.contentNode).destroy(),definedAndNotNull(it.parent).remove(it),this.pathToLayer.delete(rt)}addSceneGraphItem(et,nt,rt){const it=definedAndNotNull(findSceneGraphElement(et,nt)),ot=LayerRegistry.getFields(it.type);injectLayerFieldValues(ot,it.fieldValues);const at=LayerRegistry.createDefaultLayer(it.id,it.type,this.props.universeData,rt,it.dataSources,ot,this.getCurrentCamera);it.position.type==="manual"&&at.position.set(it.position.x,it.position.y,it.position.z);const st=getSceneGraphElementParent(et,nt);st?defined$1(this.pathToLayer.get(st)).add(at):this.root.add(at),this.pathToLayer.set(it,at)}recenter(){this.orbitControls&&this.orbitControls.reset()}notifyFieldChanged(et,nt,rt,it){const ot=definedAndNotNull(findSceneGraphElement(et,nt)),at=defined$1(this.pathToLayer.get(ot));defined$1(at.contentNode).onFieldChanged(rt,it)}toggleVisible(et,nt,rt){const it=definedAndNotNull(findSceneGraphElement(et,nt)),ot=defined$1(this.pathToLayer.get(it));ot.visible=rt,defined$1(ot.contentNode).onVisibilityChanged(rt),ot.traverse(at=>{at.visible=rt})}toggleEditing(et,nt,rt){const it=defined$1(this.editControls),ot=definedAndNotNull(findSceneGraphElement(et,nt)),at=defined$1(this.pathToLayer.get(ot));rt?(it.setMode("translate"),it.attach(at),this.attachedPath=nt):(it.detach(),this.attachedPath=void 0)}updatePositioning(et,nt,rt){const it=definedAndNotNull(findSceneGraphElement(et,nt));defined$1(this.pathToLayer.get(it)).setPositioning(rt,this.props.universeData)}render(){return react.exports.createElement(MeasureContainer,null,react.exports.createElement(Measure,{onResize:this.onResize},react.exports.createElement("div",{ref:et=>{this.element=defined$1(et)}})))}}function Modal(tt){const{onClose:et,children:nt,open:rt,title:it,onAccept:ot,acceptText:at}=tt;return react.exports.createElement(Dialog$1,{open:rt,onClose:et},react.exports.createElement(DialogTitle$1,null,it),react.exports.createElement(DialogContent$1,null,nt),react.exports.createElement(DialogActions$1,null,react.exports.createElement(Stack$1,{direction:"row",spacing:2},react.exports.createElement(Button$1,{size:"large",variant:"contained",onClick:et},"Cancel"),react.exports.createElement(Button$1,{color:"secondary",size:"large",variant:"contained",onClick:ot,disabled:tt.acceptDisabled||!1},at))))}function AddLayerModal(tt){const[et,nt]=react.exports.useState("data"),[rt,it]=react.exports.useState(""),[ot,at]=react.exports.useState(void 0),[st,lt]=react.exports.useState(void 0),[ct,ft]=react.exports.useState({}),[ut,dt]=react.exports.useState([]),[ht,pt]=react.exports.useState({nonDataLayers:[],dataLayers:[]}),{onCancel:gt}=tt;react.exports.useEffect(()=>{tt.universeData.getDeviceContexts().then(xt=>{dt(xt),at(xt[0].deviceId)}),LayerRegistry.getLayerSuggestions(tt.universeData,tt.deviceContext).then(xt=>{pt(xt)})},[]);const mt=xt=>{it(xt.target.value)},yt=(xt,vt)=>{nt(xt),lt(vt),ft(LayerRegistry.getFields(xt,"create")),xt==="data"?tt.universeData.getDeviceContexts().then($t=>{at($t[0].deviceId)}):at(void 0)},bt=xt=>{at(xt)},St=()=>{tt.onAddLayer(et,st,ct,rt,et==="data"?ot:tt.deviceContext)};return react.exports.createElement(Modal,{open:!0,title:"Add Layer",acceptText:"Add",onAccept:St,onClose:gt},react.exports.createElement(Stack$1,{spacing:2},react.exports.createElement(DialogContentText$1,null,"Add a 3D layer to your universe"),react.exports.createElement(TextField$1,{value:rt,onChange:mt,label:"Layer Name",placeholder:"My Layer"}),react.exports.createElement("div",null,ht.nonDataLayers.map(xt=>react.exports.createElement(Button$1,{variant:et===xt?"contained":"outlined",key:`nondata-${xt}`,onClick:yt.bind(void 0,xt,void 0),sx:{m:1}},LayerRegistry.getCommonName(xt)))),ht.dataLayers.length>0&&react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(DialogContentText$1,null,"Data derived 3D layers:"),react.exports.createElement("div",null,ht.dataLayers.map(xt=>{let vt;return xt.sources[0].sourceType==="realtime"?vt=xt.sources[0].rosTopicName:xt.sources[0].sourceType==="hardware"?vt=xt.sources[0].rtcStreamName:vt=xt.sources[0].streamName,react.exports.createElement(Button$1,{variant:et===xt.layerType?"contained":"outlined",key:`data-${xt.layerType}-${xt.sources[0].id}`,sx:{m:1},onClick:yt.bind(void 0,xt.layerType,xt.sources)},LayerRegistry.getCommonName(xt.layerType)," [",vt,"]")}))),Object.entries(ct).map(([xt,vt])=>react.exports.createElement(react.exports.Fragment,{key:xt},vt.description,":",react.exports.createElement(TextField$1,{value:vt.value||"",placeholder:vt.placeholder,onChange:$t=>{ft(__spreadProps(__spreadValues$1({},ct),{[xt]:__spreadProps(__spreadValues$1({},ct[xt]),{value:$t.target.value})}))}}))),et==="data"&&ot&&react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(DialogContentText$1,null,"Select a device you'd like to use a source of data:"),react.exports.createElement(Select,{label:"Device",value:ot,onChange:bt,items:ut.map(xt=>({label:xt.deviceName,value:xt.deviceId}))}))))}function RenameLayerModal(tt){const[et,nt]=react.exports.useState(tt.name),rt=()=>{tt.onRenameLayer(et)},it=at=>{nt(at.target.value)},{onCancel:ot}=tt;return react.exports.createElement(Modal,{open:!0,title:"Rename Layer",acceptText:"Rename",onAccept:rt,onClose:ot},react.exports.createElement(Stack$1,{spacing:2},react.exports.createElement(DialogContentText$1,null,"Rename an layer in your universe"),react.exports.createElement("div",null,react.exports.createElement(TextField$1,{value:et,onChange:it}))))}function SelectLocationModal(tt){const[et,nt]=react.exports.useState(0),[rt,it]=react.exports.useState(0),[ot,at]=react.exports.useState(void 0),[st,lt]=react.exports.useState([]);react.exports.useEffect(()=>{(async()=>(lt(await tt.universeData.getLatestLocations(tt.deviceContext)),st.length>0&&(at(st[0].streamName),nt(st[0].location.longitude),it(st[0].location.latitude))))()},[]);const ct=()=>{ot&&tt.onSelect(ot,et,rt)},ft=pt=>{const gt=st.findIndex(mt=>mt.streamName===pt);at(pt),nt(st[gt].location.longitude),it(st[gt].location.latitude)},ut=pt=>{nt(Number(pt.target.value))},dt=pt=>{it(Number(pt.target.value))},{onCancel:ht}=tt;return react.exports.createElement(Modal,{open:!0,title:"Select Location Positioning",acceptText:"Select",onAccept:ct,acceptDisabled:!ot,onClose:ht},react.exports.createElement(Stack$1,{spacing:2},react.exports.createElement(DialogContentText$1,null,"Select the location stream you would like to use and it's relative longitude and latitude:"),react.exports.createElement("div",null,react.exports.createElement(TextField$1,{label:"Relative to Longitude",type:"number",value:et,onChange:ut})),react.exports.createElement("div",null,react.exports.createElement(TextField$1,{label:"Relative to Latitude",type:"number",value:rt,onChange:dt})),st&&react.exports.createElement(Select,{label:"Location Stream",value:ot,onChange:ft,items:st.map(pt=>({label:pt.streamName,value:pt.streamName}))})))}function SelectTransformPathModal(tt){const[et,nt]=react.exports.useState(void 0),[rt,it]=react.exports.useState(new Map),[ot,at]=react.exports.useState(void 0),st=gt=>{var mt;return{title:defined$1(gt.name),children:(mt=gt.children)==null?void 0:mt.map(yt=>st(yt))}};react.exports.useEffect(()=>{(async()=>{const gt=await tt.universeData.getLatestTransformTrees(tt.deviceContext),mt=new Map;gt.forEach(yt=>mt.set(yt.streamName,st(yt.transformTree))),it(mt),at(Array.from(mt.keys())[0])})()},[]);const lt=(gt,mt)=>{const yt=mt.shift();if(yt===void 0)throw new Error("Invalid path");const bt=defined$1(gt[yt]);return mt.length===0?bt.title:lt(bt.children||[],mt)},ct=()=>{ot&&tt.onSelect(ot,lt([defined$1(rt.get(ot))],defined$1(et)))},ft=gt=>{nt(gt)},ut=gt=>{at(gt),nt(void 0)},{onCancel:dt}=tt;let ht;ot&&(ht=rt.get(ot));const pt=Array.from(rt.keys()||[]);return react.exports.createElement(Modal,{open:!0,title:"Select Transform Path",acceptText:"Select",onAccept:ct,acceptDisabled:!et||!ot,onClose:dt},react.exports.createElement(DialogContentText$1,null,"Select the transform path you would like to use"),ht&&react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Select,{label:"TF",value:ot,onChange:ut,items:pt.map(gt=>({label:gt,value:gt}))}),react.exports.createElement(SortableTree,{items:[ht],onSelected:ft,selected:et})))}function FieldEditor({fieldId:tt,field:et,value:nt,onChange:rt}){const[it,ot]=react.exports.useState(nt),[at,st]=react.exports.useState(nt);return it!==nt&&(ot(nt),st(nt)),react.exports.createElement(TextField$1,{label:et.name,value:at,placeholder:et.placeholder,onChange:lt=>{const ct=lt.target.value||"";st(ct),rt(tt,ct)}})}function UniverseSnackbar(){const[tt,et]=Recoil_index_21(snackbarAtom),nt=()=>{et({open:!1})};return react.exports.createElement(Snackbar$1,{anchorOrigin:{vertical:"top",horizontal:"center"},open:tt.open,message:tt.message,autoHideDuration:6e3,onClose:nt})}const Controls=styled.div`
  position: absolute;
  bottom: 1rem;
  left: 1rem;
`,Control=styled.div`
  > svg {
    width: 1rem;
    height: 1rem;
    color: white;
  }
  background: #bac4e2;
  opacity: 0.5;
  margin-bottom: 0.5rem;
  border-radius: 1rem;
  padding: 0;
  height: 2rem;
  width: 2rem;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    opacity: 1;
  }
`,UniverseContainer=styled.div`
  height: 100%;
`,PropertiesTitle=styled.div`
  border-bottom: #3b4668 solid 1px;
  margin-bottom: 0.5rem;
`,PropertyRow=styled.div`
  border-bottom: #3b4668 solid 1px;
  padding-bottom: 0.5rem;
  margin-bottom: 0.5rem;
`;function stringToColor(tt){let et=0;for(let rt=0;rt<tt.length;rt+=1)et=tt.charCodeAt(rt)+((et<<5)-et);let nt="#";for(let rt=0;rt<3;rt+=1)nt+=`00${(et>>rt*8&255).toString(16)}`.substr(-2);return nt}function UniverseApp(tt){const[et,nt]=react.exports.useState(!1),[rt,it]=react.exports.useState(!1),[ot,at]=react.exports.useState(!1),[st,lt]=react.exports.useState(!1),[ct,ft]=react.exports.useState(!0),[ut,dt]=react.exports.useState(void 0),[ht,pt]=react.exports.useState(""),[gt,mt]=react.exports.useState(""),[yt,bt]=react.exports.useState(void 0),[St,xt]=Recoil_index_21(sceneGraphAtom),[vt,$t]=react.exports.useState([]),[zt,Nt]=react.exports.useState(void 0),[wt,Et]=react.exports.useState(!1),[Rt,Tt]=react.exports.useState(!1);react.exports.useEffect(()=>{(async()=>{const Ln=new FontFace("Inter","url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2)");await Ln.load(),document.fonts.add(Ln),Tt(!0)})()},[]);const It=throttle(()=>{wt&&tt.onSceneGraphChange&&tt.onSceneGraphChange(JSON.parse(JSON.stringify(St)))},1e3),Pt=()=>{nt(!1)},Dt=(Ln,Mn,Wn,Jn,Zn)=>{if(Pt(),yt&&vt){const Rn=new SceneGraphElement(Jn||LayerRegistry.getCommonName(Ln),Ln,LayerRegistry.getDescription(Ln),Mn);Rn.deviceContext=Zn,Rn.fieldValues=Wn||{};let Kn;const kn=produce(St,Bn=>{if(vt.length===0)Bn.push(Rn),Kn=[Bn.length-1];else{const Hn=definedAndNotNull(findSceneGraphElement(Bn,vt));Hn.children.push(Rn),Kn=[...vt,Hn.children.length-1]}});xt(kn),yt.addSceneGraphItem(kn,defined$1(Kn),Zn)}It()},Ct=async Ln=>{if(yt||!Ln)return;const Mn=Ln;bt(Ln||void 0);const Wn=produce(St,Jn=>{const Zn=(Rn,Kn,kn)=>{const Bn=[...Kn,kn],Hn=new SceneGraphElement(Rn.name||LayerRegistry.getCommonName(Rn.type),Rn.type,LayerRegistry.getDescription(Rn.type),Rn.dataSources);Hn.deviceContext=Rn.deviceContext,Hn.fieldValues=Rn.fieldValues||{};let Qn;if(Kn.length===0)Jn.push(Hn),Qn=[Jn.length-1];else{const qn=definedAndNotNull(findSceneGraphElement(Jn,Kn));qn.children.push(Hn),Qn=[...Kn,qn.children.length-1]}if(Mn.addSceneGraphItem(Jn,Qn,Rn.deviceContext),Rn.children&&Rn.children.forEach((qn,er)=>Zn(qn,Bn,er)),Rn.position){const qn=findSceneGraphElement(Jn,Bn);definedAndNotNull(qn).position=Rn.position,Mn.updatePositioning(Jn,Bn,Rn.position)}};tt.initialSceneGraph&&tt.initialSceneGraph.forEach((Rn,Kn)=>{Zn(Rn,[],Kn)})});xt(Wn),Et(!0)},Ot=Ln=>{nt(!0),$t(Ln)},Ut=Ln=>{Ln.length>0&&(it(!0),$t(Ln),mt(definedAndNotNull(findSceneGraphElement(St,Ln)).name))},At=()=>{it(!1)},Mt=(Ln,Mn,Wn,Jn,Zn)=>{Dt(Ln,Mn,extractLayerFieldValues(Wn||{}),Jn,Zn)},jt=Ln=>{if(!yt)return;const Mn=definedAndNotNull(findSceneGraphElement(St,Ln));visitSceneGraphElementReverse(Mn,(Jn,Zn)=>{zt&&treePathEquals(zt,Zn)&&(defined$1(yt).toggleEditing(St,zt,!1),Nt(void 0)),defined$1(yt).removeSceneGraphItem(St,Zn)},Ln);const Wn=produce(St,Jn=>{const Zn=getSceneGraphElementParent(Jn,Ln);Zn?Zn.children.splice(Ln[Ln.length-1],1):Jn.splice(Ln[Ln.length-1],1)});xt(Wn),It()},kt=Ln=>{if(!yt)return;const Mn=produce(St,Wn=>{const Jn=getSceneGraphElementParent(Wn,Ln);if(Jn){const Zn=cloneSceneGraph(defined$1(Jn.children[Ln[Ln.length-1]]));Jn.children.push(Zn),Ln.pop();const Rn=[...Ln,Jn.children.length-1];visitSceneGraphElement(Zn,(Kn,kn)=>{defined$1(yt).addSceneGraphItem(Wn,kn)},Rn)}else{const Zn=cloneSceneGraph(defined$1(Wn[Ln[Ln.length-1]]));Wn.push(Zn),Ln.pop();const Rn=[...Ln,Wn.length-1];visitSceneGraphElement(Zn,(Kn,kn)=>{defined$1(yt).addSceneGraphItem(Wn,kn)},Rn)}});xt(Mn),It()},Gt=Ln=>{if(At(),vt){const Mn=produce(St,Wn=>{const Jn=definedAndNotNull(findSceneGraphElement(Wn,vt));Jn.name=Ln});xt(Mn)}It()},Ht=(Ln,Mn)=>{if(Ln.length===0||!yt)return;const Wn=produce(St,Jn=>{const Zn=definedAndNotNull(findSceneGraphElement(Jn,Ln));if(Mn===0)Zn.visible=!Zn.visible,visitSceneGraphElement(Zn,(Rn,Kn)=>(Zn.visible&&!Rn.visible||(zt&&treePathEquals(zt,Kn)&&(defined$1(yt).toggleEditing(Jn,zt,!1),Rn.editing=!1,Nt(void 0)),defined$1(yt).toggleVisible(Jn,Kn,Zn.visible)),!1),Ln);else if(Mn===1){const Rn=Zn.editing;if(zt){const Kn=definedAndNotNull(findSceneGraphElement(Jn,zt));Kn.editing=!1,yt.toggleEditing(Jn,zt,!1),Nt(void 0)}Rn||(Zn.editing=!0,Nt(Ln),yt.toggleEditing(Jn,Ln,Zn.editing))}});xt(Wn),It()},Jt=(Ln,Mn)=>{if(yt){const Wn=produce(St,Jn=>{const Zn=definedAndNotNull(findSceneGraphElement(Jn,Ln));Zn.position.type==="manual"&&(Zn.position={type:"manual",x:Mn.x,y:Mn.y,z:Mn.z})});xt(Wn)}It()},Vt=()=>{yt&&yt.recenter()},Wt=Ln=>{dt(Ln);const Mn=produce(St,Wn=>{let Jn,Zn,Rn;if(Ln){Jn=findSceneGraphElement(Wn,Ln);const Kn=findSceneGraphParentElement(Wn,Ln,kn=>kn.deviceContext!==void 0);Kn&&(Zn=Kn.deviceContext),Jn&&(Rn=Jn.deviceContext||Zn)}Rn&&tt.universeData.getDeviceContextName(Rn).then(Kn=>{Kn&&pt(Kn)})});xt(Mn)},Lt=Ln=>{const Mn=produce(St,Wn=>{const Jn=definedAndNotNull(findSceneGraphElement(Wn,defined$1(ut)));Ln==="manual"?Jn.position={type:"manual",x:0,y:0,z:0}:Ln==="gps"?Jn.position={type:"gps",relativeToLongitude:0,relativeToLatitude:0}:Ln==="transform tree"&&(Jn.position={type:"transform tree"})});xt(Mn),It()},Bt=(Ln,Mn)=>{at(!1);const Wn=produce(St,Jn=>{const Zn=definedAndNotNull(findSceneGraphElement(Jn,defined$1(ut)));Zn.position={type:"transform tree",stream:Ln,end:Mn},defined$1(yt).updatePositioning(Jn,defined$1(ut),Zn.position)});xt(Wn),It()},Ft=(Ln,Mn,Wn)=>{lt(!1);const Jn=produce(St,Zn=>{const Rn=definedAndNotNull(findSceneGraphElement(Zn,defined$1(ut)));Rn.position={type:"gps",stream:Ln,relativeToLongitude:Mn,relativeToLatitude:Wn},defined$1(yt).updatePositioning(Zn,defined$1(ut),Rn.position)});xt(Jn),It()},sn=()=>{at(!0)},Xt=()=>{at(!1)},dn=()=>{lt(!0)},Yt=()=>{lt(!1)},yn=()=>{ft(!ct)},Qt=(Ln,Mn)=>{yt&&yt.notifyFieldChanged(St,defined$1(ut),Ln,Mn)},Kt=(Ln,Mn,Wn)=>{const Jn=Ln.deviceContext?stringToColor(Ln.deviceContext):Wn;return{title:Ln.name,textColor:Jn,icons:[{icon:Ln.visible?"eye":"eye_closed",description:"click to toggle visibility"},{icon:"edit",description:"edit",color:Ln.editing?"#18d2ff":"white"},{icon:"help",description:LayerRegistry.getDescription(Ln.type)}],children:Ln.children.map((Zn,Rn)=>Kt(Zn,[...Mn,Rn],Jn))}},hn=()=>[{title:"Universe",icons:[{icon:"help",description:"This is your entire collection of layers."}],children:St.map((Ln,Mn)=>Kt(Ln,[Mn]))}],{mode:vn,vr:Sn}=tt;let Cn,cn=!1,ln,bn;if(ut){Cn=findSceneGraphElement(St,ut);const Ln=findSceneGraphParentElement(St,ut,Mn=>Mn.deviceContext!==void 0);Ln&&(ln=Ln.deviceContext,cn=!0),Cn&&(bn=Cn.deviceContext||ln)}const xn=vn==="edit"&&ct;let Nn={};const zn={};return Cn&&(Nn=LayerRegistry.getFields(Cn.type,"edit"),Array.from(Object.keys(Nn)).forEach(Ln=>{zn[Ln]=Cn==null?void 0:Cn.fieldValues[Ln].value})),react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(UniverseSnackbar,null),react.exports.createElement(UniverseContainer,null,react.exports.createElement(Box$1,{display:xn?"grid":"block",gridTemplateColumns:xn?"370px 1fr":void 0,sx:{height:"100%"}},xn&&react.exports.createElement(UniverseSidebar,{onAdd:Ot,onRemove:jt,onDuplicate:kt,onRename:Ut,tree:hn(),onIconInteracted:Ht,onItemSelected:Wt},Cn!=null&&react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(PropertiesTitle,null,"Properties"),react.exports.createElement("div",null,bn!==void 0&&react.exports.createElement(PropertyRow,null,react.exports.createElement(react.exports.Fragment,null,"device:"," ",bn!==void 0?ht:"none")),react.exports.createElement("div",null,react.exports.createElement(Stack$1,{spacing:4},react.exports.createElement("div",null,react.exports.createElement("div",null,"positioning"),react.exports.createElement(Select,{label:"Positioning",value:Cn.position.type,onChange:Lt,items:["manual",...Cn.deviceContext||cn?["transform tree","gps"]:[]].map(Ln=>({label:Ln,value:Ln}))})),Cn.position.type==="manual"&&react.exports.createElement("div",null,react.exports.createElement(Typography$1,{variant:"body1"},"x: ",Cn.position.x.toFixed(4),react.exports.createElement("br",null),"y: ",Cn.position.y.toFixed(4),react.exports.createElement("br",null),"z: ",Cn.position.z.toFixed(4))),Cn.position.type==="gps"&&react.exports.createElement("div",null,react.exports.createElement(Typography$1,{variant:"body1"},"stream: ",Cn.position.stream,react.exports.createElement("br",null),"relative to longitude:"," ",Cn.position.relativeToLongitude,react.exports.createElement("br",null),"relative to latitude:"," ",Cn.position.relativeToLatitude),react.exports.createElement(Button$1,{variant:"contained",onClick:dn},"Select")),Cn.position.type==="transform tree"&&react.exports.createElement("div",null,react.exports.createElement(Typography$1,{variant:"body1"},"stream: ",Cn.position.stream,react.exports.createElement("br",null),"transform: ",Cn.position.end),react.exports.createElement(Button$1,{variant:"contained",onClick:sn},"Select")),Object.entries(Nn).map(([Ln,Mn])=>react.exports.createElement(FieldEditor,{key:Ln,fieldId:Ln,field:Mn,value:zn[Ln],onChange:Qt}))))))),react.exports.createElement(Box$1,{sx:{position:"relative",overflow:"hidden",height:"100%"}},Rt&&react.exports.createElement(UniverseViewer,{ref:Ct,onSceneGraphElementEdited:Jt,universeData:tt.universeData,vr:Sn}),react.exports.createElement(Controls,null,react.exports.createElement(Control,{onClick:Vt},react.exports.createElement(Icon,{name:"recenter"})),vn==="edit"&&react.exports.createElement(Control,{onClick:yn},react.exports.createElement(Icon,{name:"edit"}))))),et&&react.exports.createElement(AddLayerModal,{onCancel:Pt,onAddLayer:Mt,universeData:tt.universeData,deviceContext:(Cn==null?void 0:Cn.deviceContext)||ln}),rt&&react.exports.createElement(RenameLayerModal,{name:gt,onCancel:At,onRenameLayer:Gt}),ot&&bn&&react.exports.createElement(SelectTransformPathModal,{deviceContext:bn,universeData:tt.universeData,onCancel:Xt,onSelect:Bt}),st&&bn&&react.exports.createElement(SelectLocationModal,{deviceContext:bn,universeData:tt.universeData,onCancel:Yt,onSelect:Ft})))}function Universe({mode:tt,universeData:et,initialSceneGraph:nt,onSceneGraphChange:rt,vr:it}){return react.exports.createElement(Recoil_index_4,null,react.exports.createElement(_default$E,null),react.exports.createElement(UniverseApp,{mode:tt,universeData:et,initialSceneGraph:nt,onSceneGraphChange:rt,vr:it}))}class TeleportLayer extends UniverseLayer{constructor(){super(...arguments),__publicField$1(this,"xr"),__publicField$1(this,"marker",new Mesh$1(new CircleGeometry(.25,32),new MeshBasicMaterial$1({color:12240098}))),__publicField$1(this,"floor",new Mesh$1(new PlaneGeometry$1(100,100,2,2),new MeshBasicMaterial$1({color:8421504,transparent:!0,opacity:0}))),__publicField$1(this,"intersection"),__publicField$1(this,"originalBaseReferenceSpace"),__publicField$1(this,"session",null),__publicField$1(this,"lastLeftHandPose","unknown"),__publicField$1(this,"lastLeftHandOpenPoseEndedTime",0),__publicField$1(this,"teleporting",!1)}init(){this.floor.rotation.set(-Math.PI/2,0,0),this.marker.rotation.set(-Math.PI/2,0,0),this.add(this.marker),this.add(this.floor)}onControllersMoved(et){const{raycaster:nt}=et[0],rt=nt.intersectObjects([this.floor]);rt.length>0&&(this.intersection=rt[0].point,this.marker.position.set(this.intersection.x,this.intersection.y,this.intersection.z))}onHandsMoved(et){const{raycaster:nt}=et[0],rt=nt.intersectObjects([this.floor]);rt.length>0?(this.intersection=rt[0].point,this.marker.position.set(this.intersection.x,this.intersection.y,this.intersection.z)):this.intersection=void 0}onControllerButtonChanged(et,nt,rt){et.handedness==="left"&&nt===3&&rt===1&&this.xr&&this.intersection&&(this.teleportTo(this.intersection),et.pulse(1,100))}onHandPosesChanged(et){const nt=et[0].getHandPose();this.lastLeftHandPose==="open"&&(this.lastLeftHandOpenPoseEndedTime=Date.now()),nt==="fist"&&this.intersection&&Date.now()-this.lastLeftHandOpenPoseEndedTime<200&&this.teleportTo(this.intersection),this.lastLeftHandPose=nt}teleportTo(et){if(this.xr){const nt=this.xr.getSession(),rt=this.xr.getReferenceSpace();if(rt&&this.camera){(!this.originalBaseReferenceSpace||this.session!==nt)&&(this.originalBaseReferenceSpace=rt,this.session=nt);const it={x:-et.x,y:-et.y,z:-et.z,w:1},ot=new Quaternion$1,at=new XRRigidTransform(it,ot),st=this.originalBaseReferenceSpace.getOffsetReferenceSpace(at);this.xr.setReferenceSpace(st)}}}onEnterVR(et){this.xr=et}onExitVR(et){this.xr=void 0}}__publicField$1(TeleportLayer,"layerTypeId","teleport");__publicField$1(TeleportLayer,"commonName","Teleport");__publicField$1(TeleportLayer,"description","This a plane on the floor responsive to teleportation.");LayerRegistry.register(DataLayer);LayerRegistry.register(LabelLayer);LayerRegistry.register(TransformLayer);LayerRegistry.register(GroundLayer);LayerRegistry.register(ImageLayer);LayerRegistry.register(GltfLayer);LayerRegistry.register(GroundLayer);LayerRegistry.register(GridMapLayer);LayerRegistry.register(GeometryLayer);LayerRegistry.register(PointCloudLayer);LayerRegistry.register(DeviceVisualUrdfLayer);LayerRegistry.register(DeviceVisualTFLayer);LayerRegistry.register(VideoLayer);const SPOT_ID="abc",ARM1_ID="asdfadsfas",ARM2_ID="124fasd",ARM3_ID="77hrtesgdafdsh";class SimulatedUniverseData{constructor(){io(this,"time",Date.now())}subscribeToNumeric(et,nt,rt){throw new Error("Method not implemented.")}subscribeToNumericSet(et,nt,rt){throw new Error("Method not implemented.")}getInteractionContext(){throw new Error("Method not implemented.")}addInteractionContextChangedListener(et){throw new Error("Method not implemented.")}removeInteractionContextChangedListener(et){throw new Error("Method not implemented.")}getRealtimeButtons(et){throw new Error("Method not implemented.")}sendRealtimeButtonState(et,nt,rt){throw new Error("Method not implemented.")}subscribeToGridMap(et,nt,rt){throw new Error("Method not implemented.")}subscribeToVideo(et,nt,rt){const it=new Image;return it.crossOrigin="Anonymous",it.addEventListener("load",()=>{const ot=document.createElement("canvas");ot.width=it.width,ot.height=it.height;const at=ot.getContext("2d");at&&(at.drawImage(it,0,0),rt(ot))},!1),it.src="https://threejs.org/examples/textures/2294472375_24a3b8ef46_o.jpg",()=>{}}subscribeToJson(et,nt,rt){throw new Error("Method not implemented.")}subscribeToText(et,nt,rt){throw new Error("Method not implemented.")}getStatistics(){throw new Error("Method not implemented.")}subscribeDataSourceStateChange(et,nt,rt){throw new Error("Method not implemented.")}setTime(et){if(et==="live")throw new Error("Not implemented");this.time=et}async getLatestTransformTrees(et){return et===SPOT_ID?[{streamName:"spotTf",transformTree:await fetch("https://formant-3d-models.s3.us-west-2.amazonaws.com/spotjoint_sit.json").then(nt=>nt.json())}]:[]}async getLatestLocations(){return[{streamName:"spotLocation",location:{latitude:45.4661989,longitude:-122.5782375}}]}async getDeviceContexts(){return[{deviceName:"Spot-9000",deviceId:SPOT_ID},{deviceName:"Roboarm 1",deviceId:ARM1_ID},{deviceName:"Roboarm 2",deviceId:ARM2_ID},{deviceName:"Roboarm 3",deviceId:ARM3_ID}]}async getDeviceContextName(et){if(et===SPOT_ID)return"Spot-9000";if(et===ARM1_ID)return"Roboarm 1";if(et===ARM2_ID)return"Roboarm 2";if(et===ARM3_ID)return"Roboarm 3"}async getTelemetryStreamType(et,nt){if(nt==="spotTf")return"transform tree"}subscribeToPointCloud(et,nt,rt){return()=>{}}subscribeToGeometry(et,nt,rt){return rt({markers:[...Array(100).keys()].map(()=>({id:Math.random(),ns:`cube${Math.random()}`,type:"cube",action:"add",lifetime:1e5,frame_id:"base_link",points:[],text:"",mesh_resource:"",frame_locked:!1,mesh_use_embedded_materials:!1,color:{r:1,g:1,b:1,a:.4},colors:[],pose:{translation:{x:20*Math.random()-10,y:20*Math.random()-10,z:0},rotation:{x:0,y:0,z:0,w:1}},scale:{x:.1,y:.1,z:.1}}))}),()=>{}}subscribeToJointState(et,nt,rt){return et===SPOT_ID?window.setInterval(()=>{rt({name:["fl.hx","fl.hy","fl.kn","fr.hx","fr.hy","fr.kn","hl.hx","hl.hy","hl.kn","hr.hx","hr.hy","hr.kn"],position:[0,Math.sin(this.time/1e3),Math.cos(this.time/1e3),0,Math.cos(this.time/1e3),Math.sin(this.time/1e3),0,Math.sin(this.time/1e3),Math.cos(this.time/1e3),0,Math.cos(this.time/1e3),Math.sin(this.time/1e3)]})},60/12):et===ARM1_ID?window.setInterval(()=>{rt({name:["joint_1","joint_2","joint_3","joint_4","joint_5","joint_6"],position:[Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3)]})},60/12):et===ARM2_ID?window.setInterval(()=>{rt({name:["joint_1","joint_2","joint_3","joint_4","joint_5","joint_6"],position:[Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3)]})},60/12):et===ARM3_ID&&window.setInterval(()=>{rt({name:["joint_1","joint_2","joint_3","joint_4","joint_5","joint_6"],position:[Math.sin(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3),Math.cos(this.time/1e3/3)]})},60/12),()=>{}}subscribeToMap(et,nt,rt){return()=>{}}async getTelemetryStreams(et){return et===SPOT_ID?[{name:"spotTf",configuration:{type:"transform tree"}}]:[]}async getTeleopRosStreams(et){return et===SPOT_ID?[{topicType:"sensor_msgs/JointState",topicName:"spotJoints"},{topicType:"visualization_msgs/MarkerArray",topicName:"spotMarkers"}]:[{topicType:"sensor_msgs/JointState",topicName:"armJoints"}]}async getUrdfs(et){return et===SPOT_ID?["https://formant-3d-models.s3.us-west-2.amazonaws.com/spot.zip"]:["https://formant-3d-models.s3.us-west-2.amazonaws.com/arm.zip"]}async getHardwareStreams(et){return[]}subscribeToTransformTree(et,nt,rt){return et===SPOT_ID&&rt({url:"https://formant-3d-models.s3.us-west-2.amazonaws.com/spotjoint_sit.json"}),()=>{}}subscribeToLocation(et,nt,rt){return nt.sourceType==="telemetry"&&(et===SPOT_ID?window.setInterval(()=>{const ot=-122.5782375+2e-5*Math.sin(this.time/1e3/3);rt({latitude:45.4661989,longitude:ot})},60/12):et===ARM1_ID?rt({latitude:45.4661989+1e-5,longitude:-122.5782375}):et===ARM2_ID?rt({latitude:45.4661989+1e-5,longitude:-122.5782375+1e-5}):et===ARM3_ID&&rt({latitude:45.4661989+1e-5,longitude:-122.5782375+1e-5+1e-5})),()=>{}}}function createScene(){return[{id:v4(),editing:!1,type:"teleport",name:"Teleport",deviceContext:void 0,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"xbox",name:"Xbox",deviceContext:void 0,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"hands",name:"Hands",deviceContext:void 0,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"data",name:"Spot-9000",deviceContext:SPOT_ID,children:[{id:v4(),editing:!1,type:"video",name:"Video",deviceContext:"abcd",children:[],visible:!0,position:{type:"manual",x:0,y:1.4,z:0},fieldValues:{videoShape:{type:"text",value:"sphere",location:[]}},dataSources:[{id:"89d29103-2686-4ae6-b525-f660dcd2e17a",sourceType:"realtime",rosTopicName:"armJoints",rosTopicType:"sensor_msgs/JointState"}],data:{}},{id:v4(),editing:!1,type:"label",name:"Name Label",deviceContext:"abc",children:[],visible:!0,position:{type:"manual",x:0,y:.9554891467013107,z:16653345369377348e-32},fieldValues:{label_text:{type:"text",location:[],value:"Spot-9000"}},data:{}},{children:[],id:v4(),visible:!0,editing:!1,position:{type:"manual",x:0,y:.6511622,z:0},fieldValues:{},name:"Spot URDF",type:"device_visual_urdf",data:"A 3D model to represent a robot.",dataSources:[{id:v4(),sourceType:"realtime",rosTopicName:"spotJoints",rosTopicType:"sensor_msgs/JointState"}],deviceContext:SPOT_ID}],visible:!0,position:{type:"gps",stream:"spotLocation",relativeToLongitude:-122.5782375,relativeToLatitude:45.4661989},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"data",name:"RoboArm1",deviceContext:ARM1_ID,children:[{id:v4(),editing:!1,type:"label",name:"Name Label",deviceContext:ARM1_ID,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{label_text:{location:[],type:"text",value:"RoboArm1"}},data:{}},{children:[],id:v4(),visible:!0,editing:!1,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},name:"Arm URDF",type:"device_visual_urdf",data:"A 3D model to represent a robot.",dataSources:[{id:"89d29103-2686-4ae6-b525-f660dcd2e17a",sourceType:"realtime",rosTopicName:"armJoints",rosTopicType:"sensor_msgs/JointState"}],deviceContext:ARM1_ID}],visible:!0,position:{type:"gps",stream:"armLocation",relativeToLongitude:-122.5782375,relativeToLatitude:45.4661989},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"data",name:"RoboArm2",deviceContext:ARM2_ID,children:[{id:v4(),editing:!1,type:"label",name:"Name Label",deviceContext:ARM2_ID,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{label_text:{location:[],type:"text",value:"RoboArm2"}},data:{}},{children:[],id:v4(),visible:!0,editing:!1,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},name:"Arm URDF",type:"device_visual_urdf",data:"A 3D model to represent a robot.",dataSources:[{id:"89d29103-2686-4ae6-b525-f660dcd2e17a",sourceType:"realtime",rosTopicName:"armJoints",rosTopicType:"sensor_msgs/JointState"}],deviceContext:ARM2_ID}],visible:!0,position:{type:"gps",stream:"armLocation",relativeToLongitude:-122.5782375,relativeToLatitude:45.4661989},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"data",name:"RoboArm3",deviceContext:ARM3_ID,children:[{id:v4(),editing:!1,type:"label",name:"Name Label",deviceContext:ARM3_ID,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{label_text:{type:"text",location:[],value:"RoboArm3"}},data:{}},{children:[],id:v4(),visible:!0,editing:!1,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},name:"Arm URDF",type:"device_visual_urdf",data:"A 3D model to represent a robot.",dataSources:[{id:"89d29103-2686-4ae6-b525-f660dcd2e17a",sourceType:"realtime",rosTopicName:"armJoints",rosTopicType:"sensor_msgs/JointState"}],deviceContext:ARM3_ID}],visible:!0,position:{type:"gps",stream:"armLocation",relativeToLongitude:-122.5782375,relativeToLatitude:45.4661989},fieldValues:{},data:{}},{id:v4(),editing:!1,type:"ground",name:"Ground",deviceContext:void 0,children:[],visible:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{},data:{}},{children:[],id:"ac2dc279-b50a-4c02-b65e-8c545be92b6c",visible:!0,editing:!0,position:{type:"manual",x:0,y:0,z:0},fieldValues:{url:{location:[],type:"text",value:"https://formant-3d-models.s3.us-west-2.amazonaws.com/tadao_ando.glb"}},name:"Grass",type:"3dmodel",data:"A 3D model."}]}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(tt,et,nt)=>et in tt?__defProp(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[et]=nt,__spreadValues=(tt,et)=>{for(var nt in et||(et={}))__hasOwnProp.call(et,nt)&&__defNormalProp(tt,nt,et[nt]);if(__getOwnPropSymbols)for(var nt of __getOwnPropSymbols(et))__propIsEnum.call(et,nt)&&__defNormalProp(tt,nt,et[nt]);return tt},__publicField=(tt,et,nt)=>(__defNormalProp(tt,typeof et!="symbol"?et+"":et,nt),nt),dist={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){var t;t=function(){return function(tt){function et(ct){for(var ft,ut,dt=ct[0],ht=ct[1],pt=0,gt=[];pt<dt.length;pt++)ut=dt[pt],Object.prototype.hasOwnProperty.call(rt,ut)&&rt[ut]&&gt.push(rt[ut][0]),rt[ut]=0;for(ft in ht)Object.prototype.hasOwnProperty.call(ht,ft)&&(tt[ft]=ht[ft]);for(lt&&lt(ct);gt.length;)gt.shift()()}var nt={},rt={0:0};function it(ct){if(nt[ct])return nt[ct].exports;var ft=nt[ct]={i:ct,l:!1,exports:{}};return tt[ct].call(ft.exports,ft,ft.exports,it),ft.l=!0,ft.exports}it.e=function(){return Promise.resolve()},it.m=tt,it.c=nt,it.d=function(ct,ft,ut){it.o(ct,ft)||Object.defineProperty(ct,ft,{enumerable:!0,get:ut})},it.r=function(ct){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ct,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ct,"__esModule",{value:!0})},it.t=function(ct,ft){if(1&ft&&(ct=it(ct)),8&ft||4&ft&&typeof ct=="object"&&ct&&ct.__esModule)return ct;var ut=Object.create(null);if(it.r(ut),Object.defineProperty(ut,"default",{enumerable:!0,value:ct}),2&ft&&typeof ct!="string")for(var dt in ct)it.d(ut,dt,function(ht){return ct[ht]}.bind(null,dt));return ut},it.n=function(ct){var ft=ct&&ct.__esModule?function(){return ct.default}:function(){return ct};return it.d(ft,"a",ft),ft},it.o=function(ct,ft){return Object.prototype.hasOwnProperty.call(ct,ft)},it.p="",it.oe=function(ct){throw console.error(ct),ct};var ot=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],at=ot.push.bind(ot);ot.push=et,ot=ot.slice();for(var st=0;st<ot.length;st++)et(ot[st]);var lt=at;return it(it.s=228)}([function(tt,et,nt){nt.d(et,"a",function(){return Nt});const rt=Math.pow(2,20);var it=nt(54),ot=nt(15),at=nt(53),st=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),lt=new Uint8Array(16);function ct(){if(!st)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return st(lt)}for(var ft=[],ut=0;ut<256;++ut)ft[ut]=(ut+256).toString(16).substr(1);var dt=nt(16),ht=nt(7),pt=nt(21),gt=nt(30);function mt(wt,Et={}){const Rt=Ct=>Et.redacted!==!1?Object(gt.a)(Ct):Ct;if(!wt.stack)return{message:pt(Rt(wt),{cycles:!0})};const{name:Tt,message:It,stack:Pt}=wt,Dt=function(Ct,Ot){var Ut={};for(var At in Ct)Object.prototype.hasOwnProperty.call(Ct,At)&&Ot.indexOf(At)<0&&(Ut[At]=Ct[At]);if(Ct!=null&&typeof Object.getOwnPropertySymbols=="function"){var Mt=0;for(At=Object.getOwnPropertySymbols(Ct);Mt<At.length;Mt++)Ot.indexOf(At[Mt])<0&&Object.prototype.propertyIsEnumerable.call(Ct,At[Mt])&&(Ut[At[Mt]]=Ct[At[Mt]])}return Ut}(wt,["name","message","stack"]);return{name:Tt,message:It!==void 0?It:pt(Rt(wt),{cycles:!0}),stack:Pt,meta:Dt&&Object.keys(Dt).length===0?void 0:Rt(Dt)}}function yt(wt,Et={}){const{message:Rt,stack:Tt,meta:It}=mt(wt,Et);return`${Tt||Rt||""}${It&&Object.keys(It).length>0?` -- ${pt(It,{cycles:!0})}`:""}`}var bt=nt(99),St=function(wt,Et,Rt,Tt){return new(Rt||(Rt=Promise))(function(It,Pt){function Dt(Ut){try{Ot(Tt.next(Ut))}catch(At){Pt(At)}}function Ct(Ut){try{Ot(Tt.throw(Ut))}catch(At){Pt(At)}}function Ot(Ut){var At;Ut.done?It(Ut.value):(At=Ut.value,At instanceof Rt?At:new Rt(function(Mt){Mt(At)})).then(Dt,Ct)}Ot((Tt=Tt.apply(wt,Et||[])).next())})},xt=function(wt,Et){var Rt={};for(var Tt in wt)Object.prototype.hasOwnProperty.call(wt,Tt)&&Et.indexOf(Tt)<0&&(Rt[Tt]=wt[Tt]);if(wt!=null&&typeof Object.getOwnPropertySymbols=="function"){var It=0;for(Tt=Object.getOwnPropertySymbols(wt);It<Tt.length;It++)Et.indexOf(Tt[It])<0&&Object.prototype.propertyIsEnumerable.call(wt,Tt[It])&&(Rt[Tt[It]]=wt[Tt[It]])}return Rt};const vt={app:ht.a,namespace:ht.i,buildTag:ht.b,instanceId:function(wt,Et,Rt){var Tt=Et&&Rt||0;typeof wt=="string"&&(Et=wt==="binary"?new Array(16):null,wt=null);var It=(wt=wt||{}).random||(wt.rng||ct)();if(It[6]=15&It[6]|64,It[8]=63&It[8]|128,Et)for(var Pt=0;Pt<16;++Pt)Et[Tt+Pt]=It[Pt];return Et||function(Dt,Ct){var Ot=Ct||0,Ut=ft;return[Ut[Dt[Ot++]],Ut[Dt[Ot++]],Ut[Dt[Ot++]],Ut[Dt[Ot++]],"-",Ut[Dt[Ot++]],Ut[Dt[Ot++]],"-",Ut[Dt[Ot++]],Ut[Dt[Ot++]],"-",Ut[Dt[Ot++]],Ut[Dt[Ot++]],"-",Ut[Dt[Ot++]],Ut[Dt[Ot++]],Ut[Dt[Ot++]],Ut[Dt[Ot++]],Ut[Dt[Ot++]],Ut[Dt[Ot++]]].join("")}(It)}()};let $t={};const zt=ht.e?dt.format.printf(wt=>{var{timestamp:Et,level:Rt,message:Tt,error:It}=wt,Pt=xt(wt,["timestamp","level","message","error"]);const Dt=Object.assign(Object.assign({timestamp:Et?new Date(Et).getTime():new Date().getTime(),level:Rt.toUpperCase(),message:Tt},It?{error:mt(It)}:{}),{meta:Object.assign(Object.assign(Object.assign({},vt),$t),Pt)});try{return JSON.stringify(Dt)}catch{return it(Dt)}}):dt.format.printf(wt=>{var{timestamp:Et,level:Rt,message:Tt,error:It}=wt,Pt=xt(wt,["timestamp","level","message","error"]);let Dt=`${Et||new Date().toISOString()} ${Rt.toUpperCase()}: ${Tt} `;if(Object.keys(Pt).length>0)try{Dt+=JSON.stringify(Pt)}catch{Dt+=it(Pt)}return It&&(Dt+=`
${yt(It)}`),Dt}),Nt=Object(dt.createLogger)({level:ht.f});if(ht.g&&Nt.add(new dt.transports.Console({format:zt,level:"debug"})),ht.d&&Nt.add(new class extends bt{constructor(wt,Et){super(),this.endpoint=wt,this.meta=Et,this.logClient=this.getLogClient()}getLogClient(){return St(this,void 0,void 0,function*(){const{LogClient:wt}=yield Promise.resolve().then(nt.bind(null,230));return new wt(this.endpoint)})}log(wt,Et){return St(this,void 0,void 0,function*(){const{level:Rt,message:Tt,error:It}=wt,Pt=function(Dt,Ct){var Ot={};for(var Ut in Dt)Object.prototype.hasOwnProperty.call(Dt,Ut)&&Ct.indexOf(Ut)<0&&(Ot[Ut]=Dt[Ut]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function"){var At=0;for(Ut=Object.getOwnPropertySymbols(Dt);At<Ut.length;At++)Ct.indexOf(Ut[At])<0&&Object.prototype.propertyIsEnumerable.call(Dt,Ut[At])&&(Ot[Ut[At]]=Dt[Ut[At]])}return Ot}(wt,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:Rt,message:Tt.substring(0,1e3),error:It!==void 0?mt(It):void 0,meta:Object.assign(Object.assign({},Pt),this.meta())}])}catch(Dt){console.error(`Failed to log to log-api: ${yt(Dt)}`)}Et()})}}(ht.d,()=>Object.assign(Object.assign(Object.assign({},vt),$t),{level:"debug"}))),ht.h){const wt=at.resolve(ot.tmpdir(),`silly-${ht.a}.log`);Nt.debug("Logging silly logs to file",{filename:wt}),Nt.add(new dt.transports.File({filename:wt,maxsize:1*rt,maxFiles:10,format:dt.format.combine(Object(dt.format)(Et=>Et.level==="silly"&&Et)(),zt),level:"silly"}))}},function(tt,et,nt){nt.d(et,"a",function(){return rt});const rt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(tt,et){var nt,rt,it=tt.exports={};function ot(){throw new Error("setTimeout has not been defined")}function at(){throw new Error("clearTimeout has not been defined")}function st(mt){if(nt===setTimeout)return setTimeout(mt,0);if((nt===ot||!nt)&&setTimeout)return nt=setTimeout,setTimeout(mt,0);try{return nt(mt,0)}catch{try{return nt.call(null,mt,0)}catch{return nt.call(this,mt,0)}}}(function(){try{nt=typeof setTimeout=="function"?setTimeout:ot}catch{nt=ot}try{rt=typeof clearTimeout=="function"?clearTimeout:at}catch{rt=at}})();var lt,ct=[],ft=!1,ut=-1;function dt(){ft&&lt&&(ft=!1,lt.length?ct=lt.concat(ct):ut=-1,ct.length&&ht())}function ht(){if(!ft){var mt=st(dt);ft=!0;for(var yt=ct.length;yt;){for(lt=ct,ct=[];++ut<yt;)lt&&lt[ut].run();ut=-1,yt=ct.length}lt=null,ft=!1,function(bt){if(rt===clearTimeout)return clearTimeout(bt);if((rt===at||!rt)&&clearTimeout)return rt=clearTimeout,clearTimeout(bt);try{rt(bt)}catch{try{return rt.call(null,bt)}catch{return rt.call(this,bt)}}}(mt)}}function pt(mt,yt){this.fun=mt,this.array=yt}function gt(){}it.nextTick=function(mt){var yt=new Array(arguments.length-1);if(arguments.length>1)for(var bt=1;bt<arguments.length;bt++)yt[bt-1]=arguments[bt];ct.push(new pt(mt,yt)),ct.length!==1||ft||st(ht)},pt.prototype.run=function(){this.fun.apply(null,this.array)},it.title="browser",it.browser=!0,it.env={},it.argv=[],it.version="",it.versions={},it.on=gt,it.addListener=gt,it.once=gt,it.off=gt,it.removeListener=gt,it.removeAllListeners=gt,it.emit=gt,it.prependListener=gt,it.prependOnceListener=gt,it.listeners=function(mt){return[]},it.binding=function(mt){throw new Error("process.binding is not supported")},it.cwd=function(){return"/"},it.chdir=function(mt){throw new Error("process.chdir is not supported")},it.umask=function(){return 0}},function(tt,et,nt){Object.defineProperty(et,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(et,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(et,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(et,"configs",{value:nt(117)})},function(tt,et,nt){(function(rt){var it=nt(125),ot=nt(126),at=nt(38);function st(){return ct.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function lt(Lt,Bt){if(st()<Bt)throw new RangeError("Invalid typed array length");return ct.TYPED_ARRAY_SUPPORT?(Lt=new Uint8Array(Bt)).__proto__=ct.prototype:(Lt===null&&(Lt=new ct(Bt)),Lt.length=Bt),Lt}function ct(Lt,Bt,Ft){if(!(ct.TYPED_ARRAY_SUPPORT||this instanceof ct))return new ct(Lt,Bt,Ft);if(typeof Lt=="number"){if(typeof Bt=="string")throw new Error("If encoding is specified then the first argument must be a string");return dt(this,Lt)}return ft(this,Lt,Bt,Ft)}function ft(Lt,Bt,Ft,sn){if(typeof Bt=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&Bt instanceof ArrayBuffer?function(Xt,dn,Yt,yn){if(dn.byteLength,Yt<0||dn.byteLength<Yt)throw new RangeError("'offset' is out of bounds");if(dn.byteLength<Yt+(yn||0))throw new RangeError("'length' is out of bounds");return dn=Yt===void 0&&yn===void 0?new Uint8Array(dn):yn===void 0?new Uint8Array(dn,Yt):new Uint8Array(dn,Yt,yn),ct.TYPED_ARRAY_SUPPORT?(Xt=dn).__proto__=ct.prototype:Xt=ht(Xt,dn),Xt}(Lt,Bt,Ft,sn):typeof Bt=="string"?function(Xt,dn,Yt){if(typeof Yt=="string"&&Yt!==""||(Yt="utf8"),!ct.isEncoding(Yt))throw new TypeError('"encoding" must be a valid string encoding');var yn=0|gt(dn,Yt),Qt=(Xt=lt(Xt,yn)).write(dn,Yt);return Qt!==yn&&(Xt=Xt.slice(0,Qt)),Xt}(Lt,Bt,Ft):function(Xt,dn){if(ct.isBuffer(dn)){var Yt=0|pt(dn.length);return(Xt=lt(Xt,Yt)).length===0||dn.copy(Xt,0,0,Yt),Xt}if(dn){if(typeof ArrayBuffer!="undefined"&&dn.buffer instanceof ArrayBuffer||"length"in dn)return typeof dn.length!="number"||(yn=dn.length)!=yn?lt(Xt,0):ht(Xt,dn);if(dn.type==="Buffer"&&at(dn.data))return ht(Xt,dn.data)}var yn;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Lt,Bt)}function ut(Lt){if(typeof Lt!="number")throw new TypeError('"size" argument must be a number');if(Lt<0)throw new RangeError('"size" argument must not be negative')}function dt(Lt,Bt){if(ut(Bt),Lt=lt(Lt,Bt<0?0:0|pt(Bt)),!ct.TYPED_ARRAY_SUPPORT)for(var Ft=0;Ft<Bt;++Ft)Lt[Ft]=0;return Lt}function ht(Lt,Bt){var Ft=Bt.length<0?0:0|pt(Bt.length);Lt=lt(Lt,Ft);for(var sn=0;sn<Ft;sn+=1)Lt[sn]=255&Bt[sn];return Lt}function pt(Lt){if(Lt>=st())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+st().toString(16)+" bytes");return 0|Lt}function gt(Lt,Bt){if(ct.isBuffer(Lt))return Lt.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Lt)||Lt instanceof ArrayBuffer))return Lt.byteLength;typeof Lt!="string"&&(Lt=""+Lt);var Ft=Lt.length;if(Ft===0)return 0;for(var sn=!1;;)switch(Bt){case"ascii":case"latin1":case"binary":return Ft;case"utf8":case"utf-8":case void 0:return Jt(Lt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ft;case"hex":return Ft>>>1;case"base64":return Vt(Lt).length;default:if(sn)return Jt(Lt).length;Bt=(""+Bt).toLowerCase(),sn=!0}}function mt(Lt,Bt,Ft){var sn=!1;if((Bt===void 0||Bt<0)&&(Bt=0),Bt>this.length||((Ft===void 0||Ft>this.length)&&(Ft=this.length),Ft<=0)||(Ft>>>=0)<=(Bt>>>=0))return"";for(Lt||(Lt="utf8");;)switch(Lt){case"hex":return Pt(this,Bt,Ft);case"utf8":case"utf-8":return Rt(this,Bt,Ft);case"ascii":return Tt(this,Bt,Ft);case"latin1":case"binary":return It(this,Bt,Ft);case"base64":return Et(this,Bt,Ft);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dt(this,Bt,Ft);default:if(sn)throw new TypeError("Unknown encoding: "+Lt);Lt=(Lt+"").toLowerCase(),sn=!0}}function yt(Lt,Bt,Ft){var sn=Lt[Bt];Lt[Bt]=Lt[Ft],Lt[Ft]=sn}function bt(Lt,Bt,Ft,sn,Xt){if(Lt.length===0)return-1;if(typeof Ft=="string"?(sn=Ft,Ft=0):Ft>2147483647?Ft=2147483647:Ft<-2147483648&&(Ft=-2147483648),Ft=+Ft,isNaN(Ft)&&(Ft=Xt?0:Lt.length-1),Ft<0&&(Ft=Lt.length+Ft),Ft>=Lt.length){if(Xt)return-1;Ft=Lt.length-1}else if(Ft<0){if(!Xt)return-1;Ft=0}if(typeof Bt=="string"&&(Bt=ct.from(Bt,sn)),ct.isBuffer(Bt))return Bt.length===0?-1:St(Lt,Bt,Ft,sn,Xt);if(typeof Bt=="number")return Bt&=255,ct.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Xt?Uint8Array.prototype.indexOf.call(Lt,Bt,Ft):Uint8Array.prototype.lastIndexOf.call(Lt,Bt,Ft):St(Lt,[Bt],Ft,sn,Xt);throw new TypeError("val must be string, number or Buffer")}function St(Lt,Bt,Ft,sn,Xt){var dn,Yt=1,yn=Lt.length,Qt=Bt.length;if(sn!==void 0&&((sn=String(sn).toLowerCase())==="ucs2"||sn==="ucs-2"||sn==="utf16le"||sn==="utf-16le")){if(Lt.length<2||Bt.length<2)return-1;Yt=2,yn/=2,Qt/=2,Ft/=2}function Kt(Cn,cn){return Yt===1?Cn[cn]:Cn.readUInt16BE(cn*Yt)}if(Xt){var hn=-1;for(dn=Ft;dn<yn;dn++)if(Kt(Lt,dn)===Kt(Bt,hn===-1?0:dn-hn)){if(hn===-1&&(hn=dn),dn-hn+1===Qt)return hn*Yt}else hn!==-1&&(dn-=dn-hn),hn=-1}else for(Ft+Qt>yn&&(Ft=yn-Qt),dn=Ft;dn>=0;dn--){for(var vn=!0,Sn=0;Sn<Qt;Sn++)if(Kt(Lt,dn+Sn)!==Kt(Bt,Sn)){vn=!1;break}if(vn)return dn}return-1}function xt(Lt,Bt,Ft,sn){Ft=Number(Ft)||0;var Xt=Lt.length-Ft;sn?(sn=Number(sn))>Xt&&(sn=Xt):sn=Xt;var dn=Bt.length;if(dn%2!=0)throw new TypeError("Invalid hex string");sn>dn/2&&(sn=dn/2);for(var Yt=0;Yt<sn;++Yt){var yn=parseInt(Bt.substr(2*Yt,2),16);if(isNaN(yn))return Yt;Lt[Ft+Yt]=yn}return Yt}function vt(Lt,Bt,Ft,sn){return Wt(Jt(Bt,Lt.length-Ft),Lt,Ft,sn)}function $t(Lt,Bt,Ft,sn){return Wt(function(Xt){for(var dn=[],Yt=0;Yt<Xt.length;++Yt)dn.push(255&Xt.charCodeAt(Yt));return dn}(Bt),Lt,Ft,sn)}function zt(Lt,Bt,Ft,sn){return $t(Lt,Bt,Ft,sn)}function Nt(Lt,Bt,Ft,sn){return Wt(Vt(Bt),Lt,Ft,sn)}function wt(Lt,Bt,Ft,sn){return Wt(function(Xt,dn){for(var Yt,yn,Qt,Kt=[],hn=0;hn<Xt.length&&!((dn-=2)<0);++hn)yn=(Yt=Xt.charCodeAt(hn))>>8,Qt=Yt%256,Kt.push(Qt),Kt.push(yn);return Kt}(Bt,Lt.length-Ft),Lt,Ft,sn)}function Et(Lt,Bt,Ft){return Bt===0&&Ft===Lt.length?it.fromByteArray(Lt):it.fromByteArray(Lt.slice(Bt,Ft))}function Rt(Lt,Bt,Ft){Ft=Math.min(Lt.length,Ft);for(var sn=[],Xt=Bt;Xt<Ft;){var dn,Yt,yn,Qt,Kt=Lt[Xt],hn=null,vn=Kt>239?4:Kt>223?3:Kt>191?2:1;if(Xt+vn<=Ft)switch(vn){case 1:Kt<128&&(hn=Kt);break;case 2:(192&(dn=Lt[Xt+1]))==128&&(Qt=(31&Kt)<<6|63&dn)>127&&(hn=Qt);break;case 3:dn=Lt[Xt+1],Yt=Lt[Xt+2],(192&dn)==128&&(192&Yt)==128&&(Qt=(15&Kt)<<12|(63&dn)<<6|63&Yt)>2047&&(Qt<55296||Qt>57343)&&(hn=Qt);break;case 4:dn=Lt[Xt+1],Yt=Lt[Xt+2],yn=Lt[Xt+3],(192&dn)==128&&(192&Yt)==128&&(192&yn)==128&&(Qt=(15&Kt)<<18|(63&dn)<<12|(63&Yt)<<6|63&yn)>65535&&Qt<1114112&&(hn=Qt)}hn===null?(hn=65533,vn=1):hn>65535&&(hn-=65536,sn.push(hn>>>10&1023|55296),hn=56320|1023&hn),sn.push(hn),Xt+=vn}return function(Sn){var Cn=Sn.length;if(Cn<=4096)return String.fromCharCode.apply(String,Sn);for(var cn="",ln=0;ln<Cn;)cn+=String.fromCharCode.apply(String,Sn.slice(ln,ln+=4096));return cn}(sn)}function Tt(Lt,Bt,Ft){var sn="";Ft=Math.min(Lt.length,Ft);for(var Xt=Bt;Xt<Ft;++Xt)sn+=String.fromCharCode(127&Lt[Xt]);return sn}function It(Lt,Bt,Ft){var sn="";Ft=Math.min(Lt.length,Ft);for(var Xt=Bt;Xt<Ft;++Xt)sn+=String.fromCharCode(Lt[Xt]);return sn}function Pt(Lt,Bt,Ft){var sn=Lt.length;(!Bt||Bt<0)&&(Bt=0),(!Ft||Ft<0||Ft>sn)&&(Ft=sn);for(var Xt="",dn=Bt;dn<Ft;++dn)Xt+=Ht(Lt[dn]);return Xt}function Dt(Lt,Bt,Ft){for(var sn=Lt.slice(Bt,Ft),Xt="",dn=0;dn<sn.length;dn+=2)Xt+=String.fromCharCode(sn[dn]+256*sn[dn+1]);return Xt}function Ct(Lt,Bt,Ft){if(Lt%1!=0||Lt<0)throw new RangeError("offset is not uint");if(Lt+Bt>Ft)throw new RangeError("Trying to access beyond buffer length")}function Ot(Lt,Bt,Ft,sn,Xt,dn){if(!ct.isBuffer(Lt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Bt>Xt||Bt<dn)throw new RangeError('"value" argument is out of bounds');if(Ft+sn>Lt.length)throw new RangeError("Index out of range")}function Ut(Lt,Bt,Ft,sn){Bt<0&&(Bt=65535+Bt+1);for(var Xt=0,dn=Math.min(Lt.length-Ft,2);Xt<dn;++Xt)Lt[Ft+Xt]=(Bt&255<<8*(sn?Xt:1-Xt))>>>8*(sn?Xt:1-Xt)}function At(Lt,Bt,Ft,sn){Bt<0&&(Bt=4294967295+Bt+1);for(var Xt=0,dn=Math.min(Lt.length-Ft,4);Xt<dn;++Xt)Lt[Ft+Xt]=Bt>>>8*(sn?Xt:3-Xt)&255}function Mt(Lt,Bt,Ft,sn,Xt,dn){if(Ft+sn>Lt.length)throw new RangeError("Index out of range");if(Ft<0)throw new RangeError("Index out of range")}function jt(Lt,Bt,Ft,sn,Xt){return Xt||Mt(Lt,0,Ft,4),ot.write(Lt,Bt,Ft,sn,23,4),Ft+4}function kt(Lt,Bt,Ft,sn,Xt){return Xt||Mt(Lt,0,Ft,8),ot.write(Lt,Bt,Ft,sn,52,8),Ft+8}et.Buffer=ct,et.SlowBuffer=function(Lt){return+Lt!=Lt&&(Lt=0),ct.alloc(+Lt)},et.INSPECT_MAX_BYTES=50,ct.TYPED_ARRAY_SUPPORT=rt.TYPED_ARRAY_SUPPORT!==void 0?rt.TYPED_ARRAY_SUPPORT:function(){try{var Lt=new Uint8Array(1);return Lt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Lt.foo()===42&&typeof Lt.subarray=="function"&&Lt.subarray(1,1).byteLength===0}catch{return!1}}(),et.kMaxLength=st(),ct.poolSize=8192,ct._augment=function(Lt){return Lt.__proto__=ct.prototype,Lt},ct.from=function(Lt,Bt,Ft){return ft(null,Lt,Bt,Ft)},ct.TYPED_ARRAY_SUPPORT&&(ct.prototype.__proto__=Uint8Array.prototype,ct.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&ct[Symbol.species]===ct&&Object.defineProperty(ct,Symbol.species,{value:null,configurable:!0})),ct.alloc=function(Lt,Bt,Ft){return sn=null,dn=Bt,Yt=Ft,ut(Xt=Lt),Xt<=0?lt(sn,Xt):dn!==void 0?typeof Yt=="string"?lt(sn,Xt).fill(dn,Yt):lt(sn,Xt).fill(dn):lt(sn,Xt);var sn,Xt,dn,Yt},ct.allocUnsafe=function(Lt){return dt(null,Lt)},ct.allocUnsafeSlow=function(Lt){return dt(null,Lt)},ct.isBuffer=function(Lt){return!(Lt==null||!Lt._isBuffer)},ct.compare=function(Lt,Bt){if(!ct.isBuffer(Lt)||!ct.isBuffer(Bt))throw new TypeError("Arguments must be Buffers");if(Lt===Bt)return 0;for(var Ft=Lt.length,sn=Bt.length,Xt=0,dn=Math.min(Ft,sn);Xt<dn;++Xt)if(Lt[Xt]!==Bt[Xt]){Ft=Lt[Xt],sn=Bt[Xt];break}return Ft<sn?-1:sn<Ft?1:0},ct.isEncoding=function(Lt){switch(String(Lt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ct.concat=function(Lt,Bt){if(!at(Lt))throw new TypeError('"list" argument must be an Array of Buffers');if(Lt.length===0)return ct.alloc(0);var Ft;if(Bt===void 0)for(Bt=0,Ft=0;Ft<Lt.length;++Ft)Bt+=Lt[Ft].length;var sn=ct.allocUnsafe(Bt),Xt=0;for(Ft=0;Ft<Lt.length;++Ft){var dn=Lt[Ft];if(!ct.isBuffer(dn))throw new TypeError('"list" argument must be an Array of Buffers');dn.copy(sn,Xt),Xt+=dn.length}return sn},ct.byteLength=gt,ct.prototype._isBuffer=!0,ct.prototype.swap16=function(){var Lt=this.length;if(Lt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Bt=0;Bt<Lt;Bt+=2)yt(this,Bt,Bt+1);return this},ct.prototype.swap32=function(){var Lt=this.length;if(Lt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Bt=0;Bt<Lt;Bt+=4)yt(this,Bt,Bt+3),yt(this,Bt+1,Bt+2);return this},ct.prototype.swap64=function(){var Lt=this.length;if(Lt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Bt=0;Bt<Lt;Bt+=8)yt(this,Bt,Bt+7),yt(this,Bt+1,Bt+6),yt(this,Bt+2,Bt+5),yt(this,Bt+3,Bt+4);return this},ct.prototype.toString=function(){var Lt=0|this.length;return Lt===0?"":arguments.length===0?Rt(this,0,Lt):mt.apply(this,arguments)},ct.prototype.equals=function(Lt){if(!ct.isBuffer(Lt))throw new TypeError("Argument must be a Buffer");return this===Lt||ct.compare(this,Lt)===0},ct.prototype.inspect=function(){var Lt="",Bt=et.INSPECT_MAX_BYTES;return this.length>0&&(Lt=this.toString("hex",0,Bt).match(/.{2}/g).join(" "),this.length>Bt&&(Lt+=" ... ")),"<Buffer "+Lt+">"},ct.prototype.compare=function(Lt,Bt,Ft,sn,Xt){if(!ct.isBuffer(Lt))throw new TypeError("Argument must be a Buffer");if(Bt===void 0&&(Bt=0),Ft===void 0&&(Ft=Lt?Lt.length:0),sn===void 0&&(sn=0),Xt===void 0&&(Xt=this.length),Bt<0||Ft>Lt.length||sn<0||Xt>this.length)throw new RangeError("out of range index");if(sn>=Xt&&Bt>=Ft)return 0;if(sn>=Xt)return-1;if(Bt>=Ft)return 1;if(this===Lt)return 0;for(var dn=(Xt>>>=0)-(sn>>>=0),Yt=(Ft>>>=0)-(Bt>>>=0),yn=Math.min(dn,Yt),Qt=this.slice(sn,Xt),Kt=Lt.slice(Bt,Ft),hn=0;hn<yn;++hn)if(Qt[hn]!==Kt[hn]){dn=Qt[hn],Yt=Kt[hn];break}return dn<Yt?-1:Yt<dn?1:0},ct.prototype.includes=function(Lt,Bt,Ft){return this.indexOf(Lt,Bt,Ft)!==-1},ct.prototype.indexOf=function(Lt,Bt,Ft){return bt(this,Lt,Bt,Ft,!0)},ct.prototype.lastIndexOf=function(Lt,Bt,Ft){return bt(this,Lt,Bt,Ft,!1)},ct.prototype.write=function(Lt,Bt,Ft,sn){if(Bt===void 0)sn="utf8",Ft=this.length,Bt=0;else if(Ft===void 0&&typeof Bt=="string")sn=Bt,Ft=this.length,Bt=0;else{if(!isFinite(Bt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Bt|=0,isFinite(Ft)?(Ft|=0,sn===void 0&&(sn="utf8")):(sn=Ft,Ft=void 0)}var Xt=this.length-Bt;if((Ft===void 0||Ft>Xt)&&(Ft=Xt),Lt.length>0&&(Ft<0||Bt<0)||Bt>this.length)throw new RangeError("Attempt to write outside buffer bounds");sn||(sn="utf8");for(var dn=!1;;)switch(sn){case"hex":return xt(this,Lt,Bt,Ft);case"utf8":case"utf-8":return vt(this,Lt,Bt,Ft);case"ascii":return $t(this,Lt,Bt,Ft);case"latin1":case"binary":return zt(this,Lt,Bt,Ft);case"base64":return Nt(this,Lt,Bt,Ft);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wt(this,Lt,Bt,Ft);default:if(dn)throw new TypeError("Unknown encoding: "+sn);sn=(""+sn).toLowerCase(),dn=!0}},ct.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ct.prototype.slice=function(Lt,Bt){var Ft,sn=this.length;if((Lt=~~Lt)<0?(Lt+=sn)<0&&(Lt=0):Lt>sn&&(Lt=sn),(Bt=Bt===void 0?sn:~~Bt)<0?(Bt+=sn)<0&&(Bt=0):Bt>sn&&(Bt=sn),Bt<Lt&&(Bt=Lt),ct.TYPED_ARRAY_SUPPORT)(Ft=this.subarray(Lt,Bt)).__proto__=ct.prototype;else{var Xt=Bt-Lt;Ft=new ct(Xt,void 0);for(var dn=0;dn<Xt;++dn)Ft[dn]=this[dn+Lt]}return Ft},ct.prototype.readUIntLE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=this[Lt],Xt=1,dn=0;++dn<Bt&&(Xt*=256);)sn+=this[Lt+dn]*Xt;return sn},ct.prototype.readUIntBE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=this[Lt+--Bt],Xt=1;Bt>0&&(Xt*=256);)sn+=this[Lt+--Bt]*Xt;return sn},ct.prototype.readUInt8=function(Lt,Bt){return Bt||Ct(Lt,1,this.length),this[Lt]},ct.prototype.readUInt16LE=function(Lt,Bt){return Bt||Ct(Lt,2,this.length),this[Lt]|this[Lt+1]<<8},ct.prototype.readUInt16BE=function(Lt,Bt){return Bt||Ct(Lt,2,this.length),this[Lt]<<8|this[Lt+1]},ct.prototype.readUInt32LE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),(this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16)+16777216*this[Lt+3]},ct.prototype.readUInt32BE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),16777216*this[Lt]+(this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3])},ct.prototype.readIntLE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=this[Lt],Xt=1,dn=0;++dn<Bt&&(Xt*=256);)sn+=this[Lt+dn]*Xt;return sn>=(Xt*=128)&&(sn-=Math.pow(2,8*Bt)),sn},ct.prototype.readIntBE=function(Lt,Bt,Ft){Lt|=0,Bt|=0,Ft||Ct(Lt,Bt,this.length);for(var sn=Bt,Xt=1,dn=this[Lt+--sn];sn>0&&(Xt*=256);)dn+=this[Lt+--sn]*Xt;return dn>=(Xt*=128)&&(dn-=Math.pow(2,8*Bt)),dn},ct.prototype.readInt8=function(Lt,Bt){return Bt||Ct(Lt,1,this.length),128&this[Lt]?-1*(255-this[Lt]+1):this[Lt]},ct.prototype.readInt16LE=function(Lt,Bt){Bt||Ct(Lt,2,this.length);var Ft=this[Lt]|this[Lt+1]<<8;return 32768&Ft?4294901760|Ft:Ft},ct.prototype.readInt16BE=function(Lt,Bt){Bt||Ct(Lt,2,this.length);var Ft=this[Lt+1]|this[Lt]<<8;return 32768&Ft?4294901760|Ft:Ft},ct.prototype.readInt32LE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16|this[Lt+3]<<24},ct.prototype.readInt32BE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),this[Lt]<<24|this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3]},ct.prototype.readFloatLE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),ot.read(this,Lt,!0,23,4)},ct.prototype.readFloatBE=function(Lt,Bt){return Bt||Ct(Lt,4,this.length),ot.read(this,Lt,!1,23,4)},ct.prototype.readDoubleLE=function(Lt,Bt){return Bt||Ct(Lt,8,this.length),ot.read(this,Lt,!0,52,8)},ct.prototype.readDoubleBE=function(Lt,Bt){return Bt||Ct(Lt,8,this.length),ot.read(this,Lt,!1,52,8)},ct.prototype.writeUIntLE=function(Lt,Bt,Ft,sn){Lt=+Lt,Bt|=0,Ft|=0,sn||Ot(this,Lt,Bt,Ft,Math.pow(2,8*Ft)-1,0);var Xt=1,dn=0;for(this[Bt]=255&Lt;++dn<Ft&&(Xt*=256);)this[Bt+dn]=Lt/Xt&255;return Bt+Ft},ct.prototype.writeUIntBE=function(Lt,Bt,Ft,sn){Lt=+Lt,Bt|=0,Ft|=0,sn||Ot(this,Lt,Bt,Ft,Math.pow(2,8*Ft)-1,0);var Xt=Ft-1,dn=1;for(this[Bt+Xt]=255&Lt;--Xt>=0&&(dn*=256);)this[Bt+Xt]=Lt/dn&255;return Bt+Ft},ct.prototype.writeUInt8=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,1,255,0),ct.TYPED_ARRAY_SUPPORT||(Lt=Math.floor(Lt)),this[Bt]=255&Lt,Bt+1},ct.prototype.writeUInt16LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,65535,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=255&Lt,this[Bt+1]=Lt>>>8):Ut(this,Lt,Bt,!0),Bt+2},ct.prototype.writeUInt16BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,65535,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>8,this[Bt+1]=255&Lt):Ut(this,Lt,Bt,!1),Bt+2},ct.prototype.writeUInt32LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,4294967295,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt+3]=Lt>>>24,this[Bt+2]=Lt>>>16,this[Bt+1]=Lt>>>8,this[Bt]=255&Lt):At(this,Lt,Bt,!0),Bt+4},ct.prototype.writeUInt32BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,4294967295,0),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>24,this[Bt+1]=Lt>>>16,this[Bt+2]=Lt>>>8,this[Bt+3]=255&Lt):At(this,Lt,Bt,!1),Bt+4},ct.prototype.writeIntLE=function(Lt,Bt,Ft,sn){if(Lt=+Lt,Bt|=0,!sn){var Xt=Math.pow(2,8*Ft-1);Ot(this,Lt,Bt,Ft,Xt-1,-Xt)}var dn=0,Yt=1,yn=0;for(this[Bt]=255&Lt;++dn<Ft&&(Yt*=256);)Lt<0&&yn===0&&this[Bt+dn-1]!==0&&(yn=1),this[Bt+dn]=(Lt/Yt>>0)-yn&255;return Bt+Ft},ct.prototype.writeIntBE=function(Lt,Bt,Ft,sn){if(Lt=+Lt,Bt|=0,!sn){var Xt=Math.pow(2,8*Ft-1);Ot(this,Lt,Bt,Ft,Xt-1,-Xt)}var dn=Ft-1,Yt=1,yn=0;for(this[Bt+dn]=255&Lt;--dn>=0&&(Yt*=256);)Lt<0&&yn===0&&this[Bt+dn+1]!==0&&(yn=1),this[Bt+dn]=(Lt/Yt>>0)-yn&255;return Bt+Ft},ct.prototype.writeInt8=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,1,127,-128),ct.TYPED_ARRAY_SUPPORT||(Lt=Math.floor(Lt)),Lt<0&&(Lt=255+Lt+1),this[Bt]=255&Lt,Bt+1},ct.prototype.writeInt16LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,32767,-32768),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=255&Lt,this[Bt+1]=Lt>>>8):Ut(this,Lt,Bt,!0),Bt+2},ct.prototype.writeInt16BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,2,32767,-32768),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>8,this[Bt+1]=255&Lt):Ut(this,Lt,Bt,!1),Bt+2},ct.prototype.writeInt32LE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,2147483647,-2147483648),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=255&Lt,this[Bt+1]=Lt>>>8,this[Bt+2]=Lt>>>16,this[Bt+3]=Lt>>>24):At(this,Lt,Bt,!0),Bt+4},ct.prototype.writeInt32BE=function(Lt,Bt,Ft){return Lt=+Lt,Bt|=0,Ft||Ot(this,Lt,Bt,4,2147483647,-2147483648),Lt<0&&(Lt=4294967295+Lt+1),ct.TYPED_ARRAY_SUPPORT?(this[Bt]=Lt>>>24,this[Bt+1]=Lt>>>16,this[Bt+2]=Lt>>>8,this[Bt+3]=255&Lt):At(this,Lt,Bt,!1),Bt+4},ct.prototype.writeFloatLE=function(Lt,Bt,Ft){return jt(this,Lt,Bt,!0,Ft)},ct.prototype.writeFloatBE=function(Lt,Bt,Ft){return jt(this,Lt,Bt,!1,Ft)},ct.prototype.writeDoubleLE=function(Lt,Bt,Ft){return kt(this,Lt,Bt,!0,Ft)},ct.prototype.writeDoubleBE=function(Lt,Bt,Ft){return kt(this,Lt,Bt,!1,Ft)},ct.prototype.copy=function(Lt,Bt,Ft,sn){if(Ft||(Ft=0),sn||sn===0||(sn=this.length),Bt>=Lt.length&&(Bt=Lt.length),Bt||(Bt=0),sn>0&&sn<Ft&&(sn=Ft),sn===Ft||Lt.length===0||this.length===0)return 0;if(Bt<0)throw new RangeError("targetStart out of bounds");if(Ft<0||Ft>=this.length)throw new RangeError("sourceStart out of bounds");if(sn<0)throw new RangeError("sourceEnd out of bounds");sn>this.length&&(sn=this.length),Lt.length-Bt<sn-Ft&&(sn=Lt.length-Bt+Ft);var Xt,dn=sn-Ft;if(this===Lt&&Ft<Bt&&Bt<sn)for(Xt=dn-1;Xt>=0;--Xt)Lt[Xt+Bt]=this[Xt+Ft];else if(dn<1e3||!ct.TYPED_ARRAY_SUPPORT)for(Xt=0;Xt<dn;++Xt)Lt[Xt+Bt]=this[Xt+Ft];else Uint8Array.prototype.set.call(Lt,this.subarray(Ft,Ft+dn),Bt);return dn},ct.prototype.fill=function(Lt,Bt,Ft,sn){if(typeof Lt=="string"){if(typeof Bt=="string"?(sn=Bt,Bt=0,Ft=this.length):typeof Ft=="string"&&(sn=Ft,Ft=this.length),Lt.length===1){var Xt=Lt.charCodeAt(0);Xt<256&&(Lt=Xt)}if(sn!==void 0&&typeof sn!="string")throw new TypeError("encoding must be a string");if(typeof sn=="string"&&!ct.isEncoding(sn))throw new TypeError("Unknown encoding: "+sn)}else typeof Lt=="number"&&(Lt&=255);if(Bt<0||this.length<Bt||this.length<Ft)throw new RangeError("Out of range index");if(Ft<=Bt)return this;var dn;if(Bt>>>=0,Ft=Ft===void 0?this.length:Ft>>>0,Lt||(Lt=0),typeof Lt=="number")for(dn=Bt;dn<Ft;++dn)this[dn]=Lt;else{var Yt=ct.isBuffer(Lt)?Lt:Jt(new ct(Lt,sn).toString()),yn=Yt.length;for(dn=0;dn<Ft-Bt;++dn)this[dn+Bt]=Yt[dn%yn]}return this};var Gt=/[^+\/0-9A-Za-z-_]/g;function Ht(Lt){return Lt<16?"0"+Lt.toString(16):Lt.toString(16)}function Jt(Lt,Bt){var Ft;Bt=Bt||1/0;for(var sn=Lt.length,Xt=null,dn=[],Yt=0;Yt<sn;++Yt){if((Ft=Lt.charCodeAt(Yt))>55295&&Ft<57344){if(!Xt){if(Ft>56319){(Bt-=3)>-1&&dn.push(239,191,189);continue}if(Yt+1===sn){(Bt-=3)>-1&&dn.push(239,191,189);continue}Xt=Ft;continue}if(Ft<56320){(Bt-=3)>-1&&dn.push(239,191,189),Xt=Ft;continue}Ft=65536+(Xt-55296<<10|Ft-56320)}else Xt&&(Bt-=3)>-1&&dn.push(239,191,189);if(Xt=null,Ft<128){if((Bt-=1)<0)break;dn.push(Ft)}else if(Ft<2048){if((Bt-=2)<0)break;dn.push(Ft>>6|192,63&Ft|128)}else if(Ft<65536){if((Bt-=3)<0)break;dn.push(Ft>>12|224,Ft>>6&63|128,63&Ft|128)}else{if(!(Ft<1114112))throw new Error("Invalid code point");if((Bt-=4)<0)break;dn.push(Ft>>18|240,Ft>>12&63|128,Ft>>6&63|128,63&Ft|128)}}return dn}function Vt(Lt){return it.toByteArray(function(Bt){if((Bt=(Ft=Bt,Ft.trim?Ft.trim():Ft.replace(/^\s+|\s+$/g,"")).replace(Gt,"")).length<2)return"";for(var Ft;Bt.length%4!=0;)Bt+="=";return Bt}(Lt))}function Wt(Lt,Bt,Ft,sn){for(var Xt=0;Xt<sn&&!(Xt+Ft>=Bt.length||Xt>=Lt.length);++Xt)Bt[Xt+Ft]=Lt[Xt];return Xt}}).call(this,nt(5))},function(tt,et){var nt;nt=function(){return this}();try{nt=nt||new Function("return this")()}catch{typeof window=="object"&&(nt=window)}tt.exports=nt},function(tt,et){typeof Object.create=="function"?tt.exports=function(nt,rt){rt&&(nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}}))}:tt.exports=function(nt,rt){if(rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}}},function(tt,et,nt){(function(rt){nt.d(et,"a",function(){return ot}),nt.d(et,"i",function(){return at}),nt.d(et,"j",function(){return st}),nt.d(et,"b",function(){return lt}),nt.d(et,"f",function(){return ct}),nt.d(et,"e",function(){return ft}),nt.d(et,"g",function(){return ut}),nt.d(et,"d",function(){return dt}),nt.d(et,"c",function(){return ht}),nt.d(et,"h",function(){return pt});const it=nt(98).from(Object.assign(Object.assign({},rt.env),{ENVIRONMENT:rt.env.ENV,APP:"realtime-sdk",NAMESPACE:"production",VERSION:rt.env.VERSION,BUILD_TAG:rt.env.BUILD_TAG,GIT_COMMIT:rt.env.GIT_COMMIT,LOG_LEVEL:rt.env.LOG_LEVEL,LOG_JSON:"false",LOG_API_ENDPOINT:rt.env.LOG_API_ENDPOINT,JEST_WORKER_ID:rt.env.JEST_WORKER_ID,ENABLE_SENTRY:rt.env.ENABLE_SENTRY,SENTRY_DSN:rt.env.SENTRY_DSN,STABLE_AGENT_VERSION:rt.env.STABLE_AGENT_VERSION})),ot=(it.get("ENVIRONMENT").default("").asString(),it.get("APP").default("").asString()),at=(it.get("APP_PATH").default("").asString(),it.get("API_ENDPOINT").default("").asString(),it.get("NAMESPACE").default("").asString()),st=it.get("VERSION").default("").asString(),lt=it.get("BUILD_TAG").default("").asString(),ct=(it.get("GIT_COMMIT").default("").asString(),it.get("ENABLE_SENTRY").default("false").asBool(),it.get("SENTRY_DSN").default("").asString(),it.get("LOG_LEVEL").default("debug").asString()),ft=it.get("LOG_JSON").default("true").asBool(),ut=it.get("LOG_TO_CONSOLE").default("true").asBool(),dt=(it.get("STABLE_AGENT_VERSION").default("").asString(),it.get("LOG_API_ENDPOINT").asString()),ht=it.get("JEST_WORKER_ID").asString(),pt=(it.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),it.get("LOG_TO_FILE").default("false").asBoolStrict())}).call(this,nt(2))},function(tt,et,nt){var rt=nt(95),it=rt,ot=Function("return this")(),at=nt(94);it.object.extend(proto,at),it.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.Peer",null,ot),it.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,ot),it.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,ot),it.exportSymbol("proto.v1.signaling.api.SessionType",null,ot),it.exportSymbol("proto.v1.signaling.api.Signal",null,ot),proto.v1.signaling.api.Peer=function(st){rt.Message.initialize(this,st,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},it.inherits(proto.v1.signaling.api.Peer,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.Signal,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.CreatePeerRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.CreatePeerRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.CreatePeerResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.DeletePeerRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.DeletePeerResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.RefreshPeerRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.RefreshPeerResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.GetPeersRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(st){rt.Message.initialize(this,st,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},it.inherits(proto.v1.signaling.api.GetPeersResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.GetIceServersRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.GetIceServersResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.SendSignalRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.SendSignalResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(st){rt.Message.initialize(this,st,0,-1,null,null)},it.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,rt.Message),it.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(st){return proto.v1.signaling.api.Peer.toObject(st,this)},proto.v1.signaling.api.Peer.toObject=function(st,lt){var ct,ft={peerId:rt.Message.getFieldWithDefault(lt,1,""),organizationId:rt.Message.getFieldWithDefault(lt,2,""),userId:(ct=lt.getUserId())&&at.StringValue.toObject(st,ct),deviceId:(ct=lt.getDeviceId())&&at.StringValue.toObject(st,ct),sessionIdsList:(ct=rt.Message.getRepeatedField(lt,5))==null?void 0:ct,peerCreatedTimestamp:(ct=lt.getPeerCreatedTimestamp())&&at.Int64Value.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.Peer.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setPeerId(ct);break;case 2:ct=lt.readString(),st.setOrganizationId(ct);break;case 3:ct=new at.StringValue,lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setUserId(ct);break;case 4:ct=new at.StringValue,lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setDeviceId(ct);break;case 5:ct=lt.readString(),st.addSessionIds(ct);break;case 6:ct=new at.Int64Value,lt.readMessage(ct,at.Int64Value.deserializeBinaryFromReader),st.setPeerCreatedTimestamp(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(st,lt){var ct=void 0;(ct=st.getPeerId()).length>0&&lt.writeString(1,ct),(ct=st.getOrganizationId()).length>0&&lt.writeString(2,ct),(ct=st.getUserId())!=null&&lt.writeMessage(3,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getDeviceId())!=null&&lt.writeMessage(4,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getSessionIdsList()).length>0&&lt.writeRepeatedString(5,ct),(ct=st.getPeerCreatedTimestamp())!=null&&lt.writeMessage(6,ct,at.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(st){return rt.Message.setProto3StringField(this,1,st)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return rt.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(st){return rt.Message.setProto3StringField(this,2,st)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return rt.Message.getWrapperField(this,at.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(st){return rt.Message.setWrapperField(this,3,st)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return rt.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return rt.Message.getWrapperField(this,at.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(st){return rt.Message.setWrapperField(this,4,st)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return rt.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return rt.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(st){return rt.Message.setField(this,5,st||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(st,lt){return rt.Message.addToRepeatedField(this,5,st,lt)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return rt.Message.getWrapperField(this,at.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(st){return rt.Message.setWrapperField(this,6,st)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return rt.Message.getField(this,6)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(st){return proto.v1.signaling.api.Signal.toObject(st,this)},proto.v1.signaling.api.Signal.toObject=function(st,lt){var ct,ft={sessionId:(ct=lt.getSessionId())&&at.StringValue.toObject(st,ct),sessionCreatedTimestamp:(ct=lt.getSessionCreatedTimestamp())&&at.Int64Value.toObject(st,ct),senderId:rt.Message.getFieldWithDefault(lt,3,""),receiverId:rt.Message.getFieldWithDefault(lt,4,""),payload:rt.Message.getFieldWithDefault(lt,5,""),iceServers:rt.Message.getFieldWithDefault(lt,6,""),iceTransportPolicy:rt.Message.getFieldWithDefault(lt,7,""),sessionType:rt.Message.getFieldWithDefault(lt,8,0)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.Signal.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new at.StringValue;lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setSessionId(ct);break;case 2:ct=new at.Int64Value,lt.readMessage(ct,at.Int64Value.deserializeBinaryFromReader),st.setSessionCreatedTimestamp(ct);break;case 3:ct=lt.readString(),st.setSenderId(ct);break;case 4:ct=lt.readString(),st.setReceiverId(ct);break;case 5:ct=lt.readString(),st.setPayload(ct);break;case 6:ct=lt.readString(),st.setIceServers(ct);break;case 7:ct=lt.readString(),st.setIceTransportPolicy(ct);break;case 8:ct=lt.readEnum(),st.setSessionType(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(st,lt){var ct=void 0;(ct=st.getSessionId())!=null&&lt.writeMessage(1,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getSessionCreatedTimestamp())!=null&&lt.writeMessage(2,ct,at.Int64Value.serializeBinaryToWriter),(ct=st.getSenderId()).length>0&&lt.writeString(3,ct),(ct=st.getReceiverId()).length>0&&lt.writeString(4,ct),(ct=st.getPayload()).length>0&&lt.writeString(5,ct),(ct=st.getIceServers()).length>0&&lt.writeString(6,ct),(ct=st.getIceTransportPolicy()).length>0&&lt.writeString(7,ct),(ct=st.getSessionType())!==0&&lt.writeEnum(8,ct)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return rt.Message.getWrapperField(this,at.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return rt.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return rt.Message.getWrapperField(this,at.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(st){return rt.Message.setWrapperField(this,2,st)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return rt.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return rt.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(st){return rt.Message.setProto3StringField(this,3,st)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return rt.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(st){return rt.Message.setProto3StringField(this,4,st)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return rt.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(st){return rt.Message.setProto3StringField(this,5,st)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return rt.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(st){return rt.Message.setProto3StringField(this,6,st)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return rt.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(st){return rt.Message.setProto3StringField(this,7,st)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return rt.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(st){return rt.Message.setProto3EnumField(this,8,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(st){return proto.v1.signaling.api.CreatePeerRequest.toObject(st,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(st){return proto.v1.signaling.api.CreatePeerResponse.toObject(st,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(st,lt){var ct,ft={peer:(ct=lt.getPeer())&&proto.v1.signaling.api.Peer.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Peer;lt.readMessage(ct,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),st.setPeer(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeer())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return rt.Message.getField(this,1)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(st){return proto.v1.signaling.api.DeletePeerRequest.toObject(st,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(st,lt){var ct={peerId:rt.Message.getFieldWithDefault(lt,1,"")};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setPeerId(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeerId()).length>0&&lt.writeString(1,ct)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(st){return rt.Message.setProto3StringField(this,1,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(st){return proto.v1.signaling.api.DeletePeerResponse.toObject(st,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(st){return proto.v1.signaling.api.RefreshPeerRequest.toObject(st,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(st,lt){var ct,ft={peer:(ct=lt.getPeer())&&proto.v1.signaling.api.Peer.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Peer;lt.readMessage(ct,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),st.setPeer(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeer())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return rt.Message.getField(this,1)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(st){return proto.v1.signaling.api.RefreshPeerResponse.toObject(st,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(st){return proto.v1.signaling.api.GetPeersRequest.toObject(st,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(st,lt){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(st){return proto.v1.signaling.api.GetPeersResponse.toObject(st,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(st,lt){var ct={peersList:rt.Message.toObjectList(lt.getPeersList(),proto.v1.signaling.api.Peer.toObject,st)};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Peer;lt.readMessage(ct,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),st.addPeers(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeersList()).length>0&&lt.writeRepeatedMessage(1,ct,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return rt.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(st){return rt.Message.setRepeatedWrapperField(this,1,st)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(st,lt){return rt.Message.addToRepeatedWrapperField(this,1,st,proto.v1.signaling.api.Peer,lt)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(st){return proto.v1.signaling.api.GetIceServersRequest.toObject(st,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(st,lt){var ct={};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)lt.getFieldNumber(),lt.skipField();return st},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(st,lt){},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(st){return proto.v1.signaling.api.GetIceServersResponse.toObject(st,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(st,lt){var ct={iceServers:rt.Message.getFieldWithDefault(lt,1,"")};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setIceServers(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getIceServers()).length>0&&lt.writeString(1,ct)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(st){return rt.Message.setProto3StringField(this,1,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(st){return proto.v1.signaling.api.SendSignalRequest.toObject(st,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(st,lt){var ct,ft={signal:(ct=lt.getSignal())&&proto.v1.signaling.api.Signal.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Signal;lt.readMessage(ct,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),st.setSignal(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getSignal())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return rt.Message.getField(this,1)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(st){return proto.v1.signaling.api.SendSignalResponse.toObject(st,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(st,lt){var ct,ft={sessionId:(ct=lt.getSessionId())&&at.StringValue.toObject(st,ct),sessionCreatedTimestamp:(ct=lt.getSessionCreatedTimestamp())&&at.Int64Value.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new at.StringValue;lt.readMessage(ct,at.StringValue.deserializeBinaryFromReader),st.setSessionId(ct);break;case 2:ct=new at.Int64Value,lt.readMessage(ct,at.Int64Value.deserializeBinaryFromReader),st.setSessionCreatedTimestamp(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(st,lt){var ct=void 0;(ct=st.getSessionId())!=null&&lt.writeMessage(1,ct,at.StringValue.serializeBinaryToWriter),(ct=st.getSessionCreatedTimestamp())!=null&&lt.writeMessage(2,ct,at.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return rt.Message.getWrapperField(this,at.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return rt.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return rt.Message.getWrapperField(this,at.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(st){return rt.Message.setWrapperField(this,2,st)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return rt.Message.getField(this,2)!=null},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(st){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(st,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(st,lt){var ct={peerId:rt.Message.getFieldWithDefault(lt,1,"")};return st&&(ct.$jspbMessageInstance=lt),ct}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=lt.readString();st.setPeerId(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getPeerId()).length>0&&lt.writeString(1,ct)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(st){return rt.Message.setProto3StringField(this,1,st)},rt.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(st){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(st,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(st,lt){var ct,ft={signal:(ct=lt.getSignal())&&proto.v1.signaling.api.Signal.toObject(st,ct)};return st&&(ft.$jspbMessageInstance=lt),ft}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(st){var lt=new rt.BinaryReader(st),ct=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(ct,lt)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(st,lt){for(;lt.nextField()&&!lt.isEndGroup();)switch(lt.getFieldNumber()){case 1:var ct=new proto.v1.signaling.api.Signal;lt.readMessage(ct,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),st.setSignal(ct);break;default:lt.skipField()}return st},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var st=new rt.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,st),st.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(st,lt){var ct;(ct=st.getSignal())!=null&&lt.writeMessage(1,ct,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return rt.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(st){return rt.Message.setWrapperField(this,1,st)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return rt.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2},it.object.extend(et,proto.v1.signaling.api)},function(tt,et,nt){function rt(dt){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(dt)}function it(dt,ht){return!ht||rt(ht)!=="object"&&typeof ht!="function"?ot(dt):ht}function ot(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}function at(dt){var ht=typeof Map=="function"?new Map:void 0;return(at=function(pt){if(pt===null||(gt=pt,Function.toString.call(gt).indexOf("[native code]")===-1))return pt;var gt;if(typeof pt!="function")throw new TypeError("Super expression must either be null or a function");if(ht!==void 0){if(ht.has(pt))return ht.get(pt);ht.set(pt,mt)}function mt(){return st(pt,arguments,ft(this).constructor)}return mt.prototype=Object.create(pt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),ct(mt,pt)})(dt)}function st(dt,ht,pt){return(st=lt()?Reflect.construct:function(gt,mt,yt){var bt=[null];bt.push.apply(bt,mt);var St=new(Function.bind.apply(gt,bt));return yt&&ct(St,yt.prototype),St}).apply(null,arguments)}function lt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ct(dt,ht){return(ct=Object.setPrototypeOf||function(pt,gt){return pt.__proto__=gt,pt})(dt,ht)}function ft(dt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(ht){return ht.__proto__||Object.getPrototypeOf(ht)})(dt)}var ut=function(dt){(function(yt,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(bt&&bt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),bt&&ct(yt,bt)})(mt,dt);var ht,pt,gt=(ht=mt,pt=lt(),function(){var yt,bt=ft(ht);if(pt){var St=ft(this).constructor;yt=Reflect.construct(bt,arguments,St)}else yt=bt.apply(this,arguments);return it(this,yt)});function mt(yt){var bt;return function(St,xt){if(!(St instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,mt),bt=gt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(yt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(ot(bt),mt),bt}return mt}(at(Error));tt.exports=function(dt){if(dt.length>2)throw new ut(dt);function ht(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=gt}function pt(gt){return new ht(gt)}return ht.prototype.transform=dt,pt.Format=ht,pt}},function(tt,et,nt){(function(rt){var it=Object.getOwnPropertyDescriptors||function(Ct){for(var Ot=Object.keys(Ct),Ut={},At=0;At<Ot.length;At++)Ut[Ot[At]]=Object.getOwnPropertyDescriptor(Ct,Ot[At]);return Ut},ot=/%[sdj%]/g;et.format=function(Ct){if(!bt(Ct)){for(var Ot=[],Ut=0;Ut<arguments.length;Ut++)Ot.push(lt(arguments[Ut]));return Ot.join(" ")}Ut=1;for(var At=arguments,Mt=At.length,jt=String(Ct).replace(ot,function(Gt){if(Gt==="%%")return"%";if(Ut>=Mt)return Gt;switch(Gt){case"%s":return String(At[Ut++]);case"%d":return Number(At[Ut++]);case"%j":try{return JSON.stringify(At[Ut++])}catch{return"[Circular]"}default:return Gt}}),kt=At[Ut];Ut<Mt;kt=At[++Ut])mt(kt)||!vt(kt)?jt+=" "+kt:jt+=" "+lt(kt);return jt},et.deprecate=function(Ct,Ot){if(rt!==void 0&&rt.noDeprecation===!0)return Ct;if(rt===void 0)return function(){return et.deprecate(Ct,Ot).apply(this,arguments)};var Ut=!1;return function(){if(!Ut){if(rt.throwDeprecation)throw new Error(Ot);rt.traceDeprecation?console.trace(Ot):console.error(Ot),Ut=!0}return Ct.apply(this,arguments)}};var at,st={};function lt(Ct,Ot){var Ut={seen:[],stylize:ft};return arguments.length>=3&&(Ut.depth=arguments[2]),arguments.length>=4&&(Ut.colors=arguments[3]),gt(Ot)?Ut.showHidden=Ot:Ot&&et._extend(Ut,Ot),St(Ut.showHidden)&&(Ut.showHidden=!1),St(Ut.depth)&&(Ut.depth=2),St(Ut.colors)&&(Ut.colors=!1),St(Ut.customInspect)&&(Ut.customInspect=!0),Ut.colors&&(Ut.stylize=ct),ut(Ut,Ct,Ut.depth)}function ct(Ct,Ot){var Ut=lt.styles[Ot];return Ut?"\x1B["+lt.colors[Ut][0]+"m"+Ct+"\x1B["+lt.colors[Ut][1]+"m":Ct}function ft(Ct,Ot){return Ct}function ut(Ct,Ot,Ut){if(Ct.customInspect&&Ot&&Nt(Ot.inspect)&&Ot.inspect!==et.inspect&&(!Ot.constructor||Ot.constructor.prototype!==Ot)){var At=Ot.inspect(Ut,Ct);return bt(At)||(At=ut(Ct,At,Ut)),At}var Mt=function(Bt,Ft){if(St(Ft))return Bt.stylize("undefined","undefined");if(bt(Ft)){var sn="'"+JSON.stringify(Ft).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Bt.stylize(sn,"string")}return yt(Ft)?Bt.stylize(""+Ft,"number"):gt(Ft)?Bt.stylize(""+Ft,"boolean"):mt(Ft)?Bt.stylize("null","null"):void 0}(Ct,Ot);if(Mt)return Mt;var jt,kt=Object.keys(Ot),Gt=(jt={},kt.forEach(function(Bt,Ft){jt[Bt]=!0}),jt);if(Ct.showHidden&&(kt=Object.getOwnPropertyNames(Ot)),zt(Ot)&&(kt.indexOf("message")>=0||kt.indexOf("description")>=0))return dt(Ot);if(kt.length===0){if(Nt(Ot)){var Ht=Ot.name?": "+Ot.name:"";return Ct.stylize("[Function"+Ht+"]","special")}if(xt(Ot))return Ct.stylize(RegExp.prototype.toString.call(Ot),"regexp");if($t(Ot))return Ct.stylize(Date.prototype.toString.call(Ot),"date");if(zt(Ot))return dt(Ot)}var Jt,Vt="",Wt=!1,Lt=["{","}"];return pt(Ot)&&(Wt=!0,Lt=["[","]"]),Nt(Ot)&&(Vt=" [Function"+(Ot.name?": "+Ot.name:"")+"]"),xt(Ot)&&(Vt=" "+RegExp.prototype.toString.call(Ot)),$t(Ot)&&(Vt=" "+Date.prototype.toUTCString.call(Ot)),zt(Ot)&&(Vt=" "+dt(Ot)),kt.length!==0||Wt&&Ot.length!=0?Ut<0?xt(Ot)?Ct.stylize(RegExp.prototype.toString.call(Ot),"regexp"):Ct.stylize("[Object]","special"):(Ct.seen.push(Ot),Jt=Wt?function(Bt,Ft,sn,Xt,dn){for(var Yt=[],yn=0,Qt=Ft.length;yn<Qt;++yn)It(Ft,String(yn))?Yt.push(ht(Bt,Ft,sn,Xt,String(yn),!0)):Yt.push("");return dn.forEach(function(Kt){Kt.match(/^\d+$/)||Yt.push(ht(Bt,Ft,sn,Xt,Kt,!0))}),Yt}(Ct,Ot,Ut,Gt,kt):kt.map(function(Bt){return ht(Ct,Ot,Ut,Gt,Bt,Wt)}),Ct.seen.pop(),function(Bt,Ft,sn){return Bt.reduce(function(Xt,dn){return dn.indexOf(`
`),Xt+dn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?sn[0]+(Ft===""?"":Ft+`
 `)+" "+Bt.join(`,
  `)+" "+sn[1]:sn[0]+Ft+" "+Bt.join(", ")+" "+sn[1]}(Jt,Vt,Lt)):Lt[0]+Vt+Lt[1]}function dt(Ct){return"["+Error.prototype.toString.call(Ct)+"]"}function ht(Ct,Ot,Ut,At,Mt,jt){var kt,Gt,Ht;if((Ht=Object.getOwnPropertyDescriptor(Ot,Mt)||{value:Ot[Mt]}).get?Gt=Ht.set?Ct.stylize("[Getter/Setter]","special"):Ct.stylize("[Getter]","special"):Ht.set&&(Gt=Ct.stylize("[Setter]","special")),It(At,Mt)||(kt="["+Mt+"]"),Gt||(Ct.seen.indexOf(Ht.value)<0?(Gt=mt(Ut)?ut(Ct,Ht.value,null):ut(Ct,Ht.value,Ut-1)).indexOf(`
`)>-1&&(Gt=jt?Gt.split(`
`).map(function(Jt){return"  "+Jt}).join(`
`).substr(2):`
`+Gt.split(`
`).map(function(Jt){return"   "+Jt}).join(`
`)):Gt=Ct.stylize("[Circular]","special")),St(kt)){if(jt&&Mt.match(/^\d+$/))return Gt;(kt=JSON.stringify(""+Mt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(kt=kt.substr(1,kt.length-2),kt=Ct.stylize(kt,"name")):(kt=kt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),kt=Ct.stylize(kt,"string"))}return kt+": "+Gt}function pt(Ct){return Array.isArray(Ct)}function gt(Ct){return typeof Ct=="boolean"}function mt(Ct){return Ct===null}function yt(Ct){return typeof Ct=="number"}function bt(Ct){return typeof Ct=="string"}function St(Ct){return Ct===void 0}function xt(Ct){return vt(Ct)&&wt(Ct)==="[object RegExp]"}function vt(Ct){return typeof Ct=="object"&&Ct!==null}function $t(Ct){return vt(Ct)&&wt(Ct)==="[object Date]"}function zt(Ct){return vt(Ct)&&(wt(Ct)==="[object Error]"||Ct instanceof Error)}function Nt(Ct){return typeof Ct=="function"}function wt(Ct){return Object.prototype.toString.call(Ct)}function Et(Ct){return Ct<10?"0"+Ct.toString(10):Ct.toString(10)}et.debuglog=function(Ct){if(St(at)&&(at=rt.env.NODE_DEBUG||""),Ct=Ct.toUpperCase(),!st[Ct])if(new RegExp("\\b"+Ct+"\\b","i").test(at)){var Ot=rt.pid;st[Ct]=function(){var Ut=et.format.apply(et,arguments);console.error("%s %d: %s",Ct,Ot,Ut)}}else st[Ct]=function(){};return st[Ct]},et.inspect=lt,lt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},lt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},et.isArray=pt,et.isBoolean=gt,et.isNull=mt,et.isNullOrUndefined=function(Ct){return Ct==null},et.isNumber=yt,et.isString=bt,et.isSymbol=function(Ct){return typeof Ct=="symbol"},et.isUndefined=St,et.isRegExp=xt,et.isObject=vt,et.isDate=$t,et.isError=zt,et.isFunction=Nt,et.isPrimitive=function(Ct){return Ct===null||typeof Ct=="boolean"||typeof Ct=="number"||typeof Ct=="string"||typeof Ct=="symbol"||Ct===void 0},et.isBuffer=nt(106);var Rt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Tt(){var Ct=new Date,Ot=[Et(Ct.getHours()),Et(Ct.getMinutes()),Et(Ct.getSeconds())].join(":");return[Ct.getDate(),Rt[Ct.getMonth()],Ot].join(" ")}function It(Ct,Ot){return Object.prototype.hasOwnProperty.call(Ct,Ot)}et.log=function(){console.log("%s - %s",Tt(),et.format.apply(et,arguments))},et.inherits=nt(107),et._extend=function(Ct,Ot){if(!Ot||!vt(Ot))return Ct;for(var Ut=Object.keys(Ot),At=Ut.length;At--;)Ct[Ut[At]]=Ot[Ut[At]];return Ct};var Pt=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function Dt(Ct,Ot){if(!Ct){var Ut=new Error("Promise was rejected with a falsy value");Ut.reason=Ct,Ct=Ut}return Ot(Ct)}et.promisify=function(Ct){if(typeof Ct!="function")throw new TypeError('The "original" argument must be of type Function');if(Pt&&Ct[Pt]){var Ot;if(typeof(Ot=Ct[Pt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ot,Pt,{value:Ot,enumerable:!1,writable:!1,configurable:!0}),Ot}function Ot(){for(var Ut,At,Mt=new Promise(function(Gt,Ht){Ut=Gt,At=Ht}),jt=[],kt=0;kt<arguments.length;kt++)jt.push(arguments[kt]);jt.push(function(Gt,Ht){Gt?At(Gt):Ut(Ht)});try{Ct.apply(this,jt)}catch(Gt){At(Gt)}return Mt}return Object.setPrototypeOf(Ot,Object.getPrototypeOf(Ct)),Pt&&Object.defineProperty(Ot,Pt,{value:Ot,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ot,it(Ct))},et.promisify.custom=Pt,et.callbackify=function(Ct){if(typeof Ct!="function")throw new TypeError('The "original" argument must be of type Function');function Ot(){for(var Ut=[],At=0;At<arguments.length;At++)Ut.push(arguments[At]);var Mt=Ut.pop();if(typeof Mt!="function")throw new TypeError("The last argument must be of type Function");var jt=this,kt=function(){return Mt.apply(jt,arguments)};Ct.apply(this,Ut).then(function(Gt){rt.nextTick(kt,null,Gt)},function(Gt){rt.nextTick(Dt,Gt,kt)})}return Object.setPrototypeOf(Ot,Object.getPrototypeOf(Ct)),Object.defineProperties(Ot,it(Ct)),Ot}}).call(this,nt(2))},function(tt,et,nt){nt.d(et,"a",function(){return rt});const rt=it=>new Promise(ot=>setTimeout(ot,it||0))},function(tt,et,nt){(function(rt){var it=rt!==void 0&&rt||typeof self!="undefined"&&self||window,ot=Function.prototype.apply;function at(st,lt){this._id=st,this._clearFn=lt}et.setTimeout=function(){return new at(ot.call(setTimeout,it,arguments),clearTimeout)},et.setInterval=function(){return new at(ot.call(setInterval,it,arguments),clearInterval)},et.clearTimeout=et.clearInterval=function(st){st&&st.close()},at.prototype.unref=at.prototype.ref=function(){},at.prototype.close=function(){this._clearFn.call(it,this._id)},et.enroll=function(st,lt){clearTimeout(st._idleTimeoutId),st._idleTimeout=lt},et.unenroll=function(st){clearTimeout(st._idleTimeoutId),st._idleTimeout=-1},et._unrefActive=et.active=function(st){clearTimeout(st._idleTimeoutId);var lt=st._idleTimeout;lt>=0&&(st._idleTimeoutId=setTimeout(function(){st._onTimeout&&st._onTimeout()},lt))},nt(140),et.setImmediate=typeof self!="undefined"&&self.setImmediate||rt!==void 0&&rt.setImmediate||this&&this.setImmediate,et.clearImmediate=typeof self!="undefined"&&self.clearImmediate||rt!==void 0&&rt.clearImmediate||this&&this.clearImmediate}).call(this,nt(5))},function(tt,et,nt){(function(rt){rt===void 0||!rt.version||rt.version.indexOf("v0.")===0||rt.version.indexOf("v1.")===0&&rt.version.indexOf("v1.8.")!==0?tt.exports={nextTick:function(it,ot,at,st){if(typeof it!="function")throw new TypeError('"callback" argument must be a function');var lt,ct,ft=arguments.length;switch(ft){case 0:case 1:return rt.nextTick(it);case 2:return rt.nextTick(function(){it.call(null,ot)});case 3:return rt.nextTick(function(){it.call(null,ot,at)});case 4:return rt.nextTick(function(){it.call(null,ot,at,st)});default:for(lt=new Array(ft-1),ct=0;ct<lt.length;)lt[ct++]=arguments[ct];return rt.nextTick(function(){it.apply(null,lt)})}}}:tt.exports=rt}).call(this,nt(2))},function(tt,et,nt){(function(rt){function it(ot){return Object.prototype.toString.call(ot)}et.isArray=function(ot){return Array.isArray?Array.isArray(ot):it(ot)==="[object Array]"},et.isBoolean=function(ot){return typeof ot=="boolean"},et.isNull=function(ot){return ot===null},et.isNullOrUndefined=function(ot){return ot==null},et.isNumber=function(ot){return typeof ot=="number"},et.isString=function(ot){return typeof ot=="string"},et.isSymbol=function(ot){return typeof ot=="symbol"},et.isUndefined=function(ot){return ot===void 0},et.isRegExp=function(ot){return it(ot)==="[object RegExp]"},et.isObject=function(ot){return typeof ot=="object"&&ot!==null},et.isDate=function(ot){return it(ot)==="[object Date]"},et.isError=function(ot){return it(ot)==="[object Error]"||ot instanceof Error},et.isFunction=function(ot){return typeof ot=="function"},et.isPrimitive=function(ot){return ot===null||typeof ot=="boolean"||typeof ot=="number"||typeof ot=="string"||typeof ot=="symbol"||ot===void 0},et.isBuffer=rt.isBuffer}).call(this,nt(4).Buffer)},function(tt,et){et.endianness=function(){return"LE"},et.hostname=function(){return typeof location!="undefined"?location.hostname:""},et.loadavg=function(){return[]},et.uptime=function(){return 0},et.freemem=function(){return Number.MAX_VALUE},et.totalmem=function(){return Number.MAX_VALUE},et.cpus=function(){return[]},et.type=function(){return"Browser"},et.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},et.networkInterfaces=et.getNetworkInterfaces=function(){return{}},et.arch=function(){return"javascript"},et.platform=function(){return"browser"},et.tmpdir=et.tmpDir=function(){return"/tmp"},et.EOL=`
`,et.homedir=function(){return"/"}},function(tt,et,nt){var rt=nt(56),it=nt(59).warn,ot=et;ot.version=nt(137).version,ot.transports=nt(138),ot.config=nt(47),ot.addColors=rt.levels,ot.format=rt.format,ot.createLogger=nt(85),ot.ExceptionHandler=nt(86),ot.RejectionHandler=nt(90),ot.Container=nt(209),ot.Transport=nt(17),ot.loggers=new ot.Container;var at=ot.createLogger();Object.keys(ot.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(st){return ot[st]=function(){return at[st].apply(at,arguments)}}),Object.defineProperty(ot,"level",{get:function(){return at.level},set:function(st){at.level=st}}),Object.defineProperty(ot,"exceptions",{get:function(){return at.exceptions}}),["exitOnError"].forEach(function(st){Object.defineProperty(ot,st,{get:function(){return at[st]},set:function(lt){at[st]=lt}})}),Object.defineProperty(ot,"default",{get:function(){return{exceptionHandlers:at.exceptionHandlers,rejectionHandlers:at.rejectionHandlers,transports:at.transports}}}),it.deprecated(ot,"setLevels"),it.forFunctions(ot,"useFormat",["cli"]),it.forProperties(ot,"useFormat",["padLevels","stripColors"]),it.forFunctions(ot,"deprecated",["addRewriter","addFilter","clone","extend"]),it.forProperties(ot,"deprecated",["emitErrs","levelLength"]),it.moved(ot,"createLogger","Logger")},function(tt,et,nt){var rt=nt(10),it=nt(141),ot=nt(3).LEVEL,at=tt.exports=function(){var st=this,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it.call(this,{objectMode:!0,highWaterMark:lt.highWaterMark}),this.format=lt.format,this.level=lt.level,this.handleExceptions=lt.handleExceptions,this.handleRejections=lt.handleRejections,this.silent=lt.silent,lt.log&&(this.log=lt.log),lt.logv&&(this.logv=lt.logv),lt.close&&(this.close=lt.close),this.once("pipe",function(ct){st.levels=ct.levels,st.parent=ct}),this.once("unpipe",function(ct){ct===st.parent&&(st.parent=null,st.close&&st.close())})};rt.inherits(at,it),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);var ft=this.level||this.parent&&this.parent.level;if(!ft||this.levels[ft]>=this.levels[st[ot]]){if(st&&!this.format)return this.log(st,ct);var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(ct(),ut)throw ut;return}return this.log(dt,ct)}return ct(null)},at.prototype._writev=function(st,lt){if(this.logv){var ct=st.filter(this._accept,this);return ct.length?this.logv(ct,lt):lt(null)}for(var ft=0;ft<st.length;ft++)if(this._accept(st[ft]))if(!st[ft].chunk||this.format){var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st[ft].chunk),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(st[ft].callback(),ut)throw lt(null),ut}else this.log(dt,st[ft].callback)}else this.log(st[ft].chunk,st[ft].callback);return lt(null)},at.prototype._accept=function(st){var lt=st.chunk;if(this.silent)return!1;var ct=this.level||this.parent&&this.parent.level;return!(lt.exception!==!0&&ct&&!(this.levels[ct]>=this.levels[lt[ot]])||!this.handleExceptions&&lt.exception===!0)},at.prototype._nop=function(){},tt.exports.LegacyTransportStream=nt(147)},function(tt,et,nt){var rt,it=typeof Reflect=="object"?Reflect:null,ot=it&&typeof it.apply=="function"?it.apply:function(mt,yt,bt){return Function.prototype.apply.call(mt,yt,bt)};rt=it&&typeof it.ownKeys=="function"?it.ownKeys:Object.getOwnPropertySymbols?function(mt){return Object.getOwnPropertyNames(mt).concat(Object.getOwnPropertySymbols(mt))}:function(mt){return Object.getOwnPropertyNames(mt)};var at=Number.isNaN||function(mt){return mt!=mt};function st(){st.init.call(this)}tt.exports=st,st.EventEmitter=st,st.prototype._events=void 0,st.prototype._eventsCount=0,st.prototype._maxListeners=void 0;var lt=10;function ct(mt){return mt._maxListeners===void 0?st.defaultMaxListeners:mt._maxListeners}function ft(mt,yt,bt,St){var xt,vt,$t,zt;if(typeof bt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof bt);if((vt=mt._events)===void 0?(vt=mt._events=Object.create(null),mt._eventsCount=0):(vt.newListener!==void 0&&(mt.emit("newListener",yt,bt.listener?bt.listener:bt),vt=mt._events),$t=vt[yt]),$t===void 0)$t=vt[yt]=bt,++mt._eventsCount;else if(typeof $t=="function"?$t=vt[yt]=St?[bt,$t]:[$t,bt]:St?$t.unshift(bt):$t.push(bt),(xt=ct(mt))>0&&$t.length>xt&&!$t.warned){$t.warned=!0;var Nt=new Error("Possible EventEmitter memory leak detected. "+$t.length+" "+String(yt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Nt.name="MaxListenersExceededWarning",Nt.emitter=mt,Nt.type=yt,Nt.count=$t.length,zt=Nt,console&&console.warn&&console.warn(zt)}return mt}function ut(){for(var mt=[],yt=0;yt<arguments.length;yt++)mt.push(arguments[yt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,ot(this.listener,this.target,mt))}function dt(mt,yt,bt){var St={fired:!1,wrapFn:void 0,target:mt,type:yt,listener:bt},xt=ut.bind(St);return xt.listener=bt,St.wrapFn=xt,xt}function ht(mt,yt,bt){var St=mt._events;if(St===void 0)return[];var xt=St[yt];return xt===void 0?[]:typeof xt=="function"?bt?[xt.listener||xt]:[xt]:bt?function(vt){for(var $t=new Array(vt.length),zt=0;zt<$t.length;++zt)$t[zt]=vt[zt].listener||vt[zt];return $t}(xt):gt(xt,xt.length)}function pt(mt){var yt=this._events;if(yt!==void 0){var bt=yt[mt];if(typeof bt=="function")return 1;if(bt!==void 0)return bt.length}return 0}function gt(mt,yt){for(var bt=new Array(yt),St=0;St<yt;++St)bt[St]=mt[St];return bt}Object.defineProperty(st,"defaultMaxListeners",{enumerable:!0,get:function(){return lt},set:function(mt){if(typeof mt!="number"||mt<0||at(mt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+mt+".");lt=mt}}),st.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},st.prototype.setMaxListeners=function(mt){if(typeof mt!="number"||mt<0||at(mt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+mt+".");return this._maxListeners=mt,this},st.prototype.getMaxListeners=function(){return ct(this)},st.prototype.emit=function(mt){for(var yt=[],bt=1;bt<arguments.length;bt++)yt.push(arguments[bt]);var St=mt==="error",xt=this._events;if(xt!==void 0)St=St&&xt.error===void 0;else if(!St)return!1;if(St){var vt;if(yt.length>0&&(vt=yt[0]),vt instanceof Error)throw vt;var $t=new Error("Unhandled error."+(vt?" ("+vt.message+")":""));throw $t.context=vt,$t}var zt=xt[mt];if(zt===void 0)return!1;if(typeof zt=="function")ot(zt,this,yt);else{var Nt=zt.length,wt=gt(zt,Nt);for(bt=0;bt<Nt;++bt)ot(wt[bt],this,yt)}return!0},st.prototype.addListener=function(mt,yt){return ft(this,mt,yt,!1)},st.prototype.on=st.prototype.addListener,st.prototype.prependListener=function(mt,yt){return ft(this,mt,yt,!0)},st.prototype.once=function(mt,yt){if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt);return this.on(mt,dt(this,mt,yt)),this},st.prototype.prependOnceListener=function(mt,yt){if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt);return this.prependListener(mt,dt(this,mt,yt)),this},st.prototype.removeListener=function(mt,yt){var bt,St,xt,vt,$t;if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt);if((St=this._events)===void 0)return this;if((bt=St[mt])===void 0)return this;if(bt===yt||bt.listener===yt)--this._eventsCount==0?this._events=Object.create(null):(delete St[mt],St.removeListener&&this.emit("removeListener",mt,bt.listener||yt));else if(typeof bt!="function"){for(xt=-1,vt=bt.length-1;vt>=0;vt--)if(bt[vt]===yt||bt[vt].listener===yt){$t=bt[vt].listener,xt=vt;break}if(xt<0)return this;xt===0?bt.shift():function(zt,Nt){for(;Nt+1<zt.length;Nt++)zt[Nt]=zt[Nt+1];zt.pop()}(bt,xt),bt.length===1&&(St[mt]=bt[0]),St.removeListener!==void 0&&this.emit("removeListener",mt,$t||yt)}return this},st.prototype.off=st.prototype.removeListener,st.prototype.removeAllListeners=function(mt){var yt,bt,St;if((bt=this._events)===void 0)return this;if(bt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):bt[mt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete bt[mt]),this;if(arguments.length===0){var xt,vt=Object.keys(bt);for(St=0;St<vt.length;++St)(xt=vt[St])!=="removeListener"&&this.removeAllListeners(xt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(yt=bt[mt])=="function")this.removeListener(mt,yt);else if(yt!==void 0)for(St=yt.length-1;St>=0;St--)this.removeListener(mt,yt[St]);return this},st.prototype.listeners=function(mt){return ht(this,mt,!0)},st.prototype.rawListeners=function(mt){return ht(this,mt,!1)},st.listenerCount=function(mt,yt){return typeof mt.listenerCount=="function"?mt.listenerCount(yt):pt.call(mt,yt)},st.prototype.listenerCount=pt,st.prototype.eventNames=function(){return this._eventsCount>0?rt(this._events):[]}},function(tt,et,nt){var rt=nt(146).Buffer,it=rt.isEncoding||function(pt){switch((pt=""+pt)&&pt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ot(pt){var gt;switch(this.encoding=function(mt){var yt=function(bt){if(!bt)return"utf8";for(var St;;)switch(bt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return bt;default:if(St)return;bt=(""+bt).toLowerCase(),St=!0}}(mt);if(typeof yt!="string"&&(rt.isEncoding===it||!it(mt)))throw new Error("Unknown encoding: "+mt);return yt||mt}(pt),this.encoding){case"utf16le":this.text=lt,this.end=ct,gt=4;break;case"utf8":this.fillLast=st,gt=4;break;case"base64":this.text=ft,this.end=ut,gt=3;break;default:return this.write=dt,void(this.end=ht)}this.lastNeed=0,this.lastTotal=0,this.lastChar=rt.allocUnsafe(gt)}function at(pt){return pt<=127?0:pt>>5==6?2:pt>>4==14?3:pt>>3==30?4:pt>>6==2?-1:-2}function st(pt){var gt=this.lastTotal-this.lastNeed,mt=function(yt,bt,St){if((192&bt[0])!=128)return yt.lastNeed=0,"\uFFFD";if(yt.lastNeed>1&&bt.length>1){if((192&bt[1])!=128)return yt.lastNeed=1,"\uFFFD";if(yt.lastNeed>2&&bt.length>2&&(192&bt[2])!=128)return yt.lastNeed=2,"\uFFFD"}}(this,pt);return mt!==void 0?mt:this.lastNeed<=pt.length?(pt.copy(this.lastChar,gt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(pt.copy(this.lastChar,gt,0,pt.length),void(this.lastNeed-=pt.length))}function lt(pt,gt){if((pt.length-gt)%2==0){var mt=pt.toString("utf16le",gt);if(mt){var yt=mt.charCodeAt(mt.length-1);if(yt>=55296&&yt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pt[pt.length-2],this.lastChar[1]=pt[pt.length-1],mt.slice(0,-1)}return mt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pt[pt.length-1],pt.toString("utf16le",gt,pt.length-1)}function ct(pt){var gt=pt&&pt.length?this.write(pt):"";if(this.lastNeed){var mt=this.lastTotal-this.lastNeed;return gt+this.lastChar.toString("utf16le",0,mt)}return gt}function ft(pt,gt){var mt=(pt.length-gt)%3;return mt===0?pt.toString("base64",gt):(this.lastNeed=3-mt,this.lastTotal=3,mt===1?this.lastChar[0]=pt[pt.length-1]:(this.lastChar[0]=pt[pt.length-2],this.lastChar[1]=pt[pt.length-1]),pt.toString("base64",gt,pt.length-mt))}function ut(pt){var gt=pt&&pt.length?this.write(pt):"";return this.lastNeed?gt+this.lastChar.toString("base64",0,3-this.lastNeed):gt}function dt(pt){return pt.toString(this.encoding)}function ht(pt){return pt&&pt.length?this.write(pt):""}et.StringDecoder=ot,ot.prototype.write=function(pt){if(pt.length===0)return"";var gt,mt;if(this.lastNeed){if((gt=this.fillLast(pt))===void 0)return"";mt=this.lastNeed,this.lastNeed=0}else mt=0;return mt<pt.length?gt?gt+this.text(pt,mt):this.text(pt,mt):gt||""},ot.prototype.end=function(pt){var gt=pt&&pt.length?this.write(pt):"";return this.lastNeed?gt+"\uFFFD":gt},ot.prototype.text=function(pt,gt){var mt=function(bt,St,xt){var vt=St.length-1;if(vt<xt)return 0;var $t=at(St[vt]);return $t>=0?($t>0&&(bt.lastNeed=$t-1),$t):--vt<xt||$t===-2?0:($t=at(St[vt]))>=0?($t>0&&(bt.lastNeed=$t-2),$t):--vt<xt||$t===-2?0:($t=at(St[vt]))>=0?($t>0&&($t===2?$t=0:bt.lastNeed=$t-3),$t):0}(this,pt,gt);if(!this.lastNeed)return pt.toString("utf8",gt);this.lastTotal=mt;var yt=pt.length-(mt-this.lastNeed);return pt.copy(this.lastChar,0,yt),pt.toString("utf8",gt,yt)},ot.prototype.fillLast=function(pt){if(this.lastNeed<=pt.length)return pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pt.length),this.lastNeed-=pt.length}},function(tt,et,nt){var rt=nt(13),it=Object.keys||function(pt){var gt=[];for(var mt in pt)gt.push(mt);return gt};tt.exports=ut;var ot=nt(14);ot.inherits=nt(6);var at=nt(67),st=nt(44);ot.inherits(ut,at);for(var lt=it(st.prototype),ct=0;ct<lt.length;ct++){var ft=lt[ct];ut.prototype[ft]||(ut.prototype[ft]=st.prototype[ft])}function ut(pt){if(!(this instanceof ut))return new ut(pt);at.call(this,pt),st.call(this,pt),pt&&pt.readable===!1&&(this.readable=!1),pt&&pt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,pt&&pt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",dt)}function dt(){this.allowHalfOpen||this._writableState.ended||rt.nextTick(ht,this)}function ht(pt){pt.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(pt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=pt,this._writableState.destroyed=pt)}}),ut.prototype._destroy=function(pt,gt){this.push(null),this.end(),rt.nextTick(gt,pt)}},function(tt,et,nt){tt.exports=function(rt,it){it||(it={}),typeof it=="function"&&(it={cmp:it});var ot,at=typeof it.cycles=="boolean"&&it.cycles,st=it.cmp&&(ot=it.cmp,function(ct){return function(ft,ut){var dt={key:ft,value:ct[ft]},ht={key:ut,value:ct[ut]};return ot(dt,ht)}}),lt=[];return function ct(ft){if(ft&&ft.toJSON&&typeof ft.toJSON=="function"&&(ft=ft.toJSON()),ft!==void 0){if(typeof ft=="number")return isFinite(ft)?""+ft:"null";if(typeof ft!="object")return JSON.stringify(ft);var ut,dt;if(Array.isArray(ft)){for(dt="[",ut=0;ut<ft.length;ut++)ut&&(dt+=","),dt+=ct(ft[ut])||"null";return dt+"]"}if(ft===null)return"null";if(lt.indexOf(ft)!==-1){if(at)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ht=lt.push(ft)-1,pt=Object.keys(ft).sort(st&&st(ft));for(dt="",ut=0;ut<pt.length;ut++){var gt=pt[ut],mt=ct(ft[gt]);mt&&(dt&&(dt+=","),dt+=JSON.stringify(gt)+":"+mt)}return lt.splice(ht,1),"{"+dt+"}"}}(rt)}},function(tt,et,nt){(function(rt){function it(Tn){var qt=0;return function(){return qt<Tn.length?{done:!1,value:Tn[qt++]}:{done:!0}}}var ot=typeof Object.defineProperties=="function"?Object.defineProperty:function(Tn,qt,Zt){Tn!=Array.prototype&&Tn!=Object.prototype&&(Tn[qt]=Zt.value)},at=function(Tn){Tn=[typeof window=="object"&&window,typeof self=="object"&&self,typeof rt=="object"&&rt,Tn];for(var qt=0;qt<Tn.length;++qt){var Zt=Tn[qt];if(Zt&&Zt.Math==Math)return Zt}throw Error("Cannot find global object")}(this);function st(Tn,qt){if(qt){var Zt=at;Tn=Tn.split(".");for(var pn=0;pn<Tn.length-1;pn++){var gn=Tn[pn];gn in Zt||(Zt[gn]={}),Zt=Zt[gn]}(qt=qt(pn=Zt[Tn=Tn[Tn.length-1]]))!=pn&&qt!=null&&ot(Zt,Tn,{configurable:!0,writable:!0,value:qt})}}function lt(Tn){var qt=typeof Symbol!="undefined"&&Symbol.iterator&&Tn[Symbol.iterator];return qt?qt.call(Tn):{next:it(Tn)}}st("Object.is",function(Tn){return Tn||function(qt,Zt){return qt===Zt?qt!==0||1/qt==1/Zt:qt!=qt&&Zt!=Zt}}),st("Array.prototype.includes",function(Tn){return Tn||function(qt,Zt){var pn=this;pn instanceof String&&(pn=String(pn));var gn=pn.length;for(0>(Zt=Zt||0)&&(Zt=Math.max(Zt+gn,0));Zt<gn;Zt++){var _n=pn[Zt];if(_n===qt||Object.is(_n,qt))return!0}return!1}}),st("Promise",function(Tn){function qt($n){this.b=0,this.c=void 0,this.a=[];var In=this.f();try{$n(In.resolve,In.reject)}catch(mn){In.reject(mn)}}function Zt(){this.a=null}function pn($n){return $n instanceof qt?$n:new qt(function(In){In($n)})}if(Tn)return Tn;Zt.prototype.b=function($n){if(this.a==null){this.a=[];var In=this;this.c(function(){In.g()})}this.a.push($n)};var gn=at.setTimeout;Zt.prototype.c=function($n){gn($n,0)},Zt.prototype.g=function(){for(;this.a&&this.a.length;){var $n=this.a;this.a=[];for(var In=0;In<$n.length;++In){var mn=$n[In];$n[In]=null;try{mn()}catch(wn){this.f(wn)}}}this.a=null},Zt.prototype.f=function($n){this.c(function(){throw $n})},qt.prototype.f=function(){function $n(wn){return function(An){mn||(mn=!0,wn.call(In,An))}}var In=this,mn=!1;return{resolve:$n(this.m),reject:$n(this.g)}},qt.prototype.m=function($n){if($n===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if($n instanceof qt)this.o($n);else{e:switch(typeof $n){case"object":var In=$n!=null;break e;case"function":In=!0;break e;default:In=!1}In?this.l($n):this.h($n)}},qt.prototype.l=function($n){var In=void 0;try{In=$n.then}catch(mn){return void this.g(mn)}typeof In=="function"?this.u(In,$n):this.h($n)},qt.prototype.g=function($n){this.i(2,$n)},qt.prototype.h=function($n){this.i(1,$n)},qt.prototype.i=function($n,In){if(this.b!=0)throw Error("Cannot settle("+$n+", "+In+"): Promise already settled in state"+this.b);this.b=$n,this.c=In,this.j()},qt.prototype.j=function(){if(this.a!=null){for(var $n=0;$n<this.a.length;++$n)_n.b(this.a[$n]);this.a=null}};var _n=new Zt;return qt.prototype.o=function($n){var In=this.f();$n.w(In.resolve,In.reject)},qt.prototype.u=function($n,In){var mn=this.f();try{$n.call(In,mn.resolve,mn.reject)}catch(wn){mn.reject(wn)}},qt.prototype.then=function($n,In){function mn(On,Gn){return typeof On=="function"?function(Pn){try{wn(On(Pn))}catch(jn){An(jn)}}:Gn}var wn,An,Dn=new qt(function(On,Gn){wn=On,An=Gn});return this.w(mn($n,wn),mn(In,An)),Dn},qt.prototype.catch=function($n){return this.then(void 0,$n)},qt.prototype.w=function($n,In){function mn(){switch(wn.b){case 1:$n(wn.c);break;case 2:In(wn.c);break;default:throw Error("Unexpected state: "+wn.b)}}var wn=this;this.a==null?_n.b(mn):this.a.push(mn)},qt.resolve=pn,qt.reject=function($n){return new qt(function(In,mn){mn($n)})},qt.race=function($n){return new qt(function(In,mn){for(var wn=lt($n),An=wn.next();!An.done;An=wn.next())pn(An.value).w(In,mn)})},qt.all=function($n){var In=lt($n),mn=In.next();return mn.done?pn([]):new qt(function(wn,An){function Dn(Pn){return function(jn){On[Pn]=jn,--Gn==0&&wn(On)}}var On=[],Gn=0;do On.push(void 0),Gn++,pn(mn.value).w(Dn(On.length-1),An),mn=In.next();while(!mn.done)})},qt});var ct=ct||{},ft=this||self;function ut(Tn,qt){Tn=Tn.split("."),qt=qt||ft;for(var Zt=0;Zt<Tn.length;Zt++)if((qt=qt[Tn[Zt]])==null)return null;return qt}function dt(){}function ht(Tn){var qt=typeof Tn;if(qt=="object"){if(!Tn)return"null";if(Tn instanceof Array)return"array";if(Tn instanceof Object)return qt;var Zt=Object.prototype.toString.call(Tn);if(Zt=="[object Window]")return"object";if(Zt=="[object Array]"||typeof Tn.length=="number"&&Tn.splice!==void 0&&Tn.propertyIsEnumerable!==void 0&&!Tn.propertyIsEnumerable("splice"))return"array";if(Zt=="[object Function]"||Tn.call!==void 0&&Tn.propertyIsEnumerable!==void 0&&!Tn.propertyIsEnumerable("call"))return"function"}else if(qt=="function"&&Tn.call===void 0)return"object";return qt}function pt(Tn){var qt=typeof Tn;return qt=="object"&&Tn!=null||qt=="function"}function gt(Tn,qt,Zt){return Tn.call.apply(Tn.bind,arguments)}function mt(Tn,qt,Zt){if(!Tn)throw Error();if(2<arguments.length){var pn=Array.prototype.slice.call(arguments,2);return function(){var gn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(gn,pn),Tn.apply(qt,gn)}}return function(){return Tn.apply(qt,arguments)}}function yt(Tn,qt,Zt){return(yt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt:mt).apply(null,arguments)}function bt(Tn,qt){function Zt(){}Zt.prototype=qt.prototype,Tn.S=qt.prototype,Tn.prototype=new Zt,Tn.prototype.constructor=Tn}function St(){this.a={}}function xt(Tn,qt,Zt,pn){this.f=Tn,this.c=qt,this.b=Zt,this.a=pn}function vt(Tn,qt,Zt,pn){Zt=Zt===void 0?{}:Zt,this.c=Tn,this.a=Zt,this.b=qt,this.f=pn===void 0?null:pn}function $t(Tn,qt,Zt,pn,gn,_n){this.name=Tn,this.a=gn,this.b=_n}function zt(Tn,qt,Zt){Zt=Zt===void 0?{}:Zt;var pn=pn===void 0?new St:pn;return new xt(qt,Tn,Zt,pn)}function Nt(Tn,qt,Zt,pn){return pn instanceof $t?pn:new $t(Tn,Zt,pn.b||qt.constructor,pn.f,pn.a,pn.c)}function wt(Tn){this.a=Tn}function Et(Tn){switch(Tn){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function Rt(Tn){if(Error.captureStackTrace)Error.captureStackTrace(this,Rt);else{var qt=Error().stack;qt&&(this.stack=qt)}Tn&&(this.message=String(Tn))}function Tt(Tn,qt){for(var Zt="",pn=(Tn=Tn.split("%s")).length-1,gn=0;gn<pn;gn++)Zt+=Tn[gn]+(gn<qt.length?qt[gn]:"%s");Rt.call(this,Zt+Tn[pn])}function It(){this.j=null,this.i=[],this.l=0,this.b=Pt,this.f=this.a=this.h=0,this.c=null,this.g=0}St.prototype.get=function(Tn){return this.a[Tn]},St.prototype.f=function(){return Object.keys(this.a)},xt.prototype.getRequestMessage=function(){return this.f},xt.prototype.getMethodDescriptor=function(){return this.c},xt.prototype.getMetadata=function(){return this.b},xt.prototype.getCallOptions=function(){return this.a},vt.prototype.getResponseMessage=function(){return this.c},vt.prototype.getMetadata=function(){return this.a},vt.prototype.getMethodDescriptor=function(){return this.b},vt.prototype.getStatus=function(){return this.f},wt.prototype.on=function(Tn,qt){return Tn=="data"||Tn=="error"?this:this.a.on(Tn,qt)},wt.prototype.removeListener=function(Tn,qt){return this.a.removeListener(Tn,qt)},wt.prototype.cancel=function(){this.a.cancel()},bt(Rt,Error),Rt.prototype.name="CustomError",bt(Tt,Rt),Tt.prototype.name="AssertionError";var Pt=0,Dt=128;function Ct(Tn,qt,Zt,pn){throw Tn.b=3,Tn.j="The stream is broken @"+Tn.l+"/"+Zt+". Error: "+pn+`. With input:
`+qt,Error(Tn.j)}var Ot,Ut=Array.prototype.indexOf?function(Tn,qt){return Array.prototype.indexOf.call(Tn,qt,void 0)}:function(Tn,qt){if(typeof Tn=="string")return typeof qt!="string"||qt.length!=1?-1:Tn.indexOf(qt,0);for(var Zt=0;Zt<Tn.length;Zt++)if(Zt in Tn&&Tn[Zt]===qt)return Zt;return-1},At=String.prototype.trim?function(Tn){return Tn.trim()}:function(Tn){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(Tn)[1]};function Mt(Tn,qt){return Tn.indexOf(qt)!=-1}function jt(Tn,qt){return Tn<qt?-1:Tn>qt?1:0}e:{var kt=ft.navigator;if(kt){var Gt=kt.userAgent;if(Gt){Ot=Gt;break e}}Ot=""}var Ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jt(Tn){var qt=1;Tn=Tn.split(":");for(var Zt=[];0<qt&&Tn.length;)Zt.push(Tn.shift()),qt--;return Tn.length&&Zt.push(Tn.join(":")),Zt}function Vt(Tn){return Vt[" "](Tn),Tn}Vt[" "]=dt;var Wt,Lt,Bt=Mt(Ot,"Opera"),Ft=Mt(Ot,"Trident")||Mt(Ot,"MSIE"),sn=Mt(Ot,"Edge"),Xt=Mt(Ot,"Gecko")&&!(Mt(Ot.toLowerCase(),"webkit")&&!Mt(Ot,"Edge"))&&!(Mt(Ot,"Trident")||Mt(Ot,"MSIE"))&&!Mt(Ot,"Edge"),dn=Mt(Ot.toLowerCase(),"webkit")&&!Mt(Ot,"Edge");function Yt(){var Tn=ft.document;return Tn?Tn.documentMode:void 0}e:{var yn="",Qt=(Lt=Ot,Xt?/rv:([^\);]+)(\)|;)/.exec(Lt):sn?/Edge\/([\d\.]+)/.exec(Lt):Ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Lt):dn?/WebKit\/(\S+)/.exec(Lt):Bt?/(?:Version)[ \/]?(\S+)/.exec(Lt):void 0);if(Qt&&(yn=Qt?Qt[1]:""),Ft){var Kt=Yt();if(Kt!=null&&Kt>parseFloat(yn)){Wt=String(Kt);break e}}Wt=yn}var hn={};function vn(Tn){return qt=Tn,Zt=hn,Object.prototype.hasOwnProperty.call(Zt,qt)?Zt[qt]:Zt[qt]=function(){for(var pn=0,gn=At(String(Wt)).split("."),_n=At(String(Tn)).split("."),$n=Math.max(gn.length,_n.length),In=0;pn==0&&In<$n;In++){var mn=gn[In]||"",wn=_n[In]||"";do{if(mn=/(\d*)(\D*)(.*)/.exec(mn)||["","","",""],wn=/(\d*)(\D*)(.*)/.exec(wn)||["","","",""],mn[0].length==0&&wn[0].length==0)break;pn=jt(mn[1].length==0?0:parseInt(mn[1],10),wn[1].length==0?0:parseInt(wn[1],10))||jt(mn[2].length==0,wn[2].length==0)||jt(mn[2],wn[2]),mn=mn[3],wn=wn[3]}while(pn==0)}return 0<=pn}();var qt,Zt}var Sn=ft.document&&Ft&&(Yt()||parseInt(Wt,10))||void 0;function Cn(){this.F=this.F}Cn.prototype.F=!1;var cn,ln=Object.freeze||function(Tn){return Tn};(cn=!Ft)||(cn=9<=Number(Sn));var bn=cn,xn=Ft&&!vn("9"),Nn=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var Tn=!1,qt=Object.defineProperty({},"passive",{get:function(){Tn=!0}});try{ft.addEventListener("test",dt,qt),ft.removeEventListener("test",dt,qt)}catch{}return Tn}();function zn(Tn,qt){this.type=Tn,this.a=this.target=qt,this.defaultPrevented=!1}function Ln(Tn,qt){if(zn.call(this,Tn?Tn.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,Tn){var Zt=this.type=Tn.type,pn=Tn.changedTouches&&Tn.changedTouches.length?Tn.changedTouches[0]:null;if(this.target=Tn.target||Tn.srcElement,this.a=qt,qt=Tn.relatedTarget){if(Xt){e:{try{Vt(qt.nodeName);var gn=!0;break e}catch{}gn=!1}gn||(qt=null)}}else Zt=="mouseover"?qt=Tn.fromElement:Zt=="mouseout"&&(qt=Tn.toElement);this.relatedTarget=qt,pn?(this.clientX=pn.clientX!==void 0?pn.clientX:pn.pageX,this.clientY=pn.clientY!==void 0?pn.clientY:pn.pageY,this.screenX=pn.screenX||0,this.screenY=pn.screenY||0):(this.clientX=Tn.clientX!==void 0?Tn.clientX:Tn.pageX,this.clientY=Tn.clientY!==void 0?Tn.clientY:Tn.pageY,this.screenX=Tn.screenX||0,this.screenY=Tn.screenY||0),this.button=Tn.button,this.key=Tn.key||"",this.ctrlKey=Tn.ctrlKey,this.altKey=Tn.altKey,this.shiftKey=Tn.shiftKey,this.metaKey=Tn.metaKey,this.pointerId=Tn.pointerId||0,this.pointerType=typeof Tn.pointerType=="string"?Tn.pointerType:Mn[Tn.pointerType]||"",this.c=Tn,Tn.defaultPrevented&&this.b()}}zn.prototype.b=function(){this.defaultPrevented=!0},bt(Ln,zn);var Mn=ln({2:"touch",3:"pen",4:"mouse"});Ln.prototype.b=function(){Ln.S.b.call(this);var Tn=this.c;if(Tn.preventDefault)Tn.preventDefault();else if(Tn.returnValue=!1,xn)try{(Tn.ctrlKey||112<=Tn.keyCode&&123>=Tn.keyCode)&&(Tn.keyCode=-1)}catch{}};var Wn="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function Zn(Tn,qt,Zt,pn,gn){this.listener=Tn,this.proxy=null,this.src=qt,this.type=Zt,this.capture=!!pn,this.A=gn,this.key=++Jn,this.s=this.v=!1}function Rn(Tn){Tn.s=!0,Tn.listener=null,Tn.proxy=null,Tn.src=null,Tn.A=null}function Kn(Tn){this.src=Tn,this.a={},this.b=0}function kn(Tn,qt){var Zt=qt.type;if(Zt in Tn.a){var pn,gn=Tn.a[Zt],_n=Ut(gn,qt);(pn=0<=_n)&&Array.prototype.splice.call(gn,_n,1),pn&&(Rn(qt),Tn.a[Zt].length==0&&(delete Tn.a[Zt],Tn.b--))}}function Bn(Tn,qt,Zt,pn){for(var gn=0;gn<Tn.length;++gn){var _n=Tn[gn];if(!_n.s&&_n.listener==qt&&_n.capture==!!Zt&&_n.A==pn)return gn}return-1}Kn.prototype.add=function(Tn,qt,Zt,pn,gn){var _n=Tn.toString();(Tn=this.a[_n])||(Tn=this.a[_n]=[],this.b++);var $n=Bn(Tn,qt,pn,gn);return-1<$n?(qt=Tn[$n],Zt||(qt.v=!1)):((qt=new Zn(qt,this.src,_n,!!pn,gn)).v=Zt,Tn.push(qt)),qt};var Hn="closure_lm_"+(1e6*Math.random()|0),Qn={};function qn(Tn,qt,Zt,pn,gn){if(pn&&pn.once)(function $n(In,mn,wn,An,Dn){if(Array.isArray(mn))for(var On=0;On<mn.length;On++)$n(In,mn[On],wn,An,Dn);else wn=Er(wn),In&&In[Wn]?In.f.add(String(mn),wn,!0,pt(An)?!!An.capture:!!An,Dn):er(In,mn,wn,!0,An,Dn)})(Tn,qt,Zt,pn,gn);else if(Array.isArray(qt))for(var _n=0;_n<qt.length;_n++)qn(Tn,qt[_n],Zt,pn,gn);else Zt=Er(Zt),Tn&&Tn[Wn]?Tn.f.add(String(qt),Zt,!1,pt(pn)?!!pn.capture:!!pn,gn):er(Tn,qt,Zt,!1,pn,gn)}function er(Tn,qt,Zt,pn,gn,_n){if(!qt)throw Error("Invalid event type");var $n,In,mn=pt(gn)?!!gn.capture:!!gn,wn=$r(Tn);if(wn||(Tn[Hn]=wn=new Kn(Tn)),!(Zt=wn.add(qt,Zt,pn,mn,_n)).proxy)if($n=Rr,pn=In=bn?function(An){return $n.call(In.src,In.listener,An)}:function(An){if(!(An=$n.call(In.src,In.listener,An)))return An},Zt.proxy=pn,pn.src=Tn,pn.listener=Zt,Tn.addEventListener)Nn||(gn=mn),gn===void 0&&(gn=!1),Tn.addEventListener(qt.toString(),pn,gn);else if(Tn.attachEvent)Tn.attachEvent(nr(qt.toString()),pn);else{if(!Tn.addListener||!Tn.removeListener)throw Error("addEventListener and attachEvent are unavailable.");Tn.addListener(pn)}}function ir(Tn){if(typeof Tn!="number"&&Tn&&!Tn.s){var qt=Tn.src;if(qt&&qt[Wn])kn(qt.f,Tn);else{var Zt=Tn.type,pn=Tn.proxy;qt.removeEventListener?qt.removeEventListener(Zt,pn,Tn.capture):qt.detachEvent?qt.detachEvent(nr(Zt),pn):qt.addListener&&qt.removeListener&&qt.removeListener(pn),(Zt=$r(qt))?(kn(Zt,Tn),Zt.b==0&&(Zt.src=null,qt[Hn]=null)):Rn(Tn)}}}function nr(Tn){return Tn in Qn?Qn[Tn]:Qn[Tn]="on"+Tn}function ur(Tn,qt,Zt,pn){var gn=!0;if((Tn=$r(Tn))&&(qt=Tn.a[qt.toString()]))for(qt=qt.concat(),Tn=0;Tn<qt.length;Tn++){var _n=qt[Tn];_n&&_n.capture==Zt&&!_n.s&&(_n=mr(_n,pn),gn=gn&&_n!==!1)}return gn}function mr(Tn,qt){var Zt=Tn.listener,pn=Tn.A||Tn.src;return Tn.v&&ir(Tn),Zt.call(pn,qt)}function Rr(Tn,qt){if(Tn.s)return!0;if(!bn){var Zt=qt||ut("window.event");qt=new Ln(Zt,this);var pn=!0;if(!(0>Zt.keyCode||Zt.returnValue!=null)){e:{var gn=!1;if(Zt.keyCode==0)try{Zt.keyCode=-1;break e}catch{gn=!0}(gn||Zt.returnValue==null)&&(Zt.returnValue=!0)}for(Zt=[],gn=qt.a;gn;gn=gn.parentNode)Zt.push(gn);for(Tn=Tn.type,gn=Zt.length-1;0<=gn;gn--){qt.a=Zt[gn];var _n=ur(Zt[gn],Tn,!0,qt);pn=pn&&_n}for(gn=0;gn<Zt.length;gn++)qt.a=Zt[gn],_n=ur(Zt[gn],Tn,!1,qt),pn=pn&&_n}return pn}return mr(Tn,new Ln(qt,this))}function $r(Tn){return(Tn=Tn[Hn])instanceof Kn?Tn:null}var Pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Er(Tn){return ht(Tn)=="function"?Tn:(Tn[Pr]||(Tn[Pr]=function(qt){return Tn.handleEvent(qt)}),Tn[Pr])}function Ir(){Cn.call(this),this.f=new Kn(this),this.N=this}function Nr(Tn,qt){Tn=Tn.N;var Zt=qt.type||qt;if(typeof qt=="string")qt=new zn(qt,Tn);else if(qt instanceof zn)qt.target=qt.target||Tn;else{var pn=qt;(function(gn,_n){for(var $n,In,mn=1;mn<arguments.length;mn++){for($n in In=arguments[mn])gn[$n]=In[$n];for(var wn=0;wn<Ht.length;wn++)$n=Ht[wn],Object.prototype.hasOwnProperty.call(In,$n)&&(gn[$n]=In[$n])}})(qt=new zn(Zt,Tn),pn)}Yr(Tn=qt.a=Tn,Zt,!0,qt),Yr(Tn,Zt,!1,qt)}function Yr(Tn,qt,Zt,pn){if(qt=Tn.f.a[String(qt)]){qt=qt.concat();for(var gn=!0,_n=0;_n<qt.length;++_n){var $n=qt[_n];if($n&&!$n.s&&$n.capture==Zt){var In=$n.listener,mn=$n.A||$n.src;$n.v&&kn(Tn.f,$n),gn=In.call(mn,pn)!==!1&&gn}}}}function qr(Tn,qt,Zt){if(ht(Tn)=="function")Zt&&(Tn=yt(Tn,Zt));else{if(!Tn||typeof Tn.handleEvent!="function")throw Error("Invalid listener argument");Tn=yt(Tn.handleEvent,Tn)}return 2147483647<Number(qt)?-1:ft.setTimeout(Tn,qt||0)}function En(Tn,qt,Zt){this.reset(Tn,qt,Zt,void 0,void 0)}function Fn(Tn){this.f=Tn,this.b=this.c=this.a=null}function Vn(Tn,qt){this.name=Tn,this.value=qt}bt(Ir,Cn),Ir.prototype[Wn]=!0,Ir.prototype.addEventListener=function(Tn,qt,Zt,pn){qn(this,Tn,qt,Zt,pn)},Ir.prototype.removeEventListener=function(Tn,qt,Zt,pn){(function gn(_n,$n,In,mn,wn){if(Array.isArray($n))for(var An=0;An<$n.length;An++)gn(_n,$n[An],In,mn,wn);else mn=pt(mn)?!!mn.capture:!!mn,In=Er(In),_n&&_n[Wn]?(_n=_n.f,($n=String($n).toString())in _n.a&&-1<(In=Bn(An=_n.a[$n],In,mn,wn))&&(Rn(An[In]),Array.prototype.splice.call(An,In,1),An.length==0&&(delete _n.a[$n],_n.b--))):_n&&(_n=$r(_n))&&($n=_n.a[$n.toString()],_n=-1,$n&&(_n=Bn($n,In,mn,wn)),(In=-1<_n?$n[_n]:null)&&ir(In))})(this,Tn,qt,Zt,pn)},En.prototype.a=null,En.prototype.reset=function(Tn,qt,Zt,pn,gn){delete this.a},Vn.prototype.toString=function(){return this.name};var Un=new Vn("SEVERE",1e3),Xn=new Vn("CONFIG",700),ar=new Vn("FINE",500);function cr(Tn){return Tn.c?Tn.c:Tn.a?cr(Tn.a):(function(qt,Zt){throw new Tt("Failure"+(qt?": "+qt:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Fn.prototype.log=function(Tn,qt,Zt){if(Tn.value>=cr(this).value)for(ht(qt)=="function"&&(qt=qt()),Tn=new En(Tn,String(qt),this.f),Zt&&(Tn.a=Zt),Zt=this;Zt;)Zt=Zt.a};var fr,dr={},yr=null;function hr(Tn,qt){Tn&&Tn.log(ar,qt,void 0)}function gr(){}function xr(Tn){var qt;return(qt=Tn.a)||(qt={},zr(Tn)&&(qt[0]=!0,qt[1]=!0),qt=Tn.a=qt),qt}function Br(){}function Gr(Tn){return(Tn=zr(Tn))?new ActiveXObject(Tn):new XMLHttpRequest}function zr(Tn){if(!Tn.b&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var qt=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Zt=0;Zt<qt.length;Zt++){var pn=qt[Zt];try{return new ActiveXObject(pn),Tn.b=pn}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Tn.b}function _r(Tn,qt){this.b={},this.a=[],this.c=0;var Zt=arguments.length;if(1<Zt){if(Zt%2)throw Error("Uneven number of arguments");for(var pn=0;pn<Zt;pn+=2)this.set(arguments[pn],arguments[pn+1])}else Tn&&kr(this,Tn)}function pr(Tn){if(Tn.c!=Tn.a.length){for(var qt=0,Zt=0;qt<Tn.a.length;){var pn=Tn.a[qt];Sr(Tn.b,pn)&&(Tn.a[Zt++]=pn),qt++}Tn.a.length=Zt}if(Tn.c!=Tn.a.length){var gn={};for(Zt=qt=0;qt<Tn.a.length;)Sr(gn,pn=Tn.a[qt])||(Tn.a[Zt++]=pn,gn[pn]=1),qt++;Tn.a.length=Zt}}function kr(Tn,qt){if(qt instanceof _r)for(var Zt=qt.f(),pn=0;pn<Zt.length;pn++)Tn.set(Zt[pn],qt.get(Zt[pn]));else for(Zt in qt)Tn.set(Zt,qt[Zt])}function Sr(Tn,qt){return Object.prototype.hasOwnProperty.call(Tn,qt)}gr.prototype.a=null,bt(Br,gr),fr=new Br,_r.prototype.f=function(){return pr(this),this.a.concat()},_r.prototype.get=function(Tn,qt){return Sr(this.b,Tn)?this.b[Tn]:qt},_r.prototype.set=function(Tn,qt){Sr(this.b,Tn)||(this.c++,this.a.push(Tn)),this.b[Tn]=qt},_r.prototype.forEach=function(Tn,qt){for(var Zt=this.f(),pn=0;pn<Zt.length;pn++){var gn=Zt[pn],_n=this.get(gn);Tn.call(qt,_n,gn,this)}};var Dr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Or(Tn){Ir.call(this),this.headers=new _r,this.D=Tn||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=Fr,this.B=this.H=!1}bt(Or,Ir);var Fr="",Zr=Or.prototype,Lr=function Tn(qt){var Zt;if(yr||(yr=new Fn(""),dr[""]=yr,yr.c=Xn),!(Zt=dr[qt])){Zt=new Fn(qt);var pn=qt.lastIndexOf("."),gn=qt.substr(pn+1);(pn=Tn(qt.substr(0,pn))).b||(pn.b={}),pn.b[gn]=Zt,Zt.a=pn,dr[qt]=Zt}return Zt}("goog.net.XhrIo");Zr.b=Lr;var Ur=/^https?$/i,Kr=["POST","PUT"];function Mr(Tn){return Tn.toLowerCase()=="content-type"}function lo(Tn,qt){Tn.c=!1,Tn.a&&(Tn.h=!0,Tn.a.abort(),Tn.h=!1),Tn.i=qt,Tn.g=5,oo(Tn),ro(Tn)}function oo(Tn){Tn.G||(Tn.G=!0,Nr(Tn,"complete"),Nr(Tn,"error"))}function co(Tn){if(Tn.c&&ct!==void 0){if(Tn.C[1]&&no(Tn)==4&&Tn.getStatus()==2)hr(Tn.b,Xr(Tn,"Local request error detected and ignored"));else if(Tn.m&&no(Tn)==4)qr(Tn.K,0,Tn);else if(Nr(Tn,"readystatechange"),no(Tn)==4){hr(Tn.b,Xr(Tn,"Request complete")),Tn.c=!1;try{var qt,Zt=Tn.getStatus();e:switch(Zt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var pn=!0;break e;default:pn=!1}if(!(qt=pn)){var gn;if(gn=Zt===0){var _n=String(Tn.o).match(Dr)[1]||null;if(!_n&&ft.self&&ft.self.location){var $n=ft.self.location.protocol;_n=$n.substr(0,$n.length-1)}gn=!Ur.test(_n?_n.toLowerCase():"")}qt=gn}if(qt)Nr(Tn,"complete"),Nr(Tn,"success");else{Tn.g=6;try{var In=2<no(Tn)?Tn.a.statusText:""}catch(mn){hr(Tn.b,"Can not get status: "+mn.message),In=""}Tn.i=In+" ["+Tn.getStatus()+"]",oo(Tn)}}finally{ro(Tn)}}}}function ro(Tn){if(Tn.a){uo(Tn);var qt=Tn.a,Zt=Tn.C[0]?dt:null;Tn.a=null,Tn.C=null,Nr(Tn,"ready");try{qt.onreadystatechange=Zt}catch(pn){(Tn=Tn.b)&&Tn.log(Un,"Problem encountered resetting onreadystatechange: "+pn.message,void 0)}}}function uo(Tn){Tn.a&&Tn.B&&(Tn.a.ontimeout=null),Tn.u&&(ft.clearTimeout(Tn.u),Tn.u=null)}function no(Tn){return Tn.a?Tn.a.readyState:0}function fo(Tn,qt){if(Tn.a&&no(Tn)==4)return(Tn=Tn.a.getResponseHeader(qt))===null?void 0:Tn}function Xr(Tn,qt){return qt+" ["+Tn.J+" "+Tn.o+" "+Tn.getStatus()+"]"}Or.prototype.L=function(){ct!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,hr(this.b,Xr(this,this.i)),Nr(this,"timeout"),this.abort(8))},Or.prototype.abort=function(Tn){this.a&&this.c&&(hr(this.b,Xr(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=Tn||7,Nr(this,"complete"),Nr(this,"abort"),ro(this))},Or.prototype.K=function(){this.F||(this.I||this.m||this.h?co(this):this.O())},Or.prototype.O=function(){co(this)},Or.prototype.getStatus=function(){try{return 2<no(this)?this.a.status:-1}catch{return-1}};var Ar={},Jr=null;function so(){if(!Jr){Jr={};for(var Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),qt=["+/=","+/","-_=","-_.","-_"],Zt=0;5>Zt;Zt++){var pn=Tn.concat(qt[Zt].split(""));Ar[Zt]=pn;for(var gn=0;gn<pn.length;gn++){var _n=pn[gn];Jr[_n]===void 0&&(Jr[_n]=gn)}}}}var ao=["content-type","grpc-status","grpc-message"];function Hr(Tn){this.a=Tn.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new It;var qt=this;qn(this.a,"readystatechange",function(){var Zt=qt.a;if(Zt=Zt.a?Zt.a.getResponseHeader("Content-Type"):null){if((Zt=Zt.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){Zt=qt.a;try{var pn=Zt.a?Zt.a.responseText:""}catch(wn){hr(Zt.b,"Can not get responseText: "+wn.message),pn=""}if(pn=(Zt=pn||"").length-Zt.length%4,(Zt=Zt.substr(qt.i,pn-qt.i)).length==0)return;qt.i=pn,Zt=function(wn){var An=wn.length,Dn=3*An/4;Dn%3?Dn=Math.floor(Dn):Mt("=.",wn[An-1])&&(Dn=Mt("=.",wn[An-2])?Dn-2:Dn-1);var On=new Uint8Array(Dn),Gn=0;return function(Pn,jn){function Yn(br){for(;tr<Pn.length;){var Cr=Pn.charAt(tr++),Tr=Jr[Cr];if(Tr!=null)return Tr;if(!/^[\s\xa0]*$/.test(Cr))throw Error("Unknown base64 encoding at char: "+Cr)}return br}so();for(var tr=0;;){var rr=Yn(-1),lr=Yn(0),or=Yn(64),wr=Yn(64);if(wr===64&&rr===-1)break;jn(rr<<2|lr>>4),or!=64&&(jn(lr<<4&240|or>>2),wr!=64&&jn(or<<6&192|wr))}}(wn,function(Pn){On[Gn++]=Pn}),On.subarray(0,Gn)}(Zt)}else{if(Zt.lastIndexOf("application/grpc",0)!=0)return void Vr(qt,{code:2,message:"Unknown Content-type received.",metadata:{}});Zt=new Uint8Array(function(wn){try{if(!wn.a)return null;if("response"in wn.a)return wn.a.response;switch(wn.j){case Fr:case"text":return wn.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in wn.a)return wn.a.mozResponseArrayBuffer}var An=wn.b;return An&&An.log(Un,"Response type "+wn.j+" is not supported on this browser",void 0),null}catch(Dn){return hr(wn.b,"Can not get response: "+Dn.message),null}}(qt.a))}pn=null;try{pn=function(wn,An){function Dn(rr){Yn.c[Yn.g++]=rr,Yn.g==Yn.a&&On()}function On(){var rr={};rr[Yn.h]=Yn.c,Yn.i.push(rr),Yn.b=Pt}var Gn,Pn,jn,Yn=wn,tr=0;for(Gn=An instanceof Uint8Array||An instanceof Array?An:new Uint8Array(An);tr<Gn.length;){switch(Yn.b){case 3:Ct(Yn,Gn,tr,"stream already broken");break;case Pt:(Pn=Gn[tr])==0||Pn==Dt?Yn.h=Pn:Ct(Yn,Gn,tr,"invalid frame byte"),Yn.b=1,Yn.a=0,Yn.f=0;break;case 1:jn=Gn[tr],Yn.f++,Yn.a=(Yn.a<<8)+jn,Yn.f==4&&(Yn.b=2,Yn.g=0,typeof Uint8Array!="undefined"?Yn.c=new Uint8Array(Yn.a):Yn.c=Array(Yn.a),Yn.a==0&&On());break;case 2:Dn(Gn[tr]);break;default:throw Error("unexpected parser state: "+Yn.b)}Yn.l++,tr++}return wn=Yn.i,Yn.i=[],0<wn.length?wn:null}(qt.m,Zt)}catch{Vr(qt,{code:2,message:"Error in parsing response body",metadata:{}})}if(pn)for(Zt=0;Zt<pn.length;Zt++){if(0 in pn[Zt]){var gn=pn[Zt][0];if(gn)try{var _n=qt.l(gn);if(_n){gn=qt;for(var $n=_n,In=0;In<gn.b.length;In++)gn.b[In]($n)}}catch{Vr(qt,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(Dt in pn[Zt]&&0<pn[Zt][Dt].length){for(gn="",$n=0;$n<pn[Zt][Dt].length;$n++)gn+=String.fromCharCode(pn[Zt][Dt][$n]);for(gn=gn.trim().split(`\r
`),$n={},In=0;In<gn.length;In++){var mn=gn[In].indexOf(":");$n[gn[In].substring(0,mn).trim()]=gn[In].substring(mn+1).trim()}gn=$n,$n=0,In="","grpc-status"in gn&&($n=gn["grpc-status"],delete gn["grpc-status"]),"grpc-message"in gn&&(In=gn["grpc-message"],delete gn["grpc-message"]),Vr(qt,{code:Number($n),message:In,metadata:gn})}}}}),qn(this.a,"complete",function(){var Zt=qt.a.g,pn="",gn={},_n=function(In){var mn={};In=(In.a&&no(In)==4&&In.a.getAllResponseHeaders()||"").split(`\r
`);for(var wn=0;wn<In.length;wn++)if(!/^[\s\xa0]*$/.test(In[wn])){var An=Jt(In[wn]),Dn=An[0];if(typeof(An=An[1])=="string"){An=An.trim();var On=mn[Dn]||[];mn[Dn]=On,On.push(An)}}return function(Gn,Pn){var jn,Yn={};for(jn in Gn)Yn[jn]=Pn.call(void 0,Gn[jn],jn,Gn);return Yn}(mn,function(Gn){return Gn.join(", ")})}(qt.a);if(Object.keys(_n).forEach(function(In){ao.includes(In)||(gn[In]=_n[In])}),function(In,mn){for(var wn=0;wn<In.g.length;wn++)In.g[wn](mn)}(qt,gn),Zt!=0){switch(Zt){case 7:var $n=10;break;case 8:$n=4;break;case 6:$n=function(In){switch(In){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(qt.a.getStatus());break;default:$n=14}$n==10&&qt.j||Vr(qt,{code:$n,message:Et(Zt),metadata:{}})}else Zt=!1,"grpc-status"in _n&&($n=fo(qt.a,"grpc-status"),"grpc-message"in _n&&(pn=fo(qt.a,"grpc-message")),Number($n)!=0&&(Vr(qt,{code:Number($n),message:pn,metadata:_n}),Zt=!0)),Zt||function(In){for(var mn=0;mn<In.c.length;mn++)In.c[mn]()}(qt)})}function Qr(Tn,qt){-1<(qt=Tn.indexOf(qt))&&Tn.splice(qt,1)}function Vr(Tn,qt){if(qt.code!=0)for(var Zt={code:qt.code,message:decodeURIComponent(qt.message||""),metadata:qt.metadata},pn=0;pn<Tn.f.length;pn++)Tn.f[pn](Zt);for(qt={code:qt.code,details:decodeURIComponent(qt.message||""),metadata:qt.metadata},Zt=0;Zt<Tn.h.length;Zt++)Tn.h[Zt](qt)}function jr(Tn){this.a=ut("format",Tn)||"text",this.f=ut("suppressCorsPreflight",Tn)||!1,this.c=ut("withCredentials",Tn)||!1,this.b=ut("streamInterceptors",Tn)||[],this.g=ut("unaryInterceptors",Tn)||[]}function eo(Tn,qt,Zt){var pn=qt.getMethodDescriptor(),gn=Zt+pn.name;(Zt=new Or).H=Tn.c;var _n,$n=new Hr({T:Zt});if($n.l=pn.b,kr(Zt.headers,qt.getMetadata()),Tn.a=="text"?(Zt.headers.set("Content-Type","application/grpc-web-text"),Zt.headers.set("Accept","application/grpc-web-text")):Zt.headers.set("Content-Type","application/grpc-web+proto"),Zt.headers.set("X-User-Agent","grpc-web-javascript/0.1"),Zt.headers.set("X-Grpc-Web","1"),Sr(Zt.headers.b,"deadline")){var In=Zt.headers.get("deadline");In=Math.round(In-new Date().getTime());var mn=Zt.headers;Sr(mn.b,"deadline")&&(delete mn.b.deadline,mn.c--,mn.a.length>2*mn.c&&pr(mn)),1/0===In&&(In=0),0<In&&Zt.headers.set("grpc-timeout",In+"m")}if(Tn.f){pr(mn=Zt.headers),In={};for(var wn=0;wn<mn.a.length;wn++){var An=mn.a[wn];In[An]=mn.b[An]}(mn=Zt.headers).b={},mn.a.length=0,mn.c=0;e:{for(Dn in In){var Dn=!1;break e}Dn=!0}Dn||(_n="",function(Pn,jn){for(var Yn in Pn)jn.call(void 0,Pn[Yn],Yn,Pn)}(In,function(Pn,jn){_n+=jn,_n+=":",_n+=Pn,_n+=`\r
`}),In=_n,typeof gn=="string"?(Dn=encodeURIComponent("$httpHeaders"),(Dn+=In=In!=null?"="+encodeURIComponent(String(In)):"")&&(0>(In=gn.indexOf("#"))&&(In=gn.length),0>(mn=gn.indexOf("?"))||mn>In?(mn=In,wn=""):wn=gn.substring(mn+1,In),In=(gn=[gn.substr(0,mn),wn,gn.substr(In)])[1],gn[1]=Dn?In?In+"&"+Dn:Dn:In,gn=gn[0]+(gn[1]?"?"+gn[1]:"")+gn[2])):gn.a("$httpHeaders",In))}for(pn=(qt=(0,pn.a)(qt.getRequestMessage())).length,Dn=[0,0,0,0],In=new Uint8Array(5+pn),mn=3;0<=mn;mn--)Dn[mn]=pn%256,pn>>>=8;if(In.set(new Uint8Array(Dn),1),In.set(qt,5),qt=In,Tn.a=="text"){var On;for(Tn=qt,On===void 0&&(On=0),so(),On=Ar[On],qt=[],pn=0;pn<Tn.length;pn+=3){An=Tn[pn];var Gn=(Dn=pn+1<Tn.length)?Tn[pn+1]:0;mn=An>>2,An=(3&An)<<4|Gn>>4,Gn=(15&Gn)<<2|(wn=(In=pn+2<Tn.length)?Tn[pn+2]:0)>>6,wn&=63,In||(wn=64,Dn||(Gn=64)),qt.push(On[mn],On[An],On[Gn]||"",On[wn]||"")}qt=qt.join("")}else Tn.a=="binary"&&(Zt.j="arraybuffer");return function(Pn,jn,Yn){if(Pn.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Pn.o+"; newUri="+jn);Pn.o=jn,Pn.i="",Pn.g=0,Pn.J="POST",Pn.G=!1,Pn.c=!0,Pn.a=Pn.D?Gr(Pn.D):Gr(fr),Pn.C=Pn.D?xr(Pn.D):xr(fr),Pn.a.onreadystatechange=yt(Pn.K,Pn);try{hr(Pn.b,Xr(Pn,"Opening Xhr")),Pn.I=!0,Pn.a.open("POST",String(jn),!0),Pn.I=!1}catch(or){return hr(Pn.b,Xr(Pn,"Error opening Xhr: "+or.message)),void lo(Pn,or)}jn=Yn||"";var tr,rr=function(or){e:{for(var wr=Mr,br=or.length,Cr=typeof or=="string"?or.split(""):or,Tr=0;Tr<br;Tr++)if(Tr in Cr&&wr.call(void 0,Cr[Tr],Tr,or)){wr=Tr;break e}wr=-1}return 0>wr?null:typeof or=="string"?or.charAt(wr):or[wr]}((Yn=new _r(Pn.headers)).f()),lr=ft.FormData&&jn instanceof ft.FormData;!(0<=Ut(Kr,"POST"))||rr||lr||Yn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Yn.forEach(function(or,wr){this.a.setRequestHeader(wr,or)},Pn),Pn.j&&(Pn.a.responseType=Pn.j),"withCredentials"in Pn.a&&Pn.a.withCredentials!==Pn.H&&(Pn.a.withCredentials=Pn.H);try{uo(Pn),0<Pn.l&&(Pn.B=(tr=Pn.a,Ft&&vn(9)&&typeof tr.timeout=="number"&&tr.ontimeout!==void 0),hr(Pn.b,Xr(Pn,"Will abort after "+Pn.l+"ms if incomplete, xhr2 "+Pn.B)),Pn.B?(Pn.a.timeout=Pn.l,Pn.a.ontimeout=yt(Pn.L,Pn)):Pn.u=qr(Pn.L,Pn.l,Pn)),hr(Pn.b,Xr(Pn,"Sending request")),Pn.m=!0,Pn.a.send(jn),Pn.m=!1}catch(or){hr(Pn.b,Xr(Pn,"Send error: "+or.message)),lo(Pn,or)}}(Zt,gn,qt),$n}function ho(Tn,qt,Zt){var pn=null,gn=!1;Tn.on("data",function(_n){pn=_n}),Tn.on("error",function(_n){_n.code==0||gn||(gn=!0,qt(_n,null))}),Tn.on("status",function(_n){_n.code==0||gn?Zt&&qt(null,null,_n):(gn=!0,qt({code:_n.code,message:_n.details,metadata:_n.metadata},null))}),Zt&&Tn.on("metadata",function(_n){qt(null,null,null,_n)}),Tn.on("end",function(){gn||(pn==null?qt({code:2,message:"Incomplete response"}):qt(null,pn)),Zt&&qt(null,null)})}function sr(Tn,qt){var Zt=Tn;return qt.forEach(function(pn){var gn=Zt;Zt=function(_n){return pn.intercept(_n,gn)}}),Zt}Hr.prototype.on=function(Tn,qt){return Tn=="data"?this.b.push(qt):Tn=="status"?this.h.push(qt):Tn=="metadata"?this.g.push(qt):Tn=="end"?this.c.push(qt):Tn=="error"&&this.f.push(qt),this},Hr.prototype.removeListener=function(Tn,qt){return Tn=="data"?Qr(this.b,qt):Tn=="status"?Qr(this.h,qt):Tn=="metadata"?Qr(this.g,qt):Tn=="end"?Qr(this.c,qt):Tn=="error"&&Qr(this.f,qt),this},Hr.prototype.cancel=function(){this.j=!0,this.a.abort()},Hr.prototype.cancel=Hr.prototype.cancel,Hr.prototype.removeListener=Hr.prototype.removeListener,Hr.prototype.on=Hr.prototype.on,jr.prototype.P=function(Tn,qt,Zt,pn,gn){var _n=this;pn=Nt(Tn,qt,"unary",pn);var $n=Tn.substr(0,Tn.length-pn.name.length);return ho(Tn=sr(function(In){return eo(_n,In,$n)},this.b).call(this,zt(pn,qt,Zt)),gn,!1),new wt(Tn)},jr.prototype.M=function(Tn,qt,Zt,pn){var gn=this;pn=Nt(Tn,qt,"unary",pn);var _n=Tn.substr(0,Tn.length-pn.name.length);return sr(function($n){return new Promise(function(In,mn){var wn,An,Dn;ho(eo(gn,$n,_n),function(On,Gn,Pn,jn){On?mn(On):Gn?Dn=Gn:Pn?An=Pn:jn?wn=jn:(On=$n.getMethodDescriptor(),In(new vt(Dn,On,Gn=(Gn=wn)===void 0?{}:Gn,An===void 0?null:An)))},!0)})},this.g).call(this,zt(pn,qt,Zt)).then(function($n){return $n.getResponseMessage()})},jr.prototype.unaryCall=function(Tn,qt,Zt,pn){return this.M(Tn,qt,Zt,pn)},jr.prototype.R=function(Tn,qt,Zt,pn){var gn=this;pn=Nt(Tn,qt,"server_streaming",pn);var _n=Tn.substr(0,Tn.length-pn.name.length);return sr(function($n){return eo(gn,$n,_n)},this.b).call(this,zt(pn,qt,Zt))},jr.prototype.serverStreaming=jr.prototype.R,jr.prototype.unaryCall=jr.prototype.unaryCall,jr.prototype.thenableCall=jr.prototype.M,jr.prototype.rpcCall=jr.prototype.P,tt.exports.AbstractClientBase={MethodInfo:function(Tn,qt,Zt,pn,gn){this.name=pn,this.b=gn,this.f=Tn,this.a=qt,this.c=Zt}},tt.exports.GrpcWebClientBase=jr,tt.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},tt.exports.MethodDescriptor=$t,tt.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,nt(5))},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.isAsyncIterable=et.isAsyncGenerator=et.isAsync=void 0;var rt,it=(rt=nt(151))&&rt.__esModule?rt:{default:rt};function ot(at){return at[Symbol.toStringTag]==="AsyncFunction"}et.default=function(at){if(typeof at!="function")throw new Error("expected a function");return ot(at)?(0,it.default)(at):at},et.isAsync=ot,et.isAsyncGenerator=function(at){return at[Symbol.toStringTag]==="AsyncGenerator"},et.isAsyncIterable=function(at){return typeof at[Symbol.asyncIterator]=="function"}},function(tt,et,nt){var rt={};function it(at,st,lt){lt||(lt=Error);var ct=function(ft){var ut,dt;function ht(pt,gt,mt){return ft.call(this,(yt=pt,bt=gt,St=mt,typeof st=="string"?st:st(yt,bt,St)))||this;var yt,bt,St}return dt=ft,(ut=ht).prototype=Object.create(dt.prototype),ut.prototype.constructor=ut,ut.__proto__=dt,ht}(lt);ct.prototype.name=lt.name,ct.prototype.code=at,rt[at]=ct}function ot(at,st){if(Array.isArray(at)){var lt=at.length;return at=at.map(function(ct){return String(ct)}),lt>2?"one of ".concat(st," ").concat(at.slice(0,lt-1).join(", "),", or ")+at[lt-1]:lt===2?"one of ".concat(st," ").concat(at[0]," or ").concat(at[1]):"of ".concat(st," ").concat(at[0])}return"of ".concat(st," ").concat(String(at))}it("ERR_INVALID_OPT_VALUE",function(at,st){return'The value "'+st+'" is invalid for option "'+at+'"'},TypeError),it("ERR_INVALID_ARG_TYPE",function(at,st,lt){var ct,ft,ut,dt,ht,pt;if(typeof st=="string"&&(ft="not ",st.substr(0,ft.length)===ft)?(ct="must not be",st=st.replace(/^not /,"")):ct="must be",dt=at,ht=" argument",(pt===void 0||pt>dt.length)&&(pt=dt.length),dt.substring(pt-ht.length,pt)===ht)ut="The ".concat(at," ").concat(ct," ").concat(ot(st,"type"));else{var gt=function(mt,yt,bt){return typeof bt!="number"&&(bt=0),!(bt+1>mt.length)&&mt.indexOf(".",bt)!==-1}(at)?"property":"argument";ut='The "'.concat(at,'" ').concat(gt," ").concat(ct," ").concat(ot(st,"type"))}return ut+". Received type ".concat(typeof lt)},TypeError),it("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),it("ERR_METHOD_NOT_IMPLEMENTED",function(at){return"The "+at+" method is not implemented"}),it("ERR_STREAM_PREMATURE_CLOSE","Premature close"),it("ERR_STREAM_DESTROYED",function(at){return"Cannot call "+at+" after a stream was destroyed"}),it("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),it("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),it("ERR_STREAM_WRITE_AFTER_END","write after end"),it("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),it("ERR_UNKNOWN_ENCODING",function(at){return"Unknown encoding: "+at},TypeError),it("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.codes=rt},function(tt,et,nt){(function(rt){var it=Object.keys||function(ht){var pt=[];for(var gt in ht)pt.push(gt);return pt};tt.exports=ft;var ot=nt(75),at=nt(79);nt(6)(ft,ot);for(var st=it(at.prototype),lt=0;lt<st.length;lt++){var ct=st[lt];ft.prototype[ct]||(ft.prototype[ct]=at.prototype[ct])}function ft(ht){if(!(this instanceof ft))return new ft(ht);ot.call(this,ht),at.call(this,ht),this.allowHalfOpen=!0,ht&&(ht.readable===!1&&(this.readable=!1),ht.writable===!1&&(this.writable=!1),ht.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ut)))}function ut(){this._writableState.ended||rt.nextTick(dt,this)}function dt(ht){ht.end()}Object.defineProperty(ft.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ft.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ft.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ft.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ht){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ht,this._writableState.destroyed=ht)}})}).call(this,nt(2))},function(tt,et,nt){nt.d(et,"a",function(){return at});var rt=nt(36),it=nt(7);const ot={"app-id":["app-id must match formant/*"]};class at extends rt.a{constructor(lt,ct={}){super(lt,Object.assign({validateHeaders:ft=>`${ft.get("app-id")}`.startsWith("formant/")?{}:ot,headers:Object.assign(Object.assign({},at.headers),{"App-ID":`formant/${it.a}`,"App-Version":it.j})},ct)),this.endpoint=lt}}at.headers={}},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt,it=rt.length){if(!it)throw new Error("arity is undefined");return function(...ot){return typeof ot[it-1]=="function"?rt.apply(this,ot):new Promise((at,st)=>{ot[it-1]=(lt,...ct)=>{if(lt)return st(lt);at(ct.length>1?ct:ct[0])},rt.apply(this,ot)})}},tt.exports=et.default},function(tt,et,nt){(et=tt.exports=nt(67)).Stream=et,et.Readable=et,et.Writable=nt(44),et.Duplex=nt(20),et.Transform=nt(70),et.PassThrough=nt(164)},function(tt,et,nt){(et=tt.exports=nt(75)).Stream=et,et.Readable=et,et.Writable=nt(79),et.Duplex=nt(25),et.Transform=nt(80),et.PassThrough=nt(183),et.finished=nt(45),et.pipeline=nt(184)},function(tt,et,nt){nt.d(et,"a",function(){return it});const rt=["password","secret","token","key","buffer"];function it(ot,at=new Set){return at.has(ot)?"[ RECURSIVE ]":!(st=ot)||typeof st!="object"&&typeof st!="function"?ot:(at.add(ot),Object.keys(ot).reduce((lt,ct)=>(lt[ct]=rt.some(ft=>ct.toLowerCase().includes(ft.toLowerCase()))?"[ REDACTED ]":it(ot[ct],at),lt),{}));var st}},function(tt,et){tt.exports=rt,rt.default=rt,rt.stable=ot,rt.stableStringify=ot;var nt=[];function rt(at,st,lt){(function ut(dt,ht,pt,gt){var mt;if(typeof dt=="object"&&dt!==null){for(mt=0;mt<pt.length;mt++)if(pt[mt]===dt)return gt[ht]="[Circular]",void nt.push([gt,ht,dt]);if(pt.push(dt),Array.isArray(dt))for(mt=0;mt<dt.length;mt++)ut(dt[mt],mt,pt,dt);else{var yt=Object.keys(dt);for(mt=0;mt<yt.length;mt++){var bt=yt[mt];ut(dt[bt],bt,pt,dt)}}pt.pop()}})(at,"",[],void 0);for(var ct=JSON.stringify(at,st,lt);nt.length!==0;){var ft=nt.pop();ft[0][ft[1]]=ft[2]}return ct}function it(at,st){return at<st?-1:at>st?1:0}function ot(at,st,lt){for(var ct=function dt(ht,pt,gt,mt){var yt;if(typeof ht=="object"&&ht!==null){for(yt=0;yt<gt.length;yt++)if(gt[yt]===ht)return mt[pt]="[Circular]",void nt.push([mt,pt,ht]);if(typeof ht.toJSON=="function")return;if(gt.push(ht),Array.isArray(ht))for(yt=0;yt<ht.length;yt++)dt(ht[yt],yt,gt,ht);else{var bt={},St=Object.keys(ht).sort(it);for(yt=0;yt<St.length;yt++){var xt=St[yt];dt(ht[xt],xt,gt,ht),bt[xt]=ht[xt]}if(mt===void 0)return bt;nt.push([mt,pt,ht]),mt[pt]=bt}gt.pop()}}(at,"",[],void 0)||at,ft=JSON.stringify(ct,st,lt);nt.length!==0;){var ut=nt.pop();ut[0][ut[1]]=ut[2]}return ft}},function(tt,et,nt){var rt=nt(13),it=Object.keys||function(pt){var gt=[];for(var mt in pt)gt.push(mt);return gt};tt.exports=ut;var ot=Object.create(nt(14));ot.inherits=nt(6);var at=nt(142),st=nt(60);ot.inherits(ut,at);for(var lt=it(st.prototype),ct=0;ct<lt.length;ct++){var ft=lt[ct];ut.prototype[ft]||(ut.prototype[ft]=st.prototype[ft])}function ut(pt){if(!(this instanceof ut))return new ut(pt);at.call(this,pt),st.call(this,pt),pt&&pt.readable===!1&&(this.readable=!1),pt&&pt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,pt&&pt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",dt)}function dt(){this.allowHalfOpen||this._writableState.ended||rt.nextTick(ht,this)}function ht(pt){pt.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(pt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=pt,this._writableState.destroyed=pt)}}),ut.prototype._destroy=function(pt,gt){this.push(null),this.end(),rt.nextTick(gt,pt)}},function(tt,et,nt){var rt=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function it(st,lt){return Object.prototype.hasOwnProperty.call(st,lt)}et.assign=function(st){for(var lt=Array.prototype.slice.call(arguments,1);lt.length;){var ct=lt.shift();if(ct){if(typeof ct!="object")throw new TypeError(ct+"must be non-object");for(var ft in ct)it(ct,ft)&&(st[ft]=ct[ft])}}return st},et.shrinkBuf=function(st,lt){return st.length===lt?st:st.subarray?st.subarray(0,lt):(st.length=lt,st)};var ot={arraySet:function(st,lt,ct,ft,ut){if(lt.subarray&&st.subarray)st.set(lt.subarray(ct,ct+ft),ut);else for(var dt=0;dt<ft;dt++)st[ut+dt]=lt[ct+dt]},flattenChunks:function(st){var lt,ct,ft,ut,dt,ht;for(ft=0,lt=0,ct=st.length;lt<ct;lt++)ft+=st[lt].length;for(ht=new Uint8Array(ft),ut=0,lt=0,ct=st.length;lt<ct;lt++)dt=st[lt],ht.set(dt,ut),ut+=dt.length;return ht}},at={arraySet:function(st,lt,ct,ft,ut){for(var dt=0;dt<ft;dt++)st[ut+dt]=lt[ct+dt]},flattenChunks:function(st){return[].concat.apply([],st)}};et.setTyped=function(st){st?(et.Buf8=Uint8Array,et.Buf16=Uint16Array,et.Buf32=Int32Array,et.assign(et,ot)):(et.Buf8=Array,et.Buf16=Array,et.Buf32=Array,et.assign(et,at))},et.setTyped(rt)},function(tt,et,nt){tt.exports=nt(185)},function(tt,et,nt){tt.exports=function(rt){return rt}},function(tt,et,nt){nt.d(et,"a",function(){return mt});var rt=nt(11),it=nt(0);function ot(yt,bt,St=()=>!0){if(yt instanceof bt&&St(yt))return yt;throw yt}var at=nt(1),st=nt(100),lt=nt.n(st),ct=nt(101),ft=nt.n(ct);class ut extends Error{constructor(bt,St,xt){super(`Connection failure: ${bt.message}`),this.cause=bt,this.url=St,this.retryable=xt}}var dt=nt(30);class ht extends Error{constructor(bt,St,xt,vt,$t={},zt){super(`Unexpected response (${xt}) for ${bt} ${St}: ${JSON.stringify(zt?Object(dt.a)([...zt.entries()].reduce((Nt,[wt,Et])=>(Nt[wt]=Et,Nt),{})):{})} -- ${JSON.stringify(Object(dt.a)(vt))}`),this.method=bt,this.url=St,this.statusCode=xt,this.body=vt,this.validationErrors=$t,this.headers=zt}}class pt extends Error{constructor(bt,St){super(`Invalid headers (${JSON.stringify(bt)}) for response: ${St.message}`),this.validationErrors=bt,this.responseError=St}}var gt=function(yt,bt,St,xt){return new(St||(St=Promise))(function(vt,$t){function zt(Et){try{wt(xt.next(Et))}catch(Rt){$t(Rt)}}function Nt(Et){try{wt(xt.throw(Et))}catch(Rt){$t(Rt)}}function wt(Et){var Rt;Et.done?vt(Et.value):(Rt=Et.value,Rt instanceof St?Rt:new St(function(Tt){Tt(Rt)})).then(zt,Nt)}wt((xt=xt.apply(yt,bt||[])).next())})};class mt{constructor(bt,St={}){if(this.endpoint=bt,this.validateHeaders=xt=>St.validateHeaders?St.validateHeaders(xt):{},this.verbose=St.verbose!==!1,this.retries=St.retries!==void 0?St.retries:mt.retries,this.headers=St.headers||{},this.timeoutMs=St.timeoutMs,!(this.retries>=0))throw new Error("retries must be positive or zero");if(this.timeoutMs!==void 0&&!(this.timeoutMs>0))throw new Error("timeoutMs must be positive")}fetch(bt,St={}){return gt(this,void 0,void 0,function*(){return(yield this.fetchVerbose(bt,St)).body})}fetchVerbose(bt,St={}){return gt(this,void 0,void 0,function*(){let xt=100*at.a.millisecond,vt=0;const $t=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,zt=$t?()=>Math.max($t-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(bt,St,zt)}catch(Nt){const wt=ot(Nt,ut);if((zt==null?void 0:zt())===0||vt===this.retries||!wt.retryable&&!St.allowUnsafeRetries)throw wt;vt++,xt*=2+.1*(Math.random()-.5),yield Object(rt.a)(zt?Math.min(xt,zt()):xt),this.verbose&&it.a.warn(`Connection failure, retrying. Error: ${Nt.cause.message}`,{url:Nt.url,error:Nt.cause})}})}doFetch(bt,St,xt){return gt(this,void 0,void 0,function*(){const{token:vt,json:$t}=St,zt=function(It,Pt){var Dt={};for(var Ct in It)Object.prototype.hasOwnProperty.call(It,Ct)&&Pt.indexOf(Ct)<0&&(Dt[Ct]=It[Ct]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ot=0;for(Ct=Object.getOwnPropertySymbols(It);Ot<Ct.length;Ot++)Pt.indexOf(Ct[Ot])<0&&Object.prototype.propertyIsEnumerable.call(It,Ct[Ot])&&(Dt[Ct[Ot]]=It[Ct[Ot]])}return Dt}(St,["token","json"]),Nt=(zt.method||"GET").toUpperCase(),wt=Nt!=="POST"&&Nt!=="PATCH",Et=this.endpoint!==void 0?`${this.endpoint}${bt?`/${bt}`:""}`:bt,Rt=new lt.a;let Tt;if(xt){const It=xt();It>0?Tt=setTimeout(()=>{Rt.abort()},It):Rt.abort()}try{let It;yield Promise.race([mt.waitForConnectivity(),new Promise(Mt=>{It=setTimeout(Mt,xt?Math.min(at.a.minute,xt()):at.a.minute)})]),It&&clearTimeout(It);const Pt=yield ft()(Et,Object.assign(Object.assign({},zt),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},$t!==!1?{"Content-Type":"application/json"}:{}),this.headers),zt.headers||{}),vt!==void 0?{Authorization:`Bearer ${vt}`}:{}),signal:Rt.signal})),Dt=Pt.headers.get("content-type")||"",Ct=Dt&&Dt.startsWith("application/json"),Ot=Ct?yield Pt.json():yield Pt.text(),Ut=()=>new ht(Nt,Et,Pt.status,Ot,Ot&&Ot.validationErrors||{},Pt.headers);if(!Pt.ok)throw this.verbose&&it.a[Pt.status>=500?"warn":"info"]("Response error",{method:Nt,url:Et,statusCode:Pt.status}),Ut();const At=this.validateHeaders(Pt.headers);if(Object.keys(At).length!==0)throw new pt(At,Ut());if(Pt.status===204)return{body:void 0,headers:Pt.headers};if($t&&!Ct)throw new Error(`Response is not JSON: ${JSON.stringify(Ot)}`);return{body:Ot,headers:Pt.headers}}catch(It){if(It.message==="Network request failed")throw new ut(It,Et,wt);if(It.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Ot=>Ot===It.code))throw new ut(It,Et,!0);if(It.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Ot=>Ot===It.code))throw new ut(It,Et,wt);if(It.name==="AbortError")throw new ut(It,Et,wt);const Pt=ot(It,ht),{statusCode:Dt}=Pt;if(Dt===408||Dt===429||Dt===502||Dt===503||Dt===504)throw this.verbose&&!wt&&it.a.warn("Potentially unsafe retry"),new ut(It,Et,!0);const Ct=this.validateHeaders(Pt.headers);throw Object.keys(Ct).length!==0?new pt(Ct,Pt):(yield mt.onResponseError(Pt),It)}finally{Tt&&clearTimeout(Tt)}})}}mt.retries=8,mt.waitForConnectivity=()=>gt(void 0,void 0,void 0,function*(){}),mt.onResponseError=()=>gt(void 0,void 0,void 0,function*(){})},function(tt,et,nt){function rt(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}function it(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var ot=nt(57),at=nt(3),st=at.LEVEL,lt=at.MESSAGE;ot.enabled=!0;var ct=/\s+/,ft=function(){function ut(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(this,ut),gt.colors&&this.addColors(gt.colors),this.options=gt}var dt,ht,pt;return dt=ut,pt=[{key:"addColors",value:function(gt){var mt=Object.keys(gt).reduce(function(yt,bt){return yt[bt]=ct.test(gt[bt])?gt[bt].split(ct):gt[bt],yt},{});return ut.allColors=Object.assign({},ut.allColors||{},mt),ut.allColors}}],(ht=[{key:"addColors",value:function(gt){return ut.addColors(gt)}},{key:"colorize",value:function(gt,mt,yt){if(yt===void 0&&(yt=mt),!Array.isArray(ut.allColors[gt]))return ot[ut.allColors[gt]](yt);for(var bt=0,St=ut.allColors[gt].length;bt<St;bt++)yt=ot[ut.allColors[gt][bt]](yt);return yt}},{key:"transform",value:function(gt,mt){return mt.all&&typeof gt[lt]=="string"&&(gt[lt]=this.colorize(gt[st],gt.level,gt[lt])),(mt.level||mt.all||!mt.message)&&(gt.level=this.colorize(gt[st],gt.level)),(mt.all||mt.message)&&(gt.message=this.colorize(gt[st],gt.level,gt.message)),gt}}])&&it(dt.prototype,ht),pt&&it(dt,pt),ut}();tt.exports=function(ut){return new ft(ut)},tt.exports.Colorizer=tt.exports.Format=ft},function(tt,et){var nt={}.toString;tt.exports=Array.isArray||function(rt){return nt.call(rt)=="[object Array]"}},function(tt,et,nt){(function(rt){function it(ot){try{if(!rt.localStorage)return!1}catch{return!1}var at=rt.localStorage[ot];return at!=null&&String(at).toLowerCase()==="true"}tt.exports=function(ot,at){if(it("noDeprecation"))return ot;var st=!1;return function(){if(!st){if(it("throwDeprecation"))throw new Error(at);it("traceDeprecation")?console.trace(at):console.warn(at),st=!0}return ot.apply(this,arguments)}}}).call(this,nt(5))},function(tt,et,nt){var rt=nt(4),it=rt.Buffer;function ot(st,lt){for(var ct in st)lt[ct]=st[ct]}function at(st,lt,ct){return it(st,lt,ct)}it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?tt.exports=rt:(ot(rt,et),et.Buffer=at),ot(it,at),at.from=function(st,lt,ct){if(typeof st=="number")throw new TypeError("Argument must not be a number");return it(st,lt,ct)},at.alloc=function(st,lt,ct){if(typeof st!="number")throw new TypeError("Argument must be a number");var ft=it(st);return lt!==void 0?typeof ct=="string"?ft.fill(lt,ct):ft.fill(lt):ft.fill(0),ft},at.allocUnsafe=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return it(st)},at.allocUnsafeSlow=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return rt.SlowBuffer(st)}},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return rt&&typeof rt.length=="number"&&rt.length>=0&&rt.length%1==0},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default={},tt.exports=et.default},function(tt,et,nt){var rt=nt(4),it=rt.Buffer;function ot(st,lt){for(var ct in st)lt[ct]=st[ct]}function at(st,lt,ct){return it(st,lt,ct)}it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?tt.exports=rt:(ot(rt,et),et.Buffer=at),ot(it,at),at.from=function(st,lt,ct){if(typeof st=="number")throw new TypeError("Argument must not be a number");return it(st,lt,ct)},at.alloc=function(st,lt,ct){if(typeof st!="number")throw new TypeError("Argument must be a number");var ft=it(st);return lt!==void 0?typeof ct=="string"?ft.fill(lt,ct):ft.fill(lt):ft.fill(0),ft},at.allocUnsafe=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return it(st)},at.allocUnsafeSlow=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return rt.SlowBuffer(st)}},function(tt,et,nt){(function(rt,it,ot){var at=nt(13);function st(Et){var Rt=this;this.next=null,this.entry=null,this.finish=function(){(function(Tt,It,Pt){var Dt=Tt.entry;for(Tt.entry=null;Dt;){var Ct=Dt.callback;It.pendingcb--,Ct(void 0),Dt=Dt.next}It.corkedRequestsFree?It.corkedRequestsFree.next=Tt:It.corkedRequestsFree=Tt})(Rt,Et)}}tt.exports=St;var lt,ct=!rt.browser&&["v0.10","v0.9."].indexOf(rt.version.slice(0,5))>-1?it:at.nextTick;St.WritableState=bt;var ft=nt(14);ft.inherits=nt(6);var ut,dt={deprecate:nt(39)},ht=nt(68),pt=nt(43).Buffer,gt=ot.Uint8Array||function(){},mt=nt(69);function yt(){}function bt(Et,Rt){lt=lt||nt(20),Et=Et||{};var Tt=Rt instanceof lt;this.objectMode=!!Et.objectMode,Tt&&(this.objectMode=this.objectMode||!!Et.writableObjectMode);var It=Et.highWaterMark,Pt=Et.writableHighWaterMark,Dt=this.objectMode?16:16384;this.highWaterMark=It||It===0?It:Tt&&(Pt||Pt===0)?Pt:Dt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ct=Et.decodeStrings===!1;this.decodeStrings=!Ct,this.defaultEncoding=Et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ot){(function(Ut,At){var Mt,jt=Ut._writableState,kt=jt.sync,Gt=jt.writecb;if((Mt=jt).writing=!1,Mt.writecb=null,Mt.length-=Mt.writelen,Mt.writelen=0,At)(function(Jt,Vt,Wt,Lt,Bt){--Vt.pendingcb,Wt?(at.nextTick(Bt,Lt),at.nextTick(wt,Jt,Vt),Jt._writableState.errorEmitted=!0,Jt.emit("error",Lt)):(Bt(Lt),Jt._writableState.errorEmitted=!0,Jt.emit("error",Lt),wt(Jt,Vt))})(Ut,jt,kt,At,Gt);else{var Ht=zt(jt);Ht||jt.corked||jt.bufferProcessing||!jt.bufferedRequest||$t(Ut,jt),kt?ct(vt,Ut,jt,Ht,Gt):vt(Ut,jt,Ht,Gt)}})(Rt,Ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new st(this)}function St(Et){if(lt=lt||nt(20),!(ut.call(St,this)||this instanceof lt))return new St(Et);this._writableState=new bt(Et,this),this.writable=!0,Et&&(typeof Et.write=="function"&&(this._write=Et.write),typeof Et.writev=="function"&&(this._writev=Et.writev),typeof Et.destroy=="function"&&(this._destroy=Et.destroy),typeof Et.final=="function"&&(this._final=Et.final)),ht.call(this)}function xt(Et,Rt,Tt,It,Pt,Dt,Ct){Rt.writelen=It,Rt.writecb=Ct,Rt.writing=!0,Rt.sync=!0,Tt?Et._writev(Pt,Rt.onwrite):Et._write(Pt,Dt,Rt.onwrite),Rt.sync=!1}function vt(Et,Rt,Tt,It){var Pt,Dt;Tt||(Pt=Et,(Dt=Rt).length===0&&Dt.needDrain&&(Dt.needDrain=!1,Pt.emit("drain"))),Rt.pendingcb--,It(),wt(Et,Rt)}function $t(Et,Rt){Rt.bufferProcessing=!0;var Tt=Rt.bufferedRequest;if(Et._writev&&Tt&&Tt.next){var It=Rt.bufferedRequestCount,Pt=new Array(It),Dt=Rt.corkedRequestsFree;Dt.entry=Tt;for(var Ct=0,Ot=!0;Tt;)Pt[Ct]=Tt,Tt.isBuf||(Ot=!1),Tt=Tt.next,Ct+=1;Pt.allBuffers=Ot,xt(Et,Rt,!0,Rt.length,Pt,"",Dt.finish),Rt.pendingcb++,Rt.lastBufferedRequest=null,Dt.next?(Rt.corkedRequestsFree=Dt.next,Dt.next=null):Rt.corkedRequestsFree=new st(Rt),Rt.bufferedRequestCount=0}else{for(;Tt;){var Ut=Tt.chunk,At=Tt.encoding,Mt=Tt.callback;if(xt(Et,Rt,!1,Rt.objectMode?1:Ut.length,Ut,At,Mt),Tt=Tt.next,Rt.bufferedRequestCount--,Rt.writing)break}Tt===null&&(Rt.lastBufferedRequest=null)}Rt.bufferedRequest=Tt,Rt.bufferProcessing=!1}function zt(Et){return Et.ending&&Et.length===0&&Et.bufferedRequest===null&&!Et.finished&&!Et.writing}function Nt(Et,Rt){Et._final(function(Tt){Rt.pendingcb--,Tt&&Et.emit("error",Tt),Rt.prefinished=!0,Et.emit("prefinish"),wt(Et,Rt)})}function wt(Et,Rt){var Tt,It,Pt=zt(Rt);return Pt&&(Tt=Et,(It=Rt).prefinished||It.finalCalled||(typeof Tt._final=="function"?(It.pendingcb++,It.finalCalled=!0,at.nextTick(Nt,Tt,It)):(It.prefinished=!0,Tt.emit("prefinish"))),Rt.pendingcb===0&&(Rt.finished=!0,Et.emit("finish"))),Pt}ft.inherits(St,ht),bt.prototype.getBuffer=function(){for(var Et=this.bufferedRequest,Rt=[];Et;)Rt.push(Et),Et=Et.next;return Rt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:dt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(Et){return!!ut.call(this,Et)||this===St&&Et&&Et._writableState instanceof bt}})):ut=function(Et){return Et instanceof this},St.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},St.prototype.write=function(Et,Rt,Tt){var It,Pt,Dt=this._writableState,Ct=!1,Ot=!Dt.objectMode&&(It=Et,pt.isBuffer(It)||It instanceof gt);return Ot&&!pt.isBuffer(Et)&&(Pt=Et,Et=pt.from(Pt)),typeof Rt=="function"&&(Tt=Rt,Rt=null),Ot?Rt="buffer":Rt||(Rt=Dt.defaultEncoding),typeof Tt!="function"&&(Tt=yt),Dt.ended?function(Ut,At){var Mt=new Error("write after end");Ut.emit("error",Mt),at.nextTick(At,Mt)}(this,Tt):(Ot||function(Ut,At,Mt,jt){var kt=!0,Gt=!1;return Mt===null?Gt=new TypeError("May not write null values to stream"):typeof Mt=="string"||Mt===void 0||At.objectMode||(Gt=new TypeError("Invalid non-string/buffer chunk")),Gt&&(Ut.emit("error",Gt),at.nextTick(jt,Gt),kt=!1),kt}(this,Dt,Et,Tt))&&(Dt.pendingcb++,Ct=function(Ut,At,Mt,jt,kt,Gt){if(!Mt){var Ht=(Vt=jt,Wt=kt,(Jt=At).objectMode||Jt.decodeStrings===!1||typeof Vt!="string"||(Vt=pt.from(Vt,Wt)),Vt);jt!==Ht&&(Mt=!0,kt="buffer",jt=Ht)}var Jt,Vt,Wt,Lt=At.objectMode?1:jt.length;At.length+=Lt;var Bt=At.length<At.highWaterMark;if(Bt||(At.needDrain=!0),At.writing||At.corked){var Ft=At.lastBufferedRequest;At.lastBufferedRequest={chunk:jt,encoding:kt,isBuf:Mt,callback:Gt,next:null},Ft?Ft.next=At.lastBufferedRequest:At.bufferedRequest=At.lastBufferedRequest,At.bufferedRequestCount+=1}else xt(Ut,At,!1,Lt,jt,kt,Gt);return Bt}(this,Dt,Ot,Et,Rt,Tt)),Ct},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Et=this._writableState;Et.corked&&(Et.corked--,Et.writing||Et.corked||Et.finished||Et.bufferProcessing||!Et.bufferedRequest||$t(this,Et))},St.prototype.setDefaultEncoding=function(Et){if(typeof Et=="string"&&(Et=Et.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Et+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Et);return this._writableState.defaultEncoding=Et,this},Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Et,Rt,Tt){Tt(new Error("_write() is not implemented"))},St.prototype._writev=null,St.prototype.end=function(Et,Rt,Tt){var It,Pt,Dt,Ct=this._writableState;typeof Et=="function"?(Tt=Et,Et=null,Rt=null):typeof Rt=="function"&&(Tt=Rt,Rt=null),Et!=null&&this.write(Et,Rt),Ct.corked&&(Ct.corked=1,this.uncork()),Ct.ending||Ct.finished||(It=this,Dt=Tt,(Pt=Ct).ending=!0,wt(It,Pt),Dt&&(Pt.finished?at.nextTick(Dt):It.once("finish",Dt)),Pt.ended=!0,It.writable=!1)},Object.defineProperty(St.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Et){this._writableState&&(this._writableState.destroyed=Et)}}),St.prototype.destroy=mt.destroy,St.prototype._undestroy=mt.undestroy,St.prototype._destroy=function(Et,Rt){this.end(),Rt(Et)}}).call(this,nt(2),nt(12).setImmediate,nt(5))},function(tt,et,nt){var rt=nt(24).codes.ERR_STREAM_PREMATURE_CLOSE;function it(){}tt.exports=function ot(at,st,lt){if(typeof st=="function")return ot(at,null,st);var ct,ft;st||(st={}),ct=lt||it,ft=!1,lt=function(){if(!ft){ft=!0;for(var vt=arguments.length,$t=new Array(vt),zt=0;zt<vt;zt++)$t[zt]=arguments[zt];ct.apply(this,$t)}};var ut=st.readable||st.readable!==!1&&at.readable,dt=st.writable||st.writable!==!1&&at.writable,ht=function(){at.writable||gt()},pt=at._writableState&&at._writableState.finished,gt=function(){dt=!1,pt=!0,ut||lt.call(at)},mt=at._readableState&&at._readableState.endEmitted,yt=function(){ut=!1,mt=!0,dt||lt.call(at)},bt=function(vt){lt.call(at,vt)},St=function(){var vt;return ut&&!mt?(at._readableState&&at._readableState.ended||(vt=new rt),lt.call(at,vt)):dt&&!pt?(at._writableState&&at._writableState.ended||(vt=new rt),lt.call(at,vt)):void 0},xt=function(){at.req.on("finish",gt)};return function(vt){return vt.setHeader&&typeof vt.abort=="function"}(at)?(at.on("complete",gt),at.on("abort",St),at.req?xt():at.on("request",xt)):dt&&!at._writableState&&(at.on("end",ht),at.on("close",ht)),at.on("end",yt),at.on("finish",gt),st.error!==!1&&at.on("error",bt),at.on("close",St),function(){at.removeListener("complete",gt),at.removeListener("abort",St),at.removeListener("request",xt),at.req&&at.req.removeListener("finish",gt),at.removeListener("end",ht),at.removeListener("close",ht),at.removeListener("finish",gt),at.removeListener("end",yt),at.removeListener("error",bt),at.removeListener("close",St)}}},function(tt,et,nt){var rt=nt(193),it=nt(195);function ot(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}et.parse=St,et.resolve=function(xt,vt){return St(xt,!1,!0).resolve(vt)},et.resolveObject=function(xt,vt){return xt?St(xt,!1,!0).resolveObject(vt):vt},et.format=function(xt){return it.isString(xt)&&(xt=St(xt)),xt instanceof ot?xt.format():ot.prototype.format.call(xt)},et.Url=ot;var at=/^([a-z0-9.+-]+:)/i,st=/:[0-9]*$/,lt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ct=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ft=["'"].concat(ct),ut=["%","/","?",";","#"].concat(ft),dt=["/","?","#"],ht=/^[+a-z0-9A-Z_-]{0,63}$/,pt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gt={javascript:!0,"javascript:":!0},mt={javascript:!0,"javascript:":!0},yt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},bt=nt(196);function St(xt,vt,$t){if(xt&&it.isObject(xt)&&xt instanceof ot)return xt;var zt=new ot;return zt.parse(xt,vt,$t),zt}ot.prototype.parse=function(xt,vt,$t){if(!it.isString(xt))throw new TypeError("Parameter 'url' must be a string, not "+typeof xt);var zt=xt.indexOf("?"),Nt=zt!==-1&&zt<xt.indexOf("#")?"?":"#",wt=xt.split(Nt);wt[0]=wt[0].replace(/\\/g,"/");var Et=xt=wt.join(Nt);if(Et=Et.trim(),!$t&&xt.split("#").length===1){var Rt=lt.exec(Et);if(Rt)return this.path=Et,this.href=Et,this.pathname=Rt[1],Rt[2]?(this.search=Rt[2],this.query=vt?bt.parse(this.search.substr(1)):this.search.substr(1)):vt&&(this.search="",this.query={}),this}var Tt=at.exec(Et);if(Tt){var It=(Tt=Tt[0]).toLowerCase();this.protocol=It,Et=Et.substr(Tt.length)}if($t||Tt||Et.match(/^\/\/[^@\/]+@[^@\/]+/)){var Pt=Et.substr(0,2)==="//";!Pt||Tt&&mt[Tt]||(Et=Et.substr(2),this.slashes=!0)}if(!mt[Tt]&&(Pt||Tt&&!yt[Tt])){for(var Dt,Ct,Ot=-1,Ut=0;Ut<dt.length;Ut++)(At=Et.indexOf(dt[Ut]))!==-1&&(Ot===-1||At<Ot)&&(Ot=At);for((Ct=Ot===-1?Et.lastIndexOf("@"):Et.lastIndexOf("@",Ot))!==-1&&(Dt=Et.slice(0,Ct),Et=Et.slice(Ct+1),this.auth=decodeURIComponent(Dt)),Ot=-1,Ut=0;Ut<ut.length;Ut++){var At;(At=Et.indexOf(ut[Ut]))!==-1&&(Ot===-1||At<Ot)&&(Ot=At)}Ot===-1&&(Ot=Et.length),this.host=Et.slice(0,Ot),Et=Et.slice(Ot),this.parseHost(),this.hostname=this.hostname||"";var Mt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!Mt)for(var jt=this.hostname.split(/\./),kt=(Ut=0,jt.length);Ut<kt;Ut++){var Gt=jt[Ut];if(Gt&&!Gt.match(ht)){for(var Ht="",Jt=0,Vt=Gt.length;Jt<Vt;Jt++)Gt.charCodeAt(Jt)>127?Ht+="x":Ht+=Gt[Jt];if(!Ht.match(ht)){var Wt=jt.slice(0,Ut),Lt=jt.slice(Ut+1),Bt=Gt.match(pt);Bt&&(Wt.push(Bt[1]),Lt.unshift(Bt[2])),Lt.length&&(Et="/"+Lt.join(".")+Et),this.hostname=Wt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),Mt||(this.hostname=rt.toASCII(this.hostname));var Ft=this.port?":"+this.port:"",sn=this.hostname||"";this.host=sn+Ft,this.href+=this.host,Mt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Et[0]!=="/"&&(Et="/"+Et))}if(!gt[It])for(Ut=0,kt=ft.length;Ut<kt;Ut++){var Xt=ft[Ut];if(Et.indexOf(Xt)!==-1){var dn=encodeURIComponent(Xt);dn===Xt&&(dn=escape(Xt)),Et=Et.split(Xt).join(dn)}}var Yt=Et.indexOf("#");Yt!==-1&&(this.hash=Et.substr(Yt),Et=Et.slice(0,Yt));var yn=Et.indexOf("?");if(yn!==-1?(this.search=Et.substr(yn),this.query=Et.substr(yn+1),vt&&(this.query=bt.parse(this.query)),Et=Et.slice(0,yn)):vt&&(this.search="",this.query={}),Et&&(this.pathname=Et),yt[It]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ft=this.pathname||"";var Qt=this.search||"";this.path=Ft+Qt}return this.href=this.format(),this},ot.prototype.format=function(){var xt=this.auth||"";xt&&(xt=(xt=encodeURIComponent(xt)).replace(/%3A/i,":"),xt+="@");var vt=this.protocol||"",$t=this.pathname||"",zt=this.hash||"",Nt=!1,wt="";this.host?Nt=xt+this.host:this.hostname&&(Nt=xt+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Nt+=":"+this.port)),this.query&&it.isObject(this.query)&&Object.keys(this.query).length&&(wt=bt.stringify(this.query));var Et=this.search||wt&&"?"+wt||"";return vt&&vt.substr(-1)!==":"&&(vt+=":"),this.slashes||(!vt||yt[vt])&&Nt!==!1?(Nt="//"+(Nt||""),$t&&$t.charAt(0)!=="/"&&($t="/"+$t)):Nt||(Nt=""),zt&&zt.charAt(0)!=="#"&&(zt="#"+zt),Et&&Et.charAt(0)!=="?"&&(Et="?"+Et),vt+Nt+($t=$t.replace(/[?#]/g,function(Rt){return encodeURIComponent(Rt)}))+(Et=Et.replace("#","%23"))+zt},ot.prototype.resolve=function(xt){return this.resolveObject(St(xt,!1,!0)).format()},ot.prototype.resolveObject=function(xt){if(it.isString(xt)){var vt=new ot;vt.parse(xt,!1,!0),xt=vt}for(var $t=new ot,zt=Object.keys(this),Nt=0;Nt<zt.length;Nt++){var wt=zt[Nt];$t[wt]=this[wt]}if($t.hash=xt.hash,xt.href==="")return $t.href=$t.format(),$t;if(xt.slashes&&!xt.protocol){for(var Et=Object.keys(xt),Rt=0;Rt<Et.length;Rt++){var Tt=Et[Rt];Tt!=="protocol"&&($t[Tt]=xt[Tt])}return yt[$t.protocol]&&$t.hostname&&!$t.pathname&&($t.path=$t.pathname="/"),$t.href=$t.format(),$t}if(xt.protocol&&xt.protocol!==$t.protocol){if(!yt[xt.protocol]){for(var It=Object.keys(xt),Pt=0;Pt<It.length;Pt++){var Dt=It[Pt];$t[Dt]=xt[Dt]}return $t.href=$t.format(),$t}if($t.protocol=xt.protocol,xt.host||mt[xt.protocol])$t.pathname=xt.pathname;else{for(var Ct=(xt.pathname||"").split("/");Ct.length&&!(xt.host=Ct.shift()););xt.host||(xt.host=""),xt.hostname||(xt.hostname=""),Ct[0]!==""&&Ct.unshift(""),Ct.length<2&&Ct.unshift(""),$t.pathname=Ct.join("/")}if($t.search=xt.search,$t.query=xt.query,$t.host=xt.host||"",$t.auth=xt.auth,$t.hostname=xt.hostname||xt.host,$t.port=xt.port,$t.pathname||$t.search){var Ot=$t.pathname||"",Ut=$t.search||"";$t.path=Ot+Ut}return $t.slashes=$t.slashes||xt.slashes,$t.href=$t.format(),$t}var At=$t.pathname&&$t.pathname.charAt(0)==="/",Mt=xt.host||xt.pathname&&xt.pathname.charAt(0)==="/",jt=Mt||At||$t.host&&xt.pathname,kt=jt,Gt=$t.pathname&&$t.pathname.split("/")||[],Ht=(Ct=xt.pathname&&xt.pathname.split("/")||[],$t.protocol&&!yt[$t.protocol]);if(Ht&&($t.hostname="",$t.port=null,$t.host&&(Gt[0]===""?Gt[0]=$t.host:Gt.unshift($t.host)),$t.host="",xt.protocol&&(xt.hostname=null,xt.port=null,xt.host&&(Ct[0]===""?Ct[0]=xt.host:Ct.unshift(xt.host)),xt.host=null),jt=jt&&(Ct[0]===""||Gt[0]==="")),Mt)$t.host=xt.host||xt.host===""?xt.host:$t.host,$t.hostname=xt.hostname||xt.hostname===""?xt.hostname:$t.hostname,$t.search=xt.search,$t.query=xt.query,Gt=Ct;else if(Ct.length)Gt||(Gt=[]),Gt.pop(),Gt=Gt.concat(Ct),$t.search=xt.search,$t.query=xt.query;else if(!it.isNullOrUndefined(xt.search))return Ht&&($t.hostname=$t.host=Gt.shift(),(Bt=!!($t.host&&$t.host.indexOf("@")>0)&&$t.host.split("@"))&&($t.auth=Bt.shift(),$t.host=$t.hostname=Bt.shift())),$t.search=xt.search,$t.query=xt.query,it.isNull($t.pathname)&&it.isNull($t.search)||($t.path=($t.pathname?$t.pathname:"")+($t.search?$t.search:"")),$t.href=$t.format(),$t;if(!Gt.length)return $t.pathname=null,$t.search?$t.path="/"+$t.search:$t.path=null,$t.href=$t.format(),$t;for(var Jt=Gt.slice(-1)[0],Vt=($t.host||xt.host||Gt.length>1)&&(Jt==="."||Jt==="..")||Jt==="",Wt=0,Lt=Gt.length;Lt>=0;Lt--)(Jt=Gt[Lt])==="."?Gt.splice(Lt,1):Jt===".."?(Gt.splice(Lt,1),Wt++):Wt&&(Gt.splice(Lt,1),Wt--);if(!jt&&!kt)for(;Wt--;Wt)Gt.unshift("..");!jt||Gt[0]===""||Gt[0]&&Gt[0].charAt(0)==="/"||Gt.unshift(""),Vt&&Gt.join("/").substr(-1)!=="/"&&Gt.push("");var Bt,Ft=Gt[0]===""||Gt[0]&&Gt[0].charAt(0)==="/";return Ht&&($t.hostname=$t.host=Ft?"":Gt.length?Gt.shift():"",(Bt=!!($t.host&&$t.host.indexOf("@")>0)&&$t.host.split("@"))&&($t.auth=Bt.shift(),$t.host=$t.hostname=Bt.shift())),(jt=jt||$t.host&&Gt.length)&&!Ft&&Gt.unshift(""),Gt.length?$t.pathname=Gt.join("/"):($t.pathname=null,$t.path=null),it.isNull($t.pathname)&&it.isNull($t.search)||($t.path=($t.pathname?$t.pathname:"")+($t.search?$t.search:"")),$t.auth=xt.auth||$t.auth,$t.slashes=$t.slashes||xt.slashes,$t.href=$t.format(),$t},ot.prototype.parseHost=function(){var xt=this.host,vt=st.exec(xt);vt&&((vt=vt[0])!==":"&&(this.port=vt.substr(1)),xt=xt.substr(0,xt.length-vt.length)),xt&&(this.hostname=xt)}},function(tt,et,nt){var rt=nt(56),it=nt(3).configs;et.cli=rt.levels(it.cli),et.npm=rt.levels(it.npm),et.syslog=rt.levels(it.syslog),et.addColors=rt.levels},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=st(nt(202)),it=st(nt(203)),ot=st(nt(23)),at=st(nt(27));function st(lt){return lt&&lt.__esModule?lt:{default:lt}}et.default=(0,at.default)(function(lt,ct,ft){return(0,rt.default)(lt,(0,it.default)((0,ot.default)(ct)),ft)},3),tt.exports=et.default},function(tt,et,nt){function rt(it){Error.captureStackTrace(this,this.constructor),this.name="EnvVarError",this.message=`env-var: ${it}`}(0,nt(10).inherits)(rt,Error),tt.exports=rt},function(tt,et,nt){tt.exports=function(rt){const it=parseInt(rt,10);if(isNaN(it)||rt.toString().indexOf(".")!==-1)throw new Error("should be a valid integer");return it}},function(tt,et,nt){tt.exports=function(rt){const it=parseFloat(rt);if(isNaN(it))throw new Error("should be a valid float");return it}},function(tt,et,nt){tt.exports=function(rt){try{return JSON.parse(rt)}catch{throw new Error("should be valid (parseable) JSON")}}},function(tt,et,nt){(function(rt){function it(st,lt){for(var ct=0,ft=st.length-1;ft>=0;ft--){var ut=st[ft];ut==="."?st.splice(ft,1):ut===".."?(st.splice(ft,1),ct++):ct&&(st.splice(ft,1),ct--)}if(lt)for(;ct--;ct)st.unshift("..");return st}function ot(st,lt){if(st.filter)return st.filter(lt);for(var ct=[],ft=0;ft<st.length;ft++)lt(st[ft],ft,st)&&ct.push(st[ft]);return ct}et.resolve=function(){for(var st="",lt=!1,ct=arguments.length-1;ct>=-1&&!lt;ct--){var ft=ct>=0?arguments[ct]:rt.cwd();if(typeof ft!="string")throw new TypeError("Arguments to path.resolve must be strings");ft&&(st=ft+"/"+st,lt=ft.charAt(0)==="/")}return(lt?"/":"")+(st=it(ot(st.split("/"),function(ut){return!!ut}),!lt).join("/"))||"."},et.normalize=function(st){var lt=et.isAbsolute(st),ct=at(st,-1)==="/";return(st=it(ot(st.split("/"),function(ft){return!!ft}),!lt).join("/"))||lt||(st="."),st&&ct&&(st+="/"),(lt?"/":"")+st},et.isAbsolute=function(st){return st.charAt(0)==="/"},et.join=function(){var st=Array.prototype.slice.call(arguments,0);return et.normalize(ot(st,function(lt,ct){if(typeof lt!="string")throw new TypeError("Arguments to path.join must be strings");return lt}).join("/"))},et.relative=function(st,lt){function ct(mt){for(var yt=0;yt<mt.length&&mt[yt]==="";yt++);for(var bt=mt.length-1;bt>=0&&mt[bt]==="";bt--);return yt>bt?[]:mt.slice(yt,bt-yt+1)}st=et.resolve(st).substr(1),lt=et.resolve(lt).substr(1);for(var ft=ct(st.split("/")),ut=ct(lt.split("/")),dt=Math.min(ft.length,ut.length),ht=dt,pt=0;pt<dt;pt++)if(ft[pt]!==ut[pt]){ht=pt;break}var gt=[];for(pt=ht;pt<ft.length;pt++)gt.push("..");return(gt=gt.concat(ut.slice(ht))).join("/")},et.sep="/",et.delimiter=":",et.dirname=function(st){if(typeof st!="string"&&(st+=""),st.length===0)return".";for(var lt=st.charCodeAt(0),ct=lt===47,ft=-1,ut=!0,dt=st.length-1;dt>=1;--dt)if((lt=st.charCodeAt(dt))===47){if(!ut){ft=dt;break}}else ut=!1;return ft===-1?ct?"/":".":ct&&ft===1?"/":st.slice(0,ft)},et.basename=function(st,lt){var ct=function(ft){typeof ft!="string"&&(ft+="");var ut,dt=0,ht=-1,pt=!0;for(ut=ft.length-1;ut>=0;--ut)if(ft.charCodeAt(ut)===47){if(!pt){dt=ut+1;break}}else ht===-1&&(pt=!1,ht=ut+1);return ht===-1?"":ft.slice(dt,ht)}(st);return lt&&ct.substr(-1*lt.length)===lt&&(ct=ct.substr(0,ct.length-lt.length)),ct},et.extname=function(st){typeof st!="string"&&(st+="");for(var lt=-1,ct=0,ft=-1,ut=!0,dt=0,ht=st.length-1;ht>=0;--ht){var pt=st.charCodeAt(ht);if(pt!==47)ft===-1&&(ut=!1,ft=ht+1),pt===46?lt===-1?lt=ht:dt!==1&&(dt=1):lt!==-1&&(dt=-1);else if(!ut){ct=ht+1;break}}return lt===-1||ft===-1||dt===0||dt===1&&lt===ft-1&&lt===ct+1?"":st.slice(lt,ft)};var at="ab".substr(-1)==="b"?function(st,lt,ct){return st.substr(lt,ct)}:function(st,lt,ct){return lt<0&&(lt=st.length+lt),st.substr(lt,ct)}}).call(this,nt(2))},function(tt,et){function nt(rt,it){var ot=[],at=[];return it==null&&(it=function(st,lt){return ot[0]===lt?"[Circular ~]":"[Circular ~."+at.slice(0,ot.indexOf(lt)).join(".")+"]"}),function(st,lt){if(ot.length>0){var ct=ot.indexOf(this);~ct?ot.splice(ct+1):ot.push(this),~ct?at.splice(ct,1/0,st):at.push(st),~ot.indexOf(lt)&&(lt=it.call(this,st,lt))}else ot.push(lt);return rt==null?lt:rt.call(this,st,lt)}}(tt.exports=function(rt,it,ot,at){return JSON.stringify(rt,nt(it,at),ot)}).getSerialize=nt},function(tt,et,nt){nt(227),tt.exports={encode:rt=>new TextEncoder().encode(rt),decode:rt=>new TextDecoder().decode(rt)}},function(tt,et,nt){var rt=et.format=nt(9);et.levels=nt(104),Object.defineProperty(rt,"align",{value:nt(121)}),Object.defineProperty(rt,"cli",{value:nt(122)}),Object.defineProperty(rt,"combine",{value:nt(123)}),Object.defineProperty(rt,"colorize",{value:nt(37)}),Object.defineProperty(rt,"json",{value:nt(124)}),Object.defineProperty(rt,"label",{value:nt(127)}),Object.defineProperty(rt,"logstash",{value:nt(128)}),Object.defineProperty(rt,"metadata",{value:nt(129)}),Object.defineProperty(rt,"padLevels",{value:nt(58)}),Object.defineProperty(rt,"prettyPrint",{value:nt(130)}),Object.defineProperty(rt,"printf",{value:nt(131)}),Object.defineProperty(rt,"simple",{value:nt(132)}),Object.defineProperty(rt,"splat",{value:nt(133)}),Object.defineProperty(rt,"timestamp",{value:nt(134)}),Object.defineProperty(rt,"uncolorize",{value:nt(136)})},function(tt,et,nt){var rt=nt(105);tt.exports=rt},function(tt,et,nt){function rt(ut,dt){(dt==null||dt>ut.length)&&(dt=ut.length);for(var ht=0,pt=new Array(dt);ht<dt;ht++)pt[ht]=ut[ht];return pt}function it(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}function ot(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}var at=nt(3),st=at.configs,lt=at.LEVEL,ct=at.MESSAGE,ft=function(){function ut(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:st.npm.levels};it(this,ut),this.paddings=ut.paddingForLevels(gt.levels,gt.filler),this.options=gt}var dt,ht,pt;return dt=ut,pt=[{key:"getLongestLevel",value:function(gt){var mt=Object.keys(gt).map(function(yt){return yt.length});return Math.max.apply(Math,function(yt){return function(bt){if(Array.isArray(bt))return rt(bt)}(yt)||function(bt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(bt))return Array.from(bt)}(yt)||function(bt,St){if(bt){if(typeof bt=="string")return rt(bt,St);var xt=Object.prototype.toString.call(bt).slice(8,-1);return xt==="Object"&&bt.constructor&&(xt=bt.constructor.name),xt==="Map"||xt==="Set"?Array.from(bt):xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xt)?rt(bt,St):void 0}}(yt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(mt))}},{key:"paddingForLevel",value:function(gt,mt,yt){var bt=yt+1-gt.length,St=Math.floor(bt/mt.length);return"".concat(mt).concat(mt.repeat(St)).slice(0,bt)}},{key:"paddingForLevels",value:function(gt){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",yt=ut.getLongestLevel(gt);return Object.keys(gt).reduce(function(bt,St){return bt[St]=ut.paddingForLevel(St,mt,yt),bt},{})}}],(ht=[{key:"transform",value:function(gt,mt){return gt.message="".concat(this.paddings[gt[lt]]).concat(gt.message),gt[ct]&&(gt[ct]="".concat(this.paddings[gt[lt]]).concat(gt[ct])),gt}}])&&ot(dt.prototype,ht),pt&&ot(dt,pt),ut}();tt.exports=function(ut){return new ft(ut)},tt.exports.Padder=tt.exports.Format=ft},function(tt,et,nt){var rt=nt(10).format;et.warn={deprecated:function(it){return function(){throw new Error(rt("{ %s } was removed in winston@3.0.0.",it))}},useFormat:function(it){return function(){throw new Error([rt("{ %s } was removed in winston@3.0.0.",it),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(it,ot,at){at.forEach(function(st){it[st]=et.warn[ot](st)})},moved:function(it,ot,at){function st(){return function(){throw new Error([rt("winston.%s was moved in winston@3.0.0.",at),rt("Use a winston.%s instead.",ot)].join(`
`))}}Object.defineProperty(it,at,{get:st,set:st})},forProperties:function(it,ot,at){at.forEach(function(st){var lt=et.warn[ot](st);Object.defineProperty(it,st,{get:lt,set:lt})})}}},function(tt,et,nt){(function(rt,it,ot){var at=nt(13);function st(Et){var Rt=this;this.next=null,this.entry=null,this.finish=function(){(function(Tt,It,Pt){var Dt=Tt.entry;for(Tt.entry=null;Dt;){var Ct=Dt.callback;It.pendingcb--,Ct(void 0),Dt=Dt.next}It.corkedRequestsFree?It.corkedRequestsFree.next=Tt:It.corkedRequestsFree=Tt})(Rt,Et)}}tt.exports=St;var lt,ct=!rt.browser&&["v0.10","v0.9."].indexOf(rt.version.slice(0,5))>-1?it:at.nextTick;St.WritableState=bt;var ft=Object.create(nt(14));ft.inherits=nt(6);var ut,dt={deprecate:nt(39)},ht=nt(61),pt=nt(40).Buffer,gt=ot.Uint8Array||function(){},mt=nt(62);function yt(){}function bt(Et,Rt){lt=lt||nt(32),Et=Et||{};var Tt=Rt instanceof lt;this.objectMode=!!Et.objectMode,Tt&&(this.objectMode=this.objectMode||!!Et.writableObjectMode);var It=Et.highWaterMark,Pt=Et.writableHighWaterMark,Dt=this.objectMode?16:16384;this.highWaterMark=It||It===0?It:Tt&&(Pt||Pt===0)?Pt:Dt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ct=Et.decodeStrings===!1;this.decodeStrings=!Ct,this.defaultEncoding=Et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ot){(function(Ut,At){var Mt,jt=Ut._writableState,kt=jt.sync,Gt=jt.writecb;if((Mt=jt).writing=!1,Mt.writecb=null,Mt.length-=Mt.writelen,Mt.writelen=0,At)(function(Jt,Vt,Wt,Lt,Bt){--Vt.pendingcb,Wt?(at.nextTick(Bt,Lt),at.nextTick(wt,Jt,Vt),Jt._writableState.errorEmitted=!0,Jt.emit("error",Lt)):(Bt(Lt),Jt._writableState.errorEmitted=!0,Jt.emit("error",Lt),wt(Jt,Vt))})(Ut,jt,kt,At,Gt);else{var Ht=zt(jt);Ht||jt.corked||jt.bufferProcessing||!jt.bufferedRequest||$t(Ut,jt),kt?ct(vt,Ut,jt,Ht,Gt):vt(Ut,jt,Ht,Gt)}})(Rt,Ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new st(this)}function St(Et){if(lt=lt||nt(32),!(ut.call(St,this)||this instanceof lt))return new St(Et);this._writableState=new bt(Et,this),this.writable=!0,Et&&(typeof Et.write=="function"&&(this._write=Et.write),typeof Et.writev=="function"&&(this._writev=Et.writev),typeof Et.destroy=="function"&&(this._destroy=Et.destroy),typeof Et.final=="function"&&(this._final=Et.final)),ht.call(this)}function xt(Et,Rt,Tt,It,Pt,Dt,Ct){Rt.writelen=It,Rt.writecb=Ct,Rt.writing=!0,Rt.sync=!0,Tt?Et._writev(Pt,Rt.onwrite):Et._write(Pt,Dt,Rt.onwrite),Rt.sync=!1}function vt(Et,Rt,Tt,It){var Pt,Dt;Tt||(Pt=Et,(Dt=Rt).length===0&&Dt.needDrain&&(Dt.needDrain=!1,Pt.emit("drain"))),Rt.pendingcb--,It(),wt(Et,Rt)}function $t(Et,Rt){Rt.bufferProcessing=!0;var Tt=Rt.bufferedRequest;if(Et._writev&&Tt&&Tt.next){var It=Rt.bufferedRequestCount,Pt=new Array(It),Dt=Rt.corkedRequestsFree;Dt.entry=Tt;for(var Ct=0,Ot=!0;Tt;)Pt[Ct]=Tt,Tt.isBuf||(Ot=!1),Tt=Tt.next,Ct+=1;Pt.allBuffers=Ot,xt(Et,Rt,!0,Rt.length,Pt,"",Dt.finish),Rt.pendingcb++,Rt.lastBufferedRequest=null,Dt.next?(Rt.corkedRequestsFree=Dt.next,Dt.next=null):Rt.corkedRequestsFree=new st(Rt),Rt.bufferedRequestCount=0}else{for(;Tt;){var Ut=Tt.chunk,At=Tt.encoding,Mt=Tt.callback;if(xt(Et,Rt,!1,Rt.objectMode?1:Ut.length,Ut,At,Mt),Tt=Tt.next,Rt.bufferedRequestCount--,Rt.writing)break}Tt===null&&(Rt.lastBufferedRequest=null)}Rt.bufferedRequest=Tt,Rt.bufferProcessing=!1}function zt(Et){return Et.ending&&Et.length===0&&Et.bufferedRequest===null&&!Et.finished&&!Et.writing}function Nt(Et,Rt){Et._final(function(Tt){Rt.pendingcb--,Tt&&Et.emit("error",Tt),Rt.prefinished=!0,Et.emit("prefinish"),wt(Et,Rt)})}function wt(Et,Rt){var Tt,It,Pt=zt(Rt);return Pt&&(Tt=Et,(It=Rt).prefinished||It.finalCalled||(typeof Tt._final=="function"?(It.pendingcb++,It.finalCalled=!0,at.nextTick(Nt,Tt,It)):(It.prefinished=!0,Tt.emit("prefinish"))),Rt.pendingcb===0&&(Rt.finished=!0,Et.emit("finish"))),Pt}ft.inherits(St,ht),bt.prototype.getBuffer=function(){for(var Et=this.bufferedRequest,Rt=[];Et;)Rt.push(Et),Et=Et.next;return Rt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:dt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(Et){return!!ut.call(this,Et)||this===St&&Et&&Et._writableState instanceof bt}})):ut=function(Et){return Et instanceof this},St.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},St.prototype.write=function(Et,Rt,Tt){var It,Pt,Dt=this._writableState,Ct=!1,Ot=!Dt.objectMode&&(It=Et,pt.isBuffer(It)||It instanceof gt);return Ot&&!pt.isBuffer(Et)&&(Pt=Et,Et=pt.from(Pt)),typeof Rt=="function"&&(Tt=Rt,Rt=null),Ot?Rt="buffer":Rt||(Rt=Dt.defaultEncoding),typeof Tt!="function"&&(Tt=yt),Dt.ended?function(Ut,At){var Mt=new Error("write after end");Ut.emit("error",Mt),at.nextTick(At,Mt)}(this,Tt):(Ot||function(Ut,At,Mt,jt){var kt=!0,Gt=!1;return Mt===null?Gt=new TypeError("May not write null values to stream"):typeof Mt=="string"||Mt===void 0||At.objectMode||(Gt=new TypeError("Invalid non-string/buffer chunk")),Gt&&(Ut.emit("error",Gt),at.nextTick(jt,Gt),kt=!1),kt}(this,Dt,Et,Tt))&&(Dt.pendingcb++,Ct=function(Ut,At,Mt,jt,kt,Gt){if(!Mt){var Ht=(Vt=jt,Wt=kt,(Jt=At).objectMode||Jt.decodeStrings===!1||typeof Vt!="string"||(Vt=pt.from(Vt,Wt)),Vt);jt!==Ht&&(Mt=!0,kt="buffer",jt=Ht)}var Jt,Vt,Wt,Lt=At.objectMode?1:jt.length;At.length+=Lt;var Bt=At.length<At.highWaterMark;if(Bt||(At.needDrain=!0),At.writing||At.corked){var Ft=At.lastBufferedRequest;At.lastBufferedRequest={chunk:jt,encoding:kt,isBuf:Mt,callback:Gt,next:null},Ft?Ft.next=At.lastBufferedRequest:At.bufferedRequest=At.lastBufferedRequest,At.bufferedRequestCount+=1}else xt(Ut,At,!1,Lt,jt,kt,Gt);return Bt}(this,Dt,Ot,Et,Rt,Tt)),Ct},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){var Et=this._writableState;Et.corked&&(Et.corked--,Et.writing||Et.corked||Et.finished||Et.bufferProcessing||!Et.bufferedRequest||$t(this,Et))},St.prototype.setDefaultEncoding=function(Et){if(typeof Et=="string"&&(Et=Et.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Et+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Et);return this._writableState.defaultEncoding=Et,this},Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),St.prototype._write=function(Et,Rt,Tt){Tt(new Error("_write() is not implemented"))},St.prototype._writev=null,St.prototype.end=function(Et,Rt,Tt){var It,Pt,Dt,Ct=this._writableState;typeof Et=="function"?(Tt=Et,Et=null,Rt=null):typeof Rt=="function"&&(Tt=Rt,Rt=null),Et!=null&&this.write(Et,Rt),Ct.corked&&(Ct.corked=1,this.uncork()),Ct.ending||Ct.finished||(It=this,Dt=Tt,(Pt=Ct).ending=!0,wt(It,Pt),Dt&&(Pt.finished?at.nextTick(Dt):It.once("finish",Dt)),Pt.ended=!0,It.writable=!1)},Object.defineProperty(St.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Et){this._writableState&&(this._writableState.destroyed=Et)}}),St.prototype.destroy=mt.destroy,St.prototype._undestroy=mt.undestroy,St.prototype._destroy=function(Et,Rt){this.end(),Rt(Et)}}).call(this,nt(2),nt(12).setImmediate,nt(5))},function(tt,et,nt){tt.exports=nt(18).EventEmitter},function(tt,et,nt){var rt=nt(13);function it(ot,at){ot.emit("error",at)}tt.exports={destroy:function(ot,at){var st=this,lt=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return lt||ct?(at?at(ot):!ot||this._writableState&&this._writableState.errorEmitted||rt.nextTick(it,this,ot),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ft){!at&&ft?(rt.nextTick(it,st,ft),st._writableState&&(st._writableState.errorEmitted=!0)):at&&at(ft)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(tt,et){},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=at(nt(155)),it=at(nt(23)),ot=at(nt(27));function at(st){return st&&st.__esModule?st:{default:st}}et.default=(0,ot.default)(function(st,lt,ct,ft){return(0,rt.default)(lt)(st,(0,it.default)(ct),ft)},4),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){function it(...ot){if(rt!==null){var at=rt;rt=null,at.apply(this,ot)}}return Object.assign(it,rt),it},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return function(...it){if(rt===null)throw new Error("Callback was already called.");var ot=rt;rt=null,ot.apply(this,it)}},tt.exports=et.default},function(tt,et,nt){(function(rt,it){var ot=nt(13);tt.exports=xt;var at,st=nt(38);xt.ReadableState=St,nt(18).EventEmitter;var lt=function(At,Mt){return At.listeners(Mt).length},ct=nt(68),ft=nt(43).Buffer,ut=rt.Uint8Array||function(){},dt=nt(14);dt.inherits=nt(6);var ht=nt(161),pt=void 0;pt=ht&&ht.debuglog?ht.debuglog("stream"):function(){};var gt,mt=nt(162),yt=nt(69);dt.inherits(xt,ct);var bt=["error","close","destroy","pause","resume"];function St(At,Mt){At=At||{};var jt=Mt instanceof(at=at||nt(20));this.objectMode=!!At.objectMode,jt&&(this.objectMode=this.objectMode||!!At.readableObjectMode);var kt=At.highWaterMark,Gt=At.readableHighWaterMark,Ht=this.objectMode?16:16384;this.highWaterMark=kt||kt===0?kt:jt&&(Gt||Gt===0)?Gt:Ht,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=At.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,At.encoding&&(gt||(gt=nt(19).StringDecoder),this.decoder=new gt(At.encoding),this.encoding=At.encoding)}function xt(At){if(at=at||nt(20),!(this instanceof xt))return new xt(At);this._readableState=new St(At,this),this.readable=!0,At&&(typeof At.read=="function"&&(this._read=At.read),typeof At.destroy=="function"&&(this._destroy=At.destroy)),ct.call(this)}function vt(At,Mt,jt,kt,Gt){var Ht,Jt,Vt,Wt,Lt,Bt=At._readableState;return Mt===null?(Bt.reading=!1,function(Ft,sn){if(!sn.ended){if(sn.decoder){var Xt=sn.decoder.end();Xt&&Xt.length&&(sn.buffer.push(Xt),sn.length+=sn.objectMode?1:Xt.length)}sn.ended=!0,Nt(Ft)}}(At,Bt)):(Gt||(Jt=Bt,Lt=Vt=Mt,ft.isBuffer(Lt)||Lt instanceof ut||typeof Vt=="string"||Vt===void 0||Jt.objectMode||(Wt=new TypeError("Invalid non-string/buffer chunk")),Ht=Wt),Ht?At.emit("error",Ht):Bt.objectMode||Mt&&Mt.length>0?(typeof Mt=="string"||Bt.objectMode||Object.getPrototypeOf(Mt)===ft.prototype||(Mt=function(Ft){return ft.from(Ft)}(Mt)),kt?Bt.endEmitted?At.emit("error",new Error("stream.unshift() after end event")):$t(At,Bt,Mt,!0):Bt.ended?At.emit("error",new Error("stream.push() after EOF")):(Bt.reading=!1,Bt.decoder&&!jt?(Mt=Bt.decoder.write(Mt),Bt.objectMode||Mt.length!==0?$t(At,Bt,Mt,!1):Et(At,Bt)):$t(At,Bt,Mt,!1))):kt||(Bt.reading=!1)),function(Ft){return!Ft.ended&&(Ft.needReadable||Ft.length<Ft.highWaterMark||Ft.length===0)}(Bt)}function $t(At,Mt,jt,kt){Mt.flowing&&Mt.length===0&&!Mt.sync?(At.emit("data",jt),At.read(0)):(Mt.length+=Mt.objectMode?1:jt.length,kt?Mt.buffer.unshift(jt):Mt.buffer.push(jt),Mt.needReadable&&Nt(At)),Et(At,Mt)}function zt(At,Mt){return At<=0||Mt.length===0&&Mt.ended?0:Mt.objectMode?1:At!=At?Mt.flowing&&Mt.length?Mt.buffer.head.data.length:Mt.length:(At>Mt.highWaterMark&&(Mt.highWaterMark=((jt=At)>=8388608?jt=8388608:(jt--,jt|=jt>>>1,jt|=jt>>>2,jt|=jt>>>4,jt|=jt>>>8,jt|=jt>>>16,jt++),jt)),At<=Mt.length?At:Mt.ended?Mt.length:(Mt.needReadable=!0,0));var jt}function Nt(At){var Mt=At._readableState;Mt.needReadable=!1,Mt.emittedReadable||(pt("emitReadable",Mt.flowing),Mt.emittedReadable=!0,Mt.sync?ot.nextTick(wt,At):wt(At))}function wt(At){pt("emit readable"),At.emit("readable"),Pt(At)}function Et(At,Mt){Mt.readingMore||(Mt.readingMore=!0,ot.nextTick(Rt,At,Mt))}function Rt(At,Mt){for(var jt=Mt.length;!Mt.reading&&!Mt.flowing&&!Mt.ended&&Mt.length<Mt.highWaterMark&&(pt("maybeReadMore read 0"),At.read(0),jt!==Mt.length);)jt=Mt.length;Mt.readingMore=!1}function Tt(At){pt("readable nexttick read 0"),At.read(0)}function It(At,Mt){Mt.reading||(pt("resume read 0"),At.read(0)),Mt.resumeScheduled=!1,Mt.awaitDrain=0,At.emit("resume"),Pt(At),Mt.flowing&&!Mt.reading&&At.read(0)}function Pt(At){var Mt=At._readableState;for(pt("flow",Mt.flowing);Mt.flowing&&At.read()!==null;);}function Dt(At,Mt){return Mt.length===0?null:(Mt.objectMode?Jt=Mt.buffer.shift():!At||At>=Mt.length?(Jt=Mt.decoder?Mt.buffer.join(""):Mt.buffer.length===1?Mt.buffer.head.data:Mt.buffer.concat(Mt.length),Mt.buffer.clear()):(jt=At,kt=Mt.buffer,Gt=Mt.decoder,jt<kt.head.data.length?(Ht=kt.head.data.slice(0,jt),kt.head.data=kt.head.data.slice(jt)):Ht=jt===kt.head.data.length?kt.shift():Gt?function(Vt,Wt){var Lt=Wt.head,Bt=1,Ft=Lt.data;for(Vt-=Ft.length;Lt=Lt.next;){var sn=Lt.data,Xt=Vt>sn.length?sn.length:Vt;if(Xt===sn.length?Ft+=sn:Ft+=sn.slice(0,Vt),(Vt-=Xt)==0){Xt===sn.length?(++Bt,Lt.next?Wt.head=Lt.next:Wt.head=Wt.tail=null):(Wt.head=Lt,Lt.data=sn.slice(Xt));break}++Bt}return Wt.length-=Bt,Ft}(jt,kt):function(Vt,Wt){var Lt=ft.allocUnsafe(Vt),Bt=Wt.head,Ft=1;for(Bt.data.copy(Lt),Vt-=Bt.data.length;Bt=Bt.next;){var sn=Bt.data,Xt=Vt>sn.length?sn.length:Vt;if(sn.copy(Lt,Lt.length-Vt,0,Xt),(Vt-=Xt)==0){Xt===sn.length?(++Ft,Bt.next?Wt.head=Bt.next:Wt.head=Wt.tail=null):(Wt.head=Bt,Bt.data=sn.slice(Xt));break}++Ft}return Wt.length-=Ft,Lt}(jt,kt),Jt=Ht),Jt);var jt,kt,Gt,Ht,Jt}function Ct(At){var Mt=At._readableState;if(Mt.length>0)throw new Error('"endReadable()" called on non-empty stream');Mt.endEmitted||(Mt.ended=!0,ot.nextTick(Ot,Mt,At))}function Ot(At,Mt){At.endEmitted||At.length!==0||(At.endEmitted=!0,Mt.readable=!1,Mt.emit("end"))}function Ut(At,Mt){for(var jt=0,kt=At.length;jt<kt;jt++)if(At[jt]===Mt)return jt;return-1}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(At){this._readableState&&(this._readableState.destroyed=At)}}),xt.prototype.destroy=yt.destroy,xt.prototype._undestroy=yt.undestroy,xt.prototype._destroy=function(At,Mt){this.push(null),Mt(At)},xt.prototype.push=function(At,Mt){var jt,kt=this._readableState;return kt.objectMode?jt=!0:typeof At=="string"&&((Mt=Mt||kt.defaultEncoding)!==kt.encoding&&(At=ft.from(At,Mt),Mt=""),jt=!0),vt(this,At,Mt,!1,jt)},xt.prototype.unshift=function(At){return vt(this,At,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(At){return gt||(gt=nt(19).StringDecoder),this._readableState.decoder=new gt(At),this._readableState.encoding=At,this},xt.prototype.read=function(At){pt("read",At),At=parseInt(At,10);var Mt=this._readableState,jt=At;if(At!==0&&(Mt.emittedReadable=!1),At===0&&Mt.needReadable&&(Mt.length>=Mt.highWaterMark||Mt.ended))return pt("read: emitReadable",Mt.length,Mt.ended),Mt.length===0&&Mt.ended?Ct(this):Nt(this),null;if((At=zt(At,Mt))===0&&Mt.ended)return Mt.length===0&&Ct(this),null;var kt,Gt=Mt.needReadable;return pt("need readable",Gt),(Mt.length===0||Mt.length-At<Mt.highWaterMark)&&pt("length less than watermark",Gt=!0),Mt.ended||Mt.reading?pt("reading or ended",Gt=!1):Gt&&(pt("do read"),Mt.reading=!0,Mt.sync=!0,Mt.length===0&&(Mt.needReadable=!0),this._read(Mt.highWaterMark),Mt.sync=!1,Mt.reading||(At=zt(jt,Mt))),(kt=At>0?Dt(At,Mt):null)===null?(Mt.needReadable=!0,At=0):Mt.length-=At,Mt.length===0&&(Mt.ended||(Mt.needReadable=!0),jt!==At&&Mt.ended&&Ct(this)),kt!==null&&this.emit("data",kt),kt},xt.prototype._read=function(At){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(At,Mt){var jt=this,kt=this._readableState;switch(kt.pipesCount){case 0:kt.pipes=At;break;case 1:kt.pipes=[kt.pipes,At];break;default:kt.pipes.push(At)}kt.pipesCount+=1,pt("pipe count=%d opts=%j",kt.pipesCount,Mt);var Gt=Mt&&Mt.end===!1||At===it.stdout||At===it.stderr?dn:Ht;function Ht(){pt("onend"),At.end()}kt.endEmitted?ot.nextTick(Gt):jt.once("end",Gt),At.on("unpipe",function Yt(yn,Qt){pt("onunpipe"),yn===jt&&Qt&&Qt.hasUnpiped===!1&&(Qt.hasUnpiped=!0,pt("cleanup"),At.removeListener("close",sn),At.removeListener("finish",Xt),At.removeListener("drain",Vt),At.removeListener("error",Ft),At.removeListener("unpipe",Yt),jt.removeListener("end",Ht),jt.removeListener("end",dn),jt.removeListener("data",Bt),Wt=!0,!kt.awaitDrain||At._writableState&&!At._writableState.needDrain||Vt())});var Jt,Vt=(Jt=jt,function(){var Yt=Jt._readableState;pt("pipeOnDrain",Yt.awaitDrain),Yt.awaitDrain&&Yt.awaitDrain--,Yt.awaitDrain===0&&lt(Jt,"data")&&(Yt.flowing=!0,Pt(Jt))});At.on("drain",Vt);var Wt=!1,Lt=!1;function Bt(Yt){pt("ondata"),Lt=!1,At.write(Yt)!==!1||Lt||((kt.pipesCount===1&&kt.pipes===At||kt.pipesCount>1&&Ut(kt.pipes,At)!==-1)&&!Wt&&(pt("false write response, pause",jt._readableState.awaitDrain),jt._readableState.awaitDrain++,Lt=!0),jt.pause())}function Ft(Yt){pt("onerror",Yt),dn(),At.removeListener("error",Ft),lt(At,"error")===0&&At.emit("error",Yt)}function sn(){At.removeListener("finish",Xt),dn()}function Xt(){pt("onfinish"),At.removeListener("close",sn),dn()}function dn(){pt("unpipe"),jt.unpipe(At)}return jt.on("data",Bt),function(Yt,yn,Qt){if(typeof Yt.prependListener=="function")return Yt.prependListener(yn,Qt);Yt._events&&Yt._events[yn]?st(Yt._events[yn])?Yt._events[yn].unshift(Qt):Yt._events[yn]=[Qt,Yt._events[yn]]:Yt.on(yn,Qt)}(At,"error",Ft),At.once("close",sn),At.once("finish",Xt),At.emit("pipe",jt),kt.flowing||(pt("pipe resume"),jt.resume()),At},xt.prototype.unpipe=function(At){var Mt=this._readableState,jt={hasUnpiped:!1};if(Mt.pipesCount===0)return this;if(Mt.pipesCount===1)return At&&At!==Mt.pipes||(At||(At=Mt.pipes),Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1,At&&At.emit("unpipe",this,jt)),this;if(!At){var kt=Mt.pipes,Gt=Mt.pipesCount;Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1;for(var Ht=0;Ht<Gt;Ht++)kt[Ht].emit("unpipe",this,jt);return this}var Jt=Ut(Mt.pipes,At);return Jt===-1||(Mt.pipes.splice(Jt,1),Mt.pipesCount-=1,Mt.pipesCount===1&&(Mt.pipes=Mt.pipes[0]),At.emit("unpipe",this,jt)),this},xt.prototype.on=function(At,Mt){var jt=ct.prototype.on.call(this,At,Mt);if(At==="data")this._readableState.flowing!==!1&&this.resume();else if(At==="readable"){var kt=this._readableState;kt.endEmitted||kt.readableListening||(kt.readableListening=kt.needReadable=!0,kt.emittedReadable=!1,kt.reading?kt.length&&Nt(this):ot.nextTick(Tt,this))}return jt},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var At,Mt,jt=this._readableState;return jt.flowing||(pt("resume"),jt.flowing=!0,At=this,(Mt=jt).resumeScheduled||(Mt.resumeScheduled=!0,ot.nextTick(It,At,Mt))),this},xt.prototype.pause=function(){return pt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(At){var Mt=this,jt=this._readableState,kt=!1;for(var Gt in At.on("end",function(){if(pt("wrapped end"),jt.decoder&&!jt.ended){var Jt=jt.decoder.end();Jt&&Jt.length&&Mt.push(Jt)}Mt.push(null)}),At.on("data",function(Jt){pt("wrapped data"),jt.decoder&&(Jt=jt.decoder.write(Jt)),jt.objectMode&&Jt==null||(jt.objectMode||Jt&&Jt.length)&&(Mt.push(Jt)||(kt=!0,At.pause()))}),At)this[Gt]===void 0&&typeof At[Gt]=="function"&&(this[Gt]=function(Jt){return function(){return At[Jt].apply(At,arguments)}}(Gt));for(var Ht=0;Ht<bt.length;Ht++)At.on(bt[Ht],this.emit.bind(this,bt[Ht]));return this._read=function(Jt){pt("wrapped _read",Jt),kt&&(kt=!1,At.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=Dt}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=nt(18).EventEmitter},function(tt,et,nt){var rt=nt(13);function it(ot,at){ot.emit("error",at)}tt.exports={destroy:function(ot,at){var st=this,lt=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return lt||ct?(at?at(ot):!ot||this._writableState&&this._writableState.errorEmitted||rt.nextTick(it,this,ot),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ft){!at&&ft?(rt.nextTick(it,st,ft),st._writableState&&(st._writableState.errorEmitted=!0)):at&&at(ft)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(tt,et,nt){tt.exports=at;var rt=nt(20),it=nt(14);function ot(ct,ft){var ut=this._transformState;ut.transforming=!1;var dt=ut.writecb;if(!dt)return this.emit("error",new Error("write callback called multiple times"));ut.writechunk=null,ut.writecb=null,ft!=null&&this.push(ft),dt(ct);var ht=this._readableState;ht.reading=!1,(ht.needReadable||ht.length<ht.highWaterMark)&&this._read(ht.highWaterMark)}function at(ct){if(!(this instanceof at))return new at(ct);rt.call(this,ct),this._transformState={afterTransform:ot.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ct&&(typeof ct.transform=="function"&&(this._transform=ct.transform),typeof ct.flush=="function"&&(this._flush=ct.flush)),this.on("prefinish",st)}function st(){var ct=this;typeof this._flush=="function"?this._flush(function(ft,ut){lt(ct,ft,ut)}):lt(this,null,null)}function lt(ct,ft,ut){if(ft)return ct.emit("error",ft);if(ut!=null&&ct.push(ut),ct._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(ct._transformState.transforming)throw new Error("Calling transform done when still transforming");return ct.push(null)}it.inherits=nt(6),it.inherits(at,rt),at.prototype.push=function(ct,ft){return this._transformState.needTransform=!1,rt.prototype.push.call(this,ct,ft)},at.prototype._transform=function(ct,ft,ut){throw new Error("_transform() is not implemented")},at.prototype._write=function(ct,ft,ut){var dt=this._transformState;if(dt.writecb=ut,dt.writechunk=ct,dt.writeencoding=ft,!dt.transforming){var ht=this._readableState;(dt.needTransform||ht.needReadable||ht.length<ht.highWaterMark)&&this._read(ht.highWaterMark)}},at.prototype._read=function(ct){var ft=this._transformState;ft.writechunk!==null&&ft.writecb&&!ft.transforming?(ft.transforming=!0,this._transform(ft.writechunk,ft.writeencoding,ft.afterTransform)):ft.needTransform=!0},at.prototype._destroy=function(ct,ft){var ut=this;rt.prototype._destroy.call(this,ct,function(dt){ft(dt),ut.emit("close")})}},function(tt,et,nt){tt.exports=nt(44)},function(tt,et,nt){(function(rt){var it=nt(169);function ot(wt,Et){if(wt===Et)return 0;for(var Rt=wt.length,Tt=Et.length,It=0,Pt=Math.min(Rt,Tt);It<Pt;++It)if(wt[It]!==Et[It]){Rt=wt[It],Tt=Et[It];break}return Rt<Tt?-1:Tt<Rt?1:0}function at(wt){return rt.Buffer&&typeof rt.Buffer.isBuffer=="function"?rt.Buffer.isBuffer(wt):!(wt==null||!wt._isBuffer)}var st=nt(10),lt=Object.prototype.hasOwnProperty,ct=Array.prototype.slice,ft=function(){}.name==="foo";function ut(wt){return Object.prototype.toString.call(wt)}function dt(wt){return!at(wt)&&typeof rt.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(wt):!!wt&&(wt instanceof DataView||!!(wt.buffer&&wt.buffer instanceof ArrayBuffer)))}var ht=tt.exports=St,pt=/\s*function\s+([^\(\s]*)\s*/;function gt(wt){if(st.isFunction(wt)){if(ft)return wt.name;var Et=wt.toString().match(pt);return Et&&Et[1]}}function mt(wt,Et){return typeof wt=="string"?wt.length<Et?wt:wt.slice(0,Et):wt}function yt(wt){if(ft||!st.isFunction(wt))return st.inspect(wt);var Et=gt(wt);return"[Function"+(Et?": "+Et:"")+"]"}function bt(wt,Et,Rt,Tt,It){throw new ht.AssertionError({message:Rt,actual:wt,expected:Et,operator:Tt,stackStartFunction:It})}function St(wt,Et){wt||bt(wt,!0,Et,"==",ht.ok)}function xt(wt,Et,Rt,Tt){if(wt===Et)return!0;if(at(wt)&&at(Et))return ot(wt,Et)===0;if(st.isDate(wt)&&st.isDate(Et))return wt.getTime()===Et.getTime();if(st.isRegExp(wt)&&st.isRegExp(Et))return wt.source===Et.source&&wt.global===Et.global&&wt.multiline===Et.multiline&&wt.lastIndex===Et.lastIndex&&wt.ignoreCase===Et.ignoreCase;if(wt!==null&&typeof wt=="object"||Et!==null&&typeof Et=="object"){if(dt(wt)&&dt(Et)&&ut(wt)===ut(Et)&&!(wt instanceof Float32Array||wt instanceof Float64Array))return ot(new Uint8Array(wt.buffer),new Uint8Array(Et.buffer))===0;if(at(wt)!==at(Et))return!1;var It=(Tt=Tt||{actual:[],expected:[]}).actual.indexOf(wt);return It!==-1&&It===Tt.expected.indexOf(Et)||(Tt.actual.push(wt),Tt.expected.push(Et),function(Pt,Dt,Ct,Ot){if(Pt==null||Dt==null)return!1;if(st.isPrimitive(Pt)||st.isPrimitive(Dt))return Pt===Dt;if(Ct&&Object.getPrototypeOf(Pt)!==Object.getPrototypeOf(Dt))return!1;var Ut=vt(Pt),At=vt(Dt);if(Ut&&!At||!Ut&&At)return!1;if(Ut)return xt(Pt=ct.call(Pt),Dt=ct.call(Dt),Ct);var Mt,jt,kt=Nt(Pt),Gt=Nt(Dt);if(kt.length!==Gt.length)return!1;for(kt.sort(),Gt.sort(),jt=kt.length-1;jt>=0;jt--)if(kt[jt]!==Gt[jt])return!1;for(jt=kt.length-1;jt>=0;jt--)if(!xt(Pt[Mt=kt[jt]],Dt[Mt],Ct,Ot))return!1;return!0}(wt,Et,Rt,Tt))}return Rt?wt===Et:wt==Et}function vt(wt){return Object.prototype.toString.call(wt)=="[object Arguments]"}function $t(wt,Et){if(!wt||!Et)return!1;if(Object.prototype.toString.call(Et)=="[object RegExp]")return Et.test(wt);try{if(wt instanceof Et)return!0}catch{}return!Error.isPrototypeOf(Et)&&Et.call({},wt)===!0}function zt(wt,Et,Rt,Tt){var It;if(typeof Et!="function")throw new TypeError('"block" argument must be a function');typeof Rt=="string"&&(Tt=Rt,Rt=null),It=function(Ct){var Ot;try{Ct()}catch(Ut){Ot=Ut}return Ot}(Et),Tt=(Rt&&Rt.name?" ("+Rt.name+").":".")+(Tt?" "+Tt:"."),wt&&!It&&bt(It,Rt,"Missing expected exception"+Tt);var Pt=typeof Tt=="string",Dt=!wt&&It&&!Rt;if((!wt&&st.isError(It)&&Pt&&$t(It,Rt)||Dt)&&bt(It,Rt,"Got unwanted exception"+Tt),wt&&It&&Rt&&!$t(It,Rt)||!wt&&It)throw It}ht.AssertionError=function(wt){var Et;this.name="AssertionError",this.actual=wt.actual,this.expected=wt.expected,this.operator=wt.operator,wt.message?(this.message=wt.message,this.generatedMessage=!1):(this.message=mt(yt((Et=this).actual),128)+" "+Et.operator+" "+mt(yt(Et.expected),128),this.generatedMessage=!0);var Rt=wt.stackStartFunction||bt;if(Error.captureStackTrace)Error.captureStackTrace(this,Rt);else{var Tt=new Error;if(Tt.stack){var It=Tt.stack,Pt=gt(Rt),Dt=It.indexOf(`
`+Pt);if(Dt>=0){var Ct=It.indexOf(`
`,Dt+1);It=It.substring(Ct+1)}this.stack=It}}},st.inherits(ht.AssertionError,Error),ht.fail=bt,ht.ok=St,ht.equal=function(wt,Et,Rt){wt!=Et&&bt(wt,Et,Rt,"==",ht.equal)},ht.notEqual=function(wt,Et,Rt){wt==Et&&bt(wt,Et,Rt,"!=",ht.notEqual)},ht.deepEqual=function(wt,Et,Rt){xt(wt,Et,!1)||bt(wt,Et,Rt,"deepEqual",ht.deepEqual)},ht.deepStrictEqual=function(wt,Et,Rt){xt(wt,Et,!0)||bt(wt,Et,Rt,"deepStrictEqual",ht.deepStrictEqual)},ht.notDeepEqual=function(wt,Et,Rt){xt(wt,Et,!1)&&bt(wt,Et,Rt,"notDeepEqual",ht.notDeepEqual)},ht.notDeepStrictEqual=function wt(Et,Rt,Tt){xt(Et,Rt,!0)&&bt(Et,Rt,Tt,"notDeepStrictEqual",wt)},ht.strictEqual=function(wt,Et,Rt){wt!==Et&&bt(wt,Et,Rt,"===",ht.strictEqual)},ht.notStrictEqual=function(wt,Et,Rt){wt===Et&&bt(wt,Et,Rt,"!==",ht.notStrictEqual)},ht.throws=function(wt,Et,Rt){zt(!0,wt,Et,Rt)},ht.doesNotThrow=function(wt,Et,Rt){zt(!1,wt,Et,Rt)},ht.ifError=function(wt){if(wt)throw wt},ht.strict=it(function wt(Et,Rt){Et||bt(Et,!0,Rt,"==",wt)},ht,{equal:ht.strictEqual,deepEqual:ht.deepStrictEqual,notEqual:ht.notStrictEqual,notDeepEqual:ht.notDeepStrictEqual}),ht.strict.strict=ht.strict;var Nt=Object.keys||function(wt){var Et=[];for(var Rt in wt)lt.call(wt,Rt)&&Et.push(Rt);return Et}}).call(this,nt(5))},function(tt,et,nt){tt.exports=function(rt,it,ot,at){for(var st=65535&rt|0,lt=rt>>>16&65535|0,ct=0;ot!==0;){ot-=ct=ot>2e3?2e3:ot;do lt=lt+(st=st+it[at++]|0)|0;while(--ct);st%=65521,lt%=65521}return st|lt<<16|0}},function(tt,et,nt){var rt=function(){for(var it,ot=[],at=0;at<256;at++){it=at;for(var st=0;st<8;st++)it=1&it?3988292384^it>>>1:it>>>1;ot[at]=it}return ot}();tt.exports=function(it,ot,at,st){var lt=rt,ct=st+at;it^=-1;for(var ft=st;ft<ct;ft++)it=it>>>8^lt[255&(it^ot[ft])];return-1^it}},function(tt,et,nt){(function(rt,it){var ot;tt.exports=Et,Et.ReadableState=wt,nt(18).EventEmitter;var at,st=function(Vt,Wt){return Vt.listeners(Wt).length},lt=nt(76),ct=nt(4).Buffer,ft=rt.Uint8Array||function(){},ut=nt(178);at=ut&&ut.debuglog?ut.debuglog("stream"):function(){};var dt,ht,pt,gt=nt(179),mt=nt(77),yt=nt(78).getHighWaterMark,bt=nt(24).codes,St=bt.ERR_INVALID_ARG_TYPE,xt=bt.ERR_STREAM_PUSH_AFTER_EOF,vt=bt.ERR_METHOD_NOT_IMPLEMENTED,$t=bt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;nt(6)(Et,lt);var zt=mt.errorOrDestroy,Nt=["error","close","destroy","pause","resume"];function wt(Vt,Wt,Lt){ot=ot||nt(25),Vt=Vt||{},typeof Lt!="boolean"&&(Lt=Wt instanceof ot),this.objectMode=!!Vt.objectMode,Lt&&(this.objectMode=this.objectMode||!!Vt.readableObjectMode),this.highWaterMark=yt(this,Vt,"readableHighWaterMark",Lt),this.buffer=new gt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Vt.emitClose!==!1,this.autoDestroy=!!Vt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Vt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Vt.encoding&&(dt||(dt=nt(19).StringDecoder),this.decoder=new dt(Vt.encoding),this.encoding=Vt.encoding)}function Et(Vt){if(ot=ot||nt(25),!(this instanceof Et))return new Et(Vt);var Wt=this instanceof ot;this._readableState=new wt(Vt,this,Wt),this.readable=!0,Vt&&(typeof Vt.read=="function"&&(this._read=Vt.read),typeof Vt.destroy=="function"&&(this._destroy=Vt.destroy)),lt.call(this)}function Rt(Vt,Wt,Lt,Bt,Ft){at("readableAddChunk",Wt);var sn,Xt,dn,Yt,yn,Qt=Vt._readableState;if(Wt===null)Qt.reading=!1,function(Kt,hn){if(at("onEofChunk"),!hn.ended){if(hn.decoder){var vn=hn.decoder.end();vn&&vn.length&&(hn.buffer.push(vn),hn.length+=hn.objectMode?1:vn.length)}hn.ended=!0,hn.sync?Pt(Kt):(hn.needReadable=!1,hn.emittedReadable||(hn.emittedReadable=!0,Dt(Kt)))}}(Vt,Qt);else if(Ft||(Xt=Qt,yn=dn=Wt,ct.isBuffer(yn)||yn instanceof ft||typeof dn=="string"||dn===void 0||Xt.objectMode||(Yt=new St("chunk",["string","Buffer","Uint8Array"],dn)),sn=Yt),sn)zt(Vt,sn);else if(Qt.objectMode||Wt&&Wt.length>0)if(typeof Wt=="string"||Qt.objectMode||Object.getPrototypeOf(Wt)===ct.prototype||(Wt=function(Kt){return ct.from(Kt)}(Wt)),Bt)Qt.endEmitted?zt(Vt,new $t):Tt(Vt,Qt,Wt,!0);else if(Qt.ended)zt(Vt,new xt);else{if(Qt.destroyed)return!1;Qt.reading=!1,Qt.decoder&&!Lt?(Wt=Qt.decoder.write(Wt),Qt.objectMode||Wt.length!==0?Tt(Vt,Qt,Wt,!1):Ct(Vt,Qt)):Tt(Vt,Qt,Wt,!1)}else Bt||(Qt.reading=!1,Ct(Vt,Qt));return!Qt.ended&&(Qt.length<Qt.highWaterMark||Qt.length===0)}function Tt(Vt,Wt,Lt,Bt){Wt.flowing&&Wt.length===0&&!Wt.sync?(Wt.awaitDrain=0,Vt.emit("data",Lt)):(Wt.length+=Wt.objectMode?1:Lt.length,Bt?Wt.buffer.unshift(Lt):Wt.buffer.push(Lt),Wt.needReadable&&Pt(Vt)),Ct(Vt,Wt)}function It(Vt,Wt){return Vt<=0||Wt.length===0&&Wt.ended?0:Wt.objectMode?1:Vt!=Vt?Wt.flowing&&Wt.length?Wt.buffer.head.data.length:Wt.length:(Vt>Wt.highWaterMark&&(Wt.highWaterMark=((Lt=Vt)>=1073741824?Lt=1073741824:(Lt--,Lt|=Lt>>>1,Lt|=Lt>>>2,Lt|=Lt>>>4,Lt|=Lt>>>8,Lt|=Lt>>>16,Lt++),Lt)),Vt<=Wt.length?Vt:Wt.ended?Wt.length:(Wt.needReadable=!0,0));var Lt}function Pt(Vt){var Wt=Vt._readableState;at("emitReadable",Wt.needReadable,Wt.emittedReadable),Wt.needReadable=!1,Wt.emittedReadable||(at("emitReadable",Wt.flowing),Wt.emittedReadable=!0,it.nextTick(Dt,Vt))}function Dt(Vt){var Wt=Vt._readableState;at("emitReadable_",Wt.destroyed,Wt.length,Wt.ended),Wt.destroyed||!Wt.length&&!Wt.ended||(Vt.emit("readable"),Wt.emittedReadable=!1),Wt.needReadable=!Wt.flowing&&!Wt.ended&&Wt.length<=Wt.highWaterMark,jt(Vt)}function Ct(Vt,Wt){Wt.readingMore||(Wt.readingMore=!0,it.nextTick(Ot,Vt,Wt))}function Ot(Vt,Wt){for(;!Wt.reading&&!Wt.ended&&(Wt.length<Wt.highWaterMark||Wt.flowing&&Wt.length===0);){var Lt=Wt.length;if(at("maybeReadMore read 0"),Vt.read(0),Lt===Wt.length)break}Wt.readingMore=!1}function Ut(Vt){var Wt=Vt._readableState;Wt.readableListening=Vt.listenerCount("readable")>0,Wt.resumeScheduled&&!Wt.paused?Wt.flowing=!0:Vt.listenerCount("data")>0&&Vt.resume()}function At(Vt){at("readable nexttick read 0"),Vt.read(0)}function Mt(Vt,Wt){at("resume",Wt.reading),Wt.reading||Vt.read(0),Wt.resumeScheduled=!1,Vt.emit("resume"),jt(Vt),Wt.flowing&&!Wt.reading&&Vt.read(0)}function jt(Vt){var Wt=Vt._readableState;for(at("flow",Wt.flowing);Wt.flowing&&Vt.read()!==null;);}function kt(Vt,Wt){return Wt.length===0?null:(Wt.objectMode?Lt=Wt.buffer.shift():!Vt||Vt>=Wt.length?(Lt=Wt.decoder?Wt.buffer.join(""):Wt.buffer.length===1?Wt.buffer.first():Wt.buffer.concat(Wt.length),Wt.buffer.clear()):Lt=Wt.buffer.consume(Vt,Wt.decoder),Lt);var Lt}function Gt(Vt){var Wt=Vt._readableState;at("endReadable",Wt.endEmitted),Wt.endEmitted||(Wt.ended=!0,it.nextTick(Ht,Wt,Vt))}function Ht(Vt,Wt){if(at("endReadableNT",Vt.endEmitted,Vt.length),!Vt.endEmitted&&Vt.length===0&&(Vt.endEmitted=!0,Wt.readable=!1,Wt.emit("end"),Vt.autoDestroy)){var Lt=Wt._writableState;(!Lt||Lt.autoDestroy&&Lt.finished)&&Wt.destroy()}}function Jt(Vt,Wt){for(var Lt=0,Bt=Vt.length;Lt<Bt;Lt++)if(Vt[Lt]===Wt)return Lt;return-1}Object.defineProperty(Et.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Vt){this._readableState&&(this._readableState.destroyed=Vt)}}),Et.prototype.destroy=mt.destroy,Et.prototype._undestroy=mt.undestroy,Et.prototype._destroy=function(Vt,Wt){Wt(Vt)},Et.prototype.push=function(Vt,Wt){var Lt,Bt=this._readableState;return Bt.objectMode?Lt=!0:typeof Vt=="string"&&((Wt=Wt||Bt.defaultEncoding)!==Bt.encoding&&(Vt=ct.from(Vt,Wt),Wt=""),Lt=!0),Rt(this,Vt,Wt,!1,Lt)},Et.prototype.unshift=function(Vt){return Rt(this,Vt,null,!0,!1)},Et.prototype.isPaused=function(){return this._readableState.flowing===!1},Et.prototype.setEncoding=function(Vt){dt||(dt=nt(19).StringDecoder);var Wt=new dt(Vt);this._readableState.decoder=Wt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Lt=this._readableState.buffer.head,Bt="";Lt!==null;)Bt+=Wt.write(Lt.data),Lt=Lt.next;return this._readableState.buffer.clear(),Bt!==""&&this._readableState.buffer.push(Bt),this._readableState.length=Bt.length,this},Et.prototype.read=function(Vt){at("read",Vt),Vt=parseInt(Vt,10);var Wt=this._readableState,Lt=Vt;if(Vt!==0&&(Wt.emittedReadable=!1),Vt===0&&Wt.needReadable&&((Wt.highWaterMark!==0?Wt.length>=Wt.highWaterMark:Wt.length>0)||Wt.ended))return at("read: emitReadable",Wt.length,Wt.ended),Wt.length===0&&Wt.ended?Gt(this):Pt(this),null;if((Vt=It(Vt,Wt))===0&&Wt.ended)return Wt.length===0&&Gt(this),null;var Bt,Ft=Wt.needReadable;return at("need readable",Ft),(Wt.length===0||Wt.length-Vt<Wt.highWaterMark)&&at("length less than watermark",Ft=!0),Wt.ended||Wt.reading?at("reading or ended",Ft=!1):Ft&&(at("do read"),Wt.reading=!0,Wt.sync=!0,Wt.length===0&&(Wt.needReadable=!0),this._read(Wt.highWaterMark),Wt.sync=!1,Wt.reading||(Vt=It(Lt,Wt))),(Bt=Vt>0?kt(Vt,Wt):null)===null?(Wt.needReadable=Wt.length<=Wt.highWaterMark,Vt=0):(Wt.length-=Vt,Wt.awaitDrain=0),Wt.length===0&&(Wt.ended||(Wt.needReadable=!0),Lt!==Vt&&Wt.ended&&Gt(this)),Bt!==null&&this.emit("data",Bt),Bt},Et.prototype._read=function(Vt){zt(this,new vt("_read()"))},Et.prototype.pipe=function(Vt,Wt){var Lt=this,Bt=this._readableState;switch(Bt.pipesCount){case 0:Bt.pipes=Vt;break;case 1:Bt.pipes=[Bt.pipes,Vt];break;default:Bt.pipes.push(Vt)}Bt.pipesCount+=1,at("pipe count=%d opts=%j",Bt.pipesCount,Wt);var Ft=Wt&&Wt.end===!1||Vt===it.stdout||Vt===it.stderr?vn:sn;function sn(){at("onend"),Vt.end()}Bt.endEmitted?it.nextTick(Ft):Lt.once("end",Ft),Vt.on("unpipe",function Sn(Cn,cn){at("onunpipe"),Cn===Lt&&cn&&cn.hasUnpiped===!1&&(cn.hasUnpiped=!0,at("cleanup"),Vt.removeListener("close",Kt),Vt.removeListener("finish",hn),Vt.removeListener("drain",dn),Vt.removeListener("error",Qt),Vt.removeListener("unpipe",Sn),Lt.removeListener("end",sn),Lt.removeListener("end",vn),Lt.removeListener("data",yn),Yt=!0,!Bt.awaitDrain||Vt._writableState&&!Vt._writableState.needDrain||dn())});var Xt,dn=(Xt=Lt,function(){var Sn=Xt._readableState;at("pipeOnDrain",Sn.awaitDrain),Sn.awaitDrain&&Sn.awaitDrain--,Sn.awaitDrain===0&&st(Xt,"data")&&(Sn.flowing=!0,jt(Xt))});Vt.on("drain",dn);var Yt=!1;function yn(Sn){at("ondata");var Cn=Vt.write(Sn);at("dest.write",Cn),Cn===!1&&((Bt.pipesCount===1&&Bt.pipes===Vt||Bt.pipesCount>1&&Jt(Bt.pipes,Vt)!==-1)&&!Yt&&(at("false write response, pause",Bt.awaitDrain),Bt.awaitDrain++),Lt.pause())}function Qt(Sn){at("onerror",Sn),vn(),Vt.removeListener("error",Qt),st(Vt,"error")===0&&zt(Vt,Sn)}function Kt(){Vt.removeListener("finish",hn),vn()}function hn(){at("onfinish"),Vt.removeListener("close",Kt),vn()}function vn(){at("unpipe"),Lt.unpipe(Vt)}return Lt.on("data",yn),function(Sn,Cn,cn){if(typeof Sn.prependListener=="function")return Sn.prependListener(Cn,cn);Sn._events&&Sn._events[Cn]?Array.isArray(Sn._events[Cn])?Sn._events[Cn].unshift(cn):Sn._events[Cn]=[cn,Sn._events[Cn]]:Sn.on(Cn,cn)}(Vt,"error",Qt),Vt.once("close",Kt),Vt.once("finish",hn),Vt.emit("pipe",Lt),Bt.flowing||(at("pipe resume"),Lt.resume()),Vt},Et.prototype.unpipe=function(Vt){var Wt=this._readableState,Lt={hasUnpiped:!1};if(Wt.pipesCount===0)return this;if(Wt.pipesCount===1)return Vt&&Vt!==Wt.pipes||(Vt||(Vt=Wt.pipes),Wt.pipes=null,Wt.pipesCount=0,Wt.flowing=!1,Vt&&Vt.emit("unpipe",this,Lt)),this;if(!Vt){var Bt=Wt.pipes,Ft=Wt.pipesCount;Wt.pipes=null,Wt.pipesCount=0,Wt.flowing=!1;for(var sn=0;sn<Ft;sn++)Bt[sn].emit("unpipe",this,{hasUnpiped:!1});return this}var Xt=Jt(Wt.pipes,Vt);return Xt===-1||(Wt.pipes.splice(Xt,1),Wt.pipesCount-=1,Wt.pipesCount===1&&(Wt.pipes=Wt.pipes[0]),Vt.emit("unpipe",this,Lt)),this},Et.prototype.on=function(Vt,Wt){var Lt=lt.prototype.on.call(this,Vt,Wt),Bt=this._readableState;return Vt==="data"?(Bt.readableListening=this.listenerCount("readable")>0,Bt.flowing!==!1&&this.resume()):Vt==="readable"&&(Bt.endEmitted||Bt.readableListening||(Bt.readableListening=Bt.needReadable=!0,Bt.flowing=!1,Bt.emittedReadable=!1,at("on readable",Bt.length,Bt.reading),Bt.length?Pt(this):Bt.reading||it.nextTick(At,this))),Lt},Et.prototype.addListener=Et.prototype.on,Et.prototype.removeListener=function(Vt,Wt){var Lt=lt.prototype.removeListener.call(this,Vt,Wt);return Vt==="readable"&&it.nextTick(Ut,this),Lt},Et.prototype.removeAllListeners=function(Vt){var Wt=lt.prototype.removeAllListeners.apply(this,arguments);return Vt!=="readable"&&Vt!==void 0||it.nextTick(Ut,this),Wt},Et.prototype.resume=function(){var Vt,Wt,Lt=this._readableState;return Lt.flowing||(at("resume"),Lt.flowing=!Lt.readableListening,Vt=this,(Wt=Lt).resumeScheduled||(Wt.resumeScheduled=!0,it.nextTick(Mt,Vt,Wt))),Lt.paused=!1,this},Et.prototype.pause=function(){return at("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(at("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Et.prototype.wrap=function(Vt){var Wt=this,Lt=this._readableState,Bt=!1;for(var Ft in Vt.on("end",function(){if(at("wrapped end"),Lt.decoder&&!Lt.ended){var Xt=Lt.decoder.end();Xt&&Xt.length&&Wt.push(Xt)}Wt.push(null)}),Vt.on("data",function(Xt){at("wrapped data"),Lt.decoder&&(Xt=Lt.decoder.write(Xt)),Lt.objectMode&&Xt==null||(Lt.objectMode||Xt&&Xt.length)&&(Wt.push(Xt)||(Bt=!0,Vt.pause()))}),Vt)this[Ft]===void 0&&typeof Vt[Ft]=="function"&&(this[Ft]=function(Xt){return function(){return Vt[Xt].apply(Vt,arguments)}}(Ft));for(var sn=0;sn<Nt.length;sn++)Vt.on(Nt[sn],this.emit.bind(this,Nt[sn]));return this._read=function(Xt){at("wrapped _read",Xt),Bt&&(Bt=!1,Vt.resume())},this},typeof Symbol=="function"&&(Et.prototype[Symbol.asyncIterator]=function(){return ht===void 0&&(ht=nt(181)),ht(this)}),Object.defineProperty(Et.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Et.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Et.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Vt){this._readableState&&(this._readableState.flowing=Vt)}}),Et._fromList=kt,Object.defineProperty(Et.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Et.from=function(Vt,Wt){return pt===void 0&&(pt=nt(182)),pt(Et,Vt,Wt)})}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=nt(18).EventEmitter},function(tt,et,nt){(function(rt){function it(st,lt){at(st,lt),ot(st)}function ot(st){st._writableState&&!st._writableState.emitClose||st._readableState&&!st._readableState.emitClose||st.emit("close")}function at(st,lt){st.emit("error",lt)}tt.exports={destroy:function(st,lt){var ct=this,ft=this._readableState&&this._readableState.destroyed,ut=this._writableState&&this._writableState.destroyed;return ft||ut?(lt?lt(st):st&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,rt.nextTick(at,this,st)):rt.nextTick(at,this,st)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(st||null,function(dt){!lt&&dt?ct._writableState?ct._writableState.errorEmitted?rt.nextTick(ot,ct):(ct._writableState.errorEmitted=!0,rt.nextTick(it,ct,dt)):rt.nextTick(it,ct,dt):lt?(rt.nextTick(ot,ct),lt(dt)):rt.nextTick(ot,ct)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(st,lt){var ct=st._readableState,ft=st._writableState;ct&&ct.autoDestroy||ft&&ft.autoDestroy?st.destroy(lt):st.emit("error",lt)}}}).call(this,nt(2))},function(tt,et,nt){var rt=nt(24).codes.ERR_INVALID_OPT_VALUE;tt.exports={getHighWaterMark:function(it,ot,at,st){var lt,ct,ft,ut=(ct=st,ft=at,(lt=ot).highWaterMark!=null?lt.highWaterMark:ct?lt[ft]:null);if(ut!=null){if(!isFinite(ut)||Math.floor(ut)!==ut||ut<0)throw new rt(st?at:"highWaterMark",ut);return Math.floor(ut)}return it.objectMode?16:16384}}},function(tt,et,nt){(function(rt,it){function ot(Ot){var Ut=this;this.next=null,this.entry=null,this.finish=function(){(function(At,Mt,jt){var kt=At.entry;for(At.entry=null;kt;){var Gt=kt.callback;Mt.pendingcb--,Gt(void 0),kt=kt.next}Mt.corkedRequestsFree.next=At})(Ut,Ot)}}var at;tt.exports=Et,Et.WritableState=wt;var st,lt={deprecate:nt(39)},ct=nt(76),ft=nt(4).Buffer,ut=rt.Uint8Array||function(){},dt=nt(77),ht=nt(78).getHighWaterMark,pt=nt(24).codes,gt=pt.ERR_INVALID_ARG_TYPE,mt=pt.ERR_METHOD_NOT_IMPLEMENTED,yt=pt.ERR_MULTIPLE_CALLBACK,bt=pt.ERR_STREAM_CANNOT_PIPE,St=pt.ERR_STREAM_DESTROYED,xt=pt.ERR_STREAM_NULL_VALUES,vt=pt.ERR_STREAM_WRITE_AFTER_END,$t=pt.ERR_UNKNOWN_ENCODING,zt=dt.errorOrDestroy;function Nt(){}function wt(Ot,Ut,At){at=at||nt(25),Ot=Ot||{},typeof At!="boolean"&&(At=Ut instanceof at),this.objectMode=!!Ot.objectMode,At&&(this.objectMode=this.objectMode||!!Ot.writableObjectMode),this.highWaterMark=ht(this,Ot,"writableHighWaterMark",At),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Mt=Ot.decodeStrings===!1;this.decodeStrings=!Mt,this.defaultEncoding=Ot.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){(function(kt,Gt){var Ht,Jt=kt._writableState,Vt=Jt.sync,Wt=Jt.writecb;if(typeof Wt!="function")throw new yt;if((Ht=Jt).writing=!1,Ht.writecb=null,Ht.length-=Ht.writelen,Ht.writelen=0,Gt)(function(Bt,Ft,sn,Xt,dn){--Ft.pendingcb,sn?(it.nextTick(dn,Xt),it.nextTick(Ct,Bt,Ft),Bt._writableState.errorEmitted=!0,zt(Bt,Xt)):(dn(Xt),Bt._writableState.errorEmitted=!0,zt(Bt,Xt),Ct(Bt,Ft))})(kt,Jt,Vt,Gt,Wt);else{var Lt=Pt(Jt)||kt.destroyed;Lt||Jt.corked||Jt.bufferProcessing||!Jt.bufferedRequest||It(kt,Jt),Vt?it.nextTick(Tt,kt,Jt,Lt,Wt):Tt(kt,Jt,Lt,Wt)}})(Ut,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ot.emitClose!==!1,this.autoDestroy=!!Ot.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ot(this)}function Et(Ot){var Ut=this instanceof(at=at||nt(25));if(!Ut&&!st.call(Et,this))return new Et(Ot);this._writableState=new wt(Ot,this,Ut),this.writable=!0,Ot&&(typeof Ot.write=="function"&&(this._write=Ot.write),typeof Ot.writev=="function"&&(this._writev=Ot.writev),typeof Ot.destroy=="function"&&(this._destroy=Ot.destroy),typeof Ot.final=="function"&&(this._final=Ot.final)),ct.call(this)}function Rt(Ot,Ut,At,Mt,jt,kt,Gt){Ut.writelen=Mt,Ut.writecb=Gt,Ut.writing=!0,Ut.sync=!0,Ut.destroyed?Ut.onwrite(new St("write")):At?Ot._writev(jt,Ut.onwrite):Ot._write(jt,kt,Ut.onwrite),Ut.sync=!1}function Tt(Ot,Ut,At,Mt){var jt,kt;At||(jt=Ot,(kt=Ut).length===0&&kt.needDrain&&(kt.needDrain=!1,jt.emit("drain"))),Ut.pendingcb--,Mt(),Ct(Ot,Ut)}function It(Ot,Ut){Ut.bufferProcessing=!0;var At=Ut.bufferedRequest;if(Ot._writev&&At&&At.next){var Mt=Ut.bufferedRequestCount,jt=new Array(Mt),kt=Ut.corkedRequestsFree;kt.entry=At;for(var Gt=0,Ht=!0;At;)jt[Gt]=At,At.isBuf||(Ht=!1),At=At.next,Gt+=1;jt.allBuffers=Ht,Rt(Ot,Ut,!0,Ut.length,jt,"",kt.finish),Ut.pendingcb++,Ut.lastBufferedRequest=null,kt.next?(Ut.corkedRequestsFree=kt.next,kt.next=null):Ut.corkedRequestsFree=new ot(Ut),Ut.bufferedRequestCount=0}else{for(;At;){var Jt=At.chunk,Vt=At.encoding,Wt=At.callback;if(Rt(Ot,Ut,!1,Ut.objectMode?1:Jt.length,Jt,Vt,Wt),At=At.next,Ut.bufferedRequestCount--,Ut.writing)break}At===null&&(Ut.lastBufferedRequest=null)}Ut.bufferedRequest=At,Ut.bufferProcessing=!1}function Pt(Ot){return Ot.ending&&Ot.length===0&&Ot.bufferedRequest===null&&!Ot.finished&&!Ot.writing}function Dt(Ot,Ut){Ot._final(function(At){Ut.pendingcb--,At&&zt(Ot,At),Ut.prefinished=!0,Ot.emit("prefinish"),Ct(Ot,Ut)})}function Ct(Ot,Ut){var At,Mt,jt=Pt(Ut);if(jt&&(At=Ot,(Mt=Ut).prefinished||Mt.finalCalled||(typeof At._final!="function"||Mt.destroyed?(Mt.prefinished=!0,At.emit("prefinish")):(Mt.pendingcb++,Mt.finalCalled=!0,it.nextTick(Dt,At,Mt))),Ut.pendingcb===0&&(Ut.finished=!0,Ot.emit("finish"),Ut.autoDestroy))){var kt=Ot._readableState;(!kt||kt.autoDestroy&&kt.endEmitted)&&Ot.destroy()}return jt}nt(6)(Et,ct),wt.prototype.getBuffer=function(){for(var Ot=this.bufferedRequest,Ut=[];Ot;)Ut.push(Ot),Ot=Ot.next;return Ut},function(){try{Object.defineProperty(wt.prototype,"buffer",{get:lt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(st=Function.prototype[Symbol.hasInstance],Object.defineProperty(Et,Symbol.hasInstance,{value:function(Ot){return!!st.call(this,Ot)||this===Et&&Ot&&Ot._writableState instanceof wt}})):st=function(Ot){return Ot instanceof this},Et.prototype.pipe=function(){zt(this,new bt)},Et.prototype.write=function(Ot,Ut,At){var Mt,jt,kt=this._writableState,Gt=!1,Ht=!kt.objectMode&&(Mt=Ot,ft.isBuffer(Mt)||Mt instanceof ut);return Ht&&!ft.isBuffer(Ot)&&(jt=Ot,Ot=ft.from(jt)),typeof Ut=="function"&&(At=Ut,Ut=null),Ht?Ut="buffer":Ut||(Ut=kt.defaultEncoding),typeof At!="function"&&(At=Nt),kt.ending?function(Jt,Vt){var Wt=new vt;zt(Jt,Wt),it.nextTick(Vt,Wt)}(this,At):(Ht||function(Jt,Vt,Wt,Lt){var Bt;return Wt===null?Bt=new xt:typeof Wt=="string"||Vt.objectMode||(Bt=new gt("chunk",["string","Buffer"],Wt)),!Bt||(zt(Jt,Bt),it.nextTick(Lt,Bt),!1)}(this,kt,Ot,At))&&(kt.pendingcb++,Gt=function(Jt,Vt,Wt,Lt,Bt,Ft){if(!Wt){var sn=(dn=Lt,Yt=Bt,(Xt=Vt).objectMode||Xt.decodeStrings===!1||typeof dn!="string"||(dn=ft.from(dn,Yt)),dn);Lt!==sn&&(Wt=!0,Bt="buffer",Lt=sn)}var Xt,dn,Yt,yn=Vt.objectMode?1:Lt.length;Vt.length+=yn;var Qt=Vt.length<Vt.highWaterMark;if(Qt||(Vt.needDrain=!0),Vt.writing||Vt.corked){var Kt=Vt.lastBufferedRequest;Vt.lastBufferedRequest={chunk:Lt,encoding:Bt,isBuf:Wt,callback:Ft,next:null},Kt?Kt.next=Vt.lastBufferedRequest:Vt.bufferedRequest=Vt.lastBufferedRequest,Vt.bufferedRequestCount+=1}else Rt(Jt,Vt,!1,yn,Lt,Bt,Ft);return Qt}(this,kt,Ht,Ot,Ut,At)),Gt},Et.prototype.cork=function(){this._writableState.corked++},Et.prototype.uncork=function(){var Ot=this._writableState;Ot.corked&&(Ot.corked--,Ot.writing||Ot.corked||Ot.bufferProcessing||!Ot.bufferedRequest||It(this,Ot))},Et.prototype.setDefaultEncoding=function(Ot){if(typeof Ot=="string"&&(Ot=Ot.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ot+"").toLowerCase())>-1))throw new $t(Ot);return this._writableState.defaultEncoding=Ot,this},Object.defineProperty(Et.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Et.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Et.prototype._write=function(Ot,Ut,At){At(new mt("_write()"))},Et.prototype._writev=null,Et.prototype.end=function(Ot,Ut,At){var Mt,jt,kt,Gt=this._writableState;return typeof Ot=="function"?(At=Ot,Ot=null,Ut=null):typeof Ut=="function"&&(At=Ut,Ut=null),Ot!=null&&this.write(Ot,Ut),Gt.corked&&(Gt.corked=1,this.uncork()),Gt.ending||(Mt=this,kt=At,(jt=Gt).ending=!0,Ct(Mt,jt),kt&&(jt.finished?it.nextTick(kt):Mt.once("finish",kt)),jt.ended=!0,Mt.writable=!1),this},Object.defineProperty(Et.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Et.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ot){this._writableState&&(this._writableState.destroyed=Ot)}}),Et.prototype.destroy=dt.destroy,Et.prototype._undestroy=dt.undestroy,Et.prototype._destroy=function(Ot,Ut){Ut(Ot)}}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=ft;var rt=nt(24).codes,it=rt.ERR_METHOD_NOT_IMPLEMENTED,ot=rt.ERR_MULTIPLE_CALLBACK,at=rt.ERR_TRANSFORM_ALREADY_TRANSFORMING,st=rt.ERR_TRANSFORM_WITH_LENGTH_0,lt=nt(25);function ct(ht,pt){var gt=this._transformState;gt.transforming=!1;var mt=gt.writecb;if(mt===null)return this.emit("error",new ot);gt.writechunk=null,gt.writecb=null,pt!=null&&this.push(pt),mt(ht);var yt=this._readableState;yt.reading=!1,(yt.needReadable||yt.length<yt.highWaterMark)&&this._read(yt.highWaterMark)}function ft(ht){if(!(this instanceof ft))return new ft(ht);lt.call(this,ht),this._transformState={afterTransform:ct.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ht&&(typeof ht.transform=="function"&&(this._transform=ht.transform),typeof ht.flush=="function"&&(this._flush=ht.flush)),this.on("prefinish",ut)}function ut(){var ht=this;typeof this._flush!="function"||this._readableState.destroyed?dt(this,null,null):this._flush(function(pt,gt){dt(ht,pt,gt)})}function dt(ht,pt,gt){if(pt)return ht.emit("error",pt);if(gt!=null&&ht.push(gt),ht._writableState.length)throw new st;if(ht._transformState.transforming)throw new at;return ht.push(null)}nt(6)(ft,lt),ft.prototype.push=function(ht,pt){return this._transformState.needTransform=!1,lt.prototype.push.call(this,ht,pt)},ft.prototype._transform=function(ht,pt,gt){gt(new it("_transform()"))},ft.prototype._write=function(ht,pt,gt){var mt=this._transformState;if(mt.writecb=gt,mt.writechunk=ht,mt.writeencoding=pt,!mt.transforming){var yt=this._readableState;(mt.needTransform||yt.needReadable||yt.length<yt.highWaterMark)&&this._read(yt.highWaterMark)}},ft.prototype._read=function(ht){var pt=this._transformState;pt.writechunk===null||pt.transforming?pt.needTransform=!0:(pt.transforming=!0,this._transform(pt.writechunk,pt.writeencoding,pt.afterTransform))},ft.prototype._destroy=function(ht,pt){lt.prototype._destroy.call(this,ht,function(gt){pt(gt)})}},function(tt,et,nt){(function(rt){var it=nt(189),ot=nt(83),at=nt(191),st=nt(192),lt=nt(46),ct=et;ct.request=function(ft,ut){ft=typeof ft=="string"?lt.parse(ft):at(ft);var dt=rt.location.protocol.search(/^https?:$/)===-1?"http:":"",ht=ft.protocol||dt,pt=ft.hostname||ft.host,gt=ft.port,mt=ft.path||"/";pt&&pt.indexOf(":")!==-1&&(pt="["+pt+"]"),ft.url=(pt?ht+"//"+pt:"")+(gt?":"+gt:"")+mt,ft.method=(ft.method||"GET").toUpperCase(),ft.headers=ft.headers||{};var yt=new it(ft);return ut&&yt.on("response",ut),yt},ct.get=function(ft,ut){var dt=ct.request(ft,ut);return dt.end(),dt},ct.ClientRequest=it,ct.IncomingMessage=ot.IncomingMessage,ct.Agent=function(){},ct.Agent.defaultMaxSockets=4,ct.globalAgent=new ct.Agent,ct.STATUS_CODES=st,ct.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,nt(5))},function(tt,et,nt){(function(rt){et.fetch=ct(rt.fetch)&&ct(rt.ReadableStream),et.writableStream=ct(rt.WritableStream),et.abortController=ct(rt.AbortController),et.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),et.blobConstructor=!0}catch{}var it;function ot(){if(it!==void 0)return it;if(rt.XMLHttpRequest){it=new rt.XMLHttpRequest;try{it.open("GET",rt.XDomainRequest?"/":"https://example.com")}catch{it=null}}else it=null;return it}function at(ft){var ut=ot();if(!ut)return!1;try{return ut.responseType=ft,ut.responseType===ft}catch{}return!1}var st=rt.ArrayBuffer!==void 0,lt=st&&ct(rt.ArrayBuffer.prototype.slice);function ct(ft){return typeof ft=="function"}et.arraybuffer=et.fetch||st&&at("arraybuffer"),et.msstream=!et.fetch&&lt&&at("ms-stream"),et.mozchunkedarraybuffer=!et.fetch&&st&&at("moz-chunked-arraybuffer"),et.overrideMimeType=et.fetch||!!ot()&&ct(ot().overrideMimeType),et.vbArray=ct(rt.VBArray),it=null}).call(this,nt(5))},function(tt,et,nt){(function(rt,it,ot){var at=nt(82),st=nt(6),lt=nt(28),ct=et.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ft=et.IncomingMessage=function(ut,dt,ht,pt){var gt=this;if(lt.Readable.call(gt),gt._mode=ht,gt.headers={},gt.rawHeaders=[],gt.trailers={},gt.rawTrailers=[],gt.on("end",function(){rt.nextTick(function(){gt.emit("close")})}),ht==="fetch"){if(gt._fetchResponse=dt,gt.url=dt.url,gt.statusCode=dt.status,gt.statusMessage=dt.statusText,dt.headers.forEach(function(xt,vt){gt.headers[vt.toLowerCase()]=xt,gt.rawHeaders.push(vt,xt)}),at.writableStream){var mt=new WritableStream({write:function(xt){return new Promise(function(vt,$t){gt._destroyed?$t():gt.push(new it(xt))?vt():gt._resumeFetch=vt})},close:function(){ot.clearTimeout(pt),gt._destroyed||gt.push(null)},abort:function(xt){gt._destroyed||gt.emit("error",xt)}});try{return void dt.body.pipeTo(mt).catch(function(xt){ot.clearTimeout(pt),gt._destroyed||gt.emit("error",xt)})}catch{}}var yt=dt.body.getReader();(function xt(){yt.read().then(function(vt){if(!gt._destroyed){if(vt.done)return ot.clearTimeout(pt),void gt.push(null);gt.push(new it(vt.value)),xt()}}).catch(function(vt){ot.clearTimeout(pt),gt._destroyed||gt.emit("error",vt)})})()}else if(gt._xhr=ut,gt._pos=0,gt.url=ut.responseURL,gt.statusCode=ut.status,gt.statusMessage=ut.statusText,ut.getAllResponseHeaders().split(/\r?\n/).forEach(function(xt){var vt=xt.match(/^([^:]+):\s*(.*)/);if(vt){var $t=vt[1].toLowerCase();$t==="set-cookie"?(gt.headers[$t]===void 0&&(gt.headers[$t]=[]),gt.headers[$t].push(vt[2])):gt.headers[$t]!==void 0?gt.headers[$t]+=", "+vt[2]:gt.headers[$t]=vt[2],gt.rawHeaders.push(vt[1],vt[2])}}),gt._charset="x-user-defined",!at.overrideMimeType){var bt=gt.rawHeaders["mime-type"];if(bt){var St=bt.match(/;\s*charset=([^;])(;|$)/);St&&(gt._charset=St[1].toLowerCase())}gt._charset||(gt._charset="utf-8")}};st(ft,lt.Readable),ft.prototype._read=function(){var ut=this._resumeFetch;ut&&(this._resumeFetch=null,ut())},ft.prototype._onXHRProgress=function(){var ut=this,dt=ut._xhr,ht=null;switch(ut._mode){case"text:vbarray":if(dt.readyState!==ct.DONE)break;try{ht=new ot.VBArray(dt.responseBody).toArray()}catch{}if(ht!==null){ut.push(new it(ht));break}case"text":try{ht=dt.responseText}catch{ut._mode="text:vbarray";break}if(ht.length>ut._pos){var pt=ht.substr(ut._pos);if(ut._charset==="x-user-defined"){for(var gt=new it(pt.length),mt=0;mt<pt.length;mt++)gt[mt]=255&pt.charCodeAt(mt);ut.push(gt)}else ut.push(pt,ut._charset);ut._pos=ht.length}break;case"arraybuffer":if(dt.readyState!==ct.DONE||!dt.response)break;ht=dt.response,ut.push(new it(new Uint8Array(ht)));break;case"moz-chunked-arraybuffer":if(ht=dt.response,dt.readyState!==ct.LOADING||!ht)break;ut.push(new it(new Uint8Array(ht)));break;case"ms-stream":if(ht=dt.response,dt.readyState!==ct.LOADING)break;var yt=new ot.MSStreamReader;yt.onprogress=function(){yt.result.byteLength>ut._pos&&(ut.push(new it(new Uint8Array(yt.result.slice(ut._pos)))),ut._pos=yt.result.byteLength)},yt.onload=function(){ut.push(null)},yt.readAsArrayBuffer(ht)}ut._xhr.readyState===ct.DONE&&ut._mode!=="ms-stream"&&ut.push(null)}}).call(this,nt(2),nt(4).Buffer,nt(5))},function(tt,et,nt){const rt=it=>it!==null&&typeof it=="object"&&typeof it.pipe=="function";rt.writable=it=>rt(it)&&it.writable!==!1&&typeof it._write=="function"&&typeof it._writableState=="object",rt.readable=it=>rt(it)&&it.readable!==!1&&typeof it._read=="function"&&typeof it._readableState=="object",rt.duplex=it=>rt.writable(it)&&rt.readable(it),rt.transform=it=>rt.duplex(it)&&typeof it._transform=="function"&&typeof it._transformState=="object",tt.exports=rt},function(tt,et,nt){function rt(gt){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt})(gt)}function it(gt,mt){if(!(gt instanceof mt))throw new TypeError("Cannot call a class as a function")}function ot(gt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),mt&&at(gt,mt)}function at(gt,mt){return(at=Object.setPrototypeOf||function(yt,bt){return yt.__proto__=bt,yt})(gt,mt)}function st(gt){var mt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var yt,bt=ct(gt);if(mt){var St=ct(this).constructor;yt=Reflect.construct(bt,arguments,St)}else yt=bt.apply(this,arguments);return lt(this,yt)}}function lt(gt,mt){return!mt||rt(mt)!=="object"&&typeof mt!="function"?function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(gt):mt}function ct(gt){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(mt){return mt.__proto__||Object.getPrototypeOf(mt)})(gt)}var ft=nt(3).LEVEL,ut=nt(47),dt=nt(201),ht=nt(34)("winston:create-logger");function pt(gt){return"is"+gt.charAt(0).toUpperCase()+gt.slice(1)+"Enabled"}tt.exports=function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gt.levels=gt.levels||ut.npm.levels;var mt=function(bt){ot(xt,bt);var St=st(xt);function xt(vt){return it(this,xt),St.call(this,vt)}return xt}(dt),yt=new mt(gt);return Object.keys(gt.levels).forEach(function(bt){ht('Define prototype method for "%s"',bt),bt!=="log"?(mt.prototype[bt]=function(){for(var St=this||yt,xt=arguments.length,vt=new Array(xt),$t=0;$t<xt;$t++)vt[$t]=arguments[$t];if(vt.length===1){var zt=vt[0],Nt=zt&&zt.message&&zt||{message:zt};return Nt.level=Nt[ft]=bt,St._addDefaultMeta(Nt),St.write(Nt),this||yt}return vt.length===0?(St.log(bt,""),St):St.log.apply(St,[bt].concat(vt))},mt.prototype[pt(bt)]=function(){return(this||yt).isLevelEnabled(bt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),yt}},function(tt,et,nt){(function(rt){var it=nt(15),ot=nt(48),at=nt(34)("winston:exception"),st=nt(87),lt=nt(88),ct=nt(89);tt.exports=function(){function ft(dt){if(function(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}(this,ft),!dt)throw new Error("Logger is required to handle exceptions");this.logger=dt,this.handlers=new Map}var ut;return(ut=[{key:"handle",value:function(){for(var dt=this,ht=arguments.length,pt=new Array(ht),gt=0;gt<ht;gt++)pt[gt]=arguments[gt];pt.forEach(function(mt){if(Array.isArray(mt))return mt.forEach(function(yt){return dt._addHandler(yt)});dt._addHandler(mt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),rt.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var dt=this;this.catcher&&(rt.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(ht){return dt.logger.unpipe(ht)}))}},{key:"getAllInfo",value:function(dt){var ht=dt.message;return ht||typeof dt!="string"||(ht=dt),{error:dt,level:"error",message:["uncaughtException: ".concat(ht||"(no error message)"),dt.stack||"  No stack trace"].join(`
`),stack:dt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(dt)}}},{key:"getProcessInfo",value:function(){return{pid:rt.pid,uid:rt.getuid?rt.getuid():null,gid:rt.getgid?rt.getgid():null,cwd:rt.cwd(),execPath:rt.execPath,version:rt.version,argv:rt.argv,memoryUsage:rt.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:it.loadavg(),uptime:it.uptime()}}},{key:"getTrace",value:function(dt){return(dt?lt.parse(dt):lt.get()).map(function(ht){return{column:ht.getColumnNumber(),file:ht.getFileName(),function:ht.getFunctionName(),line:ht.getLineNumber(),method:ht.getMethodName(),native:ht.isNative()}})}},{key:"_addHandler",value:function(dt){if(!this.handlers.has(dt)){dt.handleExceptions=!0;var ht=new ct(dt);this.handlers.set(dt,ht),this.logger.pipe(ht)}}},{key:"_uncaughtException",value:function(dt){var ht,pt=this.getAllInfo(dt),gt=this._getExceptionHandlers(),mt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(dt):this.logger.exitOnError;function yt(){at("doExit",mt),at("process._exiting",rt._exiting),mt&&!rt._exiting&&(ht&&clearTimeout(ht),rt.exit(1))}if(!gt.length&&mt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),mt=!1),!gt||gt.length===0)return rt.nextTick(yt);ot(gt,function(bt,St){var xt=st(St),vt=bt.transport||bt;function $t(zt){return function(){at(zt),xt()}}vt._ending=!0,vt.once("finish",$t("finished")),vt.once("error",$t("error"))},function(){return mt&&yt()}),this.logger.log(pt),mt&&(ht=setTimeout(yt,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(dt){return(dt.transport||dt).handleExceptions})}}])&&function(dt,ht){for(var pt=0;pt<ht.length;pt++){var gt=ht[pt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(dt,gt.key,gt)}}(ft.prototype,ut),ft}()}).call(this,nt(2))},function(tt,et,nt){var rt=nt(204);tt.exports=function(it){var ot,at=0;function st(){return at||(at=1,ot=it.apply(this,arguments),it=null),ot}return st.displayName=rt(it),st}},function(tt,et){function nt(rt){for(var it in rt)this[it]=rt[it]}et.get=function(rt){var it=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var ot={},at=Error.prepareStackTrace;Error.prepareStackTrace=function(lt,ct){return ct},Error.captureStackTrace(ot,rt||et.get);var st=ot.stack;return Error.prepareStackTrace=at,Error.stackTraceLimit=it,st},et.parse=function(rt){if(!rt.stack)return[];var it=this;return rt.stack.split(`
`).slice(1).map(function(ot){if(ot.match(/^\s*[-]{4,}$/))return it._createParsedCallSite({fileName:ot,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var at=ot.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(at){var st=null,lt=null,ct=null,ft=null,ut=null,dt=at[5]==="native";if(at[1]){var ht=(ct=at[1]).lastIndexOf(".");if(ct[ht-1]=="."&&ht--,ht>0){st=ct.substr(0,ht),lt=ct.substr(ht+1);var pt=st.indexOf(".Module");pt>0&&(ct=ct.substr(pt+1),st=st.substr(0,pt))}ft=null}lt&&(ft=st,ut=lt),lt==="<anonymous>"&&(ut=null,ct=null);var gt={fileName:at[2]||null,lineNumber:parseInt(at[3],10)||null,functionName:ct,typeName:ft,methodName:ut,columnNumber:parseInt(at[4],10)||null,native:dt};return it._createParsedCallSite(gt)}}).filter(function(ot){return!!ot})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(rt){nt.prototype[rt]=null,nt.prototype["get"+rt[0].toUpperCase()+rt.substr(1)]=function(){return this[rt]}}),["topLevel","eval","native","constructor"].forEach(function(rt){nt.prototype[rt]=!1,nt.prototype["is"+rt[0].toUpperCase()+rt.substr(1)]=function(){return this[rt]}}),et._createParsedCallSite=function(rt){return new nt(rt)}},function(tt,et,nt){function rt(lt){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct})(lt)}function it(lt,ct){return(it=Object.setPrototypeOf||function(ft,ut){return ft.__proto__=ut,ft})(lt,ct)}function ot(lt,ct){return!ct||rt(ct)!=="object"&&typeof ct!="function"?function(ft){if(ft===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft}(lt):ct}function at(lt){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(ct){return ct.__proto__||Object.getPrototypeOf(ct)})(lt)}var st=nt(29).Writable;tt.exports=function(lt){(function(dt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),ht&&it(dt,ht)})(ut,lt);var ct,ft=function(dt){var ht=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var pt,gt=at(dt);if(ht){var mt=at(this).constructor;pt=Reflect.construct(gt,arguments,mt)}else pt=gt.apply(this,arguments);return ot(this,pt)}}(ut);function ut(dt){var ht;if(function(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,ut),ht=ft.call(this,{objectMode:!0}),!dt)throw new Error("ExceptionStream requires a TransportStream instance.");return ht.handleExceptions=!0,ht.transport=dt,ht}return(ct=[{key:"_write",value:function(dt,ht,pt){return dt.exception?this.transport.log(dt,pt):(pt(),!0)}}])&&function(dt,ht){for(var pt=0;pt<ht.length;pt++){var gt=ht[pt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(dt,gt.key,gt)}}(ut.prototype,ct),ut}(st)},function(tt,et,nt){(function(rt){var it=nt(15),ot=nt(48),at=nt(34)("winston:rejection"),st=nt(87),lt=nt(88),ct=nt(89);tt.exports=function(){function ft(dt){if(function(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}(this,ft),!dt)throw new Error("Logger is required to handle rejections");this.logger=dt,this.handlers=new Map}var ut;return(ut=[{key:"handle",value:function(){for(var dt=this,ht=arguments.length,pt=new Array(ht),gt=0;gt<ht;gt++)pt[gt]=arguments[gt];pt.forEach(function(mt){if(Array.isArray(mt))return mt.forEach(function(yt){return dt._addHandler(yt)});dt._addHandler(mt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),rt.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var dt=this;this.catcher&&(rt.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(ht){return dt.logger.unpipe(ht)}))}},{key:"getAllInfo",value:function(dt){var ht=dt.message;return ht||typeof dt!="string"||(ht=dt),{error:dt,level:"error",message:["unhandledRejection: ".concat(ht||"(no error message)"),dt.stack||"  No stack trace"].join(`
`),stack:dt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(dt)}}},{key:"getProcessInfo",value:function(){return{pid:rt.pid,uid:rt.getuid?rt.getuid():null,gid:rt.getgid?rt.getgid():null,cwd:rt.cwd(),execPath:rt.execPath,version:rt.version,argv:rt.argv,memoryUsage:rt.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:it.loadavg(),uptime:it.uptime()}}},{key:"getTrace",value:function(dt){return(dt?lt.parse(dt):lt.get()).map(function(ht){return{column:ht.getColumnNumber(),file:ht.getFileName(),function:ht.getFunctionName(),line:ht.getLineNumber(),method:ht.getMethodName(),native:ht.isNative()}})}},{key:"_addHandler",value:function(dt){if(!this.handlers.has(dt)){dt.handleRejections=!0;var ht=new ct(dt);this.handlers.set(dt,ht),this.logger.pipe(ht)}}},{key:"_unhandledRejection",value:function(dt){var ht,pt=this.getAllInfo(dt),gt=this._getRejectionHandlers(),mt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(dt):this.logger.exitOnError;function yt(){at("doExit",mt),at("process._exiting",rt._exiting),mt&&!rt._exiting&&(ht&&clearTimeout(ht),rt.exit(1))}if(!gt.length&&mt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),mt=!1),!gt||gt.length===0)return rt.nextTick(yt);ot(gt,function(bt,St){var xt=st(St),vt=bt.transport||bt;function $t(zt){return function(){at(zt),xt()}}vt._ending=!0,vt.once("finish",$t("finished")),vt.once("error",$t("error"))},function(){return mt&&yt()}),this.logger.log(pt),mt&&(ht=setTimeout(yt,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(dt){return(dt.transport||dt).handleRejections})}}])&&function(dt,ht){for(var pt=0;pt<ht.length;pt++){var gt=ht[pt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(dt,gt.key,gt)}}(ft.prototype,ut),ft}()}).call(this,nt(2))},function(tt,et,nt){const rt=nt(50);tt.exports=function(it){const ot=rt(it);if(ot<0)throw new Error("should be a positive integer");return ot}},function(tt,et,nt){const rt=nt(46).URL,it=nt(35);tt.exports=function(ot){const at=it(ot);try{return new rt(at)}catch{throw new Error("should be a valid URL")}}},function(tt,et,nt){const rt={};rt.web=nt(22),nt(94);const it={v1:{}};it.v1.signaling={},it.v1.signaling.api=nt(8),it.v1.signaling.api.SignalingClient=function(dt,ht,pt){pt||(pt={}),pt.format="text",this.client_=new rt.web.GrpcWebClientBase(pt),this.hostname_=dt},it.v1.signaling.api.SignalingPromiseClient=function(dt,ht,pt){pt||(pt={}),pt.format="text",this.client_=new rt.web.GrpcWebClientBase(pt),this.hostname_=dt};const ot=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",rt.web.MethodType.UNARY,it.v1.signaling.api.CreatePeerRequest,it.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.CreatePeerResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.CreatePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.CreatePeerResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.createPeer=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ht||{},ot,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",dt,ht||{},ot)};const at=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",rt.web.MethodType.UNARY,it.v1.signaling.api.DeletePeerRequest,it.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.DeletePeerResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.DeletePeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.DeletePeerResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.deletePeer=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ht||{},at,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",dt,ht||{},at)};const st=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",rt.web.MethodType.UNARY,it.v1.signaling.api.RefreshPeerRequest,it.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.RefreshPeerResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.RefreshPeerResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ht||{},st,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",dt,ht||{},st)};const lt=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",rt.web.MethodType.UNARY,it.v1.signaling.api.GetPeersRequest,it.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetPeersResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.GetPeersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetPeersResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.getPeers=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ht||{},lt,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",dt,ht||{},lt)};const ct=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",rt.web.MethodType.UNARY,it.v1.signaling.api.GetIceServersRequest,it.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetIceServersResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.GetIceServersResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.GetIceServersResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.getIceServers=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ht||{},ct,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",dt,ht||{},ct)};const ft=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",rt.web.MethodType.UNARY,it.v1.signaling.api.SendSignalRequest,it.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.SendSignalResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.SendSignalResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.SendSignalResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.sendSignal=function(dt,ht,pt){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ht||{},ft,pt)},it.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(dt,ht){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",dt,ht||{},ft)};const ut=new rt.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",rt.web.MethodType.SERVER_STREAMING,it.v1.signaling.api.ReceiveSignalStreamRequest,it.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new rt.web.AbstractClientBase.MethodInfo(it.v1.signaling.api.ReceiveSignalStreamResponse,function(dt){return dt.serializeBinary()},it.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),it.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(dt,ht){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ht||{},ut)},it.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(dt,ht){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",dt,ht||{},ut)},tt.exports=it.v1.signaling.api},function(tt,et,nt){var rt=nt(95),it=rt,ot=Function("return this")();it.exportSymbol("proto.google.protobuf.BoolValue",null,ot),it.exportSymbol("proto.google.protobuf.BytesValue",null,ot),it.exportSymbol("proto.google.protobuf.DoubleValue",null,ot),it.exportSymbol("proto.google.protobuf.FloatValue",null,ot),it.exportSymbol("proto.google.protobuf.Int32Value",null,ot),it.exportSymbol("proto.google.protobuf.Int64Value",null,ot),it.exportSymbol("proto.google.protobuf.StringValue",null,ot),it.exportSymbol("proto.google.protobuf.UInt32Value",null,ot),it.exportSymbol("proto.google.protobuf.UInt64Value",null,ot),proto.google.protobuf.DoubleValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.DoubleValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.FloatValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.Int64Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.UInt64Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.Int32Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.UInt32Value,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.BoolValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.StringValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(at){rt.Message.initialize(this,at,0,-1,null,null)},it.inherits(proto.google.protobuf.BytesValue,rt.Message),it.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(at){return proto.google.protobuf.DoubleValue.toObject(at,this)},proto.google.protobuf.DoubleValue.toObject=function(at,st){var lt={value:rt.Message.getFloatingPointFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.DoubleValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readDouble();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeDouble(1,lt)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return rt.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(at){return rt.Message.setProto3FloatField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(at){return proto.google.protobuf.FloatValue.toObject(at,this)},proto.google.protobuf.FloatValue.toObject=function(at,st){var lt={value:rt.Message.getFloatingPointFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.FloatValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readFloat();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeFloat(1,lt)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return rt.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(at){return rt.Message.setProto3FloatField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(at){return proto.google.protobuf.Int64Value.toObject(at,this)},proto.google.protobuf.Int64Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.Int64Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readInt64();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeInt64(1,lt)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(at){return proto.google.protobuf.UInt64Value.toObject(at,this)},proto.google.protobuf.UInt64Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.UInt64Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readUint64();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeUint64(1,lt)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(at){return proto.google.protobuf.Int32Value.toObject(at,this)},proto.google.protobuf.Int32Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.Int32Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readInt32();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeInt32(1,lt)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(at){return proto.google.protobuf.UInt32Value.toObject(at,this)},proto.google.protobuf.UInt32Value.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,0)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.UInt32Value.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readUint32();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())!==0&&st.writeUint32(1,lt)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(at){return rt.Message.setProto3IntField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(at){return proto.google.protobuf.BoolValue.toObject(at,this)},proto.google.protobuf.BoolValue.toObject=function(at,st){var lt={value:rt.Message.getBooleanFieldWithDefault(st,1,!1)};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.BoolValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readBool();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue())&&st.writeBool(1,lt)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return rt.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(at){return rt.Message.setProto3BooleanField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(at){return proto.google.protobuf.StringValue.toObject(at,this)},proto.google.protobuf.StringValue.toObject=function(at,st){var lt={value:rt.Message.getFieldWithDefault(st,1,"")};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.StringValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readString();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue()).length>0&&st.writeString(1,lt)},proto.google.protobuf.StringValue.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(at){return rt.Message.setProto3StringField(this,1,at)},rt.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(at){return proto.google.protobuf.BytesValue.toObject(at,this)},proto.google.protobuf.BytesValue.toObject=function(at,st){var lt={value:st.getValue_asB64()};return at&&(lt.$jspbMessageInstance=st),lt}),proto.google.protobuf.BytesValue.deserializeBinary=function(at){var st=new rt.BinaryReader(at),lt=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(lt,st)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(at,st){for(;st.nextField()&&!st.isEndGroup();)switch(st.getFieldNumber()){case 1:var lt=st.readBytes();at.setValue(lt);break;default:st.skipField()}return at},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var at=new rt.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,at),at.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(at,st){var lt;(lt=at.getValue_asU8()).length>0&&st.writeBytes(1,lt)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return rt.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return rt.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return rt.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(at){return rt.Message.setProto3BytesField(this,1,at)},it.object.extend(et,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(tt,et,nt){tt instanceof String&&(tt=String(tt));for(var rt=tt.length,it=0;it<rt;it++){var ot=tt[it];if(et.call(nt,ot,it,tt))return{i:it,v:ot}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(tt,et,nt){tt!=Array.prototype&&tt!=Object.prototype&&(tt[et]=nt.value)},$jscomp.getGlobal=function(tt){return typeof window!="undefined"&&window===tt?tt:global!==void 0&&global!=null?global:tt},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(tt,et,nt,rt){if(et){for(nt=$jscomp.global,tt=tt.split("."),rt=0;rt<tt.length-1;rt++){var it=tt[rt];it in nt||(nt[it]={}),nt=nt[it]}(et=et(rt=nt[tt=tt[tt.length-1]]))!=rt&&et!=null&&$jscomp.defineProperty(nt,tt,{configurable:!0,writable:!0,value:et})}},$jscomp.polyfill("Array.prototype.findIndex",function(tt){return tt||function(et,nt){return $jscomp.findInternal(this,et,nt).i}},"es6","es3"),$jscomp.checkStringArgs=function(tt,et,nt){if(tt==null)throw new TypeError("The 'this' value for String.prototype."+nt+" must not be null or undefined");if(et instanceof RegExp)throw new TypeError("First argument to String.prototype."+nt+" must not be a regular expression");return tt+""},$jscomp.polyfill("String.prototype.endsWith",function(tt){return tt||function(et,nt){var rt=$jscomp.checkStringArgs(this,et,"endsWith");et+="",nt===void 0&&(nt=rt.length),nt=Math.max(0,Math.min(0|nt,rt.length));for(var it=et.length;0<it&&0<nt;)if(rt[--nt]!=et[--it])return!1;return 0>=it}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(tt){return tt||function(et,nt){return $jscomp.findInternal(this,et,nt).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(tt){return tt||function(et,nt){var rt=$jscomp.checkStringArgs(this,et,"startsWith");et+="";var it=rt.length,ot=et.length;nt=Math.max(0,Math.min(0|nt,rt.length));for(var at=0;at<ot&&nt<it;)if(rt[nt++]!=et[at++])return!1;return at>=ot}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(tt){return tt||function(et){var nt=$jscomp.checkStringArgs(this,null,"repeat");if(0>et||1342177279<et)throw new RangeError("Invalid count value");et|=0;for(var rt="";et;)1&et&&(rt+=nt),(et>>>=1)&&(nt+=nt);return rt}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(tt){return tt!==void 0},goog.isString=function(tt){return typeof tt=="string"},goog.isBoolean=function(tt){return typeof tt=="boolean"},goog.isNumber=function(tt){return typeof tt=="number"},goog.exportPath_=function(tt,et,nt){tt=tt.split("."),nt=nt||goog.global,tt[0]in nt||nt.execScript===void 0||nt.execScript("var "+tt[0]);for(var rt;tt.length&&(rt=tt.shift());)!tt.length&&goog.isDef(et)?nt[rt]=et:nt=nt[rt]&&nt[rt]!==Object.prototype[rt]?nt[rt]:nt[rt]={}},goog.define=function(tt,et){return et},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(tt){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(tt)},goog.constructNamespace_=function(tt,et){goog.exportPath_(tt,et)},goog.getScriptNonce=function(tt){return tt&&tt!=goog.global?goog.getScriptNonce_(tt.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(tt){return(tt=tt.querySelector&&tt.querySelector("script[nonce]"))&&(tt=tt.nonce||tt.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(tt)?tt:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(tt){if(!goog.isString(tt)||!tt||tt.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+tt+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=tt},goog.module.get=function(tt){return goog.module.getInternal_(tt)},goog.module.getInternal_=function(tt){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var tt=goog.global.$jscomp;return!!tt&&typeof tt.getCurrentModulePath=="function"&&!!tt.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(tt){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=tt;else{var et=goog.global.$jscomp;if(!et||typeof et.getCurrentModulePath!="function")throw Error('Module with namespace "'+tt+'" has been loaded incorrectly.');et=et.require(et.getCurrentModulePath()),goog.loadedModules_[tt]={exports:et,type:goog.ModuleType.ES6,moduleId:tt}}},goog.setTestOnly=function(tt){if(goog.DISALLOW_TEST_ONLY_CODE)throw tt=tt||"",Error("Importing test-only code into non-debug environment"+(tt?": "+tt:"."))},goog.forwardDeclare=function(tt){},goog.getObjectByName=function(tt,et){tt=tt.split("."),et=et||goog.global;for(var nt=0;nt<tt.length;nt++)if(et=et[tt[nt]],!goog.isDefAndNotNull(et))return null;return et},goog.globalize=function(tt,et){for(var nt in et=et||goog.global,tt)et[nt]=tt[nt]},goog.addDependency=function(tt,et,nt,rt){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(tt){goog.global.console&&goog.global.console.error(tt)},goog.require=function(tt){},goog.requireType=function(tt){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(tt){tt.instance_=void 0,tt.getInstance=function(){return tt.instance_?tt.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=tt),tt.instance_=new tt)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(tt){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(tt){return"(function(){"+tt+`
;})();
`},goog.loadModule=function(tt){var et=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(tt))var nt=tt.call(void 0,{});else{if(!goog.isString(tt))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(tt=goog.workaroundSafari10EvalBug(tt)),nt=goog.loadModuleFromSource_.call(void 0,tt)}var rt=goog.moduleLoaderState_.moduleName;if(!goog.isString(rt)||!rt)throw Error('Invalid module name "'+rt+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(rt,nt):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof nt=="object"&&nt!=null&&Object.seal(nt),goog.loadedModules_[rt]={exports:nt,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=et}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(tt){tt=tt.split("/");for(var et=0;et<tt.length;)tt[et]=="."?tt.splice(et,1):et&&tt[et]==".."&&tt[et-1]&&tt[et-1]!=".."?tt.splice(--et,2):et++;return tt.join("/")},goog.loadFileSync_=function(tt){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(tt);try{var et=new goog.global.XMLHttpRequest;return et.open("get",tt,!1),et.send(),et.status==0||et.status==200?et.responseText:null}catch{return null}},goog.transpile_=function(tt,et,nt){var rt=goog.global.$jscomp;rt||(goog.global.$jscomp=rt={});var it=rt.transpile;if(!it){var ot=goog.basePath+goog.TRANSPILER,at=goog.loadFileSync_(ot);if(at){if(function(){(0,eval)(at+`
//# sourceURL=`+ot)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,it=(rt=goog.global.$jscomp).transpile}}return it||(it=rt.transpile=function(st,lt){return goog.logToConsole_(lt+" requires transpilation but no transpiler was found."),st}),it(tt,et,nt)},goog.typeOf=function(tt){var et=typeof tt;if(et=="object"){if(!tt)return"null";if(tt instanceof Array)return"array";if(tt instanceof Object)return et;var nt=Object.prototype.toString.call(tt);if(nt=="[object Window]")return"object";if(nt=="[object Array]"||typeof tt.length=="number"&&tt.splice!==void 0&&tt.propertyIsEnumerable!==void 0&&!tt.propertyIsEnumerable("splice"))return"array";if(nt=="[object Function]"||tt.call!==void 0&&tt.propertyIsEnumerable!==void 0&&!tt.propertyIsEnumerable("call"))return"function"}else if(et=="function"&&tt.call===void 0)return"object";return et},goog.isNull=function(tt){return tt===null},goog.isDefAndNotNull=function(tt){return tt!=null},goog.isArray=function(tt){return goog.typeOf(tt)=="array"},goog.isArrayLike=function(tt){var et=goog.typeOf(tt);return et=="array"||et=="object"&&typeof tt.length=="number"},goog.isDateLike=function(tt){return goog.isObject(tt)&&typeof tt.getFullYear=="function"},goog.isFunction=function(tt){return goog.typeOf(tt)=="function"},goog.isObject=function(tt){var et=typeof tt;return et=="object"&&tt!=null||et=="function"},goog.getUid=function(tt){return tt[goog.UID_PROPERTY_]||(tt[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(tt){return!!tt[goog.UID_PROPERTY_]},goog.removeUid=function(tt){tt!==null&&"removeAttribute"in tt&&tt.removeAttribute(goog.UID_PROPERTY_);try{delete tt[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(tt){var et=goog.typeOf(tt);if(et=="object"||et=="array"){if(typeof tt.clone=="function")return tt.clone();for(var nt in et=et=="array"?[]:{},tt)et[nt]=goog.cloneObject(tt[nt]);return et}return tt},goog.bindNative_=function(tt,et,nt){return tt.call.apply(tt.bind,arguments)},goog.bindJs_=function(tt,et,nt){if(!tt)throw Error();if(2<arguments.length){var rt=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,rt),tt.apply(et,it)}}return function(){return tt.apply(et,arguments)}},goog.bind=function(tt,et,nt){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(tt,et){var nt=Array.prototype.slice.call(arguments,1);return function(){var rt=nt.slice();return rt.push.apply(rt,arguments),tt.apply(this,rt)}},goog.mixin=function(tt,et){for(var nt in et)tt[nt]=et[nt]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(tt){if(goog.global.execScript)goog.global.execScript(tt,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(tt);else{var et=goog.global.document,nt=et.createElement("SCRIPT");nt.type="text/javascript",nt.defer=!1,nt.appendChild(et.createTextNode(tt)),et.head.appendChild(nt),et.head.removeChild(nt)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(tt,et){if(String(tt).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+tt);var nt=function(it){return goog.cssNameMapping_[it]||it},rt=function(it){it=it.split("-");for(var ot=[],at=0;at<it.length;at++)ot.push(nt(it[at]));return ot.join("-")};return rt=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?nt:rt:function(it){return it},tt=et?tt+"-"+rt(et):rt(tt),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(tt):tt},goog.setCssNameMapping=function(tt,et){goog.cssNameMapping_=tt,goog.cssNameMappingStyle_=et},goog.getMsg=function(tt,et,nt){return nt&&nt.html&&(tt=tt.replace(/</g,"&lt;")),et&&(tt=tt.replace(/\{\$([^}]+)}/g,function(rt,it){return et!=null&&it in et?et[it]:rt})),tt},goog.getMsgWithFallback=function(tt,et){return tt},goog.exportSymbol=function(tt,et,nt){goog.exportPath_(tt,et,nt)},goog.exportProperty=function(tt,et,nt){tt[et]=nt},goog.inherits=function(tt,et){function nt(){}nt.prototype=et.prototype,tt.superClass_=et.prototype,tt.prototype=new nt,tt.prototype.constructor=tt,tt.base=function(rt,it,ot){for(var at=Array(arguments.length-2),st=2;st<arguments.length;st++)at[st-2]=arguments[st];return et.prototype[it].apply(rt,at)}},goog.base=function(tt,et,nt){var rt=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!rt)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(rt.superClass_!==void 0){for(var it=Array(arguments.length-1),ot=1;ot<arguments.length;ot++)it[ot-1]=arguments[ot];return rt.superClass_.constructor.apply(tt,it)}if(typeof et!="string"&&typeof et!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for(it=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)it[ot-2]=arguments[ot];ot=!1;for(var at=tt.constructor.prototype;at;at=Object.getPrototypeOf(at))if(at[et]===rt)ot=!0;else if(ot)return at[et].apply(tt,it);if(tt[et]===rt)return tt.constructor.prototype[et].apply(tt,it);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(tt){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");tt.call(goog.global)},goog.defineClass=function(tt,et){var nt=et.constructor,rt=et.statics;return nt&&nt!=Object.prototype.constructor||(nt=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),nt=goog.defineClass.createSealingConstructor_(nt,tt),tt&&goog.inherits(nt,tt),delete et.constructor,delete et.statics,goog.defineClass.applyProperties_(nt.prototype,et),rt!=null&&(rt instanceof Function?rt(nt):goog.defineClass.applyProperties_(nt,rt)),nt},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(tt,et){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return tt;var nt=!goog.defineClass.isUnsealable_(et),rt=function(){var it=tt.apply(this,arguments)||this;return it[goog.UID_PROPERTY_]=it[goog.UID_PROPERTY_],this.constructor===rt&&nt&&Object.seal instanceof Function&&Object.seal(it),it};return rt},goog.defineClass.isUnsealable_=function(tt){return tt&&tt.prototype&&tt.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(tt,et){for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(tt[nt]=et[nt]);for(var rt=0;rt<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;rt++)nt=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[rt],Object.prototype.hasOwnProperty.call(et,nt)&&(tt[nt]=et[nt])},goog.tagUnsealableClass=function(tt){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(tt){return tt},goog.createTrustedTypesPolicy=function(tt){var et=null;if(typeof TrustedTypes=="undefined"||!TrustedTypes.createPolicy)return et;try{et=TrustedTypes.createPolicy(tt,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(nt){goog.logToConsole_(nt.message)}return et},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(tt){var et=jspb.BinaryConstants.FieldType,nt=jspb.BinaryConstants.WireType;switch(tt){case et.INT32:case et.INT64:case et.UINT32:case et.UINT64:case et.SINT32:case et.SINT64:case et.BOOL:case et.ENUM:case et.VHASH64:return nt.VARINT;case et.DOUBLE:case et.FIXED64:case et.SFIXED64:case et.FHASH64:return nt.FIXED64;case et.STRING:case et.MESSAGE:case et.BYTES:return nt.DELIMITED;case et.FLOAT:case et.FIXED32:case et.SFIXED32:return nt.FIXED32;default:return nt.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(tt){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var et=Error().stack;et&&(this.stack=et)}tt&&(this.message=String(tt)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(tt,et){goog.debug.Error.call(this,goog.asserts.subs_(tt,et)),this.messagePattern=tt},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(tt){throw tt},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(tt,et){for(var nt="",rt=(tt=tt.split("%s")).length-1,it=0;it<rt;it++)nt+=tt[it]+(it<et.length?et[it]:"%s");return nt+tt[rt]},goog.asserts.doAssertFailure_=function(tt,et,nt,rt){var it="Assertion failed";if(nt){it+=": "+nt;var ot=rt}else tt&&(it+=": "+tt,ot=et);tt=new goog.asserts.AssertionError(""+it,ot||[]),goog.asserts.errorHandler_(tt)},goog.asserts.setErrorHandler=function(tt){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=tt)},goog.asserts.assert=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!tt&&goog.asserts.doAssertFailure_("",null,et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertExists=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&tt==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.fail=function(tt,et){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(tt?": "+tt:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(tt)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertString=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(tt)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertFunction=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(tt)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertObject=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(tt)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertArray=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(tt)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertBoolean=function(tt,et,nt){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(tt)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertElement=function(tt,et,nt){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(tt)&&tt.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(tt),tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertInstanceof=function(tt,et,nt,rt){return!goog.asserts.ENABLE_ASSERTS||tt instanceof et||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(et),goog.asserts.getType_(tt)],nt,Array.prototype.slice.call(arguments,3)),tt},goog.asserts.assertFinite=function(tt,et,nt){return!goog.asserts.ENABLE_ASSERTS||typeof tt=="number"&&isFinite(tt)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[tt],et,Array.prototype.slice.call(arguments,2)),tt},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var tt in Object.prototype)goog.asserts.fail(tt+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(tt){return tt instanceof Function?tt.displayName||tt.name||"unknown type name":tt instanceof Object?tt.constructor.displayName||tt.constructor.name||Object.prototype.toString.call(tt):tt===null?"null":typeof tt},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(tt){return tt[tt.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.indexOf.call(tt,et,nt)}:function(tt,et,nt){if(nt=nt==null?0:0>nt?Math.max(0,tt.length+nt):nt,goog.isString(tt))return goog.isString(et)&&et.length==1?tt.indexOf(et,nt):-1;for(;nt<tt.length;nt++)if(nt in tt&&tt[nt]===et)return nt;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.lastIndexOf.call(tt,et,nt==null?tt.length-1:nt)}:function(tt,et,nt){if(0>(nt=nt==null?tt.length-1:nt)&&(nt=Math.max(0,tt.length+nt)),goog.isString(tt))return goog.isString(et)&&et.length==1?tt.lastIndexOf(et,nt):-1;for(;0<=nt;nt--)if(nt in tt&&tt[nt]===et)return nt;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(tt,et,nt){goog.asserts.assert(tt.length!=null),Array.prototype.forEach.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)ot in it&&et.call(nt,it[ot],ot,tt)},goog.array.forEachRight=function(tt,et,nt){var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt;for(--rt;0<=rt;--rt)rt in it&&et.call(nt,it[rt],rt,tt)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.filter.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=[],ot=0,at=goog.isString(tt)?tt.split(""):tt,st=0;st<rt;st++)if(st in at){var lt=at[st];et.call(nt,lt,st,tt)&&(it[ot++]=lt)}return it},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.map.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=Array(rt),ot=goog.isString(tt)?tt.split(""):tt,at=0;at<rt;at++)at in ot&&(it[at]=et.call(nt,ot[at],at,tt));return it},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(tt,et,nt,rt){return goog.asserts.assert(tt.length!=null),rt&&(et=goog.bind(et,rt)),Array.prototype.reduce.call(tt,et,nt)}:function(tt,et,nt,rt){var it=nt;return goog.array.forEach(tt,function(ot,at){it=et.call(rt,it,ot,at,tt)}),it},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(tt,et,nt,rt){return goog.asserts.assert(tt.length!=null),goog.asserts.assert(et!=null),rt&&(et=goog.bind(et,rt)),Array.prototype.reduceRight.call(tt,et,nt)}:function(tt,et,nt,rt){var it=nt;return goog.array.forEachRight(tt,function(ot,at){it=et.call(rt,it,ot,at,tt)}),it},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.some.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)if(ot in it&&et.call(nt,it[ot],ot,tt))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(tt,et,nt){return goog.asserts.assert(tt.length!=null),Array.prototype.every.call(tt,et,nt)}:function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)if(ot in it&&!et.call(nt,it[ot],ot,tt))return!1;return!0},goog.array.count=function(tt,et,nt){var rt=0;return goog.array.forEach(tt,function(it,ot,at){et.call(nt,it,ot,at)&&++rt},nt),rt},goog.array.find=function(tt,et,nt){return 0>(et=goog.array.findIndex(tt,et,nt))?null:goog.isString(tt)?tt.charAt(et):tt[et]},goog.array.findIndex=function(tt,et,nt){for(var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt,ot=0;ot<rt;ot++)if(ot in it&&et.call(nt,it[ot],ot,tt))return ot;return-1},goog.array.findRight=function(tt,et,nt){return 0>(et=goog.array.findIndexRight(tt,et,nt))?null:goog.isString(tt)?tt.charAt(et):tt[et]},goog.array.findIndexRight=function(tt,et,nt){var rt=tt.length,it=goog.isString(tt)?tt.split(""):tt;for(--rt;0<=rt;rt--)if(rt in it&&et.call(nt,it[rt],rt,tt))return rt;return-1},goog.array.contains=function(tt,et){return 0<=goog.array.indexOf(tt,et)},goog.array.isEmpty=function(tt){return tt.length==0},goog.array.clear=function(tt){if(!goog.isArray(tt))for(var et=tt.length-1;0<=et;et--)delete tt[et];tt.length=0},goog.array.insert=function(tt,et){goog.array.contains(tt,et)||tt.push(et)},goog.array.insertAt=function(tt,et,nt){goog.array.splice(tt,nt,0,et)},goog.array.insertArrayAt=function(tt,et,nt){goog.partial(goog.array.splice,tt,nt,0).apply(null,et)},goog.array.insertBefore=function(tt,et,nt){var rt;arguments.length==2||0>(rt=goog.array.indexOf(tt,nt))?tt.push(et):goog.array.insertAt(tt,et,rt)},goog.array.remove=function(tt,et){var nt;return(nt=0<=(et=goog.array.indexOf(tt,et)))&&goog.array.removeAt(tt,et),nt},goog.array.removeLast=function(tt,et){return 0<=(et=goog.array.lastIndexOf(tt,et))&&(goog.array.removeAt(tt,et),!0)},goog.array.removeAt=function(tt,et){return goog.asserts.assert(tt.length!=null),Array.prototype.splice.call(tt,et,1).length==1},goog.array.removeIf=function(tt,et,nt){return 0<=(et=goog.array.findIndex(tt,et,nt))&&(goog.array.removeAt(tt,et),!0)},goog.array.removeAllIf=function(tt,et,nt){var rt=0;return goog.array.forEachRight(tt,function(it,ot){et.call(nt,it,ot,tt)&&goog.array.removeAt(tt,ot)&&rt++}),rt},goog.array.concat=function(tt){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(tt){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(tt){var et=tt.length;if(0<et){for(var nt=Array(et),rt=0;rt<et;rt++)nt[rt]=tt[rt];return nt}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(tt,et){for(var nt=1;nt<arguments.length;nt++){var rt=arguments[nt];if(goog.isArrayLike(rt)){var it=tt.length||0,ot=rt.length||0;tt.length=it+ot;for(var at=0;at<ot;at++)tt[it+at]=rt[at]}else tt.push(rt)}},goog.array.splice=function(tt,et,nt,rt){return goog.asserts.assert(tt.length!=null),Array.prototype.splice.apply(tt,goog.array.slice(arguments,1))},goog.array.slice=function(tt,et,nt){return goog.asserts.assert(tt.length!=null),2>=arguments.length?Array.prototype.slice.call(tt,et):Array.prototype.slice.call(tt,et,nt)},goog.array.removeDuplicates=function(tt,et,nt){et=et||tt;var rt=function(lt){return goog.isObject(lt)?"o"+goog.getUid(lt):(typeof lt).charAt(0)+lt};nt=nt||rt,rt={};for(var it=0,ot=0;ot<tt.length;){var at=tt[ot++],st=nt(at);Object.prototype.hasOwnProperty.call(rt,st)||(rt[st]=!0,et[it++]=at)}et.length=it},goog.array.binarySearch=function(tt,et,nt){return goog.array.binarySearch_(tt,nt||goog.array.defaultCompare,!1,et)},goog.array.binarySelect=function(tt,et,nt){return goog.array.binarySearch_(tt,et,!0,void 0,nt)},goog.array.binarySearch_=function(tt,et,nt,rt,it){for(var ot,at=0,st=tt.length;at<st;){var lt=at+st>>1,ct=nt?et.call(it,tt[lt],lt,tt):et(rt,tt[lt]);0<ct?at=lt+1:(st=lt,ot=!ct)}return ot?at:~at},goog.array.sort=function(tt,et){tt.sort(et||goog.array.defaultCompare)},goog.array.stableSort=function(tt,et){for(var nt=Array(tt.length),rt=0;rt<tt.length;rt++)nt[rt]={index:rt,value:tt[rt]};var it=et||goog.array.defaultCompare;for(goog.array.sort(nt,function(ot,at){return it(ot.value,at.value)||ot.index-at.index}),rt=0;rt<tt.length;rt++)tt[rt]=nt[rt].value},goog.array.sortByKey=function(tt,et,nt){var rt=nt||goog.array.defaultCompare;goog.array.sort(tt,function(it,ot){return rt(et(it),et(ot))})},goog.array.sortObjectsByKey=function(tt,et,nt){goog.array.sortByKey(tt,function(rt){return rt[et]},nt)},goog.array.isSorted=function(tt,et,nt){et=et||goog.array.defaultCompare;for(var rt=1;rt<tt.length;rt++){var it=et(tt[rt-1],tt[rt]);if(0<it||it==0&&nt)return!1}return!0},goog.array.equals=function(tt,et,nt){if(!goog.isArrayLike(tt)||!goog.isArrayLike(et)||tt.length!=et.length)return!1;var rt=tt.length;nt=nt||goog.array.defaultCompareEquality;for(var it=0;it<rt;it++)if(!nt(tt[it],et[it]))return!1;return!0},goog.array.compare3=function(tt,et,nt){nt=nt||goog.array.defaultCompare;for(var rt=Math.min(tt.length,et.length),it=0;it<rt;it++){var ot=nt(tt[it],et[it]);if(ot!=0)return ot}return goog.array.defaultCompare(tt.length,et.length)},goog.array.defaultCompare=function(tt,et){return tt>et?1:tt<et?-1:0},goog.array.inverseDefaultCompare=function(tt,et){return-goog.array.defaultCompare(tt,et)},goog.array.defaultCompareEquality=function(tt,et){return tt===et},goog.array.binaryInsert=function(tt,et,nt){return 0>(nt=goog.array.binarySearch(tt,et,nt))&&(goog.array.insertAt(tt,et,-(nt+1)),!0)},goog.array.binaryRemove=function(tt,et,nt){return 0<=(et=goog.array.binarySearch(tt,et,nt))&&goog.array.removeAt(tt,et)},goog.array.bucket=function(tt,et,nt){for(var rt={},it=0;it<tt.length;it++){var ot=tt[it],at=et.call(nt,ot,it,tt);goog.isDef(at)&&(rt[at]||(rt[at]=[])).push(ot)}return rt},goog.array.toObject=function(tt,et,nt){var rt={};return goog.array.forEach(tt,function(it,ot){rt[et.call(nt,it,ot,tt)]=it}),rt},goog.array.range=function(tt,et,nt){var rt=[],it=0,ot=tt;if(et!==void 0&&(it=tt,ot=et),0>(nt=nt||1)*(ot-it))return[];if(0<nt)for(tt=it;tt<ot;tt+=nt)rt.push(tt);else for(tt=it;tt>ot;tt+=nt)rt.push(tt);return rt},goog.array.repeat=function(tt,et){for(var nt=[],rt=0;rt<et;rt++)nt[rt]=tt;return nt},goog.array.flatten=function(tt){for(var et=[],nt=0;nt<arguments.length;nt++){var rt=arguments[nt];if(goog.isArray(rt))for(var it=0;it<rt.length;it+=8192){var ot=goog.array.slice(rt,it,it+8192);ot=goog.array.flatten.apply(null,ot);for(var at=0;at<ot.length;at++)et.push(ot[at])}else et.push(rt)}return et},goog.array.rotate=function(tt,et){return goog.asserts.assert(tt.length!=null),tt.length&&(0<(et%=tt.length)?Array.prototype.unshift.apply(tt,tt.splice(-et,et)):0>et&&Array.prototype.push.apply(tt,tt.splice(0,-et))),tt},goog.array.moveItem=function(tt,et,nt){goog.asserts.assert(0<=et&&et<tt.length),goog.asserts.assert(0<=nt&&nt<tt.length),et=Array.prototype.splice.call(tt,et,1),Array.prototype.splice.call(tt,nt,0,et[0])},goog.array.zip=function(tt){if(!arguments.length)return[];for(var et=[],nt=arguments[0].length,rt=1;rt<arguments.length;rt++)arguments[rt].length<nt&&(nt=arguments[rt].length);for(rt=0;rt<nt;rt++){for(var it=[],ot=0;ot<arguments.length;ot++)it.push(arguments[ot][rt]);et.push(it)}return et},goog.array.shuffle=function(tt,et){et=et||Math.random;for(var nt=tt.length-1;0<nt;nt--){var rt=Math.floor(et()*(nt+1)),it=tt[nt];tt[nt]=tt[rt],tt[rt]=it}},goog.array.copyByIndex=function(tt,et){var nt=[];return goog.array.forEach(et,function(rt){nt.push(tt[rt])}),nt},goog.array.concatMap=function(tt,et,nt){return goog.array.concat.apply([],goog.array.map(tt,et,nt))},goog.crypt={},goog.crypt.stringToByteArray=function(tt){for(var et=[],nt=0,rt=0;rt<tt.length;rt++){var it=tt.charCodeAt(rt);255<it&&(et[nt++]=255&it,it>>=8),et[nt++]=it}return et},goog.crypt.byteArrayToString=function(tt){if(8192>=tt.length)return String.fromCharCode.apply(null,tt);for(var et="",nt=0;nt<tt.length;nt+=8192){var rt=goog.array.slice(tt,nt,nt+8192);et+=String.fromCharCode.apply(null,rt)}return et},goog.crypt.byteArrayToHex=function(tt,et){return goog.array.map(tt,function(nt){return 1<(nt=nt.toString(16)).length?nt:"0"+nt}).join(et||"")},goog.crypt.hexToByteArray=function(tt){goog.asserts.assert(tt.length%2==0,"Key string length must be multiple of 2");for(var et=[],nt=0;nt<tt.length;nt+=2)et.push(parseInt(tt.substring(nt,nt+2),16));return et},goog.crypt.stringToUtf8ByteArray=function(tt){for(var et=[],nt=0,rt=0;rt<tt.length;rt++){var it=tt.charCodeAt(rt);128>it?et[nt++]=it:(2048>it?et[nt++]=it>>6|192:((64512&it)==55296&&rt+1<tt.length&&(64512&tt.charCodeAt(rt+1))==56320?(it=65536+((1023&it)<<10)+(1023&tt.charCodeAt(++rt)),et[nt++]=it>>18|240,et[nt++]=it>>12&63|128):et[nt++]=it>>12|224,et[nt++]=it>>6&63|128),et[nt++]=63&it|128)}return et},goog.crypt.utf8ByteArrayToString=function(tt){for(var et=[],nt=0,rt=0;nt<tt.length;){var it=tt[nt++];if(128>it)et[rt++]=String.fromCharCode(it);else if(191<it&&224>it){var ot=tt[nt++];et[rt++]=String.fromCharCode((31&it)<<6|63&ot)}else if(239<it&&365>it){ot=tt[nt++];var at=tt[nt++];it=((7&it)<<18|(63&ot)<<12|(63&at)<<6|63&tt[nt++])-65536,et[rt++]=String.fromCharCode(55296+(it>>10)),et[rt++]=String.fromCharCode(56320+(1023&it))}else ot=tt[nt++],at=tt[nt++],et[rt++]=String.fromCharCode((15&it)<<12|(63&ot)<<6|63&at)}return et.join("")},goog.crypt.xorByteArray=function(tt,et){goog.asserts.assert(tt.length==et.length,"XOR array lengths must match");for(var nt=[],rt=0;rt<tt.length;rt++)nt.push(tt[rt]^et[rt]);return nt},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(tt,et){return tt.lastIndexOf(et,0)==0},goog.string.internal.endsWith=function(tt,et){var nt=tt.length-et.length;return 0<=nt&&tt.indexOf(et,nt)==nt},goog.string.internal.caseInsensitiveStartsWith=function(tt,et){return goog.string.internal.caseInsensitiveCompare(et,tt.substr(0,et.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(tt,et){return goog.string.internal.caseInsensitiveCompare(et,tt.substr(tt.length-et.length,et.length))==0},goog.string.internal.caseInsensitiveEquals=function(tt,et){return tt.toLowerCase()==et.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(tt){return/^[\s\xa0]*$/.test(tt)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(tt){return tt.trim()}:function(tt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(tt)[1]},goog.string.internal.caseInsensitiveCompare=function(tt,et){return(tt=String(tt).toLowerCase())<(et=String(et).toLowerCase())?-1:tt==et?0:1},goog.string.internal.newLineToBr=function(tt,et){return tt.replace(/(\r\n|\r|\n)/g,et?"<br />":"<br>")},goog.string.internal.htmlEscape=function(tt,et){if(et)tt=tt.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(tt))return tt;tt.indexOf("&")!=-1&&(tt=tt.replace(goog.string.internal.AMP_RE_,"&amp;")),tt.indexOf("<")!=-1&&(tt=tt.replace(goog.string.internal.LT_RE_,"&lt;")),tt.indexOf(">")!=-1&&(tt=tt.replace(goog.string.internal.GT_RE_,"&gt;")),tt.indexOf('"')!=-1&&(tt=tt.replace(goog.string.internal.QUOT_RE_,"&quot;")),tt.indexOf("'")!=-1&&(tt=tt.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),tt.indexOf("\0")!=-1&&(tt=tt.replace(goog.string.internal.NULL_RE_,"&#0;"))}return tt},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(tt,et){return goog.string.internal.newLineToBr(tt.replace(/  /g," &#160;"),et)},goog.string.internal.contains=function(tt,et){return tt.indexOf(et)!=-1},goog.string.internal.caseInsensitiveContains=function(tt,et){return goog.string.internal.contains(tt.toLowerCase(),et.toLowerCase())},goog.string.internal.compareVersions=function(tt,et){var nt=0;tt=goog.string.internal.trim(String(tt)).split("."),et=goog.string.internal.trim(String(et)).split(".");for(var rt=Math.max(tt.length,et.length),it=0;nt==0&&it<rt;it++){var ot=tt[it]||"",at=et[it]||"";do{if(ot=/(\d*)(\D*)(.*)/.exec(ot)||["","","",""],at=/(\d*)(\D*)(.*)/.exec(at)||["","","",""],ot[0].length==0&&at[0].length==0)break;nt=ot[1].length==0?0:parseInt(ot[1],10);var st=at[1].length==0?0:parseInt(at[1],10);nt=goog.string.internal.compareElements_(nt,st)||goog.string.internal.compareElements_(ot[2].length==0,at[2].length==0)||goog.string.internal.compareElements_(ot[2],at[2]),ot=ot[3],at=at[3]}while(nt==0)}return nt},goog.string.internal.compareElements_=function(tt,et){return tt<et?-1:tt>et?1:0},goog.string.TypedString=function(){},goog.string.Const=function(tt,et){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=tt===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&et||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(tt){return tt instanceof goog.string.Const&&tt.constructor===goog.string.Const&&tt.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?tt.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+tt+"'"),"type_error:Const")},goog.string.Const.from=function(tt){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,tt)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(tt){return goog.fs.url.getUrlObject_().createObjectURL(tt)},goog.fs.url.revokeObjectUrl=function(tt){goog.fs.url.getUrlObject_().revokeObjectURL(tt)},goog.fs.url.getUrlObject_=function(){var tt=goog.fs.url.findUrlObject_();if(tt!=null)return tt;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(tt,et){return typeof tt=="number"?0<tt?goog.i18n.bidi.Dir.LTR:0>tt?goog.i18n.bidi.Dir.RTL:et?null:goog.i18n.bidi.Dir.NEUTRAL:tt==null?null:tt?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(tt,et){return et?tt.replace(goog.i18n.bidi.htmlSkipReg_,""):tt},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(tt,et){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(tt,et){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(tt){return goog.i18n.bidi.rtlRe_.test(tt)},goog.i18n.bidi.isLtrChar=function(tt){return goog.i18n.bidi.ltrRe_.test(tt)},goog.i18n.bidi.isNeutralChar=function(tt){return!goog.i18n.bidi.isLtrChar(tt)&&!goog.i18n.bidi.isRtlChar(tt)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(tt,et){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(tt,et){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(tt,et){return tt=goog.i18n.bidi.stripHtmlIfNeeded_(tt,et),goog.i18n.bidi.isRequiredLtrRe_.test(tt)||!goog.i18n.bidi.hasAnyLtr(tt)&&!goog.i18n.bidi.hasAnyRtl(tt)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(tt,et){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(tt,et){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(tt,et))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(tt){return goog.i18n.bidi.rtlLocalesRe_.test(tt)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(tt,et){return et=(et===void 0?goog.i18n.bidi.hasAnyRtl(tt):et)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,tt.replace(goog.i18n.bidi.bracketGuardTextRe_,et+"$&"+et)},goog.i18n.bidi.enforceRtlInHtml=function(tt){return tt.charAt(0)=="<"?tt.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+tt+"</span>"},goog.i18n.bidi.enforceRtlInText=function(tt){return goog.i18n.bidi.Format.RLE+tt+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(tt){return tt.charAt(0)=="<"?tt.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+tt+"</span>"},goog.i18n.bidi.enforceLtrInText=function(tt){return goog.i18n.bidi.Format.LRE+tt+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(tt){return tt.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(tt){return tt.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(tt,et){var nt=0,rt=0,it=!1;for(tt=goog.i18n.bidi.stripHtmlIfNeeded_(tt,et).split(goog.i18n.bidi.wordSeparatorRe_),et=0;et<tt.length;et++){var ot=tt[et];goog.i18n.bidi.startsWithRtl(ot)?(nt++,rt++):goog.i18n.bidi.isRequiredLtrRe_.test(ot)?it=!0:goog.i18n.bidi.hasAnyLtr(ot)?rt++:goog.i18n.bidi.hasNumeralsRe_.test(ot)&&(it=!0)}return rt==0?it?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:nt/rt>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(tt,et){return goog.i18n.bidi.estimateDirection(tt,et)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(tt,et){tt&&(et=goog.i18n.bidi.toDir(et))&&(tt.style.textAlign=et==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,tt.dir=et==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(tt,et){switch(goog.i18n.bidi.estimateDirection(et)){case goog.i18n.bidi.Dir.LTR:tt.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:tt.dir="rtl";break;default:tt.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(tt,et){var nt=goog.html.TrustedResourceUrl.unwrap(this),rt=(nt=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(nt))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(nt[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",nt[2]||"",tt)+goog.html.TrustedResourceUrl.stringifyParams_("#",rt,et))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(tt){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(tt).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(tt){return tt instanceof goog.html.TrustedResourceUrl&&tt.constructor===goog.html.TrustedResourceUrl&&tt.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(tt){return tt.trustedURL_?tt.trustedURL_:goog.html.TrustedResourceUrl.unwrap(tt)},goog.html.TrustedResourceUrl.format=function(tt,et){var nt=goog.string.Const.unwrap(tt);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(nt))throw Error("Invalid TrustedResourceUrl format: "+nt);return tt=nt.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(rt,it){if(!Object.prototype.hasOwnProperty.call(et,it))throw Error('Found marker, "'+it+'", in format string, "'+nt+'", but no valid label mapping found in args: '+JSON.stringify(et));return(rt=et[it])instanceof goog.string.Const?goog.string.Const.unwrap(rt):encodeURIComponent(String(rt))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(tt,et,nt,rt){return goog.html.TrustedResourceUrl.format(tt,et).cloneWithParams(nt,rt)},goog.html.TrustedResourceUrl.fromConstant=function(tt){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(tt))},goog.html.TrustedResourceUrl.fromConstants=function(tt){for(var et="",nt=0;nt<tt.length;nt++)et+=goog.string.Const.unwrap(tt[nt]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(et)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(tt){var et=new goog.html.TrustedResourceUrl;return et.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(tt):tt,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(et.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(tt)),et},goog.html.TrustedResourceUrl.stringifyParams_=function(tt,et,nt){if(nt==null)return et;if(goog.isString(nt))return nt?tt+encodeURIComponent(nt):"";for(var rt in nt){var it=nt[rt];it=goog.isArray(it)?it:[it];for(var ot=0;ot<it.length;ot++){var at=it[ot];at!=null&&(et||(et=tt),et+=(et.length>tt.length?"&":"")+encodeURIComponent(rt)+"="+encodeURIComponent(String(at)))}}return et},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(tt){return goog.html.SafeUrl.unwrapTrustedURL(tt).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(tt){return tt instanceof goog.html.SafeUrl&&tt.constructor===goog.html.SafeUrl&&tt.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(tt){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(tt))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(tt){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(tt)},goog.html.SafeUrl.fromBlob=function(tt){return tt=goog.html.SAFE_MIME_TYPE_PATTERN_.test(tt.type)?goog.fs.url.createObjectUrl(tt):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(tt){var et=(tt=tt.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return et=et&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(et[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(et?tt:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"tel:")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(tt){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(tt))||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"fb-messenger://share")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.fromWhatsAppUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"whatsapp://send")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.fromSmsUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(tt)||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(tt){var et=tt.indexOf("#");if(0<et&&(tt=tt.substring(0,et)),!(et=tt.match(/[?&]body=/gi)))return!0;if(1<et.length)return!1;if(!(tt=tt.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(tt)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(tt)},goog.html.SafeUrl.fromSshUrl=function(tt){return goog.string.internal.caseInsensitiveStartsWith(tt,"ssh://")||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(tt,et){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,tt,et)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(tt,et){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,tt,et)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(tt,et){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,tt,et)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(tt,et,nt){return(tt=tt.exec(et))?(tt=tt[1],(nt instanceof goog.string.Const?[goog.string.Const.unwrap(nt)]:nt.map(function(rt){return goog.string.Const.unwrap(rt)})).indexOf(tt)==-1&&(et=goog.html.SafeUrl.INNOCUOUS_STRING)):et=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(et)},goog.html.SafeUrl.fromTrustedResourceUrl=function(tt){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(tt))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(tt){return tt instanceof goog.html.SafeUrl?tt:(tt=typeof tt=="object"&&tt.implementsGoogStringTypedString?tt.getTypedStringValue():String(tt),goog.html.SAFE_URL_PATTERN_.test(tt)||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(tt,et){return tt instanceof goog.html.SafeUrl?tt:(tt=typeof tt=="object"&&tt.implementsGoogStringTypedString?tt.getTypedStringValue():String(tt),et&&/^data:/i.test(tt)&&(et=goog.html.SafeUrl.fromDataUrl(tt)).getTypedStringValue()==tt?et:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(tt),"%s does not match the safe URL pattern",tt)||(tt=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(tt)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(tt){var et=new goog.html.SafeUrl;return et.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(tt):tt,et},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(tt){return(tt=goog.string.Const.unwrap(tt)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(tt,";"),"Last character of style string is not ';': "+tt),goog.asserts.assert(goog.string.internal.contains(tt,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+tt),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(tt))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(tt){return tt instanceof goog.html.SafeStyle&&tt.constructor===goog.html.SafeStyle&&tt.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(tt){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(tt)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=tt,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(tt){var et,nt="";for(et in tt){if(!/^[-_a-zA-Z0-9]+$/.test(et))throw Error("Name allows only [-_a-zA-Z0-9], got: "+et);var rt=tt[et];rt!=null&&(nt+=et+":"+(rt=goog.isArray(rt)?goog.array.map(rt,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(rt))+";")}return nt?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(nt):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(tt){if(tt instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(tt).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(tt=tt instanceof goog.string.Const?goog.string.Const.unwrap(tt):goog.html.SafeStyle.sanitizePropertyValueString_(String(tt)),/[{;}]/.test(tt))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[tt]);return tt},goog.html.SafeStyle.sanitizePropertyValueString_=function(tt){var et=tt.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(et)?goog.html.SafeStyle.COMMENT_RE_.test(tt)?(goog.asserts.fail("String value disallows comments, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(tt)?goog.html.SafeStyle.hasBalancedSquareBrackets_(tt)?goog.html.SafeStyle.sanitizeUrl_(tt):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+tt),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(tt){for(var et=!0,nt=!0,rt=0;rt<tt.length;rt++){var it=tt.charAt(rt);it=="'"&&nt?et=!et:it=='"'&&et&&(nt=!nt)}return et&&nt},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(tt){for(var et=!0,nt=/^[-_a-zA-Z0-9]$/,rt=0;rt<tt.length;rt++){var it=tt.charAt(rt);if(it=="]"){if(et)return!1;et=!0}else if(it=="["){if(!et)return!1;et=!1}else if(!et&&!nt.test(it))return!1}return et},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(tt){return tt.replace(goog.html.SafeStyle.URL_RE_,function(et,nt,rt,it){var ot="";return rt=rt.replace(/^(['"])(.*)\1$/,function(at,st,lt){return ot=st,lt}),et=goog.html.SafeUrl.sanitize(rt).getTypedStringValue(),nt+ot+et+ot+it})},goog.html.SafeStyle.concat=function(tt){var et="",nt=function(rt){goog.isArray(rt)?goog.array.forEach(rt,nt):et+=goog.html.SafeStyle.unwrap(rt)};return goog.array.forEach(arguments,nt),et?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(et):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(tt){return(tt=goog.string.Const.unwrap(tt)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeScript.fromConstantAndArgs=function(tt,et){for(var nt=[],rt=1;rt<arguments.length;rt++)nt.push(goog.html.SafeScript.stringify_(arguments[rt]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(tt)+")("+nt.join(", ")+");")},goog.html.SafeScript.fromJson=function(tt){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(tt))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(tt){return goog.html.SafeScript.unwrapTrustedScript(tt).toString()},goog.html.SafeScript.unwrapTrustedScript=function(tt){return tt instanceof goog.html.SafeScript&&tt.constructor===goog.html.SafeScript&&tt.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(tt){return JSON.stringify(tt).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(tt){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(tt)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(tt):tt,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(tt,et){return tt===et?tt!==0||1/tt==1/et:tt!=tt&&et!=et},goog.object.forEach=function(tt,et,nt){for(var rt in tt)et.call(nt,tt[rt],rt,tt)},goog.object.filter=function(tt,et,nt){var rt,it={};for(rt in tt)et.call(nt,tt[rt],rt,tt)&&(it[rt]=tt[rt]);return it},goog.object.map=function(tt,et,nt){var rt,it={};for(rt in tt)it[rt]=et.call(nt,tt[rt],rt,tt);return it},goog.object.some=function(tt,et,nt){for(var rt in tt)if(et.call(nt,tt[rt],rt,tt))return!0;return!1},goog.object.every=function(tt,et,nt){for(var rt in tt)if(!et.call(nt,tt[rt],rt,tt))return!1;return!0},goog.object.getCount=function(tt){var et,nt=0;for(et in tt)nt++;return nt},goog.object.getAnyKey=function(tt){for(var et in tt)return et},goog.object.getAnyValue=function(tt){for(var et in tt)return tt[et]},goog.object.contains=function(tt,et){return goog.object.containsValue(tt,et)},goog.object.getValues=function(tt){var et,nt=[],rt=0;for(et in tt)nt[rt++]=tt[et];return nt},goog.object.getKeys=function(tt){var et,nt=[],rt=0;for(et in tt)nt[rt++]=et;return nt},goog.object.getValueByKeys=function(tt,et){var nt=goog.isArrayLike(et),rt=nt?et:arguments;for(nt=nt?0:1;nt<rt.length;nt++){if(tt==null)return;tt=tt[rt[nt]]}return tt},goog.object.containsKey=function(tt,et){return tt!==null&&et in tt},goog.object.containsValue=function(tt,et){for(var nt in tt)if(tt[nt]==et)return!0;return!1},goog.object.findKey=function(tt,et,nt){for(var rt in tt)if(et.call(nt,tt[rt],rt,tt))return rt},goog.object.findValue=function(tt,et,nt){return(et=goog.object.findKey(tt,et,nt))&&tt[et]},goog.object.isEmpty=function(tt){for(var et in tt)return!1;return!0},goog.object.clear=function(tt){for(var et in tt)delete tt[et]},goog.object.remove=function(tt,et){var nt;return(nt=et in tt)&&delete tt[et],nt},goog.object.add=function(tt,et,nt){if(tt!==null&&et in tt)throw Error('The object already contains the key "'+et+'"');goog.object.set(tt,et,nt)},goog.object.get=function(tt,et,nt){return tt!==null&&et in tt?tt[et]:nt},goog.object.set=function(tt,et,nt){tt[et]=nt},goog.object.setIfUndefined=function(tt,et,nt){return et in tt?tt[et]:tt[et]=nt},goog.object.setWithReturnValueIfNotSet=function(tt,et,nt){return et in tt?tt[et]:(nt=nt(),tt[et]=nt)},goog.object.equals=function(tt,et){for(var nt in tt)if(!(nt in et)||tt[nt]!==et[nt])return!1;for(var rt in et)if(!(rt in tt))return!1;return!0},goog.object.clone=function(tt){var et,nt={};for(et in tt)nt[et]=tt[et];return nt},goog.object.unsafeClone=function(tt){var et=goog.typeOf(tt);if(et=="object"||et=="array"){if(goog.isFunction(tt.clone))return tt.clone();for(var nt in et=et=="array"?[]:{},tt)et[nt]=goog.object.unsafeClone(tt[nt]);return et}return tt},goog.object.transpose=function(tt){var et,nt={};for(et in tt)nt[tt[et]]=et;return nt},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(tt,et){for(var nt,rt,it=1;it<arguments.length;it++){for(nt in rt=arguments[it])tt[nt]=rt[nt];for(var ot=0;ot<goog.object.PROTOTYPE_FIELDS_.length;ot++)nt=goog.object.PROTOTYPE_FIELDS_[ot],Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}},goog.object.create=function(tt){var et=arguments.length;if(et==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(et%2)throw Error("Uneven number of arguments");for(var nt={},rt=0;rt<et;rt+=2)nt[arguments[rt]]=arguments[rt+1];return nt},goog.object.createSet=function(tt){var et=arguments.length;if(et==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var nt={},rt=0;rt<et;rt++)nt[arguments[rt]]=!0;return nt},goog.object.createImmutableView=function(tt){var et=tt;return Object.isFrozen&&!Object.isFrozen(tt)&&(et=Object.create(tt),Object.freeze(et)),et},goog.object.isImmutableView=function(tt){return!!Object.isFrozen&&Object.isFrozen(tt)},goog.object.getAllPropertyNames=function(tt,et,nt){if(!tt)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(tt);for(var rt={};tt&&(tt!==Object.prototype||et)&&(tt!==Function.prototype||nt);){for(var it=Object.getOwnPropertyNames(tt),ot=0;ot<it.length;ot++)rt[it[ot]]=!0;tt=Object.getPrototypeOf(tt)}return goog.object.getKeys(rt)},goog.object.getSuperClass=function(tt){return(tt=Object.getPrototypeOf(tt.prototype))&&tt.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(tt,et){if(goog.string.internal.contains(tt,"<"))throw Error("Selector does not allow '<', got: "+tt);var nt=tt.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(nt))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+tt);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(nt))throw Error("() and [] in selector must be balanced, got: "+tt);return et instanceof goog.html.SafeStyle||(et=goog.html.SafeStyle.create(et)),tt=tt+"{"+goog.html.SafeStyle.unwrap(et).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(tt)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(tt){for(var et={"(":")","[":"]"},nt=[],rt=0;rt<tt.length;rt++){var it=tt[rt];if(et[it])nt.push(et[it]);else if(goog.object.contains(et,it)&&nt.pop()!=it)return!1}return nt.length==0},goog.html.SafeStyleSheet.concat=function(tt){var et="",nt=function(rt){goog.isArray(rt)?goog.array.forEach(rt,nt):et+=goog.html.SafeStyleSheet.unwrap(rt)};return goog.array.forEach(arguments,nt),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(et)},goog.html.SafeStyleSheet.fromConstant=function(tt){return(tt=goog.string.Const.unwrap(tt)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(tt,"<"),"Forbidden '<' character in style sheet string: "+tt),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(tt))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(tt){return tt instanceof goog.html.SafeStyleSheet&&tt.constructor===goog.html.SafeStyleSheet&&tt.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(tt){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(tt)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=tt,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(tt){return goog.dom.tags.VOID_TAGS_[tt]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(tt){this.tagName_=tt},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var tt=goog.labs.userAgent.util.getNavigator_();return tt&&(tt=tt.userAgent)?tt:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(tt){goog.labs.userAgent.util.userAgent_=tt||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(tt){var et=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(et,tt)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(tt){var et=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(et,tt)},goog.labs.userAgent.util.extractVersionTuples=function(tt){for(var et,nt=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,rt=[];et=nt.exec(tt);)rt.push([et[1],et[2],et[3]||void 0]);return rt},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function tt(it){return it=goog.array.find(it,rt),nt[it]||""}var et=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(et);et=goog.labs.userAgent.util.extractVersionTuples(et);var nt={};goog.array.forEach(et,function(it){nt[it[0]]=it[1]});var rt=goog.partial(goog.object.containsKey,nt);return goog.labs.userAgent.browser.isOpera()?tt(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?tt(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?tt(["Edg"]):goog.labs.userAgent.browser.isChrome()?tt(["Chrome","CriOS"]):(et=et[2])&&et[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(tt){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),tt)},goog.labs.userAgent.browser.getIEVersion_=function(tt){var et=/rv: *([\d\.]*)/.exec(tt);if(et&&et[1])return et[1];et="";var nt=/MSIE +([\d\.]+)/.exec(tt);if(nt&&nt[1])if(tt=/Trident\/(\d.\d)/.exec(tt),nt[1]=="7.0")if(tt&&tt[1])switch(tt[1]){case"4.0":et="8.0";break;case"5.0":et="9.0";break;case"6.0":et="10.0";break;case"7.0":et="11.0"}else et="7.0";else et=nt[1];return et},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(tt){return goog.html.SafeHtml.unwrapTrustedHTML(tt).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(tt){return tt instanceof goog.html.SafeHtml&&tt.constructor===goog.html.SafeHtml&&tt.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?tt.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+tt+"' of type "+goog.typeOf(tt)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(tt){if(tt instanceof goog.html.SafeHtml)return tt;var et=typeof tt=="object",nt=null;return et&&tt.implementsGoogI18nBidiDirectionalString&&(nt=tt.getDirection()),tt=et&&tt.implementsGoogStringTypedString?tt.getTypedStringValue():String(tt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(tt),nt)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(tt){return tt instanceof goog.html.SafeHtml?tt:(tt=goog.html.SafeHtml.htmlEscape(tt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(tt)),tt.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(tt){return tt instanceof goog.html.SafeHtml?tt:(tt=goog.html.SafeHtml.htmlEscape(tt),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(tt)),tt.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(tt,et,nt){return goog.html.SafeHtml.verifyTagName(String(tt)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(tt),et,nt)},goog.html.SafeHtml.verifyTagName=function(tt){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(tt))throw Error("Invalid tag name <"+tt+">.");if(tt.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+tt+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(tt,et,nt,rt){tt&&goog.html.TrustedResourceUrl.unwrap(tt);var it={};return it.src=tt||null,it.srcdoc=et&&goog.html.SafeHtml.unwrap(et),tt=goog.html.SafeHtml.combineAttributes(it,{sandbox:""},nt),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",tt,rt)},goog.html.SafeHtml.createSandboxIframe=function(tt,et,nt,rt){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var it={};return it.src=tt?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(tt)):null,it.srcdoc=et||null,it.sandbox="",tt=goog.html.SafeHtml.combineAttributes(it,{},nt),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",tt,rt)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(tt,et){return goog.html.TrustedResourceUrl.unwrap(tt),tt=goog.html.SafeHtml.combineAttributes({src:tt},{},et),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",tt)},goog.html.SafeHtml.createScript=function(tt,et){for(var nt in et){var rt=nt.toLowerCase();if(rt=="language"||rt=="src"||rt=="text"||rt=="type")throw Error('Cannot set "'+rt+'" attribute')}for(nt="",tt=goog.array.concat(tt),rt=0;rt<tt.length;rt++)nt+=goog.html.SafeScript.unwrap(tt[rt]);return tt=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(nt,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",et,tt)},goog.html.SafeHtml.createStyle=function(tt,et){et=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},et);var nt="";tt=goog.array.concat(tt);for(var rt=0;rt<tt.length;rt++)nt+=goog.html.SafeStyleSheet.unwrap(tt[rt]);return tt=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(nt,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",et,tt)},goog.html.SafeHtml.createMetaRefresh=function(tt,et){return tt=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(tt)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(tt,";")&&(tt="'"+tt.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(et||0)+"; url="+tt})},goog.html.SafeHtml.getAttrNameAndValue_=function(tt,et,nt){if(nt instanceof goog.string.Const)nt=goog.string.Const.unwrap(nt);else if(et.toLowerCase()=="style")nt=goog.html.SafeHtml.getStyleValue_(nt);else{if(/^on/i.test(et))throw Error('Attribute "'+et+'" requires goog.string.Const value, "'+nt+'" given.');if(et.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(nt instanceof goog.html.TrustedResourceUrl)nt=goog.html.TrustedResourceUrl.unwrap(nt);else if(nt instanceof goog.html.SafeUrl)nt=goog.html.SafeUrl.unwrap(nt);else{if(!goog.isString(nt))throw Error('Attribute "'+et+'" on tag "'+tt+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+nt+'" given.');nt=goog.html.SafeUrl.sanitize(nt).getTypedStringValue()}}return nt.implementsGoogStringTypedString&&(nt=nt.getTypedStringValue()),goog.asserts.assert(goog.isString(nt)||goog.isNumber(nt),"String or number value expected, got "+typeof nt+" with value: "+nt),et+'="'+goog.string.internal.htmlEscape(String(nt))+'"'},goog.html.SafeHtml.getStyleValue_=function(tt){if(!goog.isObject(tt))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof tt+" given: "+tt);return tt instanceof goog.html.SafeStyle||(tt=goog.html.SafeStyle.create(tt)),goog.html.SafeStyle.unwrap(tt)},goog.html.SafeHtml.createWithDir=function(tt,et,nt,rt){return(et=goog.html.SafeHtml.create(et,nt,rt)).dir_=tt,et},goog.html.SafeHtml.join=function(tt,et){var nt=(tt=goog.html.SafeHtml.htmlEscape(tt)).getDirection(),rt=[],it=function(ot){goog.isArray(ot)?goog.array.forEach(ot,it):(ot=goog.html.SafeHtml.htmlEscape(ot),rt.push(goog.html.SafeHtml.unwrap(ot)),ot=ot.getDirection(),nt==goog.i18n.bidi.Dir.NEUTRAL?nt=ot:ot!=goog.i18n.bidi.Dir.NEUTRAL&&nt!=ot&&(nt=null))};return goog.array.forEach(et,it),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(rt.join(goog.html.SafeHtml.unwrap(tt)),nt)},goog.html.SafeHtml.concat=function(tt){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(tt,et){var nt=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return nt.dir_=tt,nt},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(tt,et){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(tt,et)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(tt,et){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(tt):tt,this.dir_=et,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(tt,et,nt){var rt=null,it="<"+tt+goog.html.SafeHtml.stringifyAttributes(tt,et);return goog.isDefAndNotNull(nt)?goog.isArray(nt)||(nt=[nt]):nt=[],goog.dom.tags.isVoidTag(tt.toLowerCase())?(goog.asserts.assert(!nt.length,"Void tag <"+tt+"> does not allow content."),it+=">"):(rt=goog.html.SafeHtml.concat(nt),it+=">"+goog.html.SafeHtml.unwrap(rt)+"</"+tt+">",rt=rt.getDirection()),(tt=et&&et.dir)&&(rt=/^(ltr|rtl|auto)$/i.test(tt)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(it,rt)},goog.html.SafeHtml.stringifyAttributes=function(tt,et){var nt="";if(et)for(var rt in et){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(rt))throw Error('Invalid attribute name "'+rt+'".');var it=et[rt];goog.isDefAndNotNull(it)&&(nt+=" "+goog.html.SafeHtml.getAttrNameAndValue_(tt,rt,it))}return nt},goog.html.SafeHtml.combineAttributes=function(tt,et,nt){var rt,it={};for(rt in tt)goog.asserts.assert(rt.toLowerCase()==rt,"Must be lower case"),it[rt]=tt[rt];for(rt in et)goog.asserts.assert(rt.toLowerCase()==rt,"Must be lower case"),it[rt]=et[rt];for(rt in nt){var ot=rt.toLowerCase();if(ot in tt)throw Error('Cannot override "'+ot+'" attribute, got "'+rt+'" with value "'+nt[rt]+'"');ot in et&&delete it[ot],it[rt]=nt[rt]}return it},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(tt,et,nt){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(et,nt||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(et)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(tt,et){return goog.asserts.assertString(goog.string.Const.unwrap(tt),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(tt)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(et)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(tt){if(goog.asserts.ENABLE_ASSERTS){var et=goog.dom.asserts.getWindow_(tt);et&&(!tt||!(tt instanceof et.Location)&&tt instanceof et.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(tt))}return tt},goog.dom.asserts.assertIsElementType_=function(tt,et){if(goog.asserts.ENABLE_ASSERTS){var nt=goog.dom.asserts.getWindow_(tt);nt&&nt[et]!==void 0&&(tt&&(tt instanceof nt[et]||!(tt instanceof nt.Location||tt instanceof nt.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",et,goog.dom.asserts.debugStringForType_(tt)))}return tt},goog.dom.asserts.assertIsHTMLAnchorElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(tt){return goog.dom.asserts.assertIsElementType_(tt,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(tt){if(!goog.isObject(tt))return tt===void 0?"undefined":tt===null?"null":typeof tt;try{return tt.constructor.displayName||tt.constructor.name||Object.prototype.toString.call(tt)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(tt){try{var et=tt&&tt.ownerDocument,nt=et&&(et.defaultView||et.parentWindow);if((nt=nt||goog.global).Element&&nt.Location)return nt}catch{}return null},goog.functions={},goog.functions.constant=function(tt){return function(){return tt}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(tt,et){return tt},goog.functions.error=function(tt){return function(){throw Error(tt)}},goog.functions.fail=function(tt){return function(){throw tt}},goog.functions.lock=function(tt,et){return et=et||0,function(){return tt.apply(this,Array.prototype.slice.call(arguments,0,et))}},goog.functions.nth=function(tt){return function(){return arguments[tt]}},goog.functions.partialRight=function(tt,et){var nt=Array.prototype.slice.call(arguments,1);return function(){var rt=Array.prototype.slice.call(arguments);return rt.push.apply(rt,nt),tt.apply(this,rt)}},goog.functions.withReturnValue=function(tt,et){return goog.functions.sequence(tt,goog.functions.constant(et))},goog.functions.equalTo=function(tt,et){return function(nt){return et?tt==nt:tt===nt}},goog.functions.compose=function(tt,et){var nt=arguments,rt=nt.length;return function(){var it;rt&&(it=nt[rt-1].apply(this,arguments));for(var ot=rt-2;0<=ot;ot--)it=nt[ot].call(this,it);return it}},goog.functions.sequence=function(tt){var et=arguments,nt=et.length;return function(){for(var rt,it=0;it<nt;it++)rt=et[it].apply(this,arguments);return rt}},goog.functions.and=function(tt){var et=arguments,nt=et.length;return function(){for(var rt=0;rt<nt;rt++)if(!et[rt].apply(this,arguments))return!1;return!0}},goog.functions.or=function(tt){var et=arguments,nt=et.length;return function(){for(var rt=0;rt<nt;rt++)if(et[rt].apply(this,arguments))return!0;return!1}},goog.functions.not=function(tt){return function(){return!tt.apply(this,arguments)}},goog.functions.create=function(tt,et){var nt=function(){};return nt.prototype=tt.prototype,nt=new nt,tt.apply(nt,Array.prototype.slice.call(arguments,1)),nt},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(tt){var et,nt=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(nt||(et=tt(),nt=!0),et):tt()}},goog.functions.once=function(tt){var et=tt;return function(){if(et){var nt=et;et=null,nt()}}},goog.functions.debounce=function(tt,et,nt){var rt=0;return function(it){goog.global.clearTimeout(rt);var ot=arguments;rt=goog.global.setTimeout(function(){tt.apply(nt,ot)},et)}},goog.functions.throttle=function(tt,et,nt){var rt=0,it=!1,ot=[],at=function(){rt=0,it&&(it=!1,st())},st=function(){rt=goog.global.setTimeout(at,et),tt.apply(nt,ot)};return function(lt){ot=arguments,rt?it=!0:st()}},goog.functions.rateLimit=function(tt,et,nt){var rt=0,it=function(){rt=0};return function(ot){rt||(rt=goog.global.setTimeout(it,et),tt.apply(nt,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(tt,et,nt){tt.insertAdjacentHTML(et,goog.html.SafeHtml.unwrapTrustedHTML(nt))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document=="undefined")return!1;var tt=document.createElement("div"),et=document.createElement("div");return et.appendChild(document.createElement("div")),tt.appendChild(et),!(goog.DEBUG&&!tt.firstChild||(et=tt.firstChild.firstChild,tt.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),et.parentElement))}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(tt,et){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;tt.lastChild;)tt.removeChild(tt.lastChild);tt.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(et)},goog.dom.safe.setInnerHtml=function(tt,et){if(goog.asserts.ENABLE_ASSERTS){var nt=tt.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[nt])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+tt.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(tt,et)},goog.dom.safe.setOuterHtml=function(tt,et){tt.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(et)},goog.dom.safe.setFormElementAction=function(tt,et){et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),goog.dom.asserts.assertIsHTMLFormElement(tt).action=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setButtonFormAction=function(tt,et){et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),goog.dom.asserts.assertIsHTMLButtonElement(tt).formAction=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setInputFormAction=function(tt,et){et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),goog.dom.asserts.assertIsHTMLInputElement(tt).formAction=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setStyle=function(tt,et){tt.style.cssText=goog.html.SafeStyle.unwrap(et)},goog.dom.safe.documentWrite=function(tt,et){tt.write(goog.html.SafeHtml.unwrapTrustedHTML(et))},goog.dom.safe.setAnchorHref=function(tt,et){goog.dom.asserts.assertIsHTMLAnchorElement(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.href=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setImageSrc=function(tt,et){if(goog.dom.asserts.assertIsHTMLImageElement(tt),!(et instanceof goog.html.SafeUrl)){var nt=/^data:image\//i.test(et);et=goog.html.SafeUrl.sanitizeAssertUnchanged(et,nt)}tt.src=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setAudioSrc=function(tt,et){if(goog.dom.asserts.assertIsHTMLAudioElement(tt),!(et instanceof goog.html.SafeUrl)){var nt=/^data:audio\//i.test(et);et=goog.html.SafeUrl.sanitizeAssertUnchanged(et,nt)}tt.src=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setVideoSrc=function(tt,et){if(goog.dom.asserts.assertIsHTMLVideoElement(tt),!(et instanceof goog.html.SafeUrl)){var nt=/^data:video\//i.test(et);et=goog.html.SafeUrl.sanitizeAssertUnchanged(et,nt)}tt.src=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.setEmbedSrc=function(tt,et){goog.dom.asserts.assertIsHTMLEmbedElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(et)},goog.dom.safe.setFrameSrc=function(tt,et){goog.dom.asserts.assertIsHTMLFrameElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(et)},goog.dom.safe.setIframeSrc=function(tt,et){goog.dom.asserts.assertIsHTMLIFrameElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(et)},goog.dom.safe.setIframeSrcdoc=function(tt,et){goog.dom.asserts.assertIsHTMLIFrameElement(tt),tt.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(et)},goog.dom.safe.setLinkHrefAndRel=function(tt,et,nt){goog.dom.asserts.assertIsHTMLLinkElement(tt),tt.rel=nt,goog.string.internal.caseInsensitiveContains(nt,"stylesheet")?(goog.asserts.assert(et instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),tt.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(et)):tt.href=et instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(et):et instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(et):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(et))},goog.dom.safe.setObjectData=function(tt,et){goog.dom.asserts.assertIsHTMLObjectElement(tt),tt.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(et)},goog.dom.safe.setScriptSrc=function(tt,et){goog.dom.asserts.assertIsHTMLScriptElement(tt),tt.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(et),(et=goog.getScriptNonce())&&tt.setAttribute("nonce",et)},goog.dom.safe.setScriptContent=function(tt,et){goog.dom.asserts.assertIsHTMLScriptElement(tt),tt.text=goog.html.SafeScript.unwrapTrustedScript(et),(et=goog.getScriptNonce())&&tt.setAttribute("nonce",et)},goog.dom.safe.setLocationHref=function(tt,et){goog.dom.asserts.assertIsLocation(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.href=goog.html.SafeUrl.unwrapTrustedURL(et)},goog.dom.safe.assignLocation=function(tt,et){goog.dom.asserts.assertIsLocation(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.assign(goog.html.SafeUrl.unwrapTrustedURL(et))},goog.dom.safe.replaceLocation=function(tt,et){goog.dom.asserts.assertIsLocation(tt),et=et instanceof goog.html.SafeUrl?et:goog.html.SafeUrl.sanitizeAssertUnchanged(et),tt.replace(goog.html.SafeUrl.unwrapTrustedURL(et))},goog.dom.safe.openInWindow=function(tt,et,nt,rt,it){return tt=tt instanceof goog.html.SafeUrl?tt:goog.html.SafeUrl.sanitizeAssertUnchanged(tt),(et||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(tt),nt?goog.string.Const.unwrap(nt):"",rt,it)},goog.dom.safe.parseFromStringHtml=function(tt,et){return goog.dom.safe.parseFromString(tt,et,"text/html")},goog.dom.safe.parseFromString=function(tt,et,nt){return tt.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(et),nt)},goog.dom.safe.createImageFromBlob=function(tt){if(!/^image\/.*/g.test(tt.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var et=goog.global.URL.createObjectURL(tt);return(tt=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(et)},goog.dom.safe.setImageSrc(tt,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),et)),tt},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(tt,et){for(var nt=tt.split("%s"),rt="",it=Array.prototype.slice.call(arguments,1);it.length&&1<nt.length;)rt+=nt.shift()+it.shift();return rt+nt.join("%s")},goog.string.collapseWhitespace=function(tt){return tt.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(tt){return tt.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(tt){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(tt))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(tt){return!/[^\t\n\r ]/.test(tt)},goog.string.isAlpha=function(tt){return!/[^a-zA-Z]/.test(tt)},goog.string.isNumeric=function(tt){return!/[^0-9]/.test(tt)},goog.string.isAlphaNumeric=function(tt){return!/[^a-zA-Z0-9]/.test(tt)},goog.string.isSpace=function(tt){return tt==" "},goog.string.isUnicodeChar=function(tt){return tt.length==1&&" "<=tt&&"~">=tt||"\x80"<=tt&&"\uFFFD">=tt},goog.string.stripNewlines=function(tt){return tt.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(tt){return tt.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(tt){return tt.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(tt){return tt.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(tt){return tt.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(tt){return tt.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(tt){return tt.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(tt,et,nt){if(tt==et)return 0;if(!tt)return-1;if(!et)return 1;for(var rt=tt.toLowerCase().match(nt),it=et.toLowerCase().match(nt),ot=Math.min(rt.length,it.length),at=0;at<ot;at++){nt=rt[at];var st=it[at];if(nt!=st)return tt=parseInt(nt,10),!isNaN(tt)&&(et=parseInt(st,10),!isNaN(et)&&tt-et)?tt-et:nt<st?-1:1}return rt.length!=it.length?rt.length-it.length:tt<et?-1:1},goog.string.intAwareCompare=function(tt,et){return goog.string.numberAwareCompare_(tt,et,/\d+|\D+/g)},goog.string.floatAwareCompare=function(tt,et){return goog.string.numberAwareCompare_(tt,et,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(tt){return encodeURIComponent(String(tt))},goog.string.urlDecode=function(tt){return decodeURIComponent(tt.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(tt,et){return tt=goog.string.internal.htmlEscape(tt,et),goog.string.DETECT_DOUBLE_ESCAPING&&(tt=tt.replace(goog.string.E_RE_,"&#101;")),tt},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(tt){return goog.string.contains(tt,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(tt):goog.string.unescapePureXmlEntities_(tt):tt},goog.string.unescapeEntitiesWithDocument=function(tt,et){return goog.string.contains(tt,"&")?goog.string.unescapeEntitiesUsingDom_(tt,et):tt},goog.string.unescapeEntitiesUsingDom_=function(tt,et){var nt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},rt=et?et.createElement("div"):goog.global.document.createElement("div");return tt.replace(goog.string.HTML_ENTITY_PATTERN_,function(it,ot){var at=nt[it];return at||(ot.charAt(0)=="#"&&(ot=Number("0"+ot.substr(1)),isNaN(ot)||(at=String.fromCharCode(ot))),at||(goog.dom.safe.setInnerHtml(rt,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),it+" ")),at=rt.firstChild.nodeValue.slice(0,-1)),nt[it]=at)})},goog.string.unescapePureXmlEntities_=function(tt){return tt.replace(/&([^;]+);/g,function(et,nt){switch(nt){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return nt.charAt(0)!="#"||(nt=Number("0"+nt.substr(1)),isNaN(nt))?et:String.fromCharCode(nt)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(tt,et){return goog.string.newLineToBr(tt.replace(/  /g," &#160;"),et)},goog.string.preserveSpaces=function(tt){return tt.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(tt,et){for(var nt=et.length,rt=0;rt<nt;rt++){var it=nt==1?et:et.charAt(rt);if(tt.charAt(0)==it&&tt.charAt(tt.length-1)==it)return tt.substring(1,tt.length-1)}return tt},goog.string.truncate=function(tt,et,nt){return nt&&(tt=goog.string.unescapeEntities(tt)),tt.length>et&&(tt=tt.substring(0,et-3)+"..."),nt&&(tt=goog.string.htmlEscape(tt)),tt},goog.string.truncateMiddle=function(tt,et,nt,rt){if(nt&&(tt=goog.string.unescapeEntities(tt)),rt&&tt.length>et){rt>et&&(rt=et);var it=tt.length-rt;tt=tt.substring(0,et-rt)+"..."+tt.substring(it)}else tt.length>et&&(rt=Math.floor(et/2),it=tt.length-rt,tt=tt.substring(0,rt+et%2)+"..."+tt.substring(it));return nt&&(tt=goog.string.htmlEscape(tt)),tt},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(tt){tt=String(tt);for(var et=['"'],nt=0;nt<tt.length;nt++){var rt=tt.charAt(nt),it=rt.charCodeAt(0);et[nt+1]=goog.string.specialEscapeChars_[rt]||(31<it&&127>it?rt:goog.string.escapeChar(rt))}return et.push('"'),et.join("")},goog.string.escapeString=function(tt){for(var et=[],nt=0;nt<tt.length;nt++)et[nt]=goog.string.escapeChar(tt.charAt(nt));return et.join("")},goog.string.escapeChar=function(tt){if(tt in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[tt];if(tt in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[tt]=goog.string.specialEscapeChars_[tt];var et=tt.charCodeAt(0);if(31<et&&127>et)var nt=tt;else 256>et?(nt="\\x",(16>et||256<et)&&(nt+="0")):(nt="\\u",4096>et&&(nt+="0")),nt+=et.toString(16).toUpperCase();return goog.string.jsEscapeCache_[tt]=nt},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(tt,et){return tt&&et?tt.split(et).length-1:0},goog.string.removeAt=function(tt,et,nt){var rt=tt;return 0<=et&&et<tt.length&&0<nt&&(rt=tt.substr(0,et)+tt.substr(et+nt,tt.length-et-nt)),rt},goog.string.remove=function(tt,et){return tt.replace(et,"")},goog.string.removeAll=function(tt,et){return et=new RegExp(goog.string.regExpEscape(et),"g"),tt.replace(et,"")},goog.string.replaceAll=function(tt,et,nt){return et=new RegExp(goog.string.regExpEscape(et),"g"),tt.replace(et,nt.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(tt){return String(tt).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(tt,et){return tt.repeat(et)}:function(tt,et){return Array(et+1).join(tt)},goog.string.padNumber=function(tt,et,nt){return(nt=(tt=goog.isDef(nt)?tt.toFixed(nt):String(tt)).indexOf("."))==-1&&(nt=tt.length),goog.string.repeat("0",Math.max(0,et-nt))+tt},goog.string.makeSafe=function(tt){return tt==null?"":String(tt)},goog.string.buildString=function(tt){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(tt){for(var et=0,nt=0;nt<tt.length;++nt)et=31*et+tt.charCodeAt(nt)>>>0;return et},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(tt){var et=Number(tt);return et==0&&goog.string.isEmptyOrWhitespace(tt)?NaN:et},goog.string.isLowerCamelCase=function(tt){return/^[a-z]+([A-Z][a-z]*)*$/.test(tt)},goog.string.isUpperCamelCase=function(tt){return/^([A-Z][a-z]*)+$/.test(tt)},goog.string.toCamelCase=function(tt){return String(tt).replace(/\-([a-z])/g,function(et,nt){return nt.toUpperCase()})},goog.string.toSelectorCase=function(tt){return String(tt).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(tt,et){return et=goog.isString(et)?goog.string.regExpEscape(et):"\\s",tt.replace(new RegExp("(^"+(et?"|["+et+"]+":"")+")([a-z])","g"),function(nt,rt,it){return rt+it.toUpperCase()})},goog.string.capitalize=function(tt){return String(tt.charAt(0)).toUpperCase()+String(tt.substr(1)).toLowerCase()},goog.string.parseInt=function(tt){return isFinite(tt)&&(tt=String(tt)),goog.isString(tt)?/^\s*-?0x/i.test(tt)?parseInt(tt,16):parseInt(tt,10):NaN},goog.string.splitLimit=function(tt,et,nt){tt=tt.split(et);for(var rt=[];0<nt&&tt.length;)rt.push(tt.shift()),nt--;return tt.length&&rt.push(tt.join(et)),rt},goog.string.lastComponent=function(tt,et){if(!et)return tt;typeof et=="string"&&(et=[et]);for(var nt=-1,rt=0;rt<et.length;rt++)if(et[rt]!=""){var it=tt.lastIndexOf(et[rt]);it>nt&&(nt=it)}return nt==-1?tt:tt.slice(nt+1)},goog.string.editDistance=function(tt,et){var nt=[],rt=[];if(tt==et)return 0;if(!tt.length||!et.length)return Math.max(tt.length,et.length);for(var it=0;it<et.length+1;it++)nt[it]=it;for(it=0;it<tt.length;it++){rt[0]=it+1;for(var ot=0;ot<et.length;ot++)rt[ot+1]=Math.min(rt[ot]+1,nt[ot+1]+1,nt[ot]+Number(tt[it]!=et[ot]));for(ot=0;ot<nt.length;ot++)nt[ot]=rt[ot]}return rt[et.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var tt=goog.labs.userAgent.util.getUserAgent(),et="";return goog.labs.userAgent.platform.isWindows()?et=(tt=(et=/Windows (?:NT|Phone) ([0-9.]+)/).exec(tt))?tt[1]:"0.0":goog.labs.userAgent.platform.isIos()?et=(tt=(et=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(tt))&&tt[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?et=(tt=(et=/Mac OS X ([0-9_.]+)/).exec(tt))?tt[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?et=(tt=(et=/(?:KaiOS)\/(\S+)/i).exec(tt))&&tt[1]:goog.labs.userAgent.platform.isAndroid()?et=(tt=(et=/Android\s+([^\);]+)(\)|;)/).exec(tt))&&tt[1]:goog.labs.userAgent.platform.isChromeOS()&&(et=(tt=(et=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(tt))&&tt[1]),et||""},goog.labs.userAgent.platform.isVersionOrHigher=function(tt){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),tt)},goog.reflect={},goog.reflect.object=function(tt,et){return et},goog.reflect.objectProperty=function(tt,et){return tt},goog.reflect.sinkValue=function(tt){return goog.reflect.sinkValue[" "](tt),tt},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(tt,et){try{return goog.reflect.sinkValue(tt[et]),!0}catch{}return!1},goog.reflect.cache=function(tt,et,nt,rt){return rt=rt?rt(et):et,Object.prototype.hasOwnProperty.call(tt,rt)?tt[rt]:tt[rt]=nt(et)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var tt=goog.labs.userAgent.util.getUserAgent();if(tt){tt=goog.labs.userAgent.util.extractVersionTuples(tt);var et,nt=goog.labs.userAgent.engine.getEngineTuple_(tt);if(nt)return nt[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(tt,"Firefox"):nt[1];if((tt=tt[0])&&(et=tt[2])&&(et=/Trident\/([^\s;]+)/.exec(et)))return et[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(tt){if(!goog.labs.userAgent.engine.isEdge())return tt[1];for(var et=0;et<tt.length;et++){var nt=tt[et];if(nt[0]=="Edge")return nt}},goog.labs.userAgent.engine.isVersionOrHigher=function(tt){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),tt)},goog.labs.userAgent.engine.getVersionForKey_=function(tt,et){return(tt=goog.array.find(tt,function(nt){return et==nt[0]}))&&tt[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var tt=goog.userAgent.getNavigatorTyped();return tt&&tt.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var tt=goog.userAgent.getNavigatorTyped();return!!tt&&goog.string.contains(tt.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var tt="",et=goog.userAgent.getVersionRegexResult_();return et&&(tt=et?et[1]:""),goog.userAgent.IE&&(et=goog.userAgent.getDocumentMode_())!=null&&et>parseFloat(tt)?String(et):tt},goog.userAgent.getVersionRegexResult_=function(){var tt=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(tt):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(tt):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tt):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(tt):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(tt):void 0},goog.userAgent.getDocumentMode_=function(){var tt=goog.global.document;return tt?tt.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(tt,et){return goog.string.compareVersions(tt,et)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(tt){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,tt,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,tt)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(tt){return Number(goog.userAgent.DOCUMENT_MODE)>=tt},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(tt){return goog.string.contains(goog.crypt.base64.paddingChars_,tt)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(tt,et){goog.asserts.assert(goog.isArrayLike(tt),"encodeByteArray takes an array as a parameter"),et===void 0&&(et=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),et=goog.crypt.base64.byteToCharMaps_[et];for(var nt=[],rt=0;rt<tt.length;rt+=3){var it=tt[rt],ot=rt+1<tt.length,at=ot?tt[rt+1]:0,st=rt+2<tt.length,lt=st?tt[rt+2]:0,ct=it>>2;it=(3&it)<<4|at>>4,at=(15&at)<<2|lt>>6,lt&=63,st||(lt=64,ot||(at=64)),nt.push(et[ct],et[it],et[at]||"",et[lt]||"")}return nt.join("")},goog.crypt.base64.encodeString=function(tt,et){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!et?goog.global.btoa(tt):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(tt),et)},goog.crypt.base64.decodeString=function(tt,et){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!et)return goog.global.atob(tt);var nt="";return goog.crypt.base64.decodeStringInternal_(tt,function(rt){nt+=String.fromCharCode(rt)}),nt},goog.crypt.base64.decodeStringToByteArray=function(tt,et){var nt=[];return goog.crypt.base64.decodeStringInternal_(tt,function(rt){nt.push(rt)}),nt},goog.crypt.base64.decodeStringToUint8Array=function(tt){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var et=tt.length,nt=3*et/4;nt%3?nt=Math.floor(nt):goog.crypt.base64.isPadding_(tt[et-1])&&(nt=goog.crypt.base64.isPadding_(tt[et-2])?nt-2:nt-1);var rt=new Uint8Array(nt),it=0;return goog.crypt.base64.decodeStringInternal_(tt,function(ot){rt[it++]=ot}),rt.subarray(0,it)},goog.crypt.base64.decodeStringInternal_=function(tt,et){function nt(lt){for(;rt<tt.length;){var ct=tt.charAt(rt++),ft=goog.crypt.base64.charToByteMap_[ct];if(ft!=null)return ft;if(!goog.string.isEmptyOrWhitespace(ct))throw Error("Unknown base64 encoding at char: "+ct)}return lt}goog.crypt.base64.init_();for(var rt=0;;){var it=nt(-1),ot=nt(0),at=nt(64),st=nt(64);if(st===64&&it===-1)break;et(it<<2|ot>>4),at!=64&&(et(ot<<4&240|at>>2),st!=64&&et(at<<6&192|st))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var tt=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),et=["+/=","+/","-_=","-_.","-_"],nt=0;5>nt;nt++){var rt=tt.concat(et[nt].split(""));goog.crypt.base64.byteToCharMaps_[nt]=rt;for(var it=0;it<rt.length;it++){var ot=rt[it],at=goog.crypt.base64.charToByteMap_[ot];at===void 0?goog.crypt.base64.charToByteMap_[ot]=it:goog.asserts.assert(at===it)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(tt){var et=tt>>>0;tt=Math.floor((tt-et)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=et,jspb.utils.split64High=tt},jspb.utils.splitInt64=function(tt){var et=0>tt,nt=(tt=Math.abs(tt))>>>0;tt=Math.floor((tt-nt)/jspb.BinaryConstants.TWO_TO_32),tt>>>=0,et&&(tt=~tt>>>0,4294967295<(nt=1+(~nt>>>0))&&(nt=0,4294967295<++tt&&(tt=0))),jspb.utils.split64Low=nt,jspb.utils.split64High=tt},jspb.utils.splitZigzag64=function(tt){var et=0>tt;tt=2*Math.abs(tt),jspb.utils.splitUint64(tt),tt=jspb.utils.split64Low;var nt=jspb.utils.split64High;et&&(tt==0?nt==0?nt=tt=4294967295:(nt--,tt=4294967295):tt--),jspb.utils.split64Low=tt,jspb.utils.split64High=nt},jspb.utils.splitFloat32=function(tt){var et=0>tt?1:0;if((tt=et?-tt:tt)===0)0<1/tt?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(tt))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(tt>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(et<<31|2139095040)>>>0;else if(tt<jspb.BinaryConstants.FLOAT32_MIN)tt=Math.round(tt/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(et<<31|tt)>>>0;else{var nt=Math.floor(Math.log(tt)/Math.LN2);tt*=Math.pow(2,-nt),tt=8388607&Math.round(tt*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(et<<31|nt+127<<23|tt)>>>0}},jspb.utils.splitFloat64=function(tt){var et=0>tt?1:0;if((tt=et?-tt:tt)===0)jspb.utils.split64High=0<1/tt?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(tt))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(tt>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(et<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(tt<jspb.BinaryConstants.FLOAT64_MIN){var nt=tt/Math.pow(2,-1074);tt=nt/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(et<<31|tt)>>>0,jspb.utils.split64Low=nt>>>0}else{var rt=0;if(2<=(nt=tt))for(;2<=nt&&1023>rt;)rt++,nt/=2;else for(;1>nt&&-1022<rt;)nt*=2,rt--;tt=(nt=tt*Math.pow(2,-rt))*jspb.BinaryConstants.TWO_TO_20&1048575,nt=nt*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(et<<31|rt+1023<<20|tt)>>>0,jspb.utils.split64Low=nt}},jspb.utils.splitHash64=function(tt){var et=tt.charCodeAt(0),nt=tt.charCodeAt(1),rt=tt.charCodeAt(2),it=tt.charCodeAt(3),ot=tt.charCodeAt(4),at=tt.charCodeAt(5),st=tt.charCodeAt(6);tt=tt.charCodeAt(7),jspb.utils.split64Low=et+(nt<<8)+(rt<<16)+(it<<24)>>>0,jspb.utils.split64High=ot+(at<<8)+(st<<16)+(tt<<24)>>>0},jspb.utils.joinUint64=function(tt,et){return et*jspb.BinaryConstants.TWO_TO_32+(tt>>>0)},jspb.utils.joinInt64=function(tt,et){var nt=2147483648&et;return nt&&(et=~et>>>0,(tt=1+~tt>>>0)==0&&(et=et+1>>>0)),tt=jspb.utils.joinUint64(tt,et),nt?-tt:tt},jspb.utils.toZigzag64=function(tt,et,nt){var rt=et>>31;return nt(tt<<1^rt,(et<<1|tt>>>31)^rt)},jspb.utils.joinZigzag64=function(tt,et){return jspb.utils.fromZigzag64(tt,et,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(tt,et,nt){var rt=-(1&tt);return nt((tt>>>1|et<<31)^rt,et>>>1^rt)},jspb.utils.joinFloat32=function(tt,et){et=2*(tt>>31)+1;var nt=tt>>>23&255;return tt&=8388607,nt==255?tt?NaN:1/0*et:nt==0?et*Math.pow(2,-149)*tt:et*Math.pow(2,nt-150)*(tt+Math.pow(2,23))},jspb.utils.joinFloat64=function(tt,et){var nt=2*(et>>31)+1,rt=et>>>20&2047;return tt=jspb.BinaryConstants.TWO_TO_32*(1048575&et)+tt,rt==2047?tt?NaN:1/0*nt:rt==0?nt*Math.pow(2,-1074)*tt:nt*Math.pow(2,rt-1075)*(tt+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(tt,et){return String.fromCharCode(tt>>>0&255,tt>>>8&255,tt>>>16&255,tt>>>24&255,et>>>0&255,et>>>8&255,et>>>16&255,et>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(tt,et){function nt(it,ot){return it=it?String(it):"",ot?"0000000".slice(it.length)+it:it}if(2097151>=et)return""+(jspb.BinaryConstants.TWO_TO_32*et+tt);var rt=(tt>>>24|et<<8)>>>0&16777215;return tt=(16777215&tt)+6777216*rt+6710656*(et=et>>16&65535),rt+=8147497*et,et*=2,1e7<=tt&&(rt+=Math.floor(tt/1e7),tt%=1e7),1e7<=rt&&(et+=Math.floor(rt/1e7),rt%=1e7),nt(et,0)+nt(rt,et)+nt(tt,1)},jspb.utils.joinSignedDecimalString=function(tt,et){var nt=2147483648&et;return nt&&(et=~et+((tt=1+~tt>>>0)==0?1:0)>>>0),tt=jspb.utils.joinUnsignedDecimalString(tt,et),nt?"-"+tt:tt},jspb.utils.hash64ToDecimalString=function(tt,et){jspb.utils.splitHash64(tt),tt=jspb.utils.split64Low;var nt=jspb.utils.split64High;return et?jspb.utils.joinSignedDecimalString(tt,nt):jspb.utils.joinUnsignedDecimalString(tt,nt)},jspb.utils.hash64ArrayToDecimalStrings=function(tt,et){for(var nt=Array(tt.length),rt=0;rt<tt.length;rt++)nt[rt]=jspb.utils.hash64ToDecimalString(tt[rt],et);return nt},jspb.utils.decimalStringToHash64=function(tt){function et(ot,at){for(var st=0;8>st&&(ot!==1||0<at);st++)at=ot*rt[st]+at,rt[st]=255&at,at>>>=8}goog.asserts.assert(0<tt.length);var nt=!1;tt[0]==="-"&&(nt=!0,tt=tt.slice(1));for(var rt=[0,0,0,0,0,0,0,0],it=0;it<tt.length;it++)et(10,tt.charCodeAt(it)-jspb.utils.ZERO_CHAR_CODE_);return nt&&(function(){for(var ot=0;8>ot;ot++)rt[ot]=255&~rt[ot]}(),et(1,1)),goog.crypt.byteArrayToString(rt)},jspb.utils.splitDecimalString=function(tt){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(tt))},jspb.utils.toHexDigit_=function(tt){return String.fromCharCode(10>tt?jspb.utils.ZERO_CHAR_CODE_+tt:jspb.utils.A_CHAR_CODE_-10+tt)},jspb.utils.fromHexCharCode_=function(tt){return tt>=jspb.utils.A_CHAR_CODE_?tt-jspb.utils.A_CHAR_CODE_+10:tt-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(tt){var et=Array(18);et[0]="0",et[1]="x";for(var nt=0;8>nt;nt++){var rt=tt.charCodeAt(7-nt);et[2*nt+2]=jspb.utils.toHexDigit_(rt>>4),et[2*nt+3]=jspb.utils.toHexDigit_(15&rt)}return et.join("")},jspb.utils.hexStringToHash64=function(tt){tt=tt.toLowerCase(),goog.asserts.assert(tt.length==18),goog.asserts.assert(tt[0]=="0"),goog.asserts.assert(tt[1]=="x");for(var et="",nt=0;8>nt;nt++){var rt=jspb.utils.fromHexCharCode_(tt.charCodeAt(2*nt+2)),it=jspb.utils.fromHexCharCode_(tt.charCodeAt(2*nt+3));et=String.fromCharCode(16*rt+it)+et}return et},jspb.utils.hash64ToNumber=function(tt,et){jspb.utils.splitHash64(tt),tt=jspb.utils.split64Low;var nt=jspb.utils.split64High;return et?jspb.utils.joinInt64(tt,nt):jspb.utils.joinUint64(tt,nt)},jspb.utils.numberToHash64=function(tt){return jspb.utils.splitInt64(tt),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(tt,et,nt){for(var rt=0,it=et;it<nt;it++)rt+=tt[it]>>7;return nt-et-rt},jspb.utils.countVarintFields=function(tt,et,nt,rt){var it=0;if(128>(rt=8*rt+jspb.BinaryConstants.WireType.VARINT))for(;et<nt&&tt[et++]==rt;)for(it++;;){var ot=tt[et++];if((128&ot)==0)break}else for(;et<nt;){for(ot=rt;128<ot;){if(tt[et]!=(127&ot|128))return it;et++,ot>>=7}if(tt[et++]!=ot)break;for(it++;(128&(ot=tt[et++]))!=0;);}return it},jspb.utils.countFixedFields_=function(tt,et,nt,rt,it){var ot=0;if(128>rt)for(;et<nt&&tt[et++]==rt;)ot++,et+=it;else for(;et<nt;){for(var at=rt;128<at;){if(tt[et++]!=(127&at|128))return ot;at>>=7}if(tt[et++]!=at)break;ot++,et+=it}return ot},jspb.utils.countFixed32Fields=function(tt,et,nt,rt){return jspb.utils.countFixedFields_(tt,et,nt,8*rt+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(tt,et,nt,rt){return jspb.utils.countFixedFields_(tt,et,nt,8*rt+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(tt,et,nt,rt){var it=0;for(rt=8*rt+jspb.BinaryConstants.WireType.DELIMITED;et<nt;){for(var ot=rt;128<ot;){if(tt[et++]!=(127&ot|128))return it;ot>>=7}if(tt[et++]!=ot)break;it++;for(var at=0,st=1;at+=(127&(ot=tt[et++]))*st,st*=128,(128&ot)!=0;);et+=at}return it},jspb.utils.debugBytesToTextFormat=function(tt){var et='"';if(tt){tt=jspb.utils.byteSourceToUint8Array(tt);for(var nt=0;nt<tt.length;nt++)et+="\\x",16>tt[nt]&&(et+="0"),et+=tt[nt].toString(16)}return et+'"'},jspb.utils.debugScalarToTextFormat=function(tt){return typeof tt=="string"?goog.string.quote(tt):tt.toString()},jspb.utils.stringToByteArray=function(tt){for(var et=new Uint8Array(tt.length),nt=0;nt<tt.length;nt++){var rt=tt.charCodeAt(nt);if(255<rt)throw Error("Conversion error: string contains codepoint outside of byte range");et[nt]=rt}return et},jspb.utils.byteSourceToUint8Array=function(tt){return tt.constructor===Uint8Array?tt:tt.constructor===ArrayBuffer||Buffer!==void 0&&tt.constructor===Buffer||tt.constructor===Array?new Uint8Array(tt):tt.constructor===String?goog.crypt.base64.decodeStringToUint8Array(tt):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(tt,et,nt){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,tt&&this.setBlock(tt,et,nt)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(tt,et,nt){if(jspb.BinaryDecoder.instanceCache_.length){var rt=jspb.BinaryDecoder.instanceCache_.pop();return tt&&rt.setBlock(tt,et,nt),rt}return new jspb.BinaryDecoder(tt,et,nt)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(tt,et,nt){this.bytes_=jspb.utils.byteSourceToUint8Array(tt),this.start_=et!==void 0?et:0,this.end_=nt!==void 0?this.start_+nt:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(tt){this.end_=tt},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(tt){this.cursor_=tt},jspb.BinaryDecoder.prototype.advance=function(tt){this.cursor_+=tt,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(tt){for(var et=128,nt=0,rt=0,it=0;4>it&&128<=et;it++)nt|=(127&(et=this.bytes_[this.cursor_++]))<<7*it;if(128<=et&&(nt|=(127&(et=this.bytes_[this.cursor_++]))<<28,rt|=(127&et)>>4),128<=et)for(it=0;5>it&&128<=et;it++)rt|=(127&(et=this.bytes_[this.cursor_++]))<<7*it+3;if(128>et)return tt(nt>>>0,rt>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(tt){return this.readSplitVarint64(function(et,nt){return jspb.utils.fromZigzag64(et,nt,tt)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(tt){var et=this.bytes_,nt=this.cursor_;this.cursor_+=8;for(var rt=0,it=0,ot=nt+7;ot>=nt;ot--)rt=rt<<8|et[ot],it=it<<8|et[ot+4];return tt(rt,it)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(tt){for(;128<tt;)this.cursor_--,tt>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var tt=this.bytes_,et=tt[this.cursor_+0],nt=127&et;return 128>et?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(127&(et=tt[this.cursor_+1]))<<7,128>et?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(127&(et=tt[this.cursor_+2]))<<14,128>et?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(127&(et=tt[this.cursor_+3]))<<21,128>et?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),nt):(nt|=(15&(et=tt[this.cursor_+4]))<<28,128>et?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),nt>>>0):(this.cursor_+=5,128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&128<=tt[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),nt)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var tt=this.readUnsignedVarint32();return tt>>>1^-(1&tt)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var tt=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),tt},jspb.BinaryDecoder.prototype.readUint16=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),tt<<0|et<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1],nt=this.bytes_[this.cursor_+2],rt=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(tt<<0|et<<8|nt<<16|rt<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinUint64(tt,et)},jspb.BinaryDecoder.prototype.readUint64String=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinUnsignedDecimalString(tt,et)},jspb.BinaryDecoder.prototype.readInt8=function(){var tt=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),tt<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(tt<<0|et<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var tt=this.bytes_[this.cursor_+0],et=this.bytes_[this.cursor_+1],nt=this.bytes_[this.cursor_+2],rt=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),tt<<0|et<<8|nt<<16|rt<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinInt64(tt,et)},jspb.BinaryDecoder.prototype.readInt64String=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinSignedDecimalString(tt,et)},jspb.BinaryDecoder.prototype.readFloat=function(){var tt=this.readUint32();return jspb.utils.joinFloat32(tt,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var tt=this.readUint32(),et=this.readUint32();return jspb.utils.joinFloat64(tt,et)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(tt){var et=this.bytes_,nt=this.cursor_;tt=nt+tt;for(var rt=[],it="";nt<tt;){var ot=et[nt++];if(128>ot)rt.push(ot);else{if(192>ot)continue;if(224>ot){var at=et[nt++];rt.push((31&ot)<<6|63&at)}else if(240>ot){at=et[nt++];var st=et[nt++];rt.push((15&ot)<<12|(63&at)<<6|63&st)}else 248>ot&&(ot=(7&ot)<<18|(63&(at=et[nt++]))<<12|(63&(st=et[nt++]))<<6|63&et[nt++],ot-=65536,rt.push(55296+(ot>>10&1023),56320+(1023&ot)))}8192<=rt.length&&(it+=String.fromCharCode.apply(null,rt),rt.length=0)}return it+=goog.crypt.byteArrayToString(rt),this.cursor_=nt,it},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var tt=this.readUnsignedVarint32();return this.readString(tt)},jspb.BinaryDecoder.prototype.readBytes=function(tt){if(0>tt||this.cursor_+tt>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var et=this.bytes_.subarray(this.cursor_,this.cursor_+tt);return this.cursor_+=tt,goog.asserts.assert(this.cursor_<=this.end_),et},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var tt=this.bytes_,et=this.cursor_,nt=tt[et+0],rt=tt[et+1],it=tt[et+2],ot=tt[et+3],at=tt[et+4],st=tt[et+5],lt=tt[et+6];return tt=tt[et+7],this.cursor_+=8,String.fromCharCode(nt,rt,it,ot,at,st,lt,tt)},jspb.BinaryReader=function(tt,et,nt){this.decoder_=jspb.BinaryDecoder.alloc(tt,et,nt),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(tt,et,nt){if(jspb.BinaryReader.instanceCache_.length){var rt=jspb.BinaryReader.instanceCache_.pop();return tt&&rt.decoder_.setBlock(tt,et,nt),rt}return new jspb.BinaryReader(tt,et,nt)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(tt,et,nt){this.decoder_.setBlock(tt,et,nt),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(tt){this.decoder_.advance(tt)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var tt=this.decoder_.readUnsignedVarint32(),et=tt>>>3;return(tt&=7)!=jspb.BinaryConstants.WireType.VARINT&&tt!=jspb.BinaryConstants.WireType.FIXED32&&tt!=jspb.BinaryConstants.WireType.FIXED64&&tt!=jspb.BinaryConstants.WireType.DELIMITED&&tt!=jspb.BinaryConstants.WireType.START_GROUP&&tt!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",tt,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=et,this.nextWireType_=tt,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var tt=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==tt;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var tt=this.decoder_.readUnsignedVarint32();this.decoder_.advance(tt)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var tt=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=tt&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(tt,et){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[tt]),this.readCallbacks_[tt]=et},jspb.BinaryReader.prototype.runReadCallback=function(tt){return goog.asserts.assert(this.readCallbacks_!==null),tt=this.readCallbacks_[tt],goog.asserts.assert(tt),tt(this)},jspb.BinaryReader.prototype.readAny=function(tt){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(tt);var et=jspb.BinaryConstants.FieldType;switch(tt){case et.DOUBLE:return this.readDouble();case et.FLOAT:return this.readFloat();case et.INT64:return this.readInt64();case et.UINT64:return this.readUint64();case et.INT32:return this.readInt32();case et.FIXED64:return this.readFixed64();case et.FIXED32:return this.readFixed32();case et.BOOL:return this.readBool();case et.STRING:return this.readString();case et.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case et.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case et.BYTES:return this.readBytes();case et.UINT32:return this.readUint32();case et.ENUM:return this.readEnum();case et.SFIXED32:return this.readSfixed32();case et.SFIXED64:return this.readSfixed64();case et.SINT32:return this.readSint32();case et.SINT64:return this.readSint64();case et.FHASH64:return this.readFixedHash64();case et.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(tt,et){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var nt=this.decoder_.getEnd(),rt=this.decoder_.readUnsignedVarint32();rt=this.decoder_.getCursor()+rt,this.decoder_.setEnd(rt),et(tt,this),this.decoder_.setCursor(rt),this.decoder_.setEnd(nt)},jspb.BinaryReader.prototype.readGroup=function(tt,et,nt){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==tt),nt(et,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var tt=this.decoder_.readUnsignedVarint32(),et=this.decoder_.getCursor(),nt=et+tt;return tt=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),et,tt),this.decoder_.setCursor(nt),tt},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var tt=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(tt)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var tt=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(tt)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(tt){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(tt)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(tt){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(et,nt){return jspb.utils.fromZigzag64(et,nt,tt)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(tt){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(tt)},jspb.BinaryReader.prototype.readPackedField_=function(tt){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var et=this.decoder_.readUnsignedVarint32();et=this.decoder_.getCursor()+et;for(var nt=[];this.decoder_.getCursor()<et;)nt.push(tt.call(this.decoder_));return nt},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(tt,et){this.arr_=tt,this.valueCtor_=et,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var tt=0;tt<this.arr_.length;tt++){var et=this.arr_[tt],nt=et[0];this.map_[nt.toString()]=new jspb.Map.Entry_(nt,et[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var tt,et=this.map_;for(tt in et)if(Object.prototype.hasOwnProperty.call(et,tt)){var nt=et[tt].valueWrapper;nt&&nt.toArray()}}}else{for(this.arr_.length=0,(et=this.stringKeys_()).sort(),tt=0;tt<et.length;tt++){var rt=this.map_[et[tt]];(nt=rt.valueWrapper)&&nt.toArray(),this.arr_.push([rt.key,rt.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(tt,et){for(var nt=this.toArray(),rt=[],it=0;it<nt.length;it++){var ot=this.map_[nt[it][0].toString()];this.wrapEntry_(ot);var at=ot.valueWrapper;at?(goog.asserts.assert(et),rt.push([ot.key,et(tt,at)])):rt.push([ot.key,ot.value])}return rt},jspb.Map.fromObject=function(tt,et,nt){et=new jspb.Map([],et);for(var rt=0;rt<tt.length;rt++){var it=tt[rt][0],ot=nt(tt[rt][1]);et.set(it,ot)}return et},jspb.Map.ArrayIteratorIterable_=function(tt){this.idx_=0,this.arr_=tt},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol!="undefined"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(tt){tt=tt.toString();var et=this.map_.hasOwnProperty(tt);return delete this.map_[tt],this.arrClean=!1,et},jspb.Map.prototype.getEntryList=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++){var rt=this.map_[et[nt]];tt.push([rt.key,rt.value])}return tt},jspb.Map.prototype.entries=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++){var rt=this.map_[et[nt]];tt.push([rt.key,this.wrapEntry_(rt)])}return new jspb.Map.ArrayIteratorIterable_(tt)},jspb.Map.prototype.keys=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++)tt.push(this.map_[et[nt]].key);return new jspb.Map.ArrayIteratorIterable_(tt)},jspb.Map.prototype.values=function(){var tt=[],et=this.stringKeys_();et.sort();for(var nt=0;nt<et.length;nt++)tt.push(this.wrapEntry_(this.map_[et[nt]]));return new jspb.Map.ArrayIteratorIterable_(tt)},jspb.Map.prototype.forEach=function(tt,et){var nt=this.stringKeys_();nt.sort();for(var rt=0;rt<nt.length;rt++){var it=this.map_[nt[rt]];tt.call(et,this.wrapEntry_(it),it.key,this)}},jspb.Map.prototype.set=function(tt,et){var nt=new jspb.Map.Entry_(tt);return this.valueCtor_?(nt.valueWrapper=et,nt.value=et.toArray()):nt.value=et,this.map_[tt.toString()]=nt,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(tt){return this.valueCtor_?(tt.valueWrapper||(tt.valueWrapper=new this.valueCtor_(tt.value)),tt.valueWrapper):tt.value},jspb.Map.prototype.get=function(tt){if(tt=this.map_[tt.toString()])return this.wrapEntry_(tt)},jspb.Map.prototype.has=function(tt){return tt.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(tt,et,nt,rt,it){var ot=this.stringKeys_();ot.sort();for(var at=0;at<ot.length;at++){var st=this.map_[ot[at]];et.beginSubMessage(tt),nt.call(et,1,st.key),this.valueCtor_?rt.call(et,2,this.wrapEntry_(st),it):rt.call(et,2,st.value),et.endSubMessage()}},jspb.Map.deserializeBinary=function(tt,et,nt,rt,it,ot,at){for(;et.nextField()&&!et.isEndGroup();){var st=et.getFieldNumber();st==1?ot=nt.call(et):st==2&&(tt.valueCtor_?(goog.asserts.assert(it),at||(at=new tt.valueCtor_),rt.call(et,at,it)):at=rt.call(et))}goog.asserts.assert(ot!=null),goog.asserts.assert(at!=null),tt.set(ot,at)},jspb.Map.prototype.stringKeys_=function(){var tt,et=this.map_,nt=[];for(tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&nt.push(tt);return nt},jspb.Map.Entry_=function(tt,et){this.key=tt,this.value=et,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(tt,et,nt,rt,it){this.fieldIndex=tt,this.fieldName=et,this.ctor=nt,this.toObjectFn=rt,this.isRepeated=it},jspb.ExtensionFieldBinaryInfo=function(tt,et,nt,rt,it,ot){this.fieldInfo=tt,this.binaryReaderFn=et,this.binaryWriterFn=nt,this.binaryMessageSerializeFn=rt,this.binaryMessageDeserializeFn=it,this.isPacked=ot},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(tt,et){return et+tt.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(tt,et){return et-tt.arrayIndexOffset_},jspb.Message.initialize=function(tt,et,nt,rt,it,ot){if(tt.wrappers_=null,et||(et=nt?[nt]:[]),tt.messageId_=nt?String(nt):void 0,tt.arrayIndexOffset_=nt===0?-1:0,tt.array=et,jspb.Message.initPivotAndExtensionObject_(tt,rt),tt.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(tt.repeatedFields=it),it)for(et=0;et<it.length;et++)(nt=it[et])<tt.pivot_?(nt=jspb.Message.getIndex_(tt,nt),tt.array[nt]=tt.array[nt]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(tt),tt.extensionObject_[nt]=tt.extensionObject_[nt]||jspb.Message.EMPTY_LIST_SENTINEL_);if(ot&&ot.length)for(et=0;et<ot.length;et++)jspb.Message.computeOneofCase(tt,ot[et])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(tt){return jspb.Message.ASSUME_LOCAL_ARRAYS?tt instanceof Array:Array.isArray(tt)},jspb.Message.isExtensionObject_=function(tt){return!(tt===null||typeof tt!="object"||jspb.Message.isArray_(tt)||jspb.Message.SUPPORTS_UINT8ARRAY_&&tt instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(tt,et){var nt=tt.array.length,rt=-1;if(nt&&(rt=nt-1,nt=tt.array[rt],jspb.Message.isExtensionObject_(nt)))return tt.pivot_=jspb.Message.getFieldNumber_(tt,rt),void(tt.extensionObject_=nt);-1<et?(tt.pivot_=Math.max(et,jspb.Message.getFieldNumber_(tt,rt+1)),tt.extensionObject_=null):tt.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(tt){var et=jspb.Message.getIndex_(tt,tt.pivot_);tt.array[et]||(tt.extensionObject_=tt.array[et]={})},jspb.Message.toObjectList=function(tt,et,nt){for(var rt=[],it=0;it<tt.length;it++)rt[it]=et.call(tt[it],nt,tt[it]);return rt},jspb.Message.toObjectExtension=function(tt,et,nt,rt,it){for(var ot in nt){var at=nt[ot],st=rt.call(tt,at);if(st!=null){for(var lt in at.fieldName)if(at.fieldName.hasOwnProperty(lt))break;et[lt]=at.toObjectFn?at.isRepeated?jspb.Message.toObjectList(st,at.toObjectFn,it):at.toObjectFn(it,st):st}}},jspb.Message.serializeBinaryExtensions=function(tt,et,nt,rt){for(var it in nt){var ot=nt[it],at=ot.fieldInfo;if(!ot.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var st=rt.call(tt,at);if(st!=null)if(at.isMessageType()){if(!ot.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");ot.binaryWriterFn.call(et,at.fieldIndex,st,ot.binaryMessageSerializeFn)}else ot.binaryWriterFn.call(et,at.fieldIndex,st)}},jspb.Message.readBinaryExtension=function(tt,et,nt,rt,it){var ot=nt[et.getFieldNumber()];if(ot){if(nt=ot.fieldInfo,!ot.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(nt.isMessageType()){var at=new nt.ctor;ot.binaryReaderFn.call(et,at,ot.binaryMessageDeserializeFn)}else at=ot.binaryReaderFn.call(et);nt.isRepeated&&!ot.isPacked?(et=rt.call(tt,nt))?et.push(at):it.call(tt,nt,[at]):it.call(tt,nt,at)}else et.skipField()},jspb.Message.getField=function(tt,et){if(et<tt.pivot_){et=jspb.Message.getIndex_(tt,et);var nt=tt.array[et];return nt===jspb.Message.EMPTY_LIST_SENTINEL_?tt.array[et]=[]:nt}if(tt.extensionObject_)return(nt=tt.extensionObject_[et])===jspb.Message.EMPTY_LIST_SENTINEL_?tt.extensionObject_[et]=[]:nt},jspb.Message.getRepeatedField=function(tt,et){return jspb.Message.getField(tt,et)},jspb.Message.getOptionalFloatingPointField=function(tt,et){return(tt=jspb.Message.getField(tt,et))==null?tt:+tt},jspb.Message.getBooleanField=function(tt,et){return(tt=jspb.Message.getField(tt,et))==null?tt:!!tt},jspb.Message.getRepeatedFloatingPointField=function(tt,et){var nt=jspb.Message.getRepeatedField(tt,et);if(tt.convertedPrimitiveFields_||(tt.convertedPrimitiveFields_={}),!tt.convertedPrimitiveFields_[et]){for(var rt=0;rt<nt.length;rt++)nt[rt]=+nt[rt];tt.convertedPrimitiveFields_[et]=!0}return nt},jspb.Message.getRepeatedBooleanField=function(tt,et){var nt=jspb.Message.getRepeatedField(tt,et);if(tt.convertedPrimitiveFields_||(tt.convertedPrimitiveFields_={}),!tt.convertedPrimitiveFields_[et]){for(var rt=0;rt<nt.length;rt++)nt[rt]=!!nt[rt];tt.convertedPrimitiveFields_[et]=!0}return nt},jspb.Message.bytesAsB64=function(tt){return tt==null||typeof tt=="string"?tt:jspb.Message.SUPPORTS_UINT8ARRAY_&&tt instanceof Uint8Array?goog.crypt.base64.encodeByteArray(tt):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(tt)),null)},jspb.Message.bytesAsU8=function(tt){return tt==null||tt instanceof Uint8Array?tt:typeof tt=="string"?goog.crypt.base64.decodeStringToUint8Array(tt):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(tt)),null)},jspb.Message.bytesListAsB64=function(tt){return jspb.Message.assertConsistentTypes_(tt),tt.length&&typeof tt[0]!="string"?goog.array.map(tt,jspb.Message.bytesAsB64):tt},jspb.Message.bytesListAsU8=function(tt){return jspb.Message.assertConsistentTypes_(tt),!tt.length||tt[0]instanceof Uint8Array?tt:goog.array.map(tt,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(tt){if(goog.DEBUG&&tt&&1<tt.length){var et=goog.typeOf(tt[0]);goog.array.forEach(tt,function(nt){goog.typeOf(nt)!=et&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(nt)+" expected "+et)})}},jspb.Message.getFieldWithDefault=function(tt,et,nt){return(tt=jspb.Message.getField(tt,et))==null?nt:tt},jspb.Message.getBooleanFieldWithDefault=function(tt,et,nt){return(tt=jspb.Message.getBooleanField(tt,et))==null?nt:tt},jspb.Message.getFloatingPointFieldWithDefault=function(tt,et,nt){return(tt=jspb.Message.getOptionalFloatingPointField(tt,et))==null?nt:tt},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(tt,et,nt,rt){if(tt.wrappers_||(tt.wrappers_={}),et in tt.wrappers_)return tt.wrappers_[et];var it=jspb.Message.getField(tt,et);if(!it){if(nt)return;it=[],jspb.Message.setField(tt,et,it)}return tt.wrappers_[et]=new jspb.Map(it,rt)},jspb.Message.setField=function(tt,et,nt){return goog.asserts.assertInstanceof(tt,jspb.Message),et<tt.pivot_?tt.array[jspb.Message.getIndex_(tt,et)]=nt:(jspb.Message.maybeInitEmptyExtensionObject_(tt),tt.extensionObject_[et]=nt),tt},jspb.Message.setProto3IntField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,0)},jspb.Message.setProto3FloatField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,0)},jspb.Message.setProto3BooleanField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,!1)},jspb.Message.setProto3StringField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,"")},jspb.Message.setProto3BytesField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,"")},jspb.Message.setProto3EnumField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,0)},jspb.Message.setProto3StringIntField=function(tt,et,nt){return jspb.Message.setFieldIgnoringDefault_(tt,et,nt,"0")},jspb.Message.setFieldIgnoringDefault_=function(tt,et,nt,rt){return goog.asserts.assertInstanceof(tt,jspb.Message),nt!==rt?jspb.Message.setField(tt,et,nt):et<tt.pivot_?tt.array[jspb.Message.getIndex_(tt,et)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(tt),delete tt.extensionObject_[et]),tt},jspb.Message.addToRepeatedField=function(tt,et,nt,rt){return goog.asserts.assertInstanceof(tt,jspb.Message),et=jspb.Message.getRepeatedField(tt,et),rt!=null?et.splice(rt,0,nt):et.push(nt),tt},jspb.Message.setOneofField=function(tt,et,nt,rt){return goog.asserts.assertInstanceof(tt,jspb.Message),(nt=jspb.Message.computeOneofCase(tt,nt))&&nt!==et&&rt!==void 0&&(tt.wrappers_&&nt in tt.wrappers_&&(tt.wrappers_[nt]=void 0),jspb.Message.setField(tt,nt,void 0)),jspb.Message.setField(tt,et,rt)},jspb.Message.computeOneofCase=function(tt,et){for(var nt,rt,it=0;it<et.length;it++){var ot=et[it],at=jspb.Message.getField(tt,ot);at!=null&&(nt=ot,rt=at,jspb.Message.setField(tt,ot,void 0))}return nt?(jspb.Message.setField(tt,nt,rt),nt):0},jspb.Message.getWrapperField=function(tt,et,nt,rt){if(tt.wrappers_||(tt.wrappers_={}),!tt.wrappers_[nt]){var it=jspb.Message.getField(tt,nt);(rt||it)&&(tt.wrappers_[nt]=new et(it))}return tt.wrappers_[nt]},jspb.Message.getRepeatedWrapperField=function(tt,et,nt){return jspb.Message.wrapRepeatedField_(tt,et,nt),(et=tt.wrappers_[nt])==jspb.Message.EMPTY_LIST_SENTINEL_&&(et=tt.wrappers_[nt]=[]),et},jspb.Message.wrapRepeatedField_=function(tt,et,nt){if(tt.wrappers_||(tt.wrappers_={}),!tt.wrappers_[nt]){for(var rt=jspb.Message.getRepeatedField(tt,nt),it=[],ot=0;ot<rt.length;ot++)it[ot]=new et(rt[ot]);tt.wrappers_[nt]=it}},jspb.Message.setWrapperField=function(tt,et,nt){goog.asserts.assertInstanceof(tt,jspb.Message),tt.wrappers_||(tt.wrappers_={});var rt=nt&&nt.toArray();return tt.wrappers_[et]=nt,jspb.Message.setField(tt,et,rt)},jspb.Message.setOneofWrapperField=function(tt,et,nt,rt){goog.asserts.assertInstanceof(tt,jspb.Message),tt.wrappers_||(tt.wrappers_={});var it=rt&&rt.toArray();return tt.wrappers_[et]=rt,jspb.Message.setOneofField(tt,et,nt,it)},jspb.Message.setRepeatedWrapperField=function(tt,et,nt){goog.asserts.assertInstanceof(tt,jspb.Message),tt.wrappers_||(tt.wrappers_={}),nt=nt||[];for(var rt=[],it=0;it<nt.length;it++)rt[it]=nt[it].toArray();return tt.wrappers_[et]=nt,jspb.Message.setField(tt,et,rt)},jspb.Message.addToRepeatedWrapperField=function(tt,et,nt,rt,it){jspb.Message.wrapRepeatedField_(tt,rt,et);var ot=tt.wrappers_[et];return ot||(ot=tt.wrappers_[et]=[]),nt=nt||new rt,tt=jspb.Message.getRepeatedField(tt,et),it!=null?(ot.splice(it,0,nt),tt.splice(it,0,nt.toArray())):(ot.push(nt),tt.push(nt.toArray())),nt},jspb.Message.toMap=function(tt,et,nt,rt){for(var it={},ot=0;ot<tt.length;ot++)it[et.call(tt[ot])]=nt?nt.call(tt[ot],rt,tt[ot]):tt[ot];return it},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var tt in this.wrappers_){var et=this.wrappers_[tt];if(Array.isArray(et))for(var nt=0;nt<et.length;nt++)et[nt]&&et[nt].toArray();else et&&et.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(tt){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var et=tt.fieldIndex;if(tt.isRepeated){if(tt.isMessageType())return this.wrappers_[et]||(this.wrappers_[et]=goog.array.map(this.extensionObject_[et]||[],function(nt){return new tt.ctor(nt)})),this.wrappers_[et]}else if(tt.isMessageType())return!this.wrappers_[et]&&this.extensionObject_[et]&&(this.wrappers_[et]=new tt.ctor(this.extensionObject_[et])),this.wrappers_[et];return this.extensionObject_[et]}},jspb.Message.prototype.setExtension=function(tt,et){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var nt=tt.fieldIndex;return tt.isRepeated?(et=et||[],tt.isMessageType()?(this.wrappers_[nt]=et,this.extensionObject_[nt]=goog.array.map(et,function(rt){return rt.toArray()})):this.extensionObject_[nt]=et):tt.isMessageType()?(this.wrappers_[nt]=et,this.extensionObject_[nt]=et&&et.toArray()):this.extensionObject_[nt]=et,this},jspb.Message.difference=function(tt,et){if(!(tt instanceof et.constructor))throw Error("Messages have different types.");var nt=tt.toArray();et=et.toArray();var rt=[],it=0,ot=nt.length>et.length?nt.length:et.length;for(tt.getJsPbMessageId()&&(rt[0]=tt.getJsPbMessageId(),it=1);it<ot;it++)jspb.Message.compareFields(nt[it],et[it])||(rt[it]=et[it]);return new tt.constructor(rt)},jspb.Message.equals=function(tt,et){return tt==et||!(!tt||!et)&&tt instanceof et.constructor&&jspb.Message.compareFields(tt.toArray(),et.toArray())},jspb.Message.compareExtensions=function(tt,et){tt=tt||{},et=et||{};var nt,rt={};for(nt in tt)rt[nt]=0;for(nt in et)rt[nt]=0;for(nt in rt)if(!jspb.Message.compareFields(tt[nt],et[nt]))return!1;return!0},jspb.Message.compareFields=function(tt,et){if(tt==et)return!0;if(!goog.isObject(tt)||!goog.isObject(et))return!!(typeof tt=="number"&&isNaN(tt)||typeof et=="number"&&isNaN(et))&&String(tt)==String(et);if(tt.constructor!=et.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&tt.constructor===Uint8Array){if(tt.length!=et.length)return!1;for(var nt=0;nt<tt.length;nt++)if(tt[nt]!=et[nt])return!1;return!0}if(tt.constructor===Array){var rt=void 0,it=void 0,ot=Math.max(tt.length,et.length);for(nt=0;nt<ot;nt++){var at=tt[nt],st=et[nt];if(at&&at.constructor==Object&&(goog.asserts.assert(rt===void 0),goog.asserts.assert(nt===tt.length-1),rt=at,at=void 0),st&&st.constructor==Object&&(goog.asserts.assert(it===void 0),goog.asserts.assert(nt===et.length-1),it=st,st=void 0),!jspb.Message.compareFields(at,st))return!1}return!rt&&!it||(rt=rt||{},it=it||{},jspb.Message.compareExtensions(rt,it))}if(tt.constructor===Object)return jspb.Message.compareExtensions(tt,et);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(tt){return jspb.Message.cloneMessage(tt)},jspb.Message.cloneMessage=function(tt){return new tt.constructor(jspb.Message.clone_(tt.toArray()))},jspb.Message.copyInto=function(tt,et){goog.asserts.assertInstanceof(tt,jspb.Message),goog.asserts.assertInstanceof(et,jspb.Message),goog.asserts.assert(tt.constructor==et.constructor,"Copy source and target message should have the same type."),tt=jspb.Message.clone(tt);for(var nt=et.toArray(),rt=tt.toArray(),it=nt.length=0;it<rt.length;it++)nt[it]=rt[it];et.wrappers_=tt.wrappers_,et.extensionObject_=tt.extensionObject_},jspb.Message.clone_=function(tt){if(Array.isArray(tt)){for(var et=Array(tt.length),nt=0;nt<tt.length;nt++){var rt=tt[nt];rt!=null&&(et[nt]=typeof rt=="object"?jspb.Message.clone_(goog.asserts.assert(rt)):rt)}return et}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&tt instanceof Uint8Array)return new Uint8Array(tt);for(nt in et={},tt)(rt=tt[nt])!=null&&(et[nt]=typeof rt=="object"?jspb.Message.clone_(goog.asserts.assert(rt)):rt);return et},jspb.Message.registerMessageType=function(tt,et){et.messageId=tt},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(tt,et){this.lo=tt,this.hi=et},jspb.arith.UInt64.prototype.cmp=function(tt){return this.hi<tt.hi||this.hi==tt.hi&&this.lo<tt.lo?-1:this.hi==tt.hi&&this.lo==tt.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(tt){return new jspb.arith.UInt64((this.lo+tt.lo&4294967295)>>>0>>>0,((this.hi+tt.hi&4294967295)>>>0)+(4294967296<=this.lo+tt.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(tt){return new jspb.arith.UInt64((this.lo-tt.lo&4294967295)>>>0>>>0,((this.hi-tt.hi&4294967295)>>>0)-(0>this.lo-tt.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(tt,et){var nt=65535&tt,rt=65535&et,it=et>>>16;for(et=nt*rt+65536*(nt*it&65535)+65536*((tt>>>=16)*rt&65535),nt=tt*it+(nt*it>>>16)+(tt*rt>>>16);4294967296<=et;)et-=4294967296,nt+=1;return new jspb.arith.UInt64(et>>>0,nt>>>0)},jspb.arith.UInt64.prototype.mul=function(tt){var et=jspb.arith.UInt64.mul32x32(this.lo,tt);return(tt=jspb.arith.UInt64.mul32x32(this.hi,tt)).hi=tt.lo,tt.lo=0,et.add(tt)},jspb.arith.UInt64.prototype.div=function(tt){if(tt==0)return[];var et=new jspb.arith.UInt64(0,0),nt=new jspb.arith.UInt64(this.lo,this.hi);tt=new jspb.arith.UInt64(tt,0);for(var rt=new jspb.arith.UInt64(1,0);!tt.msb();)tt=tt.leftShift(),rt=rt.leftShift();for(;!rt.zero();)0>=tt.cmp(nt)&&(et=et.add(rt),nt=nt.sub(tt)),tt=tt.rightShift(),rt=rt.rightShift();return[et,nt]},jspb.arith.UInt64.prototype.toString=function(){for(var tt="",et=this;!et.zero();){var nt=(et=et.div(10))[0];tt=et[1].lo+tt,et=nt}return tt==""&&(tt="0"),tt},jspb.arith.UInt64.fromString=function(tt){for(var et=new jspb.arith.UInt64(0,0),nt=new jspb.arith.UInt64(0,0),rt=0;rt<tt.length;rt++){if("0">tt[rt]||"9"<tt[rt])return null;var it=parseInt(tt[rt],10);nt.lo=it,et=et.mul(10).add(nt)}return et},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(tt,et){this.lo=tt,this.hi=et},jspb.arith.Int64.prototype.add=function(tt){return new jspb.arith.Int64((this.lo+tt.lo&4294967295)>>>0>>>0,((this.hi+tt.hi&4294967295)>>>0)+(4294967296<=this.lo+tt.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(tt){return new jspb.arith.Int64((this.lo-tt.lo&4294967295)>>>0>>>0,((this.hi-tt.hi&4294967295)>>>0)-(0>this.lo-tt.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var tt=(2147483648&this.hi)!=0,et=new jspb.arith.UInt64(this.lo,this.hi);return tt&&(et=new jspb.arith.UInt64(0,0).sub(et)),(tt?"-":"")+et.toString()},jspb.arith.Int64.fromString=function(tt){var et=0<tt.length&&tt[0]=="-";return et&&(tt=tt.substring(1)),(tt=jspb.arith.UInt64.fromString(tt))===null?null:(et&&(tt=new jspb.arith.UInt64(0,0).sub(tt)),new jspb.arith.Int64(tt.lo,tt.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var tt=this.buffer_;return this.buffer_=[],tt},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(tt,et){for(goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(et==Math.floor(et)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32);0<et||127<tt;)this.buffer_.push(127&tt|128),tt=(tt>>>7|et<<25)>>>0,et>>>=7;this.buffer_.push(tt)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(tt,et){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(et==Math.floor(et)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(tt),this.writeUint32(et)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(tt){for(goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32);127<tt;)this.buffer_.push(127&tt|128),tt>>>=7;this.buffer_.push(tt)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(tt){if(goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),0<=tt)this.writeUnsignedVarint32(tt);else{for(var et=0;9>et;et++)this.buffer_.push(127&tt|128),tt>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_63&&tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((tt<<1^tt>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_63&&tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(tt){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(tt))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(tt){var et=this;jspb.utils.splitHash64(tt),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(nt,rt){et.writeSplitVarint64(nt>>>0,rt>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&256>tt),this.buffer_.push(tt>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&65536>tt),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255),this.buffer_.push(tt>>>16&255),this.buffer_.push(tt>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(0<=tt&&tt<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(tt),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(-128<=tt&&128>tt),this.buffer_.push(tt>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(-32768<=tt&&32768>tt),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(tt>>>0&255),this.buffer_.push(tt>>>8&255),this.buffer_.push(tt>>>16&255),this.buffer_.push(tt>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_63&&tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(tt),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(+tt>=-jspb.BinaryConstants.TWO_TO_63&&+tt<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(tt)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(tt){goog.asserts.assert(1/0===tt||-1/0===tt||isNaN(tt)||tt>=-jspb.BinaryConstants.FLOAT32_MAX&&tt<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(tt),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(tt){goog.asserts.assert(1/0===tt||-1/0===tt||isNaN(tt)||tt>=-jspb.BinaryConstants.FLOAT64_MAX&&tt<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(tt),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(tt){goog.asserts.assert(typeof tt=="boolean"||typeof tt=="number"),this.buffer_.push(tt?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(tt){goog.asserts.assert(tt==Math.floor(tt)),goog.asserts.assert(tt>=-jspb.BinaryConstants.TWO_TO_31&&tt<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(tt)},jspb.BinaryEncoder.prototype.writeBytes=function(tt){this.buffer_.push.apply(this.buffer_,tt)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(tt){jspb.utils.splitHash64(tt),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(tt){jspb.utils.splitHash64(tt),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(tt){for(var et=this.buffer_.length,nt=0;nt<tt.length;nt++){var rt=tt.charCodeAt(nt);if(128>rt)this.buffer_.push(rt);else if(2048>rt)this.buffer_.push(rt>>6|192),this.buffer_.push(63&rt|128);else if(65536>rt)if(55296<=rt&&56319>=rt&&nt+1<tt.length){var it=tt.charCodeAt(nt+1);56320<=it&&57343>=it&&(rt=1024*(rt-55296)+it-56320+65536,this.buffer_.push(rt>>18|240),this.buffer_.push(rt>>12&63|128),this.buffer_.push(rt>>6&63|128),this.buffer_.push(63&rt|128),nt++)}else this.buffer_.push(rt>>12|224),this.buffer_.push(rt>>6&63|128),this.buffer_.push(63&rt|128)}return this.buffer_.length-et},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(tt){var et=this.encoder_.end();this.blocks_.push(et),this.blocks_.push(tt),this.totalLength_+=et.length+tt.length},jspb.BinaryWriter.prototype.beginDelimited_=function(tt){return this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),tt=this.encoder_.end(),this.blocks_.push(tt),this.totalLength_+=tt.length,tt.push(this.totalLength_),tt},jspb.BinaryWriter.prototype.endDelimited_=function(tt){var et=tt.pop();for(et=this.totalLength_+this.encoder_.length()-et,goog.asserts.assert(0<=et);127<et;)tt.push(127&et|128),et>>>=7,this.totalLength_++;tt.push(et),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(tt,et,nt){this.appendUint8Array_(tt.subarray(et,nt))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(tt,et,nt){tt!=null&&et!=null&&nt!=null&&this.writeSerializedMessage(tt,et,nt)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var tt=new Uint8Array(this.totalLength_+this.encoder_.length()),et=this.blocks_,nt=et.length,rt=0,it=0;it<nt;it++){var ot=et[it];tt.set(ot,rt),rt+=ot.length}return et=this.encoder_.end(),tt.set(et,rt),rt+=et.length,goog.asserts.assert(rt==tt.length),this.blocks_=[tt],tt},jspb.BinaryWriter.prototype.getResultBase64String=function(tt){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),tt)},jspb.BinaryWriter.prototype.beginSubMessage=function(tt){this.bookmarks_.push(this.beginDelimited_(tt))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(tt,et){goog.asserts.assert(1<=tt&&tt==Math.floor(tt)),this.encoder_.writeUnsignedVarint32(8*tt+et)},jspb.BinaryWriter.prototype.writeAny=function(tt,et,nt){var rt=jspb.BinaryConstants.FieldType;switch(tt){case rt.DOUBLE:this.writeDouble(et,nt);break;case rt.FLOAT:this.writeFloat(et,nt);break;case rt.INT64:this.writeInt64(et,nt);break;case rt.UINT64:this.writeUint64(et,nt);break;case rt.INT32:this.writeInt32(et,nt);break;case rt.FIXED64:this.writeFixed64(et,nt);break;case rt.FIXED32:this.writeFixed32(et,nt);break;case rt.BOOL:this.writeBool(et,nt);break;case rt.STRING:this.writeString(et,nt);break;case rt.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case rt.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case rt.BYTES:this.writeBytes(et,nt);break;case rt.UINT32:this.writeUint32(et,nt);break;case rt.ENUM:this.writeEnum(et,nt);break;case rt.SFIXED32:this.writeSfixed32(et,nt);break;case rt.SFIXED64:this.writeSfixed64(et,nt);break;case rt.SINT32:this.writeSint32(et,nt);break;case rt.SINT64:this.writeSint64(et,nt);break;case rt.FHASH64:this.writeFixedHash64(et,nt);break;case rt.VHASH64:this.writeVarintHash64(et,nt);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(et))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(et))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(et))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(et))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(et))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(et))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(et))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(et))},jspb.BinaryWriter.prototype.writeInt32=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeInt32String=function(tt,et){et!=null&&(et=parseInt(et,10),goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeInt64=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_63&&et<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(tt,et))},jspb.BinaryWriter.prototype.writeInt64String=function(tt,et){et!=null&&(et=jspb.arith.Int64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeUint32=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeUint32String=function(tt,et){et!=null&&(et=parseInt(et,10),goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeUint64=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(tt,et))},jspb.BinaryWriter.prototype.writeUint64String=function(tt,et){et!=null&&(et=jspb.arith.UInt64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeSint32=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(tt,et))},jspb.BinaryWriter.prototype.writeSint64=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_63&&et<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(tt,et))},jspb.BinaryWriter.prototype.writeSintHash64=function(tt,et){et!=null&&this.writeZigzagVarintHash64_(tt,et)},jspb.BinaryWriter.prototype.writeSint64String=function(tt,et){et!=null&&this.writeZigzagVarint64String_(tt,et)},jspb.BinaryWriter.prototype.writeFixed32=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(et))},jspb.BinaryWriter.prototype.writeFixed64=function(tt,et){et!=null&&(goog.asserts.assert(0<=et&&et<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(et))},jspb.BinaryWriter.prototype.writeFixed64String=function(tt,et){et!=null&&(et=jspb.arith.UInt64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(et))},jspb.BinaryWriter.prototype.writeSfixed64=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_63&&et<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(et))},jspb.BinaryWriter.prototype.writeSfixed64String=function(tt,et){et!=null&&(et=jspb.arith.Int64.fromString(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(et.lo,et.hi))},jspb.BinaryWriter.prototype.writeFloat=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(et))},jspb.BinaryWriter.prototype.writeDouble=function(tt,et){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(et))},jspb.BinaryWriter.prototype.writeBool=function(tt,et){et!=null&&(goog.asserts.assert(typeof et=="boolean"||typeof et=="number"),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(et))},jspb.BinaryWriter.prototype.writeEnum=function(tt,et){et!=null&&(goog.asserts.assert(et>=-jspb.BinaryConstants.TWO_TO_31&&et<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(et))},jspb.BinaryWriter.prototype.writeString=function(tt,et){et!=null&&(tt=this.beginDelimited_(tt),this.encoder_.writeString(et),this.endDelimited_(tt))},jspb.BinaryWriter.prototype.writeBytes=function(tt,et){et!=null&&(et=jspb.utils.byteSourceToUint8Array(et),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(et.length),this.appendUint8Array_(et))},jspb.BinaryWriter.prototype.writeMessage=function(tt,et,nt){et!=null&&(tt=this.beginDelimited_(tt),nt(et,this),this.endDelimited_(tt))},jspb.BinaryWriter.prototype.writeMessageSet=function(tt,et,nt){et!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(tt),tt=this.beginDelimited_(3),nt(et,this),this.endDelimited_(tt),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(tt,et,nt){et!=null&&(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.START_GROUP),nt(et,this),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(tt,et){et!=null&&(goog.asserts.assert(et.length==8),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(et))},jspb.BinaryWriter.prototype.writeVarintHash64=function(tt,et){et!=null&&(goog.asserts.assert(et.length==8),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(et))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(tt,et,nt){this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(et,nt)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(tt,et,nt){this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(et,nt)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(tt,et,nt){this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.VARINT);var rt=this.encoder_;jspb.utils.toZigzag64(et,nt,function(it,ot){rt.writeSplitVarint64(it>>>0,ot>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSignedVarint32_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeInt32String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSignedVarint64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(tt,et,nt,rt){if(et!=null)for(var it=0;it<et.length;it++)this.writeSplitFixed64(tt,nt(et[it]),rt(et[it]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(tt,et,nt,rt){if(et!=null)for(var it=0;it<et.length;it++)this.writeSplitVarint64(tt,nt(et[it]),rt(et[it]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(tt,et,nt,rt){if(et!=null)for(var it=0;it<et.length;it++)this.writeSplitZigzagVarint64(tt,nt(et[it]),rt(et[it]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeInt64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUnsignedVarint32_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUint32String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUnsignedVarint64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeUint64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarint32_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarint64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarint64String_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeZigzagVarintHash64_(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixed32(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixed64(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixed64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSfixed32(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSfixed64(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeSfixed64String(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFloat(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeDouble(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeBool(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeEnum(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedString=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeString(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeBytes(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(tt,et,nt){if(et!=null)for(var rt=0;rt<et.length;rt++){var it=this.beginDelimited_(tt);nt(et[rt],this),this.endDelimited_(it)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(tt,et,nt){if(et!=null)for(var rt=0;rt<et.length;rt++)this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.START_GROUP),nt(et[rt],this),this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeFixedHash64(tt,et[nt])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(tt,et){if(et!=null)for(var nt=0;nt<et.length;nt++)this.writeVarintHash64(tt,et[nt])},jspb.BinaryWriter.prototype.writePackedInt32=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeSignedVarint32(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeSignedVarint32(parseInt(et[nt],10));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedInt64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeSignedVarint64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(tt,et,nt,rt){if(et!=null){tt=this.beginDelimited_(tt);for(var it=0;it<et.length;it++)this.encoder_.writeSplitFixed64(nt(et[it]),rt(et[it]));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(tt,et,nt,rt){if(et!=null){tt=this.beginDelimited_(tt);for(var it=0;it<et.length;it++)this.encoder_.writeSplitVarint64(nt(et[it]),rt(et[it]));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(tt,et,nt,rt){if(et!=null){tt=this.beginDelimited_(tt);for(var it=this.encoder_,ot=0;ot<et.length;ot++)jspb.utils.toZigzag64(nt(et[ot]),rt(et[ot]),function(at,st){it.writeSplitVarint64(at>>>0,st>>>0)});this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++){var rt=jspb.arith.Int64.fromString(et[nt]);this.encoder_.writeSplitVarint64(rt.lo,rt.hi)}this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint32=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeUnsignedVarint32(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeUnsignedVarint32(parseInt(et[nt],10));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeUnsignedVarint64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++){var rt=jspb.arith.UInt64.fromString(et[nt]);this.encoder_.writeSplitVarint64(rt.lo,rt.hi)}this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSint32=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarint32(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSint64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarint64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(et[nt]));this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeZigzagVarintHash64(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeUint32(et[tt])},jspb.BinaryWriter.prototype.writePackedFixed64=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeUint64(et[tt])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++){var nt=jspb.arith.UInt64.fromString(et[tt]);this.encoder_.writeSplitFixed64(nt.lo,nt.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeInt32(et[tt])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeInt64(et[tt])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeInt64String(et[tt])},jspb.BinaryWriter.prototype.writePackedFloat=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeFloat(et[tt])},jspb.BinaryWriter.prototype.writePackedDouble=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeDouble(et[tt])},jspb.BinaryWriter.prototype.writePackedBool=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(et.length),tt=0;tt<et.length;tt++)this.encoder_.writeBool(et[tt])},jspb.BinaryWriter.prototype.writePackedEnum=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeEnum(et[nt]);this.endDelimited_(tt)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(tt,et){if(et!=null&&et.length)for(this.writeFieldHeader_(tt,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*et.length),tt=0;tt<et.length;tt++)this.encoder_.writeFixedHash64(et[tt])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(tt,et){if(et!=null&&et.length){tt=this.beginDelimited_(tt);for(var nt=0;nt<et.length;nt++)this.encoder_.writeVarintHash64(et[nt]);this.endDelimited_(tt)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(5),__webpack_require__(4).Buffer)},function(tt,et){var nt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(nt){var rt=new Uint8Array(16);tt.exports=function(){return nt(rt),rt}}else{var it=new Array(16);tt.exports=function(){for(var ot,at=0;at<16;at++)(3&at)==0&&(ot=4294967296*Math.random()),it[at]=ot>>>((3&at)<<3)&255;return it}}},function(tt,et){for(var nt=[],rt=0;rt<256;++rt)nt[rt]=(rt+256).toString(16).substr(1);tt.exports=function(it,ot){var at=ot||0,st=nt;return[st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],"-",st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]],st[it[at++]]].join("")}},function(tt,et,nt){(function(rt){const it=nt(210),ot=nt(49),at=(st,lt)=>({from:at,EnvVarError:nt(49),get:function(ct){if(!ct)return st;if(arguments.length>1)throw new ot("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return it(st,ct,lt||{})}});tt.exports=at(rt.env)}).call(this,nt(2))},function(tt,et,nt){var rt=nt(10),it=nt(71),ot=nt(3).LEVEL,at=tt.exports=function(){var st=this,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it.call(this,{objectMode:!0,highWaterMark:lt.highWaterMark}),this.format=lt.format,this.level=lt.level,this.handleExceptions=lt.handleExceptions,this.silent=lt.silent,lt.log&&(this.log=lt.log),lt.logv&&(this.logv=lt.logv),lt.close&&(this.close=lt.close),this.once("pipe",function(ct){st.levels=ct.levels,st.parent=ct}),this.once("unpipe",function(ct){ct===st.parent&&(st.parent=null,st.close&&st.close())})};rt.inherits(at,it),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);var ft=this.level||this.parent&&this.parent.level;if(!ft||this.levels[ft]>=this.levels[st[ot]]){if(st&&!this.format)return this.log(st,ct);var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(ct(),ut)throw ut;return}return this.log(dt,ct)}return ct(null)},at.prototype._writev=function(st,lt){if(this.logv){var ct=st.filter(this._accept,this);return ct.length?this.logv(ct,lt):lt(null)}for(var ft=0;ft<st.length;ft++)if(this._accept(st[ft]))if(!st[ft].chunk||this.format){var ut=void 0,dt=void 0;try{dt=this.format.transform(Object.assign({},st[ft].chunk),this.format.options)}catch(ht){ut=ht}if(ut||!dt){if(st[ft].callback(),ut)throw lt(null),ut}else this.log(dt,st[ft].callback)}else this.log(st[ft].chunk,st[ft].callback);return lt(null)},at.prototype._accept=function(st){var lt=st.chunk;if(this.silent)return!1;var ct=this.level||this.parent&&this.parent.level;return!(lt.exception!==!0&&ct&&!(this.levels[ct]>=this.levels[lt[ot]])||!this.handleExceptions&&lt.exception===!0)},at.prototype._nop=function(){}},function(tt,et,nt){const{AbortController:rt,AbortSignal:it}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;tt.exports=rt,tt.exports.AbortSignal=it,tt.exports.default=rt},function(tt,et){var nt,rt=function(it){function ot(){this.fetch=!1,this.DOMException=it.DOMException}return ot.prototype=it,new ot}(typeof self!="undefined"?self:this);nt=rt,function(it){var ot="URLSearchParams"in nt,at="Symbol"in nt&&"iterator"in Symbol,st="FileReader"in nt&&"Blob"in nt&&function(){try{return new Blob,!0}catch{return!1}}(),lt="FormData"in nt,ct="ArrayBuffer"in nt;if(ct)var ft=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ut=ArrayBuffer.isView||function(Rt){return Rt&&ft.indexOf(Object.prototype.toString.call(Rt))>-1};function dt(Rt){if(typeof Rt!="string"&&(Rt=String(Rt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Rt))throw new TypeError("Invalid character in header field name");return Rt.toLowerCase()}function ht(Rt){return typeof Rt!="string"&&(Rt=String(Rt)),Rt}function pt(Rt){var Tt={next:function(){var It=Rt.shift();return{done:It===void 0,value:It}}};return at&&(Tt[Symbol.iterator]=function(){return Tt}),Tt}function gt(Rt){this.map={},Rt instanceof gt?Rt.forEach(function(Tt,It){this.append(It,Tt)},this):Array.isArray(Rt)?Rt.forEach(function(Tt){this.append(Tt[0],Tt[1])},this):Rt&&Object.getOwnPropertyNames(Rt).forEach(function(Tt){this.append(Tt,Rt[Tt])},this)}function mt(Rt){if(Rt.bodyUsed)return Promise.reject(new TypeError("Already read"));Rt.bodyUsed=!0}function yt(Rt){return new Promise(function(Tt,It){Rt.onload=function(){Tt(Rt.result)},Rt.onerror=function(){It(Rt.error)}})}function bt(Rt){var Tt=new FileReader,It=yt(Tt);return Tt.readAsArrayBuffer(Rt),It}function St(Rt){if(Rt.slice)return Rt.slice(0);var Tt=new Uint8Array(Rt.byteLength);return Tt.set(new Uint8Array(Rt)),Tt.buffer}function xt(){return this.bodyUsed=!1,this._initBody=function(Rt){var Tt;this._bodyInit=Rt,Rt?typeof Rt=="string"?this._bodyText=Rt:st&&Blob.prototype.isPrototypeOf(Rt)?this._bodyBlob=Rt:lt&&FormData.prototype.isPrototypeOf(Rt)?this._bodyFormData=Rt:ot&&URLSearchParams.prototype.isPrototypeOf(Rt)?this._bodyText=Rt.toString():ct&&st&&(Tt=Rt)&&DataView.prototype.isPrototypeOf(Tt)?(this._bodyArrayBuffer=St(Rt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ct&&(ArrayBuffer.prototype.isPrototypeOf(Rt)||ut(Rt))?this._bodyArrayBuffer=St(Rt):this._bodyText=Rt=Object.prototype.toString.call(Rt):this._bodyText="",this.headers.get("content-type")||(typeof Rt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ot&&URLSearchParams.prototype.isPrototypeOf(Rt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},st&&(this.blob=function(){var Rt=mt(this);if(Rt)return Rt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?mt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(bt)}),this.text=function(){var Rt,Tt,It,Pt=mt(this);if(Pt)return Pt;if(this._bodyBlob)return Rt=this._bodyBlob,It=yt(Tt=new FileReader),Tt.readAsText(Rt),It;if(this._bodyArrayBuffer)return Promise.resolve(function(Dt){for(var Ct=new Uint8Array(Dt),Ot=new Array(Ct.length),Ut=0;Ut<Ct.length;Ut++)Ot[Ut]=String.fromCharCode(Ct[Ut]);return Ot.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},lt&&(this.formData=function(){return this.text().then(zt)}),this.json=function(){return this.text().then(JSON.parse)},this}gt.prototype.append=function(Rt,Tt){Rt=dt(Rt),Tt=ht(Tt);var It=this.map[Rt];this.map[Rt]=It?It+", "+Tt:Tt},gt.prototype.delete=function(Rt){delete this.map[dt(Rt)]},gt.prototype.get=function(Rt){return Rt=dt(Rt),this.has(Rt)?this.map[Rt]:null},gt.prototype.has=function(Rt){return this.map.hasOwnProperty(dt(Rt))},gt.prototype.set=function(Rt,Tt){this.map[dt(Rt)]=ht(Tt)},gt.prototype.forEach=function(Rt,Tt){for(var It in this.map)this.map.hasOwnProperty(It)&&Rt.call(Tt,this.map[It],It,this)},gt.prototype.keys=function(){var Rt=[];return this.forEach(function(Tt,It){Rt.push(It)}),pt(Rt)},gt.prototype.values=function(){var Rt=[];return this.forEach(function(Tt){Rt.push(Tt)}),pt(Rt)},gt.prototype.entries=function(){var Rt=[];return this.forEach(function(Tt,It){Rt.push([It,Tt])}),pt(Rt)},at&&(gt.prototype[Symbol.iterator]=gt.prototype.entries);var vt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function $t(Rt,Tt){var It,Pt,Dt=(Tt=Tt||{}).body;if(Rt instanceof $t){if(Rt.bodyUsed)throw new TypeError("Already read");this.url=Rt.url,this.credentials=Rt.credentials,Tt.headers||(this.headers=new gt(Rt.headers)),this.method=Rt.method,this.mode=Rt.mode,this.signal=Rt.signal,Dt||Rt._bodyInit==null||(Dt=Rt._bodyInit,Rt.bodyUsed=!0)}else this.url=String(Rt);if(this.credentials=Tt.credentials||this.credentials||"same-origin",!Tt.headers&&this.headers||(this.headers=new gt(Tt.headers)),this.method=(Pt=(It=Tt.method||this.method||"GET").toUpperCase(),vt.indexOf(Pt)>-1?Pt:It),this.mode=Tt.mode||this.mode||null,this.signal=Tt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Dt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Dt)}function zt(Rt){var Tt=new FormData;return Rt.trim().split("&").forEach(function(It){if(It){var Pt=It.split("="),Dt=Pt.shift().replace(/\+/g," "),Ct=Pt.join("=").replace(/\+/g," ");Tt.append(decodeURIComponent(Dt),decodeURIComponent(Ct))}}),Tt}function Nt(Rt,Tt){Tt||(Tt={}),this.type="default",this.status=Tt.status===void 0?200:Tt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Tt?Tt.statusText:"OK",this.headers=new gt(Tt.headers),this.url=Tt.url||"",this._initBody(Rt)}$t.prototype.clone=function(){return new $t(this,{body:this._bodyInit})},xt.call($t.prototype),xt.call(Nt.prototype),Nt.prototype.clone=function(){return new Nt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new gt(this.headers),url:this.url})},Nt.error=function(){var Rt=new Nt(null,{status:0,statusText:""});return Rt.type="error",Rt};var wt=[301,302,303,307,308];Nt.redirect=function(Rt,Tt){if(wt.indexOf(Tt)===-1)throw new RangeError("Invalid status code");return new Nt(null,{status:Tt,headers:{location:Rt}})},it.DOMException=nt.DOMException;try{new it.DOMException}catch{it.DOMException=function(Tt,It){this.message=Tt,this.name=It;var Pt=Error(Tt);this.stack=Pt.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function Et(Rt,Tt){return new Promise(function(It,Pt){var Dt=new $t(Rt,Tt);if(Dt.signal&&Dt.signal.aborted)return Pt(new it.DOMException("Aborted","AbortError"));var Ct=new XMLHttpRequest;function Ot(){Ct.abort()}Ct.onload=function(){var Ut,At,Mt={status:Ct.status,statusText:Ct.statusText,headers:(Ut=Ct.getAllResponseHeaders()||"",At=new gt,Ut.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(kt){var Gt=kt.split(":"),Ht=Gt.shift().trim();if(Ht){var Jt=Gt.join(":").trim();At.append(Ht,Jt)}}),At)};Mt.url="responseURL"in Ct?Ct.responseURL:Mt.headers.get("X-Request-URL");var jt="response"in Ct?Ct.response:Ct.responseText;It(new Nt(jt,Mt))},Ct.onerror=function(){Pt(new TypeError("Network request failed"))},Ct.ontimeout=function(){Pt(new TypeError("Network request failed"))},Ct.onabort=function(){Pt(new it.DOMException("Aborted","AbortError"))},Ct.open(Dt.method,Dt.url,!0),Dt.credentials==="include"?Ct.withCredentials=!0:Dt.credentials==="omit"&&(Ct.withCredentials=!1),"responseType"in Ct&&st&&(Ct.responseType="blob"),Dt.headers.forEach(function(Ut,At){Ct.setRequestHeader(At,Ut)}),Dt.signal&&(Dt.signal.addEventListener("abort",Ot),Ct.onreadystatechange=function(){Ct.readyState===4&&Dt.signal.removeEventListener("abort",Ot)}),Ct.send(Dt._bodyInit===void 0?null:Dt._bodyInit)})}Et.polyfill=!0,nt.fetch||(nt.fetch=Et,nt.Headers=gt,nt.Request=$t,nt.Response=Nt),it.Headers=gt,it.Request=$t,it.Response=Nt,it.fetch=Et}({}),delete rt.fetch.polyfill,(et=rt.fetch).default=rt.fetch,et.fetch=rt.fetch,et.Headers=rt.Headers,et.Request=rt.Request,et.Response=rt.Response,tt.exports=et},function(tt,et,nt){const rt=nt(222),it=Symbol("max"),ot=Symbol("length"),at=Symbol("lengthCalculator"),st=Symbol("allowStale"),lt=Symbol("maxAge"),ct=Symbol("dispose"),ft=Symbol("noDisposeOnSet"),ut=Symbol("lruList"),dt=Symbol("cache"),ht=Symbol("updateAgeOnGet"),pt=()=>1,gt=(vt,$t,zt)=>{const Nt=vt[dt].get($t);if(Nt){const wt=Nt.value;if(mt(vt,wt)){if(bt(vt,Nt),!vt[st])return}else zt&&(vt[ht]&&(Nt.value.now=Date.now()),vt[ut].unshiftNode(Nt));return wt.value}},mt=(vt,$t)=>{if(!$t||!$t.maxAge&&!vt[lt])return!1;const zt=Date.now()-$t.now;return $t.maxAge?zt>$t.maxAge:vt[lt]&&zt>vt[lt]},yt=vt=>{if(vt[ot]>vt[it])for(let $t=vt[ut].tail;vt[ot]>vt[it]&&$t!==null;){const zt=$t.prev;bt(vt,$t),$t=zt}},bt=(vt,$t)=>{if($t){const zt=$t.value;vt[ct]&&vt[ct](zt.key,zt.value),vt[ot]-=zt.length,vt[dt].delete(zt.key),vt[ut].removeNode($t)}};class St{constructor($t,zt,Nt,wt,Et){this.key=$t,this.value=zt,this.length=Nt,this.now=wt,this.maxAge=Et||0}}const xt=(vt,$t,zt,Nt)=>{let wt=zt.value;mt(vt,wt)&&(bt(vt,zt),vt[st]||(wt=void 0)),wt&&$t.call(Nt,wt.value,wt.key,vt)};tt.exports=class{constructor(vt){if(typeof vt=="number"&&(vt={max:vt}),vt||(vt={}),vt.max&&(typeof vt.max!="number"||vt.max<0))throw new TypeError("max must be a non-negative number");this[it]=vt.max||1/0;const $t=vt.length||pt;if(this[at]=typeof $t!="function"?pt:$t,this[st]=vt.stale||!1,vt.maxAge&&typeof vt.maxAge!="number")throw new TypeError("maxAge must be a number");this[lt]=vt.maxAge||0,this[ct]=vt.dispose,this[ft]=vt.noDisposeOnSet||!1,this[ht]=vt.updateAgeOnGet||!1,this.reset()}set max(vt){if(typeof vt!="number"||vt<0)throw new TypeError("max must be a non-negative number");this[it]=vt||1/0,yt(this)}get max(){return this[it]}set allowStale(vt){this[st]=!!vt}get allowStale(){return this[st]}set maxAge(vt){if(typeof vt!="number")throw new TypeError("maxAge must be a non-negative number");this[lt]=vt,yt(this)}get maxAge(){return this[lt]}set lengthCalculator(vt){typeof vt!="function"&&(vt=pt),vt!==this[at]&&(this[at]=vt,this[ot]=0,this[ut].forEach($t=>{$t.length=this[at]($t.value,$t.key),this[ot]+=$t.length})),yt(this)}get lengthCalculator(){return this[at]}get length(){return this[ot]}get itemCount(){return this[ut].length}rforEach(vt,$t){$t=$t||this;for(let zt=this[ut].tail;zt!==null;){const Nt=zt.prev;xt(this,vt,zt,$t),zt=Nt}}forEach(vt,$t){$t=$t||this;for(let zt=this[ut].head;zt!==null;){const Nt=zt.next;xt(this,vt,zt,$t),zt=Nt}}keys(){return this[ut].toArray().map(vt=>vt.key)}values(){return this[ut].toArray().map(vt=>vt.value)}reset(){this[ct]&&this[ut]&&this[ut].length&&this[ut].forEach(vt=>this[ct](vt.key,vt.value)),this[dt]=new Map,this[ut]=new rt,this[ot]=0}dump(){return this[ut].map(vt=>!mt(this,vt)&&{k:vt.key,v:vt.value,e:vt.now+(vt.maxAge||0)}).toArray().filter(vt=>vt)}dumpLru(){return this[ut]}set(vt,$t,zt){if((zt=zt||this[lt])&&typeof zt!="number")throw new TypeError("maxAge must be a number");const Nt=zt?Date.now():0,wt=this[at]($t,vt);if(this[dt].has(vt)){if(wt>this[it])return bt(this,this[dt].get(vt)),!1;const Rt=this[dt].get(vt).value;return this[ct]&&(this[ft]||this[ct](vt,Rt.value)),Rt.now=Nt,Rt.maxAge=zt,Rt.value=$t,this[ot]+=wt-Rt.length,Rt.length=wt,this.get(vt),yt(this),!0}const Et=new St(vt,$t,wt,Nt,zt);return Et.length>this[it]?(this[ct]&&this[ct](vt,$t),!1):(this[ot]+=Et.length,this[ut].unshift(Et),this[dt].set(vt,this[ut].head),yt(this),!0)}has(vt){if(!this[dt].has(vt))return!1;const $t=this[dt].get(vt).value;return!mt(this,$t)}get(vt){return gt(this,vt,!0)}peek(vt){return gt(this,vt,!1)}pop(){const vt=this[ut].tail;return vt?(bt(this,vt),vt.value):null}del(vt){bt(this,this[dt].get(vt))}load(vt){this.reset();const $t=Date.now();for(let zt=vt.length-1;zt>=0;zt--){const Nt=vt[zt],wt=Nt.e||0;if(wt===0)this.set(Nt.k,Nt.v);else{const Et=wt-$t;Et>0&&this.set(Nt.k,Nt.v,Et)}}}prune(){this[dt].forEach((vt,$t)=>gt(this,$t,!1))}}},function(tt,et,nt){var rt=nt(225),it=nt(226),ot=it;ot.v1=rt,ot.v4=it,tt.exports=ot},function(tt,et,nt){var rt=nt(37).Colorizer;tt.exports=function(it){return rt.addColors(it.colors||it),it}},function(tt,et,nt){var rt={};tt.exports=rt,rt.themes={};var it=nt(10),ot=rt.styles=nt(108),at=Object.defineProperties,st=new RegExp(/[\r\n]+/g);rt.supportsColor=nt(109).supportsColor,rt.enabled===void 0&&(rt.enabled=rt.supportsColor()!==!1),rt.enable=function(){rt.enabled=!0},rt.disable=function(){rt.enabled=!1},rt.stripColors=rt.strip=function(yt){return(""+yt).replace(/\x1B\[\d+m/g,"")},rt.stylize=function(yt,bt){return rt.enabled?ot[bt].open+yt+ot[bt].close:yt+""};var lt=/[|\\{}()[\]^$+*?.]/g;function ct(yt){var bt=function St(){return ht.apply(St,arguments)};return bt._styles=yt,bt.__proto__=dt,bt}var ft,ut=(ft={},ot.grey=ot.gray,Object.keys(ot).forEach(function(yt){ot[yt].closeRe=new RegExp(function(bt){if(typeof bt!="string")throw new TypeError("Expected a string");return bt.replace(lt,"\\$&")}(ot[yt].close),"g"),ft[yt]={get:function(){return ct(this._styles.concat(yt))}}}),ft),dt=at(function(){},ut);function ht(){var yt=Array.prototype.slice.call(arguments),bt=yt.map(function(zt){return zt!==void 0&&zt.constructor===String?zt:it.inspect(zt)}).join(" ");if(!rt.enabled||!bt)return bt;for(var St=bt.indexOf(`
`)!=-1,xt=this._styles,vt=xt.length;vt--;){var $t=ot[xt[vt]];bt=$t.open+bt.replace($t.closeRe,$t.open)+$t.close,St&&(bt=bt.replace(st,function(zt){return $t.close+zt+$t.open}))}return bt}rt.setTheme=function(yt){if(typeof yt!="string")for(var bt in yt)(function(St){rt[St]=function(xt){if(typeof yt[St]=="object"){var vt=xt;for(var $t in yt[St])vt=rt[yt[St][$t]](vt);return vt}return rt[yt[St]](xt)}})(bt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var pt,gt=function(yt,bt){var St=bt.split("");return(St=St.map(yt)).join("")};for(var mt in rt.trap=nt(111),rt.zalgo=nt(112),rt.maps={},rt.maps.america=nt(113)(rt),rt.maps.zebra=nt(114)(rt),rt.maps.rainbow=nt(115)(rt),rt.maps.random=nt(116)(rt),rt.maps)(function(yt){rt[yt]=function(bt){return gt(rt.maps[yt],bt)}})(mt);at(rt,(pt={},Object.keys(ut).forEach(function(yt){pt[yt]={get:function(){return ct([yt])}}}),pt))},function(tt,et){tt.exports=function(nt){return nt&&typeof nt=="object"&&typeof nt.copy=="function"&&typeof nt.fill=="function"&&typeof nt.readUInt8=="function"}},function(tt,et){typeof Object.create=="function"?tt.exports=function(nt,rt){nt.super_=rt,nt.prototype=Object.create(rt.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}})}:tt.exports=function(nt,rt){nt.super_=rt;var it=function(){};it.prototype=rt.prototype,nt.prototype=new it,nt.prototype.constructor=nt}},function(tt,et){var nt={};tt.exports=nt;var rt={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(rt).forEach(function(it){var ot=rt[it],at=nt[it]=[];at.open="\x1B["+ot[0]+"m",at.close="\x1B["+ot[1]+"m"})},function(tt,et,nt){(function(rt){var it=nt(15),ot=nt(110),at=rt.env,st=void 0;function lt(ct){return(ft=function(ut){if(st===!1)return 0;if(ot("color=16m")||ot("color=full")||ot("color=truecolor"))return 3;if(ot("color=256"))return 2;if(ut&&!ut.isTTY&&st!==!0)return 0;var dt=st?1:0;if(rt.platform==="win32"){var ht=it.release().split(".");return Number(rt.versions.node.split(".")[0])>=8&&Number(ht[0])>=10&&Number(ht[2])>=10586?Number(ht[2])>=14931?3:2:1}if("CI"in at)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(gt){return gt in at})||at.CI_NAME==="codeship"?1:dt;if("TEAMCITY_VERSION"in at)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(at.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in at){var pt=parseInt((at.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(at.TERM_PROGRAM){case"iTerm.app":return pt>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in at?1:dt}(ct))!==0&&{level:ft,hasBasic:!0,has256:ft>=2,has16m:ft>=3};var ft}ot("no-color")||ot("no-colors")||ot("color=false")?st=!1:(ot("color")||ot("colors")||ot("color=true")||ot("color=always"))&&(st=!0),"FORCE_COLOR"in at&&(st=at.FORCE_COLOR.length===0||parseInt(at.FORCE_COLOR,10)!==0),tt.exports={supportsColor:lt,stdout:lt(rt.stdout),stderr:lt(rt.stderr)}}).call(this,nt(2))},function(tt,et,nt){(function(rt){tt.exports=function(it,ot){var at=(ot=ot||rt.argv).indexOf("--"),st=/^-{1,2}/.test(it)?"":"--",lt=ot.indexOf(st+it);return lt!==-1&&(at===-1||lt<at)}}).call(this,nt(2))},function(tt,et){tt.exports=function(nt,rt){var it="";nt=(nt=nt||"Run the trap, drop the bass").split("");var ot={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return nt.forEach(function(at){at=at.toLowerCase();var st=ot[at]||[" "],lt=Math.floor(Math.random()*st.length);it+=ot[at]!==void 0?ot[at][lt]:at}),it}},function(tt,et){tt.exports=function(nt,rt){nt=nt||"   he is here   ";var it={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},ot=[].concat(it.up,it.down,it.mid);function at(lt){return Math.floor(Math.random()*lt)}function st(lt){var ct=!1;return ot.filter(function(ft){ct=ft===lt}),ct}return function(lt,ct){var ft,ut,dt="";for(ut in(ct=ct||{}).up=ct.up===void 0||ct.up,ct.mid=ct.mid===void 0||ct.mid,ct.down=ct.down===void 0||ct.down,ct.size=ct.size!==void 0?ct.size:"maxi",lt=lt.split(""))if(!st(ut)){switch(dt+=lt[ut],ft={up:0,down:0,mid:0},ct.size){case"mini":ft.up=at(8),ft.mid=at(2),ft.down=at(8);break;case"maxi":ft.up=at(16)+3,ft.mid=at(4)+1,ft.down=at(64)+3;break;default:ft.up=at(8)+1,ft.mid=at(6)/2,ft.down=at(8)+1}var ht=["up","mid","down"];for(var pt in ht)for(var gt=ht[pt],mt=0;mt<=ft[gt];mt++)ct[gt]&&(dt+=it[gt][at(it[gt].length)])}return dt}(nt,rt)}},function(tt,et){tt.exports=function(nt){return function(rt,it,ot){if(rt===" ")return rt;switch(it%3){case 0:return nt.red(rt);case 1:return nt.white(rt);case 2:return nt.blue(rt)}}}},function(tt,et){tt.exports=function(nt){return function(rt,it,ot){return it%2==0?rt:nt.inverse(rt)}}},function(tt,et){tt.exports=function(nt){var rt=["red","yellow","green","blue","magenta"];return function(it,ot,at){return it===" "?it:nt[rt[ot++%rt.length]](it)}}},function(tt,et){tt.exports=function(nt){var rt=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(it,ot,at){return it===" "?it:nt[rt[Math.round(Math.random()*(rt.length-2))]](it)}}},function(tt,et,nt){Object.defineProperty(et,"cli",{value:nt(118)}),Object.defineProperty(et,"npm",{value:nt(119)}),Object.defineProperty(et,"syslog",{value:nt(120)})},function(tt,et,nt){et.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},et.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(tt,et,nt){et.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},et.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(tt,et,nt){et.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},et.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(tt,et,nt){var rt=nt(9);tt.exports=rt(function(it){return it.message="	".concat(it.message),it})},function(tt,et,nt){function rt(ft,ut){if(!(ft instanceof ut))throw new TypeError("Cannot call a class as a function")}var it=nt(37).Colorizer,ot=nt(58).Padder,at=nt(3),st=at.configs,lt=at.MESSAGE,ct=function(){function ft(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(this,ft),dt.levels||(dt.levels=st.npm.levels),this.colorizer=new it(dt),this.padder=new ot(dt),this.options=dt}var ut;return(ut=[{key:"transform",value:function(dt,ht){return this.colorizer.transform(this.padder.transform(dt,ht),ht),dt[lt]="".concat(dt.level,":").concat(dt.message),dt}}])&&function(dt,ht){for(var pt=0;pt<ht.length;pt++){var gt=ht[pt];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(dt,gt.key,gt)}}(ft.prototype,ut),ft}();tt.exports=function(ft){return new ct(ft)},tt.exports.Format=ct},function(tt,et,nt){var rt=nt(9);function it(at){if(at.every(ot))return function(st){for(var lt=st,ct=0;ct<at.length;ct++)if(!(lt=at[ct].transform(lt,at[ct].options)))return!1;return lt}}function ot(at){if(typeof at.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}tt.exports=function(){for(var at=arguments.length,st=new Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt];var ct=rt(it(st)),ft=ct();return ft.Format=ct.Format,ft},tt.exports.cascade=it},function(tt,et,nt){(function(rt){var it=nt(9),ot=nt(3).MESSAGE,at=nt(31);function st(lt,ct){return ct instanceof rt?ct.toString("base64"):typeof ct=="bigint"?ct.toString():ct}tt.exports=it(function(lt){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lt[ot]=(ct.stable?at.stableStringify:at)(lt,ct.replacer||st,ct.space),lt})}).call(this,nt(4).Buffer)},function(tt,et,nt){et.byteLength=function(ut){var dt=ct(ut),ht=dt[0],pt=dt[1];return 3*(ht+pt)/4-pt},et.toByteArray=function(ut){for(var dt,ht=ct(ut),pt=ht[0],gt=ht[1],mt=new ot(3*(pt+(xt=gt))/4-xt),yt=0,bt=gt>0?pt-4:pt,St=0;St<bt;St+=4)dt=it[ut.charCodeAt(St)]<<18|it[ut.charCodeAt(St+1)]<<12|it[ut.charCodeAt(St+2)]<<6|it[ut.charCodeAt(St+3)],mt[yt++]=dt>>16&255,mt[yt++]=dt>>8&255,mt[yt++]=255&dt;var xt;return gt===2&&(dt=it[ut.charCodeAt(St)]<<2|it[ut.charCodeAt(St+1)]>>4,mt[yt++]=255&dt),gt===1&&(dt=it[ut.charCodeAt(St)]<<10|it[ut.charCodeAt(St+1)]<<4|it[ut.charCodeAt(St+2)]>>2,mt[yt++]=dt>>8&255,mt[yt++]=255&dt),mt},et.fromByteArray=function(ut){for(var dt,ht=ut.length,pt=ht%3,gt=[],mt=0,yt=ht-pt;mt<yt;mt+=16383)gt.push(ft(ut,mt,mt+16383>yt?yt:mt+16383));return pt===1?(dt=ut[ht-1],gt.push(rt[dt>>2]+rt[dt<<4&63]+"==")):pt===2&&(dt=(ut[ht-2]<<8)+ut[ht-1],gt.push(rt[dt>>10]+rt[dt>>4&63]+rt[dt<<2&63]+"=")),gt.join("")};for(var rt=[],it=[],ot=typeof Uint8Array!="undefined"?Uint8Array:Array,at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st=0,lt=at.length;st<lt;++st)rt[st]=at[st],it[at.charCodeAt(st)]=st;function ct(ut){var dt=ut.length;if(dt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ht=ut.indexOf("=");return ht===-1&&(ht=dt),[ht,ht===dt?0:4-ht%4]}function ft(ut,dt,ht){for(var pt,gt,mt=[],yt=dt;yt<ht;yt+=3)pt=(ut[yt]<<16&16711680)+(ut[yt+1]<<8&65280)+(255&ut[yt+2]),mt.push(rt[(gt=pt)>>18&63]+rt[gt>>12&63]+rt[gt>>6&63]+rt[63&gt]);return mt.join("")}it["-".charCodeAt(0)]=62,it["_".charCodeAt(0)]=63},function(tt,et){et.read=function(nt,rt,it,ot,at){var st,lt,ct=8*at-ot-1,ft=(1<<ct)-1,ut=ft>>1,dt=-7,ht=it?at-1:0,pt=it?-1:1,gt=nt[rt+ht];for(ht+=pt,st=gt&(1<<-dt)-1,gt>>=-dt,dt+=ct;dt>0;st=256*st+nt[rt+ht],ht+=pt,dt-=8);for(lt=st&(1<<-dt)-1,st>>=-dt,dt+=ot;dt>0;lt=256*lt+nt[rt+ht],ht+=pt,dt-=8);if(st===0)st=1-ut;else{if(st===ft)return lt?NaN:1/0*(gt?-1:1);lt+=Math.pow(2,ot),st-=ut}return(gt?-1:1)*lt*Math.pow(2,st-ot)},et.write=function(nt,rt,it,ot,at,st){var lt,ct,ft,ut=8*st-at-1,dt=(1<<ut)-1,ht=dt>>1,pt=at===23?Math.pow(2,-24)-Math.pow(2,-77):0,gt=ot?0:st-1,mt=ot?1:-1,yt=rt<0||rt===0&&1/rt<0?1:0;for(rt=Math.abs(rt),isNaN(rt)||rt===1/0?(ct=isNaN(rt)?1:0,lt=dt):(lt=Math.floor(Math.log(rt)/Math.LN2),rt*(ft=Math.pow(2,-lt))<1&&(lt--,ft*=2),(rt+=lt+ht>=1?pt/ft:pt*Math.pow(2,1-ht))*ft>=2&&(lt++,ft/=2),lt+ht>=dt?(ct=0,lt=dt):lt+ht>=1?(ct=(rt*ft-1)*Math.pow(2,at),lt+=ht):(ct=rt*Math.pow(2,ht-1)*Math.pow(2,at),lt=0));at>=8;nt[it+gt]=255&ct,gt+=mt,ct/=256,at-=8);for(lt=lt<<at|ct,ut+=at;ut>0;nt[it+gt]=255&lt,gt+=mt,lt/=256,ut-=8);nt[it+gt-mt]|=128*yt}},function(tt,et,nt){var rt=nt(9);tt.exports=rt(function(it,ot){return ot.message?(it.message="[".concat(ot.label,"] ").concat(it.message),it):(it.label=ot.label,it)})},function(tt,et,nt){var rt=nt(9),it=nt(3).MESSAGE,ot=nt(31);tt.exports=rt(function(at){var st={};return at.message&&(st["@message"]=at.message,delete at.message),at.timestamp&&(st["@timestamp"]=at.timestamp,delete at.timestamp),st["@fields"]=at,at[it]=ot(st),at})},function(tt,et,nt){var rt=nt(9);function it(at,st,lt){var ct,ft,ut,dt=st.reduce(function(pt,gt){return pt[gt]=at[gt],delete at[gt],pt},{}),ht=Object.keys(at).reduce(function(pt,gt){return pt[gt]=at[gt],delete at[gt],pt},{});return Object.assign(at,dt,(ut=ht,(ft=lt)in(ct={})?Object.defineProperty(ct,ft,{value:ut,enumerable:!0,configurable:!0,writable:!0}):ct[ft]=ut,ct)),at}function ot(at,st,lt){return at[lt]=st.reduce(function(ct,ft){return ct[ft]=at[ft],delete at[ft],ct},{}),at}tt.exports=rt(function(at){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lt="metadata";st.key&&(lt=st.key);var ct=[];return st.fillExcept||st.fillWith||(ct.push("level"),ct.push("message")),st.fillExcept&&(ct=st.fillExcept),ct.length>0?it(at,ct,lt):st.fillWith?ot(at,st.fillWith,lt):at})},function(tt,et,nt){var rt=nt(10).inspect,it=nt(9),ot=nt(3),at=ot.LEVEL,st=ot.MESSAGE,lt=ot.SPLAT;tt.exports=it(function(ct){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=Object.assign({},ct);return delete ut[at],delete ut[st],delete ut[lt],ct[st]=rt(ut,!1,ft.depth||null,ft.colorize),ct})},function(tt,et,nt){var rt=nt(3).MESSAGE,it=function(){function ot(st){(function(lt,ct){if(!(lt instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,ot),this.template=st}var at;return(at=[{key:"transform",value:function(st){return st[rt]=this.template(st),st}}])&&function(st,lt){for(var ct=0;ct<lt.length;ct++){var ft=lt[ct];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(st,ft.key,ft)}}(ot.prototype,at),ot}();tt.exports=function(ot){return new it(ot)},tt.exports.Printf=tt.exports.Format=it},function(tt,et,nt){var rt=nt(9),it=nt(3).MESSAGE,ot=nt(31);tt.exports=rt(function(at){var st=ot(Object.assign({},at,{level:void 0,message:void 0,splat:void 0})),lt=at.padding&&at.padding[at.level]||"";return at[it]=st!=="{}"?"".concat(at.level,":").concat(lt," ").concat(at.message," ").concat(st):"".concat(at.level,":").concat(lt," ").concat(at.message),at})},function(tt,et,nt){function rt(ct,ft){(ft==null||ft>ct.length)&&(ft=ct.length);for(var ut=0,dt=new Array(ft);ut<ft;ut++)dt[ut]=ct[ut];return dt}var it=nt(10),ot=nt(3).SPLAT,at=/%[scdjifoO%]/g,st=/%%/g,lt=function(){function ct(ut){(function(dt,ht){if(!(dt instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,ct),this.options=ut}var ft;return(ft=[{key:"_splat",value:function(ut,dt){var ht=ut.message,pt=ut[ot]||ut.splat||[],gt=ht.match(st),mt=gt&&gt.length||0,yt=dt.length-mt-pt.length,bt=yt<0?pt.splice(yt,-1*yt):[],St=bt.length;if(St)for(var xt=0;xt<St;xt++)Object.assign(ut,bt[xt]);return ut.message=it.format.apply(it,[ht].concat(function(vt){return function($t){if(Array.isArray($t))return rt($t)}(vt)||function($t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object($t))return Array.from($t)}(vt)||function($t,zt){if($t){if(typeof $t=="string")return rt($t,zt);var Nt=Object.prototype.toString.call($t).slice(8,-1);return Nt==="Object"&&$t.constructor&&(Nt=$t.constructor.name),Nt==="Map"||Nt==="Set"?Array.from($t):Nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt)?rt($t,zt):void 0}}(vt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(pt))),ut}},{key:"transform",value:function(ut){var dt=ut.message,ht=ut[ot]||ut.splat;if(!ht||!ht.length)return ut;var pt=dt&&dt.match&&dt.match(at);if(!pt&&(ht||ht.length)){var gt=ht.length>1?ht.splice(0):ht,mt=gt.length;if(mt)for(var yt=0;yt<mt;yt++)Object.assign(ut,gt[yt]);return ut}return pt?this._splat(ut,pt):ut}}])&&function(ut,dt){for(var ht=0;ht<dt.length;ht++){var pt=dt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}(ct.prototype,ft),ct}();tt.exports=function(ct){return new lt(ct)}},function(tt,et,nt){var rt=nt(135),it=nt(9);tt.exports=it(function(ot){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return at.format&&(ot.timestamp=typeof at.format=="function"?at.format():rt.format(new Date,at.format)),ot.timestamp||(ot.timestamp=new Date().toISOString()),at.alias&&(ot[at.alias]=ot.timestamp),ot})},function(tt,et,nt){nt.r(et),nt.d(et,"assign",function(){return lt}),nt.d(et,"format",function(){return Et}),nt.d(et,"parse",function(){return Rt}),nt.d(et,"defaultI18n",function(){return dt}),nt.d(et,"setGlobalDateI18n",function(){return pt}),nt.d(et,"setGlobalDateMasks",function(){return wt});var rt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,it="[^\\s]+",ot=/\[([^]*?)\]/gm;function at(It,Pt){for(var Dt=[],Ct=0,Ot=It.length;Ct<Ot;Ct++)Dt.push(It[Ct].substr(0,Pt));return Dt}var st=function(It){return function(Pt,Dt){var Ct=Dt[It].map(function(Ot){return Ot.toLowerCase()}).indexOf(Pt.toLowerCase());return Ct>-1?Ct:null}};function lt(It){for(var Pt=[],Dt=1;Dt<arguments.length;Dt++)Pt[Dt-1]=arguments[Dt];for(var Ct=0,Ot=Pt;Ct<Ot.length;Ct++){var Ut=Ot[Ct];for(var At in Ut)It[At]=Ut[At]}return It}var ct=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ft=["January","February","March","April","May","June","July","August","September","October","November","December"],ut=at(ft,3),dt={dayNamesShort:at(ct,3),dayNames:ct,monthNamesShort:ut,monthNames:ft,amPm:["am","pm"],DoFn:function(It){return It+["th","st","nd","rd"][It%10>3?0:(It-It%10!=10?1:0)*It%10]}},ht=lt({},dt),pt=function(It){return ht=lt(ht,It)},gt=function(It){return It.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},mt=function(It,Pt){for(Pt===void 0&&(Pt=2),It=String(It);It.length<Pt;)It="0"+It;return It},yt={D:function(It){return String(It.getDate())},DD:function(It){return mt(It.getDate())},Do:function(It,Pt){return Pt.DoFn(It.getDate())},d:function(It){return String(It.getDay())},dd:function(It){return mt(It.getDay())},ddd:function(It,Pt){return Pt.dayNamesShort[It.getDay()]},dddd:function(It,Pt){return Pt.dayNames[It.getDay()]},M:function(It){return String(It.getMonth()+1)},MM:function(It){return mt(It.getMonth()+1)},MMM:function(It,Pt){return Pt.monthNamesShort[It.getMonth()]},MMMM:function(It,Pt){return Pt.monthNames[It.getMonth()]},YY:function(It){return mt(String(It.getFullYear()),4).substr(2)},YYYY:function(It){return mt(It.getFullYear(),4)},h:function(It){return String(It.getHours()%12||12)},hh:function(It){return mt(It.getHours()%12||12)},H:function(It){return String(It.getHours())},HH:function(It){return mt(It.getHours())},m:function(It){return String(It.getMinutes())},mm:function(It){return mt(It.getMinutes())},s:function(It){return String(It.getSeconds())},ss:function(It){return mt(It.getSeconds())},S:function(It){return String(Math.round(It.getMilliseconds()/100))},SS:function(It){return mt(Math.round(It.getMilliseconds()/10),2)},SSS:function(It){return mt(It.getMilliseconds(),3)},a:function(It,Pt){return It.getHours()<12?Pt.amPm[0]:Pt.amPm[1]},A:function(It,Pt){return It.getHours()<12?Pt.amPm[0].toUpperCase():Pt.amPm[1].toUpperCase()},ZZ:function(It){var Pt=It.getTimezoneOffset();return(Pt>0?"-":"+")+mt(100*Math.floor(Math.abs(Pt)/60)+Math.abs(Pt)%60,4)},Z:function(It){var Pt=It.getTimezoneOffset();return(Pt>0?"-":"+")+mt(Math.floor(Math.abs(Pt)/60),2)+":"+mt(Math.abs(Pt)%60,2)}},bt=function(It){return+It-1},St=[null,"[1-9]\\d?"],xt=[null,it],vt=["isPm",it,function(It,Pt){var Dt=It.toLowerCase();return Dt===Pt.amPm[0]?0:Dt===Pt.amPm[1]?1:null}],$t=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(It){var Pt=(It+"").match(/([+-]|\d\d)/gi);if(Pt){var Dt=60*+Pt[1]+parseInt(Pt[2],10);return Pt[0]==="+"?Dt:-Dt}return 0}],zt={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+it,function(It){return parseInt(It,10)}],M:["month","[1-9]\\d?",bt],MM:["month","\\d\\d",bt],YY:["year","\\d\\d",function(It){var Pt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+It>68?Pt-1:Pt)+It)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(It){return 100*+It}],SS:["millisecond","\\d\\d",function(It){return 10*+It}],SSS:["millisecond","\\d{3}"],d:St,dd:St,ddd:xt,dddd:xt,MMM:["month",it,st("monthNamesShort")],MMMM:["month",it,st("monthNames")],a:vt,A:vt,ZZ:$t,Z:$t},Nt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},wt=function(It){return lt(Nt,It)},Et=function(It,Pt,Dt){if(Pt===void 0&&(Pt=Nt.default),Dt===void 0&&(Dt={}),typeof It=="number"&&(It=new Date(It)),Object.prototype.toString.call(It)!=="[object Date]"||isNaN(It.getTime()))throw new Error("Invalid Date pass to format");var Ct=[];Pt=(Pt=Nt[Pt]||Pt).replace(ot,function(Ut,At){return Ct.push(At),"@@@"});var Ot=lt(lt({},ht),Dt);return(Pt=Pt.replace(rt,function(Ut){return yt[Ut](It,Ot)})).replace(/@@@/g,function(){return Ct.shift()})};function Rt(It,Pt,Dt){if(Dt===void 0&&(Dt={}),typeof Pt!="string")throw new Error("Invalid format in fecha parse");if(Pt=Nt[Pt]||Pt,It.length>1e3)return null;var Ct={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Ot=[],Ut=[],At=Pt.replace(ot,function(Xt,dn){return Ut.push(gt(dn)),"@@@"}),Mt={},jt={};At=gt(At).replace(rt,function(Xt){var dn=zt[Xt],Yt=dn[0],yn=dn[1],Qt=dn[3];if(Mt[Yt])throw new Error("Invalid format. "+Yt+" specified twice in format");return Mt[Yt]=!0,Qt&&(jt[Qt]=!0),Ot.push(dn),"("+yn+")"}),Object.keys(jt).forEach(function(Xt){if(!Mt[Xt])throw new Error("Invalid format. "+Xt+" is required in specified format")}),At=At.replace(/@@@/g,function(){return Ut.shift()});var kt=It.match(new RegExp(At,"i"));if(!kt)return null;for(var Gt=lt(lt({},ht),Dt),Ht=1;Ht<kt.length;Ht++){var Jt=Ot[Ht-1],Vt=Jt[0],Wt=Jt[2],Lt=Wt?Wt(kt[Ht],Gt):+kt[Ht];if(Lt==null)return null;Ct[Vt]=Lt}Ct.isPm===1&&Ct.hour!=null&&+Ct.hour!=12?Ct.hour=+Ct.hour+12:Ct.isPm===0&&+Ct.hour==12&&(Ct.hour=0);for(var Bt=new Date(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute,Ct.second,Ct.millisecond),Ft=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],sn=(Ht=0,Ft.length);Ht<sn;Ht++)if(Mt[Ft[Ht][0]]&&Ct[Ft[Ht][0]]!==Bt[Ft[Ht][1]]())return null;return Ct.timezoneOffset==null?Bt:new Date(Date.UTC(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute-Ct.timezoneOffset,Ct.second,Ct.millisecond))}var Tt={format:Et,parse:Rt,defaultI18n:dt,setGlobalDateI18n:pt,setGlobalDateMasks:wt};et.default=Tt},function(tt,et,nt){var rt=nt(57),it=nt(9),ot=nt(3).MESSAGE;tt.exports=it(function(at,st){return st.level!==!1&&(at.level=rt.strip(at.level)),st.message!==!1&&(at.message=rt.strip(at.message)),st.raw!==!1&&at[ot]&&(at[ot]=rt.strip(at[ot])),at})},function(tt){tt.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(tt,et,nt){Object.defineProperty(et,"Console",{configurable:!0,enumerable:!0,get:function(){return nt(139)}}),Object.defineProperty(et,"File",{configurable:!0,enumerable:!0,get:function(){return nt(148)}}),Object.defineProperty(et,"Http",{configurable:!0,enumerable:!0,get:function(){return nt(188)}}),Object.defineProperty(et,"Stream",{configurable:!0,enumerable:!0,get:function(){return nt(200)}})},function(tt,et,nt){(function(rt){function it(pt){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt})(pt)}function ot(pt,gt){if(!(pt instanceof gt))throw new TypeError("Cannot call a class as a function")}function at(pt,gt){return(at=Object.setPrototypeOf||function(mt,yt){return mt.__proto__=yt,mt})(pt,gt)}function st(pt,gt){return!gt||it(gt)!=="object"&&typeof gt!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(pt):gt}function lt(pt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(gt){return gt.__proto__||Object.getPrototypeOf(gt)})(pt)}var ct=nt(15),ft=nt(3),ut=ft.LEVEL,dt=ft.MESSAGE,ht=nt(17);tt.exports=function(pt){(function(bt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(St&&St.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),St&&at(bt,St)})(yt,pt);var gt,mt=function(bt){var St=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var xt,vt=lt(bt);if(St){var $t=lt(this).constructor;xt=Reflect.construct(vt,arguments,$t)}else xt=vt.apply(this,arguments);return st(this,xt)}}(yt);function yt(){var bt,St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ot(this,yt),(bt=mt.call(this,St)).name=St.name||"console",bt.stderrLevels=bt._stringArrayToSet(St.stderrLevels),bt.consoleWarnLevels=bt._stringArrayToSet(St.consoleWarnLevels),bt.eol=St.eol||ct.EOL,bt.setMaxListeners(30),bt}return(gt=[{key:"log",value:function(bt,St){var xt=this;return rt(function(){return xt.emit("logged",bt)}),this.stderrLevels[bt[ut]]?(console._stderr?console._stderr.write("".concat(bt[dt]).concat(this.eol)):console.error(bt[dt]),void(St&&St())):this.consoleWarnLevels[bt[ut]]?(console._stderr?console._stderr.write("".concat(bt[dt]).concat(this.eol)):console.warn(bt[dt]),void(St&&St())):(console._stdout?console._stdout.write("".concat(bt[dt]).concat(this.eol)):console.log(bt[dt]),void(St&&St()))}},{key:"_stringArrayToSet",value:function(bt,St){if(!bt)return{};if(St=St||"Cannot make set from type other than Array of string elements",!Array.isArray(bt))throw new Error(St);return bt.reduce(function(xt,vt){if(typeof vt!="string")throw new Error(St);return xt[vt]=!0,xt},{})}}])&&function(bt,St){for(var xt=0;xt<St.length;xt++){var vt=St[xt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(bt,vt.key,vt)}}(yt.prototype,gt),yt}(ht)}).call(this,nt(12).setImmediate)},function(tt,et,nt){(function(rt,it){(function(ot,at){if(!ot.setImmediate){var st,lt,ct,ft,ut,dt=1,ht={},pt=!1,gt=ot.document,mt=Object.getPrototypeOf&&Object.getPrototypeOf(ot);mt=mt&&mt.setTimeout?mt:ot,{}.toString.call(ot.process)==="[object process]"?st=function(St){it.nextTick(function(){bt(St)})}:function(){if(ot.postMessage&&!ot.importScripts){var St=!0,xt=ot.onmessage;return ot.onmessage=function(){St=!1},ot.postMessage("","*"),ot.onmessage=xt,St}}()?(ft="setImmediate$"+Math.random()+"$",ut=function(St){St.source===ot&&typeof St.data=="string"&&St.data.indexOf(ft)===0&&bt(+St.data.slice(ft.length))},ot.addEventListener?ot.addEventListener("message",ut,!1):ot.attachEvent("onmessage",ut),st=function(St){ot.postMessage(ft+St,"*")}):ot.MessageChannel?((ct=new MessageChannel).port1.onmessage=function(St){bt(St.data)},st=function(St){ct.port2.postMessage(St)}):gt&&"onreadystatechange"in gt.createElement("script")?(lt=gt.documentElement,st=function(St){var xt=gt.createElement("script");xt.onreadystatechange=function(){bt(St),xt.onreadystatechange=null,lt.removeChild(xt),xt=null},lt.appendChild(xt)}):st=function(St){setTimeout(bt,0,St)},mt.setImmediate=function(St){typeof St!="function"&&(St=new Function(""+St));for(var xt=new Array(arguments.length-1),vt=0;vt<xt.length;vt++)xt[vt]=arguments[vt+1];var $t={callback:St,args:xt};return ht[dt]=$t,st(dt),dt++},mt.clearImmediate=yt}function yt(St){delete ht[St]}function bt(St){if(pt)setTimeout(bt,0,St);else{var xt=ht[St];if(xt){pt=!0;try{(function(vt){var $t=vt.callback,zt=vt.args;switch(zt.length){case 0:$t();break;case 1:$t(zt[0]);break;case 2:$t(zt[0],zt[1]);break;case 3:$t(zt[0],zt[1],zt[2]);break;default:$t.apply(void 0,zt)}})(xt)}finally{yt(St),pt=!1}}}}})(typeof self=="undefined"?rt===void 0?this:rt:self)}).call(this,nt(5),nt(2))},function(tt,et,nt){tt.exports=nt(60)},function(tt,et,nt){(function(rt,it){var ot=nt(13);tt.exports=xt;var at,st=nt(38);xt.ReadableState=St,nt(18).EventEmitter;var lt=function(At,Mt){return At.listeners(Mt).length},ct=nt(61),ft=nt(40).Buffer,ut=rt.Uint8Array||function(){},dt=Object.create(nt(14));dt.inherits=nt(6);var ht=nt(143),pt=void 0;pt=ht&&ht.debuglog?ht.debuglog("stream"):function(){};var gt,mt=nt(144),yt=nt(62);dt.inherits(xt,ct);var bt=["error","close","destroy","pause","resume"];function St(At,Mt){At=At||{};var jt=Mt instanceof(at=at||nt(32));this.objectMode=!!At.objectMode,jt&&(this.objectMode=this.objectMode||!!At.readableObjectMode);var kt=At.highWaterMark,Gt=At.readableHighWaterMark,Ht=this.objectMode?16:16384;this.highWaterMark=kt||kt===0?kt:jt&&(Gt||Gt===0)?Gt:Ht,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new mt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=At.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,At.encoding&&(gt||(gt=nt(19).StringDecoder),this.decoder=new gt(At.encoding),this.encoding=At.encoding)}function xt(At){if(at=at||nt(32),!(this instanceof xt))return new xt(At);this._readableState=new St(At,this),this.readable=!0,At&&(typeof At.read=="function"&&(this._read=At.read),typeof At.destroy=="function"&&(this._destroy=At.destroy)),ct.call(this)}function vt(At,Mt,jt,kt,Gt){var Ht,Jt,Vt,Wt,Lt,Bt=At._readableState;return Mt===null?(Bt.reading=!1,function(Ft,sn){if(!sn.ended){if(sn.decoder){var Xt=sn.decoder.end();Xt&&Xt.length&&(sn.buffer.push(Xt),sn.length+=sn.objectMode?1:Xt.length)}sn.ended=!0,Nt(Ft)}}(At,Bt)):(Gt||(Jt=Bt,Lt=Vt=Mt,ft.isBuffer(Lt)||Lt instanceof ut||typeof Vt=="string"||Vt===void 0||Jt.objectMode||(Wt=new TypeError("Invalid non-string/buffer chunk")),Ht=Wt),Ht?At.emit("error",Ht):Bt.objectMode||Mt&&Mt.length>0?(typeof Mt=="string"||Bt.objectMode||Object.getPrototypeOf(Mt)===ft.prototype||(Mt=function(Ft){return ft.from(Ft)}(Mt)),kt?Bt.endEmitted?At.emit("error",new Error("stream.unshift() after end event")):$t(At,Bt,Mt,!0):Bt.ended?At.emit("error",new Error("stream.push() after EOF")):(Bt.reading=!1,Bt.decoder&&!jt?(Mt=Bt.decoder.write(Mt),Bt.objectMode||Mt.length!==0?$t(At,Bt,Mt,!1):Et(At,Bt)):$t(At,Bt,Mt,!1))):kt||(Bt.reading=!1)),function(Ft){return!Ft.ended&&(Ft.needReadable||Ft.length<Ft.highWaterMark||Ft.length===0)}(Bt)}function $t(At,Mt,jt,kt){Mt.flowing&&Mt.length===0&&!Mt.sync?(At.emit("data",jt),At.read(0)):(Mt.length+=Mt.objectMode?1:jt.length,kt?Mt.buffer.unshift(jt):Mt.buffer.push(jt),Mt.needReadable&&Nt(At)),Et(At,Mt)}function zt(At,Mt){return At<=0||Mt.length===0&&Mt.ended?0:Mt.objectMode?1:At!=At?Mt.flowing&&Mt.length?Mt.buffer.head.data.length:Mt.length:(At>Mt.highWaterMark&&(Mt.highWaterMark=((jt=At)>=8388608?jt=8388608:(jt--,jt|=jt>>>1,jt|=jt>>>2,jt|=jt>>>4,jt|=jt>>>8,jt|=jt>>>16,jt++),jt)),At<=Mt.length?At:Mt.ended?Mt.length:(Mt.needReadable=!0,0));var jt}function Nt(At){var Mt=At._readableState;Mt.needReadable=!1,Mt.emittedReadable||(pt("emitReadable",Mt.flowing),Mt.emittedReadable=!0,Mt.sync?ot.nextTick(wt,At):wt(At))}function wt(At){pt("emit readable"),At.emit("readable"),Pt(At)}function Et(At,Mt){Mt.readingMore||(Mt.readingMore=!0,ot.nextTick(Rt,At,Mt))}function Rt(At,Mt){for(var jt=Mt.length;!Mt.reading&&!Mt.flowing&&!Mt.ended&&Mt.length<Mt.highWaterMark&&(pt("maybeReadMore read 0"),At.read(0),jt!==Mt.length);)jt=Mt.length;Mt.readingMore=!1}function Tt(At){pt("readable nexttick read 0"),At.read(0)}function It(At,Mt){Mt.reading||(pt("resume read 0"),At.read(0)),Mt.resumeScheduled=!1,Mt.awaitDrain=0,At.emit("resume"),Pt(At),Mt.flowing&&!Mt.reading&&At.read(0)}function Pt(At){var Mt=At._readableState;for(pt("flow",Mt.flowing);Mt.flowing&&At.read()!==null;);}function Dt(At,Mt){return Mt.length===0?null:(Mt.objectMode?Jt=Mt.buffer.shift():!At||At>=Mt.length?(Jt=Mt.decoder?Mt.buffer.join(""):Mt.buffer.length===1?Mt.buffer.head.data:Mt.buffer.concat(Mt.length),Mt.buffer.clear()):(jt=At,kt=Mt.buffer,Gt=Mt.decoder,jt<kt.head.data.length?(Ht=kt.head.data.slice(0,jt),kt.head.data=kt.head.data.slice(jt)):Ht=jt===kt.head.data.length?kt.shift():Gt?function(Vt,Wt){var Lt=Wt.head,Bt=1,Ft=Lt.data;for(Vt-=Ft.length;Lt=Lt.next;){var sn=Lt.data,Xt=Vt>sn.length?sn.length:Vt;if(Xt===sn.length?Ft+=sn:Ft+=sn.slice(0,Vt),(Vt-=Xt)==0){Xt===sn.length?(++Bt,Lt.next?Wt.head=Lt.next:Wt.head=Wt.tail=null):(Wt.head=Lt,Lt.data=sn.slice(Xt));break}++Bt}return Wt.length-=Bt,Ft}(jt,kt):function(Vt,Wt){var Lt=ft.allocUnsafe(Vt),Bt=Wt.head,Ft=1;for(Bt.data.copy(Lt),Vt-=Bt.data.length;Bt=Bt.next;){var sn=Bt.data,Xt=Vt>sn.length?sn.length:Vt;if(sn.copy(Lt,Lt.length-Vt,0,Xt),(Vt-=Xt)==0){Xt===sn.length?(++Ft,Bt.next?Wt.head=Bt.next:Wt.head=Wt.tail=null):(Wt.head=Bt,Bt.data=sn.slice(Xt));break}++Ft}return Wt.length-=Ft,Lt}(jt,kt),Jt=Ht),Jt);var jt,kt,Gt,Ht,Jt}function Ct(At){var Mt=At._readableState;if(Mt.length>0)throw new Error('"endReadable()" called on non-empty stream');Mt.endEmitted||(Mt.ended=!0,ot.nextTick(Ot,Mt,At))}function Ot(At,Mt){At.endEmitted||At.length!==0||(At.endEmitted=!0,Mt.readable=!1,Mt.emit("end"))}function Ut(At,Mt){for(var jt=0,kt=At.length;jt<kt;jt++)if(At[jt]===Mt)return jt;return-1}Object.defineProperty(xt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(At){this._readableState&&(this._readableState.destroyed=At)}}),xt.prototype.destroy=yt.destroy,xt.prototype._undestroy=yt.undestroy,xt.prototype._destroy=function(At,Mt){this.push(null),Mt(At)},xt.prototype.push=function(At,Mt){var jt,kt=this._readableState;return kt.objectMode?jt=!0:typeof At=="string"&&((Mt=Mt||kt.defaultEncoding)!==kt.encoding&&(At=ft.from(At,Mt),Mt=""),jt=!0),vt(this,At,Mt,!1,jt)},xt.prototype.unshift=function(At){return vt(this,At,null,!0,!1)},xt.prototype.isPaused=function(){return this._readableState.flowing===!1},xt.prototype.setEncoding=function(At){return gt||(gt=nt(19).StringDecoder),this._readableState.decoder=new gt(At),this._readableState.encoding=At,this},xt.prototype.read=function(At){pt("read",At),At=parseInt(At,10);var Mt=this._readableState,jt=At;if(At!==0&&(Mt.emittedReadable=!1),At===0&&Mt.needReadable&&(Mt.length>=Mt.highWaterMark||Mt.ended))return pt("read: emitReadable",Mt.length,Mt.ended),Mt.length===0&&Mt.ended?Ct(this):Nt(this),null;if((At=zt(At,Mt))===0&&Mt.ended)return Mt.length===0&&Ct(this),null;var kt,Gt=Mt.needReadable;return pt("need readable",Gt),(Mt.length===0||Mt.length-At<Mt.highWaterMark)&&pt("length less than watermark",Gt=!0),Mt.ended||Mt.reading?pt("reading or ended",Gt=!1):Gt&&(pt("do read"),Mt.reading=!0,Mt.sync=!0,Mt.length===0&&(Mt.needReadable=!0),this._read(Mt.highWaterMark),Mt.sync=!1,Mt.reading||(At=zt(jt,Mt))),(kt=At>0?Dt(At,Mt):null)===null?(Mt.needReadable=!0,At=0):Mt.length-=At,Mt.length===0&&(Mt.ended||(Mt.needReadable=!0),jt!==At&&Mt.ended&&Ct(this)),kt!==null&&this.emit("data",kt),kt},xt.prototype._read=function(At){this.emit("error",new Error("_read() is not implemented"))},xt.prototype.pipe=function(At,Mt){var jt=this,kt=this._readableState;switch(kt.pipesCount){case 0:kt.pipes=At;break;case 1:kt.pipes=[kt.pipes,At];break;default:kt.pipes.push(At)}kt.pipesCount+=1,pt("pipe count=%d opts=%j",kt.pipesCount,Mt);var Gt=Mt&&Mt.end===!1||At===it.stdout||At===it.stderr?dn:Ht;function Ht(){pt("onend"),At.end()}kt.endEmitted?ot.nextTick(Gt):jt.once("end",Gt),At.on("unpipe",function Yt(yn,Qt){pt("onunpipe"),yn===jt&&Qt&&Qt.hasUnpiped===!1&&(Qt.hasUnpiped=!0,pt("cleanup"),At.removeListener("close",sn),At.removeListener("finish",Xt),At.removeListener("drain",Vt),At.removeListener("error",Ft),At.removeListener("unpipe",Yt),jt.removeListener("end",Ht),jt.removeListener("end",dn),jt.removeListener("data",Bt),Wt=!0,!kt.awaitDrain||At._writableState&&!At._writableState.needDrain||Vt())});var Jt,Vt=(Jt=jt,function(){var Yt=Jt._readableState;pt("pipeOnDrain",Yt.awaitDrain),Yt.awaitDrain&&Yt.awaitDrain--,Yt.awaitDrain===0&&lt(Jt,"data")&&(Yt.flowing=!0,Pt(Jt))});At.on("drain",Vt);var Wt=!1,Lt=!1;function Bt(Yt){pt("ondata"),Lt=!1,At.write(Yt)!==!1||Lt||((kt.pipesCount===1&&kt.pipes===At||kt.pipesCount>1&&Ut(kt.pipes,At)!==-1)&&!Wt&&(pt("false write response, pause",jt._readableState.awaitDrain),jt._readableState.awaitDrain++,Lt=!0),jt.pause())}function Ft(Yt){pt("onerror",Yt),dn(),At.removeListener("error",Ft),lt(At,"error")===0&&At.emit("error",Yt)}function sn(){At.removeListener("finish",Xt),dn()}function Xt(){pt("onfinish"),At.removeListener("close",sn),dn()}function dn(){pt("unpipe"),jt.unpipe(At)}return jt.on("data",Bt),function(Yt,yn,Qt){if(typeof Yt.prependListener=="function")return Yt.prependListener(yn,Qt);Yt._events&&Yt._events[yn]?st(Yt._events[yn])?Yt._events[yn].unshift(Qt):Yt._events[yn]=[Qt,Yt._events[yn]]:Yt.on(yn,Qt)}(At,"error",Ft),At.once("close",sn),At.once("finish",Xt),At.emit("pipe",jt),kt.flowing||(pt("pipe resume"),jt.resume()),At},xt.prototype.unpipe=function(At){var Mt=this._readableState,jt={hasUnpiped:!1};if(Mt.pipesCount===0)return this;if(Mt.pipesCount===1)return At&&At!==Mt.pipes||(At||(At=Mt.pipes),Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1,At&&At.emit("unpipe",this,jt)),this;if(!At){var kt=Mt.pipes,Gt=Mt.pipesCount;Mt.pipes=null,Mt.pipesCount=0,Mt.flowing=!1;for(var Ht=0;Ht<Gt;Ht++)kt[Ht].emit("unpipe",this,jt);return this}var Jt=Ut(Mt.pipes,At);return Jt===-1||(Mt.pipes.splice(Jt,1),Mt.pipesCount-=1,Mt.pipesCount===1&&(Mt.pipes=Mt.pipes[0]),At.emit("unpipe",this,jt)),this},xt.prototype.on=function(At,Mt){var jt=ct.prototype.on.call(this,At,Mt);if(At==="data")this._readableState.flowing!==!1&&this.resume();else if(At==="readable"){var kt=this._readableState;kt.endEmitted||kt.readableListening||(kt.readableListening=kt.needReadable=!0,kt.emittedReadable=!1,kt.reading?kt.length&&Nt(this):ot.nextTick(Tt,this))}return jt},xt.prototype.addListener=xt.prototype.on,xt.prototype.resume=function(){var At,Mt,jt=this._readableState;return jt.flowing||(pt("resume"),jt.flowing=!0,At=this,(Mt=jt).resumeScheduled||(Mt.resumeScheduled=!0,ot.nextTick(It,At,Mt))),this},xt.prototype.pause=function(){return pt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xt.prototype.wrap=function(At){var Mt=this,jt=this._readableState,kt=!1;for(var Gt in At.on("end",function(){if(pt("wrapped end"),jt.decoder&&!jt.ended){var Jt=jt.decoder.end();Jt&&Jt.length&&Mt.push(Jt)}Mt.push(null)}),At.on("data",function(Jt){pt("wrapped data"),jt.decoder&&(Jt=jt.decoder.write(Jt)),jt.objectMode&&Jt==null||(jt.objectMode||Jt&&Jt.length)&&(Mt.push(Jt)||(kt=!0,At.pause()))}),At)this[Gt]===void 0&&typeof At[Gt]=="function"&&(this[Gt]=function(Jt){return function(){return At[Jt].apply(At,arguments)}}(Gt));for(var Ht=0;Ht<bt.length;Ht++)At.on(bt[Ht],this.emit.bind(this,bt[Ht]));return this._read=function(Jt){pt("wrapped _read",Jt),kt&&(kt=!1,At.resume())},this},Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),xt._fromList=Dt}).call(this,nt(5),nt(2))},function(tt,et){},function(tt,et,nt){var rt=nt(40).Buffer,it=nt(145);tt.exports=function(){function ot(){(function(at,st){if(!(at instanceof st))throw new TypeError("Cannot call a class as a function")})(this,ot),this.head=null,this.tail=null,this.length=0}return ot.prototype.push=function(at){var st={data:at,next:null};this.length>0?this.tail.next=st:this.head=st,this.tail=st,++this.length},ot.prototype.unshift=function(at){var st={data:at,next:this.head};this.length===0&&(this.tail=st),this.head=st,++this.length},ot.prototype.shift=function(){if(this.length!==0){var at=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,at}},ot.prototype.clear=function(){this.head=this.tail=null,this.length=0},ot.prototype.join=function(at){if(this.length===0)return"";for(var st=this.head,lt=""+st.data;st=st.next;)lt+=at+st.data;return lt},ot.prototype.concat=function(at){if(this.length===0)return rt.alloc(0);if(this.length===1)return this.head.data;for(var st,lt,ct=rt.allocUnsafe(at>>>0),ft=this.head,ut=0;ft;)st=ct,lt=ut,ft.data.copy(st,lt),ut+=ft.data.length,ft=ft.next;return ct},ot}(),it&&it.inspect&&it.inspect.custom&&(tt.exports.prototype[it.inspect.custom]=function(){var ot=it.inspect({length:this.length});return this.constructor.name+" "+ot})},function(tt,et){},function(tt,et,nt){var rt=nt(4),it=rt.Buffer;function ot(st,lt){for(var ct in st)lt[ct]=st[ct]}function at(st,lt,ct){return it(st,lt,ct)}it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?tt.exports=rt:(ot(rt,et),et.Buffer=at),ot(it,at),at.from=function(st,lt,ct){if(typeof st=="number")throw new TypeError("Argument must not be a number");return it(st,lt,ct)},at.alloc=function(st,lt,ct){if(typeof st!="number")throw new TypeError("Argument must be a number");var ft=it(st);return lt!==void 0?typeof ct=="string"?ft.fill(lt,ct):ft.fill(lt):ft.fill(0),ft},at.allocUnsafe=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return it(st)},at.allocUnsafeSlow=function(st){if(typeof st!="number")throw new TypeError("Argument must be a number");return rt.SlowBuffer(st)}},function(tt,et,nt){var rt=nt(10),it=nt(3).LEVEL,ot=nt(17),at=tt.exports=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ot.call(this,st),!st.transport||typeof st.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function lt(ct){this.emit("error",ct,this.transport)}this.transport=st.transport,this.level=this.level||st.transport.level,this.handleExceptions=this.handleExceptions||st.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=lt.bind(this),this.transport.on("error",this.transport.__winstonError))};rt.inherits(at,ot),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);(!this.level||this.levels[this.level]>=this.levels[st[it]])&&this.transport.log(st[it],st.message,st,this._nop),ct(null)},at.prototype._writev=function(st,lt){for(var ct=0;ct<st.length;ct++)this._accept(st[ct])&&(this.transport.log(st[ct].chunk[it],st[ct].chunk.message,st[ct].chunk,this._nop),st[ct].callback());return lt(null)},at.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},at.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(tt,et,nt){(function(rt,it){function ot(zt){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Nt){return typeof Nt}:function(Nt){return Nt&&typeof Symbol=="function"&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})(zt)}function at(zt,Nt){if(!(zt instanceof Nt))throw new TypeError("Cannot call a class as a function")}function st(zt,Nt){return(st=Object.setPrototypeOf||function(wt,Et){return wt.__proto__=Et,wt})(zt,Nt)}function lt(zt,Nt){return!Nt||ot(Nt)!=="object"&&typeof Nt!="function"?ct(zt):Nt}function ct(zt){if(zt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return zt}function ft(zt){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(Nt){return Nt.__proto__||Object.getPrototypeOf(Nt)})(zt)}var ut=nt(63),dt=nt(53),ht=nt(149),pt=nt(159),gt=nt(3).MESSAGE,mt=nt(29),yt=mt.Stream,bt=mt.PassThrough,St=nt(17),xt=nt(34)("winston:file"),vt=nt(15),$t=nt(187);tt.exports=function(zt){(function(Rt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(Tt&&Tt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Tt&&st(Rt,Tt)})(Et,zt);var Nt,wt=function(Rt){var Tt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var It,Pt=ft(Rt);if(Tt){var Dt=ft(this).constructor;It=Reflect.construct(Pt,arguments,Dt)}else It=Pt.apply(this,arguments);return lt(this,It)}}(Et);function Et(){var Rt,Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function It(Pt){for(var Dt=arguments.length,Ct=new Array(Dt>1?Dt-1:0),Ot=1;Ot<Dt;Ot++)Ct[Ot-1]=arguments[Ot];Ct.slice(1).forEach(function(Ut){if(Tt[Ut])throw new Error("Cannot set ".concat(Ut," and ").concat(Pt," together"))})}if(at(this,Et),(Rt=wt.call(this,Tt)).name=Tt.name||"file",Rt._stream=new bt,Rt._stream.setMaxListeners(30),Rt._onError=Rt._onError.bind(ct(Rt)),Tt.filename||Tt.dirname)It("filename or dirname","stream"),Rt._basename=Rt.filename=Tt.filename?dt.basename(Tt.filename):"winston.log",Rt.dirname=Tt.dirname||dt.dirname(Tt.filename),Rt.options=Tt.options||{flags:"a"};else{if(!Tt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),It("stream","filename","maxsize"),Rt._dest=Rt._stream.pipe(Rt._setupStream(Tt.stream)),Rt.dirname=dt.dirname(Rt._dest.path)}return Rt.maxsize=Tt.maxsize||null,Rt.rotationFormat=Tt.rotationFormat||!1,Rt.zippedArchive=Tt.zippedArchive||!1,Rt.maxFiles=Tt.maxFiles||null,Rt.eol=Tt.eol||vt.EOL,Rt.tailable=Tt.tailable||!1,Rt._size=0,Rt._pendingSize=0,Rt._created=0,Rt._drain=!1,Rt._opening=!1,Rt._ending=!1,Rt.dirname&&Rt._createLogDirIfNotExist(Rt.dirname),Rt.open(),Rt}return(Nt=[{key:"finishIfEnding",value:function(){var Rt=this;this._ending&&(this._opening?this.once("open",function(){Rt._stream.once("finish",function(){return Rt.emit("finish")}),rt(function(){return Rt._stream.end()})}):(this._stream.once("finish",function(){return Rt.emit("finish")}),rt(function(){return Rt._stream.end()})))}},{key:"log",value:function(Rt){var Tt=this,It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return It(),!0;if(this._drain)this._stream.once("drain",function(){Tt._drain=!1,Tt.log(Rt,It)});else{if(!this._rotate){var Pt="".concat(Rt[gt]).concat(this.eol),Dt=it.byteLength(Pt);this._pendingSize+=Dt,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var Ct=this._stream.write(Pt,Ot.bind(this));return Ct?It():(this._drain=!0,this._stream.once("drain",function(){Tt._drain=!1,It()})),xt("written",Ct,this._drain),this.finishIfEnding(),Ct}this._stream.once("rotate",function(){Tt._rotate=!1,Tt.log(Rt,It)})}function Ot(){var Ut=this;this._size+=Dt,this._pendingSize-=Dt,xt("logged %s %s",this._size,Pt),this.emit("logged",Rt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return Ut._rotateFile()}))}}},{key:"query",value:function(Rt,Tt){var It;typeof Rt=="function"&&(Tt=Rt,Rt={}),(It=(It=Rt)||{}).rows=It.rows||It.limit||10,It.start=It.start||0,It.until=It.until||new Date,ot(It.until)!=="object"&&(It.until=new Date(It.until)),It.from=It.from||It.until-864e5,ot(It.from)!=="object"&&(It.from=new Date(It.from)),It.order=It.order||"desc",Rt=It;var Pt=dt.join(this.dirname,this.filename),Dt="",Ct=[],Ot=0,Ut=ut.createReadStream(Pt,{encoding:"utf8"});function At(Mt,jt){try{var kt=JSON.parse(Mt);(function(Ht){if(Ht&&ot(Ht)==="object"){var Jt=new Date(Ht.timestamp);if(!(Rt.from&&Jt<Rt.from||Rt.until&&Jt>Rt.until||Rt.level&&Rt.level!==Ht.level))return!0}})(kt)&&(Gt=kt,Rt.rows&&Ct.length>=Rt.rows&&Rt.order!=="desc"?Ut.readable&&Ut.destroy():(Rt.fields&&(Gt=Rt.fields.reduce(function(Ht,Jt){return Ht[Jt]=Gt[Jt],Ht},{})),Rt.order==="desc"&&Ct.length>=Rt.rows&&Ct.shift(),Ct.push(Gt)))}catch(Ht){jt||Ut.emit("error",Ht)}var Gt}Ut.on("error",function(Mt){if(Ut.readable&&Ut.destroy(),Tt)return Mt.code!=="ENOENT"?Tt(Mt):Tt(null,Ct)}),Ut.on("data",function(Mt){for(var jt=(Mt=(Dt+Mt).split(/\n+/)).length-1,kt=0;kt<jt;kt++)(!Rt.start||Ot>=Rt.start)&&At(Mt[kt]),Ot++;Dt=Mt[jt]}),Ut.on("close",function(){Dt&&At(Dt,!0),Rt.order==="desc"&&(Ct=Ct.reverse()),Tt&&Tt(null,Ct)})}},{key:"stream",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tt=dt.join(this.dirname,this.filename),It=new yt,Pt={file:Tt,start:Rt.start};return It.destroy=$t(Pt,function(Dt,Ct){if(Dt)return It.emit("error",Dt);try{It.emit("data",Ct),Ct=JSON.parse(Ct),It.emit("log",Ct)}catch(Ot){It.emit("error",Ot)}}),It}},{key:"open",value:function(){var Rt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(Tt,It){if(Tt)return Rt.emit("error",Tt);xt("stat done: %s { size: %s }",Rt.filename,It),Rt._size=It,Rt._dest=Rt._createStream(Rt._stream),Rt._opening=!1,Rt.once("open",function(){Rt._stream.eventNames().includes("rotate")?Rt._stream.emit("rotate"):Rt._rotate=!1})})))}},{key:"stat",value:function(Rt){var Tt=this,It=this._getFile(),Pt=dt.join(this.dirname,It);ut.stat(Pt,function(Dt,Ct){return Dt&&Dt.code==="ENOENT"?(xt("ENOENT\xA0ok",Pt),Tt.filename=It,Rt(null,0)):Dt?(xt("err ".concat(Dt.code," ").concat(Pt)),Rt(Dt)):!Ct||Tt._needsNewFile(Ct.size)?Tt._incFile(function(){return Tt.stat(Rt)}):(Tt.filename=It,void Rt(null,Ct.size))})}},{key:"close",value:function(Rt){var Tt=this;this._stream&&this._stream.end(function(){Rt&&Rt(),Tt.emit("flush"),Tt.emit("closed")})}},{key:"_needsNewFile",value:function(Rt){return Rt=Rt||this._size,this.maxsize&&Rt>=this.maxsize}},{key:"_onError",value:function(Rt){this.emit("error",Rt)}},{key:"_setupStream",value:function(Rt){return Rt.on("error",this._onError),Rt}},{key:"_cleanupStream",value:function(Rt){return Rt.removeListener("error",this._onError),Rt}},{key:"_rotateFile",value:function(){var Rt=this;this._incFile(function(){return Rt.open()})}},{key:"_endStream",value:function(){var Rt=this,Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){Rt._cleanupStream(Rt._dest),Tt()})):Tt()}},{key:"_createStream",value:function(Rt){var Tt=this,It=dt.join(this.dirname,this.filename);xt("create stream start",It,this.options);var Pt=ut.createWriteStream(It,this.options).on("error",function(Ct){return xt(Ct)}).on("close",function(){return xt("close",Pt.path,Pt.bytesWritten)}).on("open",function(){xt("file open ok",It),Tt.emit("open",It),Rt.pipe(Pt),Tt.rotatedWhileOpening&&(Tt._stream=new bt,Tt._stream.setMaxListeners(30),Tt._rotateFile(),Tt.rotatedWhileOpening=!1,Tt._cleanupStream(Pt),Rt.end())});if(xt("create stream ok",It),this.zippedArchive){var Dt=pt.createGzip();return Dt.pipe(Pt),Dt}return Pt}},{key:"_incFile",value:function(Rt){xt("_incFile",this.filename);var Tt=dt.extname(this._basename),It=dt.basename(this._basename,Tt);this.tailable?this._checkMaxFilesTailable(Tt,It,Rt):(this._created+=1,this._checkMaxFilesIncrementing(Tt,It,Rt))}},{key:"_getFile",value:function(){var Rt=dt.extname(this._basename),Tt=dt.basename(this._basename,Rt),It=this.rotationFormat?this.rotationFormat():this._created,Pt=!this.tailable&&this._created?"".concat(Tt).concat(It).concat(Rt):"".concat(Tt).concat(Rt);return this.zippedArchive&&!this.tailable?"".concat(Pt,".gz"):Pt}},{key:"_checkMaxFilesIncrementing",value:function(Rt,Tt,It){if(!this.maxFiles||this._created<this.maxFiles)return rt(It);var Pt=this._created-this.maxFiles,Dt=Pt!==0?Pt:"",Ct=this.zippedArchive?".gz":"",Ot="".concat(Tt).concat(Dt).concat(Rt).concat(Ct),Ut=dt.join(this.dirname,Ot);ut.unlink(Ut,It)}},{key:"_checkMaxFilesTailable",value:function(Rt,Tt,It){var Pt=this,Dt=[];if(this.maxFiles){for(var Ct=this.zippedArchive?".gz":"",Ot=this.maxFiles-1;Ot>1;Ot--)Dt.push(function(Ut,At){var Mt=this,jt="".concat(Tt).concat(Ut-1).concat(Rt).concat(Ct),kt=dt.join(this.dirname,jt);ut.exists(kt,function(Gt){if(!Gt)return At(null);jt="".concat(Tt).concat(Ut).concat(Rt).concat(Ct),ut.rename(kt,dt.join(Mt.dirname,jt),At)})}.bind(this,Ot));ht(Dt,function(){ut.rename(dt.join(Pt.dirname,"".concat(Tt).concat(Rt)),dt.join(Pt.dirname,"".concat(Tt,"1").concat(Rt).concat(Ct)),It)})}}},{key:"_createLogDirIfNotExist",value:function(Rt){ut.existsSync(Rt)||ut.mkdirSync(Rt,{recursive:!0})}}])&&function(Rt,Tt){for(var It=0;It<Tt.length;It++){var Pt=Tt[It];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(Rt,Pt.key,Pt)}}(Et.prototype,Nt),Et}(St)}).call(this,nt(12).setImmediate,nt(4).Buffer)},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(at,st){return(0,rt.default)(it.default,at,st)};var rt=ot(nt(150)),it=ot(nt(154));function ot(at){return at&&at.__esModule?at:{default:at}}tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=at(nt(41)),it=at(nt(23)),ot=at(nt(27));function at(st){return st&&st.__esModule?st:{default:st}}et.default=(0,ot.default)((st,lt,ct)=>{var ft=(0,rt.default)(lt)?[]:{};st(lt,(ut,dt,ht)=>{(0,it.default)(ut)((pt,...gt)=>{gt.length<2&&([gt]=gt),ft[dt]=gt,ht(pt)})},ut=>ct(ut,ft))},3),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(ct){return(0,ot.isAsync)(ct)?function(...ft){const ut=ft.pop();return st(ct.apply(this,ft),ut)}:(0,rt.default)(function(ft,ut){var dt;try{dt=ct.apply(this,ft)}catch(ht){return ut(ht)}if(dt&&typeof dt.then=="function")return st(dt,ut);ut(null,dt)})};var rt=at(nt(152)),it=at(nt(153)),ot=nt(23);function at(ct){return ct&&ct.__esModule?ct:{default:ct}}function st(ct,ft){return ct.then(ut=>{lt(ft,null,ut)},ut=>{lt(ft,ut&&ut.message?ut:new Error(ut))})}function lt(ct,ft,ut){try{ct(ft,ut)}catch(dt){(0,it.default)(ht=>{throw ht},dt)}}tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return function(...it){var ot=it.pop();return rt.call(this,it,ot)}},tt.exports=et.default},function(tt,et,nt){(function(rt,it){Object.defineProperty(et,"__esModule",{value:!0}),et.fallback=lt,et.wrap=ct;var ot,at=et.hasSetImmediate=typeof rt=="function"&&rt,st=et.hasNextTick=typeof it=="object"&&typeof it.nextTick=="function";function lt(ft){setTimeout(ft,0)}function ct(ft){return(ut,...dt)=>ft(()=>ut(...dt))}ot=at?rt:st?it.nextTick:lt,et.default=ct(ot)}).call(this,nt(12).setImmediate,nt(2))},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=ot(nt(64)),it=ot(nt(27));function ot(at){return at&&at.__esModule?at:{default:at}}et.default=(0,it.default)(function(at,st,lt){return(0,rt.default)(at,1,st,lt)},3),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=ct(nt(65)),it=ct(nt(156)),ot=ct(nt(66)),at=nt(23),st=ct(nt(158)),lt=ct(nt(42));function ct(ft){return ft&&ft.__esModule?ft:{default:ft}}et.default=ft=>(ut,dt,ht)=>{if(ht=(0,rt.default)(ht),ft<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!ut)return ht(null);if((0,at.isAsyncGenerator)(ut))return(0,st.default)(ut,ft,dt,ht);if((0,at.isAsyncIterable)(ut))return(0,st.default)(ut[Symbol.asyncIterator](),ft,dt,ht);var pt=(0,it.default)(ut),gt=!1,mt=!1,yt=0,bt=!1;function St(vt,$t){if(!mt)if(yt-=1,vt)gt=!0,ht(vt);else if(vt===!1)gt=!0,mt=!0;else{if($t===lt.default||gt&&yt<=0)return gt=!0,ht(null);bt||xt()}}function xt(){for(bt=!0;yt<ft&&!gt;){var vt=pt();if(vt===null)return gt=!0,void(yt<=0&&ht(null));yt+=1,dt(vt.value,vt.key,(0,ot.default)(St))}bt=!1}xt()},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(at){if((0,rt.default)(at))return lt=-1,ct=(st=at).length,function(){return++lt<ct?{value:st[lt],key:lt}:null};var st,lt,ct,ft,ut,dt,ht,pt=(0,it.default)(at);return pt?function(gt){var mt=-1;return function(){var yt=gt.next();return yt.done?null:(mt++,{value:yt.value,key:mt})}}(pt):(ut=(ft=at)?Object.keys(ft):[],dt=-1,ht=ut.length,function(){var gt=ut[++dt];return dt<ht?{value:ft[gt],key:gt}:null})};var rt=ot(nt(41)),it=ot(nt(157));function ot(at){return at&&at.__esModule?at:{default:at}}tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return rt[Symbol.iterator]&&rt[Symbol.iterator]()},tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(ot,at,st,lt){let ct=!1,ft=!1,ut=!1,dt=0,ht=0;function pt(){dt>=at||ut||ct||(ut=!0,ot.next().then(({value:yt,done:bt})=>{if(!ft&&!ct){if(ut=!1,bt)return ct=!0,void(dt<=0&&lt(null));dt++,st(yt,ht,gt),ht++,pt()}}).catch(mt))}function gt(yt,bt){if(dt-=1,!ft)return yt?mt(yt):yt===!1?(ct=!0,void(ft=!0)):bt===it.default||ct&&dt<=0?(ct=!0,lt(null)):void pt()}function mt(yt){ft||(ut=!1,ct=!0,lt(yt))}pt()};var rt,it=(rt=nt(42))&&rt.__esModule?rt:{default:rt};tt.exports=et.default},function(tt,et,nt){(function(rt){var it=nt(4).Buffer,ot=nt(160).Transform,at=nt(168),st=nt(10),lt=nt(72).ok,ct=nt(4).kMaxLength,ft="Cannot create final Buffer. It would be larger than 0x"+ct.toString(16)+" bytes";at.Z_MIN_WINDOWBITS=8,at.Z_MAX_WINDOWBITS=15,at.Z_DEFAULT_WINDOWBITS=15,at.Z_MIN_CHUNK=64,at.Z_MAX_CHUNK=1/0,at.Z_DEFAULT_CHUNK=16384,at.Z_MIN_MEMLEVEL=1,at.Z_MAX_MEMLEVEL=9,at.Z_DEFAULT_MEMLEVEL=8,at.Z_MIN_LEVEL=-1,at.Z_MAX_LEVEL=9,at.Z_DEFAULT_LEVEL=at.Z_DEFAULT_COMPRESSION;for(var ut=Object.keys(at),dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.match(/^Z/)&&Object.defineProperty(et,ht,{enumerable:!0,value:at[ht],writable:!1})}for(var pt={Z_OK:at.Z_OK,Z_STREAM_END:at.Z_STREAM_END,Z_NEED_DICT:at.Z_NEED_DICT,Z_ERRNO:at.Z_ERRNO,Z_STREAM_ERROR:at.Z_STREAM_ERROR,Z_DATA_ERROR:at.Z_DATA_ERROR,Z_MEM_ERROR:at.Z_MEM_ERROR,Z_BUF_ERROR:at.Z_BUF_ERROR,Z_VERSION_ERROR:at.Z_VERSION_ERROR},gt=Object.keys(pt),mt=0;mt<gt.length;mt++){var yt=gt[mt];pt[pt[yt]]=yt}function bt(Dt,Ct,Ot){var Ut=[],At=0;function Mt(){for(var kt;(kt=Dt.read())!==null;)Ut.push(kt),At+=kt.length;Dt.once("readable",Mt)}function jt(){var kt,Gt=null;At>=ct?Gt=new RangeError(ft):kt=it.concat(Ut,At),Ut=[],Dt.close(),Ot(Gt,kt)}Dt.on("error",function(kt){Dt.removeListener("end",jt),Dt.removeListener("readable",Mt),Ot(kt)}),Dt.on("end",jt),Dt.end(Ct),Mt()}function St(Dt,Ct){if(typeof Ct=="string"&&(Ct=it.from(Ct)),!it.isBuffer(Ct))throw new TypeError("Not a string or buffer");var Ot=Dt._finishFlushFlag;return Dt._processChunk(Ct,Ot)}function xt(Dt){if(!(this instanceof xt))return new xt(Dt);Tt.call(this,Dt,at.DEFLATE)}function vt(Dt){if(!(this instanceof vt))return new vt(Dt);Tt.call(this,Dt,at.INFLATE)}function $t(Dt){if(!(this instanceof $t))return new $t(Dt);Tt.call(this,Dt,at.GZIP)}function zt(Dt){if(!(this instanceof zt))return new zt(Dt);Tt.call(this,Dt,at.GUNZIP)}function Nt(Dt){if(!(this instanceof Nt))return new Nt(Dt);Tt.call(this,Dt,at.DEFLATERAW)}function wt(Dt){if(!(this instanceof wt))return new wt(Dt);Tt.call(this,Dt,at.INFLATERAW)}function Et(Dt){if(!(this instanceof Et))return new Et(Dt);Tt.call(this,Dt,at.UNZIP)}function Rt(Dt){return Dt===at.Z_NO_FLUSH||Dt===at.Z_PARTIAL_FLUSH||Dt===at.Z_SYNC_FLUSH||Dt===at.Z_FULL_FLUSH||Dt===at.Z_FINISH||Dt===at.Z_BLOCK}function Tt(Dt,Ct){var Ot=this;if(this._opts=Dt=Dt||{},this._chunkSize=Dt.chunkSize||et.Z_DEFAULT_CHUNK,ot.call(this,Dt),Dt.flush&&!Rt(Dt.flush))throw new Error("Invalid flush flag: "+Dt.flush);if(Dt.finishFlush&&!Rt(Dt.finishFlush))throw new Error("Invalid flush flag: "+Dt.finishFlush);if(this._flushFlag=Dt.flush||at.Z_NO_FLUSH,this._finishFlushFlag=Dt.finishFlush!==void 0?Dt.finishFlush:at.Z_FINISH,Dt.chunkSize&&(Dt.chunkSize<et.Z_MIN_CHUNK||Dt.chunkSize>et.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Dt.chunkSize);if(Dt.windowBits&&(Dt.windowBits<et.Z_MIN_WINDOWBITS||Dt.windowBits>et.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Dt.windowBits);if(Dt.level&&(Dt.level<et.Z_MIN_LEVEL||Dt.level>et.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Dt.level);if(Dt.memLevel&&(Dt.memLevel<et.Z_MIN_MEMLEVEL||Dt.memLevel>et.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Dt.memLevel);if(Dt.strategy&&Dt.strategy!=et.Z_FILTERED&&Dt.strategy!=et.Z_HUFFMAN_ONLY&&Dt.strategy!=et.Z_RLE&&Dt.strategy!=et.Z_FIXED&&Dt.strategy!=et.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Dt.strategy);if(Dt.dictionary&&!it.isBuffer(Dt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new at.Zlib(Ct);var Ut=this;this._hadError=!1,this._handle.onerror=function(jt,kt){It(Ut),Ut._hadError=!0;var Gt=new Error(jt);Gt.errno=kt,Gt.code=et.codes[kt],Ut.emit("error",Gt)};var At=et.Z_DEFAULT_COMPRESSION;typeof Dt.level=="number"&&(At=Dt.level);var Mt=et.Z_DEFAULT_STRATEGY;typeof Dt.strategy=="number"&&(Mt=Dt.strategy),this._handle.init(Dt.windowBits||et.Z_DEFAULT_WINDOWBITS,At,Dt.memLevel||et.Z_DEFAULT_MEMLEVEL,Mt,Dt.dictionary),this._buffer=it.allocUnsafe(this._chunkSize),this._offset=0,this._level=At,this._strategy=Mt,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Ot._handle},configurable:!0,enumerable:!0})}function It(Dt,Ct){Ct&&rt.nextTick(Ct),Dt._handle&&(Dt._handle.close(),Dt._handle=null)}function Pt(Dt){Dt.emit("close")}Object.defineProperty(et,"codes",{enumerable:!0,value:Object.freeze(pt),writable:!1}),et.Deflate=xt,et.Inflate=vt,et.Gzip=$t,et.Gunzip=zt,et.DeflateRaw=Nt,et.InflateRaw=wt,et.Unzip=Et,et.createDeflate=function(Dt){return new xt(Dt)},et.createInflate=function(Dt){return new vt(Dt)},et.createDeflateRaw=function(Dt){return new Nt(Dt)},et.createInflateRaw=function(Dt){return new wt(Dt)},et.createGzip=function(Dt){return new $t(Dt)},et.createGunzip=function(Dt){return new zt(Dt)},et.createUnzip=function(Dt){return new Et(Dt)},et.deflate=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new xt(Ct),Dt,Ot)},et.deflateSync=function(Dt,Ct){return St(new xt(Ct),Dt)},et.gzip=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new $t(Ct),Dt,Ot)},et.gzipSync=function(Dt,Ct){return St(new $t(Ct),Dt)},et.deflateRaw=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new Nt(Ct),Dt,Ot)},et.deflateRawSync=function(Dt,Ct){return St(new Nt(Ct),Dt)},et.unzip=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new Et(Ct),Dt,Ot)},et.unzipSync=function(Dt,Ct){return St(new Et(Ct),Dt)},et.inflate=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new vt(Ct),Dt,Ot)},et.inflateSync=function(Dt,Ct){return St(new vt(Ct),Dt)},et.gunzip=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new zt(Ct),Dt,Ot)},et.gunzipSync=function(Dt,Ct){return St(new zt(Ct),Dt)},et.inflateRaw=function(Dt,Ct,Ot){return typeof Ct=="function"&&(Ot=Ct,Ct={}),bt(new wt(Ct),Dt,Ot)},et.inflateRawSync=function(Dt,Ct){return St(new wt(Ct),Dt)},st.inherits(Tt,ot),Tt.prototype.params=function(Dt,Ct,Ot){if(Dt<et.Z_MIN_LEVEL||Dt>et.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Dt);if(Ct!=et.Z_FILTERED&&Ct!=et.Z_HUFFMAN_ONLY&&Ct!=et.Z_RLE&&Ct!=et.Z_FIXED&&Ct!=et.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Ct);if(this._level!==Dt||this._strategy!==Ct){var Ut=this;this.flush(at.Z_SYNC_FLUSH,function(){lt(Ut._handle,"zlib binding closed"),Ut._handle.params(Dt,Ct),Ut._hadError||(Ut._level=Dt,Ut._strategy=Ct,Ot&&Ot())})}else rt.nextTick(Ot)},Tt.prototype.reset=function(){return lt(this._handle,"zlib binding closed"),this._handle.reset()},Tt.prototype._flush=function(Dt){this._transform(it.alloc(0),"",Dt)},Tt.prototype.flush=function(Dt,Ct){var Ot=this,Ut=this._writableState;(typeof Dt=="function"||Dt===void 0&&!Ct)&&(Ct=Dt,Dt=at.Z_FULL_FLUSH),Ut.ended?Ct&&rt.nextTick(Ct):Ut.ending?Ct&&this.once("end",Ct):Ut.needDrain?Ct&&this.once("drain",function(){return Ot.flush(Dt,Ct)}):(this._flushFlag=Dt,this.write(it.alloc(0),"",Ct))},Tt.prototype.close=function(Dt){It(this,Dt),rt.nextTick(Pt,this)},Tt.prototype._transform=function(Dt,Ct,Ot){var Ut,At=this._writableState,Mt=(At.ending||At.ended)&&(!Dt||At.length===Dt.length);return Dt===null||it.isBuffer(Dt)?this._handle?(Mt?Ut=this._finishFlushFlag:(Ut=this._flushFlag,Dt.length>=At.length&&(this._flushFlag=this._opts.flush||at.Z_NO_FLUSH)),void this._processChunk(Dt,Ut,Ot)):Ot(new Error("zlib binding closed")):Ot(new Error("invalid input"))},Tt.prototype._processChunk=function(Dt,Ct,Ot){var Ut=Dt&&Dt.length,At=this._chunkSize-this._offset,Mt=0,jt=this,kt=typeof Ot=="function";if(!kt){var Gt,Ht=[],Jt=0;this.on("error",function(Ft){Gt=Ft}),lt(this._handle,"zlib binding closed");do var Vt=this._handle.writeSync(Ct,Dt,Mt,Ut,this._buffer,this._offset,At);while(!this._hadError&&Bt(Vt[0],Vt[1]));if(this._hadError)throw Gt;if(Jt>=ct)throw It(this),new RangeError(ft);var Wt=it.concat(Ht,Jt);return It(this),Wt}lt(this._handle,"zlib binding closed");var Lt=this._handle.write(Ct,Dt,Mt,Ut,this._buffer,this._offset,At);function Bt(Ft,sn){if(this&&(this.buffer=null,this.callback=null),!jt._hadError){var Xt=At-sn;if(lt(Xt>=0,"have should not go down"),Xt>0){var dn=jt._buffer.slice(jt._offset,jt._offset+Xt);jt._offset+=Xt,kt?jt.push(dn):(Ht.push(dn),Jt+=dn.length)}if((sn===0||jt._offset>=jt._chunkSize)&&(At=jt._chunkSize,jt._offset=0,jt._buffer=it.allocUnsafe(jt._chunkSize)),sn===0){if(Mt+=Ut-Ft,Ut=Ft,!kt)return!0;var Yt=jt._handle.write(Ct,Dt,Mt,Ut,jt._buffer,jt._offset,jt._chunkSize);return Yt.callback=Bt,void(Yt.buffer=Dt)}if(!kt)return!1;Ot()}}Lt.buffer=Dt,Lt.callback=Bt},st.inherits(xt,Tt),st.inherits(vt,Tt),st.inherits($t,Tt),st.inherits(zt,Tt),st.inherits(Nt,Tt),st.inherits(wt,Tt),st.inherits(Et,Tt)}).call(this,nt(2))},function(tt,et,nt){tt.exports=it;var rt=nt(18).EventEmitter;function it(){rt.call(this)}nt(6)(it,rt),it.Readable=nt(28),it.Writable=nt(71),it.Duplex=nt(165),it.Transform=nt(166),it.PassThrough=nt(167),it.Stream=it,it.prototype.pipe=function(ot,at){var st=this;function lt(gt){ot.writable&&ot.write(gt)===!1&&st.pause&&st.pause()}function ct(){st.readable&&st.resume&&st.resume()}st.on("data",lt),ot.on("drain",ct),ot._isStdio||at&&at.end===!1||(st.on("end",ut),st.on("close",dt));var ft=!1;function ut(){ft||(ft=!0,ot.end())}function dt(){ft||(ft=!0,typeof ot.destroy=="function"&&ot.destroy())}function ht(gt){if(pt(),rt.listenerCount(this,"error")===0)throw gt}function pt(){st.removeListener("data",lt),ot.removeListener("drain",ct),st.removeListener("end",ut),st.removeListener("close",dt),st.removeListener("error",ht),ot.removeListener("error",ht),st.removeListener("end",pt),st.removeListener("close",pt),ot.removeListener("close",pt)}return st.on("error",ht),ot.on("error",ht),st.on("end",pt),st.on("close",pt),ot.on("close",pt),ot.emit("pipe",st),ot}},function(tt,et){},function(tt,et,nt){var rt=nt(43).Buffer,it=nt(163);tt.exports=function(){function ot(){(function(at,st){if(!(at instanceof st))throw new TypeError("Cannot call a class as a function")})(this,ot),this.head=null,this.tail=null,this.length=0}return ot.prototype.push=function(at){var st={data:at,next:null};this.length>0?this.tail.next=st:this.head=st,this.tail=st,++this.length},ot.prototype.unshift=function(at){var st={data:at,next:this.head};this.length===0&&(this.tail=st),this.head=st,++this.length},ot.prototype.shift=function(){if(this.length!==0){var at=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,at}},ot.prototype.clear=function(){this.head=this.tail=null,this.length=0},ot.prototype.join=function(at){if(this.length===0)return"";for(var st=this.head,lt=""+st.data;st=st.next;)lt+=at+st.data;return lt},ot.prototype.concat=function(at){if(this.length===0)return rt.alloc(0);if(this.length===1)return this.head.data;for(var st,lt,ct=rt.allocUnsafe(at>>>0),ft=this.head,ut=0;ft;)st=ct,lt=ut,ft.data.copy(st,lt),ut+=ft.data.length,ft=ft.next;return ct},ot}(),it&&it.inspect&&it.inspect.custom&&(tt.exports.prototype[it.inspect.custom]=function(){var ot=it.inspect({length:this.length});return this.constructor.name+" "+ot})},function(tt,et){},function(tt,et,nt){tt.exports=ot;var rt=nt(70),it=nt(14);function ot(at){if(!(this instanceof ot))return new ot(at);rt.call(this,at)}it.inherits=nt(6),it.inherits(ot,rt),ot.prototype._transform=function(at,st,lt){lt(null,at)}},function(tt,et,nt){tt.exports=nt(20)},function(tt,et,nt){tt.exports=nt(28).Transform},function(tt,et,nt){tt.exports=nt(28).PassThrough},function(tt,et,nt){(function(rt,it){var ot=nt(72),at=nt(170),st=nt(171),lt=nt(174),ct=nt(177);for(var ft in ct)et[ft]=ct[ft];function ut(dt){if(typeof dt!="number"||dt<et.DEFLATE||dt>et.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=dt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}et.NONE=0,et.DEFLATE=1,et.INFLATE=2,et.GZIP=3,et.GUNZIP=4,et.DEFLATERAW=5,et.INFLATERAW=6,et.UNZIP=7,ut.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,ot(this.init_done,"close before init"),ot(this.mode<=et.UNZIP),this.mode===et.DEFLATE||this.mode===et.GZIP||this.mode===et.DEFLATERAW?st.deflateEnd(this.strm):this.mode!==et.INFLATE&&this.mode!==et.GUNZIP&&this.mode!==et.INFLATERAW&&this.mode!==et.UNZIP||lt.inflateEnd(this.strm),this.mode=et.NONE,this.dictionary=null)},ut.prototype.write=function(dt,ht,pt,gt,mt,yt,bt){return this._write(!0,dt,ht,pt,gt,mt,yt,bt)},ut.prototype.writeSync=function(dt,ht,pt,gt,mt,yt,bt){return this._write(!1,dt,ht,pt,gt,mt,yt,bt)},ut.prototype._write=function(dt,ht,pt,gt,mt,yt,bt,St){if(ot.equal(arguments.length,8),ot(this.init_done,"write before init"),ot(this.mode!==et.NONE,"already finalized"),ot.equal(!1,this.write_in_progress,"write already in progress"),ot.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,ot.equal(!1,ht===void 0,"must provide flush value"),this.write_in_progress=!0,ht!==et.Z_NO_FLUSH&&ht!==et.Z_PARTIAL_FLUSH&&ht!==et.Z_SYNC_FLUSH&&ht!==et.Z_FULL_FLUSH&&ht!==et.Z_FINISH&&ht!==et.Z_BLOCK)throw new Error("Invalid flush value");if(pt==null&&(pt=rt.alloc(0),mt=0,gt=0),this.strm.avail_in=mt,this.strm.input=pt,this.strm.next_in=gt,this.strm.avail_out=St,this.strm.output=yt,this.strm.next_out=bt,this.flush=ht,!dt)return this._process(),this._checkError()?this._afterSync():void 0;var xt=this;return it.nextTick(function(){xt._process(),xt._after()}),this},ut.prototype._afterSync=function(){var dt=this.strm.avail_out,ht=this.strm.avail_in;return this.write_in_progress=!1,[ht,dt]},ut.prototype._process=function(){var dt=null;switch(this.mode){case et.DEFLATE:case et.GZIP:case et.DEFLATERAW:this.err=st.deflate(this.strm,this.flush);break;case et.UNZIP:switch(this.strm.avail_in>0&&(dt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(dt===null)break;if(this.strm.input[dt]!==31){this.mode=et.INFLATE;break}if(this.gzip_id_bytes_read=1,dt++,this.strm.avail_in===1)break;case 1:if(dt===null)break;this.strm.input[dt]===139?(this.gzip_id_bytes_read=2,this.mode=et.GUNZIP):this.mode=et.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case et.INFLATE:case et.GUNZIP:case et.INFLATERAW:for(this.err=lt.inflate(this.strm,this.flush),this.err===et.Z_NEED_DICT&&this.dictionary&&(this.err=lt.inflateSetDictionary(this.strm,this.dictionary),this.err===et.Z_OK?this.err=lt.inflate(this.strm,this.flush):this.err===et.Z_DATA_ERROR&&(this.err=et.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===et.GUNZIP&&this.err===et.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=lt.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},ut.prototype._checkError=function(){switch(this.err){case et.Z_OK:case et.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===et.Z_FINISH)return this._error("unexpected end of file"),!1;break;case et.Z_STREAM_END:break;case et.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},ut.prototype._after=function(){if(this._checkError()){var dt=this.strm.avail_out,ht=this.strm.avail_in;this.write_in_progress=!1,this.callback(ht,dt),this.pending_close&&this.close()}},ut.prototype._error=function(dt){this.strm.msg&&(dt=this.strm.msg),this.onerror(dt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},ut.prototype.init=function(dt,ht,pt,gt,mt){ot(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),ot(dt>=8&&dt<=15,"invalid windowBits"),ot(ht>=-1&&ht<=9,"invalid compression level"),ot(pt>=1&&pt<=9,"invalid memlevel"),ot(gt===et.Z_FILTERED||gt===et.Z_HUFFMAN_ONLY||gt===et.Z_RLE||gt===et.Z_FIXED||gt===et.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ht,dt,pt,gt,mt),this._setDictionary()},ut.prototype.params=function(){throw new Error("deflateParams Not supported")},ut.prototype.reset=function(){this._reset(),this._setDictionary()},ut.prototype._init=function(dt,ht,pt,gt,mt){switch(this.level=dt,this.windowBits=ht,this.memLevel=pt,this.strategy=gt,this.flush=et.Z_NO_FLUSH,this.err=et.Z_OK,this.mode!==et.GZIP&&this.mode!==et.GUNZIP||(this.windowBits+=16),this.mode===et.UNZIP&&(this.windowBits+=32),this.mode!==et.DEFLATERAW&&this.mode!==et.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new at,this.mode){case et.DEFLATE:case et.GZIP:case et.DEFLATERAW:this.err=st.deflateInit2(this.strm,this.level,et.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case et.INFLATE:case et.GUNZIP:case et.INFLATERAW:case et.UNZIP:this.err=lt.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==et.Z_OK&&this._error("Init error"),this.dictionary=mt,this.write_in_progress=!1,this.init_done=!0},ut.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=et.Z_OK,this.mode){case et.DEFLATE:case et.DEFLATERAW:this.err=st.deflateSetDictionary(this.strm,this.dictionary)}this.err!==et.Z_OK&&this._error("Failed to set dictionary")}},ut.prototype._reset=function(){switch(this.err=et.Z_OK,this.mode){case et.DEFLATE:case et.DEFLATERAW:case et.GZIP:this.err=st.deflateReset(this.strm);break;case et.INFLATE:case et.INFLATERAW:case et.GUNZIP:this.err=lt.inflateReset(this.strm)}this.err!==et.Z_OK&&this._error("Failed to reset stream")},et.Zlib=ut}).call(this,nt(4).Buffer,nt(2))},function(tt,et,nt){var rt=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;function at(st){if(st==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(st)}tt.exports=function(){try{if(!Object.assign)return!1;var st=new String("abc");if(st[5]="de",Object.getOwnPropertyNames(st)[0]==="5")return!1;for(var lt={},ct=0;ct<10;ct++)lt["_"+String.fromCharCode(ct)]=ct;if(Object.getOwnPropertyNames(lt).map(function(ut){return lt[ut]}).join("")!=="0123456789")return!1;var ft={};return"abcdefghijklmnopqrst".split("").forEach(function(ut){ft[ut]=ut}),Object.keys(Object.assign({},ft)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(st,lt){for(var ct,ft,ut=at(st),dt=1;dt<arguments.length;dt++){for(var ht in ct=Object(arguments[dt]))it.call(ct,ht)&&(ut[ht]=ct[ht]);if(rt){ft=rt(ct);for(var pt=0;pt<ft.length;pt++)ot.call(ct,ft[pt])&&(ut[ft[pt]]=ct[ft[pt]])}}return ut}},function(tt,et,nt){tt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(tt,et,nt){var rt,it=nt(33),ot=nt(172),at=nt(73),st=nt(74),lt=nt(173);function ct(wt,Et){return wt.msg=lt[Et],Et}function ft(wt){return(wt<<1)-(wt>4?9:0)}function ut(wt){for(var Et=wt.length;--Et>=0;)wt[Et]=0}function dt(wt){var Et=wt.state,Rt=Et.pending;Rt>wt.avail_out&&(Rt=wt.avail_out),Rt!==0&&(it.arraySet(wt.output,Et.pending_buf,Et.pending_out,Rt,wt.next_out),wt.next_out+=Rt,Et.pending_out+=Rt,wt.total_out+=Rt,wt.avail_out-=Rt,Et.pending-=Rt,Et.pending===0&&(Et.pending_out=0))}function ht(wt,Et){ot._tr_flush_block(wt,wt.block_start>=0?wt.block_start:-1,wt.strstart-wt.block_start,Et),wt.block_start=wt.strstart,dt(wt.strm)}function pt(wt,Et){wt.pending_buf[wt.pending++]=Et}function gt(wt,Et){wt.pending_buf[wt.pending++]=Et>>>8&255,wt.pending_buf[wt.pending++]=255&Et}function mt(wt,Et){var Rt,Tt,It=wt.max_chain_length,Pt=wt.strstart,Dt=wt.prev_length,Ct=wt.nice_match,Ot=wt.strstart>wt.w_size-262?wt.strstart-(wt.w_size-262):0,Ut=wt.window,At=wt.w_mask,Mt=wt.prev,jt=wt.strstart+258,kt=Ut[Pt+Dt-1],Gt=Ut[Pt+Dt];wt.prev_length>=wt.good_match&&(It>>=2),Ct>wt.lookahead&&(Ct=wt.lookahead);do if(Ut[(Rt=Et)+Dt]===Gt&&Ut[Rt+Dt-1]===kt&&Ut[Rt]===Ut[Pt]&&Ut[++Rt]===Ut[Pt+1]){Pt+=2,Rt++;do;while(Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Ut[++Pt]===Ut[++Rt]&&Pt<jt);if(Tt=258-(jt-Pt),Pt=jt-258,Tt>Dt){if(wt.match_start=Et,Dt=Tt,Tt>=Ct)break;kt=Ut[Pt+Dt-1],Gt=Ut[Pt+Dt]}}while((Et=Mt[Et&At])>Ot&&--It!=0);return Dt<=wt.lookahead?Dt:wt.lookahead}function yt(wt){var Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt=wt.w_size;do{if(It=wt.window_size-wt.lookahead-wt.strstart,wt.strstart>=Mt+(Mt-262)){it.arraySet(wt.window,wt.window,Mt,Mt,0),wt.match_start-=Mt,wt.strstart-=Mt,wt.block_start-=Mt,Et=Rt=wt.hash_size;do Tt=wt.head[--Et],wt.head[Et]=Tt>=Mt?Tt-Mt:0;while(--Rt);Et=Rt=Mt;do Tt=wt.prev[--Et],wt.prev[Et]=Tt>=Mt?Tt-Mt:0;while(--Rt);It+=Mt}if(wt.strm.avail_in===0)break;if(Dt=wt.strm,Ct=wt.window,Ot=wt.strstart+wt.lookahead,Ut=It,At=void 0,(At=Dt.avail_in)>Ut&&(At=Ut),Rt=At===0?0:(Dt.avail_in-=At,it.arraySet(Ct,Dt.input,Dt.next_in,At,Ot),Dt.state.wrap===1?Dt.adler=at(Dt.adler,Ct,At,Ot):Dt.state.wrap===2&&(Dt.adler=st(Dt.adler,Ct,At,Ot)),Dt.next_in+=At,Dt.total_in+=At,At),wt.lookahead+=Rt,wt.lookahead+wt.insert>=3)for(Pt=wt.strstart-wt.insert,wt.ins_h=wt.window[Pt],wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[Pt+1])&wt.hash_mask;wt.insert&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[Pt+3-1])&wt.hash_mask,wt.prev[Pt&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=Pt,Pt++,wt.insert--,!(wt.lookahead+wt.insert<3)););}while(wt.lookahead<262&&wt.strm.avail_in!==0)}function bt(wt,Et){for(var Rt,Tt;;){if(wt.lookahead<262){if(yt(wt),wt.lookahead<262&&Et===0)return 1;if(wt.lookahead===0)break}if(Rt=0,wt.lookahead>=3&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),Rt!==0&&wt.strstart-Rt<=wt.w_size-262&&(wt.match_length=mt(wt,Rt)),wt.match_length>=3)if(Tt=ot._tr_tally(wt,wt.strstart-wt.match_start,wt.match_length-3),wt.lookahead-=wt.match_length,wt.match_length<=wt.max_lazy_match&&wt.lookahead>=3){wt.match_length--;do wt.strstart++,wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart;while(--wt.match_length!=0);wt.strstart++}else wt.strstart+=wt.match_length,wt.match_length=0,wt.ins_h=wt.window[wt.strstart],wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+1])&wt.hash_mask;else Tt=ot._tr_tally(wt,0,wt.window[wt.strstart]),wt.lookahead--,wt.strstart++;if(Tt&&(ht(wt,!1),wt.strm.avail_out===0))return 1}return wt.insert=wt.strstart<2?wt.strstart:2,Et===4?(ht(wt,!0),wt.strm.avail_out===0?3:4):wt.last_lit&&(ht(wt,!1),wt.strm.avail_out===0)?1:2}function St(wt,Et){for(var Rt,Tt,It;;){if(wt.lookahead<262){if(yt(wt),wt.lookahead<262&&Et===0)return 1;if(wt.lookahead===0)break}if(Rt=0,wt.lookahead>=3&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart),wt.prev_length=wt.match_length,wt.prev_match=wt.match_start,wt.match_length=2,Rt!==0&&wt.prev_length<wt.max_lazy_match&&wt.strstart-Rt<=wt.w_size-262&&(wt.match_length=mt(wt,Rt),wt.match_length<=5&&(wt.strategy===1||wt.match_length===3&&wt.strstart-wt.match_start>4096)&&(wt.match_length=2)),wt.prev_length>=3&&wt.match_length<=wt.prev_length){It=wt.strstart+wt.lookahead-3,Tt=ot._tr_tally(wt,wt.strstart-1-wt.prev_match,wt.prev_length-3),wt.lookahead-=wt.prev_length-1,wt.prev_length-=2;do++wt.strstart<=It&&(wt.ins_h=(wt.ins_h<<wt.hash_shift^wt.window[wt.strstart+3-1])&wt.hash_mask,Rt=wt.prev[wt.strstart&wt.w_mask]=wt.head[wt.ins_h],wt.head[wt.ins_h]=wt.strstart);while(--wt.prev_length!=0);if(wt.match_available=0,wt.match_length=2,wt.strstart++,Tt&&(ht(wt,!1),wt.strm.avail_out===0))return 1}else if(wt.match_available){if((Tt=ot._tr_tally(wt,0,wt.window[wt.strstart-1]))&&ht(wt,!1),wt.strstart++,wt.lookahead--,wt.strm.avail_out===0)return 1}else wt.match_available=1,wt.strstart++,wt.lookahead--}return wt.match_available&&(Tt=ot._tr_tally(wt,0,wt.window[wt.strstart-1]),wt.match_available=0),wt.insert=wt.strstart<2?wt.strstart:2,Et===4?(ht(wt,!0),wt.strm.avail_out===0?3:4):wt.last_lit&&(ht(wt,!1),wt.strm.avail_out===0)?1:2}function xt(wt,Et,Rt,Tt,It){this.good_length=wt,this.max_lazy=Et,this.nice_length=Rt,this.max_chain=Tt,this.func=It}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new it.Buf16(1146),this.dyn_dtree=new it.Buf16(122),this.bl_tree=new it.Buf16(78),ut(this.dyn_ltree),ut(this.dyn_dtree),ut(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new it.Buf16(16),this.heap=new it.Buf16(573),ut(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new it.Buf16(573),ut(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $t(wt){var Et;return wt&&wt.state?(wt.total_in=wt.total_out=0,wt.data_type=2,(Et=wt.state).pending=0,Et.pending_out=0,Et.wrap<0&&(Et.wrap=-Et.wrap),Et.status=Et.wrap?42:113,wt.adler=Et.wrap===2?0:1,Et.last_flush=0,ot._tr_init(Et),0):ct(wt,-2)}function zt(wt){var Et,Rt=$t(wt);return Rt===0&&((Et=wt.state).window_size=2*Et.w_size,ut(Et.head),Et.max_lazy_match=rt[Et.level].max_lazy,Et.good_match=rt[Et.level].good_length,Et.nice_match=rt[Et.level].nice_length,Et.max_chain_length=rt[Et.level].max_chain,Et.strstart=0,Et.block_start=0,Et.lookahead=0,Et.insert=0,Et.match_length=Et.prev_length=2,Et.match_available=0,Et.ins_h=0),Rt}function Nt(wt,Et,Rt,Tt,It,Pt){if(!wt)return-2;var Dt=1;if(Et===-1&&(Et=6),Tt<0?(Dt=0,Tt=-Tt):Tt>15&&(Dt=2,Tt-=16),It<1||It>9||Rt!==8||Tt<8||Tt>15||Et<0||Et>9||Pt<0||Pt>4)return ct(wt,-2);Tt===8&&(Tt=9);var Ct=new vt;return wt.state=Ct,Ct.strm=wt,Ct.wrap=Dt,Ct.gzhead=null,Ct.w_bits=Tt,Ct.w_size=1<<Ct.w_bits,Ct.w_mask=Ct.w_size-1,Ct.hash_bits=It+7,Ct.hash_size=1<<Ct.hash_bits,Ct.hash_mask=Ct.hash_size-1,Ct.hash_shift=~~((Ct.hash_bits+3-1)/3),Ct.window=new it.Buf8(2*Ct.w_size),Ct.head=new it.Buf16(Ct.hash_size),Ct.prev=new it.Buf16(Ct.w_size),Ct.lit_bufsize=1<<It+6,Ct.pending_buf_size=4*Ct.lit_bufsize,Ct.pending_buf=new it.Buf8(Ct.pending_buf_size),Ct.d_buf=1*Ct.lit_bufsize,Ct.l_buf=3*Ct.lit_bufsize,Ct.level=Et,Ct.strategy=Pt,Ct.method=Rt,zt(wt)}rt=[new xt(0,0,0,0,function(wt,Et){var Rt=65535;for(Rt>wt.pending_buf_size-5&&(Rt=wt.pending_buf_size-5);;){if(wt.lookahead<=1){if(yt(wt),wt.lookahead===0&&Et===0)return 1;if(wt.lookahead===0)break}wt.strstart+=wt.lookahead,wt.lookahead=0;var Tt=wt.block_start+Rt;if((wt.strstart===0||wt.strstart>=Tt)&&(wt.lookahead=wt.strstart-Tt,wt.strstart=Tt,ht(wt,!1),wt.strm.avail_out===0)||wt.strstart-wt.block_start>=wt.w_size-262&&(ht(wt,!1),wt.strm.avail_out===0))return 1}return wt.insert=0,Et===4?(ht(wt,!0),wt.strm.avail_out===0?3:4):(wt.strstart>wt.block_start&&(ht(wt,!1),wt.strm.avail_out),1)}),new xt(4,4,8,4,bt),new xt(4,5,16,8,bt),new xt(4,6,32,32,bt),new xt(4,4,16,16,St),new xt(8,16,32,32,St),new xt(8,16,128,128,St),new xt(8,32,128,256,St),new xt(32,128,258,1024,St),new xt(32,258,258,4096,St)],et.deflateInit=function(wt,Et){return Nt(wt,Et,8,15,8,0)},et.deflateInit2=Nt,et.deflateReset=zt,et.deflateResetKeep=$t,et.deflateSetHeader=function(wt,Et){return wt&&wt.state?wt.state.wrap!==2?-2:(wt.state.gzhead=Et,0):-2},et.deflate=function(wt,Et){var Rt,Tt,It,Pt;if(!wt||!wt.state||Et>5||Et<0)return wt?ct(wt,-2):-2;if(Tt=wt.state,!wt.output||!wt.input&&wt.avail_in!==0||Tt.status===666&&Et!==4)return ct(wt,wt.avail_out===0?-5:-2);if(Tt.strm=wt,Rt=Tt.last_flush,Tt.last_flush=Et,Tt.status===42)if(Tt.wrap===2)wt.adler=0,pt(Tt,31),pt(Tt,139),pt(Tt,8),Tt.gzhead?(pt(Tt,(Tt.gzhead.text?1:0)+(Tt.gzhead.hcrc?2:0)+(Tt.gzhead.extra?4:0)+(Tt.gzhead.name?8:0)+(Tt.gzhead.comment?16:0)),pt(Tt,255&Tt.gzhead.time),pt(Tt,Tt.gzhead.time>>8&255),pt(Tt,Tt.gzhead.time>>16&255),pt(Tt,Tt.gzhead.time>>24&255),pt(Tt,Tt.level===9?2:Tt.strategy>=2||Tt.level<2?4:0),pt(Tt,255&Tt.gzhead.os),Tt.gzhead.extra&&Tt.gzhead.extra.length&&(pt(Tt,255&Tt.gzhead.extra.length),pt(Tt,Tt.gzhead.extra.length>>8&255)),Tt.gzhead.hcrc&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending,0)),Tt.gzindex=0,Tt.status=69):(pt(Tt,0),pt(Tt,0),pt(Tt,0),pt(Tt,0),pt(Tt,0),pt(Tt,Tt.level===9?2:Tt.strategy>=2||Tt.level<2?4:0),pt(Tt,3),Tt.status=113);else{var Dt=8+(Tt.w_bits-8<<4)<<8;Dt|=(Tt.strategy>=2||Tt.level<2?0:Tt.level<6?1:Tt.level===6?2:3)<<6,Tt.strstart!==0&&(Dt|=32),Dt+=31-Dt%31,Tt.status=113,gt(Tt,Dt),Tt.strstart!==0&&(gt(Tt,wt.adler>>>16),gt(Tt,65535&wt.adler)),wt.adler=1}if(Tt.status===69)if(Tt.gzhead.extra){for(It=Tt.pending;Tt.gzindex<(65535&Tt.gzhead.extra.length)&&(Tt.pending!==Tt.pending_buf_size||(Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),dt(wt),It=Tt.pending,Tt.pending!==Tt.pending_buf_size));)pt(Tt,255&Tt.gzhead.extra[Tt.gzindex]),Tt.gzindex++;Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),Tt.gzindex===Tt.gzhead.extra.length&&(Tt.gzindex=0,Tt.status=73)}else Tt.status=73;if(Tt.status===73)if(Tt.gzhead.name){It=Tt.pending;do{if(Tt.pending===Tt.pending_buf_size&&(Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),dt(wt),It=Tt.pending,Tt.pending===Tt.pending_buf_size)){Pt=1;break}Pt=Tt.gzindex<Tt.gzhead.name.length?255&Tt.gzhead.name.charCodeAt(Tt.gzindex++):0,pt(Tt,Pt)}while(Pt!==0);Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),Pt===0&&(Tt.gzindex=0,Tt.status=91)}else Tt.status=91;if(Tt.status===91)if(Tt.gzhead.comment){It=Tt.pending;do{if(Tt.pending===Tt.pending_buf_size&&(Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),dt(wt),It=Tt.pending,Tt.pending===Tt.pending_buf_size)){Pt=1;break}Pt=Tt.gzindex<Tt.gzhead.comment.length?255&Tt.gzhead.comment.charCodeAt(Tt.gzindex++):0,pt(Tt,Pt)}while(Pt!==0);Tt.gzhead.hcrc&&Tt.pending>It&&(wt.adler=st(wt.adler,Tt.pending_buf,Tt.pending-It,It)),Pt===0&&(Tt.status=103)}else Tt.status=103;if(Tt.status===103&&(Tt.gzhead.hcrc?(Tt.pending+2>Tt.pending_buf_size&&dt(wt),Tt.pending+2<=Tt.pending_buf_size&&(pt(Tt,255&wt.adler),pt(Tt,wt.adler>>8&255),wt.adler=0,Tt.status=113)):Tt.status=113),Tt.pending!==0){if(dt(wt),wt.avail_out===0)return Tt.last_flush=-1,0}else if(wt.avail_in===0&&ft(Et)<=ft(Rt)&&Et!==4)return ct(wt,-5);if(Tt.status===666&&wt.avail_in!==0)return ct(wt,-5);if(wt.avail_in!==0||Tt.lookahead!==0||Et!==0&&Tt.status!==666){var Ct=Tt.strategy===2?function(Ot,Ut){for(var At;;){if(Ot.lookahead===0&&(yt(Ot),Ot.lookahead===0)){if(Ut===0)return 1;break}if(Ot.match_length=0,At=ot._tr_tally(Ot,0,Ot.window[Ot.strstart]),Ot.lookahead--,Ot.strstart++,At&&(ht(Ot,!1),Ot.strm.avail_out===0))return 1}return Ot.insert=0,Ut===4?(ht(Ot,!0),Ot.strm.avail_out===0?3:4):Ot.last_lit&&(ht(Ot,!1),Ot.strm.avail_out===0)?1:2}(Tt,Et):Tt.strategy===3?function(Ot,Ut){for(var At,Mt,jt,kt,Gt=Ot.window;;){if(Ot.lookahead<=258){if(yt(Ot),Ot.lookahead<=258&&Ut===0)return 1;if(Ot.lookahead===0)break}if(Ot.match_length=0,Ot.lookahead>=3&&Ot.strstart>0&&(Mt=Gt[jt=Ot.strstart-1])===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]){kt=Ot.strstart+258;do;while(Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&Mt===Gt[++jt]&&jt<kt);Ot.match_length=258-(kt-jt),Ot.match_length>Ot.lookahead&&(Ot.match_length=Ot.lookahead)}if(Ot.match_length>=3?(At=ot._tr_tally(Ot,1,Ot.match_length-3),Ot.lookahead-=Ot.match_length,Ot.strstart+=Ot.match_length,Ot.match_length=0):(At=ot._tr_tally(Ot,0,Ot.window[Ot.strstart]),Ot.lookahead--,Ot.strstart++),At&&(ht(Ot,!1),Ot.strm.avail_out===0))return 1}return Ot.insert=0,Ut===4?(ht(Ot,!0),Ot.strm.avail_out===0?3:4):Ot.last_lit&&(ht(Ot,!1),Ot.strm.avail_out===0)?1:2}(Tt,Et):rt[Tt.level].func(Tt,Et);if(Ct!==3&&Ct!==4||(Tt.status=666),Ct===1||Ct===3)return wt.avail_out===0&&(Tt.last_flush=-1),0;if(Ct===2&&(Et===1?ot._tr_align(Tt):Et!==5&&(ot._tr_stored_block(Tt,0,0,!1),Et===3&&(ut(Tt.head),Tt.lookahead===0&&(Tt.strstart=0,Tt.block_start=0,Tt.insert=0))),dt(wt),wt.avail_out===0))return Tt.last_flush=-1,0}return Et!==4?0:Tt.wrap<=0?1:(Tt.wrap===2?(pt(Tt,255&wt.adler),pt(Tt,wt.adler>>8&255),pt(Tt,wt.adler>>16&255),pt(Tt,wt.adler>>24&255),pt(Tt,255&wt.total_in),pt(Tt,wt.total_in>>8&255),pt(Tt,wt.total_in>>16&255),pt(Tt,wt.total_in>>24&255)):(gt(Tt,wt.adler>>>16),gt(Tt,65535&wt.adler)),dt(wt),Tt.wrap>0&&(Tt.wrap=-Tt.wrap),Tt.pending!==0?0:1)},et.deflateEnd=function(wt){var Et;return wt&&wt.state?(Et=wt.state.status)!==42&&Et!==69&&Et!==73&&Et!==91&&Et!==103&&Et!==113&&Et!==666?ct(wt,-2):(wt.state=null,Et===113?ct(wt,-3):0):-2},et.deflateSetDictionary=function(wt,Et){var Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At=Et.length;if(!wt||!wt.state||(Pt=(Rt=wt.state).wrap)===2||Pt===1&&Rt.status!==42||Rt.lookahead)return-2;for(Pt===1&&(wt.adler=at(wt.adler,Et,At,0)),Rt.wrap=0,At>=Rt.w_size&&(Pt===0&&(ut(Rt.head),Rt.strstart=0,Rt.block_start=0,Rt.insert=0),Ut=new it.Buf8(Rt.w_size),it.arraySet(Ut,Et,At-Rt.w_size,Rt.w_size,0),Et=Ut,At=Rt.w_size),Dt=wt.avail_in,Ct=wt.next_in,Ot=wt.input,wt.avail_in=At,wt.next_in=0,wt.input=Et,yt(Rt);Rt.lookahead>=3;){Tt=Rt.strstart,It=Rt.lookahead-2;do Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Tt+3-1])&Rt.hash_mask,Rt.prev[Tt&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Tt,Tt++;while(--It);Rt.strstart=Tt,Rt.lookahead=2,yt(Rt)}return Rt.strstart+=Rt.lookahead,Rt.block_start=Rt.strstart,Rt.insert=Rt.lookahead,Rt.lookahead=0,Rt.match_length=Rt.prev_length=2,Rt.match_available=0,wt.next_in=Ct,wt.input=Ot,wt.avail_in=Dt,Rt.wrap=Pt,0},et.deflateInfo="pako deflate (from Nodeca project)"},function(tt,et,nt){var rt=nt(33);function it(Mt){for(var jt=Mt.length;--jt>=0;)Mt[jt]=0}var ot=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],st=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ct=new Array(576);it(ct);var ft=new Array(60);it(ft);var ut=new Array(512);it(ut);var dt=new Array(256);it(dt);var ht=new Array(29);it(ht);var pt,gt,mt,yt=new Array(30);function bt(Mt,jt,kt,Gt,Ht){this.static_tree=Mt,this.extra_bits=jt,this.extra_base=kt,this.elems=Gt,this.max_length=Ht,this.has_stree=Mt&&Mt.length}function St(Mt,jt){this.dyn_tree=Mt,this.max_code=0,this.stat_desc=jt}function xt(Mt){return Mt<256?ut[Mt]:ut[256+(Mt>>>7)]}function vt(Mt,jt){Mt.pending_buf[Mt.pending++]=255&jt,Mt.pending_buf[Mt.pending++]=jt>>>8&255}function $t(Mt,jt,kt){Mt.bi_valid>16-kt?(Mt.bi_buf|=jt<<Mt.bi_valid&65535,vt(Mt,Mt.bi_buf),Mt.bi_buf=jt>>16-Mt.bi_valid,Mt.bi_valid+=kt-16):(Mt.bi_buf|=jt<<Mt.bi_valid&65535,Mt.bi_valid+=kt)}function zt(Mt,jt,kt){$t(Mt,kt[2*jt],kt[2*jt+1])}function Nt(Mt,jt){var kt=0;do kt|=1&Mt,Mt>>>=1,kt<<=1;while(--jt>0);return kt>>>1}function wt(Mt,jt,kt){var Gt,Ht,Jt=new Array(16),Vt=0;for(Gt=1;Gt<=15;Gt++)Jt[Gt]=Vt=Vt+kt[Gt-1]<<1;for(Ht=0;Ht<=jt;Ht++){var Wt=Mt[2*Ht+1];Wt!==0&&(Mt[2*Ht]=Nt(Jt[Wt]++,Wt))}}function Et(Mt){var jt;for(jt=0;jt<286;jt++)Mt.dyn_ltree[2*jt]=0;for(jt=0;jt<30;jt++)Mt.dyn_dtree[2*jt]=0;for(jt=0;jt<19;jt++)Mt.bl_tree[2*jt]=0;Mt.dyn_ltree[512]=1,Mt.opt_len=Mt.static_len=0,Mt.last_lit=Mt.matches=0}function Rt(Mt){Mt.bi_valid>8?vt(Mt,Mt.bi_buf):Mt.bi_valid>0&&(Mt.pending_buf[Mt.pending++]=Mt.bi_buf),Mt.bi_buf=0,Mt.bi_valid=0}function Tt(Mt,jt,kt,Gt){var Ht=2*jt,Jt=2*kt;return Mt[Ht]<Mt[Jt]||Mt[Ht]===Mt[Jt]&&Gt[jt]<=Gt[kt]}function It(Mt,jt,kt){for(var Gt=Mt.heap[kt],Ht=kt<<1;Ht<=Mt.heap_len&&(Ht<Mt.heap_len&&Tt(jt,Mt.heap[Ht+1],Mt.heap[Ht],Mt.depth)&&Ht++,!Tt(jt,Gt,Mt.heap[Ht],Mt.depth));)Mt.heap[kt]=Mt.heap[Ht],kt=Ht,Ht<<=1;Mt.heap[kt]=Gt}function Pt(Mt,jt,kt){var Gt,Ht,Jt,Vt,Wt=0;if(Mt.last_lit!==0)do Gt=Mt.pending_buf[Mt.d_buf+2*Wt]<<8|Mt.pending_buf[Mt.d_buf+2*Wt+1],Ht=Mt.pending_buf[Mt.l_buf+Wt],Wt++,Gt===0?zt(Mt,Ht,jt):(zt(Mt,(Jt=dt[Ht])+256+1,jt),(Vt=ot[Jt])!==0&&$t(Mt,Ht-=ht[Jt],Vt),zt(Mt,Jt=xt(--Gt),kt),(Vt=at[Jt])!==0&&$t(Mt,Gt-=yt[Jt],Vt));while(Wt<Mt.last_lit);zt(Mt,256,jt)}function Dt(Mt,jt){var kt,Gt,Ht,Jt=jt.dyn_tree,Vt=jt.stat_desc.static_tree,Wt=jt.stat_desc.has_stree,Lt=jt.stat_desc.elems,Bt=-1;for(Mt.heap_len=0,Mt.heap_max=573,kt=0;kt<Lt;kt++)Jt[2*kt]!==0?(Mt.heap[++Mt.heap_len]=Bt=kt,Mt.depth[kt]=0):Jt[2*kt+1]=0;for(;Mt.heap_len<2;)Jt[2*(Ht=Mt.heap[++Mt.heap_len]=Bt<2?++Bt:0)]=1,Mt.depth[Ht]=0,Mt.opt_len--,Wt&&(Mt.static_len-=Vt[2*Ht+1]);for(jt.max_code=Bt,kt=Mt.heap_len>>1;kt>=1;kt--)It(Mt,Jt,kt);Ht=Lt;do kt=Mt.heap[1],Mt.heap[1]=Mt.heap[Mt.heap_len--],It(Mt,Jt,1),Gt=Mt.heap[1],Mt.heap[--Mt.heap_max]=kt,Mt.heap[--Mt.heap_max]=Gt,Jt[2*Ht]=Jt[2*kt]+Jt[2*Gt],Mt.depth[Ht]=(Mt.depth[kt]>=Mt.depth[Gt]?Mt.depth[kt]:Mt.depth[Gt])+1,Jt[2*kt+1]=Jt[2*Gt+1]=Ht,Mt.heap[1]=Ht++,It(Mt,Jt,1);while(Mt.heap_len>=2);Mt.heap[--Mt.heap_max]=Mt.heap[1],function(Ft,sn){var Xt,dn,Yt,yn,Qt,Kt,hn=sn.dyn_tree,vn=sn.max_code,Sn=sn.stat_desc.static_tree,Cn=sn.stat_desc.has_stree,cn=sn.stat_desc.extra_bits,ln=sn.stat_desc.extra_base,bn=sn.stat_desc.max_length,xn=0;for(yn=0;yn<=15;yn++)Ft.bl_count[yn]=0;for(hn[2*Ft.heap[Ft.heap_max]+1]=0,Xt=Ft.heap_max+1;Xt<573;Xt++)(yn=hn[2*hn[2*(dn=Ft.heap[Xt])+1]+1]+1)>bn&&(yn=bn,xn++),hn[2*dn+1]=yn,dn>vn||(Ft.bl_count[yn]++,Qt=0,dn>=ln&&(Qt=cn[dn-ln]),Kt=hn[2*dn],Ft.opt_len+=Kt*(yn+Qt),Cn&&(Ft.static_len+=Kt*(Sn[2*dn+1]+Qt)));if(xn!==0){do{for(yn=bn-1;Ft.bl_count[yn]===0;)yn--;Ft.bl_count[yn]--,Ft.bl_count[yn+1]+=2,Ft.bl_count[bn]--,xn-=2}while(xn>0);for(yn=bn;yn!==0;yn--)for(dn=Ft.bl_count[yn];dn!==0;)(Yt=Ft.heap[--Xt])>vn||(hn[2*Yt+1]!==yn&&(Ft.opt_len+=(yn-hn[2*Yt+1])*hn[2*Yt],hn[2*Yt+1]=yn),dn--)}}(Mt,jt),wt(Jt,Bt,Mt.bl_count)}function Ct(Mt,jt,kt){var Gt,Ht,Jt=-1,Vt=jt[1],Wt=0,Lt=7,Bt=4;for(Vt===0&&(Lt=138,Bt=3),jt[2*(kt+1)+1]=65535,Gt=0;Gt<=kt;Gt++)Ht=Vt,Vt=jt[2*(Gt+1)+1],++Wt<Lt&&Ht===Vt||(Wt<Bt?Mt.bl_tree[2*Ht]+=Wt:Ht!==0?(Ht!==Jt&&Mt.bl_tree[2*Ht]++,Mt.bl_tree[32]++):Wt<=10?Mt.bl_tree[34]++:Mt.bl_tree[36]++,Wt=0,Jt=Ht,Vt===0?(Lt=138,Bt=3):Ht===Vt?(Lt=6,Bt=3):(Lt=7,Bt=4))}function Ot(Mt,jt,kt){var Gt,Ht,Jt=-1,Vt=jt[1],Wt=0,Lt=7,Bt=4;for(Vt===0&&(Lt=138,Bt=3),Gt=0;Gt<=kt;Gt++)if(Ht=Vt,Vt=jt[2*(Gt+1)+1],!(++Wt<Lt&&Ht===Vt)){if(Wt<Bt)do zt(Mt,Ht,Mt.bl_tree);while(--Wt!=0);else Ht!==0?(Ht!==Jt&&(zt(Mt,Ht,Mt.bl_tree),Wt--),zt(Mt,16,Mt.bl_tree),$t(Mt,Wt-3,2)):Wt<=10?(zt(Mt,17,Mt.bl_tree),$t(Mt,Wt-3,3)):(zt(Mt,18,Mt.bl_tree),$t(Mt,Wt-11,7));Wt=0,Jt=Ht,Vt===0?(Lt=138,Bt=3):Ht===Vt?(Lt=6,Bt=3):(Lt=7,Bt=4)}}it(yt);var Ut=!1;function At(Mt,jt,kt,Gt){var Ht,Jt,Vt;$t(Mt,0+(Gt?1:0),3),Jt=jt,Vt=kt,Rt(Ht=Mt),vt(Ht,Vt),vt(Ht,~Vt),rt.arraySet(Ht.pending_buf,Ht.window,Jt,Vt,Ht.pending),Ht.pending+=Vt}et._tr_init=function(Mt){Ut||(function(){var jt,kt,Gt,Ht,Jt,Vt=new Array(16);for(Gt=0,Ht=0;Ht<28;Ht++)for(ht[Ht]=Gt,jt=0;jt<1<<ot[Ht];jt++)dt[Gt++]=Ht;for(dt[Gt-1]=Ht,Jt=0,Ht=0;Ht<16;Ht++)for(yt[Ht]=Jt,jt=0;jt<1<<at[Ht];jt++)ut[Jt++]=Ht;for(Jt>>=7;Ht<30;Ht++)for(yt[Ht]=Jt<<7,jt=0;jt<1<<at[Ht]-7;jt++)ut[256+Jt++]=Ht;for(kt=0;kt<=15;kt++)Vt[kt]=0;for(jt=0;jt<=143;)ct[2*jt+1]=8,jt++,Vt[8]++;for(;jt<=255;)ct[2*jt+1]=9,jt++,Vt[9]++;for(;jt<=279;)ct[2*jt+1]=7,jt++,Vt[7]++;for(;jt<=287;)ct[2*jt+1]=8,jt++,Vt[8]++;for(wt(ct,287,Vt),jt=0;jt<30;jt++)ft[2*jt+1]=5,ft[2*jt]=Nt(jt,5);pt=new bt(ct,ot,257,286,15),gt=new bt(ft,at,0,30,15),mt=new bt(new Array(0),st,0,19,7)}(),Ut=!0),Mt.l_desc=new St(Mt.dyn_ltree,pt),Mt.d_desc=new St(Mt.dyn_dtree,gt),Mt.bl_desc=new St(Mt.bl_tree,mt),Mt.bi_buf=0,Mt.bi_valid=0,Et(Mt)},et._tr_stored_block=At,et._tr_flush_block=function(Mt,jt,kt,Gt){var Ht,Jt,Vt=0;Mt.level>0?(Mt.strm.data_type===2&&(Mt.strm.data_type=function(Wt){var Lt,Bt=4093624447;for(Lt=0;Lt<=31;Lt++,Bt>>>=1)if(1&Bt&&Wt.dyn_ltree[2*Lt]!==0)return 0;if(Wt.dyn_ltree[18]!==0||Wt.dyn_ltree[20]!==0||Wt.dyn_ltree[26]!==0)return 1;for(Lt=32;Lt<256;Lt++)if(Wt.dyn_ltree[2*Lt]!==0)return 1;return 0}(Mt)),Dt(Mt,Mt.l_desc),Dt(Mt,Mt.d_desc),Vt=function(Wt){var Lt;for(Ct(Wt,Wt.dyn_ltree,Wt.l_desc.max_code),Ct(Wt,Wt.dyn_dtree,Wt.d_desc.max_code),Dt(Wt,Wt.bl_desc),Lt=18;Lt>=3&&Wt.bl_tree[2*lt[Lt]+1]===0;Lt--);return Wt.opt_len+=3*(Lt+1)+5+5+4,Lt}(Mt),Ht=Mt.opt_len+3+7>>>3,(Jt=Mt.static_len+3+7>>>3)<=Ht&&(Ht=Jt)):Ht=Jt=kt+5,kt+4<=Ht&&jt!==-1?At(Mt,jt,kt,Gt):Mt.strategy===4||Jt===Ht?($t(Mt,2+(Gt?1:0),3),Pt(Mt,ct,ft)):($t(Mt,4+(Gt?1:0),3),function(Wt,Lt,Bt,Ft){var sn;for($t(Wt,Lt-257,5),$t(Wt,Bt-1,5),$t(Wt,Ft-4,4),sn=0;sn<Ft;sn++)$t(Wt,Wt.bl_tree[2*lt[sn]+1],3);Ot(Wt,Wt.dyn_ltree,Lt-1),Ot(Wt,Wt.dyn_dtree,Bt-1)}(Mt,Mt.l_desc.max_code+1,Mt.d_desc.max_code+1,Vt+1),Pt(Mt,Mt.dyn_ltree,Mt.dyn_dtree)),Et(Mt),Gt&&Rt(Mt)},et._tr_tally=function(Mt,jt,kt){return Mt.pending_buf[Mt.d_buf+2*Mt.last_lit]=jt>>>8&255,Mt.pending_buf[Mt.d_buf+2*Mt.last_lit+1]=255&jt,Mt.pending_buf[Mt.l_buf+Mt.last_lit]=255&kt,Mt.last_lit++,jt===0?Mt.dyn_ltree[2*kt]++:(Mt.matches++,jt--,Mt.dyn_ltree[2*(dt[kt]+256+1)]++,Mt.dyn_dtree[2*xt(jt)]++),Mt.last_lit===Mt.lit_bufsize-1},et._tr_align=function(Mt){var jt;$t(Mt,2,3),zt(Mt,256,ct),(jt=Mt).bi_valid===16?(vt(jt,jt.bi_buf),jt.bi_buf=0,jt.bi_valid=0):jt.bi_valid>=8&&(jt.pending_buf[jt.pending++]=255&jt.bi_buf,jt.bi_buf>>=8,jt.bi_valid-=8)}},function(tt,et,nt){tt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(tt,et,nt){var rt=nt(33),it=nt(73),ot=nt(74),at=nt(175),st=nt(176);function lt(St){return(St>>>24&255)+(St>>>8&65280)+((65280&St)<<8)+((255&St)<<24)}function ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new rt.Buf16(320),this.work=new rt.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ft(St){var xt;return St&&St.state?(xt=St.state,St.total_in=St.total_out=xt.total=0,St.msg="",xt.wrap&&(St.adler=1&xt.wrap),xt.mode=1,xt.last=0,xt.havedict=0,xt.dmax=32768,xt.head=null,xt.hold=0,xt.bits=0,xt.lencode=xt.lendyn=new rt.Buf32(852),xt.distcode=xt.distdyn=new rt.Buf32(592),xt.sane=1,xt.back=-1,0):-2}function ut(St){var xt;return St&&St.state?((xt=St.state).wsize=0,xt.whave=0,xt.wnext=0,ft(St)):-2}function dt(St,xt){var vt,$t;return St&&St.state?($t=St.state,xt<0?(vt=0,xt=-xt):(vt=1+(xt>>4),xt<48&&(xt&=15)),xt&&(xt<8||xt>15)?-2:($t.window!==null&&$t.wbits!==xt&&($t.window=null),$t.wrap=vt,$t.wbits=xt,ut(St))):-2}function ht(St,xt){var vt,$t;return St?($t=new ct,St.state=$t,$t.window=null,(vt=dt(St,xt))!==0&&(St.state=null),vt):-2}var pt,gt,mt=!0;function yt(St){if(mt){var xt;for(pt=new rt.Buf32(512),gt=new rt.Buf32(32),xt=0;xt<144;)St.lens[xt++]=8;for(;xt<256;)St.lens[xt++]=9;for(;xt<280;)St.lens[xt++]=7;for(;xt<288;)St.lens[xt++]=8;for(st(1,St.lens,0,288,pt,0,St.work,{bits:9}),xt=0;xt<32;)St.lens[xt++]=5;st(2,St.lens,0,32,gt,0,St.work,{bits:5}),mt=!1}St.lencode=pt,St.lenbits=9,St.distcode=gt,St.distbits=5}function bt(St,xt,vt,$t){var zt,Nt=St.state;return Nt.window===null&&(Nt.wsize=1<<Nt.wbits,Nt.wnext=0,Nt.whave=0,Nt.window=new rt.Buf8(Nt.wsize)),$t>=Nt.wsize?(rt.arraySet(Nt.window,xt,vt-Nt.wsize,Nt.wsize,0),Nt.wnext=0,Nt.whave=Nt.wsize):((zt=Nt.wsize-Nt.wnext)>$t&&(zt=$t),rt.arraySet(Nt.window,xt,vt-$t,zt,Nt.wnext),($t-=zt)?(rt.arraySet(Nt.window,xt,vt-$t,$t,0),Nt.wnext=$t,Nt.whave=Nt.wsize):(Nt.wnext+=zt,Nt.wnext===Nt.wsize&&(Nt.wnext=0),Nt.whave<Nt.wsize&&(Nt.whave+=zt))),0}et.inflateReset=ut,et.inflateReset2=dt,et.inflateResetKeep=ft,et.inflateInit=function(St){return ht(St,15)},et.inflateInit2=ht,et.inflate=function(St,xt){var vt,$t,zt,Nt,wt,Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht,Jt,Vt,Wt,Lt,Bt=0,Ft=new rt.Buf8(4),sn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!St||!St.state||!St.output||!St.input&&St.avail_in!==0)return-2;(vt=St.state).mode===12&&(vt.mode=13),wt=St.next_out,zt=St.output,Rt=St.avail_out,Nt=St.next_in,$t=St.input,Et=St.avail_in,Tt=vt.hold,It=vt.bits,Pt=Et,Dt=Rt,Vt=0;e:for(;;)switch(vt.mode){case 1:if(vt.wrap===0){vt.mode=13;break}for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(2&vt.wrap&&Tt===35615){vt.check=0,Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0),Tt=0,It=0,vt.mode=2;break}if(vt.flags=0,vt.head&&(vt.head.done=!1),!(1&vt.wrap)||(((255&Tt)<<8)+(Tt>>8))%31){St.msg="incorrect header check",vt.mode=30;break}if((15&Tt)!=8){St.msg="unknown compression method",vt.mode=30;break}if(It-=4,Jt=8+(15&(Tt>>>=4)),vt.wbits===0)vt.wbits=Jt;else if(Jt>vt.wbits){St.msg="invalid window size",vt.mode=30;break}vt.dmax=1<<Jt,St.adler=vt.check=1,vt.mode=512&Tt?10:12,Tt=0,It=0;break;case 2:for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(vt.flags=Tt,(255&vt.flags)!=8){St.msg="unknown compression method",vt.mode=30;break}if(57344&vt.flags){St.msg="unknown header flags set",vt.mode=30;break}vt.head&&(vt.head.text=Tt>>8&1),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0)),Tt=0,It=0,vt.mode=3;case 3:for(;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.head&&(vt.head.time=Tt),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,Ft[2]=Tt>>>16&255,Ft[3]=Tt>>>24&255,vt.check=ot(vt.check,Ft,4,0)),Tt=0,It=0,vt.mode=4;case 4:for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.head&&(vt.head.xflags=255&Tt,vt.head.os=Tt>>8),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0)),Tt=0,It=0,vt.mode=5;case 5:if(1024&vt.flags){for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.length=Tt,vt.head&&(vt.head.extra_len=Tt),512&vt.flags&&(Ft[0]=255&Tt,Ft[1]=Tt>>>8&255,vt.check=ot(vt.check,Ft,2,0)),Tt=0,It=0}else vt.head&&(vt.head.extra=null);vt.mode=6;case 6:if(1024&vt.flags&&((Ct=vt.length)>Et&&(Ct=Et),Ct&&(vt.head&&(Jt=vt.head.extra_len-vt.length,vt.head.extra||(vt.head.extra=new Array(vt.head.extra_len)),rt.arraySet(vt.head.extra,$t,Nt,Ct,Jt)),512&vt.flags&&(vt.check=ot(vt.check,$t,Ct,Nt)),Et-=Ct,Nt+=Ct,vt.length-=Ct),vt.length))break e;vt.length=0,vt.mode=7;case 7:if(2048&vt.flags){if(Et===0)break e;Ct=0;do Jt=$t[Nt+Ct++],vt.head&&Jt&&vt.length<65536&&(vt.head.name+=String.fromCharCode(Jt));while(Jt&&Ct<Et);if(512&vt.flags&&(vt.check=ot(vt.check,$t,Ct,Nt)),Et-=Ct,Nt+=Ct,Jt)break e}else vt.head&&(vt.head.name=null);vt.length=0,vt.mode=8;case 8:if(4096&vt.flags){if(Et===0)break e;Ct=0;do Jt=$t[Nt+Ct++],vt.head&&Jt&&vt.length<65536&&(vt.head.comment+=String.fromCharCode(Jt));while(Jt&&Ct<Et);if(512&vt.flags&&(vt.check=ot(vt.check,$t,Ct,Nt)),Et-=Ct,Nt+=Ct,Jt)break e}else vt.head&&(vt.head.comment=null);vt.mode=9;case 9:if(512&vt.flags){for(;It<16;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Tt!==(65535&vt.check)){St.msg="header crc mismatch",vt.mode=30;break}Tt=0,It=0}vt.head&&(vt.head.hcrc=vt.flags>>9&1,vt.head.done=!0),St.adler=vt.check=0,vt.mode=12;break;case 10:for(;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}St.adler=vt.check=lt(Tt),Tt=0,It=0,vt.mode=11;case 11:if(vt.havedict===0)return St.next_out=wt,St.avail_out=Rt,St.next_in=Nt,St.avail_in=Et,vt.hold=Tt,vt.bits=It,2;St.adler=vt.check=1,vt.mode=12;case 12:if(xt===5||xt===6)break e;case 13:if(vt.last){Tt>>>=7&It,It-=7&It,vt.mode=27;break}for(;It<3;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}switch(vt.last=1&Tt,It-=1,3&(Tt>>>=1)){case 0:vt.mode=14;break;case 1:if(yt(vt),vt.mode=20,xt===6){Tt>>>=2,It-=2;break e}break;case 2:vt.mode=17;break;case 3:St.msg="invalid block type",vt.mode=30}Tt>>>=2,It-=2;break;case 14:for(Tt>>>=7&It,It-=7&It;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if((65535&Tt)!=(Tt>>>16^65535)){St.msg="invalid stored block lengths",vt.mode=30;break}if(vt.length=65535&Tt,Tt=0,It=0,vt.mode=15,xt===6)break e;case 15:vt.mode=16;case 16:if(Ct=vt.length){if(Ct>Et&&(Ct=Et),Ct>Rt&&(Ct=Rt),Ct===0)break e;rt.arraySet(zt,$t,Nt,Ct,wt),Et-=Ct,Nt+=Ct,Rt-=Ct,wt+=Ct,vt.length-=Ct;break}vt.mode=12;break;case 17:for(;It<14;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(vt.nlen=257+(31&Tt),Tt>>>=5,It-=5,vt.ndist=1+(31&Tt),Tt>>>=5,It-=5,vt.ncode=4+(15&Tt),Tt>>>=4,It-=4,vt.nlen>286||vt.ndist>30){St.msg="too many length or distance symbols",vt.mode=30;break}vt.have=0,vt.mode=18;case 18:for(;vt.have<vt.ncode;){for(;It<3;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.lens[sn[vt.have++]]=7&Tt,Tt>>>=3,It-=3}for(;vt.have<19;)vt.lens[sn[vt.have++]]=0;if(vt.lencode=vt.lendyn,vt.lenbits=7,Wt={bits:vt.lenbits},Vt=st(0,vt.lens,0,19,vt.lencode,0,vt.work,Wt),vt.lenbits=Wt.bits,Vt){St.msg="invalid code lengths set",vt.mode=30;break}vt.have=0,vt.mode=19;case 19:for(;vt.have<vt.nlen+vt.ndist;){for(;Mt=(Bt=vt.lencode[Tt&(1<<vt.lenbits)-1])>>>16&255,jt=65535&Bt,!((At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(jt<16)Tt>>>=At,It-=At,vt.lens[vt.have++]=jt;else{if(jt===16){for(Lt=At+2;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Tt>>>=At,It-=At,vt.have===0){St.msg="invalid bit length repeat",vt.mode=30;break}Jt=vt.lens[vt.have-1],Ct=3+(3&Tt),Tt>>>=2,It-=2}else if(jt===17){for(Lt=At+3;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}It-=At,Jt=0,Ct=3+(7&(Tt>>>=At)),Tt>>>=3,It-=3}else{for(Lt=At+7;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}It-=At,Jt=0,Ct=11+(127&(Tt>>>=At)),Tt>>>=7,It-=7}if(vt.have+Ct>vt.nlen+vt.ndist){St.msg="invalid bit length repeat",vt.mode=30;break}for(;Ct--;)vt.lens[vt.have++]=Jt}}if(vt.mode===30)break;if(vt.lens[256]===0){St.msg="invalid code -- missing end-of-block",vt.mode=30;break}if(vt.lenbits=9,Wt={bits:vt.lenbits},Vt=st(1,vt.lens,0,vt.nlen,vt.lencode,0,vt.work,Wt),vt.lenbits=Wt.bits,Vt){St.msg="invalid literal/lengths set",vt.mode=30;break}if(vt.distbits=6,vt.distcode=vt.distdyn,Wt={bits:vt.distbits},Vt=st(2,vt.lens,vt.nlen,vt.ndist,vt.distcode,0,vt.work,Wt),vt.distbits=Wt.bits,Vt){St.msg="invalid distances set",vt.mode=30;break}if(vt.mode=20,xt===6)break e;case 20:vt.mode=21;case 21:if(Et>=6&&Rt>=258){St.next_out=wt,St.avail_out=Rt,St.next_in=Nt,St.avail_in=Et,vt.hold=Tt,vt.bits=It,at(St,Dt),wt=St.next_out,zt=St.output,Rt=St.avail_out,Nt=St.next_in,$t=St.input,Et=St.avail_in,Tt=vt.hold,It=vt.bits,vt.mode===12&&(vt.back=-1);break}for(vt.back=0;Mt=(Bt=vt.lencode[Tt&(1<<vt.lenbits)-1])>>>16&255,jt=65535&Bt,!((At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Mt&&(240&Mt)==0){for(kt=At,Gt=Mt,Ht=jt;Mt=(Bt=vt.lencode[Ht+((Tt&(1<<kt+Gt)-1)>>kt)])>>>16&255,jt=65535&Bt,!(kt+(At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}Tt>>>=kt,It-=kt,vt.back+=kt}if(Tt>>>=At,It-=At,vt.back+=At,vt.length=jt,Mt===0){vt.mode=26;break}if(32&Mt){vt.back=-1,vt.mode=12;break}if(64&Mt){St.msg="invalid literal/length code",vt.mode=30;break}vt.extra=15&Mt,vt.mode=22;case 22:if(vt.extra){for(Lt=vt.extra;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.length+=Tt&(1<<vt.extra)-1,Tt>>>=vt.extra,It-=vt.extra,vt.back+=vt.extra}vt.was=vt.length,vt.mode=23;case 23:for(;Mt=(Bt=vt.distcode[Tt&(1<<vt.distbits)-1])>>>16&255,jt=65535&Bt,!((At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if((240&Mt)==0){for(kt=At,Gt=Mt,Ht=jt;Mt=(Bt=vt.distcode[Ht+((Tt&(1<<kt+Gt)-1)>>kt)])>>>16&255,jt=65535&Bt,!(kt+(At=Bt>>>24)<=It);){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}Tt>>>=kt,It-=kt,vt.back+=kt}if(Tt>>>=At,It-=At,vt.back+=At,64&Mt){St.msg="invalid distance code",vt.mode=30;break}vt.offset=jt,vt.extra=15&Mt,vt.mode=24;case 24:if(vt.extra){for(Lt=vt.extra;It<Lt;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}vt.offset+=Tt&(1<<vt.extra)-1,Tt>>>=vt.extra,It-=vt.extra,vt.back+=vt.extra}if(vt.offset>vt.dmax){St.msg="invalid distance too far back",vt.mode=30;break}vt.mode=25;case 25:if(Rt===0)break e;if(Ct=Dt-Rt,vt.offset>Ct){if((Ct=vt.offset-Ct)>vt.whave&&vt.sane){St.msg="invalid distance too far back",vt.mode=30;break}Ct>vt.wnext?(Ct-=vt.wnext,Ot=vt.wsize-Ct):Ot=vt.wnext-Ct,Ct>vt.length&&(Ct=vt.length),Ut=vt.window}else Ut=zt,Ot=wt-vt.offset,Ct=vt.length;Ct>Rt&&(Ct=Rt),Rt-=Ct,vt.length-=Ct;do zt[wt++]=Ut[Ot++];while(--Ct);vt.length===0&&(vt.mode=21);break;case 26:if(Rt===0)break e;zt[wt++]=vt.length,Rt--,vt.mode=21;break;case 27:if(vt.wrap){for(;It<32;){if(Et===0)break e;Et--,Tt|=$t[Nt++]<<It,It+=8}if(Dt-=Rt,St.total_out+=Dt,vt.total+=Dt,Dt&&(St.adler=vt.check=vt.flags?ot(vt.check,zt,Dt,wt-Dt):it(vt.check,zt,Dt,wt-Dt)),Dt=Rt,(vt.flags?Tt:lt(Tt))!==vt.check){St.msg="incorrect data check",vt.mode=30;break}Tt=0,It=0}vt.mode=28;case 28:if(vt.wrap&&vt.flags){for(;It<32;){if(Et===0)break e;Et--,Tt+=$t[Nt++]<<It,It+=8}if(Tt!==(4294967295&vt.total)){St.msg="incorrect length check",vt.mode=30;break}Tt=0,It=0}vt.mode=29;case 29:Vt=1;break e;case 30:Vt=-3;break e;case 31:return-4;case 32:default:return-2}return St.next_out=wt,St.avail_out=Rt,St.next_in=Nt,St.avail_in=Et,vt.hold=Tt,vt.bits=It,(vt.wsize||Dt!==St.avail_out&&vt.mode<30&&(vt.mode<27||xt!==4))&&bt(St,St.output,St.next_out,Dt-St.avail_out)?(vt.mode=31,-4):(Pt-=St.avail_in,Dt-=St.avail_out,St.total_in+=Pt,St.total_out+=Dt,vt.total+=Dt,vt.wrap&&Dt&&(St.adler=vt.check=vt.flags?ot(vt.check,zt,Dt,St.next_out-Dt):it(vt.check,zt,Dt,St.next_out-Dt)),St.data_type=vt.bits+(vt.last?64:0)+(vt.mode===12?128:0)+(vt.mode===20||vt.mode===15?256:0),(Pt===0&&Dt===0||xt===4)&&Vt===0&&(Vt=-5),Vt)},et.inflateEnd=function(St){if(!St||!St.state)return-2;var xt=St.state;return xt.window&&(xt.window=null),St.state=null,0},et.inflateGetHeader=function(St,xt){var vt;return St&&St.state?(2&(vt=St.state).wrap)==0?-2:(vt.head=xt,xt.done=!1,0):-2},et.inflateSetDictionary=function(St,xt){var vt,$t=xt.length;return St&&St.state?(vt=St.state).wrap!==0&&vt.mode!==11?-2:vt.mode===11&&it(1,xt,$t,0)!==vt.check?-3:bt(St,xt,$t,$t)?(vt.mode=31,-4):(vt.havedict=1,0):-2},et.inflateInfo="pako inflate (from Nodeca project)"},function(tt,et,nt){tt.exports=function(rt,it){var ot,at,st,lt,ct,ft,ut,dt,ht,pt,gt,mt,yt,bt,St,xt,vt,$t,zt,Nt,wt,Et,Rt,Tt,It;ot=rt.state,at=rt.next_in,Tt=rt.input,st=at+(rt.avail_in-5),lt=rt.next_out,It=rt.output,ct=lt-(it-rt.avail_out),ft=lt+(rt.avail_out-257),ut=ot.dmax,dt=ot.wsize,ht=ot.whave,pt=ot.wnext,gt=ot.window,mt=ot.hold,yt=ot.bits,bt=ot.lencode,St=ot.distcode,xt=(1<<ot.lenbits)-1,vt=(1<<ot.distbits)-1;e:do{yt<15&&(mt+=Tt[at++]<<yt,yt+=8,mt+=Tt[at++]<<yt,yt+=8),$t=bt[mt&xt];t:for(;;){if(mt>>>=zt=$t>>>24,yt-=zt,(zt=$t>>>16&255)==0)It[lt++]=65535&$t;else{if(!(16&zt)){if((64&zt)==0){$t=bt[(65535&$t)+(mt&(1<<zt)-1)];continue t}if(32&zt){ot.mode=12;break e}rt.msg="invalid literal/length code",ot.mode=30;break e}Nt=65535&$t,(zt&=15)&&(yt<zt&&(mt+=Tt[at++]<<yt,yt+=8),Nt+=mt&(1<<zt)-1,mt>>>=zt,yt-=zt),yt<15&&(mt+=Tt[at++]<<yt,yt+=8,mt+=Tt[at++]<<yt,yt+=8),$t=St[mt&vt];n:for(;;){if(mt>>>=zt=$t>>>24,yt-=zt,!(16&(zt=$t>>>16&255))){if((64&zt)==0){$t=St[(65535&$t)+(mt&(1<<zt)-1)];continue n}rt.msg="invalid distance code",ot.mode=30;break e}if(wt=65535&$t,yt<(zt&=15)&&(mt+=Tt[at++]<<yt,(yt+=8)<zt&&(mt+=Tt[at++]<<yt,yt+=8)),(wt+=mt&(1<<zt)-1)>ut){rt.msg="invalid distance too far back",ot.mode=30;break e}if(mt>>>=zt,yt-=zt,wt>(zt=lt-ct)){if((zt=wt-zt)>ht&&ot.sane){rt.msg="invalid distance too far back",ot.mode=30;break e}if(Et=0,Rt=gt,pt===0){if(Et+=dt-zt,zt<Nt){Nt-=zt;do It[lt++]=gt[Et++];while(--zt);Et=lt-wt,Rt=It}}else if(pt<zt){if(Et+=dt+pt-zt,(zt-=pt)<Nt){Nt-=zt;do It[lt++]=gt[Et++];while(--zt);if(Et=0,pt<Nt){Nt-=zt=pt;do It[lt++]=gt[Et++];while(--zt);Et=lt-wt,Rt=It}}}else if(Et+=pt-zt,zt<Nt){Nt-=zt;do It[lt++]=gt[Et++];while(--zt);Et=lt-wt,Rt=It}for(;Nt>2;)It[lt++]=Rt[Et++],It[lt++]=Rt[Et++],It[lt++]=Rt[Et++],Nt-=3;Nt&&(It[lt++]=Rt[Et++],Nt>1&&(It[lt++]=Rt[Et++]))}else{Et=lt-wt;do It[lt++]=It[Et++],It[lt++]=It[Et++],It[lt++]=It[Et++],Nt-=3;while(Nt>2);Nt&&(It[lt++]=It[Et++],Nt>1&&(It[lt++]=It[Et++]))}break}}break}}while(at<st&&lt<ft);at-=Nt=yt>>3,mt&=(1<<(yt-=Nt<<3))-1,rt.next_in=at,rt.next_out=lt,rt.avail_in=at<st?st-at+5:5-(at-st),rt.avail_out=lt<ft?ft-lt+257:257-(lt-ft),ot.hold=mt,ot.bits=yt}},function(tt,et,nt){var rt=nt(33),it=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ot=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],at=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],st=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];tt.exports=function(lt,ct,ft,ut,dt,ht,pt,gt){var mt,yt,bt,St,xt,vt,$t,zt,Nt,wt=gt.bits,Et=0,Rt=0,Tt=0,It=0,Pt=0,Dt=0,Ct=0,Ot=0,Ut=0,At=0,Mt=null,jt=0,kt=new rt.Buf16(16),Gt=new rt.Buf16(16),Ht=null,Jt=0;for(Et=0;Et<=15;Et++)kt[Et]=0;for(Rt=0;Rt<ut;Rt++)kt[ct[ft+Rt]]++;for(Pt=wt,It=15;It>=1&&kt[It]===0;It--);if(Pt>It&&(Pt=It),It===0)return dt[ht++]=20971520,dt[ht++]=20971520,gt.bits=1,0;for(Tt=1;Tt<It&&kt[Tt]===0;Tt++);for(Pt<Tt&&(Pt=Tt),Ot=1,Et=1;Et<=15;Et++)if(Ot<<=1,(Ot-=kt[Et])<0)return-1;if(Ot>0&&(lt===0||It!==1))return-1;for(Gt[1]=0,Et=1;Et<15;Et++)Gt[Et+1]=Gt[Et]+kt[Et];for(Rt=0;Rt<ut;Rt++)ct[ft+Rt]!==0&&(pt[Gt[ct[ft+Rt]]++]=Rt);if(lt===0?(Mt=Ht=pt,vt=19):lt===1?(Mt=it,jt-=257,Ht=ot,Jt-=257,vt=256):(Mt=at,Ht=st,vt=-1),At=0,Rt=0,Et=Tt,xt=ht,Dt=Pt,Ct=0,bt=-1,St=(Ut=1<<Pt)-1,lt===1&&Ut>852||lt===2&&Ut>592)return 1;for(;;){$t=Et-Ct,pt[Rt]<vt?(zt=0,Nt=pt[Rt]):pt[Rt]>vt?(zt=Ht[Jt+pt[Rt]],Nt=Mt[jt+pt[Rt]]):(zt=96,Nt=0),mt=1<<Et-Ct,Tt=yt=1<<Dt;do dt[xt+(At>>Ct)+(yt-=mt)]=$t<<24|zt<<16|Nt|0;while(yt!==0);for(mt=1<<Et-1;At&mt;)mt>>=1;if(mt!==0?(At&=mt-1,At+=mt):At=0,Rt++,--kt[Et]==0){if(Et===It)break;Et=ct[ft+pt[Rt]]}if(Et>Pt&&(At&St)!==bt){for(Ct===0&&(Ct=Pt),xt+=Tt,Ot=1<<(Dt=Et-Ct);Dt+Ct<It&&!((Ot-=kt[Dt+Ct])<=0);)Dt++,Ot<<=1;if(Ut+=1<<Dt,lt===1&&Ut>852||lt===2&&Ut>592)return 1;dt[bt=At&St]=Pt<<24|Dt<<16|xt-ht|0}}return At!==0&&(dt[xt+At]=Et-Ct<<24|64<<16|0),gt.bits=Pt,0}},function(tt,et,nt){tt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(tt,et){},function(tt,et,nt){function rt(lt,ct){var ft=Object.keys(lt);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(lt);ct&&(ut=ut.filter(function(dt){return Object.getOwnPropertyDescriptor(lt,dt).enumerable})),ft.push.apply(ft,ut)}return ft}function it(lt,ct,ft){return ct in lt?Object.defineProperty(lt,ct,{value:ft,enumerable:!0,configurable:!0,writable:!0}):lt[ct]=ft,lt}var ot=nt(4).Buffer,at=nt(180).inspect,st=at&&at.custom||"inspect";tt.exports=function(){function lt(){(function(ft,ut){if(!(ft instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,lt),this.head=null,this.tail=null,this.length=0}var ct;return(ct=[{key:"push",value:function(ft){var ut={data:ft,next:null};this.length>0?this.tail.next=ut:this.head=ut,this.tail=ut,++this.length}},{key:"unshift",value:function(ft){var ut={data:ft,next:this.head};this.length===0&&(this.tail=ut),this.head=ut,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ft=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ft}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ft){if(this.length===0)return"";for(var ut=this.head,dt=""+ut.data;ut=ut.next;)dt+=ft+ut.data;return dt}},{key:"concat",value:function(ft){if(this.length===0)return ot.alloc(0);for(var ut,dt,ht,pt=ot.allocUnsafe(ft>>>0),gt=this.head,mt=0;gt;)ut=gt.data,dt=pt,ht=mt,ot.prototype.copy.call(ut,dt,ht),mt+=gt.data.length,gt=gt.next;return pt}},{key:"consume",value:function(ft,ut){var dt;return ft<this.head.data.length?(dt=this.head.data.slice(0,ft),this.head.data=this.head.data.slice(ft)):dt=ft===this.head.data.length?this.shift():ut?this._getString(ft):this._getBuffer(ft),dt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ft){var ut=this.head,dt=1,ht=ut.data;for(ft-=ht.length;ut=ut.next;){var pt=ut.data,gt=ft>pt.length?pt.length:ft;if(gt===pt.length?ht+=pt:ht+=pt.slice(0,ft),(ft-=gt)==0){gt===pt.length?(++dt,ut.next?this.head=ut.next:this.head=this.tail=null):(this.head=ut,ut.data=pt.slice(gt));break}++dt}return this.length-=dt,ht}},{key:"_getBuffer",value:function(ft){var ut=ot.allocUnsafe(ft),dt=this.head,ht=1;for(dt.data.copy(ut),ft-=dt.data.length;dt=dt.next;){var pt=dt.data,gt=ft>pt.length?pt.length:ft;if(pt.copy(ut,ut.length-ft,0,gt),(ft-=gt)==0){gt===pt.length?(++ht,dt.next?this.head=dt.next:this.head=this.tail=null):(this.head=dt,dt.data=pt.slice(gt));break}++ht}return this.length-=ht,ut}},{key:st,value:function(ft,ut){return at(this,function(dt){for(var ht=1;ht<arguments.length;ht++){var pt=arguments[ht]!=null?arguments[ht]:{};ht%2?rt(Object(pt),!0).forEach(function(gt){it(dt,gt,pt[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(pt)):rt(Object(pt)).forEach(function(gt){Object.defineProperty(dt,gt,Object.getOwnPropertyDescriptor(pt,gt))})}return dt}({},ut,{depth:0,customInspect:!1}))}}])&&function(ft,ut){for(var dt=0;dt<ut.length;dt++){var ht=ut[dt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ft,ht.key,ht)}}(lt.prototype,ct),lt}()},function(tt,et){},function(tt,et,nt){(function(rt){var it;function ot(St,xt,vt){return xt in St?Object.defineProperty(St,xt,{value:vt,enumerable:!0,configurable:!0,writable:!0}):St[xt]=vt,St}var at=nt(45),st=Symbol("lastResolve"),lt=Symbol("lastReject"),ct=Symbol("error"),ft=Symbol("ended"),ut=Symbol("lastPromise"),dt=Symbol("handlePromise"),ht=Symbol("stream");function pt(St,xt){return{value:St,done:xt}}function gt(St){var xt=St[st];if(xt!==null){var vt=St[ht].read();vt!==null&&(St[ut]=null,St[st]=null,St[lt]=null,xt(pt(vt,!1)))}}function mt(St){rt.nextTick(gt,St)}var yt=Object.getPrototypeOf(function(){}),bt=Object.setPrototypeOf((ot(it={get stream(){return this[ht]},next:function(){var St=this,xt=this[ct];if(xt!==null)return Promise.reject(xt);if(this[ft])return Promise.resolve(pt(void 0,!0));if(this[ht].destroyed)return new Promise(function(Et,Rt){rt.nextTick(function(){St[ct]?Rt(St[ct]):Et(pt(void 0,!0))})});var vt,$t,zt,Nt=this[ut];if(Nt)vt=new Promise(($t=Nt,zt=this,function(Et,Rt){$t.then(function(){zt[ft]?Et(pt(void 0,!0)):zt[dt](Et,Rt)},Rt)}));else{var wt=this[ht].read();if(wt!==null)return Promise.resolve(pt(wt,!1));vt=new Promise(this[dt])}return this[ut]=vt,vt}},Symbol.asyncIterator,function(){return this}),ot(it,"return",function(){var St=this;return new Promise(function(xt,vt){St[ht].destroy(null,function($t){$t?vt($t):xt(pt(void 0,!0))})})}),it),yt);tt.exports=function(St){var xt,vt=Object.create(bt,(ot(xt={},ht,{value:St,writable:!0}),ot(xt,st,{value:null,writable:!0}),ot(xt,lt,{value:null,writable:!0}),ot(xt,ct,{value:null,writable:!0}),ot(xt,ft,{value:St._readableState.endEmitted,writable:!0}),ot(xt,dt,{value:function($t,zt){var Nt=vt[ht].read();Nt?(vt[ut]=null,vt[st]=null,vt[lt]=null,$t(pt(Nt,!1))):(vt[st]=$t,vt[lt]=zt)},writable:!0}),xt));return vt[ut]=null,at(St,function($t){if($t&&$t.code!=="ERR_STREAM_PREMATURE_CLOSE"){var zt=vt[lt];return zt!==null&&(vt[ut]=null,vt[st]=null,vt[lt]=null,zt($t)),void(vt[ct]=$t)}var Nt=vt[st];Nt!==null&&(vt[ut]=null,vt[st]=null,vt[lt]=null,Nt(pt(void 0,!0))),vt[ft]=!0}),St.on("readable",mt.bind(null,vt)),vt}}).call(this,nt(2))},function(tt,et){tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(tt,et,nt){tt.exports=it;var rt=nt(80);function it(ot){if(!(this instanceof it))return new it(ot);rt.call(this,ot)}nt(6)(it,rt),it.prototype._transform=function(ot,at,st){st(null,ot)}},function(tt,et,nt){var rt,it=nt(24).codes,ot=it.ERR_MISSING_ARGS,at=it.ERR_STREAM_DESTROYED;function st(dt){if(dt)throw dt}function lt(dt,ht,pt,gt){var mt,yt;mt=gt,yt=!1,gt=function(){yt||(yt=!0,mt.apply(void 0,arguments))};var bt=!1;dt.on("close",function(){bt=!0}),rt===void 0&&(rt=nt(45)),rt(dt,{readable:ht,writable:pt},function(xt){if(xt)return gt(xt);bt=!0,gt()});var St=!1;return function(xt){if(!bt&&!St)return St=!0,function(vt){return vt.setHeader&&typeof vt.abort=="function"}(dt)?dt.abort():typeof dt.destroy=="function"?dt.destroy():void gt(xt||new at("pipe"))}}function ct(dt){dt()}function ft(dt,ht){return dt.pipe(ht)}function ut(dt){return dt.length?typeof dt[dt.length-1]!="function"?st:dt.pop():st}tt.exports=function(){for(var dt=arguments.length,ht=new Array(dt),pt=0;pt<dt;pt++)ht[pt]=arguments[pt];var gt,mt=ut(ht);if(Array.isArray(ht[0])&&(ht=ht[0]),ht.length<2)throw new ot("streams");var yt=ht.map(function(bt,St){var xt=St<ht.length-1;return lt(bt,xt,St>0,function(vt){gt||(gt=vt),vt&&yt.forEach(ct),xt||(yt.forEach(ct),mt(gt))})});return ht.reduce(ft)}},function(tt,et,nt){var rt=nt(186)(function it(ot,at){return(at=at||{}).namespace=ot,at.prod=!0,at.dev=!1,at.force||it.force?it.yep(at):it.nope(at)});tt.exports=rt},function(tt,et){var nt=[],rt=[],it=function(){};function ot(pt){return!~nt.indexOf(pt)&&(nt.push(pt),!0)}function at(pt){it=pt}function st(pt){for(var gt=[],mt=0;mt<nt.length;mt++)if(nt[mt].async)gt.push(nt[mt]);else if(nt[mt](pt))return!0;return!!gt.length&&new Promise(function(yt){Promise.all(gt.map(function(bt){return bt(pt)})).then(function(bt){yt(bt.some(Boolean))})})}function lt(pt){return!~rt.indexOf(pt)&&(rt.push(pt),!0)}function ct(){it.apply(it,arguments)}function ft(pt){for(var gt=0;gt<rt.length;gt++)pt=rt[gt].apply(rt[gt],arguments);return pt}function ut(pt,gt){var mt=Object.prototype.hasOwnProperty;for(var yt in gt)mt.call(gt,yt)&&(pt[yt]=gt[yt]);return pt}function dt(pt){return pt.enabled=!1,pt.modify=lt,pt.set=at,pt.use=ot,ut(function(){return!1},pt)}function ht(pt){return pt.enabled=!0,pt.modify=lt,pt.set=at,pt.use=ot,ut(function(){var gt=Array.prototype.slice.call(arguments,0);return ct.call(ct,pt,ft(gt,pt)),!0},pt)}tt.exports=function(pt){return pt.introduce=ut,pt.enabled=st,pt.process=ft,pt.modify=lt,pt.write=ct,pt.nope=dt,pt.yep=ht,pt.set=at,pt.use=ot,pt}},function(tt,et,nt){(function(rt){var it=nt(63),ot=nt(19).StringDecoder,at=nt(29).Stream;function st(){}tt.exports=function(lt,ct){var ft=rt.alloc(65536),ut=new ot("utf8"),dt=new at,ht="",pt=0,gt=0;return lt.start===-1&&delete lt.start,dt.readable=!0,dt.destroy=function(){dt.destroyed=!0,dt.emit("end"),dt.emit("close")},it.open(lt.file,"a+","0644",function(mt,yt){if(mt)return ct?ct(mt):dt.emit("error",mt),void dt.destroy();(function bt(){if(!dt.destroyed)return it.read(yt,ft,0,ft.length,pt,function(St,xt){if(St)return ct?ct(St):dt.emit("error",St),void dt.destroy();if(!xt)return ht&&((lt.start==null||gt>lt.start)&&(ct?ct(null,ht):dt.emit("line",ht)),gt++,ht=""),setTimeout(bt,1e3);var vt=ut.write(ft.slice(0,xt));ct||dt.emit("data",vt);for(var $t=(vt=(ht+vt).split(/\n+/)).length-1,zt=0;zt<$t;zt++)(lt.start==null||gt>lt.start)&&(ct?ct(null,vt[zt]):dt.emit("line",vt[zt])),gt++;return ht=vt[$t],pt+=xt,bt()});it.close(yt,st)})()}),ct?dt.destroy:dt}}).call(this,nt(4).Buffer)},function(tt,et,nt){(function(rt,it){function ot(yt){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt})(yt)}function at(yt,bt){var St=Object.keys(yt);if(Object.getOwnPropertySymbols){var xt=Object.getOwnPropertySymbols(yt);bt&&(xt=xt.filter(function(vt){return Object.getOwnPropertyDescriptor(yt,vt).enumerable})),St.push.apply(St,xt)}return St}function st(yt){for(var bt=1;bt<arguments.length;bt++){var St=arguments[bt]!=null?arguments[bt]:{};bt%2?at(Object(St),!0).forEach(function(xt){lt(yt,xt,St[xt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(St)):at(Object(St)).forEach(function(xt){Object.defineProperty(yt,xt,Object.getOwnPropertyDescriptor(St,xt))})}return yt}function lt(yt,bt,St){return bt in yt?Object.defineProperty(yt,bt,{value:St,enumerable:!0,configurable:!0,writable:!0}):yt[bt]=St,yt}function ct(yt,bt){if(!(yt instanceof bt))throw new TypeError("Cannot call a class as a function")}function ft(yt,bt){return(ft=Object.setPrototypeOf||function(St,xt){return St.__proto__=xt,St})(yt,bt)}function ut(yt,bt){return!bt||ot(bt)!=="object"&&typeof bt!="function"?function(St){if(St===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return St}(yt):bt}function dt(yt){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(bt){return bt.__proto__||Object.getPrototypeOf(bt)})(yt)}var ht=nt(81),pt=nt(199),gt=nt(29).Stream,mt=nt(17);tt.exports=function(yt){(function(vt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create($t&&$t.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),$t&&ft(vt,$t)})(xt,yt);var bt,St=function(vt){var $t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var zt,Nt=dt(vt);if($t){var wt=dt(this).constructor;zt=Reflect.construct(Nt,arguments,wt)}else zt=Nt.apply(this,arguments);return ut(this,zt)}}(xt);function xt(){var vt,$t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ct(this,xt),(vt=St.call(this,$t)).options=$t,vt.name=$t.name||"http",vt.ssl=!!$t.ssl,vt.host=$t.host||"localhost",vt.port=$t.port,vt.auth=$t.auth,vt.path=$t.path||"",vt.agent=$t.agent,vt.headers=$t.headers||{},vt.headers["content-type"]="application/json",vt.port||(vt.port=vt.ssl?443:80),vt}return(bt=[{key:"log",value:function(vt,$t){var zt=this;this._request(vt,function(Nt,wt){wt&&wt.statusCode!==200&&(Nt=new Error("Invalid HTTP Status Code: ".concat(wt.statusCode))),Nt?zt.emit("warn",Nt):zt.emit("logged",vt)}),$t&&rt($t)}},{key:"query",value:function(vt,$t){typeof vt=="function"&&($t=vt,vt={}),(vt={method:"query",params:this.normalizeQuery(vt)}).params.path&&(vt.path=vt.params.path,delete vt.params.path),vt.params.auth&&(vt.auth=vt.params.auth,delete vt.params.auth),this._request(vt,function(zt,Nt,wt){if(Nt&&Nt.statusCode!==200&&(zt=new Error("Invalid HTTP Status Code: ".concat(Nt.statusCode))),zt)return $t(zt);if(typeof wt=="string")try{wt=JSON.parse(wt)}catch(Et){return $t(Et)}$t(null,wt)})}},{key:"stream",value:function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$t=new gt;(vt={method:"stream",params:vt}).params.path&&(vt.path=vt.params.path,delete vt.params.path),vt.params.auth&&(vt.auth=vt.params.auth,delete vt.params.auth);var zt="",Nt=this._request(vt);return $t.destroy=function(){return Nt.destroy()},Nt.on("data",function(wt){for(var Et=(wt=(zt+wt).split(/\n+/)).length-1,Rt=0;Rt<Et;Rt++)try{$t.emit("log",JSON.parse(wt[Rt]))}catch(Tt){$t.emit("error",Tt)}zt=wt[Et]}),Nt.on("error",function(wt){return $t.emit("error",wt)}),$t}},{key:"_request",value:function(vt,$t){var zt=(vt=vt||{}).auth||this.auth,Nt=vt.path||this.path||"";delete vt.auth,delete vt.path;var wt=Object.assign({},this.headers);zt&&zt.bearer&&(wt.Authorization="Bearer ".concat(zt.bearer));var Et=(this.ssl?pt:ht).request(st(st({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(Nt.replace(/^\//,"")),headers:wt,auth:zt&&zt.username&&zt.password?"".concat(zt.username,":").concat(zt.password):"",agent:this.agent}));Et.on("error",$t),Et.on("response",function(Rt){return Rt.on("end",function(){return $t(null,Rt)}).resume()}),Et.end(it.from(JSON.stringify(vt),"utf8"))}}])&&function(vt,$t){for(var zt=0;zt<$t.length;zt++){var Nt=$t[zt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(vt,Nt.key,Nt)}}(xt.prototype,bt),xt}(mt)}).call(this,nt(12).setImmediate,nt(4).Buffer)},function(tt,et,nt){(function(rt,it,ot){var at=nt(82),st=nt(6),lt=nt(83),ct=nt(28),ft=nt(190),ut=lt.IncomingMessage,dt=lt.readyStates,ht=tt.exports=function(gt){var mt,yt=this;ct.Writable.call(yt),yt._opts=gt,yt._body=[],yt._headers={},gt.auth&&yt.setHeader("Authorization","Basic "+new rt(gt.auth).toString("base64")),Object.keys(gt.headers).forEach(function(vt){yt.setHeader(vt,gt.headers[vt])});var bt,St,xt=!0;if(gt.mode==="disable-fetch"||"requestTimeout"in gt&&!at.abortController)xt=!1,mt=!0;else if(gt.mode==="prefer-streaming")mt=!1;else if(gt.mode==="allow-wrong-content-type")mt=!at.overrideMimeType;else{if(gt.mode&&gt.mode!=="default"&&gt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");mt=!0}yt._mode=(bt=mt,St=xt,at.fetch&&St?"fetch":at.mozchunkedarraybuffer?"moz-chunked-arraybuffer":at.msstream?"ms-stream":at.arraybuffer&&bt?"arraybuffer":at.vbArray&&bt?"text:vbarray":"text"),yt._fetchTimer=null,yt.on("finish",function(){yt._onFinish()})};st(ht,ct.Writable),ht.prototype.setHeader=function(gt,mt){var yt=gt.toLowerCase();pt.indexOf(yt)===-1&&(this._headers[yt]={name:gt,value:mt})},ht.prototype.getHeader=function(gt){var mt=this._headers[gt.toLowerCase()];return mt?mt.value:null},ht.prototype.removeHeader=function(gt){delete this._headers[gt.toLowerCase()]},ht.prototype._onFinish=function(){var gt=this;if(!gt._destroyed){var mt=gt._opts,yt=gt._headers,bt=null;mt.method!=="GET"&&mt.method!=="HEAD"&&(bt=at.arraybuffer?ft(rt.concat(gt._body)):at.blobConstructor?new it.Blob(gt._body.map(function(zt){return ft(zt)}),{type:(yt["content-type"]||{}).value||""}):rt.concat(gt._body).toString());var St=[];if(Object.keys(yt).forEach(function(zt){var Nt=yt[zt].name,wt=yt[zt].value;Array.isArray(wt)?wt.forEach(function(Et){St.push([Nt,Et])}):St.push([Nt,wt])}),gt._mode==="fetch"){var xt=null;if(at.abortController){var vt=new AbortController;xt=vt.signal,gt._fetchAbortController=vt,"requestTimeout"in mt&&mt.requestTimeout!==0&&(gt._fetchTimer=it.setTimeout(function(){gt.emit("requestTimeout"),gt._fetchAbortController&&gt._fetchAbortController.abort()},mt.requestTimeout))}it.fetch(gt._opts.url,{method:gt._opts.method,headers:St,body:bt||void 0,mode:"cors",credentials:mt.withCredentials?"include":"same-origin",signal:xt}).then(function(zt){gt._fetchResponse=zt,gt._connect()},function(zt){it.clearTimeout(gt._fetchTimer),gt._destroyed||gt.emit("error",zt)})}else{var $t=gt._xhr=new it.XMLHttpRequest;try{$t.open(gt._opts.method,gt._opts.url,!0)}catch(zt){return void ot.nextTick(function(){gt.emit("error",zt)})}"responseType"in $t&&($t.responseType=gt._mode.split(":")[0]),"withCredentials"in $t&&($t.withCredentials=!!mt.withCredentials),gt._mode==="text"&&"overrideMimeType"in $t&&$t.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in mt&&($t.timeout=mt.requestTimeout,$t.ontimeout=function(){gt.emit("requestTimeout")}),St.forEach(function(zt){$t.setRequestHeader(zt[0],zt[1])}),gt._response=null,$t.onreadystatechange=function(){switch($t.readyState){case dt.LOADING:case dt.DONE:gt._onXHRProgress()}},gt._mode==="moz-chunked-arraybuffer"&&($t.onprogress=function(){gt._onXHRProgress()}),$t.onerror=function(){gt._destroyed||gt.emit("error",new Error("XHR error"))};try{$t.send(bt)}catch(zt){return void ot.nextTick(function(){gt.emit("error",zt)})}}}},ht.prototype._onXHRProgress=function(){(function(gt){try{var mt=gt.status;return mt!==null&&mt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ht.prototype._connect=function(){var gt=this;gt._destroyed||(gt._response=new ut(gt._xhr,gt._fetchResponse,gt._mode,gt._fetchTimer),gt._response.on("error",function(mt){gt.emit("error",mt)}),gt.emit("response",gt._response))},ht.prototype._write=function(gt,mt,yt){this._body.push(gt),yt()},ht.prototype.abort=ht.prototype.destroy=function(){this._destroyed=!0,it.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},ht.prototype.end=function(gt,mt,yt){typeof gt=="function"&&(yt=gt,gt=void 0),ct.Writable.prototype.end.call(this,gt,mt,yt)},ht.prototype.flushHeaders=function(){},ht.prototype.setTimeout=function(){},ht.prototype.setNoDelay=function(){},ht.prototype.setSocketKeepAlive=function(){};var pt=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,nt(4).Buffer,nt(5),nt(2))},function(tt,et,nt){var rt=nt(4).Buffer;tt.exports=function(it){if(it instanceof Uint8Array){if(it.byteOffset===0&&it.byteLength===it.buffer.byteLength)return it.buffer;if(typeof it.buffer.slice=="function")return it.buffer.slice(it.byteOffset,it.byteOffset+it.byteLength)}if(rt.isBuffer(it)){for(var ot=new Uint8Array(it.length),at=it.length,st=0;st<at;st++)ot[st]=it[st];return ot.buffer}throw new Error("Argument must be a Buffer")}},function(tt,et){tt.exports=function(){for(var rt={},it=0;it<arguments.length;it++){var ot=arguments[it];for(var at in ot)nt.call(ot,at)&&(rt[at]=ot[at])}return rt};var nt=Object.prototype.hasOwnProperty},function(tt,et){tt.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(tt,et,nt){(function(rt,it){var ot;(function(at){et&&et.nodeType,rt&&rt.nodeType;var st=typeof it=="object"&&it;st.global!==st&&st.window!==st&&st.self;var lt,ct=2147483647,ft=/^xn--/,ut=/[^\x20-\x7E]/,dt=/[\x2E\u3002\uFF0E\uFF61]/g,ht={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pt=Math.floor,gt=String.fromCharCode;function mt(wt){throw new RangeError(ht[wt])}function yt(wt,Et){for(var Rt=wt.length,Tt=[];Rt--;)Tt[Rt]=Et(wt[Rt]);return Tt}function bt(wt,Et){var Rt=wt.split("@"),Tt="";return Rt.length>1&&(Tt=Rt[0]+"@",wt=Rt[1]),Tt+yt((wt=wt.replace(dt,".")).split("."),Et).join(".")}function St(wt){for(var Et,Rt,Tt=[],It=0,Pt=wt.length;It<Pt;)(Et=wt.charCodeAt(It++))>=55296&&Et<=56319&&It<Pt?(64512&(Rt=wt.charCodeAt(It++)))==56320?Tt.push(((1023&Et)<<10)+(1023&Rt)+65536):(Tt.push(Et),It--):Tt.push(Et);return Tt}function xt(wt){return yt(wt,function(Et){var Rt="";return Et>65535&&(Rt+=gt((Et-=65536)>>>10&1023|55296),Et=56320|1023&Et),Rt+gt(Et)}).join("")}function vt(wt,Et){return wt+22+75*(wt<26)-((Et!=0)<<5)}function $t(wt,Et,Rt){var Tt=0;for(wt=Rt?pt(wt/700):wt>>1,wt+=pt(wt/Et);wt>455;Tt+=36)wt=pt(wt/35);return pt(Tt+36*wt/(wt+38))}function zt(wt){var Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt,jt=[],kt=wt.length,Gt=0,Ht=128,Jt=72;for((Rt=wt.lastIndexOf("-"))<0&&(Rt=0),Tt=0;Tt<Rt;++Tt)wt.charCodeAt(Tt)>=128&&mt("not-basic"),jt.push(wt.charCodeAt(Tt));for(It=Rt>0?Rt+1:0;It<kt;){for(Pt=Gt,Dt=1,Ct=36;It>=kt&&mt("invalid-input"),((Ot=(Mt=wt.charCodeAt(It++))-48<10?Mt-22:Mt-65<26?Mt-65:Mt-97<26?Mt-97:36)>=36||Ot>pt((ct-Gt)/Dt))&&mt("overflow"),Gt+=Ot*Dt,!(Ot<(Ut=Ct<=Jt?1:Ct>=Jt+26?26:Ct-Jt));Ct+=36)Dt>pt(ct/(At=36-Ut))&&mt("overflow"),Dt*=At;Jt=$t(Gt-Pt,Et=jt.length+1,Pt==0),pt(Gt/Et)>ct-Ht&&mt("overflow"),Ht+=pt(Gt/Et),Gt%=Et,jt.splice(Gt++,0,Ht)}return xt(jt)}function Nt(wt){var Et,Rt,Tt,It,Pt,Dt,Ct,Ot,Ut,At,Mt,jt,kt,Gt,Ht,Jt=[];for(jt=(wt=St(wt)).length,Et=128,Rt=0,Pt=72,Dt=0;Dt<jt;++Dt)(Mt=wt[Dt])<128&&Jt.push(gt(Mt));for(Tt=It=Jt.length,It&&Jt.push("-");Tt<jt;){for(Ct=ct,Dt=0;Dt<jt;++Dt)(Mt=wt[Dt])>=Et&&Mt<Ct&&(Ct=Mt);for(Ct-Et>pt((ct-Rt)/(kt=Tt+1))&&mt("overflow"),Rt+=(Ct-Et)*kt,Et=Ct,Dt=0;Dt<jt;++Dt)if((Mt=wt[Dt])<Et&&++Rt>ct&&mt("overflow"),Mt==Et){for(Ot=Rt,Ut=36;!(Ot<(At=Ut<=Pt?1:Ut>=Pt+26?26:Ut-Pt));Ut+=36)Ht=Ot-At,Gt=36-At,Jt.push(gt(vt(At+Ht%Gt,0))),Ot=pt(Ht/Gt);Jt.push(gt(vt(Ot,0))),Pt=$t(Rt,kt,Tt==It),Rt=0,++Tt}++Rt,++Et}return Jt.join("")}lt={version:"1.4.1",ucs2:{decode:St,encode:xt},decode:zt,encode:Nt,toASCII:function(wt){return bt(wt,function(Et){return ut.test(Et)?"xn--"+Nt(Et):Et})},toUnicode:function(wt){return bt(wt,function(Et){return ft.test(Et)?zt(Et.slice(4).toLowerCase()):Et})}},(ot=function(){return lt}.call(et,nt,et,rt))===void 0||(rt.exports=ot)})()}).call(this,nt(194)(tt),nt(5))},function(tt,et){tt.exports=function(nt){return nt.webpackPolyfill||(nt.deprecate=function(){},nt.paths=[],nt.children||(nt.children=[]),Object.defineProperty(nt,"loaded",{enumerable:!0,get:function(){return nt.l}}),Object.defineProperty(nt,"id",{enumerable:!0,get:function(){return nt.i}}),nt.webpackPolyfill=1),nt}},function(tt,et,nt){tt.exports={isString:function(rt){return typeof rt=="string"},isObject:function(rt){return typeof rt=="object"&&rt!==null},isNull:function(rt){return rt===null},isNullOrUndefined:function(rt){return rt==null}}},function(tt,et,nt){et.decode=et.parse=nt(197),et.encode=et.stringify=nt(198)},function(tt,et,nt){function rt(ot,at){return Object.prototype.hasOwnProperty.call(ot,at)}tt.exports=function(ot,at,st,lt){at=at||"&",st=st||"=";var ct={};if(typeof ot!="string"||ot.length===0)return ct;var ft=/\+/g;ot=ot.split(at);var ut=1e3;lt&&typeof lt.maxKeys=="number"&&(ut=lt.maxKeys);var dt=ot.length;ut>0&&dt>ut&&(dt=ut);for(var ht=0;ht<dt;++ht){var pt,gt,mt,yt,bt=ot[ht].replace(ft,"%20"),St=bt.indexOf(st);St>=0?(pt=bt.substr(0,St),gt=bt.substr(St+1)):(pt=bt,gt=""),mt=decodeURIComponent(pt),yt=decodeURIComponent(gt),rt(ct,mt)?it(ct[mt])?ct[mt].push(yt):ct[mt]=[ct[mt],yt]:ct[mt]=yt}return ct};var it=Array.isArray||function(ot){return Object.prototype.toString.call(ot)==="[object Array]"}},function(tt,et,nt){var rt=function(st){switch(typeof st){case"string":return st;case"boolean":return st?"true":"false";case"number":return isFinite(st)?st:"";default:return""}};tt.exports=function(st,lt,ct,ft){return lt=lt||"&",ct=ct||"=",st===null&&(st=void 0),typeof st=="object"?ot(at(st),function(ut){var dt=encodeURIComponent(rt(ut))+ct;return it(st[ut])?ot(st[ut],function(ht){return dt+encodeURIComponent(rt(ht))}).join(lt):dt+encodeURIComponent(rt(st[ut]))}).join(lt):ft?encodeURIComponent(rt(ft))+ct+encodeURIComponent(rt(st)):""};var it=Array.isArray||function(st){return Object.prototype.toString.call(st)==="[object Array]"};function ot(st,lt){if(st.map)return st.map(lt);for(var ct=[],ft=0;ft<st.length;ft++)ct.push(lt(st[ft],ft));return ct}var at=Object.keys||function(st){var lt=[];for(var ct in st)Object.prototype.hasOwnProperty.call(st,ct)&&lt.push(ct);return lt}},function(tt,et,nt){var rt=nt(81),it=nt(46),ot=tt.exports;for(var at in rt)rt.hasOwnProperty(at)&&(ot[at]=rt[at]);function st(lt){if(typeof lt=="string"&&(lt=it.parse(lt)),lt.protocol||(lt.protocol="https:"),lt.protocol!=="https:")throw new Error('Protocol "'+lt.protocol+'" not supported. Expected "https:"');return lt}ot.request=function(lt,ct){return lt=st(lt),rt.request.call(this,lt,ct)},ot.get=function(lt,ct){return lt=st(lt),rt.get.call(this,lt,ct)}},function(tt,et,nt){(function(rt){function it(ht){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt})(ht)}function ot(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}function at(ht,pt){return(at=Object.setPrototypeOf||function(gt,mt){return gt.__proto__=mt,gt})(ht,pt)}function st(ht,pt){return!pt||it(pt)!=="object"&&typeof pt!="function"?function(gt){if(gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}(ht):pt}function lt(ht){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(pt){return pt.__proto__||Object.getPrototypeOf(pt)})(ht)}var ct=nt(84),ft=nt(3).MESSAGE,ut=nt(15),dt=nt(17);tt.exports=function(ht){(function(yt,bt){if(typeof bt!="function"&&bt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(bt&&bt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),bt&&at(yt,bt)})(mt,ht);var pt,gt=function(yt){var bt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var St,xt=lt(yt);if(bt){var vt=lt(this).constructor;St=Reflect.construct(xt,arguments,vt)}else St=xt.apply(this,arguments);return st(this,St)}}(mt);function mt(){var yt,bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ot(this,mt),yt=gt.call(this,bt),!bt.stream||!ct(bt.stream))throw new Error("options.stream is required.");return yt._stream=bt.stream,yt._stream.setMaxListeners(1/0),yt.isObjectMode=bt.stream._writableState.objectMode,yt.eol=bt.eol||ut.EOL,yt}return(pt=[{key:"log",value:function(yt,bt){var St=this;if(rt(function(){return St.emit("logged",yt)}),this.isObjectMode)return this._stream.write(yt),void(bt&&bt());this._stream.write("".concat(yt[ft]).concat(this.eol)),bt&&bt()}}])&&function(yt,bt){for(var St=0;St<bt.length;St++){var xt=bt[St];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(yt,xt.key,xt)}}(mt.prototype,pt),mt}(dt)}).call(this,nt(12).setImmediate)},function(tt,et,nt){(function(rt){function it(Et,Rt,Tt){return Rt in Et?Object.defineProperty(Et,Rt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):Et[Rt]=Tt,Et}function ot(Et){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt})(Et)}function at(Et,Rt){return(at=Object.setPrototypeOf||function(Tt,It){return Tt.__proto__=It,Tt})(Et,Rt)}function st(Et,Rt){return!Rt||ot(Rt)!=="object"&&typeof Rt!="function"?function(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}(Et):Rt}function lt(Et){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(Rt){return Rt.__proto__||Object.getPrototypeOf(Rt)})(Et)}var ct=nt(29),ft=ct.Stream,ut=ct.Transform,dt=nt(48),ht=nt(3),pt=ht.LEVEL,gt=ht.SPLAT,mt=nt(84),yt=nt(86),bt=nt(90),St=nt(205),xt=nt(206),vt=nt(59).warn,$t=nt(47),zt=/%[scdjifoO%]/g,Nt=function(Et){(function(Pt,Dt){if(typeof Dt!="function"&&Dt!==null)throw new TypeError("Super expression must either be null or a function");Pt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:Pt,writable:!0,configurable:!0}}),Dt&&at(Pt,Dt)})(It,Et);var Rt,Tt=function(Pt){var Dt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Ct,Ot=lt(Pt);if(Dt){var Ut=lt(this).constructor;Ct=Reflect.construct(Ot,arguments,Ut)}else Ct=Ot.apply(this,arguments);return st(this,Ct)}}(It);function It(Pt){var Dt;return function(Ct,Ot){if(!(Ct instanceof Ot))throw new TypeError("Cannot call a class as a function")}(this,It),(Dt=Tt.call(this,{objectMode:!0})).configure(Pt),Dt}return(Rt=[{key:"child",value:function(Pt){var Dt=this;return Object.create(Dt,{write:{value:function(Ct){var Ot=Object.assign({},Pt,Ct);Ct instanceof Error&&(Ot.stack=Ct.stack,Ot.message=Ct.message),Dt.write(Ot)}}})}},{key:"configure",value:function(){var Pt=this,Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ct=Dt.silent,Ot=Dt.format,Ut=Dt.defaultMeta,At=Dt.levels,Mt=Dt.level,jt=Mt===void 0?"info":Mt,kt=Dt.exitOnError,Gt=kt===void 0||kt,Ht=Dt.transports,Jt=Dt.colors,Vt=Dt.emitErrs,Wt=Dt.formatters,Lt=Dt.padLevels,Bt=Dt.rewriters,Ft=Dt.stripColors,sn=Dt.exceptionHandlers,Xt=Dt.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=Ct,this.format=Ot||this.format||nt(207)(),this.defaultMeta=Ut||null,this.levels=At||this.levels||$t.npm.levels,this.level=jt,this.exceptions=new yt(this),this.rejections=new bt(this),this.profilers={},this.exitOnError=Gt,Ht&&(Ht=Array.isArray(Ht)?Ht:[Ht]).forEach(function(dn){return Pt.add(dn)}),Jt||Vt||Wt||Lt||Bt||Ft)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));sn&&this.exceptions.handle(sn),Xt&&this.rejections.handle(Xt)}},{key:"isLevelEnabled",value:function(Pt){var Dt=this,Ct=wt(this.levels,Pt);if(Ct===null)return!1;var Ot=wt(this.levels,this.level);return Ot!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(Ut){var At=wt(Dt.levels,Ut.level);return At===null&&(At=Ot),At>=Ct})!==-1:Ot>=Ct)}},{key:"log",value:function(Pt,Dt){for(var Ct,Ot,Ut=arguments.length,At=new Array(Ut>2?Ut-2:0),Mt=2;Mt<Ut;Mt++)At[Mt-2]=arguments[Mt];if(arguments.length===1)return Pt[pt]=Pt.level,this._addDefaultMeta(Pt),this.write(Pt),this;if(arguments.length===2)return Dt&&ot(Dt)==="object"?(Dt[pt]=Dt.level=Pt,this._addDefaultMeta(Dt),this.write(Dt),this):(this.write((it(Ot={},pt,Pt),it(Ot,"level",Pt),it(Ot,"message",Dt),Ot)),this);var jt=At[0];if(ot(jt)==="object"&&jt!==null){var kt=Dt&&Dt.match&&Dt.match(zt);if(!kt){var Gt,Ht=Object.assign({},this.defaultMeta,jt,(it(Gt={},pt,Pt),it(Gt,gt,At),it(Gt,"level",Pt),it(Gt,"message",Dt),Gt));return jt.message&&(Ht.message="".concat(Ht.message," ").concat(jt.message)),jt.stack&&(Ht.stack=jt.stack),this.write(Ht),this}}return this.write(Object.assign({},this.defaultMeta,(it(Ct={},pt,Pt),it(Ct,gt,At),it(Ct,"level",Pt),it(Ct,"message",Dt),Ct))),this}},{key:"_transform",value:function(Pt,Dt,Ct){if(this.silent)return Ct();Pt[pt]||(Pt[pt]=Pt.level),this.levels[Pt[pt]]||this.levels[Pt[pt]]===0||console.error("[winston] Unknown logger level: %s",Pt[pt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",Pt);try{this.push(this.format.transform(Pt,this.format.options))}catch(Ot){throw Ot}finally{Ct()}}},{key:"_final",value:function(Pt){var Dt=this.transports.slice();dt(Dt,function(Ct,Ot){if(!Ct||Ct.finished)return rt(Ot);Ct.once("finish",Ot),Ct.end()},Pt)}},{key:"add",value:function(Pt){var Dt=!mt(Pt)||Pt.log.length>2?new St({transport:Pt}):Pt;if(!Dt._writableState||!Dt._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Dt),this._onEvent("warn",Dt),this.pipe(Dt),Pt.handleExceptions&&this.exceptions.handle(),Pt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Pt){if(!Pt)return this;var Dt=Pt;return(!mt(Pt)||Pt.log.length>2)&&(Dt=this.transports.filter(function(Ct){return Ct.transport===Pt})[0]),Dt&&this.unpipe(Dt),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){vt.deprecated("setLevels")}},{key:"query",value:function(Pt,Dt){typeof Pt=="function"&&(Dt=Pt,Pt={}),Pt=Pt||{};var Ct={},Ot=Object.assign({},Pt.query||{});dt(this.transports.filter(function(Ut){return!!Ut.query}),function(Ut,At){var Mt,jt;Mt=Ut,jt=function(kt,Gt){At&&((Gt=kt||Gt)&&(Ct[Ut.name]=Gt),At()),At=null},Pt.query&&typeof Mt.formatQuery=="function"&&(Pt.query=Mt.formatQuery(Ot)),Mt.query(Pt,function(kt,Gt){if(kt)return jt(kt);typeof Mt.formatResults=="function"&&(Gt=Mt.formatResults(Gt,Pt.format)),jt(null,Gt)})},function(){return Dt(null,Ct)})}},{key:"stream",value:function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Dt=new ft,Ct=[];return Dt._streams=Ct,Dt.destroy=function(){for(var Ot=Ct.length;Ot--;)Ct[Ot].destroy()},this.transports.filter(function(Ot){return!!Ot.stream}).forEach(function(Ot){var Ut=Ot.stream(Pt);Ut&&(Ct.push(Ut),Ut.on("log",function(At){At.transport=At.transport||[],At.transport.push(Ot.name),Dt.emit("log",At)}),Ut.on("error",function(At){At.transport=At.transport||[],At.transport.push(Ot.name),Dt.emit("error",At)}))}),Dt}},{key:"startTimer",value:function(){return new xt(this)}},{key:"profile",value:function(Pt){var Dt=Date.now();if(this.profilers[Pt]){var Ct=this.profilers[Pt];delete this.profilers[Pt];for(var Ot=arguments.length,Ut=new Array(Ot>1?Ot-1:0),At=1;At<Ot;At++)Ut[At-1]=arguments[At];typeof Ut[Ut.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Ut.pop());var Mt=ot(Ut[Ut.length-1])==="object"?Ut.pop():{};return Mt.level=Mt.level||"info",Mt.durationMs=Dt-Ct,Mt.message=Mt.message||Pt,this.write(Mt)}return this.profilers[Pt]=Dt,this}},{key:"handleExceptions",value:function(){var Pt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Pt=this.exceptions).handle.apply(Pt,arguments)}},{key:"unhandleExceptions",value:function(){var Pt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Pt=this.exceptions).unhandle.apply(Pt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Pt,Dt){Dt["__winston"+Pt]||(Dt["__winston"+Pt]=function(Ct){Pt!=="error"||this.transports.includes(Dt)||this.add(Dt),this.emit(Pt,Ct,Dt)}.bind(this),Dt.on(Pt,Dt["__winston"+Pt]))}},{key:"_addDefaultMeta",value:function(Pt){this.defaultMeta&&Object.assign(Pt,this.defaultMeta)}}])&&function(Pt,Dt){for(var Ct=0;Ct<Dt.length;Ct++){var Ot=Dt[Ct];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Pt,Ot.key,Ot)}}(It.prototype,Rt),It}(ut);function wt(Et,Rt){var Tt=Et[Rt];return Tt||Tt===0?Tt:null}Object.defineProperty(Nt.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var Et=this._readableState.pipes;return Array.isArray(Et)?Et:[Et].filter(Boolean)}}),tt.exports=Nt}).call(this,nt(12).setImmediate)},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0});var rt=ft(nt(41)),it=ft(nt(42)),ot=ft(nt(64)),at=ft(nt(65)),st=ft(nt(66)),lt=ft(nt(23)),ct=ft(nt(27));function ft(ht){return ht&&ht.__esModule?ht:{default:ht}}function ut(ht,pt,gt){gt=(0,at.default)(gt);var mt=0,yt=0,{length:bt}=ht,St=!1;function xt(vt,$t){vt===!1&&(St=!0),St!==!0&&(vt?gt(vt):++yt!==bt&&$t!==it.default||gt(null))}for(bt===0&&gt(null);mt<bt;mt++)pt(ht[mt],mt,(0,st.default)(xt))}function dt(ht,pt,gt){return(0,ot.default)(ht,1/0,pt,gt)}et.default=(0,ct.default)(function(ht,pt,gt){return((0,rt.default)(ht)?ut:dt)(ht,(0,lt.default)(pt),gt)},3),tt.exports=et.default},function(tt,et,nt){Object.defineProperty(et,"__esModule",{value:!0}),et.default=function(rt){return(it,ot,at)=>rt(it,at)},tt.exports=et.default},function(tt,et,nt){var rt=Object.prototype.toString;tt.exports=function(it){if(typeof it.displayName=="string"&&it.constructor.name)return it.displayName;if(typeof it.name=="string"&&it.name)return it.name;if(typeof it=="object"&&it.constructor&&typeof it.constructor.name=="string")return it.constructor.name;var ot=it.toString(),at=rt.call(it).slice(8,-1);return(ot=at==="Function"?ot.substring(ot.indexOf("(")+1,ot.indexOf(")")):at)||"anonymous"}},function(tt,et,nt){const rt=nt(10),{LEVEL:it}=nt(3),ot=nt(17),at=tt.exports=function(st={}){if(ot.call(this,st),!st.transport||typeof st.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=st.transport,this.level=this.level||st.transport.level,this.handleExceptions=this.handleExceptions||st.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(lt){this.emit("error",lt,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};rt.inherits(at,ot),at.prototype._write=function(st,lt,ct){if(this.silent||st.exception===!0&&!this.handleExceptions)return ct(null);(!this.level||this.levels[this.level]>=this.levels[st[it]])&&this.transport.log(st[it],st.message,st,this._nop),ct(null)},at.prototype._writev=function(st,lt){for(let ct=0;ct<st.length;ct++)this._accept(st[ct])&&(this.transport.log(st[ct].chunk[it],st[ct].chunk.message,st[ct].chunk,this._nop),st[ct].callback());return lt(null)},at.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},at.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(tt,et,nt){function rt(it){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot})(it)}tt.exports=function(){function it(at){if(function(st,lt){if(!(st instanceof lt))throw new TypeError("Cannot call a class as a function")}(this,it),!at)throw new Error("Logger is required for profiling.");this.logger=at,this.start=Date.now()}var ot;return(ot=[{key:"done",value:function(){for(var at=arguments.length,st=new Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt];typeof st[st.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),st.pop());var ct=rt(st[st.length-1])==="object"?st.pop():{};return ct.level=ct.level||"info",ct.durationMs=Date.now()-this.start,this.logger.write(ct)}}])&&function(at,st){for(var lt=0;lt<st.length;lt++){var ct=st[lt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(at,ct.key,ct)}}(it.prototype,ot),it}()},function(tt,et,nt){(function(rt){const it=nt(208),{MESSAGE:ot}=nt(3),at=nt(31);function st(lt,ct){return ct instanceof rt?ct.toString("base64"):typeof ct=="bigint"?ct.toString():ct}tt.exports=it((lt,ct={})=>(lt[ot]=(ct.stable?at.stableStringify:at)(lt,ct.replacer||st,ct.space),lt))}).call(this,nt(4).Buffer)},function(tt,et,nt){class rt extends Error{constructor(ot){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${ot.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,rt)}}tt.exports=it=>{if(it.length>2)throw new rt(it);function ot(st={}){this.options=st}function at(st){return new ot(st)}return ot.prototype.transform=it,at.Format=ot,at}},function(tt,et,nt){function rt(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")}var it=nt(85);tt.exports=function(){function ot(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(this,ot),this.loggers=new Map,this.options=st}var at;return(at=[{key:"add",value:function(st,lt){var ct=this;if(!this.loggers.has(st)){var ft=(lt=Object.assign({},lt||this.options)).transports||this.options.transports;lt.transports=ft?ft.slice():[];var ut=it(lt);ut.on("close",function(){return ct._delete(st)}),this.loggers.set(st,ut)}return this.loggers.get(st)}},{key:"get",value:function(st,lt){return this.add(st,lt)}},{key:"has",value:function(st){return!!this.loggers.has(st)}},{key:"close",value:function(st){var lt=this;if(st)return this._removeLogger(st);this.loggers.forEach(function(ct,ft){return lt._removeLogger(ft)})}},{key:"_removeLogger",value:function(st){this.loggers.has(st)&&(this.loggers.get(st).close(),this._delete(st))}},{key:"_delete",value:function(st){this.loggers.delete(st)}}])&&function(st,lt){for(var ct=0;ct<lt.length;ct++){var ft=lt[ct];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(st,ft.key,ft)}}(ot.prototype,at),ot}()},function(tt,et,nt){(function(rt){const it=nt(49),ot=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;tt.exports=function(at,st,lt){let ct,ft,ut=!1,dt=!1;function ht(mt,yt){let bt=`"${st}" ${yt}`;throw mt&&(bt=`${bt}, but is set to "${mt}"`),ft&&(bt=`${bt}. An example of a valid value would be: ${ft}`),new it(bt)}function pt(mt){return function(){let yt=at[st];if(yt===void 0)if(ct===void 0&&dt)ht(void 0,"is a required variable, but it was not set");else{if(ct===void 0)return;yt=ct}dt&&yt.trim().length===0&&ht(void 0,"is a required variable, but its value was empty"),ut&&(yt.match(ot)||ht(yt,"should be a valid base64 string if using convertFromBase64"),yt=rt.from(yt,"base64").toString());const bt=[yt].concat(Array.prototype.slice.call(arguments));try{return mt.apply(mt,bt)}catch(St){ht(yt,St.message)}}}const gt={asArray:pt(nt(211)),asBoolStrict:pt(nt(212)),asBool:pt(nt(213)),asPortNumber:pt(nt(214)),asEnum:pt(nt(215)),asFloatNegative:pt(nt(216)),asFloatPositive:pt(nt(217)),asFloat:pt(nt(51)),asIntNegative:pt(nt(218)),asIntPositive:pt(nt(91)),asInt:pt(nt(50)),asJsonArray:pt(nt(219)),asJsonObject:pt(nt(220)),asJson:pt(nt(52)),asString:pt(nt(35)),asUrlObject:pt(nt(92)),asUrlString:pt(nt(221)),convertFromBase64:function(){return ut=!0,gt},default:function(mt){if(typeof mt=="number")ct=mt.toString();else if(Array.isArray(mt)||typeof mt=="object"&&mt!==null)ct=JSON.stringify(mt);else{if(typeof mt!="string")throw new it("values passed to default() must be of Number, String, Array, or Object type");ct=mt}return gt},required:function(mt){return dt=mt===void 0||mt,gt},example:function(mt){return ft=mt,gt}};return Object.entries(lt).forEach(([mt,yt])=>{gt[mt]=pt(yt)}),gt}}).call(this,nt(4).Buffer)},function(tt,et,nt){const rt=nt(35);tt.exports=function(it,ot){return ot=ot||",",it.length?rt(it).split(ot).filter(Boolean):[]}},function(tt,et,nt){tt.exports=function(rt){const it=rt.toLowerCase();if(it!=="false"&&it!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return it!=="false"}},function(tt,et,nt){tt.exports=function(rt){const it=rt.toLowerCase();if(["false","0","true","1"].indexOf(it)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!(it==="0"||it==="false")}},function(tt,et,nt){const rt=nt(91);tt.exports=function(it){var ot=rt(it);if(ot>65535)throw new Error("cannot assign a port number greater than 65535");return ot}},function(tt,et,nt){const rt=nt(35);tt.exports=function(it,ot){const at=rt(it);if(ot.indexOf(at)<0)throw new Error(`should be one of [${ot.join(", ")}]`);return at}},function(tt,et,nt){const rt=nt(51);tt.exports=function(it){const ot=rt(it);if(ot>0)throw new Error("should be a negative float");return ot}},function(tt,et,nt){const rt=nt(51);tt.exports=function(it){const ot=rt(it);if(ot<0)throw new Error("should be a positive float");return ot}},function(tt,et,nt){const rt=nt(50);tt.exports=function(it){const ot=rt(it);if(ot>0)throw new Error("should be a negative integer");return ot}},function(tt,et,nt){const rt=nt(52);tt.exports=function(it){var ot=rt(it);if(!Array.isArray(ot))throw new Error("should be a parseable JSON Array");return ot}},function(tt,et,nt){const rt=nt(52);tt.exports=function(it){var ot=rt(it);if(Array.isArray(ot))throw new Error("should be a parseable JSON Object");return ot}},function(tt,et,nt){const rt=nt(92);tt.exports=function(it){return rt(it).toString()}},function(tt,et,nt){function rt(st){var lt=this;if(lt instanceof rt||(lt=new rt),lt.tail=null,lt.head=null,lt.length=0,st&&typeof st.forEach=="function")st.forEach(function(ut){lt.push(ut)});else if(arguments.length>0)for(var ct=0,ft=arguments.length;ct<ft;ct++)lt.push(arguments[ct]);return lt}function it(st,lt){st.tail=new at(lt,st.tail,null,st),st.head||(st.head=st.tail),st.length++}function ot(st,lt){st.head=new at(lt,null,st.head,st),st.tail||(st.tail=st.head),st.length++}function at(st,lt,ct,ft){if(!(this instanceof at))return new at(st,lt,ct,ft);this.list=ft,this.value=st,lt?(lt.next=this,this.prev=lt):this.prev=null,ct?(ct.prev=this,this.next=ct):this.next=null}tt.exports=rt,rt.Node=at,rt.create=rt,rt.prototype.removeNode=function(st){if(st.list!==this)throw new Error("removing node which does not belong to this list");var lt=st.next,ct=st.prev;lt&&(lt.prev=ct),ct&&(ct.next=lt),st===this.head&&(this.head=lt),st===this.tail&&(this.tail=ct),st.list.length--,st.next=null,st.prev=null,st.list=null},rt.prototype.unshiftNode=function(st){if(st!==this.head){st.list&&st.list.removeNode(st);var lt=this.head;st.list=this,st.next=lt,lt&&(lt.prev=st),this.head=st,this.tail||(this.tail=st),this.length++}},rt.prototype.pushNode=function(st){if(st!==this.tail){st.list&&st.list.removeNode(st);var lt=this.tail;st.list=this,st.prev=lt,lt&&(lt.next=st),this.tail=st,this.head||(this.head=st),this.length++}},rt.prototype.push=function(){for(var st=0,lt=arguments.length;st<lt;st++)it(this,arguments[st]);return this.length},rt.prototype.unshift=function(){for(var st=0,lt=arguments.length;st<lt;st++)ot(this,arguments[st]);return this.length},rt.prototype.pop=function(){if(this.tail){var st=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,st}},rt.prototype.shift=function(){if(this.head){var st=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,st}},rt.prototype.forEach=function(st,lt){lt=lt||this;for(var ct=this.head,ft=0;ct!==null;ft++)st.call(lt,ct.value,ft,this),ct=ct.next},rt.prototype.forEachReverse=function(st,lt){lt=lt||this;for(var ct=this.tail,ft=this.length-1;ct!==null;ft--)st.call(lt,ct.value,ft,this),ct=ct.prev},rt.prototype.get=function(st){for(var lt=0,ct=this.head;ct!==null&&lt<st;lt++)ct=ct.next;if(lt===st&&ct!==null)return ct.value},rt.prototype.getReverse=function(st){for(var lt=0,ct=this.tail;ct!==null&&lt<st;lt++)ct=ct.prev;if(lt===st&&ct!==null)return ct.value},rt.prototype.map=function(st,lt){lt=lt||this;for(var ct=new rt,ft=this.head;ft!==null;)ct.push(st.call(lt,ft.value,this)),ft=ft.next;return ct},rt.prototype.mapReverse=function(st,lt){lt=lt||this;for(var ct=new rt,ft=this.tail;ft!==null;)ct.push(st.call(lt,ft.value,this)),ft=ft.prev;return ct},rt.prototype.reduce=function(st,lt){var ct,ft=this.head;if(arguments.length>1)ct=lt;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");ft=this.head.next,ct=this.head.value}for(var ut=0;ft!==null;ut++)ct=st(ct,ft.value,ut),ft=ft.next;return ct},rt.prototype.reduceReverse=function(st,lt){var ct,ft=this.tail;if(arguments.length>1)ct=lt;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");ft=this.tail.prev,ct=this.tail.value}for(var ut=this.length-1;ft!==null;ut--)ct=st(ct,ft.value,ut),ft=ft.prev;return ct},rt.prototype.toArray=function(){for(var st=new Array(this.length),lt=0,ct=this.head;ct!==null;lt++)st[lt]=ct.value,ct=ct.next;return st},rt.prototype.toArrayReverse=function(){for(var st=new Array(this.length),lt=0,ct=this.tail;ct!==null;lt++)st[lt]=ct.value,ct=ct.prev;return st},rt.prototype.slice=function(st,lt){(lt=lt||this.length)<0&&(lt+=this.length),(st=st||0)<0&&(st+=this.length);var ct=new rt;if(lt<st||lt<0)return ct;st<0&&(st=0),lt>this.length&&(lt=this.length);for(var ft=0,ut=this.head;ut!==null&&ft<st;ft++)ut=ut.next;for(;ut!==null&&ft<lt;ft++,ut=ut.next)ct.push(ut.value);return ct},rt.prototype.sliceReverse=function(st,lt){(lt=lt||this.length)<0&&(lt+=this.length),(st=st||0)<0&&(st+=this.length);var ct=new rt;if(lt<st||lt<0)return ct;st<0&&(st=0),lt>this.length&&(lt=this.length);for(var ft=this.length,ut=this.tail;ut!==null&&ft>lt;ft--)ut=ut.prev;for(;ut!==null&&ft>st;ft--,ut=ut.prev)ct.push(ut.value);return ct},rt.prototype.reverse=function(){for(var st=this.head,lt=this.tail,ct=st;ct!==null;ct=ct.prev){var ft=ct.prev;ct.prev=ct.next,ct.next=ft}return this.head=lt,this.tail=st,this};try{nt(223)(rt)}catch{}},function(tt,et,nt){tt.exports=function(rt){rt.prototype[Symbol.iterator]=function*(){for(let it=this.head;it;it=it.next)yield it.value}}},function(tt,et,nt){(function(rt){(function(){var it,ot,at,st,lt,ct;typeof performance!="undefined"&&performance!==null&&performance.now?tt.exports=function(){return performance.now()}:rt!=null&&rt.hrtime?(tt.exports=function(){return(it()-lt)/1e6},ot=rt.hrtime,st=(it=function(){var ft;return 1e9*(ft=ot())[0]+ft[1]})(),ct=1e9*rt.uptime(),lt=st-ct):Date.now?(tt.exports=function(){return Date.now()-at},at=Date.now()):(tt.exports=function(){return new Date().getTime()-at},at=new Date().getTime())}).call(this)}).call(this,nt(2))},function(tt,et,nt){var rt,it,ot=nt(96),at=nt(97),st=0,lt=0;tt.exports=function(ct,ft,ut){var dt=ft&&ut||0,ht=ft||[],pt=(ct=ct||{}).node||rt,gt=ct.clockseq!==void 0?ct.clockseq:it;if(pt==null||gt==null){var mt=ot();pt==null&&(pt=rt=[1|mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]]),gt==null&&(gt=it=16383&(mt[6]<<8|mt[7]))}var yt=ct.msecs!==void 0?ct.msecs:new Date().getTime(),bt=ct.nsecs!==void 0?ct.nsecs:lt+1,St=yt-st+(bt-lt)/1e4;if(St<0&&ct.clockseq===void 0&&(gt=gt+1&16383),(St<0||yt>st)&&ct.nsecs===void 0&&(bt=0),bt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");st=yt,lt=bt,it=gt;var xt=(1e4*(268435455&(yt+=122192928e5))+bt)%4294967296;ht[dt++]=xt>>>24&255,ht[dt++]=xt>>>16&255,ht[dt++]=xt>>>8&255,ht[dt++]=255&xt;var vt=yt/4294967296*1e4&268435455;ht[dt++]=vt>>>8&255,ht[dt++]=255&vt,ht[dt++]=vt>>>24&15|16,ht[dt++]=vt>>>16&255,ht[dt++]=gt>>>8|128,ht[dt++]=255&gt;for(var $t=0;$t<6;++$t)ht[dt+$t]=pt[$t];return ft||at(ht)}},function(tt,et,nt){var rt=nt(96),it=nt(97);tt.exports=function(ot,at,st){var lt=at&&st||0;typeof ot=="string"&&(at=ot==="binary"?new Array(16):null,ot=null);var ct=(ot=ot||{}).random||(ot.rng||rt)();if(ct[6]=15&ct[6]|64,ct[8]=63&ct[8]|128,at)for(var ft=0;ft<16;++ft)at[lt+ft]=ct[ft];return at||it(ct)}},function(tt,et,nt){(function(rt){(function(it){function ot(st){if((st=st===void 0?"utf-8":st)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+st+"') is invalid.")}function at(st,lt){if(lt=lt===void 0?{fatal:!1}:lt,(st=st===void 0?"utf-8":st)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+st+"') is invalid.");if(lt.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(it.TextEncoder&&it.TextDecoder)return!1;Object.defineProperty(ot.prototype,"encoding",{value:"utf-8"}),ot.prototype.encode=function(st,lt){if((lt=lt===void 0?{stream:!1}:lt).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");lt=0;for(var ct=st.length,ft=0,ut=Math.max(32,ct+(ct>>1)+7),dt=new Uint8Array(ut>>3<<3);lt<ct;){var ht=st.charCodeAt(lt++);if(55296<=ht&&56319>=ht){if(lt<ct){var pt=st.charCodeAt(lt);(64512&pt)==56320&&(++lt,ht=((1023&ht)<<10)+(1023&pt)+65536)}if(55296<=ht&&56319>=ht)continue}if(ft+4>dt.length&&(ut+=8,ut=(ut*=1+lt/st.length*2)>>3<<3,(pt=new Uint8Array(ut)).set(dt),dt=pt),(4294967168&ht)==0)dt[ft++]=ht;else{if((4294965248&ht)==0)dt[ft++]=ht>>6&31|192;else if((4294901760&ht)==0)dt[ft++]=ht>>12&15|224,dt[ft++]=ht>>6&63|128;else{if((4292870144&ht)!=0)continue;dt[ft++]=ht>>18&7|240,dt[ft++]=ht>>12&63|128,dt[ft++]=ht>>6&63|128}dt[ft++]=63&ht|128}}return dt.slice(0,ft)},Object.defineProperty(at.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(at.prototype,"fatal",{value:!1}),Object.defineProperty(at.prototype,"ignoreBOM",{value:!1}),at.prototype.decode=function(st,lt){if((lt=lt===void 0?{stream:!1}:lt).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");lt=0;for(var ct=(st=new Uint8Array(st)).length,ft=[];lt<ct;){var ut=st[lt++];if(ut===0)break;if((128&ut)==0)ft.push(ut);else if((224&ut)==192){var dt=63&st[lt++];ft.push((31&ut)<<6|dt)}else if((240&ut)==224){dt=63&st[lt++];var ht=63&st[lt++];ft.push((31&ut)<<12|dt<<6|ht)}else(248&ut)==240&&(65535<(ut=(7&ut)<<18|(dt=63&st[lt++])<<12|(ht=63&st[lt++])<<6|63&st[lt++])&&(ut-=65536,ft.push(ut>>>10&1023|55296),ut=56320|1023&ut),ft.push(ut))}return String.fromCharCode.apply(null,ft)},it.TextEncoder=ot,it.TextDecoder=at})(typeof window!="undefined"?window:rt!==void 0?rt:this)}).call(this,nt(5))},function(tt,et,nt){nt.r(et),nt.d(et,"AuthClient",function(){return ot}),nt.d(et,"RtcSignalingClient",function(){return st}),nt.d(et,"Credentials",function(){return pt}),nt.d(et,"SignalingPromiseClient",function(){return gt.SignalingPromiseClient}),nt.d(et,"IRtcClientConfiguration",function(){}),nt.d(et,"IRtcConnectConfiguration",function(){}),nt.d(et,"IRtcConnectionStatsInfo",function(){}),nt.d(et,"IRtcSendConfiguration",function(){}),nt.d(et,"IRtcSessionMetricsMessageCounts",function(){}),nt.d(et,"IRtcStreamMessage",function(){}),nt.d(et,"IStreamControl",function(){}),nt.d(et,"RtcClient",function(){return Lt});var rt=nt(26),it=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};class ot extends rt.a{adminSignup(Ft,sn){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:sn,method:"POST",body:JSON.stringify(Ft)})})}login(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(Ft),allowUnsafeRetries:!0})})}loginWithGoogleToken(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(Ft),allowUnsafeRetries:!0})})}refresh(Ft,sn){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:Ft,tokenExpirationSeconds:sn}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(Ft)})})}forgotPassword(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:Ft})})})}confirmForgotPassword(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(Ft)})})}resendInvitation(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:Ft})})})}changePassword({token:Ft,refreshToken:sn,currentPassword:Xt,newPassword:dn}){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:Ft,method:"POST",body:JSON.stringify({refreshToken:sn,currentPassword:Xt,newPassword:dn})})})}getDeviceCredentials(Ft){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:Ft,method:"POST",allowUnsafeRetries:!0})})}impersonate(Ft,sn){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:Ft,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:sn})})})}createServiceAccount(Ft,sn,Xt){return it(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:Ft,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:sn,roleId:Xt})})})}getFeatures(Ft){return it(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:Ft})).features})}}var at=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};class st extends rt.a{createPeer(Ft,sn){return at(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:Ft,method:"POST",body:JSON.stringify(sn)})})}getPeers(Ft){return at(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:Ft})).items})}refreshPeer(Ft,sn){return at(this,void 0,void 0,function*(){yield this.fetch(`peers/${sn}/refresh`,{token:Ft,method:"POST",allowUnsafeRetries:!0})})}createSession(Ft,sn){return at(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:Ft,method:"POST",body:JSON.stringify(sn)})})}refreshSession(Ft,sn){return at(this,void 0,void 0,function*(){yield this.fetch(`sessions/${sn}/refresh`,{token:Ft,method:"POST",allowUnsafeRetries:!0})})}deleteSession(Ft,sn){return at(this,void 0,void 0,function*(){yield this.fetch(`sessions/${sn}`,{token:Ft,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(Ft){return at(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:Ft})).items})}getIceServers(Ft){return at(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:Ft})).items})}addSignals(Ft,sn,Xt){return at(this,void 0,void 0,function*(){yield this.fetch(`sessions/${sn}/add-signals`,{token:Ft,method:"POST",body:JSON.stringify(Xt)})})}takeSignals(Ft,sn){return at(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${sn}/take-signals`,{token:Ft,method:"POST"})).items})}}var lt=nt(1),ct=nt(11),ft=nt(21),ut=nt(102);class dt extends class{constructor(Ft={}){this.cache=new ut(Ft),this.stringify=Ft.fastStringify?JSON.stringify:ft}set(Ft,sn,Xt){if(!this.cache.set(this.stringify(Ft),sn,Xt))throw Error(`Value too large (${this.cache.lengthCalculator(sn)} > ${this.cache.max})`)}get(Ft){return this.cache.get(this.stringify(Ft))}del(Ft){this.cache.del(this.stringify(Ft))}length(){return this.cache.length}reset(){this.cache.reset()}prune(){return this.cache.prune()}forEach(Ft){return this.cache.forEach(Ft)}}{constructor(Ft={}){if(super(Ft),this.expireRejectedPromiseValues=Ft.expireRejectedPromiseValues===void 0||Ft.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=Ft.rejectedPromiseValueTtl!==void 0?Ft.rejectedPromiseValueTtl:lt.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(Ft,sn,Xt){const dn=this.stringify(Ft);this.cache.set(dn,sn,Xt),this.expireRejectedPromiseValues&&Promise.resolve(sn).catch(()=>function(Yt,yn,Qt,Kt){return new(Qt||(Qt=Promise))(function(hn,vn){function Sn(ln){try{cn(Kt.next(ln))}catch(bn){vn(bn)}}function Cn(ln){try{cn(Kt.throw(ln))}catch(bn){vn(bn)}}function cn(ln){var bn;ln.done?hn(ln.value):(bn=ln.value,bn instanceof Qt?bn:new Qt(function(xn){xn(bn)})).then(Sn,Cn)}cn((Kt=Kt.apply(Yt,yn||[])).next())})}(this,void 0,void 0,function*(){yield Object(ct.a)(this.rejectedPromiseValueTtl),this.cache.peek(dn)===sn&&this.cache.del(dn)}))}}var ht=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};class pt{constructor(Ft,sn,Xt){this.authClient=Ft,this.email=sn,this.password=Xt,this.tokenTtlMs=1*lt.a.hour,this.tokenCache=new dt({max:100,maxAge:this.tokenTtlMs-5*lt.a.minute,fastStringify:!0})}getToken(){return ht(this,void 0,void 0,function*(){let Ft=this.tokenCache.get(this.email);return Ft||(Ft=(()=>ht(this,void 0,void 0,function*(){const{authentication:sn}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/lt.a.second});if(!sn)throw new Error("User account not verified.");return sn.accessToken}))(),this.tokenCache.set(this.email,Ft)),Ft})}}var gt=nt(93);function mt(Bt){return function(Ft,sn,Xt,dn){return new(Xt||(Xt=Promise))(function(Yt,yn){function Qt(vn){try{hn(dn.next(vn))}catch(Sn){yn(Sn)}}function Kt(vn){try{hn(dn.throw(vn))}catch(Sn){yn(Sn)}}function hn(vn){var Sn;vn.done?Yt(vn.value):(Sn=vn.value,Sn instanceof Xt?Sn:new Xt(function(Cn){Cn(Sn)})).then(Qt,Kt)}hn((dn=dn.apply(Ft,sn||[])).next())})}(this,void 0,void 0,function*(){return(yield Promise.all(Bt.map(Ft=>Ft.catch(sn=>sn)))).filter(Ft=>Ft instanceof Error)})}function yt(Bt){if(Bt!==void 0)return Bt;throw new Error("Value is undefined")}var bt=nt(0),St=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};function xt({func:Bt,delay:Ft,immediate:sn}){let Xt=!1,dn=setTimeout(function yn(){return St(this,void 0,void 0,function*(){if(Xt)return;const Qt=new Date().getTime();try{Yt=Bt(),yield Yt}finally{if(!Xt){const Kt=new Date().getTime();dn=setTimeout(yn,Math.max(Ft-(Kt-Qt),0))}}})},sn?0:Ft),Yt=Promise.resolve();return{stop(){return St(this,void 0,void 0,function*(){Xt=!0,clearTimeout(dn),yield Yt})}}}function vt(Bt,Ft){return Object.keys(Bt).reduce((sn,Xt)=>Object.assign(Object.assign({},sn),{[Xt]:Ft(Bt[Xt])}),{})}var $t=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};const zt=nt(224),Nt=!!nt(7).c,wt=new class{constructor(Bt=60){this.buffer={},this.metrics={},this.reporters=[],this.flushInterval=xt({func:()=>this.flushStats(),delay:Bt*lt.a.second})}shutdown(){return $t(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(ct.a)(2*lt.a.second)})}aggregate(Bt,Ft){if(this.buffer[Bt]){const{min:sn,max:Xt,sum:dn,count:Yt}=this.buffer[Bt];this.buffer[Bt]={min:Math.min(sn,Ft),max:Math.max(Xt,Ft),sum:dn+Ft,count:Yt+1}}else this.buffer[Bt]={min:Ft,max:Ft,sum:Ft,count:1}}increment(Bt){this.aggregate(Bt,1)}timer(Bt,Ft){return $t(this,void 0,void 0,function*(){const sn=zt(),Xt=yield Ft(),dn=zt();return this.aggregate(Bt,dn-sn),Xt})}metric(Bt,Ft){this.metrics[Bt]=Ft}registerStatsReporter(Bt){this.reporters.push(Bt)}write(Bt){return $t(this,void 0,void 0,function*(){if(Object.values(Bt).length===0)return;const Ft=yield mt(this.reporters.map(sn=>sn.send(Bt)));for(const sn of Ft)bt.a.warn("Failed to write stats",{error:sn})})}flushStats(){return $t(this,void 0,void 0,function*(){const Bt=Object.assign(Object.assign({},this.buffer),vt(this.metrics,Ft=>{const sn=Ft();return{min:sn,max:sn,sum:sn,count:1}}));Object.keys(Bt).length>0&&(yield this.write(Bt),this.buffer={})})}};Nt||wt.registerStatsReporter(new class{constructor(Bt){this.message=Bt}send(Bt){return function(Ft,sn,Xt,dn){return new(Xt||(Xt=Promise))(function(Yt,yn){function Qt(vn){try{hn(dn.next(vn))}catch(Sn){yn(Sn)}}function Kt(vn){try{hn(dn.throw(vn))}catch(Sn){yn(Sn)}}function hn(vn){var Sn;vn.done?Yt(vn.value):(Sn=vn.value,Sn instanceof Xt?Sn:new Xt(function(Cn){Cn(Sn)})).then(Qt,Kt)}hn((dn=dn.apply(Ft,sn||[])).next())})}(this,void 0,void 0,function*(){bt.a.info(this.message,vt(Bt,Ft=>{const{sum:sn,count:Xt}=Ft,dn=sn/Xt;return Object.assign(Object.assign({},Ft),{average:dn})}))})}}("stats"));var Et=nt(8),Rt=nt(22),Tt=nt(103),It=nt(36);class Pt extends It.a{constructor(Ft){super(Ft)}postLanRtcOffer(Ft){return function(sn,Xt,dn,Yt){return new(dn||(dn=Promise))(function(yn,Qt){function Kt(Sn){try{vn(Yt.next(Sn))}catch(Cn){Qt(Cn)}}function hn(Sn){try{vn(Yt.throw(Sn))}catch(Cn){Qt(Cn)}}function vn(Sn){var Cn;Sn.done?yn(Sn.value):(Cn=Sn.value,Cn instanceof dn?Cn:new dn(function(cn){cn(Cn)})).then(Kt,hn)}vn((Yt=Yt.apply(sn,Xt||[])).next())})}(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(Ft)})})}}var Dt=nt(55);const Ct={ordered:!1,maxPacketLifeTime:300*lt.a.millisecond},Ot={ordered:!0},Ut={ordered:!0},At={ordered:!1,maxRetransmits:0},Mt={ordered:!1,maxRetransmits:0};function jt({entityId:Bt,streamName:Ft,streamType:sn}){return`${Bt}.${Ft}.${sn}`}class kt{constructor(Ft,sn){this.sessionId=Ft,this.connection=sn,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=Ft,this.connection=sn}updateRemoteMessagesCounts(Ft){if(Ft.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const sn of Ft.payload.streamsInfo.items)this.counts.remoteSent.set(sn.streamId,sn.sentCount),this.counts.remoteReceived.set(sn.streamId,sn.receivedCount)}}getLocalStreamsInfo(Ft){const{localSent:sn,localReceived:Xt}=this.counts;return{items:[...new Set([...sn.keys(),...Xt.keys()])].map(dn=>{var Yt,yn;return{streamId:dn,sentCount:(Yt=sn.get(dn))!==null&&Yt!==void 0?Yt:0,receivedCount:(yn=Xt.get(dn))!==null&&yn!==void 0?yn:0}}),timestamp:Ft}}incrementLocalSent(Ft){const{localSent:sn}=this.counts,Xt=jt(Ft.header.stream);sn.set(Xt,(sn.get(Xt)||0)+1)}incrementLocalReceived(Ft){const{localReceived:sn}=this.counts,Xt=jt(Ft.header.stream),dn=sn.get(Xt)||0;if(dn===0){const{streamName:Yt,streamType:yn}=Ft.header.stream;bt.a.debug("RTC client received first message for stream",{streamName:Yt,streamType:yn})}sn.set(Xt,dn+1)}uploadMetrics(){return Ft=this,sn=void 0,dn=function*(){const{sessionId:Yt}=this,yn=yield this.connection.peerConnection.getStats(),Qt={};yn.forEach(cn=>Qt[cn.id]=cn),bt.a.debug("rtc-stats",Object.assign(Object.assign({},Qt),{sessionId:Yt}));const{localSent:Kt,localReceived:hn,remoteSent:vn,remoteReceived:Sn}=this.counts,Cn=[...new Set([...Kt.keys(),...hn.keys()])].reduce((cn,ln)=>{const bn=Kt.get(ln),xn=hn.get(ln),Nn=vn.get(ln),zn=Sn.get(ln);return Object.assign(Object.assign({},cn),{[`local-${ln}-sent`]:bn,[`local-${ln}-received`]:xn,[`remote-${ln}-sent`]:Nn,[`remote-${ln}-received`]:zn})},{sessionId:Yt});bt.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},Cn))},new((Xt=void 0)||(Xt=Promise))(function(Yt,yn){function Qt(vn){try{hn(dn.next(vn))}catch(Sn){yn(Sn)}}function Kt(vn){try{hn(dn.throw(vn))}catch(Sn){yn(Sn)}}function hn(vn){var Sn;vn.done?Yt(vn.value):(Sn=vn.value,Sn instanceof Xt?Sn:new Xt(function(Cn){Cn(Sn)})).then(Qt,Kt)}hn((dn=dn.apply(Ft,sn||[])).next())});var Ft,sn,Xt,dn}}function Gt(Bt){return new Set(["disconnected","failed","closed"]).has(Bt.iceConnectionState)}var Ht=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};class Jt{constructor(Ft,sn,Xt){this.peerConnection=Ft,this.config=sn,this.dataChannelNotifier=Xt,this.connectTimeoutMs=20*lt.a.second,this.iceGatheringTimeoutMs=15*lt.a.second,this.pingUpdateTimeoutMs=1*lt.a.second,this.streamsInfoUpdateTimeoutMs=2*lt.a.second,this.reassemblyTimeoutMs=500*lt.a.millisecond,this.reassemblyTableCleanupMs=1*lt.a.second,this.heartbeatTimeoutMs=20*lt.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1;const{isOffer:dn}=sn.baseConfig;dn?this.initializeChannels(Ft):Ft.ondatachannel=Yt=>{switch(Yt.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=Yt.channel;break;case"stream.reliable":this.reliableStreamChannel=Yt.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=Yt.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=Yt.channel;break;case"heartbeat":return void(this.heartbeatChannel=Yt.channel);default:return void this.dataChannelNotifier(Yt.channel)}this.setupChannel(Yt.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:Yt}=this;Yt&&this.sendSystemMessage(Yt,{type:"ping"})},this.pingUpdateTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:Yt}=this;Yt&&this.sendSystemMessage(Yt,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const Yt=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((yn,Qt,Kt)=>{Yt>Qt+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(yn)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:Yt}=this;Yt&&Yt.readyState==="open"&&Yt.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(Ft){return Ht(this,void 0,void 0,function*(){const{peerConnection:sn}=this,{track:Xt}=this.config.baseConfig,dn=(()=>{try{return JSON.parse(Ft.getPayload())}catch{return}})();if(!dn)return void bt.a.error("Received unparseable signal.");bt.a.debug("Handling signal",{description:dn});const{sdp:Yt,type:yn}=dn;if(!Yt||!yn)return void bt.a.warn("Received non-SDP signal");const{signalingState:Qt,connectionState:Kt}=sn;if(Qt!=="stable"||Kt!=="connected")if(sn.remoteDescription)bt.a.warn(`Received SDP after remote description was set: ${Yt}`);else{if(yn==="offer"){if(Qt!=="stable")return void bt.a.warn("Received offer SDP when signaling is ongoing.");yield sn.setRemoteDescription(dn);const hn=yield sn.createAnswer();yield sn.setLocalDescription(hn);const vn=Ft.clone();return Xt==null||Xt("Answer Received",vn),vn.setPayload(JSON.stringify(hn)),vn.setReceiverId(Ft.getSenderId()),vn.setSenderId(Ft.getReceiverId()),vn}if(yn==="answer"){if(Qt==="stable")return void bt.a.warn("Received answer SDP when signaling hasn't started.");yield sn.setRemoteDescription(dn)}}else bt.a.warn(`Received SDP when already connected: ${Yt}`)})}send(Ft,sn){const Xt=this.getChannelFromLabel(sn.channelLabel);Xt?this.sendOnChannel(Xt,Ft):bt.a.warn("Send called with unexpected channel label",{channelLabel:sn.channelLabel})}controlRemoteStream(Ft){this.sendSystemMessage(yt(this.reliableStreamChannel),{type:"stream-control",streamControl:Ft})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:Ft,latestTtlStreamChannel:sn,latestTryOnceStreamChannel:Xt,latestReliableStreamChannel:dn}=this;return(Ft==null?void 0:Ft.readyState)==="open"&&(sn==null?void 0:sn.readyState)==="open"&&(Xt==null?void 0:Xt.readyState)==="open"&&(dn==null?void 0:dn.readyState)==="open"}close(){return Ht(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.reassemblyTableCleanupTimeout&&clearInterval(this.reassemblyTableCleanupTimeout),this.streamsInfoUpdateTimeout&&clearInterval(this.streamsInfoUpdateTimeout),this.heartbeatTimeout&&clearInterval(this.heartbeatTimeout);const{peerConnection:Ft,reliableStreamChannel:sn,latestTtlStreamChannel:Xt,latestTryOnceStreamChannel:dn,latestReliableStreamChannel:Yt}=this;Ft.close(),sn==null||sn.close(),Xt==null||Xt.close(),dn==null||dn.close(),Yt==null||Yt.close()})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var Ft;return(Ft=this.config.remoteConfig)===null||Ft===void 0?void 0:Ft.sessionCreatedTimestamp}setSessionCreatedTimestamp(Ft){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=Ft)}getSessionId(){var Ft;return(Ft=this.config.remoteConfig)===null||Ft===void 0?void 0:Ft.sessionId}setSessionId(Ft){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=Ft,this.sessionMetrics=new kt(Ft,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var Ft;return(Ft=this.config.baseConfig)===null||Ft===void 0?void 0:Ft.remoteDeviceId}setRemoteDeviceId(Ft){this.config.baseConfig.remoteDeviceId=Ft}getSessionMetricsMessageCounts(){var Ft;return(Ft=this.sessionMetrics)===null||Ft===void 0?void 0:Ft.counts}getConnectionStatsInfo(){return Ht(this,void 0,void 0,function*(){const{peerConnection:Ft}=this;if(!Ft)return;const sn=yield Ft.getStats(null),Xt=[];sn.forEach(Kt=>{Xt.push(Kt)});const dn=Xt.find(Kt=>Kt.type==="transport");if(!dn)return;const Yt=Xt.find(Kt=>(Kt.type==="candidate-pair"||Kt.type==="candidatepair")&&Kt.id===dn.selectedCandidatePairId);if(!Yt)return;const yn=Xt.find(Kt=>Kt.id===Yt.localCandidateId),Qt=Xt.find(Kt=>Kt.id===Yt.remoteCandidateId);return yn&&Qt&&(yn.address=yn.address||yn.ip,Qt.address=Qt.address||Qt.ip,yn.address!==void 0&&Qt.address!==void 0)?{transport:dn,localCandidate:yn,remoteCandidate:Qt}:void 0})}initializeChannels(Ft){this.heartbeatChannel=Ft.createDataChannel("heartbeat",Mt),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=Ft.createDataChannel("stream.latest-ttl",Ct),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=Ft.createDataChannel("stream.reliable",Ot),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=Ft.createDataChannel("stream.latest-reliable",Ut),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=Ft.createDataChannel("stream.latest-try-once",At),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var Ft,sn,Xt;return Ht(this,void 0,void 0,function*(){const{gotOffer:dn}=this,{peerConnection:Yt,config:yn}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const Qt=(Ft=this.config.remoteConfig)===null||Ft===void 0?void 0:Ft.sessionId;if(dn)return void bt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Gt(this.peerConnection))return void bt.a.debug("Failed to generate offer because the peer connection was inactive.");const Kt=yn.baseConfig.track;Yt.onicecandidate=()=>{this.hasIceCandidate=!0},Yt.oniceconnectionstatechange=()=>Ht(this,void 0,void 0,function*(){const cn=Yt.iceConnectionState;if(cn==="connected"||cn==="completed"){const ln=yield this.getConnectionStatsInfo(),bn=ln?function(xn){const Nn=xn.localCandidate.candidateType,zn=xn.remoteCandidate.candidateType;return Nn==="host"&&zn==="host"?"local":Nn==="relay"||zn==="relay"?"TURN":"STUN"}(ln):void 0;bt.a.info(`ICE connection state changed to ${cn}`,{sessionId:Qt,connectionStatsInfo:ln,iceMode:bn}),Kt==null||Kt("ICE connection state change",{iceConnectionState:cn,sessionId:Qt,connectionStatsInfo:ln,iceMode:bn})}}),yield Yt.setLocalDescription(yield Yt.createOffer());const hn=new Date().getTime();for(;;){const cn=new Date().getTime()-hn;if(cn>this.connectTimeoutMs)return void bt.a.debug("Failed to generate offer because ICE gathering timed out.");if(cn>this.iceGatheringTimeoutMs&&this.hasIceCandidate){bt.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:Yt.getConfiguration().iceTransportPolicy,waitTime:cn}),Kt==null||Kt("ICE gathering partially completed",{sessionId:Qt,iceTransportPolicy:Yt.getConfiguration().iceTransportPolicy,waitTime:cn});break}if(Yt.iceGatheringState==="complete"){bt.a.debug("ICE gathering complete",{iceTransportPolicy:Yt.getConfiguration().iceTransportPolicy,waitTime:cn}),Kt==null||Kt("ICE gathering completed",{sessionId:Qt,iceTransportPolicy:Yt.getConfiguration().iceTransportPolicy,waitTime:cn});break}yield Object(ct.a)(.1*lt.a.second)}const vn=(sn=this.peerConnection.getConfiguration().iceServers)!==null&&sn!==void 0?sn:[];for(const cn of vn)cn.credentialType=void 0;const Sn=JSON.stringify(vn),Cn=new Et.Signal;return Cn.setPayload(JSON.stringify(Yt.localDescription)),Cn.setSenderId(this.config.baseConfig.localPeerId),Cn.setReceiverId(this.config.baseConfig.remotePeerId),Cn.setIceServers(Sn),Cn.setIceTransportPolicy((Xt=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&Xt!==void 0?Xt:"all"),Cn.setSessionType(Et.SessionType.TELEOP),bt.a.debug("Sending offer signal with description",{description:Cn.getPayload()}),Cn})}getLanOffer(){return Ht(this,void 0,void 0,function*(){const{peerConnection:Ft,gotOffer:sn}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(sn)return void bt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Gt(this.peerConnection))return void bt.a.debug("Failed to generate offer because the peer connection was inactive.");yield Ft.setLocalDescription(yield Ft.createOffer());const Xt=new Date().getTime();for(;;){if(new Date().getTime()-Xt>this.iceGatheringTimeoutMs)return void bt.a.debug("Failed to generate offer because ICE gathering timed out.");if(Ft.iceGatheringState==="complete")break;yield Object(ct.a)(.1*lt.a.second)}const dn=Ft.localDescription;if(dn)return bt.a.debug("Sending LAN offer signal with description",{description:dn}),dn;bt.a.error("Failed to generate LAN offer description")})}handleLanAnswer(Ft){return Ht(this,void 0,void 0,function*(){const{peerConnection:sn}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield sn.setRemoteDescription(Ft)})}getChannelFromLabel(Ft){switch(Ft){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(Ft,sn){let Xt;try{Xt=Object(Dt.encode)(JSON.stringify(sn))}catch(dn){return void bt.a.warn("Failed to encode RTC message",{error:dn})}try{Ft.send(Xt),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(sn)}catch(dn){bt.a.warn("Failed to send message to channel",{error:dn,channel:Ft.label})}}channelNotRecognized(Ft){return Ft!==this.latestTtlStreamChannel&&Ft!==this.latestReliableStreamChannel&&Ft!==this.latestTryOnceStreamChannel&&Ft!==this.reliableStreamChannel}setupChannel(Ft){Ft.onmessage=sn=>{if(this.channelNotRecognized(Ft))return void bt.a.warn("Received message on unrecognized data channel.");let Xt;try{Xt=JSON.parse(Object(Dt.decode)(sn.data))}catch(dn){return void bt.a.warn("Received unparseable message on RTC stream data channel",{error:dn,channel:Ft.label})}Xt.communicationType==="message-chunk"?this.receiveChannelMessageChunk(Ft,Xt):this.receiveChannelMessage(Ft,Xt)},Ft.onerror=sn=>{bt.a.warn(`Channel error: ${sn.error}`,{error:sn.error,sessionId:this.getSessionId(),channelLabel:Ft.label})},Ft.onopen=()=>{bt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:Ft.label})},Ft.onclose=()=>{const sn={bufferedAmount:Ft.bufferedAmount,sessionId:this.getSessionId(),channelLabel:Ft.label};this.closeCalled===!1?bt.a.debug("Unexpected channel closed",sn):bt.a.debug("Channel closed",sn)}}receiveChannelMessage(Ft,sn){const{config:Xt}=this,{remotePeerId:dn}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),sn=function(Yt){switch(Yt.header.stream.streamType){case"twist":const{twist:yn}=Yt.payload;if(!yn)throw Error("twist not in payload of RTC message with type twist");return{header:Yt.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},yn.linear),angular:Object.assign({x:0,y:0,z:0},yn.angular)}}};case"pose":const{pose:Qt}=Yt.payload;if(!Qt)throw Error("pose not in payload of RTC message with type pose");return{header:Yt.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},Qt.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Qt.rotation)}}};case"pose-with-covariance":const{poseWithCovariance:Kt}=Yt.payload;if(!Kt)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const hn=new Array(36).fill(0);return Kt.covariance.forEach((Sn,Cn)=>{if(Cn>=36)throw Error("covariance contains more than 36 elements");hn[Cn]=Sn}),{header:Yt.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},Kt.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},Kt.pose.rotation)},covariance:hn}}};case"point":const{point:vn}=Yt.payload;if(!vn)throw Error("point not in payload of RTC message with type point");return{header:Yt.header,payload:{point:Object.assign({x:0,y:0,z:0},vn)}};default:return Yt}}(sn),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(sn),this.handleSystemMessage(Ft,sn)||(Ft===this.latestTryOnceStreamChannel||Ft===this.latestTtlStreamChannel||Ft===this.latestReliableStreamChannel)&&!this.isLatestMessage(sn)||Xt.baseConfig.receive(dn,sn)}receiveChannelMessageChunk(Ft,sn){const Xt=this.reassemblyTable.get(sn.id)||[];if(Xt.push(sn),Xt.length===sn.total){const dn=function(Yt){const yn=Yt.sort((Qt,Kt)=>Qt.seq<Kt.seq?-1:1).map(Qt=>Qt.part).reduce((Qt,Kt)=>Qt+Kt);try{return JSON.parse(yn)}catch{return void bt.a.warn("Could not reassemble RTC message chunks")}}(Xt);return dn&&this.receiveChannelMessage(Ft,dn),void this.reassemblyTable.delete(sn.id)}this.reassemblyTable.set(sn.id,Xt),this.reassemblyTableLastTimestamp.set(sn.id,new Date().getTime())}handleSystemMessage(Ft,sn){var Xt,dn;const{config:Yt}=this,{baseConfig:yn}=Yt,{remotePeerId:Qt}=yn;switch(sn.header.stream.streamType){case"ping":return this.sendSystemMessage(Ft,{type:"pong",timestamp:yt(sn.payload.ping)}),!0;case"pong":const Kt=new Date().getTime()-yt(sn.payload.pong);return this.pingTimeMs=Kt,wt.aggregate("rtc-ping-time",Kt),!0;case"streams-info":const{sessionMetrics:hn}=this,vn=(Xt=sn.payload.streamsInfo)===null||Xt===void 0?void 0:Xt.timestamp;return!!vn&&(hn==null||hn.updateRemoteMessagesCounts(sn),(dn=yn.onStreamsInfoUpdate)===null||dn===void 0||dn.call(yn,Qt,vn),!0);case"stream-control":return!0;default:return!1}}sendSystemMessage(Ft,sn){var Xt;const{localUserId:dn,localPeerId:Yt}=this.config.baseConfig;if(Ft.readyState!=="open")return;const yn={entityId:dn!=null?dn:Yt,streamName:`$.${sn.type}`,streamType:sn.type};let Qt;switch(sn.type){case"ping":Qt={ping:new Date().getTime()};break;case"pong":Qt={pong:sn.timestamp};break;case"stream-control":Qt={streamControl:sn.streamControl};break;case"streams-info":Qt={streamsInfo:(Xt=this.sessionMetrics)===null||Xt===void 0?void 0:Xt.getLocalStreamsInfo(new Date().getTime())}}var Kt;this.sendOnChannel(Ft,(Kt=Qt,{header:{stream:yn,created:Date.now(),frameId:""},payload:Kt}))}isLatestMessage(Ft){const sn=jt(Ft.header.stream),Xt=(this.streamLatestTimestamp.get(sn)||0)<=Ft.header.created;return Xt&&this.streamLatestTimestamp.set(sn,Ft.header.created),Xt}}function Vt(Bt){var Ft,sn;return{userId:(Ft=Bt.getUserId())===null||Ft===void 0?void 0:Ft.getValue(),deviceId:(sn=Bt.getDeviceId())===null||sn===void 0?void 0:sn.getValue(),organizationId:Bt.getOrganizationId(),id:Bt.getPeerId(),capabilities:[],capabilitySet:{}}}var Wt=function(Bt,Ft,sn,Xt){return new(sn||(sn=Promise))(function(dn,Yt){function yn(hn){try{Kt(Xt.next(hn))}catch(vn){Yt(vn)}}function Qt(hn){try{Kt(Xt.throw(hn))}catch(vn){Yt(vn)}}function Kt(hn){var vn;hn.done?dn(hn.value):(vn=hn.value,vn instanceof sn?vn:new sn(function(Sn){Sn(vn)})).then(yn,Qt)}Kt((Xt=Xt.apply(Bt,Ft||[])).next())})};class Lt{constructor(Ft){this.config=Ft,this.grpcCallDeadline=5*lt.a.second,this.refreshIntervalDelayMs=2*lt.a.second,this.iceServersTtl=30*lt.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:sn}=this;this.refreshInterval=xt({func:()=>Wt(this,void 0,void 0,function*(){try{yield this.update()}catch(Xt){bt.a.warn("RTC refresh failed",{error:Xt})}}),delay:sn,immediate:!0})}send(Ft,sn,Xt){const dn=this.getActiveConnection(Ft);dn?dn.isReady()?dn.send(sn,Xt):bt.a.warn("Send called with unready connection."):bt.a.warn("Send called with no connection.")}controlRemoteStream(Ft,sn){const Xt=this.getActiveConnection(Ft);Xt?Xt.isReady()?Xt.controlRemoteStream(sn):bt.a.warn("controlRemoteStream called with unready connection."):bt.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return Wt(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(ct.a)(.1*lt.a.second);return Vt(this.localPeer)})}connect(Ft,sn){var Xt,dn,Yt;return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:yn,signalingClient:Qt}=this.config,{localPeer:Kt,receiveSignalStream:hn,iceServers:vn}=this;if(!Kt||!hn||!vn)return void bt.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(Ft))return void bt.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(Ft))return void bt.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(Ft,!0);const Sn=new Jt(yield this.createRTCPeerConnection(vn,sn),{baseConfig:{isOffer:!0,isLan:!1,receive:(Nn,zn)=>this.config.receive(Nn,zn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Nn,zn)=>{var Ln,Mn;return(Mn=(Ln=this.config).onStreamsInfoUpdate)===null||Mn===void 0?void 0:Mn.call(Ln,Nn,zn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Xt=Kt.getUserId())===null||Xt===void 0?void 0:Xt.getValue(),localPeerId:Kt.getPeerId(),remotePeerId:Ft},remoteConfig:{}},Nn=>this.onCustomDataChannel(Ft,Nn)),Cn=yield Sn.getOffer();if(!Cn)return bt.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(Ft);bt.a.debug("Sending offer."),yn==null||yn("Sending offer",Cn);const cn=new Et.SendSignalRequest;cn.setSignal(Cn);const ln=yield(()=>Wt(this,void 0,void 0,function*(){try{return yield Qt.sendSignal(cn,yield this.getMetadata({}))}catch(Nn){bt.a.warn("Error when sending signal",{error:Nn})}}))();if(!this.isOutgoingConnection.get(Ft))return void bt.a.debug("No offer set after receiving offer signal response.");bt.a.debug("Offer sent.");const bn=(dn=ln==null?void 0:ln.getSessionId())===null||dn===void 0?void 0:dn.getValue(),xn=(Yt=ln==null?void 0:ln.getSessionCreatedTimestamp())===null||Yt===void 0?void 0:Yt.getValue();return bn&&xn?(Sn.setSessionId(bn),Sn.setSessionCreatedTimestamp(xn),this.isOutgoingConnection.delete(Ft),this.connections.push(Sn),this.isConnectionInitiator.set(Sn,!0),this.setupHandlers(Sn),bn):(bt.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(Ft))})}connectLan(Ft){var sn,Xt;return Wt(this,void 0,void 0,function*(){const dn=new Pt(Ft),Yt=new Jt(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(hn,vn)=>this.config.receive(hn,vn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(hn,vn)=>{var Sn,Cn;return(Cn=(Sn=this.config).onStreamsInfoUpdate)===null||Cn===void 0?void 0:Cn.call(Sn,hn,vn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Xt=(sn=this.localPeer)===null||sn===void 0?void 0:sn.getUserId())===null||Xt===void 0?void 0:Xt.getValue(),localPeerId:"lan_client",remotePeerId:Ft}},hn=>this.onCustomDataChannel(Ft,hn)),yn=yield Yt.getLanOffer();if(!yn)return bt.a.warn("Could not generate LAN offer"),!1;const Qt=yield dn.postLanRtcOffer({offer:JSON.stringify(yn)}),Kt=new RTCSessionDescription(JSON.parse(Qt.answer));return yield Yt.handleLanAnswer(Kt),this.localConnections.push(Yt),Object(Tt.v4)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(Ft,sn,Xt,dn,Yt){const yn=this.getActiveConnection(Ft);if(yn&&this.isConnectionInitiator.has(yn)){const Kt=yn.peerConnection.createDataChannel("custom."+sn,Xt);return dn&&(Kt.binaryType="arraybuffer"),Yt(Ft,Kt),()=>{}}const Qt=(Kt,hn)=>{Ft===Kt&&hn.label==="custom."+sn&&Yt(Ft,hn)};return this.peerDataChannelListeners.push(Qt),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(Kt=>Kt!==Qt)}}onCustomDataChannel(Ft,sn){this.peerDataChannelListeners.forEach(Xt=>Xt(Ft,sn))}getConnectionStatus(Ft){if(this.isOutgoingConnection.get(Ft))return"connecting";const sn=this.getActiveConnection(Ft);return sn?sn.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(Ft){return Wt(this,void 0,void 0,function*(){const sn=this.getActiveConnection(Ft);if(sn)return yield sn.getConnectionStatsInfo()})}disconnect(Ft){return Wt(this,void 0,void 0,function*(){const sn=this.getActiveConnection(Ft);sn&&(yield sn.close())})}getPeers(){return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Ft}=this.config,sn=yield(()=>Wt(this,void 0,void 0,function*(){try{return yield Ft.getPeers(new Et.GetPeersRequest,yield this.getMetadata({}))}catch(Yt){bt.a.warn("Error when getting peers",{error:Yt})}}))();if(!sn)return[];const Xt=sn.getPeersList();if(!Xt)return[];const dn=Yt=>{var yn,Qt;return(Qt=(yn=Yt.getPeerCreatedTimestamp())===null||yn===void 0?void 0:yn.getValue())!==null&&Qt!==void 0?Qt:0};return Xt.sort((Yt,yn)=>dn(yn)-dn(Yt)).map(Yt=>Vt(Yt))})}getSessions(){return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:Ft}=this.config,sn=yield(()=>Wt(this,void 0,void 0,function*(){try{return yield Ft.getPeers(new Et.GetPeersRequest,yield this.getMetadata({}))}catch(Yt){bt.a.warn("Error when getting peers",{error:Yt})}}))();if(!sn)return{};const Xt=sn.getPeersList(),dn={};for(const Yt of Xt)dn[Yt.getPeerId()]=Yt.getSessionIdsList();return dn})}getPing(Ft){const sn=this.getActiveConnection(Ft);if(sn)return sn.getPing();bt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(Ft){const sn=this.getActiveConnection(Ft);if(sn)return sn.getLastMessageTimestamp();bt.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(Ft){const sn=this.getActiveConnection(Ft);if(sn)return sn.getSessionMetricsMessageCounts();bt.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:Ft,receiveSignalStream:sn,iceServers:Xt}=this;return!!(Ft&&sn&&Xt)}shutdown(){return Wt(this,void 0,void 0,function*(){bt.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const Ft=this.connections;this.connections=[],yield this.closeConnections(Ft);const{localPeer:sn}=this;if(!sn||this.config.lanOnlyMode)return;const{signalingClient:Xt}=this.config;yield(()=>Wt(this,void 0,void 0,function*(){try{const dn=new Et.DeletePeerRequest;dn.setPeerId(sn.getPeerId()),yield Xt.deletePeer(dn,yield this.getMetadata({}))}catch(dn){return void bt.a.warn("Error deleting local peer",{error:dn})}}))()})}createPeer(){return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:Ft}=this.config,sn=yield(()=>Wt(this,void 0,void 0,function*(){try{return yield Ft.createPeer(new Et.CreatePeerRequest,yield this.getMetadata({}))}catch(dn){throw new Error(`Was not able to create peer: ${JSON.stringify(dn)}`)}}))(),Xt=sn==null?void 0:sn.getPeer();if(!Xt)throw new Error("Response did not provide peer.");return this.localPeer=Xt})}createReceiveSignalStream(){return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:Ft}=this.config,{localPeer:sn,iceServers:Xt}=this;if(!sn||!Xt)return;const{receiveSignalStream:dn}=this;dn&&dn.cancel();const Yt=new Et.ReceiveSignalStreamRequest;Yt.setPeerId(sn.getPeerId());const yn=yield(()=>Wt(this,void 0,void 0,function*(){try{return Ft.receiveSignalStream(Yt,yield this.getMetadata({hasDeadline:!1}))}catch(Qt){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(Qt)}`)}}))();if(!yn)throw new Error("Response did not provide stream.");return yn.on("data",Qt=>Wt(this,void 0,void 0,function*(){var Kt,hn,vn,Sn;const Cn=Qt.getSignal(),cn=(Kt=Cn==null?void 0:Cn.getSessionId())===null||Kt===void 0?void 0:Kt.getValue(),ln=Cn==null?void 0:Cn.getSenderId(),bn=Cn==null?void 0:Cn.getReceiverId(),xn=(hn=Cn==null?void 0:Cn.getSessionCreatedTimestamp())===null||hn===void 0?void 0:hn.getValue();if(!(Cn&&cn&&ln&&bn&&xn))return void bt.a.warn("Received signal with missing information.");const Nn=this.getActiveConnection(ln);if(Nn)if(Nn.getSessionId()!==cn){if(bt.a.debug("Received signal: different session for a peer we're already connected to."),(Nn.getSessionCreatedTimestamp()||0)>xn)return;const zn=new Jt(yield this.createRTCPeerConnection(Xt),{baseConfig:{isOffer:!1,isLan:!1,receive:(Ln,Mn)=>this.config.receive(Ln,Mn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Ln,Mn)=>{var Wn,Jn;return(Jn=(Wn=this.config).onStreamsInfoUpdate)===null||Jn===void 0?void 0:Jn.call(Wn,Ln,Mn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:sn.getPeerId(),localUserId:(Sn=sn.getUserId())===null||Sn===void 0?void 0:Sn.getValue(),remotePeerId:ln},remoteConfig:{sessionId:cn,sessionCreatedTimestamp:xn}},Ln=>this.onCustomDataChannel(ln,Ln));yield zn.handleSignal(Cn),this.connections.push(zn)}else bt.a.debug("Received signal: for an existing connection."),yield Nn.handleSignal(Cn);else{bt.a.debug("Received signal: new connection.");const zn=new Jt(yield this.createRTCPeerConnection(Xt),{baseConfig:{isOffer:!1,isLan:!1,receive:(Ln,Mn)=>this.config.receive(Ln,Mn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Ln,Mn)=>{var Wn,Jn;return(Jn=(Wn=this.config).onStreamsInfoUpdate)===null||Jn===void 0?void 0:Jn.call(Wn,Ln,Mn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:sn.getPeerId(),localUserId:(vn=sn.getUserId())===null||vn===void 0?void 0:vn.getValue(),remotePeerId:ln},remoteConfig:{sessionId:cn,sessionCreatedTimestamp:xn}},Ln=>this.onCustomDataChannel(ln,Ln));yield zn.handleSignal(Cn),this.connections.push(zn)}})),yn.on("end",()=>{yn.cancel(),this.receiveSignalStream=void 0}),yn.on("error",Qt=>{switch(Qt.code){case Rt.StatusCode.CANCELLED:case Rt.StatusCode.UNAVAILABLE:case Rt.StatusCode.UNKNOWN:bt.a.debug("Receive signal stream error",{error:Qt});break;case Rt.StatusCode.UNAUTHENTICATED:bt.a.warn("Receive signal stream error",{error:Qt});break;default:bt.a.error("Receive signal stream error",{error:Qt})}yn.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=yn})}createRTCPeerConnection(Ft,sn){var Xt;return Wt(this,void 0,void 0,function*(){const dn=sn==null?void 0:sn.rtcIceTransportPolicy,Yt=sn==null?void 0:sn.rtcIceServerProtocol,yn=(hn,vn)=>typeof hn=="string"?hn.endsWith(`transport=${vn}`):hn.some(Sn=>Sn.endsWith(`transport=${vn}`)),Qt=Ft.filter(hn=>{return dn!=="relay"||(typeof(vn=hn.urls)=="string"?vn.startsWith("turn:"):vn.some(Sn=>Sn.startsWith("turn:")));var vn}).filter(hn=>Yt!=="udp"||yn(hn.urls,"udp")).filter(hn=>Yt!=="tcp"||yn(hn.urls,"tcp")),Kt=(Xt=this.config.alternateRTCPeerConnection)!==null&&Xt!==void 0?Xt:window.RTCPeerConnection;if(!Kt)throw new Error("RTCPeerConnection class not found. WebRTC must be enabled.");return new Kt(Object.assign({iceServers:Qt,iceTransportPolicy:dn},sn))})}closeConnections(Ft){return Wt(this,void 0,void 0,function*(){const sn=yield mt(Ft.map(Xt=>Wt(this,void 0,void 0,function*(){yield Xt.close()})));for(const Xt of sn)bt.a.warn("Request to close session failed",{error:Xt})})}getActiveConnection(Ft){return this.getConnections().find(sn=>sn.getRemotePeerId()===Ft&&sn.isActive())}update(){var Ft;return Wt(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(Qt=>Qt.isActive()),this.config.lanOnlyMode)return;const{signalingClient:sn}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(Qt=>!Qt.isActive())),this.connections=this.connections.filter(Qt=>Qt.isActive());const{localPeer:Xt}=this,dn=this.connections.filter(Qt=>Qt.getSessionId).map(Qt=>yt(Qt.getSessionId()));Xt.setSessionIdsList(dn);const Yt=new Et.RefreshPeerRequest;Yt.setPeer(Xt);try{yield sn.refreshPeer(Yt,yield this.getMetadata({}))}catch(Qt){Qt.code===Rt.StatusCode.NOT_FOUND?(bt.a.warn("Peer expired, creating new peer",{peerId:Xt.getPeerId()}),yield this.reset()):bt.a.warn("Error calling RefreshPeer",{error:Qt})}const yn=yield this.getPeers();for(const Qt of this.connections)Qt.setRemoteDeviceId((Ft=yn.find(Kt=>Kt.id===Qt.getRemotePeerId()))===null||Ft===void 0?void 0:Ft.deviceId)})}reset(){return Wt(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:Ft,iceServersTtl:sn}=this,Xt=new Date().getTime();if(!Ft||Xt-Ft>sn)try{const dn=(yield this.config.signalingClient.getIceServers(new Et.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(dn),this.iceServersLastUpdate=Xt}catch(dn){bt.a.warn("Error in updateIceServers",{error:dn})}})}setupHandlers(Ft){const{peerConnection:sn}=Ft,Xt=Ft.getSessionCreatedTimestamp();sn.onconnectionstatechange=()=>Wt(this,void 0,void 0,function*(){const dn=sn.connectionState;if(Xt)switch(dn){case"connected":wt.aggregate("rtc-connect-time",new Date().getTime()-Xt);break;case"failed":wt.increment("rtc-connect-failed")}})}getMetadata(Ft){return Wt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:sn}=this.config,{grpcCallDeadline:Xt}=this,{hasDeadline:dn}=Ft,Yt=dn===!1?void 0:new Date().getTime()+Xt;return{authorization:yield sn(),deadline:Yt}})}}},,function(tt,et,nt){nt.r(et),nt.d(et,"LogClient",function(){return it});var rt=nt(26);class it extends rt.a{log(at){return function(st,lt,ct,ft){return new(ct||(ct=Promise))(function(ut,dt){function ht(mt){try{gt(ft.next(mt))}catch(yt){dt(yt)}}function pt(mt){try{gt(ft.throw(mt))}catch(yt){dt(yt)}}function gt(mt){var yt;mt.done?ut(mt.value):(yt=mt.value,yt instanceof ct?yt:new ct(function(bt){bt(yt)})).then(ht,pt)}gt((ft=ft.apply(st,lt||[])).next())})}(this,void 0,void 0,function*(){yield this.fetch("logs",{method:"POST",body:JSON.stringify({logs:at}),allowUnsafeRetries:!0})})}}}])},module.exports=t()})(dist);let FORMANT_API_URL="https://api.formant.io";typeof window!="undefined"&&(FORMANT_API_URL=window.FORMANT_API_URL||FORMANT_API_URL);let urlParams$1=new URLSearchParams("");typeof window!="undefined"&&(urlParams$1=new URLSearchParams(window.location.search));const envDev=urlParams$1.get("formant_dev");envDev&&(FORMANT_API_URL="https://api-dev.formant.io");const envStage=urlParams$1.get("formant_stage");function delay(tt){return new Promise(et=>setTimeout(et,tt))}function defined(tt,et){if(tt!==void 0)return tt;throw new Error(et||"Value is undefined")}envStage&&(FORMANT_API_URL="https://api-stage.formant.io");class App$1{static sendAppMessage(et){window.parent.postMessage(et,"*")}static getCurrentModuleContext(){let et=new URLSearchParams("");return typeof window!="undefined"&&(et=new URLSearchParams(window.location.search)),et.get("module")}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(et){this.sendAppMessage({type:"go_to_time",time:et.getTime()})}static showMessage(et){this.sendAppMessage({type:"show_message",message:et})}static requestModuleData(){const et=this.getCurrentModuleContext();if(!et)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:et})}static setModuleDateTimeRange(et,nt){const rt=this.getCurrentModuleContext();if(!rt)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:rt,before:et,after:nt||0})}static refreshAuthToken(){const et=this.getCurrentModuleContext();if(!et)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:et})}static setupModuleMenus(et){const nt=this.getCurrentModuleContext();if(!nt)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:nt,menus:et})}static addMenuListener(et){window.addEventListener("message",nt=>{const rt=nt.data;rt.type==="module_menu_item_clicked"&&et(rt.menu)})}static addAccessTokenRefreshListener(et){window.addEventListener("message",nt=>{const rt=nt.data;rt.type==="auth_token"&&et(rt.token)})}static addModuleDataListener(et){window.addEventListener("message",nt=>{const rt=nt.data;rt.type==="module_data"&&et({streams:rt.streams,time:rt.time,queryRange:rt.queryRange})})}}const _Authentication=class{static async login(tt,et){try{const nt=await fetch(`${FORMANT_API_URL}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:tt,password:et}),headers:{"Content-Type":"application/json"}}),rt=await nt.json();if(nt.status!==200)throw new Error(rt.message);return await _Authentication.loginWithToken(rt.authentication.accessToken,rt.authentication.refreshToken),rt.authentication}catch(nt){return _Authentication.waitingForAuth.forEach(rt=>rt(!1)),_Authentication.waitingForAuth=[],Promise.reject(nt)}}static async loginWithToken(tt,et){const nt=JSON.parse(atob(tt.split(".")[1]));try{let rt;if(_Authentication.isShareToken=nt["formant:claims"]&&nt["formant:claims"].type=="share",nt["formant:claims"]&&(_Authentication.currentOrganization=nt["formant:claims"].organizationId),nt["custom:organization_id"]&&(_Authentication.currentOrganization=nt["custom:organization_id"]),_Authentication.isShareToken||(rt=nt.sub),nt["formant:claims"]&&nt["formant:claims"].userId&&(rt=nt["formant:claims"].userId),rt){const it=await fetch(`${FORMANT_API_URL}/v1/admin/users/${rt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+tt}}),ot=await it.json();if(it.status!==200)throw new Error(ot.message);_Authentication.currentUser=ot}_Authentication.token=tt,_Authentication.waitingForAuth.forEach(it=>it(!0))}catch(rt){console.error(rt),_Authentication.waitingForAuth.forEach(it=>it(!1))}_Authentication.waitingForAuth=[],et&&(_Authentication.refreshToken=et,setInterval(async()=>{if(_Authentication.refreshToken){const rt=await fetch(`${FORMANT_API_URL}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication.refreshToken})}),it=await rt.json();_Authentication.token=it.authentication.accessToken}},36e5))}static isAuthenticated(){return _Authentication.token!==void 0}static getCurrentUser(){return _Authentication.currentUser}static async waitTilAuthenticated(){return _Authentication.token!==void 0||new Promise(tt=>{_Authentication.waitingForAuth.push(function(et){tt(et)})})}static async listenForRefresh(){App$1.addAccessTokenRefreshListener(tt=>{this.loginWithToken(tt)}),setInterval(async()=>{App$1.refreshAuthToken()},36e5)}};let Authentication=_Authentication;__publicField(Authentication,"token"),__publicField(Authentication,"refreshToken"),__publicField(Authentication,"currentUser"),__publicField(Authentication,"currentOrganization"),__publicField(Authentication,"isShareToken",!1),__publicField(Authentication,"defaultDeviceId"),__publicField(Authentication,"waitingForAuth",[]);class DataChannel{constructor(et){__publicField(this,"ready",!1),__publicField(this,"listeners",[]),__publicField(this,"binaryListeners",[]),__publicField(this,"error"),__publicField(this,"decoder",new TextDecoder),this.dataChannel=et,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0},this.dataChannel.onclose=()=>{this.ready=!1},this.dataChannel.onerror=nt=>{console.error(nt),this.error="An error occurred in DataChannel"},this.dataChannel.onmessage=nt=>{this.listeners.forEach(rt=>{const it=new Uint8Array(nt.data);rt(this.decoder.decode(it))}),this.binaryListeners.forEach(rt=>{rt(new Uint8Array(nt.data))})}}async waitTilReady(){return this.ready?!0:new Promise((et,nt)=>{let rt=window.setInterval(()=>{this.ready&&(window.clearInterval(rt),et(!0)),this.error&&nt(this.error)},10)})}send(et){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(et)}sendBinary(et){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(et)}addListener(et){this.listeners.push(et)}removeListener(et){const nt=this.listeners.indexOf(et);if(nt===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(nt,1)}addBinaryListener(et){this.binaryListeners.push(et)}removeBinaryListener(et){const nt=this.binaryListeners.indexOf(et);if(nt===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(nt,1)}}class CaptureStream{constructor(et){__publicField(this,"token"),this.captureSession=et}async ingestJSON(et){if(!this.token){const nt=await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"}),rt=await nt.json();this.token=rt.token}await fetch(`${FORMANT_API_URL}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(et)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator{constructor(et,nt){__publicField(this,"currentListeners",[]),__publicField(this,"onRealtimeMessage",(rt,it)=>{it.payload.jointState&&this.currentListeners.forEach(ot=>ot(it.payload.jointState))}),this.device=et,this.config=nt}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(et){this.currentListeners.push(et)}}class RequestDataChannel{constructor(et,nt,rt){__publicField(this,"channel"),__publicField(this,"requestIdToResponseMap",new Map),this.device=et,this.channel_name=nt,this.timeout=rt}}class BinaryRequestDataChannel extends RequestDataChannel{constructor(){super(...arguments),__publicField(this,"RESPONSE_SUCCESS_BYTE",0),__publicField(this,"decoder",new TextDecoder)}generateBinaryId(){const et=new Uint8Array(16);for(let nt=0;nt<et.length;nt++)et[nt]=Math.floor(256*Math.random());return et}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(et=>{const nt=et.slice(0,16).toString();if(nt.length===0)throw new Error("Invalid response");const rt=et.slice(16);if(rt.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(nt)&&this.requestIdToResponseMap.set(nt,rt)})}async request(et){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:nt,requestIdToResponseMap:rt,timeout:it}=this;await nt.waitTilReady();const ot=this.generateBinaryId(),at=ot.toString();rt.set(at,!0),nt.sendBinary(new Uint8Array([...ot,...et]));const st=new Date().getTime();for(;new Date().getTime()<st+it;)if(await delay(50),rt.has(at)){const lt=rt.get(at);if(lt!==!0){rt.delete(at);const ct=lt[0]===this.RESPONSE_SUCCESS_BYTE,ft=lt.slice(1);if(ct)return ft;throw{name:"AdapterError",message:this.decoder.decode(ft)}}}throw rt.delete(at),{name:"TimeoutError",message:`Request timed out after ${it/1e3} seconds`}}}class TextRequestDataChannel extends RequestDataChannel{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(et=>{const nt=JSON.parse(et),{id:rt,data:it,error:ot}=nt;if(!rt)throw new Error("Invalid response");if(!it&&!ot)throw new Error("Invalid response");this.requestIdToResponseMap.has(rt)&&this.requestIdToResponseMap.set(rt,nt)})}async request(et){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:nt,requestIdToResponseMap:rt,timeout:it}=this;await nt.waitTilReady();const ot=this.generateTextId();rt.set(ot,!0),nt.send(JSON.stringify({id:ot,data:et}));const at=new Date().getTime();for(;new Date().getTime()<at+it;)if(await delay(50),rt.has(ot)){const st=rt.get(ot);if(st!==!0){rt.delete(ot);const{data:lt,error:ct}=st;if(lt)return lt;if(ct)throw{name:"AdapterError",message:ct}}}throw rt.delete(ot),{name:"TimeoutError",message:`Request timed out after ${it/1e3} seconds`}}}class Device{constructor(et,nt,rt){__publicField(this,"rtcClient"),__publicField(this,"realtimeListeners",[]),__publicField(this,"handleMessage",(it,ot)=>{this.realtimeListeners.forEach(at=>at(it,ot))}),this.id=et,this.name=nt,this.organizationId=rt}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async getConfiguration(){let et=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}});const nt=await et.json();if(!nt.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const rt=nt.state.reportedConfiguration.version;return et=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}/configurations/${rt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),(await et.json()).document}async getFileUrl(et){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileId:[et]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}async startRealtimeConnection(){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const et=new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined(Authentication.token,"Realtime when user isn't authorized"),receive:this.handleMessage});for(;!et.isReady();)await delay(100);const nt=(await et.getPeers()).find(it=>it.deviceId===this.id);if(!nt)throw new Error("Cannot find peer, is the robot offline?");const rt=nt.id;for(await et.connect(rt);et.getConnectionStatus(rt)!=="connected";)await delay(100);this.rtcClient=et}}addRealtimeListener(et){this.realtimeListeners.push(et)}removeRealtimeListener(et){const nt=this.realtimeListeners.indexOf(et);if(nt===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(nt,1)}async getRealtimeVideoStreams(){var et,nt,rt;const it=await this.getConfiguration(),ot=[];for(const at of(et=it.teleop.hardwareStreams)!=null?et:[])at.rtcStreamType==="h264-video-frame"&&ot.push({name:at.name});for(const at of(nt=it.teleop.rosStreams)!=null?nt:[])at.topicType=="formant/H264VideoFrame"&&ot.push({name:at.topicName});for(const at of(rt=it.teleop.customStreams)!=null?rt:[])at.rtcStreamType==="h264-video-frame"&&ot.push({name:at.name});return ot}async getRealtimeManipulators(){var et;const nt=await this.getConfiguration(),rt=[];for(const it of(et=nt.teleop.rosStreams)!=null?et:[])it.topicType=="sensor_msgs/JointState"&&rt.push(new Manipulator(this,{currentJointStateStream:{name:it.topicName},plannedJointStateStream:it.plannedTopic?{name:it.plannedTopic}:void 0,planValidStream:it.planValidTopic?{name:it.planValidTopic}:void 0,endEffectorStream:it.endEffectorTopic?{name:it.endEffectorTopic}:void 0,endEffectorLinkName:it.endEffectorLinkName,baseReferenceFrame:it.baseReferenceFrame,localFrame:it.localFrame}));return rt}async startListeningToRealtimeVideo(et){const nt=defined(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined(rt).id,{streamName:et.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(et){const nt=defined(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined(rt).id,{streamName:et.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(et){const nt=defined(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined(rt).id,{streamName:et.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(et){const nt=defined(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined(rt).id,{streamName:et.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(et){const nt=defined(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined(rt).id,{streamName:et,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(et){const nt=defined(this.rtcClient,"Realtime connection has not been started"),rt=await this.getRemotePeer();nt.controlRemoteStream(defined(rt).id,{streamName:et,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const et=await defined(this.rtcClient,"Realtime connection has not been started").getPeers();return defined(et.find(nt=>nt.deviceId===this.id),"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(!this.rtcClient)throw new Error(`Realtime connection hasn't been started for ${this.id}`);await this.rtcClient.disconnect(this.id)}async isInRealtimeSession(){let et=await Fleet.getPeers(),nt=await Fleet.getRealtimeSessions(),rt=et.find(it=>it.deviceId===this.id);return!!rt&&nt[rt.id].length>0}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(nt=>({name:nt.name,id:nt.id,command:nt.command,description:nt.description,parameterEnabled:nt.parameterEnabled,parameterValue:nt.parameterValue,parameterMeta:nt.parameterMeta}))}async sendCommand(et,nt,rt,it){var ot;const at=(await this.getAvailableCommands()).find(ft=>ft.name===et);if(!at)throw new Error(`Could not find command with name "${et}"`);let st;if(nt===void 0){if(!at.parameterEnabled||!at.parameterValue)throw new Error("Command has no default parameter value, you must provide one");st=at.parameterValue}else st=nt;let lt={value:st,scrubberTime:(rt||new Date).toISOString(),meta:__spreadValues(__spreadValues({},at.parameterMeta),it)};return(await(await fetch(`${FORMANT_API_URL}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:at.id,organizationId:this.organizationId,deviceId:this.id,command:at.command,parameter:lt,userId:(ot=Authentication.currentUser)==null?void 0:ot.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}async createCustomDataChannel(et,nt){const rt=defined(this.rtcClient,"Realtime connection has not been started"),it=await this.getRemotePeer(),ot=await new Promise(at=>{rt.createCustomDataChannel(defined(it).id,et,__spreadValues({ordered:!0},nt),!1,(st,lt)=>{const ct=new DataChannel(lt);at(ct)})});return await ot.waitTilReady(),ot}createCustomRequestDataChannel(et,nt=3e3){return new TextRequestDataChannel(this,et,nt)}createCustomBinaryRequestDataChannel(et,nt=3e3){return new BinaryRequestDataChannel(this,et,nt)}async createCaptureStream(et){const nt=await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:et,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),rt=await nt.json();return new CaptureStream(rt)}async getTelemetry(et,nt,rt,it){return await Fleet.getTelemetry(this.id,et,nt,rt,it)}async getTelemetryStreams(){var et,nt;const rt=await this.getConfiguration(),it=await fetch(`${FORMANT_API_URL}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),ot=[],at=[];return(nt=(et=rt.telemetry)==null?void 0:et.streams)==null||nt.forEach(st=>{st.disabled!==!0&&ot.push(st.name),st.onDemand===!0&&at.push(st.name)}),console.log(at),(await it.json()).items.filter(st=>!ot.includes(st)).map(st=>({name:st,onDemand:at.includes(st)}))}}const _Fleet=class{static async setDefaultDevice(tt){_Fleet.defaultDeviceId=tt}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!_Fleet.defaultDeviceId)throw new Error("No known default device");const tt=await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),et=(await tt.json()).items.find(rt=>rt.id===_Fleet.defaultDeviceId).name,nt=new Device(_Fleet.defaultDeviceId,et,defined(Authentication.currentOrganization));return _Fleet.knownContext.push(new WeakRef(nt)),nt}static async getDevice(tt){if(!Authentication.token)throw new Error("Not authenticated");const et=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${tt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),nt=await et.json(),rt=nt.name,it=new Device(tt,rt,nt.organizationId);return _Fleet.knownContext.push(new WeakRef(it)),it}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const tt=await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),et=await tt.json();return et.items,et.items.map(nt=>new Device(nt.id,nt.name,nt.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const tt=await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),et=(await tt.json()).items;return(await _Fleet.getDevices()).filter(nt=>et.includes(nt.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const tt=await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),et=(await tt.json()).items.map(nt=>nt.deviceId);return(await _Fleet.getDevices()).filter(nt=>et.includes(nt.id))}static async getLatestTelemetry(tt){let et=tt;return tt&&!Array.isArray(tt)&&(tt=[tt]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:et}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(tt,et,nt,rt,it){let ot=tt;Array.isArray(tt)||(ot=[tt]);let at=et;return Array.isArray(et)||(at=[et]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:ot,end:rt.toISOString(),names:at,start:nt.toISOString(),tags:it}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(tt){const et=await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[tt]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),nt=await et.json();if(nt.fileUrls.length===0)throw new Error("File not found");return nt.fileUrls[0]}static async queryTelemetry(tt){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(tt),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async queryEvents(tt){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(tt),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}};let Fleet=_Fleet;__publicField(Fleet,"defaultDeviceId"),__publicField(Fleet,"knownContext",[]);let urlParams$2=new URLSearchParams("");typeof window!="undefined"&&(urlParams$2=new URLSearchParams(window.location.search));const urlDevice=urlParams$2.get("device");urlDevice&&Fleet.setDefaultDevice(urlDevice);const urlAuth=urlParams$2.get("auth");urlAuth&&Authentication.loginWithToken(urlAuth);const moduleName=urlParams$2.get("module");moduleName&&Authentication.listenForRefresh();/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="140",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,FlatShading=1,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",KeepStencilOp=7680,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(et,nt){this._listeners===void 0&&(this._listeners={});const rt=this._listeners;rt[et]===void 0&&(rt[et]=[]),rt[et].indexOf(nt)===-1&&rt[et].push(nt)}hasEventListener(et,nt){if(this._listeners===void 0)return!1;const rt=this._listeners;return rt[et]!==void 0&&rt[et].indexOf(nt)!==-1}removeEventListener(et,nt){if(this._listeners===void 0)return;const it=this._listeners[et];if(it!==void 0){const ot=it.indexOf(nt);ot!==-1&&it.splice(ot,1)}}dispatchEvent(et){if(this._listeners===void 0)return;const rt=this._listeners[et.type];if(rt!==void 0){et.target=this;const it=rt.slice(0);for(let ot=0,at=it.length;ot<at;ot++)it[ot].call(this,et);et.target=null}}}const _lut=[];for(let tt=0;tt<256;tt++)_lut[tt]=(tt<16?"0":"")+tt.toString(16);const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const tt=Math.random()*4294967295|0,et=Math.random()*4294967295|0,nt=Math.random()*4294967295|0,rt=Math.random()*4294967295|0;return(_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]+"-"+_lut[et&255]+_lut[et>>8&255]+"-"+_lut[et>>16&15|64]+_lut[et>>24&255]+"-"+_lut[nt&63|128]+_lut[nt>>8&255]+"-"+_lut[nt>>16&255]+_lut[nt>>24&255]+_lut[rt&255]+_lut[rt>>8&255]+_lut[rt>>16&255]+_lut[rt>>24&255]).toLowerCase()}function clamp(tt,et,nt){return Math.max(et,Math.min(nt,tt))}function euclideanModulo(tt,et){return(tt%et+et)%et}function lerp(tt,et,nt){return(1-nt)*tt+nt*et}function isPowerOfTwo(tt){return(tt&tt-1)===0&&tt!==0}function floorPowerOfTwo(tt){return Math.pow(2,Math.floor(Math.log(tt)/Math.LN2))}class Vector2{constructor(et=0,nt=0){this.x=et,this.y=nt}get width(){return this.x}set width(et){this.x=et}get height(){return this.y}set height(et){this.y=et}set(et,nt){return this.x=et,this.y=nt,this}setScalar(et){return this.x=et,this.y=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setComponent(et,nt){switch(et){case 0:this.x=nt;break;case 1:this.y=nt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y)}copy(et){return this.x=et.x,this.y=et.y,this}add(et,nt){return nt!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(et,nt)):(this.x+=et.x,this.y+=et.y,this)}addScalar(et){return this.x+=et,this.y+=et,this}addVectors(et,nt){return this.x=et.x+nt.x,this.y=et.y+nt.y,this}addScaledVector(et,nt){return this.x+=et.x*nt,this.y+=et.y*nt,this}sub(et,nt){return nt!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(et,nt)):(this.x-=et.x,this.y-=et.y,this)}subScalar(et){return this.x-=et,this.y-=et,this}subVectors(et,nt){return this.x=et.x-nt.x,this.y=et.y-nt.y,this}multiply(et){return this.x*=et.x,this.y*=et.y,this}multiplyScalar(et){return this.x*=et,this.y*=et,this}divide(et){return this.x/=et.x,this.y/=et.y,this}divideScalar(et){return this.multiplyScalar(1/et)}applyMatrix3(et){const nt=this.x,rt=this.y,it=et.elements;return this.x=it[0]*nt+it[3]*rt+it[6],this.y=it[1]*nt+it[4]*rt+it[7],this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this}clamp(et,nt){return this.x=Math.max(et.x,Math.min(nt.x,this.x)),this.y=Math.max(et.y,Math.min(nt.y,this.y)),this}clampScalar(et,nt){return this.x=Math.max(et,Math.min(nt,this.x)),this.y=Math.max(et,Math.min(nt,this.y)),this}clampLength(et,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(et,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(et){return this.x*et.x+this.y*et.y}cross(et){return this.x*et.y-this.y*et.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const nt=this.x-et.x,rt=this.y-et.y;return nt*nt+rt*rt}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,nt){return this.x+=(et.x-this.x)*nt,this.y+=(et.y-this.y)*nt,this}lerpVectors(et,nt,rt){return this.x=et.x+(nt.x-et.x)*rt,this.y=et.y+(nt.y-et.y)*rt,this}equals(et){return et.x===this.x&&et.y===this.y}fromArray(et,nt=0){return this.x=et[nt],this.y=et[nt+1],this}toArray(et=[],nt=0){return et[nt]=this.x,et[nt+1]=this.y,et}fromBufferAttribute(et,nt,rt){return rt!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=et.getX(nt),this.y=et.getY(nt),this}rotateAround(et,nt){const rt=Math.cos(nt),it=Math.sin(nt),ot=this.x-et.x,at=this.y-et.y;return this.x=ot*rt-at*it+et.x,this.y=ot*it+at*rt+et.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Vector2.prototype.isVector2=!0;class Matrix3{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(et,nt,rt,it,ot,at,st,lt,ct){const ft=this.elements;return ft[0]=et,ft[1]=it,ft[2]=st,ft[3]=nt,ft[4]=ot,ft[5]=lt,ft[6]=rt,ft[7]=at,ft[8]=ct,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(et){const nt=this.elements,rt=et.elements;return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt[3]=rt[3],nt[4]=rt[4],nt[5]=rt[5],nt[6]=rt[6],nt[7]=rt[7],nt[8]=rt[8],this}extractBasis(et,nt,rt){return et.setFromMatrix3Column(this,0),nt.setFromMatrix3Column(this,1),rt.setFromMatrix3Column(this,2),this}setFromMatrix4(et){const nt=et.elements;return this.set(nt[0],nt[4],nt[8],nt[1],nt[5],nt[9],nt[2],nt[6],nt[10]),this}multiply(et){return this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,nt){const rt=et.elements,it=nt.elements,ot=this.elements,at=rt[0],st=rt[3],lt=rt[6],ct=rt[1],ft=rt[4],ut=rt[7],dt=rt[2],ht=rt[5],pt=rt[8],gt=it[0],mt=it[3],yt=it[6],bt=it[1],St=it[4],xt=it[7],vt=it[2],$t=it[5],zt=it[8];return ot[0]=at*gt+st*bt+lt*vt,ot[3]=at*mt+st*St+lt*$t,ot[6]=at*yt+st*xt+lt*zt,ot[1]=ct*gt+ft*bt+ut*vt,ot[4]=ct*mt+ft*St+ut*$t,ot[7]=ct*yt+ft*xt+ut*zt,ot[2]=dt*gt+ht*bt+pt*vt,ot[5]=dt*mt+ht*St+pt*$t,ot[8]=dt*yt+ht*xt+pt*zt,this}multiplyScalar(et){const nt=this.elements;return nt[0]*=et,nt[3]*=et,nt[6]*=et,nt[1]*=et,nt[4]*=et,nt[7]*=et,nt[2]*=et,nt[5]*=et,nt[8]*=et,this}determinant(){const et=this.elements,nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ft=et[8];return nt*at*ft-nt*st*ct-rt*ot*ft+rt*st*lt+it*ot*ct-it*at*lt}invert(){const et=this.elements,nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ft=et[8],ut=ft*at-st*ct,dt=st*lt-ft*ot,ht=ct*ot-at*lt,pt=nt*ut+rt*dt+it*ht;if(pt===0)return this.set(0,0,0,0,0,0,0,0,0);const gt=1/pt;return et[0]=ut*gt,et[1]=(it*ct-ft*rt)*gt,et[2]=(st*rt-it*at)*gt,et[3]=dt*gt,et[4]=(ft*nt-it*lt)*gt,et[5]=(it*ot-st*nt)*gt,et[6]=ht*gt,et[7]=(rt*lt-ct*nt)*gt,et[8]=(at*nt-rt*ot)*gt,this}transpose(){let et;const nt=this.elements;return et=nt[1],nt[1]=nt[3],nt[3]=et,et=nt[2],nt[2]=nt[6],nt[6]=et,et=nt[5],nt[5]=nt[7],nt[7]=et,this}getNormalMatrix(et){return this.setFromMatrix4(et).invert().transpose()}transposeIntoArray(et){const nt=this.elements;return et[0]=nt[0],et[1]=nt[3],et[2]=nt[6],et[3]=nt[1],et[4]=nt[4],et[5]=nt[7],et[6]=nt[2],et[7]=nt[5],et[8]=nt[8],this}setUvTransform(et,nt,rt,it,ot,at,st){const lt=Math.cos(ot),ct=Math.sin(ot);return this.set(rt*lt,rt*ct,-rt*(lt*at+ct*st)+at+et,-it*ct,it*lt,-it*(-ct*at+lt*st)+st+nt,0,0,1),this}scale(et,nt){const rt=this.elements;return rt[0]*=et,rt[3]*=et,rt[6]*=et,rt[1]*=nt,rt[4]*=nt,rt[7]*=nt,this}rotate(et){const nt=Math.cos(et),rt=Math.sin(et),it=this.elements,ot=it[0],at=it[3],st=it[6],lt=it[1],ct=it[4],ft=it[7];return it[0]=nt*ot+rt*lt,it[3]=nt*at+rt*ct,it[6]=nt*st+rt*ft,it[1]=-rt*ot+nt*lt,it[4]=-rt*at+nt*ct,it[7]=-rt*st+nt*ft,this}translate(et,nt){const rt=this.elements;return rt[0]+=et*rt[2],rt[3]+=et*rt[5],rt[6]+=et*rt[8],rt[1]+=nt*rt[2],rt[4]+=nt*rt[5],rt[7]+=nt*rt[8],this}equals(et){const nt=this.elements,rt=et.elements;for(let it=0;it<9;it++)if(nt[it]!==rt[it])return!1;return!0}fromArray(et,nt=0){for(let rt=0;rt<9;rt++)this.elements[rt]=et[rt+nt];return this}toArray(et=[],nt=0){const rt=this.elements;return et[nt]=rt[0],et[nt+1]=rt[1],et[nt+2]=rt[2],et[nt+3]=rt[3],et[nt+4]=rt[4],et[nt+5]=rt[5],et[nt+6]=rt[6],et[nt+7]=rt[7],et[nt+8]=rt[8],et}clone(){return new this.constructor().fromArray(this.elements)}}Matrix3.prototype.isMatrix3=!0;function arrayNeedsUint32(tt){for(let et=tt.length-1;et>=0;--et)if(tt[et]>65535)return!0;return!1}function createElementNS(tt){return document.createElementNS("http://www.w3.org/1999/xhtml",tt)}function SRGBToLinear(tt){return tt<.04045?tt*.0773993808:Math.pow(tt*.9478672986+.0521327014,2.4)}function LinearToSRGB(tt){return tt<.0031308?tt*12.92:1.055*Math.pow(tt,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(tt){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(tt,et,nt){if(this.legacyMode||et===nt||!et||!nt)return tt;if(FN[et]&&FN[et][nt]!==void 0){const rt=FN[et][nt];return tt.r=rt(tt.r),tt.g=rt(tt.g),tt.b=rt(tt.b),tt}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(tt,et){return this.convert(tt,this.workingColorSpace,et)},toWorkingColorSpace:function(tt,et){return this.convert(tt,et,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(tt,et,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(et-tt)*6*nt:nt<1/2?et:nt<2/3?tt+(et-tt)*6*(2/3-nt):tt}function toComponents(tt,et){return et.r=tt.r,et.g=tt.g,et.b=tt.b,et}class Color{constructor(et,nt,rt){return nt===void 0&&rt===void 0?this.set(et):this.setRGB(et,nt,rt)}set(et){return et&&et.isColor?this.copy(et):typeof et=="number"?this.setHex(et):typeof et=="string"&&this.setStyle(et),this}setScalar(et){return this.r=et,this.g=et,this.b=et,this}setHex(et,nt=SRGBColorSpace){return et=Math.floor(et),this.r=(et>>16&255)/255,this.g=(et>>8&255)/255,this.b=(et&255)/255,ColorManagement.toWorkingColorSpace(this,nt),this}setRGB(et,nt,rt,it=LinearSRGBColorSpace){return this.r=et,this.g=nt,this.b=rt,ColorManagement.toWorkingColorSpace(this,it),this}setHSL(et,nt,rt,it=LinearSRGBColorSpace){if(et=euclideanModulo(et,1),nt=clamp(nt,0,1),rt=clamp(rt,0,1),nt===0)this.r=this.g=this.b=rt;else{const ot=rt<=.5?rt*(1+nt):rt+nt-rt*nt,at=2*rt-ot;this.r=hue2rgb(at,ot,et+1/3),this.g=hue2rgb(at,ot,et),this.b=hue2rgb(at,ot,et-1/3)}return ColorManagement.toWorkingColorSpace(this,it),this}setStyle(et,nt=SRGBColorSpace){function rt(ot){ot!==void 0&&parseFloat(ot)<1&&console.warn("THREE.Color: Alpha component of "+et+" will be ignored.")}let it;if(it=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(et)){let ot;const at=it[1],st=it[2];switch(at){case"rgb":case"rgba":if(ot=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(255,parseInt(ot[1],10))/255,this.g=Math.min(255,parseInt(ot[2],10))/255,this.b=Math.min(255,parseInt(ot[3],10))/255,ColorManagement.toWorkingColorSpace(this,nt),rt(ot[4]),this;if(ot=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(100,parseInt(ot[1],10))/100,this.g=Math.min(100,parseInt(ot[2],10))/100,this.b=Math.min(100,parseInt(ot[3],10))/100,ColorManagement.toWorkingColorSpace(this,nt),rt(ot[4]),this;break;case"hsl":case"hsla":if(ot=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st)){const lt=parseFloat(ot[1])/360,ct=parseInt(ot[2],10)/100,ft=parseInt(ot[3],10)/100;return rt(ot[4]),this.setHSL(lt,ct,ft,nt)}break}}else if(it=/^\#([A-Fa-f\d]+)$/.exec(et)){const ot=it[1],at=ot.length;if(at===3)return this.r=parseInt(ot.charAt(0)+ot.charAt(0),16)/255,this.g=parseInt(ot.charAt(1)+ot.charAt(1),16)/255,this.b=parseInt(ot.charAt(2)+ot.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,nt),this;if(at===6)return this.r=parseInt(ot.charAt(0)+ot.charAt(1),16)/255,this.g=parseInt(ot.charAt(2)+ot.charAt(3),16)/255,this.b=parseInt(ot.charAt(4)+ot.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,nt),this}return et&&et.length>0?this.setColorName(et,nt):this}setColorName(et,nt=SRGBColorSpace){const rt=_colorKeywords[et.toLowerCase()];return rt!==void 0?this.setHex(rt,nt):console.warn("THREE.Color: Unknown color "+et),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(et){return this.r=et.r,this.g=et.g,this.b=et.b,this}copySRGBToLinear(et){return this.r=SRGBToLinear(et.r),this.g=SRGBToLinear(et.g),this.b=SRGBToLinear(et.b),this}copyLinearToSRGB(et){return this.r=LinearToSRGB(et.r),this.g=LinearToSRGB(et.g),this.b=LinearToSRGB(et.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(et=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),et),clamp(_rgb.r*255,0,255)<<16^clamp(_rgb.g*255,0,255)<<8^clamp(_rgb.b*255,0,255)<<0}getHexString(et=SRGBColorSpace){return("000000"+this.getHex(et).toString(16)).slice(-6)}getHSL(et,nt=LinearSRGBColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),nt);const rt=_rgb.r,it=_rgb.g,ot=_rgb.b,at=Math.max(rt,it,ot),st=Math.min(rt,it,ot);let lt,ct;const ft=(st+at)/2;if(st===at)lt=0,ct=0;else{const ut=at-st;switch(ct=ft<=.5?ut/(at+st):ut/(2-at-st),at){case rt:lt=(it-ot)/ut+(it<ot?6:0);break;case it:lt=(ot-rt)/ut+2;break;case ot:lt=(rt-it)/ut+4;break}lt/=6}return et.h=lt,et.s=ct,et.l=ft,et}getRGB(et,nt=LinearSRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),nt),et.r=_rgb.r,et.g=_rgb.g,et.b=_rgb.b,et}getStyle(et=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb),et),et!==SRGBColorSpace?`color(${et} ${_rgb.r} ${_rgb.g} ${_rgb.b})`:`rgb(${_rgb.r*255|0},${_rgb.g*255|0},${_rgb.b*255|0})`}offsetHSL(et,nt,rt){return this.getHSL(_hslA),_hslA.h+=et,_hslA.s+=nt,_hslA.l+=rt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(et){return this.r+=et.r,this.g+=et.g,this.b+=et.b,this}addColors(et,nt){return this.r=et.r+nt.r,this.g=et.g+nt.g,this.b=et.b+nt.b,this}addScalar(et){return this.r+=et,this.g+=et,this.b+=et,this}sub(et){return this.r=Math.max(0,this.r-et.r),this.g=Math.max(0,this.g-et.g),this.b=Math.max(0,this.b-et.b),this}multiply(et){return this.r*=et.r,this.g*=et.g,this.b*=et.b,this}multiplyScalar(et){return this.r*=et,this.g*=et,this.b*=et,this}lerp(et,nt){return this.r+=(et.r-this.r)*nt,this.g+=(et.g-this.g)*nt,this.b+=(et.b-this.b)*nt,this}lerpColors(et,nt,rt){return this.r=et.r+(nt.r-et.r)*rt,this.g=et.g+(nt.g-et.g)*rt,this.b=et.b+(nt.b-et.b)*rt,this}lerpHSL(et,nt){this.getHSL(_hslA),et.getHSL(_hslB);const rt=lerp(_hslA.h,_hslB.h,nt),it=lerp(_hslA.s,_hslB.s,nt),ot=lerp(_hslA.l,_hslB.l,nt);return this.setHSL(rt,it,ot),this}equals(et){return et.r===this.r&&et.g===this.g&&et.b===this.b}fromArray(et,nt=0){return this.r=et[nt],this.g=et[nt+1],this.b=et[nt+2],this}toArray(et=[],nt=0){return et[nt]=this.r,et[nt+1]=this.g,et[nt+2]=this.b,et}fromBufferAttribute(et,nt){return this.r=et.getX(nt),this.g=et.getY(nt),this.b=et.getZ(nt),et.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;Color.prototype.isColor=!0;Color.prototype.r=1;Color.prototype.g=1;Color.prototype.b=1;let _canvas;class ImageUtils{static getDataURL(et){if(/^data:/i.test(et.src)||typeof HTMLCanvasElement=="undefined")return et.src;let nt;if(et instanceof HTMLCanvasElement)nt=et;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=et.width,_canvas.height=et.height;const rt=_canvas.getContext("2d");et instanceof ImageData?rt.putImageData(et,0,0):rt.drawImage(et,0,0,et.width,et.height),nt=_canvas}return nt.width>2048||nt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",et),nt.toDataURL("image/jpeg",.6)):nt.toDataURL("image/png")}static sRGBToLinear(et){if(typeof HTMLImageElement!="undefined"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&et instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&et instanceof ImageBitmap){const nt=createElementNS("canvas");nt.width=et.width,nt.height=et.height;const rt=nt.getContext("2d");rt.drawImage(et,0,0,et.width,et.height);const it=rt.getImageData(0,0,et.width,et.height),ot=it.data;for(let at=0;at<ot.length;at++)ot[at]=SRGBToLinear(ot[at]/255)*255;return rt.putImageData(it,0,0),nt}else if(et.data){const nt=et.data.slice(0);for(let rt=0;rt<nt.length;rt++)nt instanceof Uint8Array||nt instanceof Uint8ClampedArray?nt[rt]=Math.floor(SRGBToLinear(nt[rt]/255)*255):nt[rt]=SRGBToLinear(nt[rt]);return{data:nt,width:et.width,height:et.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),et}}class Source{constructor(et=null){this.uuid=generateUUID(),this.data=et,this.version=0}set needsUpdate(et){et===!0&&this.version++}toJSON(et){const nt=et===void 0||typeof et=="string";if(!nt&&et.images[this.uuid]!==void 0)return et.images[this.uuid];const rt={uuid:this.uuid,url:""},it=this.data;if(it!==null){let ot;if(Array.isArray(it)){ot=[];for(let at=0,st=it.length;at<st;at++)it[at].isDataTexture?ot.push(serializeImage(it[at].image)):ot.push(serializeImage(it[at]))}else ot=serializeImage(it);rt.url=ot}return nt||(et.images[this.uuid]=rt),rt}}function serializeImage(tt){return typeof HTMLImageElement!="undefined"&&tt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&tt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&tt instanceof ImageBitmap?ImageUtils.getDataURL(tt):tt.data?{data:Array.prototype.slice.call(tt.data),width:tt.width,height:tt.height,type:tt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Source.prototype.isSource=!0;let textureId=0;class Texture extends EventDispatcher{constructor(et=Texture.DEFAULT_IMAGE,nt=Texture.DEFAULT_MAPPING,rt=ClampToEdgeWrapping,it=ClampToEdgeWrapping,ot=LinearFilter,at=LinearMipmapLinearFilter,st=RGBAFormat,lt=UnsignedByteType,ct=1,ft=LinearEncoding){super(),Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(et),this.mipmaps=[],this.mapping=nt,this.wrapS=rt,this.wrapT=it,this.magFilter=ot,this.minFilter=at,this.anisotropy=ct,this.format=st,this.internalFormat=null,this.type=lt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ft,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(et){this.source.data=et}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(et){return this.name=et.name,this.source=et.source,this.mipmaps=et.mipmaps.slice(0),this.mapping=et.mapping,this.wrapS=et.wrapS,this.wrapT=et.wrapT,this.magFilter=et.magFilter,this.minFilter=et.minFilter,this.anisotropy=et.anisotropy,this.format=et.format,this.internalFormat=et.internalFormat,this.type=et.type,this.offset.copy(et.offset),this.repeat.copy(et.repeat),this.center.copy(et.center),this.rotation=et.rotation,this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrix.copy(et.matrix),this.generateMipmaps=et.generateMipmaps,this.premultiplyAlpha=et.premultiplyAlpha,this.flipY=et.flipY,this.unpackAlignment=et.unpackAlignment,this.encoding=et.encoding,this.userData=JSON.parse(JSON.stringify(et.userData)),this.needsUpdate=!0,this}toJSON(et){const nt=et===void 0||typeof et=="string";if(!nt&&et.textures[this.uuid]!==void 0)return et.textures[this.uuid];const rt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(et).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(rt.userData=this.userData),nt||(et.textures[this.uuid]=rt),rt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(et){if(this.mapping!==UVMapping)return et;if(et.applyMatrix3(this.matrix),et.x<0||et.x>1)switch(this.wrapS){case RepeatWrapping:et.x=et.x-Math.floor(et.x);break;case ClampToEdgeWrapping:et.x=et.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(et.x)%2)===1?et.x=Math.ceil(et.x)-et.x:et.x=et.x-Math.floor(et.x);break}if(et.y<0||et.y>1)switch(this.wrapT){case RepeatWrapping:et.y=et.y-Math.floor(et.y);break;case ClampToEdgeWrapping:et.y=et.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(et.y)%2)===1?et.y=Math.ceil(et.y)-et.y:et.y=et.y-Math.floor(et.y);break}return this.flipY&&(et.y=1-et.y),et}set needsUpdate(et){et===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.prototype.isTexture=!0;class Vector4{constructor(et=0,nt=0,rt=0,it=1){this.x=et,this.y=nt,this.z=rt,this.w=it}get width(){return this.z}set width(et){this.z=et}get height(){return this.w}set height(et){this.w=et}set(et,nt,rt,it){return this.x=et,this.y=nt,this.z=rt,this.w=it,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this.w=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setW(et){return this.w=et,this}setComponent(et,nt){switch(et){case 0:this.x=nt;break;case 1:this.y=nt;break;case 2:this.z=nt;break;case 3:this.w=nt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this.w=et.w!==void 0?et.w:1,this}add(et,nt){return nt!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(et,nt)):(this.x+=et.x,this.y+=et.y,this.z+=et.z,this.w+=et.w,this)}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this.w+=et,this}addVectors(et,nt){return this.x=et.x+nt.x,this.y=et.y+nt.y,this.z=et.z+nt.z,this.w=et.w+nt.w,this}addScaledVector(et,nt){return this.x+=et.x*nt,this.y+=et.y*nt,this.z+=et.z*nt,this.w+=et.w*nt,this}sub(et,nt){return nt!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(et,nt)):(this.x-=et.x,this.y-=et.y,this.z-=et.z,this.w-=et.w,this)}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this.w-=et,this}subVectors(et,nt){return this.x=et.x-nt.x,this.y=et.y-nt.y,this.z=et.z-nt.z,this.w=et.w-nt.w,this}multiply(et){return this.x*=et.x,this.y*=et.y,this.z*=et.z,this.w*=et.w,this}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this.w*=et,this}applyMatrix4(et){const nt=this.x,rt=this.y,it=this.z,ot=this.w,at=et.elements;return this.x=at[0]*nt+at[4]*rt+at[8]*it+at[12]*ot,this.y=at[1]*nt+at[5]*rt+at[9]*it+at[13]*ot,this.z=at[2]*nt+at[6]*rt+at[10]*it+at[14]*ot,this.w=at[3]*nt+at[7]*rt+at[11]*it+at[15]*ot,this}divideScalar(et){return this.multiplyScalar(1/et)}setAxisAngleFromQuaternion(et){this.w=2*Math.acos(et.w);const nt=Math.sqrt(1-et.w*et.w);return nt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=et.x/nt,this.y=et.y/nt,this.z=et.z/nt),this}setAxisAngleFromRotationMatrix(et){let nt,rt,it,ot;const lt=et.elements,ct=lt[0],ft=lt[4],ut=lt[8],dt=lt[1],ht=lt[5],pt=lt[9],gt=lt[2],mt=lt[6],yt=lt[10];if(Math.abs(ft-dt)<.01&&Math.abs(ut-gt)<.01&&Math.abs(pt-mt)<.01){if(Math.abs(ft+dt)<.1&&Math.abs(ut+gt)<.1&&Math.abs(pt+mt)<.1&&Math.abs(ct+ht+yt-3)<.1)return this.set(1,0,0,0),this;nt=Math.PI;const St=(ct+1)/2,xt=(ht+1)/2,vt=(yt+1)/2,$t=(ft+dt)/4,zt=(ut+gt)/4,Nt=(pt+mt)/4;return St>xt&&St>vt?St<.01?(rt=0,it=.707106781,ot=.707106781):(rt=Math.sqrt(St),it=$t/rt,ot=zt/rt):xt>vt?xt<.01?(rt=.707106781,it=0,ot=.707106781):(it=Math.sqrt(xt),rt=$t/it,ot=Nt/it):vt<.01?(rt=.707106781,it=.707106781,ot=0):(ot=Math.sqrt(vt),rt=zt/ot,it=Nt/ot),this.set(rt,it,ot,nt),this}let bt=Math.sqrt((mt-pt)*(mt-pt)+(ut-gt)*(ut-gt)+(dt-ft)*(dt-ft));return Math.abs(bt)<.001&&(bt=1),this.x=(mt-pt)/bt,this.y=(ut-gt)/bt,this.z=(dt-ft)/bt,this.w=Math.acos((ct+ht+yt-1)/2),this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this.w=Math.min(this.w,et.w),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this.w=Math.max(this.w,et.w),this}clamp(et,nt){return this.x=Math.max(et.x,Math.min(nt.x,this.x)),this.y=Math.max(et.y,Math.min(nt.y,this.y)),this.z=Math.max(et.z,Math.min(nt.z,this.z)),this.w=Math.max(et.w,Math.min(nt.w,this.w)),this}clampScalar(et,nt){return this.x=Math.max(et,Math.min(nt,this.x)),this.y=Math.max(et,Math.min(nt,this.y)),this.z=Math.max(et,Math.min(nt,this.z)),this.w=Math.max(et,Math.min(nt,this.w)),this}clampLength(et,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(et,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z+this.w*et.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,nt){return this.x+=(et.x-this.x)*nt,this.y+=(et.y-this.y)*nt,this.z+=(et.z-this.z)*nt,this.w+=(et.w-this.w)*nt,this}lerpVectors(et,nt,rt){return this.x=et.x+(nt.x-et.x)*rt,this.y=et.y+(nt.y-et.y)*rt,this.z=et.z+(nt.z-et.z)*rt,this.w=et.w+(nt.w-et.w)*rt,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z&&et.w===this.w}fromArray(et,nt=0){return this.x=et[nt],this.y=et[nt+1],this.z=et[nt+2],this.w=et[nt+3],this}toArray(et=[],nt=0){return et[nt]=this.x,et[nt+1]=this.y,et[nt+2]=this.z,et[nt+3]=this.w,et}fromBufferAttribute(et,nt,rt){return rt!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=et.getX(nt),this.y=et.getY(nt),this.z=et.getZ(nt),this.w=et.getW(nt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Vector4.prototype.isVector4=!0;class WebGLRenderTarget extends EventDispatcher{constructor(et,nt,rt={}){super(),this.width=et,this.height=nt,this.depth=1,this.scissor=new Vector4(0,0,et,nt),this.scissorTest=!1,this.viewport=new Vector4(0,0,et,nt);const it={width:et,height:nt,depth:1};this.texture=new Texture(it,rt.mapping,rt.wrapS,rt.wrapT,rt.magFilter,rt.minFilter,rt.format,rt.type,rt.anisotropy,rt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=rt.generateMipmaps!==void 0?rt.generateMipmaps:!1,this.texture.internalFormat=rt.internalFormat!==void 0?rt.internalFormat:null,this.texture.minFilter=rt.minFilter!==void 0?rt.minFilter:LinearFilter,this.depthBuffer=rt.depthBuffer!==void 0?rt.depthBuffer:!0,this.stencilBuffer=rt.stencilBuffer!==void 0?rt.stencilBuffer:!1,this.depthTexture=rt.depthTexture!==void 0?rt.depthTexture:null,this.samples=rt.samples!==void 0?rt.samples:0}setSize(et,nt,rt=1){(this.width!==et||this.height!==nt||this.depth!==rt)&&(this.width=et,this.height=nt,this.depth=rt,this.texture.image.width=et,this.texture.image.height=nt,this.texture.image.depth=rt,this.dispose()),this.viewport.set(0,0,et,nt),this.scissor.set(0,0,et,nt)}clone(){return new this.constructor().copy(this)}copy(et){this.width=et.width,this.height=et.height,this.depth=et.depth,this.viewport.copy(et.viewport),this.texture=et.texture.clone(),this.texture.isRenderTargetTexture=!0;const nt=Object.assign({},et.texture.image);return this.texture.source=new Source(nt),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.samples=et.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}WebGLRenderTarget.prototype.isWebGLRenderTarget=!0;class DataArrayTexture extends Texture{constructor(et=null,nt=1,rt=1,it=1){super(null),this.image={data:et,width:nt,height:rt,depth:it},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataArrayTexture.prototype.isDataArrayTexture=!0;class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(et,nt,rt){super(et,nt),this.depth=rt,this.texture=new DataArrayTexture(null,et,nt,rt),this.texture.isRenderTargetTexture=!0}}WebGLArrayRenderTarget.prototype.isWebGLArrayRenderTarget=!0;class Data3DTexture extends Texture{constructor(et=null,nt=1,rt=1,it=1){super(null),this.image={data:et,width:nt,height:rt,depth:it},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Data3DTexture.prototype.isData3DTexture=!0;class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(et,nt,rt){super(et,nt),this.depth=rt,this.texture=new Data3DTexture(null,et,nt,rt),this.texture.isRenderTargetTexture=!0}}WebGL3DRenderTarget.prototype.isWebGL3DRenderTarget=!0;class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(et,nt,rt,it={}){super(et,nt,it);const ot=this.texture;this.texture=[];for(let at=0;at<rt;at++)this.texture[at]=ot.clone(),this.texture[at].isRenderTargetTexture=!0}setSize(et,nt,rt=1){if(this.width!==et||this.height!==nt||this.depth!==rt){this.width=et,this.height=nt,this.depth=rt;for(let it=0,ot=this.texture.length;it<ot;it++)this.texture[it].image.width=et,this.texture[it].image.height=nt,this.texture[it].image.depth=rt;this.dispose()}return this.viewport.set(0,0,et,nt),this.scissor.set(0,0,et,nt),this}copy(et){this.dispose(),this.width=et.width,this.height=et.height,this.depth=et.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.texture.length=0;for(let nt=0,rt=et.texture.length;nt<rt;nt++)this.texture[nt]=et.texture[nt].clone(),this.texture[nt].isRenderTargetTexture=!0;return this}}WebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets=!0;class Quaternion{constructor(et=0,nt=0,rt=0,it=1){this._x=et,this._y=nt,this._z=rt,this._w=it}static slerp(et,nt,rt,it){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),rt.slerpQuaternions(et,nt,it)}static slerpFlat(et,nt,rt,it,ot,at,st){let lt=rt[it+0],ct=rt[it+1],ft=rt[it+2],ut=rt[it+3];const dt=ot[at+0],ht=ot[at+1],pt=ot[at+2],gt=ot[at+3];if(st===0){et[nt+0]=lt,et[nt+1]=ct,et[nt+2]=ft,et[nt+3]=ut;return}if(st===1){et[nt+0]=dt,et[nt+1]=ht,et[nt+2]=pt,et[nt+3]=gt;return}if(ut!==gt||lt!==dt||ct!==ht||ft!==pt){let mt=1-st;const yt=lt*dt+ct*ht+ft*pt+ut*gt,bt=yt>=0?1:-1,St=1-yt*yt;if(St>Number.EPSILON){const vt=Math.sqrt(St),$t=Math.atan2(vt,yt*bt);mt=Math.sin(mt*$t)/vt,st=Math.sin(st*$t)/vt}const xt=st*bt;if(lt=lt*mt+dt*xt,ct=ct*mt+ht*xt,ft=ft*mt+pt*xt,ut=ut*mt+gt*xt,mt===1-st){const vt=1/Math.sqrt(lt*lt+ct*ct+ft*ft+ut*ut);lt*=vt,ct*=vt,ft*=vt,ut*=vt}}et[nt]=lt,et[nt+1]=ct,et[nt+2]=ft,et[nt+3]=ut}static multiplyQuaternionsFlat(et,nt,rt,it,ot,at){const st=rt[it],lt=rt[it+1],ct=rt[it+2],ft=rt[it+3],ut=ot[at],dt=ot[at+1],ht=ot[at+2],pt=ot[at+3];return et[nt]=st*pt+ft*ut+lt*ht-ct*dt,et[nt+1]=lt*pt+ft*dt+ct*ut-st*ht,et[nt+2]=ct*pt+ft*ht+st*dt-lt*ut,et[nt+3]=ft*pt-st*ut-lt*dt-ct*ht,et}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get w(){return this._w}set w(et){this._w=et,this._onChangeCallback()}set(et,nt,rt,it){return this._x=et,this._y=nt,this._z=rt,this._w=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(et){return this._x=et.x,this._y=et.y,this._z=et.z,this._w=et.w,this._onChangeCallback(),this}setFromEuler(et,nt){if(!(et&&et.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const rt=et._x,it=et._y,ot=et._z,at=et._order,st=Math.cos,lt=Math.sin,ct=st(rt/2),ft=st(it/2),ut=st(ot/2),dt=lt(rt/2),ht=lt(it/2),pt=lt(ot/2);switch(at){case"XYZ":this._x=dt*ft*ut+ct*ht*pt,this._y=ct*ht*ut-dt*ft*pt,this._z=ct*ft*pt+dt*ht*ut,this._w=ct*ft*ut-dt*ht*pt;break;case"YXZ":this._x=dt*ft*ut+ct*ht*pt,this._y=ct*ht*ut-dt*ft*pt,this._z=ct*ft*pt-dt*ht*ut,this._w=ct*ft*ut+dt*ht*pt;break;case"ZXY":this._x=dt*ft*ut-ct*ht*pt,this._y=ct*ht*ut+dt*ft*pt,this._z=ct*ft*pt+dt*ht*ut,this._w=ct*ft*ut-dt*ht*pt;break;case"ZYX":this._x=dt*ft*ut-ct*ht*pt,this._y=ct*ht*ut+dt*ft*pt,this._z=ct*ft*pt-dt*ht*ut,this._w=ct*ft*ut+dt*ht*pt;break;case"YZX":this._x=dt*ft*ut+ct*ht*pt,this._y=ct*ht*ut+dt*ft*pt,this._z=ct*ft*pt-dt*ht*ut,this._w=ct*ft*ut-dt*ht*pt;break;case"XZY":this._x=dt*ft*ut-ct*ht*pt,this._y=ct*ht*ut-dt*ft*pt,this._z=ct*ft*pt+dt*ht*ut,this._w=ct*ft*ut+dt*ht*pt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+at)}return nt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(et,nt){const rt=nt/2,it=Math.sin(rt);return this._x=et.x*it,this._y=et.y*it,this._z=et.z*it,this._w=Math.cos(rt),this._onChangeCallback(),this}setFromRotationMatrix(et){const nt=et.elements,rt=nt[0],it=nt[4],ot=nt[8],at=nt[1],st=nt[5],lt=nt[9],ct=nt[2],ft=nt[6],ut=nt[10],dt=rt+st+ut;if(dt>0){const ht=.5/Math.sqrt(dt+1);this._w=.25/ht,this._x=(ft-lt)*ht,this._y=(ot-ct)*ht,this._z=(at-it)*ht}else if(rt>st&&rt>ut){const ht=2*Math.sqrt(1+rt-st-ut);this._w=(ft-lt)/ht,this._x=.25*ht,this._y=(it+at)/ht,this._z=(ot+ct)/ht}else if(st>ut){const ht=2*Math.sqrt(1+st-rt-ut);this._w=(ot-ct)/ht,this._x=(it+at)/ht,this._y=.25*ht,this._z=(lt+ft)/ht}else{const ht=2*Math.sqrt(1+ut-rt-st);this._w=(at-it)/ht,this._x=(ot+ct)/ht,this._y=(lt+ft)/ht,this._z=.25*ht}return this._onChangeCallback(),this}setFromUnitVectors(et,nt){let rt=et.dot(nt)+1;return rt<Number.EPSILON?(rt=0,Math.abs(et.x)>Math.abs(et.z)?(this._x=-et.y,this._y=et.x,this._z=0,this._w=rt):(this._x=0,this._y=-et.z,this._z=et.y,this._w=rt)):(this._x=et.y*nt.z-et.z*nt.y,this._y=et.z*nt.x-et.x*nt.z,this._z=et.x*nt.y-et.y*nt.x,this._w=rt),this.normalize()}angleTo(et){return 2*Math.acos(Math.abs(clamp(this.dot(et),-1,1)))}rotateTowards(et,nt){const rt=this.angleTo(et);if(rt===0)return this;const it=Math.min(1,nt/rt);return this.slerp(et,it),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(et){return this._x*et._x+this._y*et._y+this._z*et._z+this._w*et._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let et=this.length();return et===0?(this._x=0,this._y=0,this._z=0,this._w=1):(et=1/et,this._x=this._x*et,this._y=this._y*et,this._z=this._z*et,this._w=this._w*et),this._onChangeCallback(),this}multiply(et,nt){return nt!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(et,nt)):this.multiplyQuaternions(this,et)}premultiply(et){return this.multiplyQuaternions(et,this)}multiplyQuaternions(et,nt){const rt=et._x,it=et._y,ot=et._z,at=et._w,st=nt._x,lt=nt._y,ct=nt._z,ft=nt._w;return this._x=rt*ft+at*st+it*ct-ot*lt,this._y=it*ft+at*lt+ot*st-rt*ct,this._z=ot*ft+at*ct+rt*lt-it*st,this._w=at*ft-rt*st-it*lt-ot*ct,this._onChangeCallback(),this}slerp(et,nt){if(nt===0)return this;if(nt===1)return this.copy(et);const rt=this._x,it=this._y,ot=this._z,at=this._w;let st=at*et._w+rt*et._x+it*et._y+ot*et._z;if(st<0?(this._w=-et._w,this._x=-et._x,this._y=-et._y,this._z=-et._z,st=-st):this.copy(et),st>=1)return this._w=at,this._x=rt,this._y=it,this._z=ot,this;const lt=1-st*st;if(lt<=Number.EPSILON){const ht=1-nt;return this._w=ht*at+nt*this._w,this._x=ht*rt+nt*this._x,this._y=ht*it+nt*this._y,this._z=ht*ot+nt*this._z,this.normalize(),this._onChangeCallback(),this}const ct=Math.sqrt(lt),ft=Math.atan2(ct,st),ut=Math.sin((1-nt)*ft)/ct,dt=Math.sin(nt*ft)/ct;return this._w=at*ut+this._w*dt,this._x=rt*ut+this._x*dt,this._y=it*ut+this._y*dt,this._z=ot*ut+this._z*dt,this._onChangeCallback(),this}slerpQuaternions(et,nt,rt){return this.copy(et).slerp(nt,rt)}random(){const et=Math.random(),nt=Math.sqrt(1-et),rt=Math.sqrt(et),it=2*Math.PI*Math.random(),ot=2*Math.PI*Math.random();return this.set(nt*Math.cos(it),rt*Math.sin(ot),rt*Math.cos(ot),nt*Math.sin(it))}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._w===this._w}fromArray(et,nt=0){return this._x=et[nt],this._y=et[nt+1],this._z=et[nt+2],this._w=et[nt+3],this._onChangeCallback(),this}toArray(et=[],nt=0){return et[nt]=this._x,et[nt+1]=this._y,et[nt+2]=this._z,et[nt+3]=this._w,et}fromBufferAttribute(et,nt){return this._x=et.getX(nt),this._y=et.getY(nt),this._z=et.getZ(nt),this._w=et.getW(nt),this}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}Quaternion.prototype.isQuaternion=!0;class Vector3{constructor(et=0,nt=0,rt=0){this.x=et,this.y=nt,this.z=rt}set(et,nt,rt){return rt===void 0&&(rt=this.z),this.x=et,this.y=nt,this.z=rt,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setComponent(et,nt){switch(et){case 0:this.x=nt;break;case 1:this.y=nt;break;case 2:this.z=nt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this}add(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(et,nt)):(this.x+=et.x,this.y+=et.y,this.z+=et.z,this)}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this}addVectors(et,nt){return this.x=et.x+nt.x,this.y=et.y+nt.y,this.z=et.z+nt.z,this}addScaledVector(et,nt){return this.x+=et.x*nt,this.y+=et.y*nt,this.z+=et.z*nt,this}sub(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(et,nt)):(this.x-=et.x,this.y-=et.y,this.z-=et.z,this)}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this}subVectors(et,nt){return this.x=et.x-nt.x,this.y=et.y-nt.y,this.z=et.z-nt.z,this}multiply(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(et,nt)):(this.x*=et.x,this.y*=et.y,this.z*=et.z,this)}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this}multiplyVectors(et,nt){return this.x=et.x*nt.x,this.y=et.y*nt.y,this.z=et.z*nt.z,this}applyEuler(et){return et&&et.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_quaternion$4.setFromEuler(et))}applyAxisAngle(et,nt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(et,nt))}applyMatrix3(et){const nt=this.x,rt=this.y,it=this.z,ot=et.elements;return this.x=ot[0]*nt+ot[3]*rt+ot[6]*it,this.y=ot[1]*nt+ot[4]*rt+ot[7]*it,this.z=ot[2]*nt+ot[5]*rt+ot[8]*it,this}applyNormalMatrix(et){return this.applyMatrix3(et).normalize()}applyMatrix4(et){const nt=this.x,rt=this.y,it=this.z,ot=et.elements,at=1/(ot[3]*nt+ot[7]*rt+ot[11]*it+ot[15]);return this.x=(ot[0]*nt+ot[4]*rt+ot[8]*it+ot[12])*at,this.y=(ot[1]*nt+ot[5]*rt+ot[9]*it+ot[13])*at,this.z=(ot[2]*nt+ot[6]*rt+ot[10]*it+ot[14])*at,this}applyQuaternion(et){const nt=this.x,rt=this.y,it=this.z,ot=et.x,at=et.y,st=et.z,lt=et.w,ct=lt*nt+at*it-st*rt,ft=lt*rt+st*nt-ot*it,ut=lt*it+ot*rt-at*nt,dt=-ot*nt-at*rt-st*it;return this.x=ct*lt+dt*-ot+ft*-st-ut*-at,this.y=ft*lt+dt*-at+ut*-ot-ct*-st,this.z=ut*lt+dt*-st+ct*-at-ft*-ot,this}project(et){return this.applyMatrix4(et.matrixWorldInverse).applyMatrix4(et.projectionMatrix)}unproject(et){return this.applyMatrix4(et.projectionMatrixInverse).applyMatrix4(et.matrixWorld)}transformDirection(et){const nt=this.x,rt=this.y,it=this.z,ot=et.elements;return this.x=ot[0]*nt+ot[4]*rt+ot[8]*it,this.y=ot[1]*nt+ot[5]*rt+ot[9]*it,this.z=ot[2]*nt+ot[6]*rt+ot[10]*it,this.normalize()}divide(et){return this.x/=et.x,this.y/=et.y,this.z/=et.z,this}divideScalar(et){return this.multiplyScalar(1/et)}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this}clamp(et,nt){return this.x=Math.max(et.x,Math.min(nt.x,this.x)),this.y=Math.max(et.y,Math.min(nt.y,this.y)),this.z=Math.max(et.z,Math.min(nt.z,this.z)),this}clampScalar(et,nt){return this.x=Math.max(et,Math.min(nt,this.x)),this.y=Math.max(et,Math.min(nt,this.y)),this.z=Math.max(et,Math.min(nt,this.z)),this}clampLength(et,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(et,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,nt){return this.x+=(et.x-this.x)*nt,this.y+=(et.y-this.y)*nt,this.z+=(et.z-this.z)*nt,this}lerpVectors(et,nt,rt){return this.x=et.x+(nt.x-et.x)*rt,this.y=et.y+(nt.y-et.y)*rt,this.z=et.z+(nt.z-et.z)*rt,this}cross(et,nt){return nt!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(et,nt)):this.crossVectors(this,et)}crossVectors(et,nt){const rt=et.x,it=et.y,ot=et.z,at=nt.x,st=nt.y,lt=nt.z;return this.x=it*lt-ot*st,this.y=ot*at-rt*lt,this.z=rt*st-it*at,this}projectOnVector(et){const nt=et.lengthSq();if(nt===0)return this.set(0,0,0);const rt=et.dot(this)/nt;return this.copy(et).multiplyScalar(rt)}projectOnPlane(et){return _vector$c.copy(this).projectOnVector(et),this.sub(_vector$c)}reflect(et){return this.sub(_vector$c.copy(et).multiplyScalar(2*this.dot(et)))}angleTo(et){const nt=Math.sqrt(this.lengthSq()*et.lengthSq());if(nt===0)return Math.PI/2;const rt=this.dot(et)/nt;return Math.acos(clamp(rt,-1,1))}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const nt=this.x-et.x,rt=this.y-et.y,it=this.z-et.z;return nt*nt+rt*rt+it*it}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)+Math.abs(this.z-et.z)}setFromSpherical(et){return this.setFromSphericalCoords(et.radius,et.phi,et.theta)}setFromSphericalCoords(et,nt,rt){const it=Math.sin(nt)*et;return this.x=it*Math.sin(rt),this.y=Math.cos(nt)*et,this.z=it*Math.cos(rt),this}setFromCylindrical(et){return this.setFromCylindricalCoords(et.radius,et.theta,et.y)}setFromCylindricalCoords(et,nt,rt){return this.x=et*Math.sin(nt),this.y=rt,this.z=et*Math.cos(nt),this}setFromMatrixPosition(et){const nt=et.elements;return this.x=nt[12],this.y=nt[13],this.z=nt[14],this}setFromMatrixScale(et){const nt=this.setFromMatrixColumn(et,0).length(),rt=this.setFromMatrixColumn(et,1).length(),it=this.setFromMatrixColumn(et,2).length();return this.x=nt,this.y=rt,this.z=it,this}setFromMatrixColumn(et,nt){return this.fromArray(et.elements,nt*4)}setFromMatrix3Column(et,nt){return this.fromArray(et.elements,nt*3)}setFromEuler(et){return this.x=et._x,this.y=et._y,this.z=et._z,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z}fromArray(et,nt=0){return this.x=et[nt],this.y=et[nt+1],this.z=et[nt+2],this}toArray(et=[],nt=0){return et[nt]=this.x,et[nt+1]=this.y,et[nt+2]=this.z,et}fromBufferAttribute(et,nt,rt){return rt!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=et.getX(nt),this.y=et.getY(nt),this.z=et.getZ(nt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const et=(Math.random()-.5)*2,nt=Math.random()*Math.PI*2,rt=Math.sqrt(1-et**2);return this.x=rt*Math.cos(nt),this.y=rt*Math.sin(nt),this.z=et,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Vector3.prototype.isVector3=!0;const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(et=new Vector3(1/0,1/0,1/0),nt=new Vector3(-1/0,-1/0,-1/0)){this.min=et,this.max=nt}set(et,nt){return this.min.copy(et),this.max.copy(nt),this}setFromArray(et){let nt=1/0,rt=1/0,it=1/0,ot=-1/0,at=-1/0,st=-1/0;for(let lt=0,ct=et.length;lt<ct;lt+=3){const ft=et[lt],ut=et[lt+1],dt=et[lt+2];ft<nt&&(nt=ft),ut<rt&&(rt=ut),dt<it&&(it=dt),ft>ot&&(ot=ft),ut>at&&(at=ut),dt>st&&(st=dt)}return this.min.set(nt,rt,it),this.max.set(ot,at,st),this}setFromBufferAttribute(et){let nt=1/0,rt=1/0,it=1/0,ot=-1/0,at=-1/0,st=-1/0;for(let lt=0,ct=et.count;lt<ct;lt++){const ft=et.getX(lt),ut=et.getY(lt),dt=et.getZ(lt);ft<nt&&(nt=ft),ut<rt&&(rt=ut),dt<it&&(it=dt),ft>ot&&(ot=ft),ut>at&&(at=ut),dt>st&&(st=dt)}return this.min.set(nt,rt,it),this.max.set(ot,at,st),this}setFromPoints(et){this.makeEmpty();for(let nt=0,rt=et.length;nt<rt;nt++)this.expandByPoint(et[nt]);return this}setFromCenterAndSize(et,nt){const rt=_vector$b.copy(nt).multiplyScalar(.5);return this.min.copy(et).sub(rt),this.max.copy(et).add(rt),this}setFromObject(et,nt=!1){return this.makeEmpty(),this.expandByObject(et,nt)}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(et){return this.isEmpty()?et.set(0,0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}expandByObject(et,nt=!1){et.updateWorldMatrix(!1,!1);const rt=et.geometry;if(rt!==void 0)if(nt&&rt.attributes!=null&&rt.attributes.position!==void 0){const ot=rt.attributes.position;for(let at=0,st=ot.count;at<st;at++)_vector$b.fromBufferAttribute(ot,at).applyMatrix4(et.matrixWorld),this.expandByPoint(_vector$b)}else rt.boundingBox===null&&rt.computeBoundingBox(),_box$3.copy(rt.boundingBox),_box$3.applyMatrix4(et.matrixWorld),this.union(_box$3);const it=et.children;for(let ot=0,at=it.length;ot<at;ot++)this.expandByObject(it[ot],nt);return this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y||et.z<this.min.z||et.z>this.max.z)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y&&this.min.z<=et.min.z&&et.max.z<=this.max.z}getParameter(et,nt){return nt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y),(et.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y||et.max.z<this.min.z||et.min.z>this.max.z)}intersectsSphere(et){return this.clampPoint(et.center,_vector$b),_vector$b.distanceToSquared(et.center)<=et.radius*et.radius}intersectsPlane(et){let nt,rt;return et.normal.x>0?(nt=et.normal.x*this.min.x,rt=et.normal.x*this.max.x):(nt=et.normal.x*this.max.x,rt=et.normal.x*this.min.x),et.normal.y>0?(nt+=et.normal.y*this.min.y,rt+=et.normal.y*this.max.y):(nt+=et.normal.y*this.max.y,rt+=et.normal.y*this.min.y),et.normal.z>0?(nt+=et.normal.z*this.min.z,rt+=et.normal.z*this.max.z):(nt+=et.normal.z*this.max.z,rt+=et.normal.z*this.min.z),nt<=-et.constant&&rt>=-et.constant}intersectsTriangle(et){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(et.a,_center),_v1$7.subVectors(et.b,_center),_v2$3.subVectors(et.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$3,_v1$7),_f2.subVectors(_v0$2,_v2$3);let nt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(nt,_v0$2,_v1$7,_v2$3,_extents)||(nt=[1,0,0,0,1,0,0,0,1],!satForAxes(nt,_v0$2,_v1$7,_v2$3,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),nt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(nt,_v0$2,_v1$7,_v2$3,_extents))}clampPoint(et,nt){return nt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return _vector$b.copy(et).clamp(this.min,this.max).sub(et).length()}getBoundingSphere(et){return this.getCenter(et.center),et.radius=this.getSize(_vector$b).length()*.5,et}intersect(et){return this.min.max(et.min),this.max.min(et.max),this.isEmpty()&&this.makeEmpty(),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}applyMatrix4(et){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(et),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(et),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(et),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(et),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(et),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(et),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(et),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(et),this.setFromPoints(_points),this)}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}Box3.prototype.isBox3=!0;const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$3=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(tt,et,nt,rt,it){for(let ot=0,at=tt.length-3;ot<=at;ot+=3){_testAxis.fromArray(tt,ot);const st=it.x*Math.abs(_testAxis.x)+it.y*Math.abs(_testAxis.y)+it.z*Math.abs(_testAxis.z),lt=et.dot(_testAxis),ct=nt.dot(_testAxis),ft=rt.dot(_testAxis);if(Math.max(-Math.max(lt,ct,ft),Math.min(lt,ct,ft))>st)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_toFarthestPoint=new Vector3,_toPoint=new Vector3;class Sphere{constructor(et=new Vector3,nt=-1){this.center=et,this.radius=nt}set(et,nt){return this.center.copy(et),this.radius=nt,this}setFromPoints(et,nt){const rt=this.center;nt!==void 0?rt.copy(nt):_box$2.setFromPoints(et).getCenter(rt);let it=0;for(let ot=0,at=et.length;ot<at;ot++)it=Math.max(it,rt.distanceToSquared(et[ot]));return this.radius=Math.sqrt(it),this}copy(et){return this.center.copy(et.center),this.radius=et.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(et){return et.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(et){return et.distanceTo(this.center)-this.radius}intersectsSphere(et){const nt=this.radius+et.radius;return et.center.distanceToSquared(this.center)<=nt*nt}intersectsBox(et){return et.intersectsSphere(this)}intersectsPlane(et){return Math.abs(et.distanceToPoint(this.center))<=this.radius}clampPoint(et,nt){const rt=this.center.distanceToSquared(et);return nt.copy(et),rt>this.radius*this.radius&&(nt.sub(this.center).normalize(),nt.multiplyScalar(this.radius).add(this.center)),nt}getBoundingBox(et){return this.isEmpty()?(et.makeEmpty(),et):(et.set(this.center,this.center),et.expandByScalar(this.radius),et)}applyMatrix4(et){return this.center.applyMatrix4(et),this.radius=this.radius*et.getMaxScaleOnAxis(),this}translate(et){return this.center.add(et),this}expandByPoint(et){_toPoint.subVectors(et,this.center);const nt=_toPoint.lengthSq();if(nt>this.radius*this.radius){const rt=Math.sqrt(nt),it=(rt-this.radius)*.5;this.center.add(_toPoint.multiplyScalar(it/rt)),this.radius+=it}return this}union(et){return this.center.equals(et.center)===!0?_toFarthestPoint.set(0,0,1).multiplyScalar(et.radius):_toFarthestPoint.subVectors(et.center,this.center).normalize().multiplyScalar(et.radius),this.expandByPoint(_v1$6.copy(et.center).add(_toFarthestPoint)),this.expandByPoint(_v1$6.copy(et.center).sub(_toFarthestPoint)),this}equals(et){return et.center.equals(this.center)&&et.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(et=new Vector3,nt=new Vector3(0,0,-1)){this.origin=et,this.direction=nt}set(et,nt){return this.origin.copy(et),this.direction.copy(nt),this}copy(et){return this.origin.copy(et.origin),this.direction.copy(et.direction),this}at(et,nt){return nt.copy(this.direction).multiplyScalar(et).add(this.origin)}lookAt(et){return this.direction.copy(et).sub(this.origin).normalize(),this}recast(et){return this.origin.copy(this.at(et,_vector$a)),this}closestPointToPoint(et,nt){nt.subVectors(et,this.origin);const rt=nt.dot(this.direction);return rt<0?nt.copy(this.origin):nt.copy(this.direction).multiplyScalar(rt).add(this.origin)}distanceToPoint(et){return Math.sqrt(this.distanceSqToPoint(et))}distanceSqToPoint(et){const nt=_vector$a.subVectors(et,this.origin).dot(this.direction);return nt<0?this.origin.distanceToSquared(et):(_vector$a.copy(this.direction).multiplyScalar(nt).add(this.origin),_vector$a.distanceToSquared(et))}distanceSqToSegment(et,nt,rt,it){_segCenter.copy(et).add(nt).multiplyScalar(.5),_segDir.copy(nt).sub(et).normalize(),_diff.copy(this.origin).sub(_segCenter);const ot=et.distanceTo(nt)*.5,at=-this.direction.dot(_segDir),st=_diff.dot(this.direction),lt=-_diff.dot(_segDir),ct=_diff.lengthSq(),ft=Math.abs(1-at*at);let ut,dt,ht,pt;if(ft>0)if(ut=at*lt-st,dt=at*st-lt,pt=ot*ft,ut>=0)if(dt>=-pt)if(dt<=pt){const gt=1/ft;ut*=gt,dt*=gt,ht=ut*(ut+at*dt+2*st)+dt*(at*ut+dt+2*lt)+ct}else dt=ot,ut=Math.max(0,-(at*dt+st)),ht=-ut*ut+dt*(dt+2*lt)+ct;else dt=-ot,ut=Math.max(0,-(at*dt+st)),ht=-ut*ut+dt*(dt+2*lt)+ct;else dt<=-pt?(ut=Math.max(0,-(-at*ot+st)),dt=ut>0?-ot:Math.min(Math.max(-ot,-lt),ot),ht=-ut*ut+dt*(dt+2*lt)+ct):dt<=pt?(ut=0,dt=Math.min(Math.max(-ot,-lt),ot),ht=dt*(dt+2*lt)+ct):(ut=Math.max(0,-(at*ot+st)),dt=ut>0?ot:Math.min(Math.max(-ot,-lt),ot),ht=-ut*ut+dt*(dt+2*lt)+ct);else dt=at>0?-ot:ot,ut=Math.max(0,-(at*dt+st)),ht=-ut*ut+dt*(dt+2*lt)+ct;return rt&&rt.copy(this.direction).multiplyScalar(ut).add(this.origin),it&&it.copy(_segDir).multiplyScalar(dt).add(_segCenter),ht}intersectSphere(et,nt){_vector$a.subVectors(et.center,this.origin);const rt=_vector$a.dot(this.direction),it=_vector$a.dot(_vector$a)-rt*rt,ot=et.radius*et.radius;if(it>ot)return null;const at=Math.sqrt(ot-it),st=rt-at,lt=rt+at;return st<0&&lt<0?null:st<0?this.at(lt,nt):this.at(st,nt)}intersectsSphere(et){return this.distanceSqToPoint(et.center)<=et.radius*et.radius}distanceToPlane(et){const nt=et.normal.dot(this.direction);if(nt===0)return et.distanceToPoint(this.origin)===0?0:null;const rt=-(this.origin.dot(et.normal)+et.constant)/nt;return rt>=0?rt:null}intersectPlane(et,nt){const rt=this.distanceToPlane(et);return rt===null?null:this.at(rt,nt)}intersectsPlane(et){const nt=et.distanceToPoint(this.origin);return nt===0||et.normal.dot(this.direction)*nt<0}intersectBox(et,nt){let rt,it,ot,at,st,lt;const ct=1/this.direction.x,ft=1/this.direction.y,ut=1/this.direction.z,dt=this.origin;return ct>=0?(rt=(et.min.x-dt.x)*ct,it=(et.max.x-dt.x)*ct):(rt=(et.max.x-dt.x)*ct,it=(et.min.x-dt.x)*ct),ft>=0?(ot=(et.min.y-dt.y)*ft,at=(et.max.y-dt.y)*ft):(ot=(et.max.y-dt.y)*ft,at=(et.min.y-dt.y)*ft),rt>at||ot>it||((ot>rt||rt!==rt)&&(rt=ot),(at<it||it!==it)&&(it=at),ut>=0?(st=(et.min.z-dt.z)*ut,lt=(et.max.z-dt.z)*ut):(st=(et.max.z-dt.z)*ut,lt=(et.min.z-dt.z)*ut),rt>lt||st>it)||((st>rt||rt!==rt)&&(rt=st),(lt<it||it!==it)&&(it=lt),it<0)?null:this.at(rt>=0?rt:it,nt)}intersectsBox(et){return this.intersectBox(et,_vector$a)!==null}intersectTriangle(et,nt,rt,it,ot){_edge1.subVectors(nt,et),_edge2.subVectors(rt,et),_normal$1.crossVectors(_edge1,_edge2);let at=this.direction.dot(_normal$1),st;if(at>0){if(it)return null;st=1}else if(at<0)st=-1,at=-at;else return null;_diff.subVectors(this.origin,et);const lt=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(lt<0)return null;const ct=st*this.direction.dot(_edge1.cross(_diff));if(ct<0||lt+ct>at)return null;const ft=-st*_diff.dot(_normal$1);return ft<0?null:this.at(ft/at,ot)}applyMatrix4(et){return this.origin.applyMatrix4(et),this.direction.transformDirection(et),this}equals(et){return et.origin.equals(this.origin)&&et.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(et,nt,rt,it,ot,at,st,lt,ct,ft,ut,dt,ht,pt,gt,mt){const yt=this.elements;return yt[0]=et,yt[4]=nt,yt[8]=rt,yt[12]=it,yt[1]=ot,yt[5]=at,yt[9]=st,yt[13]=lt,yt[2]=ct,yt[6]=ft,yt[10]=ut,yt[14]=dt,yt[3]=ht,yt[7]=pt,yt[11]=gt,yt[15]=mt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(et){const nt=this.elements,rt=et.elements;return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt[3]=rt[3],nt[4]=rt[4],nt[5]=rt[5],nt[6]=rt[6],nt[7]=rt[7],nt[8]=rt[8],nt[9]=rt[9],nt[10]=rt[10],nt[11]=rt[11],nt[12]=rt[12],nt[13]=rt[13],nt[14]=rt[14],nt[15]=rt[15],this}copyPosition(et){const nt=this.elements,rt=et.elements;return nt[12]=rt[12],nt[13]=rt[13],nt[14]=rt[14],this}setFromMatrix3(et){const nt=et.elements;return this.set(nt[0],nt[3],nt[6],0,nt[1],nt[4],nt[7],0,nt[2],nt[5],nt[8],0,0,0,0,1),this}extractBasis(et,nt,rt){return et.setFromMatrixColumn(this,0),nt.setFromMatrixColumn(this,1),rt.setFromMatrixColumn(this,2),this}makeBasis(et,nt,rt){return this.set(et.x,nt.x,rt.x,0,et.y,nt.y,rt.y,0,et.z,nt.z,rt.z,0,0,0,0,1),this}extractRotation(et){const nt=this.elements,rt=et.elements,it=1/_v1$5.setFromMatrixColumn(et,0).length(),ot=1/_v1$5.setFromMatrixColumn(et,1).length(),at=1/_v1$5.setFromMatrixColumn(et,2).length();return nt[0]=rt[0]*it,nt[1]=rt[1]*it,nt[2]=rt[2]*it,nt[3]=0,nt[4]=rt[4]*ot,nt[5]=rt[5]*ot,nt[6]=rt[6]*ot,nt[7]=0,nt[8]=rt[8]*at,nt[9]=rt[9]*at,nt[10]=rt[10]*at,nt[11]=0,nt[12]=0,nt[13]=0,nt[14]=0,nt[15]=1,this}makeRotationFromEuler(et){et&&et.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const nt=this.elements,rt=et.x,it=et.y,ot=et.z,at=Math.cos(rt),st=Math.sin(rt),lt=Math.cos(it),ct=Math.sin(it),ft=Math.cos(ot),ut=Math.sin(ot);if(et.order==="XYZ"){const dt=at*ft,ht=at*ut,pt=st*ft,gt=st*ut;nt[0]=lt*ft,nt[4]=-lt*ut,nt[8]=ct,nt[1]=ht+pt*ct,nt[5]=dt-gt*ct,nt[9]=-st*lt,nt[2]=gt-dt*ct,nt[6]=pt+ht*ct,nt[10]=at*lt}else if(et.order==="YXZ"){const dt=lt*ft,ht=lt*ut,pt=ct*ft,gt=ct*ut;nt[0]=dt+gt*st,nt[4]=pt*st-ht,nt[8]=at*ct,nt[1]=at*ut,nt[5]=at*ft,nt[9]=-st,nt[2]=ht*st-pt,nt[6]=gt+dt*st,nt[10]=at*lt}else if(et.order==="ZXY"){const dt=lt*ft,ht=lt*ut,pt=ct*ft,gt=ct*ut;nt[0]=dt-gt*st,nt[4]=-at*ut,nt[8]=pt+ht*st,nt[1]=ht+pt*st,nt[5]=at*ft,nt[9]=gt-dt*st,nt[2]=-at*ct,nt[6]=st,nt[10]=at*lt}else if(et.order==="ZYX"){const dt=at*ft,ht=at*ut,pt=st*ft,gt=st*ut;nt[0]=lt*ft,nt[4]=pt*ct-ht,nt[8]=dt*ct+gt,nt[1]=lt*ut,nt[5]=gt*ct+dt,nt[9]=ht*ct-pt,nt[2]=-ct,nt[6]=st*lt,nt[10]=at*lt}else if(et.order==="YZX"){const dt=at*lt,ht=at*ct,pt=st*lt,gt=st*ct;nt[0]=lt*ft,nt[4]=gt-dt*ut,nt[8]=pt*ut+ht,nt[1]=ut,nt[5]=at*ft,nt[9]=-st*ft,nt[2]=-ct*ft,nt[6]=ht*ut+pt,nt[10]=dt-gt*ut}else if(et.order==="XZY"){const dt=at*lt,ht=at*ct,pt=st*lt,gt=st*ct;nt[0]=lt*ft,nt[4]=-ut,nt[8]=ct*ft,nt[1]=dt*ut+gt,nt[5]=at*ft,nt[9]=ht*ut-pt,nt[2]=pt*ut-ht,nt[6]=st*ft,nt[10]=gt*ut+dt}return nt[3]=0,nt[7]=0,nt[11]=0,nt[12]=0,nt[13]=0,nt[14]=0,nt[15]=1,this}makeRotationFromQuaternion(et){return this.compose(_zero,et,_one)}lookAt(et,nt,rt){const it=this.elements;return _z.subVectors(et,nt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(rt,_z),_x.lengthSq()===0&&(Math.abs(rt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(rt,_z)),_x.normalize(),_y.crossVectors(_z,_x),it[0]=_x.x,it[4]=_y.x,it[8]=_z.x,it[1]=_x.y,it[5]=_y.y,it[9]=_z.y,it[2]=_x.z,it[6]=_y.z,it[10]=_z.z,this}multiply(et,nt){return nt!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(et,nt)):this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,nt){const rt=et.elements,it=nt.elements,ot=this.elements,at=rt[0],st=rt[4],lt=rt[8],ct=rt[12],ft=rt[1],ut=rt[5],dt=rt[9],ht=rt[13],pt=rt[2],gt=rt[6],mt=rt[10],yt=rt[14],bt=rt[3],St=rt[7],xt=rt[11],vt=rt[15],$t=it[0],zt=it[4],Nt=it[8],wt=it[12],Et=it[1],Rt=it[5],Tt=it[9],It=it[13],Pt=it[2],Dt=it[6],Ct=it[10],Ot=it[14],Ut=it[3],At=it[7],Mt=it[11],jt=it[15];return ot[0]=at*$t+st*Et+lt*Pt+ct*Ut,ot[4]=at*zt+st*Rt+lt*Dt+ct*At,ot[8]=at*Nt+st*Tt+lt*Ct+ct*Mt,ot[12]=at*wt+st*It+lt*Ot+ct*jt,ot[1]=ft*$t+ut*Et+dt*Pt+ht*Ut,ot[5]=ft*zt+ut*Rt+dt*Dt+ht*At,ot[9]=ft*Nt+ut*Tt+dt*Ct+ht*Mt,ot[13]=ft*wt+ut*It+dt*Ot+ht*jt,ot[2]=pt*$t+gt*Et+mt*Pt+yt*Ut,ot[6]=pt*zt+gt*Rt+mt*Dt+yt*At,ot[10]=pt*Nt+gt*Tt+mt*Ct+yt*Mt,ot[14]=pt*wt+gt*It+mt*Ot+yt*jt,ot[3]=bt*$t+St*Et+xt*Pt+vt*Ut,ot[7]=bt*zt+St*Rt+xt*Dt+vt*At,ot[11]=bt*Nt+St*Tt+xt*Ct+vt*Mt,ot[15]=bt*wt+St*It+xt*Ot+vt*jt,this}multiplyScalar(et){const nt=this.elements;return nt[0]*=et,nt[4]*=et,nt[8]*=et,nt[12]*=et,nt[1]*=et,nt[5]*=et,nt[9]*=et,nt[13]*=et,nt[2]*=et,nt[6]*=et,nt[10]*=et,nt[14]*=et,nt[3]*=et,nt[7]*=et,nt[11]*=et,nt[15]*=et,this}determinant(){const et=this.elements,nt=et[0],rt=et[4],it=et[8],ot=et[12],at=et[1],st=et[5],lt=et[9],ct=et[13],ft=et[2],ut=et[6],dt=et[10],ht=et[14],pt=et[3],gt=et[7],mt=et[11],yt=et[15];return pt*(+ot*lt*ut-it*ct*ut-ot*st*dt+rt*ct*dt+it*st*ht-rt*lt*ht)+gt*(+nt*lt*ht-nt*ct*dt+ot*at*dt-it*at*ht+it*ct*ft-ot*lt*ft)+mt*(+nt*ct*ut-nt*st*ht-ot*at*ut+rt*at*ht+ot*st*ft-rt*ct*ft)+yt*(-it*st*ft-nt*lt*ut+nt*st*dt+it*at*ut-rt*at*dt+rt*lt*ft)}transpose(){const et=this.elements;let nt;return nt=et[1],et[1]=et[4],et[4]=nt,nt=et[2],et[2]=et[8],et[8]=nt,nt=et[6],et[6]=et[9],et[9]=nt,nt=et[3],et[3]=et[12],et[12]=nt,nt=et[7],et[7]=et[13],et[13]=nt,nt=et[11],et[11]=et[14],et[14]=nt,this}setPosition(et,nt,rt){const it=this.elements;return et.isVector3?(it[12]=et.x,it[13]=et.y,it[14]=et.z):(it[12]=et,it[13]=nt,it[14]=rt),this}invert(){const et=this.elements,nt=et[0],rt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ft=et[8],ut=et[9],dt=et[10],ht=et[11],pt=et[12],gt=et[13],mt=et[14],yt=et[15],bt=ut*mt*ct-gt*dt*ct+gt*lt*ht-st*mt*ht-ut*lt*yt+st*dt*yt,St=pt*dt*ct-ft*mt*ct-pt*lt*ht+at*mt*ht+ft*lt*yt-at*dt*yt,xt=ft*gt*ct-pt*ut*ct+pt*st*ht-at*gt*ht-ft*st*yt+at*ut*yt,vt=pt*ut*lt-ft*gt*lt-pt*st*dt+at*gt*dt+ft*st*mt-at*ut*mt,$t=nt*bt+rt*St+it*xt+ot*vt;if($t===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const zt=1/$t;return et[0]=bt*zt,et[1]=(gt*dt*ot-ut*mt*ot-gt*it*ht+rt*mt*ht+ut*it*yt-rt*dt*yt)*zt,et[2]=(st*mt*ot-gt*lt*ot+gt*it*ct-rt*mt*ct-st*it*yt+rt*lt*yt)*zt,et[3]=(ut*lt*ot-st*dt*ot-ut*it*ct+rt*dt*ct+st*it*ht-rt*lt*ht)*zt,et[4]=St*zt,et[5]=(ft*mt*ot-pt*dt*ot+pt*it*ht-nt*mt*ht-ft*it*yt+nt*dt*yt)*zt,et[6]=(pt*lt*ot-at*mt*ot-pt*it*ct+nt*mt*ct+at*it*yt-nt*lt*yt)*zt,et[7]=(at*dt*ot-ft*lt*ot+ft*it*ct-nt*dt*ct-at*it*ht+nt*lt*ht)*zt,et[8]=xt*zt,et[9]=(pt*ut*ot-ft*gt*ot-pt*rt*ht+nt*gt*ht+ft*rt*yt-nt*ut*yt)*zt,et[10]=(at*gt*ot-pt*st*ot+pt*rt*ct-nt*gt*ct-at*rt*yt+nt*st*yt)*zt,et[11]=(ft*st*ot-at*ut*ot-ft*rt*ct+nt*ut*ct+at*rt*ht-nt*st*ht)*zt,et[12]=vt*zt,et[13]=(ft*gt*it-pt*ut*it+pt*rt*dt-nt*gt*dt-ft*rt*mt+nt*ut*mt)*zt,et[14]=(pt*st*it-at*gt*it-pt*rt*lt+nt*gt*lt+at*rt*mt-nt*st*mt)*zt,et[15]=(at*ut*it-ft*st*it+ft*rt*lt-nt*ut*lt-at*rt*dt+nt*st*dt)*zt,this}scale(et){const nt=this.elements,rt=et.x,it=et.y,ot=et.z;return nt[0]*=rt,nt[4]*=it,nt[8]*=ot,nt[1]*=rt,nt[5]*=it,nt[9]*=ot,nt[2]*=rt,nt[6]*=it,nt[10]*=ot,nt[3]*=rt,nt[7]*=it,nt[11]*=ot,this}getMaxScaleOnAxis(){const et=this.elements,nt=et[0]*et[0]+et[1]*et[1]+et[2]*et[2],rt=et[4]*et[4]+et[5]*et[5]+et[6]*et[6],it=et[8]*et[8]+et[9]*et[9]+et[10]*et[10];return Math.sqrt(Math.max(nt,rt,it))}makeTranslation(et,nt,rt){return this.set(1,0,0,et,0,1,0,nt,0,0,1,rt,0,0,0,1),this}makeRotationX(et){const nt=Math.cos(et),rt=Math.sin(et);return this.set(1,0,0,0,0,nt,-rt,0,0,rt,nt,0,0,0,0,1),this}makeRotationY(et){const nt=Math.cos(et),rt=Math.sin(et);return this.set(nt,0,rt,0,0,1,0,0,-rt,0,nt,0,0,0,0,1),this}makeRotationZ(et){const nt=Math.cos(et),rt=Math.sin(et);return this.set(nt,-rt,0,0,rt,nt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(et,nt){const rt=Math.cos(nt),it=Math.sin(nt),ot=1-rt,at=et.x,st=et.y,lt=et.z,ct=ot*at,ft=ot*st;return this.set(ct*at+rt,ct*st-it*lt,ct*lt+it*st,0,ct*st+it*lt,ft*st+rt,ft*lt-it*at,0,ct*lt-it*st,ft*lt+it*at,ot*lt*lt+rt,0,0,0,0,1),this}makeScale(et,nt,rt){return this.set(et,0,0,0,0,nt,0,0,0,0,rt,0,0,0,0,1),this}makeShear(et,nt,rt,it,ot,at){return this.set(1,rt,ot,0,et,1,at,0,nt,it,1,0,0,0,0,1),this}compose(et,nt,rt){const it=this.elements,ot=nt._x,at=nt._y,st=nt._z,lt=nt._w,ct=ot+ot,ft=at+at,ut=st+st,dt=ot*ct,ht=ot*ft,pt=ot*ut,gt=at*ft,mt=at*ut,yt=st*ut,bt=lt*ct,St=lt*ft,xt=lt*ut,vt=rt.x,$t=rt.y,zt=rt.z;return it[0]=(1-(gt+yt))*vt,it[1]=(ht+xt)*vt,it[2]=(pt-St)*vt,it[3]=0,it[4]=(ht-xt)*$t,it[5]=(1-(dt+yt))*$t,it[6]=(mt+bt)*$t,it[7]=0,it[8]=(pt+St)*zt,it[9]=(mt-bt)*zt,it[10]=(1-(dt+gt))*zt,it[11]=0,it[12]=et.x,it[13]=et.y,it[14]=et.z,it[15]=1,this}decompose(et,nt,rt){const it=this.elements;let ot=_v1$5.set(it[0],it[1],it[2]).length();const at=_v1$5.set(it[4],it[5],it[6]).length(),st=_v1$5.set(it[8],it[9],it[10]).length();this.determinant()<0&&(ot=-ot),et.x=it[12],et.y=it[13],et.z=it[14],_m1$2.copy(this);const ct=1/ot,ft=1/at,ut=1/st;return _m1$2.elements[0]*=ct,_m1$2.elements[1]*=ct,_m1$2.elements[2]*=ct,_m1$2.elements[4]*=ft,_m1$2.elements[5]*=ft,_m1$2.elements[6]*=ft,_m1$2.elements[8]*=ut,_m1$2.elements[9]*=ut,_m1$2.elements[10]*=ut,nt.setFromRotationMatrix(_m1$2),rt.x=ot,rt.y=at,rt.z=st,this}makePerspective(et,nt,rt,it,ot,at){at===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const st=this.elements,lt=2*ot/(nt-et),ct=2*ot/(rt-it),ft=(nt+et)/(nt-et),ut=(rt+it)/(rt-it),dt=-(at+ot)/(at-ot),ht=-2*at*ot/(at-ot);return st[0]=lt,st[4]=0,st[8]=ft,st[12]=0,st[1]=0,st[5]=ct,st[9]=ut,st[13]=0,st[2]=0,st[6]=0,st[10]=dt,st[14]=ht,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic(et,nt,rt,it,ot,at){const st=this.elements,lt=1/(nt-et),ct=1/(rt-it),ft=1/(at-ot),ut=(nt+et)*lt,dt=(rt+it)*ct,ht=(at+ot)*ft;return st[0]=2*lt,st[4]=0,st[8]=0,st[12]=-ut,st[1]=0,st[5]=2*ct,st[9]=0,st[13]=-dt,st[2]=0,st[6]=0,st[10]=-2*ft,st[14]=-ht,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals(et){const nt=this.elements,rt=et.elements;for(let it=0;it<16;it++)if(nt[it]!==rt[it])return!1;return!0}fromArray(et,nt=0){for(let rt=0;rt<16;rt++)this.elements[rt]=et[rt+nt];return this}toArray(et=[],nt=0){const rt=this.elements;return et[nt]=rt[0],et[nt+1]=rt[1],et[nt+2]=rt[2],et[nt+3]=rt[3],et[nt+4]=rt[4],et[nt+5]=rt[5],et[nt+6]=rt[6],et[nt+7]=rt[7],et[nt+8]=rt[8],et[nt+9]=rt[9],et[nt+10]=rt[10],et[nt+11]=rt[11],et[nt+12]=rt[12],et[nt+13]=rt[13],et[nt+14]=rt[14],et[nt+15]=rt[15],et}}Matrix4.prototype.isMatrix4=!0;const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(et=0,nt=0,rt=0,it=Euler.DefaultOrder){this._x=et,this._y=nt,this._z=rt,this._order=it}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get order(){return this._order}set order(et){this._order=et,this._onChangeCallback()}set(et,nt,rt,it=this._order){return this._x=et,this._y=nt,this._z=rt,this._order=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(et){return this._x=et._x,this._y=et._y,this._z=et._z,this._order=et._order,this._onChangeCallback(),this}setFromRotationMatrix(et,nt=this._order,rt=!0){const it=et.elements,ot=it[0],at=it[4],st=it[8],lt=it[1],ct=it[5],ft=it[9],ut=it[2],dt=it[6],ht=it[10];switch(nt){case"XYZ":this._y=Math.asin(clamp(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-ft,ht),this._z=Math.atan2(-at,ot)):(this._x=Math.atan2(dt,ct),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ft,-1,1)),Math.abs(ft)<.9999999?(this._y=Math.atan2(st,ht),this._z=Math.atan2(lt,ct)):(this._y=Math.atan2(-ut,ot),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(dt,-1,1)),Math.abs(dt)<.9999999?(this._y=Math.atan2(-ut,ht),this._z=Math.atan2(-at,ct)):(this._y=0,this._z=Math.atan2(lt,ot));break;case"ZYX":this._y=Math.asin(-clamp(ut,-1,1)),Math.abs(ut)<.9999999?(this._x=Math.atan2(dt,ht),this._z=Math.atan2(lt,ot)):(this._x=0,this._z=Math.atan2(-at,ct));break;case"YZX":this._z=Math.asin(clamp(lt,-1,1)),Math.abs(lt)<.9999999?(this._x=Math.atan2(-ft,ct),this._y=Math.atan2(-ut,ot)):(this._x=0,this._y=Math.atan2(st,ht));break;case"XZY":this._z=Math.asin(-clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(dt,ct),this._y=Math.atan2(st,ot)):(this._x=Math.atan2(-ft,ht),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+nt)}return this._order=nt,rt===!0&&this._onChangeCallback(),this}setFromQuaternion(et,nt,rt){return _matrix$1.makeRotationFromQuaternion(et),this.setFromRotationMatrix(_matrix$1,nt,rt)}setFromVector3(et,nt=this._order){return this.set(et.x,et.y,et.z,nt)}reorder(et){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,et)}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._order===this._order}fromArray(et){return this._x=et[0],this._y=et[1],this._z=et[2],et[3]!==void 0&&(this._order=et[3]),this._onChangeCallback(),this}toArray(et=[],nt=0){return et[nt]=this._x,et[nt+1]=this._y,et[nt+2]=this._z,et[nt+3]=this._order,et}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.prototype.isEuler=!0;Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1}set(et){this.mask=(1<<et|0)>>>0}enable(et){this.mask|=1<<et|0}enableAll(){this.mask=-1}toggle(et){this.mask^=1<<et|0}disable(et){this.mask&=~(1<<et|0)}disableAll(){this.mask=0}test(et){return(this.mask&et.mask)!==0}isEnabled(et){return(this.mask&(1<<et|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const et=new Vector3,nt=new Euler,rt=new Quaternion,it=new Vector3(1,1,1);function ot(){rt.setFromEuler(nt,!1)}function at(){nt.setFromQuaternion(rt,void 0,!1)}nt._onChange(ot),rt._onChange(at),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:et},rotation:{configurable:!0,enumerable:!0,value:nt},quaternion:{configurable:!0,enumerable:!0,value:rt},scale:{configurable:!0,enumerable:!0,value:it},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(et){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(et),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(et){return this.quaternion.premultiply(et),this}setRotationFromAxisAngle(et,nt){this.quaternion.setFromAxisAngle(et,nt)}setRotationFromEuler(et){this.quaternion.setFromEuler(et,!0)}setRotationFromMatrix(et){this.quaternion.setFromRotationMatrix(et)}setRotationFromQuaternion(et){this.quaternion.copy(et)}rotateOnAxis(et,nt){return _q1.setFromAxisAngle(et,nt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(et,nt){return _q1.setFromAxisAngle(et,nt),this.quaternion.premultiply(_q1),this}rotateX(et){return this.rotateOnAxis(_xAxis,et)}rotateY(et){return this.rotateOnAxis(_yAxis,et)}rotateZ(et){return this.rotateOnAxis(_zAxis,et)}translateOnAxis(et,nt){return _v1$4.copy(et).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(nt)),this}translateX(et){return this.translateOnAxis(_xAxis,et)}translateY(et){return this.translateOnAxis(_yAxis,et)}translateZ(et){return this.translateOnAxis(_zAxis,et)}localToWorld(et){return et.applyMatrix4(this.matrixWorld)}worldToLocal(et){return et.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(et,nt,rt){et.isVector3?_target.copy(et):_target.set(et,nt,rt);const it=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),it&&(_m1$1.extractRotation(it.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(et){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.add(arguments[nt]);return this}return et===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",et),this):(et&&et.isObject3D?(et.parent!==null&&et.parent.remove(et),et.parent=this,this.children.push(et),et.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",et),this)}remove(et){if(arguments.length>1){for(let rt=0;rt<arguments.length;rt++)this.remove(arguments[rt]);return this}const nt=this.children.indexOf(et);return nt!==-1&&(et.parent=null,this.children.splice(nt,1),et.dispatchEvent(_removedEvent)),this}removeFromParent(){const et=this.parent;return et!==null&&et.remove(this),this}clear(){for(let et=0;et<this.children.length;et++){const nt=this.children[et];nt.parent=null,nt.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(et){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),et.parent!==null&&(et.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(et.parent.matrixWorld)),et.applyMatrix4(_m1$1),this.add(et),et.updateWorldMatrix(!1,!0),this}getObjectById(et){return this.getObjectByProperty("id",et)}getObjectByName(et){return this.getObjectByProperty("name",et)}getObjectByProperty(et,nt){if(this[et]===nt)return this;for(let rt=0,it=this.children.length;rt<it;rt++){const at=this.children[rt].getObjectByProperty(et,nt);if(at!==void 0)return at}}getWorldPosition(et){return this.updateWorldMatrix(!0,!1),et.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,et,_scale$2),et}getWorldScale(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,et),et}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const nt=this.matrixWorld.elements;return et.set(nt[8],nt[9],nt[10]).normalize()}raycast(){}traverse(et){et(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].traverse(et)}traverseVisible(et){if(this.visible===!1)return;et(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].traverseVisible(et)}traverseAncestors(et){const nt=this.parent;nt!==null&&(et(nt),nt.traverseAncestors(et))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(et){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||et)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,et=!0);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].updateMatrixWorld(et)}updateWorldMatrix(et,nt){const rt=this.parent;if(et===!0&&rt!==null&&rt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),nt===!0){const it=this.children;for(let ot=0,at=it.length;ot<at;ot++)it[ot].updateWorldMatrix(!1,!0)}}toJSON(et){const nt=et===void 0||typeof et=="string",rt={};nt&&(et={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},rt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const it={};it.uuid=this.uuid,it.type=this.type,this.name!==""&&(it.name=this.name),this.castShadow===!0&&(it.castShadow=!0),this.receiveShadow===!0&&(it.receiveShadow=!0),this.visible===!1&&(it.visible=!1),this.frustumCulled===!1&&(it.frustumCulled=!1),this.renderOrder!==0&&(it.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(it.userData=this.userData),it.layers=this.layers.mask,it.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(it.matrixAutoUpdate=!1),this.isInstancedMesh&&(it.type="InstancedMesh",it.count=this.count,it.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(it.instanceColor=this.instanceColor.toJSON()));function ot(st,lt){return st[lt.uuid]===void 0&&(st[lt.uuid]=lt.toJSON(et)),lt.uuid}if(this.isScene)this.background&&(this.background.isColor?it.background=this.background.toJSON():this.background.isTexture&&(it.background=this.background.toJSON(et).uuid)),this.environment&&this.environment.isTexture&&(it.environment=this.environment.toJSON(et).uuid);else if(this.isMesh||this.isLine||this.isPoints){it.geometry=ot(et.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const lt=st.shapes;if(Array.isArray(lt))for(let ct=0,ft=lt.length;ct<ft;ct++){const ut=lt[ct];ot(et.shapes,ut)}else ot(et.shapes,lt)}}if(this.isSkinnedMesh&&(it.bindMode=this.bindMode,it.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(ot(et.skeletons,this.skeleton),it.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let lt=0,ct=this.material.length;lt<ct;lt++)st.push(ot(et.materials,this.material[lt]));it.material=st}else it.material=ot(et.materials,this.material);if(this.children.length>0){it.children=[];for(let st=0;st<this.children.length;st++)it.children.push(this.children[st].toJSON(et).object)}if(this.animations.length>0){it.animations=[];for(let st=0;st<this.animations.length;st++){const lt=this.animations[st];it.animations.push(ot(et.animations,lt))}}if(nt){const st=at(et.geometries),lt=at(et.materials),ct=at(et.textures),ft=at(et.images),ut=at(et.shapes),dt=at(et.skeletons),ht=at(et.animations),pt=at(et.nodes);st.length>0&&(rt.geometries=st),lt.length>0&&(rt.materials=lt),ct.length>0&&(rt.textures=ct),ft.length>0&&(rt.images=ft),ut.length>0&&(rt.shapes=ut),dt.length>0&&(rt.skeletons=dt),ht.length>0&&(rt.animations=ht),pt.length>0&&(rt.nodes=pt)}return rt.object=it,rt;function at(st){const lt=[];for(const ct in st){const ft=st[ct];delete ft.metadata,lt.push(ft)}return lt}}clone(et){return new this.constructor().copy(this,et)}copy(et,nt=!0){if(this.name=et.name,this.up.copy(et.up),this.position.copy(et.position),this.rotation.order=et.rotation.order,this.quaternion.copy(et.quaternion),this.scale.copy(et.scale),this.matrix.copy(et.matrix),this.matrixWorld.copy(et.matrixWorld),this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrixWorldNeedsUpdate=et.matrixWorldNeedsUpdate,this.layers.mask=et.layers.mask,this.visible=et.visible,this.castShadow=et.castShadow,this.receiveShadow=et.receiveShadow,this.frustumCulled=et.frustumCulled,this.renderOrder=et.renderOrder,this.userData=JSON.parse(JSON.stringify(et.userData)),nt===!0)for(let rt=0;rt<et.children.length;rt++){const it=et.children[rt];this.add(it.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype.isObject3D=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(et=new Vector3,nt=new Vector3,rt=new Vector3){this.a=et,this.b=nt,this.c=rt}static getNormal(et,nt,rt,it){it.subVectors(rt,nt),_v0$1.subVectors(et,nt),it.cross(_v0$1);const ot=it.lengthSq();return ot>0?it.multiplyScalar(1/Math.sqrt(ot)):it.set(0,0,0)}static getBarycoord(et,nt,rt,it,ot){_v0$1.subVectors(it,nt),_v1$3.subVectors(rt,nt),_v2$2.subVectors(et,nt);const at=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),lt=_v0$1.dot(_v2$2),ct=_v1$3.dot(_v1$3),ft=_v1$3.dot(_v2$2),ut=at*ct-st*st;if(ut===0)return ot.set(-2,-1,-1);const dt=1/ut,ht=(ct*lt-st*ft)*dt,pt=(at*ft-st*lt)*dt;return ot.set(1-ht-pt,pt,ht)}static containsPoint(et,nt,rt,it){return this.getBarycoord(et,nt,rt,it,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(et,nt,rt,it,ot,at,st,lt){return this.getBarycoord(et,nt,rt,it,_v3$1),lt.set(0,0),lt.addScaledVector(ot,_v3$1.x),lt.addScaledVector(at,_v3$1.y),lt.addScaledVector(st,_v3$1.z),lt}static isFrontFacing(et,nt,rt,it){return _v0$1.subVectors(rt,nt),_v1$3.subVectors(et,nt),_v0$1.cross(_v1$3).dot(it)<0}set(et,nt,rt){return this.a.copy(et),this.b.copy(nt),this.c.copy(rt),this}setFromPointsAndIndices(et,nt,rt,it){return this.a.copy(et[nt]),this.b.copy(et[rt]),this.c.copy(et[it]),this}setFromAttributeAndIndices(et,nt,rt,it){return this.a.fromBufferAttribute(et,nt),this.b.fromBufferAttribute(et,rt),this.c.fromBufferAttribute(et,it),this}clone(){return new this.constructor().copy(this)}copy(et){return this.a.copy(et.a),this.b.copy(et.b),this.c.copy(et.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(et){return et.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(et){return Triangle.getNormal(this.a,this.b,this.c,et)}getPlane(et){return et.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(et,nt){return Triangle.getBarycoord(et,this.a,this.b,this.c,nt)}getUV(et,nt,rt,it,ot){return Triangle.getUV(et,this.a,this.b,this.c,nt,rt,it,ot)}containsPoint(et){return Triangle.containsPoint(et,this.a,this.b,this.c)}isFrontFacing(et){return Triangle.isFrontFacing(this.a,this.b,this.c,et)}intersectsBox(et){return et.intersectsTriangle(this)}closestPointToPoint(et,nt){const rt=this.a,it=this.b,ot=this.c;let at,st;_vab.subVectors(it,rt),_vac.subVectors(ot,rt),_vap.subVectors(et,rt);const lt=_vab.dot(_vap),ct=_vac.dot(_vap);if(lt<=0&&ct<=0)return nt.copy(rt);_vbp.subVectors(et,it);const ft=_vab.dot(_vbp),ut=_vac.dot(_vbp);if(ft>=0&&ut<=ft)return nt.copy(it);const dt=lt*ut-ft*ct;if(dt<=0&&lt>=0&&ft<=0)return at=lt/(lt-ft),nt.copy(rt).addScaledVector(_vab,at);_vcp.subVectors(et,ot);const ht=_vab.dot(_vcp),pt=_vac.dot(_vcp);if(pt>=0&&ht<=pt)return nt.copy(ot);const gt=ht*ct-lt*pt;if(gt<=0&&ct>=0&&pt<=0)return st=ct/(ct-pt),nt.copy(rt).addScaledVector(_vac,st);const mt=ft*pt-ht*ut;if(mt<=0&&ut-ft>=0&&ht-pt>=0)return _vbc.subVectors(ot,it),st=(ut-ft)/(ut-ft+(ht-pt)),nt.copy(it).addScaledVector(_vbc,st);const yt=1/(mt+gt+dt);return at=gt*yt,st=dt*yt,nt.copy(rt).addScaledVector(_vab,at).addScaledVector(_vac,st)}equals(et){return et.a.equals(this.a)&&et.b.equals(this.b)&&et.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(et){this._alphaTest>0!=et>0&&this.version++,this._alphaTest=et}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(et){if(et!==void 0)for(const nt in et){const rt=et[nt];if(rt===void 0){console.warn("THREE.Material: '"+nt+"' parameter is undefined.");continue}if(nt==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=rt===FlatShading;continue}const it=this[nt];if(it===void 0){console.warn("THREE."+this.type+": '"+nt+"' is not a property of this material.");continue}it&&it.isColor?it.set(rt):it&&it.isVector3&&rt&&rt.isVector3?it.copy(rt):this[nt]=rt}}toJSON(et){const nt=et===void 0||typeof et=="string";nt&&(et={textures:{},images:{}});const rt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};rt.uuid=this.uuid,rt.type=this.type,this.name!==""&&(rt.name=this.name),this.color&&this.color.isColor&&(rt.color=this.color.getHex()),this.roughness!==void 0&&(rt.roughness=this.roughness),this.metalness!==void 0&&(rt.metalness=this.metalness),this.sheen!==void 0&&(rt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(rt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(rt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(rt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(rt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(rt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(rt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(rt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(rt.shininess=this.shininess),this.clearcoat!==void 0&&(rt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(rt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(rt.clearcoatMap=this.clearcoatMap.toJSON(et).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(rt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(et).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(rt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(et).uuid,rt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(rt.map=this.map.toJSON(et).uuid),this.matcap&&this.matcap.isTexture&&(rt.matcap=this.matcap.toJSON(et).uuid),this.alphaMap&&this.alphaMap.isTexture&&(rt.alphaMap=this.alphaMap.toJSON(et).uuid),this.lightMap&&this.lightMap.isTexture&&(rt.lightMap=this.lightMap.toJSON(et).uuid,rt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(rt.aoMap=this.aoMap.toJSON(et).uuid,rt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(rt.bumpMap=this.bumpMap.toJSON(et).uuid,rt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(rt.normalMap=this.normalMap.toJSON(et).uuid,rt.normalMapType=this.normalMapType,rt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(rt.displacementMap=this.displacementMap.toJSON(et).uuid,rt.displacementScale=this.displacementScale,rt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(rt.roughnessMap=this.roughnessMap.toJSON(et).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(rt.metalnessMap=this.metalnessMap.toJSON(et).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(rt.emissiveMap=this.emissiveMap.toJSON(et).uuid),this.specularMap&&this.specularMap.isTexture&&(rt.specularMap=this.specularMap.toJSON(et).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(rt.specularIntensityMap=this.specularIntensityMap.toJSON(et).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(rt.specularColorMap=this.specularColorMap.toJSON(et).uuid),this.envMap&&this.envMap.isTexture&&(rt.envMap=this.envMap.toJSON(et).uuid,this.combine!==void 0&&(rt.combine=this.combine)),this.envMapIntensity!==void 0&&(rt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(rt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(rt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(rt.gradientMap=this.gradientMap.toJSON(et).uuid),this.transmission!==void 0&&(rt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(rt.transmissionMap=this.transmissionMap.toJSON(et).uuid),this.thickness!==void 0&&(rt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(rt.thicknessMap=this.thicknessMap.toJSON(et).uuid),this.attenuationDistance!==void 0&&(rt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(rt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(rt.size=this.size),this.shadowSide!==null&&(rt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(rt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(rt.blending=this.blending),this.side!==FrontSide&&(rt.side=this.side),this.vertexColors&&(rt.vertexColors=!0),this.opacity<1&&(rt.opacity=this.opacity),this.transparent===!0&&(rt.transparent=this.transparent),rt.depthFunc=this.depthFunc,rt.depthTest=this.depthTest,rt.depthWrite=this.depthWrite,rt.colorWrite=this.colorWrite,rt.stencilWrite=this.stencilWrite,rt.stencilWriteMask=this.stencilWriteMask,rt.stencilFunc=this.stencilFunc,rt.stencilRef=this.stencilRef,rt.stencilFuncMask=this.stencilFuncMask,rt.stencilFail=this.stencilFail,rt.stencilZFail=this.stencilZFail,rt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(rt.rotation=this.rotation),this.polygonOffset===!0&&(rt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(rt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(rt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(rt.linewidth=this.linewidth),this.dashSize!==void 0&&(rt.dashSize=this.dashSize),this.gapSize!==void 0&&(rt.gapSize=this.gapSize),this.scale!==void 0&&(rt.scale=this.scale),this.dithering===!0&&(rt.dithering=!0),this.alphaTest>0&&(rt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(rt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(rt.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(rt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(rt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(rt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(rt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(rt.flatShading=this.flatShading),this.visible===!1&&(rt.visible=!1),this.toneMapped===!1&&(rt.toneMapped=!1),this.fog===!1&&(rt.fog=!1),JSON.stringify(this.userData)!=="{}"&&(rt.userData=this.userData);function it(ot){const at=[];for(const st in ot){const lt=ot[st];delete lt.metadata,at.push(lt)}return at}if(nt){const ot=it(et.textures),at=it(et.images);ot.length>0&&(rt.textures=ot),at.length>0&&(rt.images=at)}return rt}clone(){return new this.constructor().copy(this)}copy(et){this.name=et.name,this.blending=et.blending,this.side=et.side,this.vertexColors=et.vertexColors,this.opacity=et.opacity,this.transparent=et.transparent,this.blendSrc=et.blendSrc,this.blendDst=et.blendDst,this.blendEquation=et.blendEquation,this.blendSrcAlpha=et.blendSrcAlpha,this.blendDstAlpha=et.blendDstAlpha,this.blendEquationAlpha=et.blendEquationAlpha,this.depthFunc=et.depthFunc,this.depthTest=et.depthTest,this.depthWrite=et.depthWrite,this.stencilWriteMask=et.stencilWriteMask,this.stencilFunc=et.stencilFunc,this.stencilRef=et.stencilRef,this.stencilFuncMask=et.stencilFuncMask,this.stencilFail=et.stencilFail,this.stencilZFail=et.stencilZFail,this.stencilZPass=et.stencilZPass,this.stencilWrite=et.stencilWrite;const nt=et.clippingPlanes;let rt=null;if(nt!==null){const it=nt.length;rt=new Array(it);for(let ot=0;ot!==it;++ot)rt[ot]=nt[ot].clone()}return this.clippingPlanes=rt,this.clipIntersection=et.clipIntersection,this.clipShadows=et.clipShadows,this.shadowSide=et.shadowSide,this.colorWrite=et.colorWrite,this.precision=et.precision,this.polygonOffset=et.polygonOffset,this.polygonOffsetFactor=et.polygonOffsetFactor,this.polygonOffsetUnits=et.polygonOffsetUnits,this.dithering=et.dithering,this.alphaTest=et.alphaTest,this.alphaToCoverage=et.alphaToCoverage,this.premultipliedAlpha=et.premultipliedAlpha,this.visible=et.visible,this.toneMapped=et.toneMapped,this.userData=JSON.parse(JSON.stringify(et.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(et){et===!0&&this.version++}}Material.prototype.isMaterial=!0;Material.fromType=function(){return null};class MeshBasicMaterial extends Material{constructor(et){super(),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}MeshBasicMaterial.prototype.isMeshBasicMaterial=!0;const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(et,nt,rt){if(Array.isArray(et))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=et,this.itemSize=nt,this.count=et!==void 0?et.length/nt:0,this.normalized=rt===!0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.name=et.name,this.array=new et.array.constructor(et.array),this.itemSize=et.itemSize,this.count=et.count,this.normalized=et.normalized,this.usage=et.usage,this}copyAt(et,nt,rt){et*=this.itemSize,rt*=nt.itemSize;for(let it=0,ot=this.itemSize;it<ot;it++)this.array[et+it]=nt.array[rt+it];return this}copyArray(et){return this.array.set(et),this}copyColorsArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",it),at=new Color),nt[rt++]=at.r,nt[rt++]=at.g,nt[rt++]=at.b}return this}copyVector2sArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",it),at=new Vector2),nt[rt++]=at.x,nt[rt++]=at.y}return this}copyVector3sArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",it),at=new Vector3),nt[rt++]=at.x,nt[rt++]=at.y,nt[rt++]=at.z}return this}copyVector4sArray(et){const nt=this.array;let rt=0;for(let it=0,ot=et.length;it<ot;it++){let at=et[it];at===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",it),at=new Vector4),nt[rt++]=at.x,nt[rt++]=at.y,nt[rt++]=at.z,nt[rt++]=at.w}return this}applyMatrix3(et){if(this.itemSize===2)for(let nt=0,rt=this.count;nt<rt;nt++)_vector2$1.fromBufferAttribute(this,nt),_vector2$1.applyMatrix3(et),this.setXY(nt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.applyMatrix3(et),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.applyMatrix4(et),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.applyNormalMatrix(et),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.transformDirection(et),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(et,nt=0){return this.array.set(et,nt),this}getX(et){return this.array[et*this.itemSize]}setX(et,nt){return this.array[et*this.itemSize]=nt,this}getY(et){return this.array[et*this.itemSize+1]}setY(et,nt){return this.array[et*this.itemSize+1]=nt,this}getZ(et){return this.array[et*this.itemSize+2]}setZ(et,nt){return this.array[et*this.itemSize+2]=nt,this}getW(et){return this.array[et*this.itemSize+3]}setW(et,nt){return this.array[et*this.itemSize+3]=nt,this}setXY(et,nt,rt){return et*=this.itemSize,this.array[et+0]=nt,this.array[et+1]=rt,this}setXYZ(et,nt,rt,it){return et*=this.itemSize,this.array[et+0]=nt,this.array[et+1]=rt,this.array[et+2]=it,this}setXYZW(et,nt,rt,it,ot){return et*=this.itemSize,this.array[et+0]=nt,this.array[et+1]=rt,this.array[et+2]=it,this.array[et+3]=ot,this}onUpload(et){return this.onUploadCallback=et,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const et={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(et.name=this.name),this.usage!==StaticDrawUsage&&(et.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(et.updateRange=this.updateRange),et}}BufferAttribute.prototype.isBufferAttribute=!0;class Uint16BufferAttribute extends BufferAttribute{constructor(et,nt,rt){super(new Uint16Array(et),nt,rt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(et,nt,rt){super(new Uint32Array(et),nt,rt)}}class Float16BufferAttribute extends BufferAttribute{constructor(et,nt,rt){super(new Uint16Array(et),nt,rt)}}Float16BufferAttribute.prototype.isFloat16BufferAttribute=!0;class Float32BufferAttribute extends BufferAttribute{constructor(et,nt,rt){super(new Float32Array(et),nt,rt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(et){return Array.isArray(et)?this.index=new(arrayNeedsUint32(et)?Uint32BufferAttribute:Uint16BufferAttribute)(et,1):this.index=et,this}getAttribute(et){return this.attributes[et]}setAttribute(et,nt){return this.attributes[et]=nt,this}deleteAttribute(et){return delete this.attributes[et],this}hasAttribute(et){return this.attributes[et]!==void 0}addGroup(et,nt,rt=0){this.groups.push({start:et,count:nt,materialIndex:rt})}clearGroups(){this.groups=[]}setDrawRange(et,nt){this.drawRange.start=et,this.drawRange.count=nt}applyMatrix4(et){const nt=this.attributes.position;nt!==void 0&&(nt.applyMatrix4(et),nt.needsUpdate=!0);const rt=this.attributes.normal;if(rt!==void 0){const ot=new Matrix3().getNormalMatrix(et);rt.applyNormalMatrix(ot),rt.needsUpdate=!0}const it=this.attributes.tangent;return it!==void 0&&(it.transformDirection(et),it.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(et){return _m1.makeRotationFromQuaternion(et),this.applyMatrix4(_m1),this}rotateX(et){return _m1.makeRotationX(et),this.applyMatrix4(_m1),this}rotateY(et){return _m1.makeRotationY(et),this.applyMatrix4(_m1),this}rotateZ(et){return _m1.makeRotationZ(et),this.applyMatrix4(_m1),this}translate(et,nt,rt){return _m1.makeTranslation(et,nt,rt),this.applyMatrix4(_m1),this}scale(et,nt,rt){return _m1.makeScale(et,nt,rt),this.applyMatrix4(_m1),this}lookAt(et){return _obj.lookAt(et),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(et){const nt=[];for(let rt=0,it=et.length;rt<it;rt++){const ot=et[rt];nt.push(ot.x,ot.y,ot.z||0)}return this.setAttribute("position",new Float32BufferAttribute(nt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const et=this.attributes.position,nt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(et!==void 0){if(this.boundingBox.setFromBufferAttribute(et),nt)for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt];_box$1.setFromBufferAttribute(ot),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const et=this.attributes.position,nt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(et){const rt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(et),nt)for(let ot=0,at=nt.length;ot<at;ot++){const st=nt[ot];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(rt);let it=0;for(let ot=0,at=et.count;ot<at;ot++)_vector$8.fromBufferAttribute(et,ot),it=Math.max(it,rt.distanceToSquared(_vector$8));if(nt)for(let ot=0,at=nt.length;ot<at;ot++){const st=nt[ot],lt=this.morphTargetsRelative;for(let ct=0,ft=st.count;ct<ft;ct++)_vector$8.fromBufferAttribute(st,ct),lt&&(_offset.fromBufferAttribute(et,ct),_vector$8.add(_offset)),it=Math.max(it,rt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(it),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const et=this.index,nt=this.attributes;if(et===null||nt.position===void 0||nt.normal===void 0||nt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const rt=et.array,it=nt.position.array,ot=nt.normal.array,at=nt.uv.array,st=it.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const lt=this.getAttribute("tangent").array,ct=[],ft=[];for(let Et=0;Et<st;Et++)ct[Et]=new Vector3,ft[Et]=new Vector3;const ut=new Vector3,dt=new Vector3,ht=new Vector3,pt=new Vector2,gt=new Vector2,mt=new Vector2,yt=new Vector3,bt=new Vector3;function St(Et,Rt,Tt){ut.fromArray(it,Et*3),dt.fromArray(it,Rt*3),ht.fromArray(it,Tt*3),pt.fromArray(at,Et*2),gt.fromArray(at,Rt*2),mt.fromArray(at,Tt*2),dt.sub(ut),ht.sub(ut),gt.sub(pt),mt.sub(pt);const It=1/(gt.x*mt.y-mt.x*gt.y);!isFinite(It)||(yt.copy(dt).multiplyScalar(mt.y).addScaledVector(ht,-gt.y).multiplyScalar(It),bt.copy(ht).multiplyScalar(gt.x).addScaledVector(dt,-mt.x).multiplyScalar(It),ct[Et].add(yt),ct[Rt].add(yt),ct[Tt].add(yt),ft[Et].add(bt),ft[Rt].add(bt),ft[Tt].add(bt))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:rt.length}]);for(let Et=0,Rt=xt.length;Et<Rt;++Et){const Tt=xt[Et],It=Tt.start,Pt=Tt.count;for(let Dt=It,Ct=It+Pt;Dt<Ct;Dt+=3)St(rt[Dt+0],rt[Dt+1],rt[Dt+2])}const vt=new Vector3,$t=new Vector3,zt=new Vector3,Nt=new Vector3;function wt(Et){zt.fromArray(ot,Et*3),Nt.copy(zt);const Rt=ct[Et];vt.copy(Rt),vt.sub(zt.multiplyScalar(zt.dot(Rt))).normalize(),$t.crossVectors(Nt,Rt);const It=$t.dot(ft[Et])<0?-1:1;lt[Et*4]=vt.x,lt[Et*4+1]=vt.y,lt[Et*4+2]=vt.z,lt[Et*4+3]=It}for(let Et=0,Rt=xt.length;Et<Rt;++Et){const Tt=xt[Et],It=Tt.start,Pt=Tt.count;for(let Dt=It,Ct=It+Pt;Dt<Ct;Dt+=3)wt(rt[Dt+0]),wt(rt[Dt+1]),wt(rt[Dt+2])}}computeVertexNormals(){const et=this.index,nt=this.getAttribute("position");if(nt!==void 0){let rt=this.getAttribute("normal");if(rt===void 0)rt=new BufferAttribute(new Float32Array(nt.count*3),3),this.setAttribute("normal",rt);else for(let dt=0,ht=rt.count;dt<ht;dt++)rt.setXYZ(dt,0,0,0);const it=new Vector3,ot=new Vector3,at=new Vector3,st=new Vector3,lt=new Vector3,ct=new Vector3,ft=new Vector3,ut=new Vector3;if(et)for(let dt=0,ht=et.count;dt<ht;dt+=3){const pt=et.getX(dt+0),gt=et.getX(dt+1),mt=et.getX(dt+2);it.fromBufferAttribute(nt,pt),ot.fromBufferAttribute(nt,gt),at.fromBufferAttribute(nt,mt),ft.subVectors(at,ot),ut.subVectors(it,ot),ft.cross(ut),st.fromBufferAttribute(rt,pt),lt.fromBufferAttribute(rt,gt),ct.fromBufferAttribute(rt,mt),st.add(ft),lt.add(ft),ct.add(ft),rt.setXYZ(pt,st.x,st.y,st.z),rt.setXYZ(gt,lt.x,lt.y,lt.z),rt.setXYZ(mt,ct.x,ct.y,ct.z)}else for(let dt=0,ht=nt.count;dt<ht;dt+=3)it.fromBufferAttribute(nt,dt+0),ot.fromBufferAttribute(nt,dt+1),at.fromBufferAttribute(nt,dt+2),ft.subVectors(at,ot),ut.subVectors(it,ot),ft.cross(ut),rt.setXYZ(dt+0,ft.x,ft.y,ft.z),rt.setXYZ(dt+1,ft.x,ft.y,ft.z),rt.setXYZ(dt+2,ft.x,ft.y,ft.z);this.normalizeNormals(),rt.needsUpdate=!0}}merge(et,nt){if(!(et&&et.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",et);return}nt===void 0&&(nt=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const rt=this.attributes;for(const it in rt){if(et.attributes[it]===void 0)continue;const at=rt[it].array,st=et.attributes[it],lt=st.array,ct=st.itemSize*nt,ft=Math.min(lt.length,at.length-ct);for(let ut=0,dt=ct;ut<ft;ut++,dt++)at[dt]=lt[ut]}return this}normalizeNormals(){const et=this.attributes.normal;for(let nt=0,rt=et.count;nt<rt;nt++)_vector$8.fromBufferAttribute(et,nt),_vector$8.normalize(),et.setXYZ(nt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function et(st,lt){const ct=st.array,ft=st.itemSize,ut=st.normalized,dt=new ct.constructor(lt.length*ft);let ht=0,pt=0;for(let gt=0,mt=lt.length;gt<mt;gt++){st.isInterleavedBufferAttribute?ht=lt[gt]*st.data.stride+st.offset:ht=lt[gt]*ft;for(let yt=0;yt<ft;yt++)dt[pt++]=ct[ht++]}return new BufferAttribute(dt,ft,ut)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const nt=new BufferGeometry,rt=this.index.array,it=this.attributes;for(const st in it){const lt=it[st],ct=et(lt,rt);nt.setAttribute(st,ct)}const ot=this.morphAttributes;for(const st in ot){const lt=[],ct=ot[st];for(let ft=0,ut=ct.length;ft<ut;ft++){const dt=ct[ft],ht=et(dt,rt);lt.push(ht)}nt.morphAttributes[st]=lt}nt.morphTargetsRelative=this.morphTargetsRelative;const at=this.groups;for(let st=0,lt=at.length;st<lt;st++){const ct=at[st];nt.addGroup(ct.start,ct.count,ct.materialIndex)}return nt}toJSON(){const et={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(et.uuid=this.uuid,et.type=this.type,this.name!==""&&(et.name=this.name),Object.keys(this.userData).length>0&&(et.userData=this.userData),this.parameters!==void 0){const lt=this.parameters;for(const ct in lt)lt[ct]!==void 0&&(et[ct]=lt[ct]);return et}et.data={attributes:{}};const nt=this.index;nt!==null&&(et.data.index={type:nt.array.constructor.name,array:Array.prototype.slice.call(nt.array)});const rt=this.attributes;for(const lt in rt){const ct=rt[lt];et.data.attributes[lt]=ct.toJSON(et.data)}const it={};let ot=!1;for(const lt in this.morphAttributes){const ct=this.morphAttributes[lt],ft=[];for(let ut=0,dt=ct.length;ut<dt;ut++){const ht=ct[ut];ft.push(ht.toJSON(et.data))}ft.length>0&&(it[lt]=ft,ot=!0)}ot&&(et.data.morphAttributes=it,et.data.morphTargetsRelative=this.morphTargetsRelative);const at=this.groups;at.length>0&&(et.data.groups=JSON.parse(JSON.stringify(at)));const st=this.boundingSphere;return st!==null&&(et.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),et}clone(){return new this.constructor().copy(this)}copy(et){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const nt={};this.name=et.name;const rt=et.index;rt!==null&&this.setIndex(rt.clone(nt));const it=et.attributes;for(const ct in it){const ft=it[ct];this.setAttribute(ct,ft.clone(nt))}const ot=et.morphAttributes;for(const ct in ot){const ft=[],ut=ot[ct];for(let dt=0,ht=ut.length;dt<ht;dt++)ft.push(ut[dt].clone(nt));this.morphAttributes[ct]=ft}this.morphTargetsRelative=et.morphTargetsRelative;const at=et.groups;for(let ct=0,ft=at.length;ct<ft;ct++){const ut=at[ct];this.addGroup(ut.start,ut.count,ut.materialIndex)}const st=et.boundingBox;st!==null&&(this.boundingBox=st.clone());const lt=et.boundingSphere;return lt!==null&&(this.boundingSphere=lt.clone()),this.drawRange.start=et.drawRange.start,this.drawRange.count=et.drawRange.count,this.userData=et.userData,et.parameters!==void 0&&(this.parameters=Object.assign({},et.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}BufferGeometry.prototype.isBufferGeometry=!0;const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_tempB=new Vector3,_tempC=new Vector3,_morphA=new Vector3,_morphB=new Vector3,_morphC=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(et=new BufferGeometry,nt=new MeshBasicMaterial){super(),this.type="Mesh",this.geometry=et,this.material=nt,this.updateMorphTargets()}copy(et){return super.copy(et),et.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=et.morphTargetInfluences.slice()),et.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},et.morphTargetDictionary)),this.material=et.material,this.geometry=et.geometry,this}updateMorphTargets(){const et=this.geometry;if(et.isBufferGeometry){const nt=et.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}else{const nt=et.morphTargets;nt!==void 0&&nt.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(et,nt){const rt=this.geometry,it=this.material,ot=this.matrixWorld;if(it===void 0||(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$3.copy(rt.boundingSphere),_sphere$3.applyMatrix4(ot),et.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(ot).invert(),_ray$2.copy(et.ray).applyMatrix4(_inverseMatrix$2),rt.boundingBox!==null&&_ray$2.intersectsBox(rt.boundingBox)===!1))return;let at;if(rt.isBufferGeometry){const st=rt.index,lt=rt.attributes.position,ct=rt.morphAttributes.position,ft=rt.morphTargetsRelative,ut=rt.attributes.uv,dt=rt.attributes.uv2,ht=rt.groups,pt=rt.drawRange;if(st!==null)if(Array.isArray(it))for(let gt=0,mt=ht.length;gt<mt;gt++){const yt=ht[gt],bt=it[yt.materialIndex],St=Math.max(yt.start,pt.start),xt=Math.min(st.count,Math.min(yt.start+yt.count,pt.start+pt.count));for(let vt=St,$t=xt;vt<$t;vt+=3){const zt=st.getX(vt),Nt=st.getX(vt+1),wt=st.getX(vt+2);at=checkBufferGeometryIntersection(this,bt,et,_ray$2,lt,ct,ft,ut,dt,zt,Nt,wt),at&&(at.faceIndex=Math.floor(vt/3),at.face.materialIndex=yt.materialIndex,nt.push(at))}}else{const gt=Math.max(0,pt.start),mt=Math.min(st.count,pt.start+pt.count);for(let yt=gt,bt=mt;yt<bt;yt+=3){const St=st.getX(yt),xt=st.getX(yt+1),vt=st.getX(yt+2);at=checkBufferGeometryIntersection(this,it,et,_ray$2,lt,ct,ft,ut,dt,St,xt,vt),at&&(at.faceIndex=Math.floor(yt/3),nt.push(at))}}else if(lt!==void 0)if(Array.isArray(it))for(let gt=0,mt=ht.length;gt<mt;gt++){const yt=ht[gt],bt=it[yt.materialIndex],St=Math.max(yt.start,pt.start),xt=Math.min(lt.count,Math.min(yt.start+yt.count,pt.start+pt.count));for(let vt=St,$t=xt;vt<$t;vt+=3){const zt=vt,Nt=vt+1,wt=vt+2;at=checkBufferGeometryIntersection(this,bt,et,_ray$2,lt,ct,ft,ut,dt,zt,Nt,wt),at&&(at.faceIndex=Math.floor(vt/3),at.face.materialIndex=yt.materialIndex,nt.push(at))}}else{const gt=Math.max(0,pt.start),mt=Math.min(lt.count,pt.start+pt.count);for(let yt=gt,bt=mt;yt<bt;yt+=3){const St=yt,xt=yt+1,vt=yt+2;at=checkBufferGeometryIntersection(this,it,et,_ray$2,lt,ct,ft,ut,dt,St,xt,vt),at&&(at.faceIndex=Math.floor(yt/3),nt.push(at))}}}else rt.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Mesh.prototype.isMesh=!0;function checkIntersection(tt,et,nt,rt,it,ot,at,st){let lt;if(et.side===BackSide?lt=rt.intersectTriangle(at,ot,it,!0,st):lt=rt.intersectTriangle(it,ot,at,et.side!==DoubleSide,st),lt===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(tt.matrixWorld);const ct=nt.ray.origin.distanceTo(_intersectionPointWorld);return ct<nt.near||ct>nt.far?null:{distance:ct,point:_intersectionPointWorld.clone(),object:tt}}function checkBufferGeometryIntersection(tt,et,nt,rt,it,ot,at,st,lt,ct,ft,ut){_vA$1.fromBufferAttribute(it,ct),_vB$1.fromBufferAttribute(it,ft),_vC$1.fromBufferAttribute(it,ut);const dt=tt.morphTargetInfluences;if(ot&&dt){_morphA.set(0,0,0),_morphB.set(0,0,0),_morphC.set(0,0,0);for(let pt=0,gt=ot.length;pt<gt;pt++){const mt=dt[pt],yt=ot[pt];mt!==0&&(_tempA.fromBufferAttribute(yt,ct),_tempB.fromBufferAttribute(yt,ft),_tempC.fromBufferAttribute(yt,ut),at?(_morphA.addScaledVector(_tempA,mt),_morphB.addScaledVector(_tempB,mt),_morphC.addScaledVector(_tempC,mt)):(_morphA.addScaledVector(_tempA.sub(_vA$1),mt),_morphB.addScaledVector(_tempB.sub(_vB$1),mt),_morphC.addScaledVector(_tempC.sub(_vC$1),mt)))}_vA$1.add(_morphA),_vB$1.add(_morphB),_vC$1.add(_morphC)}tt.isSkinnedMesh&&(tt.boneTransform(ct,_vA$1),tt.boneTransform(ft,_vB$1),tt.boneTransform(ut,_vC$1));const ht=checkIntersection(tt,et,nt,rt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ht){st&&(_uvA$1.fromBufferAttribute(st,ct),_uvB$1.fromBufferAttribute(st,ft),_uvC$1.fromBufferAttribute(st,ut),ht.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),lt&&(_uvA$1.fromBufferAttribute(lt,ct),_uvB$1.fromBufferAttribute(lt,ft),_uvC$1.fromBufferAttribute(lt,ut),ht.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const pt={a:ct,b:ft,c:ut,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,pt.normal),ht.face=pt}return ht}class BoxGeometry extends BufferGeometry{constructor(et=1,nt=1,rt=1,it=1,ot=1,at=1){super(),this.type="BoxGeometry",this.parameters={width:et,height:nt,depth:rt,widthSegments:it,heightSegments:ot,depthSegments:at};const st=this;it=Math.floor(it),ot=Math.floor(ot),at=Math.floor(at);const lt=[],ct=[],ft=[],ut=[];let dt=0,ht=0;pt("z","y","x",-1,-1,rt,nt,et,at,ot,0),pt("z","y","x",1,-1,rt,nt,-et,at,ot,1),pt("x","z","y",1,1,et,rt,nt,it,at,2),pt("x","z","y",1,-1,et,rt,-nt,it,at,3),pt("x","y","z",1,-1,et,nt,rt,it,ot,4),pt("x","y","z",-1,-1,et,nt,-rt,it,ot,5),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function pt(gt,mt,yt,bt,St,xt,vt,$t,zt,Nt,wt){const Et=xt/zt,Rt=vt/Nt,Tt=xt/2,It=vt/2,Pt=$t/2,Dt=zt+1,Ct=Nt+1;let Ot=0,Ut=0;const At=new Vector3;for(let Mt=0;Mt<Ct;Mt++){const jt=Mt*Rt-It;for(let kt=0;kt<Dt;kt++){const Gt=kt*Et-Tt;At[gt]=Gt*bt,At[mt]=jt*St,At[yt]=Pt,ct.push(At.x,At.y,At.z),At[gt]=0,At[mt]=0,At[yt]=$t>0?1:-1,ft.push(At.x,At.y,At.z),ut.push(kt/zt),ut.push(1-Mt/Nt),Ot+=1}}for(let Mt=0;Mt<Nt;Mt++)for(let jt=0;jt<zt;jt++){const kt=dt+jt+Dt*Mt,Gt=dt+jt+Dt*(Mt+1),Ht=dt+(jt+1)+Dt*(Mt+1),Jt=dt+(jt+1)+Dt*Mt;lt.push(kt,Gt,Jt),lt.push(Gt,Ht,Jt),Ut+=6}st.addGroup(ht,Ut,wt),ht+=Ut,dt+=Ot}}static fromJSON(et){return new BoxGeometry(et.width,et.height,et.depth,et.widthSegments,et.heightSegments,et.depthSegments)}}function cloneUniforms(tt){const et={};for(const nt in tt){et[nt]={};for(const rt in tt[nt]){const it=tt[nt][rt];it&&(it.isColor||it.isMatrix3||it.isMatrix4||it.isVector2||it.isVector3||it.isVector4||it.isTexture||it.isQuaternion)?et[nt][rt]=it.clone():Array.isArray(it)?et[nt][rt]=it.slice():et[nt][rt]=it}}return et}function mergeUniforms(tt){const et={};for(let nt=0;nt<tt.length;nt++){const rt=cloneUniforms(tt[nt]);for(const it in rt)et[it]=rt[it]}return et}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(et){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,et!==void 0&&(et.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(et))}copy(et){return super.copy(et),this.fragmentShader=et.fragmentShader,this.vertexShader=et.vertexShader,this.uniforms=cloneUniforms(et.uniforms),this.defines=Object.assign({},et.defines),this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.fog=et.fog,this.lights=et.lights,this.clipping=et.clipping,this.extensions=Object.assign({},et.extensions),this.glslVersion=et.glslVersion,this}toJSON(et){const nt=super.toJSON(et);nt.glslVersion=this.glslVersion,nt.uniforms={};for(const it in this.uniforms){const at=this.uniforms[it].value;at&&at.isTexture?nt.uniforms[it]={type:"t",value:at.toJSON(et).uuid}:at&&at.isColor?nt.uniforms[it]={type:"c",value:at.getHex()}:at&&at.isVector2?nt.uniforms[it]={type:"v2",value:at.toArray()}:at&&at.isVector3?nt.uniforms[it]={type:"v3",value:at.toArray()}:at&&at.isVector4?nt.uniforms[it]={type:"v4",value:at.toArray()}:at&&at.isMatrix3?nt.uniforms[it]={type:"m3",value:at.toArray()}:at&&at.isMatrix4?nt.uniforms[it]={type:"m4",value:at.toArray()}:nt.uniforms[it]={value:at}}Object.keys(this.defines).length>0&&(nt.defines=this.defines),nt.vertexShader=this.vertexShader,nt.fragmentShader=this.fragmentShader;const rt={};for(const it in this.extensions)this.extensions[it]===!0&&(rt[it]=!0);return Object.keys(rt).length>0&&(nt.extensions=rt),nt}}ShaderMaterial.prototype.isShaderMaterial=!0;class Camera extends Object3D{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(et,nt){return super.copy(et,nt),this.matrixWorldInverse.copy(et.matrixWorldInverse),this.projectionMatrix.copy(et.projectionMatrix),this.projectionMatrixInverse.copy(et.projectionMatrixInverse),this}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const nt=this.matrixWorld.elements;return et.set(-nt[8],-nt[9],-nt[10]).normalize()}updateMatrixWorld(et){super.updateMatrixWorld(et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(et,nt){super.updateWorldMatrix(et,nt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Camera.prototype.isCamera=!0;class PerspectiveCamera extends Camera{constructor(et=50,nt=1,rt=.1,it=2e3){super(),this.type="PerspectiveCamera",this.fov=et,this.zoom=1,this.near=rt,this.far=it,this.focus=10,this.aspect=nt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(et,nt){return super.copy(et,nt),this.fov=et.fov,this.zoom=et.zoom,this.near=et.near,this.far=et.far,this.focus=et.focus,this.aspect=et.aspect,this.view=et.view===null?null:Object.assign({},et.view),this.filmGauge=et.filmGauge,this.filmOffset=et.filmOffset,this}setFocalLength(et){const nt=.5*this.getFilmHeight()/et;this.fov=RAD2DEG*2*Math.atan(nt),this.updateProjectionMatrix()}getFocalLength(){const et=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/et}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(et,nt,rt,it,ot,at){this.aspect=et/nt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=nt,this.view.offsetX=rt,this.view.offsetY=it,this.view.width=ot,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=this.near;let nt=et*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,rt=2*nt,it=this.aspect*rt,ot=-.5*it;const at=this.view;if(this.view!==null&&this.view.enabled){const lt=at.fullWidth,ct=at.fullHeight;ot+=at.offsetX*it/lt,nt-=at.offsetY*rt/ct,it*=at.width/lt,rt*=at.height/ct}const st=this.filmOffset;st!==0&&(ot+=et*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(ot,ot+it,nt,nt-rt,et,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const nt=super.toJSON(et);return nt.object.fov=this.fov,nt.object.zoom=this.zoom,nt.object.near=this.near,nt.object.far=this.far,nt.object.focus=this.focus,nt.object.aspect=this.aspect,this.view!==null&&(nt.object.view=Object.assign({},this.view)),nt.object.filmGauge=this.filmGauge,nt.object.filmOffset=this.filmOffset,nt}}PerspectiveCamera.prototype.isPerspectiveCamera=!0;const fov=90,aspect=1;class CubeCamera extends Object3D{constructor(et,nt,rt){if(super(),this.type="CubeCamera",rt.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=rt;const it=new PerspectiveCamera(fov,aspect,et,nt);it.layers=this.layers,it.up.set(0,-1,0),it.lookAt(new Vector3(1,0,0)),this.add(it);const ot=new PerspectiveCamera(fov,aspect,et,nt);ot.layers=this.layers,ot.up.set(0,-1,0),ot.lookAt(new Vector3(-1,0,0)),this.add(ot);const at=new PerspectiveCamera(fov,aspect,et,nt);at.layers=this.layers,at.up.set(0,0,1),at.lookAt(new Vector3(0,1,0)),this.add(at);const st=new PerspectiveCamera(fov,aspect,et,nt);st.layers=this.layers,st.up.set(0,0,-1),st.lookAt(new Vector3(0,-1,0)),this.add(st);const lt=new PerspectiveCamera(fov,aspect,et,nt);lt.layers=this.layers,lt.up.set(0,-1,0),lt.lookAt(new Vector3(0,0,1)),this.add(lt);const ct=new PerspectiveCamera(fov,aspect,et,nt);ct.layers=this.layers,ct.up.set(0,-1,0),ct.lookAt(new Vector3(0,0,-1)),this.add(ct)}update(et,nt){this.parent===null&&this.updateMatrixWorld();const rt=this.renderTarget,[it,ot,at,st,lt,ct]=this.children,ft=et.getRenderTarget(),ut=et.toneMapping,dt=et.xr.enabled;et.toneMapping=NoToneMapping,et.xr.enabled=!1;const ht=rt.texture.generateMipmaps;rt.texture.generateMipmaps=!1,et.setRenderTarget(rt,0),et.render(nt,it),et.setRenderTarget(rt,1),et.render(nt,ot),et.setRenderTarget(rt,2),et.render(nt,at),et.setRenderTarget(rt,3),et.render(nt,st),et.setRenderTarget(rt,4),et.render(nt,lt),rt.texture.generateMipmaps=ht,et.setRenderTarget(rt,5),et.render(nt,ct),et.setRenderTarget(ft),et.toneMapping=ut,et.xr.enabled=dt,rt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(et,nt,rt,it,ot,at,st,lt,ct,ft){et=et!==void 0?et:[],nt=nt!==void 0?nt:CubeReflectionMapping,super(et,nt,rt,it,ot,at,st,lt,ct,ft),this.flipY=!1}get images(){return this.image}set images(et){this.image=et}}CubeTexture.prototype.isCubeTexture=!0;class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(et,nt={}){super(et,et,nt);const rt={width:et,height:et,depth:1},it=[rt,rt,rt,rt,rt,rt];this.texture=new CubeTexture(it,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=nt.generateMipmaps!==void 0?nt.generateMipmaps:!1,this.texture.minFilter=nt.minFilter!==void 0?nt.minFilter:LinearFilter}fromEquirectangularTexture(et,nt){this.texture.type=nt.type,this.texture.encoding=nt.encoding,this.texture.generateMipmaps=nt.generateMipmaps,this.texture.minFilter=nt.minFilter,this.texture.magFilter=nt.magFilter;const rt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},it=new BoxGeometry(5,5,5),ot=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(rt.uniforms),vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader,side:BackSide,blending:NoBlending});ot.uniforms.tEquirect.value=nt;const at=new Mesh(it,ot),st=nt.minFilter;return nt.minFilter===LinearMipmapLinearFilter&&(nt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(et,at),nt.minFilter=st,at.geometry.dispose(),at.material.dispose(),this}clear(et,nt,rt,it){const ot=et.getRenderTarget();for(let at=0;at<6;at++)et.setRenderTarget(this,at),et.clear(nt,rt,it);et.setRenderTarget(ot)}}WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=!0;const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(et=new Vector3(1,0,0),nt=0){this.normal=et,this.constant=nt}set(et,nt){return this.normal.copy(et),this.constant=nt,this}setComponents(et,nt,rt,it){return this.normal.set(et,nt,rt),this.constant=it,this}setFromNormalAndCoplanarPoint(et,nt){return this.normal.copy(et),this.constant=-nt.dot(this.normal),this}setFromCoplanarPoints(et,nt,rt){const it=_vector1.subVectors(rt,nt).cross(_vector2.subVectors(et,nt)).normalize();return this.setFromNormalAndCoplanarPoint(it,et),this}copy(et){return this.normal.copy(et.normal),this.constant=et.constant,this}normalize(){const et=1/this.normal.length();return this.normal.multiplyScalar(et),this.constant*=et,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(et){return this.normal.dot(et)+this.constant}distanceToSphere(et){return this.distanceToPoint(et.center)-et.radius}projectPoint(et,nt){return nt.copy(this.normal).multiplyScalar(-this.distanceToPoint(et)).add(et)}intersectLine(et,nt){const rt=et.delta(_vector1),it=this.normal.dot(rt);if(it===0)return this.distanceToPoint(et.start)===0?nt.copy(et.start):null;const ot=-(et.start.dot(this.normal)+this.constant)/it;return ot<0||ot>1?null:nt.copy(rt).multiplyScalar(ot).add(et.start)}intersectsLine(et){const nt=this.distanceToPoint(et.start),rt=this.distanceToPoint(et.end);return nt<0&&rt>0||rt<0&&nt>0}intersectsBox(et){return et.intersectsPlane(this)}intersectsSphere(et){return et.intersectsPlane(this)}coplanarPoint(et){return et.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(et,nt){const rt=nt||_normalMatrix.getNormalMatrix(et),it=this.coplanarPoint(_vector1).applyMatrix4(et),ot=this.normal.applyMatrix3(rt).normalize();return this.constant=-it.dot(ot),this}translate(et){return this.constant-=et.dot(this.normal),this}equals(et){return et.normal.equals(this.normal)&&et.constant===this.constant}clone(){return new this.constructor().copy(this)}}Plane.prototype.isPlane=!0;const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(et=new Plane,nt=new Plane,rt=new Plane,it=new Plane,ot=new Plane,at=new Plane){this.planes=[et,nt,rt,it,ot,at]}set(et,nt,rt,it,ot,at){const st=this.planes;return st[0].copy(et),st[1].copy(nt),st[2].copy(rt),st[3].copy(it),st[4].copy(ot),st[5].copy(at),this}copy(et){const nt=this.planes;for(let rt=0;rt<6;rt++)nt[rt].copy(et.planes[rt]);return this}setFromProjectionMatrix(et){const nt=this.planes,rt=et.elements,it=rt[0],ot=rt[1],at=rt[2],st=rt[3],lt=rt[4],ct=rt[5],ft=rt[6],ut=rt[7],dt=rt[8],ht=rt[9],pt=rt[10],gt=rt[11],mt=rt[12],yt=rt[13],bt=rt[14],St=rt[15];return nt[0].setComponents(st-it,ut-lt,gt-dt,St-mt).normalize(),nt[1].setComponents(st+it,ut+lt,gt+dt,St+mt).normalize(),nt[2].setComponents(st+ot,ut+ct,gt+ht,St+yt).normalize(),nt[3].setComponents(st-ot,ut-ct,gt-ht,St-yt).normalize(),nt[4].setComponents(st-at,ut-ft,gt-pt,St-bt).normalize(),nt[5].setComponents(st+at,ut+ft,gt+pt,St+bt).normalize(),this}intersectsObject(et){const nt=et.geometry;return nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$2.copy(nt.boundingSphere).applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(et){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(et){const nt=this.planes,rt=et.center,it=-et.radius;for(let ot=0;ot<6;ot++)if(nt[ot].distanceToPoint(rt)<it)return!1;return!0}intersectsBox(et){const nt=this.planes;for(let rt=0;rt<6;rt++){const it=nt[rt];if(_vector$7.x=it.normal.x>0?et.max.x:et.min.x,_vector$7.y=it.normal.y>0?et.max.y:et.min.y,_vector$7.z=it.normal.z>0?et.max.z:et.min.z,it.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(et){const nt=this.planes;for(let rt=0;rt<6;rt++)if(nt[rt].distanceToPoint(et)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let tt=null,et=!1,nt=null,rt=null;function it(ot,at){nt(ot,at),rt=tt.requestAnimationFrame(it)}return{start:function(){et!==!0&&nt!==null&&(rt=tt.requestAnimationFrame(it),et=!0)},stop:function(){tt.cancelAnimationFrame(rt),et=!1},setAnimationLoop:function(ot){nt=ot},setContext:function(ot){tt=ot}}}function WebGLAttributes(tt,et){const nt=et.isWebGL2,rt=new WeakMap;function it(ct,ft){const ut=ct.array,dt=ct.usage,ht=tt.createBuffer();tt.bindBuffer(ft,ht),tt.bufferData(ft,ut,dt),ct.onUploadCallback();let pt;if(ut instanceof Float32Array)pt=5126;else if(ut instanceof Uint16Array)if(ct.isFloat16BufferAttribute)if(nt)pt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else pt=5123;else if(ut instanceof Int16Array)pt=5122;else if(ut instanceof Uint32Array)pt=5125;else if(ut instanceof Int32Array)pt=5124;else if(ut instanceof Int8Array)pt=5120;else if(ut instanceof Uint8Array)pt=5121;else if(ut instanceof Uint8ClampedArray)pt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ut);return{buffer:ht,type:pt,bytesPerElement:ut.BYTES_PER_ELEMENT,version:ct.version}}function ot(ct,ft,ut){const dt=ft.array,ht=ft.updateRange;tt.bindBuffer(ut,ct),ht.count===-1?tt.bufferSubData(ut,0,dt):(nt?tt.bufferSubData(ut,ht.offset*dt.BYTES_PER_ELEMENT,dt,ht.offset,ht.count):tt.bufferSubData(ut,ht.offset*dt.BYTES_PER_ELEMENT,dt.subarray(ht.offset,ht.offset+ht.count)),ht.count=-1)}function at(ct){return ct.isInterleavedBufferAttribute&&(ct=ct.data),rt.get(ct)}function st(ct){ct.isInterleavedBufferAttribute&&(ct=ct.data);const ft=rt.get(ct);ft&&(tt.deleteBuffer(ft.buffer),rt.delete(ct))}function lt(ct,ft){if(ct.isGLBufferAttribute){const dt=rt.get(ct);(!dt||dt.version<ct.version)&&rt.set(ct,{buffer:ct.buffer,type:ct.type,bytesPerElement:ct.elementSize,version:ct.version});return}ct.isInterleavedBufferAttribute&&(ct=ct.data);const ut=rt.get(ct);ut===void 0?rt.set(ct,it(ct,ft)):ut.version<ct.version&&(ot(ut.buffer,ct,ft),ut.version=ct.version)}return{get:at,remove:st,update:lt}}class PlaneGeometry extends BufferGeometry{constructor(et=1,nt=1,rt=1,it=1){super(),this.type="PlaneGeometry",this.parameters={width:et,height:nt,widthSegments:rt,heightSegments:it};const ot=et/2,at=nt/2,st=Math.floor(rt),lt=Math.floor(it),ct=st+1,ft=lt+1,ut=et/st,dt=nt/lt,ht=[],pt=[],gt=[],mt=[];for(let yt=0;yt<ft;yt++){const bt=yt*dt-at;for(let St=0;St<ct;St++){const xt=St*ut-ot;pt.push(xt,-bt,0),gt.push(0,0,1),mt.push(St/st),mt.push(1-yt/lt)}}for(let yt=0;yt<lt;yt++)for(let bt=0;bt<st;bt++){const St=bt+ct*yt,xt=bt+ct*(yt+1),vt=bt+1+ct*(yt+1),$t=bt+1+ct*yt;ht.push(St,xt,$t),ht.push(xt,vt,$t)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(pt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(mt,2))}static fromJSON(et){return new PlaneGeometry(et.width,et.height,et.widthSegments,et.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$g=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$g=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_vertex,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$g,background_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},cube:{uniforms:mergeUniforms([UniformsLib.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};function WebGLBackground(tt,et,nt,rt,it,ot){const at=new Color(0);let st=it===!0?0:1,lt,ct,ft=null,ut=0,dt=null;function ht(gt,mt){let yt=!1,bt=mt.isScene===!0?mt.background:null;bt&&bt.isTexture&&(bt=et.get(bt));const St=tt.xr,xt=St.getSession&&St.getSession();xt&&xt.environmentBlendMode==="additive"&&(bt=null),bt===null?pt(at,st):bt&&bt.isColor&&(pt(bt,1),yt=!0),(tt.autoClear||yt)&&tt.clear(tt.autoClearColor,tt.autoClearDepth,tt.autoClearStencil),bt&&(bt.isCubeTexture||bt.mapping===CubeUVReflectionMapping)?(ct===void 0&&(ct=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.cube.uniforms),vertexShader:ShaderLib.cube.vertexShader,fragmentShader:ShaderLib.cube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ct.geometry.deleteAttribute("normal"),ct.geometry.deleteAttribute("uv"),ct.onBeforeRender=function(vt,$t,zt){this.matrixWorld.copyPosition(zt.matrixWorld)},Object.defineProperty(ct.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),rt.update(ct)),ct.material.uniforms.envMap.value=bt,ct.material.uniforms.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1,(ft!==bt||ut!==bt.version||dt!==tt.toneMapping)&&(ct.material.needsUpdate=!0,ft=bt,ut=bt.version,dt=tt.toneMapping),ct.layers.enableAll(),gt.unshift(ct,ct.geometry,ct.material,0,0,null)):bt&&bt.isTexture&&(lt===void 0&&(lt=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),lt.geometry.deleteAttribute("normal"),Object.defineProperty(lt.material,"map",{get:function(){return this.uniforms.t2D.value}}),rt.update(lt)),lt.material.uniforms.t2D.value=bt,bt.matrixAutoUpdate===!0&&bt.updateMatrix(),lt.material.uniforms.uvTransform.value.copy(bt.matrix),(ft!==bt||ut!==bt.version||dt!==tt.toneMapping)&&(lt.material.needsUpdate=!0,ft=bt,ut=bt.version,dt=tt.toneMapping),lt.layers.enableAll(),gt.unshift(lt,lt.geometry,lt.material,0,0,null))}function pt(gt,mt){nt.buffers.color.setClear(gt.r,gt.g,gt.b,mt,ot)}return{getClearColor:function(){return at},setClearColor:function(gt,mt=1){at.set(gt),st=mt,pt(at,st)},getClearAlpha:function(){return st},setClearAlpha:function(gt){st=gt,pt(at,st)},render:ht}}function WebGLBindingStates(tt,et,nt,rt){const it=tt.getParameter(34921),ot=rt.isWebGL2?null:et.get("OES_vertex_array_object"),at=rt.isWebGL2||ot!==null,st={},lt=mt(null);let ct=lt,ft=!1;function ut(Pt,Dt,Ct,Ot,Ut){let At=!1;if(at){const Mt=gt(Ot,Ct,Dt);ct!==Mt&&(ct=Mt,ht(ct.object)),At=yt(Pt,Ot,Ct,Ut),At&&bt(Pt,Ot,Ct,Ut)}else{const Mt=Dt.wireframe===!0;(ct.geometry!==Ot.id||ct.program!==Ct.id||ct.wireframe!==Mt)&&(ct.geometry=Ot.id,ct.program=Ct.id,ct.wireframe=Mt,At=!0)}Ut!==null&&nt.update(Ut,34963),(At||ft)&&(ft=!1,Nt(Pt,Dt,Ct,Ot),Ut!==null&&tt.bindBuffer(34963,nt.get(Ut).buffer))}function dt(){return rt.isWebGL2?tt.createVertexArray():ot.createVertexArrayOES()}function ht(Pt){return rt.isWebGL2?tt.bindVertexArray(Pt):ot.bindVertexArrayOES(Pt)}function pt(Pt){return rt.isWebGL2?tt.deleteVertexArray(Pt):ot.deleteVertexArrayOES(Pt)}function gt(Pt,Dt,Ct){const Ot=Ct.wireframe===!0;let Ut=st[Pt.id];Ut===void 0&&(Ut={},st[Pt.id]=Ut);let At=Ut[Dt.id];At===void 0&&(At={},Ut[Dt.id]=At);let Mt=At[Ot];return Mt===void 0&&(Mt=mt(dt()),At[Ot]=Mt),Mt}function mt(Pt){const Dt=[],Ct=[],Ot=[];for(let Ut=0;Ut<it;Ut++)Dt[Ut]=0,Ct[Ut]=0,Ot[Ut]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Dt,enabledAttributes:Ct,attributeDivisors:Ot,object:Pt,attributes:{},index:null}}function yt(Pt,Dt,Ct,Ot){const Ut=ct.attributes,At=Dt.attributes;let Mt=0;const jt=Ct.getAttributes();for(const kt in jt)if(jt[kt].location>=0){const Ht=Ut[kt];let Jt=At[kt];if(Jt===void 0&&(kt==="instanceMatrix"&&Pt.instanceMatrix&&(Jt=Pt.instanceMatrix),kt==="instanceColor"&&Pt.instanceColor&&(Jt=Pt.instanceColor)),Ht===void 0||Ht.attribute!==Jt||Jt&&Ht.data!==Jt.data)return!0;Mt++}return ct.attributesNum!==Mt||ct.index!==Ot}function bt(Pt,Dt,Ct,Ot){const Ut={},At=Dt.attributes;let Mt=0;const jt=Ct.getAttributes();for(const kt in jt)if(jt[kt].location>=0){let Ht=At[kt];Ht===void 0&&(kt==="instanceMatrix"&&Pt.instanceMatrix&&(Ht=Pt.instanceMatrix),kt==="instanceColor"&&Pt.instanceColor&&(Ht=Pt.instanceColor));const Jt={};Jt.attribute=Ht,Ht&&Ht.data&&(Jt.data=Ht.data),Ut[kt]=Jt,Mt++}ct.attributes=Ut,ct.attributesNum=Mt,ct.index=Ot}function St(){const Pt=ct.newAttributes;for(let Dt=0,Ct=Pt.length;Dt<Ct;Dt++)Pt[Dt]=0}function xt(Pt){vt(Pt,0)}function vt(Pt,Dt){const Ct=ct.newAttributes,Ot=ct.enabledAttributes,Ut=ct.attributeDivisors;Ct[Pt]=1,Ot[Pt]===0&&(tt.enableVertexAttribArray(Pt),Ot[Pt]=1),Ut[Pt]!==Dt&&((rt.isWebGL2?tt:et.get("ANGLE_instanced_arrays"))[rt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Pt,Dt),Ut[Pt]=Dt)}function $t(){const Pt=ct.newAttributes,Dt=ct.enabledAttributes;for(let Ct=0,Ot=Dt.length;Ct<Ot;Ct++)Dt[Ct]!==Pt[Ct]&&(tt.disableVertexAttribArray(Ct),Dt[Ct]=0)}function zt(Pt,Dt,Ct,Ot,Ut,At){rt.isWebGL2===!0&&(Ct===5124||Ct===5125)?tt.vertexAttribIPointer(Pt,Dt,Ct,Ut,At):tt.vertexAttribPointer(Pt,Dt,Ct,Ot,Ut,At)}function Nt(Pt,Dt,Ct,Ot){if(rt.isWebGL2===!1&&(Pt.isInstancedMesh||Ot.isInstancedBufferGeometry)&&et.get("ANGLE_instanced_arrays")===null)return;St();const Ut=Ot.attributes,At=Ct.getAttributes(),Mt=Dt.defaultAttributeValues;for(const jt in At){const kt=At[jt];if(kt.location>=0){let Gt=Ut[jt];if(Gt===void 0&&(jt==="instanceMatrix"&&Pt.instanceMatrix&&(Gt=Pt.instanceMatrix),jt==="instanceColor"&&Pt.instanceColor&&(Gt=Pt.instanceColor)),Gt!==void 0){const Ht=Gt.normalized,Jt=Gt.itemSize,Vt=nt.get(Gt);if(Vt===void 0)continue;const Wt=Vt.buffer,Lt=Vt.type,Bt=Vt.bytesPerElement;if(Gt.isInterleavedBufferAttribute){const Ft=Gt.data,sn=Ft.stride,Xt=Gt.offset;if(Ft.isInstancedInterleavedBuffer){for(let dn=0;dn<kt.locationSize;dn++)vt(kt.location+dn,Ft.meshPerAttribute);Pt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Ft.meshPerAttribute*Ft.count)}else for(let dn=0;dn<kt.locationSize;dn++)xt(kt.location+dn);tt.bindBuffer(34962,Wt);for(let dn=0;dn<kt.locationSize;dn++)zt(kt.location+dn,Jt/kt.locationSize,Lt,Ht,sn*Bt,(Xt+Jt/kt.locationSize*dn)*Bt)}else{if(Gt.isInstancedBufferAttribute){for(let Ft=0;Ft<kt.locationSize;Ft++)vt(kt.location+Ft,Gt.meshPerAttribute);Pt.isInstancedMesh!==!0&&Ot._maxInstanceCount===void 0&&(Ot._maxInstanceCount=Gt.meshPerAttribute*Gt.count)}else for(let Ft=0;Ft<kt.locationSize;Ft++)xt(kt.location+Ft);tt.bindBuffer(34962,Wt);for(let Ft=0;Ft<kt.locationSize;Ft++)zt(kt.location+Ft,Jt/kt.locationSize,Lt,Ht,Jt*Bt,Jt/kt.locationSize*Ft*Bt)}}else if(Mt!==void 0){const Ht=Mt[jt];if(Ht!==void 0)switch(Ht.length){case 2:tt.vertexAttrib2fv(kt.location,Ht);break;case 3:tt.vertexAttrib3fv(kt.location,Ht);break;case 4:tt.vertexAttrib4fv(kt.location,Ht);break;default:tt.vertexAttrib1fv(kt.location,Ht)}}}}$t()}function wt(){Tt();for(const Pt in st){const Dt=st[Pt];for(const Ct in Dt){const Ot=Dt[Ct];for(const Ut in Ot)pt(Ot[Ut].object),delete Ot[Ut];delete Dt[Ct]}delete st[Pt]}}function Et(Pt){if(st[Pt.id]===void 0)return;const Dt=st[Pt.id];for(const Ct in Dt){const Ot=Dt[Ct];for(const Ut in Ot)pt(Ot[Ut].object),delete Ot[Ut];delete Dt[Ct]}delete st[Pt.id]}function Rt(Pt){for(const Dt in st){const Ct=st[Dt];if(Ct[Pt.id]===void 0)continue;const Ot=Ct[Pt.id];for(const Ut in Ot)pt(Ot[Ut].object),delete Ot[Ut];delete Ct[Pt.id]}}function Tt(){It(),ft=!0,ct!==lt&&(ct=lt,ht(ct.object))}function It(){lt.geometry=null,lt.program=null,lt.wireframe=!1}return{setup:ut,reset:Tt,resetDefaultState:It,dispose:wt,releaseStatesOfGeometry:Et,releaseStatesOfProgram:Rt,initAttributes:St,enableAttribute:xt,disableUnusedAttributes:$t}}function WebGLBufferRenderer(tt,et,nt,rt){const it=rt.isWebGL2;let ot;function at(ct){ot=ct}function st(ct,ft){tt.drawArrays(ot,ct,ft),nt.update(ft,ot,1)}function lt(ct,ft,ut){if(ut===0)return;let dt,ht;if(it)dt=tt,ht="drawArraysInstanced";else if(dt=et.get("ANGLE_instanced_arrays"),ht="drawArraysInstancedANGLE",dt===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}dt[ht](ot,ct,ft,ut),nt.update(ft,ot,ut)}this.setMode=at,this.render=st,this.renderInstances=lt}function WebGLCapabilities(tt,et,nt){let rt;function it(){if(rt!==void 0)return rt;if(et.has("EXT_texture_filter_anisotropic")===!0){const zt=et.get("EXT_texture_filter_anisotropic");rt=tt.getParameter(zt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else rt=0;return rt}function ot(zt){if(zt==="highp"){if(tt.getShaderPrecisionFormat(35633,36338).precision>0&&tt.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";zt="mediump"}return zt==="mediump"&&tt.getShaderPrecisionFormat(35633,36337).precision>0&&tt.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const at=typeof WebGL2RenderingContext!="undefined"&&tt instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&tt instanceof WebGL2ComputeRenderingContext;let st=nt.precision!==void 0?nt.precision:"highp";const lt=ot(st);lt!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",lt,"instead."),st=lt);const ct=at||et.has("WEBGL_draw_buffers"),ft=nt.logarithmicDepthBuffer===!0,ut=tt.getParameter(34930),dt=tt.getParameter(35660),ht=tt.getParameter(3379),pt=tt.getParameter(34076),gt=tt.getParameter(34921),mt=tt.getParameter(36347),yt=tt.getParameter(36348),bt=tt.getParameter(36349),St=dt>0,xt=at||et.has("OES_texture_float"),vt=St&&xt,$t=at?tt.getParameter(36183):0;return{isWebGL2:at,drawBuffers:ct,getMaxAnisotropy:it,getMaxPrecision:ot,precision:st,logarithmicDepthBuffer:ft,maxTextures:ut,maxVertexTextures:dt,maxTextureSize:ht,maxCubemapSize:pt,maxAttributes:gt,maxVertexUniforms:mt,maxVaryings:yt,maxFragmentUniforms:bt,vertexTextures:St,floatFragmentTextures:xt,floatVertexTextures:vt,maxSamples:$t}}function WebGLClipping(tt){const et=this;let nt=null,rt=0,it=!1,ot=!1;const at=new Plane,st=new Matrix3,lt={value:null,needsUpdate:!1};this.uniform=lt,this.numPlanes=0,this.numIntersection=0,this.init=function(ut,dt,ht){const pt=ut.length!==0||dt||rt!==0||it;return it=dt,nt=ft(ut,ht,0),rt=ut.length,pt},this.beginShadows=function(){ot=!0,ft(null)},this.endShadows=function(){ot=!1,ct()},this.setState=function(ut,dt,ht){const pt=ut.clippingPlanes,gt=ut.clipIntersection,mt=ut.clipShadows,yt=tt.get(ut);if(!it||pt===null||pt.length===0||ot&&!mt)ot?ft(null):ct();else{const bt=ot?0:rt,St=bt*4;let xt=yt.clippingState||null;lt.value=xt,xt=ft(pt,dt,St,ht);for(let vt=0;vt!==St;++vt)xt[vt]=nt[vt];yt.clippingState=xt,this.numIntersection=gt?this.numPlanes:0,this.numPlanes+=bt}};function ct(){lt.value!==nt&&(lt.value=nt,lt.needsUpdate=rt>0),et.numPlanes=rt,et.numIntersection=0}function ft(ut,dt,ht,pt){const gt=ut!==null?ut.length:0;let mt=null;if(gt!==0){if(mt=lt.value,pt!==!0||mt===null){const yt=ht+gt*4,bt=dt.matrixWorldInverse;st.getNormalMatrix(bt),(mt===null||mt.length<yt)&&(mt=new Float32Array(yt));for(let St=0,xt=ht;St!==gt;++St,xt+=4)at.copy(ut[St]).applyMatrix4(bt,st),at.normal.toArray(mt,xt),mt[xt+3]=at.constant}lt.value=mt,lt.needsUpdate=!0}return et.numPlanes=gt,et.numIntersection=0,mt}}function WebGLCubeMaps(tt){let et=new WeakMap;function nt(at,st){return st===EquirectangularReflectionMapping?at.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(at.mapping=CubeRefractionMapping),at}function rt(at){if(at&&at.isTexture&&at.isRenderTargetTexture===!1){const st=at.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if(et.has(at)){const lt=et.get(at).texture;return nt(lt,at.mapping)}else{const lt=at.image;if(lt&&lt.height>0){const ct=new WebGLCubeRenderTarget(lt.height/2);return ct.fromEquirectangularTexture(tt,at),et.set(at,ct),at.addEventListener("dispose",it),nt(ct.texture,at.mapping)}else return null}}return at}function it(at){const st=at.target;st.removeEventListener("dispose",it);const lt=et.get(st);lt!==void 0&&(et.delete(st),lt.dispose())}function ot(){et=new WeakMap}return{get:rt,dispose:ot}}class OrthographicCamera extends Camera{constructor(et=-1,nt=1,rt=1,it=-1,ot=.1,at=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=et,this.right=nt,this.top=rt,this.bottom=it,this.near=ot,this.far=at,this.updateProjectionMatrix()}copy(et,nt){return super.copy(et,nt),this.left=et.left,this.right=et.right,this.top=et.top,this.bottom=et.bottom,this.near=et.near,this.far=et.far,this.zoom=et.zoom,this.view=et.view===null?null:Object.assign({},et.view),this}setViewOffset(et,nt,rt,it,ot,at){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=nt,this.view.offsetX=rt,this.view.offsetY=it,this.view.width=ot,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=(this.right-this.left)/(2*this.zoom),nt=(this.top-this.bottom)/(2*this.zoom),rt=(this.right+this.left)/2,it=(this.top+this.bottom)/2;let ot=rt-et,at=rt+et,st=it+nt,lt=it-nt;if(this.view!==null&&this.view.enabled){const ct=(this.right-this.left)/this.view.fullWidth/this.zoom,ft=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ot+=ct*this.view.offsetX,at=ot+ct*this.view.width,st-=ft*this.view.offsetY,lt=st-ft*this.view.height}this.projectionMatrix.makeOrthographic(ot,at,st,lt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const nt=super.toJSON(et);return nt.object.zoom=this.zoom,nt.object.left=this.left,nt.object.right=this.right,nt.object.top=this.top,nt.object.bottom=this.bottom,nt.object.near=this.near,nt.object.far=this.far,this.view!==null&&(nt.object.view=Object.assign({},this.view)),nt}}OrthographicCamera.prototype.isOrthographicCamera=!0;const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(et){this._renderer=et,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(et,nt=0,rt=.1,it=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const ot=this._allocateTargets();return ot.depthBuffer=!0,this._sceneToCubeUV(et,rt,it,ot),nt>0&&this._blur(ot,0,0,nt),this._applyPMREM(ot),this._cleanup(ot),ot}fromEquirectangular(et,nt=null){return this._fromTexture(et,nt)}fromCubemap(et,nt=null){return this._fromTexture(et,nt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(et){this._lodMax=Math.floor(Math.log2(et)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let et=0;et<this._lodPlanes.length;et++)this._lodPlanes[et].dispose()}_cleanup(et){this._renderer.setRenderTarget(_oldTarget),et.scissorTest=!1,_setViewport(et,0,0,et.width,et.height)}_fromTexture(et,nt){et.mapping===CubeReflectionMapping||et.mapping===CubeRefractionMapping?this._setSize(et.image.length===0?16:et.image[0].width||et.image[0].image.width):this._setSize(et.image.width/4),_oldTarget=this._renderer.getRenderTarget();const rt=nt||this._allocateTargets();return this._textureToCubeUV(et,rt),this._applyPMREM(rt),this._cleanup(rt),rt}_allocateTargets(){const et=3*Math.max(this._cubeSize,112),nt=4*this._cubeSize,rt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},it=_createRenderTarget(et,nt,rt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==et){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(et,nt,rt);const{_lodMax:ot}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(ot)),this._blurMaterial=_getBlurShader(ot,et,nt)}return it}_compileMaterial(et){const nt=new Mesh(this._lodPlanes[0],et);this._renderer.compile(nt,_flatCamera)}_sceneToCubeUV(et,nt,rt,it){const st=new PerspectiveCamera(90,1,nt,rt),lt=[1,-1,1,1,1,1],ct=[1,1,1,-1,-1,-1],ft=this._renderer,ut=ft.autoClear,dt=ft.toneMapping;ft.getClearColor(_clearColor),ft.toneMapping=NoToneMapping,ft.autoClear=!1;const ht=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),pt=new Mesh(new BoxGeometry,ht);let gt=!1;const mt=et.background;mt?mt.isColor&&(ht.color.copy(mt),et.background=null,gt=!0):(ht.color.copy(_clearColor),gt=!0);for(let yt=0;yt<6;yt++){const bt=yt%3;bt===0?(st.up.set(0,lt[yt],0),st.lookAt(ct[yt],0,0)):bt===1?(st.up.set(0,0,lt[yt]),st.lookAt(0,ct[yt],0)):(st.up.set(0,lt[yt],0),st.lookAt(0,0,ct[yt]));const St=this._cubeSize;_setViewport(it,bt*St,yt>2?St:0,St,St),ft.setRenderTarget(it),gt&&ft.render(pt,st),ft.render(et,st)}pt.geometry.dispose(),pt.material.dispose(),ft.toneMapping=dt,ft.autoClear=ut,et.background=mt}_textureToCubeUV(et,nt){const rt=this._renderer,it=et.mapping===CubeReflectionMapping||et.mapping===CubeRefractionMapping;it?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=et.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const ot=it?this._cubemapMaterial:this._equirectMaterial,at=new Mesh(this._lodPlanes[0],ot),st=ot.uniforms;st.envMap.value=et;const lt=this._cubeSize;_setViewport(nt,0,0,3*lt,2*lt),rt.setRenderTarget(nt),rt.render(at,_flatCamera)}_applyPMREM(et){const nt=this._renderer,rt=nt.autoClear;nt.autoClear=!1;for(let it=1;it<this._lodPlanes.length;it++){const ot=Math.sqrt(this._sigmas[it]*this._sigmas[it]-this._sigmas[it-1]*this._sigmas[it-1]),at=_axisDirections[(it-1)%_axisDirections.length];this._blur(et,it-1,it,ot,at)}nt.autoClear=rt}_blur(et,nt,rt,it,ot){const at=this._pingPongRenderTarget;this._halfBlur(et,at,nt,rt,it,"latitudinal",ot),this._halfBlur(at,et,rt,rt,it,"longitudinal",ot)}_halfBlur(et,nt,rt,it,ot,at,st){const lt=this._renderer,ct=this._blurMaterial;at!=="latitudinal"&&at!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ft=3,ut=new Mesh(this._lodPlanes[it],ct),dt=ct.uniforms,ht=this._sizeLods[rt]-1,pt=isFinite(ot)?Math.PI/(2*ht):2*Math.PI/(2*MAX_SAMPLES-1),gt=ot/pt,mt=isFinite(ot)?1+Math.floor(ft*gt):MAX_SAMPLES;mt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${ot}, is too large and will clip, as it requested ${mt} samples when the maximum is set to ${MAX_SAMPLES}`);const yt=[];let bt=0;for(let zt=0;zt<MAX_SAMPLES;++zt){const Nt=zt/gt,wt=Math.exp(-Nt*Nt/2);yt.push(wt),zt===0?bt+=wt:zt<mt&&(bt+=2*wt)}for(let zt=0;zt<yt.length;zt++)yt[zt]=yt[zt]/bt;dt.envMap.value=et.texture,dt.samples.value=mt,dt.weights.value=yt,dt.latitudinal.value=at==="latitudinal",st&&(dt.poleAxis.value=st);const{_lodMax:St}=this;dt.dTheta.value=pt,dt.mipInt.value=St-rt;const xt=this._sizeLods[it],vt=3*xt*(it>St-LOD_MIN?it-St+LOD_MIN:0),$t=4*(this._cubeSize-xt);_setViewport(nt,vt,$t,3*xt,2*xt),lt.setRenderTarget(nt),lt.render(ut,_flatCamera)}}function _createPlanes(tt){const et=[],nt=[],rt=[];let it=tt;const ot=tt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let at=0;at<ot;at++){const st=Math.pow(2,it);nt.push(st);let lt=1/st;at>tt-LOD_MIN?lt=EXTRA_LOD_SIGMA[at-tt+LOD_MIN-1]:at===0&&(lt=0),rt.push(lt);const ct=1/(st-2),ft=-ct,ut=1+ct,dt=[ft,ft,ut,ft,ut,ut,ft,ft,ut,ut,ft,ut],ht=6,pt=6,gt=3,mt=2,yt=1,bt=new Float32Array(gt*pt*ht),St=new Float32Array(mt*pt*ht),xt=new Float32Array(yt*pt*ht);for(let $t=0;$t<ht;$t++){const zt=$t%3*2/3-1,Nt=$t>2?0:-1,wt=[zt,Nt,0,zt+2/3,Nt,0,zt+2/3,Nt+1,0,zt,Nt,0,zt+2/3,Nt+1,0,zt,Nt+1,0];bt.set(wt,gt*pt*$t),St.set(dt,mt*pt*$t);const Et=[$t,$t,$t,$t,$t,$t];xt.set(Et,yt*pt*$t)}const vt=new BufferGeometry;vt.setAttribute("position",new BufferAttribute(bt,gt)),vt.setAttribute("uv",new BufferAttribute(St,mt)),vt.setAttribute("faceIndex",new BufferAttribute(xt,yt)),et.push(vt),it>LOD_MIN&&it--}return{lodPlanes:et,sizeLods:nt,sigmas:rt}}function _createRenderTarget(tt,et,nt){const rt=new WebGLRenderTarget(tt,et,nt);return rt.texture.mapping=CubeUVReflectionMapping,rt.texture.name="PMREM.cubeUv",rt.scissorTest=!0,rt}function _setViewport(tt,et,nt,rt,it){tt.viewport.set(et,nt,rt,it),tt.scissor.set(et,nt,rt,it)}function _getBlurShader(tt,et,nt){const rt=new Float32Array(MAX_SAMPLES),it=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/et,CUBEUV_TEXEL_HEIGHT:1/nt,CUBEUV_MAX_MIP:`${tt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:rt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:it}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(tt){let et=new WeakMap,nt=null;function rt(st){if(st&&st.isTexture){const lt=st.mapping,ct=lt===EquirectangularReflectionMapping||lt===EquirectangularRefractionMapping,ft=lt===CubeReflectionMapping||lt===CubeRefractionMapping;if(ct||ft)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let ut=et.get(st);return nt===null&&(nt=new PMREMGenerator(tt)),ut=ct?nt.fromEquirectangular(st,ut):nt.fromCubemap(st,ut),et.set(st,ut),ut.texture}else{if(et.has(st))return et.get(st).texture;{const ut=st.image;if(ct&&ut&&ut.height>0||ft&&ut&&it(ut)){nt===null&&(nt=new PMREMGenerator(tt));const dt=ct?nt.fromEquirectangular(st):nt.fromCubemap(st);return et.set(st,dt),st.addEventListener("dispose",ot),dt.texture}else return null}}}return st}function it(st){let lt=0;const ct=6;for(let ft=0;ft<ct;ft++)st[ft]!==void 0&&lt++;return lt===ct}function ot(st){const lt=st.target;lt.removeEventListener("dispose",ot);const ct=et.get(lt);ct!==void 0&&(et.delete(lt),ct.dispose())}function at(){et=new WeakMap,nt!==null&&(nt.dispose(),nt=null)}return{get:rt,dispose:at}}function WebGLExtensions(tt){const et={};function nt(rt){if(et[rt]!==void 0)return et[rt];let it;switch(rt){case"WEBGL_depth_texture":it=tt.getExtension("WEBGL_depth_texture")||tt.getExtension("MOZ_WEBGL_depth_texture")||tt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":it=tt.getExtension("EXT_texture_filter_anisotropic")||tt.getExtension("MOZ_EXT_texture_filter_anisotropic")||tt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":it=tt.getExtension("WEBGL_compressed_texture_s3tc")||tt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":it=tt.getExtension("WEBGL_compressed_texture_pvrtc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:it=tt.getExtension(rt)}return et[rt]=it,it}return{has:function(rt){return nt(rt)!==null},init:function(rt){rt.isWebGL2?nt("EXT_color_buffer_float"):(nt("WEBGL_depth_texture"),nt("OES_texture_float"),nt("OES_texture_half_float"),nt("OES_texture_half_float_linear"),nt("OES_standard_derivatives"),nt("OES_element_index_uint"),nt("OES_vertex_array_object"),nt("ANGLE_instanced_arrays")),nt("OES_texture_float_linear"),nt("EXT_color_buffer_half_float"),nt("WEBGL_multisampled_render_to_texture")},get:function(rt){const it=nt(rt);return it===null&&console.warn("THREE.WebGLRenderer: "+rt+" extension not supported."),it}}}function WebGLGeometries(tt,et,nt,rt){const it={},ot=new WeakMap;function at(ut){const dt=ut.target;dt.index!==null&&et.remove(dt.index);for(const pt in dt.attributes)et.remove(dt.attributes[pt]);dt.removeEventListener("dispose",at),delete it[dt.id];const ht=ot.get(dt);ht&&(et.remove(ht),ot.delete(dt)),rt.releaseStatesOfGeometry(dt),dt.isInstancedBufferGeometry===!0&&delete dt._maxInstanceCount,nt.memory.geometries--}function st(ut,dt){return it[dt.id]===!0||(dt.addEventListener("dispose",at),it[dt.id]=!0,nt.memory.geometries++),dt}function lt(ut){const dt=ut.attributes;for(const pt in dt)et.update(dt[pt],34962);const ht=ut.morphAttributes;for(const pt in ht){const gt=ht[pt];for(let mt=0,yt=gt.length;mt<yt;mt++)et.update(gt[mt],34962)}}function ct(ut){const dt=[],ht=ut.index,pt=ut.attributes.position;let gt=0;if(ht!==null){const bt=ht.array;gt=ht.version;for(let St=0,xt=bt.length;St<xt;St+=3){const vt=bt[St+0],$t=bt[St+1],zt=bt[St+2];dt.push(vt,$t,$t,zt,zt,vt)}}else{const bt=pt.array;gt=pt.version;for(let St=0,xt=bt.length/3-1;St<xt;St+=3){const vt=St+0,$t=St+1,zt=St+2;dt.push(vt,$t,$t,zt,zt,vt)}}const mt=new(arrayNeedsUint32(dt)?Uint32BufferAttribute:Uint16BufferAttribute)(dt,1);mt.version=gt;const yt=ot.get(ut);yt&&et.remove(yt),ot.set(ut,mt)}function ft(ut){const dt=ot.get(ut);if(dt){const ht=ut.index;ht!==null&&dt.version<ht.version&&ct(ut)}else ct(ut);return ot.get(ut)}return{get:st,update:lt,getWireframeAttribute:ft}}function WebGLIndexedBufferRenderer(tt,et,nt,rt){const it=rt.isWebGL2;let ot;function at(dt){ot=dt}let st,lt;function ct(dt){st=dt.type,lt=dt.bytesPerElement}function ft(dt,ht){tt.drawElements(ot,ht,st,dt*lt),nt.update(ht,ot,1)}function ut(dt,ht,pt){if(pt===0)return;let gt,mt;if(it)gt=tt,mt="drawElementsInstanced";else if(gt=et.get("ANGLE_instanced_arrays"),mt="drawElementsInstancedANGLE",gt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}gt[mt](ot,ht,st,dt*lt,pt),nt.update(ht,ot,pt)}this.setMode=at,this.setIndex=ct,this.render=ft,this.renderInstances=ut}function WebGLInfo(tt){const et={geometries:0,textures:0},nt={frame:0,calls:0,triangles:0,points:0,lines:0};function rt(ot,at,st){switch(nt.calls++,at){case 4:nt.triangles+=st*(ot/3);break;case 1:nt.lines+=st*(ot/2);break;case 3:nt.lines+=st*(ot-1);break;case 2:nt.lines+=st*ot;break;case 0:nt.points+=st*ot;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",at);break}}function it(){nt.frame++,nt.calls=0,nt.triangles=0,nt.points=0,nt.lines=0}return{memory:et,render:nt,programs:null,autoReset:!0,reset:it,update:rt}}function numericalSort(tt,et){return tt[0]-et[0]}function absNumericalSort(tt,et){return Math.abs(et[1])-Math.abs(tt[1])}function denormalize(tt,et){let nt=1;const rt=et.isInterleavedBufferAttribute?et.data.array:et.array;rt instanceof Int8Array?nt=127:rt instanceof Int16Array?nt=32767:rt instanceof Int32Array?nt=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",rt),tt.divideScalar(nt)}function WebGLMorphtargets(tt,et,nt){const rt={},it=new Float32Array(8),ot=new WeakMap,at=new Vector4,st=[];for(let ct=0;ct<8;ct++)st[ct]=[ct,0];function lt(ct,ft,ut,dt){const ht=ct.morphTargetInfluences;if(et.isWebGL2===!0){const gt=ft.morphAttributes.position||ft.morphAttributes.normal||ft.morphAttributes.color,mt=gt!==void 0?gt.length:0;let yt=ot.get(ft);if(yt===void 0||yt.count!==mt){let Ct=function(){Pt.dispose(),ot.delete(ft),ft.removeEventListener("dispose",Ct)};var pt=Ct;yt!==void 0&&yt.texture.dispose();const xt=ft.morphAttributes.position!==void 0,vt=ft.morphAttributes.normal!==void 0,$t=ft.morphAttributes.color!==void 0,zt=ft.morphAttributes.position||[],Nt=ft.morphAttributes.normal||[],wt=ft.morphAttributes.color||[];let Et=0;xt===!0&&(Et=1),vt===!0&&(Et=2),$t===!0&&(Et=3);let Rt=ft.attributes.position.count*Et,Tt=1;Rt>et.maxTextureSize&&(Tt=Math.ceil(Rt/et.maxTextureSize),Rt=et.maxTextureSize);const It=new Float32Array(Rt*Tt*4*mt),Pt=new DataArrayTexture(It,Rt,Tt,mt);Pt.type=FloatType,Pt.needsUpdate=!0;const Dt=Et*4;for(let Ot=0;Ot<mt;Ot++){const Ut=zt[Ot],At=Nt[Ot],Mt=wt[Ot],jt=Rt*Tt*4*Ot;for(let kt=0;kt<Ut.count;kt++){const Gt=kt*Dt;xt===!0&&(at.fromBufferAttribute(Ut,kt),Ut.normalized===!0&&denormalize(at,Ut),It[jt+Gt+0]=at.x,It[jt+Gt+1]=at.y,It[jt+Gt+2]=at.z,It[jt+Gt+3]=0),vt===!0&&(at.fromBufferAttribute(At,kt),At.normalized===!0&&denormalize(at,At),It[jt+Gt+4]=at.x,It[jt+Gt+5]=at.y,It[jt+Gt+6]=at.z,It[jt+Gt+7]=0),$t===!0&&(at.fromBufferAttribute(Mt,kt),Mt.normalized===!0&&denormalize(at,Mt),It[jt+Gt+8]=at.x,It[jt+Gt+9]=at.y,It[jt+Gt+10]=at.z,It[jt+Gt+11]=Mt.itemSize===4?at.w:1)}}yt={count:mt,texture:Pt,size:new Vector2(Rt,Tt)},ot.set(ft,yt),ft.addEventListener("dispose",Ct)}let bt=0;for(let xt=0;xt<ht.length;xt++)bt+=ht[xt];const St=ft.morphTargetsRelative?1:1-bt;dt.getUniforms().setValue(tt,"morphTargetBaseInfluence",St),dt.getUniforms().setValue(tt,"morphTargetInfluences",ht),dt.getUniforms().setValue(tt,"morphTargetsTexture",yt.texture,nt),dt.getUniforms().setValue(tt,"morphTargetsTextureSize",yt.size)}else{const gt=ht===void 0?0:ht.length;let mt=rt[ft.id];if(mt===void 0||mt.length!==gt){mt=[];for(let vt=0;vt<gt;vt++)mt[vt]=[vt,0];rt[ft.id]=mt}for(let vt=0;vt<gt;vt++){const $t=mt[vt];$t[0]=vt,$t[1]=ht[vt]}mt.sort(absNumericalSort);for(let vt=0;vt<8;vt++)vt<gt&&mt[vt][1]?(st[vt][0]=mt[vt][0],st[vt][1]=mt[vt][1]):(st[vt][0]=Number.MAX_SAFE_INTEGER,st[vt][1]=0);st.sort(numericalSort);const yt=ft.morphAttributes.position,bt=ft.morphAttributes.normal;let St=0;for(let vt=0;vt<8;vt++){const $t=st[vt],zt=$t[0],Nt=$t[1];zt!==Number.MAX_SAFE_INTEGER&&Nt?(yt&&ft.getAttribute("morphTarget"+vt)!==yt[zt]&&ft.setAttribute("morphTarget"+vt,yt[zt]),bt&&ft.getAttribute("morphNormal"+vt)!==bt[zt]&&ft.setAttribute("morphNormal"+vt,bt[zt]),it[vt]=Nt,St+=Nt):(yt&&ft.hasAttribute("morphTarget"+vt)===!0&&ft.deleteAttribute("morphTarget"+vt),bt&&ft.hasAttribute("morphNormal"+vt)===!0&&ft.deleteAttribute("morphNormal"+vt),it[vt]=0)}const xt=ft.morphTargetsRelative?1:1-St;dt.getUniforms().setValue(tt,"morphTargetBaseInfluence",xt),dt.getUniforms().setValue(tt,"morphTargetInfluences",it)}}return{update:lt}}function WebGLObjects(tt,et,nt,rt){let it=new WeakMap;function ot(lt){const ct=rt.render.frame,ft=lt.geometry,ut=et.get(lt,ft);return it.get(ut)!==ct&&(et.update(ut),it.set(ut,ct)),lt.isInstancedMesh&&(lt.hasEventListener("dispose",st)===!1&&lt.addEventListener("dispose",st),nt.update(lt.instanceMatrix,34962),lt.instanceColor!==null&&nt.update(lt.instanceColor,34962)),ut}function at(){it=new WeakMap}function st(lt){const ct=lt.target;ct.removeEventListener("dispose",st),nt.remove(ct.instanceMatrix),ct.instanceColor!==null&&nt.remove(ct.instanceColor)}return{update:ot,dispose:at}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(tt,et,nt){const rt=tt[0];if(rt<=0||rt>0)return tt;const it=et*nt;let ot=arrayCacheF32[it];if(ot===void 0&&(ot=new Float32Array(it),arrayCacheF32[it]=ot),et!==0){rt.toArray(ot,0);for(let at=1,st=0;at!==et;++at)st+=nt,tt[at].toArray(ot,st)}return ot}function arraysEqual(tt,et){if(tt.length!==et.length)return!1;for(let nt=0,rt=tt.length;nt<rt;nt++)if(tt[nt]!==et[nt])return!1;return!0}function copyArray(tt,et){for(let nt=0,rt=et.length;nt<rt;nt++)tt[nt]=et[nt]}function allocTexUnits(tt,et){let nt=arrayCacheI32[et];nt===void 0&&(nt=new Int32Array(et),arrayCacheI32[et]=nt);for(let rt=0;rt!==et;++rt)nt[rt]=tt.allocateTextureUnit();return nt}function setValueV1f(tt,et){const nt=this.cache;nt[0]!==et&&(tt.uniform1f(this.addr,et),nt[0]=et)}function setValueV2f(tt,et){const nt=this.cache;if(et.x!==void 0)(nt[0]!==et.x||nt[1]!==et.y)&&(tt.uniform2f(this.addr,et.x,et.y),nt[0]=et.x,nt[1]=et.y);else{if(arraysEqual(nt,et))return;tt.uniform2fv(this.addr,et),copyArray(nt,et)}}function setValueV3f(tt,et){const nt=this.cache;if(et.x!==void 0)(nt[0]!==et.x||nt[1]!==et.y||nt[2]!==et.z)&&(tt.uniform3f(this.addr,et.x,et.y,et.z),nt[0]=et.x,nt[1]=et.y,nt[2]=et.z);else if(et.r!==void 0)(nt[0]!==et.r||nt[1]!==et.g||nt[2]!==et.b)&&(tt.uniform3f(this.addr,et.r,et.g,et.b),nt[0]=et.r,nt[1]=et.g,nt[2]=et.b);else{if(arraysEqual(nt,et))return;tt.uniform3fv(this.addr,et),copyArray(nt,et)}}function setValueV4f(tt,et){const nt=this.cache;if(et.x!==void 0)(nt[0]!==et.x||nt[1]!==et.y||nt[2]!==et.z||nt[3]!==et.w)&&(tt.uniform4f(this.addr,et.x,et.y,et.z,et.w),nt[0]=et.x,nt[1]=et.y,nt[2]=et.z,nt[3]=et.w);else{if(arraysEqual(nt,et))return;tt.uniform4fv(this.addr,et),copyArray(nt,et)}}function setValueM2(tt,et){const nt=this.cache,rt=et.elements;if(rt===void 0){if(arraysEqual(nt,et))return;tt.uniformMatrix2fv(this.addr,!1,et),copyArray(nt,et)}else{if(arraysEqual(nt,rt))return;mat2array.set(rt),tt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(nt,rt)}}function setValueM3(tt,et){const nt=this.cache,rt=et.elements;if(rt===void 0){if(arraysEqual(nt,et))return;tt.uniformMatrix3fv(this.addr,!1,et),copyArray(nt,et)}else{if(arraysEqual(nt,rt))return;mat3array.set(rt),tt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(nt,rt)}}function setValueM4(tt,et){const nt=this.cache,rt=et.elements;if(rt===void 0){if(arraysEqual(nt,et))return;tt.uniformMatrix4fv(this.addr,!1,et),copyArray(nt,et)}else{if(arraysEqual(nt,rt))return;mat4array.set(rt),tt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(nt,rt)}}function setValueV1i(tt,et){const nt=this.cache;nt[0]!==et&&(tt.uniform1i(this.addr,et),nt[0]=et)}function setValueV2i(tt,et){const nt=this.cache;arraysEqual(nt,et)||(tt.uniform2iv(this.addr,et),copyArray(nt,et))}function setValueV3i(tt,et){const nt=this.cache;arraysEqual(nt,et)||(tt.uniform3iv(this.addr,et),copyArray(nt,et))}function setValueV4i(tt,et){const nt=this.cache;arraysEqual(nt,et)||(tt.uniform4iv(this.addr,et),copyArray(nt,et))}function setValueV1ui(tt,et){const nt=this.cache;nt[0]!==et&&(tt.uniform1ui(this.addr,et),nt[0]=et)}function setValueV2ui(tt,et){const nt=this.cache;arraysEqual(nt,et)||(tt.uniform2uiv(this.addr,et),copyArray(nt,et))}function setValueV3ui(tt,et){const nt=this.cache;arraysEqual(nt,et)||(tt.uniform3uiv(this.addr,et),copyArray(nt,et))}function setValueV4ui(tt,et){const nt=this.cache;arraysEqual(nt,et)||(tt.uniform4uiv(this.addr,et),copyArray(nt,et))}function setValueT1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture2D(et||emptyTexture,it)}function setValueT3D1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture3D(et||empty3dTexture,it)}function setValueT6(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTextureCube(et||emptyCubeTexture,it)}function setValueT2DArray1(tt,et,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture2DArray(et||emptyArrayTexture,it)}function getSingularSetter(tt){switch(tt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(tt,et){tt.uniform1fv(this.addr,et)}function setValueV2fArray(tt,et){const nt=flatten(et,this.size,2);tt.uniform2fv(this.addr,nt)}function setValueV3fArray(tt,et){const nt=flatten(et,this.size,3);tt.uniform3fv(this.addr,nt)}function setValueV4fArray(tt,et){const nt=flatten(et,this.size,4);tt.uniform4fv(this.addr,nt)}function setValueM2Array(tt,et){const nt=flatten(et,this.size,4);tt.uniformMatrix2fv(this.addr,!1,nt)}function setValueM3Array(tt,et){const nt=flatten(et,this.size,9);tt.uniformMatrix3fv(this.addr,!1,nt)}function setValueM4Array(tt,et){const nt=flatten(et,this.size,16);tt.uniformMatrix4fv(this.addr,!1,nt)}function setValueV1iArray(tt,et){tt.uniform1iv(this.addr,et)}function setValueV2iArray(tt,et){tt.uniform2iv(this.addr,et)}function setValueV3iArray(tt,et){tt.uniform3iv(this.addr,et)}function setValueV4iArray(tt,et){tt.uniform4iv(this.addr,et)}function setValueV1uiArray(tt,et){tt.uniform1uiv(this.addr,et)}function setValueV2uiArray(tt,et){tt.uniform2uiv(this.addr,et)}function setValueV3uiArray(tt,et){tt.uniform3uiv(this.addr,et)}function setValueV4uiArray(tt,et){tt.uniform4uiv(this.addr,et)}function setValueT1Array(tt,et,nt){const rt=et.length,it=allocTexUnits(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTexture2D(et[ot]||emptyTexture,it[ot])}function setValueT3DArray(tt,et,nt){const rt=et.length,it=allocTexUnits(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTexture3D(et[ot]||empty3dTexture,it[ot])}function setValueT6Array(tt,et,nt){const rt=et.length,it=allocTexUnits(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTextureCube(et[ot]||emptyCubeTexture,it[ot])}function setValueT2DArrayArray(tt,et,nt){const rt=et.length,it=allocTexUnits(nt,rt);tt.uniform1iv(this.addr,it);for(let ot=0;ot!==rt;++ot)nt.setTexture2DArray(et[ot]||emptyArrayTexture,it[ot])}function getPureArraySetter(tt){switch(tt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}function SingleUniform(tt,et,nt){this.id=tt,this.addr=nt,this.cache=[],this.setValue=getSingularSetter(et.type)}function PureArrayUniform(tt,et,nt){this.id=tt,this.addr=nt,this.cache=[],this.size=et.size,this.setValue=getPureArraySetter(et.type)}function StructuredUniform(tt){this.id=tt,this.seq=[],this.map={}}StructuredUniform.prototype.setValue=function(tt,et,nt){const rt=this.seq;for(let it=0,ot=rt.length;it!==ot;++it){const at=rt[it];at.setValue(tt,et[at.id],nt)}};const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(tt,et){tt.seq.push(et),tt.map[et.id]=et}function parseUniform(tt,et,nt){const rt=tt.name,it=rt.length;for(RePathPart.lastIndex=0;;){const ot=RePathPart.exec(rt),at=RePathPart.lastIndex;let st=ot[1];const lt=ot[2]==="]",ct=ot[3];if(lt&&(st=st|0),ct===void 0||ct==="["&&at+2===it){addUniform(nt,ct===void 0?new SingleUniform(st,tt,et):new PureArrayUniform(st,tt,et));break}else{let ut=nt.map[st];ut===void 0&&(ut=new StructuredUniform(st),addUniform(nt,ut)),nt=ut}}}function WebGLUniforms(tt,et){this.seq=[],this.map={};const nt=tt.getProgramParameter(et,35718);for(let rt=0;rt<nt;++rt){const it=tt.getActiveUniform(et,rt),ot=tt.getUniformLocation(et,it.name);parseUniform(it,ot,this)}}WebGLUniforms.prototype.setValue=function(tt,et,nt,rt){const it=this.map[et];it!==void 0&&it.setValue(tt,nt,rt)};WebGLUniforms.prototype.setOptional=function(tt,et,nt){const rt=et[nt];rt!==void 0&&this.setValue(tt,nt,rt)};WebGLUniforms.upload=function(tt,et,nt,rt){for(let it=0,ot=et.length;it!==ot;++it){const at=et[it],st=nt[at.id];st.needsUpdate!==!1&&at.setValue(tt,st.value,rt)}};WebGLUniforms.seqWithValue=function(tt,et){const nt=[];for(let rt=0,it=tt.length;rt!==it;++rt){const ot=tt[rt];ot.id in et&&nt.push(ot)}return nt};function WebGLShader(tt,et,nt){const rt=tt.createShader(et);return tt.shaderSource(rt,nt),tt.compileShader(rt),rt}let programIdCount=0;function handleSource(tt,et){const nt=tt.split(`
`),rt=[],it=Math.max(et-6,0),ot=Math.min(et+6,nt.length);for(let at=it;at<ot;at++)rt.push(at+1+": "+nt[at]);return rt.join(`
`)}function getEncodingComponents(tt){switch(tt){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",tt),["Linear","( value )"]}}function getShaderErrors(tt,et,nt){const rt=tt.getShaderParameter(et,35713),it=tt.getShaderInfoLog(et).trim();if(rt&&it==="")return"";const ot=/ERROR: 0:(\d+)/.exec(it);if(ot){const at=parseInt(ot[0]);return nt.toUpperCase()+`

`+it+`

`+handleSource(tt.getShaderSource(et),at)}else return it}function getTexelEncodingFunction(tt,et){const nt=getEncodingComponents(et);return"vec4 "+tt+"( vec4 value ) { return LinearTo"+nt[0]+nt[1]+"; }"}function getToneMappingFunction(tt,et){let nt;switch(et){case LinearToneMapping:nt="Linear";break;case ReinhardToneMapping:nt="Reinhard";break;case CineonToneMapping:nt="OptimizedCineon";break;case ACESFilmicToneMapping:nt="ACESFilmic";break;case CustomToneMapping:nt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",et),nt="Linear"}return"vec3 "+tt+"( vec3 color ) { return "+nt+"ToneMapping( color ); }"}function generateExtensions(tt){return[tt.extensionDerivatives||!!tt.envMapCubeUVHeight||tt.bumpMap||tt.tangentSpaceNormalMap||tt.clearcoatNormalMap||tt.flatShading||tt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(tt.extensionFragDepth||tt.logarithmicDepthBuffer)&&tt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",tt.extensionDrawBuffers&&tt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(tt.extensionShaderTextureLOD||tt.envMap||tt.transmission)&&tt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(tt){const et=[];for(const nt in tt){const rt=tt[nt];rt!==!1&&et.push("#define "+nt+" "+rt)}return et.join(`
`)}function fetchAttributeLocations(tt,et){const nt={},rt=tt.getProgramParameter(et,35721);for(let it=0;it<rt;it++){const ot=tt.getActiveAttrib(et,it),at=ot.name;let st=1;ot.type===35674&&(st=2),ot.type===35675&&(st=3),ot.type===35676&&(st=4),nt[at]={type:ot.type,location:tt.getAttribLocation(et,at),locationSize:st}}return nt}function filterEmptyLine(tt){return tt!==""}function replaceLightNums(tt,et){return tt.replace(/NUM_DIR_LIGHTS/g,et.numDirLights).replace(/NUM_SPOT_LIGHTS/g,et.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,et.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,et.numPointLights).replace(/NUM_HEMI_LIGHTS/g,et.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,et.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,et.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,et.numPointLightShadows)}function replaceClippingPlaneNums(tt,et){return tt.replace(/NUM_CLIPPING_PLANES/g,et.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,et.numClippingPlanes-et.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(tt){return tt.replace(includePattern,includeReplacer)}function includeReplacer(tt,et){const nt=ShaderChunk[et];if(nt===void 0)throw new Error("Can not resolve #include <"+et+">");return resolveIncludes(nt)}const deprecatedUnrollLoopPattern=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(tt){return tt.replace(unrollLoopPattern,loopReplacer).replace(deprecatedUnrollLoopPattern,deprecatedLoopReplacer)}function deprecatedLoopReplacer(tt,et,nt,rt){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer(tt,et,nt,rt)}function loopReplacer(tt,et,nt,rt){let it="";for(let ot=parseInt(et);ot<parseInt(nt);ot++)it+=rt.replace(/\[\s*i\s*\]/g,"[ "+ot+" ]").replace(/UNROLLED_LOOP_INDEX/g,ot);return it}function generatePrecision(tt){let et="precision "+tt.precision+` float;
precision `+tt.precision+" int;";return tt.precision==="highp"?et+=`
#define HIGH_PRECISION`:tt.precision==="mediump"?et+=`
#define MEDIUM_PRECISION`:tt.precision==="lowp"&&(et+=`
#define LOW_PRECISION`),et}function generateShadowMapTypeDefine(tt){let et="SHADOWMAP_TYPE_BASIC";return tt.shadowMapType===PCFShadowMap?et="SHADOWMAP_TYPE_PCF":tt.shadowMapType===PCFSoftShadowMap?et="SHADOWMAP_TYPE_PCF_SOFT":tt.shadowMapType===VSMShadowMap&&(et="SHADOWMAP_TYPE_VSM"),et}function generateEnvMapTypeDefine(tt){let et="ENVMAP_TYPE_CUBE";if(tt.envMap)switch(tt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:et="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:et="ENVMAP_TYPE_CUBE_UV";break}return et}function generateEnvMapModeDefine(tt){let et="ENVMAP_MODE_REFLECTION";if(tt.envMap)switch(tt.envMapMode){case CubeRefractionMapping:et="ENVMAP_MODE_REFRACTION";break}return et}function generateEnvMapBlendingDefine(tt){let et="ENVMAP_BLENDING_NONE";if(tt.envMap)switch(tt.combine){case MultiplyOperation:et="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:et="ENVMAP_BLENDING_MIX";break;case AddOperation:et="ENVMAP_BLENDING_ADD";break}return et}function generateCubeUVSize(tt){const et=tt.envMapCubeUVHeight;if(et===null)return null;const nt=Math.log2(et)-2,rt=1/et;return{texelWidth:1/(3*Math.max(Math.pow(2,nt),7*16)),texelHeight:rt,maxMip:nt}}function WebGLProgram(tt,et,nt,rt){const it=tt.getContext(),ot=nt.defines;let at=nt.vertexShader,st=nt.fragmentShader;const lt=generateShadowMapTypeDefine(nt),ct=generateEnvMapTypeDefine(nt),ft=generateEnvMapModeDefine(nt),ut=generateEnvMapBlendingDefine(nt),dt=generateCubeUVSize(nt),ht=nt.isWebGL2?"":generateExtensions(nt),pt=generateDefines(ot),gt=it.createProgram();let mt,yt,bt=nt.glslVersion?"#version "+nt.glslVersion+`
`:"";nt.isRawShaderMaterial?(mt=[pt].filter(filterEmptyLine).join(`
`),mt.length>0&&(mt+=`
`),yt=[ht,pt].filter(filterEmptyLine).join(`
`),yt.length>0&&(yt+=`
`)):(mt=[generatePrecision(nt),"#define SHADER_NAME "+nt.shaderName,pt,nt.instancing?"#define USE_INSTANCING":"",nt.instancingColor?"#define USE_INSTANCING_COLOR":"",nt.supportsVertexTextures?"#define VERTEX_TEXTURES":"",nt.useFog&&nt.fog?"#define USE_FOG":"",nt.useFog&&nt.fogExp2?"#define FOG_EXP2":"",nt.map?"#define USE_MAP":"",nt.envMap?"#define USE_ENVMAP":"",nt.envMap?"#define "+ft:"",nt.lightMap?"#define USE_LIGHTMAP":"",nt.aoMap?"#define USE_AOMAP":"",nt.emissiveMap?"#define USE_EMISSIVEMAP":"",nt.bumpMap?"#define USE_BUMPMAP":"",nt.normalMap?"#define USE_NORMALMAP":"",nt.normalMap&&nt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",nt.normalMap&&nt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",nt.clearcoatMap?"#define USE_CLEARCOATMAP":"",nt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",nt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",nt.displacementMap&&nt.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",nt.specularMap?"#define USE_SPECULARMAP":"",nt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",nt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",nt.roughnessMap?"#define USE_ROUGHNESSMAP":"",nt.metalnessMap?"#define USE_METALNESSMAP":"",nt.alphaMap?"#define USE_ALPHAMAP":"",nt.transmission?"#define USE_TRANSMISSION":"",nt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",nt.thicknessMap?"#define USE_THICKNESSMAP":"",nt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",nt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",nt.vertexTangents?"#define USE_TANGENT":"",nt.vertexColors?"#define USE_COLOR":"",nt.vertexAlphas?"#define USE_COLOR_ALPHA":"",nt.vertexUvs?"#define USE_UV":"",nt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",nt.flatShading?"#define FLAT_SHADED":"",nt.skinning?"#define USE_SKINNING":"",nt.morphTargets?"#define USE_MORPHTARGETS":"",nt.morphNormals&&nt.flatShading===!1?"#define USE_MORPHNORMALS":"",nt.morphColors&&nt.isWebGL2?"#define USE_MORPHCOLORS":"",nt.morphTargetsCount>0&&nt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",nt.morphTargetsCount>0&&nt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+nt.morphTextureStride:"",nt.morphTargetsCount>0&&nt.isWebGL2?"#define MORPHTARGETS_COUNT "+nt.morphTargetsCount:"",nt.doubleSided?"#define DOUBLE_SIDED":"",nt.flipSided?"#define FLIP_SIDED":"",nt.shadowMapEnabled?"#define USE_SHADOWMAP":"",nt.shadowMapEnabled?"#define "+lt:"",nt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",nt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",nt.logarithmicDepthBuffer&&nt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),yt=[ht,generatePrecision(nt),"#define SHADER_NAME "+nt.shaderName,pt,nt.useFog&&nt.fog?"#define USE_FOG":"",nt.useFog&&nt.fogExp2?"#define FOG_EXP2":"",nt.map?"#define USE_MAP":"",nt.matcap?"#define USE_MATCAP":"",nt.envMap?"#define USE_ENVMAP":"",nt.envMap?"#define "+ct:"",nt.envMap?"#define "+ft:"",nt.envMap?"#define "+ut:"",dt?"#define CUBEUV_TEXEL_WIDTH "+dt.texelWidth:"",dt?"#define CUBEUV_TEXEL_HEIGHT "+dt.texelHeight:"",dt?"#define CUBEUV_MAX_MIP "+dt.maxMip+".0":"",nt.lightMap?"#define USE_LIGHTMAP":"",nt.aoMap?"#define USE_AOMAP":"",nt.emissiveMap?"#define USE_EMISSIVEMAP":"",nt.bumpMap?"#define USE_BUMPMAP":"",nt.normalMap?"#define USE_NORMALMAP":"",nt.normalMap&&nt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",nt.normalMap&&nt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",nt.clearcoat?"#define USE_CLEARCOAT":"",nt.clearcoatMap?"#define USE_CLEARCOATMAP":"",nt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",nt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",nt.specularMap?"#define USE_SPECULARMAP":"",nt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",nt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",nt.roughnessMap?"#define USE_ROUGHNESSMAP":"",nt.metalnessMap?"#define USE_METALNESSMAP":"",nt.alphaMap?"#define USE_ALPHAMAP":"",nt.alphaTest?"#define USE_ALPHATEST":"",nt.sheen?"#define USE_SHEEN":"",nt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",nt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",nt.transmission?"#define USE_TRANSMISSION":"",nt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",nt.thicknessMap?"#define USE_THICKNESSMAP":"",nt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",nt.vertexTangents?"#define USE_TANGENT":"",nt.vertexColors||nt.instancingColor?"#define USE_COLOR":"",nt.vertexAlphas?"#define USE_COLOR_ALPHA":"",nt.vertexUvs?"#define USE_UV":"",nt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",nt.gradientMap?"#define USE_GRADIENTMAP":"",nt.flatShading?"#define FLAT_SHADED":"",nt.doubleSided?"#define DOUBLE_SIDED":"",nt.flipSided?"#define FLIP_SIDED":"",nt.shadowMapEnabled?"#define USE_SHADOWMAP":"",nt.shadowMapEnabled?"#define "+lt:"",nt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",nt.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",nt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",nt.logarithmicDepthBuffer&&nt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",nt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",nt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",nt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",nt.toneMapping):"",nt.dithering?"#define DITHERING":"",nt.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",nt.outputEncoding),nt.useDepthPacking?"#define DEPTH_PACKING "+nt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),at=resolveIncludes(at),at=replaceLightNums(at,nt),at=replaceClippingPlaneNums(at,nt),st=resolveIncludes(st),st=replaceLightNums(st,nt),st=replaceClippingPlaneNums(st,nt),at=unrollLoops(at),st=unrollLoops(st),nt.isWebGL2&&nt.isRawShaderMaterial!==!0&&(bt=`#version 300 es
`,mt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+mt,yt=["#define varying in",nt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",nt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+yt);const St=bt+mt+at,xt=bt+yt+st,vt=WebGLShader(it,35633,St),$t=WebGLShader(it,35632,xt);if(it.attachShader(gt,vt),it.attachShader(gt,$t),nt.index0AttributeName!==void 0?it.bindAttribLocation(gt,0,nt.index0AttributeName):nt.morphTargets===!0&&it.bindAttribLocation(gt,0,"position"),it.linkProgram(gt),tt.debug.checkShaderErrors){const wt=it.getProgramInfoLog(gt).trim(),Et=it.getShaderInfoLog(vt).trim(),Rt=it.getShaderInfoLog($t).trim();let Tt=!0,It=!0;if(it.getProgramParameter(gt,35714)===!1){Tt=!1;const Pt=getShaderErrors(it,vt,"vertex"),Dt=getShaderErrors(it,$t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+it.getError()+" - VALIDATE_STATUS "+it.getProgramParameter(gt,35715)+`

Program Info Log: `+wt+`
`+Pt+`
`+Dt)}else wt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",wt):(Et===""||Rt==="")&&(It=!1);It&&(this.diagnostics={runnable:Tt,programLog:wt,vertexShader:{log:Et,prefix:mt},fragmentShader:{log:Rt,prefix:yt}})}it.deleteShader(vt),it.deleteShader($t);let zt;this.getUniforms=function(){return zt===void 0&&(zt=new WebGLUniforms(it,gt)),zt};let Nt;return this.getAttributes=function(){return Nt===void 0&&(Nt=fetchAttributeLocations(it,gt)),Nt},this.destroy=function(){rt.releaseStatesOfProgram(this),it.deleteProgram(gt),this.program=void 0},this.name=nt.shaderName,this.id=programIdCount++,this.cacheKey=et,this.usedTimes=1,this.program=gt,this.vertexShader=vt,this.fragmentShader=$t,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(et){const nt=et.vertexShader,rt=et.fragmentShader,it=this._getShaderStage(nt),ot=this._getShaderStage(rt),at=this._getShaderCacheForMaterial(et);return at.has(it)===!1&&(at.add(it),it.usedTimes++),at.has(ot)===!1&&(at.add(ot),ot.usedTimes++),this}remove(et){const nt=this.materialCache.get(et);for(const rt of nt)rt.usedTimes--,rt.usedTimes===0&&this.shaderCache.delete(rt.code);return this.materialCache.delete(et),this}getVertexShaderID(et){return this._getShaderStage(et.vertexShader).id}getFragmentShaderID(et){return this._getShaderStage(et.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(et){const nt=this.materialCache;return nt.has(et)===!1&&nt.set(et,new Set),nt.get(et)}_getShaderStage(et){const nt=this.shaderCache;if(nt.has(et)===!1){const rt=new WebGLShaderStage(et);nt.set(et,rt)}return nt.get(et)}}class WebGLShaderStage{constructor(et){this.id=_id++,this.code=et,this.usedTimes=0}}function WebGLPrograms(tt,et,nt,rt,it,ot,at){const st=new Layers,lt=new WebGLShaderCache,ct=[],ft=it.isWebGL2,ut=it.logarithmicDepthBuffer,dt=it.vertexTextures;let ht=it.precision;const pt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function gt(Nt,wt,Et,Rt,Tt){const It=Rt.fog,Pt=Tt.geometry,Dt=Nt.isMeshStandardMaterial?Rt.environment:null,Ct=(Nt.isMeshStandardMaterial?nt:et).get(Nt.envMap||Dt),Ot=!!Ct&&Ct.mapping===CubeUVReflectionMapping?Ct.image.height:null,Ut=pt[Nt.type];Nt.precision!==null&&(ht=it.getMaxPrecision(Nt.precision),ht!==Nt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Nt.precision,"not supported, using",ht,"instead."));const At=Pt.morphAttributes.position||Pt.morphAttributes.normal||Pt.morphAttributes.color,Mt=At!==void 0?At.length:0;let jt=0;Pt.morphAttributes.position!==void 0&&(jt=1),Pt.morphAttributes.normal!==void 0&&(jt=2),Pt.morphAttributes.color!==void 0&&(jt=3);let kt,Gt,Ht,Jt;if(Ut){const Ft=ShaderLib[Ut];kt=Ft.vertexShader,Gt=Ft.fragmentShader}else kt=Nt.vertexShader,Gt=Nt.fragmentShader,lt.update(Nt),Ht=lt.getVertexShaderID(Nt),Jt=lt.getFragmentShaderID(Nt);const Vt=tt.getRenderTarget(),Wt=Nt.alphaTest>0,Lt=Nt.clearcoat>0;return{isWebGL2:ft,shaderID:Ut,shaderName:Nt.type,vertexShader:kt,fragmentShader:Gt,defines:Nt.defines,customVertexShaderID:Ht,customFragmentShaderID:Jt,isRawShaderMaterial:Nt.isRawShaderMaterial===!0,glslVersion:Nt.glslVersion,precision:ht,instancing:Tt.isInstancedMesh===!0,instancingColor:Tt.isInstancedMesh===!0&&Tt.instanceColor!==null,supportsVertexTextures:dt,outputEncoding:Vt===null?tt.outputEncoding:Vt.isXRRenderTarget===!0?Vt.texture.encoding:LinearEncoding,map:!!Nt.map,matcap:!!Nt.matcap,envMap:!!Ct,envMapMode:Ct&&Ct.mapping,envMapCubeUVHeight:Ot,lightMap:!!Nt.lightMap,aoMap:!!Nt.aoMap,emissiveMap:!!Nt.emissiveMap,bumpMap:!!Nt.bumpMap,normalMap:!!Nt.normalMap,objectSpaceNormalMap:Nt.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:Nt.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!Nt.map&&Nt.map.isVideoTexture===!0&&Nt.map.encoding===sRGBEncoding,clearcoat:Lt,clearcoatMap:Lt&&!!Nt.clearcoatMap,clearcoatRoughnessMap:Lt&&!!Nt.clearcoatRoughnessMap,clearcoatNormalMap:Lt&&!!Nt.clearcoatNormalMap,displacementMap:!!Nt.displacementMap,roughnessMap:!!Nt.roughnessMap,metalnessMap:!!Nt.metalnessMap,specularMap:!!Nt.specularMap,specularIntensityMap:!!Nt.specularIntensityMap,specularColorMap:!!Nt.specularColorMap,opaque:Nt.transparent===!1&&Nt.blending===NormalBlending,alphaMap:!!Nt.alphaMap,alphaTest:Wt,gradientMap:!!Nt.gradientMap,sheen:Nt.sheen>0,sheenColorMap:!!Nt.sheenColorMap,sheenRoughnessMap:!!Nt.sheenRoughnessMap,transmission:Nt.transmission>0,transmissionMap:!!Nt.transmissionMap,thicknessMap:!!Nt.thicknessMap,combine:Nt.combine,vertexTangents:!!Nt.normalMap&&!!Pt.attributes.tangent,vertexColors:Nt.vertexColors,vertexAlphas:Nt.vertexColors===!0&&!!Pt.attributes.color&&Pt.attributes.color.itemSize===4,vertexUvs:!!Nt.map||!!Nt.bumpMap||!!Nt.normalMap||!!Nt.specularMap||!!Nt.alphaMap||!!Nt.emissiveMap||!!Nt.roughnessMap||!!Nt.metalnessMap||!!Nt.clearcoatMap||!!Nt.clearcoatRoughnessMap||!!Nt.clearcoatNormalMap||!!Nt.displacementMap||!!Nt.transmissionMap||!!Nt.thicknessMap||!!Nt.specularIntensityMap||!!Nt.specularColorMap||!!Nt.sheenColorMap||!!Nt.sheenRoughnessMap,uvsVertexOnly:!(!!Nt.map||!!Nt.bumpMap||!!Nt.normalMap||!!Nt.specularMap||!!Nt.alphaMap||!!Nt.emissiveMap||!!Nt.roughnessMap||!!Nt.metalnessMap||!!Nt.clearcoatNormalMap||Nt.transmission>0||!!Nt.transmissionMap||!!Nt.thicknessMap||!!Nt.specularIntensityMap||!!Nt.specularColorMap||Nt.sheen>0||!!Nt.sheenColorMap||!!Nt.sheenRoughnessMap)&&!!Nt.displacementMap,fog:!!It,useFog:Nt.fog===!0,fogExp2:It&&It.isFogExp2,flatShading:!!Nt.flatShading,sizeAttenuation:Nt.sizeAttenuation,logarithmicDepthBuffer:ut,skinning:Tt.isSkinnedMesh===!0,morphTargets:Pt.morphAttributes.position!==void 0,morphNormals:Pt.morphAttributes.normal!==void 0,morphColors:Pt.morphAttributes.color!==void 0,morphTargetsCount:Mt,morphTextureStride:jt,numDirLights:wt.directional.length,numPointLights:wt.point.length,numSpotLights:wt.spot.length,numRectAreaLights:wt.rectArea.length,numHemiLights:wt.hemi.length,numDirLightShadows:wt.directionalShadowMap.length,numPointLightShadows:wt.pointShadowMap.length,numSpotLightShadows:wt.spotShadowMap.length,numClippingPlanes:at.numPlanes,numClipIntersection:at.numIntersection,dithering:Nt.dithering,shadowMapEnabled:tt.shadowMap.enabled&&Et.length>0,shadowMapType:tt.shadowMap.type,toneMapping:Nt.toneMapped?tt.toneMapping:NoToneMapping,physicallyCorrectLights:tt.physicallyCorrectLights,premultipliedAlpha:Nt.premultipliedAlpha,doubleSided:Nt.side===DoubleSide,flipSided:Nt.side===BackSide,useDepthPacking:!!Nt.depthPacking,depthPacking:Nt.depthPacking||0,index0AttributeName:Nt.index0AttributeName,extensionDerivatives:Nt.extensions&&Nt.extensions.derivatives,extensionFragDepth:Nt.extensions&&Nt.extensions.fragDepth,extensionDrawBuffers:Nt.extensions&&Nt.extensions.drawBuffers,extensionShaderTextureLOD:Nt.extensions&&Nt.extensions.shaderTextureLOD,rendererExtensionFragDepth:ft||rt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ft||rt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ft||rt.has("EXT_shader_texture_lod"),customProgramCacheKey:Nt.customProgramCacheKey()}}function mt(Nt){const wt=[];if(Nt.shaderID?wt.push(Nt.shaderID):(wt.push(Nt.customVertexShaderID),wt.push(Nt.customFragmentShaderID)),Nt.defines!==void 0)for(const Et in Nt.defines)wt.push(Et),wt.push(Nt.defines[Et]);return Nt.isRawShaderMaterial===!1&&(yt(wt,Nt),bt(wt,Nt),wt.push(tt.outputEncoding)),wt.push(Nt.customProgramCacheKey),wt.join()}function yt(Nt,wt){Nt.push(wt.precision),Nt.push(wt.outputEncoding),Nt.push(wt.envMapMode),Nt.push(wt.envMapCubeUVHeight),Nt.push(wt.combine),Nt.push(wt.vertexUvs),Nt.push(wt.fogExp2),Nt.push(wt.sizeAttenuation),Nt.push(wt.morphTargetsCount),Nt.push(wt.morphAttributeCount),Nt.push(wt.numDirLights),Nt.push(wt.numPointLights),Nt.push(wt.numSpotLights),Nt.push(wt.numHemiLights),Nt.push(wt.numRectAreaLights),Nt.push(wt.numDirLightShadows),Nt.push(wt.numPointLightShadows),Nt.push(wt.numSpotLightShadows),Nt.push(wt.shadowMapType),Nt.push(wt.toneMapping),Nt.push(wt.numClippingPlanes),Nt.push(wt.numClipIntersection),Nt.push(wt.depthPacking)}function bt(Nt,wt){st.disableAll(),wt.isWebGL2&&st.enable(0),wt.supportsVertexTextures&&st.enable(1),wt.instancing&&st.enable(2),wt.instancingColor&&st.enable(3),wt.map&&st.enable(4),wt.matcap&&st.enable(5),wt.envMap&&st.enable(6),wt.lightMap&&st.enable(7),wt.aoMap&&st.enable(8),wt.emissiveMap&&st.enable(9),wt.bumpMap&&st.enable(10),wt.normalMap&&st.enable(11),wt.objectSpaceNormalMap&&st.enable(12),wt.tangentSpaceNormalMap&&st.enable(13),wt.clearcoat&&st.enable(14),wt.clearcoatMap&&st.enable(15),wt.clearcoatRoughnessMap&&st.enable(16),wt.clearcoatNormalMap&&st.enable(17),wt.displacementMap&&st.enable(18),wt.specularMap&&st.enable(19),wt.roughnessMap&&st.enable(20),wt.metalnessMap&&st.enable(21),wt.gradientMap&&st.enable(22),wt.alphaMap&&st.enable(23),wt.alphaTest&&st.enable(24),wt.vertexColors&&st.enable(25),wt.vertexAlphas&&st.enable(26),wt.vertexUvs&&st.enable(27),wt.vertexTangents&&st.enable(28),wt.uvsVertexOnly&&st.enable(29),wt.fog&&st.enable(30),Nt.push(st.mask),st.disableAll(),wt.useFog&&st.enable(0),wt.flatShading&&st.enable(1),wt.logarithmicDepthBuffer&&st.enable(2),wt.skinning&&st.enable(3),wt.morphTargets&&st.enable(4),wt.morphNormals&&st.enable(5),wt.morphColors&&st.enable(6),wt.premultipliedAlpha&&st.enable(7),wt.shadowMapEnabled&&st.enable(8),wt.physicallyCorrectLights&&st.enable(9),wt.doubleSided&&st.enable(10),wt.flipSided&&st.enable(11),wt.useDepthPacking&&st.enable(12),wt.dithering&&st.enable(13),wt.specularIntensityMap&&st.enable(14),wt.specularColorMap&&st.enable(15),wt.transmission&&st.enable(16),wt.transmissionMap&&st.enable(17),wt.thicknessMap&&st.enable(18),wt.sheen&&st.enable(19),wt.sheenColorMap&&st.enable(20),wt.sheenRoughnessMap&&st.enable(21),wt.decodeVideoTexture&&st.enable(22),wt.opaque&&st.enable(23),Nt.push(st.mask)}function St(Nt){const wt=pt[Nt.type];let Et;if(wt){const Rt=ShaderLib[wt];Et=UniformsUtils.clone(Rt.uniforms)}else Et=Nt.uniforms;return Et}function xt(Nt,wt){let Et;for(let Rt=0,Tt=ct.length;Rt<Tt;Rt++){const It=ct[Rt];if(It.cacheKey===wt){Et=It,++Et.usedTimes;break}}return Et===void 0&&(Et=new WebGLProgram(tt,wt,Nt,ot),ct.push(Et)),Et}function vt(Nt){if(--Nt.usedTimes===0){const wt=ct.indexOf(Nt);ct[wt]=ct[ct.length-1],ct.pop(),Nt.destroy()}}function $t(Nt){lt.remove(Nt)}function zt(){lt.dispose()}return{getParameters:gt,getProgramCacheKey:mt,getUniforms:St,acquireProgram:xt,releaseProgram:vt,releaseShaderCache:$t,programs:ct,dispose:zt}}function WebGLProperties(){let tt=new WeakMap;function et(ot){let at=tt.get(ot);return at===void 0&&(at={},tt.set(ot,at)),at}function nt(ot){tt.delete(ot)}function rt(ot,at,st){tt.get(ot)[at]=st}function it(){tt=new WeakMap}return{get:et,remove:nt,update:rt,dispose:it}}function painterSortStable(tt,et){return tt.groupOrder!==et.groupOrder?tt.groupOrder-et.groupOrder:tt.renderOrder!==et.renderOrder?tt.renderOrder-et.renderOrder:tt.material.id!==et.material.id?tt.material.id-et.material.id:tt.z!==et.z?tt.z-et.z:tt.id-et.id}function reversePainterSortStable(tt,et){return tt.groupOrder!==et.groupOrder?tt.groupOrder-et.groupOrder:tt.renderOrder!==et.renderOrder?tt.renderOrder-et.renderOrder:tt.z!==et.z?et.z-tt.z:tt.id-et.id}function WebGLRenderList(){const tt=[];let et=0;const nt=[],rt=[],it=[];function ot(){et=0,nt.length=0,rt.length=0,it.length=0}function at(ut,dt,ht,pt,gt,mt){let yt=tt[et];return yt===void 0?(yt={id:ut.id,object:ut,geometry:dt,material:ht,groupOrder:pt,renderOrder:ut.renderOrder,z:gt,group:mt},tt[et]=yt):(yt.id=ut.id,yt.object=ut,yt.geometry=dt,yt.material=ht,yt.groupOrder=pt,yt.renderOrder=ut.renderOrder,yt.z=gt,yt.group=mt),et++,yt}function st(ut,dt,ht,pt,gt,mt){const yt=at(ut,dt,ht,pt,gt,mt);ht.transmission>0?rt.push(yt):ht.transparent===!0?it.push(yt):nt.push(yt)}function lt(ut,dt,ht,pt,gt,mt){const yt=at(ut,dt,ht,pt,gt,mt);ht.transmission>0?rt.unshift(yt):ht.transparent===!0?it.unshift(yt):nt.unshift(yt)}function ct(ut,dt){nt.length>1&&nt.sort(ut||painterSortStable),rt.length>1&&rt.sort(dt||reversePainterSortStable),it.length>1&&it.sort(dt||reversePainterSortStable)}function ft(){for(let ut=et,dt=tt.length;ut<dt;ut++){const ht=tt[ut];if(ht.id===null)break;ht.id=null,ht.object=null,ht.geometry=null,ht.material=null,ht.group=null}}return{opaque:nt,transmissive:rt,transparent:it,init:ot,push:st,unshift:lt,finish:ft,sort:ct}}function WebGLRenderLists(){let tt=new WeakMap;function et(rt,it){let ot;return tt.has(rt)===!1?(ot=new WebGLRenderList,tt.set(rt,[ot])):it>=tt.get(rt).length?(ot=new WebGLRenderList,tt.get(rt).push(ot)):ot=tt.get(rt)[it],ot}function nt(){tt=new WeakMap}return{get:et,dispose:nt}}function UniformsCache(){const tt={};return{get:function(et){if(tt[et.id]!==void 0)return tt[et.id];let nt;switch(et.type){case"DirectionalLight":nt={direction:new Vector3,color:new Color};break;case"SpotLight":nt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":nt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":nt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":nt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return tt[et.id]=nt,nt}}}function ShadowUniformsCache(){const tt={};return{get:function(et){if(tt[et.id]!==void 0)return tt[et.id];let nt;switch(et.type){case"DirectionalLight":nt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":nt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":nt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return tt[et.id]=nt,nt}}}let nextVersion=0;function shadowCastingLightsFirst(tt,et){return(et.castShadow?1:0)-(tt.castShadow?1:0)}function WebGLLights(tt,et){const nt=new UniformsCache,rt=ShadowUniformsCache(),it={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let ft=0;ft<9;ft++)it.probe.push(new Vector3);const ot=new Vector3,at=new Matrix4,st=new Matrix4;function lt(ft,ut){let dt=0,ht=0,pt=0;for(let wt=0;wt<9;wt++)it.probe[wt].set(0,0,0);let gt=0,mt=0,yt=0,bt=0,St=0,xt=0,vt=0,$t=0;ft.sort(shadowCastingLightsFirst);const zt=ut!==!0?Math.PI:1;for(let wt=0,Et=ft.length;wt<Et;wt++){const Rt=ft[wt],Tt=Rt.color,It=Rt.intensity,Pt=Rt.distance,Dt=Rt.shadow&&Rt.shadow.map?Rt.shadow.map.texture:null;if(Rt.isAmbientLight)dt+=Tt.r*It*zt,ht+=Tt.g*It*zt,pt+=Tt.b*It*zt;else if(Rt.isLightProbe)for(let Ct=0;Ct<9;Ct++)it.probe[Ct].addScaledVector(Rt.sh.coefficients[Ct],It);else if(Rt.isDirectionalLight){const Ct=nt.get(Rt);if(Ct.color.copy(Rt.color).multiplyScalar(Rt.intensity*zt),Rt.castShadow){const Ot=Rt.shadow,Ut=rt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,it.directionalShadow[gt]=Ut,it.directionalShadowMap[gt]=Dt,it.directionalShadowMatrix[gt]=Rt.shadow.matrix,xt++}it.directional[gt]=Ct,gt++}else if(Rt.isSpotLight){const Ct=nt.get(Rt);if(Ct.position.setFromMatrixPosition(Rt.matrixWorld),Ct.color.copy(Tt).multiplyScalar(It*zt),Ct.distance=Pt,Ct.coneCos=Math.cos(Rt.angle),Ct.penumbraCos=Math.cos(Rt.angle*(1-Rt.penumbra)),Ct.decay=Rt.decay,Rt.castShadow){const Ot=Rt.shadow,Ut=rt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,it.spotShadow[yt]=Ut,it.spotShadowMap[yt]=Dt,it.spotShadowMatrix[yt]=Rt.shadow.matrix,$t++}it.spot[yt]=Ct,yt++}else if(Rt.isRectAreaLight){const Ct=nt.get(Rt);Ct.color.copy(Tt).multiplyScalar(It),Ct.halfWidth.set(Rt.width*.5,0,0),Ct.halfHeight.set(0,Rt.height*.5,0),it.rectArea[bt]=Ct,bt++}else if(Rt.isPointLight){const Ct=nt.get(Rt);if(Ct.color.copy(Rt.color).multiplyScalar(Rt.intensity*zt),Ct.distance=Rt.distance,Ct.decay=Rt.decay,Rt.castShadow){const Ot=Rt.shadow,Ut=rt.get(Rt);Ut.shadowBias=Ot.bias,Ut.shadowNormalBias=Ot.normalBias,Ut.shadowRadius=Ot.radius,Ut.shadowMapSize=Ot.mapSize,Ut.shadowCameraNear=Ot.camera.near,Ut.shadowCameraFar=Ot.camera.far,it.pointShadow[mt]=Ut,it.pointShadowMap[mt]=Dt,it.pointShadowMatrix[mt]=Rt.shadow.matrix,vt++}it.point[mt]=Ct,mt++}else if(Rt.isHemisphereLight){const Ct=nt.get(Rt);Ct.skyColor.copy(Rt.color).multiplyScalar(It*zt),Ct.groundColor.copy(Rt.groundColor).multiplyScalar(It*zt),it.hemi[St]=Ct,St++}}bt>0&&(et.isWebGL2||tt.has("OES_texture_float_linear")===!0?(it.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,it.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):tt.has("OES_texture_half_float_linear")===!0?(it.rectAreaLTC1=UniformsLib.LTC_HALF_1,it.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),it.ambient[0]=dt,it.ambient[1]=ht,it.ambient[2]=pt;const Nt=it.hash;(Nt.directionalLength!==gt||Nt.pointLength!==mt||Nt.spotLength!==yt||Nt.rectAreaLength!==bt||Nt.hemiLength!==St||Nt.numDirectionalShadows!==xt||Nt.numPointShadows!==vt||Nt.numSpotShadows!==$t)&&(it.directional.length=gt,it.spot.length=yt,it.rectArea.length=bt,it.point.length=mt,it.hemi.length=St,it.directionalShadow.length=xt,it.directionalShadowMap.length=xt,it.pointShadow.length=vt,it.pointShadowMap.length=vt,it.spotShadow.length=$t,it.spotShadowMap.length=$t,it.directionalShadowMatrix.length=xt,it.pointShadowMatrix.length=vt,it.spotShadowMatrix.length=$t,Nt.directionalLength=gt,Nt.pointLength=mt,Nt.spotLength=yt,Nt.rectAreaLength=bt,Nt.hemiLength=St,Nt.numDirectionalShadows=xt,Nt.numPointShadows=vt,Nt.numSpotShadows=$t,it.version=nextVersion++)}function ct(ft,ut){let dt=0,ht=0,pt=0,gt=0,mt=0;const yt=ut.matrixWorldInverse;for(let bt=0,St=ft.length;bt<St;bt++){const xt=ft[bt];if(xt.isDirectionalLight){const vt=it.directional[dt];vt.direction.setFromMatrixPosition(xt.matrixWorld),ot.setFromMatrixPosition(xt.target.matrixWorld),vt.direction.sub(ot),vt.direction.transformDirection(yt),dt++}else if(xt.isSpotLight){const vt=it.spot[pt];vt.position.setFromMatrixPosition(xt.matrixWorld),vt.position.applyMatrix4(yt),vt.direction.setFromMatrixPosition(xt.matrixWorld),ot.setFromMatrixPosition(xt.target.matrixWorld),vt.direction.sub(ot),vt.direction.transformDirection(yt),pt++}else if(xt.isRectAreaLight){const vt=it.rectArea[gt];vt.position.setFromMatrixPosition(xt.matrixWorld),vt.position.applyMatrix4(yt),st.identity(),at.copy(xt.matrixWorld),at.premultiply(yt),st.extractRotation(at),vt.halfWidth.set(xt.width*.5,0,0),vt.halfHeight.set(0,xt.height*.5,0),vt.halfWidth.applyMatrix4(st),vt.halfHeight.applyMatrix4(st),gt++}else if(xt.isPointLight){const vt=it.point[ht];vt.position.setFromMatrixPosition(xt.matrixWorld),vt.position.applyMatrix4(yt),ht++}else if(xt.isHemisphereLight){const vt=it.hemi[mt];vt.direction.setFromMatrixPosition(xt.matrixWorld),vt.direction.transformDirection(yt),mt++}}}return{setup:lt,setupView:ct,state:it}}function WebGLRenderState(tt,et){const nt=new WebGLLights(tt,et),rt=[],it=[];function ot(){rt.length=0,it.length=0}function at(ut){rt.push(ut)}function st(ut){it.push(ut)}function lt(ut){nt.setup(rt,ut)}function ct(ut){nt.setupView(rt,ut)}return{init:ot,state:{lightsArray:rt,shadowsArray:it,lights:nt},setupLights:lt,setupLightsView:ct,pushLight:at,pushShadow:st}}function WebGLRenderStates(tt,et){let nt=new WeakMap;function rt(ot,at=0){let st;return nt.has(ot)===!1?(st=new WebGLRenderState(tt,et),nt.set(ot,[st])):at>=nt.get(ot).length?(st=new WebGLRenderState(tt,et),nt.get(ot).push(st)):st=nt.get(ot)[at],st}function it(){nt=new WeakMap}return{get:rt,dispose:it}}class MeshDepthMaterial extends Material{constructor(et){super(),this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(et)}copy(et){return super.copy(et),this.depthPacking=et.depthPacking,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this}}MeshDepthMaterial.prototype.isMeshDepthMaterial=!0;class MeshDistanceMaterial extends Material{constructor(et){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(et)}copy(et){return super.copy(et),this.referencePosition.copy(et.referencePosition),this.nearDistance=et.nearDistance,this.farDistance=et.farDistance,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this}}MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0;const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(tt,et,nt){let rt=new Frustum;const it=new Vector2,ot=new Vector2,at=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt=new MeshDistanceMaterial,ct={},ft=nt.maxTextureSize,ut={0:BackSide,1:FrontSide,2:DoubleSide},dt=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ht=dt.clone();ht.defines.HORIZONTAL_PASS=1;const pt=new BufferGeometry;pt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const gt=new Mesh(pt,dt),mt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(xt,vt,$t){if(mt.enabled===!1||mt.autoUpdate===!1&&mt.needsUpdate===!1||xt.length===0)return;const zt=tt.getRenderTarget(),Nt=tt.getActiveCubeFace(),wt=tt.getActiveMipmapLevel(),Et=tt.state;Et.setBlending(NoBlending),Et.buffers.color.setClear(1,1,1,1),Et.buffers.depth.setTest(!0),Et.setScissorTest(!1);for(let Rt=0,Tt=xt.length;Rt<Tt;Rt++){const It=xt[Rt],Pt=It.shadow;if(Pt===void 0){console.warn("THREE.WebGLShadowMap:",It,"has no shadow.");continue}if(Pt.autoUpdate===!1&&Pt.needsUpdate===!1)continue;it.copy(Pt.mapSize);const Dt=Pt.getFrameExtents();if(it.multiply(Dt),ot.copy(Pt.mapSize),(it.x>ft||it.y>ft)&&(it.x>ft&&(ot.x=Math.floor(ft/Dt.x),it.x=ot.x*Dt.x,Pt.mapSize.x=ot.x),it.y>ft&&(ot.y=Math.floor(ft/Dt.y),it.y=ot.y*Dt.y,Pt.mapSize.y=ot.y)),Pt.map===null&&!Pt.isPointLightShadow&&this.type===VSMShadowMap&&(Pt.map=new WebGLRenderTarget(it.x,it.y),Pt.map.texture.name=It.name+".shadowMap",Pt.mapPass=new WebGLRenderTarget(it.x,it.y),Pt.camera.updateProjectionMatrix()),Pt.map===null){const Ot={minFilter:NearestFilter,magFilter:NearestFilter,format:RGBAFormat};Pt.map=new WebGLRenderTarget(it.x,it.y,Ot),Pt.map.texture.name=It.name+".shadowMap",Pt.camera.updateProjectionMatrix()}tt.setRenderTarget(Pt.map),tt.clear();const Ct=Pt.getViewportCount();for(let Ot=0;Ot<Ct;Ot++){const Ut=Pt.getViewport(Ot);at.set(ot.x*Ut.x,ot.y*Ut.y,ot.x*Ut.z,ot.y*Ut.w),Et.viewport(at),Pt.updateMatrices(It,Ot),rt=Pt.getFrustum(),St(vt,$t,Pt.camera,It,this.type)}!Pt.isPointLightShadow&&this.type===VSMShadowMap&&yt(Pt,$t),Pt.needsUpdate=!1}mt.needsUpdate=!1,tt.setRenderTarget(zt,Nt,wt)};function yt(xt,vt){const $t=et.update(gt);dt.defines.VSM_SAMPLES!==xt.blurSamples&&(dt.defines.VSM_SAMPLES=xt.blurSamples,ht.defines.VSM_SAMPLES=xt.blurSamples,dt.needsUpdate=!0,ht.needsUpdate=!0),dt.uniforms.shadow_pass.value=xt.map.texture,dt.uniforms.resolution.value=xt.mapSize,dt.uniforms.radius.value=xt.radius,tt.setRenderTarget(xt.mapPass),tt.clear(),tt.renderBufferDirect(vt,null,$t,dt,gt,null),ht.uniforms.shadow_pass.value=xt.mapPass.texture,ht.uniforms.resolution.value=xt.mapSize,ht.uniforms.radius.value=xt.radius,tt.setRenderTarget(xt.map),tt.clear(),tt.renderBufferDirect(vt,null,$t,ht,gt,null)}function bt(xt,vt,$t,zt,Nt,wt){let Et=null;const Rt=$t.isPointLight===!0?xt.customDistanceMaterial:xt.customDepthMaterial;if(Rt!==void 0?Et=Rt:Et=$t.isPointLight===!0?lt:st,tt.localClippingEnabled&&vt.clipShadows===!0&&vt.clippingPlanes.length!==0||vt.displacementMap&&vt.displacementScale!==0||vt.alphaMap&&vt.alphaTest>0){const Tt=Et.uuid,It=vt.uuid;let Pt=ct[Tt];Pt===void 0&&(Pt={},ct[Tt]=Pt);let Dt=Pt[It];Dt===void 0&&(Dt=Et.clone(),Pt[It]=Dt),Et=Dt}return Et.visible=vt.visible,Et.wireframe=vt.wireframe,wt===VSMShadowMap?Et.side=vt.shadowSide!==null?vt.shadowSide:vt.side:Et.side=vt.shadowSide!==null?vt.shadowSide:ut[vt.side],Et.alphaMap=vt.alphaMap,Et.alphaTest=vt.alphaTest,Et.clipShadows=vt.clipShadows,Et.clippingPlanes=vt.clippingPlanes,Et.clipIntersection=vt.clipIntersection,Et.displacementMap=vt.displacementMap,Et.displacementScale=vt.displacementScale,Et.displacementBias=vt.displacementBias,Et.wireframeLinewidth=vt.wireframeLinewidth,Et.linewidth=vt.linewidth,$t.isPointLight===!0&&Et.isMeshDistanceMaterial===!0&&(Et.referencePosition.setFromMatrixPosition($t.matrixWorld),Et.nearDistance=zt,Et.farDistance=Nt),Et}function St(xt,vt,$t,zt,Nt){if(xt.visible===!1)return;if(xt.layers.test(vt.layers)&&(xt.isMesh||xt.isLine||xt.isPoints)&&(xt.castShadow||xt.receiveShadow&&Nt===VSMShadowMap)&&(!xt.frustumCulled||rt.intersectsObject(xt))){xt.modelViewMatrix.multiplyMatrices($t.matrixWorldInverse,xt.matrixWorld);const Rt=et.update(xt),Tt=xt.material;if(Array.isArray(Tt)){const It=Rt.groups;for(let Pt=0,Dt=It.length;Pt<Dt;Pt++){const Ct=It[Pt],Ot=Tt[Ct.materialIndex];if(Ot&&Ot.visible){const Ut=bt(xt,Ot,zt,$t.near,$t.far,Nt);tt.renderBufferDirect($t,null,Rt,Ut,xt,Ct)}}}else if(Tt.visible){const It=bt(xt,Tt,zt,$t.near,$t.far,Nt);tt.renderBufferDirect($t,null,Rt,It,xt,null)}}const Et=xt.children;for(let Rt=0,Tt=Et.length;Rt<Tt;Rt++)St(Et[Rt],vt,$t,zt,Nt)}}function WebGLState(tt,et,nt){const rt=nt.isWebGL2;function it(){let Rn=!1;const Kn=new Vector4;let kn=null;const Bn=new Vector4(0,0,0,0);return{setMask:function(Hn){kn!==Hn&&!Rn&&(tt.colorMask(Hn,Hn,Hn,Hn),kn=Hn)},setLocked:function(Hn){Rn=Hn},setClear:function(Hn,Qn,qn,er,ir){ir===!0&&(Hn*=er,Qn*=er,qn*=er),Kn.set(Hn,Qn,qn,er),Bn.equals(Kn)===!1&&(tt.clearColor(Hn,Qn,qn,er),Bn.copy(Kn))},reset:function(){Rn=!1,kn=null,Bn.set(-1,0,0,0)}}}function ot(){let Rn=!1,Kn=null,kn=null,Bn=null;return{setTest:function(Hn){Hn?Jt(2929):Vt(2929)},setMask:function(Hn){Kn!==Hn&&!Rn&&(tt.depthMask(Hn),Kn=Hn)},setFunc:function(Hn){if(kn!==Hn){if(Hn)switch(Hn){case NeverDepth:tt.depthFunc(512);break;case AlwaysDepth:tt.depthFunc(519);break;case LessDepth:tt.depthFunc(513);break;case LessEqualDepth:tt.depthFunc(515);break;case EqualDepth:tt.depthFunc(514);break;case GreaterEqualDepth:tt.depthFunc(518);break;case GreaterDepth:tt.depthFunc(516);break;case NotEqualDepth:tt.depthFunc(517);break;default:tt.depthFunc(515)}else tt.depthFunc(515);kn=Hn}},setLocked:function(Hn){Rn=Hn},setClear:function(Hn){Bn!==Hn&&(tt.clearDepth(Hn),Bn=Hn)},reset:function(){Rn=!1,Kn=null,kn=null,Bn=null}}}function at(){let Rn=!1,Kn=null,kn=null,Bn=null,Hn=null,Qn=null,qn=null,er=null,ir=null;return{setTest:function(nr){Rn||(nr?Jt(2960):Vt(2960))},setMask:function(nr){Kn!==nr&&!Rn&&(tt.stencilMask(nr),Kn=nr)},setFunc:function(nr,ur,mr){(kn!==nr||Bn!==ur||Hn!==mr)&&(tt.stencilFunc(nr,ur,mr),kn=nr,Bn=ur,Hn=mr)},setOp:function(nr,ur,mr){(Qn!==nr||qn!==ur||er!==mr)&&(tt.stencilOp(nr,ur,mr),Qn=nr,qn=ur,er=mr)},setLocked:function(nr){Rn=nr},setClear:function(nr){ir!==nr&&(tt.clearStencil(nr),ir=nr)},reset:function(){Rn=!1,Kn=null,kn=null,Bn=null,Hn=null,Qn=null,qn=null,er=null,ir=null}}}const st=new it,lt=new ot,ct=new at;let ft={},ut={},dt=new WeakMap,ht=[],pt=null,gt=!1,mt=null,yt=null,bt=null,St=null,xt=null,vt=null,$t=null,zt=!1,Nt=null,wt=null,Et=null,Rt=null,Tt=null;const It=tt.getParameter(35661);let Pt=!1,Dt=0;const Ct=tt.getParameter(7938);Ct.indexOf("WebGL")!==-1?(Dt=parseFloat(/^WebGL (\d)/.exec(Ct)[1]),Pt=Dt>=1):Ct.indexOf("OpenGL ES")!==-1&&(Dt=parseFloat(/^OpenGL ES (\d)/.exec(Ct)[1]),Pt=Dt>=2);let Ot=null,Ut={};const At=tt.getParameter(3088),Mt=tt.getParameter(2978),jt=new Vector4().fromArray(At),kt=new Vector4().fromArray(Mt);function Gt(Rn,Kn,kn){const Bn=new Uint8Array(4),Hn=tt.createTexture();tt.bindTexture(Rn,Hn),tt.texParameteri(Rn,10241,9728),tt.texParameteri(Rn,10240,9728);for(let Qn=0;Qn<kn;Qn++)tt.texImage2D(Kn+Qn,0,6408,1,1,0,6408,5121,Bn);return Hn}const Ht={};Ht[3553]=Gt(3553,3553,1),Ht[34067]=Gt(34067,34069,6),st.setClear(0,0,0,1),lt.setClear(1),ct.setClear(0),Jt(2929),lt.setFunc(LessEqualDepth),Yt(!1),yn(CullFaceBack),Jt(2884),Xt(NoBlending);function Jt(Rn){ft[Rn]!==!0&&(tt.enable(Rn),ft[Rn]=!0)}function Vt(Rn){ft[Rn]!==!1&&(tt.disable(Rn),ft[Rn]=!1)}function Wt(Rn,Kn){return ut[Rn]!==Kn?(tt.bindFramebuffer(Rn,Kn),ut[Rn]=Kn,rt&&(Rn===36009&&(ut[36160]=Kn),Rn===36160&&(ut[36009]=Kn)),!0):!1}function Lt(Rn,Kn){let kn=ht,Bn=!1;if(Rn)if(kn=dt.get(Kn),kn===void 0&&(kn=[],dt.set(Kn,kn)),Rn.isWebGLMultipleRenderTargets){const Hn=Rn.texture;if(kn.length!==Hn.length||kn[0]!==36064){for(let Qn=0,qn=Hn.length;Qn<qn;Qn++)kn[Qn]=36064+Qn;kn.length=Hn.length,Bn=!0}}else kn[0]!==36064&&(kn[0]=36064,Bn=!0);else kn[0]!==1029&&(kn[0]=1029,Bn=!0);Bn&&(nt.isWebGL2?tt.drawBuffers(kn):et.get("WEBGL_draw_buffers").drawBuffersWEBGL(kn))}function Bt(Rn){return pt!==Rn?(tt.useProgram(Rn),pt=Rn,!0):!1}const Ft={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(rt)Ft[MinEquation]=32775,Ft[MaxEquation]=32776;else{const Rn=et.get("EXT_blend_minmax");Rn!==null&&(Ft[MinEquation]=Rn.MIN_EXT,Ft[MaxEquation]=Rn.MAX_EXT)}const sn={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Xt(Rn,Kn,kn,Bn,Hn,Qn,qn,er){if(Rn===NoBlending){gt===!0&&(Vt(3042),gt=!1);return}if(gt===!1&&(Jt(3042),gt=!0),Rn!==CustomBlending){if(Rn!==mt||er!==zt){if((yt!==AddEquation||xt!==AddEquation)&&(tt.blendEquation(32774),yt=AddEquation,xt=AddEquation),er)switch(Rn){case NormalBlending:tt.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:tt.blendFunc(1,1);break;case SubtractiveBlending:tt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:tt.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Rn);break}else switch(Rn){case NormalBlending:tt.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:tt.blendFunc(770,1);break;case SubtractiveBlending:tt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:tt.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Rn);break}bt=null,St=null,vt=null,$t=null,mt=Rn,zt=er}return}Hn=Hn||Kn,Qn=Qn||kn,qn=qn||Bn,(Kn!==yt||Hn!==xt)&&(tt.blendEquationSeparate(Ft[Kn],Ft[Hn]),yt=Kn,xt=Hn),(kn!==bt||Bn!==St||Qn!==vt||qn!==$t)&&(tt.blendFuncSeparate(sn[kn],sn[Bn],sn[Qn],sn[qn]),bt=kn,St=Bn,vt=Qn,$t=qn),mt=Rn,zt=null}function dn(Rn,Kn){Rn.side===DoubleSide?Vt(2884):Jt(2884);let kn=Rn.side===BackSide;Kn&&(kn=!kn),Yt(kn),Rn.blending===NormalBlending&&Rn.transparent===!1?Xt(NoBlending):Xt(Rn.blending,Rn.blendEquation,Rn.blendSrc,Rn.blendDst,Rn.blendEquationAlpha,Rn.blendSrcAlpha,Rn.blendDstAlpha,Rn.premultipliedAlpha),lt.setFunc(Rn.depthFunc),lt.setTest(Rn.depthTest),lt.setMask(Rn.depthWrite),st.setMask(Rn.colorWrite);const Bn=Rn.stencilWrite;ct.setTest(Bn),Bn&&(ct.setMask(Rn.stencilWriteMask),ct.setFunc(Rn.stencilFunc,Rn.stencilRef,Rn.stencilFuncMask),ct.setOp(Rn.stencilFail,Rn.stencilZFail,Rn.stencilZPass)),Kt(Rn.polygonOffset,Rn.polygonOffsetFactor,Rn.polygonOffsetUnits),Rn.alphaToCoverage===!0?Jt(32926):Vt(32926)}function Yt(Rn){Nt!==Rn&&(Rn?tt.frontFace(2304):tt.frontFace(2305),Nt=Rn)}function yn(Rn){Rn!==CullFaceNone?(Jt(2884),Rn!==wt&&(Rn===CullFaceBack?tt.cullFace(1029):Rn===CullFaceFront?tt.cullFace(1028):tt.cullFace(1032))):Vt(2884),wt=Rn}function Qt(Rn){Rn!==Et&&(Pt&&tt.lineWidth(Rn),Et=Rn)}function Kt(Rn,Kn,kn){Rn?(Jt(32823),(Rt!==Kn||Tt!==kn)&&(tt.polygonOffset(Kn,kn),Rt=Kn,Tt=kn)):Vt(32823)}function hn(Rn){Rn?Jt(3089):Vt(3089)}function vn(Rn){Rn===void 0&&(Rn=33984+It-1),Ot!==Rn&&(tt.activeTexture(Rn),Ot=Rn)}function Sn(Rn,Kn){Ot===null&&vn();let kn=Ut[Ot];kn===void 0&&(kn={type:void 0,texture:void 0},Ut[Ot]=kn),(kn.type!==Rn||kn.texture!==Kn)&&(tt.bindTexture(Rn,Kn||Ht[Rn]),kn.type=Rn,kn.texture=Kn)}function Cn(){const Rn=Ut[Ot];Rn!==void 0&&Rn.type!==void 0&&(tt.bindTexture(Rn.type,null),Rn.type=void 0,Rn.texture=void 0)}function cn(){try{tt.compressedTexImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function ln(){try{tt.texSubImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function bn(){try{tt.texSubImage3D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function xn(){try{tt.compressedTexSubImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Nn(){try{tt.texStorage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function zn(){try{tt.texStorage3D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Ln(){try{tt.texImage2D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Mn(){try{tt.texImage3D.apply(tt,arguments)}catch(Rn){console.error("THREE.WebGLState:",Rn)}}function Wn(Rn){jt.equals(Rn)===!1&&(tt.scissor(Rn.x,Rn.y,Rn.z,Rn.w),jt.copy(Rn))}function Jn(Rn){kt.equals(Rn)===!1&&(tt.viewport(Rn.x,Rn.y,Rn.z,Rn.w),kt.copy(Rn))}function Zn(){tt.disable(3042),tt.disable(2884),tt.disable(2929),tt.disable(32823),tt.disable(3089),tt.disable(2960),tt.disable(32926),tt.blendEquation(32774),tt.blendFunc(1,0),tt.blendFuncSeparate(1,0,1,0),tt.colorMask(!0,!0,!0,!0),tt.clearColor(0,0,0,0),tt.depthMask(!0),tt.depthFunc(513),tt.clearDepth(1),tt.stencilMask(4294967295),tt.stencilFunc(519,0,4294967295),tt.stencilOp(7680,7680,7680),tt.clearStencil(0),tt.cullFace(1029),tt.frontFace(2305),tt.polygonOffset(0,0),tt.activeTexture(33984),tt.bindFramebuffer(36160,null),rt===!0&&(tt.bindFramebuffer(36009,null),tt.bindFramebuffer(36008,null)),tt.useProgram(null),tt.lineWidth(1),tt.scissor(0,0,tt.canvas.width,tt.canvas.height),tt.viewport(0,0,tt.canvas.width,tt.canvas.height),ft={},Ot=null,Ut={},ut={},dt=new WeakMap,ht=[],pt=null,gt=!1,mt=null,yt=null,bt=null,St=null,xt=null,vt=null,$t=null,zt=!1,Nt=null,wt=null,Et=null,Rt=null,Tt=null,jt.set(0,0,tt.canvas.width,tt.canvas.height),kt.set(0,0,tt.canvas.width,tt.canvas.height),st.reset(),lt.reset(),ct.reset()}return{buffers:{color:st,depth:lt,stencil:ct},enable:Jt,disable:Vt,bindFramebuffer:Wt,drawBuffers:Lt,useProgram:Bt,setBlending:Xt,setMaterial:dn,setFlipSided:Yt,setCullFace:yn,setLineWidth:Qt,setPolygonOffset:Kt,setScissorTest:hn,activeTexture:vn,bindTexture:Sn,unbindTexture:Cn,compressedTexImage2D:cn,texImage2D:Ln,texImage3D:Mn,texStorage2D:Nn,texStorage3D:zn,texSubImage2D:ln,texSubImage3D:bn,compressedTexSubImage2D:xn,scissor:Wn,viewport:Jn,reset:Zn}}function WebGLTextures(tt,et,nt,rt,it,ot,at){const st=it.isWebGL2,lt=it.maxTextures,ct=it.maxCubemapSize,ft=it.maxTextureSize,ut=it.maxSamples,dt=et.has("WEBGL_multisampled_render_to_texture")?et.get("WEBGL_multisampled_render_to_texture"):null,ht=/OculusBrowser/g.test(navigator.userAgent),pt=new WeakMap;let gt;const mt=new WeakMap;let yt=!1;try{yt=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function bt(cn,ln){return yt?new OffscreenCanvas(cn,ln):createElementNS("canvas")}function St(cn,ln,bn,xn){let Nn=1;if((cn.width>xn||cn.height>xn)&&(Nn=xn/Math.max(cn.width,cn.height)),Nn<1||ln===!0)if(typeof HTMLImageElement!="undefined"&&cn instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&cn instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&cn instanceof ImageBitmap){const zn=ln?floorPowerOfTwo:Math.floor,Ln=zn(Nn*cn.width),Mn=zn(Nn*cn.height);gt===void 0&&(gt=bt(Ln,Mn));const Wn=bn?bt(Ln,Mn):gt;return Wn.width=Ln,Wn.height=Mn,Wn.getContext("2d").drawImage(cn,0,0,Ln,Mn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+cn.width+"x"+cn.height+") to ("+Ln+"x"+Mn+")."),Wn}else return"data"in cn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+cn.width+"x"+cn.height+")."),cn;return cn}function xt(cn){return isPowerOfTwo(cn.width)&&isPowerOfTwo(cn.height)}function vt(cn){return st?!1:cn.wrapS!==ClampToEdgeWrapping||cn.wrapT!==ClampToEdgeWrapping||cn.minFilter!==NearestFilter&&cn.minFilter!==LinearFilter}function $t(cn,ln){return cn.generateMipmaps&&ln&&cn.minFilter!==NearestFilter&&cn.minFilter!==LinearFilter}function zt(cn){tt.generateMipmap(cn)}function Nt(cn,ln,bn,xn,Nn=!1){if(st===!1)return ln;if(cn!==null){if(tt[cn]!==void 0)return tt[cn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+cn+"'")}let zn=ln;return ln===6403&&(bn===5126&&(zn=33326),bn===5131&&(zn=33325),bn===5121&&(zn=33321)),ln===33319&&(bn===5126&&(zn=33328),bn===5131&&(zn=33327),bn===5121&&(zn=33323)),ln===6408&&(bn===5126&&(zn=34836),bn===5131&&(zn=34842),bn===5121&&(zn=xn===sRGBEncoding&&Nn===!1?35907:32856),bn===32819&&(zn=32854),bn===32820&&(zn=32855)),(zn===33325||zn===33326||zn===33327||zn===33328||zn===34842||zn===34836)&&et.get("EXT_color_buffer_float"),zn}function wt(cn,ln,bn){return $t(cn,bn)===!0||cn.isFramebufferTexture&&cn.minFilter!==NearestFilter&&cn.minFilter!==LinearFilter?Math.log2(Math.max(ln.width,ln.height))+1:cn.mipmaps!==void 0&&cn.mipmaps.length>0?cn.mipmaps.length:cn.isCompressedTexture&&Array.isArray(cn.image)?ln.mipmaps.length:1}function Et(cn){return cn===NearestFilter||cn===NearestMipmapNearestFilter||cn===NearestMipmapLinearFilter?9728:9729}function Rt(cn){const ln=cn.target;ln.removeEventListener("dispose",Rt),It(ln),ln.isVideoTexture&&pt.delete(ln)}function Tt(cn){const ln=cn.target;ln.removeEventListener("dispose",Tt),Dt(ln)}function It(cn){const ln=rt.get(cn);if(ln.__webglInit===void 0)return;const bn=cn.source,xn=mt.get(bn);if(xn){const Nn=xn[ln.__cacheKey];Nn.usedTimes--,Nn.usedTimes===0&&Pt(cn),Object.keys(xn).length===0&&mt.delete(bn)}rt.remove(cn)}function Pt(cn){const ln=rt.get(cn);tt.deleteTexture(ln.__webglTexture);const bn=cn.source,xn=mt.get(bn);delete xn[ln.__cacheKey],at.memory.textures--}function Dt(cn){const ln=cn.texture,bn=rt.get(cn),xn=rt.get(ln);if(xn.__webglTexture!==void 0&&(tt.deleteTexture(xn.__webglTexture),at.memory.textures--),cn.depthTexture&&cn.depthTexture.dispose(),cn.isWebGLCubeRenderTarget)for(let Nn=0;Nn<6;Nn++)tt.deleteFramebuffer(bn.__webglFramebuffer[Nn]),bn.__webglDepthbuffer&&tt.deleteRenderbuffer(bn.__webglDepthbuffer[Nn]);else tt.deleteFramebuffer(bn.__webglFramebuffer),bn.__webglDepthbuffer&&tt.deleteRenderbuffer(bn.__webglDepthbuffer),bn.__webglMultisampledFramebuffer&&tt.deleteFramebuffer(bn.__webglMultisampledFramebuffer),bn.__webglColorRenderbuffer&&tt.deleteRenderbuffer(bn.__webglColorRenderbuffer),bn.__webglDepthRenderbuffer&&tt.deleteRenderbuffer(bn.__webglDepthRenderbuffer);if(cn.isWebGLMultipleRenderTargets)for(let Nn=0,zn=ln.length;Nn<zn;Nn++){const Ln=rt.get(ln[Nn]);Ln.__webglTexture&&(tt.deleteTexture(Ln.__webglTexture),at.memory.textures--),rt.remove(ln[Nn])}rt.remove(ln),rt.remove(cn)}let Ct=0;function Ot(){Ct=0}function Ut(){const cn=Ct;return cn>=lt&&console.warn("THREE.WebGLTextures: Trying to use "+cn+" texture units while this GPU supports only "+lt),Ct+=1,cn}function At(cn){const ln=[];return ln.push(cn.wrapS),ln.push(cn.wrapT),ln.push(cn.magFilter),ln.push(cn.minFilter),ln.push(cn.anisotropy),ln.push(cn.internalFormat),ln.push(cn.format),ln.push(cn.type),ln.push(cn.generateMipmaps),ln.push(cn.premultiplyAlpha),ln.push(cn.flipY),ln.push(cn.unpackAlignment),ln.push(cn.encoding),ln.join()}function Mt(cn,ln){const bn=rt.get(cn);if(cn.isVideoTexture&&Sn(cn),cn.isRenderTargetTexture===!1&&cn.version>0&&bn.__version!==cn.version){const xn=cn.image;if(xn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Lt(bn,cn,ln);return}}nt.activeTexture(33984+ln),nt.bindTexture(3553,bn.__webglTexture)}function jt(cn,ln){const bn=rt.get(cn);if(cn.version>0&&bn.__version!==cn.version){Lt(bn,cn,ln);return}nt.activeTexture(33984+ln),nt.bindTexture(35866,bn.__webglTexture)}function kt(cn,ln){const bn=rt.get(cn);if(cn.version>0&&bn.__version!==cn.version){Lt(bn,cn,ln);return}nt.activeTexture(33984+ln),nt.bindTexture(32879,bn.__webglTexture)}function Gt(cn,ln){const bn=rt.get(cn);if(cn.version>0&&bn.__version!==cn.version){Bt(bn,cn,ln);return}nt.activeTexture(33984+ln),nt.bindTexture(34067,bn.__webglTexture)}const Ht={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},Jt={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Vt(cn,ln,bn){if(bn?(tt.texParameteri(cn,10242,Ht[ln.wrapS]),tt.texParameteri(cn,10243,Ht[ln.wrapT]),(cn===32879||cn===35866)&&tt.texParameteri(cn,32882,Ht[ln.wrapR]),tt.texParameteri(cn,10240,Jt[ln.magFilter]),tt.texParameteri(cn,10241,Jt[ln.minFilter])):(tt.texParameteri(cn,10242,33071),tt.texParameteri(cn,10243,33071),(cn===32879||cn===35866)&&tt.texParameteri(cn,32882,33071),(ln.wrapS!==ClampToEdgeWrapping||ln.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),tt.texParameteri(cn,10240,Et(ln.magFilter)),tt.texParameteri(cn,10241,Et(ln.minFilter)),ln.minFilter!==NearestFilter&&ln.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),et.has("EXT_texture_filter_anisotropic")===!0){const xn=et.get("EXT_texture_filter_anisotropic");if(ln.type===FloatType&&et.has("OES_texture_float_linear")===!1||st===!1&&ln.type===HalfFloatType&&et.has("OES_texture_half_float_linear")===!1)return;(ln.anisotropy>1||rt.get(ln).__currentAnisotropy)&&(tt.texParameterf(cn,xn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ln.anisotropy,it.getMaxAnisotropy())),rt.get(ln).__currentAnisotropy=ln.anisotropy)}}function Wt(cn,ln){let bn=!1;cn.__webglInit===void 0&&(cn.__webglInit=!0,ln.addEventListener("dispose",Rt));const xn=ln.source;let Nn=mt.get(xn);Nn===void 0&&(Nn={},mt.set(xn,Nn));const zn=At(ln);if(zn!==cn.__cacheKey){Nn[zn]===void 0&&(Nn[zn]={texture:tt.createTexture(),usedTimes:0},at.memory.textures++,bn=!0),Nn[zn].usedTimes++;const Ln=Nn[cn.__cacheKey];Ln!==void 0&&(Nn[cn.__cacheKey].usedTimes--,Ln.usedTimes===0&&Pt(ln)),cn.__cacheKey=zn,cn.__webglTexture=Nn[zn].texture}return bn}function Lt(cn,ln,bn){let xn=3553;ln.isDataArrayTexture&&(xn=35866),ln.isData3DTexture&&(xn=32879);const Nn=Wt(cn,ln),zn=ln.source;if(nt.activeTexture(33984+bn),nt.bindTexture(xn,cn.__webglTexture),zn.version!==zn.__currentVersion||Nn===!0){tt.pixelStorei(37440,ln.flipY),tt.pixelStorei(37441,ln.premultiplyAlpha),tt.pixelStorei(3317,ln.unpackAlignment),tt.pixelStorei(37443,0);const Ln=vt(ln)&&xt(ln.image)===!1;let Mn=St(ln.image,Ln,!1,ft);Mn=Cn(ln,Mn);const Wn=xt(Mn)||st,Jn=ot.convert(ln.format,ln.encoding);let Zn=ot.convert(ln.type),Rn=Nt(ln.internalFormat,Jn,Zn,ln.encoding,ln.isVideoTexture);Vt(xn,ln,Wn);let Kn;const kn=ln.mipmaps,Bn=st&&ln.isVideoTexture!==!0,Hn=cn.__version===void 0||Nn===!0,Qn=wt(ln,Mn,Wn);if(ln.isDepthTexture)Rn=6402,st?ln.type===FloatType?Rn=36012:ln.type===UnsignedIntType?Rn=33190:ln.type===UnsignedInt248Type?Rn=35056:Rn=33189:ln.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ln.format===DepthFormat&&Rn===6402&&ln.type!==UnsignedShortType&&ln.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ln.type=UnsignedShortType,Zn=ot.convert(ln.type)),ln.format===DepthStencilFormat&&Rn===6402&&(Rn=34041,ln.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ln.type=UnsignedInt248Type,Zn=ot.convert(ln.type))),Hn&&(Bn?nt.texStorage2D(3553,1,Rn,Mn.width,Mn.height):nt.texImage2D(3553,0,Rn,Mn.width,Mn.height,0,Jn,Zn,null));else if(ln.isDataTexture)if(kn.length>0&&Wn){Bn&&Hn&&nt.texStorage2D(3553,Qn,Rn,kn[0].width,kn[0].height);for(let qn=0,er=kn.length;qn<er;qn++)Kn=kn[qn],Bn?nt.texSubImage2D(3553,qn,0,0,Kn.width,Kn.height,Jn,Zn,Kn.data):nt.texImage2D(3553,qn,Rn,Kn.width,Kn.height,0,Jn,Zn,Kn.data);ln.generateMipmaps=!1}else Bn?(Hn&&nt.texStorage2D(3553,Qn,Rn,Mn.width,Mn.height),nt.texSubImage2D(3553,0,0,0,Mn.width,Mn.height,Jn,Zn,Mn.data)):nt.texImage2D(3553,0,Rn,Mn.width,Mn.height,0,Jn,Zn,Mn.data);else if(ln.isCompressedTexture){Bn&&Hn&&nt.texStorage2D(3553,Qn,Rn,kn[0].width,kn[0].height);for(let qn=0,er=kn.length;qn<er;qn++)Kn=kn[qn],ln.format!==RGBAFormat?Jn!==null?Bn?nt.compressedTexSubImage2D(3553,qn,0,0,Kn.width,Kn.height,Jn,Kn.data):nt.compressedTexImage2D(3553,qn,Rn,Kn.width,Kn.height,0,Kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bn?nt.texSubImage2D(3553,qn,0,0,Kn.width,Kn.height,Jn,Zn,Kn.data):nt.texImage2D(3553,qn,Rn,Kn.width,Kn.height,0,Jn,Zn,Kn.data)}else if(ln.isDataArrayTexture)Bn?(Hn&&nt.texStorage3D(35866,Qn,Rn,Mn.width,Mn.height,Mn.depth),nt.texSubImage3D(35866,0,0,0,0,Mn.width,Mn.height,Mn.depth,Jn,Zn,Mn.data)):nt.texImage3D(35866,0,Rn,Mn.width,Mn.height,Mn.depth,0,Jn,Zn,Mn.data);else if(ln.isData3DTexture)Bn?(Hn&&nt.texStorage3D(32879,Qn,Rn,Mn.width,Mn.height,Mn.depth),nt.texSubImage3D(32879,0,0,0,0,Mn.width,Mn.height,Mn.depth,Jn,Zn,Mn.data)):nt.texImage3D(32879,0,Rn,Mn.width,Mn.height,Mn.depth,0,Jn,Zn,Mn.data);else if(ln.isFramebufferTexture){if(Hn)if(Bn)nt.texStorage2D(3553,Qn,Rn,Mn.width,Mn.height);else{let qn=Mn.width,er=Mn.height;for(let ir=0;ir<Qn;ir++)nt.texImage2D(3553,ir,Rn,qn,er,0,Jn,Zn,null),qn>>=1,er>>=1}}else if(kn.length>0&&Wn){Bn&&Hn&&nt.texStorage2D(3553,Qn,Rn,kn[0].width,kn[0].height);for(let qn=0,er=kn.length;qn<er;qn++)Kn=kn[qn],Bn?nt.texSubImage2D(3553,qn,0,0,Jn,Zn,Kn):nt.texImage2D(3553,qn,Rn,Jn,Zn,Kn);ln.generateMipmaps=!1}else Bn?(Hn&&nt.texStorage2D(3553,Qn,Rn,Mn.width,Mn.height),nt.texSubImage2D(3553,0,0,0,Jn,Zn,Mn)):nt.texImage2D(3553,0,Rn,Jn,Zn,Mn);$t(ln,Wn)&&zt(xn),zn.__currentVersion=zn.version,ln.onUpdate&&ln.onUpdate(ln)}cn.__version=ln.version}function Bt(cn,ln,bn){if(ln.image.length!==6)return;const xn=Wt(cn,ln),Nn=ln.source;if(nt.activeTexture(33984+bn),nt.bindTexture(34067,cn.__webglTexture),Nn.version!==Nn.__currentVersion||xn===!0){tt.pixelStorei(37440,ln.flipY),tt.pixelStorei(37441,ln.premultiplyAlpha),tt.pixelStorei(3317,ln.unpackAlignment),tt.pixelStorei(37443,0);const zn=ln.isCompressedTexture||ln.image[0].isCompressedTexture,Ln=ln.image[0]&&ln.image[0].isDataTexture,Mn=[];for(let qn=0;qn<6;qn++)!zn&&!Ln?Mn[qn]=St(ln.image[qn],!1,!0,ct):Mn[qn]=Ln?ln.image[qn].image:ln.image[qn],Mn[qn]=Cn(ln,Mn[qn]);const Wn=Mn[0],Jn=xt(Wn)||st,Zn=ot.convert(ln.format,ln.encoding),Rn=ot.convert(ln.type),Kn=Nt(ln.internalFormat,Zn,Rn,ln.encoding),kn=st&&ln.isVideoTexture!==!0,Bn=cn.__version===void 0;let Hn=wt(ln,Wn,Jn);Vt(34067,ln,Jn);let Qn;if(zn){kn&&Bn&&nt.texStorage2D(34067,Hn,Kn,Wn.width,Wn.height);for(let qn=0;qn<6;qn++){Qn=Mn[qn].mipmaps;for(let er=0;er<Qn.length;er++){const ir=Qn[er];ln.format!==RGBAFormat?Zn!==null?kn?nt.compressedTexSubImage2D(34069+qn,er,0,0,ir.width,ir.height,Zn,ir.data):nt.compressedTexImage2D(34069+qn,er,Kn,ir.width,ir.height,0,ir.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):kn?nt.texSubImage2D(34069+qn,er,0,0,ir.width,ir.height,Zn,Rn,ir.data):nt.texImage2D(34069+qn,er,Kn,ir.width,ir.height,0,Zn,Rn,ir.data)}}}else{Qn=ln.mipmaps,kn&&Bn&&(Qn.length>0&&Hn++,nt.texStorage2D(34067,Hn,Kn,Mn[0].width,Mn[0].height));for(let qn=0;qn<6;qn++)if(Ln){kn?nt.texSubImage2D(34069+qn,0,0,0,Mn[qn].width,Mn[qn].height,Zn,Rn,Mn[qn].data):nt.texImage2D(34069+qn,0,Kn,Mn[qn].width,Mn[qn].height,0,Zn,Rn,Mn[qn].data);for(let er=0;er<Qn.length;er++){const nr=Qn[er].image[qn].image;kn?nt.texSubImage2D(34069+qn,er+1,0,0,nr.width,nr.height,Zn,Rn,nr.data):nt.texImage2D(34069+qn,er+1,Kn,nr.width,nr.height,0,Zn,Rn,nr.data)}}else{kn?nt.texSubImage2D(34069+qn,0,0,0,Zn,Rn,Mn[qn]):nt.texImage2D(34069+qn,0,Kn,Zn,Rn,Mn[qn]);for(let er=0;er<Qn.length;er++){const ir=Qn[er];kn?nt.texSubImage2D(34069+qn,er+1,0,0,Zn,Rn,ir.image[qn]):nt.texImage2D(34069+qn,er+1,Kn,Zn,Rn,ir.image[qn])}}}$t(ln,Jn)&&zt(34067),Nn.__currentVersion=Nn.version,ln.onUpdate&&ln.onUpdate(ln)}cn.__version=ln.version}function Ft(cn,ln,bn,xn,Nn){const zn=ot.convert(bn.format,bn.encoding),Ln=ot.convert(bn.type),Mn=Nt(bn.internalFormat,zn,Ln,bn.encoding);rt.get(ln).__hasExternalTextures||(Nn===32879||Nn===35866?nt.texImage3D(Nn,0,Mn,ln.width,ln.height,ln.depth,0,zn,Ln,null):nt.texImage2D(Nn,0,Mn,ln.width,ln.height,0,zn,Ln,null)),nt.bindFramebuffer(36160,cn),vn(ln)?dt.framebufferTexture2DMultisampleEXT(36160,xn,Nn,rt.get(bn).__webglTexture,0,hn(ln)):tt.framebufferTexture2D(36160,xn,Nn,rt.get(bn).__webglTexture,0),nt.bindFramebuffer(36160,null)}function sn(cn,ln,bn){if(tt.bindRenderbuffer(36161,cn),ln.depthBuffer&&!ln.stencilBuffer){let xn=33189;if(bn||vn(ln)){const Nn=ln.depthTexture;Nn&&Nn.isDepthTexture&&(Nn.type===FloatType?xn=36012:Nn.type===UnsignedIntType&&(xn=33190));const zn=hn(ln);vn(ln)?dt.renderbufferStorageMultisampleEXT(36161,zn,xn,ln.width,ln.height):tt.renderbufferStorageMultisample(36161,zn,xn,ln.width,ln.height)}else tt.renderbufferStorage(36161,xn,ln.width,ln.height);tt.framebufferRenderbuffer(36160,36096,36161,cn)}else if(ln.depthBuffer&&ln.stencilBuffer){const xn=hn(ln);bn&&vn(ln)===!1?tt.renderbufferStorageMultisample(36161,xn,35056,ln.width,ln.height):vn(ln)?dt.renderbufferStorageMultisampleEXT(36161,xn,35056,ln.width,ln.height):tt.renderbufferStorage(36161,34041,ln.width,ln.height),tt.framebufferRenderbuffer(36160,33306,36161,cn)}else{const xn=ln.isWebGLMultipleRenderTargets===!0?ln.texture[0]:ln.texture,Nn=ot.convert(xn.format,xn.encoding),zn=ot.convert(xn.type),Ln=Nt(xn.internalFormat,Nn,zn,xn.encoding),Mn=hn(ln);bn&&vn(ln)===!1?tt.renderbufferStorageMultisample(36161,Mn,Ln,ln.width,ln.height):vn(ln)?dt.renderbufferStorageMultisampleEXT(36161,Mn,Ln,ln.width,ln.height):tt.renderbufferStorage(36161,Ln,ln.width,ln.height)}tt.bindRenderbuffer(36161,null)}function Xt(cn,ln){if(ln&&ln.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(nt.bindFramebuffer(36160,cn),!(ln.depthTexture&&ln.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!rt.get(ln.depthTexture).__webglTexture||ln.depthTexture.image.width!==ln.width||ln.depthTexture.image.height!==ln.height)&&(ln.depthTexture.image.width=ln.width,ln.depthTexture.image.height=ln.height,ln.depthTexture.needsUpdate=!0),Mt(ln.depthTexture,0);const xn=rt.get(ln.depthTexture).__webglTexture,Nn=hn(ln);if(ln.depthTexture.format===DepthFormat)vn(ln)?dt.framebufferTexture2DMultisampleEXT(36160,36096,3553,xn,0,Nn):tt.framebufferTexture2D(36160,36096,3553,xn,0);else if(ln.depthTexture.format===DepthStencilFormat)vn(ln)?dt.framebufferTexture2DMultisampleEXT(36160,33306,3553,xn,0,Nn):tt.framebufferTexture2D(36160,33306,3553,xn,0);else throw new Error("Unknown depthTexture format")}function dn(cn){const ln=rt.get(cn),bn=cn.isWebGLCubeRenderTarget===!0;if(cn.depthTexture&&!ln.__autoAllocateDepthBuffer){if(bn)throw new Error("target.depthTexture not supported in Cube render targets");Xt(ln.__webglFramebuffer,cn)}else if(bn){ln.__webglDepthbuffer=[];for(let xn=0;xn<6;xn++)nt.bindFramebuffer(36160,ln.__webglFramebuffer[xn]),ln.__webglDepthbuffer[xn]=tt.createRenderbuffer(),sn(ln.__webglDepthbuffer[xn],cn,!1)}else nt.bindFramebuffer(36160,ln.__webglFramebuffer),ln.__webglDepthbuffer=tt.createRenderbuffer(),sn(ln.__webglDepthbuffer,cn,!1);nt.bindFramebuffer(36160,null)}function Yt(cn,ln,bn){const xn=rt.get(cn);ln!==void 0&&Ft(xn.__webglFramebuffer,cn,cn.texture,36064,3553),bn!==void 0&&dn(cn)}function yn(cn){const ln=cn.texture,bn=rt.get(cn),xn=rt.get(ln);cn.addEventListener("dispose",Tt),cn.isWebGLMultipleRenderTargets!==!0&&(xn.__webglTexture===void 0&&(xn.__webglTexture=tt.createTexture()),xn.__version=ln.version,at.memory.textures++);const Nn=cn.isWebGLCubeRenderTarget===!0,zn=cn.isWebGLMultipleRenderTargets===!0,Ln=xt(cn)||st;if(Nn){bn.__webglFramebuffer=[];for(let Mn=0;Mn<6;Mn++)bn.__webglFramebuffer[Mn]=tt.createFramebuffer()}else if(bn.__webglFramebuffer=tt.createFramebuffer(),zn)if(it.drawBuffers){const Mn=cn.texture;for(let Wn=0,Jn=Mn.length;Wn<Jn;Wn++){const Zn=rt.get(Mn[Wn]);Zn.__webglTexture===void 0&&(Zn.__webglTexture=tt.createTexture(),at.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(st&&cn.samples>0&&vn(cn)===!1){bn.__webglMultisampledFramebuffer=tt.createFramebuffer(),bn.__webglColorRenderbuffer=tt.createRenderbuffer(),tt.bindRenderbuffer(36161,bn.__webglColorRenderbuffer);const Mn=ot.convert(ln.format,ln.encoding),Wn=ot.convert(ln.type),Jn=Nt(ln.internalFormat,Mn,Wn,ln.encoding),Zn=hn(cn);tt.renderbufferStorageMultisample(36161,Zn,Jn,cn.width,cn.height),nt.bindFramebuffer(36160,bn.__webglMultisampledFramebuffer),tt.framebufferRenderbuffer(36160,36064,36161,bn.__webglColorRenderbuffer),tt.bindRenderbuffer(36161,null),cn.depthBuffer&&(bn.__webglDepthRenderbuffer=tt.createRenderbuffer(),sn(bn.__webglDepthRenderbuffer,cn,!0)),nt.bindFramebuffer(36160,null)}if(Nn){nt.bindTexture(34067,xn.__webglTexture),Vt(34067,ln,Ln);for(let Mn=0;Mn<6;Mn++)Ft(bn.__webglFramebuffer[Mn],cn,ln,36064,34069+Mn);$t(ln,Ln)&&zt(34067),nt.unbindTexture()}else if(zn){const Mn=cn.texture;for(let Wn=0,Jn=Mn.length;Wn<Jn;Wn++){const Zn=Mn[Wn],Rn=rt.get(Zn);nt.bindTexture(3553,Rn.__webglTexture),Vt(3553,Zn,Ln),Ft(bn.__webglFramebuffer,cn,Zn,36064+Wn,3553),$t(Zn,Ln)&&zt(3553)}nt.unbindTexture()}else{let Mn=3553;(cn.isWebGL3DRenderTarget||cn.isWebGLArrayRenderTarget)&&(st?Mn=cn.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),nt.bindTexture(Mn,xn.__webglTexture),Vt(Mn,ln,Ln),Ft(bn.__webglFramebuffer,cn,ln,36064,Mn),$t(ln,Ln)&&zt(Mn),nt.unbindTexture()}cn.depthBuffer&&dn(cn)}function Qt(cn){const ln=xt(cn)||st,bn=cn.isWebGLMultipleRenderTargets===!0?cn.texture:[cn.texture];for(let xn=0,Nn=bn.length;xn<Nn;xn++){const zn=bn[xn];if($t(zn,ln)){const Ln=cn.isWebGLCubeRenderTarget?34067:3553,Mn=rt.get(zn).__webglTexture;nt.bindTexture(Ln,Mn),zt(Ln),nt.unbindTexture()}}}function Kt(cn){if(st&&cn.samples>0&&vn(cn)===!1){const ln=cn.width,bn=cn.height;let xn=16384;const Nn=[36064],zn=cn.stencilBuffer?33306:36096;cn.depthBuffer&&Nn.push(zn);const Ln=rt.get(cn),Mn=Ln.__ignoreDepthValues!==void 0?Ln.__ignoreDepthValues:!1;Mn===!1&&(cn.depthBuffer&&(xn|=256),cn.stencilBuffer&&(xn|=1024)),nt.bindFramebuffer(36008,Ln.__webglMultisampledFramebuffer),nt.bindFramebuffer(36009,Ln.__webglFramebuffer),Mn===!0&&(tt.invalidateFramebuffer(36008,[zn]),tt.invalidateFramebuffer(36009,[zn])),tt.blitFramebuffer(0,0,ln,bn,0,0,ln,bn,xn,9728),ht&&tt.invalidateFramebuffer(36008,Nn),nt.bindFramebuffer(36008,null),nt.bindFramebuffer(36009,Ln.__webglMultisampledFramebuffer)}}function hn(cn){return Math.min(ut,cn.samples)}function vn(cn){const ln=rt.get(cn);return st&&cn.samples>0&&et.has("WEBGL_multisampled_render_to_texture")===!0&&ln.__useRenderToTexture!==!1}function Sn(cn){const ln=at.render.frame;pt.get(cn)!==ln&&(pt.set(cn,ln),cn.update())}function Cn(cn,ln){const bn=cn.encoding,xn=cn.format,Nn=cn.type;return cn.isCompressedTexture===!0||cn.isVideoTexture===!0||cn.format===_SRGBAFormat||bn!==LinearEncoding&&(bn===sRGBEncoding?st===!1?et.has("EXT_sRGB")===!0&&xn===RGBAFormat?(cn.format=_SRGBAFormat,cn.minFilter=LinearFilter,cn.generateMipmaps=!1):ln=ImageUtils.sRGBToLinear(ln):(xn!==RGBAFormat||Nn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",bn)),ln}this.allocateTextureUnit=Ut,this.resetTextureUnits=Ot,this.setTexture2D=Mt,this.setTexture2DArray=jt,this.setTexture3D=kt,this.setTextureCube=Gt,this.rebindTextures=Yt,this.setupRenderTarget=yn,this.updateRenderTargetMipmap=Qt,this.updateMultisampleRenderTarget=Kt,this.setupDepthRenderbuffer=dn,this.setupFrameBufferTexture=Ft,this.useMultisampledRTT=vn}function WebGLUtils(tt,et,nt){const rt=nt.isWebGL2;function it(ot,at=null){let st;if(ot===UnsignedByteType)return 5121;if(ot===UnsignedShort4444Type)return 32819;if(ot===UnsignedShort5551Type)return 32820;if(ot===ByteType)return 5120;if(ot===ShortType)return 5122;if(ot===UnsignedShortType)return 5123;if(ot===IntType)return 5124;if(ot===UnsignedIntType)return 5125;if(ot===FloatType)return 5126;if(ot===HalfFloatType)return rt?5131:(st=et.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(ot===AlphaFormat)return 6406;if(ot===RGBAFormat)return 6408;if(ot===LuminanceFormat)return 6409;if(ot===LuminanceAlphaFormat)return 6410;if(ot===DepthFormat)return 6402;if(ot===DepthStencilFormat)return 34041;if(ot===RedFormat)return 6403;if(ot===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(ot===_SRGBAFormat)return st=et.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(ot===RedIntegerFormat)return 36244;if(ot===RGFormat)return 33319;if(ot===RGIntegerFormat)return 33320;if(ot===RGBAIntegerFormat)return 36249;if(ot===RGB_S3TC_DXT1_Format||ot===RGBA_S3TC_DXT1_Format||ot===RGBA_S3TC_DXT3_Format||ot===RGBA_S3TC_DXT5_Format)if(at===sRGBEncoding)if(st=et.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(ot===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(ot===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=et.get("WEBGL_compressed_texture_s3tc"),st!==null){if(ot===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(ot===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(ot===RGB_PVRTC_4BPPV1_Format||ot===RGB_PVRTC_2BPPV1_Format||ot===RGBA_PVRTC_4BPPV1_Format||ot===RGBA_PVRTC_2BPPV1_Format)if(st=et.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(ot===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(ot===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(ot===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(ot===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(ot===RGB_ETC1_Format)return st=et.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(ot===RGB_ETC2_Format||ot===RGBA_ETC2_EAC_Format)if(st=et.get("WEBGL_compressed_texture_etc"),st!==null){if(ot===RGB_ETC2_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(ot===RGBA_ETC2_EAC_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(ot===RGBA_ASTC_4x4_Format||ot===RGBA_ASTC_5x4_Format||ot===RGBA_ASTC_5x5_Format||ot===RGBA_ASTC_6x5_Format||ot===RGBA_ASTC_6x6_Format||ot===RGBA_ASTC_8x5_Format||ot===RGBA_ASTC_8x6_Format||ot===RGBA_ASTC_8x8_Format||ot===RGBA_ASTC_10x5_Format||ot===RGBA_ASTC_10x6_Format||ot===RGBA_ASTC_10x8_Format||ot===RGBA_ASTC_10x10_Format||ot===RGBA_ASTC_12x10_Format||ot===RGBA_ASTC_12x12_Format)if(st=et.get("WEBGL_compressed_texture_astc"),st!==null){if(ot===RGBA_ASTC_4x4_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(ot===RGBA_ASTC_5x4_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(ot===RGBA_ASTC_5x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(ot===RGBA_ASTC_6x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(ot===RGBA_ASTC_6x6_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(ot===RGBA_ASTC_8x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(ot===RGBA_ASTC_8x6_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(ot===RGBA_ASTC_8x8_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(ot===RGBA_ASTC_10x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(ot===RGBA_ASTC_10x6_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(ot===RGBA_ASTC_10x8_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(ot===RGBA_ASTC_10x10_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(ot===RGBA_ASTC_12x10_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(ot===RGBA_ASTC_12x12_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(ot===RGBA_BPTC_Format)if(st=et.get("EXT_texture_compression_bptc"),st!==null){if(ot===RGBA_BPTC_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return ot===UnsignedInt248Type?rt?34042:(st=et.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):tt[ot]!==void 0?tt[ot]:null}return{convert:it}}class ArrayCamera extends PerspectiveCamera{constructor(et=[]){super(),this.cameras=et}}ArrayCamera.prototype.isArrayCamera=!0;class Group extends Object3D{constructor(){super(),this.type="Group"}}Group.prototype.isGroup=!0;const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(et){return this._targetRay!==null&&this._targetRay.dispatchEvent(et),this._grip!==null&&this._grip.dispatchEvent(et),this._hand!==null&&this._hand.dispatchEvent(et),this}disconnect(et){return this.dispatchEvent({type:"disconnected",data:et}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(et,nt,rt){let it=null,ot=null,at=null;const st=this._targetRay,lt=this._grip,ct=this._hand;if(et&&nt.session.visibilityState!=="visible-blurred")if(st!==null&&(it=nt.getPose(et.targetRaySpace,rt),it!==null&&(st.matrix.fromArray(it.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),it.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(it.linearVelocity)):st.hasLinearVelocity=!1,it.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(it.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent))),ct&&et.hand){at=!0;for(const gt of et.hand.values()){const mt=nt.getJointPose(gt,rt);if(ct.joints[gt.jointName]===void 0){const bt=new Group;bt.matrixAutoUpdate=!1,bt.visible=!1,ct.joints[gt.jointName]=bt,ct.add(bt)}const yt=ct.joints[gt.jointName];mt!==null&&(yt.matrix.fromArray(mt.transform.matrix),yt.matrix.decompose(yt.position,yt.rotation,yt.scale),yt.jointRadius=mt.radius),yt.visible=mt!==null}const ft=ct.joints["index-finger-tip"],ut=ct.joints["thumb-tip"],dt=ft.position.distanceTo(ut.position),ht=.02,pt=.005;ct.inputState.pinching&&dt>ht+pt?(ct.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:et.handedness,target:this})):!ct.inputState.pinching&&dt<=ht-pt&&(ct.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:et.handedness,target:this}))}else lt!==null&&et.gripSpace&&(ot=nt.getPose(et.gripSpace,rt),ot!==null&&(lt.matrix.fromArray(ot.transform.matrix),lt.matrix.decompose(lt.position,lt.rotation,lt.scale),ot.linearVelocity?(lt.hasLinearVelocity=!0,lt.linearVelocity.copy(ot.linearVelocity)):lt.hasLinearVelocity=!1,ot.angularVelocity?(lt.hasAngularVelocity=!0,lt.angularVelocity.copy(ot.angularVelocity)):lt.hasAngularVelocity=!1));return st!==null&&(st.visible=it!==null),lt!==null&&(lt.visible=ot!==null),ct!==null&&(ct.visible=at!==null),this}}class DepthTexture extends Texture{constructor(et,nt,rt,it,ot,at,st,lt,ct,ft){if(ft=ft!==void 0?ft:DepthFormat,ft!==DepthFormat&&ft!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");rt===void 0&&ft===DepthFormat&&(rt=UnsignedShortType),rt===void 0&&ft===DepthStencilFormat&&(rt=UnsignedInt248Type),super(null,it,ot,at,st,lt,ft,rt,ct),this.image={width:et,height:nt},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=lt!==void 0?lt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}DepthTexture.prototype.isDepthTexture=!0;class WebXRManager extends EventDispatcher{constructor(et,nt){super();const rt=this;let it=null,ot=1,at=null,st="local-floor",lt=null,ct=null,ft=null,ut=null,dt=null,ht=null;const pt=nt.getContextAttributes();let gt=null,mt=null;const yt=[],bt=new Map,St=new PerspectiveCamera;St.layers.enable(1),St.viewport=new Vector4;const xt=new PerspectiveCamera;xt.layers.enable(2),xt.viewport=new Vector4;const vt=[St,xt],$t=new ArrayCamera;$t.layers.enable(1),$t.layers.enable(2);let zt=null,Nt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(At){let Mt=yt[At];return Mt===void 0&&(Mt=new WebXRController,yt[At]=Mt),Mt.getTargetRaySpace()},this.getControllerGrip=function(At){let Mt=yt[At];return Mt===void 0&&(Mt=new WebXRController,yt[At]=Mt),Mt.getGripSpace()},this.getHand=function(At){let Mt=yt[At];return Mt===void 0&&(Mt=new WebXRController,yt[At]=Mt),Mt.getHandSpace()};function wt(At){const Mt=bt.get(At.inputSource);Mt&&Mt.dispatchEvent({type:At.type,data:At.inputSource})}function Et(){bt.forEach(function(At,Mt){At.disconnect(Mt)}),bt.clear(),zt=null,Nt=null,et.setRenderTarget(gt),dt=null,ut=null,ft=null,it=null,mt=null,Ut.stop(),rt.isPresenting=!1,rt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(At){ot=At,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(At){st=At,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return lt||at},this.setReferenceSpace=function(At){lt=At},this.getBaseLayer=function(){return ut!==null?ut:dt},this.getBinding=function(){return ft},this.getFrame=function(){return ht},this.getSession=function(){return it},this.setSession=async function(At){if(it=At,it!==null){if(gt=et.getRenderTarget(),it.addEventListener("select",wt),it.addEventListener("selectstart",wt),it.addEventListener("selectend",wt),it.addEventListener("squeeze",wt),it.addEventListener("squeezestart",wt),it.addEventListener("squeezeend",wt),it.addEventListener("end",Et),it.addEventListener("inputsourceschange",Rt),pt.xrCompatible!==!0&&await nt.makeXRCompatible(),it.renderState.layers===void 0||et.capabilities.isWebGL2===!1){const Mt={antialias:it.renderState.layers===void 0?pt.antialias:!0,alpha:pt.alpha,depth:pt.depth,stencil:pt.stencil,framebufferScaleFactor:ot};dt=new XRWebGLLayer(it,nt,Mt),it.updateRenderState({baseLayer:dt}),mt=new WebGLRenderTarget(dt.framebufferWidth,dt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:et.outputEncoding})}else{let Mt=null,jt=null,kt=null;pt.depth&&(kt=pt.stencil?35056:33190,Mt=pt.stencil?DepthStencilFormat:DepthFormat,jt=pt.stencil?UnsignedInt248Type:UnsignedShortType);const Gt={colorFormat:et.outputEncoding===sRGBEncoding?35907:32856,depthFormat:kt,scaleFactor:ot};ft=new XRWebGLBinding(it,nt),ut=ft.createProjectionLayer(Gt),it.updateRenderState({layers:[ut]}),mt=new WebGLRenderTarget(ut.textureWidth,ut.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ut.textureWidth,ut.textureHeight,jt,void 0,void 0,void 0,void 0,void 0,void 0,Mt),stencilBuffer:pt.stencil,encoding:et.outputEncoding,samples:pt.antialias?4:0});const Ht=et.properties.get(mt);Ht.__ignoreDepthValues=ut.ignoreDepthValues}mt.isXRRenderTarget=!0,this.setFoveation(1),at=await it.requestReferenceSpace(st),Ut.setContext(it),Ut.start(),rt.isPresenting=!0,rt.dispatchEvent({type:"sessionstart"})}};function Rt(At){const Mt=it.inputSources;for(let jt=0;jt<Mt.length;jt++){const kt=Mt[jt].handedness==="right"?1:0;bt.set(Mt[jt],yt[kt])}for(let jt=0;jt<At.removed.length;jt++){const kt=At.removed[jt],Gt=bt.get(kt);Gt&&(Gt.dispatchEvent({type:"disconnected",data:kt}),bt.delete(kt))}for(let jt=0;jt<At.added.length;jt++){const kt=At.added[jt],Gt=bt.get(kt);Gt&&Gt.dispatchEvent({type:"connected",data:kt})}}const Tt=new Vector3,It=new Vector3;function Pt(At,Mt,jt){Tt.setFromMatrixPosition(Mt.matrixWorld),It.setFromMatrixPosition(jt.matrixWorld);const kt=Tt.distanceTo(It),Gt=Mt.projectionMatrix.elements,Ht=jt.projectionMatrix.elements,Jt=Gt[14]/(Gt[10]-1),Vt=Gt[14]/(Gt[10]+1),Wt=(Gt[9]+1)/Gt[5],Lt=(Gt[9]-1)/Gt[5],Bt=(Gt[8]-1)/Gt[0],Ft=(Ht[8]+1)/Ht[0],sn=Jt*Bt,Xt=Jt*Ft,dn=kt/(-Bt+Ft),Yt=dn*-Bt;Mt.matrixWorld.decompose(At.position,At.quaternion,At.scale),At.translateX(Yt),At.translateZ(dn),At.matrixWorld.compose(At.position,At.quaternion,At.scale),At.matrixWorldInverse.copy(At.matrixWorld).invert();const yn=Jt+dn,Qt=Vt+dn,Kt=sn-Yt,hn=Xt+(kt-Yt),vn=Wt*Vt/Qt*yn,Sn=Lt*Vt/Qt*yn;At.projectionMatrix.makePerspective(Kt,hn,vn,Sn,yn,Qt)}function Dt(At,Mt){Mt===null?At.matrixWorld.copy(At.matrix):At.matrixWorld.multiplyMatrices(Mt.matrixWorld,At.matrix),At.matrixWorldInverse.copy(At.matrixWorld).invert()}this.updateCamera=function(At){if(it===null)return;$t.near=xt.near=St.near=At.near,$t.far=xt.far=St.far=At.far,(zt!==$t.near||Nt!==$t.far)&&(it.updateRenderState({depthNear:$t.near,depthFar:$t.far}),zt=$t.near,Nt=$t.far);const Mt=At.parent,jt=$t.cameras;Dt($t,Mt);for(let Gt=0;Gt<jt.length;Gt++)Dt(jt[Gt],Mt);$t.matrixWorld.decompose($t.position,$t.quaternion,$t.scale),At.position.copy($t.position),At.quaternion.copy($t.quaternion),At.scale.copy($t.scale),At.matrix.copy($t.matrix),At.matrixWorld.copy($t.matrixWorld);const kt=At.children;for(let Gt=0,Ht=kt.length;Gt<Ht;Gt++)kt[Gt].updateMatrixWorld(!0);jt.length===2?Pt($t,St,xt):$t.projectionMatrix.copy(St.projectionMatrix)},this.getCamera=function(){return $t},this.getFoveation=function(){if(ut!==null)return ut.fixedFoveation;if(dt!==null)return dt.fixedFoveation},this.setFoveation=function(At){ut!==null&&(ut.fixedFoveation=At),dt!==null&&dt.fixedFoveation!==void 0&&(dt.fixedFoveation=At)};let Ct=null;function Ot(At,Mt){if(ct=Mt.getViewerPose(lt||at),ht=Mt,ct!==null){const kt=ct.views;dt!==null&&(et.setRenderTargetFramebuffer(mt,dt.framebuffer),et.setRenderTarget(mt));let Gt=!1;kt.length!==$t.cameras.length&&($t.cameras.length=0,Gt=!0);for(let Ht=0;Ht<kt.length;Ht++){const Jt=kt[Ht];let Vt=null;if(dt!==null)Vt=dt.getViewport(Jt);else{const Lt=ft.getViewSubImage(ut,Jt);Vt=Lt.viewport,Ht===0&&(et.setRenderTargetTextures(mt,Lt.colorTexture,ut.ignoreDepthValues?void 0:Lt.depthStencilTexture),et.setRenderTarget(mt))}const Wt=vt[Ht];Wt.matrix.fromArray(Jt.transform.matrix),Wt.projectionMatrix.fromArray(Jt.projectionMatrix),Wt.viewport.set(Vt.x,Vt.y,Vt.width,Vt.height),Ht===0&&$t.matrix.copy(Wt.matrix),Gt===!0&&$t.cameras.push(Wt)}}const jt=it.inputSources;for(let kt=0;kt<yt.length;kt++){const Gt=jt[kt],Ht=bt.get(Gt);Ht!==void 0&&Ht.update(Gt,Mt,lt||at)}Ct&&Ct(At,Mt),ht=null}const Ut=new WebGLAnimation;Ut.setAnimationLoop(Ot),this.setAnimationLoop=function(At){Ct=At},this.dispose=function(){}}}function WebGLMaterials(tt,et){function nt(gt,mt){gt.fogColor.value.copy(mt.color),mt.isFog?(gt.fogNear.value=mt.near,gt.fogFar.value=mt.far):mt.isFogExp2&&(gt.fogDensity.value=mt.density)}function rt(gt,mt,yt,bt,St){mt.isMeshBasicMaterial||mt.isMeshLambertMaterial?it(gt,mt):mt.isMeshToonMaterial?(it(gt,mt),ft(gt,mt)):mt.isMeshPhongMaterial?(it(gt,mt),ct(gt,mt)):mt.isMeshStandardMaterial?(it(gt,mt),ut(gt,mt),mt.isMeshPhysicalMaterial&&dt(gt,mt,St)):mt.isMeshMatcapMaterial?(it(gt,mt),ht(gt,mt)):mt.isMeshDepthMaterial?it(gt,mt):mt.isMeshDistanceMaterial?(it(gt,mt),pt(gt,mt)):mt.isMeshNormalMaterial?it(gt,mt):mt.isLineBasicMaterial?(ot(gt,mt),mt.isLineDashedMaterial&&at(gt,mt)):mt.isPointsMaterial?st(gt,mt,yt,bt):mt.isSpriteMaterial?lt(gt,mt):mt.isShadowMaterial?(gt.color.value.copy(mt.color),gt.opacity.value=mt.opacity):mt.isShaderMaterial&&(mt.uniformsNeedUpdate=!1)}function it(gt,mt){gt.opacity.value=mt.opacity,mt.color&&gt.diffuse.value.copy(mt.color),mt.emissive&&gt.emissive.value.copy(mt.emissive).multiplyScalar(mt.emissiveIntensity),mt.map&&(gt.map.value=mt.map),mt.alphaMap&&(gt.alphaMap.value=mt.alphaMap),mt.bumpMap&&(gt.bumpMap.value=mt.bumpMap,gt.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(gt.bumpScale.value*=-1)),mt.displacementMap&&(gt.displacementMap.value=mt.displacementMap,gt.displacementScale.value=mt.displacementScale,gt.displacementBias.value=mt.displacementBias),mt.emissiveMap&&(gt.emissiveMap.value=mt.emissiveMap),mt.normalMap&&(gt.normalMap.value=mt.normalMap,gt.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&gt.normalScale.value.negate()),mt.specularMap&&(gt.specularMap.value=mt.specularMap),mt.alphaTest>0&&(gt.alphaTest.value=mt.alphaTest);const yt=et.get(mt).envMap;if(yt&&(gt.envMap.value=yt,gt.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1,gt.reflectivity.value=mt.reflectivity,gt.ior.value=mt.ior,gt.refractionRatio.value=mt.refractionRatio),mt.lightMap){gt.lightMap.value=mt.lightMap;const xt=tt.physicallyCorrectLights!==!0?Math.PI:1;gt.lightMapIntensity.value=mt.lightMapIntensity*xt}mt.aoMap&&(gt.aoMap.value=mt.aoMap,gt.aoMapIntensity.value=mt.aoMapIntensity);let bt;mt.map?bt=mt.map:mt.specularMap?bt=mt.specularMap:mt.displacementMap?bt=mt.displacementMap:mt.normalMap?bt=mt.normalMap:mt.bumpMap?bt=mt.bumpMap:mt.roughnessMap?bt=mt.roughnessMap:mt.metalnessMap?bt=mt.metalnessMap:mt.alphaMap?bt=mt.alphaMap:mt.emissiveMap?bt=mt.emissiveMap:mt.clearcoatMap?bt=mt.clearcoatMap:mt.clearcoatNormalMap?bt=mt.clearcoatNormalMap:mt.clearcoatRoughnessMap?bt=mt.clearcoatRoughnessMap:mt.specularIntensityMap?bt=mt.specularIntensityMap:mt.specularColorMap?bt=mt.specularColorMap:mt.transmissionMap?bt=mt.transmissionMap:mt.thicknessMap?bt=mt.thicknessMap:mt.sheenColorMap?bt=mt.sheenColorMap:mt.sheenRoughnessMap&&(bt=mt.sheenRoughnessMap),bt!==void 0&&(bt.isWebGLRenderTarget&&(bt=bt.texture),bt.matrixAutoUpdate===!0&&bt.updateMatrix(),gt.uvTransform.value.copy(bt.matrix));let St;mt.aoMap?St=mt.aoMap:mt.lightMap&&(St=mt.lightMap),St!==void 0&&(St.isWebGLRenderTarget&&(St=St.texture),St.matrixAutoUpdate===!0&&St.updateMatrix(),gt.uv2Transform.value.copy(St.matrix))}function ot(gt,mt){gt.diffuse.value.copy(mt.color),gt.opacity.value=mt.opacity}function at(gt,mt){gt.dashSize.value=mt.dashSize,gt.totalSize.value=mt.dashSize+mt.gapSize,gt.scale.value=mt.scale}function st(gt,mt,yt,bt){gt.diffuse.value.copy(mt.color),gt.opacity.value=mt.opacity,gt.size.value=mt.size*yt,gt.scale.value=bt*.5,mt.map&&(gt.map.value=mt.map),mt.alphaMap&&(gt.alphaMap.value=mt.alphaMap),mt.alphaTest>0&&(gt.alphaTest.value=mt.alphaTest);let St;mt.map?St=mt.map:mt.alphaMap&&(St=mt.alphaMap),St!==void 0&&(St.matrixAutoUpdate===!0&&St.updateMatrix(),gt.uvTransform.value.copy(St.matrix))}function lt(gt,mt){gt.diffuse.value.copy(mt.color),gt.opacity.value=mt.opacity,gt.rotation.value=mt.rotation,mt.map&&(gt.map.value=mt.map),mt.alphaMap&&(gt.alphaMap.value=mt.alphaMap),mt.alphaTest>0&&(gt.alphaTest.value=mt.alphaTest);let yt;mt.map?yt=mt.map:mt.alphaMap&&(yt=mt.alphaMap),yt!==void 0&&(yt.matrixAutoUpdate===!0&&yt.updateMatrix(),gt.uvTransform.value.copy(yt.matrix))}function ct(gt,mt){gt.specular.value.copy(mt.specular),gt.shininess.value=Math.max(mt.shininess,1e-4)}function ft(gt,mt){mt.gradientMap&&(gt.gradientMap.value=mt.gradientMap)}function ut(gt,mt){gt.roughness.value=mt.roughness,gt.metalness.value=mt.metalness,mt.roughnessMap&&(gt.roughnessMap.value=mt.roughnessMap),mt.metalnessMap&&(gt.metalnessMap.value=mt.metalnessMap),et.get(mt).envMap&&(gt.envMapIntensity.value=mt.envMapIntensity)}function dt(gt,mt,yt){gt.ior.value=mt.ior,mt.sheen>0&&(gt.sheenColor.value.copy(mt.sheenColor).multiplyScalar(mt.sheen),gt.sheenRoughness.value=mt.sheenRoughness,mt.sheenColorMap&&(gt.sheenColorMap.value=mt.sheenColorMap),mt.sheenRoughnessMap&&(gt.sheenRoughnessMap.value=mt.sheenRoughnessMap)),mt.clearcoat>0&&(gt.clearcoat.value=mt.clearcoat,gt.clearcoatRoughness.value=mt.clearcoatRoughness,mt.clearcoatMap&&(gt.clearcoatMap.value=mt.clearcoatMap),mt.clearcoatRoughnessMap&&(gt.clearcoatRoughnessMap.value=mt.clearcoatRoughnessMap),mt.clearcoatNormalMap&&(gt.clearcoatNormalScale.value.copy(mt.clearcoatNormalScale),gt.clearcoatNormalMap.value=mt.clearcoatNormalMap,mt.side===BackSide&&gt.clearcoatNormalScale.value.negate())),mt.transmission>0&&(gt.transmission.value=mt.transmission,gt.transmissionSamplerMap.value=yt.texture,gt.transmissionSamplerSize.value.set(yt.width,yt.height),mt.transmissionMap&&(gt.transmissionMap.value=mt.transmissionMap),gt.thickness.value=mt.thickness,mt.thicknessMap&&(gt.thicknessMap.value=mt.thicknessMap),gt.attenuationDistance.value=mt.attenuationDistance,gt.attenuationColor.value.copy(mt.attenuationColor)),gt.specularIntensity.value=mt.specularIntensity,gt.specularColor.value.copy(mt.specularColor),mt.specularIntensityMap&&(gt.specularIntensityMap.value=mt.specularIntensityMap),mt.specularColorMap&&(gt.specularColorMap.value=mt.specularColorMap)}function ht(gt,mt){mt.matcap&&(gt.matcap.value=mt.matcap)}function pt(gt,mt){gt.referencePosition.value.copy(mt.referencePosition),gt.nearDistance.value=mt.nearDistance,gt.farDistance.value=mt.farDistance}return{refreshFogUniforms:nt,refreshMaterialUniforms:rt}}function createCanvasElement(){const tt=createElementNS("canvas");return tt.style.display="block",tt}function WebGLRenderer(tt={}){const et=tt.canvas!==void 0?tt.canvas:createCanvasElement(),nt=tt.context!==void 0?tt.context:null,rt=tt.depth!==void 0?tt.depth:!0,it=tt.stencil!==void 0?tt.stencil:!0,ot=tt.antialias!==void 0?tt.antialias:!1,at=tt.premultipliedAlpha!==void 0?tt.premultipliedAlpha:!0,st=tt.preserveDrawingBuffer!==void 0?tt.preserveDrawingBuffer:!1,lt=tt.powerPreference!==void 0?tt.powerPreference:"default",ct=tt.failIfMajorPerformanceCaveat!==void 0?tt.failIfMajorPerformanceCaveat:!1;let ft;nt!==null?ft=nt.getContextAttributes().alpha:ft=tt.alpha!==void 0?tt.alpha:!1;let ut=null,dt=null;const ht=[],pt=[];this.domElement=et,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const gt=this;let mt=!1,yt=0,bt=0,St=null,xt=-1,vt=null;const $t=new Vector4,zt=new Vector4;let Nt=null,wt=et.width,Et=et.height,Rt=1,Tt=null,It=null;const Pt=new Vector4(0,0,wt,Et),Dt=new Vector4(0,0,wt,Et);let Ct=!1;const Ot=new Frustum;let Ut=!1,At=!1,Mt=null;const jt=new Matrix4,kt=new Vector2,Gt=new Vector3,Ht={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Jt(){return St===null?Rt:1}let Vt=nt;function Wt(En,Fn){for(let Vn=0;Vn<En.length;Vn++){const Un=En[Vn],Xn=et.getContext(Un,Fn);if(Xn!==null)return Xn}return null}try{const En={alpha:!0,depth:rt,stencil:it,antialias:ot,premultipliedAlpha:at,preserveDrawingBuffer:st,powerPreference:lt,failIfMajorPerformanceCaveat:ct};if("setAttribute"in et&&et.setAttribute("data-engine",`three.js r${REVISION}`),et.addEventListener("webglcontextlost",Rn,!1),et.addEventListener("webglcontextrestored",Kn,!1),Vt===null){const Fn=["webgl2","webgl","experimental-webgl"];if(gt.isWebGL1Renderer===!0&&Fn.shift(),Vt=Wt(Fn,En),Vt===null)throw Wt(Fn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Vt.getShaderPrecisionFormat===void 0&&(Vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(En){throw console.error("THREE.WebGLRenderer: "+En.message),En}let Lt,Bt,Ft,sn,Xt,dn,Yt,yn,Qt,Kt,hn,vn,Sn,Cn,cn,ln,bn,xn,Nn,zn,Ln,Mn,Wn;function Jn(){Lt=new WebGLExtensions(Vt),Bt=new WebGLCapabilities(Vt,Lt,tt),Lt.init(Bt),Mn=new WebGLUtils(Vt,Lt,Bt),Ft=new WebGLState(Vt,Lt,Bt),sn=new WebGLInfo(Vt),Xt=new WebGLProperties,dn=new WebGLTextures(Vt,Lt,Ft,Xt,Bt,Mn,sn),Yt=new WebGLCubeMaps(gt),yn=new WebGLCubeUVMaps(gt),Qt=new WebGLAttributes(Vt,Bt),Wn=new WebGLBindingStates(Vt,Lt,Qt,Bt),Kt=new WebGLGeometries(Vt,Qt,sn,Wn),hn=new WebGLObjects(Vt,Kt,Qt,sn),Nn=new WebGLMorphtargets(Vt,Bt,dn),ln=new WebGLClipping(Xt),vn=new WebGLPrograms(gt,Yt,yn,Lt,Bt,Wn,ln),Sn=new WebGLMaterials(gt,Xt),Cn=new WebGLRenderLists,cn=new WebGLRenderStates(Lt,Bt),xn=new WebGLBackground(gt,Yt,Ft,hn,ft,at),bn=new WebGLShadowMap(gt,hn,Bt),zn=new WebGLBufferRenderer(Vt,Lt,sn,Bt),Ln=new WebGLIndexedBufferRenderer(Vt,Lt,sn,Bt),sn.programs=vn.programs,gt.capabilities=Bt,gt.extensions=Lt,gt.properties=Xt,gt.renderLists=Cn,gt.shadowMap=bn,gt.state=Ft,gt.info=sn}Jn();const Zn=new WebXRManager(gt,Vt);this.xr=Zn,this.getContext=function(){return Vt},this.getContextAttributes=function(){return Vt.getContextAttributes()},this.forceContextLoss=function(){const En=Lt.get("WEBGL_lose_context");En&&En.loseContext()},this.forceContextRestore=function(){const En=Lt.get("WEBGL_lose_context");En&&En.restoreContext()},this.getPixelRatio=function(){return Rt},this.setPixelRatio=function(En){En!==void 0&&(Rt=En,this.setSize(wt,Et,!1))},this.getSize=function(En){return En.set(wt,Et)},this.setSize=function(En,Fn,Vn){if(Zn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}wt=En,Et=Fn,et.width=Math.floor(En*Rt),et.height=Math.floor(Fn*Rt),Vn!==!1&&(et.style.width=En+"px",et.style.height=Fn+"px"),this.setViewport(0,0,En,Fn)},this.getDrawingBufferSize=function(En){return En.set(wt*Rt,Et*Rt).floor()},this.setDrawingBufferSize=function(En,Fn,Vn){wt=En,Et=Fn,Rt=Vn,et.width=Math.floor(En*Vn),et.height=Math.floor(Fn*Vn),this.setViewport(0,0,En,Fn)},this.getCurrentViewport=function(En){return En.copy($t)},this.getViewport=function(En){return En.copy(Pt)},this.setViewport=function(En,Fn,Vn,Un){En.isVector4?Pt.set(En.x,En.y,En.z,En.w):Pt.set(En,Fn,Vn,Un),Ft.viewport($t.copy(Pt).multiplyScalar(Rt).floor())},this.getScissor=function(En){return En.copy(Dt)},this.setScissor=function(En,Fn,Vn,Un){En.isVector4?Dt.set(En.x,En.y,En.z,En.w):Dt.set(En,Fn,Vn,Un),Ft.scissor(zt.copy(Dt).multiplyScalar(Rt).floor())},this.getScissorTest=function(){return Ct},this.setScissorTest=function(En){Ft.setScissorTest(Ct=En)},this.setOpaqueSort=function(En){Tt=En},this.setTransparentSort=function(En){It=En},this.getClearColor=function(En){return En.copy(xn.getClearColor())},this.setClearColor=function(){xn.setClearColor.apply(xn,arguments)},this.getClearAlpha=function(){return xn.getClearAlpha()},this.setClearAlpha=function(){xn.setClearAlpha.apply(xn,arguments)},this.clear=function(En=!0,Fn=!0,Vn=!0){let Un=0;En&&(Un|=16384),Fn&&(Un|=256),Vn&&(Un|=1024),Vt.clear(Un)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){et.removeEventListener("webglcontextlost",Rn,!1),et.removeEventListener("webglcontextrestored",Kn,!1),Cn.dispose(),cn.dispose(),Xt.dispose(),Yt.dispose(),yn.dispose(),hn.dispose(),Wn.dispose(),vn.dispose(),Zn.dispose(),Zn.removeEventListener("sessionstart",er),Zn.removeEventListener("sessionend",ir),Mt&&(Mt.dispose(),Mt=null),nr.stop()};function Rn(En){En.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),mt=!0}function Kn(){console.log("THREE.WebGLRenderer: Context Restored."),mt=!1;const En=sn.autoReset,Fn=bn.enabled,Vn=bn.autoUpdate,Un=bn.needsUpdate,Xn=bn.type;Jn(),sn.autoReset=En,bn.enabled=Fn,bn.autoUpdate=Vn,bn.needsUpdate=Un,bn.type=Xn}function kn(En){const Fn=En.target;Fn.removeEventListener("dispose",kn),Bn(Fn)}function Bn(En){Hn(En),Xt.remove(En)}function Hn(En){const Fn=Xt.get(En).programs;Fn!==void 0&&(Fn.forEach(function(Vn){vn.releaseProgram(Vn)}),En.isShaderMaterial&&vn.releaseShaderCache(En))}this.renderBufferDirect=function(En,Fn,Vn,Un,Xn,ar){Fn===null&&(Fn=Ht);const cr=Xn.isMesh&&Xn.matrixWorld.determinant()<0,fr=Nr(En,Fn,Vn,Un,Xn);Ft.setMaterial(Un,cr);let dr=Vn.index;const yr=Vn.attributes.position;if(dr===null){if(yr===void 0||yr.count===0)return}else if(dr.count===0)return;let hr=1;Un.wireframe===!0&&(dr=Kt.getWireframeAttribute(Vn),hr=2),Wn.setup(Xn,Un,fr,Vn,dr);let gr,xr=zn;dr!==null&&(gr=Qt.get(dr),xr=Ln,xr.setIndex(gr));const Br=dr!==null?dr.count:yr.count,Gr=Vn.drawRange.start*hr,zr=Vn.drawRange.count*hr,_r=ar!==null?ar.start*hr:0,pr=ar!==null?ar.count*hr:1/0,kr=Math.max(Gr,_r),Sr=Math.min(Br,Gr+zr,_r+pr)-1,Dr=Math.max(0,Sr-kr+1);if(Dr!==0){if(Xn.isMesh)Un.wireframe===!0?(Ft.setLineWidth(Un.wireframeLinewidth*Jt()),xr.setMode(1)):xr.setMode(4);else if(Xn.isLine){let Or=Un.linewidth;Or===void 0&&(Or=1),Ft.setLineWidth(Or*Jt()),Xn.isLineSegments?xr.setMode(1):Xn.isLineLoop?xr.setMode(2):xr.setMode(3)}else Xn.isPoints?xr.setMode(0):Xn.isSprite&&xr.setMode(4);if(Xn.isInstancedMesh)xr.renderInstances(kr,Dr,Xn.count);else if(Vn.isInstancedBufferGeometry){const Or=Math.min(Vn.instanceCount,Vn._maxInstanceCount);xr.renderInstances(kr,Dr,Or)}else xr.render(kr,Dr)}},this.compile=function(En,Fn){dt=cn.get(En),dt.init(),pt.push(dt),En.traverseVisible(function(Vn){Vn.isLight&&Vn.layers.test(Fn.layers)&&(dt.pushLight(Vn),Vn.castShadow&&dt.pushShadow(Vn))}),dt.setupLights(gt.physicallyCorrectLights),En.traverse(function(Vn){const Un=Vn.material;if(Un)if(Array.isArray(Un))for(let Xn=0;Xn<Un.length;Xn++){const ar=Un[Xn];Er(ar,En,Vn)}else Er(Un,En,Vn)}),pt.pop(),dt=null};let Qn=null;function qn(En){Qn&&Qn(En)}function er(){nr.stop()}function ir(){nr.start()}const nr=new WebGLAnimation;nr.setAnimationLoop(qn),typeof self!="undefined"&&nr.setContext(self),this.setAnimationLoop=function(En){Qn=En,Zn.setAnimationLoop(En),En===null?nr.stop():nr.start()},Zn.addEventListener("sessionstart",er),Zn.addEventListener("sessionend",ir),this.render=function(En,Fn){if(Fn!==void 0&&Fn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(mt===!0)return;En.autoUpdate===!0&&En.updateMatrixWorld(),Fn.parent===null&&Fn.updateMatrixWorld(),Zn.enabled===!0&&Zn.isPresenting===!0&&(Zn.cameraAutoUpdate===!0&&Zn.updateCamera(Fn),Fn=Zn.getCamera()),En.isScene===!0&&En.onBeforeRender(gt,En,Fn,St),dt=cn.get(En,pt.length),dt.init(),pt.push(dt),jt.multiplyMatrices(Fn.projectionMatrix,Fn.matrixWorldInverse),Ot.setFromProjectionMatrix(jt),At=this.localClippingEnabled,Ut=ln.init(this.clippingPlanes,At,Fn),ut=Cn.get(En,ht.length),ut.init(),ht.push(ut),ur(En,Fn,0,gt.sortObjects),ut.finish(),gt.sortObjects===!0&&ut.sort(Tt,It),Ut===!0&&ln.beginShadows();const Vn=dt.state.shadowsArray;if(bn.render(Vn,En,Fn),Ut===!0&&ln.endShadows(),this.info.autoReset===!0&&this.info.reset(),xn.render(ut,En),dt.setupLights(gt.physicallyCorrectLights),Fn.isArrayCamera){const Un=Fn.cameras;for(let Xn=0,ar=Un.length;Xn<ar;Xn++){const cr=Un[Xn];mr(ut,En,cr,cr.viewport)}}else mr(ut,En,Fn);St!==null&&(dn.updateMultisampleRenderTarget(St),dn.updateRenderTargetMipmap(St)),En.isScene===!0&&En.onAfterRender(gt,En,Fn),Wn.resetDefaultState(),xt=-1,vt=null,pt.pop(),pt.length>0?dt=pt[pt.length-1]:dt=null,ht.pop(),ht.length>0?ut=ht[ht.length-1]:ut=null};function ur(En,Fn,Vn,Un){if(En.visible===!1)return;if(En.layers.test(Fn.layers)){if(En.isGroup)Vn=En.renderOrder;else if(En.isLOD)En.autoUpdate===!0&&En.update(Fn);else if(En.isLight)dt.pushLight(En),En.castShadow&&dt.pushShadow(En);else if(En.isSprite){if(!En.frustumCulled||Ot.intersectsSprite(En)){Un&&Gt.setFromMatrixPosition(En.matrixWorld).applyMatrix4(jt);const cr=hn.update(En),fr=En.material;fr.visible&&ut.push(En,cr,fr,Vn,Gt.z,null)}}else if((En.isMesh||En.isLine||En.isPoints)&&(En.isSkinnedMesh&&En.skeleton.frame!==sn.render.frame&&(En.skeleton.update(),En.skeleton.frame=sn.render.frame),!En.frustumCulled||Ot.intersectsObject(En))){Un&&Gt.setFromMatrixPosition(En.matrixWorld).applyMatrix4(jt);const cr=hn.update(En),fr=En.material;if(Array.isArray(fr)){const dr=cr.groups;for(let yr=0,hr=dr.length;yr<hr;yr++){const gr=dr[yr],xr=fr[gr.materialIndex];xr&&xr.visible&&ut.push(En,cr,xr,Vn,Gt.z,gr)}}else fr.visible&&ut.push(En,cr,fr,Vn,Gt.z,null)}}const ar=En.children;for(let cr=0,fr=ar.length;cr<fr;cr++)ur(ar[cr],Fn,Vn,Un)}function mr(En,Fn,Vn,Un){const Xn=En.opaque,ar=En.transmissive,cr=En.transparent;dt.setupLightsView(Vn),ar.length>0&&Rr(Xn,Fn,Vn),Un&&Ft.viewport($t.copy(Un)),Xn.length>0&&$r(Xn,Fn,Vn),ar.length>0&&$r(ar,Fn,Vn),cr.length>0&&$r(cr,Fn,Vn),Ft.buffers.depth.setTest(!0),Ft.buffers.depth.setMask(!0),Ft.buffers.color.setMask(!0),Ft.setPolygonOffset(!1)}function Rr(En,Fn,Vn){const Un=Bt.isWebGL2;Mt===null&&(Mt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Lt.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Un&&ot===!0?4:0})),gt.getDrawingBufferSize(kt),Un?Mt.setSize(kt.x,kt.y):Mt.setSize(floorPowerOfTwo(kt.x),floorPowerOfTwo(kt.y));const Xn=gt.getRenderTarget();gt.setRenderTarget(Mt),gt.clear();const ar=gt.toneMapping;gt.toneMapping=NoToneMapping,$r(En,Fn,Vn),gt.toneMapping=ar,dn.updateMultisampleRenderTarget(Mt),dn.updateRenderTargetMipmap(Mt),gt.setRenderTarget(Xn)}function $r(En,Fn,Vn){const Un=Fn.isScene===!0?Fn.overrideMaterial:null;for(let Xn=0,ar=En.length;Xn<ar;Xn++){const cr=En[Xn],fr=cr.object,dr=cr.geometry,yr=Un===null?cr.material:Un,hr=cr.group;fr.layers.test(Vn.layers)&&Pr(fr,Fn,Vn,dr,yr,hr)}}function Pr(En,Fn,Vn,Un,Xn,ar){En.onBeforeRender(gt,Fn,Vn,Un,Xn,ar),En.modelViewMatrix.multiplyMatrices(Vn.matrixWorldInverse,En.matrixWorld),En.normalMatrix.getNormalMatrix(En.modelViewMatrix),Xn.onBeforeRender(gt,Fn,Vn,Un,En,ar),Xn.transparent===!0&&Xn.side===DoubleSide?(Xn.side=BackSide,Xn.needsUpdate=!0,gt.renderBufferDirect(Vn,Fn,Un,Xn,En,ar),Xn.side=FrontSide,Xn.needsUpdate=!0,gt.renderBufferDirect(Vn,Fn,Un,Xn,En,ar),Xn.side=DoubleSide):gt.renderBufferDirect(Vn,Fn,Un,Xn,En,ar),En.onAfterRender(gt,Fn,Vn,Un,Xn,ar)}function Er(En,Fn,Vn){Fn.isScene!==!0&&(Fn=Ht);const Un=Xt.get(En),Xn=dt.state.lights,ar=dt.state.shadowsArray,cr=Xn.state.version,fr=vn.getParameters(En,Xn.state,ar,Fn,Vn),dr=vn.getProgramCacheKey(fr);let yr=Un.programs;Un.environment=En.isMeshStandardMaterial?Fn.environment:null,Un.fog=Fn.fog,Un.envMap=(En.isMeshStandardMaterial?yn:Yt).get(En.envMap||Un.environment),yr===void 0&&(En.addEventListener("dispose",kn),yr=new Map,Un.programs=yr);let hr=yr.get(dr);if(hr!==void 0){if(Un.currentProgram===hr&&Un.lightsStateVersion===cr)return Ir(En,fr),hr}else fr.uniforms=vn.getUniforms(En),En.onBuild(Vn,fr,gt),En.onBeforeCompile(fr,gt),hr=vn.acquireProgram(fr,dr),yr.set(dr,hr),Un.uniforms=fr.uniforms;const gr=Un.uniforms;(!En.isShaderMaterial&&!En.isRawShaderMaterial||En.clipping===!0)&&(gr.clippingPlanes=ln.uniform),Ir(En,fr),Un.needsLights=qr(En),Un.lightsStateVersion=cr,Un.needsLights&&(gr.ambientLightColor.value=Xn.state.ambient,gr.lightProbe.value=Xn.state.probe,gr.directionalLights.value=Xn.state.directional,gr.directionalLightShadows.value=Xn.state.directionalShadow,gr.spotLights.value=Xn.state.spot,gr.spotLightShadows.value=Xn.state.spotShadow,gr.rectAreaLights.value=Xn.state.rectArea,gr.ltc_1.value=Xn.state.rectAreaLTC1,gr.ltc_2.value=Xn.state.rectAreaLTC2,gr.pointLights.value=Xn.state.point,gr.pointLightShadows.value=Xn.state.pointShadow,gr.hemisphereLights.value=Xn.state.hemi,gr.directionalShadowMap.value=Xn.state.directionalShadowMap,gr.directionalShadowMatrix.value=Xn.state.directionalShadowMatrix,gr.spotShadowMap.value=Xn.state.spotShadowMap,gr.spotShadowMatrix.value=Xn.state.spotShadowMatrix,gr.pointShadowMap.value=Xn.state.pointShadowMap,gr.pointShadowMatrix.value=Xn.state.pointShadowMatrix);const xr=hr.getUniforms(),Br=WebGLUniforms.seqWithValue(xr.seq,gr);return Un.currentProgram=hr,Un.uniformsList=Br,hr}function Ir(En,Fn){const Vn=Xt.get(En);Vn.outputEncoding=Fn.outputEncoding,Vn.instancing=Fn.instancing,Vn.skinning=Fn.skinning,Vn.morphTargets=Fn.morphTargets,Vn.morphNormals=Fn.morphNormals,Vn.morphColors=Fn.morphColors,Vn.morphTargetsCount=Fn.morphTargetsCount,Vn.numClippingPlanes=Fn.numClippingPlanes,Vn.numIntersection=Fn.numClipIntersection,Vn.vertexAlphas=Fn.vertexAlphas,Vn.vertexTangents=Fn.vertexTangents,Vn.toneMapping=Fn.toneMapping}function Nr(En,Fn,Vn,Un,Xn){Fn.isScene!==!0&&(Fn=Ht),dn.resetTextureUnits();const ar=Fn.fog,cr=Un.isMeshStandardMaterial?Fn.environment:null,fr=St===null?gt.outputEncoding:St.isXRRenderTarget===!0?St.texture.encoding:LinearEncoding,dr=(Un.isMeshStandardMaterial?yn:Yt).get(Un.envMap||cr),yr=Un.vertexColors===!0&&!!Vn.attributes.color&&Vn.attributes.color.itemSize===4,hr=!!Un.normalMap&&!!Vn.attributes.tangent,gr=!!Vn.morphAttributes.position,xr=!!Vn.morphAttributes.normal,Br=!!Vn.morphAttributes.color,Gr=Un.toneMapped?gt.toneMapping:NoToneMapping,zr=Vn.morphAttributes.position||Vn.morphAttributes.normal||Vn.morphAttributes.color,_r=zr!==void 0?zr.length:0,pr=Xt.get(Un),kr=dt.state.lights;if(Ut===!0&&(At===!0||En!==vt)){const Mr=En===vt&&Un.id===xt;ln.setState(Un,En,Mr)}let Sr=!1;Un.version===pr.__version?(pr.needsLights&&pr.lightsStateVersion!==kr.state.version||pr.outputEncoding!==fr||Xn.isInstancedMesh&&pr.instancing===!1||!Xn.isInstancedMesh&&pr.instancing===!0||Xn.isSkinnedMesh&&pr.skinning===!1||!Xn.isSkinnedMesh&&pr.skinning===!0||pr.envMap!==dr||Un.fog===!0&&pr.fog!==ar||pr.numClippingPlanes!==void 0&&(pr.numClippingPlanes!==ln.numPlanes||pr.numIntersection!==ln.numIntersection)||pr.vertexAlphas!==yr||pr.vertexTangents!==hr||pr.morphTargets!==gr||pr.morphNormals!==xr||pr.morphColors!==Br||pr.toneMapping!==Gr||Bt.isWebGL2===!0&&pr.morphTargetsCount!==_r)&&(Sr=!0):(Sr=!0,pr.__version=Un.version);let Dr=pr.currentProgram;Sr===!0&&(Dr=Er(Un,Fn,Xn));let Or=!1,Fr=!1,Zr=!1;const Lr=Dr.getUniforms(),Ur=pr.uniforms;if(Ft.useProgram(Dr.program)&&(Or=!0,Fr=!0,Zr=!0),Un.id!==xt&&(xt=Un.id,Fr=!0),Or||vt!==En){if(Lr.setValue(Vt,"projectionMatrix",En.projectionMatrix),Bt.logarithmicDepthBuffer&&Lr.setValue(Vt,"logDepthBufFC",2/(Math.log(En.far+1)/Math.LN2)),vt!==En&&(vt=En,Fr=!0,Zr=!0),Un.isShaderMaterial||Un.isMeshPhongMaterial||Un.isMeshToonMaterial||Un.isMeshStandardMaterial||Un.envMap){const Mr=Lr.map.cameraPosition;Mr!==void 0&&Mr.setValue(Vt,Gt.setFromMatrixPosition(En.matrixWorld))}(Un.isMeshPhongMaterial||Un.isMeshToonMaterial||Un.isMeshLambertMaterial||Un.isMeshBasicMaterial||Un.isMeshStandardMaterial||Un.isShaderMaterial)&&Lr.setValue(Vt,"isOrthographic",En.isOrthographicCamera===!0),(Un.isMeshPhongMaterial||Un.isMeshToonMaterial||Un.isMeshLambertMaterial||Un.isMeshBasicMaterial||Un.isMeshStandardMaterial||Un.isShaderMaterial||Un.isShadowMaterial||Xn.isSkinnedMesh)&&Lr.setValue(Vt,"viewMatrix",En.matrixWorldInverse)}if(Xn.isSkinnedMesh){Lr.setOptional(Vt,Xn,"bindMatrix"),Lr.setOptional(Vt,Xn,"bindMatrixInverse");const Mr=Xn.skeleton;Mr&&(Bt.floatVertexTextures?(Mr.boneTexture===null&&Mr.computeBoneTexture(),Lr.setValue(Vt,"boneTexture",Mr.boneTexture,dn),Lr.setValue(Vt,"boneTextureSize",Mr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Kr=Vn.morphAttributes;return(Kr.position!==void 0||Kr.normal!==void 0||Kr.color!==void 0&&Bt.isWebGL2===!0)&&Nn.update(Xn,Vn,Un,Dr),(Fr||pr.receiveShadow!==Xn.receiveShadow)&&(pr.receiveShadow=Xn.receiveShadow,Lr.setValue(Vt,"receiveShadow",Xn.receiveShadow)),Fr&&(Lr.setValue(Vt,"toneMappingExposure",gt.toneMappingExposure),pr.needsLights&&Yr(Ur,Zr),ar&&Un.fog===!0&&Sn.refreshFogUniforms(Ur,ar),Sn.refreshMaterialUniforms(Ur,Un,Rt,Et,Mt),WebGLUniforms.upload(Vt,pr.uniformsList,Ur,dn)),Un.isShaderMaterial&&Un.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Vt,pr.uniformsList,Ur,dn),Un.uniformsNeedUpdate=!1),Un.isSpriteMaterial&&Lr.setValue(Vt,"center",Xn.center),Lr.setValue(Vt,"modelViewMatrix",Xn.modelViewMatrix),Lr.setValue(Vt,"normalMatrix",Xn.normalMatrix),Lr.setValue(Vt,"modelMatrix",Xn.matrixWorld),Dr}function Yr(En,Fn){En.ambientLightColor.needsUpdate=Fn,En.lightProbe.needsUpdate=Fn,En.directionalLights.needsUpdate=Fn,En.directionalLightShadows.needsUpdate=Fn,En.pointLights.needsUpdate=Fn,En.pointLightShadows.needsUpdate=Fn,En.spotLights.needsUpdate=Fn,En.spotLightShadows.needsUpdate=Fn,En.rectAreaLights.needsUpdate=Fn,En.hemisphereLights.needsUpdate=Fn}function qr(En){return En.isMeshLambertMaterial||En.isMeshToonMaterial||En.isMeshPhongMaterial||En.isMeshStandardMaterial||En.isShadowMaterial||En.isShaderMaterial&&En.lights===!0}this.getActiveCubeFace=function(){return yt},this.getActiveMipmapLevel=function(){return bt},this.getRenderTarget=function(){return St},this.setRenderTargetTextures=function(En,Fn,Vn){Xt.get(En.texture).__webglTexture=Fn,Xt.get(En.depthTexture).__webglTexture=Vn;const Un=Xt.get(En);Un.__hasExternalTextures=!0,Un.__hasExternalTextures&&(Un.__autoAllocateDepthBuffer=Vn===void 0,Un.__autoAllocateDepthBuffer||Lt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Un.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(En,Fn){const Vn=Xt.get(En);Vn.__webglFramebuffer=Fn,Vn.__useDefaultFramebuffer=Fn===void 0},this.setRenderTarget=function(En,Fn=0,Vn=0){St=En,yt=Fn,bt=Vn;let Un=!0;if(En){const dr=Xt.get(En);dr.__useDefaultFramebuffer!==void 0?(Ft.bindFramebuffer(36160,null),Un=!1):dr.__webglFramebuffer===void 0?dn.setupRenderTarget(En):dr.__hasExternalTextures&&dn.rebindTextures(En,Xt.get(En.texture).__webglTexture,Xt.get(En.depthTexture).__webglTexture)}let Xn=null,ar=!1,cr=!1;if(En){const dr=En.texture;(dr.isData3DTexture||dr.isDataArrayTexture)&&(cr=!0);const yr=Xt.get(En).__webglFramebuffer;En.isWebGLCubeRenderTarget?(Xn=yr[Fn],ar=!0):Bt.isWebGL2&&En.samples>0&&dn.useMultisampledRTT(En)===!1?Xn=Xt.get(En).__webglMultisampledFramebuffer:Xn=yr,$t.copy(En.viewport),zt.copy(En.scissor),Nt=En.scissorTest}else $t.copy(Pt).multiplyScalar(Rt).floor(),zt.copy(Dt).multiplyScalar(Rt).floor(),Nt=Ct;if(Ft.bindFramebuffer(36160,Xn)&&Bt.drawBuffers&&Un&&Ft.drawBuffers(En,Xn),Ft.viewport($t),Ft.scissor(zt),Ft.setScissorTest(Nt),ar){const dr=Xt.get(En.texture);Vt.framebufferTexture2D(36160,36064,34069+Fn,dr.__webglTexture,Vn)}else if(cr){const dr=Xt.get(En.texture),yr=Fn||0;Vt.framebufferTextureLayer(36160,36064,dr.__webglTexture,Vn||0,yr)}xt=-1},this.readRenderTargetPixels=function(En,Fn,Vn,Un,Xn,ar,cr){if(!(En&&En.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let fr=Xt.get(En).__webglFramebuffer;if(En.isWebGLCubeRenderTarget&&cr!==void 0&&(fr=fr[cr]),fr){Ft.bindFramebuffer(36160,fr);try{const dr=En.texture,yr=dr.format,hr=dr.type;if(yr!==RGBAFormat&&Mn.convert(yr)!==Vt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const gr=hr===HalfFloatType&&(Lt.has("EXT_color_buffer_half_float")||Bt.isWebGL2&&Lt.has("EXT_color_buffer_float"));if(hr!==UnsignedByteType&&Mn.convert(hr)!==Vt.getParameter(35738)&&!(hr===FloatType&&(Bt.isWebGL2||Lt.has("OES_texture_float")||Lt.has("WEBGL_color_buffer_float")))&&!gr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Fn>=0&&Fn<=En.width-Un&&Vn>=0&&Vn<=En.height-Xn&&Vt.readPixels(Fn,Vn,Un,Xn,Mn.convert(yr),Mn.convert(hr),ar)}finally{const dr=St!==null?Xt.get(St).__webglFramebuffer:null;Ft.bindFramebuffer(36160,dr)}}},this.copyFramebufferToTexture=function(En,Fn,Vn=0){if(Fn.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const Un=Math.pow(2,-Vn),Xn=Math.floor(Fn.image.width*Un),ar=Math.floor(Fn.image.height*Un);dn.setTexture2D(Fn,0),Vt.copyTexSubImage2D(3553,Vn,0,0,En.x,En.y,Xn,ar),Ft.unbindTexture()},this.copyTextureToTexture=function(En,Fn,Vn,Un=0){const Xn=Fn.image.width,ar=Fn.image.height,cr=Mn.convert(Vn.format),fr=Mn.convert(Vn.type);dn.setTexture2D(Vn,0),Vt.pixelStorei(37440,Vn.flipY),Vt.pixelStorei(37441,Vn.premultiplyAlpha),Vt.pixelStorei(3317,Vn.unpackAlignment),Fn.isDataTexture?Vt.texSubImage2D(3553,Un,En.x,En.y,Xn,ar,cr,fr,Fn.image.data):Fn.isCompressedTexture?Vt.compressedTexSubImage2D(3553,Un,En.x,En.y,Fn.mipmaps[0].width,Fn.mipmaps[0].height,cr,Fn.mipmaps[0].data):Vt.texSubImage2D(3553,Un,En.x,En.y,cr,fr,Fn.image),Un===0&&Vn.generateMipmaps&&Vt.generateMipmap(3553),Ft.unbindTexture()},this.copyTextureToTexture3D=function(En,Fn,Vn,Un,Xn=0){if(gt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ar=En.max.x-En.min.x+1,cr=En.max.y-En.min.y+1,fr=En.max.z-En.min.z+1,dr=Mn.convert(Un.format),yr=Mn.convert(Un.type);let hr;if(Un.isData3DTexture)dn.setTexture3D(Un,0),hr=32879;else if(Un.isDataArrayTexture)dn.setTexture2DArray(Un,0),hr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Vt.pixelStorei(37440,Un.flipY),Vt.pixelStorei(37441,Un.premultiplyAlpha),Vt.pixelStorei(3317,Un.unpackAlignment);const gr=Vt.getParameter(3314),xr=Vt.getParameter(32878),Br=Vt.getParameter(3316),Gr=Vt.getParameter(3315),zr=Vt.getParameter(32877),_r=Vn.isCompressedTexture?Vn.mipmaps[0]:Vn.image;Vt.pixelStorei(3314,_r.width),Vt.pixelStorei(32878,_r.height),Vt.pixelStorei(3316,En.min.x),Vt.pixelStorei(3315,En.min.y),Vt.pixelStorei(32877,En.min.z),Vn.isDataTexture||Vn.isData3DTexture?Vt.texSubImage3D(hr,Xn,Fn.x,Fn.y,Fn.z,ar,cr,fr,dr,yr,_r.data):Vn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Vt.compressedTexSubImage3D(hr,Xn,Fn.x,Fn.y,Fn.z,ar,cr,fr,dr,_r.data)):Vt.texSubImage3D(hr,Xn,Fn.x,Fn.y,Fn.z,ar,cr,fr,dr,yr,_r),Vt.pixelStorei(3314,gr),Vt.pixelStorei(32878,xr),Vt.pixelStorei(3316,Br),Vt.pixelStorei(3315,Gr),Vt.pixelStorei(32877,zr),Xn===0&&Un.generateMipmaps&&Vt.generateMipmap(hr),Ft.unbindTexture()},this.initTexture=function(En){dn.setTexture2D(En,0),Ft.unbindTexture()},this.resetState=function(){yt=0,bt=0,St=null,Ft.reset(),Wn.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}WebGLRenderer.prototype.isWebGLRenderer=!0;class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(et,nt){return super.copy(et,nt),et.background!==null&&(this.background=et.background.clone()),et.environment!==null&&(this.environment=et.environment.clone()),et.fog!==null&&(this.fog=et.fog.clone()),et.overrideMaterial!==null&&(this.overrideMaterial=et.overrideMaterial.clone()),this.autoUpdate=et.autoUpdate,this.matrixAutoUpdate=et.matrixAutoUpdate,this}toJSON(et){const nt=super.toJSON(et);return this.fog!==null&&(nt.object.fog=this.fog.toJSON()),nt}}Scene.prototype.isScene=!0;class InterleavedBuffer{constructor(et,nt){this.array=et,this.stride=nt,this.count=et!==void 0?et.length/nt:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.array=new et.array.constructor(et.array),this.count=et.count,this.stride=et.stride,this.usage=et.usage,this}copyAt(et,nt,rt){et*=this.stride,rt*=nt.stride;for(let it=0,ot=this.stride;it<ot;it++)this.array[et+it]=nt.array[rt+it];return this}set(et,nt=0){return this.array.set(et,nt),this}clone(et){et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const nt=new this.array.constructor(et.arrayBuffers[this.array.buffer._uuid]),rt=new this.constructor(nt,this.stride);return rt.setUsage(this.usage),rt}onUpload(et){return this.onUploadCallback=et,this}toJSON(et){return et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}InterleavedBuffer.prototype.isInterleavedBuffer=!0;const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(et,nt,rt,it=!1){this.name="",this.data=et,this.itemSize=nt,this.offset=rt,this.normalized=it===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(et){this.data.needsUpdate=et}applyMatrix4(et){for(let nt=0,rt=this.data.count;nt<rt;nt++)_vector$6.fromBufferAttribute(this,nt),_vector$6.applyMatrix4(et),this.setXYZ(nt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$6.fromBufferAttribute(this,nt),_vector$6.applyNormalMatrix(et),this.setXYZ(nt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(et){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$6.fromBufferAttribute(this,nt),_vector$6.transformDirection(et),this.setXYZ(nt,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(et,nt){return this.data.array[et*this.data.stride+this.offset]=nt,this}setY(et,nt){return this.data.array[et*this.data.stride+this.offset+1]=nt,this}setZ(et,nt){return this.data.array[et*this.data.stride+this.offset+2]=nt,this}setW(et,nt){return this.data.array[et*this.data.stride+this.offset+3]=nt,this}getX(et){return this.data.array[et*this.data.stride+this.offset]}getY(et){return this.data.array[et*this.data.stride+this.offset+1]}getZ(et){return this.data.array[et*this.data.stride+this.offset+2]}getW(et){return this.data.array[et*this.data.stride+this.offset+3]}setXY(et,nt,rt){return et=et*this.data.stride+this.offset,this.data.array[et+0]=nt,this.data.array[et+1]=rt,this}setXYZ(et,nt,rt,it){return et=et*this.data.stride+this.offset,this.data.array[et+0]=nt,this.data.array[et+1]=rt,this.data.array[et+2]=it,this}setXYZW(et,nt,rt,it,ot){return et=et*this.data.stride+this.offset,this.data.array[et+0]=nt,this.data.array[et+1]=rt,this.data.array[et+2]=it,this.data.array[et+3]=ot,this}clone(et){if(et===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const nt=[];for(let rt=0;rt<this.count;rt++){const it=rt*this.data.stride+this.offset;for(let ot=0;ot<this.itemSize;ot++)nt.push(this.data.array[it+ot])}return new BufferAttribute(new this.array.constructor(nt),this.itemSize,this.normalized)}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.clone(et)),new InterleavedBufferAttribute(et.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(et){if(et===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const nt=[];for(let rt=0;rt<this.count;rt++){const it=rt*this.data.stride+this.offset;for(let ot=0;ot<this.itemSize;ot++)nt.push(this.data.array[it+ot])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:nt,normalized:this.normalized}}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.toJSON(et)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}InterleavedBufferAttribute.prototype.isInterleavedBufferAttribute=!0;class SpriteMaterial extends Material{constructor(et){super(),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.rotation=et.rotation,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}SpriteMaterial.prototype.isSpriteMaterial=!0;let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(et){if(super(),this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const nt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),rt=new InterleavedBuffer(nt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(rt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(rt,2,3,!1))}this.geometry=_geometry,this.material=et!==void 0?et:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(et,nt){et.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(et.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(et.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),et.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const rt=this.material.rotation;let it,ot;rt!==0&&(ot=Math.cos(rt),it=Math.sin(rt));const at=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,at,_worldScale,it,ot),transformVertex(_vB.set(.5,-.5,0),_mvPosition,at,_worldScale,it,ot),transformVertex(_vC.set(.5,.5,0),_mvPosition,at,_worldScale,it,ot),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=et.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,at,_worldScale,it,ot),_uvB.set(0,1),st=et.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const lt=et.ray.origin.distanceTo(_intersectPoint);lt<et.near||lt>et.far||nt.push({distance:lt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(et){return super.copy(et),et.center!==void 0&&this.center.copy(et.center),this.material=et.material,this}}Sprite.prototype.isSprite=!0;function transformVertex(tt,et,nt,rt,it,ot){_alignedPosition.subVectors(tt,nt).addScalar(.5).multiply(rt),it!==void 0?(_rotatedPosition.x=ot*_alignedPosition.x-it*_alignedPosition.y,_rotatedPosition.y=it*_alignedPosition.x+ot*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),tt.copy(et),tt.x+=_rotatedPosition.x,tt.y+=_rotatedPosition.y,tt.applyMatrix4(_viewWorldMatrix)}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(et,nt){super(et,nt),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(et){return super.copy(et),this.bindMode=et.bindMode,this.bindMatrix.copy(et.bindMatrix),this.bindMatrixInverse.copy(et.bindMatrixInverse),this.skeleton=et.skeleton,this}bind(et,nt){this.skeleton=et,nt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),nt=this.matrixWorld),this.bindMatrix.copy(nt),this.bindMatrixInverse.copy(nt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const et=new Vector4,nt=this.geometry.attributes.skinWeight;for(let rt=0,it=nt.count;rt<it;rt++){et.fromBufferAttribute(nt,rt);const ot=1/et.manhattanLength();ot!==1/0?et.multiplyScalar(ot):et.set(1,0,0,0),nt.setXYZW(rt,et.x,et.y,et.z,et.w)}}updateMatrixWorld(et){super.updateMatrixWorld(et),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(et,nt){const rt=this.skeleton,it=this.geometry;_skinIndex.fromBufferAttribute(it.attributes.skinIndex,et),_skinWeight.fromBufferAttribute(it.attributes.skinWeight,et),_basePosition.copy(nt).applyMatrix4(this.bindMatrix),nt.set(0,0,0);for(let ot=0;ot<4;ot++){const at=_skinWeight.getComponent(ot);if(at!==0){const st=_skinIndex.getComponent(ot);_matrix.multiplyMatrices(rt.bones[st].matrixWorld,rt.boneInverses[st]),nt.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),at)}}return nt.applyMatrix4(this.bindMatrixInverse)}}SkinnedMesh.prototype.isSkinnedMesh=!0;class Bone extends Object3D{constructor(){super(),this.type="Bone"}}Bone.prototype.isBone=!0;class DataTexture extends Texture{constructor(et=null,nt=1,rt=1,it,ot,at,st,lt,ct=NearestFilter,ft=NearestFilter,ut,dt){super(null,at,st,lt,ct,ft,it,ot,ut,dt),this.image={data:et,width:nt,height:rt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}DataTexture.prototype.isDataTexture=!0;class InstancedBufferAttribute extends BufferAttribute{constructor(et,nt,rt,it=1){typeof rt=="number"&&(it=rt,rt=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(et,nt,rt),this.meshPerAttribute=it}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}toJSON(){const et=super.toJSON();return et.meshPerAttribute=this.meshPerAttribute,et.isInstancedBufferAttribute=!0,et}}InstancedBufferAttribute.prototype.isInstancedBufferAttribute=!0;const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(et,nt,rt){super(et,nt),this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(rt*16),16),this.instanceColor=null,this.count=rt,this.frustumCulled=!1}copy(et){return super.copy(et),this.instanceMatrix.copy(et.instanceMatrix),et.instanceColor!==null&&(this.instanceColor=et.instanceColor.clone()),this.count=et.count,this}getColorAt(et,nt){nt.fromArray(this.instanceColor.array,et*3)}getMatrixAt(et,nt){nt.fromArray(this.instanceMatrix.array,et*16)}raycast(et,nt){const rt=this.matrixWorld,it=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let ot=0;ot<it;ot++){this.getMatrixAt(ot,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(rt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(et,_instanceIntersects);for(let at=0,st=_instanceIntersects.length;at<st;at++){const lt=_instanceIntersects[at];lt.instanceId=ot,lt.object=this,nt.push(lt)}_instanceIntersects.length=0}}setColorAt(et,nt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),nt.toArray(this.instanceColor.array,et*3)}setMatrixAt(et,nt){nt.toArray(this.instanceMatrix.array,et*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}InstancedMesh.prototype.isInstancedMesh=!0;class LineBasicMaterial extends Material{constructor(et){super(),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.linewidth=et.linewidth,this.linecap=et.linecap,this.linejoin=et.linejoin,this.fog=et.fog,this}}LineBasicMaterial.prototype.isLineBasicMaterial=!0;const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(et=new BufferGeometry,nt=new LineBasicMaterial){super(),this.type="Line",this.geometry=et,this.material=nt,this.updateMorphTargets()}copy(et){return super.copy(et),this.material=et.material,this.geometry=et.geometry,this}computeLineDistances(){const et=this.geometry;if(et.isBufferGeometry)if(et.index===null){const nt=et.attributes.position,rt=[0];for(let it=1,ot=nt.count;it<ot;it++)_start$1.fromBufferAttribute(nt,it-1),_end$1.fromBufferAttribute(nt,it),rt[it]=rt[it-1],rt[it]+=_start$1.distanceTo(_end$1);et.setAttribute("lineDistance",new Float32BufferAttribute(rt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else et.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(et,nt){const rt=this.geometry,it=this.matrixWorld,ot=et.params.Line.threshold,at=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$1.copy(rt.boundingSphere),_sphere$1.applyMatrix4(it),_sphere$1.radius+=ot,et.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(it).invert(),_ray$1.copy(et.ray).applyMatrix4(_inverseMatrix$1);const st=ot/((this.scale.x+this.scale.y+this.scale.z)/3),lt=st*st,ct=new Vector3,ft=new Vector3,ut=new Vector3,dt=new Vector3,ht=this.isLineSegments?2:1;if(rt.isBufferGeometry){const pt=rt.index,mt=rt.attributes.position;if(pt!==null){const yt=Math.max(0,at.start),bt=Math.min(pt.count,at.start+at.count);for(let St=yt,xt=bt-1;St<xt;St+=ht){const vt=pt.getX(St),$t=pt.getX(St+1);if(ct.fromBufferAttribute(mt,vt),ft.fromBufferAttribute(mt,$t),_ray$1.distanceSqToSegment(ct,ft,dt,ut)>lt)continue;dt.applyMatrix4(this.matrixWorld);const Nt=et.ray.origin.distanceTo(dt);Nt<et.near||Nt>et.far||nt.push({distance:Nt,point:ut.clone().applyMatrix4(this.matrixWorld),index:St,face:null,faceIndex:null,object:this})}}else{const yt=Math.max(0,at.start),bt=Math.min(mt.count,at.start+at.count);for(let St=yt,xt=bt-1;St<xt;St+=ht){if(ct.fromBufferAttribute(mt,St),ft.fromBufferAttribute(mt,St+1),_ray$1.distanceSqToSegment(ct,ft,dt,ut)>lt)continue;dt.applyMatrix4(this.matrixWorld);const $t=et.ray.origin.distanceTo(dt);$t<et.near||$t>et.far||nt.push({distance:$t,point:ut.clone().applyMatrix4(this.matrixWorld),index:St,face:null,faceIndex:null,object:this})}}}else rt.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const et=this.geometry;if(et.isBufferGeometry){const nt=et.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}else{const nt=et.morphTargets;nt!==void 0&&nt.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Line.prototype.isLine=!0;const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(et,nt){super(et,nt),this.type="LineSegments"}computeLineDistances(){const et=this.geometry;if(et.isBufferGeometry)if(et.index===null){const nt=et.attributes.position,rt=[];for(let it=0,ot=nt.count;it<ot;it+=2)_start.fromBufferAttribute(nt,it),_end.fromBufferAttribute(nt,it+1),rt[it]=it===0?0:rt[it-1],rt[it+1]=rt[it]+_start.distanceTo(_end);et.setAttribute("lineDistance",new Float32BufferAttribute(rt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else et.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}LineSegments.prototype.isLineSegments=!0;class LineLoop extends Line{constructor(et,nt){super(et,nt),this.type="LineLoop"}}LineLoop.prototype.isLineLoop=!0;class PointsMaterial extends Material{constructor(et){super(),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.size=et.size,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}PointsMaterial.prototype.isPointsMaterial=!0;const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(et=new BufferGeometry,nt=new PointsMaterial){super(),this.type="Points",this.geometry=et,this.material=nt,this.updateMorphTargets()}copy(et){return super.copy(et),this.material=et.material,this.geometry=et.geometry,this}raycast(et,nt){const rt=this.geometry,it=this.matrixWorld,ot=et.params.Points.threshold,at=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere.copy(rt.boundingSphere),_sphere.applyMatrix4(it),_sphere.radius+=ot,et.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(it).invert(),_ray.copy(et.ray).applyMatrix4(_inverseMatrix);const st=ot/((this.scale.x+this.scale.y+this.scale.z)/3),lt=st*st;if(rt.isBufferGeometry){const ct=rt.index,ut=rt.attributes.position;if(ct!==null){const dt=Math.max(0,at.start),ht=Math.min(ct.count,at.start+at.count);for(let pt=dt,gt=ht;pt<gt;pt++){const mt=ct.getX(pt);_position$2.fromBufferAttribute(ut,mt),testPoint(_position$2,mt,lt,it,et,nt,this)}}else{const dt=Math.max(0,at.start),ht=Math.min(ut.count,at.start+at.count);for(let pt=dt,gt=ht;pt<gt;pt++)_position$2.fromBufferAttribute(ut,pt),testPoint(_position$2,pt,lt,it,et,nt,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const et=this.geometry;if(et.isBufferGeometry){const nt=et.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}else{const nt=et.morphTargets;nt!==void 0&&nt.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Points.prototype.isPoints=!0;function testPoint(tt,et,nt,rt,it,ot,at){const st=_ray.distanceSqToPoint(tt);if(st<nt){const lt=new Vector3;_ray.closestPointToPoint(tt,lt),lt.applyMatrix4(rt);const ct=it.ray.origin.distanceTo(lt);if(ct<it.near||ct>it.far)return;ot.push({distance:ct,distanceToRay:Math.sqrt(st),point:lt,index:et,face:null,object:at})}}class VideoTexture extends Texture{constructor(et,nt,rt,it,ot,at,st,lt,ct){super(et,nt,rt,it,ot,at,st,lt,ct),this.minFilter=at!==void 0?at:LinearFilter,this.magFilter=ot!==void 0?ot:LinearFilter,this.generateMipmaps=!1;const ft=this;function ut(){ft.needsUpdate=!0,et.requestVideoFrameCallback(ut)}"requestVideoFrameCallback"in et&&et.requestVideoFrameCallback(ut)}clone(){return new this.constructor(this.image).copy(this)}update(){const et=this.image;"requestVideoFrameCallback"in et===!1&&et.readyState>=et.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}VideoTexture.prototype.isVideoTexture=!0;class FramebufferTexture extends Texture{constructor(et,nt,rt){super({width:et,height:nt}),this.format=rt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}FramebufferTexture.prototype.isFramebufferTexture=!0;class CompressedTexture extends Texture{constructor(et,nt,rt,it,ot,at,st,lt,ct,ft,ut,dt){super(null,at,st,lt,ct,ft,it,ot,ut,dt),this.image={width:nt,height:rt},this.mipmaps=et,this.flipY=!1,this.generateMipmaps=!1}}CompressedTexture.prototype.isCompressedTexture=!0;class CanvasTexture extends Texture{constructor(et,nt,rt,it,ot,at,st,lt,ct){super(et,nt,rt,it,ot,at,st,lt,ct),this.needsUpdate=!0}}CanvasTexture.prototype.isCanvasTexture=!0;class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(et,nt){const rt=this.getUtoTmapping(et);return this.getPoint(rt,nt)}getPoints(et=5){const nt=[];for(let rt=0;rt<=et;rt++)nt.push(this.getPoint(rt/et));return nt}getSpacedPoints(et=5){const nt=[];for(let rt=0;rt<=et;rt++)nt.push(this.getPointAt(rt/et));return nt}getLength(){const et=this.getLengths();return et[et.length-1]}getLengths(et=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===et+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const nt=[];let rt,it=this.getPoint(0),ot=0;nt.push(0);for(let at=1;at<=et;at++)rt=this.getPoint(at/et),ot+=rt.distanceTo(it),nt.push(ot),it=rt;return this.cacheArcLengths=nt,nt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(et,nt){const rt=this.getLengths();let it=0;const ot=rt.length;let at;nt?at=nt:at=et*rt[ot-1];let st=0,lt=ot-1,ct;for(;st<=lt;)if(it=Math.floor(st+(lt-st)/2),ct=rt[it]-at,ct<0)st=it+1;else if(ct>0)lt=it-1;else{lt=it;break}if(it=lt,rt[it]===at)return it/(ot-1);const ft=rt[it],dt=rt[it+1]-ft,ht=(at-ft)/dt;return(it+ht)/(ot-1)}getTangent(et,nt){let it=et-1e-4,ot=et+1e-4;it<0&&(it=0),ot>1&&(ot=1);const at=this.getPoint(it),st=this.getPoint(ot),lt=nt||(at.isVector2?new Vector2:new Vector3);return lt.copy(st).sub(at).normalize(),lt}getTangentAt(et,nt){const rt=this.getUtoTmapping(et);return this.getTangent(rt,nt)}computeFrenetFrames(et,nt){const rt=new Vector3,it=[],ot=[],at=[],st=new Vector3,lt=new Matrix4;for(let ht=0;ht<=et;ht++){const pt=ht/et;it[ht]=this.getTangentAt(pt,new Vector3)}ot[0]=new Vector3,at[0]=new Vector3;let ct=Number.MAX_VALUE;const ft=Math.abs(it[0].x),ut=Math.abs(it[0].y),dt=Math.abs(it[0].z);ft<=ct&&(ct=ft,rt.set(1,0,0)),ut<=ct&&(ct=ut,rt.set(0,1,0)),dt<=ct&&rt.set(0,0,1),st.crossVectors(it[0],rt).normalize(),ot[0].crossVectors(it[0],st),at[0].crossVectors(it[0],ot[0]);for(let ht=1;ht<=et;ht++){if(ot[ht]=ot[ht-1].clone(),at[ht]=at[ht-1].clone(),st.crossVectors(it[ht-1],it[ht]),st.length()>Number.EPSILON){st.normalize();const pt=Math.acos(clamp(it[ht-1].dot(it[ht]),-1,1));ot[ht].applyMatrix4(lt.makeRotationAxis(st,pt))}at[ht].crossVectors(it[ht],ot[ht])}if(nt===!0){let ht=Math.acos(clamp(ot[0].dot(ot[et]),-1,1));ht/=et,it[0].dot(st.crossVectors(ot[0],ot[et]))>0&&(ht=-ht);for(let pt=1;pt<=et;pt++)ot[pt].applyMatrix4(lt.makeRotationAxis(it[pt],ht*pt)),at[pt].crossVectors(it[pt],ot[pt])}return{tangents:it,normals:ot,binormals:at}}clone(){return new this.constructor().copy(this)}copy(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}toJSON(){const et={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return et.arcLengthDivisions=this.arcLengthDivisions,et.type=this.type,et}fromJSON(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(et=0,nt=0,rt=1,it=1,ot=0,at=Math.PI*2,st=!1,lt=0){super(),this.type="EllipseCurve",this.aX=et,this.aY=nt,this.xRadius=rt,this.yRadius=it,this.aStartAngle=ot,this.aEndAngle=at,this.aClockwise=st,this.aRotation=lt}getPoint(et,nt){const rt=nt||new Vector2,it=Math.PI*2;let ot=this.aEndAngle-this.aStartAngle;const at=Math.abs(ot)<Number.EPSILON;for(;ot<0;)ot+=it;for(;ot>it;)ot-=it;ot<Number.EPSILON&&(at?ot=0:ot=it),this.aClockwise===!0&&!at&&(ot===it?ot=-it:ot=ot-it);const st=this.aStartAngle+et*ot;let lt=this.aX+this.xRadius*Math.cos(st),ct=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const ft=Math.cos(this.aRotation),ut=Math.sin(this.aRotation),dt=lt-this.aX,ht=ct-this.aY;lt=dt*ft-ht*ut+this.aX,ct=dt*ut+ht*ft+this.aY}return rt.set(lt,ct)}copy(et){return super.copy(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}toJSON(){const et=super.toJSON();return et.aX=this.aX,et.aY=this.aY,et.xRadius=this.xRadius,et.yRadius=this.yRadius,et.aStartAngle=this.aStartAngle,et.aEndAngle=this.aEndAngle,et.aClockwise=this.aClockwise,et.aRotation=this.aRotation,et}fromJSON(et){return super.fromJSON(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}}EllipseCurve.prototype.isEllipseCurve=!0;class ArcCurve extends EllipseCurve{constructor(et,nt,rt,it,ot,at){super(et,nt,rt,rt,it,ot,at),this.type="ArcCurve"}}ArcCurve.prototype.isArcCurve=!0;function CubicPoly(){let tt=0,et=0,nt=0,rt=0;function it(ot,at,st,lt){tt=ot,et=st,nt=-3*ot+3*at-2*st-lt,rt=2*ot-2*at+st+lt}return{initCatmullRom:function(ot,at,st,lt,ct){it(at,st,ct*(st-ot),ct*(lt-at))},initNonuniformCatmullRom:function(ot,at,st,lt,ct,ft,ut){let dt=(at-ot)/ct-(st-ot)/(ct+ft)+(st-at)/ft,ht=(st-at)/ft-(lt-at)/(ft+ut)+(lt-st)/ut;dt*=ft,ht*=ft,it(at,st,dt,ht)},calc:function(ot){const at=ot*ot,st=at*ot;return tt+et*ot+nt*at+rt*st}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(et=[],nt=!1,rt="centripetal",it=.5){super(),this.type="CatmullRomCurve3",this.points=et,this.closed=nt,this.curveType=rt,this.tension=it}getPoint(et,nt=new Vector3){const rt=nt,it=this.points,ot=it.length,at=(ot-(this.closed?0:1))*et;let st=Math.floor(at),lt=at-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/ot)+1)*ot:lt===0&&st===ot-1&&(st=ot-2,lt=1);let ct,ft;this.closed||st>0?ct=it[(st-1)%ot]:(tmp.subVectors(it[0],it[1]).add(it[0]),ct=tmp);const ut=it[st%ot],dt=it[(st+1)%ot];if(this.closed||st+2<ot?ft=it[(st+2)%ot]:(tmp.subVectors(it[ot-1],it[ot-2]).add(it[ot-1]),ft=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ht=this.curveType==="chordal"?.5:.25;let pt=Math.pow(ct.distanceToSquared(ut),ht),gt=Math.pow(ut.distanceToSquared(dt),ht),mt=Math.pow(dt.distanceToSquared(ft),ht);gt<1e-4&&(gt=1),pt<1e-4&&(pt=gt),mt<1e-4&&(mt=gt),px.initNonuniformCatmullRom(ct.x,ut.x,dt.x,ft.x,pt,gt,mt),py.initNonuniformCatmullRom(ct.y,ut.y,dt.y,ft.y,pt,gt,mt),pz.initNonuniformCatmullRom(ct.z,ut.z,dt.z,ft.z,pt,gt,mt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ct.x,ut.x,dt.x,ft.x,this.tension),py.initCatmullRom(ct.y,ut.y,dt.y,ft.y,this.tension),pz.initCatmullRom(ct.z,ut.z,dt.z,ft.z,this.tension));return rt.set(px.calc(lt),py.calc(lt),pz.calc(lt)),rt}copy(et){super.copy(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(it.clone())}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}toJSON(){const et=super.toJSON();et.points=[];for(let nt=0,rt=this.points.length;nt<rt;nt++){const it=this.points[nt];et.points.push(it.toArray())}return et.closed=this.closed,et.curveType=this.curveType,et.tension=this.tension,et}fromJSON(et){super.fromJSON(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(new Vector3().fromArray(it))}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}}CatmullRomCurve3.prototype.isCatmullRomCurve3=!0;function CatmullRom(tt,et,nt,rt,it){const ot=(rt-et)*.5,at=(it-nt)*.5,st=tt*tt,lt=tt*st;return(2*nt-2*rt+ot+at)*lt+(-3*nt+3*rt-2*ot-at)*st+ot*tt+nt}function QuadraticBezierP0(tt,et){const nt=1-tt;return nt*nt*et}function QuadraticBezierP1(tt,et){return 2*(1-tt)*tt*et}function QuadraticBezierP2(tt,et){return tt*tt*et}function QuadraticBezier(tt,et,nt,rt){return QuadraticBezierP0(tt,et)+QuadraticBezierP1(tt,nt)+QuadraticBezierP2(tt,rt)}function CubicBezierP0(tt,et){const nt=1-tt;return nt*nt*nt*et}function CubicBezierP1(tt,et){const nt=1-tt;return 3*nt*nt*tt*et}function CubicBezierP2(tt,et){return 3*(1-tt)*tt*tt*et}function CubicBezierP3(tt,et){return tt*tt*tt*et}function CubicBezier(tt,et,nt,rt,it){return CubicBezierP0(tt,et)+CubicBezierP1(tt,nt)+CubicBezierP2(tt,rt)+CubicBezierP3(tt,it)}class CubicBezierCurve extends Curve{constructor(et=new Vector2,nt=new Vector2,rt=new Vector2,it=new Vector2){super(),this.type="CubicBezierCurve",this.v0=et,this.v1=nt,this.v2=rt,this.v3=it}getPoint(et,nt=new Vector2){const rt=nt,it=this.v0,ot=this.v1,at=this.v2,st=this.v3;return rt.set(CubicBezier(et,it.x,ot.x,at.x,st.x),CubicBezier(et,it.y,ot.y,at.y,st.y)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}CubicBezierCurve.prototype.isCubicBezierCurve=!0;class CubicBezierCurve3 extends Curve{constructor(et=new Vector3,nt=new Vector3,rt=new Vector3,it=new Vector3){super(),this.type="CubicBezierCurve3",this.v0=et,this.v1=nt,this.v2=rt,this.v3=it}getPoint(et,nt=new Vector3){const rt=nt,it=this.v0,ot=this.v1,at=this.v2,st=this.v3;return rt.set(CubicBezier(et,it.x,ot.x,at.x,st.x),CubicBezier(et,it.y,ot.y,at.y,st.y),CubicBezier(et,it.z,ot.z,at.z,st.z)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}CubicBezierCurve3.prototype.isCubicBezierCurve3=!0;class LineCurve extends Curve{constructor(et=new Vector2,nt=new Vector2){super(),this.type="LineCurve",this.v1=et,this.v2=nt}getPoint(et,nt=new Vector2){const rt=nt;return et===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(et).add(this.v1)),rt}getPointAt(et,nt){return this.getPoint(et,nt)}getTangent(et,nt){const rt=nt||new Vector2;return rt.copy(this.v2).sub(this.v1).normalize(),rt}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}LineCurve.prototype.isLineCurve=!0;class LineCurve3 extends Curve{constructor(et=new Vector3,nt=new Vector3){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=et,this.v2=nt}getPoint(et,nt=new Vector3){const rt=nt;return et===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(et).add(this.v1)),rt}getPointAt(et,nt){return this.getPoint(et,nt)}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class QuadraticBezierCurve extends Curve{constructor(et=new Vector2,nt=new Vector2,rt=new Vector2){super(),this.type="QuadraticBezierCurve",this.v0=et,this.v1=nt,this.v2=rt}getPoint(et,nt=new Vector2){const rt=nt,it=this.v0,ot=this.v1,at=this.v2;return rt.set(QuadraticBezier(et,it.x,ot.x,at.x),QuadraticBezier(et,it.y,ot.y,at.y)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0;class QuadraticBezierCurve3 extends Curve{constructor(et=new Vector3,nt=new Vector3,rt=new Vector3){super(),this.type="QuadraticBezierCurve3",this.v0=et,this.v1=nt,this.v2=rt}getPoint(et,nt=new Vector3){const rt=nt,it=this.v0,ot=this.v1,at=this.v2;return rt.set(QuadraticBezier(et,it.x,ot.x,at.x),QuadraticBezier(et,it.y,ot.y,at.y),QuadraticBezier(et,it.z,ot.z,at.z)),rt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0;class SplineCurve extends Curve{constructor(et=[]){super(),this.type="SplineCurve",this.points=et}getPoint(et,nt=new Vector2){const rt=nt,it=this.points,ot=(it.length-1)*et,at=Math.floor(ot),st=ot-at,lt=it[at===0?at:at-1],ct=it[at],ft=it[at>it.length-2?it.length-1:at+1],ut=it[at>it.length-3?it.length-1:at+2];return rt.set(CatmullRom(st,lt.x,ct.x,ft.x,ut.x),CatmullRom(st,lt.y,ct.y,ft.y,ut.y)),rt}copy(et){super.copy(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(it.clone())}return this}toJSON(){const et=super.toJSON();et.points=[];for(let nt=0,rt=this.points.length;nt<rt;nt++){const it=this.points[nt];et.points.push(it.toArray())}return et}fromJSON(et){super.fromJSON(et),this.points=[];for(let nt=0,rt=et.points.length;nt<rt;nt++){const it=et.points[nt];this.points.push(new Vector2().fromArray(it))}return this}}SplineCurve.prototype.isSplineCurve=!0;var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(et){this.curves.push(et)}closePath(){const et=this.curves[0].getPoint(0),nt=this.curves[this.curves.length-1].getPoint(1);et.equals(nt)||this.curves.push(new LineCurve(nt,et))}getPoint(et,nt){const rt=et*this.getLength(),it=this.getCurveLengths();let ot=0;for(;ot<it.length;){if(it[ot]>=rt){const at=it[ot]-rt,st=this.curves[ot],lt=st.getLength(),ct=lt===0?0:1-at/lt;return st.getPointAt(ct,nt)}ot++}return null}getLength(){const et=this.getCurveLengths();return et[et.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const et=[];let nt=0;for(let rt=0,it=this.curves.length;rt<it;rt++)nt+=this.curves[rt].getLength(),et.push(nt);return this.cacheLengths=et,et}getSpacedPoints(et=40){const nt=[];for(let rt=0;rt<=et;rt++)nt.push(this.getPoint(rt/et));return this.autoClose&&nt.push(nt[0]),nt}getPoints(et=12){const nt=[];let rt;for(let it=0,ot=this.curves;it<ot.length;it++){const at=ot[it],st=at.isEllipseCurve?et*2:at.isLineCurve||at.isLineCurve3?1:at.isSplineCurve?et*at.points.length:et,lt=at.getPoints(st);for(let ct=0;ct<lt.length;ct++){const ft=lt[ct];rt&&rt.equals(ft)||(nt.push(ft),rt=ft)}}return this.autoClose&&nt.length>1&&!nt[nt.length-1].equals(nt[0])&&nt.push(nt[0]),nt}copy(et){super.copy(et),this.curves=[];for(let nt=0,rt=et.curves.length;nt<rt;nt++){const it=et.curves[nt];this.curves.push(it.clone())}return this.autoClose=et.autoClose,this}toJSON(){const et=super.toJSON();et.autoClose=this.autoClose,et.curves=[];for(let nt=0,rt=this.curves.length;nt<rt;nt++){const it=this.curves[nt];et.curves.push(it.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.autoClose=et.autoClose,this.curves=[];for(let nt=0,rt=et.curves.length;nt<rt;nt++){const it=et.curves[nt];this.curves.push(new Curves[it.type]().fromJSON(it))}return this}}class Path extends CurvePath{constructor(et){super(),this.type="Path",this.currentPoint=new Vector2,et&&this.setFromPoints(et)}setFromPoints(et){this.moveTo(et[0].x,et[0].y);for(let nt=1,rt=et.length;nt<rt;nt++)this.lineTo(et[nt].x,et[nt].y);return this}moveTo(et,nt){return this.currentPoint.set(et,nt),this}lineTo(et,nt){const rt=new LineCurve(this.currentPoint.clone(),new Vector2(et,nt));return this.curves.push(rt),this.currentPoint.set(et,nt),this}quadraticCurveTo(et,nt,rt,it){const ot=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(et,nt),new Vector2(rt,it));return this.curves.push(ot),this.currentPoint.set(rt,it),this}bezierCurveTo(et,nt,rt,it,ot,at){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(et,nt),new Vector2(rt,it),new Vector2(ot,at));return this.curves.push(st),this.currentPoint.set(ot,at),this}splineThru(et){const nt=[this.currentPoint.clone()].concat(et),rt=new SplineCurve(nt);return this.curves.push(rt),this.currentPoint.copy(et[et.length-1]),this}arc(et,nt,rt,it,ot,at){const st=this.currentPoint.x,lt=this.currentPoint.y;return this.absarc(et+st,nt+lt,rt,it,ot,at),this}absarc(et,nt,rt,it,ot,at){return this.absellipse(et,nt,rt,rt,it,ot,at),this}ellipse(et,nt,rt,it,ot,at,st,lt){const ct=this.currentPoint.x,ft=this.currentPoint.y;return this.absellipse(et+ct,nt+ft,rt,it,ot,at,st,lt),this}absellipse(et,nt,rt,it,ot,at,st,lt){const ct=new EllipseCurve(et,nt,rt,it,ot,at,st,lt);if(this.curves.length>0){const ut=ct.getPoint(0);ut.equals(this.currentPoint)||this.lineTo(ut.x,ut.y)}this.curves.push(ct);const ft=ct.getPoint(1);return this.currentPoint.copy(ft),this}copy(et){return super.copy(et),this.currentPoint.copy(et.currentPoint),this}toJSON(){const et=super.toJSON();return et.currentPoint=this.currentPoint.toArray(),et}fromJSON(et){return super.fromJSON(et),this.currentPoint.fromArray(et.currentPoint),this}}new Vector3;new Vector3;new Vector3;new Triangle;class Shape extends Path{constructor(et){super(et),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(et){const nt=[];for(let rt=0,it=this.holes.length;rt<it;rt++)nt[rt]=this.holes[rt].getPoints(et);return nt}extractPoints(et){return{shape:this.getPoints(et),holes:this.getPointsHoles(et)}}copy(et){super.copy(et),this.holes=[];for(let nt=0,rt=et.holes.length;nt<rt;nt++){const it=et.holes[nt];this.holes.push(it.clone())}return this}toJSON(){const et=super.toJSON();et.uuid=this.uuid,et.holes=[];for(let nt=0,rt=this.holes.length;nt<rt;nt++){const it=this.holes[nt];et.holes.push(it.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.uuid=et.uuid,this.holes=[];for(let nt=0,rt=et.holes.length;nt<rt;nt++){const it=et.holes[nt];this.holes.push(new Path().fromJSON(it))}return this}}const Earcut={triangulate:function(tt,et,nt=2){const rt=et&&et.length,it=rt?et[0]*nt:tt.length;let ot=linkedList(tt,0,it,nt,!0);const at=[];if(!ot||ot.next===ot.prev)return at;let st,lt,ct,ft,ut,dt,ht;if(rt&&(ot=eliminateHoles(tt,et,ot,nt)),tt.length>80*nt){st=ct=tt[0],lt=ft=tt[1];for(let pt=nt;pt<it;pt+=nt)ut=tt[pt],dt=tt[pt+1],ut<st&&(st=ut),dt<lt&&(lt=dt),ut>ct&&(ct=ut),dt>ft&&(ft=dt);ht=Math.max(ct-st,ft-lt),ht=ht!==0?1/ht:0}return earcutLinked(ot,at,nt,st,lt,ht),at}};function linkedList(tt,et,nt,rt,it){let ot,at;if(it===signedArea(tt,et,nt,rt)>0)for(ot=et;ot<nt;ot+=rt)at=insertNode(ot,tt[ot],tt[ot+1],at);else for(ot=nt-rt;ot>=et;ot-=rt)at=insertNode(ot,tt[ot],tt[ot+1],at);return at&&equals(at,at.next)&&(removeNode(at),at=at.next),at}function filterPoints(tt,et){if(!tt)return tt;et||(et=tt);let nt=tt,rt;do if(rt=!1,!nt.steiner&&(equals(nt,nt.next)||area(nt.prev,nt,nt.next)===0)){if(removeNode(nt),nt=et=nt.prev,nt===nt.next)break;rt=!0}else nt=nt.next;while(rt||nt!==et);return et}function earcutLinked(tt,et,nt,rt,it,ot,at){if(!tt)return;!at&&ot&&indexCurve(tt,rt,it,ot);let st=tt,lt,ct;for(;tt.prev!==tt.next;){if(lt=tt.prev,ct=tt.next,ot?isEarHashed(tt,rt,it,ot):isEar(tt)){et.push(lt.i/nt),et.push(tt.i/nt),et.push(ct.i/nt),removeNode(tt),tt=ct.next,st=ct.next;continue}if(tt=ct,tt===st){at?at===1?(tt=cureLocalIntersections(filterPoints(tt),et,nt),earcutLinked(tt,et,nt,rt,it,ot,2)):at===2&&splitEarcut(tt,et,nt,rt,it,ot):earcutLinked(filterPoints(tt),et,nt,rt,it,ot,1);break}}}function isEar(tt){const et=tt.prev,nt=tt,rt=tt.next;if(area(et,nt,rt)>=0)return!1;let it=tt.next.next;for(;it!==tt.prev;){if(pointInTriangle(et.x,et.y,nt.x,nt.y,rt.x,rt.y,it.x,it.y)&&area(it.prev,it,it.next)>=0)return!1;it=it.next}return!0}function isEarHashed(tt,et,nt,rt){const it=tt.prev,ot=tt,at=tt.next;if(area(it,ot,at)>=0)return!1;const st=it.x<ot.x?it.x<at.x?it.x:at.x:ot.x<at.x?ot.x:at.x,lt=it.y<ot.y?it.y<at.y?it.y:at.y:ot.y<at.y?ot.y:at.y,ct=it.x>ot.x?it.x>at.x?it.x:at.x:ot.x>at.x?ot.x:at.x,ft=it.y>ot.y?it.y>at.y?it.y:at.y:ot.y>at.y?ot.y:at.y,ut=zOrder(st,lt,et,nt,rt),dt=zOrder(ct,ft,et,nt,rt);let ht=tt.prevZ,pt=tt.nextZ;for(;ht&&ht.z>=ut&&pt&&pt.z<=dt;){if(ht!==tt.prev&&ht!==tt.next&&pointInTriangle(it.x,it.y,ot.x,ot.y,at.x,at.y,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,pt!==tt.prev&&pt!==tt.next&&pointInTriangle(it.x,it.y,ot.x,ot.y,at.x,at.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0))return!1;pt=pt.nextZ}for(;ht&&ht.z>=ut;){if(ht!==tt.prev&&ht!==tt.next&&pointInTriangle(it.x,it.y,ot.x,ot.y,at.x,at.y,ht.x,ht.y)&&area(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;pt&&pt.z<=dt;){if(pt!==tt.prev&&pt!==tt.next&&pointInTriangle(it.x,it.y,ot.x,ot.y,at.x,at.y,pt.x,pt.y)&&area(pt.prev,pt,pt.next)>=0)return!1;pt=pt.nextZ}return!0}function cureLocalIntersections(tt,et,nt){let rt=tt;do{const it=rt.prev,ot=rt.next.next;!equals(it,ot)&&intersects(it,rt,rt.next,ot)&&locallyInside(it,ot)&&locallyInside(ot,it)&&(et.push(it.i/nt),et.push(rt.i/nt),et.push(ot.i/nt),removeNode(rt),removeNode(rt.next),rt=tt=ot),rt=rt.next}while(rt!==tt);return filterPoints(rt)}function splitEarcut(tt,et,nt,rt,it,ot){let at=tt;do{let st=at.next.next;for(;st!==at.prev;){if(at.i!==st.i&&isValidDiagonal(at,st)){let lt=splitPolygon(at,st);at=filterPoints(at,at.next),lt=filterPoints(lt,lt.next),earcutLinked(at,et,nt,rt,it,ot),earcutLinked(lt,et,nt,rt,it,ot);return}st=st.next}at=at.next}while(at!==tt)}function eliminateHoles(tt,et,nt,rt){const it=[];let ot,at,st,lt,ct;for(ot=0,at=et.length;ot<at;ot++)st=et[ot]*rt,lt=ot<at-1?et[ot+1]*rt:tt.length,ct=linkedList(tt,st,lt,rt,!1),ct===ct.next&&(ct.steiner=!0),it.push(getLeftmost(ct));for(it.sort(compareX),ot=0;ot<it.length;ot++)eliminateHole(it[ot],nt),nt=filterPoints(nt,nt.next);return nt}function compareX(tt,et){return tt.x-et.x}function eliminateHole(tt,et){if(et=findHoleBridge(tt,et),et){const nt=splitPolygon(et,tt);filterPoints(et,et.next),filterPoints(nt,nt.next)}}function findHoleBridge(tt,et){let nt=et;const rt=tt.x,it=tt.y;let ot=-1/0,at;do{if(it<=nt.y&&it>=nt.next.y&&nt.next.y!==nt.y){const dt=nt.x+(it-nt.y)*(nt.next.x-nt.x)/(nt.next.y-nt.y);if(dt<=rt&&dt>ot){if(ot=dt,dt===rt){if(it===nt.y)return nt;if(it===nt.next.y)return nt.next}at=nt.x<nt.next.x?nt:nt.next}}nt=nt.next}while(nt!==et);if(!at)return null;if(rt===ot)return at;const st=at,lt=at.x,ct=at.y;let ft=1/0,ut;nt=at;do rt>=nt.x&&nt.x>=lt&&rt!==nt.x&&pointInTriangle(it<ct?rt:ot,it,lt,ct,it<ct?ot:rt,it,nt.x,nt.y)&&(ut=Math.abs(it-nt.y)/(rt-nt.x),locallyInside(nt,tt)&&(ut<ft||ut===ft&&(nt.x>at.x||nt.x===at.x&&sectorContainsSector(at,nt)))&&(at=nt,ft=ut)),nt=nt.next;while(nt!==st);return at}function sectorContainsSector(tt,et){return area(tt.prev,tt,et.prev)<0&&area(et.next,tt,tt.next)<0}function indexCurve(tt,et,nt,rt){let it=tt;do it.z===null&&(it.z=zOrder(it.x,it.y,et,nt,rt)),it.prevZ=it.prev,it.nextZ=it.next,it=it.next;while(it!==tt);it.prevZ.nextZ=null,it.prevZ=null,sortLinked(it)}function sortLinked(tt){let et,nt,rt,it,ot,at,st,lt,ct=1;do{for(nt=tt,tt=null,ot=null,at=0;nt;){for(at++,rt=nt,st=0,et=0;et<ct&&(st++,rt=rt.nextZ,!!rt);et++);for(lt=ct;st>0||lt>0&&rt;)st!==0&&(lt===0||!rt||nt.z<=rt.z)?(it=nt,nt=nt.nextZ,st--):(it=rt,rt=rt.nextZ,lt--),ot?ot.nextZ=it:tt=it,it.prevZ=ot,ot=it;nt=rt}ot.nextZ=null,ct*=2}while(at>1);return tt}function zOrder(tt,et,nt,rt,it){return tt=32767*(tt-nt)*it,et=32767*(et-rt)*it,tt=(tt|tt<<8)&16711935,tt=(tt|tt<<4)&252645135,tt=(tt|tt<<2)&858993459,tt=(tt|tt<<1)&1431655765,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,tt|et<<1}function getLeftmost(tt){let et=tt,nt=tt;do(et.x<nt.x||et.x===nt.x&&et.y<nt.y)&&(nt=et),et=et.next;while(et!==tt);return nt}function pointInTriangle(tt,et,nt,rt,it,ot,at,st){return(it-at)*(et-st)-(tt-at)*(ot-st)>=0&&(tt-at)*(rt-st)-(nt-at)*(et-st)>=0&&(nt-at)*(ot-st)-(it-at)*(rt-st)>=0}function isValidDiagonal(tt,et){return tt.next.i!==et.i&&tt.prev.i!==et.i&&!intersectsPolygon(tt,et)&&(locallyInside(tt,et)&&locallyInside(et,tt)&&middleInside(tt,et)&&(area(tt.prev,tt,et.prev)||area(tt,et.prev,et))||equals(tt,et)&&area(tt.prev,tt,tt.next)>0&&area(et.prev,et,et.next)>0)}function area(tt,et,nt){return(et.y-tt.y)*(nt.x-et.x)-(et.x-tt.x)*(nt.y-et.y)}function equals(tt,et){return tt.x===et.x&&tt.y===et.y}function intersects(tt,et,nt,rt){const it=sign(area(tt,et,nt)),ot=sign(area(tt,et,rt)),at=sign(area(nt,rt,tt)),st=sign(area(nt,rt,et));return!!(it!==ot&&at!==st||it===0&&onSegment(tt,nt,et)||ot===0&&onSegment(tt,rt,et)||at===0&&onSegment(nt,tt,rt)||st===0&&onSegment(nt,et,rt))}function onSegment(tt,et,nt){return et.x<=Math.max(tt.x,nt.x)&&et.x>=Math.min(tt.x,nt.x)&&et.y<=Math.max(tt.y,nt.y)&&et.y>=Math.min(tt.y,nt.y)}function sign(tt){return tt>0?1:tt<0?-1:0}function intersectsPolygon(tt,et){let nt=tt;do{if(nt.i!==tt.i&&nt.next.i!==tt.i&&nt.i!==et.i&&nt.next.i!==et.i&&intersects(nt,nt.next,tt,et))return!0;nt=nt.next}while(nt!==tt);return!1}function locallyInside(tt,et){return area(tt.prev,tt,tt.next)<0?area(tt,et,tt.next)>=0&&area(tt,tt.prev,et)>=0:area(tt,et,tt.prev)<0||area(tt,tt.next,et)<0}function middleInside(tt,et){let nt=tt,rt=!1;const it=(tt.x+et.x)/2,ot=(tt.y+et.y)/2;do nt.y>ot!=nt.next.y>ot&&nt.next.y!==nt.y&&it<(nt.next.x-nt.x)*(ot-nt.y)/(nt.next.y-nt.y)+nt.x&&(rt=!rt),nt=nt.next;while(nt!==tt);return rt}function splitPolygon(tt,et){const nt=new Node$1(tt.i,tt.x,tt.y),rt=new Node$1(et.i,et.x,et.y),it=tt.next,ot=et.prev;return tt.next=et,et.prev=tt,nt.next=it,it.prev=nt,rt.next=nt,nt.prev=rt,ot.next=rt,rt.prev=ot,rt}function insertNode(tt,et,nt,rt){const it=new Node$1(tt,et,nt);return rt?(it.next=rt.next,it.prev=rt,rt.next.prev=it,rt.next=it):(it.prev=it,it.next=it),it}function removeNode(tt){tt.next.prev=tt.prev,tt.prev.next=tt.next,tt.prevZ&&(tt.prevZ.nextZ=tt.nextZ),tt.nextZ&&(tt.nextZ.prevZ=tt.prevZ)}function Node$1(tt,et,nt){this.i=tt,this.x=et,this.y=nt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(tt,et,nt,rt){let it=0;for(let ot=et,at=nt-rt;ot<nt;ot+=rt)it+=(tt[at]-tt[ot])*(tt[ot+1]+tt[at+1]),at=ot;return it}class ShapeUtils{static area(et){const nt=et.length;let rt=0;for(let it=nt-1,ot=0;ot<nt;it=ot++)rt+=et[it].x*et[ot].y-et[ot].x*et[it].y;return rt*.5}static isClockWise(et){return ShapeUtils.area(et)<0}static triangulateShape(et,nt){const rt=[],it=[],ot=[];removeDupEndPts(et),addContour(rt,et);let at=et.length;nt.forEach(removeDupEndPts);for(let lt=0;lt<nt.length;lt++)it.push(at),at+=nt[lt].length,addContour(rt,nt[lt]);const st=Earcut.triangulate(rt,it);for(let lt=0;lt<st.length;lt+=3)ot.push(st.slice(lt,lt+3));return ot}}function removeDupEndPts(tt){const et=tt.length;et>2&&tt[et-1].equals(tt[0])&&tt.pop()}function addContour(tt,et){for(let nt=0;nt<et.length;nt++)tt.push(et[nt].x),tt.push(et[nt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(et=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),nt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:et,options:nt},et=Array.isArray(et)?et:[et];const rt=this,it=[],ot=[];for(let st=0,lt=et.length;st<lt;st++){const ct=et[st];at(ct)}this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2)),this.computeVertexNormals();function at(st){const lt=[],ct=nt.curveSegments!==void 0?nt.curveSegments:12,ft=nt.steps!==void 0?nt.steps:1;let ut=nt.depth!==void 0?nt.depth:1,dt=nt.bevelEnabled!==void 0?nt.bevelEnabled:!0,ht=nt.bevelThickness!==void 0?nt.bevelThickness:.2,pt=nt.bevelSize!==void 0?nt.bevelSize:ht-.1,gt=nt.bevelOffset!==void 0?nt.bevelOffset:0,mt=nt.bevelSegments!==void 0?nt.bevelSegments:3;const yt=nt.extrudePath,bt=nt.UVGenerator!==void 0?nt.UVGenerator:WorldUVGenerator;nt.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),ut=nt.amount);let St,xt=!1,vt,$t,zt,Nt;yt&&(St=yt.getSpacedPoints(ft),xt=!0,dt=!1,vt=yt.computeFrenetFrames(ft,!1),$t=new Vector3,zt=new Vector3,Nt=new Vector3),dt||(mt=0,ht=0,pt=0,gt=0);const wt=st.extractPoints(ct);let Et=wt.shape;const Rt=wt.holes;if(!ShapeUtils.isClockWise(Et)){Et=Et.reverse();for(let Xt=0,dn=Rt.length;Xt<dn;Xt++){const Yt=Rt[Xt];ShapeUtils.isClockWise(Yt)&&(Rt[Xt]=Yt.reverse())}}const It=ShapeUtils.triangulateShape(Et,Rt),Pt=Et;for(let Xt=0,dn=Rt.length;Xt<dn;Xt++){const Yt=Rt[Xt];Et=Et.concat(Yt)}function Dt(Xt,dn,Yt){return dn||console.error("THREE.ExtrudeGeometry: vec does not exist"),dn.clone().multiplyScalar(Yt).add(Xt)}const Ct=Et.length,Ot=It.length;function Ut(Xt,dn,Yt){let yn,Qt,Kt;const hn=Xt.x-dn.x,vn=Xt.y-dn.y,Sn=Yt.x-Xt.x,Cn=Yt.y-Xt.y,cn=hn*hn+vn*vn,ln=hn*Cn-vn*Sn;if(Math.abs(ln)>Number.EPSILON){const bn=Math.sqrt(cn),xn=Math.sqrt(Sn*Sn+Cn*Cn),Nn=dn.x-vn/bn,zn=dn.y+hn/bn,Ln=Yt.x-Cn/xn,Mn=Yt.y+Sn/xn,Wn=((Ln-Nn)*Cn-(Mn-zn)*Sn)/(hn*Cn-vn*Sn);yn=Nn+hn*Wn-Xt.x,Qt=zn+vn*Wn-Xt.y;const Jn=yn*yn+Qt*Qt;if(Jn<=2)return new Vector2(yn,Qt);Kt=Math.sqrt(Jn/2)}else{let bn=!1;hn>Number.EPSILON?Sn>Number.EPSILON&&(bn=!0):hn<-Number.EPSILON?Sn<-Number.EPSILON&&(bn=!0):Math.sign(vn)===Math.sign(Cn)&&(bn=!0),bn?(yn=-vn,Qt=hn,Kt=Math.sqrt(cn)):(yn=hn,Qt=vn,Kt=Math.sqrt(cn/2))}return new Vector2(yn/Kt,Qt/Kt)}const At=[];for(let Xt=0,dn=Pt.length,Yt=dn-1,yn=Xt+1;Xt<dn;Xt++,Yt++,yn++)Yt===dn&&(Yt=0),yn===dn&&(yn=0),At[Xt]=Ut(Pt[Xt],Pt[Yt],Pt[yn]);const Mt=[];let jt,kt=At.concat();for(let Xt=0,dn=Rt.length;Xt<dn;Xt++){const Yt=Rt[Xt];jt=[];for(let yn=0,Qt=Yt.length,Kt=Qt-1,hn=yn+1;yn<Qt;yn++,Kt++,hn++)Kt===Qt&&(Kt=0),hn===Qt&&(hn=0),jt[yn]=Ut(Yt[yn],Yt[Kt],Yt[hn]);Mt.push(jt),kt=kt.concat(jt)}for(let Xt=0;Xt<mt;Xt++){const dn=Xt/mt,Yt=ht*Math.cos(dn*Math.PI/2),yn=pt*Math.sin(dn*Math.PI/2)+gt;for(let Qt=0,Kt=Pt.length;Qt<Kt;Qt++){const hn=Dt(Pt[Qt],At[Qt],yn);Wt(hn.x,hn.y,-Yt)}for(let Qt=0,Kt=Rt.length;Qt<Kt;Qt++){const hn=Rt[Qt];jt=Mt[Qt];for(let vn=0,Sn=hn.length;vn<Sn;vn++){const Cn=Dt(hn[vn],jt[vn],yn);Wt(Cn.x,Cn.y,-Yt)}}}const Gt=pt+gt;for(let Xt=0;Xt<Ct;Xt++){const dn=dt?Dt(Et[Xt],kt[Xt],Gt):Et[Xt];xt?(zt.copy(vt.normals[0]).multiplyScalar(dn.x),$t.copy(vt.binormals[0]).multiplyScalar(dn.y),Nt.copy(St[0]).add(zt).add($t),Wt(Nt.x,Nt.y,Nt.z)):Wt(dn.x,dn.y,0)}for(let Xt=1;Xt<=ft;Xt++)for(let dn=0;dn<Ct;dn++){const Yt=dt?Dt(Et[dn],kt[dn],Gt):Et[dn];xt?(zt.copy(vt.normals[Xt]).multiplyScalar(Yt.x),$t.copy(vt.binormals[Xt]).multiplyScalar(Yt.y),Nt.copy(St[Xt]).add(zt).add($t),Wt(Nt.x,Nt.y,Nt.z)):Wt(Yt.x,Yt.y,ut/ft*Xt)}for(let Xt=mt-1;Xt>=0;Xt--){const dn=Xt/mt,Yt=ht*Math.cos(dn*Math.PI/2),yn=pt*Math.sin(dn*Math.PI/2)+gt;for(let Qt=0,Kt=Pt.length;Qt<Kt;Qt++){const hn=Dt(Pt[Qt],At[Qt],yn);Wt(hn.x,hn.y,ut+Yt)}for(let Qt=0,Kt=Rt.length;Qt<Kt;Qt++){const hn=Rt[Qt];jt=Mt[Qt];for(let vn=0,Sn=hn.length;vn<Sn;vn++){const Cn=Dt(hn[vn],jt[vn],yn);xt?Wt(Cn.x,Cn.y+St[ft-1].y,St[ft-1].x+Yt):Wt(Cn.x,Cn.y,ut+Yt)}}}Ht(),Jt();function Ht(){const Xt=it.length/3;if(dt){let dn=0,Yt=Ct*dn;for(let yn=0;yn<Ot;yn++){const Qt=It[yn];Lt(Qt[2]+Yt,Qt[1]+Yt,Qt[0]+Yt)}dn=ft+mt*2,Yt=Ct*dn;for(let yn=0;yn<Ot;yn++){const Qt=It[yn];Lt(Qt[0]+Yt,Qt[1]+Yt,Qt[2]+Yt)}}else{for(let dn=0;dn<Ot;dn++){const Yt=It[dn];Lt(Yt[2],Yt[1],Yt[0])}for(let dn=0;dn<Ot;dn++){const Yt=It[dn];Lt(Yt[0]+Ct*ft,Yt[1]+Ct*ft,Yt[2]+Ct*ft)}}rt.addGroup(Xt,it.length/3-Xt,0)}function Jt(){const Xt=it.length/3;let dn=0;Vt(Pt,dn),dn+=Pt.length;for(let Yt=0,yn=Rt.length;Yt<yn;Yt++){const Qt=Rt[Yt];Vt(Qt,dn),dn+=Qt.length}rt.addGroup(Xt,it.length/3-Xt,1)}function Vt(Xt,dn){let Yt=Xt.length;for(;--Yt>=0;){const yn=Yt;let Qt=Yt-1;Qt<0&&(Qt=Xt.length-1);for(let Kt=0,hn=ft+mt*2;Kt<hn;Kt++){const vn=Ct*Kt,Sn=Ct*(Kt+1),Cn=dn+yn+vn,cn=dn+Qt+vn,ln=dn+Qt+Sn,bn=dn+yn+Sn;Bt(Cn,cn,ln,bn)}}}function Wt(Xt,dn,Yt){lt.push(Xt),lt.push(dn),lt.push(Yt)}function Lt(Xt,dn,Yt){Ft(Xt),Ft(dn),Ft(Yt);const yn=it.length/3,Qt=bt.generateTopUV(rt,it,yn-3,yn-2,yn-1);sn(Qt[0]),sn(Qt[1]),sn(Qt[2])}function Bt(Xt,dn,Yt,yn){Ft(Xt),Ft(dn),Ft(yn),Ft(dn),Ft(Yt),Ft(yn);const Qt=it.length/3,Kt=bt.generateSideWallUV(rt,it,Qt-6,Qt-3,Qt-2,Qt-1);sn(Kt[0]),sn(Kt[1]),sn(Kt[3]),sn(Kt[1]),sn(Kt[2]),sn(Kt[3])}function Ft(Xt){it.push(lt[Xt*3+0]),it.push(lt[Xt*3+1]),it.push(lt[Xt*3+2])}function sn(Xt){ot.push(Xt.x),ot.push(Xt.y)}}}toJSON(){const et=super.toJSON(),nt=this.parameters.shapes,rt=this.parameters.options;return toJSON$1(nt,rt,et)}static fromJSON(et,nt){const rt=[];for(let ot=0,at=et.shapes.length;ot<at;ot++){const st=nt[et.shapes[ot]];rt.push(st)}const it=et.options.extrudePath;return it!==void 0&&(et.options.extrudePath=new Curves[it.type]().fromJSON(it)),new ExtrudeGeometry(rt,et.options)}}const WorldUVGenerator={generateTopUV:function(tt,et,nt,rt,it){const ot=et[nt*3],at=et[nt*3+1],st=et[rt*3],lt=et[rt*3+1],ct=et[it*3],ft=et[it*3+1];return[new Vector2(ot,at),new Vector2(st,lt),new Vector2(ct,ft)]},generateSideWallUV:function(tt,et,nt,rt,it,ot){const at=et[nt*3],st=et[nt*3+1],lt=et[nt*3+2],ct=et[rt*3],ft=et[rt*3+1],ut=et[rt*3+2],dt=et[it*3],ht=et[it*3+1],pt=et[it*3+2],gt=et[ot*3],mt=et[ot*3+1],yt=et[ot*3+2];return Math.abs(st-ft)<Math.abs(at-ct)?[new Vector2(at,1-lt),new Vector2(ct,1-ut),new Vector2(dt,1-pt),new Vector2(gt,1-yt)]:[new Vector2(st,1-lt),new Vector2(ft,1-ut),new Vector2(ht,1-pt),new Vector2(mt,1-yt)]}};function toJSON$1(tt,et,nt){if(nt.shapes=[],Array.isArray(tt))for(let rt=0,it=tt.length;rt<it;rt++){const ot=tt[rt];nt.shapes.push(ot.uuid)}else nt.shapes.push(tt.uuid);return et.extrudePath!==void 0&&(nt.options.extrudePath=et.extrudePath.toJSON()),nt}class ShapeGeometry extends BufferGeometry{constructor(et=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),nt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:et,curveSegments:nt};const rt=[],it=[],ot=[],at=[];let st=0,lt=0;if(Array.isArray(et)===!1)ct(et);else for(let ft=0;ft<et.length;ft++)ct(et[ft]),this.addGroup(st,lt,ft),st+=lt,lt=0;this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2));function ct(ft){const ut=it.length/3,dt=ft.extractPoints(nt);let ht=dt.shape;const pt=dt.holes;ShapeUtils.isClockWise(ht)===!1&&(ht=ht.reverse());for(let mt=0,yt=pt.length;mt<yt;mt++){const bt=pt[mt];ShapeUtils.isClockWise(bt)===!0&&(pt[mt]=bt.reverse())}const gt=ShapeUtils.triangulateShape(ht,pt);for(let mt=0,yt=pt.length;mt<yt;mt++){const bt=pt[mt];ht=ht.concat(bt)}for(let mt=0,yt=ht.length;mt<yt;mt++){const bt=ht[mt];it.push(bt.x,bt.y,0),ot.push(0,0,1),at.push(bt.x,bt.y)}for(let mt=0,yt=gt.length;mt<yt;mt++){const bt=gt[mt],St=bt[0]+ut,xt=bt[1]+ut,vt=bt[2]+ut;rt.push(St,xt,vt),lt+=3}}}toJSON(){const et=super.toJSON(),nt=this.parameters.shapes;return toJSON(nt,et)}static fromJSON(et,nt){const rt=[];for(let it=0,ot=et.shapes.length;it<ot;it++){const at=nt[et.shapes[it]];rt.push(at)}return new ShapeGeometry(rt,et.curveSegments)}}function toJSON(tt,et){if(et.shapes=[],Array.isArray(tt))for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];et.shapes.push(it.uuid)}else et.shapes.push(tt.uuid);return et}class ShadowMaterial extends Material{constructor(et){super(),this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.fog=et.fog,this}}ShadowMaterial.prototype.isShadowMaterial=!0;class RawShaderMaterial extends ShaderMaterial{constructor(et){super(et),this.type="RawShaderMaterial"}}RawShaderMaterial.prototype.isRawShaderMaterial=!0;class MeshStandardMaterial extends Material{constructor(et){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={STANDARD:""},this.color.copy(et.color),this.roughness=et.roughness,this.metalness=et.metalness,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.roughnessMap=et.roughnessMap,this.metalnessMap=et.metalnessMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.envMapIntensity=et.envMapIntensity,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}MeshStandardMaterial.prototype.isMeshStandardMaterial=!0;class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(et){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(nt){this.ior=(1+.4*nt)/(1-.4*nt)}}),this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(et)}get sheen(){return this._sheen}set sheen(et){this._sheen>0!=et>0&&this.version++,this._sheen=et}get clearcoat(){return this._clearcoat}set clearcoat(et){this._clearcoat>0!=et>0&&this.version++,this._clearcoat=et}get transmission(){return this._transmission}set transmission(et){this._transmission>0!=et>0&&this.version++,this._transmission=et}copy(et){return super.copy(et),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=et.clearcoat,this.clearcoatMap=et.clearcoatMap,this.clearcoatRoughness=et.clearcoatRoughness,this.clearcoatRoughnessMap=et.clearcoatRoughnessMap,this.clearcoatNormalMap=et.clearcoatNormalMap,this.clearcoatNormalScale.copy(et.clearcoatNormalScale),this.ior=et.ior,this.sheen=et.sheen,this.sheenColor.copy(et.sheenColor),this.sheenColorMap=et.sheenColorMap,this.sheenRoughness=et.sheenRoughness,this.sheenRoughnessMap=et.sheenRoughnessMap,this.transmission=et.transmission,this.transmissionMap=et.transmissionMap,this.thickness=et.thickness,this.thicknessMap=et.thicknessMap,this.attenuationDistance=et.attenuationDistance,this.attenuationColor.copy(et.attenuationColor),this.specularIntensity=et.specularIntensity,this.specularIntensityMap=et.specularIntensityMap,this.specularColor.copy(et.specularColor),this.specularColorMap=et.specularColorMap,this}}MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0;class MeshPhongMaterial extends Material{constructor(et){super(),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.specular.copy(et.specular),this.shininess=et.shininess,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}MeshPhongMaterial.prototype.isMeshPhongMaterial=!0;class MeshToonMaterial extends Material{constructor(et){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.gradientMap=et.gradientMap,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}MeshToonMaterial.prototype.isMeshToonMaterial=!0;class MeshNormalMaterial extends Material{constructor(et){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(et)}copy(et){return super.copy(et),this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.flatShading=et.flatShading,this}}MeshNormalMaterial.prototype.isMeshNormalMaterial=!0;class MeshLambertMaterial extends Material{constructor(et){super(),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}MeshLambertMaterial.prototype.isMeshLambertMaterial=!0;class MeshMatcapMaterial extends Material{constructor(et){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={MATCAP:""},this.color.copy(et.color),this.matcap=et.matcap,this.map=et.map,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.flatShading=et.flatShading,this.fog=et.fog,this}}MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0;class LineDashedMaterial extends LineBasicMaterial{constructor(et){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(et)}copy(et){return super.copy(et),this.scale=et.scale,this.dashSize=et.dashSize,this.gapSize=et.gapSize,this}}LineDashedMaterial.prototype.isLineDashedMaterial=!0;const materialLib={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};Material.fromType=function(tt){return new materialLib[tt]};const AnimationUtils={arraySlice:function(tt,et,nt){return AnimationUtils.isTypedArray(tt)?new tt.constructor(tt.subarray(et,nt!==void 0?nt:tt.length)):tt.slice(et,nt)},convertArray:function(tt,et,nt){return!tt||!nt&&tt.constructor===et?tt:typeof et.BYTES_PER_ELEMENT=="number"?new et(tt):Array.prototype.slice.call(tt)},isTypedArray:function(tt){return ArrayBuffer.isView(tt)&&!(tt instanceof DataView)},getKeyframeOrder:function(tt){function et(it,ot){return tt[it]-tt[ot]}const nt=tt.length,rt=new Array(nt);for(let it=0;it!==nt;++it)rt[it]=it;return rt.sort(et),rt},sortedArray:function(tt,et,nt){const rt=tt.length,it=new tt.constructor(rt);for(let ot=0,at=0;at!==rt;++ot){const st=nt[ot]*et;for(let lt=0;lt!==et;++lt)it[at++]=tt[st+lt]}return it},flattenJSON:function(tt,et,nt,rt){let it=1,ot=tt[0];for(;ot!==void 0&&ot[rt]===void 0;)ot=tt[it++];if(ot===void 0)return;let at=ot[rt];if(at!==void 0)if(Array.isArray(at))do at=ot[rt],at!==void 0&&(et.push(ot.time),nt.push.apply(nt,at)),ot=tt[it++];while(ot!==void 0);else if(at.toArray!==void 0)do at=ot[rt],at!==void 0&&(et.push(ot.time),at.toArray(nt,nt.length)),ot=tt[it++];while(ot!==void 0);else do at=ot[rt],at!==void 0&&(et.push(ot.time),nt.push(at)),ot=tt[it++];while(ot!==void 0)},subclip:function(tt,et,nt,rt,it=30){const ot=tt.clone();ot.name=et;const at=[];for(let lt=0;lt<ot.tracks.length;++lt){const ct=ot.tracks[lt],ft=ct.getValueSize(),ut=[],dt=[];for(let ht=0;ht<ct.times.length;++ht){const pt=ct.times[ht]*it;if(!(pt<nt||pt>=rt)){ut.push(ct.times[ht]);for(let gt=0;gt<ft;++gt)dt.push(ct.values[ht*ft+gt])}}ut.length!==0&&(ct.times=AnimationUtils.convertArray(ut,ct.times.constructor),ct.values=AnimationUtils.convertArray(dt,ct.values.constructor),at.push(ct))}ot.tracks=at;let st=1/0;for(let lt=0;lt<ot.tracks.length;++lt)st>ot.tracks[lt].times[0]&&(st=ot.tracks[lt].times[0]);for(let lt=0;lt<ot.tracks.length;++lt)ot.tracks[lt].shift(-1*st);return ot.resetDuration(),ot},makeClipAdditive:function(tt,et=0,nt=tt,rt=30){rt<=0&&(rt=30);const it=nt.tracks.length,ot=et/rt;for(let at=0;at<it;++at){const st=nt.tracks[at],lt=st.ValueTypeName;if(lt==="bool"||lt==="string")continue;const ct=tt.tracks.find(function(yt){return yt.name===st.name&&yt.ValueTypeName===lt});if(ct===void 0)continue;let ft=0;const ut=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ft=ut/3);let dt=0;const ht=ct.getValueSize();ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(dt=ht/3);const pt=st.times.length-1;let gt;if(ot<=st.times[0]){const yt=ft,bt=ut-ft;gt=AnimationUtils.arraySlice(st.values,yt,bt)}else if(ot>=st.times[pt]){const yt=pt*ut+ft,bt=yt+ut-ft;gt=AnimationUtils.arraySlice(st.values,yt,bt)}else{const yt=st.createInterpolant(),bt=ft,St=ut-ft;yt.evaluate(ot),gt=AnimationUtils.arraySlice(yt.resultBuffer,bt,St)}lt==="quaternion"&&new Quaternion().fromArray(gt).normalize().conjugate().toArray(gt);const mt=ct.times.length;for(let yt=0;yt<mt;++yt){const bt=yt*ht+dt;if(lt==="quaternion")Quaternion.multiplyQuaternionsFlat(ct.values,bt,gt,0,ct.values,bt);else{const St=ht-dt*2;for(let xt=0;xt<St;++xt)ct.values[bt+xt]-=gt[xt]}}}return tt.blendMode=AdditiveAnimationBlendMode,tt}};class Interpolant{constructor(et,nt,rt,it){this.parameterPositions=et,this._cachedIndex=0,this.resultBuffer=it!==void 0?it:new nt.constructor(rt),this.sampleValues=nt,this.valueSize=rt,this.settings=null,this.DefaultSettings_={}}evaluate(et){const nt=this.parameterPositions;let rt=this._cachedIndex,it=nt[rt],ot=nt[rt-1];e:{t:{let at;n:{r:if(!(et<it)){for(let st=rt+2;;){if(it===void 0){if(et<ot)break r;return rt=nt.length,this._cachedIndex=rt,this.afterEnd_(rt-1,et,ot)}if(rt===st)break;if(ot=it,it=nt[++rt],et<it)break t}at=nt.length;break n}if(!(et>=ot)){const st=nt[1];et<st&&(rt=2,ot=st);for(let lt=rt-2;;){if(ot===void 0)return this._cachedIndex=0,this.beforeStart_(0,et,it);if(rt===lt)break;if(it=ot,ot=nt[--rt-1],et>=ot)break t}at=rt,rt=0;break n}break e}for(;rt<at;){const st=rt+at>>>1;et<nt[st]?at=st:rt=st+1}if(it=nt[rt],ot=nt[rt-1],ot===void 0)return this._cachedIndex=0,this.beforeStart_(0,et,it);if(it===void 0)return rt=nt.length,this._cachedIndex=rt,this.afterEnd_(rt-1,ot,et)}this._cachedIndex=rt,this.intervalChanged_(rt,ot,it)}return this.interpolate_(rt,ot,et,it)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(et){const nt=this.resultBuffer,rt=this.sampleValues,it=this.valueSize,ot=et*it;for(let at=0;at!==it;++at)nt[at]=rt[ot+at];return nt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Interpolant.prototype.beforeStart_=Interpolant.prototype.copySampleValue_;Interpolant.prototype.afterEnd_=Interpolant.prototype.copySampleValue_;class CubicInterpolant extends Interpolant{constructor(et,nt,rt,it){super(et,nt,rt,it),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(et,nt,rt){const it=this.parameterPositions;let ot=et-2,at=et+1,st=it[ot],lt=it[at];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:ot=et,st=2*nt-rt;break;case WrapAroundEnding:ot=it.length-2,st=nt+it[ot]-it[ot+1];break;default:ot=et,st=rt}if(lt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:at=et,lt=2*rt-nt;break;case WrapAroundEnding:at=1,lt=rt+it[1]-it[0];break;default:at=et-1,lt=nt}const ct=(rt-nt)*.5,ft=this.valueSize;this._weightPrev=ct/(nt-st),this._weightNext=ct/(lt-rt),this._offsetPrev=ot*ft,this._offsetNext=at*ft}interpolate_(et,nt,rt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=et*st,ct=lt-st,ft=this._offsetPrev,ut=this._offsetNext,dt=this._weightPrev,ht=this._weightNext,pt=(rt-nt)/(it-nt),gt=pt*pt,mt=gt*pt,yt=-dt*mt+2*dt*gt-dt*pt,bt=(1+dt)*mt+(-1.5-2*dt)*gt+(-.5+dt)*pt+1,St=(-1-ht)*mt+(1.5+ht)*gt+.5*pt,xt=ht*mt-ht*gt;for(let vt=0;vt!==st;++vt)ot[vt]=yt*at[ft+vt]+bt*at[ct+vt]+St*at[lt+vt]+xt*at[ut+vt];return ot}}class LinearInterpolant extends Interpolant{constructor(et,nt,rt,it){super(et,nt,rt,it)}interpolate_(et,nt,rt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=et*st,ct=lt-st,ft=(rt-nt)/(it-nt),ut=1-ft;for(let dt=0;dt!==st;++dt)ot[dt]=at[ct+dt]*ut+at[lt+dt]*ft;return ot}}class DiscreteInterpolant extends Interpolant{constructor(et,nt,rt,it){super(et,nt,rt,it)}interpolate_(et){return this.copySampleValue_(et-1)}}class KeyframeTrack{constructor(et,nt,rt,it){if(et===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(nt===void 0||nt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+et);this.name=et,this.times=AnimationUtils.convertArray(nt,this.TimeBufferType),this.values=AnimationUtils.convertArray(rt,this.ValueBufferType),this.setInterpolation(it||this.DefaultInterpolation)}static toJSON(et){const nt=et.constructor;let rt;if(nt.toJSON!==this.toJSON)rt=nt.toJSON(et);else{rt={name:et.name,times:AnimationUtils.convertArray(et.times,Array),values:AnimationUtils.convertArray(et.values,Array)};const it=et.getInterpolation();it!==et.DefaultInterpolation&&(rt.interpolation=it)}return rt.type=et.ValueTypeName,rt}InterpolantFactoryMethodDiscrete(et){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodLinear(et){return new LinearInterpolant(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodSmooth(et){return new CubicInterpolant(this.times,this.values,this.getValueSize(),et)}setInterpolation(et){let nt;switch(et){case InterpolateDiscrete:nt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:nt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:nt=this.InterpolantFactoryMethodSmooth;break}if(nt===void 0){const rt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(et!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(rt);return console.warn("THREE.KeyframeTrack:",rt),this}return this.createInterpolant=nt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(et){if(et!==0){const nt=this.times;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]+=et}return this}scale(et){if(et!==1){const nt=this.times;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]*=et}return this}trim(et,nt){const rt=this.times,it=rt.length;let ot=0,at=it-1;for(;ot!==it&&rt[ot]<et;)++ot;for(;at!==-1&&rt[at]>nt;)--at;if(++at,ot!==0||at!==it){ot>=at&&(at=Math.max(at,1),ot=at-1);const st=this.getValueSize();this.times=AnimationUtils.arraySlice(rt,ot,at),this.values=AnimationUtils.arraySlice(this.values,ot*st,at*st)}return this}validate(){let et=!0;const nt=this.getValueSize();nt-Math.floor(nt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),et=!1);const rt=this.times,it=this.values,ot=rt.length;ot===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),et=!1);let at=null;for(let st=0;st!==ot;st++){const lt=rt[st];if(typeof lt=="number"&&isNaN(lt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,lt),et=!1;break}if(at!==null&&at>lt){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,lt,at),et=!1;break}at=lt}if(it!==void 0&&AnimationUtils.isTypedArray(it))for(let st=0,lt=it.length;st!==lt;++st){const ct=it[st];if(isNaN(ct)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,ct),et=!1;break}}return et}optimize(){const et=AnimationUtils.arraySlice(this.times),nt=AnimationUtils.arraySlice(this.values),rt=this.getValueSize(),it=this.getInterpolation()===InterpolateSmooth,ot=et.length-1;let at=1;for(let st=1;st<ot;++st){let lt=!1;const ct=et[st],ft=et[st+1];if(ct!==ft&&(st!==1||ct!==et[0]))if(it)lt=!0;else{const ut=st*rt,dt=ut-rt,ht=ut+rt;for(let pt=0;pt!==rt;++pt){const gt=nt[ut+pt];if(gt!==nt[dt+pt]||gt!==nt[ht+pt]){lt=!0;break}}}if(lt){if(st!==at){et[at]=et[st];const ut=st*rt,dt=at*rt;for(let ht=0;ht!==rt;++ht)nt[dt+ht]=nt[ut+ht]}++at}}if(ot>0){et[at]=et[ot];for(let st=ot*rt,lt=at*rt,ct=0;ct!==rt;++ct)nt[lt+ct]=nt[st+ct];++at}return at!==et.length?(this.times=AnimationUtils.arraySlice(et,0,at),this.values=AnimationUtils.arraySlice(nt,0,at*rt)):(this.times=et,this.values=nt),this}clone(){const et=AnimationUtils.arraySlice(this.times,0),nt=AnimationUtils.arraySlice(this.values,0),rt=this.constructor,it=new rt(this.name,et,nt);return it.createInterpolant=this.createInterpolant,it}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(et,nt,rt,it){super(et,nt,rt,it)}interpolate_(et,nt,rt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=(rt-nt)/(it-nt);let ct=et*st;for(let ft=ct+st;ct!==ft;ct+=4)Quaternion.slerpFlat(ot,0,at,ct-st,at,ct,lt);return ot}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(et){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),et)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(et,nt=-1,rt,it=NormalAnimationBlendMode){this.name=et,this.tracks=rt,this.duration=nt,this.blendMode=it,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(et){const nt=[],rt=et.tracks,it=1/(et.fps||1);for(let at=0,st=rt.length;at!==st;++at)nt.push(parseKeyframeTrack(rt[at]).scale(it));const ot=new this(et.name,et.duration,nt,et.blendMode);return ot.uuid=et.uuid,ot}static toJSON(et){const nt=[],rt=et.tracks,it={name:et.name,duration:et.duration,tracks:nt,uuid:et.uuid,blendMode:et.blendMode};for(let ot=0,at=rt.length;ot!==at;++ot)nt.push(KeyframeTrack.toJSON(rt[ot]));return it}static CreateFromMorphTargetSequence(et,nt,rt,it){const ot=nt.length,at=[];for(let st=0;st<ot;st++){let lt=[],ct=[];lt.push((st+ot-1)%ot,st,(st+1)%ot),ct.push(0,1,0);const ft=AnimationUtils.getKeyframeOrder(lt);lt=AnimationUtils.sortedArray(lt,1,ft),ct=AnimationUtils.sortedArray(ct,1,ft),!it&&lt[0]===0&&(lt.push(ot),ct.push(ct[0])),at.push(new NumberKeyframeTrack(".morphTargetInfluences["+nt[st].name+"]",lt,ct).scale(1/rt))}return new this(et,-1,at)}static findByName(et,nt){let rt=et;if(!Array.isArray(et)){const it=et;rt=it.geometry&&it.geometry.animations||it.animations}for(let it=0;it<rt.length;it++)if(rt[it].name===nt)return rt[it];return null}static CreateClipsFromMorphTargetSequences(et,nt,rt){const it={},ot=/^([\w-]*?)([\d]+)$/;for(let st=0,lt=et.length;st<lt;st++){const ct=et[st],ft=ct.name.match(ot);if(ft&&ft.length>1){const ut=ft[1];let dt=it[ut];dt||(it[ut]=dt=[]),dt.push(ct)}}const at=[];for(const st in it)at.push(this.CreateFromMorphTargetSequence(st,it[st],nt,rt));return at}static parseAnimation(et,nt){if(!et)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const rt=function(ut,dt,ht,pt,gt){if(ht.length!==0){const mt=[],yt=[];AnimationUtils.flattenJSON(ht,mt,yt,pt),mt.length!==0&&gt.push(new ut(dt,mt,yt))}},it=[],ot=et.name||"default",at=et.fps||30,st=et.blendMode;let lt=et.length||-1;const ct=et.hierarchy||[];for(let ut=0;ut<ct.length;ut++){const dt=ct[ut].keys;if(!(!dt||dt.length===0))if(dt[0].morphTargets){const ht={};let pt;for(pt=0;pt<dt.length;pt++)if(dt[pt].morphTargets)for(let gt=0;gt<dt[pt].morphTargets.length;gt++)ht[dt[pt].morphTargets[gt]]=-1;for(const gt in ht){const mt=[],yt=[];for(let bt=0;bt!==dt[pt].morphTargets.length;++bt){const St=dt[pt];mt.push(St.time),yt.push(St.morphTarget===gt?1:0)}it.push(new NumberKeyframeTrack(".morphTargetInfluence["+gt+"]",mt,yt))}lt=ht.length*at}else{const ht=".bones["+nt[ut].name+"]";rt(VectorKeyframeTrack,ht+".position",dt,"pos",it),rt(QuaternionKeyframeTrack,ht+".quaternion",dt,"rot",it),rt(VectorKeyframeTrack,ht+".scale",dt,"scl",it)}}return it.length===0?null:new this(ot,lt,it,st)}resetDuration(){const et=this.tracks;let nt=0;for(let rt=0,it=et.length;rt!==it;++rt){const ot=this.tracks[rt];nt=Math.max(nt,ot.times[ot.times.length-1])}return this.duration=nt,this}trim(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].trim(0,this.duration);return this}validate(){let et=!0;for(let nt=0;nt<this.tracks.length;nt++)et=et&&this.tracks[nt].validate();return et}optimize(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].optimize();return this}clone(){const et=[];for(let nt=0;nt<this.tracks.length;nt++)et.push(this.tracks[nt].clone());return new this.constructor(this.name,this.duration,et,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(tt){switch(tt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+tt)}function parseKeyframeTrack(tt){if(tt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const et=getTrackTypeForValueTypeName(tt.type);if(tt.times===void 0){const nt=[],rt=[];AnimationUtils.flattenJSON(tt.keys,nt,rt,"value"),tt.times=nt,tt.values=rt}return et.parse!==void 0?et.parse(tt):new et(tt.name,tt.times,tt.values,tt.interpolation)}const Cache={enabled:!1,files:{},add:function(tt,et){this.enabled!==!1&&(this.files[tt]=et)},get:function(tt){if(this.enabled!==!1)return this.files[tt]},remove:function(tt){delete this.files[tt]},clear:function(){this.files={}}};class LoadingManager{constructor(et,nt,rt){const it=this;let ot=!1,at=0,st=0,lt;const ct=[];this.onStart=void 0,this.onLoad=et,this.onProgress=nt,this.onError=rt,this.itemStart=function(ft){st++,ot===!1&&it.onStart!==void 0&&it.onStart(ft,at,st),ot=!0},this.itemEnd=function(ft){at++,it.onProgress!==void 0&&it.onProgress(ft,at,st),at===st&&(ot=!1,it.onLoad!==void 0&&it.onLoad())},this.itemError=function(ft){it.onError!==void 0&&it.onError(ft)},this.resolveURL=function(ft){return lt?lt(ft):ft},this.setURLModifier=function(ft){return lt=ft,this},this.addHandler=function(ft,ut){return ct.push(ft,ut),this},this.removeHandler=function(ft){const ut=ct.indexOf(ft);return ut!==-1&&ct.splice(ut,2),this},this.getHandler=function(ft){for(let ut=0,dt=ct.length;ut<dt;ut+=2){const ht=ct[ut],pt=ct[ut+1];if(ht.global&&(ht.lastIndex=0),ht.test(ft))return pt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(et){this.manager=et!==void 0?et:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(et,nt){const rt=this;return new Promise(function(it,ot){rt.load(et,it,nt,ot)})}parse(){}setCrossOrigin(et){return this.crossOrigin=et,this}setWithCredentials(et){return this.withCredentials=et,this}setPath(et){return this.path=et,this}setResourcePath(et){return this.resourcePath=et,this}setRequestHeader(et){return this.requestHeader=et,this}}const loading={};class FileLoader extends Loader{constructor(et){super(et)}load(et,nt,rt,it){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=Cache.get(et);if(ot!==void 0)return this.manager.itemStart(et),setTimeout(()=>{nt&&nt(ot),this.manager.itemEnd(et)},0),ot;if(loading[et]!==void 0){loading[et].push({onLoad:nt,onProgress:rt,onError:it});return}loading[et]=[],loading[et].push({onLoad:nt,onProgress:rt,onError:it});const at=new Request(et,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,lt=this.responseType;fetch(at).then(ct=>{if(ct.status===200||ct.status===0){if(ct.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||ct.body===void 0||ct.body.getReader===void 0)return ct;const ft=loading[et],ut=ct.body.getReader(),dt=ct.headers.get("Content-Length"),ht=dt?parseInt(dt):0,pt=ht!==0;let gt=0;const mt=new ReadableStream({start(yt){bt();function bt(){ut.read().then(({done:St,value:xt})=>{if(St)yt.close();else{gt+=xt.byteLength;const vt=new ProgressEvent("progress",{lengthComputable:pt,loaded:gt,total:ht});for(let $t=0,zt=ft.length;$t<zt;$t++){const Nt=ft[$t];Nt.onProgress&&Nt.onProgress(vt)}yt.enqueue(xt),bt()}})}}});return new Response(mt)}else throw Error(`fetch for "${ct.url}" responded with ${ct.status}: ${ct.statusText}`)}).then(ct=>{switch(lt){case"arraybuffer":return ct.arrayBuffer();case"blob":return ct.blob();case"document":return ct.text().then(ft=>new DOMParser().parseFromString(ft,st));case"json":return ct.json();default:if(st===void 0)return ct.text();{const ut=/charset="?([^;"\s]*)"?/i.exec(st),dt=ut&&ut[1]?ut[1].toLowerCase():void 0,ht=new TextDecoder(dt);return ct.arrayBuffer().then(pt=>ht.decode(pt))}}}).then(ct=>{Cache.add(et,ct);const ft=loading[et];delete loading[et];for(let ut=0,dt=ft.length;ut<dt;ut++){const ht=ft[ut];ht.onLoad&&ht.onLoad(ct)}}).catch(ct=>{const ft=loading[et];if(ft===void 0)throw this.manager.itemError(et),ct;delete loading[et];for(let ut=0,dt=ft.length;ut<dt;ut++){const ht=ft[ut];ht.onError&&ht.onError(ct)}this.manager.itemError(et)}).finally(()=>{this.manager.itemEnd(et)}),this.manager.itemStart(et)}setResponseType(et){return this.responseType=et,this}setMimeType(et){return this.mimeType=et,this}}class ImageLoader extends Loader{constructor(et){super(et)}load(et,nt,rt,it){this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=this,at=Cache.get(et);if(at!==void 0)return ot.manager.itemStart(et),setTimeout(function(){nt&&nt(at),ot.manager.itemEnd(et)},0),at;const st=createElementNS("img");function lt(){ft(),Cache.add(et,this),nt&&nt(this),ot.manager.itemEnd(et)}function ct(ut){ft(),it&&it(ut),ot.manager.itemError(et),ot.manager.itemEnd(et)}function ft(){st.removeEventListener("load",lt,!1),st.removeEventListener("error",ct,!1)}return st.addEventListener("load",lt,!1),st.addEventListener("error",ct,!1),et.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),ot.manager.itemStart(et),st.src=et,st}}class CubeTextureLoader extends Loader{constructor(et){super(et)}load(et,nt,rt,it){const ot=new CubeTexture,at=new ImageLoader(this.manager);at.setCrossOrigin(this.crossOrigin),at.setPath(this.path);let st=0;function lt(ct){at.load(et[ct],function(ft){ot.images[ct]=ft,st++,st===6&&(ot.needsUpdate=!0,nt&&nt(ot))},void 0,it)}for(let ct=0;ct<et.length;++ct)lt(ct);return ot}}class TextureLoader extends Loader{constructor(et){super(et)}load(et,nt,rt,it){const ot=new Texture,at=new ImageLoader(this.manager);return at.setCrossOrigin(this.crossOrigin),at.setPath(this.path),at.load(et,function(st){ot.image=st,ot.needsUpdate=!0,nt!==void 0&&nt(ot)},rt,it),ot}}class Light extends Object3D{constructor(et,nt=1){super(),this.type="Light",this.color=new Color(et),this.intensity=nt}dispose(){}copy(et){return super.copy(et),this.color.copy(et.color),this.intensity=et.intensity,this}toJSON(et){const nt=super.toJSON(et);return nt.object.color=this.color.getHex(),nt.object.intensity=this.intensity,this.groundColor!==void 0&&(nt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(nt.object.distance=this.distance),this.angle!==void 0&&(nt.object.angle=this.angle),this.decay!==void 0&&(nt.object.decay=this.decay),this.penumbra!==void 0&&(nt.object.penumbra=this.penumbra),this.shadow!==void 0&&(nt.object.shadow=this.shadow.toJSON()),nt}}Light.prototype.isLight=!0;class HemisphereLight extends Light{constructor(et,nt,rt){super(et,rt),this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(nt)}copy(et){return Light.prototype.copy.call(this,et),this.groundColor.copy(et.groundColor),this}}HemisphereLight.prototype.isHemisphereLight=!0;const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(et){this.camera=et,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(et){const nt=this.camera,rt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(et.matrixWorld),nt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(et.target.matrixWorld),nt.lookAt(_lookTarget$1),nt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),rt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),rt.multiply(nt.projectionMatrix),rt.multiply(nt.matrixWorldInverse)}getViewport(et){return this._viewports[et]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(et){return this.camera=et.camera.clone(),this.bias=et.bias,this.radius=et.radius,this.mapSize.copy(et.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const et={};return this.bias!==0&&(et.bias=this.bias),this.normalBias!==0&&(et.normalBias=this.normalBias),this.radius!==1&&(et.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(et.mapSize=this.mapSize.toArray()),et.camera=this.camera.toJSON(!1).object,delete et.camera.matrix,et}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.focus=1}updateMatrices(et){const nt=this.camera,rt=RAD2DEG*2*et.angle*this.focus,it=this.mapSize.width/this.mapSize.height,ot=et.distance||nt.far;(rt!==nt.fov||it!==nt.aspect||ot!==nt.far)&&(nt.fov=rt,nt.aspect=it,nt.far=ot,nt.updateProjectionMatrix()),super.updateMatrices(et)}copy(et){return super.copy(et),this.focus=et.focus,this}}SpotLightShadow.prototype.isSpotLightShadow=!0;class SpotLight extends Light{constructor(et,nt,rt=0,it=Math.PI/3,ot=0,at=1){super(et,nt),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=rt,this.angle=it,this.penumbra=ot,this.decay=at,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(et){this.intensity=et/Math.PI}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.distance=et.distance,this.angle=et.angle,this.penumbra=et.penumbra,this.decay=et.decay,this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}SpotLight.prototype.isSpotLight=!0;const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(et,nt=0){const rt=this.camera,it=this.matrix,ot=et.distance||rt.far;ot!==rt.far&&(rt.far=ot,rt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(et.matrixWorld),rt.position.copy(_lightPositionWorld),_lookTarget.copy(rt.position),_lookTarget.add(this._cubeDirections[nt]),rt.up.copy(this._cubeUps[nt]),rt.lookAt(_lookTarget),rt.updateMatrixWorld(),it.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}PointLightShadow.prototype.isPointLightShadow=!0;class PointLight extends Light{constructor(et,nt,rt=0,it=1){super(et,nt),this.type="PointLight",this.distance=rt,this.decay=it,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(et){this.intensity=et/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.distance=et.distance,this.decay=et.decay,this.shadow=et.shadow.clone(),this}}PointLight.prototype.isPointLight=!0;class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500))}}DirectionalLightShadow.prototype.isDirectionalLightShadow=!0;class DirectionalLight extends Light{constructor(et,nt){super(et,nt),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}DirectionalLight.prototype.isDirectionalLight=!0;class AmbientLight extends Light{constructor(et,nt){super(et,nt),this.type="AmbientLight"}}AmbientLight.prototype.isAmbientLight=!0;class RectAreaLight extends Light{constructor(et,nt,rt=10,it=10){super(et,nt),this.type="RectAreaLight",this.width=rt,this.height=it}get power(){return this.intensity*this.width*this.height*Math.PI}set power(et){this.intensity=et/(this.width*this.height*Math.PI)}copy(et){return super.copy(et),this.width=et.width,this.height=et.height,this}toJSON(et){const nt=super.toJSON(et);return nt.object.width=this.width,nt.object.height=this.height,nt}}RectAreaLight.prototype.isRectAreaLight=!0;class SphericalHarmonics3{constructor(){this.coefficients=[];for(let et=0;et<9;et++)this.coefficients.push(new Vector3)}set(et){for(let nt=0;nt<9;nt++)this.coefficients[nt].copy(et[nt]);return this}zero(){for(let et=0;et<9;et++)this.coefficients[et].set(0,0,0);return this}getAt(et,nt){const rt=et.x,it=et.y,ot=et.z,at=this.coefficients;return nt.copy(at[0]).multiplyScalar(.282095),nt.addScaledVector(at[1],.488603*it),nt.addScaledVector(at[2],.488603*ot),nt.addScaledVector(at[3],.488603*rt),nt.addScaledVector(at[4],1.092548*(rt*it)),nt.addScaledVector(at[5],1.092548*(it*ot)),nt.addScaledVector(at[6],.315392*(3*ot*ot-1)),nt.addScaledVector(at[7],1.092548*(rt*ot)),nt.addScaledVector(at[8],.546274*(rt*rt-it*it)),nt}getIrradianceAt(et,nt){const rt=et.x,it=et.y,ot=et.z,at=this.coefficients;return nt.copy(at[0]).multiplyScalar(.886227),nt.addScaledVector(at[1],2*.511664*it),nt.addScaledVector(at[2],2*.511664*ot),nt.addScaledVector(at[3],2*.511664*rt),nt.addScaledVector(at[4],2*.429043*rt*it),nt.addScaledVector(at[5],2*.429043*it*ot),nt.addScaledVector(at[6],.743125*ot*ot-.247708),nt.addScaledVector(at[7],2*.429043*rt*ot),nt.addScaledVector(at[8],.429043*(rt*rt-it*it)),nt}add(et){for(let nt=0;nt<9;nt++)this.coefficients[nt].add(et.coefficients[nt]);return this}addScaledSH(et,nt){for(let rt=0;rt<9;rt++)this.coefficients[rt].addScaledVector(et.coefficients[rt],nt);return this}scale(et){for(let nt=0;nt<9;nt++)this.coefficients[nt].multiplyScalar(et);return this}lerp(et,nt){for(let rt=0;rt<9;rt++)this.coefficients[rt].lerp(et.coefficients[rt],nt);return this}equals(et){for(let nt=0;nt<9;nt++)if(!this.coefficients[nt].equals(et.coefficients[nt]))return!1;return!0}copy(et){return this.set(et.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(et,nt=0){const rt=this.coefficients;for(let it=0;it<9;it++)rt[it].fromArray(et,nt+it*3);return this}toArray(et=[],nt=0){const rt=this.coefficients;for(let it=0;it<9;it++)rt[it].toArray(et,nt+it*3);return et}static getBasisAt(et,nt){const rt=et.x,it=et.y,ot=et.z;nt[0]=.282095,nt[1]=.488603*it,nt[2]=.488603*ot,nt[3]=.488603*rt,nt[4]=1.092548*rt*it,nt[5]=1.092548*it*ot,nt[6]=.315392*(3*ot*ot-1),nt[7]=1.092548*rt*ot,nt[8]=.546274*(rt*rt-it*it)}}SphericalHarmonics3.prototype.isSphericalHarmonics3=!0;class LightProbe extends Light{constructor(et=new SphericalHarmonics3,nt=1){super(void 0,nt),this.sh=et}copy(et){return super.copy(et),this.sh.copy(et.sh),this}fromJSON(et){return this.intensity=et.intensity,this.sh.fromArray(et.sh),this}toJSON(et){const nt=super.toJSON(et);return nt.object.sh=this.sh.toArray(),nt}}LightProbe.prototype.isLightProbe=!0;class LoaderUtils{static decodeText(et){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(et);let nt="";for(let rt=0,it=et.length;rt<it;rt++)nt+=String.fromCharCode(et[rt]);try{return decodeURIComponent(escape(nt))}catch{return nt}}static extractUrlBase(et){const nt=et.lastIndexOf("/");return nt===-1?"./":et.slice(0,nt+1)}static resolveURL(et,nt){return typeof et!="string"||et===""?"":(/^https?:\/\//i.test(nt)&&/^\//.test(et)&&(nt=nt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(et)||/^data:.*,.*$/i.test(et)||/^blob:.*$/i.test(et)?et:nt+et)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(et){return super.copy(et),this.instanceCount=et.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const et=super.toJSON(this);return et.instanceCount=this.instanceCount,et.isInstancedBufferGeometry=!0,et}}InstancedBufferGeometry.prototype.isInstancedBufferGeometry=!0;class ImageBitmapLoader extends Loader{constructor(et){super(et),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(et){return this.options=et,this}load(et,nt,rt,it){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=this,at=Cache.get(et);if(at!==void 0)return ot.manager.itemStart(et),setTimeout(function(){nt&&nt(at),ot.manager.itemEnd(et)},0),at;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(et,st).then(function(lt){return lt.blob()}).then(function(lt){return createImageBitmap(lt,Object.assign(ot.options,{colorSpaceConversion:"none"}))}).then(function(lt){Cache.add(et,lt),nt&&nt(lt),ot.manager.itemEnd(et)}).catch(function(lt){it&&it(lt),ot.manager.itemError(et),ot.manager.itemEnd(et)}),ot.manager.itemStart(et)}}ImageBitmapLoader.prototype.isImageBitmapLoader=!0;let _context;const AudioContext$1={getContext:function(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context},setContext:function(tt){_context=tt}};class AudioLoader extends Loader{constructor(et){super(et)}load(et,nt,rt,it){const ot=this,at=new FileLoader(this.manager);at.setResponseType("arraybuffer"),at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(st){try{const lt=st.slice(0);AudioContext$1.getContext().decodeAudioData(lt,function(ft){nt(ft)})}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},rt,it)}}class HemisphereLightProbe extends LightProbe{constructor(et,nt,rt=1){super(void 0,rt);const it=new Color().set(et),ot=new Color().set(nt),at=new Vector3(it.r,it.g,it.b),st=new Vector3(ot.r,ot.g,ot.b),lt=Math.sqrt(Math.PI),ct=lt*Math.sqrt(.75);this.sh.coefficients[0].copy(at).add(st).multiplyScalar(lt),this.sh.coefficients[1].copy(at).sub(st).multiplyScalar(ct)}}HemisphereLightProbe.prototype.isHemisphereLightProbe=!0;class AmbientLightProbe extends LightProbe{constructor(et,nt=1){super(void 0,nt);const rt=new Color().set(et);this.sh.coefficients[0].set(rt.r,rt.g,rt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}AmbientLightProbe.prototype.isAmbientLightProbe=!0;class Audio$1 extends Object3D{constructor(et){super(),this.type="Audio",this.listener=et,this.context=et.context,this.gain=this.context.createGain(),this.gain.connect(et.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(et){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=et,this.connect(),this}setMediaElementSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(et),this.connect(),this}setMediaStreamSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(et),this.connect(),this}setBuffer(et){return this.buffer=et,this.sourceType="buffer",this.autoplay&&this.play(),this}play(et=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+et;const nt=this.context.createBufferSource();return nt.buffer=this.buffer,nt.loop=this.loop,nt.loopStart=this.loopStart,nt.loopEnd=this.loopEnd,nt.onended=this.onEnded.bind(this),nt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=nt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let et=1,nt=this.filters.length;et<nt;et++)this.filters[et-1].connect(this.filters[et]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let et=1,nt=this.filters.length;et<nt;et++)this.filters[et-1].disconnect(this.filters[et]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(et){return et||(et=[]),this._connected===!0?(this.disconnect(),this.filters=et.slice(),this.connect()):this.filters=et.slice(),this}setDetune(et){if(this.detune=et,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(et){return this.setFilters(et?[et]:[])}setPlaybackRate(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=et,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=et,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(et){return this.loopStart=et,this}setLoopEnd(et){return this.loopEnd=et,this}getVolume(){return this.gain.gain.value}setVolume(et){return this.gain.gain.setTargetAtTime(et,this.context.currentTime,.01),this}}class PropertyMixer{constructor(et,nt,rt){this.binding=et,this.valueSize=rt;let it,ot,at;switch(nt){case"quaternion":it=this._slerp,ot=this._slerpAdditive,at=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(rt*6),this._workIndex=5;break;case"string":case"bool":it=this._select,ot=this._select,at=this._setAdditiveIdentityOther,this.buffer=new Array(rt*5);break;default:it=this._lerp,ot=this._lerpAdditive,at=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(rt*5)}this._mixBufferRegion=it,this._mixBufferRegionAdditive=ot,this._setIdentity=at,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(et,nt){const rt=this.buffer,it=this.valueSize,ot=et*it+it;let at=this.cumulativeWeight;if(at===0){for(let st=0;st!==it;++st)rt[ot+st]=rt[st];at=nt}else{at+=nt;const st=nt/at;this._mixBufferRegion(rt,ot,0,st,it)}this.cumulativeWeight=at}accumulateAdditive(et){const nt=this.buffer,rt=this.valueSize,it=rt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(nt,it,0,et,rt),this.cumulativeWeightAdditive+=et}apply(et){const nt=this.valueSize,rt=this.buffer,it=et*nt+nt,ot=this.cumulativeWeight,at=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ot<1){const lt=nt*this._origIndex;this._mixBufferRegion(rt,it,lt,1-ot,nt)}at>0&&this._mixBufferRegionAdditive(rt,it,this._addIndex*nt,1,nt);for(let lt=nt,ct=nt+nt;lt!==ct;++lt)if(rt[lt]!==rt[lt+nt]){st.setValue(rt,it);break}}saveOriginalState(){const et=this.binding,nt=this.buffer,rt=this.valueSize,it=rt*this._origIndex;et.getValue(nt,it);for(let ot=rt,at=it;ot!==at;++ot)nt[ot]=nt[it+ot%rt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const et=this.valueSize*3;this.binding.setValue(this.buffer,et)}_setAdditiveIdentityNumeric(){const et=this._addIndex*this.valueSize,nt=et+this.valueSize;for(let rt=et;rt<nt;rt++)this.buffer[rt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const et=this._origIndex*this.valueSize,nt=this._addIndex*this.valueSize;for(let rt=0;rt<this.valueSize;rt++)this.buffer[nt+rt]=this.buffer[et+rt]}_select(et,nt,rt,it,ot){if(it>=.5)for(let at=0;at!==ot;++at)et[nt+at]=et[rt+at]}_slerp(et,nt,rt,it){Quaternion.slerpFlat(et,nt,et,nt,et,rt,it)}_slerpAdditive(et,nt,rt,it,ot){const at=this._workIndex*ot;Quaternion.multiplyQuaternionsFlat(et,at,et,nt,et,rt),Quaternion.slerpFlat(et,nt,et,nt,et,at,it)}_lerp(et,nt,rt,it,ot){const at=1-it;for(let st=0;st!==ot;++st){const lt=nt+st;et[lt]=et[lt]*at+et[rt+st]*it}}_lerpAdditive(et,nt,rt,it,ot){for(let at=0;at!==ot;++at){const st=nt+at;et[st]=et[st]+et[rt+at]*it}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones"];class Composite{constructor(et,nt,rt){const it=rt||PropertyBinding.parseTrackName(nt);this._targetGroup=et,this._bindings=et.subscribe_(nt,it)}getValue(et,nt){this.bind();const rt=this._targetGroup.nCachedObjects_,it=this._bindings[rt];it!==void 0&&it.getValue(et,nt)}setValue(et,nt){const rt=this._bindings;for(let it=this._targetGroup.nCachedObjects_,ot=rt.length;it!==ot;++it)rt[it].setValue(et,nt)}bind(){const et=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=et.length;nt!==rt;++nt)et[nt].bind()}unbind(){const et=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=et.length;nt!==rt;++nt)et[nt].unbind()}}class PropertyBinding{constructor(et,nt,rt){this.path=nt,this.parsedPath=rt||PropertyBinding.parseTrackName(nt),this.node=PropertyBinding.findNode(et,this.parsedPath.nodeName)||et,this.rootNode=et,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(et,nt,rt){return et&&et.isAnimationObjectGroup?new PropertyBinding.Composite(et,nt,rt):new PropertyBinding(et,nt,rt)}static sanitizeNodeName(et){return et.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(et){const nt=_trackRe.exec(et);if(nt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+et);const rt={nodeName:nt[2],objectName:nt[3],objectIndex:nt[4],propertyName:nt[5],propertyIndex:nt[6]},it=rt.nodeName&&rt.nodeName.lastIndexOf(".");if(it!==void 0&&it!==-1){const ot=rt.nodeName.substring(it+1);_supportedObjectNames.indexOf(ot)!==-1&&(rt.nodeName=rt.nodeName.substring(0,it),rt.objectName=ot)}if(rt.propertyName===null||rt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+et);return rt}static findNode(et,nt){if(nt===void 0||nt===""||nt==="."||nt===-1||nt===et.name||nt===et.uuid)return et;if(et.skeleton){const rt=et.skeleton.getBoneByName(nt);if(rt!==void 0)return rt}if(et.children){const rt=function(ot){for(let at=0;at<ot.length;at++){const st=ot[at];if(st.name===nt||st.uuid===nt)return st;const lt=rt(st.children);if(lt)return lt}return null},it=rt(et.children);if(it)return it}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(et,nt){et[nt]=this.targetObject[this.propertyName]}_getValue_array(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)et[nt++]=rt[it]}_getValue_arrayElement(et,nt){et[nt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(et,nt){this.resolvedProperty.toArray(et,nt)}_setValue_direct(et,nt){this.targetObject[this.propertyName]=et[nt]}_setValue_direct_setNeedsUpdate(et,nt){this.targetObject[this.propertyName]=et[nt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(et,nt){this.targetObject[this.propertyName]=et[nt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)rt[it]=et[nt++]}_setValue_array_setNeedsUpdate(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)rt[it]=et[nt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(et,nt){const rt=this.resolvedProperty;for(let it=0,ot=rt.length;it!==ot;++it)rt[it]=et[nt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(et,nt){this.resolvedProperty[this.propertyIndex]=et[nt]}_setValue_arrayElement_setNeedsUpdate(et,nt){this.resolvedProperty[this.propertyIndex]=et[nt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(et,nt){this.resolvedProperty[this.propertyIndex]=et[nt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(et,nt){this.resolvedProperty.fromArray(et,nt)}_setValue_fromArray_setNeedsUpdate(et,nt){this.resolvedProperty.fromArray(et,nt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(et,nt){this.resolvedProperty.fromArray(et,nt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(et,nt){this.bind(),this.getValue(et,nt)}_setValue_unbound(et,nt){this.bind(),this.setValue(et,nt)}bind(){let et=this.node;const nt=this.parsedPath,rt=nt.objectName,it=nt.propertyName;let ot=nt.propertyIndex;if(et||(et=PropertyBinding.findNode(this.rootNode,nt.nodeName)||this.rootNode,this.node=et),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!et){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(rt){let ct=nt.objectIndex;switch(rt){case"materials":if(!et.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!et.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}et=et.material.materials;break;case"bones":if(!et.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}et=et.skeleton.bones;for(let ft=0;ft<et.length;ft++)if(et[ft].name===ct){ct=ft;break}break;default:if(et[rt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}et=et[rt]}if(ct!==void 0){if(et[ct]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,et);return}et=et[ct]}}const at=et[it];if(at===void 0){const ct=nt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ct+"."+it+" but it wasn't found.",et);return}let st=this.Versioning.None;this.targetObject=et,et.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:et.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let lt=this.BindingType.Direct;if(ot!==void 0){if(it==="morphTargetInfluences"){if(!et.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(et.geometry.isBufferGeometry){if(!et.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}et.morphTargetDictionary[ot]!==void 0&&(ot=et.morphTargetDictionary[ot])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}lt=this.BindingType.ArrayElement,this.resolvedProperty=at,this.propertyIndex=ot}else at.fromArray!==void 0&&at.toArray!==void 0?(lt=this.BindingType.HasFromToArray,this.resolvedProperty=at):Array.isArray(at)?(lt=this.BindingType.EntireArray,this.resolvedProperty=at):this.propertyName=it;this.getValue=this.GetterByBindingType[lt],this.setValue=this.SetterByBindingTypeAndVersioning[lt][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationAction{constructor(et,nt,rt=null,it=nt.blendMode){this._mixer=et,this._clip=nt,this._localRoot=rt,this.blendMode=it;const ot=nt.tracks,at=ot.length,st=new Array(at),lt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ct=0;ct!==at;++ct){const ft=ot[ct].createInterpolant(null);st[ct]=ft,ft.settings=lt}this._interpolantSettings=lt,this._interpolants=st,this._propertyBindings=new Array(at),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(et){return this._startTime=et,this}setLoop(et,nt){return this.loop=et,this.repetitions=nt,this}setEffectiveWeight(et){return this.weight=et,this._effectiveWeight=this.enabled?et:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(et){return this._scheduleFading(et,0,1)}fadeOut(et){return this._scheduleFading(et,1,0)}crossFadeFrom(et,nt,rt){if(et.fadeOut(nt),this.fadeIn(nt),rt){const it=this._clip.duration,ot=et._clip.duration,at=ot/it,st=it/ot;et.warp(1,at,nt),this.warp(st,1,nt)}return this}crossFadeTo(et,nt,rt){return et.crossFadeFrom(this,nt,rt)}stopFading(){const et=this._weightInterpolant;return et!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}setEffectiveTimeScale(et){return this.timeScale=et,this._effectiveTimeScale=this.paused?0:et,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(et){return this.timeScale=this._clip.duration/et,this.stopWarping()}syncWith(et){return this.time=et.time,this.timeScale=et.timeScale,this.stopWarping()}halt(et){return this.warp(this._effectiveTimeScale,0,et)}warp(et,nt,rt){const it=this._mixer,ot=it.time,at=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=it._lendControlInterpolant(),this._timeScaleInterpolant=st);const lt=st.parameterPositions,ct=st.sampleValues;return lt[0]=ot,lt[1]=ot+rt,ct[0]=et/at,ct[1]=nt/at,this}stopWarping(){const et=this._timeScaleInterpolant;return et!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(et,nt,rt,it){if(!this.enabled){this._updateWeight(et);return}const ot=this._startTime;if(ot!==null){const lt=(et-ot)*rt;if(lt<0||rt===0)return;this._startTime=null,nt=rt*lt}nt*=this._updateTimeScale(et);const at=this._updateTime(nt),st=this._updateWeight(et);if(st>0){const lt=this._interpolants,ct=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ft=0,ut=lt.length;ft!==ut;++ft)lt[ft].evaluate(at),ct[ft].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let ft=0,ut=lt.length;ft!==ut;++ft)lt[ft].evaluate(at),ct[ft].accumulate(it,st)}}}_updateWeight(et){let nt=0;if(this.enabled){nt=this.weight;const rt=this._weightInterpolant;if(rt!==null){const it=rt.evaluate(et)[0];nt*=it,et>rt.parameterPositions[1]&&(this.stopFading(),it===0&&(this.enabled=!1))}}return this._effectiveWeight=nt,nt}_updateTimeScale(et){let nt=0;if(!this.paused){nt=this.timeScale;const rt=this._timeScaleInterpolant;rt!==null&&(nt*=rt.evaluate(et)[0],et>rt.parameterPositions[1]&&(this.stopWarping(),nt===0?this.paused=!0:this.timeScale=nt))}return this._effectiveTimeScale=nt,nt}_updateTime(et){const nt=this._clip.duration,rt=this.loop;let it=this.time+et,ot=this._loopCount;const at=rt===LoopPingPong;if(et===0)return ot===-1?it:at&&(ot&1)===1?nt-it:it;if(rt===LoopOnce){ot===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(it>=nt)it=nt;else if(it<0)it=0;else{this.time=it;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:et<0?-1:1})}}else{if(ot===-1&&(et>=0?(ot=0,this._setEndings(!0,this.repetitions===0,at)):this._setEndings(this.repetitions===0,!0,at)),it>=nt||it<0){const st=Math.floor(it/nt);it-=nt*st,ot+=Math.abs(st);const lt=this.repetitions-ot;if(lt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,it=et>0?nt:0,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:et>0?1:-1});else{if(lt===1){const ct=et<0;this._setEndings(ct,!ct,at)}else this._setEndings(!1,!1,at);this._loopCount=ot,this.time=it,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=it;if(at&&(ot&1)===1)return nt-it}return it}_setEndings(et,nt,rt){const it=this._interpolantSettings;rt?(it.endingStart=ZeroSlopeEnding,it.endingEnd=ZeroSlopeEnding):(et?it.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:it.endingStart=WrapAroundEnding,nt?it.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:it.endingEnd=WrapAroundEnding)}_scheduleFading(et,nt,rt){const it=this._mixer,ot=it.time;let at=this._weightInterpolant;at===null&&(at=it._lendControlInterpolant(),this._weightInterpolant=at);const st=at.parameterPositions,lt=at.sampleValues;return st[0]=ot,lt[0]=nt,st[1]=ot+et,lt[1]=rt,this}}class AnimationMixer extends EventDispatcher{constructor(et){super(),this._root=et,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(et,nt){const rt=et._localRoot||this._root,it=et._clip.tracks,ot=it.length,at=et._propertyBindings,st=et._interpolants,lt=rt.uuid,ct=this._bindingsByRootAndName;let ft=ct[lt];ft===void 0&&(ft={},ct[lt]=ft);for(let ut=0;ut!==ot;++ut){const dt=it[ut],ht=dt.name;let pt=ft[ht];if(pt!==void 0)++pt.referenceCount,at[ut]=pt;else{if(pt=at[ut],pt!==void 0){pt._cacheIndex===null&&(++pt.referenceCount,this._addInactiveBinding(pt,lt,ht));continue}const gt=nt&&nt._propertyBindings[ut].binding.parsedPath;pt=new PropertyMixer(PropertyBinding.create(rt,ht,gt),dt.ValueTypeName,dt.getValueSize()),++pt.referenceCount,this._addInactiveBinding(pt,lt,ht),at[ut]=pt}st[ut].resultBuffer=pt.buffer}}_activateAction(et){if(!this._isActiveAction(et)){if(et._cacheIndex===null){const rt=(et._localRoot||this._root).uuid,it=et._clip.uuid,ot=this._actionsByClip[it];this._bindAction(et,ot&&ot.knownActions[0]),this._addInactiveAction(et,it,rt)}const nt=et._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];ot.useCount++===0&&(this._lendBinding(ot),ot.saveOriginalState())}this._lendAction(et)}}_deactivateAction(et){if(this._isActiveAction(et)){const nt=et._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];--ot.useCount===0&&(ot.restoreOriginalState(),this._takeBackBinding(ot))}this._takeBackAction(et)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const et=this;this.stats={actions:{get total(){return et._actions.length},get inUse(){return et._nActiveActions}},bindings:{get total(){return et._bindings.length},get inUse(){return et._nActiveBindings}},controlInterpolants:{get total(){return et._controlInterpolants.length},get inUse(){return et._nActiveControlInterpolants}}}}_isActiveAction(et){const nt=et._cacheIndex;return nt!==null&&nt<this._nActiveActions}_addInactiveAction(et,nt,rt){const it=this._actions,ot=this._actionsByClip;let at=ot[nt];if(at===void 0)at={knownActions:[et],actionByRoot:{}},et._byClipCacheIndex=0,ot[nt]=at;else{const st=at.knownActions;et._byClipCacheIndex=st.length,st.push(et)}et._cacheIndex=it.length,it.push(et),at.actionByRoot[rt]=et}_removeInactiveAction(et){const nt=this._actions,rt=nt[nt.length-1],it=et._cacheIndex;rt._cacheIndex=it,nt[it]=rt,nt.pop(),et._cacheIndex=null;const ot=et._clip.uuid,at=this._actionsByClip,st=at[ot],lt=st.knownActions,ct=lt[lt.length-1],ft=et._byClipCacheIndex;ct._byClipCacheIndex=ft,lt[ft]=ct,lt.pop(),et._byClipCacheIndex=null;const ut=st.actionByRoot,dt=(et._localRoot||this._root).uuid;delete ut[dt],lt.length===0&&delete at[ot],this._removeInactiveBindingsForAction(et)}_removeInactiveBindingsForAction(et){const nt=et._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const ot=nt[rt];--ot.referenceCount===0&&this._removeInactiveBinding(ot)}}_lendAction(et){const nt=this._actions,rt=et._cacheIndex,it=this._nActiveActions++,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_takeBackAction(et){const nt=this._actions,rt=et._cacheIndex,it=--this._nActiveActions,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_addInactiveBinding(et,nt,rt){const it=this._bindingsByRootAndName,ot=this._bindings;let at=it[nt];at===void 0&&(at={},it[nt]=at),at[rt]=et,et._cacheIndex=ot.length,ot.push(et)}_removeInactiveBinding(et){const nt=this._bindings,rt=et.binding,it=rt.rootNode.uuid,ot=rt.path,at=this._bindingsByRootAndName,st=at[it],lt=nt[nt.length-1],ct=et._cacheIndex;lt._cacheIndex=ct,nt[ct]=lt,nt.pop(),delete st[ot],Object.keys(st).length===0&&delete at[it]}_lendBinding(et){const nt=this._bindings,rt=et._cacheIndex,it=this._nActiveBindings++,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_takeBackBinding(et){const nt=this._bindings,rt=et._cacheIndex,it=--this._nActiveBindings,ot=nt[it];et._cacheIndex=it,nt[it]=et,ot._cacheIndex=rt,nt[rt]=ot}_lendControlInterpolant(){const et=this._controlInterpolants,nt=this._nActiveControlInterpolants++;let rt=et[nt];return rt===void 0&&(rt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),rt.__cacheIndex=nt,et[nt]=rt),rt}_takeBackControlInterpolant(et){const nt=this._controlInterpolants,rt=et.__cacheIndex,it=--this._nActiveControlInterpolants,ot=nt[it];et.__cacheIndex=it,nt[it]=et,ot.__cacheIndex=rt,nt[rt]=ot}clipAction(et,nt,rt){const it=nt||this._root,ot=it.uuid;let at=typeof et=="string"?AnimationClip.findByName(it,et):et;const st=at!==null?at.uuid:et,lt=this._actionsByClip[st];let ct=null;if(rt===void 0&&(at!==null?rt=at.blendMode:rt=NormalAnimationBlendMode),lt!==void 0){const ut=lt.actionByRoot[ot];if(ut!==void 0&&ut.blendMode===rt)return ut;ct=lt.knownActions[0],at===null&&(at=ct._clip)}if(at===null)return null;const ft=new AnimationAction(this,at,nt,rt);return this._bindAction(ft,ct),this._addInactiveAction(ft,st,ot),ft}existingAction(et,nt){const rt=nt||this._root,it=rt.uuid,ot=typeof et=="string"?AnimationClip.findByName(rt,et):et,at=ot?ot.uuid:et,st=this._actionsByClip[at];return st!==void 0&&st.actionByRoot[it]||null}stopAllAction(){const et=this._actions,nt=this._nActiveActions;for(let rt=nt-1;rt>=0;--rt)et[rt].stop();return this}update(et){et*=this.timeScale;const nt=this._actions,rt=this._nActiveActions,it=this.time+=et,ot=Math.sign(et),at=this._accuIndex^=1;for(let ct=0;ct!==rt;++ct)nt[ct]._update(it,et,ot,at);const st=this._bindings,lt=this._nActiveBindings;for(let ct=0;ct!==lt;++ct)st[ct].apply(at);return this}setTime(et){this.time=0;for(let nt=0;nt<this._actions.length;nt++)this._actions[nt].time=0;return this.update(et)}getRoot(){return this._root}uncacheClip(et){const nt=this._actions,rt=et.uuid,it=this._actionsByClip,ot=it[rt];if(ot!==void 0){const at=ot.knownActions;for(let st=0,lt=at.length;st!==lt;++st){const ct=at[st];this._deactivateAction(ct);const ft=ct._cacheIndex,ut=nt[nt.length-1];ct._cacheIndex=null,ct._byClipCacheIndex=null,ut._cacheIndex=ft,nt[ft]=ut,nt.pop(),this._removeInactiveBindingsForAction(ct)}delete it[rt]}}uncacheRoot(et){const nt=et.uuid,rt=this._actionsByClip;for(const at in rt){const st=rt[at].actionByRoot,lt=st[nt];lt!==void 0&&(this._deactivateAction(lt),this._removeInactiveAction(lt))}const it=this._bindingsByRootAndName,ot=it[nt];if(ot!==void 0)for(const at in ot){const st=ot[at];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(et,nt){const rt=this.existingAction(et,nt);rt!==null&&(this._deactivateAction(rt),this._removeInactiveAction(rt))}}AnimationMixer.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(et,nt,rt=1){super(et,nt),this.meshPerAttribute=rt}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}clone(et){const nt=super.clone(et);return nt.meshPerAttribute=this.meshPerAttribute,nt}toJSON(et){const nt=super.toJSON(et);return nt.isInstancedInterleavedBuffer=!0,nt.meshPerAttribute=this.meshPerAttribute,nt}}InstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer=!0;const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(et){const nt=getBoneList(et),rt=new BufferGeometry,it=[],ot=[],at=new Color(0,0,1),st=new Color(0,1,0);for(let ct=0;ct<nt.length;ct++){const ft=nt[ct];ft.parent&&ft.parent.isBone&&(it.push(0,0,0),it.push(0,0,0),ot.push(at.r,at.g,at.b),ot.push(st.r,st.g,st.b))}rt.setAttribute("position",new Float32BufferAttribute(it,3)),rt.setAttribute("color",new Float32BufferAttribute(ot,3));const lt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(rt,lt),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=et,this.bones=nt,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(et){const nt=this.bones,rt=this.geometry,it=rt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let ot=0,at=0;ot<nt.length;ot++){const st=nt[ot];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),it.setXYZ(at,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),it.setXYZ(at+1,_vector$2.x,_vector$2.y,_vector$2.z),at+=2)}rt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(et)}}function getBoneList(tt){const et=[];tt.isBone===!0&&et.push(tt);for(let nt=0;nt<tt.children.length;nt++)et.push.apply(et,getBoneList(tt.children[nt]));return et}class GridHelper extends LineSegments{constructor(et=10,nt=10,rt=4473924,it=8947848){rt=new Color(rt),it=new Color(it);const ot=nt/2,at=et/nt,st=et/2,lt=[],ct=[];for(let dt=0,ht=0,pt=-st;dt<=nt;dt++,pt+=at){lt.push(-st,0,pt,st,0,pt),lt.push(pt,0,-st,pt,0,st);const gt=dt===ot?rt:it;gt.toArray(ct,ht),ht+=3,gt.toArray(ct,ht),ht+=3,gt.toArray(ct,ht),ht+=3,gt.toArray(ct,ht),ht+=3}const ft=new BufferGeometry;ft.setAttribute("position",new Float32BufferAttribute(lt,3)),ft.setAttribute("color",new Float32BufferAttribute(ct,3));const ut=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ft,ut),this.type="GridHelper"}}const _baseTable=new Uint32Array(512),_shiftTable=new Uint32Array(512);for(let tt=0;tt<256;++tt){const et=tt-127;et<-27?(_baseTable[tt]=0,_baseTable[tt|256]=32768,_shiftTable[tt]=24,_shiftTable[tt|256]=24):et<-14?(_baseTable[tt]=1024>>-et-14,_baseTable[tt|256]=1024>>-et-14|32768,_shiftTable[tt]=-et-1,_shiftTable[tt|256]=-et-1):et<=15?(_baseTable[tt]=et+15<<10,_baseTable[tt|256]=et+15<<10|32768,_shiftTable[tt]=13,_shiftTable[tt|256]=13):et<128?(_baseTable[tt]=31744,_baseTable[tt|256]=64512,_shiftTable[tt]=24,_shiftTable[tt|256]=24):(_baseTable[tt]=31744,_baseTable[tt|256]=64512,_shiftTable[tt]=13,_shiftTable[tt|256]=13)}const _mantissaTable=new Uint32Array(2048),_exponentTable=new Uint32Array(64),_offsetTable=new Uint32Array(64);for(let tt=1;tt<1024;++tt){let et=tt<<13,nt=0;for(;(et&8388608)===0;)et<<=1,nt-=8388608;et&=-8388609,nt+=947912704,_mantissaTable[tt]=et|nt}for(let tt=1024;tt<2048;++tt)_mantissaTable[tt]=939524096+(tt-1024<<13);for(let tt=1;tt<31;++tt)_exponentTable[tt]=tt<<23;_exponentTable[31]=1199570944;_exponentTable[32]=2147483648;for(let tt=33;tt<63;++tt)_exponentTable[tt]=2147483648+(tt-32<<23);_exponentTable[63]=3347054592;for(let tt=1;tt<64;++tt)tt!==32&&(_offsetTable[tt]=1024);Curve.create=function(tt,et){return console.log("THREE.Curve.create() has been deprecated"),tt.prototype=Object.create(Curve.prototype),tt.prototype.constructor=tt,tt.prototype.getPoint=et,tt};Path.prototype.fromPoints=function(tt){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(tt)};GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Loader.prototype.extractUrlBase=function(tt){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),LoaderUtils.extractUrlBase(tt)};Loader.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Box3.prototype.center=function(tt){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(tt)};Box3.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Box3.prototype.isIntersectionBox=function(tt){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(tt)};Box3.prototype.isIntersectionSphere=function(tt){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(tt)};Box3.prototype.size=function(tt){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(tt)};Euler.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Sphere.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Frustum.prototype.setFromMatrix=function(tt){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(tt)};Matrix3.prototype.flattenToArrayOffset=function(tt,et){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(tt,et)};Matrix3.prototype.multiplyVector3=function(tt){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),tt.applyMatrix3(this)};Matrix3.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Matrix3.prototype.applyToBufferAttribute=function(tt){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),tt.applyMatrix3(this)};Matrix3.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Matrix3.prototype.getInverse=function(tt){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(tt).invert()};Matrix4.prototype.extractPosition=function(tt){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(tt)};Matrix4.prototype.flattenToArrayOffset=function(tt,et){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(tt,et)};Matrix4.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Vector3().setFromMatrixColumn(this,3)};Matrix4.prototype.setRotationFromQuaternion=function(tt){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(tt)};Matrix4.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Matrix4.prototype.multiplyVector3=function(tt){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4.prototype.multiplyVector4=function(tt){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Matrix4.prototype.rotateAxis=function(tt){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),tt.transformDirection(this)};Matrix4.prototype.crossVector=function(tt){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Matrix4.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Matrix4.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Matrix4.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Matrix4.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Matrix4.prototype.applyToBufferAttribute=function(tt){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),tt.applyMatrix4(this)};Matrix4.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Matrix4.prototype.makeFrustum=function(tt,et,nt,rt,it,ot){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(tt,et,rt,nt,it,ot)};Matrix4.prototype.getInverse=function(tt){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(tt).invert()};Plane.prototype.isIntersectionLine=function(tt){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(tt)};Quaternion.prototype.multiplyVector3=function(tt){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),tt.applyQuaternion(this)};Quaternion.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ray.prototype.isIntersectionBox=function(tt){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(tt)};Ray.prototype.isIntersectionPlane=function(tt){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(tt)};Ray.prototype.isIntersectionSphere=function(tt){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(tt)};Triangle.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Triangle.prototype.barycoordFromPoint=function(tt,et){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(tt,et)};Triangle.prototype.midpoint=function(tt){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(tt)};Triangle.prototypenormal=function(tt){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(tt)};Triangle.prototype.plane=function(tt){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(tt)};Triangle.barycoordFromPoint=function(tt,et,nt,rt,it){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(tt,et,nt,rt,it)};Triangle.normal=function(tt,et,nt,rt){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(tt,et,nt,rt)};Shape.prototype.extractAllPoints=function(tt){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(tt)};Shape.prototype.extrude=function(tt){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,tt)};Shape.prototype.makeGeometry=function(tt){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,tt)};Vector2.prototype.fromAttribute=function(tt,et,nt){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(tt,et,nt)};Vector2.prototype.distanceToManhattan=function(tt){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(tt)};Vector2.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector3.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Vector3.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Vector3.prototype.getPositionFromMatrix=function(tt){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(tt)};Vector3.prototype.getScaleFromMatrix=function(tt){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(tt)};Vector3.prototype.getColumnFromMatrix=function(tt,et){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(et,tt)};Vector3.prototype.applyProjection=function(tt){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(tt)};Vector3.prototype.fromAttribute=function(tt,et,nt){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(tt,et,nt)};Vector3.prototype.distanceToManhattan=function(tt){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(tt)};Vector3.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Vector4.prototype.fromAttribute=function(tt,et,nt){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(tt,et,nt)};Vector4.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Object3D.prototype.getChildByName=function(tt){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(tt)};Object3D.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Object3D.prototype.translate=function(tt,et){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(et,tt)};Object3D.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Object3D.prototype.applyMatrix=function(tt){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(tt)};Object.defineProperties(Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(tt){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=tt}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Mesh.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Mesh.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),TrianglesDrawMode},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});SkinnedMesh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};PerspectiveCamera.prototype.setLens=function(tt,et){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),et!==void 0&&(this.filmGauge=et),this.setFocalLength(tt)};Object.defineProperties(Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(tt){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=tt}},shadowCameraLeft:{set:function(tt){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=tt}},shadowCameraRight:{set:function(tt){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=tt}},shadowCameraTop:{set:function(tt){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=tt}},shadowCameraBottom:{set:function(tt){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=tt}},shadowCameraNear:{set:function(tt){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=tt}},shadowCameraFar:{set:function(tt){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=tt}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(tt){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=tt}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(tt){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=tt}},shadowMapHeight:{set:function(tt){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=tt}}});Object.defineProperties(BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===DynamicDrawUsage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(DynamicDrawUsage)}}});BufferAttribute.prototype.setDynamic=function(tt){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(tt===!0?DynamicDrawUsage:StaticDrawUsage),this};BufferAttribute.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},BufferAttribute.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};BufferGeometry.prototype.addIndex=function(tt){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(tt)};BufferGeometry.prototype.addAttribute=function(tt,et){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(et&&et.isBufferAttribute)&&!(et&&et.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(tt,new BufferAttribute(arguments[1],arguments[2]))):tt==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(et),this):this.setAttribute(tt,et)};BufferGeometry.prototype.addDrawCall=function(tt,et,nt){nt!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(tt,et)};BufferGeometry.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};BufferGeometry.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};BufferGeometry.prototype.removeAttribute=function(tt){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(tt)};BufferGeometry.prototype.applyMatrix=function(tt){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(tt)};Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});InterleavedBuffer.prototype.setDynamic=function(tt){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(tt===!0?DynamicDrawUsage:StaticDrawUsage),this};InterleavedBuffer.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ExtrudeGeometry.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ExtrudeGeometry.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ExtrudeGeometry.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Scene.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Material.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Color}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(tt){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=tt===FlatShading}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(tt){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=tt}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(tt){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=tt}}});WebGLRenderer.prototype.clearTarget=function(tt,et,nt,rt){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(tt),this.clear(et,nt,rt)};WebGLRenderer.prototype.animate=function(tt){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(tt)};WebGLRenderer.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};WebGLRenderer.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};WebGLRenderer.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};WebGLRenderer.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};WebGLRenderer.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};WebGLRenderer.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};WebGLRenderer.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};WebGLRenderer.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};WebGLRenderer.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};WebGLRenderer.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};WebGLRenderer.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};WebGLRenderer.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};WebGLRenderer.prototype.enableScissorTest=function(tt){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(tt)};WebGLRenderer.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};WebGLRenderer.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};WebGLRenderer.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};WebGLRenderer.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};WebGLRenderer.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};WebGLRenderer.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};WebGLRenderer.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};WebGLRenderer.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};WebGLRenderer.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};WebGLRenderer.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(tt){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=tt}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(tt){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=tt}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(tt){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=tt===!0?sRGBEncoding:LinearEncoding}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(tt){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=tt}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(tt){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=tt}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(tt){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=tt}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(tt){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=tt}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(tt){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=tt}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(tt){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=tt}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(tt){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=tt}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(tt){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=tt}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(tt){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=tt}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(tt){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=tt}}});Audio$1.prototype.load=function(tt){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const et=this;return new AudioLoader().load(tt,function(rt){et.setBuffer(rt)}),this};CubeCamera.prototype.updateCubeMap=function(tt,et){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(tt,et)};CubeCamera.prototype.clear=function(tt,et,nt,rt){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(tt,et,nt,rt)};ImageUtils.crossOrigin=void 0;ImageUtils.loadTexture=function(tt,et,nt,rt){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const it=new TextureLoader;it.setCrossOrigin(this.crossOrigin);const ot=it.load(tt,nt,void 0,rt);return et&&(ot.mapping=et),ot};ImageUtils.loadTextureCube=function(tt,et,nt,rt){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const it=new CubeTextureLoader;it.setCrossOrigin(this.crossOrigin);const ot=it.load(tt,nt,void 0,rt);return et&&(ot.mapping=et),ot};ImageUtils.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ImageUtils.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);class HandsLayer extends UniverseLayer{constructor(){super(...arguments);io(this,"labelLeft",new Label(""));io(this,"labelRight",new Label(""))}onHandsEnter(nt){nt[0].add(this.labelLeft),nt[1].add(this.labelRight)}onHandPosesChanged(nt){this.labelLeft.text=`${nt[0].getHandPose()}`,this.labelRight.text=`${nt[1].getHandPose()}`,nt[0].getHandPose()==="pinch"&&this.playSound("https://formant-3d-models.s3.us-west-2.amazonaws.com/levelup.wav",1,!1,new Vector3(0,2,0)),nt[1].getHandPose()==="pinch"&&this.playSound("https://formant-3d-models.s3.us-west-2.amazonaws.com/levelup.wav",1,!1)}onHandsMoved(nt){const rt=nt[0].getJoint("wrist");rt&&this.labelLeft.position.set(rt.position.x,rt.position.y,rt.position.z);const it=nt[1].getJoint("wrist");it&&this.labelRight.position.set(it.position.x,it.position.y,it.position.z)}}io(HandsLayer,"layerTypeId","hands"),io(HandsLayer,"commonName","Hands"),io(HandsLayer,"description","This is a scene that shows hand poses");class XboxLayer extends UniverseLayer{onHandheldControllerAxisChanged(et,nt,rt){console.log(nt,rt)}onHandheldControllerButtonChanged(et,nt,rt){console.log(nt,rt),et.vibrate({startDelay:0,duration:200,weakMagnitude:1,strongMagnitude:1})}}io(XboxLayer,"layerTypeId","xbox"),io(XboxLayer,"commonName","Xbox"),io(XboxLayer,"description","Layer for xbox controlls."),io(XboxLayer,"usesData",!1);const queryString=window.location.search,urlParams=new URLSearchParams(queryString),mode=urlParams.get("mode"),vr=urlParams.get("vr");LayerRegistry.register(TeleportLayer);LayerRegistry.register(HandsLayer);LayerRegistry.register(XboxLayer);function App(){const tt=new SimulatedUniverseData;return App$1.isModule()?App$1.addModuleDataListener(et=>{tt.setTime(et.time)}):window.setInterval(()=>{tt.setTime(Date.now())},60/12),react.exports.createElement(Universe,{universeData:tt,mode:mode==="edit"||mode==="view"||mode==="no-interaction"?mode:"edit",initialSceneGraph:createScene(),onSceneGraphChange:et=>{console.log(JSON.stringify(et))},vr:vr==="true"})}const container=document.getElementById("app");container&&createRoot(container).render(react.exports.createElement(FormantProvider,null,react.exports.createElement(App,null)));
